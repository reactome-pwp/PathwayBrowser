(self.webpackChunkpathway_browser=self.webpackChunkpathway_browser||[]).push([[179],{817:(xe,at,de)=>{"use strict";function pe(e){return"function"==typeof e}function V(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Fe=V(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Oe(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ue{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(pe(r))try{r()}catch(s){t=s instanceof Fe?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{St(s)}catch(u){t=t??[],u instanceof Fe?t=[...t,...u.errors]:t.push(u)}}if(t)throw new Fe(t)}}add(t){var n;if(t&&t!==this)if(this.closed)St(t);else{if(t instanceof Ue){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Oe(n,t)}remove(t){const{_finalizers:n}=this;n&&Oe(n,t),t instanceof Ue&&t._removeParent(this)}}Ue.EMPTY=(()=>{const e=new Ue;return e.closed=!0,e})();const Le=Ue.EMPTY;function ht(e){return e instanceof Ue||e&&"closed"in e&&pe(e.remove)&&pe(e.add)&&pe(e.unsubscribe)}function St(e){pe(e)?e():e.unsubscribe()}const It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kt={setTimeout(e,t,...n){const{delegate:r}=kt;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=kt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function jn(e){kt.setTimeout(()=>{const{onUnhandledError:t}=It;if(!t)throw e;t(e)})}function yn(){}const Ar=Fn("C",void 0,void 0);function Fn(e,t,n){return{kind:e,value:t,error:n}}let bn=null;function tt(e){if(It.useDeprecatedSynchronousErrorHandling){const t=!bn;if(t&&(bn={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=bn;if(bn=null,n)throw r}}else e()}class Et extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ht(t)&&t.add(this)):this.destination=To}static create(t,n,r){return new Mn(t,n,r)}next(t){this.isStopped?Yo(function Zn(e){return Fn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Yo(function vr(e){return Fn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yo(Ar,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function Ln(e,t){return Rt.call(e,t)}class jt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){fr(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){fr(r)}else fr(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){fr(n)}}}class Mn extends Et{constructor(t,n,r){let i;if(super(),pe(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&It.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ln(t.next,s),error:t.error&&Ln(t.error,s),complete:t.complete&&Ln(t.complete,s)}):i=t}this.destination=new jt(i)}}function fr(e){It.useDeprecatedSynchronousErrorHandling?function pt(e){It.useDeprecatedSynchronousErrorHandling&&bn&&(bn.errorThrown=!0,bn.error=e)}(e):jn(e)}function Yo(e,t){const{onStoppedNotification:n}=It;n&&kt.setTimeout(()=>n(e,t))}const To={closed:!0,next:yn,error:function Zi(e){throw e},complete:yn},Nr="function"==typeof Symbol&&Symbol.observable||"@@observable";function lt(e){return e}function Pn(e){return 0===e.length?lt:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Mt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Dd(e){return e&&e instanceof Et||function gt(e){return e&&pe(e.next)&&pe(e.error)&&pe(e.complete)}(e)&&ht(e)}(n)?n:new Mn(n,r,i);return tt(()=>{const{operator:u,source:h}=this;s.add(u?u.call(s,h):h?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ra(r))((i,s)=>{const u=new Mn({next:h=>{try{n(h)}catch(m){s(m),u.unsubscribe()}},error:s,complete:i});this.subscribe(u)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Nr](){return this}pipe(...n){return Pn(n)(this)}toPromise(n){return new(n=ra(n))((r,i)=>{let s;this.subscribe(u=>s=u,u=>i(u),()=>r(s))})}}return e.create=t=>new e(t),e})();function ra(e){var t;return null!==(t=e??It.Promise)&&void 0!==t?t:Promise}const Io=V(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zt=(()=>{class e extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new au(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Io}next(n){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Le:(this.currentObservers=null,s.push(n),new Ue(()=>{this.currentObservers=null,Oe(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Mt;return n.source=this,n}}return e.create=(t,n)=>new au(t,n),e})();class au extends Zt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Le}}function Qf(e){return pe(e?.lift)}function ar(e){return t=>{if(Qf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function hr(e,t,n,r,i){return new Jm(e,t,n,r,i)}class Jm extends Et{constructor(t,n,r,i,s,u){super(t),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=n?function(h){try{n(h)}catch(m){t.error(m)}}:super._next,this._error=i?function(h){try{i(h)}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function sn(e,t){return ar((n,r)=>{let i=0;n.subscribe(hr(r,s=>{r.next(e.call(t,s,i++))}))})}function Rs(e){return this instanceof Rs?(this.v=e,this):new Rs(e)}function Md(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Xf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(u){return new Promise(function(h,m){!function i(s,u,h,m){Promise.resolve(m).then(function(E){s({value:E,done:h})},u)}(h,m,(u=e[s](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Pd=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function fu(e){return pe(e?.then)}function hu(e){return pe(e[Nr])}function nh(e){return Symbol.asyncIterator&&pe(e?.[Symbol.asyncIterator])}function sa(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Zp=function Od(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ps(e){return pe(e?.[Zp])}function rh(e){return function Sd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(O){r[O]&&(i[O]=function($){return new Promise(function(ee,ne){s.push([O,$,ee,ne])>1||h(O,$)})})}function h(O,$){try{!function m(O){O.value instanceof Rs?Promise.resolve(O.value.v).then(E,x):I(s[0][2],O)}(r[O]($))}catch(ee){I(s[0][3],ee)}}function E(O){h("next",O)}function x(O){h("throw",O)}function I(O,$){O($),s.shift(),s.length&&h(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Rs(n.read());if(i)return yield Rs(void 0);yield yield Rs(r)}}finally{n.releaseLock()}})}function Nd(e){return pe(e?.getReader)}function Fi(e){if(e instanceof Mt)return e;if(null!=e){if(hu(e))return function ov(e){return new Mt(t=>{const n=e[Nr]();if(pe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Pd(e))return function sv(e){return new Mt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(fu(e))return function ih(e){return new Mt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,jn)})}(e);if(nh(e))return fc(e);if(Ps(e))return function Yp(e){return new Mt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Nd(e))return function Qp(e){return fc(rh(e))}(e)}throw sa(e)}function fc(e){return new Mt(t=>{(function oh(e,t){var n,r,i,s;return function cu(e,t,n,r){return new(n||(n=Promise))(function(s,u){function h(x){try{E(r.next(x))}catch(I){u(I)}}function m(x){try{E(r.throw(x))}catch(I){u(I)}}function E(x){x.done?s(x.value):function i(s){return s instanceof n?s:new n(function(u){u(s)})}(x.value).then(h,m)}E((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Md(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Yn(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function rn(e,t,n=1/0){return pe(t)?rn((r,i)=>sn((s,u)=>t(r,s,i,u))(Fi(e(r,i))),n):("number"==typeof t&&(n=t),ar((r,i)=>function Xp(e,t,n,r,i,s,u,h){const m=[];let E=0,x=0,I=!1;const O=()=>{I&&!m.length&&!E&&t.complete()},$=ne=>E<r?ee(ne):m.push(ne),ee=ne=>{s&&t.next(ne),E++;let ge=!1;Fi(n(ne,x++)).subscribe(hr(t,Ve=>{i?.(Ve),s?$(Ve):t.next(Ve)},()=>{ge=!0},void 0,()=>{if(ge)try{for(E--;m.length&&E<r;){const Ve=m.shift();u?Yn(t,u,()=>ee(Ve)):ee(Ve)}O()}catch(Ve){t.error(Ve)}}))};return e.subscribe(hr(t,$,()=>{I=!0,O()})),()=>{h?.()}}(r,i,e,n)))}function pu(e=1/0){return rn(lt,e)}const Jr=new Mt(e=>e.complete());function hc(e){return e&&pe(e.schedule)}function Fd(e){return e[e.length-1]}function zr(e){return pe(Fd(e))?e.pop():void 0}function Qo(e){return hc(Fd(e))?e.pop():void 0}function eg(e,t=0){return ar((n,r)=>{n.subscribe(hr(r,i=>Yn(r,e,()=>r.next(i),t),()=>Yn(r,e,()=>r.complete(),t),i=>Yn(r,e,()=>r.error(i),t)))})}function ko(e,t=0){return ar((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ng(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mt(n=>{Yn(n,t,()=>{const r=e[Symbol.asyncIterator]();Yn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Hr(e,t){return t?function pc(e,t){if(null!=e){if(hu(e))return function aa(e,t){return Fi(e).pipe(ko(t),eg(t))}(e,t);if(Pd(e))return function Os(e,t){return new Mt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(fu(e))return function tg(e,t){return Fi(e).pipe(ko(t),eg(t))}(e,t);if(nh(e))return ng(e,t);if(Ps(e))return function av(e,t){return new Mt(n=>{let r;return Yn(n,t,()=>{r=e[Zp](),Yn(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(u){return void n.error(u)}s?n.complete():n.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}(e,t);if(Nd(e))return function gu(e,t){return ng(rh(e),t)}(e,t)}throw sa(e)}(e,t):Fi(e)}function la(...e){const t=Qo(e),n=function sh(e,t){return"number"==typeof Fd(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Fi(r[0]):pu(n)(Hr(r,t)):Jr}class Yi extends Zt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Gt(...e){return Hr(e,Qo(e))}function ah(e={}){const{connector:t=(()=>new Zt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let u,h,m,E=0,x=!1,I=!1;const O=()=>{h?.unsubscribe(),h=void 0},$=()=>{O(),u=m=void 0,x=I=!1},ee=()=>{const ne=u;$(),ne?.unsubscribe()};return ar((ne,ge)=>{E++,!I&&!x&&O();const Ve=m=m??t();ge.add(()=>{E--,0===E&&!I&&!x&&(h=mu(ee,i))}),Ve.subscribe(ge),!u&&E>0&&(u=new Mn({next:ye=>Ve.next(ye),error:ye=>{I=!0,O(),h=mu($,n,ye),Ve.error(ye)},complete:()=>{x=!0,O(),h=mu($,r),Ve.complete()}}),Fi(ne).subscribe(u))})(s)}}function mu(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Mn({next:()=>{r.unsubscribe(),e()}});return Fi(t(...n)).subscribe(r)}function go(e,t){return ar((n,r)=>{let i=null,s=0,u=!1;const h=()=>u&&!i&&r.complete();n.subscribe(hr(r,m=>{i?.unsubscribe();let E=0;const x=s++;Fi(e(m,x)).subscribe(i=hr(r,I=>r.next(t?t(m,I,x,E++):I),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function rg(e,t=lt){return e=e??ig,ar((n,r)=>{let i,s=!0;n.subscribe(hr(r,u=>{const h=t(u);(s||!e(i,h))&&(s=!1,i=h,r.next(u))}))})}function ig(e,t){return e===t}function Jn(e){for(let t in e)if(e[t]===Jn)return t;throw Error("Could not find renamed property on target object.")}function vu(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ei(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ei).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ld(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const gc=Jn({__forward_ref__:Jn});function er(e){return e.__forward_ref__=er,e.toString=function(){return ei(this())},e}function qt(e){return xl(e)?e():e}function xl(e){return"function"==typeof e&&e.hasOwnProperty(gc)&&e.__forward_ref__===er}function mc(e){return e&&!!e.\u0275providers}class Te extends Error{constructor(t,n){super(function yc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function an(e){return"string"==typeof e?e:null==e?"":String(e)}function ua(e,t){throw new Te(-201,!1)}function Qi(e,t){null==e&&function Qt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ct(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ga(e){return $d(e,pi)||$d(e,dh)}function $d(e,t){return e.hasOwnProperty(t)?e[t]:null}function _c(e){return e&&(e.hasOwnProperty(Jo)||e.hasOwnProperty(wc))?e[Jo]:null}const pi=Jn({\u0275prov:Jn}),Jo=Jn({\u0275inj:Jn}),dh=Jn({ngInjectableDef:Jn}),wc=Jn({ngInjectorDef:Jn});var vn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(vn||{});let Xi;function ir(e){const t=Xi;return Xi=e,t}function zd(e,t,n){const r=Ga(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&vn.Optional?null:void 0!==t?t:void ua(ei(e))}const Tn=globalThis,Ns={},Cc="__NG_DI_FLAG__",Fs="ngTempTokenPath",xc=/\n/gm,cg="__source";let Ka;function da(e){const t=Ka;return Ka=e,t}function dg(e,t=vn.Default){if(void 0===Ka)throw new Te(-203,!1);return null===Ka?zd(e,void 0,t):Ka.get(e,t&vn.Optional?null:void 0,t)}function Ke(e,t=vn.Default){return(function qa(){return Xi}()||dg)(qt(e),t)}function ct(e,t=vn.Default){return Ke(e,Sc(t))}function Sc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function jd(e){const t=[];for(let n=0;n<e.length;n++){const r=qt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Te(900,!1);let i,s=vn.Default;for(let u=0;u<r.length;u++){const h=r[u],m=fg(h);"number"==typeof m?-1===m?i=h.token:s|=m:i=h}t.push(Ke(i,s))}else t.push(Ke(r))}return t}function Mc(e,t){return e[Cc]=t,e.prototype[Cc]=t,e}function fg(e){return e[Cc]}function Ls(e){return{toString:e}.toString()}var Bs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Bs||{}),Po=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Po||{});const Vs={},On=[],fa=Jn({\u0275cmp:Jn}),Ji=Jn({\u0275dir:Jn}),ha=Jn({\u0275pipe:Jn}),hg=Jn({\u0275mod:Jn}),ds=Jn({\u0275fac:Jn}),Za=Jn({__NG_ELEMENT_ID__:Jn}),pa=Jn({__NG_ENV_ID__:Jn});function Oo(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function Tc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],u=n[r++],h=n[r++];e.setAttribute(t,u,h,s)}else{const s=i,u=n[++r];gg(s)?e.setProperty(t,s,u):e.setAttribute(t,s,u),r++}}return r}function pg(e){return 3===e||4===e||6===e}function gg(e){return 64===e.charCodeAt(0)}function Ic(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||mh(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function mh(e,t,n,r,i){let s=0,u=e.length;if(-1===t)u=-1;else for(;s<e.length;){const h=e[s++];if("number"==typeof h){if(h===t){u=-1;break}if(h>t){u=s-1;break}}}for(;s<e.length;){const h=e[s];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==u&&(e.splice(u,0,t),s=u+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const vh="ng-template";function Gd(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const u=e[r++];if(n&&"class"===s&&-1!==Oo(u.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function he(e){return 4===e.type&&e.value!==vh}function $e(e,t,n){return t===(4!==e.type||n?e.value:vh)}function Se(e,t,n){let r=4;const i=e.attrs||[],s=function pr(e){for(let t=0;t<e.length;t++)if(pg(e[t]))return t;return e.length}(i);let u=!1;for(let h=0;h<t.length;h++){const m=t[h];if("number"!=typeof m){if(!u)if(4&r){if(r=2|1&r,""!==m&&!$e(e,m,n)||""===m&&1===t.length){if(yt(r))return!1;u=!0}}else{const E=8&r?m:t[++h];if(8&r&&null!==e.attrs){if(!Gd(e.attrs,E,n)){if(yt(r))return!1;u=!0}continue}const I=cn(8&r?"class":m,i,he(e),n);if(-1===I){if(yt(r))return!1;u=!0;continue}if(""!==E){let O;O=I>s?"":i[I+1].toLowerCase();const $=8&r?O:null;if($&&-1!==Oo($,E,0)||2&r&&E!==O){if(yt(r))return!1;u=!0}}}}else{if(!u&&!yt(r)&&!yt(m))return!1;if(u&&yt(m))continue;u=!1,r=m|1&r}}return yt(r)||u}function yt(e){return 0==(1&e)}function cn(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const u=t[i];if(u===e)return i;if(3===u||6===u)s=!0;else{if(1===u||2===u){let h=t[++i];for(;"string"==typeof h;)h=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=s?1:2}return-1}return function yh(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function qn(e,t,n=!1){for(let r=0;r<t.length;r++)if(Se(e,t[r],n))return!0;return!1}function mg(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Li(e,t){return e?":not("+t.trim()+")":t}function qd(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const h=e[++n];i+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!yt(u)&&(t+=Li(s,i),i=""),r=u,s=s||!yt(r);n++}return""!==i&&(t+=Li(s,i)),t}function ga(e){return Ls(()=>{const t=_u(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Bs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Po.Emulated,styles:e.styles||On,_:null,schemas:e.schemas||null,tView:null,id:""};_h(n);const r=e.dependencies;return n.directiveDefs=Ya(r,!1),n.pipeDefs=Ya(r,!0),n.id=function wu(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function or(e){return In(e)||Sr(e)}function pv(e){return null!==e}function ri(e){return Ls(()=>({type:e.type,bootstrap:e.bootstrap||On,declarations:e.declarations||On,imports:e.imports||On,exports:e.exports||On,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function bh(e,t){if(null==e)return Vs;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function Lt(e){return Ls(()=>{const t=_u(e);return _h(t),t})}function In(e){return e[fa]||null}function Sr(e){return e[Ji]||null}function gi(e){return e[ha]||null}function Bi(e,t){const n=e[hg]||null;if(!n&&!0===t)throw new Error(`Type ${ei(e)} does not have '\u0275mod' property.`);return n}function _u(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Vs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||On,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bh(e.inputs,t),outputs:bh(e.outputs)}}function _h(e){e.features?.forEach(t=>t(e))}function Ya(e,t){if(!e)return null;const n=t?gi:or;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(pv)}const sr=0,dt=1,hn=2,Dr=3,es=4,ma=5,ii=6,No=7,kr=8,to=9,Eu=10,dn=11,Rr=12,ln=13,Du=14,Mr=15,Dn=16,Bn=17,bt=18,fs=19,Zd=20,Fo=21,Lo=22,mo=23,no=24,pn=25,Eh=1,vg=2,zs=7,Hs=9,mi=11;function oi(e){return Array.isArray(e)&&"object"==typeof e[Eh]}function En(e){return Array.isArray(e)&&!0===e[Eh]}function Cn(e){return 0!=(4&e.flags)}function gn(e){return e.componentOffset>-1}function Qd(e){return 1==(1&e.flags)}function hs(e){return!!e.template}function Us(e){return 0!=(512&e[hn])}function Di(e,t){return e.hasOwnProperty(ds)?e[ds]:null}let si=null,Rc=!1;function Bo(e){const t=si;return si=e,t}const Mh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Pc(e){if(!Nc(e)||e.dirty){if(!e.producerMustRecompute(e)&&!bo(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Ih(e){e.dirty=!0,function qs(e){if(void 0===e.liveConsumerNode)return;const t=Rc;Rc=!0;try{for(const n of e.liveConsumerNode)n.dirty||Ih(n)}finally{Rc=t}}(e),e.consumerMarkedDirty?.(e)}function ef(e){return e&&(e.nextProducerIndex=0),Bo(e)}function kl(e,t){if(Bo(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Nc(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ro(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function bo(e){Rl(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Pc(n),r!==n.version))return!0}return!1}function Oc(e){if(Rl(e),Nc(e))for(let t=0;t<e.producerNode.length;t++)ro(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ro(e,t){if(function Ah(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Rl(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)ro(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Rl(i),i.producerIndexOfThis[r]=t}}function Nc(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Rl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let kh=null;const af=()=>{},wv=(()=>({...Mh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:af}))();class Oh{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function _o(){return Vn}function Vn(e){return e.type.prototype.ngOnChanges&&(e.setInput=bg),Lc}function Lc(){const e=lf(this),t=e?.current;if(t){const n=e.previous;if(n===Vs)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function bg(e,t,n,r){const i=this.declaredInputs[n],s=lf(e)||function _g(e,t){return e[Bc]=t}(e,{previous:Vs,current:null}),u=s.current||(s.current={}),h=s.previous,m=h[i];u[i]=new Oh(m&&m.currentValue,t,h===Vs),e[r]=t}_o.ngInherit=!0;const Bc="__ngSimpleChanges__";function lf(e){return e[Bc]||null}const Vo=function(e,t,n){},Mu="svg";function lr(e){for(;Array.isArray(e);)e=e[sr];return e}function oo(e,t){return lr(t[e.index])}function Vc(e,t){return e.data[t]}function jr(e,t){const n=t[e];return oi(n)?n:n[sr]}function _a(e,t){return null==t?null:e[t]}function $c(e){e[Bn]=0}function Fh(e){1024&e[hn]||(e[hn]|=1024,Lh(e,1))}function zc(e){1024&e[hn]&&(e[hn]&=-1025,Lh(e,-1))}function Lh(e,t){let n=e[Dr];if(null===n)return;n[ma]+=t;let r=n;for(n=n[Dr];null!==n&&(1===t&&1===r[ma]||-1===t&&0===r[ma]);)n[ma]+=t,r=n,n=n[Dr]}const Dt={lFrame:il(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wo(){return Dt.bindingsEnabled}function Fl(){return null!==Dt.skipHydrationRootTNode}function je(){return Dt.lFrame.lView}function kn(){return Dt.lFrame.tView}function Ea(e){return Dt.lFrame.contextLView=e,e[kr]}function Da(e){return Dt.lFrame.contextLView=null,e}function Kr(){let e=Ll();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ll(){return Dt.lFrame.currentTNode}function ns(e,t){const n=Dt.lFrame;n.currentTNode=e,n.isParent=t}function Bl(){return Dt.lFrame.isParent}function $o(){Dt.lFrame.isParent=!1}function Ca(){return Dt.lFrame.bindingIndex++}function $i(e,t){const n=Dt.lFrame;n.bindingIndex=n.bindingRootIndex=e,df(t)}function df(e){Dt.lFrame.currentDirectiveIndex=e}function Si(){return Dt.lFrame.currentQueryIndex}function Vl(e){Dt.lFrame.currentQueryIndex=e}function Uc(e){const t=e[dt];return 2===t.type?t.declTNode:1===t.type?e[ii]:null}function nl(e,t,n){if(n&vn.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&vn.Host||(i=Uc(s),null===i||(s=s[Du],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Dt.lFrame=$h();return r.currentTNode=t,r.lView=e,!0}function rl(e){const t=$h(),n=e[dt];Dt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function $h(){const e=Dt.lFrame,t=null===e?null:e.child;return null===t?il(e):t}function il(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function zh(){const e=Dt.lFrame;return Dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ff=zh;function ol(){const e=zh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Mi(){return Dt.lFrame.selectedIndex}function Ks(e){Dt.lFrame.selectedIndex=e}function _r(){const e=Dt.lFrame;return Vc(e.tView,e.selectedIndex)}let Uh=!0;function sl(){return Uh}function xa(e){Uh=e}function gf(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:m,ngAfterViewChecked:E,ngOnDestroy:x}=s;u&&(e.contentHooks??=[]).push(-n,u),h&&((e.contentHooks??=[]).push(n,h),(e.contentCheckHooks??=[]).push(n,h)),m&&(e.viewHooks??=[]).push(-n,m),E&&((e.viewHooks??=[]).push(n,E),(e.viewCheckHooks??=[]).push(n,E)),null!=x&&(e.destroyHooks??=[]).push(n,x)}}function Nu(e,t,n){Fu(e,t,3,n)}function rs(e,t,n,r){(3&e[hn])===n&&Fu(e,t,n,r)}function mf(e,t){let n=e[hn];(3&n)===t&&(n&=8191,n+=1,e[hn]=n)}function Fu(e,t,n,r){const s=r??-1,u=t.length-1;let h=0;for(let m=void 0!==r?65535&e[Bn]:0;m<u;m++)if("number"==typeof t[m+1]){if(h=t[m],null!=r&&h>=r)break}else t[m]<0&&(e[Bn]+=65536),(h<s||-1==s)&&(Tg(e,n,t,m),e[Bn]=(4294901760&e[Bn])+m+2),m++}function Mg(e,t){Vo(4,e,t);const n=Bo(null);try{t.call(e)}finally{Bo(n),Vo(5,e,t)}}function Tg(e,t,n,r){const i=n[r]<0,s=n[r+1],h=e[i?-n[r]:n[r]];i?e[hn]>>13<e[Bn]>>16&&(3&e[hn])===t&&(e[hn]+=8192,Mg(h,s)):Mg(h,s)}const Lu=-1;class jc{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function $u(e){return e!==Lu}function ys(e){return 32767&e}function $l(e,t){let n=function kg(e){return e>>16}(e),r=t;for(;n>0;)r=r[Du],n--;return r}let qc=!0;function Yr(e){const t=qc;return qc=e,t}const vf=255,Ma=5;let yf=0;const Ho={};function so(e,t){const n=bs(e,t);if(-1!==n)return n;const r=t[dt];r.firstCreatePass&&(e.injectorIndex=t.length,Hi(r.data,e),Hi(t,null),Hi(r.blueprint,null));const i=li(e,t),s=e.injectorIndex;if($u(i)){const u=ys(i),h=$l(i,t),m=h[dt].data;for(let E=0;E<8;E++)t[s+E]=h[u+E]|m[u+E]}return t[s+8]=i,s}function Hi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function bs(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function li(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=_f(i),null===r)return Lu;if(n++,i=i[Du],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Lu}function Uo(e,t,n){!function qh(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Za)&&(r=n[Za]),null==r&&(r=n[Za]=yf++);const i=r&vf;t.data[e+(i>>Ma)]|=1<<i}(e,t,n)}function is(e,t,n){if(n&vn.Optional||void 0!==e)return e;ua()}function zu(e,t,n,r){if(n&vn.Optional&&void 0===r&&(r=null),!(n&(vn.Self|vn.Host))){const i=e[to],s=ir(void 0);try{return i?i.get(t,r,n&vn.Optional):zd(t,r,n&vn.Optional)}finally{ir(s)}}return is(r,0,n)}function zl(e,t,n,r=vn.Default,i){if(null!==e){if(2048&t[hn]&&!(r&vn.Self)){const u=function yi(e,t,n,r,i){let s=e,u=t;for(;null!==s&&null!==u&&2048&u[hn]&&!(512&u[hn]);){const h=jo(s,u,n,r|vn.Self,Ho);if(h!==Ho)return h;let m=s.parent;if(!m){const E=u[Zd];if(E){const x=E.get(n,Ho,r);if(x!==Ho)return x}m=_f(u),u=u[Du]}s=m}return i}(e,t,n,r,Ho);if(u!==Ho)return u}const s=jo(e,t,n,r,Ho);if(s!==Ho)return s}return zu(t,n,r,i)}function jo(e,t,n,r,i){const s=function Wh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Za)?e[Za]:void 0;return"number"==typeof t?t>=0?t&vf:Zh:t}(n);if("function"==typeof s){if(!nl(t,e,r))return r&vn.Host?is(i,0,r):zu(t,n,r,i);try{let u;if(u=s(r),null!=u||r&vn.Optional)return u;ua()}finally{ff()}}else if("number"==typeof s){let u=null,h=bs(e,t),m=Lu,E=r&vn.Host?t[Mr][ii]:null;for((-1===h||r&vn.SkipSelf)&&(m=-1===h?li(e,t):t[h+8],m!==Lu&&Kh(r,!1)?(u=t[dt],h=ys(m),t=$l(m,t)):h=-1);-1!==h;){const x=t[dt];if(bf(s,h,x.data)){const I=Kc(h,t,n,u,r,E);if(I!==Ho)return I}m=t[h+8],m!==Lu&&Kh(r,t[dt].data[h+8]===E)&&bf(s,h,t)?(u=x,h=ys(m),t=$l(m,t)):h=-1}}return i}function Kc(e,t,n,r,i,s){const u=t[dt],h=u.data[e+8],x=Hu(h,u,n,null==r?gn(h)&&qc:r!=u&&0!=(3&h.type),i&vn.Host&&s===h);return null!==x?al(t,u,x,h):Ho}function Hu(e,t,n,r,i){const s=e.providerIndexes,u=t.data,h=1048575&s,m=e.directiveStart,x=s>>20,O=i?h+x:e.directiveEnd;for(let $=r?h:h+x;$<O;$++){const ee=u[$];if($<m&&n===ee||$>=m&&ee.type===n)return $}if(i){const $=u[m];if($&&hs($)&&$.type===n)return m}return null}function al(e,t,n,r){let i=e[n];const s=t.data;if(function Sa(e){return e instanceof jc}(i)){const u=i;u.resolving&&function Bd(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Te(-200,`Circular dependency in DI detected for ${e}${n}`)}(function tr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():an(e)}(s[n]));const h=Yr(u.canSeeViewProviders);u.resolving=!0;const E=u.injectImpl?ir(u.injectImpl):null;nl(e,r,vn.Default);try{i=e[n]=u.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function jh(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const u=Vn(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==E&&ir(E),Yr(h),u.resolving=!1,ff()}}return i}function bf(e,t,n){return!!(n[t+(e>>Ma)]&1<<e)}function Kh(e,t){return!(e&vn.Self||e&vn.Host&&t)}class Ui{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return zl(this._tNode,this._lView,t,Sc(r),n)}}function Zh(){return new Ui(Kr(),je())}function Ta(e){return xl(e)?()=>{const t=Ta(qt(e));return t&&t()}:Di(e)}function _f(e){const t=e[dt],n=t.type;return 2===n?t.declTNode:1===n?e[ii]:null}const Ul="__parameters__";function jl(e,t,n){return Ls(()=>{const r=function wf(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const u=new i(...s);return h.annotation=u,h;function h(m,E,x){const I=m.hasOwnProperty(Ul)?m[Ul]:Object.defineProperty(m,Ul,{value:[]})[Ul];for(;I.length<=x;)I.push(null);return(I[x]=I[x]||[]).push(u),m}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Uu(e,t){e.forEach(n=>Array.isArray(n)?Uu(n,t):t(n))}function Ef(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Gl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ll(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Ir(e,t,n){let r=ju(e,t);return r>=0?e[1|r]=n:(r=~r,function Tv(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function tp(e,t){const n=ju(e,t);if(n>=0)return e[1|n]}function ju(e,t){return function np(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),u=e[s<<n];if(t===u)return s<<n;u>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const Fr=Mc(jl("Optional"),8),cl=Mc(jl("SkipSelf"),4);function id(e){return 128==(128&e.flags)}var os=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(os||{});const zv=/^>|^->|<!--|-->|--!>|<!-$/g,od=/(<|>)/g,qg="\u200b$1\u200b";const cp=new Map;let Wn=0;const dp="__ngContext__";function Ti(e,t){oi(t)?(e[dp]=t[fs],function Hv(e){cp.set(e[fs],e)}(t)):e[dp]=t}let g;function y(e,t){return g(e,t)}function b(e){const t=e[Dr];return En(t)?t[Dr]:t}function S(e){return M(e[Rr])}function T(e){return M(e[es])}function M(e){for(;null!==e&&!En(e);)e=e[es];return e}function P(e,t,n,r,i){if(null!=r){let s,u=!1;En(r)?s=r:oi(r)&&(u=!0,r=r[sr]);const h=lr(r);0===e&&null!==n?null==i?Ce(t,n,h):ve(t,n,h,i||null,!0):1===e&&null!==n?ve(t,n,h,i||null,!0):2===e?function ut(e,t,n){const r=Ae(e,t);r&&function _e(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,h,u):3===e&&t.destroyNode(h),null!=s&&function $n(e,t,n,r,i){const s=n[zs];s!==lr(n)&&P(t,e,r,s,i);for(let h=mi;h<n.length;h++){const m=n[h];At(m[dt],m,e,t,r,s)}}(t,e,s,n,i)}}function F(e,t){return e.createComment(function up(e){return e.replace(zv,t=>t.replace(od,qg))}(t))}function L(e,t,n){return e.createElement(t,n)}function W(e,t){const n=e[Hs],r=n.indexOf(t);zc(t),n.splice(r,1)}function J(e,t){if(e.length<=mi)return;const n=mi+t,r=e[n];if(r){const i=r[Dn];null!==i&&i!==e&&W(i,r),t>0&&(e[n-1][es]=r[es]);const s=Gl(e,mi+t);!function H(e,t){At(e,t,t[dn],2,null,null),t[sr]=null,t[ii]=null}(r[dt],r);const u=s[bt];null!==u&&u.detachView(s[dt]),r[Dr]=null,r[es]=null,r[hn]&=-129}return r}function K(e,t){if(!(256&t[hn])){const n=t[dn];t[mo]&&Oc(t[mo]),t[no]&&Oc(t[no]),n.destroyNode&&At(e,t,n,3,null,null),function U(e){let t=e[Rr];if(!t)return ie(e[dt],e);for(;t;){let n=null;if(oi(t))n=t[Rr];else{const r=t[mi];r&&(n=r)}if(!n){for(;t&&!t[es]&&t!==e;)oi(t)&&ie(t[dt],t),t=t[Dr];null===t&&(t=e),oi(t)&&ie(t[dt],t),n=t&&t[es]}t=n}}(t)}}function ie(e,t){if(!(256&t[hn])){t[hn]&=-129,t[hn]|=256,function ce(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof jc)){const s=n[r+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){const h=i[s[u]],m=s[u+1];Vo(4,h,m);try{m.call(h)}finally{Vo(5,h,m)}}else{Vo(4,i,s);try{s.call(i)}finally{Vo(5,i,s)}}}}}(e,t),function Q(e,t){const n=e.cleanup,r=t[No];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const u=n[s+3];u>=0?r[u]():r[-u].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[No]=null);const i=t[Fo];if(null!==i){t[Fo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[dt].type&&t[dn].destroy();const n=t[Dn];if(null!==n&&En(t[Dr])){n!==t[Dr]&&W(n,t);const r=t[bt];null!==r&&r.detachView(e)}!function Uv(e){cp.delete(e[fs])}(t)}}function se(e,t,n){return function le(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[sr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Po.None||s===Po.Emulated)return null}return oo(r,n)}}(e,t.parent,n)}function ve(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Ce(e,t,n){e.appendChild(t,n)}function Ie(e,t,n,r,i){null!==r?ve(e,t,n,r,i):Ce(e,t,n)}function Ae(e,t){return e.parentNode(t)}function We(e,t,n){return fe(e,t,n)}let Ne,Ye,fe=function be(e,t,n){return 40&e.type?oo(e,n):null};function Qe(e,t,n,r){const i=se(e,r,t),s=t[dn],h=We(r.parent||t[ii],r,t);if(null!=i)if(Array.isArray(n))for(let m=0;m<n.length;m++)Ie(s,i,n[m],h,!1);else Ie(s,i,n,h,!1);void 0!==Ne&&Ne(s,r,t,n,i)}function Je(e,t){if(null!==t){const n=t.type;if(3&n)return oo(t,e);if(4&n)return Xt(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Je(e,r);{const i=e[t.index];return En(i)?Xt(-1,i):lr(i)}}if(32&n)return y(t,e)()||lr(e[t.index]);{const r=Pt(e,t);return null!==r?Array.isArray(r)?r[0]:Je(b(e[Mr]),r):Je(e,t.next)}}return null}function Pt(e,t){return null!==t?e[Mr][ii].projection[t.projection]:null}function Xt(e,t){const n=mi+e+1;if(n<t.length){const r=t[n],i=r[dt].firstChild;if(null!==i)return Je(r,i)}return t[zs]}function xt(e,t,n,r,i,s,u){for(;null!=n;){const h=r[n.index],m=n.type;if(u&&0===t&&(h&&Ti(lr(h),r),n.flags|=2),32!=(32&n.flags))if(8&m)xt(e,t,n.child,r,i,s,!1),P(t,e,i,h,s);else if(32&m){const E=y(n,r);let x;for(;x=E();)P(t,e,i,x,s);P(t,e,i,h,s)}else 16&m?Vt(e,t,r,n,i,s):P(t,e,i,h,s);n=u?n.projectionNext:n.next}}function At(e,t,n,r,i,s){xt(n,r,e.firstChild,t,i,s,!1)}function Vt(e,t,n,r,i,s){const u=n[Mr],m=u[ii].projection[r.projection];if(Array.isArray(m))for(let E=0;E<m.length;E++)P(t,e,i,m[E],s);else{let E=m;const x=u[Dr];id(r)&&(E.flags|=128),xt(e,t,E,x,i,s,!0)}}function zn(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ze(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Tc(e,t,r),null!==i&&zn(e,t,i),null!==s&&function on(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class ur{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class st{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mp=new st("ENVIRONMENT_INITIALIZER"),G0=new st("INJECTOR",-1),q0=new st("INJECTOR_DEF_TYPES");class Wv{get(t,n=Ns){if(n===Ns){const r=new Error(`NullInjectorError: No provider for ${ei(t)}!`);throw r.name="NullInjectorError",r}return n}}function lw(...e){return{\u0275providers:W0(0,e),\u0275fromNgModule:!0}}function W0(e,...t){const n=[],r=new Set;let i;const s=u=>{n.push(u)};return Uu(t,u=>{const h=u;tm(h,s,[],r)&&(i||=[],i.push(h))}),void 0!==i&&K0(i,s),n}function K0(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Zv(i,s=>{t(s,r)})}}function tm(e,t,n,r){if(!(e=qt(e)))return!1;let i=null,s=_c(e);const u=!s&&In(e);if(s||u){if(u&&!u.standalone)return!1;i=e}else{const m=e.ngModule;if(s=_c(m),!s)return!1;i=m}const h=r.has(i);if(u){if(h)return!1;if(r.add(i),u.dependencies){const m="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const E of m)tm(E,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!h){let E;r.add(i);try{Uu(s.imports,x=>{tm(x,t,n,r)&&(E||=[],E.push(x))})}finally{}void 0!==E&&K0(E,t)}if(!h){const E=Di(i)||(()=>new i);t({provide:i,useFactory:E,deps:On},i),t({provide:q0,useValue:i,multi:!0},i),t({provide:mp,useValue:()=>Ke(i),multi:!0},i)}const m=s.providers;if(null!=m&&!h){const E=e;Zv(m,x=>{t(x,E)})}}}return i!==e&&void 0!==e.providers}function Zv(e,t){for(let n of e)mc(n)&&(n=n.\u0275providers),Array.isArray(n)?Zv(n,t):t(n)}const uw=Jn({provide:String,useValue:Jn});function Yv(e){return null!==e&&"object"==typeof e&&uw in e}function Qu(e){return"function"==typeof e}const Qv=new st("Set Injector scope."),rm={},cw={};let vp;function im(){return void 0===vp&&(vp=new Wv),vp}class Ds{}class om extends Ds{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yp(t,u=>this.processProvider(u)),this.records.set(G0,kf(void 0,this)),i.has("environment")&&this.records.set(Ds,kf(void 0,this));const s=this.records.get(Qv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(q0.multi,On,vn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=da(this),r=ir(void 0);try{return t()}finally{da(n),ir(r)}}get(t,n=Ns,r=vn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(pa))return t[pa](this);r=Sc(r);const s=da(this),u=ir(void 0);try{if(!(r&vn.SkipSelf)){let m=this.records.get(t);if(void 0===m){const E=function hw(e){return"function"==typeof e||"object"==typeof e&&e instanceof st}(t)&&Ga(t);m=E&&this.injectableDefInScope(E)?kf(xo(t),rm):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(r&vn.Self?im():this.parent).get(t,n=r&vn.Optional&&n===Ns?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[Fs]=h[Fs]||[]).unshift(ei(t)),s)throw h;return function dv(e,t,n,r){const i=e[Fs];throw t[cg]&&i.unshift(t[cg]),e.message=function fv(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ei(t);if(Array.isArray(t))i=t.map(ei).join(" -> ");else if("object"==typeof t){let s=[];for(let u in t)if(t.hasOwnProperty(u)){let h=t[u];s.push(u+":"+("string"==typeof h?JSON.stringify(h):ei(h)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(xc,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Fs]=null,e}(h,t,"R3InjectorError",this.source)}throw h}finally{ir(u),da(s)}}resolveInjectorInitializers(){const t=da(this),n=ir(void 0);try{const i=this.get(mp.multi,On,vn.Self);for(const s of i)s()}finally{da(t),ir(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ei(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(t){let n=Qu(t=qt(t))?t:qt(t&&t.provide);const r=function dw(e){return Yv(e)?kf(void 0,e.useValue):kf(Q0(e),rm)}(t);if(Qu(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=kf(void 0,rm,!0),i.factory=()=>jd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===rm&&(n.value=cw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Jv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=qt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function xo(e){const t=Ga(e),n=null!==t?t.factory:Di(e);if(null!==n)return n;if(e instanceof st)throw new Te(204,!1);if(e instanceof Function)return function Xv(e){const t=e.length;if(t>0)throw ll(t,"?"),new Te(204,!1);const n=function Xo(e){return e&&(e[pi]||e[dh])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Te(204,!1)}function Q0(e,t,n){let r;if(Qu(e)){const i=qt(e);return Di(i)||xo(i)}if(Yv(e))r=()=>qt(e.useValue);else if(function nm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...jd(e.deps||[]));else if(function Z0(e){return!(!e||!e.useExisting)}(e))r=()=>Ke(qt(e.useExisting));else{const i=qt(e&&(e.useClass||e.provide));if(!function fw(e){return!!e.deps}(e))return Di(i)||xo(i);r=()=>new i(...jd(e.deps))}return r}function kf(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function yp(e,t){for(const n of e)Array.isArray(n)?yp(n,t):n&&mc(n)?yp(n.\u0275providers,t):t(n)}const sm=new st("AppId",{providedIn:"root",factory:()=>pw}),pw="ng",X0=new st("Platform Initializer"),Xu=new st("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rf=new st("AnimationModuleType"),ey=new st("CSP nonce",{providedIn:"root",factory:()=>function Ut(){if(void 0!==Ye)return Ye;if(typeof document<"u")return document;throw new Te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let tb=(e,t,n)=>null;function ly(e,t,n=!1){return tb(e,t,n)}class nt{}class _t{}class nn{resolveComponentFactory(t){throw function Ft(e){const t=Error(`No component factory found for ${ei(e)}.`);return t.ngComponent=e,t}(t)}}let xn=(()=>{class e{static#e=this.NULL=new nn}return e})();function Hn(){return Wi(Kr(),je())}function Wi(e,t){return new Un(oo(e,t))}let Un=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Hn}return e})();function Cs(e){return e instanceof Un?e.nativeElement:e}class Pr{}let nb=(()=>{class e{static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>null})}return e})();class wp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const JP=new wp("16.2.10"),ww={};function bx(e,t=null,n=null,r){const i=_x(e,t,n,r);return i.resolveInjectorInitializers(),i}function _x(e,t=null,n=null,r,i=new Set){const s=[n||On,lw(e)];return r=r||("object"==typeof e?void 0:ei(e)),new om(s,t||im(),r||null,i)}let Fa=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Ns;static#t=this.NULL=new Wv;static create(n,r){if(Array.isArray(n))return bx({name:""},r,n,"");{const i=n.name??"";return bx({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Ct({token:e,providedIn:"any",factory:()=>Ke(G0)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Dw(e){return e.ngOriginalError}class ud{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Dw(t);for(;n&&Dw(n);)n=Dw(n);return n||null}}function xw(e){return t=>{setTimeout(e,void 0,t)}}const Qn=class sO extends Zt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),u=r;if(t&&"object"==typeof t){const m=t;i=m.next?.bind(m),s=m.error?.bind(m),u=m.complete?.bind(m)}this.__isAsync&&(s=xw(s),i&&(i=xw(i)),u&&(u=xw(u)));const h=super.subscribe({next:i,error:s,complete:u});return t instanceof Ue&&t.add(h),h}};function Ex(...e){}class Rn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qn(!1),this.onMicrotaskEmpty=new Qn(!1),this.onStable=new Qn(!1),this.onError=new Qn(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aO(){const e="function"==typeof Tn.requestAnimationFrame;let t=Tn[e?"requestAnimationFrame":"setTimeout"],n=Tn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function cO(e){const t=()=>{!function uO(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Tn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Mw(e),e.isCheckStableRunning=!0,Sw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Mw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,u,h)=>{if(function fO(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(h))return n.invokeTask(i,s,u,h);try{return Dx(e),n.invokeTask(i,s,u,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Cx(e)}},onInvoke:(n,r,i,s,u,h,m)=>{try{return Dx(e),n.invoke(i,s,u,h,m)}finally{e.shouldCoalesceRunChangeDetection&&t(),Cx(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Mw(e),Sw(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rn.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Rn.isInAngularZone())throw new Te(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+i,t,lO,Ex,Ex);try{return s.runTask(u,n,r)}finally{s.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const lO={};function Sw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Mw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Dx(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cx(e){e._nesting--,Sw(e)}class dO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qn,this.onMicrotaskEmpty=new Qn,this.onStable=new Qn,this.onError=new Qn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const xx=new st("",{providedIn:"root",factory:Sx});function Sx(){const e=ct(Rn);let t=!0;return la(new Mt(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Mt(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{Rn.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const u=e.onUnstable.subscribe(()=>{Rn.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),u.unsubscribe()}}).pipe(ah()))}function cd(e){return e instanceof Function?e():e}let Tw=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new e})}return e})();function uy(e){for(;e;){e[hn]|=64;const t=b(e);if(Us(e)&&!t)return e;e=t}return null}const kx=new st("",{providedIn:"root",factory:()=>!1});let ib=null;function Nx(e,t){return e[t]??Bx()}function Fx(e,t){const n=Bx();n.producerNode?.length&&(e[t]=ib,n.lView=e,ib=Lx())}const EO={...Mh,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{uy(e.lView)},lView:null};function Lx(){return Object.create(EO)}function Bx(){return ib??=Lx(),ib}const wn={};function Nf(e){Vx(kn(),je(),Mi()+e,!1)}function Vx(e,t,n,r){if(!r)if(3==(3&t[hn])){const s=e.preOrderCheckHooks;null!==s&&Nu(t,s,n)}else{const s=e.preOrderHooks;null!==s&&rs(t,s,0,n)}Ks(n)}function Re(e,t=vn.Default){const n=je();return null===n?Ke(e,t):zl(Kr(),n,qt(e),t)}function ob(){throw new Error("invalid")}function sb(e,t,n,r,i,s,u,h,m,E,x){const I=t.blueprint.slice();return I[sr]=i,I[hn]=140|r,(null!==E||e&&2048&e[hn])&&(I[hn]|=2048),$c(I),I[Dr]=I[Du]=e,I[kr]=n,I[Eu]=u||e&&e[Eu],I[dn]=h||e&&e[dn],I[to]=m||e&&e[to]||null,I[ii]=s,I[fs]=function Wg(){return Wn++}(),I[Lo]=x,I[Zd]=E,I[Mr]=2==t.type?e[Mr]:I,I}function fm(e,t,n,r,i){let s=e.data[t];if(null===s)s=function Iw(e,t,n,r,i){const s=Ll(),u=Bl(),m=e.data[t]=function AO(e,t,n,r,i,s){let u=t?t.injectorIndex:-1,h=0;return Fl()&&(h|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=m),null!==s&&(u?null==s.child&&null!==m.parent&&(s.child=m):null===s.next&&(s.next=m,m.prev=s)),m}(e,t,n,r,i),function vi(){return Dt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const u=function ku(){const e=Dt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===u?-1:u.injectorIndex}return ns(s,!0),s}function cy(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function $x(e,t,n,r,i){const s=Nx(t,mo),u=Mi(),h=2&r;try{Ks(-1),h&&t.length>pn&&Vx(e,t,pn,!1),Vo(h?2:0,i);const E=h?s:null,x=ef(E);try{null!==E&&(E.dirty=!1),n(r,i)}finally{kl(E,x)}}finally{h&&null===t[mo]&&Fx(t,mo),Ks(u),Vo(h?3:1,i)}}function Aw(e,t,n){if(Cn(t)){const r=Bo(null);try{const s=t.directiveEnd;for(let u=t.directiveStart;u<s;u++){const h=e.data[u];h.contentQueries&&h.contentQueries(1,n[u],u)}}finally{Bo(r)}}}function kw(e,t,n){wo()&&(function LO(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;gn(n)&&function jO(e,t,n){const r=oo(t,e),i=zx(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const h=ab(e,sb(e,i,null,u,r,t,null,e[Eu].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=h}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||so(n,t),Ti(r,t);const u=n.initialInputs;for(let h=i;h<s;h++){const m=e.data[h],E=al(t,e,h,n);Ti(E,t),null!==u&&GO(0,h-i,E,m,0,u),hs(m)&&(jr(n.index,t)[kr]=al(t,e,h,n))}}(e,t,n,oo(n,t)),64==(64&n.flags)&&qx(e,t,n))}function Rw(e,t,n=oo){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const u=r[s+1],h=-1===u?n(t,e):e[u];e[i++]=h}}}function zx(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Pw(e,t,n,r,i,s,u,h,m,E,x){const I=pn+r,O=I+i,$=function CO(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:wn);return n}(I,O),ee="function"==typeof E?E():E;return $[dt]={type:e,blueprint:$,template:n,queries:null,viewQuery:h,declTNode:t,data:$.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:m,consts:ee,incompleteFirstPass:!1,ssrId:x}}let Hx=e=>null;function Ux(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?jx(n,t,i,s):r.hasOwnProperty(i)&&jx(n,t,r[i],s)}return n}function jx(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function La(e,t,n,r,i,s,u,h){const m=oo(t,n);let x,E=t.inputs;!h&&null!=E&&(x=E[r])?(Bw(e,n,x,r,i),gn(t)&&function PO(e,t){const n=jr(t,e);16&n[hn]||(n[hn]|=64)}(n,t.index)):3&t.type&&(r=function RO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=u?u(i,t.value||"",r):i,s.setProperty(m,r,i))}function Ow(e,t,n,r){if(wo()){const i=null===r?null:{"":-1},s=function VO(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const u=n[s];if(qn(t,u.selectors,!1))if(r||(r=[]),hs(u))if(null!==u.findHostDirectiveDefs){const h=[];i=i||new Map,u.findHostDirectiveDefs(u,h,i),r.unshift(...h,u),Nw(e,t,h.length)}else r.unshift(u),Nw(e,t,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(e,n);let u,h;null===s?u=h=null:[u,h]=s,null!==u&&Gx(e,t,n,u,i,h),i&&function $O(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new Te(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Ic(n.mergedAttrs,n.attrs)}function Gx(e,t,n,r,i,s){for(let E=0;E<r.length;E++)Uo(so(n,t),e,r[E].type);!function HO(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let E=0;E<r.length;E++){const x=r[E];x.providersResolver&&x.providersResolver(x)}let u=!1,h=!1,m=cy(e,t,r.length,null);for(let E=0;E<r.length;E++){const x=r[E];n.mergedAttrs=Ic(n.mergedAttrs,x.hostAttrs),UO(e,n,t,m,x),zO(m,x,i),null!==x.contentQueries&&(n.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(n.flags|=64);const I=x.type.prototype;!u&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),h=!0),m++}!function kO(e,t,n){const i=t.directiveEnd,s=e.data,u=t.attrs,h=[];let m=null,E=null;for(let x=t.directiveStart;x<i;x++){const I=s[x],O=n?n.get(I):null,ee=O?O.outputs:null;m=Ux(I.inputs,x,m,O?O.inputs:null),E=Ux(I.outputs,x,E,ee);const ne=null===m||null===u||he(t)?null:qO(m,x,u);h.push(ne)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=8),m.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=m,t.outputs=E}(e,n,s)}function qx(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,u=function xi(){return Dt.lFrame.currentDirectiveIndex}();try{Ks(s);for(let h=r;h<i;h++){const m=e.data[h],E=t[h];df(h),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&BO(m,E)}}finally{Ks(-1),df(u)}}function BO(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Nw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function zO(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;hs(t)&&(n[""]=e)}}function UO(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=Di(i.type)),u=new jc(s,hs(i),Re);e.blueprint[r]=u,n[r]=u,function NO(e,t,n,r,i){const s=i.hostBindings;if(s){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const h=~t.index;(function FO(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=h&&u.push(h),u.push(n,r,s)}}(e,t,r,cy(e,n,i.hostVars,wn),i)}function Ju(e,t,n,r,i,s){const u=oo(e,t);!function Fw(e,t,n,r,i,s,u){if(null==s)e.removeAttribute(t,i,n);else{const h=null==u?an(s):u(s,r||"",i);e.setAttribute(t,i,h,n)}}(t[dn],u,s,e.value,n,r,i)}function GO(e,t,n,r,i,s){const u=s[t];if(null!==u)for(let h=0;h<u.length;)Wx(r,n,u[h++],u[h++],u[h++])}function Wx(e,t,n,r,i){const s=Bo(null);try{const u=e.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(i=u[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Bo(s)}}function qO(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const u=e[s];for(let h=0;h<u.length;h+=2)if(u[h]===t){r.push(s,u[h+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Kx(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Zx(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const u=e.data[s];Vl(n[r]),u.contentQueries(2,t[s],s)}}}function ab(e,t){return e[Rr]?e[ln][es]=t:e[Rr]=t,e[ln]=t,t}function Lw(e,t,n){Vl(0);const r=Bo(null);try{t(e,n)}finally{Bo(r)}}function Yx(e){return e[No]||(e[No]=[])}function Qx(e){return e.cleanup||(e.cleanup=[])}function Jx(e,t){const n=e[to],r=n?n.get(ud,null):null;r&&r.handleError(t)}function Bw(e,t,n,r,i){for(let s=0;s<n.length;){const u=n[s++],h=n[s++];Wx(e.data[u],t[u],r,h,i)}}function WO(e,t){const n=jr(t,e),r=n[dt];!function KO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[sr];null!==i&&null===n[Lo]&&(n[Lo]=ly(i,n[to])),Vw(r,n,n[kr])}function Vw(e,t,n){rl(t);try{const r=e.viewQuery;null!==r&&Lw(1,r,n);const i=e.template;null!==i&&$x(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zx(e,t),e.staticViewQueries&&Lw(2,e.viewQuery,n);const s=e.components;null!==s&&function ZO(e,t){for(let n=0;n<t.length;n++)WO(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[hn]&=-5,ol()}}let e1=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,u=function yg(e,t,n){const r=Object.create(wv);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=u=>{r.cleanupFn=u};return r.ref={notify:()=>Ih(r),run:()=>{if(r.dirty=!1,r.hasRun&&!bo(r))return;r.hasRun=!0;const u=ef(r);try{r.cleanupFn(),r.cleanupFn=af,r.fn(i)}finally{kl(r,u)}},cleanup:()=>r.cleanupFn()},r.ref}(n,E=>{this.all.has(E)&&this.queue.set(E,s)},i);let h;this.all.add(u),u.notify();const m=()=>{u.cleanup(),h?.(),this.all.delete(u),this.queue.delete(u)};return h=r?.onDestroy(m),{destroy:m}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new e})}return e})();function lb(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?s=h:1==s?i=Ld(i,h):2==s&&(r=Ld(r,h+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function dy(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(lr(s)),En(s)&&t1(s,r);const u=n.type;if(8&u)dy(e,t,n.child,r);else if(32&u){const h=y(n,t);let m;for(;m=h();)r.push(m)}else if(16&u){const h=Pt(t,n);if(Array.isArray(h))r.push(...h);else{const m=b(t[Mr]);dy(m[dt],m,h,r,!0)}}n=i?n.projectionNext:n.next}return r}function t1(e,t){for(let n=mi;n<e.length;n++){const r=e[n],i=r[dt].firstChild;null!==i&&dy(r[dt],r,i,t)}e[zs]!==e[sr]&&t.push(e[zs])}function ub(e,t,n,r=!0){const i=t[Eu],s=i.rendererFactory,u=i.afterRenderEventManager;s.begin?.(),u?.begin();try{n1(e,t,e.template,n)}catch(m){throw r&&Jx(t,m),m}finally{s.end?.(),i.effectManager?.flush(),u?.end()}}function n1(e,t,n,r){const i=t[hn];if(256!=(256&i)){t[Eu].effectManager?.flush(),rl(t);try{$c(t),function ms(e){return Dt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&$x(e,t,n,2,r);const u=3==(3&i);if(u){const E=e.preOrderCheckHooks;null!==E&&Nu(t,E,null)}else{const E=e.preOrderHooks;null!==E&&rs(t,E,0,null),mf(t,0)}if(function XO(e){for(let t=S(e);null!==t;t=T(t)){if(!t[vg])continue;const n=t[Hs];for(let r=0;r<n.length;r++){Fh(n[r])}}}(t),r1(t,2),null!==e.contentQueries&&Zx(e,t),u){const E=e.contentCheckHooks;null!==E&&Nu(t,E)}else{const E=e.contentHooks;null!==E&&rs(t,E,1),mf(t,1)}!function DO(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Nx(t,no);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ks(~s);else{const u=s,h=n[++i],m=n[++i];$i(h,u),r.dirty=!1;const E=ef(r);try{m(2,t[u])}finally{kl(r,E)}}}}finally{null===t[no]&&Fx(t,no),Ks(-1)}}(e,t);const h=e.components;null!==h&&s1(t,h,0);const m=e.viewQuery;if(null!==m&&Lw(2,m,r),u){const E=e.viewCheckHooks;null!==E&&Nu(t,E)}else{const E=e.viewHooks;null!==E&&rs(t,E,2),mf(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[hn]&=-73,zc(t)}finally{ol()}}}function r1(e,t){for(let n=S(e);null!==n;n=T(n))for(let r=mi;r<n.length;r++)o1(n[r],t)}function JO(e,t,n){o1(jr(t,e),n)}function o1(e,t){if(!function Iu(e){return 128==(128&e[hn])}(e))return;const n=e[dt],r=e[hn];if(80&r&&0===t||1024&r||2===t)n1(n,e,n.template,e[kr]);else if(e[ma]>0){r1(e,1);const i=n.components;null!==i&&s1(e,i,1)}}function s1(e,t,n){for(let r=0;r<t.length;r++)JO(e,t[r],n)}class fy{get rootNodes(){const t=this._lView,n=t[dt];return dy(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kr]}set context(t){this._lView[kr]=t}get destroyed(){return 256==(256&this._lView[hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Dr];if(En(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(J(t,r),Gl(n,r))}this._attachedToViewContainer=!1}K(this._lView[dt],this._lView)}onDestroy(t){!function Hc(e,t){if(256==(256&e[hn]))throw new Te(911,!1);null===e[Fo]&&(e[Fo]=[]),e[Fo].push(t)}(this._lView,t)}markForCheck(){uy(this._cdRefInjectingView||this._lView)}detach(){this._lView[hn]&=-129}reattach(){this._lView[hn]|=128}detectChanges(){ub(this._lView[dt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function X(e,t){At(e,t,t[dn],2,null,null)}(this._lView[dt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=t}}class eN extends fy{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ub(t[dt],t,t[kr],!1)}checkNoChanges(){}get context(){return null}}class a1 extends xn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=In(t);return new hy(n,this.ngModule)}}function l1(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class nN{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Sc(r);const i=this.injector.get(t,ww,r);return i!==ww||n===ww?i:this.parentInjector.get(t,n,r)}}class hy extends _t{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=l1(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return l1(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function hv(e){return e.map(qd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof Ds?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const u=s?new nN(t,s):t,h=u.get(Pr,null);if(null===h)throw new Te(407,!1);const I={rendererFactory:h,sanitizer:u.get(nb,null),effectManager:u.get(e1,null),afterRenderEventManager:u.get(Tw,null)},O=h.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",ee=r?function xO(e,t,n,r){const s=r.get(kx,!1)||n===Po.ShadowDom,u=e.selectRootElement(t,s);return function SO(e){Hx(e)}(u),u}(O,r,this.componentDef.encapsulation,u):L(O,$,function tN(e){const t=e.toLowerCase();return"svg"===t?Mu:"math"===t?"math":null}($)),Ve=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ye=null;null!==ee&&(ye=ly(ee,u,!0));const it=Pw(0,null,null,1,0,null,null,null,null,null,null),wt=sb(null,it,null,Ve,null,null,I,O,u,null,ye);let Ht,Kn;rl(wt);try{const Xn=this.componentDef;let fi,Oi=null;Xn.findHostDirectiveDefs?(fi=[],Oi=new Map,Xn.findHostDirectiveDefs(Xn,fi,Oi),fi.push(Xn)):fi=[Xn];const Mo=function iN(e,t){const n=e[dt],r=pn;return e[r]=t,fm(n,r,2,"#host",null)}(wt,ee),Yf=function oN(e,t,n,r,i,s,u){const h=i[dt];!function sN(e,t,n,r){for(const i of e)t.mergedAttrs=Ic(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(lb(t,t.mergedAttrs,!0),null!==n&&Ze(r,n,t))}(r,e,t,u);let m=null;null!==t&&(m=ly(t,i[to]));const E=s.rendererFactory.createRenderer(t,n);let x=16;n.signals?x=4096:n.onPush&&(x=64);const I=sb(i,zx(n),null,x,i[e.index],e,s,E,null,null,m);return h.firstCreatePass&&Nw(h,e,r.length-1),ab(i,I),i[e.index]=I}(Mo,ee,Xn,fi,wt,I,O);Kn=Vc(it,pn),ee&&function lN(e,t,n,r){if(r)Tc(e,n,["ng-version",JP.full]);else{const{attrs:i,classes:s}=function Tl(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!yt(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Tc(e,n,i),s&&s.length>0&&zn(e,n,s.join(" "))}}(O,Xn,ee,r),void 0!==n&&function uN(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Kn,this.ngContentSelectors,n),Ht=function aN(e,t,n,r,i,s){const u=Kr(),h=i[dt],m=oo(u,i);Gx(h,i,u,n,null,r);for(let x=0;x<n.length;x++)Ti(al(i,h,u.directiveStart+x,u),i);qx(h,i,u),m&&Ti(m,i);const E=al(i,h,u.directiveStart+u.componentOffset,u);if(e[kr]=i[kr]=E,null!==s)for(const x of s)x(E,t);return Aw(h,u,e),E}(Yf,Xn,fi,Oi,wt,[cN]),Vw(it,wt,null)}finally{ol()}return new rN(this.componentType,Ht,Wi(Kn,wt),wt,Kn)}}class rN extends nt{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new eN(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Bw(s[dt],s,i,t,n),this.previousInputValues.set(t,n),uy(jr(this._tNode.index,s))}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function cN(){const e=Kr();gf(je()[dt],e)}function nr(e){let t=function u1(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(hs(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Te(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const u=e;u.inputs=cb(e.inputs),u.inputTransforms=cb(e.inputTransforms),u.declaredInputs=cb(e.declaredInputs),u.outputs=cb(e.outputs);const h=i.hostBindings;h&&pN(e,h);const m=i.viewQuery,E=i.contentQueries;if(m&&fN(e,m),E&&hN(e,E),vu(e.inputs,i.inputs),vu(e.declaredInputs,i.declaredInputs),vu(e.outputs,i.outputs),null!==i.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),vu(u.inputTransforms,i.inputTransforms)),hs(i)&&i.data.animation){const x=e.data;x.animation=(x.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let u=0;u<s.length;u++){const h=s[u];h&&h.ngInherit&&h(e),h===nr&&(n=!1)}}t=Object.getPrototypeOf(t)}!function dN(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ic(i.hostAttrs,n=Ic(n,i.hostAttrs))}}(r)}function cb(e){return e===Vs?{}:e===On?[]:e}function fN(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function hN(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,s)=>{t(r,i,s),n(r,i,s)}:t}function pN(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function ls(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function xs(e,t,n,r){const i=je();return ls(i,Ca(),t)&&(kn(),Ju(_r(),i,e,t,n,r)),xs}function qw(e,t,n,r,i,s,u,h){const m=je(),E=kn(),x=e+pn,I=E.firstCreatePass?function VN(e,t,n,r,i,s,u,h,m){const E=t.consts,x=fm(t,e,4,u||null,_a(E,h));Ow(t,n,x,_a(E,m)),gf(t,x);const I=x.tView=Pw(2,x,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,E,null);return null!==t.queries&&(t.queries.template(t,x),I.queries=t.queries.embeddedTView(x)),x}(x,E,m,t,n,r,i,s,u):E.data[x];ns(I,!1);const O=S1(E,m,I,e);sl()&&Qe(E,m,O,I),Ti(O,m),ab(m,m[x]=Kx(O,m,O,I)),Qd(I)&&kw(E,m,I),null!=u&&Rw(m,I,h)}let S1=function M1(e,t,n,r){return xa(!0),t[dn].createComment("")};function yy(e){return function Tu(e,t){return e[t]}(function Vi(){return Dt.lFrame.contextLView}(),pn+e)}function Dp(e,t,n){const r=je();return ls(r,Ca(),t)&&La(kn(),_r(),r,e,t,r[dn],n,!1),Dp}function Ww(e,t,n,r,i){const u=i?"class":"style";Bw(e,n,t.inputs[u],u,r)}function So(e,t,n,r){const i=je(),s=kn(),u=pn+e,h=i[dn],m=s.firstCreatePass?function UN(e,t,n,r,i,s){const u=t.consts,m=fm(t,e,2,r,_a(u,i));return Ow(t,n,m,_a(u,s)),null!==m.attrs&&lb(m,m.attrs,!1),null!==m.mergedAttrs&&lb(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(u,s,i,t,n,r):s.data[u],E=T1(s,i,m,h,t,e);i[u]=E;const x=Qd(m);return ns(m,!0),Ze(h,E,m),32!=(32&m.flags)&&sl()&&Qe(s,i,E,m),0===function Cg(){return Dt.lFrame.elementDepthCount}()&&Ti(E,i),function br(){Dt.lFrame.elementDepthCount++}(),x&&(kw(s,i,m),Aw(s,m,i)),null!==r&&Rw(i,m),So}function Ko(){let e=Kr();Bl()?$o():(e=e.parent,ns(e,!1));const t=e;(function wa(e){return Dt.skipHydrationRootTNode===e})(t)&&function Eo(){Dt.skipHydrationRootTNode=null}(),function cf(){Dt.lFrame.elementDepthCount--}();const n=kn();return n.firstCreatePass&&(gf(n,e),Cn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Gc(e){return 0!=(8&e.flags)}(t)&&Ww(n,t,je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Vu(e){return 0!=(16&e.flags)}(t)&&Ww(n,t,je(),t.stylesWithoutHost,!1),Ko}function Xs(e,t,n,r){return So(e,t,n,r),Ko(),Xs}let T1=(e,t,n,r,i,s)=>(xa(!0),L(r,i,function Sg(){return Dt.lFrame.currentNamespace}()));function mb(e,t,n){const r=je(),i=kn(),s=e+pn,u=i.firstCreatePass?function qN(e,t,n,r,i){const s=t.consts,u=_a(s,r),h=fm(t,e,8,"ng-container",u);return null!==u&&lb(h,u,!0),Ow(t,n,h,_a(s,i)),null!==t.queries&&t.queries.elementStart(t,h),h}(s,i,r,t,n):i.data[s];ns(u,!0);const h=A1(i,r,u,e);return r[s]=h,sl()&&Qe(i,r,h,u),Ti(h,r),Qd(u)&&(kw(i,r,u),Aw(i,u,r)),null!=n&&Rw(r,u),mb}function vb(){let e=Kr();const t=kn();return Bl()?$o():(e=e.parent,ns(e,!1)),t.firstCreatePass&&(gf(t,e),Cn(e)&&t.queries.elementEnd(e)),vb}let A1=(e,t,n,r)=>(xa(!0),F(t[dn],""));function by(e){return!!e&&"function"==typeof e.then}function R1(e){return!!e&&"function"==typeof e.subscribe}function co(e,t,n,r){const i=je(),s=kn(),u=Kr();return function O1(e,t,n,r,i,s,u){const h=Qd(r),E=e.firstCreatePass&&Qx(e),x=t[kr],I=Yx(t);let O=!0;if(3&r.type||u){const ne=oo(r,t),ge=u?u(ne):ne,Ve=I.length,ye=u?wt=>u(lr(wt[r.index])):r.index;let it=null;if(!u&&h&&(it=function ZN(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const u=i[s];if(u===n&&i[s+1]===r){const h=t[No],m=i[s+2];return h.length>m?h[m]:null}"string"==typeof u&&(s+=2)}return null}(e,t,i,r.index)),null!==it)(it.__ngLastListenerFn__||it).__ngNextListenerFn__=s,it.__ngLastListenerFn__=s,O=!1;else{s=F1(r,t,x,s,!1);const wt=n.listen(ge,i,s);I.push(s,wt),E&&E.push(i,ye,Ve,Ve+1)}}else s=F1(r,t,x,s,!1);const $=r.outputs;let ee;if(O&&null!==$&&(ee=$[i])){const ne=ee.length;if(ne)for(let ge=0;ge<ne;ge+=2){const Ht=t[ee[ge]][ee[ge+1]].subscribe(s),Kn=I.length;I.push(s,Ht),E&&E.push(i,r.index,Kn,-(Kn+1))}}}(s,i,i[dn],u,e,t,r),co}function N1(e,t,n,r){try{return Vo(6,t,n),!1!==n(r)}catch(i){return Jx(e,i),!1}finally{Vo(7,t,n)}}function F1(e,t,n,r,i){return function s(u){if(u===Function)return r;uy(e.componentOffset>-1?jr(e.index,t):t);let m=N1(t,n,r,u),E=s.__ngNextListenerFn__;for(;E;)m=N1(t,n,E,u)&&m,E=E.__ngNextListenerFn__;return i&&!1===m&&u.preventDefault(),m}}function Em(e=1){return function Pu(e){return(Dt.lFrame.contextLView=function Ev(e,t){for(;e>0;)t=t[Du],e--;return t}(e,Dt.lFrame.contextLView))[kr]}(e)}function YN(e,t){let n=null;const r=function ni(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?qn(e,s,!0):mg(r,s))return i}else n=i}return n}function Kw(e){const t=je()[Mr][ii];if(!t.projection){const r=t.projection=ll(e?e.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const u=e?YN(s,e):0;null!==u&&(i[u]?i[u].projectionNext=s:r[u]=s,i[u]=s),s=s.next}}}function _y(e,t=0,n){const r=je(),i=kn(),s=fm(i,pn+e,16,null,n||null);null===s.projection&&(s.projection=t),$o(),(!r[Lo]||Fl())&&32!=(32&s.flags)&&function Ot(e,t,n){Vt(t[dn],0,t,n,se(e,n,t),We(n.parent||t[ii],n,t))}(i,r,s)}function yb(e,t){return e<<17|t<<2}function Ff(e){return e>>17&32767}function Yw(e){return 2|e}function Cp(e){return(131068&e)>>2}function Qw(e,t){return-131069&e|t<<2}function Xw(e){return 1|e}function q1(e,t,n,r,i){const s=e[n+1],u=null===t;let h=r?Ff(s):Cp(s),m=!1;for(;0!==h&&(!1===m||u);){const x=e[h+1];n2(e[h],t)&&(m=!0,e[h+1]=r?Xw(x):Yw(x)),h=r?Ff(x):Cp(x)}m&&(e[n+1]=r?Yw(s):Xw(s))}function n2(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ju(e,t)>=0}function Jw(e,t,n){return Zl(e,t,n,!1),Jw}function Js(e,t){return Zl(e,t,null,!0),Js}function Zl(e,t,n,r){const i=je(),s=kn(),u=function vs(e){const t=Dt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function eS(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Mi()],u=function J1(e,t){return t>=e.expandoStartIndex}(e,n);(function iS(e,t){return 0!=(e.flags&(t?8:16))})(s,r)&&null===t&&!u&&(t=!1),t=function f2(e,t,n,r){const i=function zi(e){const t=Dt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=wy(n=eE(null,e,t,n,r),t.attrs,r),s=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==i)if(n=eE(i,e,t,n,r),null===s){let m=function h2(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Cp(r))return e[Ff(r)]}(e,t,r);void 0!==m&&Array.isArray(m)&&(m=eE(null,e,t,m[1],r),m=wy(m,t.attrs,r),function p2(e,t,n,r){e[Ff(n?t.classBindings:t.styleBindings)]=r}(e,t,r,m))}else s=function g2(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=wy(r,e[s].hostAttrs,n);return wy(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function e2(e,t,n,r,i,s){let u=s?t.classBindings:t.styleBindings,h=Ff(u),m=Cp(u);e[r]=n;let x,E=!1;if(Array.isArray(n)?(x=n[1],(null===x||ju(n,x)>0)&&(E=!0)):x=n,i)if(0!==m){const O=Ff(e[h+1]);e[r+1]=yb(O,h),0!==O&&(e[O+1]=Qw(e[O+1],r)),e[h+1]=function XN(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=yb(h,0),0!==h&&(e[h+1]=Qw(e[h+1],r)),h=r;else e[r+1]=yb(m,0),0===h?h=r:e[m+1]=Qw(e[m+1],r),m=r;E&&(e[r+1]=Yw(e[r+1])),q1(e,x,r,!0),q1(e,x,r,!1),function t2(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&ju(s,t)>=0&&(n[r+1]=Xw(n[r+1]))}(t,x,e,r,s),u=yb(h,m),s?t.classBindings=u:t.styleBindings=u}(i,s,t,n,u,r)}}(s,e,u,r),t!==wn&&ls(i,u,t)&&function nS(e,t,n,r,i,s,u,h){if(!(3&t.type))return;const m=e.data,E=m[h+1],x=function JN(e){return 1==(1&e)}(E)?rS(m,t,n,i,Cp(E),u):void 0;bb(x)||(bb(s)||function QN(e){return 2==(2&e)}(E)&&(s=rS(m,null,n,i,h,u)),function fn(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:os.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=os.Important),e.setStyle(n,r,i,s))}}(r,u,function Ws(e,t){return lr(t[e])}(Mi(),n),i,s))}(s,s.data[Mi()],i,i[dn],e,i[u+1]=function b2(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ei(function Lr(e){return e instanceof ur?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,u)}function eE(e,t,n,r,i){let s=null;const u=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<u&&(s=t[h],r=wy(r,s.hostAttrs,i),s!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function wy(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const u=t[s];"number"==typeof u?i=u:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ir(e,u,!!n||t[++s]))}return void 0===e?null:e}function rS(e,t,n,r,i,s){const u=null===t;let h;for(;i>0;){const m=e[i],E=Array.isArray(m),x=E?m[1]:m,I=null===x;let O=n[i+1];O===wn&&(O=I?On:void 0);let $=I?tp(O,r):x===r?O:void 0;if(E&&!bb($)&&($=tp(m,r)),bb($)&&(h=$,u))return h;const ee=e[i+1];i=u?Ff(ee):Cp(ee)}if(null!==t){let m=s?t.residualClasses:t.residualStyles;null!=m&&(h=tp(m,r))}return h}function bb(e){return void 0!==e}function Ey(e,t=""){const n=je(),r=kn(),i=e+pn,s=r.firstCreatePass?fm(r,i,1,t,null):r.data[i],u=oS(r,n,s,t,e);n[i]=u,sl()&&Qe(r,n,u,s),ns(s,!1)}let oS=(e,t,n,r,i)=>(xa(!0),function R(e,t){return e.createText(t)}(t[dn],r));function nE(e,t,n){const r=je();return ls(r,Ca(),t)&&La(kn(),_r(),r,e,t,r[dn],n,!0),nE}const xm="en-US";let MS=xm;function oE(e,t,n,r,i){if(e=qt(e),Array.isArray(e))for(let s=0;s<e.length;s++)oE(e[s],t,n,r,i);else{const s=kn(),u=je(),h=Kr();let m=Qu(e)?e:qt(e.provide);const E=Q0(e),x=1048575&h.providerIndexes,I=h.directiveStart,O=h.providerIndexes>>20;if(Qu(e)||!e.multi){const $=new jc(E,i,Re),ee=aE(m,t,i?x:x+O,I);-1===ee?(Uo(so(h,u),s,m),sE(s,e,t.length),t.push(m),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),n.push($),u.push($)):(n[ee]=$,u[ee]=$)}else{const $=aE(m,t,x+O,I),ee=aE(m,t,x,x+O),ge=ee>=0&&n[ee];if(i&&!ge||!i&&!($>=0&&n[$])){Uo(so(h,u),s,m);const Ve=function $F(e,t,n,r,i){const s=new jc(e,n,Re);return s.multi=[],s.index=t,s.componentProviders=0,XS(s,i,r&&!n),s}(i?VF:BF,n.length,i,r,E);!i&&ge&&(n[ee].providerFactory=Ve),sE(s,e,t.length,0),t.push(m),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),n.push(Ve),u.push(Ve)}else sE(s,e,$>-1?$:ee,XS(n[i?ee:$],E,!i&&r));!i&&r&&ge&&n[ee].componentProviders++}}}function sE(e,t,n,r){const i=Qu(t),s=function Y0(e){return!!e.useClass}(t);if(i||s){const m=(s?qt(t.useClass):t).prototype.ngOnDestroy;if(m){const E=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const x=E.indexOf(n);-1===x?E.push(n,[r,m]):E[x+1].push(r,m)}else E.push(n,m)}}}function XS(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function aE(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function BF(e,t,n,r){return lE(this.multi,[])}function VF(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const u=this.providerFactory.componentProviders,h=al(n,n[dt],this.providerFactory.index,r);s=h.slice(0,u),lE(i,s);for(let m=u;m<h.length;m++)s.push(h[m])}else s=[],lE(i,s);return s}function lE(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function cr(e,t=[]){return n=>{n.providersResolver=(r,i)=>function LF(e,t,n){const r=kn();if(r.firstCreatePass){const i=hs(e);oE(n,r.data,r.blueprint,i,!0),oE(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Sp{}class JS{}class uE extends Sp{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a1(this);const i=Bi(t);this._bootstrapComponents=cd(i.bootstrap),this._r3Injector=_x(t,n,[{provide:Sp,useValue:this},{provide:xn,useValue:this.componentFactoryResolver},...r],ei(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cE extends JS{constructor(t){super(),this.moduleType=t}create(t){return new uE(this.moduleType,t,[])}}class eM extends Sp{constructor(t){super(),this.componentFactoryResolver=new a1(this),this.instance=null;const n=new om([...t.providers,{provide:Sp,useValue:this},{provide:xn,useValue:this.componentFactoryResolver}],t.parent||im(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function dE(e,t,n=null){return new eM({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let UF=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=W0(0,n.type),i=r.length>0?dE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ct({token:e,providedIn:"environment",factory:()=>new e(Ke(Ds))})}return e})();function tM(e){e.getStandaloneInjector=t=>t.get(UF).getOrCreateStandaloneInjector(e)}function gL(){return this._results[Symbol.iterator]()}class hE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Qn)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=hE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gL)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Go(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Jh(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function vL(e,t,n,r=!0){const i=t[dt];if(function te(e,t,n,r){const i=mi+r,s=n.length;r>0&&(n[i-1][es]=t),r<s-mi?(t[es]=n[i],Ef(n,mi+r,t)):(n.push(t),t[es]=null),t[Dr]=n;const u=t[Dn];null!==u&&n!==u&&function j(e,t){const n=e[Hs];t[Mr]!==t[Dr][Dr][Mr]&&(e[vg]=!0),null===n?e[Hs]=[t]:n.push(t)}(u,t);const h=t[bt];null!==h&&h.insertView(e),t[hn]|=128}(i,t,e,n),r){const s=Xt(n,e),u=t[dn],h=Ae(u,e[zs]);null!==h&&function Y(e,t,n,r,i,s){r[sr]=i,r[ii]=t,At(e,r,n,1,i,s)}(i,e[ii],u,t,h,s)}}let Ql=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=_L}return e})();const yL=Ql,bL=class extends yL{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function mL(e,t,n,r){const i=t.tView,h=sb(e,i,n,4096&e[hn]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);h[Dn]=e[t.index];const E=e[bt];return null!==E&&(h[bt]=E.createEmbeddedView(i)),Vw(i,h,n),h}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new fy(i)}};function _L(){return Cb(Kr(),je())}function Cb(e,t){return 4&e.type?new bL(t,e,Wi(e,t)):null}let gl=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=SL}return e})();function SL(){return bM(Kr(),je())}const ML=gl,vM=class extends ML{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Wi(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const t=li(this._hostTNode,this._hostLView);if($u(t)){const n=$l(t,this._hostLView),r=ys(t);return new Ui(n[dt].data[r+8],n)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=yM(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const h=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(h,i,false),h}createComponent(t,n,r,i,s){const u=t&&!function ws(e){return"function"==typeof e}(t);let h;if(u)h=n;else{const ne=n||{};h=ne.index,r=ne.injector,i=ne.projectableNodes,s=ne.environmentInjector||ne.ngModuleRef}const m=u?t:new hy(In(t)),E=r||this.parentInjector;if(!s&&null==m.ngModule){const ge=(u?E:this.parentInjector).get(Ds,null);ge&&(s=ge)}In(m.componentType??{});const $=m.create(E,i,null,s);return this.insertImpl($.hostView,h,false),$}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function Ci(e){return En(e[Dr])}(i)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const E=i[Dr],x=new vM(E,E[ii],E[Dr]);x.detach(x.indexOf(t))}}const u=this._adjustIndex(n),h=this._lContainer;return vL(h,i,u,!r),t.attachToViewContainerRef(),Ef(pE(h),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=yM(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=J(this._lContainer,n);r&&(Gl(pE(this._lContainer),n),K(r[dt],r))}detach(t){const n=this._adjustIndex(t,-1),r=J(this._lContainer,n);return r&&null!=Gl(pE(this._lContainer),n)?new fy(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function yM(e){return e[8]}function pE(e){return e[8]||(e[8]=[])}function bM(e,t){let n;const r=t[e.index];return En(r)?n=r:(n=Kx(r,t,null,e),t[e.index]=n,ab(t,n)),_M(n,t,e,r),new vM(n,e,t)}let _M=function wM(e,t,n,r){if(e[zs])return;let i;i=8&n.type?lr(r):function TL(e,t){const n=e[dn],r=n.createComment(""),i=oo(t,e);return ve(n,Ae(n,i),r,function Xe(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[zs]=i};class gE{constructor(t){this.queryList=t,this.matches=null}clone(){return new gE(this.queryList)}setDirty(){this.queryList.setDirty()}}class mE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const u=n.getByIndex(s);i.push(this.queries[u.indexInDeclarationView].clone())}return new mE(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==SM(t,n).matches&&this.queries[n].setDirty()}}class EM{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class vE{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new vE(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yE{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new yE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,kL(n,s)),this.matchTNodeWithReadOption(t,n,Hu(n,t,s,!1,!1))}else r===Ql?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Hu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Un||i===gl||i===Ql&&4&n.type)this.addMatch(n.index,-2);else{const s=Hu(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function kL(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function PL(e,t,n,r){return-1===n?function RL(e,t){return 11&e.type?Wi(e,t):4&e.type?Cb(e,t):null}(t,e):-2===n?function OL(e,t,n){return n===Un?Wi(t,e):n===Ql?Cb(t,e):n===gl?bM(t,e):void 0}(e,t,r):al(e,e[dt],n,t)}function DM(e,t,n,r){const i=t[bt].queries[r];if(null===i.matches){const s=e.data,u=n.matches,h=[];for(let m=0;m<u.length;m+=2){const E=u[m];h.push(E<0?null:PL(t,s[E],u[m+1],n.metadata.read))}i.matches=h}return i.matches}function bE(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const u=DM(e,t,i,n);for(let h=0;h<s.length;h+=2){const m=s[h];if(m>0)r.push(u[h/2]);else{const E=s[h+1],x=t[-m];for(let I=mi;I<x.length;I++){const O=x[I];O[Dn]===O[Dr]&&bE(O[dt],O,E,r)}if(null!==x[Hs]){const I=x[Hs];for(let O=0;O<I.length;O++){const $=I[O];bE($[dt],$,E,r)}}}}}return r}function fd(e){const t=je(),n=kn(),r=Si();Vl(r+1);const i=SM(n,r);if(e.dirty&&function Nh(e){return 4==(4&e[hn])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?bE(n,t,r,[]):DM(n,t,i,r);e.reset(s,Cs),e.notifyOnChanges()}return!0}return!1}function Ay(e,t,n){const r=kn();r.firstCreatePass&&(xM(r,new EM(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),CM(r,je(),t)}function ky(e,t,n,r){const i=kn();if(i.firstCreatePass){const s=Kr();xM(i,new EM(t,n,r),s.index),function FL(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}CM(i,je(),n)}function hd(){return function NL(e,t){return e[bt].queries[t].queryList}(je(),Si())}function CM(e,t,n){const r=new hE(4==(4&n));(function IO(e,t,n,r){const i=Yx(t);i.push(n),e.firstCreatePass&&Qx(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[bt]&&(t[bt]=new mE),t[bt].queries.push(new gE(r))}function xM(e,t,n){null===e.queries&&(e.queries=new vE),e.queries.track(new yE(t,n))}function SM(e,t){return e.queries.getByIndex(t)}const xE=new st("Application Initializer");let SE=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ct(xE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(by(s))n.push(s);else if(R1(s)){const u=new Promise((h,m)=>{s.subscribe({complete:h,error:m})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),UM=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const rc=new st("LocaleId",{providedIn:"root",factory:()=>ct(rc,vn.Optional|vn.SkipSelf)||function iB(){return typeof $localize<"u"&&$localize.locale||xm}()});let Mb=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yi(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class aB{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let jM=(()=>{class e{compileModuleSync(n){return new cE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=cd(Bi(n).declarations).reduce((u,h)=>{const m=In(h);return m&&u.push(new hy(m)),u},[]);return new aB(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const KM=new st(""),Ib=new st("");let kE,IE=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kE||(function MB(e){kE=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Rn),Ke(AE),Ke(Ib))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})(),AE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return kE?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Lf=null;const ZM=new st("AllowMultipleToken"),RE=new st("PlatformDestroyListeners"),PE=new st("appBootstrapListener");class QM{constructor(t,n){this.name=t,this.token=n}}function JM(e,t,n=[]){const r=`Platform: ${t}`,i=new st(r);return(s=[])=>{let u=OE();if(!u||u.injector.get(ZM,!1)){const h=[...n,...s,{provide:i,useValue:!0}];e?e(h):function AB(e){if(Lf&&!Lf.get(ZM,!1))throw new Te(400,!1);(function YM(){!function nf(e){kh=e}(()=>{throw new Te(600,!1)})})(),Lf=e;const t=e.get(tT);(function XM(e){e.get(X0,null)?.forEach(n=>n())})(e)}(function eT(e=[],t){return Fa.create({name:t,providers:[{provide:Qv,useValue:"platform"},{provide:RE,useValue:new Set([()=>Lf=null])},...e]})}(h,r))}return function RB(e){const t=OE();if(!t)throw new Te(401,!1);return t}()}}function OE(){return Lf?.get(tT)??null}let tT=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function PB(e="zone.js",t){return"noop"===e?new dO:"zone.js"===e?new Rn(t):e}(r?.ngZone,function nT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function HF(e,t,n){return new uE(e,t,n)}(n.moduleType,this.injector,function aT(e){return[{provide:Rn,useFactory:e},{provide:mp,multi:!0,useFactory:()=>{const t=ct(NB,{optional:!0});return()=>t.initialize()}},{provide:sT,useFactory:OB},{provide:xx,useFactory:Sx}]}(()=>i)),u=s.injector.get(ud,null);return i.runOutsideAngular(()=>{const h=i.onError.subscribe({next:m=>{u.handleError(m)}});s.onDestroy(()=>{Ab(this._modules,s),h.unsubscribe()})}),function rT(e,t,n){try{const r=n();return by(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,i,()=>{const h=s.injector.get(SE);return h.runInitializers(),h.donePromise.then(()=>(function TS(e){Qi(e,"Expected localeId to be defined"),"string"==typeof e&&(MS=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(rc,xm)||xm),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=iT({},r);return function TB(e,t,n){const r=new cE(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Mp);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Te(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(RE,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Fa))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function iT(e,t){return Array.isArray(t)?t.reduce(iT,e):{...e,...t}}let Mp=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ct(sT),this.zoneIsStable=ct(xx),this.componentTypes=[],this.components=[],this.isStable=ct(Mb).hasPendingTasks.pipe(go(n=>n?Gt(!1):this.zoneIsStable),rg(),ah()),this._injector=ct(Ds)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof _t;if(!this._injector.get(SE).done)throw!i&&function $s(e){const t=In(e)||Sr(e)||gi(e);return null!==t&&t.standalone}(n),new Te(405,!1);let u;u=i?n:this._injector.get(xn).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const h=function IB(e){return e.isBoundToModule}(u)?void 0:this._injector.get(Sp),E=u.create(Fa.NULL,[],r||u.selector,h),x=E.location.nativeElement,I=E.injector.get(KM,null);return I?.registerApplication(x),E.onDestroy(()=>{this.detachView(E.hostView),Ab(this.components,E),I?.unregisterApplication(x)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ab(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(PE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ab(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Te(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ab(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const sT=new st("",{providedIn:"root",factory:()=>ct(ud).handleError.bind(void 0)});function OB(){const e=ct(Rn),t=ct(ud);return n=>e.runOutsideAngular(()=>t.handleError(n))}let NB=(()=>{class e{constructor(){this.zone=ct(Rn),this.applicationRef=ct(Mp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Tp=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=LB}return e})();function LB(e){return function BB(e,t,n){if(gn(e)&&!n){const r=jr(e.index,t);return new fy(r,r)}return 47&e.type?new fy(t[Mr],t):null}(Kr(),je(),16==(16&e))}const QB=JM(null,"core",[]);let XB=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Mp))};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({})}return e})(),$E=null;function Bf(){return $E}class fV{}const Vr=new st("DocumentToken");let zE=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return ct(pV)},providedIn:"platform"})}return e})();const hV=new st("Location Initialized");let pV=(()=>{class e extends zE{constructor(){super(),this._doc=ct(Vr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bf().getBaseHref(this._doc)}onPopState(n){const r=Bf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Bf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function HE(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function xT(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function pd(e){return e&&"?"!==e[0]?"?"+e:e}let Ap=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return ct(MT)},providedIn:"root"})}return e})();const ST=new st("appBaseHref");let MT=(()=>{class e extends Ap{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ct(Vr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return HE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+pd(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const u=this.prepareExternalUrl(i+pd(s));this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){const u=this.prepareExternalUrl(i+pd(s));this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(zE),Ke(ST,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gV=(()=>{class e extends Ap{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=HE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let u=this.prepareExternalUrl(i+pd(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){let u=this.prepareExternalUrl(i+pd(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(zE),Ke(ST,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})(),UE=(()=>{class e{constructor(n){this._subject=new Qn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function yV(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(xT(TT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+pd(r))}normalize(n){return e.stripTrailingSlash(function vV(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,TT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pd(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pd(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=pd;static#t=this.joinWithSlash=HE;static#n=this.stripTrailingSlash=xT;static#r=this.\u0275fac=function(r){return new(r||e)(Ke(Ap))};static#i=this.\u0275prov=Ct({token:e,factory:function(){return function mV(){return new UE(Ke(Ap))}()},providedIn:"root"})}return e})();function TT(e){return e.replace(/\/index.html$/,"")}function LT(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let eD=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new s$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){zT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){zT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Re(gl),Re(Ql))};static#t=this.\u0275dir=Lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class s${constructor(){this.$implicit=null,this.ngIf=null}}function zT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ei(t)}'.`)}let oD=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({})}return e})();const jT="browser";function GT(e){return"server"===e}let N$=(()=>{class e{static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new F$(Ke(Vr),window)})}return e})();class F${constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function L$(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qT{}class s5 extends fV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lD extends s5{static makeCurrent(){!function dV(e){$E||($E=e)}(new lD)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function a5(){return By=By||document.querySelector("base"),By?By.getAttribute("href"):null}();return null==n?null:function l5(e){Wb=Wb||document.createElement("a"),Wb.setAttribute("href",e);const t=Wb.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){By=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return LT(document.cookie,t)}}let Wb,By=null,c5=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const uD=new st("EventManagerPlugins");let QT=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Te(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(uD),Ke(Rn))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();class XT{constructor(t){this._doc=t}}const cD="ng-app-id";let JT=(()=>{class e{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=GT(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${cD}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(cD),s;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(cD,this.appId),u}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,u=s.get(r)?.elements;u?u.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Vr),Ke(sm),Ke(ey,8),Ke(Xu))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const dD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fD=/%COMP%/g,p5=new st("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tI(e,t){return t.map(n=>n.replace(fD,e))}let hD=(()=>{class e{constructor(n,r,i,s,u,h,m,E=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=h,this.ngZone=m,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=GT(h),this.defaultRenderer=new pD(n,u,m,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Po.ShadowDom&&(r={...r,encapsulation:Po.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof rI?i.applyToHost(n):i instanceof gD&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const u=this.doc,h=this.ngZone,m=this.eventManager,E=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(r.encapsulation){case Po.Emulated:s=new rI(m,E,r,this.appId,x,u,h,I);break;case Po.ShadowDom:return new y5(m,E,n,r,u,h,this.nonce,I);default:s=new gD(m,E,r,x,u,h,I)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(QT),Ke(JT),Ke(sm),Ke(p5),Ke(Vr),Ke(Xu),Ke(Rn),Ke(ey))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();class pD{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(dD[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(nI(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(nI(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Te(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=dD[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=dD[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(os.DashCase|os.Important)?t.style.setProperty(n,r,i&os.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&os.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Bf().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function nI(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class y5 extends pD{constructor(t,n,r,i,s,u,h,m){super(t,s,u,m),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=tI(i.id,i.styles);for(const x of E){const I=document.createElement("style");h&&I.setAttribute("nonce",h),I.textContent=x,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gD extends pD{constructor(t,n,r,i,s,u,h,m){super(t,s,u,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=m?tI(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rI extends gD{constructor(t,n,r,i,s,u,h,m){const E=i+"-"+r.id;super(t,n,r,s,u,h,m,E),this.contentAttr=function g5(e){return"_ngcontent-%COMP%".replace(fD,e)}(E),this.hostAttr=function m5(e){return"_nghost-%COMP%".replace(fD,e)}(E)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let b5=(()=>{class e extends XT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Vr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const iI=["alt","control","meta","shift"],_5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},w5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let E5=(()=>{class e extends XT{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),u=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bf().onAndCancel(n,s.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),iI.forEach(E=>{const x=r.indexOf(E);x>-1&&(r.splice(x,1),u+=E+".")}),u+=s,0!=r.length||0===s.length)return null;const m={};return m.domEventName=i,m.fullKey=u,m}static matchEventFullKeyCode(n,r){let i=_5[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),iI.forEach(u=>{u!==i&&(0,w5[u])(n)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Vr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const sI=[{provide:Xu,useValue:jT},{provide:X0,useValue:function D5(){lD.makeCurrent()},multi:!0},{provide:Vr,useFactory:function x5(){return function Jt(e){Ye=e}(document),document},deps:[]}],S5=JM(QB,"browser",sI),M5=new st(""),aI=[{provide:Ib,useClass:class u5{addToWindow(t){Tn.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Te(5103,!1);return s},Tn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tn.getAllAngularRootElements=()=>t.getAllRootElements(),Tn.frameworkStabilizers||(Tn.frameworkStabilizers=[]),Tn.frameworkStabilizers.push(r=>{const i=Tn.getAllAngularTestabilities();let s=i.length,u=!1;const h=function(m){u=u||m,s--,0==s&&r(u)};i.forEach(m=>{m.whenStable(h)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Bf().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:KM,useClass:IE,deps:[Rn,AE,Ib]},{provide:IE,useClass:IE,deps:[Rn,AE,Ib]}],lI=[{provide:Qv,useValue:"root"},{provide:ud,useFactory:function C5(){return new ud},deps:[]},{provide:uD,useClass:b5,multi:!0,deps:[Vr,Rn,Xu]},{provide:uD,useClass:E5,multi:!0,deps:[Vr]},hD,JT,QT,{provide:Pr,useExisting:hD},{provide:qT,useClass:c5,deps:[]},[]];let uI=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:sm,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(M5,12))};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({providers:[...lI,...aI],imports:[oD,XB]})}return e})(),cI=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Vr))};static#t=this.\u0275prov=Ct({token:e,factory:function(r){let i=null;return i=r?new r:function I5(){return new cI(Ke(Vr))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:N5}=Array,{getPrototypeOf:F5,prototype:L5,keys:B5}=Object;function pI(e){if(1===e.length){const t=e[0];if(N5(t))return{args:t,keys:null};if(function V5(e){return e&&"object"==typeof e&&F5(e)===L5}(t)){const n=B5(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:$5}=Array;function vD(e){return sn(t=>function z5(e,t){return $5(t)?e(...t):e(t)}(e,t))}function gI(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Kb(...e){const t=Qo(e),n=zr(e),{args:r,keys:i}=pI(e);if(0===r.length)return Hr([],t);const s=new Mt(function H5(e,t,n=lt){return r=>{mI(t,()=>{const{length:i}=e,s=new Array(i);let u=i,h=i;for(let m=0;m<i;m++)mI(t,()=>{const E=Hr(e[m],t);let x=!1;E.subscribe(hr(r,I=>{s[m]=I,x||(x=!0,h--),h||r.next(n(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>gI(i,u):lt));return n?s.pipe(vD(n)):s}function mI(e,t,n){e?Yn(n,e,t):t()}const Zb=V(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Yb(...e){return function U5(){return pu(1)}()(Hr(e,Qo(e)))}function vI(e){return new Mt(t=>{Fi(e()).subscribe(t)})}function Vy(e,t){const n=pe(e)?e:()=>e,r=i=>i.error(n());return new Mt(t?i=>t.schedule(r,0,i):r)}function yD(){return ar((e,t)=>{let n=null;e._refCount++;const r=hr(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class yI extends Mt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ue;const n=this.getSubject();t.add(this.source.subscribe(hr(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ue.EMPTY)}return t}refCount(){return yD()(this)}}function vd(e){return e<=0?()=>Jr:ar((t,n)=>{let r=0;t.subscribe(hr(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function $y(...e){const t=Qo(e);return ar((n,r)=>{(t?Yb(e,n,t):Yb(e,n)).subscribe(r)})}function eu(e,t){return ar((n,r)=>{let i=0;n.subscribe(hr(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Qb(e){return ar((t,n)=>{let r=!1;t.subscribe(hr(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function bI(e=j5){return ar((t,n)=>{let r=!1;t.subscribe(hr(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function j5(){return new Zb}function kp(e,t){const n=arguments.length>=2;return r=>r.pipe(e?eu((i,s)=>e(i,s,r)):lt,vd(1),n?Qb(t):bI(()=>new Zb))}function Am(e,t){return pe(t)?rn(e,t,1):rn(e,1)}function ho(e,t,n){const r=pe(e)||t||n?{next:e,error:t,complete:n}:e;return r?ar((i,s)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let h=!0;i.subscribe(hr(s,m=>{var E;null===(E=r.next)||void 0===E||E.call(r,m),s.next(m)},()=>{var m;h=!1,null===(m=r.complete)||void 0===m||m.call(r),s.complete()},m=>{var E;h=!1,null===(E=r.error)||void 0===E||E.call(r,m),s.error(m)},()=>{var m,E;h&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(E=r.finalize)||void 0===E||E.call(r)}))}):lt}function Rp(e){return ar((t,n)=>{let s,r=null,i=!1;r=t.subscribe(hr(n,void 0,void 0,u=>{s=Fi(e(u,Rp(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function bD(e){return e<=0?()=>Jr:ar((t,n)=>{let r=[];t.subscribe(hr(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zy(e){return ar((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Pp(e){return ar((t,n)=>{Fi(e).subscribe(hr(n,()=>n.complete(),yn)),!n.closed&&t.subscribe(n)})}const Sn="primary",Hy=Symbol("RouteTitle");class Z5{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function km(e){return new Z5(e)}function Y5(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],h=e[s];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ic(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!_I(e[i],t[i]))return!1;return!0}function _I(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function wI(e){return e.length>0?e[e.length-1]:null}function $f(e){return function O5(e){return!!e&&(e instanceof Mt||pe(e.lift)&&pe(e.subscribe))}(e)?e:by(e)?Hr(Promise.resolve(e)):Gt(e)}const X5={exact:function CI(e,t,n){if(!Op(e.segments,t.segments)||!Xb(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!CI(e.children[r],t.children[r],n))return!1;return!0},subset:xI},EI={exact:function J5(e,t){return ic(e,t)},subset:function e3(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_I(e[n],t[n]))},ignored:()=>!0};function DI(e,t,n){return X5[n.paths](e.root,t.root,n.matrixParams)&&EI[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function xI(e,t,n){return SI(e,t,t.segments,n)}function SI(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Op(i,n)||t.hasChildren()||!Xb(i,n,r))}if(e.segments.length===n.length){if(!Op(e.segments,n)||!Xb(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!xI(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Op(e.segments,i)&&Xb(e.segments,i,r)&&e.children[Sn])&&SI(e.children[Sn],t,s,r)}}function Xb(e,t,n){return t.every((r,i)=>EI[n](e[i].parameters,r.parameters))}class Rm{constructor(t=new xr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=km(this.queryParams)),this._queryParamMap}toString(){return r3.serialize(this)}}class xr{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jb(this)}}class Uy{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=km(this.parameters)),this._parameterMap}toString(){return II(this)}}function Op(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let jy=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return new _D},providedIn:"root"})}return e})();class _D{parse(t){const n=new g3(t);return new Rm(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Gy(t.root,!0)}`,r=function a3(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${e_(n)}=${e_(i)}`).join("&"):`${e_(n)}=${e_(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function o3(e){return encodeURI(e)}(t.fragment)}`:""}`}}const r3=new _D;function Jb(e){return e.segments.map(t=>II(t)).join("/")}function Gy(e,t){if(!e.hasChildren())return Jb(e);if(t){const n=e.children[Sn]?Gy(e.children[Sn],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==Sn&&r.push(`${i}:${Gy(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function n3(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Sn&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Sn&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Sn?[Gy(e.children[Sn],!1)]:[`${i}:${Gy(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Sn]?`${Jb(e)}/${n[0]}`:`${Jb(e)}/(${n.join("//")})`}}function MI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function e_(e){return MI(e).replace(/%3B/gi,";")}function wD(e){return MI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function t_(e){return decodeURIComponent(e)}function TI(e){return t_(e.replace(/\+/g,"%20"))}function II(e){return`${wD(e.path)}${function s3(e){return Object.keys(e).map(t=>`;${wD(t)}=${wD(e[t])}`).join("")}(e.parameters)}`}const l3=/^[^\/()?;#]+/;function ED(e){const t=e.match(l3);return t?t[0]:""}const u3=/^[^\/()?;=#]+/,d3=/^[^=?&#]+/,h3=/^[^&#]+/;class g3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xr([],{}):new xr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Sn]=new xr(t,n)),r}parseSegment(){const t=ED(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Te(4009,!1);return this.capture(t),new Uy(t_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function c3(e){const t=e.match(u3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ED(this.remaining);i&&(r=i,this.capture(r))}t[t_(n)]=t_(r)}parseQueryParam(t){const n=function f3(e){const t=e.match(d3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function p3(e){const t=e.match(h3);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=TI(n),s=TI(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ED(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Te(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Sn);const u=this.parseChildren();n[s]=1===Object.keys(u).length?u[Sn]:new xr([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Te(4011,!1)}}function AI(e){return e.segments.length>0?new xr([],{[Sn]:e}):e}function kI(e){const t={};for(const r of Object.keys(e.children)){const s=kI(e.children[r]);if(r===Sn&&0===s.segments.length&&s.hasChildren())for(const[u,h]of Object.entries(s.children))t[u]=h;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function m3(e){if(1===e.numberOfChildren&&e.children[Sn]){const t=e.children[Sn];return new xr(e.segments.concat(t.segments),t.children)}return e}(new xr(e.segments,t))}function Np(e){return e instanceof Rm}function RI(e){let t;const i=AI(function n(s){const u={};for(const m of s.children){const E=n(m);u[m.outlet]=E}const h=new xr(s.url,u);return s===e&&(t=h),h}(e.root));return t??i}function PI(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return DD(i,i,i,n,r);const s=function y3(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new NI(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([m,E])=>{h[m]="string"==typeof E?E.split("/"):E}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?n=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new NI(n,t,r)}(t);if(s.toRoot())return DD(i,i,new xr([],{}),n,r);const u=function b3(e,t,n){if(e.isAbsolute)return new r_(t,!0,0);if(!n)return new r_(t,!1,NaN);if(null===n.parent)return new r_(n,!0,0);const r=n_(e.commands[0])?0:1;return function _3(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Te(4005,!1);i=r.segments.length}return new r_(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),h=u.processChildren?Wy(u.segmentGroup,u.index,s.commands):FI(u.segmentGroup,u.index,s.commands);return DD(i,u.segmentGroup,h,n,r)}function n_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function qy(e){return"object"==typeof e&&null!=e&&e.outlets}function DD(e,t,n,r,i){let u,s={};r&&Object.entries(r).forEach(([m,E])=>{s[m]=Array.isArray(E)?E.map(x=>`${x}`):`${E}`}),u=e===t?n:OI(e,t,n);const h=AI(kI(u));return new Rm(h,s,i)}function OI(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:OI(s,t,n)}),new xr(e.segments,r)}class NI{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&n_(r[0]))throw new Te(4003,!1);const i=r.find(qy);if(i&&i!==wI(r))throw new Te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class r_{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function FI(e,t,n){if(e||(e=new xr([],{})),0===e.segments.length&&e.hasChildren())return Wy(e,t,n);const r=function E3(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const u=e.segments[i],h=n[r];if(qy(h))break;const m=`${h}`,E=r<n.length-1?n[r+1]:null;if(i>0&&void 0===m)break;if(m&&E&&"object"==typeof E&&void 0===E.outlets){if(!BI(m,E,u))return s;r+=2}else{if(!BI(m,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new xr(e.segments.slice(0,r.pathIndex),{});return s.children[Sn]=new xr(e.segments.slice(r.pathIndex),e.children),Wy(s,0,i)}return r.match&&0===i.length?new xr(e.segments,{}):r.match&&!e.hasChildren()?CD(e,t,n):r.match?Wy(e,0,i):CD(e,t,n)}function Wy(e,t,n){if(0===n.length)return new xr(e.segments,{});{const r=function w3(e){return qy(e[0])?e[0].outlets:{[Sn]:e}}(n),i={};if(Object.keys(r).some(s=>s!==Sn)&&e.children[Sn]&&1===e.numberOfChildren&&0===e.children[Sn].segments.length){const s=Wy(e.children[Sn],t,n);return new xr(e.segments,s.children)}return Object.entries(r).forEach(([s,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[s]=FI(e.children[s],t,u))}),Object.entries(e.children).forEach(([s,u])=>{void 0===r[s]&&(i[s]=u)}),new xr(e.segments,i)}}function CD(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(qy(s)){const m=D3(s.outlets);return new xr(r,m)}if(0===i&&n_(n[0])){r.push(new Uy(e.segments[t].path,LI(n[0]))),i++;continue}const u=qy(s)?s.outlets[Sn]:`${s}`,h=i<n.length-1?n[i+1]:null;u&&h&&n_(h)?(r.push(new Uy(u,LI(h))),i+=2):(r.push(new Uy(u,{})),i++)}return new xr(r,{})}function D3(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=CD(new xr([],{}),0,r))}),t}function LI(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function BI(e,t,n){return e==n.path&&ic(t,n.parameters)}const Ky="imperative";class oc{constructor(t,n){this.id=t,this.url=n}}class i_ extends oc{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zf extends oc{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zy extends oc{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pm extends oc{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class o_ extends oc{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VI extends oc{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C3 extends oc{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x3 extends oc{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class S3 extends oc{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M3 extends oc{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T3{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class I3{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class A3{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k3{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R3{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P3{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $I{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xD{}class SD{constructor(t){this.url=t}}class O3{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yy,this.attachRef=null}}let Yy=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new O3,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class zI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=MD(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=MD(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=TD(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return TD(t,this._root).map(n=>n.value)}}function MD(e,t){if(e===t.value)return t;for(const n of t.children){const r=MD(e,n);if(r)return r}return null}function TD(e,t){if(e===t.value)return[t];for(const n of t.children){const r=TD(e,n);if(r.length)return r.unshift(t),r}return[]}class yd{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Om(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class HI extends zI{constructor(t,n){super(t),this.snapshot=n,ID(this,t)}toString(){return this.snapshot.toString()}}function UI(e,t){const n=function N3(e,t){const u=new s_([],{},{},"",{},Sn,t,null,{});return new GI("",new yd(u,[]))}(0,t),r=new Yi([new Uy("",{})]),i=new Yi({}),s=new Yi({}),u=new Yi({}),h=new Yi(""),m=new Fp(r,i,u,h,s,Sn,t,n.root);return m.snapshot=n.root,new HI(new yd(m,[]),n)}class Fp{constructor(t,n,r,i,s,u,h,m){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=u,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(sn(E=>E[Hy]))??Gt(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(sn(t=>km(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(sn(t=>km(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jI(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function F3(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class s_{get title(){return this.data?.[Hy]}constructor(t,n,r,i,s,u,h,m,E){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.routeConfig=m,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=km(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=km(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GI extends zI{constructor(t,n){super(n),this.url=t,ID(this,n)}toString(){return qI(this._root)}}function ID(e,t){t.value._routerState=e,t.children.forEach(n=>ID(e,n))}function qI(e){const t=e.children.length>0?` { ${e.children.map(qI).join(", ")} } `:"";return`${e.value}${t}`}function AD(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ic(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ic(t.params,n.params)||e.paramsSubject.next(n.params),function Q5(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ic(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),ic(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function kD(e,t){const n=ic(e.params,t.params)&&function t3(e,t){return Op(e,t)&&e.every((n,r)=>ic(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||kD(e.parent,t.parent))}let RD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Sn,this.activateEvents=new Qn,this.deactivateEvents=new Qn,this.attachEvents=new Qn,this.detachEvents=new Qn,this.parentContexts=ct(Yy),this.location=ct(gl),this.changeDetector=ct(Tp),this.environmentInjector=ct(Ds),this.inputBinder=ct(a_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Te(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Te(4013,!1);this._activatedRoute=n;const i=this.location,u=n.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new L3(n,h,i.injector);this.activated=i.createComponent(u,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_o]})}return e})();class L3{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Fp?this.route:t===Yy?this.childContexts:this.parent.get(t,n)}}const a_=new st("");let WI=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Kb([r.queryParams,r.params,r.data]).pipe(go(([s,u,h],m)=>(h={...s,...u,...h},0===m?Gt(h):Promise.resolve(h)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const u=function cV(e){const t=In(e);if(!t)return null;const n=new hy(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(u)for(const{templateName:h}of u.inputs)n.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();function Qy(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function V3(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Qy(e,r,i);return Qy(e,r)})}(e,t,n);return new yd(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Qy(e,h)),u}}const r=function $3(e){return new Fp(new Yi(e.url),new Yi(e.params),new Yi(e.queryParams),new Yi(e.fragment),new Yi(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Qy(e,s));return new yd(r,i)}}const PD="ngNavigationCancelingError";function KI(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Np(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=ZI(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function ZI(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[PD]=!0,r.cancellationCode=t,n&&(r.url=n),r}function YI(e){return e&&e[PD]}let QI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ga({type:e,selectors:[["ng-component"]],standalone:!0,features:[tM],decls:1,vars:0,template:function(r,i){1&r&&Xs(0,"router-outlet")},dependencies:[RD],encapsulation:2})}return e})();function OD(e){const t=e.children&&e.children.map(OD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Sn&&(n.component=QI),n}function tu(e){return e.outlet||Sn}function Xy(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class K3{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),AD(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Om(n);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Om(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Om(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Om(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new P3(s.value.snapshot))}),t.children.length&&this.forwardEvent(new k3(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(AD(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),AD(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Xy(i.snapshot);u.attachRef=null,u.route=i,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class XI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class l_{constructor(t,n){this.component=t,this.route=n}}function Z3(e,t,n){const r=e._root;return Jy(r,t?t._root:null,n,[r.value])}function Nm(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function ag(e){return null!==Ga(e)}(e)?t.get(e):e:r}function Jy(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Om(t);return e.children.forEach(u=>{(function Q3(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,u=t?t.value:null,h=n?n.getContext(e.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const m=function X3(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Op(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Op(e.url,t.url)||!ic(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kD(e,t)||!ic(e.queryParams,t.queryParams);default:return!kD(e,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new XI(r)):(s.data=u.data,s._resolvedData=u._resolvedData),Jy(e,t,s.component?h?h.children:null:n,r,i),m&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new l_(h.outlet.component,u))}else u&&e0(t,h,i),i.canActivateChecks.push(new XI(r)),Jy(e,null,s.component?h?h.children:null:n,r,i)})(u,s[u.value.outlet],n,r.concat([u.value]),i),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,h])=>e0(h,n.getContext(u),i)),i}function e0(e,t,n){const r=Om(e),i=e.value;Object.entries(r).forEach(([s,u])=>{e0(u,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new l_(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function t0(e){return"function"==typeof e}function JI(e){return e instanceof Zb||"EmptyError"===e?.name}const u_=Symbol("INITIAL_VALUE");function Fm(){return go(e=>Kb(e.map(t=>t.pipe(vd(1),$y(u_)))).pipe(sn(t=>{for(const n of t)if(!0!==n){if(n===u_)return u_;if(!1===n||n instanceof Rm)return n}return!0}),eu(t=>t!==u_),vd(1)))}function eA(e){return function Gn(...e){return Pn(e)}(ho(t=>{if(Np(t))throw KI(0,t)}),sn(t=>!0===t))}class c_{constructor(t){this.segmentGroup=t||null}}class tA{constructor(t){this.urlTree=t}}function Lm(e){return Vy(new c_(e))}function nA(e){return Vy(new tA(e))}class yz{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new Te(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Gt(r);if(i.numberOfChildren>1||!i.children[Sn])return Vy(new Te(4e3,!1));i=i.children[Sn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new Rm(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);r[i]=n[h]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let u={};return Object.entries(n.children).forEach(([h,m])=>{u[h]=this.createSegmentGroup(t,m,r,i)}),new xr(s,u)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Te(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const ND={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bz(e,t,n,r,i){const s=FD(e,t,n);return s.matched?(r=function H3(e,t){return e.providers&&!e._injector&&(e._injector=dE(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function gz(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Gt(i.map(u=>{const h=Nm(u,e);return $f(function iz(e){return e&&t0(e.canMatch)}(h)?h.canMatch(t,n):e.runInContext(()=>h(t,n)))})).pipe(Fm(),eA()):Gt(!0)}(r,t,n).pipe(sn(u=>!0===u?s:{...ND}))):Gt(s)}function FD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...ND}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Y5)(n,e,t);if(!i)return{...ND};const s={};Object.entries(i.posParams??{}).forEach(([h,m])=>{s[h]=m.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function rA(e,t,n,r){return n.length>0&&function Ez(e,t,n){return n.some(r=>d_(e,t,r)&&tu(r)!==Sn)}(e,n,r)?{segmentGroup:new xr(t,wz(r,new xr(n,e.children))),slicedSegments:[]}:0===n.length&&function Dz(e,t,n){return n.some(r=>d_(e,t,r))}(e,n,r)?{segmentGroup:new xr(e.segments,_z(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new xr(e.segments,e.children),slicedSegments:n}}function _z(e,t,n,r,i){const s={};for(const u of r)if(d_(e,n,u)&&!i[tu(u)]){const h=new xr([],{});s[tu(u)]=h}return{...i,...s}}function wz(e,t){const n={};n[Sn]=t;for(const r of e)if(""===r.path&&tu(r)!==Sn){const i=new xr([],{});n[tu(r)]=i}return n}function d_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class Mz{constructor(t,n,r,i,s,u,h){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new yz(this.urlSerializer,this.urlTree)}noMatchError(t){return new Te(4002,!1)}recognize(){const t=rA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Sn).pipe(Rp(n=>{if(n instanceof tA)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof c_?this.noMatchError(n):n}),sn(n=>{const r=new s_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Sn,this.rootComponentType,null,{}),i=new yd(r,n),s=new GI("",i),u=function v3(e,t,n=null,r=null){return PI(RI(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root),{state:s,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Sn).pipe(Rp(r=>{throw r instanceof c_?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=jI(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Hr(i).pipe(Am(s=>{const u=r.children[s],h=function q3(e,t){const n=e.filter(r=>tu(r)===t);return n.push(...e.filter(r=>tu(r)!==t)),n}(n,s);return this.processSegmentGroup(t,h,u,s)}),function q5(e,t){return ar(function G5(e,t,n,r,i){return(s,u)=>{let h=n,m=t,E=0;s.subscribe(hr(u,x=>{const I=E++;m=h?e(m,x,I):(h=!0,x),r&&u.next(m)},i&&(()=>{h&&u.next(m),u.complete()})))}}(e,t,arguments.length>=2,!0))}((s,u)=>(s.push(...u),s)),Qb(null),function W5(e,t){const n=arguments.length>=2;return r=>r.pipe(e?eu((i,s)=>e(i,s,r)):lt,bD(1),n?Qb(t):bI(()=>new Zb))}(),rn(s=>{if(null===s)return Lm(r);const u=iA(s);return function Tz(e){e.sort((t,n)=>t.value.outlet===Sn?-1:n.value.outlet===Sn?1:t.value.outlet.localeCompare(n.value.outlet))}(u),Gt(u)}))}processSegment(t,n,r,i,s,u){return Hr(n).pipe(Am(h=>this.processSegmentAgainstRoute(h._injector??t,n,h,r,i,s,u).pipe(Rp(m=>{if(m instanceof c_)return Gt(null);throw m}))),kp(h=>!!h),Rp(h=>{if(JI(h))return function xz(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?Gt([]):Lm(r);throw h}))}processSegmentAgainstRoute(t,n,r,i,s,u,h){return function Cz(e,t,n,r){return!!(tu(e)===r||r!==Sn&&d_(t,n,e))&&("**"===e.path||FD(t,e,n).matched)}(r,i,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,u,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,u):Lm(i):Lm(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nA(s):this.applyRedirects.lineralizeSegments(r,s).pipe(rn(u=>{const h=new xr(u,{});return this.processSegment(t,n,h,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u){const{matched:h,consumedSegments:m,remainingSegments:E,positionalParamSegments:x}=FD(n,i,s);if(!h)return Lm(n);const I=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,x);return i.redirectTo.startsWith("/")?nA(I):this.applyRedirects.lineralizeSegments(i,I).pipe(rn(O=>this.processSegment(t,r,n,O.concat(E),u,!1)))}matchSegmentAgainstRoute(t,n,r,i,s,u){let h;if("**"===r.path){const m=i.length>0?wI(i).parameters:{};h=Gt({snapshot:new s_(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oA(r),tu(r),r.component??r._loadedComponent??null,r,sA(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else h=bz(n,r,i,t).pipe(sn(({matched:m,consumedSegments:E,remainingSegments:x,parameters:I})=>m?{snapshot:new s_(E,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oA(r),tu(r),r.component??r._loadedComponent??null,r,sA(r)),consumedSegments:E,remainingSegments:x}:null));return h.pipe(go(m=>null===m?Lm(n):this.getChildConfig(t=r._injector??t,r,i).pipe(go(({routes:E})=>{const x=r._loadedInjector??t,{snapshot:I,consumedSegments:O,remainingSegments:$}=m,{segmentGroup:ee,slicedSegments:ne}=rA(n,O,$,E);if(0===ne.length&&ee.hasChildren())return this.processChildren(x,E,ee).pipe(sn(Ve=>null===Ve?null:[new yd(I,Ve)]));if(0===E.length&&0===ne.length)return Gt([new yd(I,[])]);const ge=tu(r)===s;return this.processSegment(x,E,ee,ne,ge?Sn:s,!0).pipe(sn(Ve=>[new yd(I,Ve)]))}))))}getChildConfig(t,n,r){return n.children?Gt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Gt({routes:n._loadedRoutes,injector:n._loadedInjector}):function pz(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Gt(!0):Gt(i.map(u=>{const h=Nm(u,e);return $f(function ez(e){return e&&t0(e.canLoad)}(h)?h.canLoad(t,n):e.runInContext(()=>h(t,n)))})).pipe(Fm(),eA())}(t,n,r).pipe(rn(i=>i?this.configLoader.loadChildren(t,n).pipe(ho(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function vz(e){return Vy(ZI(!1,3))}())):Gt({routes:[],injector:t})}}function Iz(e){const t=e.value.routeConfig;return t&&""===t.path}function iA(e){const t=[],n=new Set;for(const r of e){if(!Iz(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=iA(r.children);t.push(new yd(r.value,i))}return t.filter(r=>!n.has(r))}function oA(e){return e.data||{}}function sA(e){return e.resolve||{}}function aA(e){return"string"==typeof e.title||null===e.title}function LD(e){return go(t=>{const n=e(t);return n?Hr(n).pipe(sn(()=>t)):Gt(t)})}const Bm=new st("ROUTES");let BD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ct(jM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Gt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=$f(n.loadComponent()).pipe(sn(lA),ho(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),zy(()=>{this.componentLoaders.delete(n)})),i=new yI(r,()=>new Zt).pipe(yD());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Gt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Fz(e,t,n,r){return $f(e.loadChildren()).pipe(sn(lA),rn(i=>i instanceof JS||Array.isArray(i)?Gt(i):Hr(t.compileModuleAsync(i))),sn(i=>{r&&r(e);let s,u,h=!1;return Array.isArray(i)?(u=i,!0):(s=i.create(n).injector,u=s.get(Bm,[],{optional:!0,self:!0}).flat()),{routes:u.map(OD),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(zy(()=>{this.childrenLoaders.delete(r)})),u=new yI(s,()=>new Zt).pipe(yD());return this.childrenLoaders.set(r,u),u}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lA(e){return function Lz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let f_=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Zt,this.transitionAbortSubject=new Zt,this.configLoader=ct(BD),this.environmentInjector=ct(Ds),this.urlSerializer=ct(jy),this.rootContexts=ct(Yy),this.inputBindingEnabled=null!==ct(a_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new I3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new T3(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Yi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ky,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(eu(s=>0!==s.id),sn(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),go(s=>{this.currentTransition=s;let u=!1,h=!1;return Gt(s).pipe(ho(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),go(m=>{const E=m.currentBrowserUrl.toString(),x=!n.navigated||m.extractedUrl.toString()!==E||E!==m.currentUrlTree.toString();if(!x&&"reload"!==(m.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const O="";return this.events.next(new Pm(m.id,this.urlSerializer.serialize(m.rawUrl),O,0)),m.resolve(null),Jr}if(n.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Gt(m).pipe(go(O=>{const $=this.transitions?.getValue();return this.events.next(new i_(O.id,this.urlSerializer.serialize(O.extractedUrl),O.source,O.restoredState)),$!==this.transitions?.getValue()?Jr:Promise.resolve(O)}),function Az(e,t,n,r,i,s){return rn(u=>function Sz(e,t,n,r,i,s,u="emptyOnly"){return new Mz(e,t,n,r,i,u,s).recognize()}(e,t,n,r,u.extractedUrl,i,s).pipe(sn(({state:h,tree:m})=>({...u,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ho(O=>{s.targetSnapshot=O.targetSnapshot,s.urlAfterRedirects=O.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects};const $=new VI(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next($)}));if(x&&n.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:O,extractedUrl:$,source:ee,restoredState:ne,extras:ge}=m,Ve=new i_(O,this.urlSerializer.serialize($),ee,ne);this.events.next(Ve);const ye=UI(0,this.rootComponentType).snapshot;return this.currentTransition=s={...m,targetSnapshot:ye,urlAfterRedirects:$,extras:{...ge,skipLocationChange:!1,replaceUrl:!1}},Gt(s)}{const O="";return this.events.next(new Pm(m.id,this.urlSerializer.serialize(m.extractedUrl),O,1)),m.resolve(null),Jr}}),ho(m=>{const E=new C3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}),sn(m=>(this.currentTransition=s={...m,guards:Z3(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},s)),function sz(e,t){return rn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=n;return 0===u.length&&0===s.length?Gt({...n,guardsResult:!0}):function az(e,t,n,r){return Hr(e).pipe(rn(i=>function hz(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Gt(s.map(h=>{const m=Xy(t)??i,E=Nm(h,m);return $f(function rz(e){return e&&t0(e.canDeactivate)}(E)?E.canDeactivate(e,t,n,r):m.runInContext(()=>E(e,t,n,r))).pipe(kp())})).pipe(Fm()):Gt(!0)}(i.component,i.route,n,t,r)),kp(i=>!0!==i,!0))}(u,r,i,e).pipe(rn(h=>h&&function J3(e){return"boolean"==typeof e}(h)?function lz(e,t,n,r){return Hr(t).pipe(Am(i=>Yb(function cz(e,t){return null!==e&&t&&t(new A3(e)),Gt(!0)}(i.route.parent,r),function uz(e,t){return null!==e&&t&&t(new R3(e)),Gt(!0)}(i.route,r),function fz(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function Y3(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(u)).filter(u=>null!==u).map(u=>vI(()=>Gt(u.guards.map(m=>{const E=Xy(u.node)??n,x=Nm(m,E);return $f(function nz(e){return e&&t0(e.canActivateChild)}(x)?x.canActivateChild(r,e):E.runInContext(()=>x(r,e))).pipe(kp())})).pipe(Fm())));return Gt(s).pipe(Fm())}(e,i.path,n),function dz(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Gt(!0);const i=r.map(s=>vI(()=>{const u=Xy(t)??n,h=Nm(s,u);return $f(function tz(e){return e&&t0(e.canActivate)}(h)?h.canActivate(t,e):u.runInContext(()=>h(t,e))).pipe(kp())}));return Gt(i).pipe(Fm())}(e,i.route,n))),kp(i=>!0!==i,!0))}(r,s,e,t):Gt(h)),sn(h=>({...n,guardsResult:h})))})}(this.environmentInjector,m=>this.events.next(m)),ho(m=>{if(s.guardsResult=m.guardsResult,Np(m.guardsResult))throw KI(0,m.guardsResult);const E=new x3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(E)}),eu(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),LD(m=>{if(m.guards.canActivateChecks.length)return Gt(m).pipe(ho(E=>{const x=new S3(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(x)}),go(E=>{let x=!1;return Gt(E).pipe(function kz(e,t){return rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Gt(n);let s=0;return Hr(i).pipe(Am(u=>function Rz(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!aA(i)&&(s[Hy]=i.title),function Pz(e,t,n,r){const i=function Oz(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Gt({});const s={};return Hr(i).pipe(rn(u=>function Nz(e,t,n,r){const i=Xy(t)??r,s=Nm(e,i);return $f(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[u],t,n,r).pipe(kp(),ho(h=>{s[u]=h}))),bD(1),function K5(e){return sn(()=>e)}(s),Rp(u=>JI(u)?Jr:Vy(u)))}(s,e,t,r).pipe(sn(u=>(e._resolvedData=u,e.data=jI(e,n).resolve,i&&aA(i)&&(e.data[Hy]=i.title),null)))}(u.route,r,e,t)),ho(()=>s++),bD(1),rn(u=>s===i.length?Gt(n):Jr))})}(n.paramsInheritanceStrategy,this.environmentInjector),ho({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(E,"",2)}}))}),ho(E=>{const x=new M3(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(x)}))}),LD(m=>{const E=x=>{const I=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(x.routeConfig).pipe(ho(O=>{x.component=O}),sn(()=>{})));for(const O of x.children)I.push(...E(O));return I};return Kb(E(m.targetSnapshot.root)).pipe(Qb(),vd(1))}),LD(()=>this.afterPreactivation()),sn(m=>{const E=function B3(e,t,n){const r=Qy(e,t._root,n?n._root:void 0);return new HI(r,t)}(n.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=s={...m,targetRouterState:E},s}),ho(()=>{this.events.next(new xD)}),((e,t,n,r)=>sn(i=>(new K3(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),vd(1),ho({next:m=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),n.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{u=!0}}),Pp(this.transitionAbortSubject.pipe(ho(m=>{throw m}))),zy(()=>{u||h||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Rp(m=>{if(h=!0,YI(m))this.events.next(new Zy(s.id,this.urlSerializer.serialize(s.extractedUrl),m.message,m.cancellationCode)),function z3(e){return YI(e)&&Np(e.url)}(m)?this.events.next(new SD(m.url)):s.resolve(!1);else{this.events.next(new o_(s.id,this.urlSerializer.serialize(s.extractedUrl),m,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(m))}catch(E){s.reject(E)}}return Jr}))}))}cancelNavigationTransition(n,r,i){const s=new Zy(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uA(e){return e!==Ky}let cA=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Sn);return r}getResolvedTitleForRoute(n){return n.data[Hy]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return ct(Bz)},providedIn:"root"})}return e})(),Bz=(()=>{class e extends cA{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(cI))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return ct(zz)},providedIn:"root"})}return e})();class $z{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let zz=(()=>{class e extends $z{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function ui(e){return Ls(()=>{const t=e.prototype.constructor,n=t[ds]||Ta(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[ds]||Ta(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(i||e)}}();static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const h_=new st("",{providedIn:"root",factory:()=>({})});let Hz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return ct(Uz)},providedIn:"root"})}return e})(),Uz=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var n0=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(n0||{});function dA(e,t){e.events.pipe(eu(n=>n instanceof zf||n instanceof Zy||n instanceof o_||n instanceof Pm),sn(n=>n instanceof zf||n instanceof Pm?n0.COMPLETE:n instanceof Zy&&(0===n.code||1===n.code)?n0.REDIRECTING:n0.FAILED),eu(n=>n!==n0.REDIRECTING),vd(1)).subscribe(()=>{t()})}function jz(e){throw e}function Gz(e,t,n){return t.parse("/")}const qz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yl=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ct(UM),this.isNgZoneEnabled=!1,this._events=new Zt,this.options=ct(h_,{optional:!0})||{},this.pendingTasks=ct(Mb),this.errorHandler=this.options.errorHandler||jz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Gz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ct(Hz),this.routeReuseStrategy=ct(Vz),this.titleStrategy=ct(cA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ct(Bm,{optional:!0})?.flat()??[],this.navigationTransitions=ct(f_),this.urlSerializer=ct(jy),this.location=ct(UE),this.componentInputBindingEnabled=!!ct(a_,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=ct(Rn)instanceof Rn&&Rn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UI(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(fA(r)&&this._events.next(r));if(r instanceof i_)uA(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Pm)this.rawUrlTree=i.rawUrl;else if(r instanceof VI){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof xD)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Zy)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof SD){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uA(i.source)};this.scheduleNavigation(s,Ky,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof o_&&this.restoreHistory(i,!0),r instanceof zf&&(this.navigated=!0),fA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ky,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const h=this.parseUrl(n);this.scheduleNavigation(h,r,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(OD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:m}=r,E=m?this.currentUrlTree.fragment:u;let I,x=null;switch(h){case"merge":x={...this.currentUrlTree.queryParams,...s};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}null!==x&&(x=this.removeEmptyProps(x));try{I=RI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),I=this.currentUrlTree.root}return PI(I,n,x,E??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Np(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ky,null,r)}navigate(n,r={skipLocationChange:!1}){return function Kz(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Te(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...qz}:!1===r?{...Wz}:r,Np(n))return DI(this.currentUrlTree,n,i);const s=this.parseUrl(n);return DI(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let h,m,E;u?(h=u.resolve,m=u.reject,E=u.promise):E=new Promise((I,O)=>{h=I,m=O});const x=this.pendingTasks.add();return dA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:h,reject:m,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(I=>Promise.reject(I))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fA(e){return!(e instanceof xD||e instanceof SD)}class hA{}let Qz=(()=>{class e{constructor(n,r,i,s,u){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(eu(n=>n instanceof zf),Am(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=dE(s.providers,n,`Route: ${s.path}`));const u=s._injector??n,h=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return Hr(i).pipe(pu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Gt(null);const s=i.pipe(rn(u=>null===u?Gt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));return r.loadComponent&&!r._loadedComponent?Hr([s,this.loader.loadComponent(r)]).pipe(pu()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(yl),Ke(jM),Ke(Ds),Ke(hA),Ke(BD))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $D=new st("");let pA=(()=>{class e{constructor(n,r,i,s,u={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof i_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof zf?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Pm&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $I&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $I(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){ob()};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();function bd(e,t){return{\u0275kind:e,\u0275providers:t}}function mA(){const e=ct(Fa);return t=>{const n=e.get(Mp);if(t!==n.components[0])return;const r=e.get(yl),i=e.get(vA);1===e.get(zD)&&r.initialNavigation(),e.get(yA,null,vn.Optional)?.setUpPreloading(),e.get($D,null,vn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vA=new st("",{factory:()=>new Zt}),zD=new st("",{providedIn:"root",factory:()=>1}),yA=new st("");function t4(e){return bd(0,[{provide:yA,useExisting:Qz},{provide:hA,useExisting:e}])}const bA=new st("ROUTER_FORROOT_GUARD"),r4=[UE,{provide:jy,useClass:_D},yl,Yy,{provide:Fp,useFactory:function gA(e){return e.routerState.root},deps:[yl]},BD,[]];function i4(){return new QM("Router",yl)}let _A=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[r4,[],{provide:Bm,multi:!0,useValue:n},{provide:bA,useFactory:l4,deps:[[yl,new Fr,new cl]]},{provide:h_,useValue:r||{}},r?.useHash?{provide:Ap,useClass:gV}:{provide:Ap,useClass:MT},{provide:$D,useFactory:()=>{const e=ct(N$),t=ct(Rn),n=ct(h_),r=ct(f_),i=ct(jy);return n.scrollOffset&&e.setOffset(n.scrollOffset),new pA(i,r,e,t,n)}},r?.preloadingStrategy?t4(r.preloadingStrategy).\u0275providers:[],{provide:QM,multi:!0,useFactory:i4},r?.initialNavigation?u4(r):[],r?.bindToComponentInputs?bd(8,[WI,{provide:a_,useExisting:WI}]).\u0275providers:[],[{provide:wA,useFactory:mA},{provide:PE,multi:!0,useExisting:wA}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Bm,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(bA,8))};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({})}return e})();function l4(e){return"guarded"}function u4(e){return["disabled"===e.initialNavigation?bd(3,[{provide:xE,multi:!0,useFactory:()=>{const t=ct(yl);return()=>{t.setUpLocationChangeListener()}}},{provide:zD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?bd(2,[{provide:zD,useValue:0},{provide:xE,multi:!0,deps:[Fa],useFactory:t=>{const n=t.get(hV,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(yl),s=t.get(vA);dA(i,()=>{r(!0)}),t.get(f_).afterPreactivation=()=>(r(!0),s.closed?Gt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const wA=new st("");let d4=(()=>{class e{constructor(){this.title="PathwayBrowser"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ga({type:e,selectors:[["cr-root"]],decls:1,vars:0,template:function(r,i){1&r&&Xs(0,"router-outlet")},dependencies:[RD]})}return e})();function EA(...e){const t=zr(e),{args:n,keys:r}=pI(e),i=new Mt(s=>{const{length:u}=n;if(!u)return void s.complete();const h=new Array(u);let m=u,E=u;for(let x=0;x<u;x++){let I=!1;Fi(n[x]).subscribe(hr(s,O=>{I||(I=!0,E--),h[x]=O},()=>m--,void 0,()=>{(!m||!I)&&(E||s.next(r?gI(r,h):h),s.complete())}))}});return t?i.pipe(vD(t)):i}const nu=new st("NgValueAccessor"),Zo=new st("NgValidators"),Uf=new st("NgAsyncValidators");function OA(e){return null!=e}function NA(e){return by(e)?Hr(e):e}function FA(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function LA(e,t){return t.map(n=>n(e))}function BA(e){return e.map(t=>function v4(e){return!e.validate}(t)?t:n=>t.validate(n))}function UD(e){return null!=e?function VA(e){if(!e)return null;const t=e.filter(OA);return 0==t.length?null:function(n){return FA(LA(n,t))}}(BA(e)):null}function jD(e){return null!=e?function $A(e){if(!e)return null;const t=e.filter(OA);return 0==t.length?null:function(n){return EA(LA(n,t).map(NA)).pipe(sn(FA))}}(BA(e)):null}function zA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function GD(e){return e?Array.isArray(e)?e:[e]:[]}function g_(e,t){return Array.isArray(e)?e.includes(t):e===t}function jA(e,t){const n=GD(t);return GD(e).forEach(i=>{g_(n,i)||n.push(i)}),n}function GA(e,t){return GD(t).filter(n=>!g_(e,n))}class qA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=UD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=jD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Is extends qA{get formDirective(){return null}get path(){return null}}class WA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let KA=(()=>{class e extends WA{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Is,10))};static#t=this.\u0275dir=Lt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Js("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[nr]})}return e})();const r0="VALID",v_="INVALID",Vm="PENDING",o0="DISABLED";function y_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class XA{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===r0}get invalid(){return this.status===v_}get pending(){return this.status==Vm}get disabled(){return this.status===o0}get enabled(){return this.status!==o0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(jA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(GA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(GA(t,this._rawAsyncValidators))}hasValidator(t){return g_(this._rawValidators,t)}hasAsyncValidator(t){return g_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=o0,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=r0,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===r0||this.status===Vm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?o0:r0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vm,this._hasOwnPendingAsyncValidator=!0;const n=NA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Qn,this.statusChanges=new Qn}_calculateStatus(){return this._allControlsDisabled()?o0:this.errors?v_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vm)?Vm:this._anyControlsHaveStatus(v_)?v_:r0}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){y_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function E4(e){return Array.isArray(e)?UD(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function D4(e){return Array.isArray(e)?jD(e):e||null}(this._rawAsyncValidators)}}class YD extends XA{constructor(t,n,r){super(function KD(e){return(y_(e)?e.validators:e)||null}(n),function ZD(e,t){return(y_(t)?t.asyncValidators:e)||null}(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function QA(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new Te(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function YA(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Te(1e3,"");if(!r[n])throw new Te(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const $m=new st("CallSetDisabledState",{providedIn:"root",factory:()=>b_}),b_="always";function E_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function QD(e,t){const n=function HA(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(zA(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function UA(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(zA(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();E_(t._rawValidators,i),E_(t._rawAsyncValidators,i)}function JA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const P4={provide:Is,useExisting:er(()=>C_)},a0=(()=>Promise.resolve())();let C_=(()=>{class e extends Is{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qn,this.form=new YD({},UD(n),jD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){a0.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),function s0(e,t,n=b_){QD(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function S4(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&JA(e,t)})}(e,t),function T4(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function M4(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&JA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function x4(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){a0.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){a0.then(()=>{const r=this._findContainer(n.path),i=new YD({});(function ek(e,t){QD(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){a0.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){a0.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function tk(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Zo,10),Re(Uf,10),Re($m,8))};static#t=this.\u0275dir=Lt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&co("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cr([P4]),nr]})}return e})(),uk=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Lt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),dk=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({})}return e})(),sH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({imports:[dk]})}return e})(),lH=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:$m,useValue:n.callSetDisabledState??b_}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({imports:[sH]})}return e})();class x_{}class S_{}class ru{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),u=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof ru?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new ru;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ru?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let u=this.headers.get(n);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,u)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class uH{encodeKey(t){return Tk(t)}encodeValue(t){return Tk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const dH=/%(\d[a-f0-9])/gi,fH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tk(e){return encodeURIComponent(e).replace(dH,(t,n)=>fH[n]??t)}function M_(e){return`${e}`}class Gf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new uH,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cH(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,h]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],m=n.get(u)||[];m.push(h),n.set(u,m)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(M_):[M_(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Gf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(M_(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(M_(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hH{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Ik(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Ak(e){return typeof Blob<"u"&&e instanceof Blob}function kk(e){return typeof FormData<"u"&&e instanceof FormData}class l0{constructor(t,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function pH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ru),this.context||(this.context=new hH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=n;else{const h=n.indexOf("?");this.urlWithParams=n+(-1===h?"?":h<n.length-1?"&":"")+u}}else this.params=new Gf,this.urlWithParams=n}serializeBody(){return null===this.body?null:Ik(this.body)||Ak(this.body)||kk(this.body)||function gH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kk(this.body)?null:Ak(this.body)?this.body.type||null:Ik(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,E=t.params||this.params;const x=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((I,O)=>I.set(O,t.setHeaders[O]),m)),t.setParams&&(E=Object.keys(t.setParams).reduce((I,O)=>I.set(O,t.setParams[O]),E)),new l0(n,r,s,{params:E,headers:m,context:x,reportProgress:h,responseType:i,withCredentials:u})}}var zm=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(zm||{});class lC{constructor(t,n=200,r="OK"){this.headers=t.headers||new ru,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class uC extends lC{constructor(t={}){super(t),this.type=zm.ResponseHeader}clone(t={}){return new uC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hm extends lC{constructor(t={}){super(t),this.type=zm.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Rk extends lC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function cC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Pk=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof l0)s=n;else{let m,E;m=i.headers instanceof ru?i.headers:new ru(i.headers),i.params&&(E=i.params instanceof Gf?i.params:new Gf({fromObject:i.params})),s=new l0(n,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=Gt(s).pipe(Am(m=>this.handler.handle(m)));if(n instanceof l0||"events"===i.observe)return u;const h=u.pipe(eu(m=>m instanceof Hm));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe(sn(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe(sn(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe(sn(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe(sn(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Gf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,cC(i,r))}post(n,r,i={}){return this.request("POST",n,cC(i,r))}put(n,r,i={}){return this.request("PUT",n,cC(i,r))}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(x_))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();function Fk(e,t){return t(e)}function vH(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const bH=new st(""),u0=new st(""),Lk=new st("");function _H(){let e=null;return(t,n)=>{null===e&&(e=(ct(bH,{optional:!0})??[]).reduceRight(vH,Fk));const r=ct(Mb),i=r.add();return e(t,n).pipe(zy(()=>r.remove(i)))}}let Bk=(()=>{class e extends x_{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ct(Mb)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(u0),...this.injector.get(Lk,[])]));this.chain=i.reduceRight((s,u)=>function yH(e,t,n){return(r,i)=>n.runInContext(()=>t(r,s=>e(s,i)))}(s,u,this.injector),Fk)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(zy(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(S_),Ke(Ds))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const CH=/^\)\]\}',?\n/;let $k=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Te(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Hr(r.\u0275loadImpl()):Gt(null)).pipe(go(()=>new Mt(s=>{const u=r.build();if(u.open(n.method,n.urlWithParams),n.withCredentials&&(u.withCredentials=!0),n.headers.forEach((ne,ge)=>u.setRequestHeader(ne,ge.join(","))),n.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ne=n.detectContentTypeHeader();null!==ne&&u.setRequestHeader("Content-Type",ne)}if(n.responseType){const ne=n.responseType.toLowerCase();u.responseType="json"!==ne?ne:"text"}const h=n.serializeBody();let m=null;const E=()=>{if(null!==m)return m;const ne=u.statusText||"OK",ge=new ru(u.getAllResponseHeaders()),Ve=function xH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(u)||n.url;return m=new uC({headers:ge,status:u.status,statusText:ne,url:Ve}),m},x=()=>{let{headers:ne,status:ge,statusText:Ve,url:ye}=E(),it=null;204!==ge&&(it=typeof u.response>"u"?u.responseText:u.response),0===ge&&(ge=it?200:0);let wt=ge>=200&&ge<300;if("json"===n.responseType&&"string"==typeof it){const Ht=it;it=it.replace(CH,"");try{it=""!==it?JSON.parse(it):null}catch(Kn){it=Ht,wt&&(wt=!1,it={error:Kn,text:it})}}wt?(s.next(new Hm({body:it,headers:ne,status:ge,statusText:Ve,url:ye||void 0})),s.complete()):s.error(new Rk({error:it,headers:ne,status:ge,statusText:Ve,url:ye||void 0}))},I=ne=>{const{url:ge}=E(),Ve=new Rk({error:ne,status:u.status||0,statusText:u.statusText||"Unknown Error",url:ge||void 0});s.error(Ve)};let O=!1;const $=ne=>{O||(s.next(E()),O=!0);let ge={type:zm.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(ge.total=ne.total),"text"===n.responseType&&u.responseText&&(ge.partialText=u.responseText),s.next(ge)},ee=ne=>{let ge={type:zm.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(ge.total=ne.total),s.next(ge)};return u.addEventListener("load",x),u.addEventListener("error",I),u.addEventListener("timeout",I),u.addEventListener("abort",I),n.reportProgress&&(u.addEventListener("progress",$),null!==h&&u.upload&&u.upload.addEventListener("progress",ee)),u.send(h),s.next({type:zm.Sent}),()=>{u.removeEventListener("error",I),u.removeEventListener("abort",I),u.removeEventListener("load",x),u.removeEventListener("timeout",I),n.reportProgress&&(u.removeEventListener("progress",$),null!==h&&u.upload&&u.upload.removeEventListener("progress",ee)),u.readyState!==u.DONE&&u.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(qT))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const dC=new st("XSRF_ENABLED"),zk=new st("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hk=new st("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Uk{}let TH=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=LT(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Vr),Ke(Xu),Ke(zk))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();function IH(e,t){const n=e.url.toLowerCase();if(!ct(dC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=ct(Uk).getToken(),i=ct(Hk);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var qf=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(qf||{});function AH(...e){const t=[Pk,$k,Bk,{provide:x_,useExisting:Bk},{provide:S_,useExisting:$k},{provide:u0,useValue:IH,multi:!0},{provide:dC,useValue:!0},{provide:Uk,useClass:TH}];for(const n of e)t.push(...n.\u0275providers);return function Kv(e){return{\u0275providers:e}}(t)}const jk=new st("LEGACY_INTERCEPTOR_FN");function kH(){return function Vp(e,t){return{\u0275kind:e,\u0275providers:t}}(qf.LegacyInterceptors,[{provide:jk,useFactory:_H},{provide:u0,useExisting:jk,multi:!0}])}let RH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({providers:[AH(kH())]})}return e})();var BH=de(6100),fC=de.n(BH),Va=de(6990);function ft(e){return function VH(e){return void 0!==e.apply}(e)?e():e}function na(e){const t=e;return t.setDefault=function(n,r){return e[n]||(e[n]=r),t},t}const $H=(e,t)=>vt.properties[e][t],zH=(e,t,n)=>n(ft(vt.properties[e][t])),sc=(0,Va.memoize)(e=>{let t=[];const n=e.classes().find(O=>hC.has(O));if(!n)return Wk(t,Gk);const r=hC.get(n),[i,s,u,h,m,E]=[e.data("width"),e.data("height"),e.hasClass("drug"),e.hasClass("disease"),e.data("isFadeOut"),e.data("isCrossed")],x=r(i,s,u,h,E);x.background&&t.push(x.background),e.selected()&&x.select&&t.push(x.select),e.hasClass("hover")&&x.hover&&t.push(x.hover),e.hasClass("flag")&&x.flag&&t.push(x.flag),x.decorators&&t.push(...x.decorators),u&&t.push(eU(i,s,n)),e.classes().includes("Pathway")&&t.push(tU(i,s,n)),E&&t.push(nU(i,s)),t=t.map(O=>({...O,"background-image":qk(O["background-image"],O["background-width"]||i,O["background-height"]||s)}));const I=Wk(t,Gk);return I["bounds-expansion"]=[Math.max(...I["bounds-expansion"],0)],I},e=>e.id()+"-"+e.classes().toString()+"-s:"+e.selected()),Gk={"background-image":"","background-position-x":"0","background-position-y":"0","background-offset-x":"0","background-offset-y":"0","background-width":"100%","background-height":"100%","background-fit":"none","background-clip":"none","background-image-opacity":1,"background-image-containment":"over","background-image-smoothing":"yes","background-height-relative-to":"inner","background-width-relative-to":"inner","background-repeat":"no-repeat","background-image-crossorigin":"anonymous","bounds-expansion":0};function qk(e,t,n){return"data:image/svg+xml;utf8,"+encodeURIComponent(function XH(e,t=100,n=100){return(new DOMParser).parseFromString(`<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg><svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='${t}' height='${n}'>${e}</svg>`,"text/xml").documentElement}(e,t,n).outerHTML)}const ac=(e,t,n=!1,r=!1,i)=>`${e}x${t}-${n}${r}${i}`,hC=new Map([["Protein",(0,Va.memoize)((e,t,n)=>{const r=ft(vt.properties.global.selectNode),i=ft(vt.properties.global.hoverNode),s=ft(vt.properties.global.thickness),u=ft(vt.properties.protein.radius),h=u+s,m=u-s;return{hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${h}\n            a ${h} ${h} 0 0 1 ${h} -${h}\n            h ${e-2*h}\n            a ${h} ${h} 0 0 1 ${h} ${h}\n            a ${h} ${m} 0 0 0 -${h} -${m}\n            h -${e-2*h}\n            a ${h} ${m} 0 0 0 -${h} ${m}\n            Z"/>\n`,"background-position-y":-s,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":h},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${h} ${h} 0 0 0 ${h} ${h}\n            h ${e-2*h}\n            a ${h} ${h} 0 0 0 ${h} -${h}\n            a ${h} ${m} 0 0 1 -${h} ${m}\n            h -${e-2*h}\n            a ${h} ${m} 0 0 1 -${h} -${m}\n            Z"/>\n`,"background-position-y":t-u,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":h}}},ac)],["GenomeEncodedEntity",(0,Va.memoize)((e,t,n)=>{const r=ft(vt.properties.global.selectNode),i=ft(vt.properties.global.hoverNode),s=ft(vt.properties.global.thickness),u=ft(vt.properties.genomeEncodedEntity.radius),m=(ft(vt.properties.genomeEncodedEntity.stroke),u+s),E=u-s;return{hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${m}\n            a ${m} ${m} 0 0 1 ${m} -${m}\n            h ${e-2*m}\n            a ${m} ${m} 0 0 1 ${m} ${m}\n            a ${m} ${E} 0 0 0 -${m} -${E}\n            h -${e-2*m}\n            a ${m} ${E} 0 0 0 -${m} ${E}\n            Z"/>\n`,"background-position-y":-s,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":m},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${m} ${m} 0 0 0 ${m} ${m}\n            h ${e-2*m}\n            a ${m} ${m} 0 0 0 ${m} -${m}\n            a ${m} ${E} 0 0 1 -${m} ${E}\n            h -${e-2*m}\n            a ${m} ${E} 0 0 1 -${m} -${E}\n            Z"/>\n`,"background-position-y":t-u,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":m}}},ac)],["RNA",(0,Va.memoize)((e,t,n)=>{const r=ft(vt.properties.global.thickness),i=ft(vt.properties.global.selectNode),s=ft(vt.properties.global.hoverNode),h=ft(vt.properties.rna.radius),m=h+r,E=h-r;return{hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${s}"/>`,"background-position-y":-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${m} ${m} 0 0 0 ${m} ${m}\n            h ${e-2*m}\n            a ${m} ${m} 0 0 0 ${m} -${m}\n            a ${m} ${E} 0 0 1 -${m} ${E}\n            h -${e-2*m}\n            a ${m} ${E} 0 0 1 -${m} -${E}\n            Z"/>\n`,"background-position-y":t-h,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":m}}},ac)],["Gene",(0,Va.memoize)((e,t,n)=>{const r=ft(vt.properties.global.thickness),i=ft(vt.properties.gene.decorationHeight),s=ft(vt.properties.gene.decorationExtraWidth),u=ft(vt.properties.gene.arrowHeadSize),h=ft(vt.properties.gene.arrowRadius),m=ft(vt.properties.gene.fill),E=ft(vt.properties.global.selectNode),x=ft(vt.properties.global.hoverNode),I=Math.sqrt(3*Math.pow(u,2)/4),O=e/2,$=ft(vt.properties.gene.borderRadius),ee=$+r,ne=$-r;return{background:{"background-image":`\n          <path fill="${m}" stroke-width="0" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${i}\n            H ${e}\n            v ${t-i-h}\n            a ${h} ${h} 0 0 1 -${h} ${h}\n            H ${h}\n            a ${h} ${h} 0 0 1 -${h} -${h}\n            Z\n          "/>`,"background-position-y":0,"background-position-x":0},decorators:[{"background-image":`\n          <path fill="none" stroke="${m}" stroke-width="${r}"  d="\n            M ${O} ${i+2*r}\n            v -${i-h-(u+r)/2+2*r}\n            a ${h} ${h} 0 0 1 ${h} -${h}\n            h ${O-r-h+s}\n          "/>\n            <path fill="${m}" stroke="${m}" stroke-width="${r}" stroke-linejoin="round"  d="\n            M ${e-I-r/2+s} ${u/2+r/2}\n            v -${u/2}\n            l ${I} ${u/2}\n            l -${I} ${u/2}\n            v -${u/2}\n            z\n          "/>`,"background-position-y":-r/2,"bounds-expansion":i,"background-height":i+1.5*r,"background-width":e+s,"background-clip":"none","background-image-containment":"over"}],hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${x}"/>`,"background-position-y":i-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${E}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${ee} ${ee} 0 0 0 ${ee} ${ee}\n            h ${e-2*ee}\n            a ${ee} ${ee} 0 0 0 ${ee} -${ee}\n            a ${ee} ${ne} 0 0 1 -${ee} ${ne}\n            h -${e-2*ee}\n            a ${ee} ${ne} 0 0 1 -${ee} -${ne}\n            Z"/>\n`,"background-position-y":t-$,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":ee}}},ac)],["Molecule",(0,Va.memoize)((e,t,n)=>{const r=ft(vt.properties.global.selectNode),i=ft(vt.properties.global.hoverNode),s=ft(vt.properties.global.thickness),E=(ft(n?vt.properties.molecule.drug:vt.properties.molecule.stroke),ft(vt.properties.molecule.fill),t/2),x=E+s,I=E-s,O=Math.min(x,e/2);return{hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${x}\n            a ${O} ${x} 0 0 1 ${O} -${x}\n            h ${e-2*O}\n            a ${O} ${x} 0 0 1 ${O} ${x}\n            a ${O} ${I} 0 0 0 -${O} -${I}\n            h -${e-2*O}\n            a ${O} ${I} 0 0 0 -${O} ${I}\n            Z"/>\n`,"background-position-y":-s,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":x},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${O} ${x} 0 0 0 ${O} ${x}\n            h ${e-2*O}\n            a ${O} ${x} 0 0 0 ${O} -${x}\n            a ${O} ${I} 0 0 1 -${O} ${I}\n            h -${e-2*O}\n            a ${O} ${I} 0 0 1 -${O} -${I}\n            Z"/>\n`,"background-position-y":E,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":x}}},ac)],["Complex",(0,Va.memoize)((e,t,n,r)=>{const i=ft(vt.properties.global.selectNode),s=ft(vt.properties.global.hoverNode),u=ft(vt.properties.global.thickness),h=ft(vt.properties.complex.cut),m=ft(n?vt.properties.complex.drug:vt.properties.complex.fill),x=2*h,I=2*u,O=t-x-2*I,ee=t/2+u,ne=`<defs>\n  <path id="octogon" d="\n      M ${x+I+0} ${I}\n      H ${e-h-I-0}\n      l ${h} ${h}\n      v ${O}\n      l  -${h} ${h}\n      H ${x+I+0}\n      l -${h} 0 -${h} -${h}\n      v -${O}\n      l  ${h} -${h}\n      Z\n      "/>\n  </defs>`;return{background:{"background-image":`\n      ${ne}\n      <use href="#octogon" fill="${m}" stroke="${m}" stroke-width="${2*I}" stroke-linejoin="round"/>\n`},hover:{"background-image":`\n      <path stroke="${s}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} ${ee}\n      v -${O/2}\n      l ${h} -${h+u}\n      H ${e-h-I}\n      l ${h} ${h+u}\n      v ${O/2}\n      " />\n      `,"background-position-y":-u,"background-height":ee,"background-clip":"none","bounds-expansion":u},select:{"background-image":`\n      <path stroke="${i}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} 0\n      v ${O/2}\n      l ${h} ${h+u}\n      H ${e-h-I}\n      l ${h} -${h+u}\n      v -${O/2}\n      " />\n      `,"background-position-y":t/2,"background-height":ee,"background-clip":"none","bounds-expansion":u},decorators:[{"background-image":`\n         ${ne}\n         <use href="#octogon" fill="none" stroke="${ft(r?vt.properties.global.negativeContrast:vt.properties.complex.stroke)}" stroke-width="${I}" stroke-linejoin="round"/>\n         <use href="#octogon" fill="${m}"/>\n         `}]}},ac)],["EntitySet",(0,Va.memoize)((e,t,n,r)=>{const i=ft(vt.properties.global.selectNode),s=ft(vt.properties.global.hoverNode),u=ft(vt.properties.global.thickness);let h=ft(vt.properties.entitySet.radius);2*h>t/2-u&&(h=t/4-u/2);const m=h+u;e+=2*h;const E=ft(n?vt.properties.entitySet.drug:vt.properties.entitySet.fill),I=2*h,O=2*u,$=t/2-I-u,ee=t/2+u,ne=`<defs>\n   <path id="curly" d="\n       M ${I+2*u} ${u}\n       H ${e-I}\n       a ${h} ${h} 0 0 1 ${h} ${h}\n\n       v ${$}\n       a ${h} ${h} 0 0 0 ${h} ${h}\n       a ${h} ${h} 0 0 0 -${h} ${h}\n       v ${$}\n\n       a ${h} ${h} 0 0 1 -${h} ${h}\n       H ${I+2*u}\n       a ${h} ${h} 0 0 1 -${h} -${h}\n\n       v -${$}\n       a ${h} ${h} 0 0 0 -${h} -${h}\n       a ${h} ${h} 0 0 0 ${h} -${h}\n       v -${$}\n\n       a ${h} ${h} 0 0 1 ${h} -${h}\n       Z\n       "/>\n   <clipPath id="inside">\n     <use href="#curly"/>\n   </clipPath>\n </defs>`;return{background:{"background-image":`\n       ${ne}\n       <use href="#curly" fill="${E}" stroke="${E}" stroke-width="${O}" stroke-linejoin="round"/>\n       `,"background-position-x":-m,"background-width":e+I,"background-clip":"none","bounds-expansion":2*u},hover:{"background-image":`\n       <path stroke="${s}" stroke-width="${O}" fill="none" stroke-linejoin="round" d="\n         M ${h+2*u} ${ee+h}\n         a ${h} ${h} 0 0 0 -${h} -${h}\n         a ${h} ${h} 0 0 0 ${h} -${h}\n         v -${$}\n         a ${h} ${h+u} 0 0 1 ${h} -${h+u}\n         H ${e-I}\n         a ${h} ${h+u} 0 0 1 ${h} ${h+u}\n         v ${$}\n         a ${h} ${h} 0 0 0 ${h} ${h}\n         a ${h} ${h} 0 0 0 -${h} ${h}\n       "/>`,"background-position-x":-m,"background-width":e+I,"background-clip":"none","bounds-expansion":2*u,"background-position-y":-u,"background-height":ee},select:{"background-image":`\n       <path stroke="${i}" stroke-width="${O}" fill="none" stroke-linejoin="round" d="\n         M ${2*u+h} ${-h}\n         a ${h} ${h} 0 0 1 -${h} ${h}\n         a ${h} ${h} 0 0 1 ${h} ${h}\n         v ${$}\n         a ${h} ${h+u} 0 0 0 ${h} ${h+u}\n         H ${e-I}\n         a ${h} ${h+u} 0 0 0 ${h} -${h+u}\n         v -${$}\n         a ${h} ${h} 0 0 1 ${h} -${h}\n         a ${h} ${h} 0 0 1 -${h} -${h}\n       "/>`,"background-position-x":-m,"background-width":e+I,"background-clip":"none","bounds-expansion":2*u,"background-position-y":t/2,"background-height":ee},decorators:[{"background-image":`\n       ${ne}\n       <use href="#curly" fill="none" stroke="${ft(r?vt.properties.global.negativeContrast:vt.properties.entitySet.stroke)}" stroke-width="${O}" clip-path="url(#inside)"/>\n       <rect fill="${E}" x="${m+I}" y="${u}"\n             width="${e-2*I-2*O}"\n             height="${t-O}"/>\n       `,"background-position-x":-m,"background-clip":"none","background-width":e+2*m}]}},ac)],["Cell",(0,Va.memoize)((e,t,n)=>{const r=ft(vt.properties.global.selectNode),i=ft(vt.properties.global.hoverNode),s=ft(vt.properties.global.thickness),u=ft(vt.properties.cell.thickness),h=ft(vt.properties.cell.stroke),m=ft(vt.properties.cell.fill),E=s/2,x=t/2,I=x+s,O=x-s,$=Math.min(I,e/2);return{background:{"background-image":`\n<rect x="${E}" y="${E}" width="${e-s}" height="${t-s}" rx="${x}" stroke="${m}" fill="${h}" stroke-width="${s}"/>\n<rect x="${E+u}" y="${2*s}" width="${e-2*u-s}" height="${t-4*s}" ry="${x}" rx="${x-u}" fill="${m}" stroke-width="0"/>\n`},hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${I}\n            a ${$} ${I} 0 0 1 ${$} -${I}\n            h ${e-2*$}\n            a ${$} ${I} 0 0 1 ${$} ${I}\n            a ${$} ${O} 0 0 0 -${$} -${O}\n            h -${e-2*$}\n            a ${$} ${O} 0 0 0 -${$} ${O}\n            Z"/>\n`,"background-position-y":-s,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":I},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${$} ${I} 0 0 0 ${$} ${I}\n            h ${e-2*$}\n            a ${$} ${I} 0 0 0 ${$} -${I}\n            a ${$} ${O} 0 0 1 -${$} ${O}\n            h -${e-2*$}\n            a ${$} ${O} 0 0 1 -${$} -${O}\n            Z"/>\n`,"background-position-y":x,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":I}}},ac)],["Interacting",(0,Va.memoize)((e,t,n)=>{const r=ft(vt.properties.global.selectNode),i=ft(vt.properties.global.hoverNode),s=ft(vt.properties.global.thickness);ft(n?vt.properties.pathway.disease:vt.properties.pathway.stroke),ft(vt.properties.pathway.fill);const E=3*s;return{hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n           M 0 0\n           H ${e}\n           V ${E}\n           H 0\n           V 0\n           Z\n           "/>\n`,"background-position-y":-E/2,"background-position-x":0,"background-width":e,"bounds-expansion":E,"background-clip":"none","background-image-containment":"over"},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n           M 0 0\n           H ${e}\n           V ${E}\n           H 0\n           V 0\n           Z"/>\n`,"background-position-y":t-E/2,"background-position-x":0,"background-width":e,"bounds-expansion":E,"background-clip":"none","background-image-containment":"over"}}},ac)],["SUB",(0,Va.memoize)((e,t,n)=>{const r=ft(vt.properties.global.selectNode),i=ft(vt.properties.global.hoverNode),s=3*ft(vt.properties.global.thickness),u=ft(n?vt.properties.pathway.disease:vt.properties.pathway.stroke),h=ft(vt.properties.pathway.fill),m=s/2,E=t/2,x=E,I=E-s,O=Math.min(x,e/2);return{background:{"background-image":`<rect x="${m}" y="${m}" width="${e-s}" height="${t-s}" rx="${E}" stroke="${u}" fill="${h}" stroke-width="${s}"/>`},hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${x}\n            a ${O} ${x} 0 0 1 ${O} -${x}\n            h ${e-2*O}\n            a ${O} ${x} 0 0 1 ${O} ${x}\n            a ${O} ${I} 0 0 0 -${O} -${I}\n            h -${e-2*O}\n            a ${O} ${I} 0 0 0 -${O} ${I}\n            Z"/>\n`,"background-clip":"none","background-image-containment":"over","background-height":x},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${O} ${x} 0 0 0 ${O} ${x}\n            h ${e-2*O}\n            a ${O} ${x} 0 0 0 ${O} -${x}\n            a ${O} ${I} 0 0 1 -${O} ${I}\n            h -${e-2*O}\n            a ${O} ${I} 0 0 1 -${O} -${I}\n            Z"/>\n`,"background-position-y":E,"background-clip":"none","background-image-containment":"over","background-height":x}}},ac)]]);function Wk(e,t){const n={};return new Set(Object.keys(t)).forEach(i=>n[i]=e.map(s=>s[i]||t[i])),n}const eU=(e,t,n)=>{const r=ft(vt.properties.global.thickness),i=ft("Molecule"!==n?vt.properties.global.onPrimary:vt.properties.molecule.drug);return{"background-image":`\n      <path style="transform: scale(2)" fill="${i}" stroke-width="0.4" stroke="${i}" d="M3.2 4C3.3 4 3.4 4 3.6 4L6.75 8.81L5.7 10.15C5.7 10.15 5.53985 10.3884 5.31824 10.6092C5.00434 10.922 4.6582 11.3 4.28711 11.3C4.19141 11.3 4.2 11.3 4.1 11.3V11.5H6.4V11.3C6.2 11.3 6 11.3 5.9 11.2C5.8 11.1 5.8 11 5.8 10.9C5.8 10.6301 5.9 10.5547 6.16055 10.226L7 9.2L7.65291 10.226C7.82889 10.5025 8 10.7344 8 10.9C8 11.0656 7.90095 11.3 7.65291 11.3C7.55291 11.3 7.6 11.3 7.4 11.3V11.5H10.2V11.3C9.9 11.3 9.7 11.2 9.5 11C9.24121 10.7412 9 10.5 8.6 10L7.6 8.5L8.48711 7.35309C8.55228 7.28792 8.61656 7.21558 8.68081 7.13924C9.09787 6.6437 9.64859 6 10.2 6.01309V5.81309H7.8V6.01309C8 6.01309 8.2 6.01309 8.3 6.01309C8.45586 6.01309 8.6 6.20329 8.6 6.31309C8.6 6.62136 8.43963 6.81922 8.2462 7.03337L7.3 8.1L4.5 3.9C5.1 3.8 5.4 3.61 5.7 3.31C6 3.01 6.2 2.6 6.2 2.2C6.2 1.8 6.08711 1.47 5.78711 1.17C5.52798 0.910875 5.3 0.8 5 0.7C4.6 0.6 4.1 0.5 3.4 0.5H1V0.7H1.2C1.82201 0.7 2 1.14292 2 1.7V6C2 6.59634 2 6.9 1.2 6.9H1V7.1H3.8V6.9H3.6C2.9041 6.9 2.9 6.61047 2.9 6V4H3H3.2ZM3 3.7C3 3.7 3 3.7 2.9 3.7L2.88711 1C3.18711 0.9 3.4 0.9 3.6 0.9C4.47782 0.9 5 1.42405 5 2.3C5 3.40743 4.15401 3.7 3.2 3.7H3Z"/>\n    `,"background-position-x":("EntitySet"!==n?0:ft(vt.properties.entitySet.radius))+3*r,"background-position-y":t/2-11+"px","background-width":"22px","background-height":"24px"}},tU=(e,t,n)=>{const r=ft(vt.properties.global.thickness),i=ft(vt.properties.global.onPrimary);return{"background-image":`\n      <path style="transform: scale(1.5)" fill="${i}" stroke-width="0.4" stroke="${i}" d="M19.6864 21.0381C19.0364 21.0381 18.4531 20.8508 17.9364 20.4761C17.4197 20.1008 17.0614 19.6214 16.8614 19.0381H11.6864C10.5864 19.0381 9.64473 18.6464 8.8614 17.8631C8.07807 17.0798 7.6864 16.1381 7.6864 15.0381C7.6864 13.9381 8.07807 12.9964 8.8614 12.2131C9.64473 11.4298 10.5864 11.0381 11.6864 11.0381H13.6864C14.2364 11.0381 14.7074 10.8421 15.0994 10.4501C15.4907 10.0588 15.6864 9.58809 15.6864 9.03809C15.6864 8.48809 15.4907 8.01709 15.0994 7.62509C14.7074 7.23375 14.2364 7.03809 13.6864 7.03809H8.5114C8.29473 7.62142 7.9324 8.10075 7.4244 8.47609C6.91573 8.85075 6.3364 9.03809 5.6864 9.03809C4.85307 9.03809 4.14473 8.74642 3.5614 8.16309C2.97807 7.57975 2.6864 6.87142 2.6864 6.03809C2.6864 5.20475 2.97807 4.49642 3.5614 3.91309C4.14473 3.32975 4.85307 3.03809 5.6864 3.03809C6.3364 3.03809 6.91573 3.22542 7.4244 3.60009C7.9324 3.97542 8.29473 4.45475 8.5114 5.03809H13.6864C14.7864 5.03809 15.7281 5.42975 16.5114 6.21309C17.2947 6.99642 17.6864 7.93809 17.6864 9.03809C17.6864 10.1381 17.2947 11.0798 16.5114 11.8631C15.7281 12.6464 14.7864 13.0381 13.6864 13.0381H11.6864C11.1364 13.0381 10.6657 13.2338 10.2744 13.6251C9.8824 14.0171 9.6864 14.4881 9.6864 15.0381C9.6864 15.5881 9.8824 16.0591 10.2744 16.4511C10.6657 16.8424 11.1364 17.0381 11.6864 17.0381H16.8614C17.0781 16.4548 17.4407 15.9754 17.9494 15.6001C18.4574 15.2254 19.0364 15.0381 19.6864 15.0381C20.5197 15.0381 21.2281 15.3298 21.8114 15.9131C22.3947 16.4964 22.6864 17.2048 22.6864 18.0381C22.6864 18.8714 22.3947 19.5798 21.8114 20.1631C21.2281 20.7464 20.5197 21.0381 19.6864 21.0381ZM5.6864 7.03809C5.96973 7.03809 6.2074 6.94242 6.3994 6.75109C6.59073 6.55909 6.6864 6.32142 6.6864 6.03809C6.6864 5.75475 6.59073 5.51709 6.3994 5.32509C6.2074 5.13375 5.96973 5.03809 5.6864 5.03809C5.40307 5.03809 5.1654 5.13375 4.9734 5.32509C4.78207 5.51709 4.6864 5.75475 4.6864 6.03809C4.6864 6.32142 4.78207 6.55909 4.9734 6.75109C5.1654 6.94242 5.40307 7.03809 5.6864 7.03809Z" />\n    `,"background-position-x":5*r,"background-position-y":t/2-18+"px","background-width":"36px","background-height":"36px"}},nU=(0,Va.memoize)((e,t)=>{const n=ft(vt.properties.global.negative),r=ft(vt.properties.global.thickness);return{"background-image":`<line x1="${r}" y1="${r}" x2="${e-r}" y2="${t-r}" stroke-width="${r}" stroke-linecap="round" stroke="${n}"/><line x1="${r}" y1="${t-r}" x2="${e-r}" y2="${r}" stroke-width="${r}" stroke-linecap="round" stroke="${n}"/>`,"background-image-opacity":1}}),Kk=(0,Va.memoize)(()=>{const e=ft(vt.properties.global.onSurface);return qk(`<line x1="2.5" y1="3" x2="4.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="${e}"/><line x1="5.5" y1="3" x2="7.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="${e}"/>`,10,10)});const pC={selecting:!1,hovering:!1,deHovering:!1},gC=(e,t)=>n=>{pC[t]||(pC[t]=!0,e(n.connectedEdges().add(n)),pC[t]=!1)};let mC;function Zk(e,t){return new dU(e,t)}class dU extends Array{constructor(t,n){super(t,n)}get x(){return this[0]}get y(){return this[1]}}function Yk(e,t){if(e<t.at(0).x)return t.at(0).y;if(e>t.at(-1).x)return t.at(-1).y;for(let n=0;n+1<t.length;n++){let r=fU(e,t[n],t[n+1]);if(r)return r}return console.assert(!1,"Should not arrive here"),0}function fU(e,t,n){if(!(e<t.x||e>n.x))return(t.y*(n.x-e)+n.y*(e-t.x))/(n.x-t.x)}class vC{constructor(t,n,r){this.hue=t,this.saturation=n,this.luminance=r}toString(){return`hsl(${this.h},${this.s},${this.l})`}invertL(){return this.l=100-this.l,this}invertS(){return this.s=100-this.s,this}invertH(){return this.h=(360-this.h)%360,this}get h(){return this.hue}set h(t){this.hue=t}get s(){return this.saturation}set s(t){this.saturation=t}get l(){return this.luminance}set l(t){this.luminance=t}static fromHex(t){let n,r,i,s=0,u=0,h=0;if(4==t.length)n="0x"+t[1]+t[1],r="0x"+t[2]+t[2],i="0x"+t[3]+t[3];else{if(7!=t.length)throw new Error("Hexadecimal not properly formatted");n="0x"+t[1]+t[2],r="0x"+t[3]+t[4],i="0x"+t[5]+t[6]}s=Number.parseInt(n,16)/255,u=Number.parseInt(r,16)/255,h=Number.parseInt(i,16)/255;let m=Math.min(s,u,h),E=Math.max(s,u,h),x=E-m,I=0,O=0,$=0;return I=0==x?0:E==s?(u-h)/x%6:E==u?(h-s)/x+2:(s-u)/x+4,I=Math.round(60*I),I<0&&(I+=360),$=(E+m)/2,O=0==x?0:x/(1-Math.abs(2*$-1)),O=+(100*O).toFixed(1),$=+(100*$).toFixed(1),new vC(I,O,$)}toHex(){const t=this.h,n=this.s/=100,r=this.l/=100;let i=(1-Math.abs(2*r-1))*n,s=i*(1-Math.abs(t/60%2-1)),u=r-i/2,h=0,m=0,E=0;0<=t&&t<60?(h=i,m=s,E=0):60<=t&&t<120?(h=s,m=i,E=0):120<=t&&t<180?(h=0,m=i,E=s):180<=t&&t<240?(h=0,m=s,E=i):240<=t&&t<300?(h=s,m=0,E=i):300<=t&&t<360&&(h=i,m=0,E=s);let x=Math.round(255*(h+u)).toString(16),I=Math.round(255*(m+u)).toString(16),O=Math.round(255*(E+u)).toString(16);return 1==x.length&&(x="0"+x),1==I.length&&(I="0"+I),1==O.length&&(O="0"+O),"#"+x+I+O}}class vt{constructor(t,n={}){this.p=$H,this.pm=zH,vt.css=getComputedStyle(t),vt.properties=function rU(e={},t){const n=na(e.global||{}).setDefault("thickness",4).setDefault("surface",()=>t.getPropertyValue("--surface")||"#F6FEFF").setDefault("onSurface",()=>t.getPropertyValue("--on-surface")||"#001F24").setDefault("primary",()=>t.getPropertyValue("--primary")||"#006782").setDefault("onPrimary",()=>t.getPropertyValue("--on-primary")||"#FFFFFF").setDefault("positive",()=>t.getPropertyValue("--positive")||"#0C9509").setDefault("negative",()=>t.getPropertyValue("--negative")||"#BA1A1A").setDefault("negativeContrast",()=>t.getPropertyValue("--negativeContrast")||"#ea7d7d").setDefault("selectNode",()=>t.getPropertyValue("--select-node")||"#6EB3E4").setDefault("selectEdge",()=>t.getPropertyValue("--select-edge")||"#0561A6").setDefault("hoverNode",()=>t.getPropertyValue("--hover-node")||"#78E076").setDefault("hoverEdge",()=>t.getPropertyValue("--hover-edge")||"#04B601"),r=na(e.compartment||{}).setDefault("opacity",()=>Number.parseFloat(t.getPropertyValue("--opacity"))||.06).setDefault("fill",()=>t.getPropertyValue("--compartment")||"#E5834A"),i=na(e.shadow||{}).setDefault("luminosity",()=>Number.parseFloat(t.getPropertyValue("--shadow-luminosity"))||40).setDefault("opacity",()=>{const ge=t.getPropertyValue("--shadow-opacity");return ge?JSON.parse(ge):[[20,20],[40,0]]}).setDefault("labelOpacity",()=>{const ge=t.getPropertyValue("--shadow-label-opacity");return ge?JSON.parse(ge):[[20,100],[40,0]]}),s=na(e.protein||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-1")||"#001F29").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-1")||"#3E001D").setDefault("radius",8),u=na(e.genomeEncodedEntity||{}).setDefault("fill",()=>ft(s.fill)).setDefault("stroke",()=>ft(m.fill)).setDefault("drug",()=>ft(s.drug)).setDefault("radius",8),h=na(e.rna||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-2")||"#003545").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-2")||"#610B33").setDefault("radius",8),m=na(e.gene||{}).setDefault("decorationHeight",20).setDefault("decorationExtraWidth",17).setDefault("arrowHeadSize",10).setDefault("borderRadius",8).setDefault("arrowRadius",8).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-3")||"#004D62"),E=na(e.molecule||{}).setDefault("fill",()=>ft(n.surface)).setDefault("stroke",()=>ft(n.onSurface)).setDefault("drug",()=>t.getPropertyValue("--drug-contrast-3")||"#9C3D61"),x=na(e.complex||{}).setDefault("cut",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-1")||"#00315C").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-3")||"#7E2549"),I=na(e.entitySet||{}).setDefault("radius",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-3")||"#1660A5").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-4")||"#BB557A"),O=na(e.cell||{}).setDefault("thickness",()=>Number.parseFloat(t.getPropertyValue("--cell-thickness"))||16).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-2")||"#004882").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF"),$=na(e.pathway||{}).setDefault("fill",()=>ft(n.primary)).setDefault("stroke",()=>ft(n.onPrimary)).setDefault("disease",()=>ft(n.negative)),ee=na(e.modification||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-2")||"#003545"),ne=na(e.interactor||{}).setDefault("fill",()=>t.getPropertyValue("--primary")||"#006782").setDefault("stroke",()=>t.getPropertyValue("--interactor-stroke")||"#96aeb6");return{global:n,compartment:r,shadow:i,protein:s,genomeEncodedEntity:u,rna:h,gene:m,molecule:E,complex:x,entitySet:I,cell:O,pathway:$,modification:ee,interactor:ne}}(n,vt.css)}bindToCytoscape(t){this.cy=t,function iU(e){e.elements().ungrabify().panify(),function oU(e){const t=gC(r=>r.addClass("hover"),"hovering"),n=gC(r=>r.removeClass("hover"),"deHovering");e.nodes().on("mouseover",r=>r.target.addClass("hover")).on("mouseout",r=>r.target.removeClass("hover")).nodes(".reaction").on("mouseover",r=>t(r.target)).on("mouseout",r=>n(r.target)),e.nodes(".Modification").on("mouseover",r=>e.nodes(`#${r.target.data("nodeId")}`).addClass("hover")).on("mouseout",r=>e.nodes(`#${r.target.data("nodeId")}`).removeClass("hover")),e.edges().on("mouseover",r=>t(r.target.connectedNodes(".reaction"))).on("mouseout",r=>n(r.target.connectedNodes(".reaction")))}(e),function sU(e){const t=gC(n=>n.select(),"selecting");e.edges().on("select",n=>t(n.target.connectedNodes(".reaction"))).on("unselect",n=>t(e.edges(":selected").connectedNodes(".reaction").add(e.nodes(".reaction:selected")))),e.nodes(".reaction").on("select",n=>t(n.target)),e.nodes(".Modification").on("select",n=>e.nodes(`#${n.target.data("nodeId")}`).select())}(e),function aU(e){const t=e.edges("[?pathway]"),n=e.nodes(".Shadow");e.minZoom(Math.min(e.zoom(),ft(vt.properties.shadow.labelOpacity)[0][0]/100)),e.maxZoom(15),mC=r=>{const i=e.zoom();t.stop().animate({style:{"underlay-opacity":Yk(100*i,ft(vt.properties.shadow.opacity).map(s=>Zk(...s)))/100}}),n.stop().animate({style:{"text-opacity":Yk(100*i,ft(vt.properties.shadow.labelOpacity).map(s=>Zk(...s)))/100}})},e.on("zoom",mC)}(e),function lU(e){e.on("select",".InteractorOccurrences",t=>{const n=t.target,r=n.data("interactors");r&&(function uU(e,t,n){const r=[];e.forEach(i=>{const s=n?.nodes(`[acc = '${i.acc}']`),u=new Map(s?.map(h=>[h.data("acc"),h]));i.acc!==u.get(i.acc)?.data("graph").identifier&&r.push({data:{id:i.acc+"-"+t.data("entity").id(),displayName:i.alias,width:t.data("entity").width(),height:t.data("entity").height(),source:t.id(),score:i.score,evidences:i.evidences,evidenceURLs:i.evidencesURL},classes:["Interactor"]})}),n?.add(r)}(r,n,e),function cU(e,t,n){const r=[];e.forEach(i=>{const s=n?.nodes(`[acc = '${i.acc}']`),u=new Map(s?.map(m=>[m.data("acc"),m])),h=u.get(i.acc)?u.get(i.acc)?.data("id"):i.acc+"-"+t.data("entity").id();r.push({data:{id:i.acc+"---"+t.data("entity").id(),source:t.data("entity").id(),target:h},classes:["Interactor"],pannable:!0,grabbable:!0})}),n?.add(r)}(r,n,e));const i=e.nodes(`[source = '${n.id()}']`),h=n.data("entity").position().x-150,m=n.data("entity").position().y-150;i.layout({name:"concentric",boundingBox:{x1:h,y1:m,w:300,h:300},concentric:E=>E.data("score")}).run()})}(e)}(t),this.initSubPathwayColors()}initSubPathwayColors(){const t=this.cy?.nodes(".Shadow");if(!t)return;const n=360/t.length,r=new Map(t.map((i,s)=>{const u=new vC(n*s,100,ft(vt.properties.shadow.luminosity)).toHex();return i.data("color",u),[i.data("reactomeId"),u]}));this.cy?.edges("[?pathway]").forEach(i=>{i.data("color",r.get(i.data("pathway")))})}getStyleSheet(){return[{selector:"*",style:{"font-family":"Helvetica","font-weight":600,"z-index":1}},{selector:"node.Compartment",style:{shape:"round-rectangle",width:"data(width)",height:"data(height)","border-style":"double","z-index":0,"z-compound-depth":"bottom","overlay-opacity":0,color:this.p("compartment","fill"),"border-color":this.p("compartment","fill"),"background-color":this.p("compartment","fill"),"background-opacity":this.p("compartment","opacity"),"border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.Compartment.inner, node.Compartment.outer",style:{"border-style":"solid","border-width":this.p("global","thickness")}},{selector:"node.Compartment.outer",style:{label:"data(displayName)","text-opacity":1,"text-valign":"bottom","text-halign":"right","text-margin-x":"data(textX)","text-margin-y":"data(textY)"}},{selector:"node.Shadow[?color]",style:{label:"data(displayName)","font-size":80,"background-opacity":0,color:"data(color)","text-valign":"center","text-halign":"center","text-outline-color":this.p("global","surface"),"text-outline-width":15,"text-wrap":"wrap","text-max-width":"data(width)"}},{selector:"node.InteractorOccurrences",style:{label:"data(displayName)",color:this.p("global","surface"),shape:"ellipse","text-valign":"center","text-halign":"center","text-wrap":"wrap","background-color":this.p("global","negative")}},{selector:"node.Interactor",style:{label:"data(displayName)",shape:"hexagon",width:180,height:60,color:this.p("global","onPrimary"),"text-valign":"center","text-halign":"center","text-wrap":"wrap","background-color":this.p("interactor","fill"),"border-color":this.p("interactor","stroke"),"border-width":this.p("global","thickness")}},{selector:"node.drug",style:{"text-max-width":t=>t.width()-44+"px","text-margin-x":4,"font-style":"italic"}},{selector:"node.PhysicalEntity, node.Pathway, node.Modification",style:{label:"data(displayName)",width:"data(width)",height:"data(height)","background-fit":"none","text-halign":"center","text-valign":"center","text-wrap":"wrap","text-max-width":"data(width)","background-image-smoothing":"no no no no no no no no","background-image":t=>sc(t)["background-image"],"background-position-y":t=>sc(t)["background-position-y"]||0,"background-position-x":t=>sc(t)["background-position-x"]||0,"background-height":t=>sc(t)["background-height"]||"100%","background-width":t=>sc(t)["background-width"]||"100%","background-clip":t=>sc(t)["background-clip"]||"node","background-image-containment":t=>sc(t)["background-image-containment"]||"inside","background-image-opacity":t=>sc(t)["background-image-opacity"]||1,"bounds-expansion":t=>sc(t)["bounds-expansion"][0]||0,color:this.p("global","onPrimary")}},{selector:"node.PhysicalEntity.disease",style:{"border-color":this.p("global","negativeContrast"),color:this.p("global","negativeContrast"),"border-width":this.p("global","thickness")}},{selector:"[isFadeOut]",style:{}},{selector:"[isFadeOut][?replacedBy]",style:{}},{selector:"node.Protein",style:{shape:"round-rectangle","background-color":this.p("protein","fill")}},{selector:"node.Protein.drug",style:{"background-color":this.p("protein","drug")}},{selector:"node.GenomeEncodedEntity",style:{shape:"round-rectangle","background-color":this.p("genomeEncodedEntity","fill"),"border-width":this.pm("global","thickness",t=>2*t),"border-color":this.p("genomeEncodedEntity","stroke"),"border-position":"inside","border-dash-pattern":this.pm("global","thickness",t=>6*t),"border-style":"dashed","border-cap":"round"}},{selector:"node.GenomeEncodedEntity.drug",style:{"background-color":this.p("genomeEncodedEntity","drug")}},{selector:"node.RNA",style:{shape:"bottom-round-rectangle","background-color":this.p("rna","fill")}},{selector:"node.RNA.drug",style:{"background-color":this.p("rna","drug")}},{selector:"node.Gene",style:{shape:"bottom-round-rectangle","background-opacity":0,"background-color":this.p("gene","fill"),"bounds-expansion":this.p("gene","decorationExtraWidth"),"text-margin-y":this.pm("gene","decorationHeight",t=>t/2),"border-width":0}},{selector:"node.Molecule",style:{shape:"round-rectangle",color:this.p("molecule","stroke"),"background-color":this.p("molecule","fill"),"border-color":this.p("molecule","stroke"),"border-width":this.p("global","thickness"),"corner-radius":t=>Math.min(t.data("width"),t.data("height"))/2,"border-position":"inside"}},{selector:"node.Molecule.drug",style:{color:this.p("molecule","drug"),"border-color":this.p("molecule","drug")}},{selector:"node.EntitySet",style:{"background-opacity":0,shape:"round-rectangle","border-width":0,"text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n+"px"))}},{selector:"node.EntitySet.drug",style:{"text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n-44+"px"))}},{selector:"node.Complex",style:{shape:"cut-rectangle","text-max-width":t=>this.pm("global","thickness",n=>t.width()-6*n+"px"),"background-opacity":0,"border-width":0}},{selector:"node.Complex.drug",style:{"text-margin-x":4,"text-max-width":t=>this.pm("global","thickness",n=>t.width()-6*n-44+"px")}},{selector:"node.Cell",style:{"background-opacity":0,shape:"round-rectangle","corner-radius":999999,"border-width":0,"text-max-width":t=>this.pm("global","thickness",n=>this.pm("cell","thickness",r=>t.width()-2*n-2*r+"px"))}},{selector:"node.Pathway",style:{"background-color":this.p("pathway","fill"),"text-margin-x":18}},{selector:"node.Interacting.Pathway",style:{shape:"rectangle","border-color":this.p("pathway","stroke"),"border-width":this.pm("global","thickness",t=>3*t),"border-position":"inside","text-max-width":t=>this.pm("global","thickness",n=>t.width()-2*(6*n+36)+"px")}},{selector:"node.SUB.Pathway",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":t=>this.pm("global","thickness",n=>t.width()-2*(6*n+36)+"px")}},{selector:"node.Modification",style:{"background-color":this.p("modification","fill"),shape:"round-rectangle"}},{selector:"node.reaction",style:{width:this.pm("global","thickness",t=>6*t),height:this.pm("global","thickness",t=>6*t),shape:"round-rectangle","text-halign":"center","text-valign":"center","border-width":this.p("global","thickness"),"border-color":this.p("global","onSurface"),color:this.p("global","onSurface"),"background-color":this.p("global","surface")}},{selector:"node.reaction[?displayName]",style:{label:"data(displayName)","font-weight":400,"text-valign":"top","text-margin-y":-5}},{selector:"node.reaction.hover",style:{"border-width":this.pm("global","thickness",t=>1*t),"border-color":this.p("global","hoverEdge")}},{selector:"node.reaction:selected",style:{"border-width":this.pm("global","thickness",t=>1.5*t),"border-color":this.p("global","selectEdge")}},{selector:"node.association",style:{shape:"ellipse","background-color":this.p("global","onSurface")}},{selector:"node.dissociation",style:{shape:"ellipse","border-style":"double","border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.uncertain",style:{label:"?","text-valign":"center","text-margin-y":0,"font-weight":600}},{selector:"node.omitted",style:{"background-image":Kk(),"background-fit":"cover","background-height":"100%","background-width":"100%"}},{selector:"edge",style:{"curve-style":"bezier","line-cap":"round","source-endpoint":"outside-to-node","arrow-scale":1.5,width:this.p("global","thickness"),color:this.p("global","onSurface"),"line-color":this.p("global","onSurface"),"target-arrow-color":this.p("global","onSurface"),"mid-source-arrow-color":this.p("global","onSurface"),"mid-target-arrow-color":this.p("global","onSurface"),"source-arrow-color":this.p("global","onSurface"),"source-arrow-width":"100%","target-arrow-width":"100%"}},{selector:"edge.disease",style:{color:this.p("global","negative"),"line-color":this.p("global","negative"),"border-color":this.p("global","negative"),"target-arrow-color":this.p("global","negative"),"source-arrow-color":this.p("global","negative")}},{selector:"edge.hover",style:{"line-color":this.p("global","hoverEdge"),width:this.pm("global","thickness",t=>1.5*t),"arrow-scale":1,"source-arrow-color":this.p("global","hoverEdge"),"target-arrow-color":this.p("global","hoverEdge"),"source-arrow-width":"50%","target-arrow-width":"50%","z-index":2}},{selector:"edge:selected",style:{"line-color":this.p("global","selectEdge"),width:this.pm("global","thickness",t=>2*t),"arrow-scale":1,"source-arrow-color":this.p("global","selectEdge"),"target-arrow-color":this.p("global","selectEdge"),"source-arrow-width":"50%","target-arrow-width":"50%","z-index":3}},{selector:"edge.consumption",style:{"target-endpoint":"inside-to-node","source-endpoint":"outside-to-node"}},{selector:"edge.production",style:{"target-arrow-shape":"triangle"}},{selector:"edge.catalysis",style:{"target-arrow-shape":"circle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.positive-regulation",style:{"target-arrow-shape":"triangle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.negative-regulation",style:{"target-arrow-shape":"tee","line-cap":"butt","source-endpoint":"inside-to-node","target-arrow-color":this.p("global","negative")}},{selector:"edge.set-to-member",style:{"target-arrow-shape":"circle","line-style":"dashed","line-dash-pattern":[6,10]}},{selector:"edge[stoichiometry > 1]",style:{"text-background-color":this.p("global","surface"),"text-background-opacity":1,"text-border-width":this.pm("global","thickness",t=>t/2),"text-border-opacity":1,"text-border-color":this.p("global","onSurface"),"text-background-shape":"roundrectangle","text-background-padding":this.pm("global","thickness",t=>t+"px")}},{selector:"edge[stoichiometry > 1].incoming",style:{"source-label":"data(stoichiometry)","source-text-offset":30}},{selector:"edge[stoichiometry > 1].outgoing",style:{"target-label":"data(stoichiometry)","target-text-offset":35}},{selector:"edge[?color]",style:{"underlay-color":"data(color)","underlay-padding":20,"underlay-opacity":this.pm("shadow","opacity",t=>t[0][1]/100)}},{selector:"edge[?weights]",style:{"curve-style":"round-segments","segment-distances":"data(distances)","segment-weights":"data(weights)","segment-radius":50,"edge-distances":"endpoints"}},{selector:"edge[?sourceEndpoint]",style:{"source-endpoint":"data(sourceEndpoint)"}},{selector:"edge[?targetEndpoint]",style:{"target-endpoint":"data(targetEndpoint)"}},{selector:"edge[?sourceLabel]",style:{"source-label":"data(sourceLabel)","source-text-margin-y":-12,"font-weight":400}},{selector:"edge[?label]",style:{label:"data(label)","text-margin-y":12,"font-weight":400}},{selector:"edge.Interactor",style:{"line-color":this.p("interactor","stroke")}},{selector:"edge[?sourceOffset]",style:{"source-text-offset":"data(sourceOffset)"}},{selector:"[?labelColor]",style:{color:t=>ft(this.p("global",t.data("labelColor")))}},{selector:"node.debug",style:{label:"data(id)","text-outline-width":4,"text-outline-color":"black","text-outline-opacity":1,color:"white"}},{selector:"node.Legend.Label",style:{label:"data(displayName)","text-halign":"center","text-valign":"center","font-size":24,"font-weight":400,"background-opacity":0,color:this.p("global","onSurface")}},{selector:"node.Legend.Placeholder",style:{"background-opacity":0,"border-opacity":0,width:20,height:20,shape:"rectangle"}},{selector:"node.Legend.Placeholder[?displayName]",style:{label:"data(displayName)","font-weight":400}}]}update(t){(function JH(){for(let e of hC.values())e.cache.clear();sc.cache.clear(),Kk.cache.clear()})(),t.style(this.getStyleSheet()),this.initSubPathwayColors(),mC()}}const hU=JSON.parse('{"nodes":[{"data":{"id":"Label 1","displayName":"Molecules"},"classes":["Label","Legend"],"position":{"x":250,"y":-20}},{"data":{"id":"Gene","displayName":"Gene","height":80,"width":220},"classes":["Gene","PhysicalEntity"],"position":{"x":130,"y":40}},{"data":{"id":"Genome Encoded Entity","displayName":"Genome Encoded Entity","height":60,"width":220},"classes":["GenomeEncodedEntity","PhysicalEntity"],"position":{"x":370,"y":50}},{"data":{"id":"RNA","displayName":"RNA","height":60,"width":220},"classes":["RNA","PhysicalEntity"],"position":{"x":130,"y":130}},{"data":{"id":"RNA-drug","displayName":"RNA Drug","height":60,"width":220},"classes":["RNA","PhysicalEntity","drug"],"position":{"x":370,"y":130}},{"data":{"id":"Protein","displayName":"Protein","height":60,"width":220},"classes":["Protein","PhysicalEntity"],"position":{"x":130,"y":210}},{"data":{"id":"Protein-drug","displayName":"Protein Drug","height":60,"width":220},"classes":["Protein","PhysicalEntity","drug"],"position":{"x":370,"y":210}},{"data":{"id":"Molecule","displayName":"Molecule","height":60,"width":220},"classes":["Molecule","PhysicalEntity"],"position":{"x":130,"y":290}},{"data":{"id":"Molecule-drug","displayName":"Molecule Drug","height":60,"width":220},"classes":["Molecule","PhysicalEntity","drug"],"position":{"x":370,"y":290}},{"data":{"id":"Complex","displayName":"Complex","height":60,"width":220},"classes":["Complex","PhysicalEntity"],"position":{"x":130,"y":370}},{"data":{"id":"Complex-drug","displayName":"Complex Drug","height":60,"width":220},"classes":["Complex","PhysicalEntity","drug"],"position":{"x":370,"y":370}},{"data":{"id":"EntitySet","displayName":"Set","height":60,"width":220},"classes":["EntitySet","PhysicalEntity"],"position":{"x":130,"y":450}},{"data":{"id":"EntitySet-drug","displayName":"Set Drug","height":60,"width":220},"classes":["EntitySet","PhysicalEntity","drug"],"position":{"x":370,"y":450}},{"data":{"id":"Cell","displayName":"Cell","height":60,"width":220},"classes":["Cell","PhysicalEntity"],"position":{"x":250,"y":530}},{"data":{"id":"SubPathway","displayName":"SubPathway","height":80,"width":220},"classes":["SUB","Pathway"],"position":{"x":130,"y":610}},{"data":{"id":"interacting pathway","displayName":"Interacting Pathway","height":80,"width":220},"classes":["Interacting","Pathway"],"position":{"x":370,"y":610}},{"data":{"id":"Label 2","displayName":"Reaction Types"},"classes":["Label","Legend"],"position":{"x":250,"y":690}},{"data":{"id":"a"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":760}},{"data":{"id":"dissociation","displayName":"Dissociation"},"classes":["dissociation","reaction"],"position":{"x":130,"y":760}},{"data":{"id":"b"},"classes":["Placeholder","Legend"],"position":{"x":250,"y":740}},{"data":{"id":"c"},"classes":["Placeholder","Legend"],"position":{"x":250,"y":780}},{"data":{"id":"association","displayName":"Association"},"classes":["association","reaction"],"position":{"x":370,"y":760}},{"data":{"id":"d"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":760}},{"data":{"id":"e"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":840}},{"data":{"id":"transition","displayName":"Transition"},"classes":["transition","reaction"],"position":{"x":130,"y":840}},{"data":{"id":"f"},"classes":["Placeholder","Legend"],"position":{"x":250,"y":840}},{"data":{"id":"omitted","displayName":"Omitted"},"classes":["omitted","reaction"],"position":{"x":370,"y":840}},{"data":{"id":"g"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":840}},{"data":{"id":"h"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":920}},{"data":{"id":"uncertain-l","displayName":"Uncertain"},"classes":["Placeholder","reaction","Legend"],"position":{"x":250,"y":916}},{"data":{"id":"uncertain"},"classes":["uncertain","reaction"],"position":{"x":250,"y":920}},{"data":{"id":"i"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":920}},{"data":{"id":"Label 3","displayName":"Reaction Attributes"},"classes":["Label","Legend"],"position":{"x":250,"y":980}},{"data":{"id":"attr-catalysis"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1020}},{"data":{"id":"attr-reg+"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1020}},{"data":{"id":"attr-a"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1060}},{"data":{"id":"attr-b"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1100}},{"data":{"id":"attr-reaction"},"classes":["association","reaction"],"position":{"x":250,"y":1080}},{"data":{"id":"attr-c"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1080}},{"data":{"id":"attr-reg-"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1145}},{"data":{"id":"attr-s-l","displayName":"Stoichiometry","labelColor":"onSurface"},"classes":["Placeholder","Legend"],"position":{"x":73,"y":1150}},{"data":{"id":"line-a"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1185}},{"data":{"id":"line-b"},"classes":["Placeholder","Legend"],"position":{"x":250,"y":1185}},{"data":{"id":"line-c"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1185}},{"data":{"id":"line-d"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1225}},{"data":{"id":"line-e"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1225}}],"edges":[{"data":{"source":"a","target":"dissociation"},"classes":["consumption","incoming"]},{"data":{"source":"dissociation","target":"b","weights":"0.270 0.523","distances":"5.535 -9.976","sourceEndpoint":"18 0","targetEndpoint":"-10 0"},"classes":["production","outgoing"]},{"data":{"source":"dissociation","target":"c","weights":"0.270 0.523","distances":"-5.535 9.976","sourceEndpoint":"18 0","targetEndpoint":"-10 0"},"classes":["production","outgoing"]},{"data":{"source":"b","target":"association","weights":"0.285 0.521","distances":"-5.82 9.777","sourceEndpoint":"10 0","targetEndpoint":"-10 0"},"classes":["consumption","outgoing"]},{"data":{"source":"c","target":"association","weights":"0.285 0.521","distances":"5.82 -9.777","sourceEndpoint":"10 0","targetEndpoint":"-10 0"},"classes":["consumption","outgoing"]},{"data":{"source":"association","target":"d"},"classes":["production","outgoing"]},{"data":{"source":"e","target":"transition"},"classes":["consumption","incoming"]},{"data":{"source":"transition","target":"f"},"classes":["production","outgoing"]},{"data":{"source":"f","target":"omitted"},"classes":["consumption","incoming"]},{"data":{"source":"omitted","target":"g"},"classes":["production","outgoing"]},{"data":{"source":"h","target":"uncertain"},"classes":["consumption","incoming"]},{"data":{"source":"uncertain","target":"i"},"classes":["production","outgoing"]},{"data":{"source":"attr-a","target":"attr-reaction","weights":"0.582 0.683","distances":"-11.686 6.357","sourceEndpoint":"10 0","targetEndpoint":"-12 0"},"classes":["consumption","incoming"]},{"data":{"source":"attr-b","target":"attr-reaction","weights":"0.582 0.683","distances":"11.686 -6.357","sourceEndpoint":"10 0","targetEndpoint":"-12 0","stoichiometry":3,"sourceOffset":50},"classes":["consumption","incoming"]},{"data":{"source":"attr-reaction","target":"attr-c","sourceEndpoint":"12 0","targetEndpoint":"-10 0"},"classes":["production","outgoing"]},{"data":{"source":"attr-catalysis","target":"attr-reaction","weights":"0.754","distances":"-34.250","sourceEndpoint":"10 0","targetEndpoint":"-15.556 -15.556","sourceLabel":"Catalysis","sourceOffset":30,"labelColor":"positive"},"classes":["catalysis","incoming"]},{"data":{"source":"attr-reg+","target":"attr-reaction","weights":"0.754","distances":"34.250","sourceEndpoint":"-10 0","targetEndpoint":"15.556 -15.556","sourceLabel":"Positive Regulation","sourceOffset":70,"labelColor":"positive"},"classes":["positive-regulation","incoming"]},{"data":{"source":"attr-reg-","target":"attr-reaction","sourceEndpoint":"-10 0","targetEndpoint":"0 22","weights":"0.966","distances":"-41.287","sourceLabel":"Negative regulation","sourceOffset":72,"labelColor":"negative"},"classes":["negative-regulation","incoming"]},{"data":{"source":"line-a","target":"line-b","sourceEndpoint":"12 0","targetEndpoint":"-12 0","label":"Wild Type"},"classes":["consumption","incoming"]},{"data":{"source":"line-b","target":"line-c","sourceEndpoint":"12 0","targetEndpoint":"-12 0","label":"Disease Associated","labelColor":"negative"},"classes":["consumption","incoming","disease"]},{"data":{"source":"line-d","target":"line-e","sourceEndpoint":"12 0","targetEndpoint":"-12 0","label":"Member of Set","labelColor":"onSurface"},"classes":["set-to-member"]}],"Reaction Types GeoGebra":"https://www.geogebra.org/calculator/bydd8bz5","Reaction Attributes GeoGebra":"https://www.geogebra.org/calculator/hgu6afmu"}');var e,pU=Object.create,Qk=Object.defineProperty,gU=Object.getOwnPropertyDescriptor,mU=Object.getOwnPropertyNames,vU=Object.getPrototypeOf,yU=Object.prototype.hasOwnProperty,yC=(e=function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e),bC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),wU=bC((e,t)=>{t.exports=function(n){return n&&"object"==typeof n&&"function"==typeof n.copy&&"function"==typeof n.fill&&"function"==typeof n.readUInt8}}),EU=bC((e,t)=>{t.exports="function"==typeof Object.create?function(n,r){n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}),DU=bC(e=>{var t=/%[sdj%]/g;e.format=function(ae){if(!it(ae)){for(var we=[],et=0;et<arguments.length;et++)we.push(i(arguments[et]));return we.join(" ")}et=1;for(var Kt=arguments,Nn=Kt.length,Bt=String(ae).replace(t,function(rr){if("%%"===rr)return"%";if(et>=Nn)return rr;switch(rr){case"%s":return String(Kt[et++]);case"%d":return Number(Kt[et++]);case"%j":try{return JSON.stringify(Kt[et++])}catch{return"[Circular]"}default:return rr}}),Yt=Kt[et];et<Nn;Yt=Kt[++et])ge(Yt)||!Xn(Yt)?Bt+=" "+Yt:Bt+=" "+i(Yt);return Bt},e.deprecate=function(ae,we){if(Ht(global.process))return function(){return e.deprecate(ae,we).apply(this,arguments)};if(!0===process.noDeprecation)return ae;var et=!1;return function Kt(){if(!et){if(process.throwDeprecation)throw new Error(we);process.traceDeprecation?console.trace(we):console.error(we),et=!0}return ae.apply(this,arguments)}};var r,n={};function i(ae,we){var et={seen:[],stylize:u};return arguments.length>=3&&(et.depth=arguments[2]),arguments.length>=4&&(et.colors=arguments[3]),ne(we)?et.showHidden=we:we&&e._extend(et,we),Ht(et.showHidden)&&(et.showHidden=!1),Ht(et.depth)&&(et.depth=2),Ht(et.colors)&&(et.colors=!1),Ht(et.customInspect)&&(et.customInspect=!0),et.colors&&(et.stylize=s),m(et,ae,et.depth)}function s(ae,we){var et=i.styles[we];return et?"\x1b["+i.colors[et][0]+"m"+ae+"\x1b["+i.colors[et][1]+"m":ae}function u(ae,we){return ae}function m(ae,we,et){if(ae.customInspect&&we&&Mo(we.inspect)&&we.inspect!==e.inspect&&(!we.constructor||we.constructor.prototype!==we)){var Kt=we.inspect(et,ae);return it(Kt)||(Kt=m(ae,Kt,et)),Kt}var Nn=function E(ae,we){if(Ht(we))return ae.stylize("undefined","undefined");if(it(we)){var et="'"+JSON.stringify(we).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ae.stylize(et,"string")}return ye(we)?ae.stylize(""+we,"number"):ne(we)?ae.stylize(""+we,"boolean"):ge(we)?ae.stylize("null","null"):void 0}(ae,we);if(Nn)return Nn;var Bt=Object.keys(we),Yt=function h(ae){var we={};return ae.forEach(function(et,Kt){we[et]=!0}),we}(Bt);if(ae.showHidden&&(Bt=Object.getOwnPropertyNames(we)),Oi(we)&&(Bt.indexOf("message")>=0||Bt.indexOf("description")>=0))return x(we);if(0===Bt.length){if(Mo(we))return ae.stylize("[Function"+(we.name?": "+we.name:"")+"]","special");if(Kn(we))return ae.stylize(RegExp.prototype.toString.call(we),"regexp");if(fi(we))return ae.stylize(Date.prototype.toString.call(we),"date");if(Oi(we))return x(we)}var Ni,rr="",ks=!1,wr=["{","}"];return ee(we)&&(ks=!0,wr=["[","]"]),Mo(we)&&(rr=" [Function"+(we.name?": "+we.name:"")+"]"),Kn(we)&&(rr=" "+RegExp.prototype.toString.call(we)),fi(we)&&(rr=" "+Date.prototype.toUTCString.call(we)),Oi(we)&&(rr=" "+x(we)),0!==Bt.length||ks&&0!=we.length?et<0?Kn(we)?ae.stylize(RegExp.prototype.toString.call(we),"regexp"):ae.stylize("[Object]","special"):(ae.seen.push(we),Ni=ks?function I(ae,we,et,Kt,Nn){for(var Bt=[],Yt=0,un=we.length;Yt<un;++Yt)oe(we,String(Yt))?Bt.push(O(ae,we,et,Kt,String(Yt),!0)):Bt.push("");return Nn.forEach(function(rr){rr.match(/^\d+$/)||Bt.push(O(ae,we,et,Kt,rr,!0))}),Bt}(ae,we,et,Yt,Bt):Bt.map(function(Kp){return O(ae,we,et,Yt,Kp,ks)}),ae.seen.pop(),function $(ae,we,et){var Nn=ae.reduce(function(Bt,Yt){return Yt.indexOf("\n"),Bt+Yt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Nn>60?et[0]+(""===we?"":we+"\n ")+" "+ae.join(",\n  ")+" "+et[1]:et[0]+we+" "+ae.join(", ")+" "+et[1]}(Ni,rr,wr)):wr[0]+rr+wr[1]}function x(ae){return"["+Error.prototype.toString.call(ae)+"]"}function O(ae,we,et,Kt,Nn,Bt){var Yt,un,rr;if((rr=Object.getOwnPropertyDescriptor(we,Nn)||{value:we[Nn]}).get?un=ae.stylize(rr.set?"[Getter/Setter]":"[Getter]","special"):rr.set&&(un=ae.stylize("[Setter]","special")),oe(Kt,Nn)||(Yt="["+Nn+"]"),un||(ae.seen.indexOf(rr.value)<0?(un=ge(et)?m(ae,rr.value,null):m(ae,rr.value,et-1)).indexOf("\n")>-1&&(un=Bt?un.split("\n").map(function(ks){return"  "+ks}).join("\n").substr(2):"\n"+un.split("\n").map(function(ks){return"   "+ks}).join("\n")):un=ae.stylize("[Circular]","special")),Ht(Yt)){if(Bt&&Nn.match(/^\d+$/))return un;(Yt=JSON.stringify(""+Nn)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Yt=Yt.substr(1,Yt.length-2),Yt=ae.stylize(Yt,"name")):(Yt=Yt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Yt=ae.stylize(Yt,"string"))}return Yt+": "+un}function ee(ae){return Array.isArray(ae)}function ne(ae){return"boolean"==typeof ae}function ge(ae){return null===ae}function ye(ae){return"number"==typeof ae}function it(ae){return"string"==typeof ae}function Ht(ae){return void 0===ae}function Kn(ae){return Xn(ae)&&"[object RegExp]"===su(ae)}function Xn(ae){return"object"==typeof ae&&null!==ae}function fi(ae){return Xn(ae)&&"[object Date]"===su(ae)}function Oi(ae){return Xn(ae)&&("[object Error]"===su(ae)||ae instanceof Error)}function Mo(ae){return"function"==typeof ae}function su(ae){return Object.prototype.toString.call(ae)}function Ha(ae){return ae<10?"0"+ae.toString(10):ae.toString(10)}e.debuglog=function(ae){if(Ht(r)&&(r=process.env.NODE_DEBUG||""),ae=ae.toUpperCase(),!n[ae])if(new RegExp("\\b"+ae+"\\b","i").test(r)){var we=process.pid;n[ae]=function(){var et=e.format.apply(e,arguments);console.error("%s %d: %s",ae,we,et)}}else n[ae]=function(){};return n[ae]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=ee,e.isBoolean=ne,e.isNull=ge,e.isNullOrUndefined=function Ve(ae){return null==ae},e.isNumber=ye,e.isString=it,e.isSymbol=function wt(ae){return"symbol"==typeof ae},e.isUndefined=Ht,e.isRegExp=Kn,e.isObject=Xn,e.isDate=fi,e.isError=Oi,e.isFunction=Mo,e.isPrimitive=function Yf(ae){return null===ae||"boolean"==typeof ae||"number"==typeof ae||"string"==typeof ae||"symbol"==typeof ae||typeof ae>"u"},e.isBuffer=wU();var Qm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function oe(ae,we){return Object.prototype.hasOwnProperty.call(ae,we)}e.log=function(){console.log("%s - %s",function Xm(){var ae=new Date,we=[Ha(ae.getHours()),Ha(ae.getMinutes()),Ha(ae.getSeconds())].join(":");return[ae.getDate(),Qm[ae.getMonth()],we].join(" ")}(),e.format.apply(e,arguments))},e.inherits=EU(),e._extend=function(ae,we){if(!we||!Xn(we))return ae;for(var et=Object.keys(we),Kt=et.length;Kt--;)ae[et[Kt]]=we[et[Kt]];return ae}}),Xk=e=>e.reduce((t,n)=>t.concat(Array.isArray(n)?Xk(n):n),[]),Jk=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),eR=e=>e.reduce((t,n)=>t*n,1),tR=e=>Array.isArray(e)||Jk(e)?[e.length].concat(tR(e[0])):[],_C=e=>[...e.slice(1).map((t,n)=>e.slice(n+1).reduce((r,i)=>r*i,1)),1],CU=e=>{let{constructor:{name:t="Float32Array"}={}}=e||{};switch(t){case"Int8Array":return"int8";case"Uint8Array":return"uint8";case"Int16Array":return"int16";case"Uint16Array":return"uint16";case"Int32Array":return"int32";case"Uint32Array":return"uint32";case"Uint8ClampedArray":return"uint8c";case"Float32Array":return"float32";default:return"float64"}},jm=e=>{switch(e){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"uint8c":return Uint8ClampedArray;case"float32":return Float32Array;default:return Float64Array}},rt=(...e)=>new iu(...e),mn=class{x;shape;shapem1;strides;backstrides;length;lengthm1;nd;ndm1;index;coords;pos;factors;constructor(e){this.x=rt(e);let i,{shape:t,strides:n,length:r}=this.x;for(this.length=r,this.lengthm1=r-1,this.nd=t.length,this.ndm1=this.nd-1,this.shape=Array(32).fill(0),this.strides=Array(32).fill(0),this.shapem1=Array(32).fill(0),this.coords=Array(32).fill(0),this.backstrides=Array(32).fill(0),this.factors=Array(32).fill(0),0!==this.nd&&(this.factors[this.nd-1]=1),i=0;i<this.nd;i+=1)this.shape[i]=t[i],this.shapem1[i]=t[i]-1,this.strides[i]=n[i],this.backstrides[i]=n[i]*this.shapem1[i],this.coords[i]=0,i>0&&(this.factors[this.ndm1-i]=this.factors[this.nd-i]*t[this.nd-i]);this.index=0,this.pos=0}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;let s,{ndm1:t,shapem1:n,strides:r,backstrides:i}=this;for(s=t;s>=0;s-=1){if(this.coords[s]<n[s]){this.coords[s]+=1,this.pos+=r[s];break}this.coords[s]=0,this.pos-=i[s]}return this.index+=1,e}[Symbol.iterator](){return this}},Gm=class{iters;shape;nd;length;lengthm1;numiter;index;pos;constructor(...e){let t,n,r,i,s,u;for(this.iters=e.map(h=>new mn(h)),this.numiter=e.length,t=0,n=0;t<this.numiter;t+=1)n=Math.max(n,this.iters[t].x.shape.length);for(this.nd=n,this.shape=Array(n).fill(0),t=0;t<n;t+=1)for(this.shape[t]=1,i=0;i<this.numiter;i+=1)if(r=this.iters[i],s=t+r.x.shape.length-n,s>=0){if(u=r.x.shape[s],1==u)continue;if(1==this.shape[t])this.shape[t]=u;else if(this.shape[t]!==u)throw new Error("shape mismatch")}for(u=this.shape.reduce((h,m)=>h*m,1),this.length=u,this.lengthm1=u-1,t=0;t<this.numiter;t+=1)for(r=this.iters[t],r.nd=this.nd,r.ndm1=this.nd-1,r.length=u,r.lengthm1=u-1,n=r.x.shape.length,0!==n&&(r.factors[this.nd-1]=1),i=0;i<this.nd;i+=1)r.shape[i]=this.shape[i],r.shapem1[i]=this.shape[i]-1,s=i+n-this.nd,r.strides[i]=s<0||r.x.shape[s]!==this.shape[i]?0:r.x.strides[s],r.backstrides[i]=r.strides[i]*r.shapem1[i],i>0&&(r.factors[this.nd-i-1]=r.factors[this.nd-i]*this.shape[this.nd-i]);this.index=0,this.pos=Array(this.numiter).fill(0)}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;this.index+=1;let n,r,{numiter:t}=this;for(r=0;r<t;r+=1)n=this.iters[r],this.pos[r]=n.pos,n.next();return e}[Symbol.iterator](){return this}},{abs:xU}=Math;function SU(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=xU(e[n]);return this}var{acos:MU}=Math;function TU(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=MU(e[n]);return this}var Pi,{acosh:IU}=Math;function AU(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=IU(e[n]);return this}try{Pi=yC("nblas")}catch{}var nR=Pi&&Pi.NoTrans;function LU(e,t=1){let{data:n,length:r,strides:i,dtype:s}=this,{data:u,strides:h}=rt(e);try{let m=h[h.length-1],E=i[i.length-1];if(m!==E)throw new Error("inc_x and inc_y must be equal");!function kU(e,t,n,r,i,s,u){if(r.length/i!==t||s.length/u!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.daxpy(t,n,r,i,s,u);case"float32":return Pi.saxpy(t,n,r,i,s,u);default:throw new Error("wrong dtype")}}(s,r,t,u,m,n,E)}catch{let m=new Gm(this,e);for(let[E,x]of m)n[E]+=t*u[x]}return this}var{acos:BU}=Math;function VU(e){return BU(this.dot(rt(e))/this.norm()/rt(e).norm())}var{asin:$U}=Math;function zU(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=$U(e[n]);return this}var{asinh:HU}=Math;function UU(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=HU(e[n]);return this}var{atan:jU}=Math;function GU(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=jU(e[n]);return this}var{atanh:qU}=Math;function WU(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=qU(e[n]);return this}var Wf=(...e)=>new iu(new Float64Array(e.reduce((t,n)=>t*n,1)),{shape:e}).fill(0);function ZU(e){let[t,n]=this.shape,[r,i]=rt(e).shape,{data:s}=this,{data:u}=rt(e);if(0===r||0===i)return this;if(t!==r)throw new Error("rows do not match");let E,x,h=Wf(t,n+i),{data:m}=h;for(E=0;E<t;E+=1)for(x=0;x<n;x+=1)m[E*(n+i)+x]=s[E*n+x];for(E=0;E<r;E+=1)for(x=0;x<i;x+=1)m[E*(n+i)+(x+n)]=u[E*i+x];return h}function YU(e,t){let{data:n}=this,{data:r}=rt(e),i=new Gm(this,e);for(let[s,u]of i)n[s]=t(n[s],r[u],s);return this}var{cbrt:QU}=Math;function XU(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=QU(e[n]);return this}var{ceil:JU}=Math;function e8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=JU(e[n]);return this}function t8(...e){let{shape:t,length:n}=this;if(1===e.length){let[r]=e;if(r<0||r>n-1||!Number.isFinite(r))throw new Error("index out of bounds")}else if(!t.every((r,i)=>r>e[i]&&Number.isFinite(e[i])&&e[i]>=0))throw new Error("index out of bounds")}function n8(e){if(1!==this.shape.length&&1!==e.shape.length)throw new Error("combine operation not permitted for multidimensional arrays");let{length:t,data:n}=this,{length:r,data:i}=e;if(0===r)return this;if(0===t)return this.data=new(jm(e.dtype))(i),this.length=r,this.dtype=e.dtype,this;let s=t+r,u=new(jm(this.dtype))(s);return u.set(n),u.set(i,t),this.data=u,this.length=s,this.shape=[s],this}function r8(){let e=Wf(...this.shape),{data:t}=this,{data:n}=e,r=new Gm(this,e);for(let[i,s]of r)n[s]=t[i];return e}var{cos:i8}=Math;function o8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=i8(e[n]);return this}var{cosh:s8}=Math;function a8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=s8(e[n]);return this}function l8(e){let{length:t}=this,{length:n}=e;if(3!==t||3!==n)throw new Error("vectors must have three components");let i=this.z*e.x-this.x*e.z,s=this.x*e.y-this.y*e.x;return this.x=this.y*e.z-this.z*e.y,this.y=i,this.z=s,this}function u8(){this.square();let u,[e]=this.shape,[t,n]=this.copy().lu_factor(),{data:r}=t,i=1,s=1;for(u=0;u<e;u+=1)i*=r[u*e+u],u!==n[u]-1&&(s*=-1);return s*i}function c8(){this.square();let{length:e}=this,[t,n]=this.shape,r=Math.min(t,n);return this.reshape(e).slice(0,e,r+1)}function d8(e){let{data:t,length:n,strides:r,dtype:i}=this,{data:s,strides:u}=e,h=0;try{let m=u[u.length-1],E=r[r.length-1];if(m!==E)throw new Error("inc_x and inc_y must be equal");h=function RU(e,t,n,r,i,s){if(n.length/r!==t||i.length/s!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.ddot(t,n,r,i,s);case"float32":return Pi.sdot(t,n,r,i,s);default:throw new Error("wrong dtype")}}(i,n,s,m,t,E)}catch{let m=new Gm(this,e);for(let[E,x]of m)h+=t[E]*s[x]}return h}var c0,rR=e=>{let r,t=new iu(new Float64Array(e*e),{shape:[e,e]}),{data:n}=t;for(r=0;r<e;r+=1)n[r*e+r]=1;return t};try{c0=yC("nlapack")}catch{}var I_=(e,t,n,r,i,s,u)=>{let[h]=e.shape,{data:m}=e,E=m[r*h+i],x=1/(t+n);m[r*h+i]=E-n*(m[s*h+u]+x*E),m[s*h+u]+=n*(E-x*m[s*h+u])};function f8(){this.square();let[e]=this.shape;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=jm(this.dtype).from(this.data));let t=c0.NoEigenvector,n=c0.Eigenvector,r=Wf(e),i=Wf(e),s=Wf(e,e),u=Wf(e,e),{data:h}=this,{data:m}=r,{data:E}=i,{data:x}=s,{data:I}=u;return"float64"===this.dtype&&c0.dgeev(t,n,e,h,e,m,E,x,e,I,e),"float32"===this.dtype&&c0.sgeev(t,n,e,h,e,m,E,x,e,I,e),[r,u]}catch{let{data:t}=this,n=rR(e),r=0,i=0,s=0,u=0,h=0;do{for(i=0;i<e;i+=1)for(s=i+1;s<e;s+=1)Math.abs(t[i*e+s])>=r&&(r=Math.abs(t[i*e+s]),u=i,h=s);let m;if(Math.abs(t[u*e+h])<1e-36*Math.abs(t[h*e+h]))m=t[u*e+h]/t[h*e+h];else{let O=t[h*e+h]/2*t[u*e+h];m=1/(Math.abs(O)+Math.sqrt(O*O+1))}let E=1/Math.sqrt(m*m+1),x=m*E,I=t[u*e+h];for(t[u*e+h]=0,t[u*e+u]-=m*I,t[h*e+h]+=m*I,i=0;i<u;i+=1)I_(this,E,x,i,u,i,h);for(i=u+1;i<h;i+=1)I_(this,E,x,u,i,i,h);for(i=h+1;i<e;i+=1)I_(this,E,x,u,i,h,i);for(i=0;i<e;i+=1)I_(n,E,x,i,u,i,h)}while(r>=1e-9);return[this.diagonal(),n]}}function h8(e,t=1e-6){let{data:n}=this,{data:r}=e,i=new Gm(this,e);for(let[s,u]of i)if(Math.abs(n[s]-r[u])>t)return!1;return!0}function p8(e){let{shape:t}=this,{shape:n}=e;if(!t.every((r,i)=>r===n[i]))throw new Error(`shapes ${t} and ${n} do not match`)}function g8(e){let{length:t}=this,{length:n}=e;if(t!==n)throw new Error(`lengths ${t} and ${n} do not match`)}var{exp:m8}=Math;function v8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=m8(e[n]);return this}var{expm1:y8}=Math;function b8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=y8(e[n]);return this}function _8(e=0){let{data:t}=this,n=new mn(this);for(let r of n)t[r]=e instanceof Function?e(r):e;return this}var{floor:w8}=Math;function E8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=w8(e[n]);return this}function D8(e){let{data:t}=this,n=new mn(this);for(let r of n)e.call(this,t[r],r,t)}var $p,{fround:C8}=Math;function x8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=C8(e[n]);return this}function S8(){let i,s,u,h,m,{shape:[e,t],data:n}=this,r=0;for(u=0;u<e;u+=1){if(t<=r)return this;for(h=u;0===n[h*t+r];)if(h+=1,e===h&&(h=u,r+=1,t===r))return this;if(u!==h&&this.swap(u,h),s=n[u*t+r],0!==s)for(m=0;m<t;m+=1)n[u*t+m]/=s;for(h=0;h<e;h+=1)if(i=n[h*t+r],h!==u)for(m=0;m<t;m+=1)n[h*t+m]-=n[u*t+m]*i;r+=1}for(u=0;u<e;u+=1){for(s=0,h=0;h<t;h+=1)0===s&&(s=n[u*t+h]);if(0!==s)for(m=0;m<t;m+=1)n[u*t+m]/=s}return this}function M8(...e){this.check(...e);let s,u,{data:t,shape:n}=this,{length:r}=n,i=e[r-1];for(s=0;s<r-1;s+=1){let h=1;for(u=s+1;u<r;u+=1)h*=n[u];i+=e[s]*h}return t[i]}try{$p=yC("nlapack")}catch{}function iR(e,t,n,r,i,s){if(r.length!==t*n)throw new Error("lengths do not match");switch(e){case"float64":return $p.dgetrf(t,n,r,i,s);case"float32":return $p.sgetrf(t,n,r,i,s);default:throw new Error("wrong dtype")}}function A8(){this.square();let{shape:[e],dtype:t}=this;try{let{data:n}=this,r=new Int32Array(e);return iR(t,e,e,n,e,r),function T8(e,t,n,r,i){if(n.length!==t*t)throw new Error("lengths do not match");switch(e){case"float64":return $p.dgetri(t,n,r,i);case"float32":return $p.sgetri(t,n,r,i);default:throw new Error("wrong dtype")}}(t,e,n,e,r),this}catch{let n=rR(e),r=((e,t)=>rt(this).augment(rt(t)))(0,n).gauss(),i=Wf(e,e),s=Wf(e,e),{data:u}=r,{data:h}=i,{data:m}=s,E=new mn(r),[x,I]=E.coords;for(let O of E)I<e?h[x*e+I]=u[O]:m[x*e+(I-e)]=u[O],[x,I]=E.coords;if(!i.equals(n))throw new Error("matrix is not invertible");return s}}var{log:k8}=Math;function R8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=k8(e[n]);return this}var{log10:P8}=Math;function O8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=P8(e[n]);return this}var{log1p:N8}=Math;function F8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=N8(e[n]);return this}var{log2:L8}=Math;function B8(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=L8(e[n]);return this}function V8(){let[e,t]=this.copy().lu_factor(),n=e.copy(),r=e.copy(),{data:i}=n,{data:s}=r,u=new mn(e),[h,m]=u.coords;for(let E of u)m<h?s[E]=0:i[E]=h===m?1:0,[h,m]=u.coords;return[n,r,t]}function $8(){let{data:e,shape:[t],dtype:n}=this,r=new Int32Array(t);try{iR(n,t,t,e,t,r)}catch{let i,s,u,h,m,E,x;for(x=0;x<t;x+=1){for(h=x,i=Math.abs(e[x*t+x]),E=x+1;E<t;E+=1)s=Math.abs(e[E*t+x]),i<s&&(i=s,h=E);for(r[x]=h+1,h!==x&&this.swap(x,h),u=e[x*t+x],m=x+1;m<t;m+=1)e[m*t+x]/=u;for(m=x+1;m<t;m+=1){for(E=x+1;E<t-1;E+=2)e[m*t+E]-=e[m*t+x]*e[x*t+E],e[m*t+E+1]-=e[m*t+x]*e[x*t+E+1];E===t-1&&(e[m*t+E]-=e[m*t+x]*e[x*t+E])}}}return[this,r]}function z8(e){let{data:t}=this,n=new mn(this),r=e.bind(this),i=this.copy(),{data:s}=i;for(let u of n)s[u]=r(t[u],u,t);return i}function H8(){let{data:e,length:t,strides:n,dtype:r}=this,i=Number.NEGATIVE_INFINITY;try{i=e[function PU(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.idamax(t,n,r);case"float32":return Pi.isamax(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])]}catch{let s=new mn(this);for(let u of s){let h=e[u];i<h&&(i=h)}}return i}function U8(){let{data:e,length:t}=this,n=new mn(this),r=0;for(let i of n)r+=e[i];return r/t}function j8(){let{data:e}=this,t=new mn(this),n=Number.POSITIVE_INFINITY;for(let r of t){let i=e[r];n>i&&(n=i)}return n}function q8(e){let{shape:[t,n],data:r,dtype:i}=this.copy(),{shape:[s,u],data:h}=e.copy();if(n!==s)throw new Error("sizes do not match");let m=((e,t)=>new iu(new Float64Array(e*t),{shape:[e,t]}))(t,u),{data:E}=m;try{!function OU(e,t,n,r,i,s,u,h,m,E,x,I,O,$){let{length:ee}=h,{length:ne}=E,{length:ge}=O;if(t===Pi.NoTrans&&ee!==m*r||t===Pi.Trans&&ee!==m*s)throw new Error("lengths do not match");if(n===Pi.NoTrans&&ne!==x*s||n===Pi.Trans&&ne!==x*i)throw new Error("lengths do not match");if(ge!==$*r)throw new Error("lengths do not match");switch(e){case"float64":return Pi.dgemm(t,n,r,i,s,u,h,m,E,x,I,O,$);case"float32":return Pi.sgemm(t,n,r,i,s,u,h,m,E,x,I,O,$);default:throw new Error("wrong dtype")}}(i,nR,nR,t,u,n,1,r,n,h,u,0,E,u)}catch{let I,x=new mn(m),[O,$]=x.coords;for(let ee of x){let ne=0;for(I=0;I<n;I+=1)ne+=r[O*n+I]*h[I*u+$];E[ee]=ne,[O,$]=x.coords}}return m}var{sqrt:W8}=Math;function K8(){let{data:e,length:t,strides:n,dtype:r}=this,i=0;try{i=function NU(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.dnrm2(t,n,r);case"float32":return Pi.snrm2(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])}catch{i=W8(this.dot(this))}return i}function Z8(){return this.scale(1/this.norm())}var{pow:Y8}=Math;function Q8(e){let{data:t}=this,n=new mn(this);for(let r of n)t[r]=Y8(t[r],e);return this}function X8(){let{data:e}=this,t=new mn(this),n=1;for(let r of t)n*=e[r];return n}function J8(e){let{data:t}=this,{data:n}=e,r=new Gm(this,e);for(let[i,s]of r)t[i]*=n[s];return this}function ej(e){return e.scale(this.dot(e)/e.dot(e))}function tj(e){if(1!==this.shape.length)throw new Error("push operation not permitted for multidimensional arrays");let{data:t,length:n}=this,r=n+1,i=new(jm(this.dtype))(r);return i.set(t),i[n]=e,this.data=i,this.length=r,this.shape=[r],this}function nj(e=1e-6){let{data:t}=this.copy().gauss(),n=new mn(this),r=0,[i,s]=n.coords;for(let u of n)r<=i&&s>=i&&Math.abs(t[u])>e&&(r+=1),[i,s]=n.coords;return r}function rj(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=1/e[n];return this}function ij(e,t){let{data:n,length:r}=this;if(0===r&&typeof t>"u")throw new Error("Reduce of empty array with no initial value.");let u,i=new mn(this),s=e.bind(this);typeof t>"u"?(u=n[0],i.next()):u=t;for(let h of i)u=s(u,n[h],h,n);return u}function oj(...e){let{length:t}=this;if(e.reduce((n,r)=>n*r,1)!==t)throw new Error(`shape ${e} does not match length ${t}`);return this.shape=e,this.strides=_C(e),this}var{round:sj}=Math;function aj(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=sj(e[n]);return this}function lj(e,t,n=1){this.check(e,0),this.check(t,0);let s,[,r]=this.shape,{data:i}=this;for(s=0;s<r;s+=1)i[e*r+s]+=i[t*r+s]*n;return this}function uj(e){let{data:t,length:n,strides:r,dtype:i}=this;try{!function FU(e,t,n,r,i){if(r.length/i!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.dscal(t,n,r,i);case"float32":return Pi.sscal(t,n,r,i);default:throw new Error("wrong dtype")}}(i,n,e,t,r[r.length-1])}catch{let s=new mn(this);for(let u of s)t[u]*=e}return this}function cj(...e){let t=e.slice(0,-1),n=e[e.length-1];this.check(...t);let s,{shape:r}=this,i=t[t.length-1];for(s=0;s<t.length-1;s+=1)i+=t[s]*r[s+1];this.data[i]=n}var{sign:dj}=Math;function fj(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=dj(e[n]);return this}var{sin:hj}=Math;function pj(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=hj(e[n]);return this}var{sinh:gj}=Math;function mj(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=gj(e[n]);return this}function vj(e=0,t=this.shape[0],n=1){let{data:r,shape:i}=this,s=i.length;if(e<0||t<0)return this.slice(e<0?i[i.length-1]+e:e,t<0?i[i.length-1]+t:t);if(e>t)return this.slice(t,e,n);if(n<=0)throw new Error("step argument has to be a positive integer");let u=[Math.ceil((t-e)/Math.abs(n)),...i.slice(1)],h=eR(u),m=_C(u),E=s>1?r.subarray(e*u[u.length-1],t*u[u.length-1]):r.subarray(e,t);return m[0]*=n,new iu(E,{shape:u,length:h,strides:m})}function yj(e){let{data:t,dtype:n}=this,{data:r,shape:[i,s]}=e;try{!function I8(e,t,n,r,i,s,u,h){if(r.length!==i*t||u.length!==h*n)throw new Error("lengths do not match");switch(e){case"float64":return $p.dgesv(t,n,r,i,s,u,h);case"float32":return $p.sgesv(t,n,r,i,s,u,h);default:throw new Error("wrong dtype")}}(n,i,s,t,i,new Int32Array(i),r,s)}catch{let x,I,O,[u,h]=this.lu_factor(),{data:m}=u,{data:E}=e;for(x=0;x<h.length;x+=1)x!==h[x]-1&&e.swap(x,h[x]-1);for(O=0;O<s;O+=1){for(x=0;x<i;x+=1)for(I=0;I<x;I+=1)E[x*s+O]-=m[x*i+I]*E[I*s+O];for(x=i-1;x>=0;x-=1){for(I=x+1;I<i;I+=1)E[x*s+O]-=m[x*i+I]*E[I*s+O];E[x*s+O]/=m[x*i+x]}}}return e}var{sqrt:bj}=Math;function _j(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=bj(e[n]);return this}function wj(){let{length:e}=this.shape,[t,n]=this.shape;if(2!==e||t!==n)throw new Error("matrix is not square")}function Ej(e){return this.add(e,-1)}function Dj(){let{data:e}=this,t=new mn(this),n=0;for(let r of t)n+=e[r];return n}function Cj(e,t){this.check(e,0),this.check(t,0);let{data:n}=this,[,r]=this.shape,i=n.slice(e*r,(e+1)*r);return n.copyWithin(e*r,t*r,(t+1)*r),n.set(i,t*r),this}var{tan:xj}=Math;function Sj(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=xj(e[n]);return this}var{tanh:Mj}=Math;function Tj(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=Mj(e[n]);return this}function Ij(e=0,t=0){let{data:n,shape:r,strides:i}=this,{length:s}=r;if(t>=s)return n[e];let u=r[t],h=i[t],m=[];for(let E=0;E<u;E++){let x=this.toArray(e,t+1);if(null===x)return null;m[E]=x,e+=h}return m}var Aj=((e,t,n)=>(n=null!=e?pU(vU(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of mU(t))!yU.call(e,i)&&undefined!==i&&Qk(e,i,{get:()=>t[i],enumerable:!(r=gU(t,i))||r.enumerable});return e})(e&&e.__esModule?n:Qk(n,"default",{value:e,enumerable:!0}),e)))(DU());function oR(){return`array(${(0,Aj.inspect)(this.toArray(),{depth:10,breakLength:40})}, dtype=${this.dtype})`}function kj(){let s,[e,t]=this.shape,{data:n}=this,r=Math.min(e,t),i=0;for(s=0;s<r;s+=1)i+=n[s*t+s];return i}function Rj(){if(this.shape.length<2)return this;let e=this.shape[0];return this.shape[0]=this.shape[1],this.shape[1]=e,e=this.strides[0],this.strides[0]=this.strides[1],this.strides[1]=e,this}var{trunc:Pj}=Math;function Oj(){let{data:e}=this,t=new mn(this);for(let n of t)e[n]=Pj(e[n]);return this}var Nj=Symbol.for("nodejs.util.inspect.custom"),iu=class{data=new Float64Array(0);dtype="float64";length=0;shape=[0];strides=[0];[Nj]=oR;abs=SU;acos=TU;acosh=AU;add=LU;angle=VU;asin=zU;asinh=UU;atan=GU;atanh=WU;augment=ZU;binOp=YU;cbrt=XU;ceil=e8;check=t8;combine=n8;copy=r8;cos=o8;cosh=a8;cross=l8;det=u8;diagonal=c8;dot=d8;eig=f8;equals=h8;equidimensional=p8;equilateral=g8;exp=v8;expm1=b8;fill=_8;floor=E8;forEach=D8;fround=x8;gauss=S8;get=M8;inv=A8;log=R8;log10=O8;log1p=F8;log2=B8;lu=V8;lu_factor=$8;map=z8;max=H8;mean=U8;min=j8;multiply=q8;norm=K8;normalize=Z8;pow=Q8;prod=X8;product=J8;project=ej;push=tj;rank=nj;reciprocal=rj;reduce=ij;reshape=oj;round=aj;row_add=lj;scale=uj;set=cj;sign=fj;sin=pj;sinh=mj;slice=vj;solve=yj;sqrt=_j;square=wj;subtract=Ej;sum=Dj;swap=Cj;tan=Sj;tanh=Tj;toArray=Ij;toString=oR;trace=kj;transpose=Rj;trunc=Oj;constructor(e,t){if(!e)return;if(e instanceof iu)return e;if(e instanceof mn){if(!t||!t.dtype)throw new Error("dtype is missing");e.shape&&(t.shape=e.shape);let u=e.length;e=new(jm(t.dtype))(u)}let{shape:n=tR(e),length:r=eR(n),strides:i=_C(n),dtype:s=CU(e)}=t||{};this.data=Jk(e)?e:new(jm(s))(Xk(e)),this.shape=n,this.length=r,this.dtype=s,this.strides=i}get x(){return this.get(0)}set x(e){this.set(0,e)}get y(){return this.get(1)}set y(e){this.set(1,e)}get z(){return this.get(2)}set z(e){this.set(2,e)}get w(){return this.get(3)}set w(e){this.set(3,e)}get T(){return this.copy().transpose()}};try{window.v=iu}catch{}const zp=(e,t)=>`${e.id}-${t.x},${t.y}`,lc=e=>`${e.x};${e.y}`,dr=(e,t=2)=>"number"==typeof e?e*t:{x:e.x*t,y:e.y*t};let wC,Lj=(()=>{class e{constructor(n){this.http=n,this.extraLine=new Map,this.reverseExtraLine=new Map,this.nodeTypeMap=new Map([["Gene",["Gene","PhysicalEntity"]],["RNA",["RNA","PhysicalEntity"]],["Protein",["Protein","PhysicalEntity"]],["Entity",["GenomeEncodedEntity","PhysicalEntity"]],["Complex",["Complex","PhysicalEntity"]],["EntitySet",["EntitySet","PhysicalEntity"]],["Chemical",["Molecule","PhysicalEntity"]],["Cell",["Cell","PhysicalEntity"]],["ProteinDrug",["Protein","PhysicalEntity","drug"]],["ComplexDrug",["Complex","PhysicalEntity","drug"]],["ChemicalDrug",["Molecule","PhysicalEntity","drug"]],["EntitySetDrug",["EntitySet","PhysicalEntity","drug"]],["ProcessNode",["SUB","Pathway"]],["EncapsulatedNode",["Interacting","Pathway"]]]),this.reactionTypeMap=new Map([[void 0,["transition","reaction"]],["transition",["transition","reaction"]],["Transition",["transition","reaction"]],["Process",["transition","reaction"]],["binding",["association","reaction"]],["Association",["association","reaction"]],["dissociation",["dissociation","reaction"]],["Dissociation",["dissociation","reaction"]],["omitted",["omitted","reaction"]],["Omitted Process",["omitted","reaction"]],["uncertain",["uncertain","reaction"]],["Uncertain Process",["uncertain","reaction"]]]),this.edgeTypeMap=new Map([["INPUT",["consumption","incoming"]],["ACTIVATOR",["positive-regulation","incoming"]],["REQUIRED",["positive-regulation","incoming"]],["INHIBITOR",["negative-regulation","incoming"]],["CATALYST",["catalysis","incoming"]],["OUTPUT",["production","outgoing"]]]),this.edgeTypeToStr=new Map([["INPUT","-"],["ACTIVATOR","+"],["REQUIRED","+>"],["INHIBITOR","|"],["CATALYST","o"],["OUTPUT",">"]]),this.linkClassMap=new Map([["EntitySetAndMemberLink",["set-to-member","incoming"]],["EntitySetAndEntitySetLink",["set-to-member","incoming"]],["Interaction",["production","outgoing"]]]),this.COMPARTMENT_SHIFT=35}random(n,r){return Math.floor(Math.random()*(r-n+1))+n}pick(n){return n[this.random(0,n.length-1)]}getLegend(){return Gt(hU)}getDiagram(n){return EA({diagram:this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.json`),graph:this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.graph.json`)}).pipe(ho(r=>console.log("All responses:",r)),sn(r=>{const i=r.diagram,s=r.graph;console.log("edge.reactionType",new Set(i.edges.flatMap(oe=>oe.reactionType))),console.log("node.connectors.types",new Set(i.nodes.flatMap(oe=>oe.connectors.flatMap(ae=>ae.type)))),console.log("node.renderableClass",new Set(i.nodes.flatMap(oe=>oe.renderableClass))),console.log("links.renderableClass",new Set(i.links.flatMap(oe=>oe.renderableClass))),console.log("shadow.renderableClass",new Set(i.shadows.flatMap(oe=>oe.renderableClass)));const u=new Map(i.edges.map(oe=>[oe.id,oe])),h=new Map(i.nodes.map(oe=>[oe.id,oe])),E=(new Map([...i.edges.map(oe=>[oe.reactomeId,oe])]),new Map),x=i.edges.flatMap(oe=>oe.segments.map(ae=>[zp(oe,dr(ae.from)),dr(ae.to)]));this.extraLine=new Map(x),console.assert(x.length===this.extraLine.size,"Some edge data have been lost because 2 segments are starting from the same point");const I=i.edges.flatMap(oe=>oe.segments.map(ae=>[zp(oe,dr(ae.to)),dr(ae.from)]));this.reverseExtraLine=new Map(I),console.assert(I.length==this.reverseExtraLine.size,"Some edge data have been lost because 2 segments are ending at the same point");const O=new Set(i.shadows.map(oe=>oe.reactomeId)),$=new Map(s.subpathways?.flatMap(oe=>oe.events.map(ae=>[ae,oe.dbId]).filter(ae=>O.has(ae[1])))||[]),ee=new Map(s.nodes.map(oe=>[oe.dbId,oe])),ne=s.nodes.flatMap(oe=>oe.children&&1===oe.children.length?oe.diagramIds?.map(ae=>[ae,ee.get(oe.children[0])]).filter(ae=>void 0!==ae[1]):oe.diagramIds?.map(ae=>[ae,oe])).filter(oe=>void 0!==oe),ge=new Map([...ne]),ye=(i.nodes.some(oe=>oe.isFadeOut),i.nodes.filter(oe=>oe.isFadeOut)),it=i.nodes.filter(oe=>!oe.isFadeOut),wt=new Map(ye.map(oe=>[lc(oe.position),oe])),Ht=new Map(it.map(oe=>[lc(oe.position),oe])),Kn=i.edges.filter(oe=>oe.isFadeOut),Xn=i.edges.filter(oe=>!oe.isFadeOut),fi=new Map(Kn.map(oe=>[lc(oe.position),oe])),Oi=new Map(Xn.map(oe=>[lc(oe.position),oe])),Mo=i?.compartments.flatMap(oe=>{const ae=[{data:{id:oe.id+"-outer",displayName:oe.displayName,textX:dr(oe.textPosition.x-(oe.prop.x+oe.prop.width))+this.COMPARTMENT_SHIFT,textY:dr(oe.textPosition.y-(oe.prop.y+oe.prop.height))+this.COMPARTMENT_SHIFT,width:dr(oe.prop.width),height:dr(oe.prop.height)},classes:["Compartment","outer"],position:dr(oe.position),selectable:!1}];return oe.insets&&ae.push({data:{id:oe.id+"-inner",width:dr(oe.insets.width),height:dr(oe.insets.height)},classes:["Compartment","inner"],position:dr({x:oe.insets.x+oe.insets.width/2,y:oe.insets.y+oe.insets.height/2}),selectable:!1}),ae}),Yf=i?.edges.map(oe=>{let ae,we;return oe.isFadeOut&&(we=Oi.get(lc(oe.position))),oe.isFadeOut||(ae=fi.get(lc(oe.position))),{data:{id:oe.id+"",inputs:oe.inputs,output:oe.outputs,isFadeOut:oe.isFadeOut,isBackground:oe.isFadeOut,replacement:ae,replacedBy:we},classes:this.reactionTypeMap.get(oe.reactionType),position:dr(oe.position)}}),su=i?.nodes.flatMap(oe=>{const ae=[...this.nodeTypeMap.get(oe.renderableClass)];let we,et;oe.isDisease&&ae.push("disease"),oe.isFadeOut&&(we=Ht.get(lc(oe.position))||it.find(Bt=>aR(oe,Bt))),oe.isFadeOut||(et=wt.get(lc(oe.position))||ye.find(Bt=>aR(oe,Bt)));const Kt=oe.isFadeOut||ae.some(Bt=>"Pathway"===Bt)||oe.connectors.some(Bt=>Bt.isFadeOut);oe.isBackground=Kt;const Nn=[{data:{id:oe.id+"",displayName:oe.displayName.replace(/([/,:;-])/g,"$1\u200b"),height:dr(oe.prop.height),width:dr(oe.prop.width),graph:ge.get(oe.id),acc:ge.get(oe.id)?.identifier,interactorsSummary:oe.interactorsSummary,isFadeOut:oe.isFadeOut,isCrossed:oe.isCrossed,isBackground:Kt,replacement:et,replacedBy:we},classes:ae,position:dr(oe.position)}];return oe.nodeAttachments&&Nn.push(...oe.nodeAttachments.map(Bt=>({data:{...Nn[0].data,id:oe.id+"-"+Bt.reactomeId,reactomeId:Bt.reactomeId,nodeId:oe.id,nodeReactomeId:oe.reactomeId,displayName:Bt.label,height:dr(Bt.shape.b.y-Bt.shape.a.y),width:dr(Bt.shape.b.x-Bt.shape.a.x)},classes:"Modification",position:dr(Bt.shape.centre)}))),Nn}),Ha=i?.shadows.map(oe=>({data:{id:oe.id+"",displayName:oe.displayName,height:dr(oe.prop.height),width:dr(oe.prop.width),class:this.nodeTypeMap.get(oe.renderableClass)||oe.renderableClass.toLowerCase(),reactomeId:oe.reactomeId},classes:["Shadow"],position:dr({x:oe.prop.x+oe.prop.width/2,y:oe.prop.y+oe.prop.height/2}),pannable:!0,grabbable:!1})),Qm=i.nodes.flatMap(oe=>oe.connectors.map(ae=>{const we=u.get(ae.edgeId),[et,Kt]="OUTPUT"!==ae.type?[oe,we]:[we,oe],Nn=dr(et.position),Bt=dr(Kt.position);let Yt=ae.segments.flatMap((ja,Fq)=>0===Fq?[ja.from,ja.to]:[ja.to]).map(ja=>dr(ja));"OUTPUT"===ae.type&&Yt.reverse(),0===Yt.length&&Yt.push(dr(we.position)),this.addEdgeInfo(we,Yt,"backward",Nn),this.addEdgeInfo(we,Yt,"forward",Bt);let[un,rr]=[Yt.shift(),Yt.pop()];un=un??dr(oe.position),rr=rr??dr(we.position),"CATALYST"===ae.type&&(rr=dr(ae.endShape.centre));const ks=this.absoluteToRelative(un,rr,Yt),wr=[...this.edgeTypeMap.get(ae.type)];let Ni;return we.isDisease&&wr.push("disease"),ae.isFadeOut&&(Ni=oe.connectors.find(ja=>ja!==ae&&!ja.isFadeOut&&function Bj(e,t){return e.x===t.x&&e.y===t.y}(u.get(ja.edgeId).position,we.position)),Ni=Ni||Oi.get(lc(we.position))&&Ht.get(lc(oe.position))),{data:{id:this.getEdgeId(et,ae,Kt,E),source:et.id+"",target:Kt.id+"",stoichiometry:ae.stoichiometry.value,weights:ks.weights.join(" "),distances:ks.distances.join(" "),sourceEndpoint:this.endpoint(Nn,un),targetEndpoint:this.endpoint(Bt,rr),pathway:$.get(we.reactomeId),isFadeOut:we.isFadeOut,isBackground:we.isFadeOut,replacement:void 0,replacedBy:Ni},classes:wr}})),Xm=i.links?.map(oe=>{const ae=h.get(oe.inputs[0].id),we=h.get(oe.outputs[0].id),et=dr(ae.position),Kt=dr(we.position);let Nn=oe.segments.flatMap((wr,Ua)=>0===Ua?[wr.from,wr.to]:[wr.to]).map(wr=>dr(wr)),[Bt,Yt]=[Nn.shift(),Nn.pop()];Bt=Bt??et,Yt=Yt??Kt;const un=this.absoluteToRelative(Bt,Yt,Nn),rr=[...this.linkClassMap.get(oe.renderableClass)];oe.isDisease&&rr.push("disease");const ks=oe.isFadeOut||h.get(oe.inputs[0].id)?.isBackground&&h.get(oe.outputs[0].id)?.isBackground;return{data:{id:oe.id+"",source:oe.inputs[0].id+"",target:oe.outputs[0].id+"",weights:un.weights.join(" "),distances:un.distances.join(" "),sourceEndpoint:this.endpoint(et,Bt),targetEndpoint:this.endpoint(Kt,Yt),isFadeOut:oe.isFadeOut,isBackground:ks},classes:rr,selectable:!1}});return{nodes:[...Mo,...Yf,...su,...Ha],edges:[...Qm,...Xm]}}),ho(r=>console.log("Output:",r)))}getEdgeId(n,r,i,s){let u=`${n.id} --${this.edgeTypeToStr.get(r.type)} ${i.id}`;if(s.has(u)){let h=s.get(u);s.set(u,h++),u+=` (${h})`,console.warn("Conflicting edge id: ",u)}else s.set(u,0);return u}addEdgeInfo(n,r,i,s){const u=zp(n,s);if("forward"===i){const h=this.extraLine;let m=zp(n,r.at(-1));for(;h.has(m)&&m!==u;)r.push(h.get(m)),m=zp(n,r.at(-1))}else{const h=this.reverseExtraLine;let m=zp(n,r.at(0));for(;h.has(m)&&m!==u;)r.unshift(h.get(m)),m=zp(n,r.at(0))}}endpoint(n,r){return`${r.x-n.x} ${r.y-n.y}`}getInteractorData(n){const r=n?.nodes("[graph]"),i=new Map(r?.map(h=>[h.data("dbId"),h.data("acc")])),s=[];r?.forEach(h=>{const m=h.data("graph").schemaClass;if("EntityWithAccessionedSequence"===m&&s.push(h.data("acc")),"Complex"===m&&1===h.data("graph").children.length){const E=h.data("graph").children.map(x=>i.get(x)||"");s.push(...E)}});const u=[...new Set(s)].join(",");return this.http.post("https://dev.reactome.org/ContentService/interactors/static/molecules/details",u,{headers:new ru({"Content-Type":"text/plain"})})}addOccurrenceAndInteractors(n,r){const i=[];n.entities.filter(u=>u.count>0).forEach(u=>{r?.nodes(`[acc = '${u.acc}']`)?.forEach(m=>{const E={...m.position()};E.x+=m.width()/2,E.y-=m.height()/2,i.push({data:{id:m.id()+"-occ",displayName:u.count,entity:m,interactorsIds:u.interactors?.map(x=>x.id),interactors:u.interactors},classes:["InteractorOccurrences"],pannable:!0,grabbable:!1,position:E})})}),r?.add(i)}absoluteToRelative(n,r,i){const s={distances:[],weights:[]};if(0===i.length)return s;const u=rt([r.x-n.x,r.y-n.y]),h=rt([-u.y,u.x]).normalize();let m=rt([[u.x,u.y],[h.x,h.y]]).inv();for(let E of i){const I=rt([[E.x-n.x,E.y-n.y]]).multiply(m);s.weights.push(I.get(0,0)),s.distances.push(I.get(0,1))}return s}randomNetwork(){const r=["Protein","EntitySet","GenomeEncodedEntity","RNA","Gene","Complex","Molecule"],i=["association","dissociation","transition","uncertain","omitted"],s=Array.from({length:100},(I,O)=>{const $=this.pick(r);return{group:"nodes",data:{id:O.toString(),width:this.random(150,300),height:this.random(50,150),displayName:$,parent:"Compartment"},classes:[$,"PhysicalEntity",this.pick(["drug","",""])]}}),u=s.map((I,O)=>({group:"nodes",data:{id:`${O}-react`,parent:"Compartment"},classes:[this.pick(i),"reaction"]}));return Gt({nodes:[{data:{id:"Compartment"},classes:["Compartment"],pannable:!0,grabbable:!1,selectable:!1},...s.flatMap((I,O)=>[I,u[O]])],edges:[...s.flatMap((I,O)=>[{group:"edges",data:{source:`${O}`,target:`${O}-react`,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["consumption"]},{group:"edges",data:{source:`${O}-react`,target:""+(O+1)%100,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["production"]}]),...Array.from({length:25}).map(()=>({group:"edges",data:{source:this.pick(s).data.id,target:this.pick(u).data.id},classes:this.pick(["catalysis","positive-regulation","negative-regulation","set-to-member"])}))]})}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Pk))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aR(e,t){if(e.position.x===t.position.x&&e.position.y===t.position.y)return!0;const n=lR(e),r=lR(t);return Math.max(n.left,r.left)<Math.min(n.right,r.right)&&Math.max(n.top,r.top)<Math.min(n.bottom,r.bottom)}function lR(e){if(e.rect)return e.rect;const t=e.prop.width/2,n=e.prop.height/2;return e.rect={left:e.position.x-t,right:e.position.x+t,top:e.position.y-n,bottom:e.position.y+n},e.rect}try{wC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{wC=!1}let d0,EC,_d=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function O$(e){return e===jT}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Xu))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hp(e){return function Vj(){if(null==d0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>d0=!0}))}finally{d0=d0||!1}return d0}()?e:!!e.capture}function DC(e){if(function $j(){if(null==EC){const e=typeof document<"u"?document.head:null;EC=!(!e||!e.createShadowRoot&&!e.attachShadow)}return EC}()){const t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function uc(e){return e.composedPath?e.composedPath()[0]:e.target}function cR(e){return eu((t,n)=>e<=n)}function As(e){return null!=e&&"false"!=`${e}`}function CC(e,t=0){return function Wj(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function xC(e){return Array.isArray(e)?e:[e]}function po(e){return e instanceof Un?e.nativeElement:e}class Kj extends Ue{constructor(t,n){super()}schedule(t,n=0){return this}}const k_={setInterval(e,t,...n){const{delegate:r}=k_;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=k_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class SC extends Kj{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return k_.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&k_.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Oe(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const dR={now:()=>(dR.delegate||Date).now(),delegate:void 0};class f0{constructor(t,n=f0.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}f0.now=dR.now;class MC extends f0{constructor(t,n=f0.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const R_=new MC(SC),Zj=R_,fR=new Set;let jp,Qj=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Jj}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function Xj(e,t){if(!fR.has(e))try{jp||(jp=document.createElement("style"),t&&(jp.nonce=t),jp.setAttribute("type","text/css"),document.head.appendChild(jp)),jp.sheet&&(jp.sheet.insertRule(`@media ${e} {body{ }}`,0),fR.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(_d),Ke(ey,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jj(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let e6=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Zt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return hR(xC(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let s=Kb(hR(xC(n)).map(u=>this._registerQuery(u).observable));return s=Yb(s.pipe(vd(1)),s.pipe(cR(1),function Yj(e,t=R_){return ar((n,r)=>{let i=null,s=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const E=s;s=null,r.next(E)}};function m(){const E=u+e,x=t.now();if(x<E)return i=this.schedule(void 0,E-x),void r.add(i);h()}n.subscribe(hr(r,E=>{s=E,u=t.now(),i||(i=t.schedule(m,e),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(sn(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:E})=>{h.matches=h.matches||m,h.breakpoints[E]=m}),h}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new Mt(u=>{const h=m=>this._zone.run(()=>u.next(m));return r.addListener(h),()=>{r.removeListener(h)}}).pipe($y(r),sn(({matches:u})=>({query:n,matches:u})),Pp(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Qj),Ke(Rn))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hR(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}function TC(e){return 0===e.buttons||0===e.detail}function IC(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const l6=new st("cdk-input-modality-detector-options"),u6={ignoreKeys:[18,17,224,91,16]},Wm=Hp({passive:!0,capture:!0});let c6=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(n,r,i,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Yi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=uc(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(TC(u)?"keyboard":"mouse"),this._mostRecentTarget=uc(u))},this._onTouchstart=u=>{IC(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=uc(u))},this._options={...u6,...s},this.modalityDetected=this._modality.pipe(cR(1)),this.modalityChanged=this.modalityDetected.pipe(rg()),n.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Wm),i.addEventListener("mousedown",this._onMousedown,Wm),i.addEventListener("touchstart",this._onTouchstart,Wm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wm),document.removeEventListener("mousedown",this._onMousedown,Wm),document.removeEventListener("touchstart",this._onTouchstart,Wm))}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(_d),Ke(Rn),Ke(Vr),Ke(l6,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const f6=new st("cdk-focus-monitor-default-options"),P_=Hp({passive:!0,capture:!0});let yR=(()=>{class e{constructor(n,r,i,s,u){this._ngZone=n,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Zt,this._rootNodeFocusAndBlurListener=h=>{for(let E=uc(h);E;E=E.parentElement)"focus"===h.type?this._onFocus(h,E):this._onBlur(h,E)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(n,r=!1){const i=po(n);if(!this._platform.isBrowser||1!==i.nodeType)return Gt();const s=DC(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new Zt,rootNode:s};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(n){const r=po(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){const s=po(n);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,m])=>this._originChanged(h,r,m)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused","touch"===r),n.classList.toggle("cdk-keyboard-focused","keyboard"===r),n.classList.toggle("cdk-mouse-focused","mouse"===r),n.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,r){const i=this._elementInfo.get(r),s=uc(n);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(n,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,P_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,P_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pp(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){const r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,P_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,P_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){const r=[];return this._elementInfo.forEach((i,s)=>{(s===n||i.checkChildren&&s.contains(n))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const s=n.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Rn),Ke(_d),Ke(c6),Ke(Vr,8),Ke(f6,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const bR="cdk-high-contrast-black-on-white",_R="cdk-high-contrast-white-on-black",AC="cdk-high-contrast-active";let h6=(()=>{class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=ct(e6).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(AC,bR,_R),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?n.add(AC,bR):2===r&&n.add(AC,_R)}}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(_d),Ke(Vr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const p6=new st("cdk-dir-doc",{providedIn:"root",factory:function g6(){return ct(Vr)}}),m6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wR=(()=>{class e{constructor(n){this.value="ltr",this.change=new Qn,n&&(this.value=function v6(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?m6.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(p6,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ER=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({})}return e})();const b6=new st("mat-sanity-checks",{providedIn:"root",factory:function y6(){return!0}});let Km=(()=>{class e{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function zj(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(h6),Ke(b6,8),Ke(Vr))};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({imports:[ER,ER]})}return e})();function xR(e){return class extends e{get disabled(){return this._disabled}set disabled(t){this._disabled=As(t)}constructor(...t){super(...t),this._disabled=!1}}}function SR(e,t){return class extends e{get color(){return this._color}set color(n){const r=n||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...n){super(...n),this.defaultColor=t,this.color=t}}}function MR(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=As(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function _6(e,t=0){return class extends e{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(n){this._tabIndex=null!=n?CC(n):this.defaultTabIndex}constructor(...n){super(...n),this._tabIndex=t,this.defaultTabIndex=t}}}class E6{constructor(t,n,r,i=!1){this._renderer=t,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const TR=Hp({passive:!0,capture:!0});class D6{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const n=uc(t);n&&this._events.get(t.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(t))})}}addHandler(t,n,r,i){const s=this._events.get(n);if(s){const u=s.get(r);u?u.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,TR)})}removeHandler(t,n,r){const i=this._events.get(t);if(!i)return;const s=i.get(n);s&&(s.delete(r),0===s.size&&i.delete(n),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,TR)))}}const IR={enterDuration:225,exitDuration:150},AR=Hp({passive:!0,capture:!0}),kR=["mousedown","touchstart"],RR=["mouseup","mouseleave","touchend","touchcancel"];class O_{static#e=this._eventManager=new D6;constructor(t,n,r,i){this._target=t,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=po(r))}fadeInRipple(t,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...IR,...r.animation};r.centered&&(t=i.left+i.width/2,n=i.top+i.height/2);const u=r.radius||function x6(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(t,n,i),h=t-i.left,m=n-i.top,E=s.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-u+"px",x.style.top=m-u+"px",x.style.height=2*u+"px",x.style.width=2*u+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(x);const I=window.getComputedStyle(x),$=I.transitionDuration,ee="none"===I.transitionProperty||"0s"===$||"0s, 0s"===$||0===i.width&&0===i.height,ne=new E6(this,x,r,ee);x.style.transform="scale3d(1, 1, 1)",ne.state=0,r.persistent||(this._mostRecentTransientRipple=ne);let ge=null;return!ee&&(E||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ve=()=>this._finishRippleTransition(ne),ye=()=>this._destroyRipple(ne);x.addEventListener("transitionend",Ve),x.addEventListener("transitioncancel",ye),ge={onTransitionEnd:Ve,onTransitionCancel:ye}}),this._activeRipples.set(ne,ge),(ee||!E)&&this._finishRippleTransition(ne),ne}fadeOutRipple(t){if(2===t.state||3===t.state)return;const n=t.element,r={...IR,...t.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const n=po(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,kR.forEach(r=>{O_._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{RR.forEach(n=>{this._triggerElement.addEventListener(n,this,AR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const n=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==n&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){const n=TC(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!IC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=t.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(kR.forEach(n=>O_._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&RR.forEach(n=>t.removeEventListener(n,this,AR)))}}const PR=new st("mat-ripple-global-options");let OR=(()=>{class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,i,s,u){this._elementRef=n,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new O_(this,r,n,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,i){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Un),Re(Rn),Re(_d),Re(PR,8),Re(Rf,8))};static#t=this.\u0275dir=Lt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&Js("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),NR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({imports:[Km,Km]})}return e})();const FR={capture:!0},LR=["focus","click","mouseenter","touchstart"],kC="mat-ripple-loader-uninitialized",RC="mat-ripple-loader-class-name",BR="mat-ripple-loader-centered",N_="mat-ripple-loader-disabled";let S6=(()=>{class e{constructor(){this._document=ct(Vr,{optional:!0}),this._animationMode=ct(Rf,{optional:!0}),this._globalRippleOptions=ct(PR,{optional:!0}),this._platform=ct(_d),this._ngZone=ct(Rn),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const i=n.target.closest(`[${kC}]`);i&&this._createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(const n of LR)this._document?.addEventListener(n,this._onInteraction,FR)})}ngOnDestroy(){const n=this._hosts.keys();for(const r of n)this.destroyRipple(r);for(const r of LR)this._document?.removeEventListener(r,this._onInteraction,FR)}configureRipple(n,r){n.setAttribute(kC,""),(r.className||!n.hasAttribute(RC))&&n.setAttribute(RC,r.className||""),r.centered&&n.setAttribute(BR,""),r.disabled&&n.setAttribute(N_,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){const i=this._hosts.get(n);i?i.disabled=r:r?n.setAttribute(N_,""):n.removeAttribute(N_)}_createRipple(n){if(!this._document)return;const r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(RC)),n.append(i);const s=new OR(new Un(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(BR),s.disabled=n.hasAttribute(N_),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(kC),this._hosts.set(n,r)}destroyRipple(n){const r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const M6=["mat-button",""],T6=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],I6=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],A6=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],k6=SR(xR(MR(class{constructor(e){this._elementRef=e}})));let R6=(()=>{class e extends k6{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=As(n),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=As(n),this._updateRippleDisabled()}constructor(n,r,i,s){super(n),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=ct(yR),this._rippleLoader=ct(S6),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const u=n.nativeElement.classList;for(const h of A6)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(m=>{u.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...n){return n.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){ob()};static#t=this.\u0275dir=Lt({type:e,features:[nr]})}return e})(),O6=(()=>{class e extends R6{constructor(n,r,i,s){super(n,r,i,s)}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Un),Re(_d),Re(Rn),Re(Rf,8))};static#t=this.\u0275cmp=ga({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(r,i){2&r&&(xs("disabled",i.disabled||null),Js("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[nr],attrs:M6,ngContentSelectors:I6,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(Kw(T6),Xs(0,"span",0),_y(1),So(2,"span",1),_y(3,1),Ko(),_y(4,2),Xs(5,"span",2)(6,"span",3)),2&r&&Js("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),F6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({imports:[Km,NR,Km]})}return e})();const L6=["switch"];function B6(e,t){1&e&&(So(0,"div",12),function Ou(){Dt.lFrame.currentNamespace=Mu}(),So(1,"svg",13),Xs(2,"path",14),Ko(),So(3,"svg",15),Xs(4,"path",16),Ko()())}const V6=["*"],$6=new st("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),z6={provide:nu,useExisting:er(()=>$R),multi:!0};class VR{constructor(t,n){this.source=t,this.checked=n}}let H6=0;const U6=_6(SR(MR(xR(class{constructor(e){this._elementRef=e}}))));let j6=(()=>{class e extends U6{get required(){return this._required}set required(n){this._required=As(n)}get checked(){return this._checked}set checked(n){this._checked=As(n),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(n){this._hideIcon=As(n)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,r,i,s,u,h,m){super(n),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=u,this._onChange=E=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new Qn,this.toggleChange=new Qn,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===h,this.id=this._uniqueId=`${m}${++H6}`,this._hideIcon=u.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{"keyboard"===n||"program"===n?(this._focused=!0,this._changeDetectorRef.markForCheck()):n||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(n){this.checked=!!n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(r){ob()};static#t=this.\u0275dir=Lt({type:e,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[nr]})}return e})(),$R=(()=>{class e extends j6{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(n,r,i,s,u,h){super(n,r,i,s,u,h,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new VR(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(n){return new VR(this,n)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Un),Re(yR),Re(Tp),function Zs(e){return function Wc(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(pg(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(Kr(),e)}("tabindex"),Re($6),Re(Rf,8))};static#t=this.\u0275cmp=ga({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(r,i){if(1&r&&Ay(L6,5),2&r){let s;fd(s=hd())&&(i._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(r,i){2&r&&(nE("id",i.id),xs("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Js("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[cr([z6]),nr],ngContentSelectors:V6,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,i){if(1&r&&(Kw(),So(0,"div",0)(1,"button",1,2),co("click",function(){return i._handleClick()}),Xs(3,"div",3),So(4,"div",4)(5,"div",5)(6,"div",6),Xs(7,"div",7),Ko(),So(8,"div",8),Xs(9,"div",9),Ko(),qw(10,B6,5,0,"div",10),Ko()()(),So(11,"label",11),co("click",function(u){return u.stopPropagation()}),_y(12),Ko()()),2&r){const s=yy(2);Js("mdc-form-field--align-end","before"==i.labelPosition),Nf(1),Js("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),Dp("tabIndex",i.tabIndex)("disabled",i.disabled),xs("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),Nf(8),Dp("matRippleTrigger",s)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),Nf(1),Dp("ngIf",!i.hideIcon),Nf(1),Dp("for",i.buttonId),xs("id",i._labelId)}},dependencies:[OR,eD],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return e})(),zR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({})}return e})(),W6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({imports:[zR,Km,NR,oD,zR,Km]})}return e})();const p0={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=p0;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t(s=>{n=void 0,e(s)});return new Ue(()=>n?.(i))},requestAnimationFrame(...e){const{delegate:t}=p0;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=p0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},UR=new class t9 extends MC{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class e9 extends SC{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=p0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:s}=t;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&(p0.cancelAnimationFrame(n),t._scheduled=void 0)}});let OC,n9=1;const F_={};function jR(e){return e in F_&&(delete F_[e],!0)}const r9={setImmediate(e){const t=n9++;return F_[t]=!0,OC||(OC=Promise.resolve()),OC.then(()=>jR(t)&&e()),t},clearImmediate(e){jR(e)}},{setImmediate:i9,clearImmediate:o9}=r9,L_={setImmediate(...e){const{delegate:t}=L_;return(t?.setImmediate||i9)(...e)},clearImmediate(e){const{delegate:t}=L_;return(t?.clearImmediate||o9)(e)},delegate:void 0};new class a9 extends MC{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class s9 extends SC{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=L_.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:s}=t;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&(L_.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}});function GR(e=0,t,n=Zj){let r=-1;return null!=t&&(hc(t)?n=t:r=t),new Mt(i=>{let s=function c9(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let u=0;return n.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},s)})}let p9=(()=>{class e{constructor(n,r,i){this._platform=n,this._change=new Zt,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(n.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),i=n.documentElement,s=i.getBoundingClientRect();return{top:-s.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(function qR(e,t=R_){return function u9(e){return ar((t,n)=>{let r=!1,i=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const E=i;i=null,n.next(E)}u&&n.complete()},m=()=>{s=null,u&&n.complete()};t.subscribe(hr(n,E=>{r=!0,i=E,s||Fi(e(E)).subscribe(s=hr(n,h,m))},()=>{u=!0,(!r||!s||s.closed)&&n.complete()}))})}(()=>GR(e,t))}(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(_d),Ke(Rn),Ke(Vr,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NC(e,t,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];i?e.setProperty(r,i,n?.has(r)?"important":""):e.removeProperty(r)}return e}function Zm(e,t){const n=t?"":"none";NC(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function WR(e,t,n){NC(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},n)}function B_(e,t){return t&&"none"!=t?e+" "+t:e}function KR(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function FC(e,t){return e.getPropertyValue(t).split(",").map(r=>r.trim())}function LC(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function BC(e,t,n){const{top:r,bottom:i,left:s,right:u}=e;return n>=r&&n<=i&&t>=s&&t<=u}function g0(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function ZR(e,t,n,r){const{top:i,right:s,bottom:u,left:h,width:m,height:E}=e,x=m*t,I=E*t;return r>i-I&&r<u+I&&n>h-x&&n<s+x}class YR{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:LC(n)})})}handleScroll(t){const n=uc(t),r=this.positions.get(n);if(!r)return null;const i=r.scrollPosition;let s,u;if(n===this._document){const E=this.getViewportScrollPosition();s=E.top,u=E.left}else s=n.scrollTop,u=n.scrollLeft;const h=i.top-s,m=i.left-u;return this.positions.forEach((E,x)=>{E.clientRect&&n!==x&&n.contains(x)&&g0(E.clientRect,h,m)}),i.top=s,i.left=u,{top:h,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function QR(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?eP(e,t):("input"===r||"select"===r||"textarea"===r)&&JR(e,t),XR("canvas",e,t,eP),XR("input, textarea, select",e,t,JR),t}function XR(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const s=n.querySelectorAll(e);for(let u=0;u<i.length;u++)r(i[u],s[u])}}let v9=0;function JR(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${v9++}`)}function eP(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch{}}const tP=Hp({passive:!0}),V_=Hp({passive:!1}),VC=new Set(["position"]);class b9{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const n=As(t);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Zm(r,n)))}constructor(t,n,r,i,s,u){this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Zt,this._pointerMoveSubscription=Ue.EMPTY,this._pointerUpSubscription=Ue.EMPTY,this._scrollSubscription=Ue.EMPTY,this._resizeSubscription=Ue.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Zt,this.started=new Zt,this.released=new Zt,this.ended=new Zt,this.entered=new Zt,this.exited=new Zt,this.dropped=new Zt,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const m=this._getTargetHandle(h);m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const m=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const $=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),ee=this._dropContainer;if(!$)return void this._endDragSequence(h);(!ee||!ee.isDragging()&&!ee.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const E=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(E),this._dropContainer)this._updateActiveDropContainer(E,m);else{const x=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,I=this._activeTransform;I.x=E.x-x.x+this._passiveTransform.x,I.y=E.y-x.y+this._passiveTransform.y,this._applyRootElementTransform(I.x,I.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:E,event:h,distance:this._getDragDistance(E),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const m=this._getTargetHandle(h);m&&!this._disabledHandles.has(m)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new YR(r),u.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(r=>po(r)),this._handles.forEach(r=>Zm(r,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&n.add(r)}),this._disabledHandles=n,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const n=po(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,V_),n.addEventListener("touchstart",this._pointerDown,tP),n.addEventListener("dragstart",this._nativeDragStart,V_)}),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?po(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Zm(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Zm(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){m0(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._dropContainer;if(n){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();i.insertBefore(u,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),WR(r,!1,VC),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,h).appendChild(this._preview),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,n){this._parentDragRef&&n.stopPropagation();const r=this.isDragging(),i=m0(n),s=!i&&0!==n.button,u=this._rootElement,h=uc(n),m=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),E=i?IC(n):TC(n);if(h&&h.draggable&&"mousedown"===n.type&&n.preventDefault(),r||s||m||E)return;if(this._handles.length){const O=u.style;this._rootElementTapHighlight=O.webkitTapHighlightColor||"",O.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(O=>this._updateOnScroll(O)),this._boundaryElement&&(this._boundaryRect=LC(this._boundaryElement));const x=this._previewTemplate;this._pickupPositionInElement=x&&x.template&&!x.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,n);const I=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:I.x,y:I.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(t){WR(this._rootElement,!0,VC),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,r=n.getItemIndex(this),i=this._getPointerPositionOnPage(t),s=this._getDragDistance(i),u=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i,event:t}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:s,dropPoint:i,event:t}),n.drop(this,r,this._initialIndex,this._initialContainer,u,s,i,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:n},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,n);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,n)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,n,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,t,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,n):this._applyPreviewTransform(t-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,n=this.previewClass,r=t?t.template:null;let i;if(r&&t){const s=t.matchSize?this._initialClientRect:null,u=t.viewContainer.createEmbeddedView(r,t.context);u.detectChanges(),i=rP(u,this._document),this._previewRef=u,t.matchSize?iP(i,s):i.style.transform=$_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=QR(this._rootElement),iP(i,this._initialClientRect),this._initialTransform&&(i.style.transform=this._initialTransform);return NC(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},VC),Zm(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(s=>i.classList.add(s)):i.classList.add(n)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const n=function m9(e){const t=getComputedStyle(e),n=FC(t,"transition-property"),r=n.find(h=>"transform"===h||"all"===h);if(!r)return 0;const i=n.indexOf(r),s=FC(t,"transition-duration"),u=FC(t,"transition-delay");return KR(s[i])+KR(u[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=u=>{(!u||uc(u)===this._preview&&"transform"===u.propertyName)&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*n);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,n=t?t.template:null;let r;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),r=rP(this._placeholderRef,this._document)):r=QR(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(t,n,r){const i=n===this._rootElement?null:n,s=i?i.getBoundingClientRect():t,u=m0(r)?r.targetTouches[0]:r,h=this._getViewportScrollPosition();return{x:s.left-t.left+(u.pageX-s.left-h.left),y:s.top-t.top+(u.pageY-s.top-h.top)}}_getPointerPositionOnPage(t){const n=this._getViewportScrollPosition(),r=m0(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=r.pageX-n.left,s=r.pageY-n.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=i,h.y=s,h.matrixTransform(u.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(t){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===n?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===n)&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:u}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,h=this._boundaryRect,{width:m,height:E}=this._getPreviewRect(),x=h.top+u,I=h.bottom-(E-u);r=nP(r,h.left+s,h.right-(m-s)),i=nP(i,x,I)}return{x:r,y:i}}_updatePointerDirectionDelta(t){const{x:n,y:r}=t,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,u=Math.abs(n-s.x),h=Math.abs(r-s.y);return u>this._config.pointerDirectionChangeThreshold&&(i.x=n>s.x?1:-1,s.x=n),h>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Zm(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,V_),t.removeEventListener("touchstart",this._pointerDown,tP),t.removeEventListener("dragstart",this._nativeDragStart,V_)}_applyRootElementTransform(t,n){const r=$_(t,n),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=B_(r,this._initialTransform)}_applyPreviewTransform(t,n){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=$_(t,n);this._preview.style.transform=B_(i,r)}_getDragDistance(t){const n=this._pickupPositionOnPage;return n?{x:t.x-n.x,y:t.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:n}=this._passiveTransform;if(0===t&&0===n||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const s=i.left-r.left,u=r.right-i.right,h=i.top-r.top,m=r.bottom-i.bottom;i.width>r.width?(s>0&&(t+=s),u>0&&(t-=u)):t=0,i.height>r.height?(h>0&&(n+=h),m>0&&(n-=m)):n=0,(t!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:t})}_getDragStartDelay(t){const n=this.dragStartDelay;return"number"==typeof n?n:m0(t)?n.touch:n?n.mouse:0}_updateOnScroll(t){const n=this._parentPositions.handleScroll(t);if(n){const r=uc(t);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&g0(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=DC(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,n){const r=this._previewContainer||"global";if("parent"===r)return t;if("global"===r){const i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return po(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(n=>t.target&&(t.target===n||n.contains(t.target)))}}function $_(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function nP(e,t,n){return Math.max(t,Math.min(n,e))}function m0(e){return"t"===e.type[0]}function rP(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const r=t.createElement("div");return n.forEach(i=>r.appendChild(i)),r}function iP(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=$_(t.left,t.top)}function v0(e,t){return Math.max(0,Math.min(t,e))}class w9{constructor(t,n){this._element=t,this._dragDropRegistry=n,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,n,r,i){const s=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,n,r,i);if(-1===u&&s.length>0)return null;const h="horizontal"===this.orientation,m=s.findIndex(ge=>ge.drag===t),E=s[u],I=E.clientRect,O=m>u?1:-1,$=this._getItemOffsetPx(s[m].clientRect,I,O),ee=this._getSiblingOffsetPx(m,s,O),ne=s.slice();return function _9(e,t,n){const r=v0(t,e.length-1),i=v0(n,e.length-1);if(r===i)return;const s=e[r],u=i<r?-1:1;for(let h=r;h!==i;h+=u)e[h]=e[h+u];e[i]=s}(s,m,u),s.forEach((ge,Ve)=>{if(ne[Ve]===ge)return;const ye=ge.drag===t,it=ye?$:ee,wt=ye?t.getPlaceholderElement():ge.drag.getRootElement();ge.offset+=it,h?(wt.style.transform=B_(`translate3d(${Math.round(ge.offset)}px, 0, 0)`,ge.initialTransform),g0(ge.clientRect,0,it)):(wt.style.transform=B_(`translate3d(0, ${Math.round(ge.offset)}px, 0)`,ge.initialTransform),g0(ge.clientRect,it,0))}),this._previousSwap.overlaps=BC(I,n,r),this._previousSwap.drag=E.drag,this._previousSwap.delta=h?i.x:i.y,{previousIndex:m,currentIndex:u}}enter(t,n,r,i){const s=null==i||i<0?this._getItemIndexFromPointerPosition(t,n,r):i,u=this._activeDraggables,h=u.indexOf(t),m=t.getPlaceholderElement();let E=u[s];if(E===t&&(E=u[s+1]),!E&&(null==s||-1===s||s<u.length-1)&&this._shouldEnterAsFirstChild(n,r)&&(E=u[0]),h>-1&&u.splice(h,1),E&&!this._dragDropRegistry.isDragging(E)){const x=E.getRootElement();x.parentElement.insertBefore(m,x),u.splice(s,0,t)}else po(this._element).appendChild(m),u.push(t);m.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const n=t.getRootElement();if(n){const r=this._itemPositions.find(i=>i.drag===t)?.initialTransform;n.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===t)}updateOnScroll(t,n){this._itemPositions.forEach(({clientRect:r})=>{g0(r,t,n)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(n=>{const r=n.getVisibleElement();return{drag:n,offset:0,initialTransform:r.style.transform||"",clientRect:LC(r)}}).sort((n,r)=>t?n.clientRect.left-r.clientRect.left:n.clientRect.top-r.clientRect.top)}_getItemOffsetPx(t,n,r){const i="horizontal"===this.orientation;let s=i?n.left-t.left:n.top-t.top;return-1===r&&(s+=i?n.width-t.width:n.height-t.height),s}_getSiblingOffsetPx(t,n,r){const i="horizontal"===this.orientation,s=n[t].clientRect,u=n[t+-1*r];let h=s[i?"width":"height"]*r;if(u){const m=i?"left":"top",E=i?"right":"bottom";-1===r?h-=u.clientRect[m]-s[E]:h+=s[m]-u.clientRect[E]}return h}_shouldEnterAsFirstChild(t,n){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const u=r[r.length-1].clientRect;return i?t>=u.right:n>=u.bottom}{const u=r[0].clientRect;return i?t<=u.left:n<=u.top}}_getItemIndexFromPointerPosition(t,n,r,i){const s="horizontal"===this.orientation,u=this._itemPositions.findIndex(({drag:h,clientRect:m})=>h!==t&&((!i||h!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?i.x:i.y)!==this._previousSwap.delta)&&(s?n>=Math.floor(m.left)&&n<Math.floor(m.right):r>=Math.floor(m.top)&&r<Math.floor(m.bottom))));return-1!==u&&this._sortPredicate(u,t)?u:-1}}class E9{constructor(t,n,r,i,s){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Zt,this.entered=new Zt,this.exited=new Zt,this.dropped=new Zt,this.sorted=new Zt,this.receivingStarted=new Zt,this.receivingStopped=new Zt,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ue.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Zt,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function g9(e=0,t=R_){return e<0&&(e=0),GR(e,e,t)}(0,UR).pipe(Pp(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-h):2===this._verticalScrollDirection&&u.scrollBy(0,h),1===this._horizontalScrollDirection?u.scrollBy(-h,0):2===this._horizontalScrollDirection&&u.scrollBy(h,0)})},this.element=po(t),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new YR(r),this._sortStrategy=new w9(this.element,n),this._sortStrategy.withSortPredicate((u,h)=>this.sortPredicate(u,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,n,r,i){this._draggingStarted(),null==i&&this.sortingDisabled&&(i=this._draggables.indexOf(t)),this._sortStrategy.enter(t,n,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,n,r,i,s,u,h,m={}){this._reset(),this.dropped.next({item:t,currentIndex:n,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:u,dropPoint:h,event:m})}withItems(t){const n=this._draggables;return this._draggables=t,t.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>-1===t.indexOf(i))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const n=po(this.element);return this._scrollableElements=-1===t.indexOf(n)?[n,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,n,r,i){if(this.sortingDisabled||!this._clientRect||!ZR(this._clientRect,.05,n,r))return;const s=this._sortStrategy.sort(t,n,r,i);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,n){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||r||ZR(u.clientRect,.05,t,n)&&([i,s]=function D9(e,t,n,r){const i=aP(t,r),s=lP(t,n);let u=0,h=0;if(i){const m=e.scrollTop;1===i?m>0&&(u=1):e.scrollHeight-m>e.clientHeight&&(u=2)}if(s){const m=e.scrollLeft;1===s?m>0&&(h=1):e.scrollWidth-m>e.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,n),(i||s)&&(r=h))}),!i&&!s){const{width:u,height:h}=this._viewportRuler.getViewportSize(),m={width:u,height:h,top:0,right:u,bottom:h,left:0};i=aP(m,n),s=lP(m,t),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=po(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=po(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=po(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,n){return null!=this._clientRect&&BC(this._clientRect,t,n)}_getSiblingContainerFromPosition(t,n,r){return this._siblings.find(i=>i._canReceive(t,n,r))}_canReceive(t,n,r){if(!this._clientRect||!BC(this._clientRect,n,r)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(n,r);if(!i)return!1;const s=po(this.element);return i===s||s.contains(i)}_startReceiving(t,n){const r=this._activeSiblings;!r.has(t)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:n}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(t);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=DC(po(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,t))}}function aP(e,t){const{top:n,bottom:r,height:i}=e,s=.05*i;return t>=n-s&&t<=n+s?1:t>=r-s&&t<=r+s?2:0}function lP(e,t){const{left:n,right:r,width:i}=e,s=.05*i;return t>=n-s&&t<=n+s?1:t>=r-s&&t<=r+s?2:0}const z_=Hp({passive:!1,capture:!0});let C9=(()=>{class e{constructor(n,r){this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new Zt,this.pointerUp=new Zt,this.scroll=new Zt,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,z_)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,z_)}startDragging(n,r){if(!(this._activeDragInstances.indexOf(n)>-1)&&(this._activeDragInstances.push(n),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:z_}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:z_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,u)=>{this._document.addEventListener(u,s.handler,s.options)})})}}stopDragging(n){const r=this._activeDragInstances.indexOf(n);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(n){return this._activeDragInstances.indexOf(n)>-1}scrolled(n){const r=[this.scroll];return n&&n!==this._document&&r.push(new Mt(i=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&i.next(h)};return n.addEventListener("scroll",u,!0),()=>{n.removeEventListener("scroll",u,!0)}}))),la(...r)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,r)=>{this._document.removeEventListener(r,n.handler,n.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Rn),Ke(Vr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const x9={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let uP=(()=>{class e{constructor(n,r,i,s){this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(n,r=x9){return new b9(n,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new E9(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Vr),Ke(Rn),Ke(p9),Ke(C9))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $C=new st("CDK_DRAG_PARENT"),zC=new st("CdkDragHandle");let cP=(()=>{class e{get disabled(){return this._disabled}set disabled(n){this._disabled=As(n),this._stateChanges.next(this)}constructor(n,r){this.element=n,this._stateChanges=new Zt,this._disabled=!1,this._parentDrag=r}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Un),Re($C,12))};static#t=this.\u0275dir=Lt({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[cr([{provide:zC,useExisting:e}])]})}return e})();const dP=new st("CdkDragPlaceholder"),fP=new st("CdkDragPreview"),hP=new st("CDK_DRAG_CONFIG"),pP=new st("CdkDropList");let gP=(()=>{class e{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(n){this._disabled=As(n),this._dragRef.disabled=this._disabled}constructor(n,r,i,s,u,h,m,E,x,I,O){this.element=n,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=u,this._dir=m,this._changeDetectorRef=x,this._selfHandle=I,this._parentDrag=O,this._destroyed=new Zt,this.started=new Qn,this.released=new Qn,this.ended=new Qn,this.entered=new Qn,this.exited=new Qn,this.dropped=new Qn,this.moved=new Mt($=>{const ee=this._dragRef.moved.pipe(sn(ne=>({source:this,pointerPosition:ne.pointerPosition,event:ne.event,delta:ne.delta,distance:ne.distance}))).subscribe($);return()=>{ee.unsubscribe()}}),this._dragRef=E.createDrag(n,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),h&&this._assignDefaults(h),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(vd(1),Pp(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(n){const r=n.rootElementSelector,i=n.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const n=e._dragInstances.indexOf(this);n>-1&&e._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const n=this.element.nativeElement;let r=n;this.rootElementSelector&&(r=void 0!==n.closest?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||n)}_getBoundaryElement(){const n=this.boundaryElement;return n?"string"==typeof n?this.element.nativeElement.closest(n):po(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.dragStartDelay="object"==typeof i&&i?i:CC(i),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),r&&n.withDirection(r.value)}}),n.beforeStarted.pipe(vd(1)).subscribe(()=>{if(this._parentDrag)return void n.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){n.withParent(e._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(n){n.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),n.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(n){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:u,boundaryElement:h,draggingDisabled:m,rootElementSelector:E,previewContainer:x}=n;this.disabled=m??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),u&&(this.previewClass=u),h&&(this.boundaryElement=h),E&&(this.rootElementSelector=E),x&&(this.previewContainer=x)}_setupHandlesListener(){this._handles.changes.pipe($y(this._handles),ho(n=>{const r=n.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),go(n=>la(...n.map(r=>r._stateChanges.pipe($y(r))))),Pp(this._destroyed)).subscribe(n=>{const r=this._dragRef,i=n.element.nativeElement;n.disabled?r.disableHandle(i):r.enableHandle(i)})}static#t=this.\u0275fac=function(r){return new(r||e)(Re(Un),Re(pP,12),Re(Vr),Re(Rn),Re(gl),Re(hP,8),Re(wR,8),Re(uP),Re(Tp),Re(zC,10),Re($C,12))};static#n=this.\u0275dir=Lt({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(r,i,s){if(1&r&&(ky(s,fP,5),ky(s,dP,5),ky(s,zC,5)),2&r){let u;fd(u=hd())&&(i._previewTemplate=u.first),fd(u=hd())&&(i._placeholderTemplate=u.first),fd(u=hd())&&(i._handles=u)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){2&r&&Js("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[cr([{provide:$C,useExisting:e}]),_o]})}return e})();const k9=["cytoscape"],R9=["cytoscapeCompare"],P9=["legend"];function O9(e,t){if(1&e){const n=function k1(){return je()}();mb(0),So(1,"div",14,15)(3,"div",16),co("mouseup",function(){return Ea(n),Da(Em().dragEnd())})("mouseleave",function(){return Ea(n),Da(Em().dragEnd())})("mousemove",function(i){Ea(n);const s=yy(2);return Da(Em().dragMove(i,s))}),So(4,"span",17),co("mousedown",function(){return Ea(n),Da(Em().dragStart())}),Ko()(),Xs(5,"div",18,19),Ko(),vb()}if(2&e){const n=Em();Nf(3),Js("active",n.compareDragging)}}let N9=(()=>{class e{constructor(n,r){this.diagram=n,this.route=r,this.title="pathway-browser",this.comparing=!1,this.replacedElementsLeft=[],this.lastIndex=0,this.syncing=!1,this.syncViewports=(i,s,u,h)=>{if(this.syncing)return;this.syncing=!0,this.updateReplacementVisibility();const m={...i.pan()},E=s.getBoundingClientRect().x,x=h.getBoundingClientRect().x;m.x+=E-x,u.viewport({zoom:i.zoom(),pan:m}),this.syncing=!1},this.compareDragging=!1}ngAfterViewInit(){const n=this.cytoscapeContainer.nativeElement;this.reactomeStyle=new vt(n),this.route.params.pipe(go(r=>this.diagram.getDiagram(r.id))).subscribe(r=>{this.comparing=r.nodes.some(i=>i.data.isFadeOut)||r.edges.some(i=>i.data.isFadeOut),this.cy=fC()({container:n,elements:r,style:this.reactomeStyle?.getStyleSheet(),layout:{name:"preset"}}),this.reactomeStyle?.bindToCytoscape(this.cy),setTimeout(()=>{if(this.comparing){this.cy.edges("[!isBackground]").style("visibility","hidden"),this.cy.nodes("[!isBackground]").style("visibility","hidden"),this.replacedElements=this.cy.elements("[?replacedBy]").sort((s,u)=>s.boundingBox().x1-u.boundingBox().x1),this.replacedElementsLeft=this.replacedElements.map(s=>s.boundingBox().x1),this.cy.elements(".Compartment").style("visibility","visible");const i=this.compareContainer.nativeElement;this.cyCompare=fC()({container:i,elements:r,style:this.reactomeStyle?.getStyleSheet(),layout:{name:"preset"}}),this.cyCompare.elements("[?isFadeOut][!isCrossed]").style("visibility","hidden"),this.cyCompare.elements(".Compartment").style("visibility","hidden"),this.cy.nodes("[?isCrossed]").data("isCrossed",!1),this.cyCompare.on("viewport",()=>this.syncViewports(this.cyCompare,i,this.cy,n)),this.cy.on("viewport",()=>this.syncViewports(this.cy,n,this.cyCompare,i)),this.reactomeStyle?.bindToCytoscape(this.cyCompare),this.cyCompare.minZoom(this.cy.minZoom()),this.cyCompare.maxZoom(this.cy.maxZoom()),this.syncViewports(this.cy,n,this.cyCompare,i),this.updateReplacementVisibility()}})}),this.diagram.getLegend().subscribe(r=>{const i=this.legendContainer.nativeElement;this.legend=fC()({container:i,elements:r,style:this.reactomeStyle?.getStyleSheet(),layout:{name:"preset"},boxSelectionEnabled:!1}),this.legend.zoomingEnabled(!1),this.legend.panningEnabled(!1)})}updateReplacementVisibility(){const n=this.cyCompare.extent(),r=this.replacedElementsLeft.findIndex(i=>i>=n.x1);this.lastIndex!==r&&(this.lastIndex>r&&this.replacedElements.slice(r,this.lastIndex).style("visibility","hidden"),this.lastIndex<r&&this.replacedElements.slice(this.lastIndex,r).style("visibility","visible")),this.lastIndex=r}getInteractors(){this.diagram.getInteractorData(this.cy).subscribe(n=>{this.diagram.addOccurrenceAndInteractors(n,this.cy)})}updateStyle(){setTimeout(()=>this.reactomeStyle?.update(this.cy),5),setTimeout(()=>this.reactomeStyle?.update(this.cyCompare),5),setTimeout(()=>this.reactomeStyle?.update(this.legend),5)}dragStart(){this.compareDragging=!0}dragEnd(){this.compareDragging=!1}dragMove(n,r){this.compareDragging&&(r.style.left=n.x+"px",this.cyCompare.resize(),this.syncViewports(this.cy,this.cytoscapeContainer.nativeElement,this.cyCompare,this.compareContainer.nativeElement))}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Lj),Re(Fp))};static#t=this.\u0275cmp=ga({type:e,selectors:[["cr-diagram"]],viewQuery:function(r,i){if(1&r&&(Ay(k9,5),Ay(R9,5),Ay(P9,5)),2&r){let s;fd(s=hd())&&(i.cytoscapeContainer=s.first),fd(s=hd())&&(i.compareContainer=s.first),fd(s=hd())&&(i.legendContainer=s.first)}},decls:19,vars:5,consts:[[1,"variables"],["container",""],["id","cytoscape"],["cytoscape",""],[4,"ngIf"],["id","legend-boundary",1,"drag-boundary"],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary","#legend-boundary","id","legend-container"],["id","legend-handle","cdkDragHandle",""],["id","legend"],["legend",""],["id","controls"],["mat-raised-button","",3,"click"],[3,"change"],["dark",""],["id","disease-container",1,"drag-container"],["compareContainer",""],["id","handle-limits",3,"mouseup","mouseleave","mousemove"],["id","disease-handle",1,"drag-handle",3,"mousedown"],["id","cytoscape-compare",1,"drag-content"],["cytoscapeCompare",""]],template:function(r,i){if(1&r&&(So(0,"div",0,1),Xs(2,"div",2,3),qw(4,O9,7,2,"ng-container",4),So(5,"div",5)(6,"div",6)(7,"button",7),Ey(8,"LEGEND"),Ko(),Xs(9,"div",8,9),Ko()(),So(11,"form",10)(12,"button",11),co("click",function(){return i.getInteractors()}),Ey(13,"Interactors"),Ko(),So(14,"button",11),co("click",function(){return i.updateStyle()}),Ey(15,"Update Style"),Ko(),So(16,"mat-slide-toggle",12,13),co("change",function(){return i.updateStyle()}),Ey(18,"Dark mode"),Ko()()()),2&r){const s=yy(1);Js("dark",yy(17).checked),Nf(4),Dp("ngIf",i.comparing),Nf(2),Jw("height",s.clientHeight+"px")}},dependencies:[eD,uk,KA,C_,O6,$R,cP,gP],styles:['.variables[_ngcontent-%COMP%]{position:absolute;inset:0;--opacity: .08;--shadow-luminosity: 40;--surface: #F6FEFF;--on-surface: #001F24;--primary: #006782;--on-primary: #FFFFFF;--on-tertiary: #FFFFFF;--positive: #0C9509;--negative: #BA1A1A;--negativeContrast: #ea7d7d;--select-node: #6EB3E4;--select-edge: #0561A6;--hover-node: #78E076;--hover-edge: #04B601;--compartment: #E5834A;--primary-contrast-1: #001F29;--primary-contrast-2: #003545;--primary-contrast-3: #004D62;--tertiary-contrast-1: #00315C;--tertiary-contrast-2: #004882;--tertiary-contrast-3: #1660A5;--drug-contrast-1: #3E001D;--drug-contrast-2: #610B33;--drug-contrast-3: #7E2549;--drug-contrast-4: #BB557A}.variables.dark[_ngcontent-%COMP%]{--opacity: .08;--shadow-luminosity: 70;--shadow-opacity: [[20, 40], [40, 0]];--surface: #0D1617;--on-surface: #97F0FF;--primary: #5CD4FF;--on-primary: #0D1617;--on-tertiary: #0D1317;--positive: #10d70b;--negative: #ea2323;--negativeContrast: #8f0000;--select-node: #00ffff;--select-edge: #1d85cc;--hover-node: #ffff00;--hover-edge: #ffff00;--compartment: #5e232d;--primary-contrast-1: #5CD4FF;--primary-contrast-2: #20B9E5;--primary-contrast-3: #009DC4;--tertiary-contrast-1: #a48ee0;--tertiary-contrast-2: #9b73d3;--tertiary-contrast-3: #8c63c5;--drug-contrast-1: #FFB1C8;--drug-contrast-2: #F988AE;--drug-contrast-3: #DA6E94;--drug-contrast-4: #c4527b}#controls[_ngcontent-%COMP%]{position:absolute;inset:calc(100vh - 40px) 0 0 0;background:var(--surface)}#controls[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background:var(--surface);color:var(--on-surface)}#cytoscape[_ngcontent-%COMP%]{position:absolute;inset:0 0 40px;background:var(--surface);box-sizing:border-box}#legend-boundary[_ngcontent-%COMP%]{--legend-width: 400px;--border-width: 2px;--handle-width: 20px;position:absolute;pointer-events:none;right:calc(-1 * var(--legend-width) - var(--border-width));height:100%;width:calc(2 * var(--legend-width) + var(--handle-width))}#legend-boundary[_ngcontent-%COMP%]   #legend[_ngcontent-%COMP%]{width:var(--legend-width);height:100%;border-left:var(--border-width) solid var(--primary);background:color-mix(in srgb,var(--surface) 80%,transparent);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}#legend-boundary[_ngcontent-%COMP%]   #legend-handle[_ngcontent-%COMP%]{width:var(--handle-width);text-orientation:upright;writing-mode:vertical-lr;border-radius:8.5px 0 0 8.5px;background:color-mix(in srgb,var(--surface) 80%,transparent);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-left:var(--border-width) solid var(--primary);border-top:var(--border-width) solid var(--primary);border-bottom:var(--border-width) solid var(--primary);border-right:0;cursor:ew-resize;color:var(--on-surface)}#legend-boundary[_ngcontent-%COMP%]   #legend-container[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;align-items:center;width:-moz-fit-content;width:fit-content;left:calc(var(--legend-width) - var(--border-width));pointer-events:all;height:100%}.drag-container[_ngcontent-%COMP%]{position:absolute;left:50%;width:100%;pointer-events:all;z-index:1;display:flex;align-items:center;height:100%}#handle-limits[_ngcontent-%COMP%]{--width: 500px;--height: 500px;position:absolute;left:calc(-.5 * var(--width));top:calc(50% - .5 * var(--height));width:var(--width);height:var(--height);z-index:5;pointer-events:none}#handle-limits.active[_ngcontent-%COMP%]{pointer-events:all;cursor:ew-resize}.drag-handle[_ngcontent-%COMP%]{--width: 4px;--height: 30px;position:absolute;left:calc(50% - .5 * var(--width) - 4px);top:calc(50% - .5 * var(--height) - 4px);border-radius:var(--height);width:var(--width);height:var(--height);border:4px solid var(--primary);cursor:ew-resize;color:var(--on-surface);pointer-events:all;filter:drop-shadow(-2px 0px 0px var(--primary-container)) drop-shadow(2px 0px 0px var(--error-container));background:var(--surface)}#cytoscape-compare[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;height:100%;width:100%;inset:0;background-color:color-mix(in srgb,var(--error) 5%,color-mix(in srgb,var(--surface) 50%,transparent))}#cytoscape-compare[_ngcontent-%COMP%]:before{content:"";height:100%;width:4px;background-color:var(--primary);filter:drop-shadow(-2px 0px 0px var(--primary-container)) drop-shadow(2px 0px 0px var(--error-container));position:absolute;left:-2px;z-index:4}']})}return e})();const F9=[{path:":id",component:N9},{path:"**",redirectTo:"R-HSA-453279"}];let L9=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({imports:[_A.forRoot(F9),_A]})}return e})();class mP{}class B9{}const wd="*";function vP(e,t=null){return{type:2,steps:e,options:t}}function yP(e){return{type:6,styles:e,offset:null}}class y0{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class bP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++n==s&&this._onFinish()}),u.onDestroy(()=>{++r==s&&this._onDestroy()}),u.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function _P(e){return new Te(3e3,!1)}function Kf(e){switch(e.length){case 0:return new y0;case 1:return e[0];default:return new bP(e)}}function wP(e,t,n=new Map,r=new Map){const i=[],s=[];let u=-1,h=null;if(t.forEach(m=>{const E=m.get("offset"),x=E==u,I=x&&h||new Map;m.forEach((O,$)=>{let ee=$,ne=O;if("offset"!==$)switch(ee=e.normalizePropertyName(ee,i),ne){case"!":ne=n.get($);break;case wd:ne=r.get($);break;default:ne=e.normalizeStyleValue($,ee,ne,i)}I.set(ee,ne)}),x||s.push(I),h=I,u=E}),i.length)throw function aG(e){return new Te(3502,!1)}();return s}function jC(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&GC(n,"start",e)));break;case"done":e.onDone(()=>r(n&&GC(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&GC(n,"destroy",e)))}}function GC(e,t,n){const s=qC(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),u=e._data;return null!=u&&(s._data=u),s}function qC(e,t,n,r,i="",s=0,u){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!u}}function $a(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function EP(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const bG=(()=>typeof document>"u"?null:document.documentElement)();function WC(e){const t=e.parentNode||e.host||null;return t===bG?null:t}let Gp=null,DP=!1;function CP(e,t){for(;t;){if(t===e)return!0;t=WC(t)}return!1}function xP(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]}let SP=(()=>{class e{validateStyleProperty(n){return function wG(e){Gp||(Gp=function EG(){return typeof document<"u"?document.body:null}()||{},DP=!!Gp.style&&"WebkitAppearance"in Gp.style);let t=!0;return Gp.style&&!function _G(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Gp.style,!t&&DP&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Gp.style)),t}(n)}matchesElement(n,r){return!1}containsElement(n,r){return CP(n,r)}getParentElement(n){return WC(n)}query(n,r,i){return xP(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,u,h=[],m){return new y0(i,s)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})(),KC=(()=>{class e{static#e=this.NOOP=new SP}return e})();const DG=1e3,ZC="ng-enter",H_="ng-leave",U_="ng-trigger",j_=".ng-trigger",TP="ng-animating",YC=".ng-animating";function Ed(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:QC(parseFloat(t[1]),t[2])}function QC(e,t){return"s"===t?e*DG:e}function G_(e,t,n){return e.hasOwnProperty("duration")?e:function xG(e,t,n){let i,s=0,u="";if("string"==typeof e){const h=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(_P()),{duration:0,delay:0,easing:""};i=QC(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(s=QC(parseFloat(m),h[4]));const E=h[5];E&&(u=E)}else i=e;if(!n){let h=!1,m=t.length;i<0&&(t.push(function V9(){return new Te(3100,!1)}()),h=!0),s<0&&(t.push(function $9(){return new Te(3101,!1)}()),h=!0),h&&t.splice(m,0,_P())}return{duration:i,delay:s,easing:u}}(e,t,n)}function b0(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function IP(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Zf(e,t=new Map,n){if(n)for(let[r,i]of n)t.set(r,i);for(let[r,i]of e)t.set(r,i);return t}function cc(e,t,n){t.forEach((r,i)=>{const s=JC(i);n&&!n.has(i)&&n.set(i,e.style[s]),e.style[s]=r})}function qp(e,t){t.forEach((n,r)=>{const i=JC(r);e.style[i]=""})}function _0(e){return Array.isArray(e)?1==e.length?e[0]:vP(e):e}const XC=new RegExp("{{\\s*(.+?)\\s*}}","g");function kP(e){let t=[];if("string"==typeof e){let n;for(;n=XC.exec(e);)t.push(n[1]);XC.lastIndex=0}return t}function w0(e,t,n){const r=e.toString(),i=r.replace(XC,(s,u)=>{let h=t[u];return null==h&&(n.push(function H9(e){return new Te(3003,!1)}()),h=""),h.toString()});return i==r?e:i}function q_(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const TG=/-+([a-z0-9])/g;function JC(e){return e.replace(TG,(...t)=>t[1].toUpperCase())}function za(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function U9(e){return new Te(3004,!1)}()}}const W_="*";function kG(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function RG(e,t,n){if(":"==e[0]){const m=function PG(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(function rG(e){return new Te(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof m)return void t.push(m);e=m}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function nG(e){return new Te(3015,!1)}()),t;const i=r[1],s=r[2],u=r[3];t.push(PP(i,u));"<"==s[0]&&!(i==W_&&u==W_)&&t.push(PP(u,i))}(r,n,t)):n.push(e),n}const K_=new Set(["true","1"]),Z_=new Set(["false","0"]);function PP(e,t){const n=K_.has(e)||Z_.has(e),r=K_.has(t)||Z_.has(t);return(i,s)=>{let u=e==W_||e==i,h=t==W_||t==s;return!u&&n&&"boolean"==typeof i&&(u=i?K_.has(e):Z_.has(e)),!h&&r&&"boolean"==typeof s&&(h=s?K_.has(t):Z_.has(t)),u&&h}}const OG=new RegExp("s*:selfs*,?","g");function ex(e,t,n,r){return new NG(e).build(t,n,r)}class NG{constructor(t){this._driver=t}build(t,n,r){const i=new BG(n);return this._resetContextStyleTimingState(i),za(this,_0(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&n.errors.push(function G9(){return new Te(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(n),0==h.type){const m=h,E=m.name;E.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,s.push(this.visitState(m,n))}),m.name=E}else if(1==h.type){const m=this.visitTransition(h,n);r+=m.queryCount,i+=m.depCount,u.push(m)}else n.errors.push(function q9(){return new Te(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,u=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{kP(m).forEach(E=>{u.hasOwnProperty(E)||s.add(E)})})}),s.size&&(q_(s.values()),n.errors.push(function W9(e,t){return new Te(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=za(this,_0(t.animation),n);return{type:1,matchers:kG(t.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Wp(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(r=>za(this,r,n)),options:Wp(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const s=t.steps.map(u=>{n.currentTime=r;const h=za(this,u,n);return i=Math.max(i,n.currentTime),h});return n.currentTime=i,{type:3,steps:s,options:Wp(t.options)}}visitAnimate(t,n){const r=function $G(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return tx(G_(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=tx(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=G_(n,t);return tx(i.duration,i.delay,i.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,s=t.styles?t.styles:yP({});if(5==s.type)i=this.visitKeyframes(s,n);else{let u=t.styles,h=!1;if(!u){h=!0;const E={};r.easing&&(E.easing=r.easing),u=yP(E)}n.currentTime+=r.duration+r.delay;const m=this.visitStyle(u,n);m.isEmptyStep=h,i=m}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of i)"string"==typeof h?h===wd?r.push(h):n.errors.push(new Te(3002,!1)):r.push(IP(h));let s=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let m of h.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:u,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,m)=>{const E=n.collectedStyles.get(n.currentQuerySelector),x=E.get(m);let I=!0;x&&(s!=i&&s>=x.startTime&&i<=x.endTime&&(n.errors.push(function Z9(e,t,n,r,i){return new Te(3010,!1)}()),I=!1),s=x.startTime),I&&E.set(m,{startTime:s,endTime:i}),n.options&&function MG(e,t,n){const r=t.params||{},i=kP(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function z9(e){return new Te(3001,!1)}())})}(h,n.options,n.errors)})})}visitKeyframes(t,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Y9(){return new Te(3011,!1)}()),r;let s=0;const u=[];let h=!1,m=!1,E=0;const x=t.steps.map(Ve=>{const ye=this._makeStyleAst(Ve,n);let it=null!=ye.offset?ye.offset:function VG(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(ye.styles),wt=0;return null!=it&&(s++,wt=ye.offset=it),m=m||wt<0||wt>1,h=h||wt<E,E=wt,u.push(wt),ye});m&&n.errors.push(function Q9(){return new Te(3012,!1)}()),h&&n.errors.push(function X9(){return new Te(3200,!1)}());const I=t.steps.length;let O=0;s>0&&s<I?n.errors.push(function J9(){return new Te(3202,!1)}()):0==s&&(O=1/(I-1));const $=I-1,ee=n.currentTime,ne=n.currentAnimateTimings,ge=ne.duration;return x.forEach((Ve,ye)=>{const it=O>0?ye==$?1:O*ye:u[ye],wt=it*ge;n.currentTime=ee+ne.delay+wt,ne.duration=wt,this._validateStyleAst(Ve,n),Ve.offset=it,r.styles.push(Ve)}),r}visitReference(t,n){return{type:8,animation:za(this,_0(t.animation),n),options:Wp(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Wp(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Wp(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[s,u]=function FG(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(OG,"")),e=e.replace(/@\*/g,j_).replace(/@\w+/g,n=>j_+"-"+n.slice(1)).replace(/:animating/g,YC),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+s:s,$a(n.collectedStyles,n.currentQuerySelector,new Map);const h=za(this,_0(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Wp(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function eG(){return new Te(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:G_(t.timings,n.errors,!0);return{type:12,animation:za(this,_0(t.animation),n),timings:r,options:null}}}class BG{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wp(e){return e?(e=b0(e)).params&&(e.params=function LG(e){return e?b0(e):null}(e.params)):e={},e}function tx(e,t,n){return{duration:e,delay:t,easing:n}}function nx(e,t,n,r,i,s,u=null,h=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:u,subTimeline:h}}class Y_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UG=new RegExp(":enter","g"),GG=new RegExp(":leave","g");function rx(e,t,n,r,i,s=new Map,u=new Map,h,m,E=[]){return(new qG).buildKeyframes(e,t,n,r,i,s,u,h,m,E)}class qG{buildKeyframes(t,n,r,i,s,u,h,m,E,x=[]){E=E||new Y_;const I=new ix(t,n,E,i,s,x,[]);I.options=m;const O=m.delay?Ed(m.delay):0;I.currentTimeline.delayNextStep(O),I.currentTimeline.setStyles([u],null,I.errors,m),za(this,r,I);const $=I.timelines.filter(ee=>ee.containsAnimation());if($.length&&h.size){let ee;for(let ne=$.length-1;ne>=0;ne--){const ge=$[ne];if(ge.element===n){ee=ge;break}}ee&&!ee.allowOnlyTimelineStyles()&&ee.setStyles([h],null,I.errors,m)}return $.length?$.map(ee=>ee.buildKeyframes()):[nx(n,[],[],[],0,O,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),s=n.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);s!=u&&n.transformIntoNewTimeline(u)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(const i of t){const s=i?.delay;if(s){const u="number"==typeof s?s:Ed(w0(s,i?.params??{},n.errors));r.delayNextStep(u)}}}_visitSubInstructions(t,n,r){let s=n.currentTimeline.currentTime;const u=null!=r.duration?Ed(r.duration):null,h=null!=r.delay?Ed(r.delay):null;return 0!==u&&t.forEach(m=>{const E=n.appendInstructionToTimeline(m,u,h);s=Math.max(s,E.duration+E.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),za(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const s=t.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Q_);const u=Ed(s.delay);i.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>za(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ed(t.options.delay):0;t.steps.forEach(u=>{const h=n.createSubContext(t.options);s&&h.delayNextStep(s),za(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>n.currentTimeline.mergeTimelineCollectedStyles(u)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return G_(n.params?w0(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,h=n.createSubContext().currentTimeline;h.easing=r.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*s),h.setStyles(m.styles,m.easing,n.errors,n.options),h.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(h),n.transformIntoNewTimeline(i+s),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},s=i.delay?Ed(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Q_);let u=r;const h=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=h.length;let m=null;h.forEach((E,x)=>{n.currentQueryIndex=x;const I=n.createSubContext(t.options,E);s&&I.delayNextStep(s),E===n.element&&(m=I.currentTimeline),za(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(u),m&&(n.currentTimeline.mergeTimelineCollectedStyles(m),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(n.currentQueryTotal-1);let m=u*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const x=n.currentTimeline;m&&x.delayNextStep(m);const I=x.currentTime;za(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-I+(i.startTime-r.currentTimeline.startTime)}}const Q_={};class ix{constructor(t,n,r,i,s,u,h,m){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Q_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new X_(this._driver,n,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Ed(r.duration)),null!=r.delay&&(i.delay=Ed(r.delay));const s=r.params;if(s){let u=i.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!n||!u.hasOwnProperty(h))&&(u[h]=w0(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,s=new ix(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Q_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new WG(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,s,u){let h=[];if(i&&h.push(this.element),t.length>0){t=(t=t.replace(UG,"."+this._enterClassName)).replace(GG,"."+this._leaveClassName);let E=this._driver.query(this.element,t,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),h.push(...E)}return!s&&0==h.length&&u.push(function tG(e){return new Te(3014,!1)}()),h}}class X_{constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new X_(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||wd),this._currentKeyframe.set(n,wd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},u=function KG(e,t){const n=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)n.set(s,wd)}else Zf(i,n)}),n}(t,this._globalTimelineStyles);for(let[h,m]of u){const E=w0(m,s,r);this._pendingStyles.set(h,E),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??wd),this._updateStyle(h,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,m)=>{const E=Zf(h,new Map,this._backFill);E.forEach((x,I)=>{"!"===x?t.add(I):x===wd&&n.add(I)}),r||E.set("offset",m/this.duration),i.push(E)});const s=t.size?q_(t.values()):[],u=n.size?q_(n.values()):[];if(r){const h=i[0],m=new Map(h);h.set("offset",0),m.set("offset",1),i=[h,m]}return nx(this.element,i,s,u,this.duration,this.startTime,this.easing,!1)}}class WG extends X_{constructor(t,n,r,i,s,u,h=!1){super(t,n,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],u=r+n,h=n/u,m=Zf(t[0]);m.set("offset",0),s.push(m);const E=Zf(t[0]);E.set("offset",FP(h)),s.push(E);const x=t.length-1;for(let I=1;I<=x;I++){let O=Zf(t[I]);const $=O.get("offset");O.set("offset",FP((n+$*r)/u)),s.push(O)}r=u,n=0,i="",t=s}return nx(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function FP(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class ox{}const ZG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YG extends ox{normalizePropertyName(t,n){return JC(t)}normalizeStyleValue(t,n,r,i){let s="";const u=r.toString().trim();if(ZG.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function j9(e,t){return new Te(3005,!1)}())}return u+s}}function LP(e,t,n,r,i,s,u,h,m,E,x,I,O){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:u,timelines:h,queriedElements:m,preStyleProps:E,postStyleProps:x,totalTime:I,errors:O}}const sx={};class BP{constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function QG(e,t,n,r,i){return e.some(s=>s(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,s,u,h,m,E,x){const I=[],O=this.ast.options&&this.ast.options.params||sx,ee=this.buildStyles(r,h&&h.params||sx,I),ne=m&&m.params||sx,ge=this.buildStyles(i,ne,I),Ve=new Set,ye=new Map,it=new Map,wt="void"===i,Ht={params:XG(ne,O),delay:this.ast.options?.delay},Kn=x?[]:rx(t,n,this.ast.animation,s,u,ee,ge,Ht,E,I);let Xn=0;if(Kn.forEach(Oi=>{Xn=Math.max(Oi.duration+Oi.delay,Xn)}),I.length)return LP(n,this._triggerName,r,i,wt,ee,ge,[],[],ye,it,Xn,I);Kn.forEach(Oi=>{const Mo=Oi.element,Yf=$a(ye,Mo,new Set);Oi.preStyleProps.forEach(Ha=>Yf.add(Ha));const su=$a(it,Mo,new Set);Oi.postStyleProps.forEach(Ha=>su.add(Ha)),Mo!==n&&Ve.add(Mo)});const fi=q_(Ve.values());return LP(n,this._triggerName,r,i,wt,ee,ge,Kn,fi,ye,it,Xn)}}function XG(e,t){const n=b0(t);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(n[r]=e[r]);return n}class JG{constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r=new Map,i=b0(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!==u&&(i[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=w0(u,i,n));const m=this.normalizer.normalizePropertyName(h,n);u=this.normalizer.normalizeStyleValue(h,m,u,n),r.set(h,u)})}),r}}class tq{constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new JG(i.style,i.options&&i.options.params||{},r))}),VP(this.states,"true","1"),VP(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new BP(t,i,this.states))}),this.fallbackTransition=function nq(e,t,n){return new BP(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(u=>u.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function VP(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const rq=new Y_;class iq{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const r=[],s=ex(this._driver,n,r,[]);if(r.length)throw function lG(e){return new Te(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,n,r){const i=t.element,s=wP(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],s=this._animations.get(t);let u;const h=new Map;if(s?(u=rx(this._driver,n,s,ZC,H_,new Map,new Map,r,rq,i),u.forEach(x=>{const I=$a(h,x.element,new Map);x.postStyleProps.forEach(O=>I.set(O,null))})):(i.push(function uG(){return new Te(3300,!1)}()),u=[]),i.length)throw function cG(e){return new Te(3504,!1)}();h.forEach((x,I)=>{x.forEach((O,$)=>{x.set($,this._driver.computeStyle(I,$,wd))})});const E=Kf(u.map(x=>{const I=h.get(x.element);return this._buildPlayer(x,new Map,I)}));return this._playersById.set(t,E),E.onDestroy(()=>this.destroy(t)),this.players.push(E),E}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function dG(e){return new Te(3301,!1)}();return n}listen(t,n,r,i){const s=qC(n,"","","");return jC(this._getPlayer(t),r,s,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const $P="ng-animate-queued",ax="ng-animate-disabled",uq=[],zP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ou="__ng_removed";class lx{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function pq(e){return e??null}(r?t.value:t),r){const s=b0(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const E0="void",ux=new lx(E0);class dq{constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bl(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw function fG(e,t){return new Te(3302,!1)}();if(null==r||0==r.length)throw function hG(e){return new Te(3303,!1)}();if(!function gq(e){return"start"==e||"done"==e}(r))throw function pG(e,t){return new Te(3400,!1)}();const s=$a(this._elementListeners,t,[]),u={name:n,phase:r,callback:i};s.push(u);const h=$a(this._engine.statesByElement,t,new Map);return h.has(n)||(bl(t,U_),bl(t,U_+"-"+n),h.set(n,ux)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(u);m>=0&&s.splice(m,1),this._triggers.has(n)||h.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function gG(e){return new Te(3401,!1)}();return n}trigger(t,n,r,i=!0){const s=this._getTrigger(n),u=new cx(this.id,n,t);let h=this._engine.statesByElement.get(t);h||(bl(t,U_),bl(t,U_+"-"+n),this._engine.statesByElement.set(t,h=new Map));let m=h.get(n);const E=new lx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&E.absorbOptions(m.options),h.set(n,E),m||(m=ux),E.value!==E0&&m.value===E.value){if(!function yq(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(m.params,E.params)){const ne=[],ge=s.matchStyles(m.value,m.params,ne),Ve=s.matchStyles(E.value,E.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{qp(t,ge),cc(t,Ve)})}return}const O=$a(this._engine.playersByElement,t,[]);O.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==n&&ne.queued&&ne.destroy()});let $=s.matchTransition(m.value,E.value,t,E.params),ee=!1;if(!$){if(!i)return;$=s.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:$,fromState:m,toState:E,player:u,isFallbackTransition:ee}),ee||(bl(t,$P),u.onStart(()=>{Ym(t,$P)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const ge=this._engine.playersByElement.get(t);if(ge){let Ve=ge.indexOf(u);Ve>=0&&ge.splice(Ve,1)}}),this.players.push(u),O.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,j_,!0);r.forEach(i=>{if(i[ou])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(u=>u.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(s.forEach((m,E)=>{if(u.set(E,m.value),this._triggers.has(E)){const x=this.trigger(t,E,E0,i);x&&h.push(x)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,u),r&&Kf(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(s=>{const u=s.name;if(i.has(u))return;i.add(u);const m=this._triggers.get(u).fallbackTransition,E=r.get(u)||ux,x=new lx(E0),I=new cx(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:E,toState:x,player:I,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let u=t;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const s=t[ou];(!s||s===zP)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){bl(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==r.triggerName){const m=qC(s,r.triggerName,r.fromState.value,r.toState.value);m._data=t,jC(r.player,h.phase,m,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class fq{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new dq(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(n);for(;h;){const m=i.get(h);if(m){const E=r.indexOf(m);r.splice(E+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(t,n,r,i){if(J_(n)){const s=this._fetchNamespace(t);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!J_(n))return;const s=n[ou];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(n);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bl(t,ax)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ym(t,ax))}removeNode(t,n,r){if(J_(n)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,s){this.collectedLeaveElements.push(n),n[ou]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,r,i,s){return J_(n)?this._fetchNamespace(t).listen(n,r,i,s):()=>{}}_buildInstruction(t,n,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,j_,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,YC,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Kf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[ou];if(n&&n.setForRemoval){if(t[ou]=zP,n.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(ax)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)bl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Kf(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function mG(e){return new Te(3402,!1)}()}_flushAnimations(t,n){const r=new Y_,i=[],s=new Map,u=[],h=new Map,m=new Map,E=new Map,x=new Set;this.disabledNodes.forEach(oe=>{x.add(oe);const ae=this.driver.query(oe,".ng-animate-queued",!0);for(let we=0;we<ae.length;we++)x.add(ae[we])});const I=this.bodyNode,O=Array.from(this.statesByElement.keys()),$=jP(O,this.collectedEnterElements),ee=new Map;let ne=0;$.forEach((oe,ae)=>{const we=ZC+ne++;ee.set(ae,we),oe.forEach(et=>bl(et,we))});const ge=[],Ve=new Set,ye=new Set;for(let oe=0;oe<this.collectedLeaveElements.length;oe++){const ae=this.collectedLeaveElements[oe],we=ae[ou];we&&we.setForRemoval&&(ge.push(ae),Ve.add(ae),we.hasAnimation?this.driver.query(ae,".ng-star-inserted",!0).forEach(et=>Ve.add(et)):ye.add(ae))}const it=new Map,wt=jP(O,Array.from(Ve));wt.forEach((oe,ae)=>{const we=H_+ne++;it.set(ae,we),oe.forEach(et=>bl(et,we))}),t.push(()=>{$.forEach((oe,ae)=>{const we=ee.get(ae);oe.forEach(et=>Ym(et,we))}),wt.forEach((oe,ae)=>{const we=it.get(ae);oe.forEach(et=>Ym(et,we))}),ge.forEach(oe=>{this.processLeaveNode(oe)})});const Ht=[],Kn=[];for(let oe=this._namespaceList.length-1;oe>=0;oe--)this._namespaceList[oe].drainQueuedTransitions(n).forEach(we=>{const et=we.player,Kt=we.element;if(Ht.push(et),this.collectedEnterElements.length){const wr=Kt[ou];if(wr&&wr.setForMove){if(wr.previousTriggersValues&&wr.previousTriggersValues.has(we.triggerName)){const Ua=wr.previousTriggersValues.get(we.triggerName),Ni=this.statesByElement.get(we.element);if(Ni&&Ni.has(we.triggerName)){const Kp=Ni.get(we.triggerName);Kp.value=Ua,Ni.set(we.triggerName,Kp)}}return void et.destroy()}}const Nn=!I||!this.driver.containsElement(I,Kt),Bt=it.get(Kt),Yt=ee.get(Kt),un=this._buildInstruction(we,r,Yt,Bt,Nn);if(un.errors&&un.errors.length)return void Kn.push(un);if(Nn)return et.onStart(()=>qp(Kt,un.fromStyles)),et.onDestroy(()=>cc(Kt,un.toStyles)),void i.push(et);if(we.isFallbackTransition)return et.onStart(()=>qp(Kt,un.fromStyles)),et.onDestroy(()=>cc(Kt,un.toStyles)),void i.push(et);const rr=[];un.timelines.forEach(wr=>{wr.stretchStartingKeyframe=!0,this.disabledNodes.has(wr.element)||rr.push(wr)}),un.timelines=rr,r.append(Kt,un.timelines),u.push({instruction:un,player:et,element:Kt}),un.queriedElements.forEach(wr=>$a(h,wr,[]).push(et)),un.preStyleProps.forEach((wr,Ua)=>{if(wr.size){let Ni=m.get(Ua);Ni||m.set(Ua,Ni=new Set),wr.forEach((Kp,ja)=>Ni.add(ja))}}),un.postStyleProps.forEach((wr,Ua)=>{let Ni=E.get(Ua);Ni||E.set(Ua,Ni=new Set),wr.forEach((Kp,ja)=>Ni.add(ja))})});if(Kn.length){const oe=[];Kn.forEach(ae=>{oe.push(function vG(e,t){return new Te(3505,!1)}())}),Ht.forEach(ae=>ae.destroy()),this.reportError(oe)}const Xn=new Map,fi=new Map;u.forEach(oe=>{const ae=oe.element;r.has(ae)&&(fi.set(ae,ae),this._beforeAnimationBuild(oe.player.namespaceId,oe.instruction,Xn))}),i.forEach(oe=>{const ae=oe.element;this._getPreviousPlayers(ae,!1,oe.namespaceId,oe.triggerName,null).forEach(et=>{$a(Xn,ae,[]).push(et),et.destroy()})});const Oi=ge.filter(oe=>qP(oe,m,E)),Mo=new Map;UP(Mo,this.driver,ye,E,wd).forEach(oe=>{qP(oe,m,E)&&Oi.push(oe)});const su=new Map;$.forEach((oe,ae)=>{UP(su,this.driver,new Set(oe),m,"!")}),Oi.forEach(oe=>{const ae=Mo.get(oe),we=su.get(oe);Mo.set(oe,new Map([...ae?.entries()??[],...we?.entries()??[]]))});const Ha=[],Qm=[],Xm={};u.forEach(oe=>{const{element:ae,player:we,instruction:et}=oe;if(r.has(ae)){if(x.has(ae))return we.onDestroy(()=>cc(ae,et.toStyles)),we.disabled=!0,we.overrideTotalTime(et.totalTime),void i.push(we);let Kt=Xm;if(fi.size>1){let Bt=ae;const Yt=[];for(;Bt=Bt.parentNode;){const un=fi.get(Bt);if(un){Kt=un;break}Yt.push(Bt)}Yt.forEach(un=>fi.set(un,Kt))}const Nn=this._buildAnimation(we.namespaceId,et,Xn,s,su,Mo);if(we.setRealPlayer(Nn),Kt===Xm)Ha.push(we);else{const Bt=this.playersByElement.get(Kt);Bt&&Bt.length&&(we.parentPlayer=Kf(Bt)),i.push(we)}}else qp(ae,et.fromStyles),we.onDestroy(()=>cc(ae,et.toStyles)),Qm.push(we),x.has(ae)&&i.push(we)}),Qm.forEach(oe=>{const ae=s.get(oe.element);if(ae&&ae.length){const we=Kf(ae);oe.setRealPlayer(we)}}),i.forEach(oe=>{oe.parentPlayer?oe.syncPlayerEvents(oe.parentPlayer):oe.destroy()});for(let oe=0;oe<ge.length;oe++){const ae=ge[oe],we=ae[ou];if(Ym(ae,H_),we&&we.hasAnimation)continue;let et=[];if(h.size){let Nn=h.get(ae);Nn&&Nn.length&&et.push(...Nn);let Bt=this.driver.query(ae,YC,!0);for(let Yt=0;Yt<Bt.length;Yt++){let un=h.get(Bt[Yt]);un&&un.length&&et.push(...un)}}const Kt=et.filter(Nn=>!Nn.destroyed);Kt.length?mq(this,ae,Kt):this.processLeaveNode(ae)}return ge.length=0,Ha.forEach(oe=>{this.players.push(oe),oe.onDone(()=>{oe.destroy();const ae=this.players.indexOf(oe);this.players.splice(ae,1)}),oe.play()}),Ha}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,s){let u=[];if(n){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const m=!s||s==E0;h.forEach(E=>{E.queued||!m&&E.triggerName!=i||u.push(E)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(t,n,r){const s=n.element,u=n.isRemovalTransition?void 0:t,h=n.isRemovalTransition?void 0:n.triggerName;for(const m of n.timelines){const E=m.element,x=E!==s,I=$a(r,E,[]);this._getPreviousPlayers(E,x,u,h,n.toState).forEach($=>{const ee=$.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),$.destroy(),I.push($)})}qp(s,n.fromStyles)}_buildAnimation(t,n,r,i,s,u){const h=n.triggerName,m=n.element,E=[],x=new Set,I=new Set,O=n.timelines.map(ee=>{const ne=ee.element;x.add(ne);const ge=ne[ou];if(ge&&ge.removedBeforeQueried)return new y0(ee.duration,ee.delay);const Ve=ne!==m,ye=function vq(e){const t=[];return GP(e,t),t}((r.get(ne)||uq).map(Xn=>Xn.getRealPlayer())).filter(Xn=>!!Xn.element&&Xn.element===ne),it=s.get(ne),wt=u.get(ne),Ht=wP(this._normalizer,ee.keyframes,it,wt),Kn=this._buildPlayer(ee,Ht,ye);if(ee.subTimeline&&i&&I.add(ne),Ve){const Xn=new cx(t,h,ne);Xn.setRealPlayer(Kn),E.push(Xn)}return Kn});E.forEach(ee=>{$a(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function hq(e,t,n){let r=e.get(t);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,ee.element,ee))}),x.forEach(ee=>bl(ee,TP));const $=Kf(O);return $.onDestroy(()=>{x.forEach(ee=>Ym(ee,TP)),cc(m,n.toStyles)}),I.forEach(ee=>{$a(i,ee,[]).push($)}),$}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new y0(t.duration,t.delay)}}class cx{constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new y0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>jC(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){$a(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function J_(e){return e&&1===e.nodeType}function HP(e,t){const n=e.style.display;return e.style.display=t??"none",n}function UP(e,t,n,r,i){const s=[];n.forEach(m=>s.push(HP(m)));const u=[];r.forEach((m,E)=>{const x=new Map;m.forEach(I=>{const O=t.computeStyle(E,I,i);x.set(I,O),(!O||0==O.length)&&(E[ou]=cq,u.push(E))}),e.set(E,x)});let h=0;return n.forEach(m=>HP(m,s[h++])),u}function jP(e,t){const n=new Map;if(e.forEach(h=>n.set(h,[])),0==t.length)return n;const i=new Set(t),s=new Map;function u(h){if(!h)return 1;let m=s.get(h);if(m)return m;const E=h.parentNode;return m=n.has(E)?E:i.has(E)?1:u(E),s.set(h,m),m}return t.forEach(h=>{const m=u(h);1!==m&&n.get(m).push(h)}),n}function bl(e,t){e.classList?.add(t)}function Ym(e,t){e.classList?.remove(t)}function mq(e,t,n){Kf(n).onDone(()=>e.processLeaveNode(t))}function GP(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof bP?GP(r.players,t):t.push(r)}}function qP(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(s=>i.add(s)):t.set(e,r),n.delete(e),!0}class ew{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new fq(t,n,r),this._timelineEngine=new iq(t,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,n,r,i,s){const u=t+"-"+i;let h=this._triggerCache[u];if(!h){const m=[],x=ex(this._driver,s,m,[]);if(m.length)throw function sG(e,t){return new Te(3404,!1)}();h=function eq(e,t,n){return new tq(e,t,n)}(i,x,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(n,i,h)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[s,u]=EP(r);this._timelineEngine.command(s,n,u,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,s){if("@"==r.charAt(0)){const[u,h]=EP(r);return this._timelineEngine.listen(u,n,h,s)}return this._transitionEngine.listen(t,n,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Dq=(()=>{class e extends mP{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:Po.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?vP(n):n;return KP(this._renderer,null,r,"register",[i]),new Cq(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Pr),Ke(Vr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();class Cq extends B9{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new xq(this._id,t,n||{},this._renderer)}}class xq{constructor(t,n,r,i){this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return KP(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KP(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const ZP="@.disabled";let Sq=(()=>{class e{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(s);return x||(x=new YP("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,x)),x}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,n);const m=x=>{Array.isArray(x)?x.forEach(m):this.engine.registerTrigger(u,h,n,x.name,x)};return r.data.animation.forEach(m),new Mq(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Pr),Ke(ew),Ke(Rn))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();class YP{constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==ZP?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.delegate.listen(t,n,r)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class Mq extends YP{constructor(t,n,r,i,s){super(n,r,i,s),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==ZP?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r){if("@"==n.charAt(0)){const i=function Tq(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function Iq(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(t,n,r)}}let Aq=(()=>{class e extends ew{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(Vr),Ke(KC),Ke(ox),Ke(Mp))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const QP=[{provide:mP,useClass:Dq},{provide:ox,useFactory:function kq(){return new YG}},{provide:ew,useClass:Aq},{provide:Pr,useFactory:function Rq(e,t,n){return new Sq(e,t,n)},deps:[hD,ew,Rn]}],XP=[{provide:KC,useClass:SP},{provide:Rf,useValue:"NoopAnimations"},...QP];let Oq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e});static#n=this.\u0275inj=qr({providers:XP,imports:[uI]})}return e})(),Nq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ri({type:e,bootstrap:[d4]});static#n=this.\u0275inj=qr({imports:[uI,lH,oD,RH,L9,Oq,F6,W6]})}return e})();S5().bootstrapModule(Nq).catch(e=>console.error(e))},6100:(xe,at,de)=>{"use strict";var pe=de(4430),V=de(7444),Fe=de(5440),Oe=de(7939),Ue=de(9078);function Le(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var ht=Le(pe),St=Le(V),It=Le(Fe),kt=Le(Oe),jn=Le(Ue);function yn(a){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}function Ar(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function vr(a,o){for(var l=0;l<o.length;l++){var c=o[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function Zn(a,o,l){return o&&vr(a.prototype,o),l&&vr(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a}function Fn(a,o,l){return o in a?Object.defineProperty(a,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[o]=l,a}function bn(a,o){return function tt(a){if(Array.isArray(a))return a}(a)||function pt(a,o){var l=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=l){var g,y,c=[],f=!0,p=!1;try{for(l=l.call(a);!(f=(g=l.next()).done)&&(c.push(g.value),!o||c.length!==o);f=!0);}catch(_){p=!0,y=_}finally{try{!f&&null!=l.return&&l.return()}finally{if(p)throw y}}return c}}(a,o)||function Et(a,o){if(a){if("string"==typeof a)return Rt(a,o);var l=Object.prototype.toString.call(a).slice(8,-1);if("Object"===l&&a.constructor&&(l=a.constructor.name),"Map"===l||"Set"===l)return Array.from(a);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Rt(a,o)}}(a,o)||function Ln(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(a,o){(null==o||o>a.length)&&(o=a.length);for(var l=0,c=new Array(o);l<o;l++)c[l]=a[l];return c}var jt=typeof window>"u"?null:window,Mn=jt?jt.navigator:null,fr=yn(""),Zi=yn({}),Yo=yn(function(){}),To=typeof HTMLElement>"u"?"undefined":yn(HTMLElement),Nr=function(o){return o&&o.instanceString&&Gn(o.instanceString)?o.instanceString():null},lt=function(o){return null!=o&&yn(o)==fr},Gn=function(o){return null!=o&&yn(o)===Yo},Pn=function(o){return!Zt(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},Mt=function(o){return null!=o&&yn(o)===Zi&&!Pn(o)&&o.constructor===Object},gt=function(o){return null!=o&&yn(o)===yn(1)&&!isNaN(o)},Io=function(o){if("undefined"!==To)return null!=o&&o instanceof HTMLElement},Zt=function(o){return au(o)||Qf(o)},au=function(o){return"collection"===Nr(o)&&o._private.single},Qf=function(o){return"collection"===Nr(o)&&!o._private.single},ar=function(o){return"core"===Nr(o)},hr=function(o){return"stylesheet"===Nr(o)},sn=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},lu=function(o){return function(o){return null!=o&&yn(o)===Zi}(o)&&Gn(o.then)},uu=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var c=function f(){var y,g=arguments,_=l.apply(this,g),b=f.cache;return(y=b[_])||(y=b[_]=o.apply(this,g)),y};return c.cache={},c},Ao=uu(function(a){return a.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),wl=uu(function(a){return a.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),tv=uu(function(a,o){return a+o[0].toUpperCase()+o.substring(1)},function(a,o){return a+"$"+o}),ia=function(o){return sn(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},Xr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",nv="rgb[a]?\\(("+Xr+"[%]?)\\s*,\\s*("+Xr+"[%]?)\\s*,\\s*("+Xr+"[%]?)(?:\\s*,\\s*("+Xr+"))?\\)",cu="rgb[a]?\\((?:"+Xr+"[%]?)\\s*,\\s*(?:"+Xr+"[%]?)\\s*,\\s*(?:"+Xr+"[%]?)(?:\\s*,\\s*(?:"+Xr+"))?\\)",us="hsl[a]?\\(("+Xr+")\\s*,\\s*("+Xr+"[%])\\s*,\\s*("+Xr+"[%])(?:\\s*,\\s*("+Xr+"))?\\)",El="hsl[a]?\\((?:"+Xr+")\\s*,\\s*(?:"+Xr+"[%])\\s*,\\s*(?:"+Xr+"[%])(?:\\s*,\\s*(?:"+Xr+"))?\\)",Dl=function(o,l){return o<l?-1:o>l?1:0},$t=null!=Object.assign?Object.assign.bind(Object):function(a){for(var o=arguments,l=1;l<o.length;l++){var c=o[l];if(null!=c)for(var f=Object.keys(c),p=0;p<f.length;p++){var g=f[p];a[g]=c[g]}}return a},eh={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Td=function(o){for(var l=o.map,c=o.keys,f=c.length,p=0;p<f;p++){var g=c[p];if(Mt(g))throw Error("Tried to set map with object key");p<c.length-1?(null==l[g]&&(l[g]={}),l=l[g]):l[g]=o.value}},Id=function(o){for(var l=o.map,c=o.keys,f=c.length,p=0;p<f;p++){var g=c[p];if(Mt(g))throw Error("Tried to get map with object key");if(null==(l=l[g]))return l}return l},dc=jt?jt.performance:null,Ad=dc&&dc.now?function(){return dc.now()}:function(){return Date.now()},iv=function(){if(jt){if(jt.requestAnimationFrame)return function(a){jt.requestAnimationFrame(a)};if(jt.mozRequestAnimationFrame)return function(a){jt.mozRequestAnimationFrame(a)};if(jt.webkitRequestAnimationFrame)return function(a){jt.webkitRequestAnimationFrame(a)};if(jt.msRequestAnimationFrame)return function(a){jt.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(Ad())},1e3/60)}}(),kd=function(o){return iv(o)},oa=Ad,Cl=9261,Rd=5381,Pd=function(o){for(var f,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cl;!(f=o.next()).done;)c=65599*c+f.value|0;return c},fu=function(o){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cl)+o|0},hu=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rd;return(l<<5)+l+o|0},sa=function(o){return 2097152*o[0]+o[1]},Od=function(o,l){return[fu(o[0],l[0]),hu(o[1],l[1])]},Ps=function(o,l){var c={value:0,done:!1},f=0,p=o.length;return Pd({next:function(){return f<p?c.value=o.charCodeAt(f++):c.done=!0,c}},l)},rh=function(){return Nd(arguments)},Nd=function(o){for(var l,c=0;c<o.length;c++){var f=o[c];l=0===c?Ps(f):Ps(f,l)}return l},Fi=!0,ov=null!=console.warn,sv=null!=console.trace,ih=Number.MAX_SAFE_INTEGER||9007199254740991,Yp=function(){return!0},fc=function(){return!1},Qp=function(){return 0},oh=function(){},Yn=function(o){throw new Error(o)},Xp=function(o){if(void 0===o)return Fi;Fi=!!o},rn=function(o){Xp()&&(ov?console.warn(o):(console.log(o),sv&&console.trace()))},Jr=function(o){return null==o?o:Pn(o)?o.slice():Mt(o)?function(o){return $t({},o)}(o):o},Jp=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},hc={},Fd=function(){return hc},zr=function(o){var l=Object.keys(o);return function(c){for(var f={},p=0;p<l.length;p++){var g=l[p],y=c?.[g];f[g]=void 0===y?o[g]:y}return f}},Qo=function(o,l,c){for(var f=o.length-1;f>=0&&(o[f]!==l||(o.splice(f,1),!c));f--);},sh=function(o){o.splice(0,o.length)},ko=function(o,l,c){return c&&(l=tv(c,l)),o[l]},aa=function(o,l,c,f){c&&(l=tv(c,l)),o[l]=f},Os=typeof Map<"u"?Map:function(){function a(){Ar(this,a),this._obj={}}return Zn(a,[{key:"set",value:function(l,c){return this._obj[l]=c,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),a}(),ng=function(){function a(o){if(Ar(this,a),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var c=0;c<l.length;c++)this.add(l[c])}}return Zn(a,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var c=this._obj;1!==c[l]&&(c[l]=1,this.size++)}},{key:"delete",value:function(l){var c=this._obj;1===c[l]&&(c[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(c){return l.has(c)})}},{key:"forEach",value:function(l,c){return this.toArray().forEach(l,c)}}]),a}(),gu="undefined"!==(typeof Set>"u"?"undefined":yn(Set))?Set:ng,pc=function(o,l){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&ar(o)){var f=l.group;if(null==f&&(f=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===f:!!l.pannable,active:!1,classes:new gu,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var g=l.renderedPosition,y=o.pan(),_=o.zoom();p.position={x:(g.x-y.x)/_,y:(g.y-y.y)/_}}var b=[];Pn(l.classes)?b=l.classes:lt(l.classes)&&(b=l.classes.split(/\s+/));for(var w=0,C=b.length;w<C;w++){var S=b[w];!S||""===S||p.classes.add(S)}this.createEmitter();var T=l.style||l.css;T&&(rn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(T)),(void 0===c||c)&&this.restore()}else Yn("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Yn("An element must have a core reference and parameters set")},Hr=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(c,f,p){var g;Mt(c)&&!Zt(c)&&(c=(g=c).roots||g.root,f=g.visit,p=g.directed),p=2!==arguments.length||Gn(f)?p:f,f=Gn(f)?f:function(){};for(var P,y=this._private.cy,_=c=lt(c)?this.filter(c):c,b=[],w=[],C={},S={},T={},M=0,R=this.byGroup(),N=R.nodes,F=R.edges,L=0;L<_.length;L++){var H=_[L],Y=H.id();H.isNode()&&(b.unshift(H),o.bfs&&(T[Y]=!0,w.push(H)),S[Y]=0)}for(var X=function(){var ie=o.bfs?b.shift():b.pop(),Q=ie.id();if(o.dfs){if(T[Q])return"continue";T[Q]=!0,w.push(ie)}var Ie,ce=S[Q],se=C[Q],le=null!=se?se.source():null,ve=null!=se?se.target():null,Ce=null==se?void 0:ie.same(le)?ve[0]:le[0];if(!0===(Ie=f(ie,se,Ce,M++,ce)))return P=ie,"break";if(!1===Ie)return"break";for(var _e=ie.connectedEdges().filter(function(be){return(!p||be.source().same(ie))&&F.has(be)}),Ee=0;Ee<_e.length;Ee++){var Ae=_e[Ee],Xe=Ae.connectedNodes().filter(function(be){return!be.same(ie)&&N.has(be)}),We=Xe.id();0!==Xe.length&&!T[We]&&(b.push(Xe=Xe[0]),o.bfs&&(T[We]=!0,w.push(Xe)),C[We]=Ae,S[We]=S[Q]+1)}};0!==b.length;){var U=X();if("continue"!==U&&"break"===U)break}for(var te=y.collection(),j=0;j<w.length;j++){var W=w[j],J=C[W.id()];null!=J&&te.push(J),te.push(W)}return{path:y.collection(te),found:y.collection(P)}}},la={breadthFirstSearch:Hr({bfs:!0}),depthFirstSearch:Hr({dfs:!0})};la.bfs=la.breadthFirstSearch,la.dfs=la.depthFirstSearch;var Yi=zr({root:null,weight:function(o){return 1},directed:!1}),Gt={dijkstra:function(o){if(!Mt(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var se,le,c=Yi(o),f=c.root,g=c.directed,y=this,_=c.weight,b=lt(f)?this.filter(f)[0]:f[0],w={},C={},S={},T=this.byGroup(),M=T.nodes,P=T.edges;P.unmergeBy(function(ce){return ce.isLoop()});for(var R=function(se){return w[se.id()]},F=new St.default(function(ce,se){return R(ce)-R(se)}),L=0;L<M.length;L++){var H=M[L];w[H.id()]=H.same(b)?0:1/0,F.push(H)}for(var Y=function(se,le){for(var Ie,ve=(g?se.edgesTo(le):se.edgesWith(le)).intersect(P),Ce=1/0,_e=0;_e<ve.length;_e++){var Ee=ve[_e],Ae=_(Ee);(Ae<Ce||!Ie)&&(Ce=Ae,Ie=Ee)}return{edge:Ie,dist:Ce}};F.size()>0;){var X=F.pop(),U=R(X),te=X.id();if(S[te]=U,U!==1/0)for(var j=X.neighborhood().intersect(M),W=0;W<j.length;W++){var J=j[W],K=J.id(),ie=Y(X,J),Q=U+ie.dist;Q<R(J)&&(le=Q,w[(se=J).id()]=le,F.updateItem(se),C[K]={node:X,edge:ie.edge})}}return{distanceTo:function(se){var le=lt(se)?M.filter(se)[0]:se[0];return S[le.id()]},pathTo:function(se){var le=lt(se)?M.filter(se)[0]:se[0],ve=[],Ce=le,Ie=Ce.id();if(le.length>0)for(ve.unshift(le);C[Ie];){var _e=C[Ie];ve.unshift(_e.edge),ve.unshift(_e.node),Ie=(Ce=_e.node).id()}return y.spawn(ve)}}}},ah={kruskal:function(o){o=o||function(L){return 1};for(var l=this.byGroup(),c=l.nodes,f=l.edges,p=c.length,g=new Array(p),y=c,_=function(H){for(var Y=0;Y<g.length;Y++)if(g[Y].has(H))return Y},b=0;b<p;b++)g[b]=this.spawn(c[b]);for(var w=f.sort(function(L,H){return o(L)-o(H)}),C=0;C<w.length;C++){var S=w[C],T=S.source()[0],M=S.target()[0],P=_(T),R=_(M),N=g[P],F=g[R];P!==R&&(y.merge(S),N.merge(F),g.splice(R,1))}return y}},mu=zr({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),go={aStar:function(o){var l=this.cy(),c=mu(o),f=c.root,p=c.goal,g=c.heuristic,y=c.directed,_=c.weight;f=l.collection(f)[0],p=l.collection(p)[0];var L,H,b=f.id(),w=p.id(),C={},S={},T={},M=new St.default(function(Ie,_e){return S[Ie.id()]-S[_e.id()]}),P=new gu,R={},N={},F=function(_e,Ee){M.push(_e),P.add(Ee)};F(f,b),C[b]=0,S[b]=g(f);for(var U=0;M.size()>0;){if(H=(L=M.pop()).id(),P.delete(H),U++,H===w){for(var te=[],j=p,W=w,J=N[W];te.unshift(j),null!=J&&te.unshift(J),null!=(j=R[W]);)J=N[W=j.id()];return{found:!0,distance:C[H],path:this.spawn(te),steps:U}}T[H]=!0;for(var K=L._private.edges,ie=0;ie<K.length;ie++){var Q=K[ie];if(this.hasElementWithId(Q.id())&&(!y||Q.data("source")===H)){var ce=Q.source(),se=Q.target(),le=ce.id()!==H?ce:se,ve=le.id();if(this.hasElementWithId(ve)&&!T[ve]){var Ce=C[H]+_(Q);if(!P.has(ve)){C[ve]=Ce,S[ve]=Ce+g(le),F(le,ve),R[ve]=L,N[ve]=Q;continue}Ce<C[ve]&&(C[ve]=Ce,S[ve]=Ce+g(le),R[ve]=L,N[ve]=Q)}}}}return{found:!1,distance:void 0,path:void 0,steps:U}}},rg=zr({weight:function(o){return 1},directed:!1}),ig={floydWarshall:function(o){for(var l=this.cy(),c=rg(o),p=c.directed,g=c.weight,y=this.byGroup(),_=y.nodes,b=y.edges,w=_.length,C=w*w,S=function(Ae){return _.indexOf(Ae)},T=function(Ae){return _[Ae]},M=new Array(C),P=0;P<C;P++){var R=P%w;M[P]=(P-R)/w===R?0:1/0}for(var F=new Array(C),L=new Array(C),H=0;H<b.length;H++){var Y=b[H],X=Y.source()[0],U=Y.target()[0];if(X!==U){var te=S(X),j=S(U),W=te*w+j,J=g(Y);if(M[W]>J&&(M[W]=J,F[W]=j,L[W]=Y),!p){var K=j*w+te;!p&&M[K]>J&&(M[K]=J,F[K]=te,L[K]=Y)}}}for(var ie=0;ie<w;ie++)for(var Q=0;Q<w;Q++)for(var ce=Q*w+ie,se=0;se<w;se++){var le=Q*w+se,ve=ie*w+se;M[ce]+M[ve]<M[le]&&(M[le]=M[ce]+M[ve],F[le]=F[ce])}var Ie=function(Ae){return S(function(Ae){return(lt(Ae)?l.filter(Ae):Ae)[0]}(Ae))};return{distance:function(Ae,Xe){var We=Ie(Ae),be=Ie(Xe);return M[We*w+be]},path:function(Ae,Xe){var We=Ie(Ae),be=Ie(Xe),fe=T(We);if(We===be)return fe.collection();if(null==F[We*w+be])return l.collection();var Ne=l.collection();for(Ne.merge(fe);We!==be;)Ne.merge(L[We*w+(We=F[We*w+be])]),Ne.merge(T(We));return Ne}}}},Jn=zr({weight:function(o){return 1},directed:!1,root:null}),vu={bellmanFord:function(o){var l=this,c=Jn(o),p=c.directed,g=c.root,y=c.weight,_=this,b=this.cy(),w=this.byGroup(),C=w.edges,S=w.nodes,T=S.length,M=new Os,P=!1,R=[];g=b.collection(g)[0],C.unmergeBy(function(At){return At.isLoop()});for(var N=C.length,F=function(Ot){var Vt=M.get(Ot.id());return Vt||(Vt={},M.set(Ot.id(),Vt)),Vt},L=function(Ot){return(lt(Ot)?b.$(Ot):Ot)[0]},X=0;X<T;X++){var U=S[X],te=F(U);te.dist=U.same(g)?0:1/0,te.pred=null,te.edge=null}for(var j=!1,W=function(Ot,Vt,$n,fn,on,zn){var Ze=fn.dist+zn;Ze<on.dist&&!$n.same(fn.edge)&&(on.dist=Ze,on.pred=Ot,on.edge=$n,j=!0)},J=1;J<T;J++){j=!1;for(var K=0;K<N;K++){var ie=C[K],Q=ie.source(),ce=ie.target(),se=y(ie),le=F(Q),ve=F(ce);W(Q,0,ie,le,ve,se),p||W(ce,0,ie,ve,le,se)}if(!j)break}if(j)for(var Ce=[],Ie=0;Ie<N;Ie++){var _e=C[Ie],Ee=_e.source(),Ae=_e.target(),Xe=y(_e),We=F(Ee).dist,be=F(Ae).dist;if(We+Xe<be||!p&&be+Xe<We){if(P||(rn("Graph contains a negative weight cycle for Bellman-Ford"),P=!0),!1===o.findNegativeWeightCycles)break;var fe=[];We+Xe<be&&fe.push(Ee),!p&&be+Xe<We&&fe.push(Ae);for(var Ne=fe.length,ze=0;ze<Ne;ze++){var Qe=fe[ze],Je=[Qe];Je.push(F(Qe).edge);for(var Pt=F(Qe).pred;-1===Je.indexOf(Pt);)Je.push(Pt),Je.push(F(Pt).edge),Pt=F(Pt).pred;for(var Xt=(Je=Je.slice(Je.indexOf(Pt)))[0].id(),ut=0,mt=2;mt<Je.length;mt+=2)Je[mt].id()<Xt&&(Xt=Je[mt].id(),ut=mt);(Je=Je.slice(ut).concat(Je.slice(0,ut))).push(Je[0]);var xt=Je.map(function(At){return At.id()}).join(",");-1===Ce.indexOf(xt)&&(R.push(_.spawn(Je)),Ce.push(xt))}}}return{distanceTo:function(Ot){return F(L(Ot)).dist},pathTo:function(Ot){for(var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,fn=[],on=L(Ot);;){if(null==on)return l.spawn();var zn=F(on),Ze=zn.edge,q=zn.pred;if(fn.unshift(on[0]),on.same(Vt)&&fn.length>0)break;null!=Ze&&fn.unshift(Ze),on=q}return _.spawn(fn)},hasNegativeWeightCycle:P,negativeWeightCycles:R}}},ei=Math.sqrt(2),Ld=function(o,l,c){0===c.length&&Yn("Karger-Stein must be run on a connected (sub)graph");for(var f=c[o],y=l[f[1]],_=l[f[2]],b=c,w=b.length-1;w>=0;w--){var C=b[w],S=C[1],T=C[2];(l[S]===y&&l[T]===_||l[S]===_&&l[T]===y)&&b.splice(w,1)}for(var M=0;M<b.length;M++){var P=b[M];P[1]===_?(b[M]=P.slice(),b[M][1]=y):P[2]===_&&(b[M]=P.slice(),b[M][2]=y)}for(var R=0;R<l.length;R++)l[R]===_&&(l[R]=y);return b},gc=function(o,l,c,f){for(;c>f;){var p=Math.floor(Math.random()*l.length);l=Ld(p,o,l),c--}return l},er={kargerStein:function(){var o=this,l=this.byGroup(),c=l.nodes,f=l.edges;f.unmergeBy(function(ve){return ve.isLoop()});var p=c.length,g=f.length,y=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),_=Math.floor(p/ei);if(!(p<2)){for(var b=[],w=0;w<g;w++){var C=f[w];b.push([w,c.indexOf(C.source()),c.indexOf(C.target())])}for(var S=1/0,T=[],M=new Array(p),P=new Array(p),R=new Array(p),N=function(Ce,Ie){for(var _e=0;_e<p;_e++)Ie[_e]=Ce[_e]},F=0;F<=y;F++){for(var L=0;L<p;L++)P[L]=L;var H=gc(P,b.slice(),p,_),Y=H.slice();N(P,R);var X=gc(P,H,_,2),U=gc(R,Y,_,2);X.length<=U.length&&X.length<S?(S=X.length,T=X,N(P,M)):U.length<=X.length&&U.length<S&&(S=U.length,T=U,N(R,M))}for(var te=this.spawn(T.map(function(ve){return f[ve[0]]})),j=this.spawn(),W=this.spawn(),J=M[0],K=0;K<M.length;K++){var Q=c[K];M[K]===J?j.merge(Q):W.merge(Q)}var ce=function(Ce){var Ie=o.spawn();return Ce.forEach(function(_e){Ie.merge(_e),_e.connectedEdges().forEach(function(Ee){o.contains(Ee)&&!te.contains(Ee)&&Ie.merge(Ee)})}),Ie},se=[ce(j),ce(W)];return{cut:te,components:se,partition1:j,partition2:W}}Yn("At least 2 nodes are required for Karger-Stein algorithm")}},xl=function(o,l,c){return{x:o.x*l+c.x,y:o.y*l+c.y}},mc=function(o,l,c){return{x:(o.x-c.x)/l,y:(o.y-c.y)/l}},vc=function(o){return{x:o[0],y:o[1]}},Bd=function(o,l){return Math.atan2(l,o)-Math.PI/2},og=Math.log2||function(a){return Math.log(a)/Math.log(2)},uh=function(o){return o>0?1:o<0?-1:0},ua=function(o,l){return Math.sqrt(ti(o,l))},ti=function(o,l){var c=l.x-o.x,f=l.y-o.y;return c*c+f*f},C0=function(o){for(var l=o.length,c=0,f=0;f<l;f++)c+=o[f];for(var p=0;p<l;p++)o[p]=o[p]/c;return o},hi=function(o,l,c,f){return(1-f)*(1-f)*o+2*(1-f)*f*l+f*f*c},Sl=function(o,l,c,f){return{x:hi(o.x,l.x,c.x,f),y:hi(o.y,l.y,c.y,f)}},Vd=function(o,l,c){return Math.max(o,Math.min(c,l))},Ro=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},yr=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},lv=function(o,l,c){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,c),o.y2=Math.max(o.y2,c),o.h=o.y2-o.y1},ch=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Qi=function(o){var c,f,p,g,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)c=f=p=g=l[0];else if(2===l.length)c=p=l[0],g=f=l[1];else if(4===l.length){var y=bn(l,4);c=y[0],f=y[1],p=y[2],g=y[3]}return o.x1-=g,o.x2+=f,o.y1-=c,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Qt=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},sg=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},bc=function(o,l,c){return o.x1<=l&&l<=o.x2&&o.y1<=c&&c<=o.y2},uv=function(o,l){return bc(o,l.x,l.y)},Ct=function(o,l){return bc(o,l.x1,l.y1)&&bc(o,l.x2,l.y2)},Ei=function(o,l,c,f,p,g,y){var M,ce,_=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",b="auto"===_?ca(p,g):_,w=p/2,C=g/2,S=(b=Math.min(b,w,C))!==w,T=b!==C;if(S){var R=f-C-y;if((M=Wa(o,l,c,f,c-w+b-y,R,c+w-b+y,R,!1)).length>0)return M}if(T){var L=c+w+y;if((M=Wa(o,l,c,f,L,f-C+b-y,L,f+C-b+y,!1)).length>0)return M}if(S){var te=f+C+y;if((M=Wa(o,l,c,f,c-w+b-y,te,c+w-b+y,te,!1)).length>0)return M}if(T){var J=c-w-y;if((M=Wa(o,l,c,f,J,f-C+b-y,J,f+C-b+y,!1)).length>0)return M}var se=c-w+b,le=f-C+b;if((ce=ir(o,l,c,f,se,le,b+y)).length>0&&ce[0]<=se&&ce[1]<=le)return[ce[0],ce[1]];var ve=c+w-b,Ce=f-C+b;if((ce=ir(o,l,c,f,ve,Ce,b+y)).length>0&&ce[0]>=ve&&ce[1]<=Ce)return[ce[0],ce[1]];var Ie=c+w-b,_e=f+C-b;if((ce=ir(o,l,c,f,Ie,_e,b+y)).length>0&&ce[0]>=Ie&&ce[1]>=_e)return[ce[0],ce[1]];var Ee=c-w+b,Ae=f+C-b;return(ce=ir(o,l,c,f,Ee,Ae,b+y)).length>0&&ce[0]<=Ee&&ce[1]>=Ae?[ce[0],ce[1]]:[]},qr=function(o,l,c,f,p,g,y){var _=y,b=Math.min(c,p),w=Math.max(c,p),C=Math.min(f,g),S=Math.max(f,g);return b-_<=o&&o<=w+_&&C-_<=l&&l<=S+_},Ga=function(o,l,c,f,p,g,y,_,b){var w_x1=Math.min(c,y,p)-b,w_x2=Math.max(c,y,p)+b,w_y1=Math.min(f,_,g)-b,w_y2=Math.max(f,_,g)+b;return!(o<w_x1||o>w_x2||l<w_y1||l>w_y2)},Xo=function(o,l,c,f,p,g,y,_){var T=[];!function(o,l,c,f,p){var y,_,b,w,C,S,T,M;0===o&&(o=1e-5),b=-27*(f/=o)+(l/=o)*(9*(c/=o)-l*l*2),y=(_=(3*c-l*l)/9)*_*_+(b/=54)*b,p[1]=0,T=l/3,y>0?(C=(C=b+Math.sqrt(y))<0?-Math.pow(-C,1/3):Math.pow(C,1/3),S=(S=b-Math.sqrt(y))<0?-Math.pow(-S,1/3):Math.pow(S,1/3),p[0]=-T+C+S,p[4]=p[2]=-(T+=(C+S)/2),T=Math.sqrt(3)*(-S+C)/2,p[3]=T,p[5]=-T):(p[5]=p[3]=0,0===y?(M=b<0?-Math.pow(-b,1/3):Math.pow(b,1/3),p[0]=2*M-T,p[4]=p[2]=-(M+T)):(w=(_=-_)*_*_,w=Math.acos(b/Math.sqrt(w)),M=2*Math.sqrt(_),p[0]=-T+M*Math.cos(w/3),p[2]=-T+M*Math.cos((w+2*Math.PI)/3),p[4]=-T+M*Math.cos((w+4*Math.PI)/3)))}(1*c*c-4*c*p+2*c*y+4*p*p-4*p*y+y*y+f*f-4*f*g+2*f*_+4*g*g-4*g*_+_*_,9*c*p-3*c*c-3*c*y-6*p*p+3*p*y+9*f*g-3*f*f-3*f*_-6*g*g+3*g*_,3*c*c-6*c*p+c*y-c*o+2*p*p+2*p*o-y*o+3*f*f-6*f*g+f*_-f*l+2*g*g+2*g*l-_*l,1*c*p-c*c+c*o-p*o+f*g-f*f+f*l-g*l,T);for(var P=[],R=0;R<6;R+=2)Math.abs(T[R+1])<1e-7&&T[R]>=0&&T[R]<=1&&P.push(T[R]);P.push(1),P.push(0);for(var F,L,H,N=-1,Y=0;Y<P.length;Y++)F=Math.pow(1-P[Y],2)*c+2*(1-P[Y])*P[Y]*p+P[Y]*P[Y]*y,L=Math.pow(1-P[Y],2)*f+2*(1-P[Y])*P[Y]*g+P[Y]*P[Y]*_,H=Math.pow(F-o,2)+Math.pow(L-l,2),N>=0?H<N&&(N=H):N=H;return N},_c=function(o,l,c,f,p,g){var y=[o-c,l-f],_=[p-c,g-f],b=_[0]*_[0]+_[1]*_[1],w=y[0]*y[0]+y[1]*y[1],C=y[0]*_[0]+y[1]*_[1],S=C*C/b;return C<0?w:S>b?(o-p)*(o-p)+(l-g)*(l-g):w-S},pi=function(o,l,c){for(var f,p,g,y,b=0,w=0;w<c.length/2;w++)if(p=c[2*w+1],w+1<c.length/2?(g=c[2*(w+1)],y=c[2*(w+1)+1]):(g=c[2*(w+1-c.length/2)],y=c[2*(w+1-c.length/2)+1]),(f=c[2*w])!=o||g!=o){if(!(f>=o&&o>=g||f<=o&&o<=g))continue;(o-f)/(g-f)*(y-p)+p>l&&b++}return b%2!=0},Jo=function(o,l,c,f,p,g,y,_,b){var C,P,w=new Array(c.length);null!=_[0]?(C=Math.atan(_[1]/_[0]),_[0]<0?C+=Math.PI/2:C=-C-Math.PI/2):C=_;for(var S=Math.cos(-C),T=Math.sin(-C),M=0;M<w.length/2;M++)w[2*M]=g/2*(c[2*M]*S-c[2*M+1]*T),w[2*M+1]=y/2*(c[2*M+1]*S+c[2*M]*T),w[2*M]+=f,w[2*M+1]+=p;if(b>0){var R=vn(w,-b);P=wc(R)}else P=w;return pi(o,l,P)},wc=function(o){for(var y,_,b,w,l=new Array(o.length/2),C=0;C<o.length/4;C++){C<o.length/4-1?(y=o[4*(C+1)],_=o[4*(C+1)+1],b=o[4*(C+1)+2],w=o[4*(C+1)+3]):(y=o[0],_=o[1],b=o[2],w=o[3]);var S=Wa(o[4*C],o[4*C+1],o[4*C+2],o[4*C+3],y,_,b,w,!0);l[2*C]=S[0],l[2*C+1]=S[1]}return l},vn=function(o,l){for(var f,p,g,y,c=new Array(2*o.length),_=0;_<o.length/2;_++){_<o.length/2-1?(g=o[2*(_+1)],y=o[2*(_+1)+1]):(g=o[0],y=o[1]);var b=y-(p=o[2*_+1]),w=-(g-(f=o[2*_])),C=Math.sqrt(b*b+w*w),S=b/C,T=w/C;c[4*_]=f+S*l,c[4*_+1]=p+T*l,c[4*_+2]=g+S*l,c[4*_+3]=y+T*l}return c},qa=function(o,l,c,f,p,g,y){return o-=p,l-=g,(o/=c/2+y)*o+(l/=f/2+y)*l<=1},ir=function(o,l,c,f,p,g,y){var _=[c-o,f-l],b=[o-p,l-g],w=_[0]*_[0]+_[1]*_[1],C=2*(b[0]*_[0]+b[1]*_[1]),T=C*C-4*w*(b[0]*b[0]+b[1]*b[1]-y*y);if(T<0)return[];var M=(-C+Math.sqrt(T))/(2*w),P=(-C-Math.sqrt(T))/(2*w),R=Math.min(M,P),N=Math.max(M,P),F=[];if(R>=0&&R<=1&&F.push(R),N>=0&&N<=1&&F.push(N),0===F.length)return[];var L=F[0]*_[0]+o,H=F[0]*_[1]+l;return F.length>1?F[0]==F[1]?[L,H]:[L,H,F[1]*_[0]+o,F[1]*_[1]+l]:[L,H]},zd=function(o,l,c){return l<=o&&o<=c||c<=o&&o<=l?o:o<=l&&l<=c||c<=l&&l<=o?l:c},Wa=function(o,l,c,f,p,g,y,_,b){var w=o-p,C=c-o,S=y-p,T=l-g,M=f-l,P=_-g,R=S*T-P*w,N=C*T-M*w,F=P*C-S*M;if(0!==F){var L=R/F,H=N/F,X=-.001;return X<=L&&L<=1.001&&X<=H&&H<=1.001||b?[o+L*C,l+L*M]:[]}return 0===R||0===N?zd(o,c,y)===y?[y,_]:zd(o,c,p)===p?[p,g]:zd(p,y,c)===c?[c,f]:[]:[]},Tn=function(o,l,c,f,p,g,y,_){var w,T,b=[],C=new Array(c.length),S=!0;if(null==g&&(S=!1),S){for(var M=0;M<C.length/2;M++)C[2*M]=c[2*M]*g+f,C[2*M+1]=c[2*M+1]*y+p;if(_>0){var P=vn(C,-_);T=wc(P)}else T=C}else T=c;for(var F,L,H=0;H<T.length/2;H++)H<T.length/2-1?(F=T[2*(H+1)],L=T[2*(H+1)+1]):(F=T[0],L=T[1]),0!==(w=Wa(o,l,f,p,T[2*H],T[2*H+1],F,L)).length&&b.push(w[0],w[1]);return b},Ec=function(o,l,c){var f=[o[0]-l[0],o[1]-l[1]],p=Math.sqrt(f[0]*f[0]+f[1]*f[1]),g=(p-c)/p;return g<0&&(g=1e-5),[l[0]+g*f[0],l[1]+g*f[1]]},_n=function(o,l){var c=yu(o,l);return cs(c)},cs=function(o){for(var l,c,f=o.length/2,p=1/0,g=1/0,y=-1/0,_=-1/0,b=0;b<f;b++)l=o[2*b],c=o[2*b+1],p=Math.min(p,l),y=Math.max(y,l),g=Math.min(g,c),_=Math.max(_,c);for(var w=2/(y-p),C=2/(_-g),S=0;S<f;S++)l=o[2*S]=o[2*S]*w,c=o[2*S+1]=o[2*S+1]*C,p=Math.min(p,l),y=Math.max(y,l),g=Math.min(g,c),_=Math.max(_,c);if(g<-1)for(var T=0;T<f;T++)c=o[2*T+1]=o[2*T+1]+(-1-g);return o},yu=function(o,l){var c=1/o*2*Math.PI,f=o%2==0?Math.PI/2+c/2:Math.PI/2;f+=l;for(var g,p=new Array(2*o),y=0;y<o;y++)g=y*c+f,p[2*y]=Math.cos(g),p[2*y+1]=Math.sin(-g);return p},ca=function(o,l){return Math.min(o/4,l/4,8)},Hd=function(o,l){return Math.min(o/10,l/10,8)},lg=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},cv=zr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),hh={pageRank:function(o){for(var l=cv(o),c=l.dampingFactor,f=l.precision,p=l.iterations,g=l.weight,y=this._private.cy,_=this.byGroup(),b=_.nodes,w=_.edges,C=b.length,T=w.length,M=new Array(C*C),P=new Array(C),R=(1-c)/C,N=0;N<C;N++){for(var F=0;F<C;F++)M[N*C+F]=0;P[N]=0}for(var H=0;H<T;H++){var Y=w[H],X=Y.data("source"),U=Y.data("target");if(X!==U){var te=b.indexOfId(X),j=b.indexOfId(U),W=g(Y);M[j*C+te]+=W,P[te]+=W}}for(var K=1/C+R,ie=0;ie<C;ie++)if(0===P[ie])for(var Q=0;Q<C;Q++)M[Q*C+ie]=K;else for(var se=0;se<C;se++){var le=se*C+ie;M[le]=M[le]/P[ie]+R}for(var Ie,ve=new Array(C),Ce=new Array(C),_e=0;_e<C;_e++)ve[_e]=1;for(var Ee=0;Ee<p;Ee++){for(var Ae=0;Ae<C;Ae++)Ce[Ae]=0;for(var Xe=0;Xe<C;Xe++)for(var We=0;We<C;We++)Ce[Xe]+=M[Xe*C+We]*ve[We];C0(Ce),Ie=ve,ve=Ce,Ce=Ie;for(var fe=0,Ne=0;Ne<C;Ne++){var ze=Ie[Ne]-ve[Ne];fe+=ze*ze}if(fe<f)break}return{rank:function(Pt){return Pt=y.collection(Pt)[0],ve[b.indexOf(Pt)]}}}},bu=zr({root:null,weight:function(o){return 1},directed:!1,alpha:0}),Ns={degreeCentralityNormalized:function(o){o=bu(o);var l=this.cy(),c=this.nodes(),f=c.length;if(o.directed){for(var w={},C={},S=0,T=0,M=0;M<f;M++){var P=c[M],R=P.id();o.root=P;var N=this.degreeCentrality(o);S<N.indegree&&(S=N.indegree),T<N.outdegree&&(T=N.outdegree),w[R]=N.indegree,C[R]=N.outdegree}return{indegree:function(L){return 0==S?0:(lt(L)&&(L=l.filter(L)),w[L.id()]/S)},outdegree:function(L){return 0===T?0:(lt(L)&&(L=l.filter(L)),C[L.id()]/T)}}}for(var p={},g=0,y=0;y<f;y++){var _=c[y];o.root=_;var b=this.degreeCentrality(o);g<b.degree&&(g=b.degree),p[_.id()]=b.degree}return{degree:function(L){return 0===g?0:(lt(L)&&(L=l.filter(L)),p[L.id()]/g)}}},degreeCentrality:function(o){o=bu(o);var l=this.cy(),c=this,p=o.root,g=o.weight,y=o.directed,_=o.alpha;if(p=l.collection(p)[0],y){for(var T=p.connectedEdges(),M=T.filter(function(X){return X.target().same(p)&&c.has(X)}),P=T.filter(function(X){return X.source().same(p)&&c.has(X)}),R=M.length,N=P.length,F=0,L=0,H=0;H<M.length;H++)F+=g(M[H]);for(var Y=0;Y<P.length;Y++)L+=g(P[Y]);return{indegree:Math.pow(R,1-_)*Math.pow(F,_),outdegree:Math.pow(N,1-_)*Math.pow(L,_)}}for(var b=p.connectedEdges().intersection(c),w=b.length,C=0,S=0;S<b.length;S++)C+=g(b[S]);return{degree:Math.pow(w,1-_)*Math.pow(C,_)}}};Ns.dc=Ns.degreeCentrality,Ns.dcn=Ns.degreeCentralityNormalised=Ns.degreeCentralityNormalized;var Cc=zr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Fs={closenessCentralityNormalized:function(o){for(var l=Cc(o),c=l.harmonic,f=l.weight,p=l.directed,g=this.cy(),y={},_=0,b=this.nodes(),w=this.floydWarshall({weight:f,directed:p}),C=0;C<b.length;C++){for(var S=0,T=b[C],M=0;M<b.length;M++)if(C!==M){var P=w.distance(T,b[M]);S+=c?1/P:P}c||(S=1/S),_<S&&(_=S),y[T.id()]=S}return{closeness:function(N){return 0==_?0:(N=lt(N)?g.filter(N)[0].id():N.id(),y[N]/_)}}},closenessCentrality:function(o){var l=Cc(o),c=l.root,f=l.weight,p=l.directed,g=l.harmonic;c=this.filter(c)[0];for(var y=this.dijkstra({root:c,weight:f,directed:p}),_=0,b=this.nodes(),w=0;w<b.length;w++){var C=b[w];if(!C.same(c)){var S=y.distanceTo(C);_+=g?1/S:S}}return g?_:1/_}};Fs.cc=Fs.closenessCentrality,Fs.ccn=Fs.closenessCentralityNormalised=Fs.closenessCentralityNormalized;var ph=zr({weight:null,directed:!1}),xc={betweennessCentrality:function(o){for(var l=ph(o),c=l.directed,f=l.weight,p=null!=f,g=this.cy(),y=this.nodes(),_={},b={},w=0,C={set:function(L,H){b[L]=H,H>w&&(w=H)},get:function(L){return b[L]}},S=0;S<y.length;S++){var T=y[S],M=T.id();_[M]=c?T.outgoers().nodes():T.openNeighborhood().nodes(),C.set(M,0)}for(var P=function(L){for(var H=y[L].id(),Y=[],X={},U={},te={},j=new St.default(function(We,be){return te[We]-te[be]}),W=0;W<y.length;W++){var J=y[W].id();X[J]=[],U[J]=0,te[J]=1/0}for(U[H]=1,te[H]=0,j.push(H);!j.empty();){var K=j.pop();if(Y.push(K),p)for(var ie=0;ie<_[K].length;ie++){var se,Q=_[K][ie],ce=g.getElementById(K);se=ce.edgesTo(Q).length>0?ce.edgesTo(Q)[0]:Q.edgesTo(ce)[0];var le=f(se);Q=Q.id(),te[Q]>te[K]+le&&(te[Q]=te[K]+le,j.nodes.indexOf(Q)<0?j.push(Q):j.updateItem(Q),U[Q]=0,X[Q]=[]),te[Q]==te[K]+le&&(U[Q]=U[Q]+U[K],X[Q].push(K))}else for(var ve=0;ve<_[K].length;ve++){var Ce=_[K][ve].id();te[Ce]==1/0&&(j.push(Ce),te[Ce]=te[K]+1),te[Ce]==te[K]+1&&(U[Ce]=U[Ce]+U[K],X[Ce].push(K))}}for(var Ie={},_e=0;_e<y.length;_e++)Ie[y[_e].id()]=0;for(;Y.length>0;){for(var Ee=Y.pop(),Ae=0;Ae<X[Ee].length;Ae++){var Xe=X[Ee][Ae];Ie[Xe]=Ie[Xe]+U[Xe]/U[Ee]*(1+Ie[Ee])}Ee!=y[L].id()&&C.set(Ee,C.get(Ee)+Ie[Ee])}},R=0;R<y.length;R++)P(R);var N={betweenness:function(L){var H=g.collection(L).id();return C.get(H)},betweennessNormalized:function(L){if(0==w)return 0;var H=g.collection(L).id();return C.get(H)/w}};return N.betweennessNormalised=N.betweennessNormalized,N}};xc.bc=xc.betweennessCentrality;var ug=zr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(a){return 1}]}),Ka=function(o,l){for(var c=0,f=0;f<l.length;f++)c+=l[f](o);return c},da=function(o,l){for(var c,f=0;f<l;f++){c=0;for(var p=0;p<l;p++)c+=o[p*l+f];for(var g=0;g<l;g++)o[g*l+f]=o[g*l+f]/c}},dg=function(o,l,c){for(var f=new Array(c*c),p=0;p<c;p++){for(var g=0;g<c;g++)f[p*c+g]=0;for(var y=0;y<c;y++)for(var _=0;_<c;_++)f[p*c+_]+=o[p*c+y]*l[y*c+_]}return f},Ke=function(o,l,c){for(var f=o.slice(0),p=1;p<c;p++)o=dg(o,f,l);return o},Ud=function(o,l,c){for(var f=new Array(l*l),p=0;p<l*l;p++)f[p]=Math.pow(o[p],c);return da(f,l),f},ct=function(o,l,c,f){for(var p=0;p<c;p++)if(Math.round(o[p]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(l[p]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},jd=function(o,l){for(var c=0;c<o.length;c++)if(!l[c]||o[c].id()!==l[c].id())return!1;return!0},fg=function(o){for(var l=this.nodes(),c=this.edges(),f=this.cy(),p=function(o){return ug(o)}(o),g={},y=0;y<l.length;y++)g[l[y].id()]=y;for(var C,_=l.length,b=_*_,w=new Array(b),S=0;S<b;S++)w[S]=0;for(var T=0;T<c.length;T++){var M=c[T],P=g[M.source().id()],R=g[M.target().id()],N=Ka(M,p.attributes);w[P*_+R]+=N,w[R*_+P]+=N}(function(o,l,c){for(var f=0;f<l;f++)o[f*l+f]=c})(w,_,p.multFactor),da(w,_);for(var F=!0,L=0;F&&L<p.maxIterations;)F=!1,C=Ke(w,_,p.expandFactor),w=Ud(C,_,p.inflateFactor),ct(w,C,b,4)||(F=!0),L++;var H=function(o,l,c,f){for(var p=[],g=0;g<l;g++){for(var y=[],_=0;_<l;_++)Math.round(1e3*o[g*l+_])/1e3>0&&y.push(c[_]);0!==y.length&&p.push(f.collection(y))}return p}(w,_,l,f);return H=function(o){for(var l=0;l<o.length;l++)for(var c=0;c<o.length;c++)l!=c&&jd(o[l],o[c])&&o.splice(c,1);return o}(H),H},dv={markovClustering:fg,mcl:fg},fv=function(o){return o},Ls=function(o,l){return Math.abs(l-o)},Bs=function(o,l,c){return o+Ls(l,c)},Po=function(o,l,c){return o+Math.pow(c-l,2)},Vs=function(o){return Math.sqrt(o)},On=function(o,l,c){return Math.max(o,Ls(l,c))},fa=function(o,l,c,f,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fv,y=f,w=0;w<o;w++)y=p(y,l(w),c(w));return g(y)},Ji={euclidean:function(o,l,c){return o>=2?fa(o,l,c,0,Po,Vs):fa(o,l,c,0,Bs)},squaredEuclidean:function(o,l,c){return fa(o,l,c,0,Po)},manhattan:function(o,l,c){return fa(o,l,c,0,Bs)},max:function(o,l,c){return fa(o,l,c,-1/0,On)}};function ha(a,o,l,c,f,p){var g;return g=Gn(a)?a:Ji[a]||Ji.euclidean,0===o&&Gn(a)?g(f,p):g(o,l,c,f,p)}Ji["squared-euclidean"]=Ji.squaredEuclidean,Ji.squaredeuclidean=Ji.squaredEuclidean;var hg=zr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ds=function(o){return hg(o)},Za=function(o,l,c,f,p){var y="kMedoids"!==p?function(C){return c[C]}:function(C){return f[C](c)};return ha(o,f.length,y,function(S){return f[S](l)},c,l)},pa=function(o,l,c){for(var f=c.length,p=new Array(f),g=new Array(f),y=new Array(l),_=null,b=0;b<f;b++)p[b]=o.min(c[b]).value,g[b]=o.max(c[b]).value;for(var w=0;w<l;w++){_=[];for(var C=0;C<f;C++)_[C]=Math.random()*(g[C]-p[C])+p[C];y[w]=_}return y},Oo=function(o,l,c,f,p){for(var g=1/0,y=0,_=0;_<l.length;_++){var b=Za(c,o,l[_],f,p);b<g&&(g=b,y=_)}return y},Tc=function(o,l,c){for(var f=[],p=null,g=0;g<l.length;g++)c[(p=l[g]).id()]===o&&f.push(p);return f},pg=function(o,l,c){return Math.abs(l-o)<=c},gg=function(o,l,c){for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length;p++)if(Math.abs(o[f][p]-l[f][p])>c)return!1;return!0},Ic=function(o,l,c){for(var f=0;f<c;f++)if(o===l[f])return!0;return!1},mh=function(o,l){var c=new Array(l);if(o.length<50)for(var f=0;f<l;f++){for(var p=o[Math.floor(Math.random()*o.length)];Ic(p,c,f);)p=o[Math.floor(Math.random()*o.length)];c[f]=p}else for(var g=0;g<l;g++)c[g]=o[Math.floor(Math.random()*o.length)];return c},vh=function(o,l,c){for(var f=0,p=0;p<l.length;p++)f+=Za("manhattan",l[p],o,c,"kMedoids");return f},$e=function(o,l,c,f,p){for(var g,y,_=0;_<l.length;_++)for(var b=0;b<o.length;b++)f[_][b]=Math.pow(c[_][b],p.m);for(var w=0;w<o.length;w++)for(var C=0;C<p.attributes.length;C++){g=0,y=0;for(var S=0;S<l.length;S++)g+=f[S][w]*p.attributes[C](l[S]),y+=f[S][w];o[w][C]=g/y}},Se=function(o,l,c,f,p){for(var g=0;g<o.length;g++)l[g]=o[g].slice();for(var y,_,b,w=2/(p.m-1),C=0;C<c.length;C++)for(var S=0;S<f.length;S++){y=0;for(var T=0;T<c.length;T++)_=Za(p.distance,f[S],c[C],p.attributes,"cmeans"),b=Za(p.distance,f[S],c[T],p.attributes,"cmeans"),y+=Math.pow(_/b,w);o[S][C]=1/y}},cn=function(o){var p,g,y,_,b,l=this.cy(),c=this.nodes(),f=ds(o);_=new Array(c.length);for(var w=0;w<c.length;w++)_[w]=new Array(f.k);y=new Array(c.length);for(var C=0;C<c.length;C++)y[C]=new Array(f.k);for(var S=0;S<c.length;S++){for(var T=0,M=0;M<f.k;M++)y[S][M]=Math.random(),T+=y[S][M];for(var P=0;P<f.k;P++)y[S][P]=y[S][P]/T}g=new Array(f.k);for(var R=0;R<f.k;R++)g[R]=new Array(f.attributes.length);b=new Array(c.length);for(var N=0;N<c.length;N++)b[N]=new Array(f.k);for(var F=!0,L=0;F&&L<f.maxIterations;)F=!1,$e(g,c,y,b,f),Se(y,_,g,c,f),gg(y,_,f.sensitivityThreshold)||(F=!0),L++;return p=function(o,l,c,f){for(var p=new Array(c.k),g=0;g<p.length;g++)p[g]=[];for(var y,_,b=0;b<l.length;b++){y=-1/0,_=-1;for(var w=0;w<l[0].length;w++)l[b][w]>y&&(y=l[b][w],_=w);p[_].push(o[b])}for(var C=0;C<p.length;C++)p[C]=f.collection(p[C]);return p}(c,y,f,l),{clusters:p,degreeOfMembership:y}},qn={kMeans:function(o){var _,l=this.cy(),c=this.nodes(),f=null,p=ds(o),g=new Array(p.k),y={};_=p.testMode?"number"==typeof p.testCentroids?pa(c,p.k,p.attributes):"object"===yn(p.testCentroids)?p.testCentroids:pa(c,p.k,p.attributes):pa(c,p.k,p.attributes);for(var b=!0,w=0;b&&w<p.maxIterations;){for(var C=0;C<c.length;C++)y[(f=c[C]).id()]=Oo(f,_,p.distance,p.attributes,"kMeans");b=!1;for(var S=0;S<p.k;S++){var T=Tc(S,c,y);if(0!==T.length){for(var M=p.attributes.length,P=_[S],R=new Array(M),N=new Array(M),F=0;F<M;F++){N[F]=0;for(var L=0;L<T.length;L++)N[F]+=p.attributes[F](f=T[L]);R[F]=N[F]/T.length,pg(R[F],P[F],p.sensitivityThreshold)||(b=!0)}_[S]=R,g[S]=l.collection(T)}}w++}return g},kMedoids:function(o){var y,b,l=this.cy(),c=this.nodes(),f=null,p=ds(o),g=new Array(p.k),_={},w=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(y="object"===yn(p.testCentroids)?p.testCentroids:mh(c,p.k)):y=mh(c,p.k);for(var C=!0,S=0;C&&S<p.maxIterations;){for(var T=0;T<c.length;T++)_[(f=c[T]).id()]=Oo(f,y,p.distance,p.attributes,"kMedoids");C=!1;for(var M=0;M<y.length;M++){var P=Tc(M,c,_);if(0!==P.length){w[M]=vh(y[M],P,p.attributes);for(var R=0;R<P.length;R++)(b=vh(P[R],P,p.attributes))<w[M]&&(w[M]=b,y[M]=P[R],C=!0);g[M]=l.collection(P)}}S++}return g},fuzzyCMeans:cn,fcm:cn},ni=zr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),pr={single:"min",complete:"max"},mg=function(o,l,c,f,p){for(var _,g=0,y=1/0,b=p.attributes,w=function(j,W){return ha(p.distance,b.length,function(J){return b[J](j)},function(J){return b[J](W)},j,W)},C=0;C<o.length;C++){var S=o[C].key,T=c[S][f[S]];T<y&&(g=S,y=T)}if("threshold"===p.mode&&y>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var R,M=l[g],P=l[f[g]];R="dendrogram"===p.mode?{left:M,right:P,key:M.key}:{value:M.value.concat(P.value),key:M.key},o[M.index]=R,o.splice(P.index,1),l[M.key]=R;for(var N=0;N<o.length;N++){var F=o[N];M.key===F.key?_=1/0:"min"===p.linkage?(_=c[M.key][F.key],c[M.key][F.key]>c[P.key][F.key]&&(_=c[P.key][F.key])):"max"===p.linkage?(_=c[M.key][F.key],c[M.key][F.key]<c[P.key][F.key]&&(_=c[P.key][F.key])):_="mean"===p.linkage?(c[M.key][F.key]*M.size+c[P.key][F.key]*P.size)/(M.size+P.size):"dendrogram"===p.mode?w(F.value,M.value):w(F.value[0],M.value[0]),c[M.key][F.key]=c[F.key][M.key]=_}for(var L=0;L<o.length;L++){var H=o[L].key;if(f[H]===M.key||f[H]===P.key){for(var Y=H,X=0;X<o.length;X++){var U=o[X].key;c[H][U]<c[H][Y]&&(Y=U)}f[H]=Y}o[L].index=L}return M.key=P.key=M.index=P.index=null,!0},Li=function a(o,l,c){o&&(o.value?l.push(o.value):(o.left&&a(o.left,l),o.right&&a(o.right,l)))},qd=function a(o,l){if(!o)return"";if(o.left&&o.right){var c=a(o.left,l),f=a(o.right,l),p=l.add({group:"nodes",data:{id:c+","+f}});return l.add({group:"edges",data:{source:c,target:p.id()}}),l.add({group:"edges",data:{source:f,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},hv=function a(o,l,c){if(!o)return[];var f=[],p=[],g=[];return 0===l?(o.left&&Li(o.left,f),o.right&&Li(o.right,p),g=f.concat(p),[c.collection(g)]):1===l?o.value?[c.collection(o.value)]:(o.left&&Li(o.left,f),o.right&&Li(o.right,p),[c.collection(f),c.collection(p)]):o.value?[c.collection(o.value)]:(o.left&&(f=a(o.left,l-1,c)),o.right&&(p=a(o.right,l-1,c)),f.concat(p))},Tl=function(o){for(var l=this.cy(),c=this.nodes(),f=function(o){var l=ni(o),c=pr[l.linkage];return null!=c&&(l.linkage=c),l}(o),p=f.attributes,g=function(L,H){return ha(f.distance,p.length,function(Y){return p[Y](L)},function(Y){return p[Y](H)},L,H)},y=[],_=[],b=[],w=[],C=0;C<c.length;C++){var S={value:"dendrogram"===f.mode?c[C]:[c[C]],key:C,index:C};y[C]=S,w[C]=S,_[C]=[],b[C]=0}for(var T=0;T<y.length;T++)for(var M=0;M<=T;M++){var P;P="dendrogram"===f.mode?T===M?1/0:g(y[T].value,y[M].value):T===M?1/0:g(y[T].value[0],y[M].value[0]),_[T][M]=P,_[M][T]=P,P<_[T][b[T]]&&(b[T]=M)}for(var R=mg(y,w,_,b,f);R;)R=mg(y,w,_,b,f);var N;return"dendrogram"===f.mode?(N=hv(y[0],f.dendrogramDepth,l),f.addDendrogram&&qd(y[0],l)):(N=new Array(y.length),y.forEach(function(F,L){F.key=F.index=null,N[L]=l.collection(F.value)})),N},ga={hierarchicalClustering:Tl,hca:Tl},Wd=zr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),pv=function(o,l,c,f){var p=function(y,_){return f[_](y)};return-ha(o,f.length,function(g){return p(l,g)},function(g){return p(c,g)},l,c)},bh=function(o,l,c){for(var f=[],p=0;p<o;p++){for(var g=-1,y=-1/0,_=0;_<c.length;_++){var b=c[_];l[p*o+b]>y&&(g=b,y=l[p*o+b])}g>0&&f.push(g)}for(var w=0;w<c.length;w++)f[c[w]]=c[w];return f},eo=function(o){for(var l=this.cy(),c=this.nodes(),f=function(o){var l=o.damping,c=o.preference;.5<=l&&l<1||Yn("Damping must range on [0.5, 1).  Got: ".concat(l));var f=["median","mean","min","max"];return f.some(function(p){return p===c})||gt(c)||Yn("Preference must be one of [".concat(f.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(c)),Wd(o)}(o),p={},g=0;g<c.length;g++)p[c[g].id()]=g;var y,_,b,w,C,S,j;_=(y=c.length)*y,b=new Array(_);for(var T=0;T<_;T++)b[T]=-1/0;for(var M=0;M<y;M++)for(var P=0;P<y;P++)M!==P&&(b[M*y+P]=pv(f.distance,c[M],c[P],f.attributes));w=function(o,l){var c;return c="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(c<o.length&&o.splice(c,o.length-c),l>0&&o.splice(0,l)):o=o.slice(l,c);for(var y=0,_=o.length-1;_>=0;_--)g?isFinite(o[_])||(o[_]=-1/0,y++):o.splice(_,1);p&&o.sort(function(S,T){return S-T});var w=o.length,C=Math.floor(w/2);return w%2!=0?o[C+1+y]:(o[C-1+y]+o[C+y])/2}(o):"mean"===l?function(o){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<c;g++){var y=o[g];isFinite(y)&&(f+=y,p++)}return f/p}(o):"min"===l?function(o){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<c;p++){var g=o[p];isFinite(g)&&(f=Math.min(g,f))}return f}(o):"max"===l?function(o){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<c;p++){var g=o[p];isFinite(g)&&(f=Math.max(g,f))}return f}(o):l,c}(b,f.preference);for(var R=0;R<y;R++)b[R*y+R]=w;C=new Array(_);for(var N=0;N<_;N++)C[N]=0;S=new Array(_);for(var F=0;F<_;F++)S[F]=0;for(var L=new Array(y),H=new Array(y),Y=new Array(y),X=0;X<y;X++)L[X]=0,H[X]=0,Y[X]=0;for(var U=new Array(y*f.minIterations),te=0;te<U.length;te++)U[te]=0;for(j=0;j<f.maxIterations;j++){for(var W=0;W<y;W++){for(var J=-1/0,K=-1/0,ie=-1,Q=0,ce=0;ce<y;ce++)L[ce]=C[W*y+ce],(Q=S[W*y+ce]+b[W*y+ce])>=J?(K=J,J=Q,ie=ce):Q>K&&(K=Q);for(var se=0;se<y;se++)C[W*y+se]=(1-f.damping)*(b[W*y+se]-J)+f.damping*L[se];C[W*y+ie]=(1-f.damping)*(b[W*y+ie]-K)+f.damping*L[ie]}for(var le=0;le<y;le++){for(var ve=0,Ce=0;Ce<y;Ce++)L[Ce]=S[Ce*y+le],H[Ce]=Math.max(0,C[Ce*y+le]),ve+=H[Ce];ve-=H[le],H[le]=C[le*y+le],ve+=H[le];for(var Ie=0;Ie<y;Ie++)S[Ie*y+le]=(1-f.damping)*Math.min(0,ve-H[Ie])+f.damping*L[Ie];S[le*y+le]=(1-f.damping)*(ve-H[le])+f.damping*L[le]}for(var _e=0,Ee=0;Ee<y;Ee++){var Ae=S[Ee*y+Ee]+C[Ee*y+Ee]>0?1:0;U[j%f.minIterations*y+Ee]=Ae,_e+=Ae}if(_e>0&&(j>=f.minIterations-1||j==f.maxIterations-1)){for(var Xe=0,We=0;We<y;We++){Y[We]=0;for(var be=0;be<f.minIterations;be++)Y[We]+=U[be*y+We];(0===Y[We]||Y[We]===f.minIterations)&&Xe++}if(Xe===y)break}}for(var fe=function(o,l,c){for(var f=[],p=0;p<o;p++)l[p*o+p]+c[p*o+p]>0&&f.push(p);return f}(y,C,S),Ne=function(o,l,c){for(var f=bh(o,l,c),p=0;p<c.length;p++){for(var g=[],y=0;y<f.length;y++)f[y]===c[p]&&g.push(y);for(var _=-1,b=-1/0,w=0;w<g.length;w++){for(var C=0,S=0;S<g.length;S++)C+=l[g[S]*o+g[w]];C>b&&(_=w,b=C)}c[p]=g[_]}return bh(o,l,c)}(y,b,fe),ze={},Qe=0;Qe<fe.length;Qe++)ze[fe[Qe]]=[];for(var Je=0;Je<c.length;Je++){var Xt=Ne[p[c[Je].id()]];null!=Xt&&ze[Xt].push(c[Je])}for(var ut=new Array(fe.length),mt=0;mt<fe.length;mt++)ut[mt]=l.collection(ze[fe[mt]]);return ut},In={affinityPropagation:eo,ap:eo},Sr=zr({root:void 0,directed:!1}),gi={hierholzer:function(o){if(!Mt(o)){var l=arguments;o={root:l[0],directed:l[1]}}var _,b,w,c=Sr(o),f=c.root,p=c.directed,g=this,y=!1;f&&(w=lt(f)?this.filter(f)[0].id():f[0].id());var C={},S={};g.forEach(p?function(F){var L=F.id();if(F.isNode()){var H=F.indegree(!0),Y=F.outdegree(!0),X=H-Y,U=Y-H;1==X?_?y=!0:_=L:1==U?b?y=!0:b=L:(U>1||X>1)&&(y=!0),C[L]=[],F.outgoers().forEach(function(te){te.isEdge()&&C[L].push(te.id())})}else S[L]=[void 0,F.target().id()]}:function(F){var L=F.id();F.isNode()?(F.degree(!0)%2&&(_?b?y=!0:b=L:_=L),C[L]=[],F.connectedEdges().forEach(function(Y){return C[L].push(Y.id())})):S[L]=[F.source().id(),F.target().id()]});var T={found:!1,trail:void 0};if(y)return T;if(b&&_)if(p){if(w&&b!=w)return T;w=b}else{if(w&&b!=w&&_!=w)return T;w||(w=b)}else w||(w=g[0].id());var M=function(L){for(var X,U,te,H=L,Y=[L];C[H].length;)X=C[H].shift(),U=S[X][0],H!=(te=S[X][1])?(C[te]=C[te].filter(function(j){return j!=X}),H=te):!p&&H!=U&&(C[U]=C[U].filter(function(j){return j!=X}),H=U),Y.unshift(X),Y.unshift(H);return Y},P=[],R=[];for(R=M(w);1!=R.length;)0==C[R[0]].length?(P.unshift(g.getElementById(R.shift())),P.unshift(g.getElementById(R.shift()))):R=M(R.shift()).concat(R);for(var N in P.unshift(g.getElementById(R.shift())),C)if(C[N].length)return T;return T.found=!0,T.trail=this.spawn(P,!0),T}},$s=function(){var o=this,l={},c=0,f=0,p=[],g=[],y={},b=function C(S,T,M){S===M&&(f+=1),l[T]={id:c,low:c++,cutVertex:!1};var R,N,F,L,P=o.getElementById(T).connectedEdges().intersection(o);0===P.size()?p.push(o.spawn(o.getElementById(T))):P.forEach(function(H){R=H.source().id(),N=H.target().id(),(F=R===T?N:R)!==M&&(L=H.id(),y[L]||(y[L]=!0,g.push({x:T,y:F,edge:H})),F in l?l[T].low=Math.min(l[T].low,l[F].id):(C(S,F,T),l[T].low=Math.min(l[T].low,l[F].low),l[T].id<=l[F].low&&(l[T].cutVertex=!0,function(S,T){for(var M=g.length-1,P=[],R=o.spawn();g[M].x!=S||g[M].y!=T;)P.push(g.pop().edge),M--;P.push(g.pop().edge),P.forEach(function(N){var F=N.connectedNodes().intersection(o);R.merge(N),F.forEach(function(L){var H=L.id(),Y=L.connectedEdges().intersection(o);R.merge(L),R.merge(l[H].cutVertex?Y.filter(function(X){return X.isLoop()}):Y)})}),p.push(R)}(T,F))))})};o.forEach(function(C){if(C.isNode()){var S=C.id();S in l||(f=0,b(S,S),l[S].cutVertex=f>1)}});var w=Object.keys(l).filter(function(C){return l[C].cutVertex}).map(function(C){return o.getElementById(C)});return{cut:o.spawn(w),components:p}},_u=function(){var o=this,l={},c=0,f=[],p=[],g=o.spawn(o),y=function _(b){if(p.push(b),l[b]={index:c,low:c++,explored:!1},o.getElementById(b).connectedEdges().intersection(o).forEach(function(P){var R=P.target().id();R!==b&&(R in l||_(R),l[R].explored||(l[b].low=Math.min(l[b].low,l[R].low)))}),l[b].index===l[b].low){for(var C=o.spawn();;){var S=p.pop();if(C.merge(o.getElementById(S)),l[S].low=l[b].index,l[S].explored=!0,S===b)break}var T=C.edgesWith(C),M=C.merge(T);f.push(M),g=g.difference(M)}};return o.forEach(function(_){if(_.isNode()){var b=_.id();b in l||y(b)}}),{cut:g,components:f}},Ya={};[la,Gt,ah,go,ig,vu,er,hh,Ns,Fs,xc,dv,qn,ga,In,gi,{hopcroftTarjanBiconnected:$s,htbc:$s,htb:$s,hopcroftTarjanBiconnectedComponents:$s},{tarjanStronglyConnected:_u,tsc:_u,tscc:_u,tarjanStronglyConnectedComponents:_u}].forEach(function(a){$t(Ya,a)});var dt=function a(o){if(!(this instanceof a))return new a(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};dt.prototype={fulfill:function(o){return hn(this,1,"fulfillValue",o)},reject:function(o){return hn(this,2,"rejectReason",o)},then:function(o,l){var c=this,f=new dt;return c.onFulfilled.push(ma(o,f,"fulfill")),c.onRejected.push(ma(l,f,"reject")),Dr(c),f.proxy}};var hn=function(o,l,c,f){return 0===o.state&&(o.state=l,o[c]=f,Dr(o)),o},Dr=function(o){1===o.state?es(o,"onFulfilled",o.fulfillValue):2===o.state&&es(o,"onRejected",o.rejectReason)},es=function(o,l,c){if(0!==o[l].length){var f=o[l];o[l]=[];var p=function(){for(var y=0;y<f.length;y++)f[y](c)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},ma=function(o,l,c){return function(f){if("function"!=typeof o)l[c].call(l,f);else{var p;try{p=o(f)}catch(g){return void l.reject(g)}ii(l,p)}}},ii=function a(o,l){if(o!==l&&o.proxy!==l){var c;if("object"===yn(l)&&null!==l||"function"==typeof l)try{c=l.then}catch(p){return void o.reject(p)}if("function"!=typeof c)o.fulfill(l);else{var f=!1;try{c.call(l,function(p){f||(f=!0,p===l?o.reject(new TypeError("circular thenable chain")):a(o,p))},function(p){f||(f=!0,o.reject(p))})}catch(p){f||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};dt.all=function(a){return new dt(function(o,l){for(var c=new Array(a.length),f=0,p=function(_,b){c[_]=b,++f===a.length&&o(c)},g=0;g<a.length;g++)!function(y){var _=a[y];null!=_&&null!=_.then?_.then(function(C){p(y,C)},function(C){l(C)}):p(y,_)}(g)})},dt.resolve=function(a){return new dt(function(o,l){o(a)})},dt.reject=function(a){return new dt(function(o,l){l(a)})};var No=typeof Promise<"u"?Promise:dt,kr=function(o,l,c){var f=ar(o),p=!f,g=this._private=$t({duration:1e3},l,c);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&Gn(g.complete)&&g.completes.push(g.complete),p){var y=o.position();g.startPosition=g.startPosition||{x:y.x,y:y.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(f){var _=o.pan();g.startPan={x:_.x,y:_.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},to=kr.prototype;$t(to,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var c=o.target._private.animation;(o.queue?c.queue:c.current).push(this),Zt(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,c=l.playing;return void 0===o?l.progress:(c&&this.pause(),l.progress=o,l.started=!1,c&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var c=function(b,w){var C=o[b];null!=C&&(o[b]=o[w],o[w]=C)};if(c("zoom","startZoom"),c("pan","startPan"),c("position","startPosition"),o.style)for(var f=0;f<o.style.length;f++){var p=o.style[f],g=p.name,y=o.startStyle[g];o.startStyle[g]=p,o.style[f]=y}return l&&this.play(),this},promise:function(o){var c,l=this._private;return c="frame"===o?l.frames:l.completes,new No(function(f,p){c.push(function(){f()})})}}),to.complete=to.completed,to.run=to.play,to.running=to.playing;var dn={data:function(o){return o=$t({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,p){},onSet:function(f){},canSet:function(f){return!0}},o),function(f,p){var g=o,y=this,_=void 0!==y.length,b=_?y:[y],w=_?y[0]:y;if(lt(f)){var T,S=-1!==f.indexOf(".")&&jn.default(f);if(g.allowGetting&&void 0===p)return w&&(g.beforeGet(w),T=S&&void 0===w._private[g.field][f]?It.default(w._private[g.field],S):w._private[g.field][f]),T;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[f]){var P=Fn({},f,p);g.beforeSet(y,P);for(var R=0,N=b.length;R<N;R++){var F=b[R];g.canSet(F)&&(S&&void 0===w._private[g.field][f]?kt.default(F._private[g.field],S,p):F._private[g.field][f]=p)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Mt(f)){var H,Y,L=f,X=Object.keys(L);g.beforeSet(y,L);for(var U=0;U<X.length;U++)if(Y=L[H=X[U]],!g.immutableKeys[H])for(var j=0;j<b.length;j++){var W=b[j];g.canSet(W)&&(W._private[g.field][H]=Y)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&Gn(f))y.on(g.bindingEvent,f);else if(g.allowGetting&&void 0===f){var K;return w&&(g.beforeGet(w),K=w._private[g.field]),K}return y}},removeData:function(o){return o=$t({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(f){var p=o,g=this,_=void 0!==g.length?g:[g];if(lt(f)){for(var b=f.split(/\s+/),w=b.length,C=0;C<w;C++){var S=b[C];if(!sn(S)&&!p.immutableKeys[S])for(var M=0,P=_.length;M<P;M++)_[M]._private[p.field][S]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===f){for(var R=0,N=_.length;R<N;R++)for(var F=_[R]._private[p.field],L=Object.keys(F),H=0;H<L.length;H++){var Y=L[H];!p.immutableKeys[Y]&&(F[Y]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},Rr={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(c,f){var p=this,g=Array.prototype.slice.call(arguments,0);return new No(function(y,_){var w=g.concat([function(T){p.off.apply(p,C),y(T)}]),C=w.concat([]);p.on.apply(p,w)})}}},ln={};[{animated:function(){return function(){var l=this,f=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var g=f[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,f=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<f.length;g++)f[g]._private.animation.queue=[];return this}},delay:function(){return function(l,c){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:c}):this}},delayAnimation:function(){return function(l,c){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:c}):this}},animation:function(){return function(l,c){var f=this,p=void 0!==f.length,g=p?f:[f],y=this._private.cy||this,_=!p,b=!_;if(!y.styleEnabled())return this;var w=y.style();if(l=$t({},l,c),0===Object.keys(l).length)return new kr(g[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(b&&(l.style=w.getPropsList(l.style||l.css),l.css=void 0),b&&null!=l.renderedPosition){var S=l.renderedPosition,T=y.pan(),M=y.zoom();l.position=mc(S,M,T)}if(_&&null!=l.panBy){var P=l.panBy,R=y.pan();l.pan={x:R.x+P.x,y:R.y+P.y}}var N=l.center||l.centre;if(_&&null!=N){var F=y.getCenterPan(N.eles,l.zoom);null!=F&&(l.pan=F)}if(_&&null!=l.fit){var L=l.fit,H=y.getFitViewport(L.eles||L.boundingBox,L.padding);null!=H&&(l.pan=H.pan,l.zoom=H.zoom)}if(_&&Mt(l.zoom)){var Y=y.getZoomedViewport(l.zoom);null!=Y?(Y.zoomed&&(l.zoom=Y.zoom),Y.panned&&(l.pan=Y.pan)):l.zoom=null}return new kr(g[0],l)}},animate:function(){return function(l,c){var f=this,g=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;c&&(l=$t({},l,c));for(var _=0;_<g.length;_++){var b=g[_],w=b.animated()&&(void 0===l.queue||l.queue);b.animation(l,w?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,c){var f=this,g=void 0!==f.length?f:[f],y=this._private.cy||this;if(!y.styleEnabled())return this;for(var _=0;_<g.length;_++){for(var w=g[_]._private,C=w.animation.current,S=0;S<C.length;S++)c&&(C[S]._private.duration=0);l&&(w.animation.queue=[]),c||(w.animation.current=[])}return y.notify("draw"),this}}},dn,Rr].forEach(function(a){$t(ln,a)});var Du={animate:ln.animate(),animation:ln.animation(),animated:ln.animated(),clearQueue:ln.clearQueue(),delay:ln.delay(),delayAnimation:ln.delayAnimation(),stop:ln.stop()},Mr={classes:function(o){var l=this;if(void 0===o){var c=[];return l[0]._private.classes.forEach(function(M){return c.push(M)}),c}Pn(o)||(o=(o||"").match(/\S+/g)||[]);for(var f=[],p=new gu(o),g=0;g<l.length;g++){for(var y=l[g],_=y._private,b=_.classes,w=!1,C=0;C<o.length;C++)if(!b.has(o[C])){w=!0;break}w||(w=b.size!==o.length),w&&(_.classes=p,f.push(y))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){Pn(o)||(o=o.match(/\S+/g)||[]);for(var c=this,f=void 0===l,p=[],g=0,y=c.length;g<y;g++)for(var _=c[g],b=_._private.classes,w=!1,C=0;C<o.length;C++){var S=o[C],T=b.has(S),M=!1;l||f&&!T?(b.add(S),M=!0):(!l||f&&T)&&(b.delete(S),M=!0),!w&&M&&(p.push(_),w=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),c},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var c=this;if(null==l)l=250;else if(0===l)return c;return c.addClass(o),setTimeout(function(){c.removeClass(o)},l),c}};Mr.className=Mr.classNames=Mr.classes;var Dn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Xr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Dn.variable="(?:[\\w-.]|(?:\\\\"+Dn.metaChar+"))+",Dn.className="(?:[\\w-]|(?:\\\\"+Dn.metaChar+"))+",Dn.value=Dn.string+"|"+Dn.number,Dn.id=Dn.variable,function(){var a,o,l;for(a=Dn.comparatorOp.split("|"),l=0;l<a.length;l++)Dn.comparatorOp+="|@"+(o=a[l]);for(a=Dn.comparatorOp.split("|"),l=0;l<a.length;l++)!((o=a[l]).indexOf("!")>=0)&&"="!==o&&(Dn.comparatorOp+="|\\!"+o)}();var fs=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(a,o){return function(o,l){return-1*Dl(o,l)}(a.selector,o.selector)}),Zd=function(){for(var o,a={},l=0;l<fs.length;l++)a[(o=fs[l]).selector]=o.matches;return a}(),Lo="("+fs.map(function(a){return a.selector}).join("|")+")",mo=function(o){return o.replace(new RegExp("\\\\("+Dn.metaChar+")","g"),function(l,c){return c})},no=function(o,l,c){o[o.length-1]=c},pn=[{name:"group",query:!0,regex:"("+Dn.group+")",populate:function(o,l,c){var p=bn(c,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:Lo,populate:function(o,l,c){var f=bn(c,1);l.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+Dn.id+")",populate:function(o,l,c){var f=bn(c,1);l.checks.push({type:8,value:mo(f[0])})}},{name:"className",query:!0,regex:"\\.("+Dn.className+")",populate:function(o,l,c){var f=bn(c,1);l.checks.push({type:9,value:mo(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Dn.variable+")\\s*\\]",populate:function(o,l,c){var f=bn(c,1);l.checks.push({type:4,field:mo(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Dn.variable+")\\s*("+Dn.comparatorOp+")\\s*("+Dn.value+")\\s*\\]",populate:function(o,l,c){var f=bn(c,3),p=f[0],g=f[1],y=f[2];y=null!=new RegExp("^"+Dn.string+"$").exec(y)?y.substring(1,y.length-1):parseFloat(y),l.checks.push({type:3,field:mo(p),operator:g,value:y})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Dn.boolOp+")\\s*("+Dn.variable+")\\s*\\]",populate:function(o,l,c){var f=bn(c,2),p=f[0];l.checks.push({type:5,field:mo(f[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Dn.meta+")\\s*("+Dn.comparatorOp+")\\s*("+Dn.number+")\\s*\\]\\]",populate:function(o,l,c){var f=bn(c,3),g=f[1],y=f[2];l.checks.push({type:6,field:mo(f[0]),operator:g,value:parseFloat(y)})}},{name:"nextQuery",separator:!0,regex:Dn.separator,populate:function(o,l){var c=o.currentSubject,f=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=c&&(g.subject=c,o.currentSubject=null),g.edgeCount=f,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Dn.directedEdge,populate:function(o,l){if(null==o.currentSubject){var c={checks:[]},p={checks:[]};return c.checks.push({type:11,source:l,target:p}),no(o,0,c),o.edgeCount++,p}var g={checks:[]},_={checks:[]};return g.checks.push({type:12,source:l,target:_}),no(o,0,g),o.edgeCount++,_}},{name:"undirectedEdge",separator:!0,regex:Dn.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var c={checks:[]},p={checks:[]};return c.checks.push({type:10,nodes:[l,p]}),no(o,0,c),o.edgeCount++,p}var g={checks:[]},_={checks:[]};return g.checks.push({type:14,node:l,neighbor:_}),no(o,0,g),_}},{name:"child",separator:!0,regex:Dn.child,populate:function(o,l){if(null==o.currentSubject){var c={checks:[]},f={checks:[]};return c.checks.push({type:15,parent:o[o.length-1],child:f}),no(o,0,c),o.compoundCount++,f}if(o.currentSubject===l){var g={checks:[]},_={checks:[]},b={checks:[]},w={checks:[]},C={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:_,subject:b}),b.checks=l.checks,l.checks=[{type:20}],C.checks.push({type:20}),_.checks.push({type:17,parent:C,child:w}),no(o,0,g),o.currentSubject=b,o.compoundCount++,w}var S={checks:[]},T={checks:[]},M=[{type:17,parent:S,child:T}];return S.checks=l.checks,l.checks=M,o.compoundCount++,T}},{name:"descendant",separator:!0,regex:Dn.descendant,populate:function(o,l){if(null==o.currentSubject){var c={checks:[]},f={checks:[]};return c.checks.push({type:16,ancestor:o[o.length-1],descendant:f}),no(o,0,c),o.compoundCount++,f}if(o.currentSubject===l){var g={checks:[]},_={checks:[]},b={checks:[]},w={checks:[]},C={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:_,subject:b}),b.checks=l.checks,l.checks=[{type:20}],C.checks.push({type:20}),_.checks.push({type:18,ancestor:C,descendant:w}),no(o,0,g),o.currentSubject=b,o.compoundCount++,w}var S={checks:[]},T={checks:[]},M=[{type:18,ancestor:S,descendant:T}];return S.checks=l.checks,l.checks=M,o.compoundCount++,T}},{name:"subject",modifier:!0,regex:Dn.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return rn("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var f=o[o.length-1].checks[0],p=null==f?null:f.type;11===p?f.type=13:10===p&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];pn.forEach(function(a){return a.regexObj=new RegExp("^"+a.regex)});var T0=function(o){for(var l,c,f,p=0;p<pn.length;p++){var g=pn[p],y=g.name,_=o.match(g.regexObj);if(null!=_){c=_,l=g,f=y,o=o.substring(_[0].length);break}}return{expr:l,match:c,name:f,remaining:o}},Yd={parse:function(o){var l=this,c=l.inputText=o,f=l[0]={checks:[]};for(l.length=1,c=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(c);;){var p=T0(c);if(null==p.expr)return rn("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),y=p.expr.populate(l,f,g);if(!1===y)return!1;if(null!=y&&(f=y),(c=p.remaining).match(/^\s*$/))break}var _=l[l.length-1];null!=l.currentSubject&&(_.subject=l.currentSubject),_.edgeCount=l.edgeCount,_.compoundCount=l.compoundCount;for(var b=0;b<l.length;b++){var w=l[b];if(w.compoundCount>0&&w.edgeCount>0)return rn("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(w.edgeCount>1)return rn("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===w.edgeCount&&rn("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(w){return w??""},l=function(w){return lt(w)?'"'+w+'"':o(w)},c=function(w){return" "+w+" "},p=function(w,C){return w.checks.reduce(function(S,T,M){return S+(C===w&&0===M?"$":"")+function(w,C){var T=w.value;switch(w.type){case 0:var M=o(T);return M.substring(0,M.length-1);case 3:return"["+w.field+c(o(w.operator))+l(T)+"]";case 5:var F=w.field;return"["+o(w.operator)+F+"]";case 4:return"["+w.field+"]";case 6:return"[["+w.field+c(o(w.operator))+l(T)+"]]";case 7:return T;case 8:return"#"+T;case 9:return"."+T;case 17:case 15:return p(w.parent,C)+c(">")+p(w.child,C);case 18:case 16:return p(w.ancestor,C)+" "+p(w.descendant,C);case 19:var X=p(w.left,C),U=p(w.subject,C),te=p(w.right,C);return X+(X.length>0?" ":"")+U+te;case 20:return""}}(T,C)},"")},g="",y=0;y<this.length;y++){var _=this[y];g+=p(_,_.subject),this.length>1&&y<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},Hs=function(o,l,c){var f,_,b,p=lt(o),g=gt(o),y=lt(c),w=!1,C=!1,S=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),C=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),w=!0),(p||y||w)&&(_=p||g?""+o:"",b=""+c),w&&(o=_=_.toLowerCase(),c=b=b.toLowerCase()),l){case"*=":f=_.indexOf(b)>=0;break;case"$=":f=_.indexOf(b,_.length-b.length)>=0;break;case"^=":f=0===_.indexOf(b);break;case"=":f=o===c;break;case">":S=!0,f=o>c;break;case">=":S=!0,f=o>=c;break;case"<":S=!0,f=o<c;break;case"<=":S=!0,f=o<=c;break;default:f=!1}return C&&(null!=o||!S)&&(f=!f),f},z=function(o,l){return o.data(l)},En=[],Cn=function(o,l){return o.checks.every(function(c){return En[c.type](c,l)})};En[0]=function(a,o){var l=a.value;return"*"===l||l===o.group()},En[7]=function(a,o){return function(o,l){return Zd[o](l)}(a.value,o)},En[8]=function(a,o){var l=a.value;return o.id()===l},En[9]=function(a,o){return o.hasClass(a.value)},En[6]=function(a,o){var c=a.operator,f=a.value;return Hs(function(o,l){return o[l]()}(o,a.field),c,f)},En[3]=function(a,o){var c=a.operator,f=a.value;return Hs(z(o,a.field),c,f)},En[5]=function(a,o){var c=a.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(z(o,a.field),c)},En[4]=function(a,o){return function(o){return void 0!==o}(z(o,a.field))},En[10]=function(a,o){var l=a.nodes[0],c=a.nodes[1],f=o.source(),p=o.target();return Cn(l,f)&&Cn(c,p)||Cn(c,f)&&Cn(l,p)},En[14]=function(a,o){return Cn(a.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&Cn(a.neighbor,l)})},En[11]=function(a,o){return Cn(a.source,o.source())&&Cn(a.target,o.target())},En[12]=function(a,o){return Cn(a.source,o)&&o.outgoers().some(function(l){return l.isNode()&&Cn(a.target,l)})},En[13]=function(a,o){return Cn(a.target,o)&&o.incomers().some(function(l){return l.isNode()&&Cn(a.source,l)})},En[15]=function(a,o){return Cn(a.child,o)&&Cn(a.parent,o.parent())},En[17]=function(a,o){return Cn(a.parent,o)&&o.children().some(function(l){return Cn(a.child,l)})},En[16]=function(a,o){return Cn(a.descendant,o)&&o.ancestors().some(function(l){return Cn(a.ancestor,l)})},En[18]=function(a,o){return Cn(a.ancestor,o)&&o.descendants().some(function(l){return Cn(a.descendant,l)})},En[19]=function(a,o){return Cn(a.subject,o)&&Cn(a.left,o)&&Cn(a.right,o)},En[20]=function(){return!0},En[1]=function(a,o){return a.value.has(o)},En[2]=function(a,o){return(0,a.value)(o)};var hs={matches:function(o){for(var c=0;c<this.length;c++)if(Cn(this[c],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var c=function(p){for(var g=0;g<l.length;g++)if(Cn(l[g],p))return!0;return!1};return null==l.text()&&(c=function(){return!0}),o.filter(c)}},Us=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||lt(o)&&o.match(/^\s*$/)||(Zt(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):Gn(o)?this.addQuery({checks:[{type:2,value:o}]}):lt(o)?this.parse(o)||(this.invalid=!0):Yn("A selector must be created from a string; found "))},vo=Us.prototype;[Yd,hs].forEach(function(a){return $t(vo,a)}),vo.text=function(){return this.inputText},vo.size=function(){return this.length},vo.eq=function(a){return this[a]},vo.sameText=function(a){return!this.invalid&&!a.invalid&&this.text()===a.text()},vo.addQuery=function(a){this[this.length++]=a},vo.selector=vo.toString;var Qa={allAre:function(o){var l=new Us(o);return this.every(function(c){return l.matches(c)})},is:function(o){var l=new Us(o);return this.some(function(c){return l.matches(c)})},some:function(o,l){for(var c=0;c<this.length;c++)if(l?o.apply(l,[this[c],c,this]):o(this[c],c,this))return!0;return!1},every:function(o,l){for(var c=0;c<this.length;c++)if(!(l?o.apply(l,[this[c],c,this]):o(this[c],c,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(f){return o.hasElementWithId(f.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(c){return l.hasElementWithId(c.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(c){return l.hasElementWithId(c.id())})}};Qa.allAreNeighbours=Qa.allAreNeighbors,Qa.has=Qa.contains,Qa.equal=Qa.equals=Qa.same;var Xd,mv,ps=function(o,l){return function(f,p,g,y){var w,_=f,b=this;if(null==_?w="":Zt(_)&&1===_.length&&(w=_.id()),1===b.length&&w){var C=b[0]._private,S=C.traversalCache=C.traversalCache||{},T=S[l]=S[l]||[],M=Ps(w);return T[M]||(T[M]=o.call(b,f,p,g,y))}return o.call(b,f,p,g,y)}},Cu={parent:function(o){var l=[];if(1===this.length){var c=this[0]._private.parent;if(c)return c}for(var f=0;f<this.length;f++){var g=this[f]._private.parent;g&&l.push(g)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],c=this.parent();c.nonempty();){for(var f=0;f<c.length;f++)l.push(c[f]);c=c.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,c=0;c<this.length;c++){var p=this[c].parents();l=(l=l||p).intersect(p)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:ps(function(a){for(var o=[],l=0;l<this.length;l++)for(var f=this[l]._private.children,p=0;p<f.length;p++)o.push(f[p]);return this.spawn(o,!0).filter(a)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function c(f){for(var p=0;p<f.length;p++){var g=f[p];l.push(g),g.children().nonempty()&&c(g.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function Dh(a,o,l,c){for(var f=[],p=new gu,y=a.cy().hasCompoundNodes(),_=0;_<a.length;_++){var b=a[_];l?f.push(b):y&&c(f,p,b)}for(;f.length>0;){var w=f.shift();o(w),p.add(w.id()),y&&c(f,p,w)}return a}function gv(a,o,l){if(l.isParent())for(var c=l._private.children,f=0;f<c.length;f++){var p=c[f];o.has(p.id())||a.push(p)}}function ya(a,o,l){if(l.isChild()){var c=l._private.parent;o.has(c.id())||a.push(c)}}function I0(a,o,l){ya(a,o,l),gv(a,o,l)}Cu.forEachDown=function(a){return Dh(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],gv)},Cu.forEachUp=function(a){return Dh(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ya)},Cu.forEachUpAndDown=function(a){return Dh(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],I0)},Cu.ancestors=Cu.parents,Xd=mv={data:ln.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ln.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ln.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ln.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ln.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ln.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Xd.attr=Xd.data,Xd.removeAttr=Xd.removeData;var A0=mv,Ch={};function js(a){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var c=0,f=l[0],p=f._private.edges,g=0;g<p.length;g++){var y=p[g];!o&&y.isLoop()||(c+=a(f,y))}return c}}}function Ac(a,o){return function(l){for(var c,f=this.nodes(),p=0;p<f.length;p++){var y=f[p][a](l);void 0!==y&&(void 0===c||o(y,c))&&(c=y)}return c}}$t(Ch,{degree:js(function(a,o){return o.source().same(o.target())?2:1}),indegree:js(function(a,o){return o.target().same(a)?1:0}),outdegree:js(function(a,o){return o.source().same(a)?1:0})}),$t(Ch,{minDegree:Ac("degree",function(a,o){return a<o}),maxDegree:Ac("degree",function(a,o){return a>o}),minIndegree:Ac("indegree",function(a,o){return a<o}),maxIndegree:Ac("indegree",function(a,o){return a>o}),minOutdegree:Ac("outdegree",function(a,o){return a<o}),maxOutdegree:Ac("outdegree",function(a,o){return a>o})}),$t(Ch,{totalDegree:function(o){for(var l=0,c=this.nodes(),f=0;f<c.length;f++)l+=c[f].degree(o);return l}});var Gs,vv,yv=function(o,l,c){for(var f=0;f<o.length;f++){var p=o[f];if(!p.locked()){var g=p._private.position,y={x:null!=l.x?l.x-g.x:0,y:null!=l.y?l.y-g.y:0};p.isParent()&&!(0===y.x&&0===y.y)&&p.children().shift(y,c),p.dirtyBoundingBoxCache()}}},xh={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){yv(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};Gs=vv={position:ln.data(xh),silentPosition:ln.data($t({},xh,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){yv(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(Mt(o))l?this.silentPosition(o):this.position(o);else if(Gn(o)){var c=o,f=this.cy();f.startBatch();for(var p=0;p<this.length;p++){var y,g=this[p];(y=c(g,p))&&(l?g.silentPosition(y):g.position(y))}f.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,c){var f;if(Mt(o)?(f={x:gt(o.x)?o.x:0,y:gt(o.y)?o.y:0},c=l):lt(o)&&gt(l)&&((f={x:0,y:0})[o]=l),null!=f){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var y=this[g];if(!(p.hasCompoundNodes()&&y.isChild()&&y.ancestors().anySame(this))){var _=y.position(),b={x:_.x+f.x,y:_.y+f.y};c?y.silentPosition(b):y.position(b)}}p.endBatch()}return this},silentShift:function(o,l){return Mt(o)?this.shift(o,!0):lt(o)&&gt(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var c=this[0],f=this.cy(),p=f.zoom(),g=f.pan(),y=Mt(o)?o:void 0,_=void 0!==y||void 0!==l&&lt(o);if(c&&c.isNode()){if(!_){var C=c.position();return y=xl(C,p,g),void 0===o?y:y[o]}for(var b=0;b<this.length;b++){var w=this[b];void 0!==l?w.position(o,(l-g[o])/p):void 0!==y&&w.position(mc(y,p,g))}}else if(!_)return;return this},relativePosition:function(o,l){var c=this[0],f=this.cy(),p=Mt(o)?o:void 0,g=void 0!==p||void 0!==l&&lt(o),y=f.hasCompoundNodes();if(c&&c.isNode()){if(!g){var M=c.position(),P=y?c.parent():null,R=P&&P.length>0;R&&(P=P[0]);var F=R?P.position():{x:0,y:0};return p={x:M.x-F.x,y:M.y-F.y},void 0===o?p:p[o]}for(var _=0;_<this.length;_++){var b=this[_],w=y?b.parent():null,C=w&&w.length>0;C&&(w=w[0]);var T=C?w.position():{x:0,y:0};void 0!==l?b.position(o,l+T[o]):void 0!==p&&b.position({x:p.x+T.x,y:p.y+T.y})}}else if(!g)return;return this}},Gs.modelPosition=Gs.point=Gs.position,Gs.modelPositions=Gs.points=Gs.positions,Gs.renderedPoint=Gs.renderedPosition,Gs.relativePoint=Gs.relativePosition;var kc,Il,Xa=vv;kc=Il={},Il.renderedBoundingBox=function(a){var o=this.boundingBox(a),l=this.cy(),c=l.zoom(),f=l.pan(),p=o.x1*c+f.x,g=o.x2*c+f.x,y=o.y1*c+f.y,_=o.y2*c+f.y;return{x1:p,x2:g,y1:y,y2:_,w:g-p,h:_-y}},Il.dirtyCompoundBoundsCache=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var c=l._private;c.compoundBoundsClean=!1,c.bbCache=null,a||l.emitAndNotify("bounds")}}),this):this},Il.updateCompoundBounds=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!a&&o.batching())return this;function l(g){if(g.isParent()){var y=g._private,_=g.children(),b="include"===g.pstyle("compound-sizing-wrt-labels").value,w={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},C=_.boundingBox({includeLabels:b,includeOverlays:!1,useCache:!1}),S=y.position;(0===C.w||0===C.h)&&((C={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=S.x-C.w/2,C.x2=S.x+C.w/2,C.y1=S.y-C.h/2,C.y2=S.y+C.h/2);var P=w.width.left.value;"px"===w.width.left.units&&w.width.val>0&&(P=100*P/w.width.val);var R=w.width.right.value;"px"===w.width.right.units&&w.width.val>0&&(R=100*R/w.width.val);var N=w.height.top.value;"px"===w.height.top.units&&w.height.val>0&&(N=100*N/w.height.val);var F=w.height.bottom.value;"px"===w.height.bottom.units&&w.height.val>0&&(F=100*F/w.height.val);var L=T(w.width.val-C.w,P,R),H=L.biasDiff,Y=L.biasComplementDiff,X=T(w.height.val-C.h,N,F),U=X.biasDiff,te=X.biasComplementDiff;y.autoPadding=function M(j,W,J,K){if("%"!==J.units)return"px"===J.units?J.pfValue:0;switch(K){case"width":return j>0?J.pfValue*j:0;case"height":return W>0?J.pfValue*W:0;case"average":return j>0&&W>0?J.pfValue*(j+W)/2:0;case"min":return j>0&&W>0?j>W?J.pfValue*W:J.pfValue*j:0;case"max":return j>0&&W>0?j>W?J.pfValue*j:J.pfValue*W:0;default:return 0}}(C.w,C.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),y.autoWidth=Math.max(C.w,w.width.val),S.x=(-H+C.x1+C.x2+Y)/2,y.autoHeight=Math.max(C.h,w.height.val),S.y=(-U+C.y1+C.y2+te)/2}function T(j,W,J){var K=0,ie=0,Q=W+J;return j>0&&Q>0&&(K=W/Q*j,ie=J/Q*j),{biasDiff:K,biasComplementDiff:ie}}}for(var c=0;c<this.length;c++){var f=this[c],p=f._private;(!p.compoundBoundsClean||a)&&(l(f),o.batching()||(p.compoundBoundsClean=!0))}return this};var Ur=function(o){return o===1/0||o===-1/0?0:o},Di=function(o,l,c,f,p){f-l==0||p-c==0||null==l||null==c||null==f||null==p||(o.x1=l<o.x1?l:o.x1,o.x2=f>o.x2?f:o.x2,o.y1=c<o.y1?c:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},yo=function(o,l){return null==l?o:Di(o,l.x1,l.y1,l.x2,l.y2)},Jd=function(o,l,c){return ko(o,l,c)},Sh=function(o,l,c){if(!l.cy().headless()){var _,b,f=l._private,p=f.rstyle,g=p.arrowWidth/2;if("none"!==l.pstyle(c+"-arrow-shape").value){"source"===c?(_=p.srcX,b=p.srcY):"target"===c?(_=p.tgtX,b=p.tgtY):(_=p.midX,b=p.midY);var w=f.arrowBounds=f.arrowBounds||{},C=w[c]=w[c]||{};C.x1=_-g,C.y1=b-g,C.x2=_+g,C.y2=b+g,C.w=C.x2-C.x1,C.h=C.y2-C.y1,ch(C,1),Di(o,C.x1,C.y1,C.x2,C.y2)}}},si=function(o,l,c){if(!l.cy().headless()){var f,p=l._private,g=p.rstyle;if(l.pstyle((f=c?c+"-":"")+"label").strValue){var J,K,ie,Q,_=l.pstyle("text-halign"),b=l.pstyle("text-valign"),w=Jd(g,"labelWidth",c),C=Jd(g,"labelHeight",c),S=Jd(g,"labelX",c),T=Jd(g,"labelY",c),M=l.pstyle(f+"text-margin-x").pfValue,P=l.pstyle(f+"text-margin-y").pfValue,R=l.isEdge(),N=l.pstyle(f+"text-rotation"),F=l.pstyle("text-outline-width").pfValue,H=l.pstyle("text-border-width").pfValue/2,Y=l.pstyle("text-background-padding").pfValue,U=C,te=w,j=te/2,W=U/2;if(R)J=S-j,K=S+j,ie=T-W,Q=T+W;else{switch(_.value){case"left":J=S-te,K=S;break;case"center":J=S-j,K=S+j;break;case"right":J=S,K=S+te}switch(b.value){case"top":ie=T-U,Q=T;break;case"center":ie=T-W,Q=T+W;break;case"bottom":ie=T,Q=T+U}}J+=M-Math.max(F,H)-Y-2,K+=M+Math.max(F,H)+Y+2,ie+=P-Math.max(F,H)-Y-2,Q+=P+Math.max(F,H)+Y+2;var ce=c||"main",se=p.labelBounds,le=se[ce]=se[ce]||{};le.x1=J,le.y1=ie,le.x2=K,le.y2=Q,le.w=K-J,le.h=Q-ie;var ve=R&&"autorotate"===N.strValue;if(ve||null!=N.pfValue&&0!==N.pfValue){var Ie=ve?Jd(p.rstyle,"labelAngle",c):N.pfValue,_e=Math.cos(Ie),Ee=Math.sin(Ie),Ae=(J+K)/2,Xe=(ie+Q)/2;if(!R){switch(_.value){case"left":Ae=K;break;case"right":Ae=J}switch(b.value){case"top":Xe=Q;break;case"bottom":Xe=ie}}var We=function(Xt,ut){return{x:(Xt-=Ae)*_e-(ut-=Xe)*Ee+Ae,y:Xt*Ee+ut*_e+Xe}},be=We(J,ie),fe=We(J,Q),Ne=We(K,ie),ze=We(K,Q);J=Math.min(be.x,fe.x,Ne.x,ze.x),K=Math.max(be.x,fe.x,Ne.x,ze.x),ie=Math.min(be.y,fe.y,Ne.y,ze.y),Q=Math.max(be.y,fe.y,Ne.y,ze.y)}var Qe=ce+"Rot",Je=se[Qe]=se[Qe]||{};Je.x1=J,Je.y1=ie,Je.x2=K,Je.y2=Q,Je.w=K-J,Je.h=Q-ie,Di(o,J,ie,K,Q),Di(p.labelBounds.all,J,ie,K,Q)}return o}},Mh=function(o){var l=0,c=function(g){return(g?1:0)<<l++},f=0;return f+=c(o.incudeNodes),f+=c(o.includeEdges),f+=c(o.includeLabels),f+=c(o.includeMainLabels),f+=c(o.includeSourceLabels),f+=c(o.includeTargetLabels),(f+=c(o.includeOverlays))+c(o.includeOutlines)},Th=function(o){if(o.isEdge()){var l=o.source().position(),c=o.target().position(),f=function(g){return Math.round(g)};return function(o,l){var c={value:0,done:!1},f=0,p=o.length;return Pd({next:function(){return f<p?c.value=o[f++]:c.done=!0,c}},void 0)}([f(l.x),f(l.y),f(c.x),f(c.y)])}return 0},Pc=function(o,l){var f,c=o._private,p=o.isEdge(),y=(null==l?Al:Mh(l))===Al,_=Th(o),b=c.bbCachePosKey===_,w=l.useCache&&b,C=function(P){return null==P._private.bbCache||P._private.styleDirty};if(!w||C(o)||p&&C(o.source())||C(o.target())?(b||o.recalculateRenderedStyle(w),f=function(o,l){var w,C,S,T,M,P,c=o._private.cy,f=c.styleEnabled(),p=c.headless(),g=Ro(),y=o._private,_=o.isNode(),b=o.isEdge(),R=y.rstyle,N=_&&f?o.pstyle("bounds-expansion").pfValue:[0],F=function(xt){return"none"!==xt.pstyle("display").value},L=!f||F(o)&&(!b||F(o.source())&&F(o.target()));if(L){var Y=0;f&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(Y=o.pstyle("overlay-padding").value);var U=0;f&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(U=o.pstyle("underlay-padding").value);var te=Math.max(Y,U),W=0;if(f&&(W=o.pstyle("width").pfValue/2),_&&l.includeNodes){var J=o.position();M=J.x,P=J.y;var ie=o.outerWidth()/2,ce=o.outerHeight()/2;Di(g,w=M-ie,S=P-ce,C=M+ie,T=P+ce),f&&l.includeOutlines&&function(o,l){if(!l.cy().headless()){var c=l.pstyle("outline-opacity").value,f=l.pstyle("outline-width").value;if(c>0&&f>0){var p=l.pstyle("outline-offset").value,g=l.pstyle("shape").value,y=f+p,_=(o.w+2*y)/o.w,b=(o.h+2*y)/o.h,C=0;["diamond","pentagon","round-triangle"].includes(g)?(_=(o.w+2.4*y)/o.w,C=-y/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(g)?_=(o.w+2.4*y)/o.w:"star"===g?(_=(o.w+2.8*y)/o.w,b=(o.h+2.6*y)/o.h,C=-y/3.8):"triangle"===g?(_=(o.w+2.8*y)/o.w,b=(o.h+2.4*y)/o.h,C=-y/1.4):"vee"===g&&(_=(o.w+4.4*y)/o.w,b=(o.h+3.8*y)/o.h,C=.5*-y);var T=o.w*_-o.w;if(Qi(o,[Math.ceil((o.h*b-o.h)/2),Math.ceil(T/2)]),0!==C){var M=function(o,l,c){return{x1:o.x1+0,x2:o.x2+0,y1:o.y1+c,y2:o.y2+c,w:o.w,h:o.h}}(o,0,C);yr(o,M)}}}}(g,o)}else if(b&&l.includeEdges)if(f&&!p){var se=o.pstyle("curve-style").strValue;if(w=Math.min(R.srcX,R.midX,R.tgtX),C=Math.max(R.srcX,R.midX,R.tgtX),S=Math.min(R.srcY,R.midY,R.tgtY),T=Math.max(R.srcY,R.midY,R.tgtY),Di(g,w-=W,S-=W,C+=W,T+=W),"haystack"===se){var le=R.haystackPts;if(le&&2===le.length){if((w=le[0].x)>(C=le[1].x)){var ve=w;w=C,C=ve}if((S=le[0].y)>(T=le[1].y)){var Ce=S;S=T,T=Ce}Di(g,w-W,S-W,C+W,T+W)}}else if("bezier"===se||"unbundled-bezier"===se||"segments"===se||"taxi"===se){var Ie;switch(se){case"bezier":case"unbundled-bezier":Ie=R.bezierPts;break;case"segments":case"taxi":Ie=R.linePts}if(null!=Ie)for(var _e=0;_e<Ie.length;_e++){var Ee=Ie[_e];Di(g,w=Ee.x-W,S=Ee.y-W,C=Ee.x+W,T=Ee.y+W)}}}else{var Xe=o.source().position(),be=o.target().position();if((w=Xe.x)>(C=be.x)){var fe=w;w=C,C=fe}if((S=Xe.y)>(T=be.y)){var Ne=S;S=T,T=Ne}Di(g,w-=W,S-=W,C+=W,T+=W)}if(f&&l.includeEdges&&b&&(Sh(g,o,"mid-source"),Sh(g,o,"mid-target"),Sh(g,o,"source"),Sh(g,o,"target")),f&&"yes"===o.pstyle("ghost").value){var Qe=o.pstyle("ghost-offset-x").pfValue,Je=o.pstyle("ghost-offset-y").pfValue;Di(g,g.x1+Qe,g.y1+Je,g.x2+Qe,g.y2+Je)}var Pt=y.bodyBounds=y.bodyBounds||{};Qt(Pt,g),Qi(Pt,N),ch(Pt,1),f&&Di(g,(w=g.x1)-te,(S=g.y1)-te,(C=g.x2)+te,(T=g.y2)+te);var Xt=y.overlayBounds=y.overlayBounds||{};Qt(Xt,g),Qi(Xt,N),ch(Xt,1);var ut=y.labelBounds=y.labelBounds||{};null!=ut.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(ut.all):ut.all=Ro(),f&&l.includeLabels&&(l.includeMainLabels&&si(g,o,null),b&&(l.includeSourceLabels&&si(g,o,"source"),l.includeTargetLabels&&si(g,o,"target")))}return g.x1=Ur(g.x1),g.y1=Ur(g.y1),g.x2=Ur(g.x2),g.y2=Ur(g.y2),g.w=Ur(g.x2-g.x1),g.h=Ur(g.y2-g.y1),g.w>0&&g.h>0&&L&&(Qi(g,N),ch(g,1)),g}(o,qs),c.bbCache=f,c.bbCachePosKey=_):f=c.bbCache,!y){var T=o.isNode();f=Ro(),(l.includeNodes&&T||l.includeEdges&&!T)&&yo(f,l.includeOverlays?c.overlayBounds:c.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?yo(f,c.labelBounds.all):(l.includeMainLabels&&yo(f,c.labelBounds.mainRot),l.includeSourceLabels&&yo(f,c.labelBounds.sourceRot),l.includeTargetLabels&&yo(f,c.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},qs={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Al=Mh(qs),Ih=zr(qs);Il.boundingBox=function(a){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==a&&void 0!==a.useCache&&!0!==a.useCache){o=Ro();var l=Ih(a=a||qs),c=this;if(c.cy().styleEnabled())for(var g=0;g<c.length;g++){var y=c[g],_=y._private,b=Th(y);y.recalculateRenderedStyle(l.useCache&&_.bbCachePosKey===b&&!_.styleDirty)}this.updateCompoundBounds(!a.useCache);for(var S=0;S<c.length;S++)yo(o,Pc(c[S],l))}else a=void 0===a?qs:Ih(a),o=Pc(this[0],a);return o.x1=Ur(o.x1),o.y1=Ur(o.y1),o.x2=Ur(o.x2),o.y2=Ur(o.y2),o.w=Ur(o.x2-o.x1),o.h=Ur(o.y2-o.y1),o},Il.dirtyBoundingBoxCache=function(){for(var a=0;a<this.length;a++){var o=this[a]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Il.boundingBoxAt=function(a){var o=this.nodes(),l=this.cy(),c=l.hasCompoundNodes(),f=l.collection();if(c&&(f=o.filter(function(b){return b.isParent()}),o=o.not(f)),Mt(a)){var p=a;a=function(){return p}}l.startBatch(),o.forEach(function(w,C){return w._private.bbAtOldPos=a(w,C)}).silentPositions(a),c&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var _=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(w){return w._private.bbAtOldPos}),c&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),l.endBatch(),_},kc.boundingbox=kc.bb=kc.boundingBox,kc.renderedBoundingbox=kc.renderedBoundingBox;var kl,bo,ef=Il;kl=bo={};var Oc=function(o){o.uppercaseName=ia(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=ia(o.outerName),kl[o.name]=function(){var c=this[0],f=c._private;if(c){if(f.cy._private.styleEnabled){if(c.isParent())return c.updateCompoundBounds(),f[o.autoName]||0;var y=c.pstyle(o.name);return"label"===y.strValue?(c.recalculateRenderedStyle(),f.rstyle[o.labelName]||0):y.pfValue}return 1}},kl["outer"+o.uppercaseName]=function(){var c=this[0];if(c)return c._private.cy._private.styleEnabled?c[o.name]()+c.pstyle("border-width").pfValue+2*c.padding():1},kl["rendered"+o.uppercaseName]=function(){var c=this[0];if(c)return c[o.name]()*this.cy().zoom()},kl["rendered"+o.uppercaseOuterName]=function(){var c=this[0];if(c)return c[o.outerName]()*this.cy().zoom()}};Oc({name:"width"}),Oc({name:"height"}),bo.padding=function(){var a=this[0],o=a._private;return a.isParent()?(a.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:a.pstyle("padding").pfValue):a.pstyle("padding").pfValue},bo.paddedHeight=function(){var a=this[0];return a.height()+2*a.padding()},bo.paddedWidth=function(){var a=this[0];return a.width()+2*a.padding()};var Ja=bo,Fc={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},kh=Object.keys(Fc).reduce(function(a,o){var l=Fc[o],c=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return a[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},a[c]=l.mult?function(){return function(o,l){if(o.isEdge()){var c=o.cy(),f=c.pan(),p=c.zoom();return l(o).map(function(g){return xl(g,p,f)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var c=o.cy();return xl(l(o),c.zoom(),c.pan())}}(this,l.get)},a},{}),ai=$t({},Xa,ef,Ja,kh),nf=function(o,l){this.recycle(o,l)};function el(){return!1}function ts(){return!0}nf.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=el,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?ts:el):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var c=this.position,f=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:c.x*f+p.x,y:c.y*f+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ts;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ts;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ts,this.stopPropagation()},isDefaultPrevented:el,isPropagationStopped:el,isImmediatePropagationStopped:el};var Rh=/^([^.]+)(\.(?:[^.]+))?$/,ba={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},sf=Object.keys(ba),io={};function xu(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:io,o=arguments.length>1?arguments[1]:void 0,l=0;l<sf.length;l++){var c=sf[l];this[c]=a[c]||ba[c]}this.context=o||this.context,this.listeners=[],this.emitting=0}var tl=xu.prototype,Ph=function(o,l,c,f,p,g,y){Gn(f)&&(p=f,f=null),y&&(g=null==g?y:$t({},g,y));for(var _=Pn(c)?c:c.split(/\s+/),b=0;b<_.length;b++){var w=_[b];if(!sn(w)){var C=w.match(Rh);if(C&&!1===l(o,w,C[1],C[2]?C[2]:null,f,p,g))break}}},yg=function(o,l){return o.addEventFields(o.context,l),new nf(l.type,l)};tl.on=tl.addListener=function(a,o,l,c,f){return Ph(this,function(p,g,y,_,b,w,C){Gn(w)&&p.listeners.push({event:g,callback:w,type:y,namespace:_,qualifier:b,conf:C})},a,o,l,c,f),this},tl.one=function(a,o,l,c){return this.on(a,o,l,c,{one:!0})},tl.removeListener=tl.off=function(a,o,l,c){var f=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(b){var w=p[b];Ph(f,function(C,S,T,M,P,R){if((w.type===T||"*"===a)&&(!M&&".*"!==w.namespace||w.namespace===M)&&(!P||C.qualifierCompare(w.qualifier,P))&&(!R||w.callback===R))return p.splice(b,1),!1},a,o,l,c)},y=p.length-1;y>=0;y--)g(y);return this},tl.removeAllListeners=function(){return this.removeListener("*")},tl.emit=tl.trigger=function(a,o,l){var c=this.listeners,f=c.length;return this.emitting++,Pn(o)||(o=[o]),function(o,l,c){if(function(o){return"event"===Nr(o)}(c))l(o,c);else if(Mt(c))l(o,yg(o,c));else for(var f=Pn(c)?c:c.split(/\s+/),p=0;p<f.length;p++){var g=f[p];if(!sn(g)){var y=g.match(Rh);y&&l(o,yg(o,{type:y[1],namespace:y[2]?y[2]:null,target:o.context}))}}}(this,function(p,g){null!=l&&(f=(c=[{event:g.event,type:g.type,namespace:g.namespace,callback:l}]).length);for(var y=function(w){var C=c[w];if(C.type===g.type&&(!C.namespace||C.namespace===g.namespace||".*"===C.namespace)&&p.eventMatches(p.context,C,g)){var S=[g];null!=o&&function(o,l){for(var c=0;c<l.length;c++)o.push(l[c])}(S,o),p.beforeEmit(p.context,C,g),C.conf&&C.conf.one&&(p.listeners=p.listeners.filter(function(P){return P!==C}));var T=p.callbackContext(p.context,C,g),M=C.callback.apply(T,S);p.afterEmit(p.context,C,g),!1===M&&(g.stopPropagation(),g.preventDefault())}},_=0;_<f;_++)y(_);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},a),this.emitting--,this};var wv={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,c){var f=l.qualifier;return null==f||o!==c.target&&au(c.target)&&f.matches(c.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,c){return null!=l.qualifier?c.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},Ol=function(o){return lt(o)?new Us(o):o},Oh={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],c=l._private;c.emitter||(c.emitter=new xu(wv,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,c){for(var f=Ol(l),p=0;p<this.length;p++)this[p].emitter().on(o,f,c);return this},removeListener:function(o,l,c){for(var f=Ol(l),p=0;p<this.length;p++)this[p].emitter().removeListener(o,f,c);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,c){for(var f=Ol(l),p=0;p<this.length;p++)this[p].emitter().one(o,f,c);return this},once:function(o,l,c){for(var f=Ol(l),p=0;p<this.length;p++)this[p].emitter().on(o,f,c,{once:!0,onceCollection:this})},emit:function(o,l){for(var c=0;c<this.length;c++)this[c].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};ln.eventAliasesOn(Oh);var _o={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),c=0;c<this.length;c++){var f=this[c];f.isNode()?o.push(f):l.push(f)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(lt(o)||Zt(o))return new Us(o).filter(this);if(Gn(o)){for(var c=this.spawn(),f=this,p=0;p<f.length;p++){var g=f[p];(l?o.apply(l,[g,p,f]):o(g,p,f))&&c.push(g)}return c}return this.spawn()},not:function(o){if(o){lt(o)&&(o=this.filter(o));for(var l=this.spawn(),c=0;c<this.length;c++){var f=this[c];o.has(f)||l.push(f)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(lt(o))return this.filter(o);for(var c=this.spawn(),g=this.length<o.length,y=g?this:o,_=g?o:this,b=0;b<y.length;b++){var w=y[b];_.has(w)&&c.push(w)}return c},xor:function(o){var l=this._private.cy;lt(o)&&(o=l.$(o));var c=this.spawn(),p=o,g=function(_,b){for(var w=0;w<_.length;w++){var C=_[w];b.hasElementWithId(C._private.data.id)||c.push(C)}};return g(this,p),g(p,this),c},diff:function(o){var l=this._private.cy;lt(o)&&(o=l.$(o));var c=this.spawn(),f=this.spawn(),p=this.spawn(),y=o,_=function(w,C,S){for(var T=0;T<w.length;T++){var M=w[T];C.hasElementWithId(M._private.data.id)?p.merge(M):S.push(M)}};return _(this,y,c),_(y,this,f),{left:c,right:f,both:p}},add:function(o){var l=this._private.cy;if(!o)return this;if(lt(o)){var c=o;o=l.mutableElements().filter(c)}for(var f=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&f.push(g)}return f},merge:function(o){var l=this._private,c=l.cy;if(!o)return this;if(o&&lt(o)){var f=o;o=c.mutableElements().filter(f)}for(var p=l.map,g=0;g<o.length;g++){var y=o[g],_=y._private.data.id;if(!p.has(_)){var w=this.length++;this[w]=y,p.set(_,{ele:y,index:w})}}return this},unmergeAt:function(o){var c=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(c),this.length>1&&o!==this.length-1){var y=this.length-1,_=this[y],b=_._private.data.id;this[y]=void 0,this[o]=_,p.set(b,{ele:_,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&lt(o)){var c=o;o=l.mutableElements().filter(c)}for(var f=0;f<o.length;f++)this.unmergeOne(o[f]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var c=[],f=this,p=0;p<f.length;p++){var g=f[p],y=l?o.apply(l,[g,p,f]):o(g,p,f);c.push(y)}return c},reduce:function(o,l){for(var c=l,f=this,p=0;p<f.length;p++)c=o(c,f[p],p,f);return c},max:function(o,l){for(var f,c=-1/0,p=this,g=0;g<p.length;g++){var y=p[g],_=l?o.apply(l,[y,g,p]):o(y,g,p);_>c&&(c=_,f=y)}return{value:c,ele:f}},min:function(o,l){for(var f,c=1/0,p=this,g=0;g<p.length;g++){var y=p[g],_=l?o.apply(l,[y,g,p]):o(y,g,p);_<c&&(c=_,f=y)}return{value:c,ele:f}}},Vn=_o;Vn.u=Vn["|"]=Vn["+"]=Vn.union=Vn.or=Vn.add,Vn["\\"]=Vn["!"]=Vn["-"]=Vn.difference=Vn.relativeComplement=Vn.subtract=Vn.not,Vn.n=Vn["&"]=Vn["."]=Vn.and=Vn.intersection=Vn.intersect,Vn["^"]=Vn["(+)"]=Vn["(-)"]=Vn.symmetricDifference=Vn.symdiff=Vn.xor,Vn.fnFilter=Vn.filterFn=Vn.stdFilter=Vn.filter,Vn.complement=Vn.abscomp=Vn.absoluteComplement;var o,bg=function(o,l){var f=o.cy().hasCompoundNodes();function p(w){var C=w.pstyle("z-compound-depth");return"auto"===C.value?f?w.zDepth():0:"bottom"===C.value?-1:"top"===C.value?ih:0}var g=p(o)-p(l);if(0!==g)return g;function y(w){return"auto"===w.pstyle("z-index-compare").value&&w.isNode()?1:0}var _=y(o)-y(l);if(0!==_)return _;var b=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==b?b:o.poolIndex()-l.poolIndex()},Bc={forEach:function(o,l){if(Gn(o))for(var c=this.length,f=0;f<c;f++){var p=this[f];if(!1===(l?o.apply(l,[p,f,this]):o(p,f,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var c=[],f=this.length;null==l&&(l=f),null==o&&(o=0),o<0&&(o=f+o),l<0&&(l=f+l);for(var p=o;p>=0&&p<l&&p<f;p++)c.push(this[p]);return this.spawn(c)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!Gn(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(bg)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var f=l.data.parent?o.parents().size():0;return o.isParent()?f:ih-1}var g=l.target,y=l.source.zDepth(),_=g.zDepth();return Math.max(y,_,0)}}};Bc.each=Bc.forEach,o="undefined",(typeof Symbol>"u"?"undefined":yn(Symbol))!=o&&yn(Symbol.iterator)!=o&&(Bc[Symbol.iterator]=function(){var c=this,f={value:void 0,done:!1},p=0,g=this.length;return Fn({next:function(){return p<g?f.value=c[p++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var _g=zr({nodeDimensionsIncludeLabels:!1}),Su={layoutDimensions:function(o){var l;if(o=_g(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var c=this.boundingBox();l={w:c.w,h:c.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,c){var f=this.nodes().filter(function(Y){return!Y.isParent()}),p=this.cy(),g=l.eles,y=function(X){return X.id()},_=uu(c,y);o.emit({type:"layoutstart",layout:o}),o.animations=[];var w=l.spacingFactor&&1!==l.spacingFactor,S=function(){if(!w)return null;for(var X=Ro(),U=0;U<f.length;U++){var j=_(f[U],U);lv(X,j.x,j.y)}return X}(),T=uu(function(Y,X){var U=_(Y,X);return w&&(U=function(X,U,te){var j_x=U.x1+U.w/2,j_y=U.y1+U.h/2;return{x:j_x+(te.x-j_x)*X,y:j_y+(te.y-j_y)*X}}(Math.abs(l.spacingFactor),S,U)),null!=l.transform&&(U=l.transform(Y,U)),U},y);if(l.animate){for(var M=0;M<f.length;M++){var P=f[M],R=T(P,M);if(null==l.animateFilter||l.animateFilter(P,M)){var F=P.animation({position:R,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(F)}else P.position(R)}if(l.fit){var L=p.animation({fit:{boundingBox:g.boundingBoxAt(T),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(L)}else if(void 0!==l.zoom&&void 0!==l.pan){var H=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(H)}o.animations.forEach(function(Y){return Y.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),No.all(o.animations.map(function(Y){return Y.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else f.positions(T),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout($t({},o,{eles:this}))}};function wg(a,o,l){var p,c=l._private,f=c.styleCache=c.styleCache||[];return null!=(p=f[a])||(p=f[a]=o(l)),p}function Vo(a,o){return a=Ps(a),function(c){return wg(a,o,c)}}function Mu(a,o){a=Ps(a);var l=function(f){return o.call(f)};return function(){var f=this[0];if(f)return wg(a,l,f)}}Su.createLayout=Su.makeLayout=Su.layout;var Wr={recalculateRenderedStyle:function(o){var l=this.cy(),c=l.renderer(),f=l.styleEnabled();return c&&f&&c.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var c,o=this.cy(),l=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((c=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(c.connectedEdges()),c.forEach(l)):this.forEach(function(f){l(f),f.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(y){return y._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var c=this[l];c._private.styleDirty&&(c._private.styleDirty=!1,o.style().apply(c))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=this[0],f=c.cy();if(f.styleEnabled()&&c)return this.cleanStyle(),c._private.style[o]??(l?f.style().getDefaultProperty(o):null)},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var c=l.pstyle(o);return void 0!==c.pfValue?c.pfValue:c.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var c=this[0];return c?l.style().getRenderedStyle(c,o):void 0},style:function(o,l){var c=this.cy();if(!c.styleEnabled())return this;var p=c.style();if(Mt(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(lt(o)){if(void 0===l){var y=this[0];return y?p.getStylePropertyValue(y,o):void 0}p.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var _=this[0];return _?p.getRawStyle(_):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var f=l.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)f.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var _=0;_<p.length;_++)f.removeBypasses(p[_],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),c=this[0];if(c){var f=c._private,p=c.pstyle("opacity").value;if(!l)return p;var g=f.data.parent?c.parents():null;if(g)for(var y=0;y<g.length;y++)p*=g[y].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],c=l.cy().hasCompoundNodes();return l?c?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function lr(a,o){var c=a._private.data.parent?a.parents():null;if(c)for(var f=0;f<c.length;f++)if(!o(c[f]))return!1;return!0}function Nl(a){var o=a.ok,l=a.edgeOkViaNode||a.ok,c=a.parentOk||a.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var p=this[0],g=f.hasCompoundNodes();if(p){var y=p._private;if(!o(p))return!1;if(p.isNode())return!g||lr(p,c);var _=y.source,b=y.target;return l(_)&&(!g||lr(_,l))&&(_===b||l(b)&&(!g||lr(b,l)))}}}var Ws=Vo("eleTakesUpSpace",function(a){return"element"===a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});Wr.takesUpSpace=Mu("takesUpSpace",Nl({ok:Ws}));var oo=Vo("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&Ws(a)}),Eg=Vo("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&Ws(a)});Wr.interactive=Mu("interactive",Nl({ok:oo,parentOk:Eg,edgeOkViaNode:Ws})),Wr.noninteractive=function(){var a=this[0];if(a)return!a.interactive()};var Vc=Vo("eleVisible",function(a){return"visible"===a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&Ws(a)});Wr.visible=Mu("visible",Nl({ok:Vc,edgeOkViaNode:Ws})),Wr.hidden=function(){var a=this[0];if(a)return!a.visible()},Wr.isBundledBezier=Mu("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Wr.bypass=Wr.css=Wr.style,Wr.renderedCss=Wr.renderedStyle,Wr.removeBypass=Wr.removeCss=Wr.removeStyle,Wr.pstyle=Wr.parsedStyle;var jr={};function Nh(a){return function(){var o=arguments,l=[];if(2===o.length)this.on(a.event,o[0],o[1]);else if(1===o.length&&Gn(o[0]))this.on(a.event,o[0]);else if(0===o.length||1===o.length&&Pn(o[0])){for(var g=1===o.length?o[0]:null,y=0;y<this.length;y++){var _=this[y],b=!a.ableField||_._private[a.ableField],w=_._private[a.field]!=a.value;if(a.overrideAble){var C=a.overrideAble(_);if(void 0!==C&&(b=C,!C))return this}b&&(_._private[a.field]=a.value,w&&l.push(_))}var S=this.spawn(l);S.updateStyle(),S.emit(a.event),g&&S.emit(g)}return this}}function Iu(a){jr[a.field]=function(){var o=this[0];if(o){if(a.overrideField){var l=a.overrideField(o);if(void 0!==l)return l}return o._private[a.field]}},jr[a.on]=Nh({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),jr[a.off]=Nh({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}Iu({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),Iu({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Iu({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Iu({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),jr.deselect=jr.unselect,jr.grabbed=function(){var a=this[0];if(a)return a._private.grabbed},Iu({field:"active",on:"activate",off:"unactivate"}),Iu({field:"pannable",on:"panify",off:"unpanify"}),jr.inactive=function(){var a=this[0];if(a)return!a._private.active};var Ci={},_a=function(o){return function(c){for(var p=[],g=0;g<this.length;g++){var y=this[g];if(y.isNode()){for(var _=!1,b=y.connectedEdges(),w=0;w<b.length;w++){var C=b[w],S=C.source(),T=C.target();if(o.noIncomingEdges&&T===y&&S!==y||o.noOutgoingEdges&&S===y&&T!==y){_=!0;break}}_||p.push(y)}}return this.spawn(p,!0).filter(c)}},$c=function(o){return function(l){for(var f=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var y=g.connectedEdges(),_=0;_<y.length;_++){var b=y[_],w=b.source(),C=b.target();o.outgoing&&w===g?(f.push(b),f.push(C)):o.incoming&&C===g&&(f.push(b),f.push(w))}}return this.spawn(f,!0).filter(l)}},Fh=function(o){return function(l){for(var c=this,f=[],p={};;){var g=o.outgoing?c.outgoers():c.incomers();if(0===g.length)break;for(var y=!1,_=0;_<g.length;_++){var b=g[_],w=b.id();p[w]||(p[w]=!0,f.push(b),y=!0)}if(!y)break;c=g}return this.spawn(f,!0).filter(l)}};function zc(a){return function(l){for(var c=[],f=0;f<this.length;f++){var g=this[f]._private[a.attr];g&&c.push(g)}return this.spawn(c,!0).filter(l)}}function Lh(a){return function(l){var c=[],f=this._private.cy,p=a||{};lt(l)&&(l=f.$(l));for(var g=0;g<l.length;g++)for(var y=l[g]._private.edges,_=0;_<y.length;_++){var b=y[_],w=b._private.data,C=this.hasElementWithId(w.source)&&l.hasElementWithId(w.target),S=l.hasElementWithId(w.source)&&this.hasElementWithId(w.target);(C||S)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!C||p.thisIsTgt&&!S)||c.push(b))}return this.spawn(c,!0)}}function Hc(a){return a=$t({},{codirected:!1},a),function(c){for(var f=[],p=this.edges(),g=a,y=0;y<p.length;y++)for(var b=p[y]._private,w=b.source,C=w._private.data.id,S=b.data.target,T=w._private.edges,M=0;M<T.length;M++){var P=T[M],R=P._private.data,N=R.target,F=R.source,L=N===S&&F===C;(g.codirected&&L||!g.codirected&&(L||C===N&&S===F))&&f.push(P)}return this.spawn(f,!0).filter(c)}}Ci.clearTraversalCache=function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null},$t(Ci,{roots:_a({noIncomingEdges:!0}),leaves:_a({noOutgoingEdges:!0}),outgoers:ps($c({outgoing:!0}),"outgoers"),successors:Fh({outgoing:!0}),incomers:ps($c({incoming:!0}),"incomers"),predecessors:Fh({incoming:!0})}),$t(Ci,{neighborhood:ps(function(a){for(var o=[],l=this.nodes(),c=0;c<l.length;c++)for(var f=l[c],p=f.connectedEdges(),g=0;g<p.length;g++){var y=p[g],_=y.source(),b=y.target(),w=f===_?b:_;w.length>0&&o.push(w[0]),o.push(y[0])}return this.spawn(o,!0).filter(a)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Ci.neighbourhood=Ci.neighborhood,Ci.closedNeighbourhood=Ci.closedNeighborhood,Ci.openNeighbourhood=Ci.openNeighborhood,$t(Ci,{source:ps(function(o){var c,l=this[0];return l&&(c=l._private.source||l.cy().collection()),c&&o?c.filter(o):c},"source"),target:ps(function(o){var c,l=this[0];return l&&(c=l._private.target||l.cy().collection()),c&&o?c.filter(o):c},"target"),sources:zc({attr:"source"}),targets:zc({attr:"target"})}),$t(Ci,{edgesWith:ps(Lh(),"edgesWith"),edgesTo:ps(Lh({thisIsSrc:!0}),"edgesTo")}),$t(Ci,{connectedEdges:ps(function(a){for(var o=[],c=0;c<this.length;c++){var f=this[c];if(f.isNode())for(var p=f._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(a)},"connectedEdges"),connectedNodes:ps(function(a){for(var o=[],c=0;c<this.length;c++){var f=this[c];f.isEdge()&&(o.push(f.source()[0]),o.push(f.target()[0]))}return this.spawn(o,!0).filter(a)},"connectedNodes"),parallelEdges:ps(Hc(),"parallelEdges"),codirectedEdges:ps(Hc({codirected:!0}),"codirectedEdges")}),$t(Ci,{components:function(o){var l=this,c=l.cy(),f=c.collection(),p=null==o?l.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var y=function(w,C){f.merge(w),p.unmerge(w),C.merge(w)};if(p.empty())return l.spawn();var _=function(){var w=c.collection();g.push(w);var C=p[0];y(C,w),l.bfs({directed:!1,roots:C,visit:function(T){return y(T,w)}}),w.forEach(function(S){S.connectedEdges().forEach(function(T){l.has(T)&&w.has(T.source())&&w.has(T.target())&&w.merge(T)})})};do{_()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Ci.componentsOf=Ci.components;var zt=function(o,l){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new Os,g=!1;if(l){if(l.length>0&&Mt(l[0])&&!au(l[0])){g=!0;for(var y=[],_=new gu,b=0,w=l.length;b<w;b++){var C=l[b];null==C.data&&(C.data={});var S=C.data;if(null==S.id)S.id=Jp();else if(o.hasElementWithId(S.id)||_.has(S.id))continue;var T=new pc(o,C,!1);y.push(T),_.add(S.id)}l=y}}else l=[];this.length=0;for(var M=0,P=l.length;M<P;M++){var R=l[M][0];if(null!=R){var N=R._private.data.id;(!c||!p.has(N))&&(c&&p.set(N,{index:this.length,ele:R}),this[this.length]=R,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(F){this.lazyMap=F},rebuildMap:function(){for(var L=this.lazyMap=new Os,H=this.eles,Y=0;Y<H.length;Y++){var X=H[Y];L.set(X.id(),{index:Y,ele:X})}}},c&&(this._private.map=p),g&&!f&&this.restore()}else Yn("A collection must have a reference to the core")},Dt=pc.prototype=zt.prototype=Object.create(Array.prototype);Dt.instanceString=function(){return"collection"},Dt.spawn=function(a,o){return new zt(this.cy(),a,o)},Dt.spawnSelf=function(){return this.spawn(this)},Dt.cy=function(){return this._private.cy},Dt.renderer=function(){return this._private.cy.renderer()},Dt.element=function(){return this[0]},Dt.collection=function(){return Qf(this)?this:new zt(this._private.cy,[this])},Dt.unique=function(){return new zt(this._private.cy,this,!0)},Dt.hasElementWithId=function(a){return this._private.map.has(a=""+a)},Dt.getElementById=function(a){var o=this._private.cy,l=this._private.map.get(a=""+a);return l?l.ele:new zt(o)},Dt.$id=Dt.getElementById,Dt.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Dt.indexOf=function(a){return this._private.map.get(a[0]._private.data.id).index},Dt.indexOfId=function(a){return this._private.map.get(a=""+a).index},Dt.json=function(a){var o=this.element(),l=this.cy();if(null==o&&a)return this;if(null!=o){var c=o._private;if(Mt(a)){if(l.startBatch(),a.data){o.data(a.data);var f=c.data;if(o.isEdge()){var p=!1,g={},y=a.data.source,_=a.data.target;null!=y&&y!=f.source&&(g.source=""+y,p=!0),null!=_&&_!=f.target&&(g.target=""+_,p=!0),p&&(o=o.move(g))}else{var w=a.data.parent;"parent"in a.data&&(null!=w||null!=f.parent)&&w!=f.parent&&(void 0===w&&(w=null),null!=w&&(w=""+w),o=o.move({parent:w}))}}a.position&&o.position(a.position);var C=function(P,R,N){var F=a[P];null!=F&&F!==c[P]&&(F?o[R]():o[N]())};return C("removed","remove","restore"),C("selected","select","unselect"),C("selectable","selectify","unselectify"),C("locked","lock","unlock"),C("grabbable","grabify","ungrabify"),C("pannable","panify","unpanify"),null!=a.classes&&o.classes(a.classes),l.endBatch(),this}if(void 0===a){var S={data:Jr(c.data),position:Jr(c.position),group:c.group,removed:c.removed,selected:c.selected,selectable:c.selectable,locked:c.locked,grabbable:c.grabbable,pannable:c.pannable,classes:""},T=0;return c.classes.forEach(function(M){return S.classes+=0==T++?M:" "+M}),S}}},Dt.jsons=function(){for(var a=[],o=0;o<this.length;o++){var c=this[o].json();a.push(c)}return a},Dt.clone=function(){for(var a=this.cy(),o=[],l=0;l<this.length;l++){var f=this[l].json(),p=new pc(a,f,!1);o.push(p)}return new zt(a,o)},Dt.copy=Dt.clone,Dt.restore=function(){for(var y,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,c=l.cy(),f=c._private,p=[],g=[],_=0,b=l.length;_<b;_++){var w=l[_];o&&!w.removed()||(w.isNode()?p.push(w):g.push(w))}y=p.concat(g);var C,S=function(){y.splice(C,1),C--};for(C=0;C<y.length;C++){var T=y[C],M=T._private,P=M.data;if(T.clearTraversalCache(),o||M.removed)if(void 0===P.id)P.id=Jp();else if(gt(P.id))P.id=""+P.id;else{if(sn(P.id)||!lt(P.id)){Yn("Can not create element with invalid string ID `"+P.id+"`"),S();continue}if(c.hasElementWithId(P.id)){Yn("Can not create second element with ID `"+P.id+"`"),S();continue}}var R=P.id;if(T.isNode()){var N=M.position;null==N.x&&(N.x=0),null==N.y&&(N.y=0)}if(T.isEdge()){for(var F=T,L=["source","target"],H=L.length,Y=!1,X=0;X<H;X++){var U=L[X],te=P[U];gt(te)&&(te=P[U]=""+P[U]),null==te||""===te?(Yn("Can not create edge `"+R+"` with unspecified "+U),Y=!0):c.hasElementWithId(te)||(Yn("Can not create edge `"+R+"` with nonexistant "+U+" `"+te+"`"),Y=!0)}if(Y){S();continue}var j=c.getElementById(P.source),W=c.getElementById(P.target);j.same(W)?j._private.edges.push(F):(j._private.edges.push(F),W._private.edges.push(F)),F._private.source=j,F._private.target=W}M.map=new Os,M.map.set(R,{ele:T,index:0}),M.removed=!1,o&&c.addToPool(T)}for(var J=0;J<p.length;J++){var K=p[J],ie=K._private.data;gt(ie.parent)&&(ie.parent=""+ie.parent);var Q=ie.parent;if(null!=Q||K._private.parent){var se=K._private.parent?c.collection().merge(K._private.parent):c.getElementById(Q);if(se.empty())ie.parent=void 0;else if(se[0].removed())rn("Node added with missing parent, reference to parent removed"),ie.parent=void 0,K._private.parent=null;else{for(var le=!1,ve=se;!ve.empty();){if(K.same(ve)){le=!0,ie.parent=void 0;break}ve=ve.parent()}le||(se[0]._private.children.push(K),K._private.parent=se[0],f.hasCompoundNodes=!0)}}}if(y.length>0){for(var Ce=y.length===l.length?l:new zt(c,y),Ie=0;Ie<Ce.length;Ie++){var _e=Ce[Ie];_e.isNode()||(_e.parallelEdges().clearTraversalCache(),_e.source().clearTraversalCache(),_e.target().clearTraversalCache())}(f.hasCompoundNodes?c.collection().merge(Ce).merge(Ce.connectedNodes()).merge(Ce.parent()):Ce).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(a),a?Ce.emitAndNotify("add"):o&&Ce.emit("add")}return l},Dt.removed=function(){var a=this[0];return a&&a._private.removed},Dt.inside=function(){var a=this[0];return a&&!a._private.removed},Dt.remove=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,c=[],f={},p=l._private.cy;function _(Q){var ce=f[Q.id()];o&&Q.removed()||ce||(f[Q.id()]=!0,Q.isNode()?(c.push(Q),function g(Q){for(var ce=Q._private.edges,se=0;se<ce.length;se++)_(ce[se])}(Q),function y(Q){for(var ce=Q._private.children,se=0;se<ce.length;se++)_(ce[se])}(Q)):c.unshift(Q))}for(var b=0,w=l.length;b<w;b++)_(l[b]);function S(Q,ce){Qo(Q._private.edges,ce),Q.clearTraversalCache()}var M=[];function P(Q,ce){ce=ce[0];var se=(Q=Q[0])._private.children,le=Q.id();Qo(se,ce),ce._private.parent=null,M.ids[le]||(M.ids[le]=!0,M.push(Q))}M.ids={},l.dirtyCompoundBoundsCache(),o&&p.removeFromPool(c);for(var R=0;R<c.length;R++){var N=c[R];if(N.isEdge()){var F=N.source()[0],L=N.target()[0];S(F,N),S(L,N);for(var H=N.parallelEdges(),Y=0;Y<H.length;Y++){var X=H[Y];X.clearTraversalCache(),X.isBundledBezier()&&X.dirtyBoundingBoxCache()}}else{var U=N.parent();0!==U.length&&P(U,N)}o&&(N._private.removed=!0)}var te=p._private.elements;p._private.hasCompoundNodes=!1;for(var j=0;j<te.length;j++)if(te[j].isParent()){p._private.hasCompoundNodes=!0;break}var J=new zt(this.cy(),c);J.size()>0&&(a?J.emitAndNotify("remove"):o&&J.emit("remove"));for(var K=0;K<M.length;K++){var ie=M[K];(!o||!ie.removed())&&ie.updateStyle()}return J},Dt.move=function(a){var o=this._private.cy,l=this,c=!1,f=!1,p=function(M){return null==M?M:""+M};if(void 0!==a.source||void 0!==a.target){var g=p(a.source),y=p(a.target),_=null!=g&&o.hasElementWithId(g),b=null!=y&&o.hasElementWithId(y);(_||b)&&(o.batch(function(){l.remove(c,f),l.emitAndNotify("moveout");for(var T=0;T<l.length;T++){var M=l[T],P=M._private.data;M.isEdge()&&(_&&(P.source=g),b&&(P.target=y))}l.restore(c,f)}),l.emitAndNotify("move"))}else if(void 0!==a.parent){var w=p(a.parent);if(null===w||o.hasElementWithId(w)){var S=null===w?void 0:w;o.batch(function(){var T=l.remove(c,f);T.emitAndNotify("moveout");for(var M=0;M<l.length;M++){var P=l[M],R=P._private.data;P.isNode()&&(R.parent=S)}T.restore(c,f)}),l.emitAndNotify("move")}}return this},[Ya,Du,Mr,Qa,Cu,A0,Ch,ai,Oh,_o,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},Bc,Su,Wr,jr,Ci].forEach(function(a){$t(Dt,a)});var Dg={add:function(o){var l,c=this;if(Zt(o)){var f=o;if(f._private.cy===c)l=f.restore();else{for(var p=[],g=0;g<f.length;g++)p.push(f[g].json());l=new zt(c,p)}}else if(Pn(o))l=new zt(c,o);else if(Mt(o)&&(Pn(o.nodes)||Pn(o.edges))){for(var b=o,w=[],C=["nodes","edges"],S=0,T=C.length;S<T;S++){var M=C[S],P=b[M];if(Pn(P))for(var R=0,N=P.length;R<N;R++){var F=$t({group:M},P[R]);w.push(F)}}l=new zt(c,w)}else l=new pc(c,o).collection();return l},remove:function(o){return Zt(o)||lt(o)&&(o=this.$(o)),o.remove()}};function uf(a,o,l,c){var b=.1,w=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var C=0;C<4;++C)if("number"!=typeof arguments[C]||isNaN(arguments[C])||!isFinite(arguments[C]))return!1;a=Math.min(a,1),l=Math.min(l,1),a=Math.max(a,0),l=Math.max(l,0);var S=w?new Float32Array(11):new Array(11);function T(W,J){return 1-3*J+3*W}function M(W,J){return 3*J-6*W}function P(W){return 3*W}function R(W,J,K){return((T(J,K)*W+M(J,K))*W+P(J))*W}function N(W,J,K){return 3*T(J,K)*W*W+2*M(J,K)*W+P(J)}var X=!1;var te=function(J){return X||function U(){X=!0,(a!==o||l!==c)&&function L(){for(var W=0;W<11;++W)S[W]=R(W*b,a,l)}()}(),a===o&&l===c?J:0===J?0:1===J?1:R(function Y(W){for(var J=0,K=1;10!==K&&S[K]<=W;++K)J+=b;--K;var ce=J+(W-S[K])/(S[K+1]-S[K])*b,se=N(ce,a,l);return se>=.001?function F(W,J){for(var K=0;K<4;++K){var ie=N(J,a,l);if(0===ie)return J;J-=(R(J,a,l)-W)/ie}return J}(W,ce):0===se?ce:function H(W,J,K){var ie,Q,ce=0;do{(ie=R(Q=J+(K-J)/2,a,l)-W)>0?K=Q:J=Q}while(Math.abs(ie)>1e-7&&++ce<10);return Q}(W,J,J+b)}(J),o,c)};te.getControlPoints=function(){return[{x:a,y:o},{x:l,y:c}]};var j="generateBezier("+[a,o,l,c]+")";return te.toString=function(){return j},te}var Cg=function(){function a(c){return-c.tension*c.x-c.friction*c.v}function o(c,f,p){var g={x:c.x+p.dx*f,v:c.v+p.dv*f,tension:c.tension,friction:c.friction};return{dx:g.v,dv:a(g)}}function l(c,f){var p={dx:c.v,dv:a(c)},g=o(c,.5*f,p),y=o(c,.5*f,g),_=o(c,f,y),w=1/6*(p.dv+2*(g.dv+y.dv)+_.dv);return c.x=c.x+1/6*(p.dx+2*(g.dx+y.dx)+_.dx)*f,c.v=c.v+w*f,c}return function c(f,p,g){var S,T,M,y={x:-1,v:0,tension:null,friction:null},_=[0],b=0,w=1e-4;for(f=parseFloat(f)||500,p=parseFloat(p)||20,g=g||null,y.tension=f,y.friction=p,T=(S=null!==g)?(b=c(f,p))/g*.016:.016;M=l(M||y,T),_.push(1+M.x),b+=16,Math.abs(M.x)>w&&Math.abs(M.v)>w;);return S?function(P){return _[P*(_.length-1)|0]}:b}}(),br=function(o,l,c,f){var p=uf(o,l,c,f);return function(g,y,_){return g+(y-g)*p(_)}},cf={linear:function(o,l,c){return o+(l-o)*c},ease:br(.25,.1,.25,1),"ease-in":br(.42,0,1,1),"ease-out":br(0,0,.58,1),"ease-in-out":br(.42,0,.58,1),"ease-in-sine":br(.47,0,.745,.715),"ease-out-sine":br(.39,.575,.565,1),"ease-in-out-sine":br(.445,.05,.55,.95),"ease-in-quad":br(.55,.085,.68,.53),"ease-out-quad":br(.25,.46,.45,.94),"ease-in-out-quad":br(.455,.03,.515,.955),"ease-in-cubic":br(.55,.055,.675,.19),"ease-out-cubic":br(.215,.61,.355,1),"ease-in-out-cubic":br(.645,.045,.355,1),"ease-in-quart":br(.895,.03,.685,.22),"ease-out-quart":br(.165,.84,.44,1),"ease-in-out-quart":br(.77,0,.175,1),"ease-in-quint":br(.755,.05,.855,.06),"ease-out-quint":br(.23,1,.32,1),"ease-in-out-quint":br(.86,0,.07,1),"ease-in-expo":br(.95,.05,.795,.035),"ease-out-expo":br(.19,1,.22,1),"ease-in-out-expo":br(1,0,0,1),"ease-in-circ":br(.6,.04,.98,.335),"ease-out-circ":br(.075,.82,.165,1),"ease-in-out-circ":br(.785,.135,.15,.86),spring:function(o,l,c){if(0===c)return cf.linear;var f=Cg(o,l,c);return function(p,g,y){return p+(g-p)*f(y)}},"cubic-bezier":br};function wo(a,o,l,c,f){if(1===c||o===l)return l;var p=f(o,l,c);return null==a||((a.roundValue||a.color)&&(p=Math.round(p)),void 0!==a.min&&(p=Math.max(p,a.min)),void 0!==a.max&&(p=Math.min(p,a.max))),p}function Fl(a,o){return null!=a.pfValue||null!=a.value?null==a.pfValue||null!=o&&"%"===o.type.units?a.value:a.pfValue:a}function wa(a,o,l,c,f){var p=null!=f?f.type:null;l<0?l=0:l>1&&(l=1);var g=Fl(a,f),y=Fl(o,f);if(gt(g)&&gt(y))return wo(p,g,y,l,c);if(Pn(g)&&Pn(y)){for(var _=[],b=0;b<y.length;b++){var w=g[b],C=y[b];if(null!=w&&null!=C){var S=wo(p,w,C,l,c);_.push(S)}else _.push(C)}return _}}function Bh(a,o,l,c){var f=!c,p=a._private,g=o._private,y=g.easing,_=g.startTime,w=(c?a:a.cy()).style();if(!g.easingImpl)if(null==y)g.easingImpl=cf.linear;else{var C,T,M;C=lt(y)?w.parse("transition-timing-function",y).value:y,lt(C)?(T=C,M=[]):(T=C[1],M=C.slice(2).map(function(Ce){return+Ce})),M.length>0?("spring"===T&&M.push(g.duration),g.easingImpl=cf[T].apply(null,M)):g.easingImpl=cf[T]}var R,P=g.easingImpl;if(R=0===g.duration?1:(l-_)/g.duration,g.applying&&(R=g.progress),R<0?R=0:R>1&&(R=1),null==g.delay){var N=g.startPosition,F=g.position;if(F&&f&&!a.locked()){var L={};Au(N.x,F.x)&&(L.x=wa(N.x,F.x,R,P)),Au(N.y,F.y)&&(L.y=wa(N.y,F.y,R,P)),a.position(L)}var H=g.startPan,Y=g.pan,X=p.pan,U=null!=Y&&c;U&&(Au(H.x,Y.x)&&(X.x=wa(H.x,Y.x,R,P)),Au(H.y,Y.y)&&(X.y=wa(H.y,Y.y,R,P)),a.emit("pan"));var te=g.startZoom,j=g.zoom,W=null!=j&&c;W&&(Au(te,j)&&(p.zoom=Vd(p.minZoom,wa(te,j,R,P),p.maxZoom)),a.emit("zoom")),(U||W)&&a.emit("viewport");var J=g.style;if(J&&J.length>0&&f){for(var K=0;K<J.length;K++){var ie=J[K],Q=ie.name,se=g.startStyle[Q],ve=wa(se,ie,R,P,w.properties[se.name]);w.overrideBypass(a,Q,ve)}a.emit("style")}}return g.progress=R,R}function Au(a,o){return!!(null!=a&&null!=o&&(gt(a)&&gt(o)||a&&o))}function xg(a,o,l,c){var f=o._private;f.started=!0,f.startTime=l-f.progress*f.duration}function Eo(a,o){var l=o._private.aniEles,c=[];function f(w,C){var S=w._private,T=S.animation.current,M=S.animation.queue,P=!1;if(0===T.length){var R=M.shift();R&&T.push(R)}for(var N=function(X){for(var U=X.length-1;U>=0;U--)(0,X[U])();X.splice(0,X.length)},F=T.length-1;F>=0;F--){var L=T[F],H=L._private;H.stopped?(T.splice(F,1),H.hooked=!1,H.playing=!1,H.started=!1,N(H.frames)):!H.playing&&!H.applying||(H.playing&&H.applying&&(H.applying=!1),H.started||xg(0,L,a),Bh(w,L,a,C),H.applying&&(H.applying=!1),N(H.frames),null!=H.step&&H.step(a),L.completed()&&(T.splice(F,1),H.hooked=!1,H.playing=!1,H.started=!1,N(H.completes)),P=!0)}return!C&&0===T.length&&0===M.length&&c.push(w),P}for(var p=!1,g=0;g<l.length;g++){var _=f(l[g]);p=p||_}var b=f(o,!0);(p||b)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(c),o.emit("step")}var je={animate:ln.animate(),animation:ln.animation(),animated:ln.animated(),clearQueue:ln.clearQueue(),delay:ln.delay(),delayAnimation:ln.delayAnimation(),stop:ln.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var c=o.renderer();c&&c.beforeRender?c.beforeRender(function(p,g){Eo(g,o)},c.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&kd(function(p){Eo(p,o),l()})}()}}},kn={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,c){var f=l.qualifier;return null==f||o!==c.target&&au(c.target)&&f.matches(c.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,c){return null!=l.qualifier?c.target:o}},Ea=function(o){return lt(o)?new Us(o):o},Da={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new xu(kn,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,c){return this.emitter().on(o,Ea(l),c),this},removeListener:function(o,l,c){return this.emitter().removeListener(o,Ea(l),c),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,c){return this.emitter().one(o,Ea(l),c),this},once:function(o,l,c){return this.emitter().one(o,Ea(l),c),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};ln.eventAliasesOn(Da);var Kr={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};Kr.jpeg=Kr.jpg;var Ll={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var p,c=o.name,f=l.extension("layout",c);if(null!=f)return p=lt(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new f($t({},o,{cy:l,eles:p}));Yn("No such layout `"+c+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Yn("A `name` must be specified to make a layout");else Yn("Layout options must be specified to make a layout")}};Ll.createLayout=Ll.makeLayout=Ll.layout;var ku={notify:function(o,l){var c=this._private;if(this.batching()){c.batchNotifications=c.batchNotifications||{};var f=c.batchNotifications[o]=c.batchNotifications[o]||this.collection();null!=l&&f.merge(l)}else if(c.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(c){var f=o.batchNotifications[c];f.empty()?l.notify(c):l.notify(c,f)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var c=Object.keys(o),f=0;f<c.length;f++){var p=c[f],g=o[p];l.getElementById(p).data(g)}})}},ns=zr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Bl={renderTo:function(o,l,c,f){return this._private.renderer.renderTo(o,l,c,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,c=l.extension("renderer",o.name);if(null!=c){void 0!==o.wheelSensitivity&&rn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=ns(o);f.cy=l,l._private.renderer=new c(f),this.notify("init")}else Yn("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(c){var f=c._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Bl.invalidateDimensions=Bl.resize;var $o={collection:function(o,l){return lt(o)?this.$(o):Zt(o)?o.collection():Pn(o)?(l||(l={}),new zt(this,o,l.unique,l.removed)):new zt(this)},nodes:function(o){var l=this.$(function(c){return c.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(c){return c.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};$o.elements=$o.filter=$o.$;var Vi={apply:function(a){for(var o=this,f=o._private.cy.collection(),p=0;p<a.length;p++){var g=a[p],y=o.getContextMeta(g);if(!y.empty){var _=o.getContextStyle(y),b=o.applyContextStyle(y,_,g);g._private.appliedInitStyle?o.updateTransitions(g,b.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&f.push(g)}}return f},getPropertiesDiff:function(a,o){var l=this,c=l._private.propDiffs=l._private.propDiffs||{},f=a+"-"+o,p=c[f];if(p)return p;for(var g=[],y={},_=0;_<l.length;_++){var b=l[_],C="t"===o[_],S="t"===a[_]!==C,T=b.mappedProperties.length>0;if(S||C&&T){var M=void 0;S&&T||S?M=b.properties:T&&(M=b.mappedProperties);for(var P=0;P<M.length;P++){for(var R=M[P],N=R.name,F=!1,L=_+1;L<l.length&&("t"!==o[L]||!(F=null!=l[L].properties[R.name]));L++);!y[N]&&!F&&(y[N]=!0,g.push(N))}}}return c[f]=g,g},getContextMeta:function(a){for(var c,o=this,l="",f=a._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];l+=g.selector&&g.selector.matches(a)?"t":"f"}return c=o.getPropertiesDiff(f,l),a._private.styleCxtKey=l,{key:l,diffPropNames:c,empty:0===c.length}},getContextStyle:function(a){var o=a.key,c=this._private.contextStyles=this._private.contextStyles||{};if(c[o])return c[o];for(var f={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var _=0;_<g.properties.length;_++){var b=g.properties[_];f[b.name]=b}}return c[o]=f,f},applyContextStyle:function(a,o,l){for(var f=a.diffPropNames,p={},g=this.types,y=0;y<f.length;y++){var _=f[y],b=o[_],w=l.pstyle(_);if(!b){if(!w)continue;b=w.bypass?{name:_,deleteBypassed:!0}:{name:_,delete:!0}}if(w!==b){if(b.mapped===g.fn&&null!=w&&null!=w.mapping&&w.mapping.value===b.value){var C=w.mapping;if((C.fnValue=b.value(l))===C.prevFnValue)continue}var T=p[_]={prev:w};this.applyParsedProperty(l,b),T.next=l.pstyle(_),T.next&&T.next.bypass&&(T.next=T.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(a){var c,o=a._private,l=this,f=l.propertyGroupKeys,p=function(Je,Pt,Xt){return l.getPropertiesHash(Je,Pt,Xt)},g=o.styleKey;if(a.removed())return!1;var Je,y="nodes"===o.group,_=a._private.style;c=Object.keys(_);for(var b=0;b<f.length;b++)o.styleKeys[f[b]]=[Cl,Rd];for(var C=function(Je,Pt){return o.styleKeys[Pt][0]=fu(Je,o.styleKeys[Pt][0])},S=function(Je,Pt){return o.styleKeys[Pt][1]=hu(Je,o.styleKeys[Pt][1])},T=function(Je,Pt){C(Je,Pt),S(Je,Pt)},M=function(Je,Pt){for(var Xt=0;Xt<Je.length;Xt++){var ut=Je.charCodeAt(Xt);C(ut,Pt),S(ut,Pt)}},N=0;N<c.length;N++){var F=c[N],L=_[F];if(null!=L){var H=this.properties[F],Y=H.type,X=H.groupKey,U=void 0;null!=H.hashOverride?U=H.hashOverride(a,L):null!=L.pfValue&&(U=L.pfValue);var te=null==H.enums?L.value:null,j=null!=U,K=L.units;!Y.number||!j&&null==te||Y.multiple?M(L.strValue,X):(T(-128<(Je=j?U:te)&&Je<128&&Math.floor(Je)!==Je?2e9-(1024*Je|0):Je,X),!j&&null!=K&&M(K,X))}}for(var Q=[Cl,Rd],ce=0;ce<f.length;ce++){var le=o.styleKeys[f[ce]];Q[0]=fu(le[0],Q[0]),Q[1]=hu(le[1],Q[1])}o.styleKey=function(o,l){return 2097152*o+l}(Q[0],Q[1]);var ve=o.styleKeys;o.labelDimsKey=sa(ve.labelDimensions);var Ce=p(a,["label"],ve.labelDimensions);if(o.labelKey=sa(Ce),o.labelStyleKey=sa(Od(ve.commonLabel,Ce)),!y){var Ie=p(a,["source-label"],ve.labelDimensions);o.sourceLabelKey=sa(Ie),o.sourceLabelStyleKey=sa(Od(ve.commonLabel,Ie));var _e=p(a,["target-label"],ve.labelDimensions);o.targetLabelKey=sa(_e),o.targetLabelStyleKey=sa(Od(ve.commonLabel,_e))}if(y){var Ee=o.styleKeys,Ne=Ee.pie,ze=[Ee.nodeBody,Ee.nodeBorder,Ee.nodeOutline,Ee.backgroundImage,Ee.compound,Ne].filter(function(Qe){return null!=Qe}).reduce(Od,[Cl,Rd]);o.nodeKey=sa(ze),o.hasPie=null!=Ne&&Ne[0]!==Cl&&Ne[1]!==Rd}return g!==o.styleKey},clearStyleHints:function(a){var o=a._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(a,o){var p,l=this,c=o,f=a._private.style,g=l.types,y=l.properties[c.name].type,_=c.bypass,b=f[c.name],w=b&&b.bypass,C=a._private,S="mapping",T=function(Ae){return null==Ae?null:null!=Ae.pfValue?Ae.pfValue:Ae.value},M=function(){var Ae=T(b),Xe=T(c);l.checkTriggers(a,c.name,Ae,Xe)};if("curve-style"===o.name&&a.isEdge()&&("bezier"!==o.value&&a.isLoop()||"haystack"===o.value&&(a.source().isParent()||a.target().isParent()))&&(c=o=this.parse(o.name,"bezier",_)),c.delete)return f[c.name]=void 0,M(),!0;if(c.deleteBypassed)return b?!!b.bypass&&(b.bypassed=void 0,M(),!0):(M(),!0);if(c.deleteBypass)return b?!!b.bypass&&(f[c.name]=b.bypassed,M(),!0):(M(),!0);var P=function(){rn("Do not assign mappings to elements without corresponding data (i.e. ele `"+a.id()+"` has no mapping for property `"+c.name+"` with data field `"+c.field+"`); try a `["+c.field+"]` selector to limit scope to elements with `"+c.field+"` defined")};switch(c.mapped){case g.mapData:for(var R=c.field.split("."),N=C.data,F=0;F<R.length&&N;F++)N=N[R[F]];if(null==N)return P(),!1;var H;if(!gt(N))return rn("Do not use continuous mappers without specifying numeric data (i.e. `"+c.field+": "+N+"` for `"+a.id()+"` is non-numeric)"),!1;var Y=c.fieldMax-c.fieldMin;if((H=0===Y?0:(N-c.fieldMin)/Y)<0?H=0:H>1&&(H=1),y.color){var X=c.valueMin[0],te=c.valueMin[1],j=c.valueMax[1],W=c.valueMin[2],J=c.valueMax[2],K=null==c.valueMin[3]?1:c.valueMin[3],ie=null==c.valueMax[3]?1:c.valueMax[3],Q=[Math.round(X+(c.valueMax[0]-X)*H),Math.round(te+(j-te)*H),Math.round(W+(J-W)*H),Math.round(K+(ie-K)*H)];p={bypass:c.bypass,name:c.name,value:Q,strValue:"rgb("+Q[0]+", "+Q[1]+", "+Q[2]+")"}}else{if(!y.number)return!1;p=this.parse(c.name,c.valueMin+(c.valueMax-c.valueMin)*H,c.bypass,S)}if(!p)return P(),!1;p.mapping=c,c=p;break;case g.data:for(var se=c.field.split("."),le=C.data,ve=0;ve<se.length&&le;ve++)le=le[se[ve]];if(null!=le&&(p=this.parse(c.name,le,c.bypass,S)),!p)return P(),!1;p.mapping=c,c=p;break;case g.fn:var _e=null!=c.fnValue?c.fnValue:(0,c.value)(a);if(c.prevFnValue=_e,null==_e)return rn("Custom function mappers may not return null (i.e. `"+c.name+"` for ele `"+a.id()+"` is null)"),!1;if(!(p=this.parse(c.name,_e,c.bypass,S)))return rn("Custom function mappers may not return invalid values for the property type (i.e. `"+c.name+"` for ele `"+a.id()+"` is invalid)"),!1;p.mapping=Jr(c),c=p;break;case void 0:break;default:return!1}return _?(c.bypassed=w?b.bypassed:b,f[c.name]=c):w?b.bypassed=c:f[c.name]=c,M(),!0},cleanElements:function(a,o){for(var l=0;l<a.length;l++){var c=a[l];if(this.clearStyleHints(c),c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),o)for(var f=c._private.style,p=Object.keys(f),g=0;g<p.length;g++){var y=p[g],_=f[y];null!=_&&(_.bypass?_.bypassed=null:f[y]=null)}else c._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(a,o){var l=this,c=a._private,f=a.pstyle("transition-property").value,p=a.pstyle("transition-duration").pfValue,g=a.pstyle("transition-delay").pfValue;if(f.length>0&&p>0){for(var y={},_=!1,b=0;b<f.length;b++){var w=f[b],C=a.pstyle(w),S=o[w];if(S){var M=S.prev,P=null!=S.next?S.next:C,R=!1,N=void 0,F=1e-6;M&&(gt(M.pfValue)&&gt(P.pfValue)?N=M.pfValue+F*(R=P.pfValue-M.pfValue):gt(M.value)&&gt(P.value)?N=M.value+F*(R=P.value-M.value):Pn(M.value)&&Pn(P.value)&&(R=M.value[0]!==P.value[0]||M.value[1]!==P.value[1]||M.value[2]!==P.value[2],N=M.strValue),R&&(y[w]=P.strValue,this.applyBypass(a,w,N),_=!0))}}if(!_)return;c.transitioning=!0,new No(function(L){g>0?a.delayAnimation(g).play().promise().then(L):L()}).then(function(){return a.animation({style:y,duration:p,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(a,f),a.emitAndNotify("style"),c.transitioning=!1})}else c.transitioning&&(this.removeBypasses(a,f),a.emitAndNotify("style"),c.transitioning=!1)},checkTrigger:function(a,o,l,c,f,p){var g=this.properties[o],y=f(g);null!=y&&y(l,c)&&p(g)},checkZOrderTrigger:function(a,o,l,c){var f=this;this.checkTrigger(a,o,l,c,function(p){return p.triggersZOrder},function(){f._private.cy.notify("zorder",a)})},checkBoundsTrigger:function(a,o,l,c){this.checkTrigger(a,o,l,c,function(f){return f.triggersBounds},function(f){a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&"curve-style"===o&&("bezier"===l||"bezier"===c)&&a.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()}),f.triggersBoundsOfConnectedEdges&&"display"===o&&("none"===l||"none"===c)&&a.connectedEdges().forEach(function(p){p.dirtyBoundingBoxCache()})})},checkTriggers:function(a,o,l,c){a.dirtyStyleCache(),this.checkZOrderTrigger(a,o,l,c),this.checkBoundsTrigger(a,o,l,c)}},Zr={applyBypass:function(a,o,l,c){var p=[];if("*"===o||"**"===o){if(void 0!==l)for(var y=0;y<this.properties.length;y++){var w=this.parse(this.properties[y].name,l,!0);w&&p.push(w)}}else if(lt(o)){var C=this.parse(o,l,!0);C&&p.push(C)}else{if(!Mt(o))return!1;var S=o;c=l;for(var T=Object.keys(S),M=0;M<T.length;M++){var P=T[M],R=S[P];if(void 0===R&&(R=S[wl(P)]),void 0!==R){var N=this.parse(P,R,!0);N&&p.push(N)}}}if(0===p.length)return!1;for(var F=!1,L=0;L<a.length;L++){for(var H=a[L],Y={},X=void 0,U=0;U<p.length;U++){var te=p[U];if(c){var j=H.pstyle(te.name);X=Y[te.name]={prev:j}}F=this.applyParsedProperty(H,Jr(te))||F,c&&(X.next=H.pstyle(te.name))}F&&this.updateStyleHints(H),c&&this.updateTransitions(H,Y,!0)}return F},overrideBypass:function(a,o,l){o=Ao(o);for(var c=0;c<a.length;c++){var f=a[c],p=f._private.style[o],g=this.properties[o].type,y=g.color,_=g.mutiple,b=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=y?"rgb("+l.join(",")+")":_?l.join(" "):""+l,this.updateStyleHints(f)):this.applyBypass(f,o,l),this.checkTriggers(f,o,b,l)}},removeAllBypasses:function(a,o){return this.removeBypasses(a,this.propertyNames,o)},removeBypasses:function(a,o,l){for(var f=0;f<a.length;f++){for(var p=a[f],g={},y=0;y<o.length;y++){var _=o[y],b=this.properties[_],w=p.pstyle(b.name);if(w&&w.bypass){var S=this.parse(_,"",!0),T=g[b.name]={prev:w};this.applyParsedProperty(p,S),T.next=p.pstyle(b.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,g,!0)}}},zo={getEmSizeInPixels:function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},containerCss:function(a){var o=this._private.cy,l=o.container(),c=o.window();if(c&&l&&c.getComputedStyle)return c.getComputedStyle(l).getPropertyValue(a)}},ms={getRenderedStyle:function(a,o){return o?this.getStylePropertyValue(a,o,!0):this.getRawStyle(a,!0)},getRawStyle:function(a,o){var l=this;if(a=a[0]){for(var c={},f=0;f<l.properties.length;f++){var p=l.properties[f],g=l.getStylePropertyValue(a,p.name,o);null!=g&&(c[p.name]=g,c[wl(p.name)]=g)}return c}},getIndexedStyle:function(a,o,l,c){return a.pstyle(o)[l][c]??a.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(a,o,l){if(a=a[0]){var f=this.properties[o];f.alias&&(f=f.pointsTo);var p=f.type,g=a.pstyle(f.name);if(g){var y=g.value,_=g.units,b=g.strValue;if(l&&p.number&&null!=y&&gt(y)){var w=a.cy().zoom(),C=function(R){return R*w},S=function(R,N){return C(R)+N},T=Pn(y);return(T?_.every(function(P){return null!=P}):null!=_)?T?y.map(function(P,R){return S(P,_[R])}).join(" "):S(y,_):T?y.map(function(P){return lt(P)?P:""+C(P)}).join(" "):""+C(y)}if(null!=b)return b}return null}},getAnimationStartStyle:function(a,o){for(var l={},c=0;c<o.length;c++){var p=o[c].name,g=a.pstyle(p);void 0!==g&&(g=Mt(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(l[p]=g)}return l},getPropsList:function(a){var l=[],c=a,f=this.properties;if(c)for(var p=Object.keys(c),g=0;g<p.length;g++){var y=p[g],_=c[y],b=f[y]||f[Ao(y)],w=this.parse(b.name,_);w&&l.push(w)}return l},getNonDefaultPropertiesHash:function(a,o,l){var p,g,y,_,b,c=l.slice();for(_=0;_<o.length;_++)if(null!=(p=a.pstyle(o[_],!1)))if(null!=p.pfValue)c[0]=fu(y,c[0]),c[1]=hu(y,c[1]);else for(g=p.strValue,b=0;b<g.length;b++)y=g.charCodeAt(b),c[0]=fu(y,c[0]),c[1]=hu(y,c[1]);return c}};ms.getPropertiesHash=ms.getNonDefaultPropertiesHash;var Ca={appendFromJson:function(a){for(var o=this,l=0;l<a.length;l++){var c=a[l],f=c.selector,p=c.style||c.css,g=Object.keys(p);o.selector(f);for(var y=0;y<g.length;y++){var _=g[y];o.css(_,p[_])}}return o},fromJson:function(a){var o=this;return o.resetToDefault(),o.appendFromJson(a),o},json:function(){for(var a=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],c=l.selector,f=l.properties,p={},g=0;g<f.length;g++){var y=f[g];p[y.name]=y.strValue}a.push({selector:c?c.toString():"core",style:p})}return a}},vs={appendFromString:function(a){var f,p,g,l=this,c=""+a;function y(){c=c.length>f.length?c.substr(f.length):""}function _(){p=p.length>g.length?p.substr(g.length):""}for(c=c.replace(/[/][*](\s|.)+?[*][/]/g,"");!c.match(/^\s*$/);){var w=c.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!w){rn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+c);break}f=w[0];var C=w[1];if("core"!==C&&new Us(C).invalid)rn("Skipping parsing of block: Invalid selector found in string stylesheet: "+C),y();else{var T=w[2],M=!1;p=T;for(var P=[];!p.match(/^\s*$/);){var N=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!N){rn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+T),M=!0;break}g=N[0];var F=N[1],L=N[2];this.properties[F]?l.parse(F,L)?(P.push({name:F,val:L}),_()):(rn("Skipping property: Invalid property definition in: "+g),_()):(rn("Skipping property: Invalid property name in: "+g),_())}if(M){y();break}l.selector(C);for(var X=0;X<P.length;X++){var U=P[X];l.css(U.name,U.val)}y()}}return l},fromString:function(a){var o=this;return o.resetToDefault(),o.appendFromString(a),o}},vi={};(function(){var a=Xr,o=cu,l=El,p=function(ze){return"^"+ze+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(ze){var Qe=a+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+ze+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+Qe+")\\s*\\,\\s*("+Qe+")\\)$"},y=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];vi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:y,singleRegexMatchValue:!0},urls:{regexes:y,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ze,Qe){switch(ze.length){case 2:return"deg"!==Qe[0]&&"rad"!==Qe[0]&&"deg"!==Qe[1]&&"rad"!==Qe[1];case 1:return lt(ze[0])||"deg"===Qe[0]||"rad"===Qe[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ze){var Qe=ze.length;return 1===Qe||2===Qe||4===Qe}}};var _={zeroNonZero:function(ze,Qe){return(null==ze||null==Qe)&&ze!==Qe||0==ze&&0!=Qe||0!=ze&&0==Qe},any:function(ze,Qe){return ze!=Qe},emptyNonEmpty:function(ze,Qe){var Je=sn(ze),Pt=sn(Qe);return Je&&!Pt||!Je&&Pt}},b=vi.types,w=[{name:"label",type:b.text,triggersBounds:_.any,triggersZOrder:_.emptyNonEmpty},{name:"text-rotation",type:b.textRotation,triggersBounds:_.any},{name:"text-margin-x",type:b.bidirectionalSize,triggersBounds:_.any},{name:"text-margin-y",type:b.bidirectionalSize,triggersBounds:_.any}],C=[{name:"source-label",type:b.text,triggersBounds:_.any},{name:"source-text-rotation",type:b.textRotation,triggersBounds:_.any},{name:"source-text-margin-x",type:b.bidirectionalSize,triggersBounds:_.any},{name:"source-text-margin-y",type:b.bidirectionalSize,triggersBounds:_.any},{name:"source-text-offset",type:b.size,triggersBounds:_.any}],S=[{name:"target-label",type:b.text,triggersBounds:_.any},{name:"target-text-rotation",type:b.textRotation,triggersBounds:_.any},{name:"target-text-margin-x",type:b.bidirectionalSize,triggersBounds:_.any},{name:"target-text-margin-y",type:b.bidirectionalSize,triggersBounds:_.any},{name:"target-text-offset",type:b.size,triggersBounds:_.any}],T=[{name:"font-family",type:b.fontFamily,triggersBounds:_.any},{name:"font-style",type:b.fontStyle,triggersBounds:_.any},{name:"font-weight",type:b.fontWeight,triggersBounds:_.any},{name:"font-size",type:b.size,triggersBounds:_.any},{name:"text-transform",type:b.textTransform,triggersBounds:_.any},{name:"text-wrap",type:b.textWrap,triggersBounds:_.any},{name:"text-overflow-wrap",type:b.textOverflowWrap,triggersBounds:_.any},{name:"text-max-width",type:b.size,triggersBounds:_.any},{name:"text-outline-width",type:b.size,triggersBounds:_.any},{name:"line-height",type:b.positiveNumber,triggersBounds:_.any}],M=[{name:"text-valign",type:b.valign,triggersBounds:_.any},{name:"text-halign",type:b.halign,triggersBounds:_.any},{name:"color",type:b.color},{name:"text-outline-color",type:b.color},{name:"text-outline-opacity",type:b.zeroOneNumber},{name:"text-background-color",type:b.color},{name:"text-background-opacity",type:b.zeroOneNumber},{name:"text-background-padding",type:b.size,triggersBounds:_.any},{name:"text-border-opacity",type:b.zeroOneNumber},{name:"text-border-color",type:b.color},{name:"text-border-width",type:b.size,triggersBounds:_.any},{name:"text-border-style",type:b.borderStyle,triggersBounds:_.any},{name:"text-background-shape",type:b.textBackgroundShape,triggersBounds:_.any},{name:"text-justification",type:b.justification}],P=[{name:"events",type:b.bool,triggersZOrder:_.any},{name:"text-events",type:b.bool,triggersZOrder:_.any}],R=[{name:"display",type:b.display,triggersZOrder:_.any,triggersBounds:_.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:b.visibility,triggersZOrder:_.any},{name:"opacity",type:b.zeroOneNumber,triggersZOrder:_.zeroNonZero},{name:"text-opacity",type:b.zeroOneNumber},{name:"min-zoomed-font-size",type:b.size},{name:"z-compound-depth",type:b.zCompoundDepth,triggersZOrder:_.any},{name:"z-index-compare",type:b.zIndexCompare,triggersZOrder:_.any},{name:"z-index",type:b.number,triggersZOrder:_.any}],N=[{name:"overlay-padding",type:b.size,triggersBounds:_.any},{name:"overlay-color",type:b.color},{name:"overlay-opacity",type:b.zeroOneNumber,triggersBounds:_.zeroNonZero},{name:"overlay-shape",type:b.overlayShape,triggersBounds:_.any},{name:"overlay-corner-radius",type:b.cornerRadius}],F=[{name:"underlay-padding",type:b.size,triggersBounds:_.any},{name:"underlay-color",type:b.color},{name:"underlay-opacity",type:b.zeroOneNumber,triggersBounds:_.zeroNonZero},{name:"underlay-shape",type:b.overlayShape,triggersBounds:_.any},{name:"underlay-corner-radius",type:b.cornerRadius}],L=[{name:"transition-property",type:b.propList},{name:"transition-duration",type:b.time},{name:"transition-delay",type:b.time},{name:"transition-timing-function",type:b.easing}],H=function(ze,Qe){return"label"===Qe.value?-ze.poolIndex():Qe.pfValue},Y=[{name:"height",type:b.nodeSize,triggersBounds:_.any,hashOverride:H},{name:"width",type:b.nodeSize,triggersBounds:_.any,hashOverride:H},{name:"shape",type:b.nodeShape,triggersBounds:_.any},{name:"shape-polygon-points",type:b.polygonPointList,triggersBounds:_.any},{name:"corner-radius",type:b.cornerRadius},{name:"background-color",type:b.color},{name:"background-fill",type:b.fill},{name:"background-opacity",type:b.zeroOneNumber},{name:"background-blacken",type:b.nOneOneNumber},{name:"background-gradient-stop-colors",type:b.colors},{name:"background-gradient-stop-positions",type:b.percentages},{name:"background-gradient-direction",type:b.gradientDirection},{name:"padding",type:b.sizeMaybePercent,triggersBounds:_.any},{name:"padding-relative-to",type:b.paddingRelativeTo,triggersBounds:_.any},{name:"bounds-expansion",type:b.boundsExpansion,triggersBounds:_.any}],X=[{name:"border-color",type:b.color},{name:"border-opacity",type:b.zeroOneNumber},{name:"border-width",type:b.size,triggersBounds:_.any},{name:"border-style",type:b.borderStyle},{name:"border-cap",type:b.lineCap},{name:"border-join",type:b.lineJoin},{name:"border-dash-pattern",type:b.numbers},{name:"border-dash-offset",type:b.number},{name:"border-position",type:b.linePosition}],U=[{name:"outline-color",type:b.color},{name:"outline-opacity",type:b.zeroOneNumber},{name:"outline-width",type:b.size,triggersBounds:_.any},{name:"outline-style",type:b.borderStyle},{name:"outline-offset",type:b.size,triggersBounds:_.any}],te=[{name:"background-image",type:b.urls},{name:"background-image-crossorigin",type:b.bgCrossOrigin},{name:"background-image-opacity",type:b.zeroOneNumbers},{name:"background-image-containment",type:b.bgContainment},{name:"background-image-smoothing",type:b.bools},{name:"background-position-x",type:b.bgPos},{name:"background-position-y",type:b.bgPos},{name:"background-width-relative-to",type:b.bgRelativeTo},{name:"background-height-relative-to",type:b.bgRelativeTo},{name:"background-repeat",type:b.bgRepeat},{name:"background-fit",type:b.bgFit},{name:"background-clip",type:b.bgClip},{name:"background-width",type:b.bgWH},{name:"background-height",type:b.bgWH},{name:"background-offset-x",type:b.bgPos},{name:"background-offset-y",type:b.bgPos}],j=[{name:"position",type:b.position,triggersBounds:_.any},{name:"compound-sizing-wrt-labels",type:b.compoundIncludeLabels,triggersBounds:_.any},{name:"min-width",type:b.size,triggersBounds:_.any},{name:"min-width-bias-left",type:b.sizeMaybePercent,triggersBounds:_.any},{name:"min-width-bias-right",type:b.sizeMaybePercent,triggersBounds:_.any},{name:"min-height",type:b.size,triggersBounds:_.any},{name:"min-height-bias-top",type:b.sizeMaybePercent,triggersBounds:_.any},{name:"min-height-bias-bottom",type:b.sizeMaybePercent,triggersBounds:_.any}],W=[{name:"line-style",type:b.lineStyle},{name:"line-color",type:b.color},{name:"line-fill",type:b.fill},{name:"line-cap",type:b.lineCap},{name:"line-opacity",type:b.zeroOneNumber},{name:"line-dash-pattern",type:b.numbers},{name:"line-dash-offset",type:b.number},{name:"line-gradient-stop-colors",type:b.colors},{name:"line-gradient-stop-positions",type:b.percentages},{name:"curve-style",type:b.curveStyle,triggersBounds:_.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:b.zeroOneNumber,triggersBounds:_.any},{name:"source-endpoint",type:b.edgeEndpoint,triggersBounds:_.any},{name:"target-endpoint",type:b.edgeEndpoint,triggersBounds:_.any},{name:"control-point-step-size",type:b.size,triggersBounds:_.any},{name:"control-point-distances",type:b.bidirectionalSizes,triggersBounds:_.any},{name:"control-point-weights",type:b.numbers,triggersBounds:_.any},{name:"segment-distances",type:b.bidirectionalSizes,triggersBounds:_.any},{name:"segment-weights",type:b.numbers,triggersBounds:_.any},{name:"segment-radii",type:b.numbers,triggersBounds:_.any},{name:"taxi-turn",type:b.bidirectionalSizeMaybePercent,triggersBounds:_.any},{name:"taxi-turn-min-distance",type:b.size,triggersBounds:_.any},{name:"taxi-direction",type:b.axisDirection,triggersBounds:_.any},{name:"taxi-radius",type:b.number,triggersBounds:_.any},{name:"edge-distances",type:b.edgeDistances,triggersBounds:_.any},{name:"arrow-scale",type:b.positiveNumber,triggersBounds:_.any},{name:"loop-direction",type:b.angle,triggersBounds:_.any},{name:"loop-sweep",type:b.angle,triggersBounds:_.any},{name:"source-distance-from-node",type:b.size,triggersBounds:_.any},{name:"target-distance-from-node",type:b.size,triggersBounds:_.any}],J=[{name:"ghost",type:b.bool,triggersBounds:_.any},{name:"ghost-offset-x",type:b.bidirectionalSize,triggersBounds:_.any},{name:"ghost-offset-y",type:b.bidirectionalSize,triggersBounds:_.any},{name:"ghost-opacity",type:b.zeroOneNumber}],K=[{name:"selection-box-color",type:b.color},{name:"selection-box-opacity",type:b.zeroOneNumber},{name:"selection-box-border-color",type:b.color},{name:"selection-box-border-width",type:b.size},{name:"active-bg-color",type:b.color},{name:"active-bg-opacity",type:b.zeroOneNumber},{name:"active-bg-size",type:b.size},{name:"outside-texture-bg-color",type:b.color},{name:"outside-texture-bg-opacity",type:b.zeroOneNumber}],ie=[];vi.pieBackgroundN=16,ie.push({name:"pie-size",type:b.sizeMaybePercent});for(var Q=1;Q<=vi.pieBackgroundN;Q++)ie.push({name:"pie-"+Q+"-background-color",type:b.color}),ie.push({name:"pie-"+Q+"-background-size",type:b.percent}),ie.push({name:"pie-"+Q+"-background-opacity",type:b.zeroOneNumber});var ce=[],se=vi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:b.arrowShape,triggersBounds:_.any},{name:"arrow-color",type:b.color},{name:"arrow-fill",type:b.arrowFill},{name:"arrow-width",type:b.arrowWidth}].forEach(function(Ne){se.forEach(function(ze){ce.push({name:ze+"-"+Ne.name,type:Ne.type,triggersBounds:Ne.triggersBounds})})},{});var le=vi.properties=[].concat(P,L,R,N,F,J,M,T,w,C,S,Y,X,U,te,ie,j,W,ce,K),ve=vi.propertyGroups={behavior:P,transition:L,visibility:R,overlay:N,underlay:F,ghost:J,commonLabel:M,labelDimensions:T,mainLabel:w,sourceLabel:C,targetLabel:S,nodeBody:Y,nodeBorder:X,nodeOutline:U,backgroundImage:te,pie:ie,compound:j,edgeLine:W,edgeArrow:ce,core:K},Ce=vi.propertyGroupNames={};(vi.propertyGroupKeys=Object.keys(ve)).forEach(function(Ne){Ce[Ne]=ve[Ne].map(function(ze){return ze.name}),ve[Ne].forEach(function(ze){return ze.groupKey=Ne})});var _e=vi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];vi.propertyNames=le.map(function(Ne){return Ne.name});for(var Ee=0;Ee<le.length;Ee++){var Ae=le[Ee];le[Ae.name]=Ae}for(var Xe=0;Xe<_e.length;Xe++){var We=_e[Xe],fe={name:We.name,alias:!0,pointsTo:le[We.pointsTo]};le.push(fe),le[We.name]=fe}})(),vi.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},vi.getDefaultProperties=function(){var a=this._private;if(null!=a.defaultProperties)return a.defaultProperties;for(var o=$t({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(_,b){for(var w=1;w<=vi.pieBackgroundN;w++)_[b.name.replace("{{i}}",w)]=b.value;return _},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(_,b){return vi.arrowPrefixes.forEach(function(w){_[w+"-"+b.name]=b.value}),_},{})),l={},c=0;c<this.properties.length;c++){var f=this.properties[c];if(!f.pointsTo){var p=f.name,y=this.parse(p,o[p]);l[p]=y}}return a.defaultProperties=l,a.defaultProperties},vi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ru={parse:function(a,o,l,c){var f=this;if(Gn(o))return f.parseImplWarn(a,o,l,c);var w,_=rh(a,""+o,l?"t":"f","mapping"===c||!0===c||!1===c||null==c?"dontcare":c),b=f.propCache=f.propCache||[];return(w=b[_])||(w=b[_]=f.parseImplWarn(a,o,l,c)),(l||"mapping"===c)&&(w=Jr(w))&&(w.value=Jr(w.value)),w},parseImplWarn:function(a,o,l,c){var f=this.parseImpl(a,o,l,c);return!f&&null!=o&&rn("The style property `".concat(a,": ").concat(o,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===o&&rn("The style value of `label` is deprecated for `"+f.name+"`"),f}};Ru.parseImpl=function(a,o,l,c){var f=this;a=Ao(a);var p=f.properties[a],g=o,y=f.types;if(!p||void 0===o)return null;p.alias&&(a=(p=p.pointsTo).name);var _=lt(o);_&&(o=o.trim());var w,C,b=p.type;if(!b)return null;if(l&&(""===o||null===o))return{name:a,value:o,bypass:!0,deleteBypass:!0};if(Gn(o))return{name:a,value:o,strValue:"fn",mapped:y.fn,bypass:l};if(!(!_||c||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(w=new RegExp(y.data.regex).exec(o)))return!l&&{name:a,value:w,strValue:""+o,mapped:y.data,field:w[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(C=new RegExp(y.mapData.regex).exec(o))){if(l||b.multiple)return!1;var T=y.mapData;if(!b.color&&!b.number)return!1;var M=this.parse(a,C[4]);if(!M||M.mapped)return!1;var P=this.parse(a,C[5]);if(!P||P.mapped)return!1;if(M.pfValue===P.pfValue||M.strValue===P.strValue)return rn("`"+a+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+a+": "+M.strValue+"`"),this.parse(a,M.strValue);if(b.color){var R=M.value,N=P.value;if(!(R[0]!==N[0]||R[1]!==N[1]||R[2]!==N[2]||R[3]!==N[3]&&(null!=R[3]&&1!==R[3]||null!=N[3]&&1!==N[3])))return!1}return{name:a,value:C,strValue:""+o,mapped:T,field:C[1],fieldMin:parseFloat(C[2]),fieldMax:parseFloat(C[3]),valueMin:M.value,valueMax:P.value,bypass:l}}}if(b.multiple&&"multiple"!==c){var L;if(L=_?o.split(/\s+/):Pn(o)?o:[o],b.evenMultiple&&L.length%2!=0)return null;for(var H=[],Y=[],X=[],U="",te=!1,j=0;j<L.length;j++){var W=f.parse(a,L[j],l,"multiple");te=te||lt(W.value),H.push(W.value),X.push(null!=W.pfValue?W.pfValue:W.value),Y.push(W.units),U+=(j>0?" ":"")+W.strValue}return b.validate&&!b.validate(H,Y)?null:b.singleEnum&&te?1===H.length&&lt(H[0])?{name:a,value:H[0],strValue:H[0],bypass:l}:null:{name:a,value:H,pfValue:X,strValue:U,bypass:l,units:Y}}var J=function(){for(var ze=0;ze<b.enums.length;ze++)if(b.enums[ze]===o)return{name:a,value:o,strValue:""+o,bypass:l};return null};if(b.number){var K,ie="px";if(b.units&&(K=b.units),b.implicitUnits&&(ie=b.implicitUnits),!b.unitless)if(_){var Q="px|em"+(b.allowPercent?"|\\%":"");K&&(Q=K);var ce=o.match("^("+Xr+")("+Q+")?$");ce&&(o=ce[1],K=ce[2]||ie)}else(!K||b.implicitUnits)&&(K=ie);if(o=parseFloat(o),isNaN(o)&&void 0===b.enums)return null;if(isNaN(o)&&void 0!==b.enums)return o=g,J();if(b.integer&&!function(o){return gt(o)&&Math.floor(o)===o}(o)||void 0!==b.min&&(o<b.min||b.strictMin&&o===b.min)||void 0!==b.max&&(o>b.max||b.strictMax&&o===b.max))return null;var se={name:a,value:o,strValue:""+o+(K||""),units:K,bypass:l};return se.pfValue=b.unitless||"px"!==K&&"em"!==K?o:"px"!==K&&K?this.getEmSizeInPixels()*o:o,("ms"===K||"s"===K)&&(se.pfValue="ms"===K?o:1e3*o),("deg"===K||"rad"===K)&&(se.pfValue="rad"===K?o:function(o){return Math.PI*o/180}(o)),"%"===K&&(se.pfValue=o/100),se}if(b.propList){var le=[],ve=""+o;if("none"!==ve){for(var Ce=ve.split(/\s*,\s*|\s+/),Ie=0;Ie<Ce.length;Ie++){var _e=Ce[Ie].trim();f.properties[_e]?le.push(_e):rn("`"+_e+"` is not a valid property name")}if(0===le.length)return null}return{name:a,value:le,strValue:0===le.length?"none":le.join(" "),bypass:l}}if(b.color){var Ee=function(o){return(Pn(o)?o:null)||function(o){return eh[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var c,f,p,g=16;return 4===o.length?(c=parseInt(o[1]+o[1],g),f=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(c=parseInt(o[1]+o[2],g),f=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[c,f,p]}}(o)||function(o){var l,c=new RegExp("^"+nv+"$").exec(o);if(c){l=[];for(var f=[],p=1;p<=3;p++){var g=c[p];if("%"===g[g.length-1]&&(f[p]=!0),g=parseFloat(g),f[p]&&(g=g/100*255),g<0||g>255)return;l.push(Math.floor(g))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var b=c[4];if(void 0!==b){if((b=parseFloat(b))<0||b>1)return;l.push(b)}}return l}(o)||function(o){var l,c,f,p,g,y,_,b;function w(M,P,R){return R<0&&(R+=1),R>1&&(R-=1),R<1/6?M+6*(P-M)*R:R<.5?P:R<2/3?M+(P-M)*(2/3-R)*6:M}var C=new RegExp("^"+us+"$").exec(o);if(C){if((c=parseInt(C[1]))<0?c=(360- -1*c%360)%360:c>360&&(c%=360),c/=360,(f=parseFloat(C[2]))<0||f>100||(f/=100,(p=parseFloat(C[3]))<0||p>100)||(p/=100,void 0!==(g=C[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===f)y=_=b=Math.round(255*p);else{var S=p<.5?p*(1+f):p+f-p*f,T=2*p-S;y=Math.round(255*w(T,S,c+1/3)),_=Math.round(255*w(T,S,c)),b=Math.round(255*w(T,S,c-1/3))}l=[y,_,b,g]}return l}(o)}(o);return Ee?{name:a,value:Ee,pfValue:Ee,strValue:"rgb("+Ee[0]+","+Ee[1]+","+Ee[2]+")",bypass:l}:null}if(b.regex||b.regexes){if(b.enums){var Ae=J();if(Ae)return Ae}for(var Xe=b.regexes?b.regexes:[b.regex],We=0;We<Xe.length;We++){var fe=new RegExp(Xe[We]).exec(o);if(fe)return{name:a,value:b.singleRegexMatchValue?fe[1]:fe,strValue:""+o,bypass:l}}return null}return b.string?{name:a,value:""+o,strValue:""+o,bypass:l}:b.enums?J():null};var $i=function a(o){if(!(this instanceof a))return new a(o);ar(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):Yn("A style must have a core reference")},xi=$i.prototype;xi.instanceString=function(){return"style"},xi.clear=function(){for(var a=this._private,l=a.cy.elements(),c=0;c<this.length;c++)this[c]=void 0;return this.length=0,a.contextStyles={},a.propDiffs={},this.cleanElements(l,!0),l.forEach(function(f){var p=f[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},xi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},xi.core=function(a){return this._private.coreStyle[a]||this.getDefaultProperty(a)},xi.selector=function(a){var o="core"===a?null:new Us(a),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},xi.css=function(){var o=arguments;if(1===o.length)for(var l=o[0],c=0;c<this.properties.length;c++){var f=this.properties[c],p=l[f.name];void 0===p&&(p=l[wl(f.name)]),void 0!==p&&this.cssRule(f.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},xi.style=xi.css,xi.cssRule=function(a,o){var l=this.parse(a,o);if(l){var c=this.length-1;this[c].properties.push(l),this[c].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[c].mappedProperties.push(l),!this[c].selector&&(this._private.coreStyle[l.name]=l)}return this},xi.append=function(a){return hr(a)?a.appendToStyle(this):Pn(a)?this.appendFromJson(a):lt(a)&&this.appendFromString(a),this},$i.fromJson=function(a,o){var l=new $i(a);return l.fromJson(o),l},$i.fromString=function(a,o){return new $i(a).fromString(o)},[Vi,Zr,zo,ms,Ca,vs,vi,Ru].forEach(function(a){$t(xi,a)}),$i.types=xi.types,$i.properties=xi.properties,$i.propertyGroups=xi.propertyGroups,$i.propertyGroupNames=xi.propertyGroupNames,$i.propertyGroupKeys=xi.propertyGroupKeys;var df={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=hr(o)?o.generateStyle(this):Pn(o)?$i.fromJson(this,o):lt(o)?$i.fromString(this,o):$i(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},Si={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var c,f,p,g,y,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(lt(o[0]))return l[c=o[0]];if(Mt(o[0])){if(!this._private.panningEnabled)return this;y=(p=o[0]).y,gt(g=p.x)&&(l.x=g),gt(y)&&(l.y=y),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=o[1],("x"===(c=o[0])||"y"===c)&&gt(f)&&(l[c]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var p,g,y,_,b,c=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(c.length){case 1:Mt(o)&&(b=(y=c[0]).y,gt(_=y.x)&&(f.x+=_),gt(b)&&(f.y+=b),this.emit("pan viewport"));break;case 2:g=l,("x"===(p=o)||"y"===p)&&gt(g)&&(f[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var c=this.getFitViewport(o,l);if(c){var f=this._private;f.zoom=c.zoom,f.pan=c.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var c;if((gt(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(lt(o)?o=this.$(o):!function(o){return Mt(o)&&gt(o.x1)&&gt(o.x2)&&gt(o.y1)&&gt(o.y2)}(o)?Zt(o)||(o=this.mutableElements()):((c={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=c.x2-c.x1,c.h=c.y2-c.y1),!Zt(o)||!o.empty())){c=c||o.boundingBox();var _,g=this.width(),y=this.height();if(l=gt(l)?l:0,!isNaN(g)&&!isNaN(y)&&g>0&&y>0&&!isNaN(c.w)&&!isNaN(c.h)&&c.w>0&&c.h>0)return{zoom:_=(_=(_=Math.min((g-2*l)/c.w,(y-2*l)/c.h))>this._private.maxZoom?this._private.maxZoom:_)<this._private.minZoom?this._private.minZoom:_,pan:{x:(g-_*(c.x1+c.x2))/2,y:(y-_*(c.y1+c.y2))/2}}}},zoomRange:function(o,l){var c=this._private;if(null==l){var f=o;o=f.min,l=f.max}return gt(o)&&gt(l)&&o<=l?(c.minZoom=o,c.maxZoom=l):gt(o)&&void 0===l&&o<=c.maxZoom?c.minZoom=o:gt(l)&&void 0===o&&l>=c.minZoom&&(c.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,l=this._private,c=l.pan,f=l.zoom,y=!1;return l.zoomingEnabled||(y=!0),gt(o)?g=o:Mt(o)&&(g=o.level,null!=o.position?p=xl(o.position,f,c):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!l.panningEnabled&&(y=!0)),g=(g=g>l.maxZoom?l.maxZoom:g)<l.minZoom?l.minZoom:g,!y&&gt(g)&&g!==f&&(null==p||gt(p.x)&&gt(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/f*(p.x-c.x)+p.x,y:-g/f*(p.y-c.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:c}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),c=this._private;return null!=l&&l.zoomed?(c.zoom=l.zoom,l.panned&&(c.pan.x=l.pan.x,c.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,c=!0,f=!0,p=[],g=!1,y=!1;if(!o)return this;if(gt(o.zoom)||(c=!1),Mt(o.pan)||(f=!1),!c&&!f)return this;if(c){var _=o.zoom;_<l.minZoom||_>l.maxZoom||!l.zoomingEnabled?g=!0:(l.zoom=_,p.push("zoom"))}if(f&&(!g||!o.cancelOnFailedZoom)&&l.panningEnabled){var b=o.pan;gt(b.x)&&(l.pan.x=b.x,y=!1),gt(b.y)&&(l.pan.y=b.y,y=!1),y||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(lt(o)){var c=o;o=this.mutableElements().filter(c)}else Zt(o)||(o=this.mutableElements());if(0!==o.length){var f=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(f.x1+f.x2))/2,y:(g-l*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,p,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(f=this.window().getComputedStyle(l),{width:l.clientWidth-(p=function(y){return parseFloat(f.getPropertyValue(y))})("padding-left")-p("padding-right"),height:l.clientHeight-p("padding-top")-p("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,c=this.renderedExtent(),f={x1:(c.x1-o.x)/l,x2:(c.x2-o.x)/l,y1:(c.y1-o.y)/l,y2:(c.y2-o.y)/l};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};Si.centre=Si.center,Si.autolockNodes=Si.autolock,Si.autoungrabifyNodes=Si.autoungrabify;var Vl={data:ln.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ln.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ln.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ln.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Vl.attr=Vl.data,Vl.removeAttr=Vl.removeData;var Uc=function(o){var l=this,c=(o=$t({},o)).container;c&&!Io(c)&&Io(c[0])&&(c=c[0]);var f=c?c._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var p=f.readies=f.readies||[];c&&(c._cyreg=f),f.cy=l;var g=void 0!==jt&&void 0!==c&&!o.headless,y=o;y.layout=$t({name:g?"grid":"null"},y.layout),y.renderer=$t({name:g?"canvas":"null"},y.renderer);var _=function(M,P,R){return void 0!==P?P:void 0!==R?R:M},b=this._private={container:c,ready:!1,options:y,elements:new zt(this),listeners:[],aniEles:new zt(this),data:y.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:_(!0,y.zoomingEnabled),userZoomingEnabled:_(!0,y.userZoomingEnabled),panningEnabled:_(!0,y.panningEnabled),userPanningEnabled:_(!0,y.userPanningEnabled),boxSelectionEnabled:_(!0,y.boxSelectionEnabled),autolock:_(!1,y.autolock,y.autolockNodes),autoungrabify:_(!1,y.autoungrabify,y.autoungrabifyNodes),autounselectify:_(!1,y.autounselectify),styleEnabled:void 0===y.styleEnabled?g:y.styleEnabled,zoom:gt(y.zoom)?y.zoom:1,pan:{x:Mt(y.pan)&&gt(y.pan.x)?y.pan.x:0,y:Mt(y.pan)&&gt(y.pan.y)?y.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:_(250,y.multiClickDebounceTime)};this.createEmitter(),this.selectionType(y.selectionType),this.zoomRange({min:y.minZoom,max:y.maxZoom}),b.styleEnabled&&l.setStyle([]);var C=$t({},y,y.renderer);l.initRenderer(C),function(M,P){if(M.some(lu))return No.all(M).then(P);P(M)}([y.style,y.elements],function(T){var M=T[0],P=T[1];b.styleEnabled&&l.style().append(M),function(M,P,R){l.notifications(!1);var N=l.mutableElements();N.length>0&&N.remove(),null!=M&&(Mt(M)||Pn(M))&&l.add(M),l.one("layoutready",function(L){l.notifications(!0),l.emit(L),l.one("load",P),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",R),l.emit("done")});var F=$t({},l._private.options.layout);F.eles=l.elements(),l.layout(F).run()}(P,function(){l.startAnimationLoop(),b.ready=!0,Gn(y.ready)&&l.on("ready",y.ready);for(var R=0;R<p.length;R++)l.on("ready",p[R]);f&&(f.readies=[]),l.emit("ready")},y.done)})},nl=Uc.prototype;$t(nl,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return jt;var l=this._private.container.ownerDocument;return void 0===l||null==l?jt:l.defaultView||jt},mount:function(o){if(null!=o){var l=this,c=l._private,f=c.options;return!Io(o)&&Io(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),c.container=o,c.styleEnabled=!0,l.invalidateSize(),l.initRenderer($t({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),l.startAnimationLoop(),l.style(f.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return Jr(this._private.options)},json:function(o){var l=this,c=l._private,f=l.mutableElements();if(Mt(o)){if(l.startBatch(),o.elements){var g={},y=function(H,Y){for(var X=[],U=[],te=0;te<H.length;te++){var j=H[te];if(j.data.id){var W=""+j.data.id,J=l.getElementById(W);g[W]=!0,0!==J.length?U.push({ele:J,json:j}):(Y&&(j.group=Y),X.push(j))}else rn("cy.json() cannot handle elements without an ID attribute")}l.add(X);for(var K=0;K<U.length;K++){var ie=U[K];ie.ele.json(ie.json)}};if(Pn(o.elements))y(o.elements);else for(var _=["nodes","edges"],b=0;b<_.length;b++){var w=_[b],C=o.elements[w];Pn(C)&&y(C,w)}var S=l.collection();f.filter(function(L){return!g[L.id()]}).forEach(function(L){L.isParent()?S.merge(L):L.remove()}),S.forEach(function(L){return L.children().move({parent:null})}),S.forEach(function(L){return(H=L,l.getElementById(H.id())).remove();var H})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==c.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==c.pan.x||o.pan.y!==c.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var T=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],M=0;M<T.length;M++){var P=T[M];null!=o[P]&&l[P](o[P])}return l.endBatch(),this}var N={};o?N.elements=this.elements().map(function(L){return L.json()}):(N.elements={},f.forEach(function(L){var H=L.group();N.elements[H]||(N.elements[H]=[]),N.elements[H].push(L.json())})),this._private.styleEnabled&&(N.style=l.style().json()),N.data=Jr(l.data());var F=c.options;return N.zoomingEnabled=c.zoomingEnabled,N.userZoomingEnabled=c.userZoomingEnabled,N.zoom=c.zoom,N.minZoom=c.minZoom,N.maxZoom=c.maxZoom,N.panningEnabled=c.panningEnabled,N.userPanningEnabled=c.userPanningEnabled,N.pan=Jr(c.pan),N.boxSelectionEnabled=c.boxSelectionEnabled,N.renderer=Jr(F.renderer),N.hideEdgesOnViewport=F.hideEdgesOnViewport,N.textureOnViewport=F.textureOnViewport,N.wheelSensitivity=F.wheelSensitivity,N.motionBlur=F.motionBlur,N.multiClickDebounceTime=F.multiClickDebounceTime,N}}),nl.$id=nl.getElementById,[Dg,je,Da,Kr,Ll,ku,Bl,$o,df,Si,Vl].forEach(function(a){$t(nl,a)});var rl={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},$h={maximal:!1,acyclic:!1},il=function(o){return o.scratch("breadthfirst")},zh=function(o,l){return o.scratch("breadthfirst",l)};function ff(a){this.options=$t({},rl,$h,a)}ff.prototype.run=function(){var b,a=this.options,o=a,l=a.cy,c=o.eles,f=c.nodes().filter(function(ut){return!ut.isParent()}),p=c,g=o.directed,y=o.acyclic||o.maximal||o.maximalAdjustments>0,_=Ro(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(Zt(o.roots))b=o.roots;else if(Pn(o.roots)){for(var w=[],C=0;C<o.roots.length;C++){var T=l.getElementById(o.roots[C]);w.push(T)}b=l.collection(w)}else if(lt(o.roots))b=l.$(o.roots);else if(g)b=f.roots();else{var M=c.components();b=l.collection();for(var P=function(mt){var xt=M[mt],At=xt.maxDegree(!1),Ot=xt.filter(function(Vt){return Vt.degree(!1)===At});b=b.add(Ot)},R=0;R<M.length;R++)P(R)}var N=[],F={},L=function(mt,xt){null==N[xt]&&(N[xt]=[]);var At=N[xt].length;N[xt].push(mt),zh(mt,{index:At,depth:xt})};p.bfs({roots:b,directed:o.directed,visit:function(mt,xt,At,Ot,Vt){var $n=mt[0],fn=$n.id();L($n,Vt),F[fn]=!0}});for(var Y=[],X=0;X<f.length;X++){var U=f[X];F[U.id()]||Y.push(U)}var te=function(mt){for(var xt=N[mt],At=0;At<xt.length;At++){var Ot=xt[At];null!=Ot?zh(Ot,{depth:mt,index:At}):(xt.splice(At,1),At--)}},j=function(){for(var mt=0;mt<N.length;mt++)te(mt)},W=function(mt,xt){for(var At=il(mt),Ot=mt.incomers().filter(function(q){return q.isNode()&&c.has(q)}),Vt=-1,$n=mt.id(),fn=0;fn<Ot.length;fn++){var zn=il(Ot[fn]);Vt=Math.max(Vt,zn.depth)}if(At.depth<=Vt){if(!o.acyclic&&xt[$n])return null;var Ze=Vt+1;return function(mt,xt){var At=il(mt);N[At.depth][At.index]=null,L(mt,xt)}(mt,Ze),xt[$n]=Ze,!0}return!1};if(g&&y){var J=[],K={},ie=function(mt){return J.push(mt)};for(f.forEach(function(ut){return J.push(ut)});J.length>0;){var ce=J.shift(),se=W(ce,K);if(se)ce.outgoers().filter(function(ut){return ut.isNode()&&c.has(ut)}).forEach(ie);else if(null===se){rn("Detected double maximal shift for node `"+ce.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}j();var le=0;if(o.avoidOverlap)for(var ve=0;ve<f.length;ve++){var Ie=f[ve].layoutDimensions(o);le=Math.max(le,Ie.w,Ie.h)}var Ae={},Xe=function(mt){if(Ae[mt.id()])return Ae[mt.id()];for(var xt=il(mt).depth,At=mt.neighborhood(),Ot=0,Vt=0,$n=0;$n<At.length;$n++){var fn=At[$n];if(!fn.isEdge()&&!fn.isParent()&&f.has(fn)){var on=il(fn);if(null!=on){var zn=on.index,Ze=on.depth;null!=zn&&null!=Ze&&Ze<xt&&(Ot+=zn/N[Ze].length,Vt++)}}}return Ot/=Vt=Math.max(1,Vt),0===Vt&&(Ot=0),Ae[mt.id()]=Ot,Ot},We=function(mt,xt){var Vt=Xe(mt)-Xe(xt);return 0===Vt?Dl(mt.id(),xt.id()):Vt};void 0!==o.depthSort&&(We=o.depthSort);for(var be=0;be<N.length;be++)N[be].sort(We),te(be);for(var fe=[],Ne=0;Ne<Y.length;Ne++)fe.push(Y[Ne]);N.unshift(fe),j();for(var ze=0,Qe=0;Qe<N.length;Qe++)ze=Math.max(N[Qe].length,ze);var Je_x=_.x1+_.w/2,Je_y=_.x1+_.h/2,Pt=N.reduce(function(ut,mt){return Math.max(ut,mt.length)},0);return c.nodes().layoutPositions(this,o,function(mt){var xt=il(mt),At=xt.depth,Ot=xt.index,Vt=N[At].length,$n=Math.max(_.w/((o.grid?Pt:Vt)+1),le),fn=Math.max(_.h/(N.length+1),le),on=Math.min(_.w/2/N.length,_.h/2/N.length);if(on=Math.max(on,le),o.circle){var Ze=on*At+on-(N.length>0&&N[0].length<=3?on/2:0),q=2*Math.PI/N[At].length*Ot;return 0===At&&1===N[0].length&&(Ze=1),{x:Je_x+Ze*Math.cos(q),y:Je_y+Ze*Math.sin(q)}}return{x:Je_x+(Ot+1-(Vt+1)/2)*$n,y:(At+1)*fn}}),this};var ol={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Pu(a){this.options=$t({},ol,a)}Pu.prototype.run=function(){var a=this.options,o=a,l=a.cy,c=o.eles,f=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=c.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var w,g=Ro(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},b=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),C=0,S=0;S<p.length;S++){var M=p[S].layoutDimensions(o);C=Math.max(C,M.w,M.h)}if(w=gt(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-C,p.length>1&&o.avoidOverlap){C*=1.75;var N=Math.cos(b)-Math.cos(0),F=Math.sin(b)-Math.sin(0),L=Math.sqrt(C*C/(N*N+F*F));w=Math.max(L,w)}return c.nodes().layoutPositions(this,o,function(X,U){var te=o.startAngle+U*b*(f?1:-1),j=w*Math.cos(te),W=w*Math.sin(te);return{x:y.x+j,y:y.y+W}}),this};var Ev={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Mi(a){this.options=$t({},Ev,a)}Mi.prototype.run=function(){for(var a=this.options,o=a,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,c=a.cy,f=o.eles,p=f.nodes().not(":parent"),g=Ro(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},_=[],b=0,w=0;w<p.length;w++){var S,C=p[w];S=o.concentric(C),_.push({value:S,node:C}),C._private.scratch.concentric=S}p.updateStyle();for(var T=0;T<p.length;T++){var P=p[T].layoutDimensions(o);b=Math.max(b,P.w,P.h)}_.sort(function(ut,mt){return mt.value-ut.value});for(var R=o.levelWidth(p),N=[[]],F=N[0],L=0;L<_.length;L++){var H=_[L];F.length>0&&Math.abs(F[0].value-H.value)>=R&&N.push(F=[]),F.push(H)}var X=b+o.minNodeSpacing;if(!o.avoidOverlap){var U=N.length>0&&N[0].length>1,te=Math.min(g.w,g.h)/2-X;X=Math.min(X,te/(N.length+U?1:0))}for(var W=0,J=0;J<N.length;J++){var K=N[J],ie=void 0===o.sweep?2*Math.PI-2*Math.PI/K.length:o.sweep,Q=K.dTheta=ie/Math.max(1,K.length-1);if(K.length>1&&o.avoidOverlap){var ce=Math.cos(Q)-Math.cos(0),se=Math.sin(Q)-Math.sin(0),le=Math.sqrt(X*X/(ce*ce+se*se));W=Math.max(le,W)}K.r=W,W+=X}if(o.equidistant){for(var ve=0,Ce=0,Ie=0;Ie<N.length;Ie++)ve=Math.max(ve,N[Ie].r-Ce);Ce=0;for(var Ae=0;Ae<N.length;Ae++){var Xe=N[Ae];0===Ae&&(Ce=Xe.r),Xe.r=Ce,Ce+=ve}}for(var We={},be=0;be<N.length;be++)for(var fe=N[be],Ne=fe.dTheta,ze=fe.r,Qe=0;Qe<fe.length;Qe++){var Je=fe[Qe],Pt=o.startAngle+(l?1:-1)*Ne*Qe,Xt={x:y.x+ze*Math.cos(Pt),y:y.y+ze*Math.sin(Pt)};We[Je.node.id()]=Xt}return f.nodes().layoutPositions(this,o,function(ut){var mt=ut.id();return We[mt]}),this};var Ks,_r={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ou(a){this.options=$t({},_r,a),this.options.layout=this;var o=this.options.eles.nodes(),c=this.options.eles.edges().filter(function(f){var p=f.source().data("id"),g=f.target().data("id"),y=o.some(function(b){return b.data("id")===p}),_=o.some(function(b){return b.data("id")===g});return!y||!_});this.options.eles=this.options.eles.not(c)}Ou.prototype.run=function(){var a=this.options,o=a.cy,l=this;l.stopped=!1,(!0===a.animate||!1===a.animate)&&l.emit({type:"layoutstart",layout:l}),Ks=!0===a.debug;var c=hf(o,l,a);Ks&&(void 0)(c),a.randomize&&Uh(c);var f=oa(),p=function(){xa(c,o,a),!0===a.fit&&o.fit(a.padding)},g=function(S){return!(l.stopped||S>=a.numIter||(jh(c,a),c.temperature=c.temperature*a.coolingFactor,c.temperature<a.minTemp))},y=function(){if(!0===a.animate||!1===a.animate)p(),l.one("layoutstop",a.stop),l.emit({type:"layoutstop",layout:l});else{var S=a.eles.nodes(),T=sl(c,a,S);S.layoutPositions(l,a,T)}},_=0,b=!0;if(!0===a.animate)!function C(){for(var S=0;b&&S<a.refresh;)b=g(_),_++,S++;b?(oa()-f>=a.animationThreshold&&p(),kd(C)):(Bu(c,a),y())}();else{for(;b;)b=g(_),_++;Bu(c,a),y()}return this},Ou.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Ou.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var hf=function(o,l,c){for(var f=c.eles.edges(),p=c.eles.nodes(),g=Ro(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),y={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:c.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},_=c.eles.components(),b={},w=0;w<_.length;w++)for(var C=_[w],S=0;S<C.length;S++)b[C[S].id()]=w;for(w=0;w<y.nodeSize;w++){var P=(M=p[w]).layoutDimensions(c);(R={}).isLocked=M.locked(),R.id=M.data("id"),R.parentId=M.data("parent"),R.cmptId=b[M.id()],R.children=[],R.positionX=M.position("x"),R.positionY=M.position("y"),R.offsetX=0,R.offsetY=0,R.height=P.w,R.width=P.h,R.maxX=R.positionX+R.width/2,R.minX=R.positionX-R.width/2,R.maxY=R.positionY+R.height/2,R.minY=R.positionY-R.height/2,R.padLeft=parseFloat(M.style("padding")),R.padRight=parseFloat(M.style("padding")),R.padTop=parseFloat(M.style("padding")),R.padBottom=parseFloat(M.style("padding")),R.nodeRepulsion=Gn(c.nodeRepulsion)?c.nodeRepulsion(M):c.nodeRepulsion,y.layoutNodes.push(R),y.idToIndex[R.id]=w}var N=[],F=0,L=-1,H=[];for(w=0;w<y.nodeSize;w++){var M,Y=(M=y.layoutNodes[w]).parentId;null!=Y?y.layoutNodes[y.idToIndex[Y]].children.push(M.id):(N[++L]=M.id,H.push(M.id))}for(y.graphSet.push(H);F<=L;){var X=N[F++],te=y.layoutNodes[y.idToIndex[X]].children;if(te.length>0)for(y.graphSet.push(te),w=0;w<te.length;w++)N[++L]=te[w]}for(w=0;w<y.graphSet.length;w++){var j=y.graphSet[w];for(S=0;S<j.length;S++)y.indexToGraph[y.idToIndex[j[S]]]=w}for(w=0;w<y.edgeSize;w++){var J=f[w],K={};K.id=J.data("id"),K.sourceId=J.data("source"),K.targetId=J.data("target");var ie=Gn(c.idealEdgeLength)?c.idealEdgeLength(J):c.idealEdgeLength,Q=Gn(c.edgeElasticity)?c.edgeElasticity(J):c.edgeElasticity,ce=y.idToIndex[K.sourceId],se=y.idToIndex[K.targetId];if(y.indexToGraph[ce]!=y.indexToGraph[se]){for(var Ce=Hh(K.sourceId,K.targetId,y),Ie=y.graphSet[Ce],_e=0,R=y.layoutNodes[ce];-1===Ie.indexOf(R.id);)R=y.layoutNodes[y.idToIndex[R.parentId]],_e++;for(R=y.layoutNodes[se];-1===Ie.indexOf(R.id);)R=y.layoutNodes[y.idToIndex[R.parentId]],_e++;ie*=_e*c.nestingFactor}K.idealLength=ie,K.elasticity=Q,y.layoutEdges.push(K)}return y},Hh=function(o,l,c){var f=pf(o,l,0,c);return 2>f.count?0:f.graph},pf=function a(o,l,c,f){var p=f.graphSet[c];if(-1<p.indexOf(o)&&-1<p.indexOf(l))return{count:2,graph:c};for(var g=0,y=0;y<p.length;y++){var w=f.layoutNodes[f.idToIndex[p[y]]].children;if(0!==w.length){var S=a(o,l,f.indexToGraph[f.idToIndex[w[0]]],f);if(0!==S.count){if(1!==S.count)return S;if(2==++g)break}}}return{count:g,graph:c}},Uh=function(o,l){for(var c=o.clientWidth,f=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*c,g.positionY=Math.random()*f)}},sl=function(o,l,c){var f=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(c.forEach(function(g){var y=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,y.positionX),p.x2=Math.max(p.x2,y.positionX),p.y1=Math.min(p.y1,y.positionY),p.y2=Math.max(p.y2,y.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,y){var _=o.layoutNodes[o.idToIndex[g.data("id")]];return l.boundingBox?{x:f.x1+(_.positionX-p.x1)/p.w*f.w,y:f.y1+(_.positionY-p.y1)/p.h*f.h}:{x:_.positionX,y:_.positionY}}},xa=function(o,l,c){var f=c.layout,p=c.eles.nodes(),g=sl(o,c,p);p.positions(g),!0!==o.ready&&(o.ready=!0,f.one("layoutready",c.ready),f.emit({type:"layoutready",layout:this}))},jh=function(o,l,c){gf(o,l),Mg(o),Tg(o,l),Lu(o),jc(o)},gf=function(o,l){for(var c=0;c<o.graphSet.length;c++)for(var f=o.graphSet[c],p=f.length,g=0;g<p;g++)for(var y=o.layoutNodes[o.idToIndex[f[g]]],_=g+1;_<p;_++)rs(y,o.layoutNodes[o.idToIndex[f[_]]],o,l)},Nu=function(o){return-o+2*o*Math.random()},rs=function(o,l,c,f){if(o.cmptId===l.cmptId||c.isCompound){var y=l.positionX-o.positionX,_=l.positionY-o.positionY;0===y&&0===_&&(y=Nu(1),_=Nu(1));var w=mf(o,l,y,_);if(w>0)var T=(C=f.nodeOverlap*w)*y/(S=Math.sqrt(y*y+_*_)),M=C*_/S;else{var C,P=Fu(o,y,_),R=Fu(l,-1*y,-1*_),N=R.x-P.x,F=R.y-P.y,L=N*N+F*F,S=Math.sqrt(L);T=(C=(o.nodeRepulsion+l.nodeRepulsion)/L)*N/S,M=C*F/S}o.isLocked||(o.offsetX-=T,o.offsetY-=M),l.isLocked||(l.offsetX+=T,l.offsetY+=M)}},mf=function(o,l,c,f){if(c>0)var p=o.maxX-l.minX;else p=l.maxX-o.minX;if(f>0)var g=o.maxY-l.minY;else g=l.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},Fu=function(o,l,c){var f=o.positionX,p=o.positionY,g=o.height||1,y=o.width||1,_=c/l,b=g/y,w={};return 0===l&&0<c||0===l&&0>c?(w.x=f,w.y=p+g/2,w):0<l&&-1*b<=_&&_<=b?(w.x=f+y/2,w.y=p+y*c/2/l,w):0>l&&-1*b<=_&&_<=b?(w.x=f-y/2,w.y=p-y*c/2/l,w):0<c&&(_<=-1*b||_>=b)?(w.x=f+g*l/2/c,w.y=p+g/2,w):(0>c&&(_<=-1*b||_>=b)&&(w.x=f-g*l/2/c,w.y=p-g/2),w)},Mg=function(o,l){for(var c=0;c<o.edgeSize;c++){var f=o.layoutEdges[c],g=o.layoutNodes[o.idToIndex[f.sourceId]],_=o.layoutNodes[o.idToIndex[f.targetId]],b=_.positionX-g.positionX,w=_.positionY-g.positionY;if(0!==b||0!==w){var C=Fu(g,b,w),S=Fu(_,-1*b,-1*w),T=S.x-C.x,M=S.y-C.y,P=Math.sqrt(T*T+M*M),R=Math.pow(f.idealLength-P,2)/f.elasticity;if(0!==P)var N=R*T/P,F=R*M/P;else N=0,F=0;g.isLocked||(g.offsetX+=N,g.offsetY+=F),_.isLocked||(_.offsetX-=N,_.offsetY-=F)}}},Tg=function(o,l){if(0!==l.gravity)for(var f=0;f<o.graphSet.length;f++){var p=o.graphSet[f],g=p.length;if(0===f)var y=o.clientHeight/2,_=o.clientWidth/2;else{var w=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];y=w.positionX,_=w.positionY}for(var C=0;C<g;C++){var S=o.layoutNodes[o.idToIndex[p[C]]];if(!S.isLocked){var T=y-S.positionX,M=_-S.positionY,P=Math.sqrt(T*T+M*M);if(P>1){var N=l.gravity*M/P;S.offsetX+=l.gravity*T/P,S.offsetY+=N}}}}},Lu=function(o,l){var c=[],f=0,p=-1;for(c.push.apply(c,o.graphSet[0]),p+=o.graphSet[0].length;f<=p;){var g=c[f++],_=o.layoutNodes[o.idToIndex[g]],b=_.children;if(0<b.length&&!_.isLocked){for(var w=_.offsetX,C=_.offsetY,S=0;S<b.length;S++){var T=o.layoutNodes[o.idToIndex[b[S]]];T.offsetX+=w,T.offsetY+=C,c[++p]=b[S]}_.offsetX=0,_.offsetY=0}}},jc=function(o,l){for(var c=0;c<o.nodeSize;c++)0<(f=o.layoutNodes[c]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(c=0;c<o.nodeSize;c++)if(!(0<(f=o.layoutNodes[c]).children.length||f.isLocked)){var p=Sa(f.offsetX,f.offsetY,o.temperature);f.positionX+=p.x,f.positionY+=p.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,Ig(f,o)}for(c=0;c<o.nodeSize;c++){var f;0<(f=o.layoutNodes[c]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},Sa=function(o,l,c){var f=Math.sqrt(o*o+l*l);if(f>c)var p={x:c*o/f,y:c*l/f};else p={x:o,y:l};return p},Ig=function a(o,l){var c=o.parentId;if(null!=c){var f=l.layoutNodes[l.idToIndex[c]],p=!1;if((null==f.maxX||o.maxX+f.padRight>f.maxX)&&(f.maxX=o.maxX+f.padRight,p=!0),(null==f.minX||o.minX-f.padLeft<f.minX)&&(f.minX=o.minX-f.padLeft,p=!0),(null==f.maxY||o.maxY+f.padBottom>f.maxY)&&(f.maxY=o.maxY+f.padBottom,p=!0),(null==f.minY||o.minY-f.padTop<f.minY)&&(f.minY=o.minY-f.padTop,p=!0),p)return a(f,l)}},Bu=function(o,l){for(var c=o.layoutNodes,f=[],p=0;p<c.length;p++){var g=c[p],y=g.cmptId;(f[y]=f[y]||[]).push(g)}var b=0;for(p=0;p<f.length;p++)if(w=f[p]){w.x1=1/0,w.x2=-1/0,w.y1=1/0,w.y2=-1/0;for(var C=0;C<w.length;C++){var S=w[C];w.x1=Math.min(w.x1,S.positionX-S.width/2),w.x2=Math.max(w.x2,S.positionX+S.width/2),w.y1=Math.min(w.y1,S.positionY-S.height/2),w.y2=Math.max(w.y2,S.positionY+S.height/2)}w.w=w.x2-w.x1,w.h=w.y2-w.y1,b+=w.w*w.h}f.sort(function(F,L){return L.w*L.h-F.w*F.h});var T=0,M=0,P=0,R=0,N=Math.sqrt(b)*o.clientWidth/o.clientHeight;for(p=0;p<f.length;p++){var w;if(w=f[p]){for(C=0;C<w.length;C++)(S=w[C]).isLocked||(S.positionX+=T-w.x1,S.positionY+=M-w.y1);T+=w.w+l.componentSpacing,P+=w.w+l.componentSpacing,R=Math.max(R,w.h),P>N&&(M+=R+l.componentSpacing,T=0,P=0,R=0)}}},Ag={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Gc(a){this.options=$t({},Ag,a)}Gc.prototype.run=function(){var a=this.options,o=a,l=a.cy,c=o.eles,f=c.nodes().not(":parent");o.sort&&(f=f.sort(o.sort));var p=Ro(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)c.nodes().layoutPositions(this,o,function(Ae){return{x:p.x1,y:p.y1}});else{var g=f.size(),y=Math.sqrt(g*p.h/p.w),_=Math.round(y),b=Math.round(p.w/p.h*y),w=function(Xe){if(null==Xe)return Math.min(_,b);Math.min(_,b)==_?_=Xe:b=Xe},C=function(Xe){if(null==Xe)return Math.max(_,b);Math.max(_,b)==_?_=Xe:b=Xe},S=o.rows,T=null!=o.cols?o.cols:o.columns;if(null!=S&&null!=T)_=S,b=T;else if(null!=S&&null==T)_=S,b=Math.ceil(g/_);else if(null==S&&null!=T)b=T,_=Math.ceil(g/b);else if(b*_>g){var M=w(),P=C();(M-1)*P>=g?w(M-1):(P-1)*M>=g&&C(P-1)}else for(;b*_<g;){var R=w(),N=C();(N+1)*R>=g?C(N+1):w(R+1)}var F=p.w/b,L=p.h/_;if(o.condense&&(F=0,L=0),o.avoidOverlap)for(var H=0;H<f.length;H++){var Y=f[H],X=Y._private.position;(null==X.x||null==X.y)&&(X.x=0,X.y=0);var U=Y.layoutDimensions(o),te=o.avoidOverlapPadding,W=U.h+te;F=Math.max(F,U.w+te),L=Math.max(L,W)}for(var J={},K=function(Xe,We){return!!J["c-"+Xe+"-"+We]},ie=function(Xe,We){J["c-"+Xe+"-"+We]=!0},Q=0,ce=0,se=function(){++ce>=b&&(ce=0,Q++)},le={},ve=0;ve<f.length;ve++){var Ce=f[ve],Ie=o.position(Ce);if(Ie&&(void 0!==Ie.row||void 0!==Ie.col)){var _e={row:Ie.row,col:Ie.col};if(void 0===_e.col)for(_e.col=0;K(_e.row,_e.col);)_e.col++;else if(void 0===_e.row)for(_e.row=0;K(_e.row,_e.col);)_e.row++;le[Ce.id()]=_e,ie(_e.row,_e.col)}}f.layoutPositions(this,o,function(Xe,We){var be,fe;if(Xe.locked()||Xe.isParent())return!1;var Ne=le[Xe.id()];if(Ne)be=Ne.col*F+F/2+p.x1,fe=Ne.row*L+L/2+p.y1;else{for(;K(Q,ce);)se();be=ce*F+F/2+p.x1,fe=Q*L+L/2+p.y1,ie(Q,ce),se()}return{x:be,y:fe}})}return this};var Vu={ready:function(){},stop:function(){}};function Wt(a){this.options=$t({},Vu,a)}Wt.prototype.run=function(){var a=this.options,o=a.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",a.ready),l.emit("layoutready"),l.one("layoutstop",a.stop),l.emit("layoutstop"),this},Wt.prototype.stop=function(){return this};var Gh={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function $u(a){this.options=$t({},Gh,a)}$u.prototype.run=function(){var a=this.options,l=a.eles.nodes(),c=Gn(a.positions);return l.layoutPositions(this,a,function(p,g){var y=function f(p){return null==a.positions?function(o){return{x:o.x,y:o.y}}(p.position()):c?a.positions(p):a.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=y&&y}),this};var ys={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function kg(a){this.options=$t({},ys,a)}kg.prototype.run=function(){var a=this.options,o=a.cy,l=a.eles,c=Ro(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,a,function(g,y){return{x:c.x1+Math.round(Math.random()*c.w),y:c.y1+Math.round(Math.random()*c.h)}}),this};var $l=[{name:"breadthfirst",impl:ff},{name:"circle",impl:Pu},{name:"concentric",impl:Mi},{name:"cose",impl:Ou},{name:"grid",impl:Gc},{name:"null",impl:Wt},{name:"preset",impl:$u},{name:"random",impl:kg}];function qc(a){this.options=a,this.notifications=0}var Yr=function(){},Dv=function(){throw new Error("A headless instance can not render images")};qc.prototype={recalculateRenderedStyle:Yr,notify:function(){this.notifications++},init:Yr,isHeadless:function(){return!0},png:Dv,jpg:Dv};var vf={arrowShapeWidth:.3,registerArrowShapes:function(){var a=this.arrowShapes={},o=this,l=function(b,w,C,S,T,M,P){return T.x-C/2-P<=b&&b<=T.x+C/2+P&&T.y-C/2-P<=w&&w<=T.y+C/2+P},c=function(b,w,C,S,T){var M=b*Math.cos(S)-w*Math.sin(S),P=b*Math.sin(S)+w*Math.cos(S);return{x:M*C+T.x,y:P*C+T.y}},f=function(b,w,C,S){for(var T=[],M=0;M<b.length;M+=2)T.push(c(b[M],b[M+1],w,C,S));return T},p=function(b){for(var w=[],C=0;C<b.length;C++){var S=b[C];w.push(S.x,S.y)}return w},g=function(b){return b.pstyle("width").pfValue*b.pstyle("arrow-scale").pfValue*2},y=function(b,w){lt(w)&&(w=a[w]),a[b]=$t({name:b,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(S,T,M,P,R,N){var F=p(f(this.points,M+2*N,P,R));return pi(S,T,F)},roughCollide:l,draw:function(S,T,M,P){var R=f(this.points,T,M,P);o.arrowShapeImpl("polygon")(S,R)},spacing:function(S){return 0},gap:g},w)};y("none",{collide:fc,roughCollide:fc,draw:oh,spacing:Qp,gap:Qp}),y("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),y("arrow","triangle"),y("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(b,w,C,S,T){var M=f(this.points,w,C,S),P=this.controlPoint,R=c(P[0],P[1],w,C,S);o.arrowShapeImpl(this.name)(b,M,R)},gap:function(b){return.8*g(b)}}),y("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(b,w,C,S,T,M,P){var R=p(f(this.points,C+2*P,S,T)),N=p(f(this.pointsTee,C+2*P,S,T));return pi(b,w,R)||pi(b,w,N)},draw:function(b,w,C,S,T){var M=f(this.points,w,C,S),P=f(this.pointsTee,w,C,S);o.arrowShapeImpl(this.name)(b,M,P)}}),y("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(b,w,C,S,T,M,P){var R=T,N=Math.pow(R.x-b,2)+Math.pow(R.y-w,2)<=Math.pow((C+2*P)*this.radius,2),F=p(f(this.points,C+2*P,S,T));return pi(b,w,F)||N},draw:function(b,w,C,S,T){var M=f(this.pointsTr,w,C,S);o.arrowShapeImpl(this.name)(b,M,S.x,S.y,this.radius*w)},spacing:function(b){return o.getArrowWidth(b.pstyle("width").pfValue,b.pstyle("arrow-scale").value)*this.radius}}),y("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(b,w){var C=this.baseCrossLinePts.slice(),S=w/b;return C[3]=C[3]-S,C[5]=C[5]-S,C},collide:function(b,w,C,S,T,M,P){var R=p(f(this.points,C+2*P,S,T)),N=p(f(this.crossLinePts(C,M),C+2*P,S,T));return pi(b,w,R)||pi(b,w,N)},draw:function(b,w,C,S,T){var M=f(this.points,w,C,S),P=f(this.crossLinePts(w,T),w,C,S);o.arrowShapeImpl(this.name)(b,M,P)}}),y("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(b){return.525*g(b)}}),y("circle",{radius:.15,collide:function(b,w,C,S,T,M,P){var R=T;return Math.pow(R.x-b,2)+Math.pow(R.y-w,2)<=Math.pow((C+2*P)*this.radius,2)},draw:function(b,w,C,S,T){o.arrowShapeImpl(this.name)(b,S.x,S.y,this.radius*w)},spacing:function(b){return o.getArrowWidth(b.pstyle("width").pfValue,b.pstyle("arrow-scale").value)*this.radius}}),y("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(b){return 1},gap:function(b){return 1}}),y("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),y("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(b){return b.pstyle("width").pfValue*b.pstyle("arrow-scale").value}}),y("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(b){return.95*b.pstyle("width").pfValue*b.pstyle("arrow-scale").value}})}},Ma={projectIntoViewport:function(a,o){var l=this.cy,c=this.findContainerClientCoords(),f=c[0],p=c[1],g=c[4],y=l.pan(),_=l.zoom();return[((a-f)/g-y.x)/_,((o-p)/g-y.y)/_]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var a=this.container,o=a.getBoundingClientRect(),l=this.cy.window().getComputedStyle(a),c=function(N){return parseFloat(l.getPropertyValue(N))},f_left=c("padding-left"),f_right=c("padding-right"),f_top=c("padding-top"),f_bottom=c("padding-bottom"),p_left=c("border-left-width"),p_right=c("border-right-width"),p_top=c("border-top-width"),g=(c("border-bottom-width"),a.clientWidth);return this.containerBB=[o.left+f_left+p_left,o.top+f_top+p_top,g-(f_left+f_right),a.clientHeight-(f_top+f_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(a,o,l,c){return this.findNearestElements(a,o,l,c)[0]},findNearestElements:function(a,o,l,c){var M,P,f=this,p=this,g=p.getCachedZSortedEles(),y=[],_=p.cy.zoom(),b=p.cy.hasCompoundNodes(),w=(c?24:8)/_,C=(c?8:2)/_,S=(c?8:2)/_,T=1/0;function R(U,te){if(U.isNode()){if(P)return;P=U,y.push(U)}if(U.isEdge()&&(null==te||te<T))if(M){if(M.pstyle("z-compound-depth").value===U.pstyle("z-compound-depth").value&&M.pstyle("z-compound-depth").value===U.pstyle("z-compound-depth").value)for(var j=0;j<y.length;j++)if(y[j].isEdge()){y[j]=U,M=U,T=te??T;break}}else y.push(U),M=U,T=te??T}function N(U){var te=U.outerWidth()+2*C,j=U.outerHeight()+2*C,W=te/2,J=j/2,K=U.position(),ie="auto"===U.pstyle("corner-radius").value?"auto":U.pstyle("corner-radius").pfValue,Q=U._private.rscratch;if(K.x-W<=a&&a<=K.x+W&&K.y-J<=o&&o<=K.y+J&&p.nodeShapes[f.getNodeShape(U)].checkPoint(a,o,0,te,j,K.x,K.y,ie,Q))return R(U,0),!0}function F(U){var ce,te=U._private,j=te.rscratch,W=U.pstyle("width").pfValue,J=U.pstyle("arrow-scale").value,K=W/2+w,ie=K*K,Q=2*K,ve=te.source,Ce=te.target;if("segments"===j.edgeType||"straight"===j.edgeType||"haystack"===j.edgeType){for(var se=j.allpts,le=0;le+3<se.length;le+=2)if(qr(a,o,se[le],se[le+1],se[le+2],se[le+3],Q)&&ie>(ce=_c(a,o,se[le],se[le+1],se[le+2],se[le+3])))return R(U,ce),!0}else if("bezier"===j.edgeType||"multibezier"===j.edgeType||"self"===j.edgeType||"compound"===j.edgeType)for(se=j.allpts,le=0;le+5<j.allpts.length;le+=4)if(Ga(a,o,se[le],se[le+1],se[le+2],se[le+3],se[le+4],se[le+5],Q)&&ie>(ce=Xo(a,o,se[le],se[le+1],se[le+2],se[le+3],se[le+4],se[le+5])))return R(U,ce),!0;ve=ve||te.source,Ce=Ce||te.target;var Ie=f.getArrowWidth(W,J),_e=[{name:"source",x:j.arrowStartX,y:j.arrowStartY,angle:j.srcArrowAngle},{name:"target",x:j.arrowEndX,y:j.arrowEndY,angle:j.tgtArrowAngle},{name:"mid-source",x:j.midX,y:j.midY,angle:j.midsrcArrowAngle},{name:"mid-target",x:j.midX,y:j.midY,angle:j.midtgtArrowAngle}];for(le=0;le<_e.length;le++){var Ee=_e[le],Ae=p.arrowShapes[U.pstyle(Ee.name+"-arrow-shape").value],Xe=U.pstyle("width").pfValue;if(Ae.roughCollide(a,o,Ie,Ee.angle,{x:Ee.x,y:Ee.y},Xe,w)&&Ae.collide(a,o,Ie,Ee.angle,{x:Ee.x,y:Ee.y},Xe,w))return R(U),!0}b&&y.length>0&&(N(ve),N(Ce))}function L(U,te,j){return ko(U,te,j)}function H(U,te){var J,j=U._private,W=S;J=te?te+"-":"",U.boundingBox();var K=j.labelBounds[te||"main"],ie=U.pstyle(J+"label").value;if("yes"===U.pstyle("text-events").strValue&&ie){var ce=L(j.rscratch,"labelX",te),se=L(j.rscratch,"labelY",te),le=L(j.rscratch,"labelAngle",te),ve=U.pstyle(J+"text-margin-x").pfValue,Ce=U.pstyle(J+"text-margin-y").pfValue,Ie=K.x1-W-ve,_e=K.x2+W-ve,Ee=K.y1-W-Ce,Ae=K.y2+W-Ce;if(le){var Xe=Math.cos(le),We=Math.sin(le),be=function(Xt,ut){return{x:(Xt-=ce)*Xe-(ut-=se)*We+ce,y:Xt*We+ut*Xe+se}},fe=be(Ie,Ee),Ne=be(Ie,Ae),ze=be(_e,Ee),Qe=be(_e,Ae);if(pi(a,o,[fe.x+ve,fe.y+Ce,ze.x+ve,ze.y+Ce,Qe.x+ve,Qe.y+Ce,Ne.x+ve,Ne.y+Ce]))return R(U),!0}else if(bc(K,a,o))return R(U),!0}}l&&(g=g.interactive);for(var Y=g.length-1;Y>=0;Y--){var X=g[Y];X.isNode()?N(X)||H(X):F(X)||H(X)||H(X,"source")||H(X,"target")}return y},getAllInBox:function(a,o,l,c){for(var f=this.getCachedZSortedEles().interactive,p=[],g=Math.min(a,l),y=Math.max(a,l),_=Math.min(o,c),b=Math.max(o,c),w=Ro({x1:a=g,y1:o=_,x2:l=y,y2:c=b}),C=0;C<f.length;C++){var S=f[C];if(S.isNode()){var T=S,M=T.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});sg(w,M)&&!Ct(M,w)&&p.push(T)}else{var P=S,R=P._private,N=R.rscratch;if(null!=N.startX&&null!=N.startY&&!bc(w,N.startX,N.startY)||null!=N.endX&&null!=N.endY&&!bc(w,N.endX,N.endY))continue;if("bezier"===N.edgeType||"multibezier"===N.edgeType||"self"===N.edgeType||"compound"===N.edgeType||"segments"===N.edgeType||"haystack"===N.edgeType){for(var F=R.rstyle.bezierPts||R.rstyle.linePts||R.rstyle.haystackPts,L=!0,H=0;H<F.length;H++)if(!uv(w,F[H])){L=!1;break}L&&p.push(P)}else("haystack"===N.edgeType||"straight"===N.edgeType)&&p.push(P)}}return p}},yf={calculateArrowAngles:function(a){var _,b,w,C,S,T,o=a._private.rscratch,l="haystack"===o.edgeType,c="bezier"===o.edgeType,f="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,y="self"===o.edgeType;l?(w=o.haystackPts[0],C=o.haystackPts[1],S=o.haystackPts[2],T=o.haystackPts[3]):(w=o.arrowStartX,C=o.arrowStartY,S=o.arrowEndX,T=o.arrowEndY),N=o.midX,F=o.midY,p?(_=w-o.segpts[0],b=C-o.segpts[1]):f||g||y||c?(_=w-hi((M=o.allpts)[0],M[2],M[4],.1),b=C-hi(M[1],M[3],M[5],.1)):(_=w-N,b=C-F),o.srcArrowAngle=Bd(_,b);var N=o.midX,F=o.midY;if(l&&(N=(w+S)/2,F=(C+T)/2),_=S-w,b=T-C,p)if((M=o.allpts).length/2%2==0)_=M[L=M.length/2]-M[H=L-2],b=M[L+1]-M[H+1];else if(o.isRound)_=o.midVector[1],b=-o.midVector[0];else{var H;_=M[L=M.length/2-1]-M[H=L-2],b=M[L+1]-M[H+1]}else if(f||g||y){var X,U,te,j,J,W,K,M=o.allpts;o.ctrlpts.length/2%2==0?(X=hi(M[W=M.length/2-1],M[J=W+2],M[K=J+2],0),U=hi(M[W+1],M[J+1],M[K+1],0),te=hi(M[W],M[J],M[K],1e-4),j=hi(M[W+1],M[J+1],M[K+1],1e-4)):(X=hi(M[W=(J=M.length/2-1)-2],M[J],M[K=J+2],.4999),U=hi(M[W+1],M[J+1],M[K+1],.4999),te=hi(M[W],M[J],M[K],.5),j=hi(M[W+1],M[J+1],M[K+1],.5)),_=te-X,b=j-U}if(o.midtgtArrowAngle=Bd(_,b),o.midDispX=_,o.midDispY=b,_*=-1,b*=-1,p&&(M=o.allpts).length/2%2!=0&&!o.isRound){var L,ie=2+(L=M.length/2-1);_=-(M[ie]-M[L]),b=-(M[ie+1]-M[L+1])}if(o.midsrcArrowAngle=Bd(_,b),p)_=S-o.segpts[o.segpts.length-2],b=T-o.segpts[o.segpts.length-1];else if(f||g||y||c){var Q=(M=o.allpts).length;_=S-hi(M[Q-6],M[Q-4],M[Q-2],.9),b=T-hi(M[Q-5],M[Q-3],M[Q-1],.9)}else _=S-N,b=T-F;o.tgtArrowAngle=Bd(_,b)}};yf.getArrowWidth=yf.getArrowHeight=function(a,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},c=l[a+", "+o];return c||(c=Math.max(Math.pow(13.37*a,.9),29)*o,l[a+", "+o]=c,c)};var Ho,qh,li,Uo,Wc,is,zu,zl,jo,Kc,Hu,al,Wh,bf,Kh,so={},Hi={},Hl=function(o,l,c){c.x=l.x-o.x,c.y=l.y-o.y,c.len=Math.sqrt(c.x*c.x+c.y*c.y),c.nx=c.x/c.len,c.ny=c.y/c.len,c.ang=Math.atan2(c.ny,c.nx)},Ui=function(o,l,c,f){o!==Kh?Hl(l,o,so):function(o,l){l.x=-1*o.x,l.y=-1*o.y,l.nx=-1*o.nx,l.ny=-1*o.ny,l.ang=o.ang>0?-(Math.PI-o.ang):Math.PI+o.ang}(Hi,so),Hl(l,c,Hi),li=so.nx*Hi.nx-so.ny*-Hi.ny,is=is=Math.asin(Math.max(-1,Math.min(1,so.nx*Hi.ny-so.ny*Hi.nx))),Uo=1,Wc=!1,li<0?is<0?is=Math.PI+is:(is=Math.PI-is,Uo=-1,Wc=!0):is>0&&(Uo=-1,Wc=!0),Kc=void 0!==l.radius?l.radius:f,zu=is/2,(jo=Math.abs(Math.cos(zu)*Kc/Math.sin(zu)))>Math.min(so.len/2,Hi.len/2)?(jo=Math.min(so.len/2,Hi.len/2),zl=Math.abs(jo*Math.sin(zu)/Math.cos(zu))):zl=Kc,Ho=(Wh=l.x+Hi.nx*jo)-Hi.ny*zl*Uo,qh=(bf=l.y+Hi.ny*jo)+Hi.nx*zl*Uo,Hu=l.x+so.nx*jo,al=l.y+so.ny*jo,Kh=l};function Zh(a,o,l,c,f){Ui(o,l,c,f),a.arc(Ho,qh,zl,so.ang+Math.PI/2*Uo,Hi.ang-Math.PI/2*Uo,Wc)}function Ta(a,o,l,c){return 0===c||0===o.radius?{cx:o.x,cy:o.y,radius:0,startX:o.x,startY:o.y,stopX:o.x,stopY:o.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Ui(a,o,l,c),{cx:Ho,cy:qh,radius:zl,startX:Hu,startY:al,stopX:Wh,stopY:bf,startAngle:so.ang+Math.PI/2*Uo,endAngle:Hi.ang-Math.PI/2*Uo,counterClockwise:Wc})}var yi={};function _f(a){var o=[];if(null!=a){for(var l=0;l<a.length;l+=2)o.push({x:a[l],y:a[l+1]});return o}}yi.findMidptPtsEtc=function(a,o){var p,j,W,J,l=o.posPts,c=o.intersectionPts,f=o.vectorNormInverse,g=a.pstyle("source-endpoint"),y=a.pstyle("target-endpoint"),_=null!=g.units&&null!=y.units;switch(a.pstyle("edge-distances").value){case"node-position":p=l;break;case"intersection":p=c;break;case"endpoints":if(_){var S=bn(this.manualEndptToPx(a.source()[0],g),2),T=S[0],M=S[1],R=bn(this.manualEndptToPx(a.target()[0],y),2),N=R[0],F=R[1],L={x1:T,y1:M,x2:N,y2:F};W=N-T,f={x:-(j=F-M)/(J=Math.sqrt(W*W+j*j)),y:W/J},p=L}else rn("Edge ".concat(a.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),p=c}return{midptPts:p,vectorNormInverse:f}},yi.findHaystackPoints=function(a){for(var o=0;o<a.length;o++){var l=a[o],c=l._private,f=c.rscratch;if(!f.haystack){var p=2*Math.random()*Math.PI;f.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,f.target={x:Math.cos(p),y:Math.sin(p)}}var g=c.source,y=c.target,_=g.position(),b=y.position(),w=g.width(),C=y.width(),S=g.height(),T=y.height(),P=l.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*w*P+_.x,f.source.y*S*P+_.y,f.target.x*C*P+b.x,f.target.y*T*P+b.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},yi.findSegmentsPoints=function(a,o){var l=a._private.rscratch,c=a.pstyle("segment-weights"),f=a.pstyle("segment-distances"),p=a.pstyle("segment-radii"),g=Math.min(c.pfValue.length,f.pfValue.length),y=p.pfValue[p.pfValue.length-1];l.edgeType="segments",l.segpts=[],l.radii=[];for(var _=0;_<g;_++){var b=c.pfValue[_],w=f.pfValue[_],C=1-b,S=b,T=this.findMidptPtsEtc(a,o),M=T.midptPts,P=T.vectorNormInverse,R={x:M.x1*C+M.x2*S,y:M.y1*C+M.y2*S};l.segpts.push(R.x+P.x*w,R.y+P.y*w),l.radii.push(p.pfValue[_]||y)}},yi.findLoopPoints=function(a,o,l,c){var f=a._private.rscratch,p=o.dirCounts,g=o.srcPos,y=a.pstyle("control-point-distances"),_=y?y.pfValue[0]:void 0,b=a.pstyle("loop-direction").pfValue,w=a.pstyle("loop-sweep").pfValue,C=a.pstyle("control-point-step-size").pfValue;f.edgeType="self";var S=l,T=C;c&&(S=0,T=_);var M=b-Math.PI/2,P=M-w/2,R=M+w/2,N=b+"_"+w;S=void 0===p[N]?p[N]=0:++p[N],f.ctrlpts=[g.x+1.4*Math.cos(P)*T*(S/3+1),g.y+1.4*Math.sin(P)*T*(S/3+1),g.x+1.4*Math.cos(R)*T*(S/3+1),g.y+1.4*Math.sin(R)*T*(S/3+1)]},yi.findCompoundLoopPoints=function(a,o,l,c){var f=a._private.rscratch;f.edgeType="compound";var p=o.srcPos,g=o.tgtPos,y=o.srcW,_=o.srcH,b=o.tgtW,w=o.tgtH,C=a.pstyle("control-point-step-size").pfValue,S=a.pstyle("control-point-distances"),M=l,P=C;c&&(M=0,P=S?S.pfValue[0]:void 0);var N={x:p.x-y/2,y:p.y-_/2},F={x:g.x-b/2,y:g.y-w/2},L={x:Math.min(N.x,F.x),y:Math.min(N.y,F.y)},Y=Math.max(.5,Math.log(.01*y)),X=Math.max(.5,Math.log(.01*b));f.ctrlpts=[L.x,L.y-(1+Math.pow(50,1.12)/100)*P*(M/3+1)*Y,L.x-(1+Math.pow(50,1.12)/100)*P*(M/3+1)*X,L.y]},yi.findStraightEdgePoints=function(a){a._private.rscratch.edgeType="straight"},yi.findBezierPoints=function(a,o,l,c,f){var p=a._private.rscratch,g=a.pstyle("control-point-step-size").pfValue,y=a.pstyle("control-point-distances"),_=a.pstyle("control-point-weights"),b=y&&_?Math.min(y.value.length,_.value.length):1,w=y?y.pfValue[0]:void 0,C=_.value[0],S=c;p.edgeType=S?"multibezier":"bezier",p.ctrlpts=[];for(var T=0;T<b;T++){var P,M=(.5-o.eles.length/2+l)*g*(f?-1:1),R=uh(M);S&&(w=y?y.pfValue[T]:g,C=_.value[T]);var N=void 0!==(P=c?w:void 0!==w?R*w:void 0)?P:M,F=1-C,L=C,H=this.findMidptPtsEtc(a,o),Y=H.midptPts,X=H.vectorNormInverse,U={x:Y.x1*F+Y.x2*L,y:Y.y1*F+Y.y2*L};p.ctrlpts.push(U.x+X.x*N,U.y+X.y*N)}},yi.findTaxiPoints=function(a,o){var l=a._private.rscratch;l.edgeType="segments";var c="vertical",f="horizontal",p="leftward",g="rightward",y="downward",_="upward",w=o.posPts,C=o.srcW,S=o.srcH,T=o.tgtW,M=o.tgtH,R="node-position"!==a.pstyle("edge-distances").value,N=a.pstyle("taxi-direction").value,F=N,L=a.pstyle("taxi-turn"),H="%"===L.units,Y=L.pfValue,X=Y<0,U=a.pstyle("taxi-turn-min-distance").pfValue,j=R?(S+M)/2:0,W=w.x2-w.x1,J=w.y2-w.y1,K=function(Ye,Jt){return Ye>0?Math.max(Ye-Jt,0):Math.min(Ye+Jt,0)},ie=K(W,R?(C+T)/2:0),Q=K(J,j),ce=!1;"auto"===F?N=Math.abs(ie)>Math.abs(Q)?f:c:F===_||F===y?(N=c,ce=!0):(F===p||F===g)&&(N=f,ce=!0);var _e,se=N===c,le=se?Q:ie,ve=se?J:W,Ce=uh(ve),Ie=!1;(!ce||!H&&!X)&&(F===y&&ve<0||F===_&&ve>0||F===p&&ve>0||F===g&&ve<0)&&(le=(Ce*=-1)*Math.abs(le),Ie=!0);var Xe=function(Ye){return Math.abs(Ye)<U||Math.abs(Ye)>=Math.abs(le)},We=Xe(_e=H?(Y<0?1+Y:Y)*le:(Y<0?le:0)+Y*Ce),be=Xe(Math.abs(le)-Math.abs(_e));if(!We&&!be||Ie){if(se){var Ze=w.y1+_e+(R?S/2*Ce:0);l.segpts=[w.x1,Ze,w.x2,Ze]}else{var He=w.x1+_e+(R?C/2*Ce:0);l.segpts=[He,w.y1,He,w.y2]}var Be=a.pstyle("taxi-radius").value;l.radii=new Array(l.segpts.length/2).fill(Be)}else if(se){var Ne=Math.abs(ve)<=S/2,ze=Math.abs(W)<=T/2;if(Ne){var Qe=(w.x1+w.x2)/2;l.segpts=[Qe,w.y1,Qe,w.y2]}else if(ze){var Xt=(w.y1+w.y2)/2;l.segpts=[w.x1,Xt,w.x2,Xt]}else l.segpts=[w.x1,w.y2]}else{var xt=Math.abs(ve)<=C/2,At=Math.abs(J)<=M/2;if(xt){var Ot=(w.y1+w.y2)/2;l.segpts=[w.x1,Ot,w.x2,Ot]}else if(At){var fn=(w.x1+w.x2)/2;l.segpts=[fn,w.y1,fn,w.y2]}else l.segpts=[w.x2,w.y1]}},yi.tryToCorrectInvalidPoints=function(a,o){var l=a._private.rscratch;if("bezier"===l.edgeType){var c=o.srcPos,f=o.tgtPos,p=o.srcW,g=o.srcH,y=o.tgtW,_=o.tgtH,b=o.srcShape,w=o.tgtShape,C=o.srcCornerRadius,S=o.tgtCornerRadius,T=o.srcRs,M=o.tgtRs,P=!gt(l.startX)||!gt(l.startY),R=!gt(l.arrowStartX)||!gt(l.arrowStartY),N=!gt(l.endX)||!gt(l.endY),F=!gt(l.arrowEndX)||!gt(l.arrowEndY),Y=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,X=ua({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),U=X<Y,te=ua({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),j=te<Y,W=!1;if(P||R||U){W=!0;var J={x:l.ctrlpts[0]-c.x,y:l.ctrlpts[1]-c.y},K=Math.sqrt(J.x*J.x+J.y*J.y),ie={x:J.x/K,y:J.y/K},Q=Math.max(p,g),ce={x:l.ctrlpts[0]+2*ie.x*Q,y:l.ctrlpts[1]+2*ie.y*Q},se=b.intersectLine(c.x,c.y,p,g,ce.x,ce.y,0,C,T);U?(l.ctrlpts[0]=l.ctrlpts[0]+ie.x*(Y-X),l.ctrlpts[1]=l.ctrlpts[1]+ie.y*(Y-X)):(l.ctrlpts[0]=se[0]+ie.x*Y,l.ctrlpts[1]=se[1]+ie.y*Y)}if(N||F||j){W=!0;var le={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},ve=Math.sqrt(le.x*le.x+le.y*le.y),Ce={x:le.x/ve,y:le.y/ve},Ie=Math.max(p,g),_e={x:l.ctrlpts[0]+2*Ce.x*Ie,y:l.ctrlpts[1]+2*Ce.y*Ie},Ee=w.intersectLine(f.x,f.y,y,_,_e.x,_e.y,0,S,M);j?(l.ctrlpts[0]=l.ctrlpts[0]+Ce.x*(Y-te),l.ctrlpts[1]=l.ctrlpts[1]+Ce.y*(Y-te)):(l.ctrlpts[0]=Ee[0]+Ce.x*Y,l.ctrlpts[1]=Ee[1]+Ce.y*Y)}W&&this.findEndpoints(a)}},yi.storeAllpts=function(a){var o=a._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var c;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[c=o.allpts.length/2-1],o.midY=o.allpts[c+1]):(o.midX=hi(o.allpts[c=o.allpts.length/2-3],o.allpts[c+2],o.allpts[c+4],.5),o.midY=hi(o.allpts[c+1],o.allpts[c+3],o.allpts[c+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var y=o.segpts.length/2-1;if(o.isRound){var _=o.radii[y/2],b={x:o.segpts[y],y:o.segpts[y+1],radius:_},w=Ta({x:o.segpts[y-2]||o.startX,y:o.segpts[y-1]||o.startY},b,{x:o.segpts[y+2]||o.endX,y:o.segpts[y+3]||o.endY},_),C=[b.x-w.cx,b.y-w.cy],S=w.radius/Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2));C=C.map(function(T){return T*S}),o.midX=w.cx+C[0],o.midY=w.cy+C[1],o.midVector=C}else o.midX=o.segpts[y],o.midY=o.segpts[y+1]}},yi.checkForInvalidEdgeWarning=function(a){var o=a[0]._private.rscratch;o.nodesOverlap||gt(o.startX)&&gt(o.startY)&&gt(o.endX)&&gt(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,rn("Edge `"+a.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},yi.findEdgeControlPoints=function(a){var o=this;if(a&&0!==a.length){for(var l=this,f=l.cy.hasCompoundNodes(),p={map:new Os,get:function(U){var te=this.map.get(U[0]);return null!=te?te.get(U[1]):null},set:function(U,te){var j=this.map.get(U[0]);null==j&&(j=new Os,this.map.set(U[0],j)),j.set(U[1],te)}},g=[],y=[],_=0;_<a.length;_++){var b=a[_],w=b._private,C=b.pstyle("curve-style").value;if(!b.removed()&&b.takesUpSpace()){if("haystack"===C){y.push(b);continue}var S="unbundled-bezier"===C||C.endsWith("segments")||"straight"===C||"straight-triangle"===C||C.endsWith("taxi"),T="unbundled-bezier"===C||"bezier"===C,P=w.target,F=[w.source.poolIndex(),P.poolIndex()].sort(),L=p.get(F);null==L&&(p.set(F,L={eles:[]}),g.push(F)),L.eles.push(b),S&&(L.hasUnbundled=!0),T&&(L.hasBezier=!0)}}for(var H=function(U){var j=p.get(g[U]),W=void 0;if(!j.hasUnbundled){var J=j.eles[0].parallelEdges().filter(function(He){return He.isBundledBezier()});sh(j.eles),J.forEach(function(He){return j.eles.push(He)}),j.eles.sort(function(He,ke){return He.poolIndex()-ke.poolIndex()})}var K=j.eles[0],ie=K.source(),Q=K.target();if(ie.poolIndex()>Q.poolIndex()){var ce=ie;ie=Q,Q=ce}var se=j.srcPos=ie.position(),le=j.tgtPos=Q.position(),ve=j.srcW=ie.outerWidth(),Ce=j.srcH=ie.outerHeight(),Ie=j.tgtW=Q.outerWidth(),_e=j.tgtH=Q.outerHeight(),Ee=j.srcShape=l.nodeShapes[o.getNodeShape(ie)],Ae=j.tgtShape=l.nodeShapes[o.getNodeShape(Q)],Xe=j.srcCornerRadius="auto"===ie.pstyle("corner-radius").value?"auto":ie.pstyle("corner-radius").pfValue,We=j.tgtCornerRadius="auto"===Q.pstyle("corner-radius").value?"auto":Q.pstyle("corner-radius").pfValue,be=j.tgtRs=Q._private.rscratch,fe=j.srcRs=ie._private.rscratch;j.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ne=0;Ne<j.eles.length;Ne++){var ze=j.eles[Ne],Qe=ze[0]._private.rscratch,Je=ze.pstyle("curve-style").value,Pt="unbundled-bezier"===Je||Je.endsWith("segments")||Je.endsWith("taxi"),Xt=!ie.same(ze.source());if(!j.calculatedIntersection&&ie!==Q&&(j.hasBezier||j.hasUnbundled)){j.calculatedIntersection=!0;var ut=Ee.intersectLine(se.x,se.y,ve,Ce,le.x,le.y,0,Xe,fe),mt=j.srcIntn=ut,xt=Ae.intersectLine(le.x,le.y,Ie,_e,se.x,se.y,0,We,be),At=j.tgtIntn=xt,Ot=j.intersectionPts={x1:ut[0],x2:xt[0],y1:ut[1],y2:xt[1]},Vt=j.posPts={x1:se.x,x2:le.x,y1:se.y,y2:le.y},$n=xt[1]-ut[1],fn=xt[0]-ut[0],on=Math.sqrt(fn*fn+$n*$n),zn=j.vector={x:fn,y:$n},Ze=j.vectorNorm={x:zn.x/on,y:zn.y/on},q={x:-Ze.y,y:Ze.x};j.nodesOverlap=!gt(on)||Ae.checkPoint(ut[0],ut[1],0,Ie,_e,le.x,le.y,We,be)||Ee.checkPoint(xt[0],xt[1],0,ve,Ce,se.x,se.y,Xe,fe),j.vectorNormInverse=q,W={nodesOverlap:j.nodesOverlap,dirCounts:j.dirCounts,calculatedIntersection:!0,hasBezier:j.hasBezier,hasUnbundled:j.hasUnbundled,eles:j.eles,srcPos:le,tgtPos:se,srcW:Ie,srcH:_e,tgtW:ve,tgtH:Ce,srcIntn:At,tgtIntn:mt,srcShape:Ae,tgtShape:Ee,posPts:{x1:Vt.x2,y1:Vt.y2,x2:Vt.x1,y2:Vt.y1},intersectionPts:{x1:Ot.x2,y1:Ot.y2,x2:Ot.x1,y2:Ot.y1},vector:{x:-zn.x,y:-zn.y},vectorNorm:{x:-Ze.x,y:-Ze.y},vectorNormInverse:{x:-q.x,y:-q.y}}}var De=Xt?W:j;Qe.nodesOverlap=De.nodesOverlap,Qe.srcIntn=De.srcIntn,Qe.tgtIntn=De.tgtIntn,Qe.isRound=Je.startsWith("round"),f&&(ie.isParent()||ie.isChild()||Q.isParent()||Q.isChild())&&(ie.parents().anySame(Q)||Q.parents().anySame(ie)||ie.same(Q)&&ie.isParent())?o.findCompoundLoopPoints(ze,De,Ne,Pt):ie===Q?o.findLoopPoints(ze,De,Ne,Pt):Je.endsWith("segments")?o.findSegmentsPoints(ze,De):Je.endsWith("taxi")?o.findTaxiPoints(ze,De):"straight"===Je||!Pt&&j.eles.length%2==1&&Ne===Math.floor(j.eles.length/2)?o.findStraightEdgePoints(ze):o.findBezierPoints(ze,De,Ne,Pt,Xt),o.findEndpoints(ze),o.tryToCorrectInvalidPoints(ze,De),o.checkForInvalidEdgeWarning(ze),o.storeAllpts(ze),o.storeEdgeProjections(ze),o.calculateArrowAngles(ze),o.recalculateEdgeLabelProjections(ze),o.calculateLabelAngles(ze)}},Y=0;Y<g.length;Y++)H(Y);this.findHaystackPoints(y)}},yi.getSegmentPoints=function(a){var o=a[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(a),_f(o.segpts)},yi.getControlPoints=function(a){var o=a[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(a),_f(o.ctrlpts)},yi.getEdgeMidpoint=function(a){var o=a[0]._private.rscratch;return this.recalculateRenderedStyle(a),{x:o.midX,y:o.midY}};var Zs={manualEndptToPx:function(a,o){var c=a.position(),f=a.outerWidth(),p=a.outerHeight(),g=a._private.rscratch;if(2===o.value.length){var y=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(y[0]=y[0]*f),"%"===o.units[1]&&(y[1]=y[1]*p),y[0]+=c.x,y[1]+=c.y,y}var _=o.pfValue[0];_=-Math.PI/2+_;var b=2*Math.max(f,p),w=[c.x+Math.cos(_)*b,c.y+Math.sin(_)*b];return this.nodeShapes[this.getNodeShape(a)].intersectLine(c.x,c.y,f,p,w[0],w[1],0,"auto"===a.pstyle("corner-radius").value?"auto":a.pstyle("corner-radius").pfValue,g)},findEndpoints:function(a){var l,Q,ce,se,le,o=this,c=a.source()[0],f=a.target()[0],p=c.position(),g=f.position(),y=a.pstyle("target-arrow-shape").value,_=a.pstyle("source-arrow-shape").value,b=a.pstyle("target-distance-from-node").pfValue,w=a.pstyle("source-distance-from-node").pfValue,C=c._private.rscratch,S=f._private.rscratch,T=a.pstyle("curve-style").value,M=a._private.rscratch,P=M.edgeType,N="self"===P||"compound"===P,F="bezier"===P||"multibezier"===P||N,L="bezier"!==P,H="straight"===P||"segments"===P,Y="segments"===P,X=F||L||H,U=N||"taxi"===T,te=a.pstyle("source-endpoint"),j=U?"outside-to-node":te.value,W="auto"===c.pstyle("corner-radius").value?"auto":c.pstyle("corner-radius").pfValue,J=a.pstyle("target-endpoint"),K=U?"outside-to-node":J.value,ie="auto"===f.pstyle("corner-radius").value?"auto":f.pstyle("corner-radius").pfValue;if(M.srcManEndpt=te,M.tgtManEndpt=J,F){var ve=[M.ctrlpts[0],M.ctrlpts[1]];Q=L?[M.ctrlpts[M.ctrlpts.length-2],M.ctrlpts[M.ctrlpts.length-1]]:ve,ce=ve}else if(H){var Ie=Y?M.segpts.slice(0,2):[g.x,g.y];Q=Y?M.segpts.slice(M.segpts.length-2):[p.x,p.y],ce=Ie}if("inside-to-node"===K)l=[g.x,g.y];else if(J.units)l=this.manualEndptToPx(f,J);else if("outside-to-line"===K)l=M.tgtIntn;else if("outside-to-node"===K||"outside-to-node-or-label"===K?se=Q:("outside-to-line"===K||"outside-to-line-or-label"===K)&&(se=[p.x,p.y]),l=o.nodeShapes[this.getNodeShape(f)].intersectLine(g.x,g.y,f.outerWidth(),f.outerHeight(),se[0],se[1],0,ie,S),"outside-to-node-or-label"===K||"outside-to-line-or-label"===K){var Ee=f._private.rscratch,We=Ee.labelX,be=Ee.labelY,fe=Ee.labelWidth/2,Ne=Ee.labelHeight/2,ze=f.pstyle("text-valign").value;"top"===ze?be-=Ne:"bottom"===ze&&(be+=Ne);var Qe=f.pstyle("text-halign").value;"left"===Qe?We-=fe:"right"===Qe&&(We+=fe);var Je=Tn(se[0],se[1],[We-fe,be-Ne,We+fe,be-Ne,We+fe,be+Ne,We-fe,be+Ne],g.x,g.y);if(Je.length>0){var Pt=p,Xt=ti(Pt,vc(l)),ut=ti(Pt,vc(Je)),mt=Xt;ut<Xt&&(l=Je,mt=ut),Je.length>2&&ti(Pt,{x:Je[2],y:Je[3]})<mt&&(l=[Je[2],Je[3]])}}var At=Ec(l,Q,o.arrowShapes[y].spacing(a)+b),Ot=Ec(l,Q,o.arrowShapes[y].gap(a)+b);if(M.endX=Ot[0],M.endY=Ot[1],M.arrowEndX=At[0],M.arrowEndY=At[1],"inside-to-node"===j)l=[p.x,p.y];else if(te.units)l=this.manualEndptToPx(c,te);else if("outside-to-line"===j)l=M.srcIntn;else if("outside-to-node"===j||"outside-to-node-or-label"===j?le=ce:("outside-to-line"===j||"outside-to-line-or-label"===j)&&(le=[g.x,g.y]),l=o.nodeShapes[this.getNodeShape(c)].intersectLine(p.x,p.y,c.outerWidth(),c.outerHeight(),le[0],le[1],0,W,C),"outside-to-node-or-label"===j||"outside-to-line-or-label"===j){var Vt=c._private.rscratch,on=Vt.labelX,zn=Vt.labelY,Ze=Vt.labelWidth/2,q=Vt.labelHeight/2,De=c.pstyle("text-valign").value;"top"===De?zn-=q:"bottom"===De&&(zn+=q);var He=c.pstyle("text-halign").value;"left"===He?on-=Ze:"right"===He&&(on+=Ze);var ke=Tn(le[0],le[1],[on-Ze,zn-q,on+Ze,zn-q,on+Ze,zn+q,on-Ze,zn+q],p.x,p.y);if(ke.length>0){var Me=g,Be=ti(Me,vc(l)),Pe=ti(Me,vc(ke)),Ye=Be;Pe<Be&&(l=[ke[0],ke[1]],Ye=Pe),ke.length>2&&ti(Me,{x:ke[2],y:ke[3]})<Ye&&(l=[ke[2],ke[3]])}}var Ut=Ec(l,ce,o.arrowShapes[_].spacing(a)+w),ot=Ec(l,ce,o.arrowShapes[_].gap(a)+w);M.startX=ot[0],M.startY=ot[1],M.arrowStartX=Ut[0],M.arrowStartY=Ut[1],X&&(M.badLine=!(gt(M.startX)&&gt(M.startY)&&gt(M.endX)&&gt(M.endY)))},getSourceEndpoint:function(a){var o=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(a){var o=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},_s={};function Ul(a,o,l){for(var c=function(b,w,C,S){return hi(b,w,C,S)},p=o._private.rstyle.bezierPts,g=0;g<a.bezierProjPcts.length;g++){var y=a.bezierProjPcts[g];p.push({x:c(l[0],l[2],l[4],y),y:c(l[1],l[3],l[5],y)})}}_s.storeEdgeProjections=function(a){var o=a._private,l=o.rscratch,c=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===c||"bezier"===c||"self"===c||"compound"===c){o.rstyle.bezierPts=[];for(var f=0;f+5<l.allpts.length;f+=4)Ul(this,a,l.allpts.slice(f,f+6))}else if("segments"===c){var p=o.rstyle.linePts=[];for(f=0;f+1<l.allpts.length;f+=2)p.push({x:l.allpts[f],y:l.allpts[f+1]})}else if("haystack"===c){var g=l.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth},_s.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};var Tr={recalculateNodeLabelProjection:function(a){var o=a.pstyle("label").strValue;if(!sn(o)){var l,c,f=a._private,p=a.width(),g=a.height(),y=a.padding(),_=a.position(),b=a.pstyle("text-halign").strValue,w=a.pstyle("text-valign").strValue,C=f.rscratch,S=f.rstyle;switch(b){case"left":l=_.x-p/2-y;break;case"right":l=_.x+p/2+y;break;default:l=_.x}switch(w){case"top":c=_.y-g/2-y;break;case"bottom":c=_.y+g/2+y;break;default:c=_.y}C.labelX=l,C.labelY=c,S.labelX=l,S.labelY=c,this.calculateLabelAngles(a),this.applyLabelDimensions(a)}}},Ia=function(o,l){var c=Math.atan(l/o);return 0===o&&c<0&&(c*=-1),c},wf=function(o,l){return Ia(l.x-o.x,l.y-o.y)};Tr.recalculateEdgeLabelProjections=function(a){var o,l=a._private,c=l.rscratch,f=this,p={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(C,S,T){aa(l.rscratch,C,S,T),aa(l.rstyle,C,S,T)};g("labelX",null,(o={x:c.midX,y:c.midY}).x),g("labelY",null,o.y);var y=Ia(c.midDispX,c.midDispY);g("labelAutoAngle",null,y);var _=function w(){if(w.cache)return w.cache;for(var C=[],S=0;S+5<c.allpts.length;S+=4)C.push({p0:{x:c.allpts[S],y:c.allpts[S+1]},p1:{x:c.allpts[S+2],y:c.allpts[S+3]},p2:{x:c.allpts[S+4],y:c.allpts[S+5]},startDist:0,length:0,segments:[]});var R=l.rstyle.bezierPts,N=f.bezierProjPcts.length;function F(U,te,j,W,J){var K=ua(te,j),ie=U.segments[U.segments.length-1];U.segments.push({p0:te,p1:j,t0:W,t1:J,startDist:ie?ie.startDist+ie.length:0,length:K}),U.length+=K}for(var L=0;L<C.length;L++){var H=C[L],Y=C[L-1];Y&&(H.startDist=Y.startDist+Y.length),F(H,H.p0,R[L*N],0,f.bezierProjPcts[0]);for(var X=0;X<N-1;X++)F(H,R[L*N+X],R[L*N+X+1],f.bezierProjPcts[X],f.bezierProjPcts[X+1]);F(H,R[L*N+N-1],H.p2,f.bezierProjPcts[N-1],1)}return w.cache=C},b=function(C){var S,T="source"===C;if(p[C]){var M=a.pstyle(C+"-text-offset").pfValue;switch(c.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var R,P=_(),N=0,F=0,L=0;L<P.length;L++){for(var H=P[T?L:P.length-1-L],Y=0;Y<H.segments.length;Y++){var X=H.segments[T?Y:H.segments.length-1-Y];if(N=F,(F+=X.length)>=M||L===P.length-1&&Y===H.segments.length-1){R={cp:H,segment:X};break}}if(R)break}var te=R.cp,j=R.segment,W=(M-N)/j.length,J=j.t1-j.t0,K=T?j.t0+J*W:j.t1-J*W;K=Vd(0,K,1),o=Sl(te.p0,te.p1,te.p2,K),S=function(o,l,c,f){var p=Vd(0,f-.001,1),g=Vd(0,f+.001,1),y=Sl(o,l,c,p),_=Sl(o,l,c,g);return wf(y,_)}(te.p0,te.p1,te.p2,K);break;case"straight":case"segments":case"haystack":for(var Q,ce,se,le,ie=0,ve=c.allpts.length,Ce=0;Ce+3<ve&&(T?(se={x:c.allpts[Ce],y:c.allpts[Ce+1]},le={x:c.allpts[Ce+2],y:c.allpts[Ce+3]}):(se={x:c.allpts[ve-2-Ce],y:c.allpts[ve-1-Ce]},le={x:c.allpts[ve-4-Ce],y:c.allpts[ve-3-Ce]}),ce=ie,!((ie+=Q=ua(se,le))>=M));Ce+=2);var _e=(M-ce)/Q;_e=Vd(0,_e,1),o=function(o,l,c,f){var p_x=l.x-o.x,p_y=l.y-o.y,g=ua(o,l);return c=c??0,{x:o.x+p_x/g*(f=f??c*g),y:o.y+p_y/g*f}}(se,le,_e),S=wf(se,le)}g("labelX",C,o.x),g("labelY",C,o.y),g("labelAutoAngle",C,S)}};b("source"),b("target"),this.applyLabelDimensions(a)}},Tr.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},Tr.applyPrefixedLabelDimensions=function(a,o){var l=a._private,c=this.getLabelText(a,o),f=this.calculateLabelDimensions(a,c),p=a.pstyle("line-height").pfValue,g=a.pstyle("text-wrap").strValue,y=ko(l.rscratch,"labelWrapCachedLines",o)||[],_="wrap"!==g?1:Math.max(y.length,1),b=f.height/_,w=b*p,C=f.width,S=f.height+(_-1)*(p-1)*b;aa(l.rstyle,"labelWidth",o,C),aa(l.rscratch,"labelWidth",o,C),aa(l.rstyle,"labelHeight",o,S),aa(l.rscratch,"labelHeight",o,S),aa(l.rscratch,"labelLineHeight",o,w)},Tr.getLabelText=function(a,o){var l=a._private,f=a.pstyle((o?o+"-":"")+"label").strValue,p=a.pstyle("text-transform").value,g=function(Ie,_e){return _e?(aa(l.rscratch,Ie,o,_e),_e):ko(l.rscratch,Ie,o)};if(!f)return"";"none"==p||("uppercase"==p?f=f.toUpperCase():"lowercase"==p&&(f=f.toLowerCase()));var y=a.pstyle("text-wrap").value;if("wrap"===y){var _=g("labelKey");if(null!=_&&g("labelWrapKey")===_)return g("labelWrapCachedText");for(var w=f.split("\n"),C=a.pstyle("text-max-width").pfValue,T="anywhere"===a.pstyle("text-overflow-wrap").value,M=[],P=/[\s\u200b]+/,R=T?"":" ",N=0;N<w.length;N++){var F=w[N],H=this.calculateLabelDimensions(a,F).width;if(T){var Y=F.split("").join("\u200b");F=Y}if(H>C){for(var X=F.split(P),U="",te=0;te<X.length;te++){var j=X[te];this.calculateLabelDimensions(a,0===U.length?j:U+R+j).width<=C?U+=j+R:(U&&M.push(U),U=j+R)}U.match(/^[\s\u200b]+$/)||M.push(U)}else M.push(F)}g("labelWrapCachedLines",M),f=g("labelWrapCachedText",M.join("\n")),g("labelWrapKey",_)}else if("ellipsis"===y){var ie=a.pstyle("text-max-width").pfValue,Q="",se=!1;if(this.calculateLabelDimensions(a,f).width<ie)return f;for(var le=0;le<f.length&&!(this.calculateLabelDimensions(a,Q+f[le]+"\u2026").width>ie);le++)Q+=f[le],le===f.length-1&&(se=!0);return se||(Q+="\u2026"),Q}return f},Tr.getLabelJustification=function(a){var o=a.pstyle("text-justification").strValue,l=a.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!a.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},Tr.calculateLabelDimensions=function(a,o){var c=Ps(o,a._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),p=f[c];if(null!=p)return p;var y=a.pstyle("font-style").strValue,_=a.pstyle("font-size").pfValue,b=a.pstyle("font-family").strValue,w=a.pstyle("font-weight").strValue,C=this.labelCalcCanvas,S=this.labelCalcCanvasContext;if(!C){C=this.labelCalcCanvas=document.createElement("canvas"),S=this.labelCalcCanvasContext=C.getContext("2d");var T=C.style;T.position="absolute",T.left="-9999px",T.top="-9999px",T.zIndex="-1",T.visibility="hidden",T.pointerEvents="none"}S.font="".concat(y," ").concat(w," ").concat(_,"px ").concat(b);for(var M=0,P=0,R=o.split("\n"),N=0;N<R.length;N++){var L=S.measureText(R[N]),H=Math.ceil(L.width),Y=_;M=Math.max(H,M),P+=Y}return f[c]={width:M+=0,height:P+=0}},Tr.calculateLabelAngle=function(a,o){var c=a._private.rscratch,f=a.isEdge(),g=a.pstyle((o?o+"-":"")+"text-rotation"),y=g.strValue;return"none"===y?0:f&&"autorotate"===y?c.labelAutoAngle:"autorotate"===y?0:g.pfValue},Tr.calculateLabelAngles=function(a){var o=this,l=a.isEdge(),f=a._private.rscratch;f.labelAngle=o.calculateLabelAngle(a),l&&(f.sourceLabelAngle=o.calculateLabelAngle(a,"source"),f.targetLabelAngle=o.calculateLabelAngle(a,"target"))};var Cv={},xv=!1;Cv.getNodeShape=function(a){var l=a.pstyle("shape").value;if("cutrectangle"===l&&(a.width()<28||a.height()<28))return xv||(rn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),xv=!0),"rectangle";if(a.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var c=a.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(c).name}return l};var Qh={updateCachedGrabbedEles:function(){var a=this.cachedZSortedEles;if(a){a.drag=[],a.nondrag=[];for(var o=[],l=0;l<a.length;l++){var f=(c=a[l])._private.rscratch;c.grabbed()&&!c.isParent()?o.push(c):f.inDragLayer?a.drag.push(c):a.nondrag.push(c)}for(l=0;l<o.length;l++){var c;a.drag.push(c=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(a){if(a||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(bg),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},Sv={};[Ma,yf,yi,Zs,_s,Tr,Cv,{registerCalculationListeners:function(){var a=this.cy,o=a.collection(),l=this,c=function(g){var y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),y)for(var _=0;_<g.length;_++){var C=g[_]._private.rstyle;C.clean=!1,C.cleanConnected=!1}};l.binder(a).on("bounds.* dirty.*",function(g){c(g.target)}).on("style.* background.*",function(g){c(g.target,!1)});var f=function(g){if(g){var y=l.onUpdateEleCalcsFns;o.cleanStyle();for(var _=0;_<o.length;_++){var b=o[_],w=b._private.rstyle;b.isNode()&&!w.cleanConnected&&(c(b.connectedEdges()),w.cleanConnected=!0)}if(y)for(var C=0;C<y.length;C++)(0,y[C])(g,o);l.recalculateRenderedStyle(o),o=a.collection()}};l.flushRenderedStyleQueue=function(){f(!0)},l.beforeRender(f,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(a){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(a)},recalculateRenderedStyle:function(a,o){var l=function(H){return H._private.rstyle.cleanConnected},c=[],f=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<a.length;p++){var g=a[p],y=g._private,_=y.rstyle;g.isEdge()&&(!l(g.source())||!l(g.target()))&&(_.clean=!1),!(o&&_.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===y.group?f.push(g):c.push(g),_.clean=!0)}for(var b=0;b<f.length;b++){var w=f[b],S=w._private.rstyle,T=w.position();this.recalculateNodeLabelProjection(w),S.nodeX=T.x,S.nodeY=T.y,S.nodeW=w.pstyle("width").pfValue,S.nodeH=w.pstyle("height").pfValue}this.recalculateEdgeProjections(c);for(var M=0;M<c.length;M++){var R=c[M]._private,N=R.rstyle,F=R.rscratch;N.srcX=F.arrowStartX,N.srcY=F.arrowStartY,N.tgtX=F.arrowEndX,N.tgtY=F.arrowEndY,N.midX=F.midX,N.midY=F.midY,N.labelAngle=F.labelAngle,N.sourceLabelAngle=F.sourceLabelAngle,N.targetLabelAngle=F.targetLabelAngle}}}},Qh].forEach(function(a){$t(Sv,a)});var Mv={getCachedImage:function(a,o,l){var f=this.imageCache=this.imageCache||{},p=f[a];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var g=(p=f[a]=f[a]||{}).image=new Image;g.addEventListener("load",l),g.addEventListener("error",function(){g.error=!0});return"data:"===a.substring(0,5).toLowerCase()||(g.crossOrigin=o="null"===o?null:o),g.src=a,g}},Zc={registerBinding:function(a,o,l,c){var f=Array.prototype.slice.apply(arguments,[1]),p=this.binder(a);return p.on.apply(p,f)},binder:function(a){var o=this,l=o.cy.window(),c=a===l||a===l.document||a===l.document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(a);if(null==o.supportsPassiveEvents){var f=!1;try{var p=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});l.addEventListener("test",null,p)}catch{}o.supportsPassiveEvents=f}var g=function(_,b,w){var C=Array.prototype.slice.call(arguments);return c&&o.supportsPassiveEvents&&(C[2]={capture:w??!1,passive:!1,once:!1}),o.bindings.push({target:a,args:C}),(a.addEventListener||a.on).apply(a,C),this};return{on:g,addEventListener:g,addListener:g,bind:g}},nodeIsDraggable:function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},nodeIsGrabbable:function(a){return this.nodeIsDraggable(a)&&a.interactive()}};Zc.load=function(){var a=this,o=a.cy.window(),l=function(q){return q.selected()},c=function(q,De,He,ke){null==q&&(q=a.cy);for(var Me=0;Me<De.length;Me++)q.emit({originalEvent:He,type:De[Me],position:ke})},f=function(q){return q.shiftKey||q.metaKey||q.ctrlKey},p=function(q,De){var He=!0;if(a.cy.hasCompoundNodes()&&q&&q.pannable()){for(var ke=0;De&&ke<De.length;ke++)if((q=De[ke]).isNode()&&q.isParent()&&!q.pannable()){He=!1;break}}else He=!0;return He},_=function(q){q[0]._private.rscratch.inDragLayer=!0},w=function(q){q[0]._private.rscratch.isGrabTarget=!0},S=function(q,De){var He=De.addToList;!He.has(q)&&q.grabbable()&&!q.locked()&&(He.merge(q),function(q){q[0]._private.grabbed=!0}(q))},M=function(q,De){De=De||{};var He=q.cy().hasCompoundNodes();De.inDragLayer&&(q.forEach(_),q.neighborhood().stdFilter(function(ke){return!He||ke.isEdge()}).forEach(_)),De.addToList&&q.forEach(function(ke){S(ke,De)}),function(q,De){if(q.cy().hasCompoundNodes()&&(null!=De.inDragLayer||null!=De.addToList)){var He=q.descendants();De.inDragLayer&&(He.forEach(_),He.connectedEdges().forEach(_)),De.addToList&&S(He,De)}}(q,De),N(q,{inDragLayer:De.inDragLayer}),a.updateCachedGrabbedEles()},P=M,R=function(q){q&&(a.getCachedZSortedEles().forEach(function(De){(function(q){q[0]._private.grabbed=!1})(De),function(q){q[0]._private.rscratch.inDragLayer=!1}(De),function(q){q[0]._private.rscratch.isGrabTarget=!1}(De)}),a.updateCachedGrabbedEles())},N=function(q,De){if((null!=De.inDragLayer||null!=De.addToList)&&q.cy().hasCompoundNodes()){var He=q.ancestors().orphans();if(!He.same(q)){var ke=He.descendants().spawnSelf().merge(He).unmerge(q).unmerge(q.descendants()),Me=ke.connectedEdges();De.inDragLayer&&(Me.forEach(_),ke.forEach(_)),De.addToList&&ke.forEach(function(Be){S(Be,De)})}}},F=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},L=typeof MutationObserver<"u",H=typeof ResizeObserver<"u";L?(a.removeObserver=new MutationObserver(function(Ze){for(var q=0;q<Ze.length;q++){var He=Ze[q].removedNodes;if(He)for(var ke=0;ke<He.length;ke++)if(He[ke]===a.container){a.destroy();break}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(Ze){a.destroy()});var Y=ht.default(function(){a.cy.resize()},100);L&&(a.styleObserver=new MutationObserver(Y),a.styleObserver.observe(a.container,{attributes:!0})),a.registerBinding(o,"resize",Y),H&&(a.resizeObserver=new ResizeObserver(Y),a.resizeObserver.observe(a.container));var U=function(){a.invalidateContainerClientCoordsCache()};(function(q,De){for(;null!=q;)a.registerBinding(Ze=q,"transitionend",U),a.registerBinding(Ze,"animationend",U),a.registerBinding(Ze,"scroll",U),q=q.parentNode;var Ze})(a.container),a.registerBinding(a.container,"contextmenu",function(Ze){Ze.preventDefault()});var W,J,K,j=function(q){for(var De=a.findContainerClientCoords(),He=De[0],ke=De[1],Me=De[2],Be=De[3],Pe=q.touches?q.touches:[q],Ye=!1,Jt=0;Jt<Pe.length;Jt++){var Ut=Pe[Jt];if(He<=Ut.clientX&&Ut.clientX<=He+Me&&ke<=Ut.clientY&&Ut.clientY<=ke+Be){Ye=!0;break}}if(!Ye)return!1;for(var ot=a.container,Tt=q.target.parentNode,Nt=!1;Tt;){if(Tt===ot){Nt=!0;break}Tt=Tt.parentNode}return!!Nt};a.registerBinding(a.container,"mousedown",function(q){if(j(q)){q.preventDefault(),F(),a.hoverData.capture=!0,a.hoverData.which=q.which;var De=a.cy,He=[q.clientX,q.clientY],ke=a.projectIntoViewport(He[0],He[1]),Me=a.selection,Be=a.findNearestElements(ke[0],ke[1],!0,!1),Pe=Be[0],Ye=a.dragData.possibleDragElements;if(a.hoverData.mdownPos=ke,a.hoverData.mdownGPos=He,3==q.which){a.hoverData.cxtStarted=!0;var Ut={originalEvent:q,type:"cxttapstart",position:{x:ke[0],y:ke[1]}};Pe?(Pe.activate(),Pe.emit(Ut),a.hoverData.down=Pe):De.emit(Ut),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1}else if(1==q.which){if(Pe&&Pe.activate(),null!=Pe&&a.nodeIsGrabbable(Pe)){var ot=function(Cr){return{originalEvent:q,type:Cr,position:{x:ke[0],y:ke[1]}}};if(w(Pe),Pe.selected()){Ye=a.dragData.possibleDragElements=De.collection();var Tt=De.$(function(Nt){return Nt.isNode()&&Nt.selected()&&a.nodeIsGrabbable(Nt)});M(Tt,{addToList:Ye}),Pe.emit(ot("grabon")),Tt.forEach(function(Cr){Cr.emit(ot("grab"))})}else Ye=a.dragData.possibleDragElements=De.collection(),P(Pe,{addToList:Ye}),Pe.emit(ot("grabon")).emit(ot("grab"));a.redrawHint("eles",!0),a.redrawHint("drag",!0)}a.hoverData.down=Pe,a.hoverData.downs=Be,a.hoverData.downTime=(new Date).getTime(),c(Pe,["mousedown","tapstart","vmousedown"],q,{x:ke[0],y:ke[1]}),null==Pe?(Me[4]=1,a.data.bgActivePosistion={x:ke[0],y:ke[1]},a.redrawHint("select",!0),a.redraw()):Pe.pannable()&&(Me[4]=1),a.hoverData.tapholdCancelled=!1,clearTimeout(a.hoverData.tapholdTimeout),a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var Cr=a.hoverData.down;Cr?Cr.emit({originalEvent:q,type:"taphold",position:{x:ke[0],y:ke[1]}}):De.emit({originalEvent:q,type:"taphold",position:{x:ke[0],y:ke[1]}})}},a.tapholdDuration)}Me[0]=Me[2]=ke[0],Me[1]=Me[3]=ke[1]}},!1),a.registerBinding(o,"mousemove",function(q){var Qs;if(a.hoverData.capture||j(q)){var He=!1,ke=a.cy,Me=ke.zoom(),Be=[q.clientX,q.clientY],Pe=a.projectIntoViewport(Be[0],Be[1]),Ye=a.hoverData.mdownPos,Jt=a.hoverData.mdownGPos,Ut=a.selection,ot=null;!a.hoverData.draggingEles&&!a.hoverData.dragging&&!a.hoverData.selecting&&(ot=a.findNearestElement(Pe[0],Pe[1],!0,!1));var ur,tn=a.hoverData.last,Tt=a.hoverData.down,Nt=[Pe[0]-Ut[2],Pe[1]-Ut[3]],Cr=a.dragData.possibleDragElements;if(Jt){var lo=Be[0]-Jt[0],ci=Be[1]-Jt[1];a.hoverData.isOverThresholdDrag=ur=lo*lo+ci*ci>=a.desktopTapThreshold2}var Lr=f(q);ur&&(a.hoverData.tapholdCancelled=!0),He=!0,c(ot,["mousemove","vmousemove","tapdrag"],q,{x:Pe[0],y:Pe[1]});var ss=function(){a.data.bgActivePosistion=void 0,a.hoverData.selecting||ke.emit({originalEvent:q,type:"boxstart",position:{x:Pe[0],y:Pe[1]}}),Ut[4]=1,a.hoverData.selecting=!0,a.redrawHint("select",!0),a.redraw()};if(3===a.hoverData.which){if(ur){var qo={originalEvent:q,type:"cxtdrag",position:{x:Pe[0],y:Pe[1]}};Tt?Tt.emit(qo):ke.emit(qo),a.hoverData.cxtDragged=!0,(!a.hoverData.cxtOver||ot!==a.hoverData.cxtOver)&&(a.hoverData.cxtOver&&a.hoverData.cxtOver.emit({originalEvent:q,type:"cxtdragout",position:{x:Pe[0],y:Pe[1]}}),a.hoverData.cxtOver=ot,ot&&ot.emit({originalEvent:q,type:"cxtdragover",position:{x:Pe[0],y:Pe[1]}}))}}else if(a.hoverData.dragging){if(He=!0,ke.panningEnabled()&&ke.userPanningEnabled()){var Oa;if(a.hoverData.justStartedPan){var hl=a.hoverData.mdownPos;Oa={x:(Pe[0]-hl[0])*Me,y:(Pe[1]-hl[1])*Me},a.hoverData.justStartedPan=!1}else Oa={x:Nt[0]*Me,y:Nt[1]*Me};ke.panBy(Oa),ke.emit("dragpan"),a.hoverData.dragged=!0}Pe=a.projectIntoViewport(q.clientX,q.clientY)}else if(1!=Ut[4]||null!=Tt&&!Tt.pannable()){if(Tt&&Tt.pannable()&&Tt.active()&&Tt.unactivate(),(!Tt||!Tt.grabbed())&&ot!=tn&&(tn&&c(tn,["mouseout","tapdragout"],q,{x:Pe[0],y:Pe[1]}),ot&&c(ot,["mouseover","tapdragover"],q,{x:Pe[0],y:Pe[1]}),a.hoverData.last=ot),Tt)if(ur){if(ke.boxSelectionEnabled()&&Lr)Tt&&Tt.grabbed()&&(R(Cr),Tt.emit("freeon"),Cr.emit("free"),a.dragData.didDrag&&(Tt.emit("dragfreeon"),Cr.emit("dragfree"))),ss();else if(Tt&&Tt.grabbed()&&a.nodeIsDraggable(Tt)){var _i=!a.dragData.didDrag;_i&&a.redrawHint("eles",!0),a.dragData.didDrag=!0,a.hoverData.draggingEles||M(Cr,{inDragLayer:!0});var Gr={x:0,y:0};if(gt(Nt[0])&&gt(Nt[1])&&(Gr.x+=Nt[0],Gr.y+=Nt[1],_i)){var Gi=a.hoverData.dragDelta;Gi&&gt(Gi[0])&&gt(Gi[1])&&(Gr.x+=Gi[0],Gr.y+=Gi[1])}a.hoverData.draggingEles=!0,Cr.silentShift(Gr).emit("position drag"),a.redrawHint("drag",!0),a.redraw()}}else 0===(Qs=a.hoverData.dragDelta=a.hoverData.dragDelta||[]).length?(Qs.push(Nt[0]),Qs.push(Nt[1])):(Qs[0]+=Nt[0],Qs[1]+=Nt[1]);He=!0}else ur&&(a.hoverData.dragging||!ke.boxSelectionEnabled()||!Lr&&ke.panningEnabled()&&ke.userPanningEnabled()?!a.hoverData.selecting&&ke.panningEnabled()&&ke.userPanningEnabled()&&p(Tt,a.hoverData.downs)&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,Ut[4]=0,a.data.bgActivePosistion=vc(Ye),a.redrawHint("select",!0),a.redraw()):ss(),Tt&&Tt.pannable()&&Tt.active()&&Tt.unactivate());if(Ut[2]=Pe[0],Ut[3]=Pe[1],He)return q.stopPropagation&&q.stopPropagation(),q.preventDefault&&q.preventDefault(),!1}},!1),a.registerBinding(o,"mouseup",function(q){if(a.hoverData.capture){a.hoverData.capture=!1;var He=a.cy,ke=a.projectIntoViewport(q.clientX,q.clientY),Me=a.selection,Be=a.findNearestElement(ke[0],ke[1],!0,!1),Pe=a.dragData.possibleDragElements,Ye=a.hoverData.down,Jt=f(q);if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,Ye&&Ye.unactivate(),3===a.hoverData.which){var Ut={originalEvent:q,type:"cxttapend",position:{x:ke[0],y:ke[1]}};if(Ye?Ye.emit(Ut):He.emit(Ut),!a.hoverData.cxtDragged){var ot={originalEvent:q,type:"cxttap",position:{x:ke[0],y:ke[1]}};Ye?Ye.emit(ot):He.emit(ot)}a.hoverData.cxtDragged=!1,a.hoverData.which=null}else if(1===a.hoverData.which){if(c(Be,["mouseup","tapend","vmouseup"],q,{x:ke[0],y:ke[1]}),!a.dragData.didDrag&&!a.hoverData.dragged&&!a.hoverData.selecting&&!a.hoverData.isOverThresholdDrag&&(c(Ye,["click","tap","vclick"],q,{x:ke[0],y:ke[1]}),J=!1,q.timeStamp-K<=He.multiClickDebounceTime()?(W&&clearTimeout(W),J=!0,K=null,c(Ye,["dblclick","dbltap","vdblclick"],q,{x:ke[0],y:ke[1]})):(W=setTimeout(function(){J||c(Ye,["oneclick","onetap","voneclick"],q,{x:ke[0],y:ke[1]})},He.multiClickDebounceTime()),K=q.timeStamp)),null==Ye&&!a.dragData.didDrag&&!a.hoverData.selecting&&!a.hoverData.dragged&&!f(q)&&(He.$(l).unselect(["tapunselect"]),Pe.length>0&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=Pe=He.collection()),Be==Ye&&!a.dragData.didDrag&&!a.hoverData.selecting&&null!=Be&&Be._private.selectable&&(a.hoverData.dragging||("additive"===He.selectionType()||Jt?Be.selected()?Be.unselect(["tapunselect"]):Be.select(["tapselect"]):Jt||(He.$(l).unmerge(Be).unselect(["tapunselect"]),Be.select(["tapselect"]))),a.redrawHint("eles",!0)),a.hoverData.selecting){var tn=He.collection(a.getAllInBox(Me[0],Me[1],Me[2],Me[3]));a.redrawHint("select",!0),tn.length>0&&a.redrawHint("eles",!0),He.emit({type:"boxend",originalEvent:q,position:{x:ke[0],y:ke[1]}}),"additive"===He.selectionType()||Jt||He.$(l).unmerge(tn).unselect(),tn.emit("box").stdFilter(function(ur){return ur.selectable()&&!ur.selected()}).select().emit("boxselect"),a.redraw()}if(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),!Me[4]){a.redrawHint("drag",!0),a.redrawHint("eles",!0);var Nt=Ye&&Ye.grabbed();R(Pe),Nt&&(Ye.emit("freeon"),Pe.emit("free"),a.dragData.didDrag&&(Ye.emit("dragfreeon"),Pe.emit("dragfree")))}}Me[4]=0,a.hoverData.down=null,a.hoverData.cxtStarted=!1,a.hoverData.draggingEles=!1,a.hoverData.selecting=!1,a.hoverData.isOverThresholdDrag=!1,a.dragData.didDrag=!1,a.hoverData.dragged=!1,a.hoverData.dragDelta=[],a.hoverData.mdownPos=null,a.hoverData.mdownGPos=null}},!1);var ie=function(q){if(!a.scrollingPage){var De=a.cy,He=De.zoom(),ke=De.pan(),Me=a.projectIntoViewport(q.clientX,q.clientY),Be=[Me[0]*He+ke.x,Me[1]*He+ke.y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||0!==a.selection[4])return void q.preventDefault();if(De.panningEnabled()&&De.userPanningEnabled()&&De.zoomingEnabled()&&De.userZoomingEnabled()){var Pe;q.preventDefault(),a.data.wheelZooming=!0,clearTimeout(a.data.wheelTimeout),a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1,a.redrawHint("eles",!0),a.redraw()},150),Pe=null!=q.deltaY?q.deltaY/-250:null!=q.wheelDeltaY?q.wheelDeltaY/1e3:q.wheelDelta/1e3,Pe*=a.wheelSensitivity,1===q.deltaMode&&(Pe*=33);var Jt=De.zoom()*Math.pow(10,Pe);"gesturechange"===q.type&&(Jt=a.gestureStartZoom*q.scale),De.zoom({level:Jt,renderedPosition:{x:Be[0],y:Be[1]}}),De.emit("gesturechange"===q.type?"pinchzoom":"scrollzoom")}}};a.registerBinding(a.container,"wheel",ie,!0),a.registerBinding(o,"scroll",function(q){a.scrollingPage=!0,clearTimeout(a.scrollingPageTimeout),a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0),a.registerBinding(a.container,"gesturestart",function(q){a.gestureStartZoom=a.cy.zoom(),a.hasTouchStarted||q.preventDefault()},!0),a.registerBinding(a.container,"gesturechange",function(Ze){a.hasTouchStarted||ie(Ze)},!0),a.registerBinding(a.container,"mouseout",function(q){var De=a.projectIntoViewport(q.clientX,q.clientY);a.cy.emit({originalEvent:q,type:"mouseout",position:{x:De[0],y:De[1]}})},!1),a.registerBinding(a.container,"mouseover",function(q){var De=a.projectIntoViewport(q.clientX,q.clientY);a.cy.emit({originalEvent:q,type:"mouseover",position:{x:De[0],y:De[1]}})},!1);var Q,ce,se,le,ve,Ce,Ie,_e,Ee,Ae,Xe,We,be,ze,Qe,Je,Pt,Xt,ut,mt,fe=function(q,De,He,ke){return Math.sqrt((He-q)*(He-q)+(ke-De)*(ke-De))},Ne=function(q,De,He,ke){return(He-q)*(He-q)+(ke-De)*(ke-De)};if(a.registerBinding(a.container,"touchstart",ze=function(q){if(a.hasTouchStarted=!0,j(q)){F(),a.touchData.capture=!0,a.data.bgActivePosistion=void 0;var De=a.cy,He=a.touchData.now,ke=a.touchData.earlier;if(q.touches[0]){var Me=a.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);He[0]=Me[0],He[1]=Me[1]}if(q.touches[1]&&(Me=a.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY),He[2]=Me[0],He[3]=Me[1]),q.touches[2]&&(Me=a.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY),He[4]=Me[0],He[5]=Me[1]),q.touches[1]){a.touchData.singleTouchMoved=!0,R(a.dragData.touchDragEles);var Be=a.findContainerClientCoords();Xe=Be[2],We=Be[3],ce=q.touches[0].clientY-(Ae=Be[1]),se=q.touches[1].clientX-(Ee=Be[0]),le=q.touches[1].clientY-Ae,be=0<=(Q=q.touches[0].clientX-Ee)&&Q<=Xe&&0<=se&&se<=Xe&&0<=ce&&ce<=We&&0<=le&&le<=We;var Pe=De.pan(),Ye=De.zoom();if(ve=fe(Q,ce,se,le),Ce=Ne(Q,ce,se,le),_e=[((Ie=[(Q+se)/2,(ce+le)/2])[0]-Pe.x)/Ye,(Ie[1]-Pe.y)/Ye],Ce<4e4&&!q.touches[2]){var ot=a.findNearestElement(He[0],He[1],!0,!0),tn=a.findNearestElement(He[2],He[3],!0,!0);return ot&&ot.isNode()?(ot.activate().emit({originalEvent:q,type:"cxttapstart",position:{x:He[0],y:He[1]}}),a.touchData.start=ot):tn&&tn.isNode()?(tn.activate().emit({originalEvent:q,type:"cxttapstart",position:{x:He[0],y:He[1]}}),a.touchData.start=tn):De.emit({originalEvent:q,type:"cxttapstart",position:{x:He[0],y:He[1]}}),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}}if(q.touches[2])De.boxSelectionEnabled()&&q.preventDefault();else if(!q.touches[1]&&q.touches[0]){var Tt=a.findNearestElements(He[0],He[1],!0,!0),Nt=Tt[0];if(null!=Nt&&(Nt.activate(),a.touchData.start=Nt,a.touchData.starts=Tt,a.nodeIsGrabbable(Nt))){var Cr=a.dragData.touchDragEles=De.collection(),ur=null;a.redrawHint("eles",!0),a.redrawHint("drag",!0),Nt.selected()?(ur=De.$(function(Ai){return Ai.selected()&&a.nodeIsGrabbable(Ai)}),M(ur,{addToList:Cr})):P(Nt,{addToList:Cr}),w(Nt);var lo=function(Lr){return{originalEvent:q,type:Lr,position:{x:He[0],y:He[1]}}};Nt.emit(lo("grabon")),ur?ur.forEach(function(Ai){Ai.emit(lo("grab"))}):Nt.emit(lo("grab"))}c(Nt,["touchstart","tapstart","vmousedown"],q,{x:He[0],y:He[1]}),null==Nt&&(a.data.bgActivePosistion={x:Me[0],y:Me[1]},a.redrawHint("select",!0),a.redraw()),a.touchData.singleTouchMoved=!1,a.touchData.singleTouchStartTime=+new Date,clearTimeout(a.touchData.tapholdTimeout),a.touchData.tapholdTimeout=setTimeout(function(){!1===a.touchData.singleTouchMoved&&!a.pinching&&!a.touchData.selecting&&c(a.touchData.start,["taphold"],q,{x:He[0],y:He[1]})},a.tapholdDuration)}if(q.touches.length>=1){for(var Ii=a.touchData.startPosition=[null,null,null,null,null,null],ci=0;ci<He.length;ci++)Ii[ci]=ke[ci]=He[ci];var Co=q.touches[0];a.touchData.startGPosition=[Co.clientX,Co.clientY]}}},!1),a.registerBinding(window,"touchmove",Qe=function(q){var De=a.touchData.capture;if(De||j(q)){var He=a.selection,ke=a.cy,Me=a.touchData.now,Be=a.touchData.earlier,Pe=ke.zoom();if(q.touches[0]){var Ye=a.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);Me[0]=Ye[0],Me[1]=Ye[1]}q.touches[1]&&(Ye=a.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY),Me[2]=Ye[0],Me[3]=Ye[1]),q.touches[2]&&(Ye=a.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY),Me[4]=Ye[0],Me[5]=Ye[1]);var Ut,Jt=a.touchData.startGPosition;if(De&&q.touches[0]&&Jt){for(var ot=[],tn=0;tn<Me.length;tn++)ot[tn]=Me[tn]-Be[tn];var Tt=q.touches[0].clientX-Jt[0],Cr=q.touches[0].clientY-Jt[1];Ut=Tt*Tt+Cr*Cr>=a.touchTapThreshold2}if(De&&a.touchData.cxt){q.preventDefault();var Lr=Ne(Ii=q.touches[0].clientX-Ee,ci=q.touches[0].clientY-Ae,Co=q.touches[1].clientX-Ee,Ai=q.touches[1].clientY-Ae);if(Lr/Ce>=2.25||Lr>=22500){a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var as={originalEvent:q,type:"cxttapend",position:{x:Me[0],y:Me[1]}};a.touchData.start?(a.touchData.start.unactivate().emit(as),a.touchData.start=null):ke.emit(as)}}if(De&&a.touchData.cxt){as={originalEvent:q,type:"cxtdrag",position:{x:Me[0],y:Me[1]}},a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.touchData.start?a.touchData.start.emit(as):ke.emit(as),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxtDragged=!0;var _i=a.findNearestElement(Me[0],Me[1],!0,!0);(!a.touchData.cxtOver||_i!==a.touchData.cxtOver)&&(a.touchData.cxtOver&&a.touchData.cxtOver.emit({originalEvent:q,type:"cxtdragout",position:{x:Me[0],y:Me[1]}}),a.touchData.cxtOver=_i,_i&&_i.emit({originalEvent:q,type:"cxtdragover",position:{x:Me[0],y:Me[1]}}))}else if(De&&q.touches[2]&&ke.boxSelectionEnabled())q.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||ke.emit({originalEvent:q,type:"boxstart",position:{x:Me[0],y:Me[1]}}),a.touchData.selecting=!0,a.touchData.didSelect=!0,He[4]=1,He&&0!==He.length&&void 0!==He[0]?(He[2]=(Me[0]+Me[2]+Me[4])/3,He[3]=(Me[1]+Me[3]+Me[5])/3):(He[0]=(Me[0]+Me[2]+Me[4])/3,He[1]=(Me[1]+Me[3]+Me[5])/3,He[2]=(Me[0]+Me[2]+Me[4])/3+1,He[3]=(Me[1]+Me[3]+Me[5])/3+1),a.redrawHint("select",!0),a.redraw();else if(De&&q.touches[1]&&!a.touchData.didSelect&&ke.zoomingEnabled()&&ke.panningEnabled()&&ke.userZoomingEnabled()&&ke.userPanningEnabled()){if(q.preventDefault(),a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),Gr=a.dragData.touchDragEles){a.redrawHint("drag",!0);for(var Gi=0;Gi<Gr.length;Gi++){var Zu=Gr[Gi]._private;Zu.grabbed=!1,Zu.rscratch.inDragLayer=!1}}var Ii,ci,Co,Ai,Qs=a.touchData.start,di=fe(Ii=q.touches[0].clientX-Ee,ci=q.touches[0].clientY-Ae,Co=q.touches[1].clientX-Ee,Ai=q.touches[1].clientY-Ae),qi=di/ve;if(be){var Xg=(Ii-Q+(Co-se))/2,V0=(ci-ce+(Ai-le))/2,Tf=ke.zoom(),hp=Tf*qi,Yu=ke.pan(),If=_e[0]*Tf+Yu.x,jv=_e[1]*Tf+Yu.y,Gv={x:-hp/Tf*(If-Yu.x-Xg)+If,y:-hp/Tf*(jv-Yu.y-V0)+jv};Qs&&Qs.active()&&(R(Gr=a.dragData.touchDragEles),a.redrawHint("drag",!0),a.redrawHint("eles",!0),Qs.unactivate().emit("freeon"),Gr.emit("free"),a.dragData.didDrag&&(Qs.emit("dragfreeon"),Gr.emit("dragfree"))),ke.viewport({zoom:hp,pan:Gv,cancelOnFailedZoom:!0}),ke.emit("pinchzoom"),ve=di,Q=Ii,ce=ci,se=Co,le=Ai,a.pinching=!0}q.touches[0]&&(Ye=a.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY),Me[0]=Ye[0],Me[1]=Ye[1]),q.touches[1]&&(Ye=a.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY),Me[2]=Ye[0],Me[3]=Ye[1]),q.touches[2]&&(Ye=a.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY),Me[4]=Ye[0],Me[5]=Ye[1])}else if(q.touches[0]&&!a.touchData.didSelect){var Wo=a.touchData.start,pp=a.touchData.last;if(!a.hoverData.draggingEles&&!a.swipePanning&&(_i=a.findNearestElement(Me[0],Me[1],!0,!0)),De&&null!=Wo&&q.preventDefault(),De&&null!=Wo&&a.nodeIsDraggable(Wo))if(Ut){var Gr=a.dragData.touchDragEles,Jg=!a.dragData.didDrag;Jg&&M(Gr,{inDragLayer:!0}),a.dragData.didDrag=!0;var ld={x:0,y:0};gt(ot[0])&&gt(ot[1])&&(ld.x+=ot[0],ld.y+=ot[1],Jg)&&(a.redrawHint("eles",!0),(Es=a.touchData.dragDelta)&&gt(Es[0])&&gt(Es[1])&&(ld.x+=Es[0],ld.y+=Es[1])),a.hoverData.draggingEles=!0,Gr.silentShift(ld).emit("position drag"),a.redrawHint("drag",!0),a.touchData.startPosition[0]==Be[0]&&a.touchData.startPosition[1]==Be[1]&&a.redrawHint("eles",!0),a.redraw()}else{var Es;0===(Es=a.touchData.dragDelta=a.touchData.dragDelta||[]).length?(Es.push(ot[0]),Es.push(ot[1])):(Es[0]+=ot[0],Es[1]+=ot[1])}if(c(Wo||_i,["touchmove","tapdrag","vmousemove"],q,{x:Me[0],y:Me[1]}),(!Wo||!Wo.grabbed())&&_i!=pp&&(pp&&pp.emit({originalEvent:q,type:"tapdragout",position:{x:Me[0],y:Me[1]}}),_i&&_i.emit({originalEvent:q,type:"tapdragover",position:{x:Me[0],y:Me[1]}})),a.touchData.last=_i,De)for(Gi=0;Gi<Me.length;Gi++)Me[Gi]&&a.touchData.startPosition[Gi]&&Ut&&(a.touchData.singleTouchMoved=!0);De&&(null==Wo||Wo.pannable())&&ke.panningEnabled()&&ke.userPanningEnabled()&&(p(Wo,a.touchData.starts)&&(q.preventDefault(),a.data.bgActivePosistion||(a.data.bgActivePosistion=vc(a.touchData.startPosition)),a.swipePanning?(ke.panBy({x:ot[0]*Pe,y:ot[1]*Pe}),ke.emit("dragpan")):Ut&&(a.swipePanning=!0,ke.panBy({x:Tt*Pe,y:Cr*Pe}),ke.emit("dragpan"),Wo&&(Wo.unactivate(),a.redrawHint("select",!0),a.touchData.start=null))),Ye=a.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY),Me[0]=Ye[0],Me[1]=Ye[1])}for(tn=0;tn<Me.length;tn++)Be[tn]=Me[tn];De&&q.touches.length>0&&!a.hoverData.draggingEles&&!a.swipePanning&&null!=a.data.bgActivePosistion&&(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.redraw())}},!1),a.registerBinding(o,"touchcancel",Je=function(q){var De=a.touchData.start;a.touchData.capture=!1,De&&De.unactivate()}),a.registerBinding(o,"touchend",Pt=function(q){var De=a.touchData.start;if(a.touchData.capture){0===q.touches.length&&(a.touchData.capture=!1),q.preventDefault();var ke=a.selection;a.swipePanning=!1,a.hoverData.draggingEles=!1;var Ut,Me=a.cy,Be=Me.zoom(),Pe=a.touchData.now,Ye=a.touchData.earlier;if(q.touches[0]){var Jt=a.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);Pe[0]=Jt[0],Pe[1]=Jt[1]}if(q.touches[1]&&(Jt=a.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY),Pe[2]=Jt[0],Pe[3]=Jt[1]),q.touches[2]&&(Jt=a.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY),Pe[4]=Jt[0],Pe[5]=Jt[1]),De&&De.unactivate(),a.touchData.cxt){if(Ut={originalEvent:q,type:"cxttapend",position:{x:Pe[0],y:Pe[1]}},De?De.emit(Ut):Me.emit(Ut),!a.touchData.cxtDragged){var ot={originalEvent:q,type:"cxttap",position:{x:Pe[0],y:Pe[1]}};De?De.emit(ot):Me.emit(ot)}return a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw()}if(!q.touches[2]&&Me.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;var tn=Me.collection(a.getAllInBox(ke[0],ke[1],ke[2],ke[3]));ke[0]=void 0,ke[1]=void 0,ke[2]=void 0,ke[3]=void 0,ke[4]=0,a.redrawHint("select",!0),Me.emit({type:"boxend",originalEvent:q,position:{x:Pe[0],y:Pe[1]}}),tn.emit("box").stdFilter(function(qo){return qo.selectable()&&!qo.selected()}).select().emit("boxselect"),tn.nonempty()&&a.redrawHint("eles",!0),a.redraw()}if(De?.unactivate(),q.touches[2])a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);else if(!q.touches[1]&&!q.touches[0]&&!q.touches[0]){a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Nt=a.dragData.touchDragEles;if(null!=De){var Cr=De._private.grabbed;R(Nt),a.redrawHint("drag",!0),a.redrawHint("eles",!0),Cr&&(De.emit("freeon"),Nt.emit("free"),a.dragData.didDrag&&(De.emit("dragfreeon"),Nt.emit("dragfree"))),c(De,["touchend","tapend","vmouseup","tapdragout"],q,{x:Pe[0],y:Pe[1]}),De.unactivate(),a.touchData.start=null}else{var ur=a.findNearestElement(Pe[0],Pe[1],!0,!0);c(ur,["touchend","tapend","vmouseup","tapdragout"],q,{x:Pe[0],y:Pe[1]})}var lo=a.touchData.startPosition[0]-Pe[0],ci=a.touchData.startPosition[1]-Pe[1],Lr=(lo*lo+ci*ci)*Be*Be;a.touchData.singleTouchMoved||(De||Me.$(":selected").unselect(["tapunselect"]),c(De,["tap","vclick"],q,{x:Pe[0],y:Pe[1]}),Xt=!1,q.timeStamp-mt<=Me.multiClickDebounceTime()?(ut&&clearTimeout(ut),Xt=!0,mt=null,c(De,["dbltap","vdblclick"],q,{x:Pe[0],y:Pe[1]})):(ut=setTimeout(function(){Xt||c(De,["onetap","voneclick"],q,{x:Pe[0],y:Pe[1]})},Me.multiClickDebounceTime()),mt=q.timeStamp)),null!=De&&!a.dragData.didDrag&&De._private.selectable&&Lr<a.touchTapThreshold2&&!a.pinching&&("single"===Me.selectionType()?(Me.$(l).unmerge(De).unselect(["tapunselect"]),De.select(["tapselect"])):De.selected()?De.unselect(["tapunselect"]):De.select(["tapselect"]),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved=!0}for(var uo=0;uo<Pe.length;uo++)Ye[uo]=Pe[uo];a.dragData.didDrag=!1,0===q.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=[null,null,null,null,null,null],a.touchData.startGPosition=null,a.touchData.didSelect=!1),q.touches.length<2&&(1===q.touches.length&&(a.touchData.startGPosition=[q.touches[0].clientX,q.touches[0].clientY]),a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),typeof TouchEvent>"u"){var xt=[],At=function(q){return{clientX:q.clientX,clientY:q.clientY,force:1,identifier:q.pointerId,pageX:q.pageX,pageY:q.pageY,radiusX:q.width/2,radiusY:q.height/2,screenX:q.screenX,screenY:q.screenY,target:q.target}},$n=function(q){for(var De=0;De<xt.length;De++)if(xt[De].event.pointerId===q.pointerId)return void xt.splice(De,1)},on=function(q){q.touches=xt.map(function(De){return De.touch})},zn=function(q){return"mouse"===q.pointerType||4===q.pointerType};a.registerBinding(a.container,"pointerdown",function(Ze){zn(Ze)||(Ze.preventDefault(),xt.push(function(q){return{event:q,touch:At(q)}}(Ze)),on(Ze),ze(Ze))}),a.registerBinding(a.container,"pointerup",function(Ze){zn(Ze)||($n(Ze),on(Ze),Pt(Ze))}),a.registerBinding(a.container,"pointercancel",function(Ze){zn(Ze)||($n(Ze),on(Ze),Je())}),a.registerBinding(a.container,"pointermove",function(Ze){var q,De;zn(Ze)||(Ze.preventDefault(),q=Ze,(De=xt.filter(function(He){return He.event.pointerId===q.pointerId})[0]).event=q,De.touch=At(q),on(Ze),Qe(Ze))})}};var Do={generatePolygon:function(a,o){return this.nodeShapes[a]={renderer:this,name:a,points:o,draw:function(c,f,p,g,y,_){this.renderer.nodeShapeImpl("polygon",c,f,p,g,y,this.points)},intersectLine:function(c,f,p,g,y,_,b,w){return Tn(y,_,this.points,c,f,p/2,g/2,b)},checkPoint:function(c,f,p,g,y,_,b,w){return Jo(c,f,this.points,_,b,g,y,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,c,f,p,g){this.renderer.nodeShapeImpl(this.name,o,l,c,f,p)},intersectLine:function(o,l,c,f,p,g,y,_){return function(o,l,c,f,p,g){var y=c-o,_=f-l;y/=p,_/=g;var b=Math.sqrt(y*y+_*_),w=b-1;if(w<0)return[];var C=w/b;return[(c-o)*C+o,(f-l)*C+l]}(p,g,o,l,c/2+y,f/2+y)},checkPoint:function(o,l,c,f,p,g,y,_){return qa(o,l,f,p,g,y,c)}}},generateRoundPolygon:function(a,o){return this.nodeShapes[a]={renderer:this,name:a,points:o,getOrCreateCorners:function(c,f,p,g,y,_,b){if(void 0!==_[b]&&_[b+"-cx"]===c&&_[b+"-cy"]===f)return _[b];_[b]=new Array(o.length/2),_[b+"-cx"]=c,_[b+"-cy"]=f;var w=p/2,C=g/2;y="auto"===y?Hd(p,g):y;for(var S=new Array(o.length/2),T=0;T<o.length/2;T++)S[T]={x:c+w*o[2*T],y:f+C*o[2*T+1]};var M,P,R,N,F=S.length;for(P=S[F-1],M=0;M<F;M++)_[b][M]=Ta(P,R=S[M%F],N=S[(M+1)%F],y),P=R,R=N;return _[b]},draw:function(c,f,p,g,y,_,b){this.renderer.nodeShapeImpl("round-polygon",c,f,p,g,y,this.points,this.getOrCreateCorners(f,p,g,y,_,b,"drawCorners"))},intersectLine:function(c,f,p,g,y,_,b,w,C){return function(o,l,c,f,p,g,y,_,b){var C,w=[],S=new Array(2*c.length);b.forEach(function(F,L){0===L?(S[S.length-2]=F.startX,S[S.length-1]=F.startY):(S[4*L-2]=F.startX,S[4*L-1]=F.startY),S[4*L]=F.stopX,S[4*L+1]=F.stopY,0!==(C=ir(o,l,f,p,F.cx,F.cy,F.radius)).length&&w.push(C[0],C[1])});for(var T=0;T<S.length/4;T++)0!==(C=Wa(o,l,f,p,S[4*T],S[4*T+1],S[4*T+2],S[4*T+3],!1)).length&&w.push(C[0],C[1]);if(w.length>2){for(var M=[w[0],w[1]],P=Math.pow(M[0]-o,2)+Math.pow(M[1]-l,2),R=1;R<w.length/2;R++){var N=Math.pow(w[2*R]-o,2)+Math.pow(w[2*R+1]-l,2);N<=P&&(M[0]=w[2*R],M[1]=w[2*R+1],P=N)}return M}return w}(y,_,this.points,c,f,0,0,0,this.getOrCreateCorners(c,f,p,g,w,C,"corners"))},checkPoint:function(c,f,p,g,y,_,b,w,C){return function(o,l,c,f,p,g,y,_){for(var b=new Array(2*c.length),w=0;w<_.length;w++){var C=_[w];if(b[4*w+0]=C.startX,b[4*w+1]=C.startY,b[4*w+2]=C.stopX,b[4*w+3]=C.stopY,Math.pow(C.cx-o,2)+Math.pow(C.cy-l,2)<=Math.pow(C.radius,2))return!0}return pi(o,l,b)}(c,f,this.points,0,0,0,0,this.getOrCreateCorners(_,b,g,y,w,C,"corners"))}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:_n(4,0),draw:function(o,l,c,f,p,g){this.renderer.nodeShapeImpl(this.name,o,l,c,f,p,this.points,g)},intersectLine:function(o,l,c,f,p,g,y,_){return Ei(p,g,o,l,c,f,y,_)},checkPoint:function(o,l,c,f,p,g,y,_){var b=f/2,w=p/2;_="auto"===_?ca(f,p):_;var C=2*(_=Math.min(b,w,_));return!!(Jo(o,l,this.points,g,y,f,p-C,[0,-1],c)||Jo(o,l,this.points,g,y,f-C,p,[0,-1],c)||qa(o,l,C,C,g-b+_,y-w+_,c)||qa(o,l,C,C,g+b-_,y-w+_,c)||qa(o,l,C,C,g+b-_,y+w-_,c)||qa(o,l,C,C,g-b+_,y+w-_,c))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:_n(4,0),draw:function(o,l,c,f,p,g){this.renderer.nodeShapeImpl(this.name,o,l,c,f,p,null,g)},generateCutTrianglePts:function(o,l,c,f,p){var g="auto"===p?this.cornerLength:p,y=l/2,_=o/2,b=c-_,w=c+_,C=f-y,S=f+y;return{topLeft:[b,C+g,b+g,C,b+g,C+g],topRight:[w-g,C,w,C+g,w-g,C+g],bottomRight:[w,S-g,w-g,S,w-g,S-g],bottomLeft:[b+g,S,b,S-g,b+g,S-g]}},intersectLine:function(o,l,c,f,p,g,y,_){var b=this.generateCutTrianglePts(c+2*y,f+2*y,o,l,_),w=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return Tn(p,g,w,o,l)},checkPoint:function(o,l,c,f,p,g,y,_){var b="auto"===_?this.cornerLength:_;if(Jo(o,l,this.points,g,y,f,p-2*b,[0,-1],c)||Jo(o,l,this.points,g,y,f-2*b,p,[0,-1],c))return!0;var w=this.generateCutTrianglePts(f,p,g,y);return pi(o,l,w.topLeft)||pi(o,l,w.topRight)||pi(o,l,w.bottomRight)||pi(o,l,w.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:_n(4,0),draw:function(o,l,c,f,p,g){this.renderer.nodeShapeImpl(this.name,o,l,c,f,p)},intersectLine:function(o,l,c,f,p,g,y,_){var S=this.generateBarrelBezierPts(c+2*y,f+2*y,o,l),T=function(R){var N=Sl({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.15),F=Sl({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.5),L=Sl({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.85);return[R[0],R[1],N.x,N.y,F.x,F.y,L.x,L.y,R[4],R[5]]},M=[].concat(T(S.topLeft),T(S.topRight),T(S.bottomRight),T(S.bottomLeft));return Tn(p,g,M,o,l)},generateBarrelBezierPts:function(o,l,c,f){var p=l/2,g=o/2,y=c-g,_=c+g,b=f-p,w=f+p,C=lg(o,l),S=C.heightOffset,T=C.widthOffset,M=C.ctrlPtOffsetPct*o,P={topLeft:[y,b+S,y+M,b,y+T,b],topRight:[_-T,b,_-M,b,_,b+S],bottomRight:[_,w-S,_-M,w,_-T,w],bottomLeft:[y+T,w,y+M,w,y,w-S]};return P.topLeft.isTop=!0,P.topRight.isTop=!0,P.bottomLeft.isBottom=!0,P.bottomRight.isBottom=!0,P},checkPoint:function(o,l,c,f,p,g,y,_){var b=lg(f,p),C=b.widthOffset;if(Jo(o,l,this.points,g,y,f,p-2*b.heightOffset,[0,-1],c)||Jo(o,l,this.points,g,y,f-2*C,p,[0,-1],c))return!0;for(var S=this.generateBarrelBezierPts(f,p,g,y),T=function(te,j,W){var J=W[4],K=W[2],ie=W[0],Q=W[5],ce=W[1],se=Math.min(J,ie),le=Math.max(J,ie),ve=Math.min(Q,ce),Ce=Math.max(Q,ce);if(se<=te&&te<=le&&ve<=j&&j<=Ce){var Ie=function(o,l,c){return[o-2*l+c,2*(l-o),o]}(J,K,ie),_e=function(o,l,c,f){var p=l*l-4*o*(c-=f);if(p<0)return[];var g=Math.sqrt(p),y=2*o;return[(-l+g)/y,(-l-g)/y]}(Ie[0],Ie[1],Ie[2],te),Ee=_e.filter(function(Ae){return 0<=Ae&&Ae<=1});if(Ee.length>0)return Ee[0]}return null},M=Object.keys(S),P=0;P<M.length;P++){var N=S[M[P]],F=T(o,l,N);if(null!=F){var X=hi(N[5],N[3],N[1],F);if(N.isTop&&X<=l||N.isBottom&&l<=X)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:_n(4,0),draw:function(o,l,c,f,p,g){this.renderer.nodeShapeImpl(this.name,o,l,c,f,p,this.points,g)},intersectLine:function(o,l,c,f,p,g,y,_){var w=l-(f/2+y),T=Wa(p,g,o,l,o-(c/2+y),w,o+(c/2+y),w,!1);return T.length>0?T:Ei(p,g,o,l,c,f,y,_)},checkPoint:function(o,l,c,f,p,g,y,_){var b=2*(_="auto"===_?ca(f,p):_);if(Jo(o,l,this.points,g,y,f,p-b,[0,-1],c)||Jo(o,l,this.points,g,y,f-b,p,[0,-1],c))return!0;var w=f/2+2*c,C=p/2+2*c;return!!(pi(o,l,[g-w,y-C,g-w,y,g+w,y,g+w,y-C])||qa(o,l,b,b,g+f/2-_,y+p/2-_,c)||qa(o,l,b,b,g-f/2+_,y+p/2-_,c))}}},registerNodeShapes:function(){var a=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",_n(3,0)),this.generateRoundPolygon("round-triangle",_n(3,0)),this.generatePolygon("rectangle",_n(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",_n(5,0)),this.generateRoundPolygon("round-pentagon",_n(5,0)),this.generatePolygon("hexagon",_n(6,0)),this.generateRoundPolygon("round-hexagon",_n(6,0)),this.generatePolygon("heptagon",_n(7,0)),this.generateRoundPolygon("round-heptagon",_n(7,0)),this.generatePolygon("octagon",_n(8,0)),this.generateRoundPolygon("round-octagon",_n(8,0));var c=new Array(20),f=yu(5,0),p=yu(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var y=0;y<p.length/2;y++)p[2*y]*=g,p[2*y+1]*=g;for(y=0;y<5;y++)c[4*y]=f[2*y],c[4*y+1]=f[2*y+1],c[4*y+2]=p[2*y],c[4*y+3]=p[2*y+1];c=cs(c),this.generatePolygon("star",c),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var _=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",_),this.generateRoundPolygon("round-tag",_),a.makePolygon=function(b){var S,C="polygon-"+b.join("$");return(S=this[C])?S:o.generatePolygon(C,b)}}},Yc={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(a){a=a||Fd();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=a},beforeRender:function(a,o){if(!this.destroyed){null==o&&Yn("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:a,priority:o}),l.sort(function(c,f){return f.priority-c.priority})}}},Og=function(o,l,c){for(var f=o.beforeRenderCallbacks,p=0;p<f.length;p++)f[p].fn(l,c)};Yc.startRenderLoop=function(){var a=this,o=a.cy;a.renderLoopStarted||(a.renderLoopStarted=!0,kd(function c(f){if(!a.destroyed){if(!o.batching())if(a.requestedFrame&&!a.skipFrame){Og(a,!0,f);var p=oa();a.render(a.renderOptions);var g=a.lastDrawTime=oa();void 0===a.averageRedrawTime&&(a.averageRedrawTime=g-p),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var y=g-p;a.redrawTotalTime+=y,a.lastRedrawTime=y,a.averageRedrawTime=a.averageRedrawTime/2+y/2,a.requestedFrame=!1}else Og(a,!1,f);a.skipFrame=!1,kd(c)}}))};var Xh=function(o){this.init(o)},ws=Xh.prototype;ws.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],ws.init=function(a){var o=this;o.options=a,o.cy=a.cy;var l=o.container=a.cy.container(),c=o.cy.window();if(c){var f=c.document,p=f.head,g="__________cytoscape_stylesheet",y="__________cytoscape_container",_=null!=f.getElementById(g);if(l.className.indexOf(y)<0&&(l.className=(l.className||"")+" "+y),!_){var b=f.createElement("style");b.id=g,b.textContent="."+y+" { position: relative; }",p.insertBefore(b,p.children[0])}"static"===c.getComputedStyle(l).getPropertyValue("position")&&rn("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=a.showFps,o.debug=a.debug,o.hideEdgesOnViewport=a.hideEdgesOnViewport,o.textureOnViewport=a.textureOnViewport,o.wheelSensitivity=a.wheelSensitivity,o.motionBlurEnabled=a.motionBlur,o.forcedPixelRatio=gt(a.pixelRatio)?a.pixelRatio:null,o.motionBlur=a.motionBlur,o.motionBlurOpacity=a.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=a.desktopTapThreshold,o.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,o.touchTapThreshold=a.touchTapThreshold,o.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},ws.notify=function(a,o){var l=this,c=l.cy;if(!this.destroyed){if("init"===a)return void l.load();if("destroy"===a)return void l.destroy();("add"===a||"remove"===a||"move"===a&&c.hasCompoundNodes()||"load"===a||"zorder"===a||"mount"===a)&&l.invalidateCachedZSortedEles(),"viewport"===a&&l.redrawHint("select",!0),("load"===a||"resize"===a||"mount"===a)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},ws.destroy=function(){var a=this;a.destroyed=!0,a.cy.stopAnimationLoop();for(var o=0;o<a.bindings.length;o++){var l=a.bindings[o],f=l.target;(f.off||f.removeEventListener).apply(f,l.args)}if(a.bindings=[],a.beforeRenderCallbacks=[],a.onUpdateEleCalcsFns=[],a.removeObserver&&a.removeObserver.disconnect(),a.styleObserver&&a.styleObserver.disconnect(),a.resizeObserver&&a.resizeObserver.disconnect(),a.labelCalcDiv)try{document.body.removeChild(a.labelCalcDiv)}catch{}},ws.isHeadless=function(){return!1},[vf,Sv,Mv,Zc,Do,Yc].forEach(function(a){$t(ws,a)});var Jh=1e3/60,Go_setupDequeueing=function(o){return function(){var c=this,f=this.renderer;if(!c.dequeueingSetup){c.dequeueingSetup=!0;var p=ht.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},o.deqRedrawThreshold);f.beforeRender(function(b,w){var C=oa(),S=f.averageRedrawTime,T=f.lastRedrawTime,M=[],P=f.cy.extent(),R=f.getPixelRatio();for(b||f.flushRenderedStyleQueue();;){var N=oa(),F=N-C,L=N-w;if(T<Jh){if(L>=o.deqFastCost*(Jh-(b?S:0)))break}else if(b){if(F>=o.deqCost*T||F>=o.deqAvgCost*S)break}else if(L>=o.deqNoDrawCost*Jh)break;var Y=o.deq(c,R,P);if(!(Y.length>0))break;for(var X=0;X<Y.length;X++)M.push(Y[X])}M.length>0&&(o.onDeqd(c,M),!b&&o.shouldRedraw(c,M,R,P)&&p())},(o.priority||oh)(c))}}},Uu=function(){function a(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fc;Ar(this,a),this.idsByKey=new Os,this.keyForId=new Os,this.cachesByLvl=new Os,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return Zn(a,[{key:"getIdsFor",value:function(l){null==l&&Yn("Can not get id list for null key");var c=this.idsByKey,f=this.idsByKey.get(l);return f||(f=new gu,c.set(l,f)),f}},{key:"addIdForKey",value:function(l,c){null!=l&&this.getIdsFor(l).add(c)}},{key:"deleteIdForKey",value:function(l,c){null!=l&&this.getIdsFor(l).delete(c)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var c=l.id(),f=this.keyForId.get(c),p=this.getKey(l);this.deleteIdForKey(f,c),this.addIdForKey(p,c),this.keyForId.set(c,p)}},{key:"deleteKeyMappingFor",value:function(l){var c=l.id(),f=this.keyForId.get(c);this.deleteIdForKey(f,c),this.keyForId.delete(c)}},{key:"keyHasChangedFor",value:function(l){var c=l.id();return this.keyForId.get(c)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var c=this.cachesByLvl,f=this.lvls,p=c.get(l);return p||(p=new Os,c.set(l,p),f.push(l)),p}},{key:"getCache",value:function(l,c){return this.getCachesAt(c).get(l)}},{key:"get",value:function(l,c){var f=this.getKey(l),p=this.getCache(f,c);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,c){var f=this.keyForId.get(l.id());return this.getCache(f,c)}},{key:"hasCache",value:function(l,c){return this.getCachesAt(c).has(l)}},{key:"has",value:function(l,c){var f=this.getKey(l);return this.hasCache(f,c)}},{key:"setCache",value:function(l,c,f){f.key=l,this.getCachesAt(c).set(l,f)}},{key:"set",value:function(l,c,f){var p=this.getKey(l);this.setCache(p,c,f),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,c){this.getCachesAt(c).delete(l)}},{key:"delete",value:function(l,c){var f=this.getKey(l);this.deleteCache(f,c)}},{key:"invalidateKey",value:function(l){var c=this;this.lvls.forEach(function(f){return c.deleteCache(l,f)})}},{key:"invalidate",value:function(l){var c=l.id(),f=this.keyForId.get(c);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(f),p||0===this.getNumberOfIdsForKey(f)}}]),a}(),ul={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Df=zr({getKey:null,doesEleInvalidateKey:fc,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Yp,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Qc=function(o,l){var c=this;c.renderer=o,c.onDequeues=[];var f=Df(l);$t(c,f),c.lookup=new Uu(f.getKey,f.doesEleInvalidateKey),c.setupDequeueing()},Fr=Qc.prototype;Fr.reasons=ul,Fr.getTextureQueue=function(a){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[a]=o.eleImgCaches[a]||[]},Fr.getRetiredTextureQueue=function(a){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[a]=l[a]||[]},Fr.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new St.default(function(l,c){return c.reqs-l.reqs})},Fr.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Fr.getElement=function(a,o,l,c,f){var p=this,g=this.renderer,y=g.cy.zoom(),_=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!a.visible()||a.removed()||!p.allowEdgeTxrCaching&&a.isEdge()||!p.allowParentTxrCaching&&a.isParent())return null;if(null==c&&(c=Math.ceil(og(y*l))),c<-4)c=-4;else if(y>=7.99||c>3)return null;var b=Math.pow(2,c),w=o.h*b,C=o.w*b,S=g.eleTextBiggerThanMin(a,b);if(!this.isVisible(a,S))return null;var M,T=_.get(a,c);if(T&&T.invalidated&&(T.invalidated=!1,T.texture.invalidatedWidth-=T.width),T)return T;if(M=w<=25?25:w<=50?50:50*Math.ceil(w/50),w>1024||C>1024)return null;var P=p.getTextureQueue(M),R=P[P.length-2],N=function(){return p.recycleTexture(M,C)||p.addTexture(M,C)};R||(R=P[P.length-1]),R||(R=N()),R.width-R.usedWidth<C&&(R=N());for(var X,F=function(se){return se&&se.scaledLabelShown===S},L=f&&f===ul.dequeue,H=f&&f===ul.highQuality,Y=f&&f===ul.downscale,U=c+1;U<=3;U++){var te=_.get(a,U);if(te){X=te;break}}var j=X&&X.level===c+1?X:null,W=function(){R.context.drawImage(j.texture.canvas,j.x,0,j.width,j.height,R.usedWidth,0,C,w)};if(R.context.setTransform(1,0,0,1,0,0),R.context.clearRect(R.usedWidth,0,C,M),F(j))W();else if(F(X)){if(!H)return p.queueElement(a,X.level-1),X;for(var J=X.level;J>c;J--)j=p.getElement(a,o,l,J,ul.downscale);W()}else{var K;if(!L&&!H&&!Y)for(var ie=c-1;ie>=-4;ie--){var Q=_.get(a,ie);if(Q){K=Q;break}}if(F(K))return p.queueElement(a,c),K;R.context.translate(R.usedWidth,0),R.context.scale(b,b),this.drawElement(R.context,a,o,S,!1),R.context.scale(1/b,1/b),R.context.translate(-R.usedWidth,0)}return T={x:R.usedWidth,texture:R,level:c,scale:b,width:C,height:w,scaledLabelShown:S},R.usedWidth+=Math.ceil(C+8),R.eleCaches.push(T),_.set(a,c,T),p.checkTextureFullness(R),T},Fr.invalidateElements=function(a){for(var o=0;o<a.length;o++)this.invalidateElement(a[o])},Fr.invalidateElement=function(a){var o=this,l=o.lookup,c=[];if(l.isInvalid(a)){for(var p=-4;p<=3;p++){var g=l.getForCachedKey(a,p);g&&c.push(g)}if(l.invalidate(a))for(var _=0;_<c.length;_++){var b=c[_],w=b.texture;w.invalidatedWidth+=b.width,b.invalidated=!0,o.checkTextureUtility(w)}o.removeFromQueue(a)}},Fr.checkTextureUtility=function(a){a.invalidatedWidth>=.2*a.width&&this.retireTexture(a)},Fr.checkTextureFullness=function(a){var l=this.getTextureQueue(a.height);a.usedWidth/a.width>.8&&a.fullnessChecks>=10?Qo(l,a):a.fullnessChecks++},Fr.retireTexture=function(a){var l=a.height,c=this.getTextureQueue(l),f=this.lookup;Qo(c,a),a.retired=!0;for(var p=a.eleCaches,g=0;g<p.length;g++){var y=p[g];f.deleteCache(y.key,y.level)}sh(p),this.getRetiredTextureQueue(l).push(a)},Fr.addTexture=function(a,o){var f={};return this.getTextureQueue(a).push(f),f.eleCaches=[],f.height=a,f.width=Math.max(1024,o),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},Fr.recycleTexture=function(a,o){for(var c=this.getTextureQueue(a),f=this.getRetiredTextureQueue(a),p=0;p<f.length;p++){var g=f[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,sh(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),Qo(f,g),c.push(g),g}},Fr.queueElement=function(a,o){var c=this.getElementQueue(),f=this.getElementKeyToQueue(),p=this.getKey(a),g=f[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(a),g.reqs++,c.updateItem(g);else{var y={eles:a.spawn().merge(a),level:o,reqs:1,key:p};c.push(y),f[p]=y}},Fr.dequeue=function(a){for(var o=this,l=o.getElementQueue(),c=o.getElementKeyToQueue(),f=[],p=o.lookup,g=0;g<1&&l.size()>0;g++){var y=l.pop(),_=y.key,b=y.eles[0],w=p.hasCache(b,y.level);if(c[_]=null,!w){f.push(y);var C=o.getBoundingBox(b);o.getElement(b,C,a,y.level,ul.dequeue)}}return f},Fr.removeFromQueue=function(a){var l=this.getElementQueue(),c=this.getElementKeyToQueue(),f=this.getKey(a),p=c[f];null!=p&&(1===p.eles.length?(p.reqs=ih,l.updateItem(p),l.pop(),c[f]=null):p.eles.unmerge(a))},Fr.onDequeue=function(a){this.onDequeues.push(a)},Fr.offDequeue=function(a){Qo(this.onDequeues,a)},Fr.setupDequeueing=Go_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,c){return o.dequeue(l,c)},onDeqd:function(o,l){for(var c=0;c<o.onDequeues.length;c++)(0,o.onDequeues[c])(l)},shouldRedraw:function(o,l,c,f){for(var p=0;p<l.length;p++)for(var g=l[p].eles,y=0;y<g.length;y++){var _=g[y].boundingBox();if(sg(_,f))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var Vg=function(o){var l=this,c=l.renderer=o,f=c.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=oa()-500,l.skipping=!1,l.eleTxrDeqs=f.collection(),l.scheduleElementRefinement=ht.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),c.beforeRender(function(g,y){l.skipping=y-l.lastInvalidationTime<=250},c.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new St.default(function(y,_){return _.reqs-y.reqs}),l.setupDequeueing()},bi=Vg.prototype,op=0,Lv=Math.pow(2,53)-1;bi.makeLayer=function(a,o){var l=Math.pow(2,o),c=Math.ceil(a.w*l),f=Math.ceil(a.h*l),p=this.renderer.makeOffscreenCanvas(c,f),g={id:op=++op%Lv,bb:a,level:o,width:c,height:f,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},y=g.context,_=-g.bb.x1,b=-g.bb.y1;return y.scale(l,l),y.translate(_,b),g},bi.getLayers=function(a,o,l){var c=this,g=c.renderer.cy.zoom(),y=c.firstGet;if(c.firstGet=!1,null==l)if((l=Math.ceil(og(g*o)))<-4)l=-4;else if(g>=3.99||l>2)return null;c.validateLayersElesOrdering(l,a);var C,T,_=c.layersByLevel,b=Math.pow(2,l),w=_[l]=_[l]||[];if(c.levelIsComplete(l,a))return w;!function(){var W=function(ce){if(c.validateLayersElesOrdering(ce,a),c.levelIsComplete(ce,a))return T=_[ce],!0},J=function(ce){if(!T)for(var se=l+ce;-4<=se&&se<=2&&!W(se);se+=ce);};J(1),J(-1);for(var K=w.length-1;K>=0;K--){var ie=w[K];ie.invalid&&Qo(w,ie)}}();var R=function(W){var J=(W=W||{}).after;if(function(){if(!C){C=Ro();for(var W=0;W<a.length;W++)yr(C,a[W].boundingBox())}}(),C.w*b*(C.h*b)>16e6)return null;var ie=c.makeLayer(C,l);if(null!=J){var Q=w.indexOf(J)+1;w.splice(Q,0,ie)}else(void 0===W.insert||W.insert)&&w.unshift(ie);return ie};if(c.skipping&&!y)return null;for(var N=null,F=a.length/1,L=!y,H=0;H<a.length;H++){var Y=a[H],X=Y._private.rscratch,U=X.imgLayerCaches=X.imgLayerCaches||{},te=U[l];if(te)N=te;else{if((!N||N.eles.length>=F||!Ct(N.bb,Y.boundingBox()))&&!(N=R({insert:!0,after:N})))return null;T||L?c.queueLayer(N,Y):c.drawEleInLayer(N,Y,l,o),N.eles.push(Y),U[l]=N}}return T||(L?null:w)},bi.getEleLevelForLayerLevel=function(a,o){return a},bi.drawEleInLayer=function(a,o,l,c){var p=this.renderer,g=a.context,y=o.boundingBox();0===y.w||0===y.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,c),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,l,!0),p.setImgSmoothing(g,!0))},bi.levelIsComplete=function(a,o){var c=this.layersByLevel[a];if(!c||0===c.length)return!1;for(var f=0,p=0;p<c.length;p++){var g=c[p];if(g.reqs>0||g.invalid)return!1;f+=g.eles.length}return f===o.length},bi.validateLayersElesOrdering=function(a,o){var l=this.layersByLevel[a];if(l)for(var c=0;c<l.length;c++){for(var f=l[c],p=-1,g=0;g<o.length;g++)if(f.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(f);else{var y=p;for(g=0;g<f.eles.length;g++)if(f.eles[g]!==o[y+g]){this.invalidateLayer(f);break}}}},bi.updateElementsInLayers=function(a,o){for(var c=au(a[0]),f=0;f<a.length;f++)for(var p=c?null:a[f],g=c?a[f]:a[f].ele,y=g._private.rscratch,_=y.imgLayerCaches=y.imgLayerCaches||{},b=-4;b<=2;b++){var w=_[b];w&&(p&&this.getEleLevelForLayerLevel(w.level)!==p.level||o(w,g,p))}},bi.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var c=this.layersByLevel[l];if(c&&c.length>0){o=!0;break}}return o},bi.invalidateElements=function(a){var o=this;0!==a.length&&(o.lastInvalidationTime=oa(),0!==a.length&&o.haveLayers()&&o.updateElementsInLayers(a,function(c,f,p){o.invalidateLayer(c)}))},bi.invalidateLayer=function(a){if(this.lastInvalidationTime=oa(),!a.invalid){var o=a.level,l=a.eles;Qo(this.layersByLevel[o],a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var f=0;f<l.length;f++){var p=l[f]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},bi.refineElementTextures=function(a){var o=this;o.updateElementsInLayers(a,function(c,f,p){var g=c.replacement;if(g||((g=c.replacement=o.makeLayer(c.bb,c.level)).replaces=c,g.eles=c.eles),!g.reqs)for(var y=0;y<g.eles.length;y++)o.queueLayer(g,g.eles[y])})},bi.enqueueElementRefinement=function(a){this.eleTxrDeqs.merge(a),this.scheduleElementRefinement()},bi.queueLayer=function(a,o){var c=this.layersQueue,f=a.elesQueue,p=f.hasId=f.hasId||{};if(!a.replacement){if(o){if(p[o.id()])return;f.push(o),p[o.id()]=!0}a.reqs?(a.reqs++,c.updateItem(a)):(a.reqs=1,c.push(a))}},bi.dequeue=function(a){for(var o=this,l=o.layersQueue,c=[],f=0;f<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,a),f++),0===c.length&&c.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return c},bi.applyLayerReplacement=function(a){var l=this.layersByLevel[a.level],c=a.replaces,f=l.indexOf(c);if(!(f<0||c.invalid)){l[f]=a;for(var p=0;p<a.eles.length;p++){var g=a.eles[p]._private,y=g.imgLayerCaches=g.imgLayerCaches||{};y&&(y[a.level]=a)}this.requestRedraw()}},bi.requestRedraw=ht.default(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),bi.setupDequeueing=Go_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:oh,shouldRedraw:Yp,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var Jc,$g={};function zg(a,o){for(var l=0;l<o.length;l++){var c=o[l];a.lineTo(c.x,c.y)}}function Bv(a,o,l){for(var c,f=0;f<o.length;f++){var p=o[f];0===f&&(c=p),a.lineTo(p.x,p.y)}a.quadraticCurveTo(l.x,l.y,c.x,c.y)}function sp(a,o,l){a.beginPath&&a.beginPath();for(var c=o,f=0;f<c.length;f++)a.lineTo((p=c[f]).x,p.y);var g=l,y=l[0];for(a.moveTo(y.x,y.y),f=1;f<g.length;f++){var p;a.lineTo((p=g[f]).x,p.y)}a.closePath&&a.closePath()}function F0(a,o,l,c,f){a.beginPath&&a.beginPath(),a.arc(l,c,f,0,2*Math.PI,!1);var p=o,g=p[0];a.moveTo(g.x,g.y);for(var y=0;y<p.length;y++){var _=p[y];a.lineTo(_.x,_.y)}a.closePath&&a.closePath()}function Hg(a,o,l,c){a.arc(o,l,c,0,2*Math.PI,!1)}$g.arrowShapeImpl=function(a){return(Jc||(Jc={polygon:zg,"triangle-backcurve":Bv,"triangle-tee":sp,"circle-triangle":F0,"triangle-cross":sp,circle:Hg}))[a]};var Ys={drawElement:function(a,o,l,c,f,p){o.isNode()?this.drawNode(a,o,l,c,f,p):this.drawEdge(a,o,l,c,f,p)},drawElementOverlay:function(a,o){o.isNode()?this.drawNodeOverlay(a,o):this.drawEdgeOverlay(a,o)},drawElementUnderlay:function(a,o){o.isNode()?this.drawNodeUnderlay(a,o):this.drawEdgeUnderlay(a,o)},drawCachedElementPortion:function(a,o,l,c,f,p,g,y){var _=this,b=l.getBoundingBox(o);if(0!==b.w&&0!==b.h){var w=l.getElement(o,b,c,f,p);if(null!=w){var C=y(_,o);if(0===C)return;var N,F,L,H,Y,te,S=g(_,o),T=b.x1,M=b.y1,P=b.w,R=b.h;if(0!==S){var X=l.getRotationPoint(o);a.translate(L=X.x,H=X.y),a.rotate(S),(Y=_.getImgSmoothing(a))||_.setImgSmoothing(a,!0);var U=l.getRotationOffset(o);N=U.x,F=U.y}else N=T,F=M;1!==C&&(a.globalAlpha=(te=a.globalAlpha)*C),a.drawImage(w.texture.canvas,w.x,0,w.width,w.height,N,F,P,R),1!==C&&(a.globalAlpha=te),0!==S&&(a.rotate(-S),a.translate(-L,-H),Y||_.setImgSmoothing(a,!1))}else l.drawElement(a,o)}}},Vv=function(){return 0},Sf=function(o,l){return o.getTextAngle(l,null)},ap=function(o,l){return o.getTextAngle(l,"source")},L0=function(o,l){return o.getTextAngle(l,"target")},B0=function(o,l){return l.effectiveOpacity()},ed=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};Ys.drawCachedElement=function(a,o,l,c,f,p){var g=this,y=g.data,_=y.eleTxrCache,b=y.lblTxrCache,w=y.slbTxrCache,C=y.tlbTxrCache,S=o.boundingBox(),T=!0===p?_.reasons.highQuality:null;if(0!==S.w&&0!==S.h&&o.visible()&&(!c||sg(S,c))){var M=o.isEdge(),P=o.element()._private.rscratch.badLine;g.drawElementUnderlay(a,o),g.drawCachedElementPortion(a,o,_,l,f,T,Vv,B0),(!M||!P)&&g.drawCachedElementPortion(a,o,b,l,f,T,Sf,ed),M&&!P&&(g.drawCachedElementPortion(a,o,w,l,f,T,ap,ed),g.drawCachedElementPortion(a,o,C,l,f,T,L0,ed)),g.drawElementOverlay(a,o)}},Ys.drawElements=function(a,o){for(var c=0;c<o.length;c++)this.drawElement(a,o[c])},Ys.drawCachedElements=function(a,o,l,c){for(var p=0;p<o.length;p++)this.drawCachedElement(a,o[p],l,c)},Ys.drawCachedNodes=function(a,o,l,c){for(var p=0;p<o.length;p++){var g=o[p];g.isNode()&&this.drawCachedElement(a,g,l,c)}},Ys.drawLayeredElements=function(a,o,l,c){var p=this.data.lyrTxrCache.getLayers(o,l);if(p)for(var g=0;g<p.length;g++){var y=p[g],_=y.bb;0===_.w||0===_.h||a.drawImage(y.canvas,_.x1,_.y1,_.w,_.h)}else this.drawCachedElements(a,o,l,c)};var dl={drawEdge:function(a,o,l){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,y=o._private.rscratch;if((!p||o.visible())&&!y.badLine&&null!=y.allpts&&!isNaN(y.allpts[0])){var _;l&&a.translate(-(_=l).x1,-_.y1);var b=p?o.pstyle("opacity").value:1,w=p?o.pstyle("line-opacity").value:1,C=o.pstyle("curve-style").value,S=o.pstyle("line-style").value,T=o.pstyle("width").pfValue,M=o.pstyle("line-cap").value,P=b*w,R=b*w,N=function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;"straight-triangle"===C?(g.eleStrokeStyle(a,o,K),g.drawEdgeTrianglePath(o,a,y.allpts)):(a.lineWidth=T,a.lineCap=M,g.eleStrokeStyle(a,o,K),g.drawEdgePath(o,a,y.allpts,S),a.lineCap="butt")},H=function(){g.drawArrowheads(a,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:R)};if(a.lineJoin="round","yes"===o.pstyle("ghost").value){var U=o.pstyle("ghost-offset-x").pfValue,te=o.pstyle("ghost-offset-y").pfValue,j=o.pstyle("ghost-opacity").value,W=P*j;a.translate(U,te),N(W),H(W),a.translate(-U,-te)}f&&g.drawEdgeUnderlay(a,o),N(),H(),f&&g.drawEdgeOverlay(a,o),g.drawElementText(a,o,null,c),l&&a.translate(_.x1,_.y1)}}},$v=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,c){if(c.visible()){var f=c.pstyle("".concat(o,"-opacity")).value;if(0!==f){var p=this,g=p.usePaths(),y=c._private.rscratch,b=2*c.pstyle("".concat(o,"-padding")).pfValue,w=c.pstyle("".concat(o,"-color")).value;l.lineWidth=b,l.lineCap="self"!==y.edgeType||g?"round":"butt",p.colorStrokeStyle(l,w[0],w[1],w[2],f),p.drawEdgePath(c,l,y.allpts,"solid")}}}};dl.drawEdgeOverlay=$v("overlay"),dl.drawEdgeUnderlay=$v("underlay"),dl.drawEdgePath=function(a,o,l,c){var g,f=a._private.rscratch,p=o,y=!1,_=this.usePaths(),b=a.pstyle("line-dash-pattern").pfValue,w=a.pstyle("line-dash-offset").pfValue;if(_){var C=l.join("$");f.pathCacheKey&&f.pathCacheKey===C?(g=o=f.pathCache,y=!0):(g=o=new Path2D,f.pathCacheKey=C,f.pathCache=g)}if(p.setLineDash)switch(c){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(b),p.lineDashOffset=w;break;case"solid":p.setLineDash([])}if(!y&&!f.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var T=2;T+3<l.length;T+=4)o.quadraticCurveTo(l[T],l[T+1],l[T+2],l[T+3]);break;case"straight":case"haystack":for(var M=2;M+1<l.length;M+=2)o.lineTo(l[M],l[M+1]);break;case"segments":if(f.isRound){for(var P=2;P+3<l.length;P+=2)Zh(o,{x:l[P-2],y:l[P-1]},{x:l[P],y:l[P+1],radius:f.radii[P/2-1]},{x:l[P+2],y:l[P+3]},1/0);o.lineTo(l[l.length-2],l[l.length-1])}else for(var R=2;R+1<l.length;R+=2)o.lineTo(l[R],l[R+1])}o=p,_?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},dl.drawEdgeTrianglePath=function(a,o,l){o.fillStyle=o.strokeStyle;for(var c=a.pstyle("width").pfValue,f=0;f+1<l.length;f+=2){var p=[l[f+2]-l[f],l[f+3]-l[f+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),y=[p[1]/g,-p[0]/g],_=[y[0]*c/2,y[1]*c/2];o.beginPath(),o.moveTo(l[f]-_[0],l[f+1]-_[1]),o.lineTo(l[f]+_[0],l[f+1]+_[1]),o.lineTo(l[f+2],l[f+3]),o.closePath(),o.fill()}},dl.drawArrowheads=function(a,o,l){var c=o._private.rscratch,f="haystack"===c.edgeType;f||this.drawArrowhead(a,o,"source",c.arrowStartX,c.arrowStartY,c.srcArrowAngle,l),this.drawArrowhead(a,o,"mid-target",c.midX,c.midY,c.midtgtArrowAngle,l),this.drawArrowhead(a,o,"mid-source",c.midX,c.midY,c.midsrcArrowAngle,l),f||this.drawArrowhead(a,o,"target",c.arrowEndX,c.arrowEndY,c.tgtArrowAngle,l)},dl.drawArrowhead=function(a,o,l,c,f,p,g){if(!(isNaN(c)||null==c||isNaN(f)||null==f||isNaN(p)||null==p)){var y=this,_=o.pstyle(l+"-arrow-shape").value;if("none"!==_){var b="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",w=o.pstyle(l+"-arrow-fill").value,C=o.pstyle("width").pfValue,S=o.pstyle(l+"-arrow-width"),T="match-line"===S.value?C:S.pfValue;"%"===S.units&&(T*=C);var M=o.pstyle("opacity").value;void 0===g&&(g=M);var P=a.globalCompositeOperation;(1!==g||"hollow"===w)&&(a.globalCompositeOperation="destination-out",y.colorFillStyle(a,255,255,255,1),y.colorStrokeStyle(a,255,255,255,1),y.drawArrowShape(o,a,b,C,_,T,c,f,p),a.globalCompositeOperation=P);var R=o.pstyle(l+"-arrow-color").value;y.colorFillStyle(a,R[0],R[1],R[2],g),y.colorStrokeStyle(a,R[0],R[1],R[2],g),y.drawArrowShape(o,a,w,C,_,T,c,f,p)}}},dl.drawArrowShape=function(a,o,l,c,f,p,g,y,_){var S,b=this,w=this.usePaths()&&"triangle-cross"!==f,C=!1,T=o,M={x:g,y},P=a.pstyle("arrow-scale").value,R=this.getArrowWidth(c,P),N=b.arrowShapes[f];if(w){var F=b.arrowPathCache=b.arrowPathCache||[],L=Ps(f),H=F[L];null!=H?(S=o=H,C=!0):(S=o=new Path2D,F[L]=S)}C||(o.beginPath&&o.beginPath(),w?N.draw(o,1,0,{x:0,y:0},1):N.draw(o,R,_,M,c),o.closePath&&o.closePath()),o=T,w&&(o.translate(g,y),o.rotate(_),o.scale(R,R)),("filled"===l||"both"===l)&&(w?o.fill(S):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=p/(w?R:1),o.lineJoin="miter",w?o.stroke(S):o.stroke()),w&&(o.scale(1/R,1/R),o.rotate(-_),o.translate(-g,-y))};var Ug={safeDrawImage:function(a,o,l,c,f,p,g,y,_,b){if(!(f<=0||p<=0||_<=0||b<=0))try{a.drawImage(o,l,c,f,p,g,y,_,b)}catch(w){rn(w)}},drawInscribedImage:function(a,o,l,c,f){var p=this,g=l.position(),y=g.x,_=g.y,b=l.cy().style(),w=b.getIndexedStyle.bind(b),C=w(l,"background-fit","value",c),S=w(l,"background-repeat","value",c),T=l.width(),M=l.height(),P=2*l.padding(),R=T+("inner"===w(l,"background-width-relative-to","value",c)?0:P),N=M+("inner"===w(l,"background-height-relative-to","value",c)?0:P),F=l._private.rscratch,H="node"===w(l,"background-clip","value",c),Y=w(l,"background-image-opacity","value",c)*f,X=w(l,"background-image-smoothing","value",c),U=l.pstyle("corner-radius").value;"auto"!==U&&(U=l.pstyle("corner-radius").pfValue);var te=o.width||o.cachedW,j=o.height||o.cachedH;(null==te||null==j)&&(document.body.appendChild(o),te=o.cachedW=o.width||o.offsetWidth,j=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var W=te,J=j;if("auto"!==w(l,"background-width","value",c)&&(W="%"===w(l,"background-width","units",c)?w(l,"background-width","pfValue",c)*R:w(l,"background-width","pfValue",c)),"auto"!==w(l,"background-height","value",c)&&(J="%"===w(l,"background-height","units",c)?w(l,"background-height","pfValue",c)*N:w(l,"background-height","pfValue",c)),0!==W&&0!==J){if("contain"===C)W*=K=Math.min(R/W,N/J),J*=K;else if("cover"===C){var K;W*=K=Math.max(R/W,N/J),J*=K}var ie=y-R/2,Q=w(l,"background-position-x","units",c),ce=w(l,"background-position-x","pfValue",c);ie+="%"===Q?(R-W)*ce:ce;var se=w(l,"background-offset-x","units",c),le=w(l,"background-offset-x","pfValue",c);ie+="%"===se?(R-W)*le:le;var ve=_-N/2,Ce=w(l,"background-position-y","units",c),Ie=w(l,"background-position-y","pfValue",c);ve+="%"===Ce?(N-J)*Ie:Ie;var _e=w(l,"background-offset-y","units",c),Ee=w(l,"background-offset-y","pfValue",c);ve+="%"===_e?(N-J)*Ee:Ee,F.pathCache&&(ie-=y,ve-=_,y=0,_=0);var Ae=a.globalAlpha;a.globalAlpha=Y;var Xe=p.getImgSmoothing(a),We=!1;if("no"===X&&Xe?(p.setImgSmoothing(a,!1),We=!0):"yes"===X&&!Xe&&(p.setImgSmoothing(a,!0),We=!0),"no-repeat"===S)H&&(a.save(),F.pathCache?a.clip(F.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(a,y,_,R,N,U,F),a.clip())),p.safeDrawImage(a,o,0,0,te,j,ie,ve,W,J),H&&a.restore();else{var be=a.createPattern(o,S);a.fillStyle=be,p.nodeShapes[p.getNodeShape(l)].draw(a,y,_,R,N,U,F),a.translate(ie,ve),a.fill(),a.translate(-ie,-ve)}a.globalAlpha=Ae,We&&p.setImgSmoothing(a,Xe)}}},qu={};function jg(a,o,l,c,f){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,g=arguments.length>6?arguments[6]:void 0;a.beginPath(),a.moveTo(o+p,l),a.lineTo(o+c-p,l),a.quadraticCurveTo(o+c,l,o+c,l+p),a.lineTo(o+c,l+f-p),a.quadraticCurveTo(o+c,l+f,o+c-p,l+f),a.lineTo(o+p,l+f),a.quadraticCurveTo(o,l+f,o,l+f-p),a.lineTo(o,l+p),a.quadraticCurveTo(o,l,o+p,l),a.closePath(),g?a.stroke():a.fill()}qu.eleTextBiggerThanMin=function(a,o){if(!o){var l=a.cy().zoom(),c=this.getPixelRatio(),f=Math.ceil(og(l*c));o=Math.pow(2,f)}return!(a.pstyle("font-size").pfValue*o<a.pstyle("min-zoomed-font-size").pfValue)},qu.drawElementText=function(a,o,l,c,f){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==c){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===c)return;if(o.isNode()){var y=o.pstyle("label");if(!y||!y.value)return;var _=g.getLabelJustification(o);a.textAlign=_,a.textBaseline="bottom"}else{var b=o.element()._private.rscratch.badLine,w=o.pstyle("label"),C=o.pstyle("source-label"),S=o.pstyle("target-label");if(b||(!w||!w.value)&&(!C||!C.value)&&(!S||!S.value))return;a.textAlign="center",a.textBaseline="bottom"}var M,T=!l;l&&a.translate(-(M=l).x1,-M.y1),null==f?(g.drawText(a,o,null,T,p),o.isEdge()&&(g.drawText(a,o,"source",T,p),g.drawText(a,o,"target",T,p))):g.drawText(a,o,f,T,p),l&&a.translate(M.x1,M.y1)},qu.getFontCache=function(a){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===a)return o;return this.fontCaches.push(o={context:a}),o},qu.setupTextStyle=function(a,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=o.pstyle("font-style").strValue,f=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,y=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,_=o.pstyle("text-outline-opacity").value*y,b=o.pstyle("color").value,w=o.pstyle("text-outline-color").value;a.font=c+" "+g+" "+f+" "+p,a.lineJoin="round",this.colorFillStyle(a,b[0],b[1],b[2],y),this.colorStrokeStyle(a,w[0],w[1],w[2],_)},qu.getTextAngle=function(a,o){var f=a._private.rscratch,g=a.pstyle((o?o+"-":"")+"text-rotation"),y=ko(f,"labelAngle",o);return"autorotate"===g.strValue?a.isEdge()?y:0:"none"===g.strValue?0:g.pfValue},qu.drawText=function(a,o,l){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=o._private.rscratch,y=f?o.effectiveOpacity():1;if(!f||0!==y&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var w,C,_=ko(g,"labelX",l),b=ko(g,"labelY",l),S=this.getLabelText(o,l);if(null!=S&&""!==S&&!isNaN(_)&&!isNaN(b)){this.setupTextStyle(a,o,f);var Y,T=l?l+"-":"",M=ko(g,"labelWidth",l),P=ko(g,"labelHeight",l),R=o.pstyle(T+"text-margin-x").pfValue,N=o.pstyle(T+"text-margin-y").pfValue,F=o.isEdge(),L=o.pstyle("text-halign").value,H=o.pstyle("text-valign").value;switch(F&&(L="center",H="center"),_+=R,b+=N,0!==(Y=c?this.getTextAngle(o,l):0)&&(a.translate(w=_,C=b),a.rotate(Y),_=0,b=0),H){case"top":break;case"center":b+=P/2;break;case"bottom":b+=P}var X=o.pstyle("text-background-opacity").value,U=o.pstyle("text-border-opacity").value,te=o.pstyle("text-border-width").pfValue,j=o.pstyle("text-background-padding").pfValue,J=0===o.pstyle("text-background-shape").strValue.indexOf("round");if(X>0||te>0&&U>0){var ie=_-j;switch(L){case"left":ie-=M;break;case"center":ie-=M/2}var Q=b-P-j,ce=M+2*j,se=P+2*j;if(X>0){var le=a.fillStyle,ve=o.pstyle("text-background-color").value;a.fillStyle="rgba("+ve[0]+","+ve[1]+","+ve[2]+","+X*y+")",J?jg(a,ie,Q,ce,se,2):a.fillRect(ie,Q,ce,se),a.fillStyle=le}if(te>0&&U>0){var Ce=a.strokeStyle,Ie=a.lineWidth,_e=o.pstyle("text-border-color").value,Ee=o.pstyle("text-border-style").value;if(a.strokeStyle="rgba("+_e[0]+","+_e[1]+","+_e[2]+","+U*y+")",a.lineWidth=te,a.setLineDash)switch(Ee){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=te/4,a.setLineDash([]);break;case"solid":a.setLineDash([])}if(J?jg(a,ie,Q,ce,se,2,"stroke"):a.strokeRect(ie,Q,ce,se),"double"===Ee){var Ae=te/2;J?jg(a,ie+Ae,Q+Ae,ce-2*Ae,se-2*Ae,2,"stroke"):a.strokeRect(ie+Ae,Q+Ae,ce-2*Ae,se-2*Ae)}a.setLineDash&&a.setLineDash([]),a.lineWidth=Ie,a.strokeStyle=Ce}}var Xe=2*o.pstyle("text-outline-width").pfValue;if(Xe>0&&(a.lineWidth=Xe),"wrap"===o.pstyle("text-wrap").value){var We=ko(g,"labelWrapCachedLines",l),be=ko(g,"labelLineHeight",l),fe=M/2,Ne=this.getLabelJustification(o);switch("auto"===Ne||("left"===L?"left"===Ne?_+=-M:"center"===Ne&&(_+=-fe):"center"===L?"left"===Ne?_+=-fe:"right"===Ne&&(_+=fe):"right"===L&&("center"===Ne?_+=fe:"right"===Ne&&(_+=M))),H){case"top":case"center":case"bottom":b-=(We.length-1)*be}for(var ze=0;ze<We.length;ze++)Xe>0&&a.strokeText(We[ze],_,b),a.fillText(We[ze],_,b),b+=be}else Xe>0&&a.strokeText(S,_,b),a.fillText(S,_,b);0!==Y&&(a.rotate(-Y),a.translate(-w,-C))}}};var Wu={drawNode:function(a,o,l){var y,_,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,b=o._private,w=b.rscratch,C=o.position();if(gt(C.x)&&gt(C.y)&&(!p||o.visible())){var M,N,S=p?o.effectiveOpacity():1,T=g.usePaths(),P=!1,R=o.padding();y=o.width()+2*R,_=o.height()+2*R,l&&a.translate(-(N=l).x1,-N.y1);for(var L=o.pstyle("background-image").value,H=new Array(L.length),Y=new Array(L.length),X=0,U=0;U<L.length;U++){var te=L[U];if(H[U]=null!=te&&"none"!==te){var W=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",U);X++,Y[U]=g.getCachedImage(te,W,function(){b.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var J=o.pstyle("background-blacken").value,K=o.pstyle("border-width").pfValue,ie=o.pstyle("background-opacity").value*S,Q=o.pstyle("border-color").value,ce=o.pstyle("border-style").value,se=o.pstyle("border-join").value,le=o.pstyle("border-cap").value,ve=o.pstyle("border-position").value,Ce=o.pstyle("border-dash-pattern").pfValue,Ie=o.pstyle("border-dash-offset").pfValue,_e=o.pstyle("border-opacity").value*S,Ee=o.pstyle("outline-width").pfValue,Ae=o.pstyle("outline-color").value,Xe=o.pstyle("outline-style").value,We=o.pstyle("outline-opacity").value*S,be=o.pstyle("outline-offset").value,fe=o.pstyle("corner-radius").value;"auto"!==fe&&(fe=o.pstyle("corner-radius").pfValue);var Ne=function(){g.eleFillStyle(a,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie)},ze=function(){g.colorStrokeStyle(a,Q[0],Q[1],Q[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e)},Qe=function(){g.colorStrokeStyle(a,Ae[0],Ae[1],Ae[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:We)},Je=function(Be,Pe,Ye,Jt){var Tt,Ut=g.nodePathCache=g.nodePathCache||[],ot=rh("polygon"===Ye?Ye+","+Jt.join(","):Ye,""+Pe,""+Be,""+fe),tn=Ut[ot],Nt=!1;return null!=tn?(Nt=!0,w.pathCache=Tt=tn):(Tt=new Path2D,Ut[ot]=w.pathCache=Tt),{path:Tt,cacheHit:Nt}},Pt=o.pstyle("shape").strValue,Xt=o.pstyle("shape-polygon-points").pfValue;if(T){a.translate(C.x,C.y);var ut=Je(y,_,Pt,Xt);M=ut.path,P=ut.cacheHit}var mt=function(){if(!P){var Be=C;T&&(Be={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(M||a,Be.x,Be.y,y,_,fe,w)}T?a.fill(M):a.fill()},xt=function(){for(var Be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,Pe=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ye=b.backgrounding,Jt=0,Ut=0;Ut<Y.length;Ut++){var ot=o.cy().style().getIndexedStyle(o,"background-image-containment","value",Ut);Pe&&"over"===ot||!Pe&&"inside"===ot?Jt++:H[Ut]&&Y[Ut].complete&&!Y[Ut].error&&(Jt++,g.drawInscribedImage(a,Y[Ut],o,Ut,Be))}b.backgrounding=Jt!==X,Ye!==b.backgrounding&&o.updateStyle(!1)},At=function(){var Be=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;g.hasPie(o)&&(g.drawPie(a,o,Pe),Be&&(T||g.nodeShapes[g.getNodeShape(o)].draw(a,C.x,C.y,y,_,fe,w)))},Ot=function(){var Ye=J>0?0:255;0!==J&&(g.colorFillStyle(a,Ye,Ye,Ye,(J>0?J:-J)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S)),T?a.fill(M):a.fill())},Vt=function(){if(K>0){if(a.lineWidth=K,a.lineCap=le,a.lineJoin=se,a.setLineDash)switch(ce){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(Ce),a.lineDashOffset=Ie;break;case"solid":case"double":a.setLineDash([])}if("center"!==ve){if(a.save(),a.lineWidth*=2,"inside"===ve)T?a.clip(M):a.clip();else{var Be=new Path2D;Be.rect(-y/2-K,-_/2-K,y+2*K,_+2*K),Be.addPath(M),a.clip(Be,"evenodd")}T?a.stroke(M):a.stroke(),a.restore()}else T?a.stroke(M):a.stroke();if("double"===ce){a.lineWidth=K/3;var Pe=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",T?a.stroke(M):a.stroke(),a.globalCompositeOperation=Pe}a.setLineDash&&a.setLineDash([])}},$n=function(){if(Ee>0){if(a.lineWidth=Ee,a.lineCap="butt",a.setLineDash)switch(Xe){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}var Be=C;T&&(Be={x:0,y:0});var Pe=g.getNodeShape(o),Ye=K;"inside"===ve&&(Ye=0),"outside"===ve&&(Ye*=2);var Nt,Jt=(y+Ye+(Ee+be))/y,Ut=(_+Ye+(Ee+be))/_,ot=y*Jt,tn=_*Ut,Tt=g.nodeShapes[Pe].points;if(T&&(Nt=Je(ot,tn,Pe,Tt).path),"ellipse"===Pe)g.drawEllipsePath(Nt||a,Be.x,Be.y,ot,tn);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Pe)){var ur=0,lo=0,Ii=0;"round-diamond"===Pe?ur=1.4*(Ye+be+Ee):"round-heptagon"===Pe?(ur=1.075*(Ye+be+Ee),Ii=-(Ye/2+be+Ee)/35):"round-hexagon"===Pe?ur=1.12*(Ye+be+Ee):"round-pentagon"===Pe?(ur=1.13*(Ye+be+Ee),Ii=-(Ye/2+be+Ee)/15):"round-tag"===Pe?(ur=1.12*(Ye+be+Ee),lo=.07*(Ye/2+Ee+be)):"round-triangle"===Pe&&(ur=(Ye+be+Ee)*(Math.PI/2),Ii=-(Ye+be/2+Ee)/Math.PI),0!==ur&&(ot=y*(Jt=(y+ur)/y),["round-hexagon","round-tag"].includes(Pe)||(tn=_*(Ut=(_+ur)/_)));for(var ci=ot/2,Co=tn/2,Ai=(fe="auto"===fe?Hd(ot,tn):fe)+(Ye+Ee+be)/2,Lr=new Array(Tt.length/2),uo=new Array(Tt.length/2),ss=0;ss<Tt.length/2;ss++)Lr[ss]={x:Be.x+lo+ci*Tt[2*ss],y:Be.y+Ii+Co*Tt[2*ss+1]};var qo,Oa,hl,as,_i=Lr.length;for(Oa=Lr[_i-1],qo=0;qo<_i;qo++)uo[qo]=Ta(Oa,hl=Lr[qo%_i],as=Lr[(qo+1)%_i],Ai),Oa=hl,hl=as;g.drawRoundPolygonPath(Nt||a,Be.x+lo,Be.y+Ii,y*Jt,_*Ut,Tt,uo)}else["roundrectangle","round-rectangle"].includes(Pe)?(console.log(fe,o),fe="auto"===fe?ca(ot,tn):fe,g.drawRoundRectanglePath(Nt||a,Be.x,Be.y,ot,tn,fe+(Ye+Ee+be)/2)):["cutrectangle","cut-rectangle"].includes(Pe)?g.drawCutRectanglePath(Nt||a,Be.x,Be.y,ot,tn,null,(fe="auto"===fe?8:fe)+(Ye+Ee+be)/4):["bottomroundrectangle","bottom-round-rectangle"].includes(Pe)?(fe="auto"===fe?ca(ot,tn):fe,g.drawBottomRoundRectanglePath(Nt||a,Be.x,Be.y,ot,tn,fe+(Ye+Ee+be)/2)):"barrel"===Pe?g.drawBarrelPath(Nt||a,Be.x,Be.y,ot,tn):Pe.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Pe)?(Tt=wc(vn(Tt,(Ye+Ee+be)/y)),g.drawPolygonPath(Nt||a,Be.x,Be.y,y,_,Tt)):(Tt=wc(vn(Tt,-(Ye+Ee+be)/y)),g.drawPolygonPath(Nt||a,Be.x,Be.y,y,_,Tt));if(T?a.stroke(Nt):a.stroke(),"double"===Xe){a.lineWidth=Ye/3;var Zu=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",T?a.stroke(Nt):a.stroke(),a.globalCompositeOperation=Zu}a.setLineDash&&a.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var q=o.pstyle("ghost-offset-x").pfValue,De=o.pstyle("ghost-offset-y").pfValue,He=o.pstyle("ghost-opacity").value,ke=He*S;a.translate(q,De),Qe(),$n(),Ne(He*ie),mt(),xt(ke,!0),ze(He*_e),Vt(),At(0!==J||0!==K),xt(ke,!1),Ot(ke),a.translate(-q,-De)}T&&a.translate(-C.x,-C.y),f&&g.drawNodeUnderlay(a,o,C,y,_),T&&a.translate(C.x,C.y),Qe(),$n(),Ne(),mt(),xt(S,!0),ze(),Vt(),At(0!==J||0!==K),xt(S,!1),Ot(),T&&a.translate(-C.x,-C.y),g.drawElementText(a,o,null,c),f&&g.drawNodeOverlay(a,o,C,y,_),l&&a.translate(N.x1,N.y1)}}},td=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,c,f,p,g){if(c.visible()){var _=c.pstyle("".concat(o,"-padding")).pfValue,b=c.pstyle("".concat(o,"-opacity")).value,w=c.pstyle("".concat(o,"-color")).value,C=c.pstyle("".concat(o,"-shape")).value,S=c.pstyle("".concat(o,"-corner-radius")).value;if(b>0){if(f=f||c.position(),null==p||null==g){var T=c.padding();p=c.width()+2*T,g=c.height()+2*T}this.colorFillStyle(l,w[0],w[1],w[2],b),this.nodeShapes[C].draw(l,f.x,f.y,p+2*_,g+2*_,S),l.fill()}}}};Wu.drawNodeOverlay=td("overlay"),Wu.drawNodeUnderlay=td("underlay"),Wu.hasPie=function(a){return(a=a[0])._private.hasPie},Wu.drawPie=function(a,o,l,c){o=o[0],c=c||o.position();var f=o.cy().style(),p=o.pstyle("pie-size"),g=c.x,y=c.y,_=o.width(),b=o.height(),w=Math.min(_,b)/2,C=0;this.usePaths()&&(g=0,y=0),"%"===p.units?w*=p.pfValue:void 0!==p.pfValue&&(w=p.pfValue/2);for(var T=1;T<=f.pieBackgroundN;T++){var M=o.pstyle("pie-"+T+"-background-size").value,P=o.pstyle("pie-"+T+"-background-color").value,R=o.pstyle("pie-"+T+"-background-opacity").value*l,N=M/100;N+C>1&&(N=1-C);var F=1.5*Math.PI+2*Math.PI*C,H=F+2*Math.PI*N;0===M||C>=1||C+N>1||(a.beginPath(),a.moveTo(g,y),a.arc(g,y,w,F,H),a.closePath(),this.colorFillStyle(a,P[0],P[1],P[2],R),a.fill(),C+=N)}};for(var ji={getPixelRatio:function(){var a=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)},paintCache:function(a){for(var c,o=this.paintCaches=this.paintCaches||[],l=!0,f=0;f<o.length;f++)if((c=o[f]).context===a){l=!1;break}return l&&o.push(c={context:a}),c},createGradientStyleFor:function(a,o,l,c,f){var p,g=this.usePaths(),y=l.pstyle(o+"-gradient-stop-colors").value,_=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===c)if(l.isEdge()){var b=l.sourceEndpoint(),w=l.targetEndpoint(),C=l.midpoint(),S=ua(b,C),T=ua(w,C);p=a.createRadialGradient(C.x,C.y,0,C.x,C.y,Math.max(S,T))}else{var M=g?{x:0,y:0}:l.position(),P=l.paddedWidth(),R=l.paddedHeight();p=a.createRadialGradient(M.x,M.y,0,M.x,M.y,Math.max(P,R))}else if(l.isEdge()){var N=l.sourceEndpoint(),F=l.targetEndpoint();p=a.createLinearGradient(N.x,N.y,F.x,F.y)}else{var L=g?{x:0,y:0}:l.position(),X=l.paddedWidth()/2,U=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=a.createLinearGradient(L.x,L.y-U,L.x,L.y+U);break;case"to-top":p=a.createLinearGradient(L.x,L.y+U,L.x,L.y-U);break;case"to-left":p=a.createLinearGradient(L.x+X,L.y,L.x-X,L.y);break;case"to-right":p=a.createLinearGradient(L.x-X,L.y,L.x+X,L.y);break;case"to-bottom-right":case"to-right-bottom":p=a.createLinearGradient(L.x-X,L.y-U,L.x+X,L.y+U);break;case"to-top-right":case"to-right-top":p=a.createLinearGradient(L.x-X,L.y+U,L.x+X,L.y-U);break;case"to-bottom-left":case"to-left-bottom":p=a.createLinearGradient(L.x+X,L.y-U,L.x-X,L.y+U);break;case"to-top-left":case"to-left-top":p=a.createLinearGradient(L.x+X,L.y+U,L.x-X,L.y-U)}}if(!p)return null;for(var j=_.length===y.length,W=y.length,J=0;J<W;J++)p.addColorStop(j?_[J]:J/(W-1),"rgba("+y[J][0]+","+y[J][1]+","+y[J][2]+","+f+")");return p},gradientFillStyle:function(a,o,l,c){var f=this.createGradientStyleFor(a,"background",o,l,c);if(!f)return null;a.fillStyle=f},colorFillStyle:function(a,o,l,c,f){a.fillStyle="rgba("+o+","+l+","+c+","+f+")"},eleFillStyle:function(a,o,l){var c=o.pstyle("background-fill").value;if("linear-gradient"===c||"radial-gradient"===c)this.gradientFillStyle(a,o,c,l);else{var f=o.pstyle("background-color").value;this.colorFillStyle(a,f[0],f[1],f[2],l)}},gradientStrokeStyle:function(a,o,l,c){var f=this.createGradientStyleFor(a,"line",o,l,c);if(!f)return null;a.strokeStyle=f},colorStrokeStyle:function(a,o,l,c,f){a.strokeStyle="rgba("+o+","+l+","+c+","+f+")"},eleStrokeStyle:function(a,o,l){var c=o.pstyle("line-fill").value;if("linear-gradient"===c||"radial-gradient"===c)this.gradientStrokeStyle(a,o,c,l);else{var f=o.pstyle("line-color").value;this.colorStrokeStyle(a,f[0],f[1],f[2],l)}},matchCanvasSize:function(a){var o=this,l=o.data,c=o.findContainerClientCoords(),f=c[2],p=c[3],g=o.getPixelRatio();(a===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||a===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var w,_=f*g,b=p*g;if(_!==o.canvasWidth||b!==o.canvasHeight){o.fontCaches=null;var C=l.canvasContainer;C.style.width=f+"px",C.style.height=p+"px";for(var S=0;S<o.CANVAS_LAYERS;S++)(w=l.canvases[S]).width=_,w.height=b,w.style.width=f+"px",w.style.height=p+"px";for(S=0;S<o.BUFFER_COUNT;S++)(w=l.bufferCanvases[S]).width=_,w.height=b,w.style.width=f+"px",w.style.height=p+"px";o.textureMult=1,g<=1&&(w=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,w.width=_*o.textureMult,w.height=b*o.textureMult),o.canvasWidth=_,o.canvasHeight=b}},renderTo:function(a,o,l,c){this.render({forcedContext:a,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:c})},render:function(a){var o=(a=a||Fd()).forcedContext,l=a.drawAllLayers,c=a.drawOnlyNodeLayer,f=a.forcedZoom,p=a.forcedPan,g=this,y=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,_=g.cy,b=g.data,w=b.canvasNeedsRedraw,C=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),S=void 0!==a.motionBlur?a.motionBlur:g.motionBlur,T=g.motionBlurPxRatio,M=_.hasCompoundNodes(),P=g.hoverData.draggingEles,N=S=S&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==y&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=y),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),S&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(N=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!C&&(w[g.NODE]=!0,w[g.SELECT_BOX]=!0);var F=_.style(),L=_.zoom(),H=void 0!==f?f:L,Y=_.pan(),X={x:Y.x,y:Y.y},U={zoom:L,pan:{x:Y.x,y:Y.y}},te=g.prevViewport;!(void 0===te||U.zoom!==te.zoom||U.pan.x!==te.pan.x||U.pan.y!==te.pan.y)&&!(P&&!M)&&(g.motionBlurPxRatio=1),p&&(X=p),H*=y,X.x*=y,X.y*=y;var W=g.getCachedZSortedEles();function J(ut,mt,xt,At,Ot){var Vt=ut.globalCompositeOperation;ut.globalCompositeOperation="destination-out",g.colorFillStyle(ut,255,255,255,g.motionBlurTransparency),ut.fillRect(mt,xt,At,Ot),ut.globalCompositeOperation=Vt}function K(ut,mt){var xt,At,Ot,Vt;g.clearingMotionBlur||ut!==b.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&ut!==b.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(xt=X,At=H,Ot=g.canvasWidth,Vt=g.canvasHeight):(xt={x:Y.x*T,y:Y.y*T},At=L*T,Ot=g.canvasWidth*T,Vt=g.canvasHeight*T),ut.setTransform(1,0,0,1,0,0),"motionBlur"===mt?J(ut,0,0,Ot,Vt):!o&&(void 0===mt||mt)&&ut.clearRect(0,0,Ot,Vt),l||(ut.translate(xt.x,xt.y),ut.scale(At,At)),p&&ut.translate(p.x,p.y),f&&ut.scale(f,f)}if(C||(g.textureDrawLastFrame=!1),C){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=_.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var ie=g.data.bufferContexts[g.TEXTURE_BUFFER];ie.setTransform(1,0,0,1,0,0),ie.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:ie,drawOnlyNodeLayer:!0,forcedPxRatio:y*g.textureMult}),(U=g.textureCache.viewport={zoom:_.zoom(),pan:_.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-U.pan.x)/U.zoom,y:(0-U.pan.y)/U.zoom}}w[g.DRAG]=!1,w[g.NODE]=!1;var ce=g.textureCache.texture;U=g.textureCache.viewport,(Q=b.contexts[g.NODE]).setTransform(1,0,0,1,0,0),S?J(Q,0,0,U.width,U.height):Q.clearRect(0,0,U.width,U.height);var se=F.core("outside-texture-bg-color").value,le=F.core("outside-texture-bg-opacity").value;g.colorFillStyle(Q,se[0],se[1],se[2],le),Q.fillRect(0,0,U.width,U.height),L=_.zoom(),K(Q,!1),Q.clearRect(U.mpan.x,U.mpan.y,U.width/U.zoom/y,U.height/U.zoom/y),Q.drawImage(ce,U.mpan.x,U.mpan.y,U.width/U.zoom/y,U.height/U.zoom/y)}else g.textureOnViewport&&!o&&(g.textureCache=null);var ve=_.extent(),Ce=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),Ie=g.hideEdgesOnViewport&&Ce,_e=[];if(_e[g.NODE]=!w[g.NODE]&&S&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,_e[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),_e[g.DRAG]=!w[g.DRAG]&&S&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,_e[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),w[g.NODE]||l||c||_e[g.NODE]){var Ee=S&&!_e[g.NODE]&&1!==T;K(Q=o||(Ee?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:b.contexts[g.NODE]),S&&!Ee?"motionBlur":void 0),Ie?g.drawCachedNodes(Q,W.nondrag,y,ve):g.drawLayeredElements(Q,W.nondrag,y,ve),g.debug&&g.drawDebugPoints(Q,W.nondrag),!l&&!S&&(w[g.NODE]=!1)}if(!c&&(w[g.DRAG]||l||_e[g.DRAG])&&(Ee=S&&!_e[g.DRAG]&&1!==T,K(Q=o||(Ee?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:b.contexts[g.DRAG]),S&&!Ee?"motionBlur":void 0),Ie?g.drawCachedNodes(Q,W.drag,y,ve):g.drawCachedElements(Q,W.drag,y,ve),g.debug&&g.drawDebugPoints(Q,W.drag),!l&&!S&&(w[g.DRAG]=!1)),g.showFps||!c&&w[g.SELECT_BOX]&&!l){var Q;if(K(Q=o||b.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){L=g.cy.zoom();var Xe=F.core("selection-box-border-width").value/L;Q.lineWidth=Xe,Q.fillStyle="rgba("+F.core("selection-box-color").value[0]+","+F.core("selection-box-color").value[1]+","+F.core("selection-box-color").value[2]+","+F.core("selection-box-opacity").value+")",Q.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),Xe>0&&(Q.strokeStyle="rgba("+F.core("selection-box-border-color").value[0]+","+F.core("selection-box-border-color").value[1]+","+F.core("selection-box-border-color").value[2]+","+F.core("selection-box-opacity").value+")",Q.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(b.bgActivePosistion&&!g.hoverData.selecting){L=g.cy.zoom();var We=b.bgActivePosistion;Q.fillStyle="rgba("+F.core("active-bg-color").value[0]+","+F.core("active-bg-color").value[1]+","+F.core("active-bg-color").value[2]+","+F.core("active-bg-opacity").value+")",Q.beginPath(),Q.arc(We.x,We.y,F.core("active-bg-size").pfValue/L,0,2*Math.PI),Q.fill()}var be=g.lastRedrawTime;if(g.showFps&&be){be=Math.round(be);var fe=Math.round(1e3/be);Q.setTransform(1,0,0,1,0,0),Q.fillStyle="rgba(255, 0, 0, 0.75)",Q.strokeStyle="rgba(255, 0, 0, 0.75)",Q.lineWidth=1,Q.fillText("1 frame = "+be+" ms = "+fe+" fps",0,20),Q.strokeRect(0,30,250,20),Q.fillRect(0,30,250*Math.min(fe/60,1),20)}l||(w[g.SELECT_BOX]=!1)}if(S&&1!==T){var Je=b.contexts[g.DRAG],Pt=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],Xt=function(mt,xt,At){mt.setTransform(1,0,0,1,0,0),At||!N?mt.clearRect(0,0,g.canvasWidth,g.canvasHeight):J(mt,0,0,g.canvasWidth,g.canvasHeight),mt.drawImage(xt,0,0,g.canvasWidth*T,g.canvasHeight*T,0,0,g.canvasWidth,g.canvasHeight)};(w[g.NODE]||_e[g.NODE])&&(Xt(b.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],_e[g.NODE]),w[g.NODE]=!1),(w[g.DRAG]||_e[g.DRAG])&&(Xt(Je,Pt,_e[g.DRAG]),w[g.DRAG]=!1)}g.prevViewport=U,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),S&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!C,g.mbFrames=0,w[g.NODE]=!0,w[g.DRAG]=!0,g.redraw()},100)),o||_.emit("render")}},Aa={drawPolygonPath:function(a,o,l,c,f,p){var g=c/2,y=f/2;a.beginPath&&a.beginPath(),a.moveTo(o+g*p[0],l+y*p[1]);for(var _=1;_<p.length/2;_++)a.lineTo(o+g*p[2*_],l+y*p[2*_+1]);a.closePath()},drawRoundPolygonPath:function(a,o,l,c,f,p,g){g.forEach(function(y){return function ui(a,o){0===o.radius?a.lineTo(o.cx,o.cy):a.arc(o.cx,o.cy,o.radius,o.startAngle,o.endAngle,o.counterClockwise)}(a,y)}),a.closePath()},drawRoundRectanglePath:function(a,o,l,c,f,p){var g=c/2,y=f/2,_="auto"===p?ca(c,f):Math.min(p,y,g);a.beginPath&&a.beginPath(),a.moveTo(o,l-y),a.arcTo(o+g,l-y,o+g,l,_),a.arcTo(o+g,l+y,o,l+y,_),a.arcTo(o-g,l+y,o-g,l,_),a.arcTo(o-g,l-y,o,l-y,_),a.lineTo(o,l-y),a.closePath()},drawBottomRoundRectanglePath:function(a,o,l,c,f,p){var g=c/2,y=f/2,_="auto"===p?ca(c,f):p;a.beginPath&&a.beginPath(),a.moveTo(o,l-y),a.lineTo(o+g,l-y),a.lineTo(o+g,l),a.arcTo(o+g,l+y,o,l+y,_),a.arcTo(o-g,l+y,o-g,l,_),a.lineTo(o-g,l-y),a.lineTo(o,l-y),a.closePath()},drawCutRectanglePath:function(a,o,l,c,f,p,g){var y=c/2,_=f/2,b="auto"===g?8:g;a.beginPath&&a.beginPath(),a.moveTo(o-y+b,l-_),a.lineTo(o+y-b,l-_),a.lineTo(o+y,l-_+b),a.lineTo(o+y,l+_-b),a.lineTo(o+y-b,l+_),a.lineTo(o-y+b,l+_),a.lineTo(o-y,l+_-b),a.lineTo(o-y,l-_+b),a.closePath()},drawBarrelPath:function(a,o,l,c,f){var p=c/2,g=f/2,y=o-p,_=o+p,b=l-g,w=l+g,C=lg(c,f),S=C.widthOffset,T=C.heightOffset,M=C.ctrlPtOffsetPct*S;a.beginPath&&a.beginPath(),a.moveTo(y,b+T),a.lineTo(y,w-T),a.quadraticCurveTo(y+M,w,y+S,w),a.lineTo(_-S,w),a.quadraticCurveTo(_-M,w,_,w-T),a.lineTo(_,b+T),a.quadraticCurveTo(_-M,b,_-S,b),a.lineTo(y+S,b),a.quadraticCurveTo(y+M,b,y,b+T),a.closePath()}},lp=Math.sin(0),ql=Math.cos(0),nd={},rd={},id=Math.PI/40,ka=0*Math.PI;ka<2*Math.PI;ka+=id)nd[ka]=Math.sin(ka),rd[ka]=Math.cos(ka);Aa.drawEllipsePath=function(a,o,l,c,f){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(o,l,c/2,f/2,0,0,2*Math.PI);else for(var p,g,y=c/2,_=f/2,b=0*Math.PI;b<2*Math.PI;b+=id)p=o-y*nd[b]*lp+y*rd[b]*ql,g=l+_*rd[b]*lp+_*nd[b]*ql,0===b?a.moveTo(p,g):a.lineTo(p,g);a.closePath()};var os={};function od(a){var o=a.indexOf(",");return a.substr(o+1)}function qg(a,o,l){var c=function(){return o.toDataURL(l,a.quality)};switch(a.output){case"blob-promise":return new No(function(f,p){try{o.toBlob(function(g){null!=g?f(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,a.quality)}catch(g){p(g)}});case"blob":return function zv(a,o){for(var l=atob(a),c=new ArrayBuffer(l.length),f=new Uint8Array(c),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return new Blob([c],{type:o})}(od(c()),l);case"base64":return od(c());default:return c()}}os.createBuffer=function(a,o){var l=document.createElement("canvas");return l.width=a,l.height=o,[l,l.getContext("2d")]},os.bufferCanvasImage=function(a){var o=this.cy,c=o.mutableElements().boundingBox(),f=this.findContainerClientCoords(),p=a.full?Math.ceil(c.w):f[2],g=a.full?Math.ceil(c.h):f[3],y=gt(a.maxWidth)||gt(a.maxHeight),_=this.getPixelRatio(),b=1;if(void 0!==a.scale)p*=a.scale,g*=a.scale,b=a.scale;else if(y){var w=1/0,C=1/0;gt(a.maxWidth)&&(w=b*a.maxWidth/p),gt(a.maxHeight)&&(C=b*a.maxHeight/g),p*=b=Math.min(w,C),g*=b}y||(p*=_,g*=_,b*=_);var S=document.createElement("canvas");S.width=p,S.height=g,S.style.width=p+"px",S.style.height=g+"px";var T=S.getContext("2d");if(p>0&&g>0){T.clearRect(0,0,p,g),T.globalCompositeOperation="source-over";var M=this.getCachedZSortedEles();if(a.full)T.translate(-c.x1*b,-c.y1*b),T.scale(b,b),this.drawElements(T,M),T.scale(1/b,1/b),T.translate(c.x1*b,c.y1*b);else{var P=o.pan(),R={x:P.x*b,y:P.y*b};b*=o.zoom(),T.translate(R.x,R.y),T.scale(b,b),this.drawElements(T,M),T.scale(1/b,1/b),T.translate(-R.x,-R.y)}a.bg&&(T.globalCompositeOperation="destination-over",T.fillStyle=a.bg,T.rect(0,0,p,g),T.fill())}return S},os.png=function(a){return qg(a,this.bufferCanvasImage(a),"image/png")},os.jpg=function(a){return qg(a,this.bufferCanvasImage(a),"image/jpeg")};var cp=Wg,Wn=Wg.prototype;function Wg(a){var o=this;o.data={canvases:new Array(Wn.CANVAS_LAYERS),contexts:new Array(Wn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Wn.CANVAS_LAYERS),bufferCanvases:new Array(Wn.BUFFER_COUNT),bufferContexts:new Array(Wn.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",c="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var f=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=c,f.position="relative",f.zIndex="0",f.overflow="hidden";var p=a.cy.container();p.appendChild(o.data.canvasContainer),p.style[l]=c;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Mn&&Mn.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var y=0;y<Wn.CANVAS_LAYERS;y++){var _=o.data.canvases[y]=document.createElement("canvas");o.data.contexts[y]=_.getContext("2d"),Object.keys(g).forEach(function(be){_.style[be]=g[be]}),_.style.position="absolute",_.setAttribute("data-id","layer"+y),_.style.zIndex=String(Wn.CANVAS_LAYERS-y),o.data.canvasContainer.appendChild(_),o.data.canvasNeedsRedraw[y]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[Wn.NODE].setAttribute("data-id","layer"+Wn.NODE+"-node"),o.data.canvases[Wn.SELECT_BOX].setAttribute("data-id","layer"+Wn.SELECT_BOX+"-selectbox"),o.data.canvases[Wn.DRAG].setAttribute("data-id","layer"+Wn.DRAG+"-drag"),y=0;y<Wn.BUFFER_COUNT;y++)o.data.bufferCanvases[y]=document.createElement("canvas"),o.data.bufferContexts[y]=o.data.bufferCanvases[y].getContext("2d"),o.data.bufferCanvases[y].style.position="absolute",o.data.bufferCanvases[y].setAttribute("data-id","buffer"+y),o.data.bufferCanvases[y].style.zIndex=String(-y-1),o.data.bufferCanvases[y].style.visibility="hidden";o.pathsEnabled=!0;var b=Ro(),C=function(fe){return{x:-fe.w/2,y:-fe.h/2}},Y=function(fe){return fe.boundingBox(),fe[0]._private.bodyBounds},X=function(fe){return fe.boundingBox(),fe[0]._private.labelBounds.main||b},U=function(fe){return fe.boundingBox(),fe[0]._private.labelBounds.source||b},te=function(fe){return fe.boundingBox(),fe[0]._private.labelBounds.target||b},j=function(fe,Ne){return Ne},J=function(fe,Ne,ze){var Qe=fe?fe+"-":"";return{x:Ne.x+ze.pstyle(Qe+"text-margin-x").pfValue,y:Ne.y+ze.pstyle(Qe+"text-margin-y").pfValue}},K=function(fe,Ne,ze){var Qe=fe[0]._private.rscratch;return{x:Qe[Ne],y:Qe[ze]}},Ie=o.data.eleTxrCache=new Qc(o,{getKey:function(fe){return fe[0]._private.nodeKey},doesEleInvalidateKey:function(fe){var Ne=fe[0]._private;return!(Ne.oldBackgroundTimestamp===Ne.backgroundTimestamp)},drawElement:function(fe,Ne,ze,Qe,Je){return o.drawElement(fe,Ne,ze,!1,!1,Je)},getBoundingBox:Y,getRotationPoint:function(fe){return function(fe){return{x:(fe.x1+fe.x2)/2,y:(fe.y1+fe.y2)/2}}(Y(fe))},getRotationOffset:function(fe){return C(Y(fe))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),_e=o.data.lblTxrCache=new Qc(o,{getKey:function(fe){return fe[0]._private.labelStyleKey},drawElement:function(fe,Ne,ze,Qe,Je){return o.drawElementText(fe,Ne,ze,Qe,"main",Je)},getBoundingBox:X,getRotationPoint:function(fe){return J("",K(fe,"labelX","labelY"),fe)},getRotationOffset:function(fe){var Ne=X(fe),ze=C(X(fe));if(fe.isNode()){switch(fe.pstyle("text-halign").value){case"left":ze.x=-Ne.w;break;case"right":ze.x=0}switch(fe.pstyle("text-valign").value){case"top":ze.y=-Ne.h;break;case"bottom":ze.y=0}}return ze},isVisible:j}),Ee=o.data.slbTxrCache=new Qc(o,{getKey:function(fe){return fe[0]._private.sourceLabelStyleKey},drawElement:function(fe,Ne,ze,Qe,Je){return o.drawElementText(fe,Ne,ze,Qe,"source",Je)},getBoundingBox:U,getRotationPoint:function(fe){return J("source",K(fe,"sourceLabelX","sourceLabelY"),fe)},getRotationOffset:function(fe){return C(U(fe))},isVisible:j}),Ae=o.data.tlbTxrCache=new Qc(o,{getKey:function(fe){return fe[0]._private.targetLabelStyleKey},drawElement:function(fe,Ne,ze,Qe,Je){return o.drawElementText(fe,Ne,ze,Qe,"target",Je)},getBoundingBox:te,getRotationPoint:function(fe){return J("target",K(fe,"targetLabelX","targetLabelY"),fe)},getRotationOffset:function(fe){return C(te(fe))},isVisible:j}),Xe=o.data.lyrTxrCache=new Vg(o);o.onUpdateEleCalcs(function(fe,Ne){Ie.invalidateElements(Ne),_e.invalidateElements(Ne),Ee.invalidateElements(Ne),Ae.invalidateElements(Ne),Xe.invalidateElements(Ne);for(var ze=0;ze<Ne.length;ze++){var Qe=Ne[ze]._private;Qe.oldBackgroundTimestamp=Qe.backgroundTimestamp}});var We=function(fe){for(var Ne=0;Ne<fe.length;Ne++)Xe.enqueueElementRefinement(fe[Ne].ele)};Ie.onDequeue(We),_e.onDequeue(We),Ee.onDequeue(We),Ae.onDequeue(We)}Wn.CANVAS_LAYERS=3,Wn.SELECT_BOX=0,Wn.DRAG=1,Wn.NODE=2,Wn.BUFFER_COUNT=3,Wn.TEXTURE_BUFFER=0,Wn.MOTIONBLUR_BUFFER_NODE=1,Wn.MOTIONBLUR_BUFFER_DRAG=2,Wn.redrawHint=function(a,o){var l=this;switch(a){case"eles":l.data.canvasNeedsRedraw[Wn.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[Wn.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[Wn.SELECT_BOX]=o}};var Hv=typeof Path2D<"u";Wn.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a},Wn.usePaths=function(){return Hv&&this.pathsEnabled},Wn.setImgSmoothing=function(a,o){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=o:(a.webkitImageSmoothingEnabled=o,a.mozImageSmoothingEnabled=o,a.msImageSmoothingEnabled=o)},Wn.getImgSmoothing=function(a){return null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled:a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled},Wn.makeOffscreenCanvas=function(a,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":yn(OffscreenCanvas))?l=new OffscreenCanvas(a,o):((l=document.createElement("canvas")).width=a,l.height=o),l},[$g,Ys,dl,Ug,qu,Wu,ji,Aa,os,{nodeShapeImpl:function(a,o,l,c,f,p,g,y){switch(a){case"ellipse":return this.drawEllipsePath(o,l,c,f,p);case"polygon":return this.drawPolygonPath(o,l,c,f,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,l,c,f,p,g,y);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,c,f,p,y);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,c,f,p,g,y);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,c,f,p,y);case"barrel":return this.drawBarrelPath(o,l,c,f,p)}}}].forEach(function(a){$t(Wn,a)});var Uv=[{type:"layout",extensions:$l},{type:"renderer",extensions:[{name:"null",impl:qc},{name:"base",impl:Xh},{name:"canvas",impl:cp}]}],Zg={},ao={};function Mf(a,o,l){var c=l,f=function(te){rn("Can not register `"+o+"` for `"+a+"` since `"+te+"` already exists in the prototype and can not be overridden")};if("core"===a){if(Uc.prototype[o])return f(o);Uc.prototype[o]=l}else if("collection"===a){if(zt.prototype[o])return f(o);zt.prototype[o]=l}else if("layout"===a){for(var p=function(te){this.options=te,l.call(this,te),Mt(this._private)||(this._private={}),this._private.cy=te.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(l.prototype),y=[],_=0;_<y.length;_++){var b=y[_];g[b]=g[b]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var w=l.prototype.stop;g.stop=function(){var U=this.options;if(U&&U.animate){var te=this.animations;if(te)for(var j=0;j<te.length;j++)te[j].stop()}return w?w.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var C=function(te){return te._private.cy},S={addEventFields:function(te,j){j.layout=te,j.cy=C(te),j.target=te},bubble:function(){return!0},parent:function(te){return C(te)}};$t(g,{createEmitter:function(){return this._private.emitter=new xu(S,this),this},emitter:function(){return this._private.emitter},on:function(te,j){return this.emitter().on(te,j),this},one:function(te,j){return this.emitter().one(te,j),this},once:function(te,j){return this.emitter().one(te,j),this},removeListener:function(te,j){return this.emitter().removeListener(te,j),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(te,j){return this.emitter().emit(te,j),this}}),ln.eventAliasesOn(g),c=p}else if("renderer"===a&&"null"!==o&&"base"!==o){var T=Ku("renderer","base"),M=T.prototype,P=l,R=l.prototype,N=function(){T.apply(this,arguments),P.apply(this,arguments)},F=N.prototype;for(var L in M){var H=M[L];if(null!=R[L])return f(L);F[L]=H}for(var X in R)F[X]=R[X];M.clientFunctions.forEach(function(U){F[U]=F[U]||function(){Yn("Renderer does not implement `renderer."+U+"()` on its prototype")}}),c=N}else if("__proto__"===a||"constructor"===a||"prototype"===a)return Yn(a+" is an illegal type to be registered, possibly lead to prototype pollutions");return Td({map:Zg,keys:[a,o],value:c})}function Ku(a,o){return Id({map:Zg,keys:[a,o]})}function dp(a,o,l,c,f){return Td({map:ao,keys:[a,o,l,c],value:f})}function Ti(a,o,l,c){return Id({map:ao,keys:[a,o,l,c]})}var fl=function(){return 2===arguments.length?Ku.apply(null,arguments):3===arguments.length?Mf.apply(null,arguments):4===arguments.length?Ti.apply(null,arguments):5===arguments.length?dp.apply(null,arguments):void Yn("Invalid extension access syntax")};Uc.prototype.extension=fl,Uv.forEach(function(a){a.extensions.forEach(function(o){Mf(a.type,o.name,o.impl)})});var sd=function a(){if(!(this instanceof a))return new a;this.length=0},Ra=sd.prototype;Ra.instanceString=function(){return"stylesheet"},Ra.selector=function(a){return this[this.length++]={selector:a,properties:[]},this},Ra.css=function(a,o){var l=this.length-1;if(lt(a))this[l].properties.push({name:a,value:o});else if(Mt(a))for(var c=a,f=Object.keys(c),p=0;p<f.length;p++){var g=f[p],y=c[g];if(null!=y){var _=$i.properties[g]||$i.properties[wl(g)];null!=_&&this[l].properties.push({name:_.name,value:y})}}return this},Ra.style=Ra.css,Ra.generateStyle=function(a){var o=new $i(a);return this.appendToStyle(o)},Ra.appendToStyle=function(a){for(var o=0;o<this.length;o++){var l=this[o],f=l.properties;a.selector(l.selector);for(var p=0;p<f.length;p++){var g=f[p];a.css(g.name,g.value)}}return a};var Pa=function(o){return void 0===o&&(o={}),Mt(o)?new Uc(o):lt(o)?fl.apply(fl,arguments):void 0};Pa.use=function(a){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Pa),a.apply(null,o),this},Pa.warnings=function(a){return Xp(a)},Pa.version="snapshot",Pa.stylesheet=Pa.Stylesheet=sd,xe.exports=Pa},7444:(xe,at,de)=>{xe.exports=de(7253)},7253:function(xe,at){var de,pe,V;(function(){var Fe,Oe,Ue,Le,ht,St,It,kt,jn,yn,Ar,vr,Zn,Fn,bn;Ue=Math.floor,yn=Math.min,Oe=function(tt,pt){return tt<pt?-1:tt>pt?1:0},jn=function(tt,pt,Et,Rt,Ln){var jt;if(null==Et&&(Et=0),null==Ln&&(Ln=Oe),Et<0)throw new Error("lo must be non-negative");for(null==Rt&&(Rt=tt.length);Et<Rt;)Ln(pt,tt[jt=Ue((Et+Rt)/2)])<0?Rt=jt:Et=jt+1;return[].splice.apply(tt,[Et,Et-Et].concat(pt)),pt},St=function(tt,pt,Et){return null==Et&&(Et=Oe),tt.push(pt),Fn(tt,0,tt.length-1,Et)},ht=function(tt,pt){var Et,Rt;return null==pt&&(pt=Oe),Et=tt.pop(),tt.length?(Rt=tt[0],tt[0]=Et,bn(tt,0,pt)):Rt=Et,Rt},kt=function(tt,pt,Et){var Rt;return null==Et&&(Et=Oe),Rt=tt[0],tt[0]=pt,bn(tt,0,Et),Rt},It=function(tt,pt,Et){var Rt;return null==Et&&(Et=Oe),tt.length&&Et(tt[0],pt)<0&&(pt=(Rt=[tt[0],pt])[0],tt[0]=Rt[1],bn(tt,0,Et)),pt},Le=function(tt,pt){var Rt,jt,fr,Zi,Yo;for(null==pt&&(pt=Oe),Zi=[],Rt=0,jt=(fr=function(){Yo=[];for(var To=0,Nr=Ue(tt.length/2);0<=Nr?To<Nr:To>Nr;0<=Nr?To++:To--)Yo.push(To);return Yo}.apply(this).reverse()).length;Rt<jt;Rt++)Zi.push(bn(tt,fr[Rt],pt));return Zi},Zn=function(tt,pt,Et){var Rt;if(null==Et&&(Et=Oe),-1!==(Rt=tt.indexOf(pt)))return Fn(tt,0,Rt,Et),bn(tt,Rt,Et)},Ar=function(tt,pt,Et){var Ln,jt,Mn,fr;if(null==Et&&(Et=Oe),!(Ln=tt.slice(0,pt)).length)return Ln;for(Le(Ln,Et),jt=0,Mn=(fr=tt.slice(pt)).length;jt<Mn;jt++)It(Ln,fr[jt],Et);return Ln.sort(Et).reverse()},vr=function(tt,pt,Et){var Rt,jt,Mn,fr,Zi,Yo,To,Nr,lt;if(null==Et&&(Et=Oe),10*pt<=tt.length){if(!(Mn=tt.slice(0,pt).sort(Et)).length)return Mn;for(jt=Mn[Mn.length-1],fr=0,Yo=(To=tt.slice(pt)).length;fr<Yo;fr++)Et(Rt=To[fr],jt)<0&&(jn(Mn,Rt,0,null,Et),Mn.pop(),jt=Mn[Mn.length-1]);return Mn}for(Le(tt,Et),lt=[],Zi=0,Nr=yn(pt,tt.length);0<=Nr?Zi<Nr:Zi>Nr;0<=Nr?++Zi:--Zi)lt.push(ht(tt,Et));return lt},Fn=function(tt,pt,Et,Rt){var Ln,jt,Mn;for(null==Rt&&(Rt=Oe),Ln=tt[Et];Et>pt&&Rt(Ln,jt=tt[Mn=Et-1>>1])<0;)tt[Et]=jt,Et=Mn;return tt[Et]=Ln},bn=function(tt,pt,Et){var Rt,Ln,jt,Mn,fr;for(null==Et&&(Et=Oe),Ln=tt.length,fr=pt,jt=tt[pt],Rt=2*pt+1;Rt<Ln;)(Mn=Rt+1)<Ln&&!(Et(tt[Rt],tt[Mn])<0)&&(Rt=Mn),tt[pt]=tt[Rt],Rt=2*(pt=Rt)+1;return tt[pt]=jt,Fn(tt,fr,pt,Et)},Fe=function(){function tt(pt){this.cmp=pt??Oe,this.nodes=[]}return tt.push=St,tt.pop=ht,tt.replace=kt,tt.pushpop=It,tt.heapify=Le,tt.updateItem=Zn,tt.nlargest=Ar,tt.nsmallest=vr,tt.prototype.push=function(pt){return St(this.nodes,pt,this.cmp)},tt.prototype.pop=function(){return ht(this.nodes,this.cmp)},tt.prototype.peek=function(){return this.nodes[0]},tt.prototype.contains=function(pt){return-1!==this.nodes.indexOf(pt)},tt.prototype.replace=function(pt){return kt(this.nodes,pt,this.cmp)},tt.prototype.pushpop=function(pt){return It(this.nodes,pt,this.cmp)},tt.prototype.heapify=function(){return Le(this.nodes,this.cmp)},tt.prototype.updateItem=function(pt){return Zn(this.nodes,pt,this.cmp)},tt.prototype.clear=function(){return this.nodes=[]},tt.prototype.empty=function(){return 0===this.nodes.length},tt.prototype.size=function(){return this.nodes.length},tt.prototype.clone=function(){var pt;return(pt=new tt).nodes=this.nodes.slice(0),pt},tt.prototype.toArray=function(){return this.nodes.slice(0)},tt.prototype.insert=tt.prototype.push,tt.prototype.top=tt.prototype.peek,tt.prototype.front=tt.prototype.peek,tt.prototype.has=tt.prototype.contains,tt.prototype.copy=tt.prototype.clone,tt}(),pe=[],void 0===(V="function"==typeof(de=function(){return Fe})?de.apply(at,pe):de)||(xe.exports=V)}).call(this)},9618:(xe,at,de)=>{var pe=de(5602),V=de(1499),Fe=de(2990),Oe=de(480),Ue=de(4469);function Le(ht){var St=-1,It=null==ht?0:ht.length;for(this.clear();++St<It;){var kt=ht[St];this.set(kt[0],kt[1])}}Le.prototype.clear=pe,Le.prototype.delete=V,Le.prototype.get=Fe,Le.prototype.has=Oe,Le.prototype.set=Ue,xe.exports=Le},3597:(xe,at,de)=>{var pe=de(9365),V=de(9343),Fe=de(4779),Oe=de(1509),Ue=de(7137);function Le(ht){var St=-1,It=null==ht?0:ht.length;for(this.clear();++St<It;){var kt=ht[St];this.set(kt[0],kt[1])}}Le.prototype.clear=pe,Le.prototype.delete=V,Le.prototype.get=Fe,Le.prototype.has=Oe,Le.prototype.set=Ue,xe.exports=Le},1136:(xe,at,de)=>{var Fe=de(8745)(de(8492),"Map");xe.exports=Fe},1811:(xe,at,de)=>{var pe=de(3413),V=de(5419),Fe=de(7336),Oe=de(1115),Ue=de(6648);function Le(ht){var St=-1,It=null==ht?0:ht.length;for(this.clear();++St<It;){var kt=ht[St];this.set(kt[0],kt[1])}}Le.prototype.clear=pe,Le.prototype.delete=V,Le.prototype.get=Fe,Le.prototype.has=Oe,Le.prototype.set=Ue,xe.exports=Le},1763:(xe,at,de)=>{var pe=de(8492);xe.exports=pe.Symbol},3880:xe=>{xe.exports=function at(de,pe){for(var V=-1,Fe=null==de?0:de.length,Oe=Array(Fe);++V<Fe;)Oe[V]=pe(de[V],V,de);return Oe}},9553:(xe,at,de)=>{var pe=de(1741),V=de(7826),Oe=Object.prototype.hasOwnProperty;xe.exports=function Ue(Le,ht,St){var It=Le[ht];(!Oe.call(Le,ht)||!V(It,St)||void 0===St&&!(ht in Le))&&pe(Le,ht,St)}},4056:(xe,at,de)=>{var pe=de(7826);xe.exports=function V(Fe,Oe){for(var Ue=Fe.length;Ue--;)if(pe(Fe[Ue][0],Oe))return Ue;return-1}},1741:(xe,at,de)=>{var pe=de(9383);xe.exports=function V(Fe,Oe,Ue){"__proto__"==Oe&&pe?pe(Fe,Oe,{configurable:!0,enumerable:!0,value:Ue,writable:!0}):Fe[Oe]=Ue}},2202:(xe,at,de)=>{var pe=de(4826),V=de(8916);xe.exports=function Fe(Oe,Ue){for(var Le=0,ht=(Ue=pe(Ue,Oe)).length;null!=Oe&&Le<ht;)Oe=Oe[V(Ue[Le++])];return Le&&Le==ht?Oe:void 0}},4590:(xe,at,de)=>{var pe=de(1763),V=de(5933),Fe=de(9243),Le=pe?pe.toStringTag:void 0;xe.exports=function ht(St){return null==St?void 0===St?"[object Undefined]":"[object Null]":Le&&Le in Object(St)?V(St):Fe(St)}},1082:(xe,at,de)=>{var pe=de(6861),V=de(9950),Fe=de(9794),Oe=de(7075),Le=/^\[object .+?Constructor\]$/,jn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");xe.exports=function yn(Ar){return!(!Fe(Ar)||V(Ar))&&(pe(Ar)?jn:Le).test(Oe(Ar))}},9478:(xe,at,de)=>{var pe=de(9553),V=de(4826),Fe=de(5188),Oe=de(9794),Ue=de(8916);xe.exports=function Le(ht,St,It,kt){if(!Oe(ht))return ht;for(var jn=-1,yn=(St=V(St,ht)).length,Ar=yn-1,vr=ht;null!=vr&&++jn<yn;){var Zn=Ue(St[jn]),Fn=It;if("__proto__"===Zn||"constructor"===Zn||"prototype"===Zn)return ht;if(jn!=Ar){var bn=vr[Zn];void 0===(Fn=kt?kt(bn,Zn,vr):void 0)&&(Fn=Oe(bn)?bn:Fe(St[jn+1])?[]:{})}pe(vr,Zn,Fn),vr=vr[Zn]}return ht}},7002:(xe,at,de)=>{var pe=de(1763),V=de(3880),Fe=de(2261),Oe=de(3423),Le=pe?pe.prototype:void 0,ht=Le?Le.toString:void 0;xe.exports=function St(It){if("string"==typeof It)return It;if(Fe(It))return V(It,St)+"";if(Oe(It))return ht?ht.call(It):"";var kt=It+"";return"0"==kt&&1/It==-1/0?"-0":kt}},9484:(xe,at,de)=>{var pe=de(1781),V=/^\s+/;xe.exports=function Fe(Oe){return Oe&&Oe.slice(0,pe(Oe)+1).replace(V,"")}},4826:(xe,at,de)=>{var pe=de(2261),V=de(6300),Fe=de(163),Oe=de(2674);xe.exports=function Ue(Le,ht){return pe(Le)?Le:V(Le,ht)?[Le]:Fe(Oe(Le))}},4231:xe=>{xe.exports=function at(de,pe){var V=-1,Fe=de.length;for(pe||(pe=Array(Fe));++V<Fe;)pe[V]=de[V];return pe}},6189:(xe,at,de)=>{var pe=de(8492);xe.exports=pe["__core-js_shared__"]},9383:(xe,at,de)=>{var pe=de(8745),V=function(){try{var Fe=pe(Object,"defineProperty");return Fe({},"",{}),Fe}catch{}}();xe.exports=V},248:xe=>{var at="object"==typeof global&&global&&global.Object===Object&&global;xe.exports=at},4113:(xe,at,de)=>{var pe=de(29);xe.exports=function V(Fe,Oe){var Ue=Fe.__data__;return pe(Oe)?Ue["string"==typeof Oe?"string":"hash"]:Ue.map}},8745:(xe,at,de)=>{var pe=de(1082),V=de(1015);xe.exports=function Fe(Oe,Ue){var Le=V(Oe,Ue);return pe(Le)?Le:void 0}},5933:(xe,at,de)=>{var pe=de(1763),V=Object.prototype,Fe=V.hasOwnProperty,Oe=V.toString,Ue=pe?pe.toStringTag:void 0;xe.exports=function Le(ht){var St=Fe.call(ht,Ue),It=ht[Ue];try{ht[Ue]=void 0;var kt=!0}catch{}var jn=Oe.call(ht);return kt&&(St?ht[Ue]=It:delete ht[Ue]),jn}},1015:xe=>{xe.exports=function at(de,pe){return de?.[pe]}},5602:(xe,at,de)=>{var pe=de(893);xe.exports=function V(){this.__data__=pe?pe(null):{},this.size=0}},1499:xe=>{xe.exports=function at(de){var pe=this.has(de)&&delete this.__data__[de];return this.size-=pe?1:0,pe}},2990:(xe,at,de)=>{var pe=de(893),Oe=Object.prototype.hasOwnProperty;xe.exports=function Ue(Le){var ht=this.__data__;if(pe){var St=ht[Le];return"__lodash_hash_undefined__"===St?void 0:St}return Oe.call(ht,Le)?ht[Le]:void 0}},480:(xe,at,de)=>{var pe=de(893),Fe=Object.prototype.hasOwnProperty;xe.exports=function Oe(Ue){var Le=this.__data__;return pe?void 0!==Le[Ue]:Fe.call(Le,Ue)}},4469:(xe,at,de)=>{var pe=de(893);xe.exports=function Fe(Oe,Ue){var Le=this.__data__;return this.size+=this.has(Oe)?0:1,Le[Oe]=pe&&void 0===Ue?"__lodash_hash_undefined__":Ue,this}},5188:xe=>{var de=/^(?:0|[1-9]\d*)$/;xe.exports=function pe(V,Fe){var Oe=typeof V;return!!(Fe=Fe??9007199254740991)&&("number"==Oe||"symbol"!=Oe&&de.test(V))&&V>-1&&V%1==0&&V<Fe}},6300:(xe,at,de)=>{var pe=de(2261),V=de(3423),Fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/;xe.exports=function Ue(Le,ht){if(pe(Le))return!1;var St=typeof Le;return!("number"!=St&&"symbol"!=St&&"boolean"!=St&&null!=Le&&!V(Le))||Oe.test(Le)||!Fe.test(Le)||null!=ht&&Le in Object(ht)}},29:xe=>{xe.exports=function at(de){var pe=typeof de;return"string"==pe||"number"==pe||"symbol"==pe||"boolean"==pe?"__proto__"!==de:null===de}},9950:(xe,at,de)=>{var Oe,pe=de(6189),V=(Oe=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||""))?"Symbol(src)_1."+Oe:"";xe.exports=function Fe(Oe){return!!V&&V in Oe}},9365:xe=>{xe.exports=function at(){this.__data__=[],this.size=0}},9343:(xe,at,de)=>{var pe=de(4056),Fe=Array.prototype.splice;xe.exports=function Oe(Ue){var Le=this.__data__,ht=pe(Le,Ue);return!(ht<0||(ht==Le.length-1?Le.pop():Fe.call(Le,ht,1),--this.size,0))}},4779:(xe,at,de)=>{var pe=de(4056);xe.exports=function V(Fe){var Oe=this.__data__,Ue=pe(Oe,Fe);return Ue<0?void 0:Oe[Ue][1]}},1509:(xe,at,de)=>{var pe=de(4056);xe.exports=function V(Fe){return pe(this.__data__,Fe)>-1}},7137:(xe,at,de)=>{var pe=de(4056);xe.exports=function V(Fe,Oe){var Ue=this.__data__,Le=pe(Ue,Fe);return Le<0?(++this.size,Ue.push([Fe,Oe])):Ue[Le][1]=Oe,this}},3413:(xe,at,de)=>{var pe=de(9618),V=de(3597),Fe=de(1136);xe.exports=function Oe(){this.size=0,this.__data__={hash:new pe,map:new(Fe||V),string:new pe}}},5419:(xe,at,de)=>{var pe=de(4113);xe.exports=function V(Fe){var Oe=pe(this,Fe).delete(Fe);return this.size-=Oe?1:0,Oe}},7336:(xe,at,de)=>{var pe=de(4113);xe.exports=function V(Fe){return pe(this,Fe).get(Fe)}},1115:(xe,at,de)=>{var pe=de(4113);xe.exports=function V(Fe){return pe(this,Fe).has(Fe)}},6648:(xe,at,de)=>{var pe=de(4113);xe.exports=function V(Fe,Oe){var Ue=pe(this,Fe),Le=Ue.size;return Ue.set(Fe,Oe),this.size+=Ue.size==Le?0:1,this}},7371:(xe,at,de)=>{var pe=de(7659);xe.exports=function Fe(Oe){var Ue=pe(Oe,function(ht){return 500===Le.size&&Le.clear(),ht}),Le=Ue.cache;return Ue}},893:(xe,at,de)=>{var V=de(8745)(Object,"create");xe.exports=V},9243:xe=>{var de=Object.prototype.toString;xe.exports=function pe(V){return de.call(V)}},8492:(xe,at,de)=>{var pe=de(248),V="object"==typeof self&&self&&self.Object===Object&&self,Fe=pe||V||Function("return this")();xe.exports=Fe},163:(xe,at,de)=>{var pe=de(7371),V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/\\(\\)?/g,Oe=pe(function(Ue){var Le=[];return 46===Ue.charCodeAt(0)&&Le.push(""),Ue.replace(V,function(ht,St,It,kt){Le.push(It?kt.replace(Fe,"$1"):St||ht)}),Le});xe.exports=Oe},8916:(xe,at,de)=>{var pe=de(3423);xe.exports=function Fe(Oe){if("string"==typeof Oe||pe(Oe))return Oe;var Ue=Oe+"";return"0"==Ue&&1/Oe==-1/0?"-0":Ue}},7075:xe=>{var de=Function.prototype.toString;xe.exports=function pe(V){if(null!=V){try{return de.call(V)}catch{}try{return V+""}catch{}}return""}},1781:xe=>{var at=/\s/;xe.exports=function de(pe){for(var V=pe.length;V--&&at.test(pe.charAt(V)););return V}},4430:(xe,at,de)=>{var pe=de(9794),V=de(5533),Fe=de(4282),Ue=Math.max,Le=Math.min;xe.exports=function ht(St,It,kt){var jn,yn,Ar,vr,Zn,Fn,bn=0,tt=!1,pt=!1,Et=!0;if("function"!=typeof St)throw new TypeError("Expected a function");function Rt(lt){var Gn=jn,Pn=yn;return jn=yn=void 0,bn=lt,vr=St.apply(Pn,Gn)}function Mn(lt){var Gn=lt-Fn;return void 0===Fn||Gn>=It||Gn<0||pt&&lt-bn>=Ar}function fr(){var lt=V();if(Mn(lt))return Zi(lt);Zn=setTimeout(fr,function jt(lt){var Mt=It-(lt-Fn);return pt?Le(Mt,Ar-(lt-bn)):Mt}(lt))}function Zi(lt){return Zn=void 0,Et&&jn?Rt(lt):(jn=yn=void 0,vr)}function Nr(){var lt=V(),Gn=Mn(lt);if(jn=arguments,yn=this,Fn=lt,Gn){if(void 0===Zn)return function Ln(lt){return bn=lt,Zn=setTimeout(fr,It),tt?Rt(lt):vr}(Fn);if(pt)return clearTimeout(Zn),Zn=setTimeout(fr,It),Rt(Fn)}return void 0===Zn&&(Zn=setTimeout(fr,It)),vr}return It=Fe(It)||0,pe(kt)&&(tt=!!kt.leading,Ar=(pt="maxWait"in kt)?Ue(Fe(kt.maxWait)||0,It):Ar,Et="trailing"in kt?!!kt.trailing:Et),Nr.cancel=function Yo(){void 0!==Zn&&clearTimeout(Zn),bn=0,jn=Fn=yn=Zn=void 0},Nr.flush=function To(){return void 0===Zn?vr:Zi(V())},Nr}},7826:xe=>{xe.exports=function at(de,pe){return de===pe||de!=de&&pe!=pe}},5440:(xe,at,de)=>{var pe=de(2202);xe.exports=function V(Fe,Oe,Ue){var Le=null==Fe?void 0:pe(Fe,Oe);return void 0===Le?Ue:Le}},2261:xe=>{xe.exports=Array.isArray},6861:(xe,at,de)=>{var pe=de(4590),V=de(9794);xe.exports=function ht(St){if(!V(St))return!1;var It=pe(St);return"[object Function]"==It||"[object GeneratorFunction]"==It||"[object AsyncFunction]"==It||"[object Proxy]"==It}},9794:xe=>{xe.exports=function at(de){var pe=typeof de;return null!=de&&("object"==pe||"function"==pe)}},3714:xe=>{xe.exports=function at(de){return null!=de&&"object"==typeof de}},3423:(xe,at,de)=>{var pe=de(4590),V=de(3714);xe.exports=function Oe(Ue){return"symbol"==typeof Ue||V(Ue)&&"[object Symbol]"==pe(Ue)}},6990:function(xe,at,de){var pe;xe=de.nmd(xe),function(){var V,Le="Expected a function",St="__lodash_hash_undefined__",kt="__lodash_placeholder__",Mt=1/0,ra=9007199254740991,Io=4294967295,Qf=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ar="[object Arguments]",hr="[object Array]",sn="[object Boolean]",_l="[object Date]",lu="[object Error]",Cd="[object Function]",uu="[object GeneratorFunction]",Ao="[object Map]",wl="[object Number]",ia="[object Object]",Xr="[object Promise]",cu="[object RegExp]",us="[object Set]",El="[object String]",xd="[object Symbol]",Dl="[object WeakMap]",$t="[object ArrayBuffer]",du="[object DataView]",Rs="[object Float32Array]",Sd="[object Float64Array]",Jf="[object Int8Array]",Md="[object Int16Array]",eh="[object Int32Array]",Td="[object Uint8Array]",Id="[object Uint8ClampedArray]",dc="[object Uint16Array]",Ad="[object Uint32Array]",iv=/\b__p \+= '';/g,kd=/\b(__p \+=) '' \+/g,oa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cl=/&(?:amp|lt|gt|quot|#39);/g,th=/[&<>"']/g,Rd=RegExp(Cl.source),Pd=RegExp(th.source),fu=/<%-([\s\S]+?)%>/g,hu=/<%([\s\S]+?)%>/g,nh=/<%=([\s\S]+?)%>/g,sa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Od=/^\w*$/,Zp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ps=/[\\^$.*+?()[\]{}|]/g,rh=RegExp(Ps.source),Nd=/^\s+/,Fi=/\s/,ov=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sv=/\{\n\/\* \[wrapped with (.+)\] \*/,ih=/,? & /,Yp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fc=/[()=,{}\[\]\/\s]/,Qp=/\\(\\)?/g,oh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yn=/\w*$/,Xp=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,pu=/^\[object .+?Constructor\]$/,Jr=/^0o[0-7]+$/i,D0=/^(?:0|[1-9]\d*)$/,Jp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hc=/($^)/,Fd=/['\n\r\u2028\u2029\\]/g,zr="\\ud800-\\udfff",ko="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",aa="\\u2700-\\u27bf",tg="a-z\\xdf-\\xf6\\xf8-\\xff",pc="A-Z\\xc0-\\xd6\\xd8-\\xde",Hr="\\ufe0e\\ufe0f",la="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gt="["+zr+"]",ah="["+la+"]",mu="["+ko+"]",go="\\d+",rg="["+aa+"]",ig="["+tg+"]",Jn="[^"+zr+la+go+aa+tg+pc+"]",vu="\\ud83c[\\udffb-\\udfff]",Ld="[^"+zr+"]",gc="(?:\\ud83c[\\udde6-\\uddff]){2}",er="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+pc+"]",mc="(?:"+ig+"|"+Jn+")",vc="(?:"+qt+"|"+Jn+")",lh="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Te="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",yc="(?:"+mu+"|"+vu+")?",an="["+Hr+"]?",uh=an+yc+"(?:\\u200d(?:"+[Ld,gc,er].join("|")+")"+an+yc+")*",ua="(?:"+[rg,gc,er].join("|")+")"+uh,ti="(?:"+[Ld+mu+"?",mu,gc,er,Gt].join("|")+")",C0=RegExp("['\u2019]","g"),hi=RegExp(mu,"g"),Sl=RegExp(vu+"(?="+vu+")|"+ti+uh,"g"),Ml=RegExp([qt+"?"+ig+"+"+lh+"(?="+[ah,qt,"$"].join("|")+")",vc+"+"+Te+"(?="+[ah,qt+mc,"$"].join("|")+")",qt+"?"+mc+"+"+lh,qt+"+"+Te,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",go,ua].join("|"),"g"),Vd=RegExp("[\\u200d"+zr+ko+Hr+"]"),Ro=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,x0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],S0=-1,Er={};Er[Rs]=Er[Sd]=Er[Jf]=Er[Md]=Er[eh]=Er[Td]=Er[Id]=Er[dc]=Er[Ad]=!0,Er[ar]=Er[hr]=Er[$t]=Er[sn]=Er[du]=Er[_l]=Er[lu]=Er[Cd]=Er[Ao]=Er[wl]=Er[ia]=Er[cu]=Er[us]=Er[El]=Er[Dl]=!1;var yr={};yr[ar]=yr[hr]=yr[$t]=yr[du]=yr[sn]=yr[_l]=yr[Rs]=yr[Sd]=yr[Jf]=yr[Md]=yr[eh]=yr[Ao]=yr[wl]=yr[ia]=yr[cu]=yr[us]=yr[El]=yr[xd]=yr[Td]=yr[Id]=yr[dc]=yr[Ad]=!0,yr[lu]=yr[Cd]=yr[Dl]=!1;var Qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sg=parseFloat,bc=parseInt,uv="object"==typeof global&&global&&global.Object===Object&&global,Ct="object"==typeof self&&self&&self.Object===Object&&self,Ei=uv||Ct||Function("return this")(),qr=at&&!at.nodeType&&at,Ga=qr&&xe&&!xe.nodeType&&xe,ag=Ga&&Ga.exports===qr,$d=ag&&uv.process,Xo=function(){try{return Ga&&Ga.require&&Ga.require("util").types||$d&&$d.binding&&$d.binding("util")}catch{}}(),_c=Xo&&Xo.isArrayBuffer,pi=Xo&&Xo.isDate,Jo=Xo&&Xo.isMap,dh=Xo&&Xo.isRegExp,wc=Xo&&Xo.isSet,vn=Xo&&Xo.isTypedArray;function Xi(he,$e,Se){switch(Se.length){case 0:return he.call($e);case 1:return he.call($e,Se[0]);case 2:return he.call($e,Se[0],Se[1]);case 3:return he.call($e,Se[0],Se[1],Se[2])}return he.apply($e,Se)}function qa(he,$e,Se,yt){for(var cn=-1,qn=null==he?0:he.length;++cn<qn;){var ni=he[cn];$e(yt,ni,Se(ni),he)}return yt}function ir(he,$e){for(var Se=-1,yt=null==he?0:he.length;++Se<yt&&!1!==$e(he[Se],Se,he););return he}function zd(he,$e){for(var Se=null==he?0:he.length;Se--&&!1!==$e(he[Se],Se,he););return he}function Wa(he,$e){for(var Se=-1,yt=null==he?0:he.length;++Se<yt;)if(!$e(he[Se],Se,he))return!1;return!0}function Tn(he,$e){for(var Se=-1,yt=null==he?0:he.length,cn=0,qn=[];++Se<yt;){var ni=he[Se];$e(ni,Se,he)&&(qn[cn++]=ni)}return qn}function fh(he,$e){return!(null==he||!he.length)&&bu(he,$e,0)>-1}function Ec(he,$e,Se){for(var yt=-1,cn=null==he?0:he.length;++yt<cn;)if(Se($e,he[yt]))return!0;return!1}function _n(he,$e){for(var Se=-1,yt=null==he?0:he.length,cn=Array(yt);++Se<yt;)cn[Se]=$e(he[Se],Se,he);return cn}function cs(he,$e){for(var Se=-1,yt=$e.length,cn=he.length;++Se<yt;)he[cn+Se]=$e[Se];return he}function yu(he,$e,Se,yt){var cn=-1,qn=null==he?0:he.length;for(yt&&qn&&(Se=he[++cn]);++cn<qn;)Se=$e(Se,he[cn],cn,he);return Se}function ca(he,$e,Se,yt){var cn=null==he?0:he.length;for(yt&&cn&&(Se=he[--cn]);cn--;)Se=$e(Se,he[cn],cn,he);return Se}function Hd(he,$e){for(var Se=-1,yt=null==he?0:he.length;++Se<yt;)if($e(he[Se],Se,he))return!0;return!1}var Dc=ph("length");function cv(he,$e,Se){var yt;return Se(he,function(cn,qn,ni){if($e(cn,qn,ni))return yt=qn,!1}),yt}function hh(he,$e,Se,yt){for(var cn=he.length,qn=Se+(yt?1:-1);yt?qn--:++qn<cn;)if($e(he[qn],qn,he))return qn;return-1}function bu(he,$e,Se){return $e==$e?function ds(he,$e,Se){for(var yt=Se-1,cn=he.length;++yt<cn;)if(he[yt]===$e)return yt;return-1}(he,$e,Se):hh(he,Cc,Se)}function Ns(he,$e,Se,yt){for(var cn=Se-1,qn=he.length;++cn<qn;)if(yt(he[cn],$e))return cn;return-1}function Cc(he){return he!=he}function Fs(he,$e){var Se=null==he?0:he.length;return Se?Ka(he,$e)/Se:NaN}function ph(he){return function($e){return null==$e?V:$e[he]}}function xc(he){return function($e){return null==he?V:he[$e]}}function ug(he,$e,Se,yt,cn){return cn(he,function(qn,ni,pr){Se=yt?(yt=!1,qn):$e(Se,qn,ni,pr)}),Se}function Ka(he,$e){for(var Se,yt=-1,cn=he.length;++yt<cn;){var qn=$e(he[yt]);qn!==V&&(Se=Se===V?qn:Se+qn)}return Se}function gh(he,$e){for(var Se=-1,yt=Array(he);++Se<he;)yt[Se]=$e(Se);return yt}function dg(he){return he&&he.slice(0,Tc(he)+1).replace(Nd,"")}function Ke(he){return function($e){return he($e)}}function Ud(he,$e){return _n($e,function(Se){return he[Se]})}function ct(he,$e){return he.has($e)}function Sc(he,$e){for(var Se=-1,yt=he.length;++Se<yt&&bu($e,he[Se],0)>-1;);return Se}function jd(he,$e){for(var Se=he.length;Se--&&bu($e,he[Se],0)>-1;);return Se}var fg=xc({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),dv=xc({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function fv(he){return"\\"+Qt[he]}function Bs(he){return Vd.test(he)}function On(he){var $e=-1,Se=Array(he.size);return he.forEach(function(yt,cn){Se[++$e]=[cn,yt]}),Se}function fa(he,$e){return function(Se){return he($e(Se))}}function Ji(he,$e){for(var Se=-1,yt=he.length,cn=0,qn=[];++Se<yt;){var ni=he[Se];(ni===$e||ni===kt)&&(he[Se]=kt,qn[cn++]=Se)}return qn}function ha(he){var $e=-1,Se=Array(he.size);return he.forEach(function(yt){Se[++$e]=yt}),Se}function pa(he){return Bs(he)?function gg(he){for(var $e=Sl.lastIndex=0;Sl.test(he);)++$e;return $e}(he):Dc(he)}function Oo(he){return Bs(he)?function Ic(he){return he.match(Sl)||[]}(he):function M0(he){return he.split("")}(he)}function Tc(he){for(var $e=he.length;$e--&&Fi.test(he.charAt($e)););return $e}var pg=xc({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Gd=function he($e){var d,Se=($e=null==$e?Ei:Gd.defaults(Ei.Object(),$e,Gd.pick(Ei,x0))).Array,yt=$e.Date,cn=$e.Error,qn=$e.Function,ni=$e.Math,pr=$e.Object,yh=$e.RegExp,mg=$e.String,Li=$e.TypeError,qd=Se.prototype,Tl=pr.prototype,ga=$e["__core-js_shared__"],Wd=qn.prototype.toString,or=Tl.hasOwnProperty,pv=0,ri=(d=/[^.]+$/.exec(ga&&ga.keys&&ga.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",Kd=Tl.toString,bh=Wd.call(pr),Lt=Ei._,eo=yh("^"+Wd.call(or).replace(Ps,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),In=ag?$e.Buffer:V,Sr=$e.Symbol,gi=$e.Uint8Array,$s=In?In.allocUnsafe:V,Bi=fa(pr.getPrototypeOf,pr),_u=pr.create,_h=Tl.propertyIsEnumerable,Ya=qd.splice,wh=Sr?Sr.isConcatSpreadable:V,wu=Sr?Sr.iterator:V,sr=Sr?Sr.toStringTag:V,dt=function(){try{var d=ys(pr,"defineProperty");return d({},"",{}),d}catch{}}(),hn=$e.clearTimeout!==Ei.clearTimeout&&$e.clearTimeout,Dr=yt&&yt.now!==Ei.Date.now&&yt.now,es=$e.setTimeout!==Ei.setTimeout&&$e.setTimeout,ma=ni.ceil,ii=ni.floor,No=pr.getOwnPropertySymbols,kr=In?In.isBuffer:V,to=$e.isFinite,Eu=qd.join,dn=fa(pr.keys,pr),Rr=ni.max,ln=ni.min,Du=yt.now,Mr=$e.parseInt,Dn=ni.random,Bn=qd.reverse,bt=ys($e,"DataView"),fs=ys($e,"Map"),Zd=ys($e,"Promise"),Fo=ys($e,"Set"),Lo=ys($e,"WeakMap"),mo=ys(pr,"create"),no=Lo&&new Lo,pn={},T0=Ia(bt),Eh=Ia(fs),vg=Ia(Zd),zs=Ia(Fo),Yd=Ia(Lo),Hs=Sr?Sr.prototype:V,va=Hs?Hs.valueOf:V,mi=Hs?Hs.toString:V;function z(d){if(fe(d)&&!W(d)&&!(d instanceof gn)){if(d instanceof Cn)return d;if(or.call(d,"__wrapped__"))return jl(d)}return new Cn(d)}var oi=function(){function d(){}return function(v){if(!be(v))return{};if(_u)return _u(v);d.prototype=v;var D=new d;return d.prototype=V,D}}();function En(){}function Cn(d,v){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=V}function gn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Io,this.__views__=[]}function vo(d){var v=-1,D=null==d?0:d.length;for(this.clear();++v<D;){var k=d[v];this.set(k[0],k[1])}}function ya(d){var v=-1,D=null==d?0:d.length;for(this.clear();++v<D;){var k=d[v];this.set(k[0],k[1])}}function js(d){var v=-1,D=null==d?0:d.length;for(this.clear();++v<D;){var k=d[v];this.set(k[0],k[1])}}function Xa(d){var v=-1,D=null==d?0:d.length;for(this.__data__=new js;++v<D;)this.add(d[v])}function Ur(d){var v=this.__data__=new ya(d);this.size=v.size}function Rc(d,v){var D=W(d),k=!D&&j(d),B=!D&&!k&&ce(d),G=!D&&!k&&!B&&on(d),re=D||k||B||G,ue=re?gh(d.length,mg):[],me=ue.length;for(var Ge in d)(v||or.call(d,Ge))&&(!re||!("length"==Ge||B&&("offset"==Ge||"parent"==Ge)||G&&("buffer"==Ge||"byteLength"==Ge||"byteOffset"==Ge)||bs(Ge,me)))&&ue.push(Ge);return ue}function Bo(d){var v=d.length;return v?d[zc(0,v-1)]:V}function Mh(d,v){return _s(zi(d),Ja(v,0,d.length))}function Th(d){return _s(zi(d))}function Pc(d,v,D){(D!==V&&!X(d[v],D)||D===V&&!(v in d))&&bo(d,v,D)}function qs(d,v,D){var k=d[v];(!or.call(d,v)||!X(k,D)||D===V&&!(v in d))&&bo(d,v,D)}function Al(d,v){for(var D=d.length;D--;)if(X(d[D][0],v))return D;return-1}function Ih(d,v,D,k){return Pl(d,function(B,G,re){v(k,B,D(B),re)}),k}function ef(d,v){return d&&Si(v,di(v),d)}function bo(d,v,D){"__proto__"==v&&dt?dt(d,v,{configurable:!0,enumerable:!0,value:D,writable:!0}):d[v]=D}function Oc(d,v){for(var D=-1,k=v.length,B=Se(k),G=null==d;++D<k;)B[D]=G?V:as(d,v[D]);return B}function Ja(d,v,D){return d==d&&(D!==V&&(d=d<=D?d:D),v!==V&&(d=d>=v?d:v)),d}function ro(d,v,D,k,B,G){var re,ue=1&v,me=2&v,Ge=4&v;if(D&&(re=B?D(d,k,B,G):D(d)),re!==V)return re;if(!be(d))return d;var qe=W(d);if(qe){if(re=function yf(d){var v=d.length,D=new d.constructor(v);return v&&"string"==typeof d[0]&&or.call(d,"index")&&(D.index=d.index,D.input=d.input),D}(d),!ue)return zi(d,re)}else{var nt=Yr(d),_t=nt==Cd||nt==uu;if(ce(d))return Zr(d,ue);if(nt==ia||nt==ar||_t&&!B){if(re=me||_t?{}:Ho(d),!ue)return me?function Uc(d,v){return Si(d,qc(d),v)}(d,function kl(d,v){return d&&Si(v,qi(v),d)}(re,d)):function Vl(d,v){return Si(d,$l(d),v)}(d,ef(re,d))}else{if(!yr[nt])return B?d:{};re=function qh(d,v,D){var k=d.constructor;switch(v){case $t:return zo(d);case sn:case _l:return new k(+d);case du:return function ms(d,v){var D=v?zo(d.buffer):d.buffer;return new d.constructor(D,d.byteOffset,d.byteLength)}(d,D);case Rs:case Sd:case Jf:case Md:case eh:case Td:case Id:case dc:case Ad:return vi(d,D);case Ao:return new k;case wl:case El:return new k(d);case cu:return function Ca(d){var v=new d.constructor(d.source,Yn.exec(d));return v.lastIndex=d.lastIndex,v}(d);case us:return new k;case xd:return function vs(d){return va?pr(va.call(d)):{}}(d)}}(d,nt,ue)}}G||(G=new Ur);var Ft=G.get(d);if(Ft)return Ft;G.set(d,re),Vt(d)?d.forEach(function(nn){re.add(ro(nn,v,D,nn,d,G))}):Ne(d)&&d.forEach(function(nn,xn){re.set(xn,ro(nn,v,D,xn,d,G))});var An=qe?V:(Ge?me?Bu:Ig:me?qi:di)(d);return ir(An||d,function(nn,xn){An&&(nn=d[xn=nn]),qs(re,xn,ro(nn,v,D,xn,d,G))}),re}function Rl(d,v,D){var k=D.length;if(null==d)return!k;for(d=pr(d);k--;){var B=D[k],re=d[B];if(re===V&&!(B in d)||!(0,v[B])(re))return!1}return!0}function Ah(d,v,D){if("function"!=typeof d)throw new Li(Le);return Ta(function(){d.apply(V,D)},v)}function tf(d,v,D,k){var B=-1,G=fh,re=!0,ue=d.length,me=[],Ge=v.length;if(!ue)return me;D&&(v=_n(v,Ke(D))),k?(G=Ec,re=!1):v.length>=200&&(G=ct,re=!1,v=new Xa(v));e:for(;++B<ue;){var qe=d[B],nt=null==D?qe:D(qe);if(qe=k||0!==qe?qe:0,re&&nt==nt){for(var _t=Ge;_t--;)if(v[_t]===nt)continue e;me.push(qe)}else G(v,nt,k)||me.push(qe)}return me}z.templateSettings={escape:fu,evaluate:hu,interpolate:nh,variable:"",imports:{_:z}},(z.prototype=En.prototype).constructor=z,(Cn.prototype=oi(En.prototype)).constructor=Cn,(gn.prototype=oi(En.prototype)).constructor=gn,vo.prototype.clear=function Qa(){this.__data__=mo?mo(null):{},this.size=0},vo.prototype.delete=function ps(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v},vo.prototype.get=function Cu(d){var v=this.__data__;if(mo){var D=v[d];return D===St?V:D}return or.call(v,d)?v[d]:V},vo.prototype.has=function Dh(d){var v=this.__data__;return mo?v[d]!==V:or.call(v,d)},vo.prototype.set=function gv(d,v){var D=this.__data__;return this.size+=this.has(d)?0:1,D[d]=mo&&v===V?St:v,this},ya.prototype.clear=function I0(){this.__data__=[],this.size=0},ya.prototype.delete=function Xd(d){var v=this.__data__,D=Al(v,d);return!(D<0||(D==v.length-1?v.pop():Ya.call(v,D,1),--this.size,0))},ya.prototype.get=function mv(d){var v=this.__data__,D=Al(v,d);return D<0?V:v[D][1]},ya.prototype.has=function A0(d){return Al(this.__data__,d)>-1},ya.prototype.set=function Ch(d,v){var D=this.__data__,k=Al(D,d);return k<0?(++this.size,D.push([d,v])):D[k][1]=v,this},js.prototype.clear=function Ac(){this.size=0,this.__data__={hash:new vo,map:new(fs||ya),string:new vo}},js.prototype.delete=function Gs(d){var v=Gh(this,d).delete(d);return this.size-=v?1:0,v},js.prototype.get=function vv(d){return Gh(this,d).get(d)},js.prototype.has=function yv(d){return Gh(this,d).has(d)},js.prototype.set=function xh(d,v){var D=Gh(this,d),k=D.size;return D.set(d,v),this.size+=D.size==k?0:1,this},Xa.prototype.add=Xa.prototype.push=function kc(d){return this.__data__.set(d,St),this},Xa.prototype.has=function Il(d){return this.__data__.has(d)},Ur.prototype.clear=function Di(){this.__data__=new ya,this.size=0},Ur.prototype.delete=function yo(d){var v=this.__data__,D=v.delete(d);return this.size=v.size,D},Ur.prototype.get=function Jd(d){return this.__data__.get(d)},Ur.prototype.has=function Sh(d){return this.__data__.has(d)},Ur.prototype.set=function si(d,v){var D=this.__data__;if(D instanceof ya){var k=D.__data__;if(!fs||k.length<199)return k.push([d,v]),this.size=++D.size,this;D=this.__data__=new js(k)}return D.set(d,v),this.size=D.size,this};var Pl=$h(ts),bv=$h(Rh,!0);function _v(d,v){var D=!0;return Pl(d,function(k,B,G){return D=!!v(k,B,G)}),D}function Fc(d,v,D){for(var k=-1,B=d.length;++k<B;){var G=d[k],re=v(G);if(null!=re&&(ue===V?re==re&&!fn(re):D(re,ue)))var ue=re,me=G}return me}function kh(d,v){var D=[];return Pl(d,function(k,B,G){v(k,B,G)&&D.push(k)}),D}function ai(d,v,D,k,B){var G=-1,re=d.length;for(D||(D=Hi),B||(B=[]);++G<re;){var ue=d[G];v>0&&D(ue)?v>1?ai(ue,v-1,D,k,B):cs(B,ue):k||(B[B.length]=ue)}return B}var nf=il(),el=il(!0);function ts(d,v){return d&&nf(d,v,di)}function Rh(d,v){return d&&el(d,v,di)}function rf(d,v){return Tn(v,function(D){return Ae(d[D])})}function ba(d,v){for(var D=0,k=(v=$o(v,d)).length;null!=d&&D<k;)d=d[Tr(v[D++])];return D&&D==k?d:V}function sf(d,v,D){var k=v(d);return W(d)?k:cs(k,D(d))}function io(d){return null==d?d===V?"[object Undefined]":"[object Null]":sr&&sr in pr(d)?function kg(d){var v=or.call(d,sr),D=d[sr];try{d[sr]=V;var k=!0}catch{}var B=Kd.call(d);return k&&(v?d[sr]=D:delete d[sr]),B}(d):function Kh(d){return Kd.call(d)}(d)}function xu(d,v){return d>v}function tl(d,v){return null!=d&&or.call(d,v)}function Ph(d,v){return null!=d&&v in pr(d)}function af(d,v,D){for(var k=D?Ec:fh,B=d[0].length,G=d.length,re=G,ue=Se(G),me=1/0,Ge=[];re--;){var qe=d[re];re&&v&&(qe=_n(qe,Ke(v))),me=ln(qe.length,me),ue[re]=!D&&(v||B>=120&&qe.length>=120)?new Xa(re&&qe):V}qe=d[0];var nt=-1,_t=ue[0];e:for(;++nt<B&&Ge.length<me;){var Ft=qe[nt],en=v?v(Ft):Ft;if(Ft=D||0!==Ft?Ft:0,!(_t?ct(_t,en):k(Ge,en,D))){for(re=G;--re;){var An=ue[re];if(!(An?ct(An,en):k(d[re],en,D)))continue e}_t&&_t.push(en),Ge.push(Ft)}}return Ge}function Ol(d,v,D){var k=null==(d=Rg(d,v=$o(v,d)))?d:d[Tr(Ir(v))];return null==k?V:Xi(k,d,D)}function Oh(d){return fe(d)&&io(d)==ar}function Lc(d,v,D,k,B){return d===v||(null==d||null==v||!fe(d)&&!fe(v)?d!=d&&v!=v:function bg(d,v,D,k,B,G){var re=W(d),ue=W(v),me=re?hr:Yr(d),Ge=ue?hr:Yr(v),qe=(me=me==ar?ia:me)==ia,nt=(Ge=Ge==ar?ia:Ge)==ia,_t=me==Ge;if(_t&&ce(d)){if(!ce(v))return!1;re=!0,qe=!1}if(_t&&!qe)return G||(G=new Ur),re||on(d)?Tg(d,v,D,k,B,G):function Lu(d,v,D,k,B,G,re){switch(D){case du:if(d.byteLength!=v.byteLength||d.byteOffset!=v.byteOffset)return!1;d=d.buffer,v=v.buffer;case $t:return!(d.byteLength!=v.byteLength||!G(new gi(d),new gi(v)));case sn:case _l:case wl:return X(+d,+v);case lu:return d.name==v.name&&d.message==v.message;case cu:case El:return d==v+"";case Ao:var ue=On;case us:if(ue||(ue=ha),d.size!=v.size&&!(1&k))return!1;var Ge=re.get(d);if(Ge)return Ge==v;k|=2,re.set(d,v);var qe=Tg(ue(d),ue(v),k,B,G,re);return re.delete(d),qe;case xd:if(va)return va.call(d)==va.call(v)}return!1}(d,v,me,D,k,B,G);if(!(1&D)){var Ft=qe&&or.call(d,"__wrapped__"),en=nt&&or.call(v,"__wrapped__");if(Ft||en){var An=Ft?d.value():d,nn=en?v.value():v;return G||(G=new Ur),B(An,nn,D,k,G)}}return!!_t&&(G||(G=new Ur),function jc(d,v,D,k,B,G){var re=1&D,ue=Ig(d),me=ue.length;if(me!=Ig(v).length&&!re)return!1;for(var nt=me;nt--;){var _t=ue[nt];if(!(re?_t in v:or.call(v,_t)))return!1}var Ft=G.get(d),en=G.get(v);if(Ft&&en)return Ft==v&&en==d;var An=!0;G.set(d,v),G.set(v,d);for(var nn=re;++nt<me;){var xn=d[_t=ue[nt]],Hn=v[_t];if(k)var Wi=re?k(Hn,xn,_t,v,d,G):k(xn,Hn,_t,d,v,G);if(!(Wi===V?xn===Hn||B(xn,Hn,D,k,G):Wi)){An=!1;break}nn||(nn="constructor"==_t)}if(An&&!nn){var Un=d.constructor,Cs=v.constructor;Un!=Cs&&"constructor"in d&&"constructor"in v&&!("function"==typeof Un&&Un instanceof Un&&"function"==typeof Cs&&Cs instanceof Cs)&&(An=!1)}return G.delete(d),G.delete(v),An}(d,v,D,k,B,G))}(d,v,D,k,Lc,B))}function lf(d,v,D,k){var B=D.length,G=B,re=!k;if(null==d)return!G;for(d=pr(d);B--;){var ue=D[B];if(re&&ue[2]?ue[1]!==d[ue[0]]:!(ue[0]in d))return!1}for(;++B<G;){var me=(ue=D[B])[0],Ge=d[me],qe=ue[1];if(re&&ue[2]){if(Ge===V&&!(me in d))return!1}else{var nt=new Ur;if(k)var _t=k(Ge,qe,me,d,v,nt);if(!(_t===V?Lc(qe,Ge,3,k,nt):_t))return!1}}return!0}function _g(d){return!(!be(d)||function zu(d){return!!ri&&ri in d}(d))&&(Ae(d)?eo:pu).test(Ia(d))}function Mu(d){return"function"==typeof d?d:null==d?xo:"object"==typeof d?W(d)?Eg(d[0],d[1]):oo(d):gw(d)}function Wr(d){if(!jo(d))return dn(d);var v=[];for(var D in pr(d))or.call(d,D)&&"constructor"!=D&&v.push(D);return v}function Nl(d,v){return d<v}function Ws(d,v){var D=-1,k=K(d)?Se(d.length):[];return Pl(d,function(B,G,re){k[++D]=v(B,G,re)}),k}function oo(d){var v=$u(d);return 1==v.length&&v[0][2]?Hu(v[0][0],v[0][1]):function(D){return D===d||lf(D,d,v)}}function Eg(d,v){return Uo(d)&&Kc(v)?Hu(Tr(d),v):function(D){var k=as(D,d);return k===V&&k===v?Gr(D,d):Lc(v,k,3)}}function Vc(d,v,D,k,B){d!==v&&nf(v,function(G,re){if(B||(B=new Ur),be(G))!function Tu(d,v,D,k,B,G,re){var ue=Zh(d,D),me=Zh(v,D),Ge=re.get(me);if(Ge)Pc(d,D,Ge);else{var qe=G?G(ue,me,D+"",d,v,re):V,nt=qe===V;if(nt){var _t=W(me),Ft=!_t&&ce(me),en=!_t&&!Ft&&on(me);qe=me,_t||Ft||en?W(ue)?qe=ue:ie(ue)?qe=zi(ue):Ft?(nt=!1,qe=Zr(me,!0)):en?(nt=!1,qe=vi(me,!0)):qe=[]:xt(me)||j(me)?(qe=ue,j(ue)?qe=Jt(ue):(!be(ue)||Ae(ue))&&(qe=Ho(me))):nt=!1}nt&&(re.set(me,qe),B(qe,me,k,G,re),re.delete(me)),Pc(d,D,qe)}}(d,v,re,D,Vc,k,B);else{var ue=k?k(Zh(d,re),G,re+"",d,v,B):V;ue===V&&(ue=G),Pc(d,re,ue)}},qi)}function jr(d,v){var D=d.length;if(D)return bs(v+=v<0?D:0,D)?d[v]:V}function Nh(d,v,D){v=v.length?_n(v,function(G){return W(G)?function(re){return ba(re,1===G.length?G[0]:G)}:G}):[xo];var k=-1;return v=_n(v,Ke(Wt())),function cg(he,$e){var Se=he.length;for(he.sort($e);Se--;)he[Se]=he[Se].value;return he}(Ws(d,function(G,re,ue){return{criteria:_n(v,function(Ge){return Ge(G)}),index:++k,value:G}}),function(G,re){return function $i(d,v,D){for(var k=-1,B=d.criteria,G=v.criteria,re=B.length,ue=D.length;++k<re;){var me=Ru(B[k],G[k]);if(me)return k>=ue?me:me*("desc"==D[k]?-1:1)}return d.index-v.index}(G,re,D)})}function Ci(d,v,D){for(var k=-1,B=v.length,G={};++k<B;){var re=v[k],ue=ba(d,re);D(ue,re)&&uf(G,$o(re,d),ue)}return G}function $c(d,v,D,k){var B=k?Ns:bu,G=-1,re=v.length,ue=d;for(d===v&&(v=zi(v)),D&&(ue=_n(d,Ke(D)));++G<re;)for(var me=0,Ge=v[G],qe=D?D(Ge):Ge;(me=B(ue,qe,me,k))>-1;)ue!==d&&Ya.call(ue,me,1),Ya.call(d,me,1);return d}function Fh(d,v){for(var D=d?v.length:0,k=D-1;D--;){var B=v[D];if(D==k||B!==G){var G=B;bs(B)?Ya.call(d,B,1):kn(d,B)}}return d}function zc(d,v){return d+ii(Dn()*(v-d+1))}function Hc(d,v){var D="";if(!d||v<1||v>ra)return D;do{v%2&&(D+=d),(v=ii(v/2))&&(d+=d)}while(v);return D}function zt(d,v){return yi(Hl(d,v,xo),d+"")}function Dt(d){return Bo(Wl(d))}function Dg(d,v){var D=Wl(d);return _s(D,Ja(v,0,D.length))}function uf(d,v,D,k){if(!be(d))return d;for(var B=-1,G=(v=$o(v,d)).length,re=G-1,ue=d;null!=ue&&++B<G;){var me=Tr(v[B]),Ge=D;if("__proto__"===me||"constructor"===me||"prototype"===me)return d;if(B!=re){var qe=ue[me];(Ge=k?k(qe,me,ue):V)===V&&(Ge=be(qe)?qe:bs(v[B+1])?[]:{})}qs(ue,me,Ge),ue=ue[me]}return d}var Cg=no?function(d,v){return no.set(d,v),d}:xo,br=dt?function(d,v){return dt(d,"toString",{configurable:!0,enumerable:!1,value:vp(v),writable:!0})}:xo;function cf(d){return _s(Wl(d))}function wo(d,v,D){var k=-1,B=d.length;v<0&&(v=-v>B?0:B+v),(D=D>B?B:D)<0&&(D+=B),B=v>D?0:D-v>>>0,v>>>=0;for(var G=Se(B);++k<B;)G[k]=d[k+v];return G}function Fl(d,v){var D;return Pl(d,function(k,B,G){return!(D=v(k,B,G))}),!!D}function wa(d,v,D){var k=0,B=null==d?k:d.length;if("number"==typeof v&&v==v&&B<=2147483647){for(;k<B;){var G=k+B>>>1,re=d[G];null!==re&&!fn(re)&&(D?re<=v:re<v)?k=G+1:B=G}return B}return Bh(d,v,xo,D)}function Bh(d,v,D,k){var B=0,G=null==d?0:d.length;if(0===G)return 0;for(var re=(v=D(v))!=v,ue=null===v,me=fn(v),Ge=v===V;B<G;){var qe=ii((B+G)/2),nt=D(d[qe]),_t=nt!==V,Ft=null===nt,en=nt==nt,An=fn(nt);if(re)var nn=k||en;else nn=Ge?en&&(k||_t):ue?en&&_t&&(k||!Ft):me?en&&_t&&!Ft&&(k||!An):!Ft&&!An&&(k?nt<=v:nt<v);nn?B=qe+1:G=qe}return ln(G,4294967294)}function Au(d,v){for(var D=-1,k=d.length,B=0,G=[];++D<k;){var re=d[D],ue=v?v(re):re;if(!D||!X(ue,me)){var me=ue;G[B++]=0===re?0:re}}return G}function xg(d){return"number"==typeof d?d:fn(d)?NaN:+d}function Eo(d){if("string"==typeof d)return d;if(W(d))return _n(d,Eo)+"";if(fn(d))return mi?mi.call(d):"";var v=d+"";return"0"==v&&1/d==-Mt?"-0":v}function je(d,v,D){var k=-1,B=fh,G=d.length,re=!0,ue=[],me=ue;if(D)re=!1,B=Ec;else if(G>=200){var Ge=v?null:gf(d);if(Ge)return ha(Ge);re=!1,B=ct,me=new Xa}else me=v?[]:ue;e:for(;++k<G;){var qe=d[k],nt=v?v(qe):qe;if(qe=D||0!==qe?qe:0,re&&nt==nt){for(var _t=me.length;_t--;)if(me[_t]===nt)continue e;v&&me.push(nt),ue.push(qe)}else B(me,nt,D)||(me!==ue&&me.push(nt),ue.push(qe))}return ue}function kn(d,v){return null==(d=Rg(d,v=$o(v,d)))||delete d[Tr(Ir(v))]}function Ea(d,v,D,k){return uf(d,v,D(ba(d,v)),k)}function Da(d,v,D,k){for(var B=d.length,G=k?B:-1;(k?G--:++G<B)&&v(d[G],G,d););return D?wo(d,k?0:G,k?G+1:B):wo(d,k?G+1:0,k?B:G)}function Kr(d,v){var D=d;return D instanceof gn&&(D=D.value()),yu(v,function(k,B){return B.func.apply(B.thisArg,cs([k],B.args))},D)}function Ll(d,v,D){var k=d.length;if(k<2)return k?je(d[0]):[];for(var B=-1,G=Se(k);++B<k;)for(var re=d[B],ue=-1;++ue<k;)ue!=B&&(G[B]=tf(G[B]||re,d[ue],v,D));return je(ai(G,1),v,D)}function ku(d,v,D){for(var k=-1,B=d.length,G=v.length,re={};++k<B;)D(re,d[k],k<G?v[k]:V);return re}function ns(d){return ie(d)?d:[]}function Bl(d){return"function"==typeof d?d:xo}function $o(d,v){return W(d)?d:Uo(d,v)?[d]:Ul(ot(d))}var Vi=zt;function gs(d,v,D){var k=d.length;return D=D===V?k:D,!v&&D>=k?d:wo(d,v,D)}var Vh=hn||function(d){return Ei.clearTimeout(d)};function Zr(d,v){if(v)return d.slice();var D=d.length,k=$s?$s(D):new d.constructor(D);return d.copy(k),k}function zo(d){var v=new d.constructor(d.byteLength);return new gi(v).set(new gi(d)),v}function vi(d,v){var D=v?zo(d.buffer):d.buffer;return new d.constructor(D,d.byteOffset,d.length)}function Ru(d,v){if(d!==v){var D=d!==V,k=null===d,B=d==d,G=fn(d),re=v!==V,ue=null===v,me=v==v,Ge=fn(v);if(!ue&&!Ge&&!G&&d>v||G&&re&&me&&!ue&&!Ge||k&&re&&me||!D&&me||!B)return 1;if(!k&&!G&&!Ge&&d<v||Ge&&D&&B&&!k&&!G||ue&&D&&B||!re&&B||!me)return-1}return 0}function xi(d,v,D,k){for(var B=-1,G=d.length,re=D.length,ue=-1,me=v.length,Ge=Rr(G-re,0),qe=Se(me+Ge),nt=!k;++ue<me;)qe[ue]=v[ue];for(;++B<re;)(nt||B<G)&&(qe[D[B]]=d[B]);for(;Ge--;)qe[ue++]=d[B++];return qe}function df(d,v,D,k){for(var B=-1,G=d.length,re=-1,ue=D.length,me=-1,Ge=v.length,qe=Rr(G-ue,0),nt=Se(qe+Ge),_t=!k;++B<qe;)nt[B]=d[B];for(var Ft=B;++me<Ge;)nt[Ft+me]=v[me];for(;++re<ue;)(_t||B<G)&&(nt[Ft+D[re]]=d[B++]);return nt}function zi(d,v){var D=-1,k=d.length;for(v||(v=Se(k));++D<k;)v[D]=d[D];return v}function Si(d,v,D,k){var B=!D;D||(D={});for(var G=-1,re=v.length;++G<re;){var ue=v[G],me=k?k(D[ue],d[ue],ue,D,d):V;me===V&&(me=d[ue]),B?bo(D,ue,me):qs(D,ue,me)}return D}function nl(d,v){return function(D,k){var B=W(D)?qa:Ih,G=v?v():{};return B(D,d,Wt(k,2),G)}}function rl(d){return zt(function(v,D){var k=-1,B=D.length,G=B>1?D[B-1]:V,re=B>2?D[2]:V;for(G=d.length>3&&"function"==typeof G?(B--,G):V,re&&li(D[0],D[1],re)&&(G=B<3?V:G,B=1),v=pr(v);++k<B;){var ue=D[k];ue&&d(v,ue,k,G)}return v})}function $h(d,v){return function(D,k){if(null==D)return D;if(!K(D))return d(D,k);for(var B=D.length,G=v?B:-1,re=pr(D);(v?G--:++G<B)&&!1!==k(re[G],G,re););return D}}function il(d){return function(v,D,k){for(var B=-1,G=pr(v),re=k(v),ue=re.length;ue--;){var me=re[d?ue:++B];if(!1===D(G[me],me,G))break}return v}}function ff(d){return function(v){var D=Bs(v=ot(v))?Oo(v):V,k=D?D[0]:v.charAt(0),B=D?gs(D,1).join(""):v.slice(1);return k[d]()+B}}function ol(d){return function(v){return yu(Qu(z0(v).replace(C0,"")),d,"")}}function Pu(d){return function(){var v=arguments;switch(v.length){case 0:return new d;case 1:return new d(v[0]);case 2:return new d(v[0],v[1]);case 3:return new d(v[0],v[1],v[2]);case 4:return new d(v[0],v[1],v[2],v[3]);case 5:return new d(v[0],v[1],v[2],v[3],v[4]);case 6:return new d(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new d(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var D=oi(d.prototype),k=d.apply(D,v);return be(k)?k:D}}function Mi(d){return function(v,D,k){var B=pr(v);if(!K(v)){var G=Wt(D,3);v=di(v),D=function(ue){return G(B[ue],ue,B)}}var re=d(v,D,k);return re>-1?B[G?v[re]:re]:V}}function Ks(d){return Sa(function(v){var D=v.length,k=D,B=Cn.prototype.thru;for(d&&v.reverse();k--;){var G=v[k];if("function"!=typeof G)throw new Li(Le);if(B&&!re&&"wrapper"==Gc(G))var re=new Cn([],!0)}for(k=re?k:D;++k<D;){var ue=Gc(G=v[k]),me="wrapper"==ue?Ag(G):V;re=me&&is(me[0])&&424==me[1]&&!me[4].length&&1==me[9]?re[Gc(me[0])].apply(re,me[3]):1==G.length&&is(G)?re[ue]():re.thru(G)}return function(){var Ge=arguments,qe=Ge[0];if(re&&1==Ge.length&&W(qe))return re.plant(qe).value();for(var nt=0,_t=D?v[nt].apply(this,Ge):qe;++nt<D;)_t=v[nt].call(this,_t);return _t}})}function _r(d,v,D,k,B,G,re,ue,me,Ge){var qe=128&v,nt=1&v,_t=2&v,Ft=24&v,en=512&v,An=_t?V:Pu(d);return function nn(){for(var xn=arguments.length,Hn=Se(xn),Wi=xn;Wi--;)Hn[Wi]=arguments[Wi];if(Ft)var Un=Vu(nn),Cs=function Mc(he,$e){for(var Se=he.length,yt=0;Se--;)he[Se]===$e&&++yt;return yt}(Hn,Un);if(k&&(Hn=xi(Hn,k,B,Ft)),G&&(Hn=df(Hn,G,re,Ft)),xn-=Cs,Ft&&xn<Ge){var Pr=Ji(Hn,Un);return xa(d,v,_r,nn.placeholder,D,Hn,Pr,ue,me,Ge-xn)}var ki=nt?D:this,Kl=_t?ki[d]:d;return xn=Hn.length,ue?Hn=function Ui(d,v){for(var D=d.length,k=ln(v.length,D),B=zi(d);k--;){var G=v[k];d[k]=bs(G,D)?B[G]:V}return d}(Hn,ue):en&&xn>1&&Hn.reverse(),qe&&me<xn&&(Hn.length=me),this&&this!==Ei&&this instanceof nn&&(Kl=An||Pu(Kl)),Kl.apply(ki,Hn)}}function Ou(d,v){return function(D,k){return function wv(d,v,D,k){return ts(d,function(B,G,re){v(k,D(B),G,re)}),k}(D,d,v(k),{})}}function hf(d,v){return function(D,k){var B;if(D===V&&k===V)return v;if(D!==V&&(B=D),k!==V){if(B===V)return k;"string"==typeof D||"string"==typeof k?(D=Eo(D),k=Eo(k)):(D=xg(D),k=xg(k)),B=d(D,k)}return B}}function Hh(d){return Sa(function(v){return v=_n(v,Ke(Wt())),zt(function(D){var k=this;return d(v,function(B){return Xi(B,k,D)})})})}function pf(d,v){var D=(v=v===V?" ":Eo(v)).length;if(D<2)return D?Hc(v,d):v;var k=Hc(v,ma(d/pa(v)));return Bs(v)?gs(Oo(k),0,d).join(""):k.slice(0,d)}function Uh(d){return function(v,D,k){return k&&"number"!=typeof k&&li(v,D,k)&&(D=k=V),v=Me(v),D===V?(D=v,v=0):D=Me(D),function Lh(d,v,D,k){for(var B=-1,G=Rr(ma((v-d)/(D||1)),0),re=Se(G);G--;)re[k?G:++B]=d,d+=D;return re}(v,D,k=k===V?v<D?1:-1:Me(k),d)}}function sl(d){return function(v,D){return"string"==typeof v&&"string"==typeof D||(v=Ye(v),D=Ye(D)),d(v,D)}}function xa(d,v,D,k,B,G,re,ue,me,Ge){var qe=8&v;v|=qe?32:64,4&(v&=~(qe?64:32))||(v&=-4);var An=[d,v,B,qe?G:V,qe?re:V,qe?V:G,qe?V:re,ue,me,Ge],nn=D.apply(V,An);return is(d)&&ui(nn,An),nn.placeholder=k,_f(nn,d,v)}function jh(d){var v=ni[d];return function(D,k){if(D=Ye(D),(k=null==k?0:ln(Be(k),292))&&to(D)){var B=(ot(D)+"e").split("e");return+((B=(ot(v(B[0]+"e"+(+B[1]+k)))+"e").split("e"))[0]+"e"+(+B[1]-k))}return v(D)}}var gf=Fo&&1/ha(new Fo([,-0]))[1]==Mt?function(d){return new Fo(d)}:yp;function Nu(d){return function(v){var D=Yr(v);return D==Ao?On(v):D==us?function hg(he){var $e=-1,Se=Array(he.size);return he.forEach(function(yt){Se[++$e]=[yt,yt]}),Se}(v):function da(he,$e){return _n($e,function(Se){return[Se,he[Se]]})}(v,d(v))}}function rs(d,v,D,k,B,G,re,ue){var me=2&v;if(!me&&"function"!=typeof d)throw new Li(Le);var Ge=k?k.length:0;if(Ge||(v&=-97,k=B=V),re=re===V?re:Rr(Be(re),0),ue=ue===V?ue:Be(ue),Ge-=B?B.length:0,64&v){var qe=k,nt=B;k=B=V}var _t=me?V:Ag(d),Ft=[d,v,D,k,B,qe,nt,G,re,ue];if(_t&&function Wh(d,v){var D=d[1],k=v[1],B=D|k;if(!(B<131)&&!(128==k&&8==D||128==k&&256==D&&d[7].length<=v[8]||384==k&&v[7].length<=v[8]&&8==D))return d;1&k&&(d[2]=v[2],B|=1&D?0:4);var ue=v[3];if(ue){var me=d[3];d[3]=me?xi(me,ue,v[4]):ue,d[4]=me?Ji(d[3],kt):v[4]}(ue=v[5])&&(d[5]=(me=d[5])?df(me,ue,v[6]):ue,d[6]=me?Ji(d[5],kt):v[6]),(ue=v[7])&&(d[7]=ue),128&k&&(d[8]=null==d[8]?v[8]:ln(d[8],v[8])),null==d[9]&&(d[9]=v[9]),d[0]=v[0],d[1]=B}(Ft,_t),d=Ft[0],v=Ft[1],D=Ft[2],k=Ft[3],B=Ft[4],!(ue=Ft[9]=Ft[9]===V?me?0:d.length:Rr(Ft[9]-Ge,0))&&24&v&&(v&=-25),v&&1!=v)en=8==v||16==v?function Ev(d,v,D){var k=Pu(d);return function B(){for(var G=arguments.length,re=Se(G),ue=G,me=Vu(B);ue--;)re[ue]=arguments[ue];var Ge=G<3&&re[0]!==me&&re[G-1]!==me?[]:Ji(re,me);return(G-=Ge.length)<D?xa(d,v,_r,B.placeholder,V,re,Ge,V,V,D-G):Xi(this&&this!==Ei&&this instanceof B?k:d,this,re)}}(d,v,ue):32!=v&&33!=v||B.length?_r.apply(V,Ft):function Sg(d,v,D,k){var B=1&v,G=Pu(d);return function re(){for(var ue=-1,me=arguments.length,Ge=-1,qe=k.length,nt=Se(qe+me),_t=this&&this!==Ei&&this instanceof re?G:d;++Ge<qe;)nt[Ge]=k[Ge];for(;me--;)nt[Ge++]=arguments[++ue];return Xi(_t,B?D:this,nt)}}(d,v,D,k);else var en=function zh(d,v,D){var k=1&v,B=Pu(d);return function G(){return(this&&this!==Ei&&this instanceof G?B:d).apply(k?D:this,arguments)}}(d,v,D);return _f((_t?Cg:ui)(en,Ft),d,v)}function mf(d,v,D,k){return d===V||X(d,Tl[D])&&!or.call(k,D)?v:d}function Fu(d,v,D,k,B,G){return be(d)&&be(v)&&(G.set(v,d),Vc(d,v,V,Fu,G),G.delete(v)),d}function Mg(d){return xt(d)?V:d}function Tg(d,v,D,k,B,G){var re=1&D,ue=d.length,me=v.length;if(ue!=me&&!(re&&me>ue))return!1;var Ge=G.get(d),qe=G.get(v);if(Ge&&qe)return Ge==v&&qe==d;var nt=-1,_t=!0,Ft=2&D?new Xa:V;for(G.set(d,v),G.set(v,d);++nt<ue;){var en=d[nt],An=v[nt];if(k)var nn=re?k(An,en,nt,v,d,G):k(en,An,nt,d,v,G);if(nn!==V){if(nn)continue;_t=!1;break}if(Ft){if(!Hd(v,function(xn,Hn){if(!ct(Ft,Hn)&&(en===xn||B(en,xn,D,k,G)))return Ft.push(Hn)})){_t=!1;break}}else if(en!==An&&!B(en,An,D,k,G)){_t=!1;break}}return G.delete(d),G.delete(v),_t}function Sa(d){return yi(Hl(d,V,ws),d+"")}function Ig(d){return sf(d,di,$l)}function Bu(d){return sf(d,qi,qc)}var Ag=no?function(d){return no.get(d)}:yp;function Gc(d){for(var v=d.name+"",D=pn[v],k=or.call(pn,v)?D.length:0;k--;){var B=D[k],G=B.func;if(null==G||G==d)return B.name}return v}function Vu(d){return(or.call(z,"placeholder")?z:d).placeholder}function Wt(){var d=z.iteratee||Xv;return d=d===Xv?Mu:d,arguments.length?d(arguments[0],arguments[1]):d}function Gh(d,v){var D=d.__data__;return function Wc(d){var v=typeof d;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==d:null===d}(v)?D["string"==typeof v?"string":"hash"]:D.map}function $u(d){for(var v=di(d),D=v.length;D--;){var k=v[D],B=d[k];v[D]=[k,B,Kc(B)]}return v}function ys(d,v){var D=function Ls(he,$e){return null==he?V:he[$e]}(d,v);return _g(D)?D:V}var $l=No?function(d){return null==d?[]:(d=pr(d),Tn(No(d),function(v){return _h.call(d,v)}))}:J0,qc=No?function(d){for(var v=[];d;)cs(v,$l(d)),d=Bi(d);return v}:J0,Yr=io;function Ma(d,v,D){for(var k=-1,B=(v=$o(v,d)).length,G=!1;++k<B;){var re=Tr(v[k]);if(!(G=null!=d&&D(d,re)))break;d=d[re]}return G||++k!=B?G:!!(B=null==d?0:d.length)&&We(B)&&bs(re,B)&&(W(d)||j(d))}function Ho(d){return"function"!=typeof d.constructor||jo(d)?{}:oi(Bi(d))}function Hi(d){return W(d)||j(d)||!!(wh&&d&&d[wh])}function bs(d,v){var D=typeof d;return!!(v=v??ra)&&("number"==D||"symbol"!=D&&D0.test(d))&&d>-1&&d%1==0&&d<v}function li(d,v,D){if(!be(D))return!1;var k=typeof v;return!!("number"==k?K(D)&&bs(v,D.length):"string"==k&&v in D)&&X(D[v],d)}function Uo(d,v){if(W(d))return!1;var D=typeof d;return!("number"!=D&&"symbol"!=D&&"boolean"!=D&&null!=d&&!fn(d))||Od.test(d)||!sa.test(d)||null!=v&&d in pr(v)}function is(d){var v=Gc(d),D=z[v];if("function"!=typeof D||!(v in gn.prototype))return!1;if(d===D)return!0;var k=Ag(D);return!!k&&d===k[0]}(bt&&Yr(new bt(new ArrayBuffer(1)))!=du||fs&&Yr(new fs)!=Ao||Zd&&Yr(Zd.resolve())!=Xr||Fo&&Yr(new Fo)!=us||Lo&&Yr(new Lo)!=Dl)&&(Yr=function(d){var v=io(d),D=v==ia?d.constructor:V,k=D?Ia(D):"";if(k)switch(k){case T0:return du;case Eh:return Ao;case vg:return Xr;case zs:return us;case Yd:return Dl}return v});var zl=ga?Ae:eb;function jo(d){var v=d&&d.constructor;return d===("function"==typeof v&&v.prototype||Tl)}function Kc(d){return d==d&&!be(d)}function Hu(d,v){return function(D){return null!=D&&D[d]===v&&(v!==V||d in pr(D))}}function Hl(d,v,D){return v=Rr(v===V?d.length-1:v,0),function(){for(var k=arguments,B=-1,G=Rr(k.length-v,0),re=Se(G);++B<G;)re[B]=k[v+B];B=-1;for(var ue=Se(v+1);++B<v;)ue[B]=k[B];return ue[v]=D(re),Xi(d,this,ue)}}function Rg(d,v){return v.length<2?d:ba(d,wo(v,0,-1))}function Zh(d,v){if(("constructor"!==v||"function"!=typeof d[v])&&"__proto__"!=v)return d[v]}var ui=Zs(Cg),Ta=es||function(d,v){return Ei.setTimeout(d,v)},yi=Zs(br);function _f(d,v,D){var k=v+"";return yi(d,function so(d,v){var D=v.length;if(!D)return d;var k=D-1;return v[k]=(D>1?"& ":"")+v[k],v=v.join(D>2?", ":" "),d.replace(ov,"{\n/* [wrapped with "+v+"] */\n")}(k,function wf(d,v){return ir(Qf,function(D){var k="_."+D[0];v&D[1]&&!fh(d,k)&&d.push(k)}),d.sort()}(function vf(d){var v=d.match(sv);return v?v[1].split(ih):[]}(k),D)))}function Zs(d){var v=0,D=0;return function(){var k=Du(),B=16-(k-D);if(D=k,B>0){if(++v>=800)return arguments[0]}else v=0;return d.apply(V,arguments)}}function _s(d,v){var D=-1,k=d.length,B=k-1;for(v=v===V?k:v;++D<v;){var G=zc(D,B),re=d[G];d[G]=d[D],d[D]=re}return d.length=v,d}var Ul=function al(d){var v=f(d,function(k){return 500===D.size&&D.clear(),k}),D=v.cache;return v}(function(d){var v=[];return 46===d.charCodeAt(0)&&v.push(""),d.replace(Zp,function(D,k,B,G){v.push(B?G.replace(Qp,"$1"):k||D)}),v});function Tr(d){if("string"==typeof d||fn(d))return d;var v=d+"";return"0"==v&&1/d==-Mt?"-0":v}function Ia(d){if(null!=d){try{return Wd.call(d)}catch{}try{return d+""}catch{}}return""}function jl(d){if(d instanceof gn)return d.clone();var v=new Cn(d.__wrapped__,d.__chain__);return v.__actions__=zi(d.__actions__),v.__index__=d.__index__,v.__values__=d.__values__,v}var Yh=zt(function(d,v){return ie(d)?tf(d,ai(v,1,ie,!0)):[]}),Qh=zt(function(d,v){var D=Ir(v);return ie(D)&&(D=V),ie(d)?tf(d,ai(v,1,ie,!0),Wt(D,2)):[]}),Sv=zt(function(d,v){var D=Ir(v);return ie(D)&&(D=V),ie(d)?tf(d,ai(v,1,ie,!0),V,D):[]});function Qr(d,v,D){var k=null==d?0:d.length;if(!k)return-1;var B=null==D?0:Be(D);return B<0&&(B=Rr(k+B,0)),hh(d,Wt(v,3),B)}function Xh(d,v,D){var k=null==d?0:d.length;if(!k)return-1;var B=k-1;return D!==V&&(B=Be(D),B=D<0?Rr(k+B,0):ln(B,k-1)),hh(d,Wt(v,3),B,!0)}function ws(d){return null!=d&&d.length?ai(d,1):[]}function Ef(d){return d&&d.length?d[0]:V}var ep=zt(function(d){var v=_n(d,ns);return v.length&&v[0]===d[0]?af(v):[]}),R0=zt(function(d){var v=Ir(d),D=_n(d,ns);return v===Ir(D)?v=V:D.pop(),D.length&&D[0]===d[0]?af(D,Wt(v,2)):[]}),Tv=zt(function(d){var v=Ir(d),D=_n(d,ns);return(v="function"==typeof v?v:V)&&D.pop(),D.length&&D[0]===d[0]?af(D,V,v):[]});function Ir(d){var v=null==d?0:d.length;return v?d[v-1]:V}var O0=zt(np);function np(d,v){return d&&d.length&&v&&v.length?$c(d,v):d}var kv=Sa(function(d,v){var D=null==d?0:d.length,k=Oc(d,v);return Fh(d,_n(v,function(B){return bs(B,D)?+B:B}).sort(Ru)),k});function rp(d){return null==d?d:Bn.call(d)}var Gu=zt(function(d){return je(ai(d,1,ie,!0))}),Xc=zt(function(d){var v=Ir(d);return ie(v)&&(v=V),je(ai(d,1,ie,!0),Wt(v,2))}),Lg=zt(function(d){var v=Ir(d);return v="function"==typeof v?v:V,je(ai(d,1,ie,!0),V,v)});function bi(d){if(!d||!d.length)return[];var v=0;return d=Tn(d,function(D){if(ie(D))return v=Rr(D.length,v),!0}),gh(v,function(D){return _n(d,ph(D))})}function op(d,v){if(!d||!d.length)return[];var D=bi(d);return null==v?D:_n(D,function(k){return Xi(v,V,k)})}var Lv=zt(function(d,v){return ie(d)?tf(d,v):[]}),$g=zt(function(d){return Ll(Tn(d,ie))}),Jc=zt(function(d){var v=Ir(d);return ie(v)&&(v=V),Ll(Tn(d,ie),Wt(v,2))}),zg=zt(function(d){var v=Ir(d);return v="function"==typeof v?v:V,Ll(Tn(d,ie),V,v)}),Bv=zt(bi),Hg=zt(function(d){var v=d.length,D=v>1?d[v-1]:V;return D="function"==typeof D?(d.pop(),D):V,op(d,D)});function Ys(d){var v=z(d);return v.__chain__=!0,v}function Sf(d,v){return v(d)}var ap=Sa(function(d){var v=d.length,D=v?d[0]:0,k=this.__wrapped__,B=function(G){return Oc(G,d)};return!(v>1||this.__actions__.length)&&k instanceof gn&&bs(D)?((k=k.slice(D,+D+(v?1:0))).__actions__.push({func:Sf,args:[B],thisArg:V}),new Cn(k,this.__chain__).thru(function(G){return v&&!G.length&&G.push(V),G})):this.thru(B)}),jg=nl(function(d,v,D){or.call(d,D)?++d[D]:bo(d,D,1)}),ji=Mi(Qr),Gg=Mi(Xh);function nd(d,v){return(W(d)?ir:Pl)(d,Wt(v,3))}function rd(d,v){return(W(d)?zd:bv)(d,Wt(v,3))}var id=nl(function(d,v,D){or.call(d,D)?d[D].push(v):bo(d,D,[v])}),os=zt(function(d,v,D){var k=-1,B="function"==typeof v,G=K(d)?Se(d.length):[];return Pl(d,function(re){G[++k]=B?Xi(v,re,D):Ol(re,v,D)}),G}),zv=nl(function(d,v,D){bo(d,D,v)});function od(d,v){return(W(d)?_n:Ws)(d,Wt(v,3))}var up=nl(function(d,v,D){d[D?0:1].push(v)},function(){return[[],[]]}),Mf=zt(function(d,v){if(null==d)return[];var D=v.length;return D>1&&li(d,v[0],v[1])?v=[]:D>2&&li(v[0],v[1],v[2])&&(v=[v[0]]),Nh(d,ai(v,1),[])}),Ku=Dr||function(){return Ei.Date.now()};function Ti(d,v,D){return v=D?V:v,rs(d,128,V,V,V,V,v=d&&null==v?d.length:v)}function fl(d,v){var D;if("function"!=typeof v)throw new Li(Le);return d=Be(d),function(){return--d>0&&(D=v.apply(this,arguments)),d<=1&&(v=V),D}}var sd=zt(function(d,v,D){var k=1;if(D.length){var B=Ji(D,Vu(sd));k|=32}return rs(d,k,v,D,B)}),Ra=zt(function(d,v,D){var k=3;if(D.length){var B=Ji(D,Vu(Ra));k|=32}return rs(v,k,d,D,B)});function a(d,v,D){var k,B,G,re,ue,me,Ge=0,qe=!1,nt=!1,_t=!0;if("function"!=typeof d)throw new Li(Le);function Ft(Pr){var ki=k,Kl=B;return k=B=V,Ge=Pr,re=d.apply(Kl,ki)}function nn(Pr){var ki=Pr-me;return me===V||ki>=v||ki<0||nt&&Pr-Ge>=G}function xn(){var Pr=Ku();if(nn(Pr))return Hn(Pr);ue=Ta(xn,function An(Pr){var nb=v-(Pr-me);return nt?ln(nb,G-(Pr-Ge)):nb}(Pr))}function Hn(Pr){return ue=V,_t&&k?Ft(Pr):(k=B=V,re)}function Cs(){var Pr=Ku(),ki=nn(Pr);if(k=arguments,B=this,me=Pr,ki){if(ue===V)return function en(Pr){return Ge=Pr,ue=Ta(xn,v),qe?Ft(Pr):re}(me);if(nt)return Vh(ue),ue=Ta(xn,v),Ft(me)}return ue===V&&(ue=Ta(xn,v)),re}return v=Ye(v)||0,be(D)&&(qe=!!D.leading,G=(nt="maxWait"in D)?Rr(Ye(D.maxWait)||0,v):G,_t="trailing"in D?!!D.trailing:_t),Cs.cancel=function Wi(){ue!==V&&Vh(ue),Ge=0,k=me=B=ue=V},Cs.flush=function Un(){return ue===V?re:Hn(Ku())},Cs}var o=zt(function(d,v){return Ah(d,1,v)}),l=zt(function(d,v,D){return Ah(d,Ye(v)||0,D)});function f(d,v){if("function"!=typeof d||null!=v&&"function"!=typeof v)throw new Li(Le);var D=function(){var k=arguments,B=v?v.apply(this,k):k[0],G=D.cache;if(G.has(B))return G.get(B);var re=d.apply(this,k);return D.cache=G.set(B,re)||G,re};return D.cache=new(f.Cache||js),D}function p(d){if("function"!=typeof d)throw new Li(Le);return function(){var v=arguments;switch(v.length){case 0:return!d.call(this);case 1:return!d.call(this,v[0]);case 2:return!d.call(this,v[0],v[1]);case 3:return!d.call(this,v[0],v[1],v[2])}return!d.apply(this,v)}}f.Cache=js;var y=Vi(function(d,v){var D=(v=1==v.length&&W(v[0])?_n(v[0],Ke(Wt())):_n(ai(v,1),Ke(Wt()))).length;return zt(function(k){for(var B=-1,G=ln(k.length,D);++B<G;)k[B]=v[B].call(this,k[B]);return Xi(d,this,k)})}),_=zt(function(d,v){var D=Ji(v,Vu(_));return rs(d,32,V,v,D)}),b=zt(function(d,v){var D=Ji(v,Vu(b));return rs(d,64,V,v,D)}),w=Sa(function(d,v){return rs(d,256,V,V,V,v)});function X(d,v){return d===v||d!=d&&v!=v}var U=sl(xu),te=sl(function(d,v){return d>=v}),j=Oh(function(){return arguments}())?Oh:function(d){return fe(d)&&or.call(d,"callee")&&!_h.call(d,"callee")},W=Se.isArray,J=_c?Ke(_c):function _o(d){return fe(d)&&io(d)==$t};function K(d){return null!=d&&We(d.length)&&!Ae(d)}function ie(d){return fe(d)&&K(d)}var ce=kr||eb,se=pi?Ke(pi):function Vn(d){return fe(d)&&io(d)==_l};function _e(d){if(!fe(d))return!1;var v=io(d);return v==lu||"[object DOMException]"==v||"string"==typeof d.message&&"string"==typeof d.name&&!xt(d)}function Ae(d){if(!be(d))return!1;var v=io(d);return v==Cd||v==uu||"[object AsyncFunction]"==v||"[object Proxy]"==v}function Xe(d){return"number"==typeof d&&d==Be(d)}function We(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=ra}function be(d){var v=typeof d;return null!=d&&("object"==v||"function"==v)}function fe(d){return null!=d&&"object"==typeof d}var Ne=Jo?Ke(Jo):function Bc(d){return fe(d)&&Yr(d)==Ao};function mt(d){return"number"==typeof d||fe(d)&&io(d)==wl}function xt(d){if(!fe(d)||io(d)!=ia)return!1;var v=Bi(d);if(null===v)return!0;var D=or.call(v,"constructor")&&v.constructor;return"function"==typeof D&&D instanceof D&&Wd.call(D)==bh}var At=dh?Ke(dh):function Su(d){return fe(d)&&io(d)==cu},Vt=wc?Ke(wc):function wg(d){return fe(d)&&Yr(d)==us};function $n(d){return"string"==typeof d||!W(d)&&fe(d)&&io(d)==El}function fn(d){return"symbol"==typeof d||fe(d)&&io(d)==xd}var on=vn?Ke(vn):function Vo(d){return fe(d)&&We(d.length)&&!!Er[io(d)]},De=sl(Nl),He=sl(function(d,v){return d<=v});function ke(d){if(!d)return[];if(K(d))return $n(d)?Oo(d):zi(d);if(wu&&d[wu])return function Vs(he){for(var $e,Se=[];!($e=he.next()).done;)Se.push($e.value);return Se}(d[wu]());var v=Yr(d);return(v==Ao?On:v==us?ha:Wl)(d)}function Me(d){return d?(d=Ye(d))===Mt||d===-Mt?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function Be(d){var v=Me(d),D=v%1;return v==v?D?v-D:v:0}function Pe(d){return d?Ja(Be(d),0,Io):0}function Ye(d){if("number"==typeof d)return d;if(fn(d))return NaN;if(be(d)){var v="function"==typeof d.valueOf?d.valueOf():d;d=be(v)?v+"":v}if("string"!=typeof d)return 0===d?d:+d;d=dg(d);var D=rn.test(d);return D||Jr.test(d)?bc(d.slice(2),D?2:8):Xp.test(d)?NaN:+d}function Jt(d){return Si(d,qi(d))}function ot(d){return null==d?"":Eo(d)}var tn=rl(function(d,v){if(jo(v)||K(v))Si(v,di(v),d);else for(var D in v)or.call(v,D)&&qs(d,D,v[D])}),Tt=rl(function(d,v){Si(v,qi(v),d)}),Nt=rl(function(d,v,D,k){Si(v,qi(v),d,k)}),Cr=rl(function(d,v,D,k){Si(v,di(v),d,k)}),ur=Sa(Oc),Ii=zt(function(d,v){d=pr(d);var D=-1,k=v.length,B=k>2?v[2]:V;for(B&&li(v[0],v[1],B)&&(k=1);++D<k;)for(var G=v[D],re=qi(G),ue=-1,me=re.length;++ue<me;){var Ge=re[ue],qe=d[Ge];(qe===V||X(qe,Tl[Ge])&&!or.call(d,Ge))&&(d[Ge]=G[Ge])}return d}),ci=zt(function(d){return d.push(V,Fu),Xi(fp,V,d)});function as(d,v,D){var k=null==d?V:ba(d,v);return k===V?D:k}function Gr(d,v){return null!=d&&Ma(d,v,Ph)}var Gi=Ou(function(d,v,D){null!=v&&"function"!=typeof v.toString&&(v=Kd.call(v)),d[v]=D},vp(xo)),Zu=Ou(function(d,v,D){null!=v&&"function"!=typeof v.toString&&(v=Kd.call(v)),or.call(d,v)?d[v].push(D):d[v]=[D]},Wt),Qs=zt(Ol);function di(d){return K(d)?Rc(d):Wr(d)}function qi(d){return K(d)?Rc(d,!0):function lr(d){if(!be(d))return function bf(d){var v=[];if(null!=d)for(var D in pr(d))v.push(D);return v}(d);var v=jo(d),D=[];for(var k in d)"constructor"==k&&(v||!or.call(d,k))||D.push(k);return D}(d)}var Qg=rl(function(d,v,D){Vc(d,v,D)}),fp=rl(function(d,v,D,k){Vc(d,v,D,k)}),Xg=Sa(function(d,v){var D={};if(null==d)return D;var k=!1;v=_n(v,function(G){return G=$o(G,d),k||(k=G.length>1),G}),Si(d,Bu(d),D),k&&(D=ro(D,7,Mg));for(var B=v.length;B--;)kn(D,v[B]);return D}),Tf=Sa(function(d,v){return null==d?{}:function Iu(d,v){return Ci(d,v,function(D,k){return Gr(d,k)})}(d,v)});function hp(d,v){if(null==d)return{};var D=_n(Bu(d),function(k){return[k]});return v=Wt(v),Ci(d,D,function(k,B){return v(k,B[0])})}var Gv=Nu(di),Wo=Nu(qi);function Wl(d){return null==d?[]:Ud(d,di(d))}var Af=ol(function(d,v,D){return v=v.toLowerCase(),d+(D?$0(v):v)});function $0(d){return nm(ot(d).toLowerCase())}function z0(d){return(d=ot(d))&&d.replace(Jp,fg).replace(hi,"")}var ow=ol(function(d,v,D){return d+(D?"-":"")+v.toLowerCase()}),sw=ol(function(d,v,D){return d+(D?" ":"")+v.toLowerCase()}),aw=ff("toLowerCase"),G0=ol(function(d,v,D){return d+(D?"_":"")+v.toLowerCase()}),Wv=ol(function(d,v,D){return d+(D?" ":"")+nm(v)}),Z0=ol(function(d,v,D){return d+(D?" ":"")+v.toUpperCase()}),nm=ff("toUpperCase");function Qu(d,v,D){return d=ot(d),(v=D?V:v)===V?function Po(he){return Ro.test(he)}(d)?function mh(he){return he.match(Ml)||[]}(d):function lg(he){return he.match(Yp)||[]}(d):d.match(v)||[]}var Y0=zt(function(d,v){try{return Xi(d,V,v)}catch(D){return _e(D)?D:new cn(D)}}),Qv=Sa(function(d,v){return ir(v,function(D){D=Tr(D),bo(d,D,sd(d[D],d))}),d});function vp(d){return function(){return d}}var Ds=Ks(),om=Ks(!0);function xo(d){return d}function Xv(d){return Mu("function"==typeof d?d:ro(d,1))}var kf=zt(function(d,v){return function(D){return Ol(D,d,v)}}),fw=zt(function(d,v){return function(D){return Ol(d,D,v)}});function Jv(d,v,D){var k=di(v),B=rf(v,k);null==D&&(!be(v)||!B.length&&k.length)&&(D=v,v=d,d=this,B=rf(v,di(v)));var G=!(be(D)&&"chain"in D&&!D.chain),re=Ae(d);return ir(B,function(ue){var me=v[ue];d[ue]=me,re&&(d.prototype[ue]=function(){var Ge=this.__chain__;if(G||Ge){var qe=d(this.__wrapped__);return(qe.__actions__=zi(this.__actions__)).push({func:me,args:arguments,thisArg:d}),qe.__chain__=Ge,qe}return me.apply(d,cs([this.value()],arguments))})}),d}function yp(){}var pw=Hh(_n),X0=Hh(Wa),Xu=Hh(Hd);function gw(d){return Uo(d)?ph(Tr(d)):function _a(d){return function(v){return ba(v,d)}}(d)}var ey=Uh(),mw=Uh(!0);function J0(){return[]}function eb(){return!1}var iy=hf(function(d,v){return d+v},0),bp=jh("ceil"),lm=hf(function(d,v){return d/v},1),Of=jh("floor"),yw=hf(function(d,v){return d*v},1),tb=jh("round"),bw=hf(function(d,v){return d-v},0);return z.after=function dp(d,v){if("function"!=typeof v)throw new Li(Le);return d=Be(d),function(){if(--d<1)return v.apply(this,arguments)}},z.ary=Ti,z.assign=tn,z.assignIn=Tt,z.assignInWith=Nt,z.assignWith=Cr,z.at=ur,z.before=fl,z.bind=sd,z.bindAll=Qv,z.bindKey=Ra,z.castArray=function R(){if(!arguments.length)return[];var d=arguments[0];return W(d)?d:[d]},z.chain=Ys,z.chunk=function Cv(d,v,D){v=(D?li(d,v,D):v===V)?1:Rr(Be(v),0);var k=null==d?0:d.length;if(!k||v<1)return[];for(var B=0,G=0,re=Se(ma(k/v));B<k;)re[G++]=wo(d,B,B+=v);return re},z.compact=function Pg(d){for(var v=-1,D=null==d?0:d.length,k=0,B=[];++v<D;){var G=d[v];G&&(B[k++]=G)}return B},z.concat=function xv(){var d=arguments.length;if(!d)return[];for(var v=Se(d-1),D=arguments[0],k=d;k--;)v[k-1]=arguments[k];return cs(W(D)?zi(D):[D],ai(v,1))},z.cond=function rm(d){var v=null==d?0:d.length,D=Wt();return d=v?_n(d,function(k){if("function"!=typeof k[1])throw new Li(Le);return[D(k[0]),k[1]]}):[],zt(function(k){for(var B=-1;++B<v;){var G=d[B];if(Xi(G[0],this,k))return Xi(G[1],this,k)}})},z.conforms=function cw(d){return function Nc(d){var v=di(d);return function(D){return Rl(D,d,v)}}(ro(d,1))},z.constant=vp,z.countBy=jg,z.create=function lo(d,v){var D=oi(d);return null==v?D:ef(D,v)},z.curry=function Yg(d,v,D){var k=rs(d,8,V,V,V,V,V,v=D?V:v);return k.placeholder=Yg.placeholder,k},z.curryRight=function Pa(d,v,D){var k=rs(d,16,V,V,V,V,V,v=D?V:v);return k.placeholder=Pa.placeholder,k},z.debounce=a,z.defaults=Ii,z.defaultsDeep=ci,z.defer=o,z.delay=l,z.difference=Yh,z.differenceBy=Qh,z.differenceWith=Sv,z.drop=function Mv(d,v,D){var k=null==d?0:d.length;return k?wo(d,(v=D||v===V?1:Be(v))<0?0:v,k):[]},z.dropRight=function Zc(d,v,D){var k=null==d?0:d.length;return k?wo(d,0,(v=k-(v=D||v===V?1:Be(v)))<0?0:v):[]},z.dropRightWhile=function Do(d,v){return d&&d.length?Da(d,Wt(v,3),!0,!0):[]},z.dropWhile=function Yc(d,v){return d&&d.length?Da(d,Wt(v,3),!0):[]},z.fill=function Og(d,v,D,k){var B=null==d?0:d.length;return B?(D&&"number"!=typeof D&&li(d,v,D)&&(D=0,k=B),function k0(d,v,D,k){var B=d.length;for((D=Be(D))<0&&(D=-D>B?0:B+D),(k=k===V||k>B?B:Be(k))<0&&(k+=B),k=D>k?0:Pe(k);D<k;)d[D++]=v;return d}(d,v,D,k)):[]},z.filter=function td(d,v){return(W(d)?Tn:kh)(d,Wt(v,3))},z.flatMap=function Aa(d,v){return ai(od(d,v),1)},z.flatMapDeep=function lp(d,v){return ai(od(d,v),Mt)},z.flatMapDepth=function ql(d,v,D){return D=D===V?1:Be(D),ai(od(d,v),D)},z.flatten=ws,z.flattenDeep=function Jh(d){return null!=d&&d.length?ai(d,Mt):[]},z.flattenDepth=function Go(d,v){return null!=d&&d.length?ai(d,v=v===V?1:Be(v)):[]},z.flip=function c(d){return rs(d,512)},z.flow=Ds,z.flowRight=om,z.fromPairs=function Uu(d){for(var v=-1,D=null==d?0:d.length,k={};++v<D;){var B=d[v];k[B[0]]=B[1]}return k},z.functions=function Oa(d){return null==d?[]:rf(d,di(d))},z.functionsIn=function hl(d){return null==d?[]:rf(d,qi(d))},z.groupBy=id,z.initial=function ll(d){return null!=d&&d.length?wo(d,0,-1):[]},z.intersection=ep,z.intersectionBy=R0,z.intersectionWith=Tv,z.invert=Gi,z.invertBy=Zu,z.invokeMap=os,z.iteratee=Xv,z.keyBy=zv,z.keys=di,z.keysIn=qi,z.map=od,z.mapKeys=function Na(d,v){var D={};return v=Wt(v,3),ts(d,function(k,B,G){bo(D,v(k,B,G),k)}),D},z.mapValues=function ad(d,v){var D={};return v=Wt(v,3),ts(d,function(k,B,G){bo(D,B,v(k,B,G))}),D},z.matches=function dw(d){return oo(ro(d,1))},z.matchesProperty=function Q0(d,v){return Eg(d,ro(v,1))},z.memoize=f,z.merge=Qg,z.mergeWith=fp,z.method=kf,z.methodOf=fw,z.mixin=Jv,z.negate=p,z.nthArg=function sm(d){return d=Be(d),zt(function(v){return jr(v,d)})},z.omit=Xg,z.omitBy=function V0(d,v){return hp(d,p(Wt(v)))},z.once=function g(d){return fl(2,d)},z.orderBy=function qg(d,v,D,k){return null==d?[]:(W(v)||(v=null==v?[]:[v]),W(D=k?V:D)||(D=null==D?[]:[D]),Nh(d,v,D))},z.over=pw,z.overArgs=y,z.overEvery=X0,z.overSome=Xu,z.partial=_,z.partialRight=b,z.partition=up,z.pick=Tf,z.pickBy=hp,z.property=gw,z.propertyOf=function Rf(d){return function(v){return null==d?V:ba(d,v)}},z.pull=O0,z.pullAll=np,z.pullAllBy=function Iv(d,v,D){return d&&d.length&&v&&v.length?$c(d,v,Wt(D,2)):d},z.pullAllWith=function Av(d,v,D){return d&&d.length&&v&&v.length?$c(d,v,V,D):d},z.pullAt=kv,z.range=ey,z.rangeRight=mw,z.rearg=w,z.reject=function Wg(d,v){return(W(d)?Tn:kh)(d,p(Wt(v,3)))},z.remove=function Rv(d,v){var D=[];if(!d||!d.length)return D;var k=-1,B=[],G=d.length;for(v=Wt(v,3);++k<G;){var re=d[k];v(re,k,d)&&(D.push(re),B.push(k))}return Fh(d,B),D},z.rest=function C(d,v){if("function"!=typeof d)throw new Li(Le);return zt(d,v=v===V?v:Be(v))},z.reverse=rp,z.sampleSize=function Kg(d,v,D){return v=(D?li(d,v,D):v===V)?1:Be(v),(W(d)?Mh:Dg)(d,v)},z.set=function If(d,v,D){return null==d?d:uf(d,v,D)},z.setWith=function jv(d,v,D,k){return k="function"==typeof k?k:V,null==d?d:uf(d,v,D,k)},z.shuffle=function Uv(d){return(W(d)?Th:cf)(d)},z.slice=function Pv(d,v,D){var k=null==d?0:d.length;return k?(D&&"number"!=typeof D&&li(d,v,D)?(v=0,D=k):(v=null==v?0:Be(v),D=D===V?k:Be(D)),wo(d,v,D)):[]},z.sortBy=Mf,z.sortedUniq=function Cf(d){return d&&d.length?Au(d):[]},z.sortedUniqBy=function Ng(d,v){return d&&d.length?Au(d,Wt(v,2)):[]},z.split=function q0(d,v,D){return D&&"number"!=typeof D&&li(d,v,D)&&(v=D=V),(D=D===V?Io:D>>>0)?(d=ot(d))&&("string"==typeof v||null!=v&&!At(v))&&!(v=Eo(v))&&Bs(d)?gs(Oo(d),0,D):d.split(v,D):[]},z.spread=function S(d,v){if("function"!=typeof d)throw new Li(Le);return v=null==v?0:Rr(Be(v),0),zt(function(D){var k=D[v],B=gs(D,0,v);return k&&cs(B,k),Xi(d,this,B)})},z.tail=function ip(d){var v=null==d?0:d.length;return v?wo(d,1,v):[]},z.take=function xf(d,v,D){return d&&d.length?wo(d,0,(v=D||v===V?1:Be(v))<0?0:v):[]},z.takeRight=function Fg(d,v,D){var k=null==d?0:d.length;return k?wo(d,(v=k-(v=D||v===V?1:Be(v)))<0?0:v,k):[]},z.takeRightWhile=function Nv(d,v){return d&&d.length?Da(d,Wt(v,3),!1,!0):[]},z.takeWhile=function Fv(d,v){return d&&d.length?Da(d,Wt(v,3)):[]},z.tap=function Vv(d,v){return v(d),d},z.throttle=function T(d,v,D){var k=!0,B=!0;if("function"!=typeof d)throw new Li(Le);return be(D)&&(k="leading"in D?!!D.leading:k,B="trailing"in D?!!D.trailing:B),a(d,v,{leading:k,maxWait:v,trailing:B})},z.thru=Sf,z.toArray=ke,z.toPairs=Gv,z.toPairsIn=Wo,z.toPath=function Pf(d){return W(d)?_n(d,Tr):fn(d)?[d]:zi(Ul(ot(d)))},z.toPlainObject=Jt,z.transform=function pp(d,v,D){var k=W(d),B=k||ce(d)||on(d);if(v=Wt(v,4),null==D){var G=d&&d.constructor;D=B?k?new G:[]:be(d)&&Ae(G)?oi(Bi(d)):{}}return(B?ir:ts)(d,function(re,ue,me){return v(D,re,ue,me)}),D},z.unary=function M(d){return Ti(d,1)},z.union=Gu,z.unionBy=Xc,z.unionWith=Lg,z.uniq=function N0(d){return d&&d.length?je(d):[]},z.uniqBy=function Bg(d,v){return d&&d.length?je(d,Wt(v,2)):[]},z.uniqWith=function Vg(d,v){return v="function"==typeof v?v:V,d&&d.length?je(d,V,v):[]},z.unset=function Jg(d,v){return null==d||kn(d,v)},z.unzip=bi,z.unzipWith=op,z.update=function ld(d,v,D){return null==d?d:Ea(d,v,Bl(D))},z.updateWith=function Es(d,v,D,k){return k="function"==typeof k?k:V,null==d?d:Ea(d,v,Bl(D),k)},z.values=Wl,z.valuesIn=function em(d){return null==d?[]:Ud(d,qi(d))},z.without=Lv,z.words=Qu,z.wrap=function P(d,v){return _(Bl(v),d)},z.xor=$g,z.xorBy=Jc,z.xorWith=zg,z.zip=Bv,z.zipObject=function sp(d,v){return ku(d||[],v||[],qs)},z.zipObjectDeep=function F0(d,v){return ku(d||[],v||[],uf)},z.zipWith=Hg,z.entries=Gv,z.entriesIn=Wo,z.extend=Tt,z.extendWith=Nt,Jv(z,z),z.add=iy,z.attempt=Y0,z.camelCase=Af,z.capitalize=$0,z.ceil=bp,z.clamp=function nw(d,v,D){return D===V&&(D=v,v=V),D!==V&&(D=(D=Ye(D))==D?D:0),v!==V&&(v=(v=Ye(v))==v?v:0),Ja(Ye(d),v,D)},z.clone=function N(d){return ro(d,4)},z.cloneDeep=function L(d){return ro(d,5)},z.cloneDeepWith=function H(d,v){return ro(d,5,v="function"==typeof v?v:V)},z.cloneWith=function F(d,v){return ro(d,4,v="function"==typeof v?v:V)},z.conformsTo=function Y(d,v){return null==v||Rl(d,v,di(v))},z.deburr=z0,z.defaultTo=function im(d,v){return null==d||d!=d?v:d},z.divide=lm,z.endsWith=function H0(d,v,D){d=ot(d),v=Eo(v);var k=d.length,B=D=D===V?k:Ja(Be(D),0,k);return(D-=v.length)>=0&&d.slice(D,B)==v},z.eq=X,z.escape=function U0(d){return(d=ot(d))&&Pd.test(d)?d.replace(th,dv):d},z.escapeRegExp=function iw(d){return(d=ot(d))&&rh.test(d)?d.replace(Ps,"\\$&"):d},z.every=function Wu(d,v,D){var k=W(d)?Wa:_v;return D&&li(d,v,D)&&(v=V),k(d,Wt(v,3))},z.find=ji,z.findIndex=Qr,z.findKey=function Co(d,v){return cv(d,Wt(v,3),ts)},z.findLast=Gg,z.findLastIndex=Xh,z.findLastKey=function Ai(d,v){return cv(d,Wt(v,3),Rh)},z.floor=Of,z.forEach=nd,z.forEachRight=rd,z.forIn=function Lr(d,v){return null==d?d:nf(d,Wt(v,3),qi)},z.forInRight=function uo(d,v){return null==d?d:el(d,Wt(v,3),qi)},z.forOwn=function ss(d,v){return d&&ts(d,Wt(v,3))},z.forOwnRight=function qo(d,v){return d&&Rh(d,Wt(v,3))},z.get=as,z.gt=U,z.gte=te,z.has=function _i(d,v){return null!=d&&Ma(d,v,tl)},z.hasIn=Gr,z.head=Ef,z.identity=xo,z.includes=function ka(d,v,D,k){d=K(d)?d:Wl(d),D=D&&!k?Be(D):0;var B=d.length;return D<0&&(D=Rr(B+D,0)),$n(d)?D<=B&&d.indexOf(v,D)>-1:!!B&&bu(d,v,D)>-1},z.indexOf=function Gl(d,v,D){var k=null==d?0:d.length;if(!k)return-1;var B=null==D?0:Be(D);return B<0&&(B=Rr(k+B,0)),bu(d,v,B)},z.inRange=function qv(d,v,D){return v=Me(v),D===V?(D=v,v=0):D=Me(D),function yg(d,v,D){return d>=ln(v,D)&&d<Rr(v,D)}(d=Ye(d),v,D)},z.invoke=Qs,z.isArguments=j,z.isArray=W,z.isArrayBuffer=J,z.isArrayLike=K,z.isArrayLikeObject=ie,z.isBoolean=function Q(d){return!0===d||!1===d||fe(d)&&io(d)==sn},z.isBuffer=ce,z.isDate=se,z.isElement=function le(d){return fe(d)&&1===d.nodeType&&!xt(d)},z.isEmpty=function ve(d){if(null==d)return!0;if(K(d)&&(W(d)||"string"==typeof d||"function"==typeof d.splice||ce(d)||on(d)||j(d)))return!d.length;var v=Yr(d);if(v==Ao||v==us)return!d.size;if(jo(d))return!Wr(d).length;for(var D in d)if(or.call(d,D))return!1;return!0},z.isEqual=function Ce(d,v){return Lc(d,v)},z.isEqualWith=function Ie(d,v,D){var k=(D="function"==typeof D?D:V)?D(d,v):V;return k===V?Lc(d,v,V,D):!!k},z.isError=_e,z.isFinite=function Ee(d){return"number"==typeof d&&to(d)},z.isFunction=Ae,z.isInteger=Xe,z.isLength=We,z.isMap=Ne,z.isMatch=function ze(d,v){return d===v||lf(d,v,$u(v))},z.isMatchWith=function Qe(d,v,D){return D="function"==typeof D?D:V,lf(d,v,$u(v),D)},z.isNaN=function Je(d){return mt(d)&&d!=+d},z.isNative=function Pt(d){if(zl(d))throw new cn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _g(d)},z.isNil=function ut(d){return null==d},z.isNull=function Xt(d){return null===d},z.isNumber=mt,z.isObject=be,z.isObjectLike=fe,z.isPlainObject=xt,z.isRegExp=At,z.isSafeInteger=function Ot(d){return Xe(d)&&d>=-ra&&d<=ra},z.isSet=Vt,z.isString=$n,z.isSymbol=fn,z.isTypedArray=on,z.isUndefined=function zn(d){return d===V},z.isWeakMap=function Ze(d){return fe(d)&&Yr(d)==Dl},z.isWeakSet=function q(d){return fe(d)&&"[object WeakSet]"==io(d)},z.join=function P0(d,v){return null==d?"":Eu.call(d,v)},z.kebabCase=ow,z.last=Ir,z.lastIndexOf=function tp(d,v,D){var k=null==d?0:d.length;if(!k)return-1;var B=k;return D!==V&&(B=(B=Be(D))<0?Rr(k+B,0):ln(B,k-1)),v==v?function Za(he,$e,Se){for(var yt=Se+1;yt--;)if(he[yt]===$e)return yt;return yt}(d,v,B):hh(d,Cc,B,!0)},z.lowerCase=sw,z.lowerFirst=aw,z.lt=De,z.lte=He,z.max=function oy(d){return d&&d.length?Fc(d,xo,xu):V},z.maxBy=function sy(d,v){return d&&d.length?Fc(d,Wt(v,2),xu):V},z.mean=function um(d){return Fs(d,xo)},z.meanBy=function gx(d,v){return Fs(d,Wt(v,2))},z.min=function ay(d){return d&&d.length?Fc(d,xo,Nl):V},z.minBy=function _p(d,v){return d&&d.length?Fc(d,Wt(v,2),Nl):V},z.stubArray=J0,z.stubFalse=eb,z.stubObject=function am(){return{}},z.stubString=function vw(){return""},z.stubTrue=function ty(){return!0},z.multiply=yw,z.nth=function ju(d,v){return d&&d.length?jr(d,Be(v)):V},z.noConflict=function hw(){return Ei._===this&&(Ei._=Lt),this},z.noop=yp,z.now=Ku,z.pad=function j0(d,v,D){d=ot(d);var k=(v=Be(v))?pa(d):0;if(!v||k>=v)return d;var B=(v-k)/2;return pf(ii(B),D)+d+pf(ma(B),D)},z.padEnd=function fx(d,v,D){d=ot(d);var k=(v=Be(v))?pa(d):0;return v&&k<v?d+pf(v-k,D):d},z.padStart=function hx(d,v,D){d=ot(d);var k=(v=Be(v))?pa(d):0;return v&&k<v?pf(v-k,D)+d:d},z.parseInt=function gp(d,v,D){return D||null==v?v=0:v&&(v=+v),Mr(ot(d).replace(Nd,""),v||0)},z.random=function rw(d,v,D){if(D&&"boolean"!=typeof D&&li(d,v,D)&&(v=D=V),D===V&&("boolean"==typeof v?(D=v,v=V):"boolean"==typeof d&&(D=d,d=V)),d===V&&v===V?(d=0,v=1):(d=Me(d),v===V?(v=d,d=0):v=Me(v)),d>v){var k=d;d=v,v=k}if(D||d%1||v%1){var B=Dn();return ln(d+B*(v-d+sg("1e-"+((B+"").length-1))),v)}return zc(d,v)},z.reduce=function cp(d,v,D){var k=W(d)?yu:ug,B=arguments.length<3;return k(d,Wt(v,4),D,B,Pl)},z.reduceRight=function Wn(d,v,D){var k=W(d)?ca:ug,B=arguments.length<3;return k(d,Wt(v,4),D,B,bv)},z.repeat=function st(d,v,D){return v=(D?li(d,v,D):v===V)?1:Be(v),Hc(ot(d),v)},z.replace=function mp(){var d=arguments,v=ot(d[0]);return d.length<3?v:v.replace(d[1],d[2])},z.result=function Yu(d,v,D){var k=-1,B=(v=$o(v,d)).length;for(B||(B=1,d=V);++k<B;){var G=null==d?V:d[Tr(v[k])];G===V&&(k=B,G=D),d=Ae(G)?G.call(d):G}return d},z.round=tb,z.runInContext=he,z.sample=function Hv(d){return(W(d)?Bo:Dt)(d)},z.size=function Zg(d){if(null==d)return 0;if(K(d))return $n(d)?pa(d):d.length;var v=Yr(d);return v==Ao||v==us?d.size:Wr(d).length},z.snakeCase=G0,z.some=function ao(d,v,D){var k=W(d)?Hd:Fl;return D&&li(d,v,D)&&(v=V),k(d,Wt(v,3))},z.sortedIndex=function ul(d,v){return wa(d,v)},z.sortedIndexBy=function Df(d,v,D){return Bh(d,v,Wt(D,2))},z.sortedIndexOf=function Qc(d,v){var D=null==d?0:d.length;if(D){var k=wa(d,v);if(k<D&&X(d[k],v))return k}return-1},z.sortedLastIndex=function Fr(d,v){return wa(d,v,!0)},z.sortedLastIndexBy=function Ov(d,v,D){return Bh(d,v,Wt(D,2),!0)},z.sortedLastIndexOf=function cl(d,v){if(null!=d&&d.length){var k=wa(d,v,!0)-1;if(X(d[k],v))return k}return-1},z.startCase=Wv,z.startsWith=function Kv(d,v,D){return d=ot(d),D=null==D?0:Ja(Be(D),0,d.length),v=Eo(v),d.slice(D,D+v.length)==v},z.subtract=bw,z.sum=function _w(d){return d&&d.length?Ka(d,xo):0},z.sumBy=function ly(d,v){return d&&d.length?Ka(d,Wt(v,2)):0},z.template=function lw(d,v,D){var k=z.templateSettings;D&&li(d,v,D)&&(v=V),d=ot(d),v=Nt({},v,k,mf);var ue,me,B=Nt({},v.imports,k.imports,mf),G=di(B),re=Ud(B,G),Ge=0,qe=v.interpolate||hc,nt="__p += '",_t=yh((v.escape||hc).source+"|"+qe.source+"|"+(qe===nh?oh:hc).source+"|"+(v.evaluate||hc).source+"|$","g"),Ft="//# sourceURL="+(or.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++S0+"]")+"\n";d.replace(_t,function(nn,xn,Hn,Wi,Un,Cs){return Hn||(Hn=Wi),nt+=d.slice(Ge,Cs).replace(Fd,fv),xn&&(ue=!0,nt+="' +\n__e("+xn+") +\n'"),Un&&(me=!0,nt+="';\n"+Un+";\n__p += '"),Hn&&(nt+="' +\n((__t = ("+Hn+")) == null ? '' : __t) +\n'"),Ge=Cs+nn.length,nn}),nt+="';\n";var en=or.call(v,"variable")&&v.variable;if(en){if(fc.test(en))throw new cn("Invalid `variable` option passed into `_.template`")}else nt="with (obj) {\n"+nt+"\n}\n";nt=(me?nt.replace(iv,""):nt).replace(kd,"$1").replace(oa,"$1;"),nt="function("+(en||"obj")+") {\n"+(en?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(me?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+nt+"return __p\n}";var An=Y0(function(){return qn(G,Ft+"return "+nt).apply(V,re)});if(An.source=nt,_e(An))throw An;return An},z.times=function ny(d,v){if((d=Be(d))<1||d>ra)return[];var D=Io,k=ln(d,Io);v=Wt(v),d-=Io;for(var B=gh(k,v);++D<d;)v(D);return B},z.toFinite=Me,z.toInteger=Be,z.toLength=Pe,z.toLower=function W0(d){return ot(d).toLowerCase()},z.toNumber=Ye,z.toSafeInteger=function Ut(d){return d?Ja(Be(d),-ra,ra):0===d?d:0},z.toString=ot,z.toUpper=function K0(d){return ot(d).toUpperCase()},z.trim=function tm(d,v,D){if((d=ot(d))&&(D||v===V))return dg(d);if(!d||!(v=Eo(v)))return d;var k=Oo(d),B=Oo(v);return gs(k,Sc(k,B),jd(k,B)+1).join("")},z.trimEnd=function px(d,v,D){if((d=ot(d))&&(D||v===V))return d.slice(0,Tc(d)+1);if(!d||!(v=Eo(v)))return d;var k=Oo(d);return gs(k,0,jd(k,Oo(v))+1).join("")},z.trimStart=function Zv(d,v,D){if((d=ot(d))&&(D||v===V))return d.replace(Nd,"");if(!d||!(v=Eo(v)))return d;var k=Oo(d);return gs(k,Sc(k,Oo(v))).join("")},z.truncate=function uw(d,v){var D=30,k="...";if(be(v)){var B="separator"in v?v.separator:B;D="length"in v?Be(v.length):D,k="omission"in v?Eo(v.omission):k}var G=(d=ot(d)).length;if(Bs(d)){var re=Oo(d);G=re.length}if(D>=G)return d;var ue=D-pa(k);if(ue<1)return k;var me=re?gs(re,0,ue).join(""):d.slice(0,ue);if(B===V)return me+k;if(re&&(ue+=me.length-ue),At(B)){if(d.slice(ue).search(B)){var Ge,qe=me;for(B.global||(B=yh(B.source,ot(Yn.exec(B))+"g")),B.lastIndex=0;Ge=B.exec(qe);)var nt=Ge.index;me=me.slice(0,nt===V?ue:nt)}}else if(d.indexOf(Eo(B),ue)!=ue){var _t=me.lastIndexOf(B);_t>-1&&(me=me.slice(0,_t))}return me+k},z.unescape=function Yv(d){return(d=ot(d))&&Rd.test(d)?d.replace(Cl,pg):d},z.uniqueId=function ry(d){var v=++pv;return ot(d)+v},z.upperCase=Z0,z.upperFirst=nm,z.each=nd,z.eachRight=rd,z.first=Ef,Jv(z,function(){var d={};return ts(z,function(v,D){or.call(z.prototype,D)||(d[D]=v)}),d}(),{chain:!1}),z.VERSION="4.17.21",ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){z[d].placeholder=z}),ir(["drop","take"],function(d,v){gn.prototype[d]=function(D){D=D===V?1:Rr(Be(D),0);var k=this.__filtered__&&!v?new gn(this):this.clone();return k.__filtered__?k.__takeCount__=ln(D,k.__takeCount__):k.__views__.push({size:ln(D,Io),type:d+(k.__dir__<0?"Right":"")}),k},gn.prototype[d+"Right"]=function(D){return this.reverse()[d](D).reverse()}}),ir(["filter","map","takeWhile"],function(d,v){var D=v+1,k=1==D||3==D;gn.prototype[d]=function(B){var G=this.clone();return G.__iteratees__.push({iteratee:Wt(B,3),type:D}),G.__filtered__=G.__filtered__||k,G}}),ir(["head","last"],function(d,v){var D="take"+(v?"Right":"");gn.prototype[d]=function(){return this[D](1).value()[0]}}),ir(["initial","tail"],function(d,v){var D="drop"+(v?"":"Right");gn.prototype[d]=function(){return this.__filtered__?new gn(this):this[D](1)}}),gn.prototype.compact=function(){return this.filter(xo)},gn.prototype.find=function(d){return this.filter(d).head()},gn.prototype.findLast=function(d){return this.reverse().find(d)},gn.prototype.invokeMap=zt(function(d,v){return"function"==typeof d?new gn(this):this.map(function(D){return Ol(D,d,v)})}),gn.prototype.reject=function(d){return this.filter(p(Wt(d)))},gn.prototype.slice=function(d,v){d=Be(d);var D=this;return D.__filtered__&&(d>0||v<0)?new gn(D):(d<0?D=D.takeRight(-d):d&&(D=D.drop(d)),v!==V&&(D=(v=Be(v))<0?D.dropRight(-v):D.take(v-d)),D)},gn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},gn.prototype.toArray=function(){return this.take(Io)},ts(gn.prototype,function(d,v){var D=/^(?:filter|find|map|reject)|While$/.test(v),k=/^(?:head|last)$/.test(v),B=z[k?"take"+("last"==v?"Right":""):v],G=k||/^find/.test(v);B&&(z.prototype[v]=function(){var re=this.__wrapped__,ue=k?[1]:arguments,me=re instanceof gn,Ge=ue[0],qe=me||W(re),nt=function(xn){var Hn=B.apply(z,cs([xn],ue));return k&&_t?Hn[0]:Hn};qe&&D&&"function"==typeof Ge&&1!=Ge.length&&(me=qe=!1);var _t=this.__chain__,en=G&&!_t,An=me&&!this.__actions__.length;if(!G&&qe){re=An?re:new gn(this);var nn=d.apply(re,ue);return nn.__actions__.push({func:Sf,args:[nt],thisArg:V}),new Cn(nn,_t)}return en&&An?d.apply(this,ue):(nn=this.thru(nt),en?k?nn.value()[0]:nn.value():nn)})}),ir(["pop","push","shift","sort","splice","unshift"],function(d){var v=qd[d],D=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",k=/^(?:pop|shift)$/.test(d);z.prototype[d]=function(){var B=arguments;if(k&&!this.__chain__){var G=this.value();return v.apply(W(G)?G:[],B)}return this[D](function(re){return v.apply(W(re)?re:[],B)})}}),ts(gn.prototype,function(d,v){var D=z[v];if(D){var k=D.name+"";or.call(pn,k)||(pn[k]=[]),pn[k].push({name:v,func:D})}}),pn[_r(V,2).name]=[{name:"wrapper",func:V}],gn.prototype.clone=function Qd(){var d=new gn(this.__wrapped__);return d.__actions__=zi(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=zi(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=zi(this.__views__),d},gn.prototype.reverse=function hs(){if(this.__filtered__){var d=new gn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},gn.prototype.value=function Us(){var d=this.__wrapped__.value(),v=this.__dir__,D=W(d),k=v<0,B=D?d.length:0,G=function Dv(d,v,D){for(var k=-1,B=D.length;++k<B;){var G=D[k],re=G.size;switch(G.type){case"drop":d+=re;break;case"dropRight":v-=re;break;case"take":v=ln(v,d+re);break;case"takeRight":d=Rr(d,v-re)}}return{start:d,end:v}}(0,B,this.__views__),re=G.start,ue=G.end,me=ue-re,Ge=k?ue:re-1,qe=this.__iteratees__,nt=qe.length,_t=0,Ft=ln(me,this.__takeCount__);if(!D||!k&&B==me&&Ft==me)return Kr(d,this.__actions__);var en=[];e:for(;me--&&_t<Ft;){for(var An=-1,nn=d[Ge+=v];++An<nt;){var xn=qe[An],Wi=xn.type,Un=(0,xn.iteratee)(nn);if(2==Wi)nn=Un;else if(!Un){if(1==Wi)continue e;break e}}en[_t++]=nn}return en},z.prototype.at=ap,z.prototype.chain=function L0(){return Ys(this)},z.prototype.commit=function B0(){return new Cn(this.value(),this.__chain__)},z.prototype.next=function ed(){this.__values__===V&&(this.__values__=ke(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?V:this.__values__[this.__index__++]}},z.prototype.plant=function $v(d){for(var v,D=this;D instanceof En;){var k=jl(D);k.__index__=0,k.__values__=V,v?B.__wrapped__=k:v=k;var B=k;D=D.__wrapped__}return B.__wrapped__=d,v},z.prototype.reverse=function Ug(){var d=this.__wrapped__;if(d instanceof gn){var v=d;return this.__actions__.length&&(v=new gn(this)),(v=v.reverse()).__actions__.push({func:Sf,args:[rp],thisArg:V}),new Cn(v,this.__chain__)}return this.thru(rp)},z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=function qu(){return Kr(this.__wrapped__,this.__actions__)},z.prototype.first=z.prototype.head,wu&&(z.prototype[wu]=function dl(){return this}),z}();Ei._=Gd,(pe=function(){return Gd}.call(at,de,at,xe))!==V&&(xe.exports=pe)}.call(this)},7659:(xe,at,de)=>{var pe=de(1811);function Fe(Oe,Ue){if("function"!=typeof Oe||null!=Ue&&"function"!=typeof Ue)throw new TypeError("Expected a function");var Le=function(){var ht=arguments,St=Ue?Ue.apply(this,ht):ht[0],It=Le.cache;if(It.has(St))return It.get(St);var kt=Oe.apply(this,ht);return Le.cache=It.set(St,kt)||It,kt};return Le.cache=new(Fe.Cache||pe),Le}Fe.Cache=pe,xe.exports=Fe},5533:(xe,at,de)=>{var pe=de(8492);xe.exports=function(){return pe.Date.now()}},7939:(xe,at,de)=>{var pe=de(9478);xe.exports=function V(Fe,Oe,Ue){return null==Fe?Fe:pe(Fe,Oe,Ue)}},4282:(xe,at,de)=>{var pe=de(9484),V=de(9794),Fe=de(3423),Ue=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,St=parseInt;xe.exports=function It(kt){if("number"==typeof kt)return kt;if(Fe(kt))return NaN;if(V(kt)){var jn="function"==typeof kt.valueOf?kt.valueOf():kt;kt=V(jn)?jn+"":jn}if("string"!=typeof kt)return 0===kt?kt:+kt;kt=pe(kt);var yn=Le.test(kt);return yn||ht.test(kt)?St(kt.slice(2),yn?2:8):Ue.test(kt)?NaN:+kt}},9078:(xe,at,de)=>{var pe=de(3880),V=de(4231),Fe=de(2261),Oe=de(3423),Ue=de(163),Le=de(8916),ht=de(2674);xe.exports=function St(It){return Fe(It)?pe(It,Le):Oe(It)?[It]:V(Ue(ht(It)))}},2674:(xe,at,de)=>{var pe=de(7002);xe.exports=function V(Fe){return null==Fe?"":pe(Fe)}}},xe=>{xe(xe.s=817)}]);