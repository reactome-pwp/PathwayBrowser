(self.webpackChunkpathway_browser=self.webpackChunkpathway_browser||[]).push([[179],{6194:(ge,Qe,ie)=>{"use strict";function le(e){return"function"==typeof e}function B(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const _e=B(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ee(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ve{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const u of n)u.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(le(r))try{r()}catch(u){t=u instanceof _e?u.errors:[u]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const u of o)try{vt(u)}catch(d){t=t??[],d instanceof _e?t=[...t,...d.errors]:t.push(d)}}if(t)throw new _e(t)}}add(t){var n;if(t&&t!==this)if(this.closed)vt(t);else{if(t instanceof Ve){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ee(n,t)}remove(t){const{_finalizers:n}=this;n&&Ee(n,t),t instanceof Ve&&t._removeParent(this)}}Ve.EMPTY=(()=>{const e=new Ve;return e.closed=!0,e})();const Se=Ve.EMPTY;function rt(e){return e instanceof Ve||e&&"closed"in e&&le(e.remove)&&le(e.add)&&le(e.unsubscribe)}function vt(e){le(e)?e():e.unsubscribe()}const wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bt={setTimeout(e,t,...n){const{delegate:r}=bt;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=bt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Pn(e){bt.setTimeout(()=>{const{onUnhandledError:t}=wt;if(!t)throw e;t(e)})}function ln(){}const wr=Mn("C",void 0,void 0);function Mn(e,t,n){return{kind:e,value:t,error:n}}let cn=null;function Ge(e){if(wt.useDeprecatedSynchronousErrorHandling){const t=!cn;if(t&&(cn={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=cn;if(cn=null,n)throw r}}else e()}class ft extends Ve{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,rt(t)&&t.add(this)):this.destination=ao}static create(t,n,r){return new wn(t,n,r)}next(t){this.isStopped?To(function Bn(e){return Mn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?To(function nr(e){return Mn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?To(wr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dt=Function.prototype.bind;function In(e,t){return Dt.call(e,t)}class At{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Zn(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Zn(r)}else Zn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Zn(n)}}}class wn extends ft{constructor(t,n,r){let o;if(super(),le(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let u;this&&wt.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&In(t.next,u),error:t.error&&In(t.error,u),complete:t.complete&&In(t.complete,u)}):o=t}this.destination=new At(o)}}function Zn(e){wt.useDeprecatedSynchronousErrorHandling?function it(e){wt.useDeprecatedSynchronousErrorHandling&&cn&&(cn.errorThrown=!0,cn.error=e)}(e):Pn(e)}function To(e,t){const{onStoppedNotification:n}=wt;n&&bt.setTimeout(()=>n(e,t))}const ao={closed:!0,next:ln,error:function Fi(e){throw e},complete:ln},_r="function"==typeof Symbol&&Symbol.observable||"@@observable";function Je(e){return e}function _n(e){return 0===e.length?Je:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Ct=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const u=function Dc(e){return e&&e instanceof ft||function ot(e){return e&&le(e.next)&&le(e.error)&&le(e.complete)}(e)&&rt(e)}(n)?n:new wn(n,r,o);return Ge(()=>{const{operator:d,source:v}=this;u.add(d?d.call(u,v):v?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Na(r))((o,u)=>{const d=new wn({next:v=>{try{n(v)}catch(w){u(w),d.unsubscribe()}},error:u,complete:o});this.subscribe(d)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[_r](){return this}pipe(...n){return _n(n)(this)}toPromise(n){return new(n=Na(n))((r,o)=>{let u;this.subscribe(d=>u=d,d=>o(d),()=>r(u))})}}return e.create=t=>new e(t),e})();function Na(e){var t;return null!==(t=e??wt.Promise)&&void 0!==t?t:Promise}const so=B(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let br=(()=>{class e extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new lu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new so}next(n){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:u}=this;return r||o?Se:(this.currentObservers=null,u.push(n),new Ve(()=>{this.currentObservers=null,Ee(u,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:u}=this;r?n.error(o):u&&n.complete()}asObservable(){const n=new Ct;return n.source=this,n}}return e.create=(t,n)=>new lu(t,n),e})();class lu extends br{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Se}}function Xd(e){return le(e?.lift)}function rr(e){return t=>{if(Xd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pr(e,t,n,r,o){return new Ng(e,t,n,r,o)}class Ng extends ft{constructor(t,n,r,o,u,d){super(t),this.onFinalize=u,this.shouldUnsubscribe=d,this._next=n?function(v){try{n(v)}catch(w){t.error(w)}}:super._next,this._error=o?function(v){try{o(v)}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(v){t.error(v)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function en(e,t){return rr((n,r)=>{let o=0;n.subscribe(pr(r,u=>{r.next(e.call(t,u,o++))}))})}function fa(e){return this instanceof fa?(this.v=e,this):new fa(e)}function Sc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Qd(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=e[u]&&function(d){return new Promise(function(v,w){!function o(u,d,v,w){Promise.resolve(w).then(function(_){u({value:_,done:v})},d)}(v,w,(d=e[u](d)).done,d.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const nf=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function pu(e){return le(e?.then)}function gu(e){return le(e[_r])}function rf(e){return Symbol.asyncIterator&&le(e?.[Symbol.asyncIterator])}function ka(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ih=function Rc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ha(e){return le(e?.[Ih])}function af(e){return function _c(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),u=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(F){r[F]&&(o[F]=function(W){return new Promise(function(oe,de){u.push([F,W,oe,de])>1||v(F,W)})})}function v(F,W){try{!function w(F){F.value instanceof fa?Promise.resolve(F.value.v).then(_,I):O(u[0][2],F)}(r[F](W))}catch(oe){O(u[0][3],oe)}}function _(F){v("next",F)}function I(F){v("throw",F)}function O(F,W){F(W),u.shift(),u.length&&v(u[0][0],u[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield fa(n.read());if(o)return yield fa(void 0);yield yield fa(r)}}finally{n.releaseLock()}})}function Nc(e){return le(e?.getReader)}function Wi(e){if(e instanceof Ct)return e;if(null!=e){if(gu(e))return function Bg(e){return new Ct(t=>{const n=e[_r]();if(le(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(nf(e))return function Vg(e){return new Ct(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(pu(e))return function sf(e){return new Ct(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Pn)})}(e);if(rf(e))return Dl(e);if(ha(e))return function Th(e){return new Ct(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Nc(e))return function Ah(e){return Dl(af(e))}(e)}throw ka(e)}function Dl(e){return new Ct(t=>{(function uf(e,t){var n,r,o,u;return function fu(e,t,n,r){return new(n||(n=Promise))(function(u,d){function v(I){try{_(r.next(I))}catch(O){d(O)}}function w(I){try{_(r.throw(I))}catch(O){d(O)}}function _(I){I.done?u(I.value):function o(u){return u instanceof n?u:new n(function(d){d(u)})}(I.value).then(v,w)}_((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Sc(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(d){o={error:d}}finally{try{r&&!r.done&&(u=n.return)&&(yield u.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Vn(e,t,n,r=0,o=!1){const u=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!o)return u}function Ut(e,t,n=1/0){return le(t)?Ut((r,o)=>en((u,d)=>t(r,u,o,d))(Wi(e(r,o))),n):("number"==typeof t&&(n=t),rr((r,o)=>function Rh(e,t,n,r,o,u,d,v){const w=[];let _=0,I=0,O=!1;const F=()=>{O&&!w.length&&!_&&t.complete()},W=de=>_<r?oe(de):w.push(de),oe=de=>{u&&t.next(de),_++;let we=!1;Wi(n(de,I++)).subscribe(pr(t,je=>{o?.(je),u?W(je):t.next(je)},()=>{we=!0},void 0,()=>{if(we)try{for(_--;w.length&&_<r;){const je=w.shift();d?Vn(t,d,()=>oe(je)):oe(je)}F()}catch(je){t.error(je)}}))};return e.subscribe(pr(t,W,()=>{O=!0,F()})),()=>{v?.()}}(r,o,e,n)))}function vu(e=1/0){return Ut(Je,e)}const Zr=new Ct(e=>e.complete());function Pc(e){return e[e.length-1]}function Ao(e){return function Oc(e){return e&&le(e.schedule)}(Pc(e))?e.pop():void 0}function Oh(e,t=0){return rr((n,r)=>{n.subscribe(pr(r,o=>Vn(r,e,()=>r.next(o),t),()=>Vn(r,e,()=>r.complete(),t),o=>Vn(r,e,()=>r.error(o),t)))})}function lo(e,t=0){return rr((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function kh(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ct(n=>{Vn(n,t,()=>{const r=e[Symbol.asyncIterator]();Vn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Or(e,t){return t?function Cl(e,t){if(null!=e){if(gu(e))return function Fa(e,t){return Wi(e).pipe(lo(t),Oh(t))}(e,t);if(nf(e))return function pa(e,t){return new Ct(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(pu(e))return function Ph(e,t){return Wi(e).pipe(lo(t),Oh(t))}(e,t);if(rf(e))return kh(e,t);if(ha(e))return function $g(e,t){return new Ct(n=>{let r;return Vn(n,t,()=>{r=e[Ih](),Vn(n,t,()=>{let o,u;try{({value:o,done:u}=r.next())}catch(d){return void n.error(d)}u?n.complete():n.next(o)},0,!0)}),()=>le(r?.return)&&r.return()})}(e,t);if(Nc(e))return function mu(e,t){return kh(af(e),t)}(e,t)}throw ka(e)}(e,t):Wi(e)}class Zi extends br{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Lt(...e){return Or(e,Ao(e))}function cf(e={}){const{connector:t=(()=>new br),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return u=>{let d,v,w,_=0,I=!1,O=!1;const F=()=>{v?.unsubscribe(),v=void 0},W=()=>{F(),d=w=void 0,I=O=!1},oe=()=>{const de=d;W(),de?.unsubscribe()};return rr((de,we)=>{_++,!O&&!I&&F();const je=w=w??t();we.add(()=>{_--,0===_&&!O&&!I&&(v=wu(oe,o))}),je.subscribe(we),!d&&_>0&&(d=new wn({next:ye=>je.next(ye),error:ye=>{O=!0,F(),v=wu(W,n,ye),je.error(ye)},complete:()=>{I=!0,F(),v=wu(W,r),je.complete()}}),Wi(de).subscribe(d))})(u)}}function wu(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new wn({next:()=>{r.unsubscribe(),e()}});return Wi(t(...n)).subscribe(r)}function co(e,t){return rr((n,r)=>{let o=null,u=0,d=!1;const v=()=>d&&!o&&r.complete();n.subscribe(pr(r,w=>{o?.unsubscribe();let _=0;const I=u++;Wi(e(w,I)).subscribe(o=pr(r,O=>r.next(t?t(w,O,I,_++):O),()=>{o=null,v()}))},()=>{d=!0,v()}))})}function Fh(e,t){return e===t}function Un(e){for(let t in e)if(e[t]===Un)return t;throw Error("Could not find renamed property on target object.")}function Kr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Kr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function kc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const El=Un({__forward_ref__:Un});function Wn(e){return e.__forward_ref__=Wn,e.toString=function(){return Kr(this())},e}function Ot(e){return Ns(e)?e():e}function Ns(e){return"function"==typeof e&&e.hasOwnProperty(El)&&e.__forward_ref__===Wn}function _l(e){return e&&!!e.\u0275providers}class Ue extends Error{constructor(t,n){super(function xl(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function zn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Wt(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function La(e,t){throw new Ue(-201,!1)}function ho(e,t){null==e&&function Ft(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Mt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function po(e){return{providers:e.providers||[],imports:e.imports||[]}}function ns(e){return Vc(e,go)||Vc(e,Hc)}function Vc(e,t){return e.hasOwnProperty(t)?e[t]:null}function ai(e){return e&&(e.hasOwnProperty($c)||e.hasOwnProperty(hf))?e[$c]:null}const go=Un({\u0275prov:Un}),$c=Un({\u0275inj:Un}),Hc=Un({ngInjectableDef:Un}),hf=Un({ngInjectorDef:Un});var gn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(gn||{});let Pr;function Kn(e){const t=Pr;return Pr=e,t}function Ba(e,t,n){const r=ns(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&gn.Optional?null:void 0!==t?t:void La(Kr(e))}const Tn=globalThis,Eu={},Va="__NG_DI_FLAG__",Al="ngTempTokenPath",gf=/\n/gm,zh="__source";let is;function os(e){const t=is;return is=e,t}function jh(e,t=gn.Default){if(void 0===is)throw new Ue(-203,!1);return null===is?Ba(e,void 0,t):is.get(e,t&gn.Optional?null:void 0,t)}function gt(e,t=gn.Default){return(function Du(){return Pr}()||jh)(Ot(e),t)}function ct(e,t=gn.Default){return gt(e,Nl(t))}function Nl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qc(e){const t=[];for(let n=0;n<e.length;n++){const r=Ot(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ue(900,!1);let o,u=gn.Default;for(let d=0;d<r.length;d++){const v=r[d],w=zg(v);"number"==typeof w?-1===w?o=v.token:u|=w:o=v}t.push(gt(o,u))}else t.push(gt(r))}return t}function _u(e,t){return e[Va]=t,e.prototype[Va]=t,e}function zg(e){return e[Va]}function va(e){return{toString:e}.toString()}var ma=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ma||{}),Xo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Xo||{});const ya={},vn=[],wa=Un({\u0275cmp:Un}),vo=Un({\u0275dir:Un}),Su=Un({\u0275pipe:Un}),Wc=Un({\u0275mod:Un}),Oo=Un({\u0275fac:Un}),ks=Un({__NG_ELEMENT_ID__:Un}),as=Un({__NG_ENV_ID__:Un});function mo(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}function Zc(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const u=n[r++],d=n[r++],v=n[r++];e.setAttribute(t,d,v,u)}else{const u=o,d=n[++r];Wh(u)?e.setProperty(t,u,d):e.setAttribute(t,u,d),r++}}return r}function qh(e){return 3===e||4===e||6===e}function Wh(e){return 64===e.charCodeAt(0)}function xu(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||vf(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function vf(e,t,n,r,o){let u=0,d=e.length;if(-1===t)d=-1;else for(;u<e.length;){const v=e[u++];if("number"==typeof v){if(v===t){d=-1;break}if(v>t){d=u-1;break}}}for(;u<e.length;){const v=e[u];if("number"==typeof v)break;if(v===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==d&&(e.splice(d,0,t),u=d+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}const Zh="ng-template";function Kc(e,t,n){let r=0,o=!0;for(;r<e.length;){let u=e[r++];if("string"==typeof u&&o){const d=e[r++];if(n&&"class"===u&&-1!==mo(d.toLowerCase(),t,0))return!0}else{if(1===u){for(;r<e.length&&"string"==typeof(u=e[r++]);)if(u.toLowerCase()===t)return!0;return!1}"number"==typeof u&&(o=!1)}}return!1}function ae(e){return 4===e.type&&e.value!==Zh}function xe(e,t,n){return t===(4!==e.type||n?e.value:Zh)}function ve(e,t,n){let r=4;const o=e.attrs||[],u=function Xn(e){for(let t=0;t<e.length;t++)if(qh(e[t]))return t;return e.length}(o);let d=!1;for(let v=0;v<t.length;v++){const w=t[v];if("number"!=typeof w){if(!d)if(4&r){if(r=2|1&r,""!==w&&!xe(e,w,n)||""===w&&1===t.length){if(ut(r))return!1;d=!0}}else{const _=8&r?w:t[++v];if(8&r&&null!==e.attrs){if(!Kc(e.attrs,_,n)){if(ut(r))return!1;d=!0}continue}const O=Xt(8&r?"class":w,o,ae(e),n);if(-1===O){if(ut(r))return!1;d=!0;continue}if(""!==_){let F;F=O>u?"":o[O+1].toLowerCase();const W=8&r?F:null;if(W&&-1!==mo(W,_,0)||2&r&&_!==F){if(ut(r))return!1;d=!0}}}}else{if(!d&&!ut(r)&&!ut(w))return!1;if(d&&ut(w))continue;d=!1,r=w|1&r}}return ut(r)||d}function ut(e){return 0==(1&e)}function Xt(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const d=t[o];if(d===e)return o;if(3===d||6===d)u=!0;else{if(1===d||2===d){let v=t[++o];for(;"string"==typeof v;)v=t[++o];continue}if(4===d)break;if(0===d){o+=4;continue}}o+=u?1:2}return-1}return function Yc(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Fn(e,t,n=!1){for(let r=0;r<t.length;r++)if(ve(e,t[r],n))return!0;return!1}function yo(e,t){return e?":not("+t.trim()+")":t}function Qc(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&r){const v=e[++n];o+="["+d+(v.length>0?'="'+v+'"':"")+"]"}else 8&r?o+="."+d:4&r&&(o+=" "+d);else""!==o&&!ut(d)&&(t+=yo(u,o),o=""),r=d,u=u||!ut(r);n++}return""!==o&&(t+=yo(u,o)),t}function Fs(e){return va(()=>{const t=mf(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Xo.Emulated,styles:e.styles||vn,_:null,schemas:e.schemas||null,tView:null,id:""};ed(n);const r=e.dependencies;return n.directiveDefs=ss(r,!1),n.pipeDefs=ss(r,!0),n.id=function Iu(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function jn(e){return bn(e)||gr(e)}function Gg(e){return null!==e}function Po(e){return va(()=>({type:e.type,bootstrap:e.bootstrap||vn,declarations:e.declarations||vn,imports:e.imports||vn,exports:e.exports||vn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Yh(e,t){if(null==e)return ya;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}function Vt(e){return va(()=>{const t=mf(e);return ed(t),t})}function bn(e){return e[wa]||null}function gr(e){return e[vo]||null}function kr(e){return e[Su]||null}function Qr(e,t){const n=e[Wc]||null;if(!n&&!0===t)throw new Error(`Type ${Kr(e)} does not have '\u0275mod' property.`);return n}function mf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ya,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||vn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yh(e.inputs,t),outputs:Yh(e.outputs)}}function ed(e){e.features?.forEach(t=>t(e))}function ss(e,t){if(!e)return null;const n=t?kr:jn;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Gg)}const En=0,lt=1,Qt=2,ur=3,ko=4,us=5,vr=6,ba=7,Qn=8,$a=9,Tu=10,Kt=11,Pt=12,wi=13,Ha=14,Rt=15,An=16,pt=17,Yi=18,Ua=19,td=20,wo=21,si=22,Ri=23,Da=24,nn=25,wf=1,Xh=2,Ca=7,za=9,Lr=11;function dn(e){return Array.isArray(e)&&"object"==typeof e[wf]}function rn(e){return Array.isArray(e)&&!0===e[wf]}function Xi(e){return 0!=(4&e.flags)}function on(e){return e.componentOffset>-1}function ui(e){return!!e.template}function Ea(e){return 0!=(512&e[Qt])}function Co(e,t){return e.hasOwnProperty(Oo)?e[Oo]:null}let bi=null,Au=!1;function Ji(e){const t=bi;return bi=e,t}const Ef={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fl(e){if(!Ll(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Sa(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Ou(e){e.dirty=!0,function Vs(e){if(void 0===e.liveConsumerNode)return;const t=Au;Au=!0;try{for(const n of e.liveConsumerNode)n.dirty||Ou(n)}finally{Au=t}}(e),e.consumerMarkedDirty?.(e)}function cs(e){return e&&(e.nextProducerIndex=0),Ji(e)}function id(e,t){if(Ji(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ll(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Li(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Sa(e){$s(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Fl(n),r!==n.version))return!0}return!1}function od(e){if($s(e),Ll(e))for(let t=0;t<e.producerNode.length;t++)Li(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Li(e,t){if(function _f(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),$s(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Li(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];$s(o),o.producerIndexOfThis[r]=t}}function Ll(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function $s(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let ud=null;const Us=()=>{},op=(()=>({...Ef,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Us}))();class Rn{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bo(){return xf}function xf(e){return e.type.prototype.ngOnChanges&&(e.setInput=Jg),hs}function hs(){const e=zs(this),t=e?.current;if(t){const n=e.previous;if(n===ya)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Jg(e,t,n,r){const o=this.declaredInputs[n],u=zs(e)||function Mf(e,t){return e[ap]=t}(e,{previous:ya,current:null}),d=u.current||(u.current={}),v=u.previous,w=v[o];d[o]=new Rn(w&&w.currentValue,t,v===ya),e[r]=t}Bo.ngInherit=!0;const ap="__ngSimpleChanges__";function zs(e){return e[ap]||null}const ir=function(e,t,n){};function $n(e){for(;Array.isArray(e);)e=e[En];return e}function Bi(e,t){return $n(t[e.index])}function Jr(e,t){const n=t[e];return dn(n)?n:n[En]}function qa(e,t){return null==t?null:e[t]}function jl(e){e[pt]=0}function Tf(e){1024&e[Qt]||(e[Qt]|=1024,li(e,1))}function Gl(e){1024&e[Qt]&&(e[Qt]&=-1025,li(e,-1))}function li(e,t){let n=e[ur];if(null===n)return;n[us]+=t;let r=n;for(n=n[ur];null!==n&&(1===t&&1===r[us]||-1===t&&0===r[us]);)n[us]+=t,r=n,n=n[ur]}const $t={lFrame:gd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ci(){return $t.bindingsEnabled}function Te(){return $t.lFrame.lView}function Dn(){return $t.lFrame.tView}function di(){let e=fd();for(;null!==e&&64===e.type;)e=e.parent;return e}function fd(){return $t.lFrame.currentTNode}function Vi(e,t){const n=$t.lFrame;n.currentTNode=e,n.isParent=t}function Vr(){return $t.lFrame.isParent}function tv(e,t){const n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=e,xa(t)}function xa(e){$t.lFrame.currentDirectiveIndex=e}function $i(){return $t.lFrame.currentQueryIndex}function Vu(e){$t.lFrame.currentQueryIndex=e}function nv(e){const t=e[lt];return 2===t.type?t.declTNode:1===t.type?e[vr]:null}function Zl(e,t,n){if(n&gn.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&gn.Host||(o=nv(u),null===o||(u=u[Ha],10&o.type))););if(null===o)return!1;t=o,e=u}const r=$t.lFrame=pd();return r.currentTNode=t,r.lView=e,!0}function _o(e){const t=pd(),n=e[lt];$t.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function pd(){const e=$t.lFrame,t=null===e?null:e.child;return null===t?gd(e):t}function gd(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pp(){const e=$t.lFrame;return $t.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const vd=pp;function vs(){const e=pp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ea(e){$t.lFrame.selectedIndex=e}let kf=!0;function bd(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:_,ngOnDestroy:I}=u;d&&(e.contentHooks??=[]).push(-n,d),v&&((e.contentHooks??=[]).push(n,v),(e.contentCheckHooks??=[]).push(n,v)),w&&(e.viewHooks??=[]).push(-n,w),_&&((e.viewHooks??=[]).push(n,_),(e.viewCheckHooks??=[]).push(n,_)),null!=I&&(e.destroyHooks??=[]).push(n,I)}}function Kl(e,t,n){Ff(e,t,3,n)}function Hi(e,t,n,r){(3&e[Qt])===n&&Ff(e,t,n,r)}function Dd(e,t){let n=e[Qt];(3&n)===t&&(n&=8191,n+=1,e[Qt]=n)}function Ff(e,t,n,r){const u=r??-1,d=t.length-1;let v=0;for(let w=void 0!==r?65535&e[pt]:0;w<d;w++)if("number"==typeof t[w+1]){if(v=t[w],null!=r&&v>=r)break}else t[w]<0&&(e[pt]+=65536),(v<u||-1==u)&&(mp(e,n,t,w),e[pt]=(4294901760&e[pt])+w+2),w++}function vp(e,t){ir(4,e,t);const n=Ji(null);try{t.call(e)}finally{Ji(n),ir(5,e,t)}}function mp(e,t,n,r){const o=n[r]<0,u=n[r+1],v=e[o?-n[r]:n[r]];o?e[Qt]>>13<e[pt]>>16&&(3&e[Qt])===t&&(e[Qt]+=8192,vp(v,u)):vp(v,u)}const Hu=-1;class Yl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Gu(e){return e!==Hu}function ta(e){return 32767&e}function ms(e,t){let n=function bp(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ha],n--;return r}let Xl=!0;function Fr(e){const t=Xl;return Xl=e,t}const Ql=255,hi=5;let Dp=0;const Ui={};function Cd(e,t){const n=na(e,t);if(-1!==n)return n;const r=t[lt];r.firstCreatePass&&(e.injectorIndex=t.length,Ho(r.data,e),Ho(t,null),Ho(r.blueprint,null));const o=ei(e,t),u=e.injectorIndex;if(Gu(o)){const d=ta(o),v=ms(o,t),w=v[lt].data;for(let _=0;_<8;_++)t[u+_]=v[d+_]|w[d+_]}return t[u+8]=o,u}function Ho(e,t){e.push(0,0,0,0,0,0,0,0,t)}function na(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ei(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Yu(o),null===r)return Hu;if(n++,o=o[Ha],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Hu}function Jl(e,t,n){!function Bf(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ks)&&(r=n[ks]),null==r&&(r=n[ks]=Dp++);const o=r&Ql;t.data[e+(o>>hi)]|=1<<o}(e,t,n)}function ec(e,t,n){if(n&gn.Optional||void 0!==e)return e;La()}function Vf(e,t,n,r){if(n&gn.Optional&&void 0===r&&(r=null),!(n&(gn.Self|gn.Host))){const o=e[$a],u=Kn(void 0);try{return o?o.get(t,r,n&gn.Optional):Ba(t,r,n&gn.Optional)}finally{Kn(u)}}return ec(r,0,n)}function tc(e,t,n,r=gn.Default,o){if(null!==e){if(2048&t[Qt]&&!(r&gn.Self)){const d=function Ed(e,t,n,r,o){let u=e,d=t;for(;null!==u&&null!==d&&2048&d[Qt]&&!(512&d[Qt]);){const v=Za(u,d,n,r|gn.Self,Ui);if(v!==Ui)return v;let w=u.parent;if(!w){const _=d[td];if(_){const I=_.get(n,Ui,r);if(I!==Ui)return I}w=Yu(d),d=d[Ha]}u=w}return o}(e,t,n,r,Ui);if(d!==Ui)return d}const u=Za(e,t,n,r,Ui);if(u!==Ui)return u}return Vf(t,n,r,o)}function Za(e,t,n,r,o){const u=function Ka(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ks)?e[ks]:void 0;return"number"==typeof t?t>=0?t&Ql:nc:t}(n);if("function"==typeof u){if(!Zl(t,e,r))return r&gn.Host?ec(o,0,r):Vf(t,n,r,o);try{let d;if(d=u(r),null!=d||r&gn.Optional)return d;La()}finally{vd()}}else if("number"==typeof u){let d=null,v=na(e,t),w=Hu,_=r&gn.Host?t[Rt][vr]:null;for((-1===v||r&gn.SkipSelf)&&(w=-1===v?ei(e,t):t[v+8],w!==Hu&&Hf(r,!1)?(d=t[lt],v=ta(w),t=ms(w,t)):v=-1);-1!==v;){const I=t[lt];if(Zu(u,v,I.data)){const O=$f(v,t,n,d,r,_);if(O!==Ui)return O}w=t[v+8],w!==Hu&&Hf(r,t[lt].data[v+8]===_)&&Zu(u,v,t)?(d=I,v=ta(w),t=ms(w,t)):v=-1}}return o}function $f(e,t,n,r,o,u){const d=t[lt],v=d.data[e+8],I=Wu(v,d,n,null==r?on(v)&&Xl:r!=d&&0!=(3&v.type),o&gn.Host&&u===v);return null!==I?Uo(t,d,I,v):Ui}function Wu(e,t,n,r,o){const u=e.providerIndexes,d=t.data,v=1048575&u,w=e.directiveStart,I=u>>20,F=o?v+I:e.directiveEnd;for(let W=r?v:v+I;W<F;W++){const oe=d[W];if(W<w&&n===oe||W>=w&&oe.type===n)return W}if(o){const W=d[w];if(W&&ui(W)&&W.type===n)return w}return null}function Uo(e,t,n,r){let o=e[n];const u=t.data;if(function Ma(e){return e instanceof Yl}(o)){const d=o;d.resolving&&function Fc(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${e}${n}`)}(zn(u[n]));const v=Fr(d.canSeeViewProviders);d.resolving=!0;const _=d.injectImpl?Kn(d.injectImpl):null;Zl(e,r,gn.Default);try{o=e[n]=d.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function wd(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const d=xf(t);(n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d)}o&&(n.preOrderHooks??=[]).push(0-e,o),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}(n,u[n],t)}finally{null!==_&&Kn(_),Fr(v),d.resolving=!1,vd()}}return o}function Zu(e,t,n){return!!(n[t+(e>>hi)]&1<<e)}function Hf(e,t){return!(e&gn.Self||e&gn.Host&&t)}class Hr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return tc(this._tNode,this._lView,t,Nl(r),n)}}function nc(){return new Hr(di(),Te())}function Ws(e){return Ns(e)?()=>{const t=Ws(Ot(e));return t&&t()}:Co(e)}function Yu(e){const t=e[lt],n=t.type;return 2===n?t.declTNode:1===n?e[vr]:null}const Zs="__parameters__";function Ks(e,t,n){return va(()=>{const r=function zf(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const d=new o(...u);return v.annotation=d,v;function v(w,_,I){const O=w.hasOwnProperty(Zs)?w[Zs]:Object.defineProperty(w,Zs,{value:[]})[Zs];for(;O.length<=I;)O.push(null);return(O[I]=O[I]||[]).push(d),w}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function el(e,t){e.forEach(n=>Array.isArray(n)?el(n,t):t(n))}function jf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function _d(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const So=_u(Ks("Optional"),8),Md=_u(Ks("SkipSelf"),4);function a(e){return 128==(128&e.flags)}var f=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(f||{});const y=new Map;let D=0;const k="__ngContext__";function V(e,t){dn(t)?(e[k]=t[Ua],function S(e){y.set(e[Ua],e)}(t)):e[k]=t}let te;function ne(e,t){return te(e,t)}function pe(e){const t=e[ur];return rn(t)?t[ur]:t}function be(e){return Fe(e[Pt])}function Ae(e){return Fe(e[ko])}function Fe(e){for(;null!==e&&!rn(e);)e=e[ko];return e}function Me(e,t,n,r,o){if(null!=r){let u,d=!1;rn(r)?u=r:dn(r)&&(d=!0,r=r[En]);const v=$n(r);0===e&&null!==n?null==o?G(t,n,v):Be(t,n,v,o||null,!0):1===e&&null!==n?Be(t,n,v,o||null,!0):2===e?function zr(e,t,n){const r=Ce(e,t);r&&function He(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,v,d):3===e&&t.destroyNode(v),null!=u&&function qo(e,t,n,r,o){const u=n[Ca];u!==$n(n)&&Me(t,e,r,u,o);for(let v=Lr;v<n.length;v++){const w=n[v];Cr(w[lt],w,e,t,r,u)}}(t,e,u,n,o)}}function Le(e,t,n){return e.createElement(t,n)}function ze(e,t){const n=e[za],r=n.indexOf(t);Gl(t),n.splice(r,1)}function mt(e,t){if(e.length<=Lr)return;const n=Lr+t,r=e[n];if(r){const o=r[An];null!==o&&o!==e&&ze(o,r),t>0&&(e[n-1][ko]=r[ko]);const u=_d(e,Lr+t);!function Ke(e,t){Cr(e,t,t[Kt],2,null,null),t[En]=null,t[vr]=null}(r[lt],r);const d=u[Yi];null!==d&&d.detachView(u[lt]),r[ur]=null,r[ko]=null,r[Qt]&=-129}return r}function Ye(e,t){if(!(256&t[Qt])){const n=t[Kt];t[Ri]&&od(t[Ri]),t[Da]&&od(t[Da]),n.destroyNode&&Cr(e,t,n,3,null,null),function Jt(e){let t=e[Pt];if(!t)return nt(e[lt],e);for(;t;){let n=null;if(dn(t))n=t[Pt];else{const r=t[Lr];r&&(n=r)}if(!n){for(;t&&!t[ko]&&t!==e;)dn(t)&&nt(t[lt],t),t=t[ur];null===t&&(t=e),dn(t)&&nt(t[lt],t),n=t&&t[ko]}t=n}}(t)}}function nt(e,t){if(!(256&t[Qt])){t[Qt]&=-129,t[Qt]|=256,function zt(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Yl)){const u=n[r+1];if(Array.isArray(u))for(let d=0;d<u.length;d+=2){const v=o[u[d]],w=u[d+1];ir(4,v,w);try{w.call(v)}finally{ir(5,v,w)}}else{ir(4,o,u);try{u.call(o)}finally{ir(5,o,u)}}}}}(e,t),function pn(e,t){const n=e.cleanup,r=t[ba];if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const d=n[u+3];d>=0?r[d]():r[-d].unsubscribe(),u+=2}else n[u].call(r[n[u+1]]);null!==r&&(t[ba]=null);const o=t[wo];if(null!==o){t[wo]=null;for(let u=0;u<o.length;u++)(0,o[u])()}}(e,t),1===t[lt].type&&t[Kt].destroy();const n=t[An];if(null!==n&&rn(t[ur])){n!==t[ur]&&ze(n,t);const r=t[Yi];null!==r&&r.detachView(e)}!function x(e){y.delete(e[Ua])}(t)}}function Nt(e,t,n){return function Hn(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[En];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:u}=e.data[r.directiveStart+o];if(u===Xo.None||u===Xo.Emulated)return null}return Bi(r,n)}}(e,t.parent,n)}function Be(e,t,n,r,o){e.insertBefore(t,n,r,o)}function G(e,t,n){e.appendChild(t,n)}function me(e,t,n,r,o){null!==r?Be(e,t,n,r,o):G(e,t,n)}function Ce(e,t){return e.parentNode(t)}let Ln,Gi,Tt=function st(e,t,n){return 40&e.type?Bi(e,n):null};function xn(e,t,n,r){const o=Nt(e,r,t),u=t[Kt],v=function $e(e,t,n){return Tt(e,t,n)}(r.parent||t[vr],r,t);if(null!=o)if(Array.isArray(n))for(let w=0;w<n.length;w++)me(u,o,n[w],v,!1);else me(u,o,n,v,!1);void 0!==Ln&&Ln(u,r,t,n,o)}function jt(e,t){if(null!==t){const n=t.type;if(3&n)return Bi(t,e);if(4&n)return yr(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return jt(e,r);{const o=e[t.index];return rn(o)?yr(-1,o):$n(o)}}if(32&n)return ne(t,e)()||$n(e[t.index]);{const r=un(e,t);return null!==r?Array.isArray(r)?r[0]:jt(pe(e[Rt]),r):jt(e,t.next)}}return null}function un(e,t){return null!==t?e[Rt][vr].projection[t.projection]:null}function yr(e,t){const n=Lr+e+1;if(n<t.length){const r=t[n],o=r[lt].firstChild;if(null!==o)return jt(r,o)}return t[Ca]}function Ei(e,t,n,r,o,u,d){for(;null!=n;){const v=r[n.index],w=n.type;if(d&&0===t&&(v&&V($n(v),r),n.flags|=2),32!=(32&n.flags))if(8&w)Ei(e,t,n.child,r,o,u,!1),Me(t,e,o,v,u);else if(32&w){const _=ne(n,r);let I;for(;I=_();)Me(t,e,o,I,u);Me(t,e,o,v,u)}else 16&w?_i(e,t,r,n,o,u):Me(t,e,o,v,u);n=d?n.projectionNext:n.next}}function Cr(e,t,n,r,o,u){Ei(n,r,e.firstChild,t,o,u,!1)}function _i(e,t,n,r,o,u){const d=n[Rt],w=d[vr].projection[r.projection];if(Array.isArray(w))for(let _=0;_<w.length;_++)Me(t,e,o,w[_],u);else{let _=w;const I=d[ur];a(r)&&(_.flags|=128),Ei(e,t,_,I,o,u,!0)}}function Ds(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ys(e,t,n){const{mergedAttrs:r,classes:o,styles:u}=n;null!==r&&Zc(e,t,r),null!==o&&Ds(e,t,o),null!==u&&function ia(e,t,n){e.setAttribute(t,"style",n)}(e,t,u)}class yt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Mt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ah=new yt("ENVIRONMENT_INITIALIZER"),gy=new yt("INJECTOR",-1),vy=new yt("INJECTOR_DEF_TYPES");class Mv{get(t,n=Eu){if(n===Eu){const r=new Error(`NullInjectorError: No provider for ${Kr(t)}!`);throw r.name="NullInjectorError",r}return n}}function pw(...e){return{\u0275providers:my(0,e),\u0275fromNgModule:!0}}function my(e,...t){const n=[],r=new Set;let o;const u=d=>{n.push(d)};return el(t,d=>{const v=d;Vp(v,u,[],r)&&(o||=[],o.push(v))}),void 0!==o&&yy(o,u),n}function yy(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Tv(o,u=>{t(u,r)})}}function Vp(e,t,n,r){if(!(e=Ot(e)))return!1;let o=null,u=ai(e);const d=!u&&bn(e);if(u||d){if(d&&!d.standalone)return!1;o=e}else{const w=e.ngModule;if(u=ai(w),!u)return!1;o=w}const v=r.has(o);if(d){if(v)return!1;if(r.add(o),d.dependencies){const w="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const _ of w)Vp(_,t,n,r)}}else{if(!u)return!1;{if(null!=u.imports&&!v){let _;r.add(o);try{el(u.imports,I=>{Vp(I,t,n,r)&&(_||=[],_.push(I))})}finally{}void 0!==_&&yy(_,t)}if(!v){const _=Co(o)||(()=>new o);t({provide:o,useFactory:_,deps:vn},o),t({provide:vy,useValue:o,multi:!0},o),t({provide:ah,useValue:()=>gt(o),multi:!0},o)}const w=u.providers;if(null!=w&&!v){const _=e;Tv(w,I=>{t(I,_)})}}}return o!==e&&void 0!==e.providers}function Tv(e,t){for(let n of e)_l(n)&&(n=n.\u0275providers),Array.isArray(n)?Tv(n,t):t(n)}const gw=Un({provide:String,useValue:Un});function Av(e){return null!==e&&"object"==typeof e&&gw in e}function cl(e){return"function"==typeof e}const Rv=new yt("Set Injector scope."),Hp={},vw={};let sh;function Up(){return void 0===sh&&(sh=new Mv),sh}class aa{}class zp extends aa{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uh(t,d=>this.processProvider(d)),this.records.set(gy,Od(void 0,this)),o.has("environment")&&this.records.set(aa,Od(void 0,this));const u=this.records.get(Rv);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(vy.multi,vn,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=os(this),r=Kn(void 0);try{return t()}finally{os(n),Kn(r)}}get(t,n=Eu,r=gn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(as))return t[as](this);r=Nl(r);const u=os(this),d=Kn(void 0);try{if(!(r&gn.SkipSelf)){let w=this.records.get(t);if(void 0===w){const _=function ww(e){return"function"==typeof e||"object"==typeof e&&e instanceof yt}(t)&&ns(t);w=_&&this.injectableDefInScope(_)?Od(io(t),Hp):null,this.records.set(t,w)}if(null!=w)return this.hydrate(t,w)}return(r&gn.Self?Up():this.parent).get(t,n=r&gn.Optional&&n===Eu?null:n)}catch(v){if("NullInjectorError"===v.name){if((v[Al]=v[Al]||[]).unshift(Kr(t)),u)throw v;return function jg(e,t,n,r){const o=e[Al];throw t[zh]&&o.unshift(t[zh]),e.message=function Gh(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Kr(t);if(Array.isArray(t))o=t.map(Kr).join(" -> ");else if("object"==typeof t){let u=[];for(let d in t)if(t.hasOwnProperty(d)){let v=t[d];u.push(d+":"+("string"==typeof v?JSON.stringify(v):Kr(v)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(gf,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Al]=null,e}(v,t,"R3InjectorError",this.source)}throw v}finally{Kn(d),os(u)}}resolveInjectorInitializers(){const t=os(this),n=Kn(void 0);try{const o=this.get(ah.multi,vn,gn.Self);for(const u of o)u()}finally{os(t),Kn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Kr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(t){let n=cl(t=Ot(t))?t:Ot(t&&t.provide);const r=function mw(e){return Av(e)?Od(void 0,e.useValue):Od(function Dy(e,t,n){let r;if(cl(e)){const o=Ot(e);return Co(o)||io(o)}if(Av(e))r=()=>Ot(e.useValue);else if(function $p(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...qc(e.deps||[]));else if(function wy(e){return!(!e||!e.useExisting)}(e))r=()=>gt(Ot(e.useExisting));else{const o=Ot(e&&(e.useClass||e.provide));if(!function yw(e){return!!e.deps}(e))return Co(o)||io(o);r=()=>new o(...qc(e.deps))}return r}(e),Hp)}(t);if(cl(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Od(void 0,Hp,!0),o.factory=()=>qc(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Hp&&(n.value=vw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Ov(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ot(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function io(e){const t=ns(e),n=null!==t?t.factory:Co(e);if(null!==n)return n;if(e instanceof yt)throw new Ue(204,!1);if(e instanceof Function)return function Nv(e){const t=e.length;if(t>0)throw function ic(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ue(204,!1);const n=function Ro(e){return e&&(e[go]||e[Hc])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ue(204,!1)}function Od(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function uh(e,t){for(const n of e)Array.isArray(n)?uh(n,t):n&&_l(n)?uh(n.\u0275providers,t):t(n)}const jp=new yt("AppId",{providedIn:"root",factory:()=>bw}),bw="ng",Cy=new yt("Platform Initializer"),uc=new yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ey=new yt("CSP nonce",{providedIn:"root",factory:()=>function ul(){if(void 0!==Gi)return Gi;if(typeof document<"u")return document;throw new Ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xy=(e,t,n)=>null;function Hv(e,t,n=!1){return xy(e,t,n)}class qe{}class dt{}class Ht{resolveComponentFactory(t){throw function _t(e){const t=Error(`No component factory found for ${Kr(e)}.`);return t.ngComponent=e,t}(t)}}let mn=(()=>{class e{static#e=this.NULL=new Ht}return e})();function On(){return Pi(di(),Te())}function Pi(e,t){return new dr(Bi(e,t))}let dr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=On}return e})();function sa(e){return e instanceof dr?e.nativeElement:e}class Gr{}let My=(()=>{class e{static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>null})}return e})();class Uv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const MT=new Uv("16.2.10"),Mw={};function BC(e,t=null,n=null,r){const o=VC(e,t,n,r);return o.resolveInjectorInitializers(),o}function VC(e,t=null,n=null,r,o=new Set){const u=[n||vn,pw(e)];return r=r||("object"==typeof e?void 0:Kr(e)),new zp(u,t||Up(),r||null,o)}let Qa=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Eu;static#t=this.NULL=new Mv;static create(n,r){if(Array.isArray(n))return BC({name:""},r,n,"");{const o=n.name??"";return BC({name:o},n.parent,n.providers,o)}}static#n=this.\u0275prov=Mt({token:e,providedIn:"any",factory:()=>gt(gy)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Tw(e){return e.ngOriginalError}class lc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Tw(t);for(;n&&Tw(n);)n=Tw(n);return n||null}}function Rw(e){return t=>{setTimeout(e,void 0,t)}}const gi=class PT extends br{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,u=n||(()=>null),d=r;if(t&&"object"==typeof t){const w=t;o=w.next?.bind(w),u=w.error?.bind(w),d=w.complete?.bind(w)}this.__isAsync&&(u=Rw(u),o&&(o=Rw(o)),d&&(d=Rw(d)));const v=super.subscribe({next:o,error:u,complete:d});return t instanceof Ve&&t.add(v),v}};function HC(...e){}class Ir{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gi(!1),this.onMicrotaskEmpty=new gi(!1),this.onStable=new gi(!1),this.onError=new gi(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function kT(){const e="function"==typeof Tn.requestAnimationFrame;let t=Tn[e?"requestAnimationFrame":"setTimeout"],n=Tn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function BT(e){const t=()=>{!function LT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Tn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ow(e),e.isCheckStableRunning=!0,Nw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ow(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,d,v)=>{if(function $T(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(v))return n.invokeTask(o,u,d,v);try{return UC(e),n.invokeTask(o,u,d,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),zC(e)}},onInvoke:(n,r,o,u,d,v,w)=>{try{return UC(e),n.invoke(o,u,d,v,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),zC(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Ow(e),Nw(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ir.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(Ir.isInAngularZone())throw new Ue(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,d=u.scheduleEventTask("NgZoneEvent: "+o,t,FT,HC,HC);try{return u.runTask(d,n,r)}finally{u.cancelTask(d)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const FT={};function Nw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ow(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function UC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zC(e){e._nesting--,Nw(e)}class VT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gi,this.onMicrotaskEmpty=new gi,this.onStable=new gi,this.onError=new gi}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const jC=new yt("",{providedIn:"root",factory:GC});function GC(){const e=ct(Ir);let t=!0;return function yu(...e){const t=Ao(e),n=function lf(e,t){return"number"==typeof Pc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Wi(r[0]):vu(n)(Or(r,t)):Zr}(new Ct(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Ct(o=>{let u;e.runOutsideAngular(()=>{u=e.onStable.subscribe(()=>{Ir.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const d=e.onUnstable.subscribe(()=>{Ir.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}}).pipe(cf()))}function cc(e){return e instanceof Function?e():e}let Pw=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>new e})}return e})();function zv(e){for(;e;){e[Qt]|=64;const t=pe(e);if(Ea(e)&&!t)return e;e=t}return null}const YC=new yt("",{providedIn:"root",factory:()=>!1});let Ty=null;function eE(e,t){return e[t]??rE()}function tE(e,t){const n=rE();n.producerNode?.length&&(e[t]=Ty,n.lView=e,Ty=nE())}const YT={...Ef,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{zv(e.lView)},lView:null};function nE(){return Object.create(YT)}function rE(){return Ty??=nE(),Ty}const fn={};function Ze(e,t=gn.Default){const n=Te();return null===n?gt(e,t):tc(di(),n,Ot(e),t)}function Ay(e,t,n,r,o,u,d,v,w,_,I){const O=t.blueprint.slice();return O[En]=o,O[Qt]=140|r,(null!==_||e&&2048&e[Qt])&&(O[Qt]|=2048),jl(O),O[ur]=O[Ha]=e,O[Qn]=n,O[Tu]=d||e&&e[Tu],O[Kt]=v||e&&e[Kt],O[$a]=w||e&&e[$a]||null,O[vr]=u,O[Ua]=function E(){return D++}(),O[si]=I,O[td]=_,O[Rt]=2==t.type?e[Rt]:O,O}function Yp(e,t,n,r,o){let u=e.data[t];if(null===u)u=function kw(e,t,n,r,o){const u=fd(),d=Vr(),w=e.data[t]=function oA(e,t,n,r,o,u){let d=t?t.injectorIndex:-1,v=0;return function Bu(){return null!==$t.skipHydrationRootTNode}()&&(v|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=w),null!==u&&(d?null==u.child&&null!==w.parent&&(u.child=w):null===u.next&&(u.next=w,w.prev=u)),w}(e,t,n,r,o),function Ci(){return $t.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const d=function gs(){const e=$t.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===d?-1:d.injectorIndex}return Vi(u,!0),u}function jv(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function aE(e,t,n,r,o){const u=eE(t,Ri),d=function Ni(){return $t.lFrame.selectedIndex}(),v=2&r;try{ea(-1),v&&t.length>nn&&function iE(e,t,n,r){if(!r)if(3==(3&t[Qt])){const u=e.preOrderCheckHooks;null!==u&&Kl(t,u,n)}else{const u=e.preOrderHooks;null!==u&&Hi(t,u,0,n)}ea(n)}(e,t,nn,!1),ir(v?2:0,o);const _=v?u:null,I=cs(_);try{null!==_&&(_.dirty=!1),n(r,o)}finally{id(_,I)}}finally{v&&null===t[Ri]&&tE(t,Ri),ea(d),ir(v?3:1,o)}}function Fw(e,t,n){if(Xi(t)){const r=Ji(null);try{const u=t.directiveEnd;for(let d=t.directiveStart;d<u;d++){const v=e.data[d];v.contentQueries&&v.contentQueries(1,n[d],d)}}finally{Ji(r)}}}function sE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Vw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Vw(e,t,n,r,o,u,d,v,w,_,I){const O=nn+r,F=O+o,W=function JT(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:fn);return n}(O,F),oe="function"==typeof _?_():_;return W[lt]={type:e,blueprint:W,template:n,queries:null,viewQuery:v,declTNode:t,data:W.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:w,consts:oe,incompleteFirstPass:!1,ssrId:I}}let uE=e=>null;function lE(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const u=e[o];null===r?cE(n,t,o,u):r.hasOwnProperty(o)&&cE(n,t,r[o],u)}return n}function cE(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function dE(e,t,n,r,o,u){for(let _=0;_<r.length;_++)Jl(Cd(n,t),e,r[_].type);!function mA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let _=0;_<r.length;_++){const I=r[_];I.providersResolver&&I.providersResolver(I)}let d=!1,v=!1,w=jv(e,t,r.length,null);for(let _=0;_<r.length;_++){const I=r[_];n.mergedAttrs=xu(n.mergedAttrs,I.hostAttrs),yA(e,n,t,w,I),vA(w,I,o),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const O=I.type.prototype;!d&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),d=!0),!v&&(O.ngOnChanges||O.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),v=!0),w++}!function aA(e,t,n){const o=t.directiveEnd,u=e.data,d=t.attrs,v=[];let w=null,_=null;for(let I=t.directiveStart;I<o;I++){const O=u[I],F=n?n.get(O):null,oe=F?F.outputs:null;w=lE(O.inputs,I,w,F?F.inputs:null),_=lE(O.outputs,I,_,oe);const de=null===w||null===d||ae(t)?null:DA(w,I,d);v.push(de)}null!==w&&(w.hasOwnProperty("class")&&(t.flags|=8),w.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=v,t.inputs=w,t.outputs=_}(e,n,u)}function fE(e,t,n){const r=n.directiveStart,o=n.directiveEnd,u=n.index,d=function hp(){return $t.lFrame.currentDirectiveIndex}();try{ea(u);for(let v=r;v<o;v++){const w=e.data[v],_=t[v];xa(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&hA(w,_)}}finally{ea(-1),xa(d)}}function hA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Hw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function vA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ui(t)&&(n[""]=e)}}function yA(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=Co(o.type)),d=new Yl(u,ui(o),Ze);e.blueprint[r]=d,n[r]=d,function cA(e,t,n,r,o){const u=o.hostBindings;if(u){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const v=~t.index;(function dA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=v&&d.push(v),d.push(n,r,u)}}(e,t,r,jv(e,n,o.hostVars,fn),o)}function bA(e,t,n,r,o,u){const d=u[t];if(null!==d)for(let v=0;v<d.length;)hE(r,n,d[v++],d[v++],d[v++])}function hE(e,t,n,r,o){const u=Ji(null);try{const d=e.inputTransforms;null!==d&&d.hasOwnProperty(r)&&(o=d[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{Ji(u)}}function DA(e,t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;if(e.hasOwnProperty(u)){null===r&&(r=[]);const d=e[u];for(let v=0;v<d.length;v+=2)if(d[v]===t){r.push(u,d[v+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function gE(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const u=n[r+1];if(-1!==u){const d=e.data[u];Vu(n[r]),d.contentQueries(2,t[u],u)}}}function Ry(e,t){return e[Pt]?e[wi][ko]=t:e[Pt]=t,e[wi]=t,t}function zw(e,t,n){Vu(0);const r=Ji(null);try{t(e,n)}finally{Ji(r)}}function jw(e,t,n,r,o){for(let u=0;u<n.length;){const d=n[u++],v=n[u++];hE(e.data[d],t[d],r,v,o)}}function CA(e,t){const n=Jr(t,e),r=n[lt];!function EA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[En];null!==o&&null===n[si]&&(n[si]=Hv(o,n[$a])),Gw(r,n,n[Qn])}function Gw(e,t,n){_o(t);try{const r=e.viewQuery;null!==r&&zw(1,r,n);const o=e.template;null!==o&&aE(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gE(e,t),e.staticViewQueries&&zw(2,e.viewQuery,n);const u=e.components;null!==u&&function _A(e,t){for(let n=0;n<t.length;n++)CA(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Qt]&=-5,vs()}}let bE=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const u=typeof Zone>"u"?null:Zone.current,d=function Qg(e,t,n){const r=Object.create(op);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const o=d=>{r.cleanupFn=d};return r.ref={notify:()=>Ou(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Sa(r))return;r.hasRun=!0;const d=cs(r);try{r.cleanupFn(),r.cleanupFn=Us,r.fn(o)}finally{id(r,d)}},cleanup:()=>r.cleanupFn()},r.ref}(n,_=>{this.all.has(_)&&this.queue.set(_,u)},o);let v;this.all.add(d),d.notify();const w=()=>{d.cleanup(),v?.(),this.all.delete(d),this.queue.delete(d)};return v=r?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ny(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let d=0;d<t.length;d++){const v=t[d];"number"==typeof v?u=v:1==u?o=kc(o,v):2==u&&(r=kc(r,v+": "+t[++d]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Gv(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];null!==u&&r.push($n(u)),rn(u)&&DE(u,r);const d=n.type;if(8&d)Gv(e,t,n.child,r);else if(32&d){const v=ne(n,t);let w;for(;w=v();)r.push(w)}else if(16&d){const v=un(t,n);if(Array.isArray(v))r.push(...v);else{const w=pe(t[Rt]);Gv(w[lt],w,v,r,!0)}}n=o?n.projectionNext:n.next}return r}function DE(e,t){for(let n=Lr;n<e.length;n++){const r=e[n],o=r[lt].firstChild;null!==o&&Gv(r[lt],r,o,t)}e[Ca]!==e[En]&&t.push(e[Ca])}function Oy(e,t,n,r=!0){const o=t[Tu],u=o.rendererFactory,d=o.afterRenderEventManager;u.begin?.(),d?.begin();try{CE(e,t,e.template,n)}catch(w){throw r&&function wE(e,t){const n=e[$a],r=n?n.get(lc,null):null;r&&r.handleError(t)}(t,w),w}finally{u.end?.(),o.effectManager?.flush(),d?.end()}}function CE(e,t,n,r){const o=t[Qt];if(256!=(256&o)){t[Tu].effectManager?.flush(),_o(t);try{jl(t),function hd(e){return $t.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&aE(e,t,n,2,r);const d=3==(3&o);if(d){const _=e.preOrderCheckHooks;null!==_&&Kl(t,_,null)}else{const _=e.preOrderHooks;null!==_&&Hi(t,_,0,null),Dd(t,0)}if(function MA(e){for(let t=be(e);null!==t;t=Ae(t)){if(!t[Xh])continue;const n=t[za];for(let r=0;r<n.length;r++){Tf(n[r])}}}(t),EE(t,2),null!==e.contentQueries&&gE(e,t),d){const _=e.contentCheckHooks;null!==_&&Kl(t,_)}else{const _=e.contentHooks;null!==_&&Hi(t,_,1),Dd(t,1)}!function QT(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=eE(t,Da);try{for(let o=0;o<n.length;o++){const u=n[o];if(u<0)ea(~u);else{const d=u,v=n[++o],w=n[++o];tv(v,d),r.dirty=!1;const _=cs(r);try{w(2,t[d])}finally{id(r,_)}}}}finally{null===t[Da]&&tE(t,Da),ea(-1)}}(e,t);const v=e.components;null!==v&&SE(t,v,0);const w=e.viewQuery;if(null!==w&&zw(2,w,r),d){const _=e.viewCheckHooks;null!==_&&Kl(t,_)}else{const _=e.viewHooks;null!==_&&Hi(t,_,2),Dd(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Qt]&=-73,Gl(t)}finally{vs()}}}function EE(e,t){for(let n=be(e);null!==n;n=Ae(n))for(let r=Lr;r<n.length;r++)_E(n[r],t)}function IA(e,t,n){_E(Jr(t,e),n)}function _E(e,t){if(!function up(e){return 128==(128&e[Qt])}(e))return;const n=e[lt],r=e[Qt];if(80&r&&0===t||1024&r||2===t)CE(n,e,n.template,e[Qn]);else if(e[us]>0){EE(e,1);const o=n.components;null!==o&&SE(e,o,1)}}function SE(e,t,n){for(let r=0;r<t.length;r++)IA(e,t[r],n)}class qv{get rootNodes(){const t=this._lView,n=t[lt];return Gv(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qn]}set context(t){this._lView[Qn]=t}get destroyed(){return 256==(256&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ur];if(rn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(mt(t,r),_d(n,r))}this._attachedToViewContainer=!1}Ye(this._lView[lt],this._lView)}onDestroy(t){!function Gn(e,t){if(256==(256&e[Qt]))throw new Ue(911,!1);null===e[wo]&&(e[wo]=[]),e[wo].push(t)}(this._lView,t)}markForCheck(){zv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-129}reattach(){this._lView[Qt]|=128}detectChanges(){Oy(this._lView[lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Et(e,t){Cr(e,t,t[Kt],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=t}}class TA extends qv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Oy(t[lt],t,t[Qn],!1)}checkNoChanges(){}get context(){return null}}class xE extends mn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=bn(t);return new Wv(n,this.ngModule)}}function ME(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class RA{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Nl(r);const o=this.injector.get(t,Mw,r);return o!==Mw||n===Mw?o:this.parentInjector.get(t,n,r)}}class Wv extends dt{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=ME(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return ME(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Kh(e){return e.map(Qc).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let u=(o=o||this.ngModule)instanceof aa?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const d=u?new RA(t,u):t,v=d.get(Gr,null);if(null===v)throw new Ue(407,!1);const O={rendererFactory:v,sanitizer:d.get(My,null),effectManager:d.get(bE,null),afterRenderEventManager:d.get(Pw,null)},F=v.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",oe=r?function eA(e,t,n,r){const u=r.get(YC,!1)||n===Xo.ShadowDom,d=e.selectRootElement(t,u);return function tA(e){uE(e)}(d),d}(F,r,this.componentDef.encapsulation,d):Le(F,W,function AA(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(W)),je=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ye=null;null!==oe&&(ye=Hv(oe,d,!0));const ht=Vw(0,null,null,1,0,null,null,null,null,null,null),xt=Ay(null,ht,null,je,null,null,O,F,d,null,ye);let qt,ii;_o(xt);try{const Io=this.componentDef;let uu,Kd=null;Io.findHostDirectiveDefs?(uu=[],Kd=new Map,Io.findHostDirectiveDefs(Io,uu,Kd),uu.push(Io)):uu=[Io];const Rg=function OA(e,t){const n=e[lt],r=nn;return e[r]=t,Yp(n,r,2,"#host",null)}(xt,oe),CC=function PA(e,t,n,r,o,u,d){const v=o[lt];!function kA(e,t,n,r){for(const o of e)t.mergedAttrs=xu(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Ny(t,t.mergedAttrs,!0),null!==n&&Ys(r,n,t))}(r,e,t,d);let w=null;null!==t&&(w=Hv(t,o[$a]));const _=u.rendererFactory.createRenderer(t,n);let I=16;n.signals?I=4096:n.onPush&&(I=64);const O=Ay(o,sE(n),null,I,o[e.index],e,u,_,null,null,w);return v.firstCreatePass&&Hw(v,e,r.length-1),Ry(o,O),o[e.index]=O}(Rg,oe,Io,uu,xt,O,F);ii=function Vo(e,t){return e.data[t]}(ht,nn),oe&&function LA(e,t,n,r){if(r)Zc(e,n,["ng-version",MT.full]);else{const{attrs:o,classes:u}=function Mu(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!ut(o))break;o=u}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Zc(e,n,o),u&&u.length>0&&Ds(e,n,u.join(" "))}}(F,Io,oe,r),void 0!==n&&function BA(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const u=n[o];r.push(null!=u?Array.from(u):null)}}(ii,this.ngContentSelectors,n),qt=function FA(e,t,n,r,o,u){const d=di(),v=o[lt],w=Bi(d,o);dE(v,o,d,n,null,r);for(let I=0;I<n.length;I++)V(Uo(o,v,d.directiveStart+I,d),o);fE(v,o,d),w&&V(w,o);const _=Uo(o,v,d.directiveStart+d.componentOffset,d);if(e[Qn]=o[Qn]=_,null!==u)for(const I of u)I(_,t);return Fw(v,d,e),_}(CC,Io,uu,Kd,xt,[VA]),Gw(ht,xt,null)}finally{vs()}return new NA(this.componentType,qt,Pi(ii,xt),xt,ii)}}class NA extends qe{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new TA(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const u=this._rootLView;jw(u[lt],u,o,t,n),this.previousInputValues.set(t,n),zv(Jr(this._tNode.index,u))}}get injector(){return new Hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function VA(){const e=di();bd(Te()[lt],e)}function Qw(e,t,n,r,o){const d=o?"class":"style";jw(e,n,t.inputs[d],d,r)}function Jw(e,t,n,r){const o=Te(),u=Dn(),d=nn+e,v=o[Kt],w=u.firstCreatePass?function bR(e,t,n,r,o,u){const d=t.consts,w=Yp(t,e,2,r,qa(d,o));return function $w(e,t,n,r){if(ci()){const o=null===r?null:{"":-1},u=function pA(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let u=0;u<n.length;u++){const d=n[u];if(Fn(t,d.selectors,!1))if(r||(r=[]),ui(d))if(null!==d.findHostDirectiveDefs){const v=[];o=o||new Map,d.findHostDirectiveDefs(d,v,o),r.unshift(...v,d),Hw(e,t,v.length)}else r.unshift(d),Hw(e,t,0);else o=o||new Map,d.findHostDirectiveDefs?.(d,r,o),r.push(d)}return null===r?null:[r,o]}(e,n);let d,v;null===u?d=v=null:[d,v]=u,null!==d&&dE(e,t,n,d,o,v),o&&function gA(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new Ue(-301,!1);r.push(t[o],u)}}}(n,r,o)}n.mergedAttrs=xu(n.mergedAttrs,n.attrs)}(t,n,w,qa(d,u)),null!==w.attrs&&Ny(w,w.attrs,!1),null!==w.mergedAttrs&&Ny(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}(d,u,o,t,n,r):u.data[d],_=ZE(u,o,w,v,t,e);o[d]=_;const I=function nd(e){return 1==(1&e.flags)}(w);return Vi(w,!0),Ys(v,_,w),32!=(32&w.flags)&&function qs(){return kf}()&&xn(u,o,_,w),0===function ql(){return $t.lFrame.elementDepthCount}()&&V(_,o),function cp(){$t.lFrame.elementDepthCount++}(),I&&(function Lw(e,t,n){ci()&&(function fA(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;on(n)&&function wA(e,t,n){const r=Bi(t,e),o=sE(n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const v=Ry(e,Ay(e,o,null,d,r,t,null,e[Tu].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=v}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Cd(n,t),V(r,t);const d=n.initialInputs;for(let v=o;v<u;v++){const w=e.data[v],_=Uo(t,e,v,n);V(_,t),null!==d&&bA(0,v-o,_,w,0,d),ui(w)&&(Jr(n.index,t)[Qn]=Uo(t,e,v,n))}}(e,t,n,Bi(n,t)),64==(64&n.flags)&&fE(e,t,n))}(u,o,w),Fw(u,w,o)),null!==r&&function Bw(e,t,n=Bi){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const d=r[u+1],v=-1===d?n(t,e):e[d];e[o++]=v}}}(o,w),Jw}function eb(){let e=di();Vr()?function eo(){$t.lFrame.isParent=!1}():(e=e.parent,Vi(e,!1));const t=e;(function ps(e){return $t.skipHydrationRootTNode===e})(t)&&function Eo(){$t.skipHydrationRootTNode=null}(),function dp(){$t.lFrame.elementDepthCount--}();const n=Dn();return n.firstCreatePass&&(bd(n,e),Xi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function zu(e){return 0!=(8&e.flags)}(t)&&Qw(n,t,Te(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ju(e){return 0!=(16&e.flags)}(t)&&Qw(n,t,Te(),t.stylesWithoutHost,!1),eb}function Qv(e,t,n,r){return Jw(e,t,n,r),eb(),Qv}let ZE=(e,t,n,r,o,u)=>(function Wa(e){kf=e}(!0),Le(r,o,function Pf(){return $t.lFrame.currentNamespace}()));function Jv(e){return!!e&&"function"==typeof e.then}function XE(e){return!!e&&"function"==typeof e.subscribe}const ug="en-US";let Z1=ug;class ph{}class b_{}class gb extends ph{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xE(this);const o=Qr(t);this._bootstrapComponents=cc(o.bootstrap),this._r3Injector=VC(t,n,[{provide:ph,useValue:this},{provide:mn,useValue:this.componentFactoryResolver},...r],Kr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vb extends b_{constructor(t){super(),this.moduleType=t}create(t){return new gb(this.moduleType,t,[])}}class D_ extends ph{constructor(t){super(),this.componentFactoryResolver=new xE(this),this.instance=null;const n=new zp([...t.providers,{provide:ph,useValue:this},{provide:mn,useValue:this.componentFactoryResolver}],t.parent||Up(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function mb(e,t,n=null){return new D_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let _O=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=my(0,n.type),o=r.length>0?mb([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Mt({token:e,providedIn:"environment",factory:()=>new e(gt(aa))})}return e})();function C_(e){e.getStandaloneInjector=t=>t.get(_O).getOrCreateStandaloneInjector(e)}function YO(){return this._results[Symbol.iterator]()}class wb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new gi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=wb.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=YO)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function ji(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function rc(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function QO(e,t,n,r=!0){const o=t[lt];if(function at(e,t,n,r){const o=Lr+r,u=n.length;r>0&&(n[o-1][ko]=t),r<u-Lr?(t[ko]=n[o],jf(n,Lr+r,t)):(n.push(t),t[ko]=null),t[ur]=n;const d=t[An];null!==d&&n!==d&&function Xe(e,t){const n=e[za];t[Rt]!==t[ur][ur][Rt]&&(e[Xh]=!0),null===n?e[za]=[t]:n.push(t)}(d,t);const v=t[Yi];null!==v&&v.insertView(e),t[Qt]|=128}(o,t,e,n),r){const u=yr(n,e),d=t[Kt],v=Ce(d,e[Ca]);null!==v&&function tt(e,t,n,r,o,u){r[En]=o,r[vr]=t,Cr(e,r,n,1,o,u)}(o,e[vr],d,t,v,u)}}let fc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=tP}return e})();const JO=fc,eP=class extends JO{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function XO(e,t,n,r){const o=t.tView,v=Ay(e,o,n,4096&e[Qt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);v[An]=e[t.index];const _=e[Yi];return null!==_&&(v[Yi]=_.createEmbeddedView(o)),Gw(o,v,n),v}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new qv(o)}};function tP(){return Wy(di(),Te())}function Wy(e,t){return 4&e.type?new eP(t,e,Pi(e,t)):null}let ru=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=sP}return e})();function sP(){return $_(di(),Te())}const uP=ru,B_=class extends uP{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Pi(this._hostTNode,this._hostLView)}get injector(){return new Hr(this._hostTNode,this._hostLView)}get parentInjector(){const t=ei(this._hostTNode,this._hostLView);if(Gu(t)){const n=ms(t,this._hostLView),r=ta(t);return new Hr(n[lt].data[r+8],n)}return new Hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=V_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Lr}createEmbeddedView(t,n,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const v=t.createEmbeddedViewImpl(n||{},u,null);return this.insertImpl(v,o,false),v}createComponent(t,n,r,o,u){const d=t&&!function Ju(e){return"function"==typeof e}(t);let v;if(d)v=n;else{const de=n||{};v=de.index,r=de.injector,o=de.projectableNodes,u=de.environmentInjector||de.ngModuleRef}const w=d?t:new Wv(bn(t)),_=r||this.parentInjector;if(!u&&null==w.ngModule){const we=(d?_:this.parentInjector).get(aa,null);we&&(u=we)}bn(w.componentType??{});const W=w.create(_,o,null,u);return this.insertImpl(W.hostView,v,false),W}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView;if(function If(e){return rn(e[ur])}(o)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const _=o[ur],I=new B_(_,_[vr],_[ur]);I.detach(I.indexOf(t))}}const d=this._adjustIndex(n),v=this._lContainer;return QO(v,o,d,!r),t.attachToViewContainerRef(),jf(bb(v),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=V_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=mt(this._lContainer,n);r&&(_d(bb(this._lContainer),n),Ye(r[lt],r))}detach(t){const n=this._adjustIndex(t,-1),r=mt(this._lContainer,n);return r&&null!=_d(bb(this._lContainer),n)?new qv(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function V_(e){return e[8]}function bb(e){return e[8]||(e[8]=[])}function $_(e,t){let n;const r=t[e.index];return rn(r)?n=r:(n=function pE(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,Ry(t,n)),H_(n,t,e,r),new B_(n,e,t)}let H_=function U_(e,t,n,r){if(e[Ca])return;let o;o=8&n.type?$n(r):function lP(e,t){const n=e[Kt],r=n.createComment(""),o=Bi(t,e);return Be(n,Ce(n,o),r,function Yt(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[Ca]=o};class Db{constructor(t){this.queryList=t,this.matches=null}clone(){return new Db(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const d=n.getByIndex(u);o.push(this.queries[d.indexInDeclarationView].clone())}return new Cb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==K_(t,n).matches&&this.queries[n].setDirty()}}class z_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Eb{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new Eb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _b{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new _b(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,fP(n,u)),this.matchTNodeWithReadOption(t,n,Wu(n,t,u,!1,!1))}else r===fc?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Wu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===dr||o===ru||o===fc&&4&n.type)this.addMatch(n.index,-2);else{const u=Wu(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function fP(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function pP(e,t,n,r){return-1===n?function hP(e,t){return 11&e.type?Pi(e,t):4&e.type?Wy(e,t):null}(t,e):-2===n?function gP(e,t,n){return n===dr?Pi(t,e):n===fc?Wy(t,e):n===ru?$_(t,e):void 0}(e,t,r):Uo(e,e[lt],n,t)}function j_(e,t,n,r){const o=t[Yi].queries[r];if(null===o.matches){const u=e.data,d=n.matches,v=[];for(let w=0;w<d.length;w+=2){const _=d[w];v.push(_<0?null:pP(t,u[_],d[w+1],n.metadata.read))}o.matches=v}return o.matches}function Sb(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const d=j_(e,t,o,n);for(let v=0;v<u.length;v+=2){const w=u[v];if(w>0)r.push(d[v/2]);else{const _=u[v+1],I=t[-w];for(let O=Lr;O<I.length;O++){const F=I[O];F[An]===F[ur]&&Sb(F[lt],F,_,r)}if(null!==I[za]){const O=I[za];for(let F=0;F<O.length;F++){const W=O[F];Sb(W[lt],W,_,r)}}}}}return r}function xb(e){const t=Te(),n=Dn(),r=$i();Vu(r+1);const o=K_(n,r);if(e.dirty&&function Di(e){return 4==(4&e[Qt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Sb(n,t,r,[]):j_(n,t,o,r);e.reset(u,sa),e.notifyOnChanges()}return!0}return!1}function G_(e,t,n){const r=Dn();r.firstCreatePass&&(function Z_(e,t,n){null===e.queries&&(e.queries=new Eb),e.queries.track(new _b(t,n))}(r,new z_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function W_(e,t,n){const r=new wb(4==(4&n));(function iA(e,t,n,r){const o=function vE(e){return e[ba]||(e[ba]=[])}(t);o.push(n),e.firstCreatePass&&function mE(e){return e.cleanup||(e.cleanup=[])}(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[Yi]&&(t[Yi]=new Cb),t[Yi].queries.push(new Db(r))}(r,Te(),t)}function K_(e,t){return e.queries.getByIndex(t)}const Ob=new yt("Application Initializer");let Pb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ct(Ob,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const u=o();if(Jv(u))n.push(u);else if(XE(u)){const d=new Promise((v,w)=>{u.subscribe({complete:v,error:w})});n.push(d)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fS=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const hc=new yt("LocaleId",{providedIn:"root",factory:()=>ct(hc,gn.Optional|gn.SkipSelf)||function VP(){return typeof $localize<"u"&&$localize.locale||ug}()});let Yy=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zi(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class UP{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let hS=(()=>{class e{compileModuleSync(n){return new vb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),u=cc(Qr(n).declarations).reduce((d,v)=>{const w=bn(v);return w&&d.push(new Wv(w)),d},[]);return new UP(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mS=new yt(""),Qy=new yt("");let Vb,Lb=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vb||(function uk(e){Vb=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ir.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Ir),gt(Bb),gt(Qy))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})(),Bb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Vb?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ld=null;const yS=new yt("AllowMultipleToken"),$b=new yt("PlatformDestroyListeners"),Hb=new yt("appBootstrapListener");class bS{constructor(t,n){this.name=t,this.token=n}}function CS(e,t,n=[]){const r=`Platform: ${t}`,o=new yt(r);return(u=[])=>{let d=Ub();if(!d||d.injector.get(yS,!1)){const v=[...n,...u,{provide:o,useValue:!0}];e?e(v):function dk(e){if(Ld&&!Ld.get(yS,!1))throw new Ue(400,!1);(function wS(){!function Pu(e){ud=e}(()=>{throw new Ue(600,!1)})})(),Ld=e;const t=e.get(_S);(function DS(e){e.get(Cy,null)?.forEach(n=>n())})(e)}(function ES(e=[],t){return Qa.create({name:t,providers:[{provide:Rv,useValue:"platform"},{provide:$b,useValue:new Set([()=>Ld=null])},...e]})}(v,r))}return function hk(e){const t=Ub();if(!t)throw new Ue(401,!1);return t}()}}function Ub(){return Ld?.get(_S)??null}let _S=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function pk(e="zone.js",t){return"noop"===e?new VT:"zone.js"===e?new Ir(t):e}(r?.ngZone,function SS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function EO(e,t,n){return new gb(e,t,n)}(n.moduleType,this.injector,function AS(e){return[{provide:Ir,useFactory:e},{provide:ah,multi:!0,useFactory:()=>{const t=ct(vk,{optional:!0});return()=>t.initialize()}},{provide:TS,useFactory:gk},{provide:jC,useFactory:GC}]}(()=>o)),d=u.injector.get(lc,null);return o.runOutsideAngular(()=>{const v=o.onError.subscribe({next:w=>{d.handleError(w)}});u.onDestroy(()=>{Jy(this._modules,u),v.unsubscribe()})}),function xS(e,t,n){try{const r=n();return Jv(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(d,o,()=>{const v=u.injector.get(Pb);return v.runInitializers(),v.donePromise.then(()=>(function K1(e){ho(e,"Expected localeId to be defined"),"string"==typeof e&&(Z1=e.toLowerCase().replace(/_/g,"-"))}(u.injector.get(hc,ug)||ug),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const o=MS({},r);return function lk(e,t,n){const r=new vb(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(dg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Ue(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get($b,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Qa))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function MS(e,t){return Array.isArray(t)?t.reduce(MS,e):{...e,...t}}let dg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ct(TS),this.zoneIsStable=ct(jC),this.componentTypes=[],this.components=[],this.isStable=ct(Yy).hasPendingTasks.pipe(co(n=>n?Lt(!1):this.zoneIsStable),function Hg(e,t=Je){return e=e??Fh,rr((n,r)=>{let o,u=!0;n.subscribe(pr(r,d=>{const v=t(d);(u||!e(o,v))&&(u=!1,o=v,r.next(d))}))})}(),cf()),this._injector=ct(aa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof dt;if(!this._injector.get(Pb).done)throw!o&&function Ls(e){const t=bn(e)||gr(e)||kr(e);return null!==t&&t.standalone}(n),new Ue(405,!1);let d;d=o?n:this._injector.get(mn).resolveComponentFactory(n),this.componentTypes.push(d.componentType);const v=function ck(e){return e.isBoundToModule}(d)?void 0:this._injector.get(ph),_=d.create(Qa.NULL,[],r||d.selector,v),I=_.location.nativeElement,O=_.injector.get(mS,null);return O?.registerApplication(I),_.onDestroy(()=>{this.detachView(_.hostView),Jy(this.components,_),O?.unregisterApplication(I)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Ue(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Jy(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Hb,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Jy(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ue(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const TS=new yt("",{providedIn:"root",factory:()=>ct(lc).handleError.bind(void 0)});function gk(){const e=ct(Ir),t=ct(lc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let vk=(()=>{class e{constructor(){this.zone=ct(Ir),this.applicationRef=ct(dg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let e0=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=yk}return e})();function yk(e){return function wk(e,t,n){if(on(e)&&!n){const r=Jr(e.index,t);return new qv(r,r)}return 47&e.type?new qv(t[Rt],t):null}(di(),Te(),16==(16&e))}const Nk=CS(null,"core",[]);let Ok=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(gt(dg))};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({})}return e})(),Zb=null;function Bd(){return Zb}class Wk{}const es=new yt("DocumentToken");let Kb=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return ct(Kk)},providedIn:"platform"})}return e})();const Zk=new yt("Location Initialized");let Kk=(()=>{class e extends Kb{constructor(){super(),this._doc=ct(es),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bd().getBaseHref(this._doc)}onPopState(n){const r=Bd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Bd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Yb(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function ZS(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function pc(e){return e&&"?"!==e[0]?"?"+e:e}let vh=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return ct(YS)},providedIn:"root"})}return e})();const KS=new yt("appBaseHref");let YS=(()=>{class e extends vh{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ct(es).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yb(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+pc(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,u){const d=this.prepareExternalUrl(o+pc(u));this._platformLocation.pushState(n,r,d)}replaceState(n,r,o,u){const d=this.prepareExternalUrl(o+pc(u));this._platformLocation.replaceState(n,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Kb),gt(KS,8))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yk=(()=>{class e extends vh{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Yb(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,u){let d=this.prepareExternalUrl(o+pc(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(n,r,d)}replaceState(n,r,o,u){let d=this.prepareExternalUrl(o+pc(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Kb),gt(KS,8))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})(),Xb=(()=>{class e{constructor(n){this._subject=new gi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Jk(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(ZS(XS(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+pc(r))}normalize(n){return e.stripTrailingSlash(function Qk(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,XS(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pc(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pc(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static#e=this.normalizeQueryParams=pc;static#t=this.joinWithSlash=Yb;static#n=this.stripTrailingSlash=ZS;static#r=this.\u0275fac=function(r){return new(r||e)(gt(vh))};static#i=this.\u0275prov=Mt({token:e,factory:function(){return function Xk(){return new Xb(gt(vh))}()},providedIn:"root"})}return e})();function XS(e){return e.replace(/\/index.html$/,"")}function ax(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(u)}return null}let hx=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({})}return e})();function gx(e){return"server"===e}let vF=(()=>{class e{static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>new mF(gt(es),window)})}return e})();class mF{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function yF(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class vx{}class HF extends Wk{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pD extends HF{static makeCurrent(){!function qk(e){Zb||(Zb=e)}(new pD)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function UF(){return pm=pm||document.querySelector("base"),pm?pm.getAttribute("href"):null}();return null==n?null:function zF(e){y0=y0||document.createElement("a"),y0.setAttribute("href",e);const t=y0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){pm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ax(document.cookie,t)}}let y0,pm=null,GF=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const gD=new yt("EventManagerPlugins");let Dx=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(u=>u.supports(n)),!r)throw new Ue(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(gt(gD),gt(Ir))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();class Cx{constructor(t){this._doc=t}}const vD="ng-app-id";let Ex=(()=>{class e{constructor(n,r,o,u={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gx(u),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${vD}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const u=o.get(n);return u.usage+=r,u.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===n)return o.delete(r),u.removeAttribute(vD),u;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(vD,this.appId),d}}addStyleToHost(n,r){const o=this.getStyleElement(n,r);n.appendChild(o);const u=this.styleRef,d=u.get(r)?.elements;d?d.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(es),gt(jp),gt(Ey,8),gt(uc))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const mD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yD=/%COMP%/g,KF=new yt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Sx(e,t){return t.map(n=>n.replace(yD,e))}let xx=(()=>{class e{constructor(n,r,o,u,d,v,w,_=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=d,this.platformId=v,this.ngZone=w,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=gx(v),this.defaultRenderer=new wD(n,d,w,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xo.ShadowDom&&(r={...r,encapsulation:Xo.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof Ix?o.applyToHost(n):o instanceof bD&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const d=this.doc,v=this.ngZone,w=this.eventManager,_=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,O=this.platformIsServer;switch(r.encapsulation){case Xo.Emulated:u=new Ix(w,_,r,this.appId,I,d,v,O);break;case Xo.ShadowDom:return new JF(w,_,n,r,d,v,this.nonce,O);default:u=new bD(w,_,r,I,d,v,O)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Dx),gt(Ex),gt(jp),gt(KF),gt(es),gt(uc),gt(Ir),gt(Ey))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();class wD{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(mD[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Mx(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Mx(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Ue(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const u=mD[o];u?t.setAttributeNS(u,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=mD[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(f.DashCase|f.Important)?t.style.setProperty(n,r,o&f.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&f.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Bd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Mx(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class JF extends wD{constructor(t,n,r,o,u,d,v,w){super(t,u,d,w),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Sx(o.id,o.styles);for(const I of _){const O=document.createElement("style");v&&O.setAttribute("nonce",v),O.textContent=I,this.shadowRoot.appendChild(O)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bD extends wD{constructor(t,n,r,o,u,d,v,w){super(t,u,d,v),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=w?Sx(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ix extends bD{constructor(t,n,r,o,u,d,v,w){const _=o+"-"+r.id;super(t,n,r,u,d,v,w,_),this.contentAttr=function YF(e){return"_ngcontent-%COMP%".replace(yD,e)}(_),this.hostAttr=function XF(e){return"_nghost-%COMP%".replace(yD,e)}(_)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let eL=(()=>{class e extends Cx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(es))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const Tx=["alt","control","meta","shift"],tL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let rL=(()=>{class e extends Cx{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const u=e.parseEventName(r),d=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bd().onAndCancel(n,u.domEventName,d))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let d="",v=r.indexOf("code");if(v>-1&&(r.splice(v,1),d="code."),Tx.forEach(_=>{const I=r.indexOf(_);I>-1&&(r.splice(I,1),d+=_+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=d,w}static matchEventFullKeyCode(n,r){let o=tL[n.key]||n.key,u="";return r.indexOf("code.")>-1&&(o=n.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Tx.forEach(d=>{d!==o&&(0,nL[d])(n)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(n,r,o){return u=>{e.matchEventFullKeyCode(u,n)&&o.runGuarded(()=>r(u))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(gt(es))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const Rx=[{provide:uc,useValue:"browser"},{provide:Cy,useValue:function iL(){pD.makeCurrent()},multi:!0},{provide:es,useFactory:function aL(){return function Np(e){Gi=e}(document),document},deps:[]}],sL=CS(Nk,"browser",Rx),uL=new yt(""),Nx=[{provide:Qy,useClass:class jF{addToWindow(t){Tn.getAngularTestability=(r,o=!0)=>{const u=t.findTestabilityInTree(r,o);if(null==u)throw new Ue(5103,!1);return u},Tn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tn.getAllAngularRootElements=()=>t.getAllRootElements(),Tn.frameworkStabilizers||(Tn.frameworkStabilizers=[]),Tn.frameworkStabilizers.push(r=>{const o=Tn.getAllAngularTestabilities();let u=o.length,d=!1;const v=function(w){d=d||w,u--,0==u&&r(d)};o.forEach(w=>{w.whenStable(v)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Bd().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:mS,useClass:Lb,deps:[Ir,Bb,Qy]},{provide:Lb,useClass:Lb,deps:[Ir,Bb,Qy]}],Ox=[{provide:Rv,useValue:"root"},{provide:lc,useFactory:function oL(){return new lc},deps:[]},{provide:gD,useClass:eL,multi:!0,deps:[es,Ir,uc]},{provide:gD,useClass:rL,multi:!0,deps:[es]},xx,Ex,Dx,{provide:Gr,useExisting:xx},{provide:vx,useClass:GF,deps:[]},[]];let lL=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:jp,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(gt(uL,12))};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({providers:[...Ox,...Nx],imports:[hx,Ok]})}return e})(),Px=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(gt(es))};static#t=this.\u0275prov=Mt({token:e,factory:function(r){let o=null;return o=r?new r:function dL(){return new Px(gt(es))}(),o},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:mL}=Array,{getPrototypeOf:yL,prototype:wL,keys:bL}=Object;const{isArray:CL}=Array;function CD(...e){const t=Ao(e),n=function Nr(e){return le(Pc(e))?e.pop():void 0}(e),{args:r,keys:o}=function Bx(e){if(1===e.length){const t=e[0];if(mL(t))return{args:t,keys:null};if(function DL(e){return e&&"object"==typeof e&&yL(e)===wL}(t)){const n=bL(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Or([],t);const u=new Ct(function _L(e,t,n=Je){return r=>{Hx(t,()=>{const{length:o}=e,u=new Array(o);let d=o,v=o;for(let w=0;w<o;w++)Hx(t,()=>{const _=Or(e[w],t);let I=!1;_.subscribe(pr(r,O=>{u[w]=O,I||(I=!0,v--),v||r.next(n(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,o?d=>function $x(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}(o,d):Je));return n?u.pipe(function Vx(e){return en(t=>function EL(e,t){return CL(t)?e(...t):e(t)}(e,t))}(n)):u}function Hx(e,t,n){e?Vn(n,e,t):t()}const w0=B(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ED(...e){return function SL(){return vu(1)}()(Or(e,Ao(e)))}function Ux(e){return new Ct(t=>{Wi(e()).subscribe(t)})}function gm(e,t){const n=le(e)?e:()=>e,r=o=>o.error(n());return new Ct(t?o=>t.schedule(r,0,o):r)}function _D(){return rr((e,t)=>{let n=null;e._refCount++;const r=pr(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,u=n;n=null,o&&(!u||o===u)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class zx extends Ct{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ve;const n=this.getSubject();t.add(this.source.subscribe(pr(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ve.EMPTY)}return t}refCount(){return _D()(this)}}function pg(e){return e<=0?()=>Zr:rr((t,n)=>{let r=0;t.subscribe(pr(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function mc(e,t){return rr((n,r)=>{let o=0;n.subscribe(pr(r,u=>e.call(t,u,o++)&&r.next(u)))})}function b0(e){return rr((t,n)=>{let r=!1;t.subscribe(pr(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function jx(e=ML){return rr((t,n)=>{let r=!1;t.subscribe(pr(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function ML(){return new w0}function mh(e,t){const n=arguments.length>=2;return r=>r.pipe(e?mc((o,u)=>e(o,u,r)):Je,pg(1),n?b0(t):jx(()=>new w0))}function gg(e,t){return le(t)?Ut(e,t,1):Ut(e,1)}function Mo(e,t,n){const r=le(e)||t||n?{next:e,error:t,complete:n}:e;return r?rr((o,u)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let v=!0;o.subscribe(pr(u,w=>{var _;null===(_=r.next)||void 0===_||_.call(r,w),u.next(w)},()=>{var w;v=!1,null===(w=r.complete)||void 0===w||w.call(r),u.complete()},w=>{var _;v=!1,null===(_=r.error)||void 0===_||_.call(r,w),u.error(w)},()=>{var w,_;v&&(null===(w=r.unsubscribe)||void 0===w||w.call(r)),null===(_=r.finalize)||void 0===_||_.call(r)}))}):Je}function yh(e){return rr((t,n)=>{let u,r=null,o=!1;r=t.subscribe(pr(n,void 0,void 0,d=>{u=Wi(e(d,yh(e)(t))),r?(r.unsubscribe(),r=null,u.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(n))})}function SD(e){return e<=0?()=>Zr:rr((t,n)=>{let r=[];t.subscribe(pr(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function vm(e){return rr((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const yn="primary",mm=Symbol("RouteTitle");class OL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function vg(e){return new OL(e)}function PL(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],v=e[u];if(d.startsWith(":"))o[d.substring(1)]=v;else if(d!==v.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function vl(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!Gx(e[o],t[o]))return!1;return!0}function Gx(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,u)=>r[u]===o)}return e===t}function qx(e){return e.length>0?e[e.length-1]:null}function $d(e){return function vL(e){return!!e&&(e instanceof Ct||le(e.lift)&&le(e.subscribe))}(e)?e:Jv(e)?Or(Promise.resolve(e)):Lt(e)}const FL={exact:function Kx(e,t,n){if(!wh(e.segments,t.segments)||!D0(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Kx(e.children[r],t.children[r],n))return!1;return!0},subset:Yx},Wx={exact:function LL(e,t){return vl(e,t)},subset:function BL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Gx(e[n],t[n]))},ignored:()=>!0};function Zx(e,t,n){return FL[n.paths](e.root,t.root,n.matrixParams)&&Wx[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Yx(e,t,n){return Xx(e,t,t.segments,n)}function Xx(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!wh(o,n)||t.hasChildren()||!D0(o,n,r))}if(e.segments.length===n.length){if(!wh(e.segments,n)||!D0(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!Yx(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!!(wh(e.segments,o)&&D0(e.segments,o,r)&&e.children[yn])&&Xx(e.children[yn],t,u,r)}}function D0(e,t,n){return t.every((r,o)=>Wx[n](e[o].parameters,r.parameters))}class mg{constructor(t=new hr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vg(this.queryParams)),this._queryParamMap}toString(){return HL.serialize(this)}}class hr{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return C0(this)}}class ym{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=vg(this.parameters)),this._parameterMap}toString(){return eM(this)}}function wh(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let wm=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return new xD},providedIn:"root"})}return e})();class xD{parse(t){const n=new QL(t);return new mg(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${bm(t.root,!0)}`,r=function jL(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${E0(n)}=${E0(o)}`).join("&"):`${E0(n)}=${E0(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function UL(e){return encodeURI(e)}(t.fragment)}`:""}`}}const HL=new xD;function C0(e){return e.segments.map(t=>eM(t)).join("/")}function bm(e,t){if(!e.hasChildren())return C0(e);if(t){const n=e.children[yn]?bm(e.children[yn],!1):"",r=[];return Object.entries(e.children).forEach(([o,u])=>{o!==yn&&r.push(`${o}:${bm(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function $L(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===yn&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==yn&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===yn?[bm(e.children[yn],!1)]:[`${o}:${bm(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[yn]?`${C0(e)}/${n[0]}`:`${C0(e)}/(${n.join("//")})`}}function Qx(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function E0(e){return Qx(e).replace(/%3B/gi,";")}function MD(e){return Qx(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _0(e){return decodeURIComponent(e)}function Jx(e){return _0(e.replace(/\+/g,"%20"))}function eM(e){return`${MD(e.path)}${function zL(e){return Object.keys(e).map(t=>`;${MD(t)}=${MD(e[t])}`).join("")}(e.parameters)}`}const GL=/^[^\/()?;#]+/;function ID(e){const t=e.match(GL);return t?t[0]:""}const qL=/^[^\/()?;=#]+/,ZL=/^[^=?&#]+/,YL=/^[^&#]+/;class QL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hr([],{}):new hr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[yn]=new hr(t,n)),r}parseSegment(){const t=ID(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ue(4009,!1);return this.capture(t),new ym(_0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function WL(e){const t=e.match(qL);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=ID(this.remaining);o&&(r=o,this.capture(r))}t[_0(n)]=_0(r)}parseQueryParam(t){const n=function KL(e){const t=e.match(ZL);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const d=function XL(e){const t=e.match(YL);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=Jx(n),u=Jx(r);if(t.hasOwnProperty(o)){let d=t[o];Array.isArray(d)||(d=[d],t[o]=d),d.push(u)}else t[o]=u}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ID(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Ue(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=yn);const d=this.parseChildren();n[u]=1===Object.keys(d).length?d[yn]:new hr([],d),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ue(4011,!1)}}function tM(e){return e.segments.length>0?new hr([],{[yn]:e}):e}function nM(e){const t={};for(const r of Object.keys(e.children)){const u=nM(e.children[r]);if(r===yn&&0===u.segments.length&&u.hasChildren())for(const[d,v]of Object.entries(u.children))t[d]=v;else(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function JL(e){if(1===e.numberOfChildren&&e.children[yn]){const t=e.children[yn];return new hr(e.segments.concat(t.segments),t.children)}return e}(new hr(e.segments,t))}function bh(e){return e instanceof mg}function rM(e){let t;const o=tM(function n(u){const d={};for(const w of u.children){const _=n(w);d[w.outlet]=_}const v=new hr(u.url,d);return u===e&&(t=v),v}(e.root));return t??o}function iM(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return TD(o,o,o,n,r);const u=function tB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new aM(!0,0,e);let t=0,n=!1;const r=e.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const v={};return Object.entries(u.outlets).forEach(([w,_])=>{v[w]="string"==typeof _?_.split("/"):_}),[...o,{outlets:v}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?n=!0:".."===v?t++:""!=v&&o.push(v))}),o):[...o,u]},[]);return new aM(n,t,r)}(t);if(u.toRoot())return TD(o,o,new hr([],{}),n,r);const d=function nB(e,t,n){if(e.isAbsolute)return new x0(t,!0,0);if(!n)return new x0(t,!1,NaN);if(null===n.parent)return new x0(n,!0,0);const r=S0(e.commands[0])?0:1;return function rB(e,t,n){let r=e,o=t,u=n;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Ue(4005,!1);o=r.segments.length}return new x0(r,!1,o-u)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(u,o,e),v=d.processChildren?Cm(d.segmentGroup,d.index,u.commands):sM(d.segmentGroup,d.index,u.commands);return TD(o,d.segmentGroup,v,n,r)}function S0(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Dm(e){return"object"==typeof e&&null!=e&&e.outlets}function TD(e,t,n,r,o){let d,u={};r&&Object.entries(r).forEach(([w,_])=>{u[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),d=e===t?n:oM(e,t,n);const v=tM(nM(d));return new mg(v,u,o)}function oM(e,t,n){const r={};return Object.entries(e.children).forEach(([o,u])=>{r[o]=u===t?n:oM(u,t,n)}),new hr(e.segments,r)}class aM{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&S0(r[0]))throw new Ue(4003,!1);const o=r.find(Dm);if(o&&o!==qx(r))throw new Ue(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class x0{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function sM(e,t,n){if(e||(e=new hr([],{})),0===e.segments.length&&e.hasChildren())return Cm(e,t,n);const r=function oB(e,t,n){let r=0,o=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return u;const d=e.segments[o],v=n[r];if(Dm(v))break;const w=`${v}`,_=r<n.length-1?n[r+1]:null;if(o>0&&void 0===w)break;if(w&&_&&"object"==typeof _&&void 0===_.outlets){if(!lM(w,_,d))return u;r+=2}else{if(!lM(w,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const u=new hr(e.segments.slice(0,r.pathIndex),{});return u.children[yn]=new hr(e.segments.slice(r.pathIndex),e.children),Cm(u,0,o)}return r.match&&0===o.length?new hr(e.segments,{}):r.match&&!e.hasChildren()?AD(e,t,n):r.match?Cm(e,0,o):AD(e,t,n)}function Cm(e,t,n){if(0===n.length)return new hr(e.segments,{});{const r=function iB(e){return Dm(e[0])?e[0].outlets:{[yn]:e}}(n),o={};if(Object.keys(r).some(u=>u!==yn)&&e.children[yn]&&1===e.numberOfChildren&&0===e.children[yn].segments.length){const u=Cm(e.children[yn],t,n);return new hr(e.segments,u.children)}return Object.entries(r).forEach(([u,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[u]=sM(e.children[u],t,d))}),Object.entries(e.children).forEach(([u,d])=>{void 0===r[u]&&(o[u]=d)}),new hr(e.segments,o)}}function AD(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const u=n[o];if(Dm(u)){const w=aB(u.outlets);return new hr(r,w)}if(0===o&&S0(n[0])){r.push(new ym(e.segments[t].path,uM(n[0]))),o++;continue}const d=Dm(u)?u.outlets[yn]:`${u}`,v=o<n.length-1?n[o+1]:null;d&&v&&S0(v)?(r.push(new ym(d,uM(v))),o+=2):(r.push(new ym(d,{})),o++)}return new hr(r,{})}function aB(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=AD(new hr([],{}),0,r))}),t}function uM(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function lM(e,t,n){return e==n.path&&vl(t,n.parameters)}const Em="imperative";class ml{constructor(t,n){this.id=t,this.url=n}}class M0 extends ml{constructor(t,n,r="imperative",o=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hd extends ml{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _m extends ml{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yg extends ml{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=16}}class I0 extends ml{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cM extends ml{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sB extends ml{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uB extends ml{constructor(t,n,r,o,u){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lB extends ml{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cB extends ml{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dB{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fB{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hB{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pB{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gB{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vB{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dM{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class RD{}class ND{constructor(t){this.url=t}}class mB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sm,this.attachRef=null}}let Sm=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new mB,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class fM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=OD(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=OD(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=PD(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return PD(t,this._root).map(n=>n.value)}}function OD(e,t){if(e===t.value)return t;for(const n of t.children){const r=OD(e,n);if(r)return r}return null}function PD(e,t){if(e===t.value)return[t];for(const n of t.children){const r=PD(e,n);if(r.length)return r.unshift(t),r}return[]}class yc{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function wg(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class hM extends fM{constructor(t,n){super(t),this.snapshot=n,kD(this,t)}toString(){return this.snapshot.toString()}}function pM(e,t){const n=function yB(e,t){const d=new T0([],{},{},"",{},yn,t,null,{});return new vM("",new yc(d,[]))}(0,t),r=new Zi([new ym("",{})]),o=new Zi({}),u=new Zi({}),d=new Zi({}),v=new Zi(""),w=new Dh(r,o,d,v,u,yn,t,n.root);return w.snapshot=n.root,new hM(new yc(w,[]),n)}class Dh{constructor(t,n,r,o,u,d,v,w){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=d,this.component=v,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(en(_=>_[mm]))??Lt(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(en(t=>vg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(en(t=>vg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gM(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],u=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function wB(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class T0{get title(){return this.data?.[mm]}constructor(t,n,r,o,u,d,v,w,_){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=v,this.routeConfig=w,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vM extends fM{constructor(t,n){super(n),this.url=t,kD(this,n)}toString(){return mM(this._root)}}function kD(e,t){t.value._routerState=e,t.children.forEach(n=>kD(e,n))}function mM(e){const t=e.children.length>0?` { ${e.children.map(mM).join(", ")} } `:"";return`${e.value}${t}`}function FD(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,vl(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),vl(t.params,n.params)||e.paramsSubject.next(n.params),function kL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!vl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),vl(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function LD(e,t){const n=vl(e.params,t.params)&&function VL(e,t){return wh(e,t)&&e.every((n,r)=>vl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||LD(e.parent,t.parent))}let BD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new gi,this.deactivateEvents=new gi,this.attachEvents=new gi,this.detachEvents=new gi,this.parentContexts=ct(Sm),this.location=ct(ru),this.changeDetector=ct(e0),this.environmentInjector=ct(aa),this.inputBinder=ct(A0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ue(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ue(4013,!1);this._activatedRoute=n;const o=this.location,d=n.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,w=new bB(n,v,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Vt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bo]})}return e})();class bB{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Dh?this.route:t===Sm?this.childContexts:this.parent.get(t,n)}}const A0=new yt("");let yM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=CD([r.queryParams,r.params,r.data]).pipe(co(([u,d,v],w)=>(v={...u,...d,...v},0===w?Lt(v):Promise.resolve(v)))).subscribe(u=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const d=function Gk(e){const t=bn(e);if(!t)return null;const n=new Wv(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(d)for(const{templateName:v}of d.inputs)n.activatedComponentRef.setInput(v,u[v]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();function xm(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function CB(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return xm(e,r,o);return xm(e,r)})}(e,t,n);return new yc(r,o)}{if(e.shouldAttach(t.value)){const u=e.retrieve(t.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(v=>xm(e,v)),d}}const r=function EB(e){return new Dh(new Zi(e.url),new Zi(e.params),new Zi(e.queryParams),new Zi(e.fragment),new Zi(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(u=>xm(e,u));return new yc(r,o)}}const VD="ngNavigationCancelingError";function wM(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=bh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=bM(!1,0,t);return o.url=n,o.navigationBehaviorOptions=r,o}function bM(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[VD]=!0,r.cancellationCode=t,n&&(r.url=n),r}function DM(e){return e&&e[VD]}let CM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Fs({type:e,selectors:[["ng-component"]],standalone:!0,features:[C_],decls:1,vars:0,template:function(r,o){1&r&&Qv(0,"router-outlet")},dependencies:[BD],encapsulation:2})}return e})();function $D(e){const t=e.children&&e.children.map($D),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==yn&&(n.component=CM),n}function au(e){return e.outlet||yn}function Mm(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class RB{constructor(t,n,r,o,u){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),FD(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=wg(n);t.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(t,n,d.children)}else this.deactivateChildRoutes(t,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=wg(t);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),v=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:v})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=wg(t);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=wg(n);t.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new vB(u.value.snapshot))}),t.children.length&&this.forwardEvent(new pB(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(FD(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,d.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const v=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(v.contexts),d.attachRef=v.componentRef,d.route=v.route.value,d.outlet&&d.outlet.attach(v.componentRef,v.route.value),FD(v.route.value),this.activateChildRoutes(t,null,d.children)}else{const v=Mm(o.snapshot);d.attachRef=null,d.route=o,d.injector=v,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,r)}}class EM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class R0{constructor(t,n){this.component=t,this.route=n}}function NB(e,t,n){const r=e._root;return Im(r,t?t._root:null,n,[r.value])}function bg(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function $h(e){return null!==ns(e)}(e)?t.get(e):e:r}function Im(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=wg(t);return e.children.forEach(d=>{(function PB(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,d=t?t.value:null,v=n?n.getContext(e.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function kB(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!wh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wh(e.url,t.url)||!vl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LD(e,t)||!vl(e.queryParams,t.queryParams);default:return!LD(e,t)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new EM(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Im(e,t,u.component?v?v.children:null:n,r,o),w&&v&&v.outlet&&v.outlet.isActivated&&o.canDeactivateChecks.push(new R0(v.outlet.component,d))}else d&&Tm(t,v,o),o.canActivateChecks.push(new EM(r)),Im(e,null,u.component?v?v.children:null:n,r,o)})(d,u[d.value.outlet],n,r.concat([d.value]),o),delete u[d.value.outlet]}),Object.entries(u).forEach(([d,v])=>Tm(v,n.getContext(d),o)),o}function Tm(e,t,n){const r=wg(e),o=e.value;Object.entries(r).forEach(([u,d])=>{Tm(d,o.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new R0(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Am(e){return"function"==typeof e}function _M(e){return e instanceof w0||"EmptyError"===e?.name}const N0=Symbol("INITIAL_VALUE");function Dg(){return co(e=>CD(e.map(t=>t.pipe(pg(1),function xL(...e){const t=Ao(e);return rr((n,r)=>{(t?ED(e,n,t):ED(e,n)).subscribe(r)})}(N0)))).pipe(en(t=>{for(const n of t)if(!0!==n){if(n===N0)return N0;if(!1===n||n instanceof mg)return n}return!0}),mc(t=>t!==N0),pg(1)))}function SM(e){return function kn(...e){return _n(e)}(Mo(t=>{if(bh(t))throw wM(0,t)}),en(t=>!0===t))}class O0{constructor(t){this.segmentGroup=t||null}}class xM{constructor(t){this.urlTree=t}}function Cg(e){return gm(new O0(e))}function MM(e){return gm(new xM(e))}class tV{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new Ue(4002,!1)}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Lt(r);if(o.numberOfChildren>1||!o.children[yn])return gm(new Ue(4e3,!1));o=o.children[yn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,o){const u=this.createSegmentGroup(t,n.root,r,o);return new mg(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);r[o]=n[v]}else r[o]=u}),r}createSegmentGroup(t,n,r,o){const u=this.createSegments(t,n.segments,r,o);let d={};return Object.entries(n.children).forEach(([v,w])=>{d[v]=this.createSegmentGroup(t,w,r,o)}),new hr(u,d)}createSegments(t,n,r,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,o):this.findOrReturn(u,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new Ue(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const HD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nV(e,t,n,r,o){const u=UD(e,t,n);return u.matched?(r=function SB(e,t){return e.providers&&!e._injector&&(e._injector=mb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function QB(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?Lt(o.map(d=>{const v=bg(d,e);return $d(function HB(e){return e&&Am(e.canMatch)}(v)?v.canMatch(t,n):e.runInContext(()=>v(t,n)))})).pipe(Dg(),SM()):Lt(!0)}(r,t,n).pipe(en(d=>!0===d?u:{...HD}))):Lt(u)}function UD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...HD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||PL)(n,e,t);if(!o)return{...HD};const u={};Object.entries(o.posParams??{}).forEach(([v,w])=>{u[v]=w.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function IM(e,t,n,r){return n.length>0&&function oV(e,t,n){return n.some(r=>P0(e,t,r)&&au(r)!==yn)}(e,n,r)?{segmentGroup:new hr(t,iV(r,new hr(n,e.children))),slicedSegments:[]}:0===n.length&&function aV(e,t,n){return n.some(r=>P0(e,t,r))}(e,n,r)?{segmentGroup:new hr(e.segments,rV(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new hr(e.segments,e.children),slicedSegments:n}}function rV(e,t,n,r,o){const u={};for(const d of r)if(P0(e,n,d)&&!o[au(d)]){const v=new hr([],{});u[au(d)]=v}return{...o,...u}}function iV(e,t){const n={};n[yn]=t;for(const r of e)if(""===r.path&&au(r)!==yn){const o=new hr([],{});n[au(r)]=o}return n}function P0(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class cV{constructor(t,n,r,o,u,d,v){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=d,this.urlSerializer=v,this.allowRedirects=!0,this.applyRedirects=new tV(this.urlSerializer,this.urlTree)}noMatchError(t){return new Ue(4002,!1)}recognize(){const t=IM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,yn).pipe(yh(n=>{if(n instanceof xM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof O0?this.noMatchError(n):n}),en(n=>{const r=new T0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,{}),o=new yc(r,n),u=new vM("",o),d=function eB(e,t,n=null,r=null){return iM(rM(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(u._root),{state:u,tree:d}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,yn).pipe(yh(r=>{throw r instanceof O0?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=gM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0)}processChildren(t,n,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return Or(o).pipe(gg(u=>{const d=r.children[u],v=function TB(e,t){const n=e.filter(r=>au(r)===t);return n.push(...e.filter(r=>au(r)!==t)),n}(n,u);return this.processSegmentGroup(t,v,d,u)}),function TL(e,t){return rr(function IL(e,t,n,r,o){return(u,d)=>{let v=n,w=t,_=0;u.subscribe(pr(d,I=>{const O=_++;w=v?e(w,I,O):(v=!0,I),r&&d.next(w)},o&&(()=>{v&&d.next(w),d.complete()})))}}(e,t,arguments.length>=2,!0))}((u,d)=>(u.push(...d),u)),b0(null),function AL(e,t){const n=arguments.length>=2;return r=>r.pipe(e?mc((o,u)=>e(o,u,r)):Je,SD(1),n?b0(t):jx(()=>new w0))}(),Ut(u=>{if(null===u)return Cg(r);const d=TM(u);return function dV(e){e.sort((t,n)=>t.value.outlet===yn?-1:n.value.outlet===yn?1:t.value.outlet.localeCompare(n.value.outlet))}(d),Lt(d)}))}processSegment(t,n,r,o,u,d){return Or(n).pipe(gg(v=>this.processSegmentAgainstRoute(v._injector??t,n,v,r,o,u,d).pipe(yh(w=>{if(w instanceof O0)return Lt(null);throw w}))),mh(v=>!!v),yh(v=>{if(_M(v))return function uV(e,t,n){return 0===t.length&&!e.children[n]}(r,o,u)?Lt([]):Cg(r);throw v}))}processSegmentAgainstRoute(t,n,r,o,u,d,v){return function sV(e,t,n,r){return!!(au(e)===r||r!==yn&&P0(t,n,e))&&("**"===e.path||UD(t,e,n).matched)}(r,o,u,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,u,d,v):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,u,d):Cg(o):Cg(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?MM(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Ut(d=>{const v=new hr(d,{});return this.processSegment(t,n,v,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d){const{matched:v,consumedSegments:w,remainingSegments:_,positionalParamSegments:I}=UD(n,o,u);if(!v)return Cg(n);const O=this.applyRedirects.applyRedirectCommands(w,o.redirectTo,I);return o.redirectTo.startsWith("/")?MM(O):this.applyRedirects.lineralizeSegments(o,O).pipe(Ut(F=>this.processSegment(t,r,n,F.concat(_),d,!1)))}matchSegmentAgainstRoute(t,n,r,o,u,d){let v;if("**"===r.path){const w=o.length>0?qx(o).parameters:{};v=Lt({snapshot:new T0(o,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AM(r),au(r),r.component??r._loadedComponent??null,r,RM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else v=nV(n,r,o,t).pipe(en(({matched:w,consumedSegments:_,remainingSegments:I,parameters:O})=>w?{snapshot:new T0(_,O,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AM(r),au(r),r.component??r._loadedComponent??null,r,RM(r)),consumedSegments:_,remainingSegments:I}:null));return v.pipe(co(w=>null===w?Cg(n):this.getChildConfig(t=r._injector??t,r,o).pipe(co(({routes:_})=>{const I=r._loadedInjector??t,{snapshot:O,consumedSegments:F,remainingSegments:W}=w,{segmentGroup:oe,slicedSegments:de}=IM(n,F,W,_);if(0===de.length&&oe.hasChildren())return this.processChildren(I,_,oe).pipe(en(je=>null===je?null:[new yc(O,je)]));if(0===_.length&&0===de.length)return Lt([new yc(O,[])]);const we=au(r)===u;return this.processSegment(I,_,oe,de,we?yn:u,!0).pipe(en(je=>[new yc(O,je)]))}))))}getChildConfig(t,n,r){return n.children?Lt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Lt({routes:n._loadedRoutes,injector:n._loadedInjector}):function XB(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?Lt(!0):Lt(o.map(d=>{const v=bg(d,e);return $d(function LB(e){return e&&Am(e.canLoad)}(v)?v.canLoad(t,n):e.runInContext(()=>v(t,n)))})).pipe(Dg(),SM())}(t,n,r).pipe(Ut(o=>o?this.configLoader.loadChildren(t,n).pipe(Mo(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):function eV(e){return gm(bM(!1,3))}())):Lt({routes:[],injector:t})}}function fV(e){const t=e.value.routeConfig;return t&&""===t.path}function TM(e){const t=[],n=new Set;for(const r of e){if(!fV(r)){t.push(r);continue}const o=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=TM(r.children);t.push(new yc(r.value,o))}return t.filter(r=>!n.has(r))}function AM(e){return e.data||{}}function RM(e){return e.resolve||{}}function NM(e){return"string"==typeof e.title||null===e.title}function zD(e){return co(t=>{const n=e(t);return n?Or(n).pipe(en(()=>t)):Lt(t)})}const Eg=new yt("ROUTES");let jD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ct(hS)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Lt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=$d(n.loadComponent()).pipe(en(OM),Mo(u=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=u}),vm(()=>{this.componentLoaders.delete(n)})),o=new zx(r,()=>new br).pipe(_D());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function wV(e,t,n,r){return $d(e.loadChildren()).pipe(en(OM),Ut(o=>o instanceof b_||Array.isArray(o)?Lt(o):Or(t.compileModuleAsync(o))),en(o=>{r&&r(e);let u,d,v=!1;return Array.isArray(o)?(d=o,!0):(u=o.create(n).injector,d=u.get(Eg,[],{optional:!0,self:!0}).flat()),{routes:d.map($D),injector:u}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(vm(()=>{this.childrenLoaders.delete(r)})),d=new zx(u,()=>new br).pipe(_D());return this.childrenLoaders.set(r,d),d}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OM(e){return function bV(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let k0=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new br,this.transitionAbortSubject=new br,this.configLoader=ct(jD),this.environmentInjector=ct(aa),this.urlSerializer=ct(wm),this.rootContexts=ct(Sm),this.inputBindingEnabled=null!==ct(A0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new fB(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new dB(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Zi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Em,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mc(u=>0!==u.id),en(u=>({...u,extractedUrl:n.urlHandlingStrategy.extract(u.rawUrl)})),co(u=>{this.currentTransition=u;let d=!1,v=!1;return Lt(u).pipe(Mo(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),co(w=>{const _=w.currentBrowserUrl.toString(),I=!n.navigated||w.extractedUrl.toString()!==_||_!==w.currentUrlTree.toString();if(!I&&"reload"!==(w.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const F="";return this.events.next(new yg(w.id,this.urlSerializer.serialize(w.rawUrl),F,0)),w.resolve(null),Zr}if(n.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return Lt(w).pipe(co(F=>{const W=this.transitions?.getValue();return this.events.next(new M0(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),W!==this.transitions?.getValue()?Zr:Promise.resolve(F)}),function hV(e,t,n,r,o,u){return Ut(d=>function lV(e,t,n,r,o,u,d="emptyOnly"){return new cV(e,t,n,r,o,d,u).recognize()}(e,t,n,r,d.extractedUrl,o,u).pipe(en(({state:v,tree:w})=>({...d,targetSnapshot:v,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Mo(F=>{u.targetSnapshot=F.targetSnapshot,u.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects};const W=new cM(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(W)}));if(I&&n.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:F,extractedUrl:W,source:oe,restoredState:de,extras:we}=w,je=new M0(F,this.urlSerializer.serialize(W),oe,de);this.events.next(je);const ye=pM(0,this.rootComponentType).snapshot;return this.currentTransition=u={...w,targetSnapshot:ye,urlAfterRedirects:W,extras:{...we,skipLocationChange:!1,replaceUrl:!1}},Lt(u)}{const F="";return this.events.next(new yg(w.id,this.urlSerializer.serialize(w.extractedUrl),F,1)),w.resolve(null),Zr}}),Mo(w=>{const _=new sB(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(_)}),en(w=>(this.currentTransition=u={...w,guards:NB(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},u)),function zB(e,t){return Ut(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=n;return 0===d.length&&0===u.length?Lt({...n,guardsResult:!0}):function jB(e,t,n,r){return Or(e).pipe(Ut(o=>function YB(e,t,n,r,o){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?Lt(u.map(v=>{const w=Mm(t)??o,_=bg(v,w);return $d(function $B(e){return e&&Am(e.canDeactivate)}(_)?_.canDeactivate(e,t,n,r):w.runInContext(()=>_(e,t,n,r))).pipe(mh())})).pipe(Dg()):Lt(!0)}(o.component,o.route,n,t,r)),mh(o=>!0!==o,!0))}(d,r,o,e).pipe(Ut(v=>v&&function FB(e){return"boolean"==typeof e}(v)?function GB(e,t,n,r){return Or(t).pipe(gg(o=>ED(function WB(e,t){return null!==e&&t&&t(new hB(e)),Lt(!0)}(o.route.parent,r),function qB(e,t){return null!==e&&t&&t(new gB(e)),Lt(!0)}(o.route,r),function KB(e,t,n){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(d=>function OB(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Ux(()=>Lt(d.guards.map(w=>{const _=Mm(d.node)??n,I=bg(w,_);return $d(function VB(e){return e&&Am(e.canActivateChild)}(I)?I.canActivateChild(r,e):_.runInContext(()=>I(r,e))).pipe(mh())})).pipe(Dg())));return Lt(u).pipe(Dg())}(e,o.path,n),function ZB(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Lt(!0);const o=r.map(u=>Ux(()=>{const d=Mm(t)??n,v=bg(u,d);return $d(function BB(e){return e&&Am(e.canActivate)}(v)?v.canActivate(t,e):d.runInContext(()=>v(t,e))).pipe(mh())}));return Lt(o).pipe(Dg())}(e,o.route,n))),mh(o=>!0!==o,!0))}(r,u,e,t):Lt(v)),en(v=>({...n,guardsResult:v})))})}(this.environmentInjector,w=>this.events.next(w)),Mo(w=>{if(u.guardsResult=w.guardsResult,bh(w.guardsResult))throw wM(0,w.guardsResult);const _=new uB(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(_)}),mc(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),zD(w=>{if(w.guards.canActivateChecks.length)return Lt(w).pipe(Mo(_=>{const I=new lB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}),co(_=>{let I=!1;return Lt(_).pipe(function pV(e,t){return Ut(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Lt(n);let u=0;return Or(o).pipe(gg(d=>function gV(e,t,n,r){const o=e.routeConfig,u=e._resolve;return void 0!==o?.title&&!NM(o)&&(u[mm]=o.title),function vV(e,t,n,r){const o=function mV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return Lt({});const u={};return Or(o).pipe(Ut(d=>function yV(e,t,n,r){const o=Mm(t)??r,u=bg(e,o);return $d(u.resolve?u.resolve(t,n):o.runInContext(()=>u(t,n)))}(e[d],t,n,r).pipe(mh(),Mo(v=>{u[d]=v}))),SD(1),function RL(e){return en(()=>e)}(u),yh(d=>_M(d)?Zr:gm(d)))}(u,e,t,r).pipe(en(d=>(e._resolvedData=d,e.data=gM(e,n).resolve,o&&NM(o)&&(e.data[mm]=o.title),null)))}(d.route,r,e,t)),Mo(()=>u++),SD(1),Ut(d=>u===o.length?Lt(n):Zr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Mo({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(_,"",2)}}))}),Mo(_=>{const I=new cB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}))}),zD(w=>{const _=I=>{const O=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(I.routeConfig).pipe(Mo(F=>{I.component=F}),en(()=>{})));for(const F of I.children)O.push(..._(F));return O};return CD(_(w.targetSnapshot.root)).pipe(b0(),pg(1))}),zD(()=>this.afterPreactivation()),en(w=>{const _=function DB(e,t,n){const r=xm(e,t._root,n?n._root:void 0);return new hM(r,t)}(n.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=u={...w,targetRouterState:_},u}),Mo(()=>{this.events.next(new RD)}),((e,t,n,r)=>en(o=>(new RB(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),pg(1),Mo({next:w=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hd(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),n.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{d=!0}}),function NL(e){return rr((t,n)=>{Wi(e).subscribe(pr(n,()=>n.complete(),ln)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Mo(w=>{throw w}))),vm(()=>{d||v||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),yh(w=>{if(v=!0,DM(w))this.events.next(new _m(u.id,this.urlSerializer.serialize(u.extractedUrl),w.message,w.cancellationCode)),function _B(e){return DM(e)&&bh(e.url)}(w)?this.events.next(new ND(w.url)):u.resolve(!1);else{this.events.next(new I0(u.id,this.urlSerializer.serialize(u.extractedUrl),w,u.targetSnapshot??void 0));try{u.resolve(n.errorHandler(w))}catch(_){u.reject(_)}}return Zr}))}))}cancelNavigationTransition(n,r,o){const u=new _m(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(u),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function PM(e){return e!==Em}let kM=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===yn);return r}getResolvedTitleForRoute(n){return n.data[mm]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return ct(DV)},providedIn:"root"})}return e})(),DV=(()=>{class e extends kM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Px))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return ct(_V)},providedIn:"root"})}return e})();class EV{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let _V=(()=>{class e extends EV{static#e=this.\u0275fac=function(){let n;return function(o){return(n||(n=function ti(e){return va(()=>{const t=e.prototype.constructor,n=t[Oo]||Ws(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[Oo]||Ws(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}(e)))(o||e)}}();static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const F0=new yt("",{providedIn:"root",factory:()=>({})});let SV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return ct(xV)},providedIn:"root"})}return e})(),xV=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Rm=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Rm||{});function FM(e,t){e.events.pipe(mc(n=>n instanceof Hd||n instanceof _m||n instanceof I0||n instanceof yg),en(n=>n instanceof Hd||n instanceof yg?Rm.COMPLETE:n instanceof _m&&(0===n.code||1===n.code)?Rm.REDIRECTING:Rm.FAILED),mc(n=>n!==Rm.REDIRECTING),pg(1)).subscribe(()=>{t()})}function MV(e){throw e}function IV(e,t,n){return t.parse("/")}const TV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xs=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ct(fS),this.isNgZoneEnabled=!1,this._events=new br,this.options=ct(F0,{optional:!0})||{},this.pendingTasks=ct(Yy),this.errorHandler=this.options.errorHandler||MV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||IV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ct(SV),this.routeReuseStrategy=ct(CV),this.titleStrategy=ct(kM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ct(Eg,{optional:!0})?.flat()??[],this.navigationTransitions=ct(k0),this.urlSerializer=ct(wm),this.location=ct(Xb),this.componentInputBindingEnabled=!!ct(A0,{optional:!0}),this.eventsSubscription=new Ve,this.isNgZoneEnabled=ct(Ir)instanceof Ir&&Ir.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pM(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(LM(r)&&this._events.next(r));if(r instanceof M0)PM(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof yg)this.rawUrlTree=o.rawUrl;else if(r instanceof cM){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof RD)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof _m)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof ND){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||PM(o.source)};this.scheduleNavigation(u,Em,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof I0&&this.restoreHistory(o,!0),r instanceof Hd&&(this.navigated=!0),LM(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Em,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,o){const u={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const w={...o};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const v=this.parseUrl(n);this.scheduleNavigation(v,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map($D),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:v,preserveFragment:w}=r,_=w?this.currentUrlTree.fragment:d;let O,I=null;switch(v){case"merge":I={...this.currentUrlTree.queryParams,...u};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}null!==I&&(I=this.removeEmptyProps(I));try{O=rM(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),O=this.currentUrlTree.root}return iM(O,n,I,_??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=bh(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Em,null,r)}navigate(n,r={skipLocationChange:!1}){return function RV(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Ue(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?{...TV}:!1===r?{...AV}:r,bh(n))return Zx(this.currentUrlTree,n,o);const u=this.parseUrl(n);return Zx(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const u=n[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(n,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let v,w,_;d?(v=d.resolve,w=d.reject,_=d.promise):_=new Promise((O,F)=>{v=O,w=F});const I=this.pendingTasks.add();return FM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:u,resolve:v,reject:w,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(O=>Promise.reject(O))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LM(e){return!(e instanceof RD||e instanceof ND)}class BM{}let PV=(()=>{class e{constructor(n,r,o,u,d){this.router=n,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(mc(n=>n instanceof Hd),gg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=mb(u.providers,n,`Route: ${u.path}`));const d=u._injector??n,v=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(v,u.children??u._loadedRoutes))}return Or(o).pipe(vu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Lt(null);const u=o.pipe(Ut(d=>null===d?Lt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??n,d.routes))));return r.loadComponent&&!r._loadedComponent?Or([u,this.loader.loadComponent(r)]).pipe(vu()):u})}static#e=this.\u0275fac=function(r){return new(r||e)(gt(xs),gt(hS),gt(aa),gt(BM),gt(jD))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const qD=new yt("");let VM=(()=>{class e{constructor(n,r,o,u,d={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof M0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Hd?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof yg&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function oE(){throw new Error("invalid")}()};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();function wc(e,t){return{\u0275kind:e,\u0275providers:t}}function HM(){const e=ct(Qa);return t=>{const n=e.get(dg);if(t!==n.components[0])return;const r=e.get(xs),o=e.get(UM);1===e.get(WD)&&r.initialNavigation(),e.get(zM,null,gn.Optional)?.setUpPreloading(),e.get(qD,null,gn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const UM=new yt("",{factory:()=>new br}),WD=new yt("",{providedIn:"root",factory:()=>1}),zM=new yt("");function BV(e){return wc(0,[{provide:zM,useExisting:PV},{provide:BM,useExisting:e}])}const jM=new yt("ROUTER_FORROOT_GUARD"),$V=[Xb,{provide:wm,useClass:xD},xs,Sm,{provide:Dh,useFactory:function $M(e){return e.routerState.root},deps:[xs]},jD,[]];function HV(){return new bS("Router",xs)}let GM=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[$V,[],{provide:Eg,multi:!0,useValue:n},{provide:jM,useFactory:GV,deps:[[xs,new So,new Md]]},{provide:F0,useValue:r||{}},r?.useHash?{provide:vh,useClass:Yk}:{provide:vh,useClass:YS},{provide:qD,useFactory:()=>{const e=ct(vF),t=ct(Ir),n=ct(F0),r=ct(k0),o=ct(wm);return n.scrollOffset&&e.setOffset(n.scrollOffset),new VM(o,r,e,t,n)}},r?.preloadingStrategy?BV(r.preloadingStrategy).\u0275providers:[],{provide:bS,multi:!0,useFactory:HV},r?.initialNavigation?qV(r):[],r?.bindToComponentInputs?wc(8,[yM,{provide:A0,useExisting:yM}]).\u0275providers:[],[{provide:qM,useFactory:HM},{provide:Hb,multi:!0,useExisting:qM}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Eg,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(gt(jM,8))};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({})}return e})();function GV(e){return"guarded"}function qV(e){return["disabled"===e.initialNavigation?wc(3,[{provide:Ob,multi:!0,useFactory:()=>{const t=ct(xs);return()=>{t.setUpLocationChangeListener()}}},{provide:WD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?wc(2,[{provide:WD,useValue:0},{provide:Ob,multi:!0,deps:[Qa],useFactory:t=>{const n=t.get(Zk,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=t.get(xs),u=t.get(UM);FM(o,()=>{r(!0)}),t.get(k0).afterPreactivation=()=>(r(!0),u.closed?Lt(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const qM=new yt("");let ZV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Fs({type:e,selectors:[["cr-root"]],decls:1,vars:0,template:function(r,o){1&r&&Qv(0,"router-outlet")},dependencies:[BD]})}return e})();const Sg=new yt("CallSetDisabledState",{providedIn:"root",factory:()=>U0}),U0="always";let OI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({})}return e})(),q$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({imports:[OI]})}return e})(),Z$=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Sg,useValue:n.callSetDisabledState??U0}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({imports:[q$]})}return e})();class W0{}class Z0{}class wl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),u=o.toLowerCase(),d=n.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof wl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new wl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof wl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const u=t.value;if(u){let d=this.headers.get(n);if(!d)return;d=d.filter(v=>-1===u.indexOf(v)),0===d.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,d)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(u=>u.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class K${encodeKey(t){return XI(t)}encodeValue(t){return XI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const X$=/%(\d[a-f0-9])/gi,Q$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XI(e){return encodeURIComponent(e).replace(X$,(t,n)=>Q$[n]??t)}function K0(e){return`${e}`}class Gd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new K$,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Y$(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,v]=-1==u?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,u)),t.decodeValue(o.slice(u+1))],w=n.get(d)||[];w.push(v),n.set(d,w)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(K0):[K0(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(u=>{n.push({param:r,value:u,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Gd({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(K0(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(K0(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class J${constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function QI(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function JI(e){return typeof Blob<"u"&&e instanceof Blob}function eT(e){return typeof FormData<"u"&&e instanceof FormData}class Fm{constructor(t,n,r,o){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function eH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new wl),this.context||(this.context=new J$),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=n;else{const v=n.indexOf("?");this.urlWithParams=n+(-1===v?"?":v<n.length-1?"&":"")+d}}else this.params=new Gd,this.urlWithParams=n}serializeBody(){return null===this.body?null:QI(this.body)||JI(this.body)||eT(this.body)||function tH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eT(this.body)?null:JI(this.body)?this.body.type||null:QI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,_=t.params||this.params;const I=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((O,F)=>O.set(F,t.setHeaders[F]),w)),t.setParams&&(_=Object.keys(t.setParams).reduce((O,F)=>O.set(F,t.setParams[F]),_)),new Fm(n,r,u,{params:_,headers:w,context:I,reportProgress:v,responseType:o,withCredentials:d})}}var xg=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(xg||{});class pC{constructor(t,n=200,r="OK"){this.headers=t.headers||new wl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gC extends pC{constructor(t={}){super(t),this.type=xg.ResponseHeader}clone(t={}){return new gC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Mg extends pC{constructor(t={}){super(t),this.type=xg.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Mg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class tT extends pC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function vC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let nT=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let u;if(n instanceof Fm)u=n;else{let w,_;w=o.headers instanceof wl?o.headers:new wl(o.headers),o.params&&(_=o.params instanceof Gd?o.params:new Gd({fromObject:o.params})),u=new Fm(n,r,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:_,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=Lt(u).pipe(gg(w=>this.handler.handle(w)));if(n instanceof Fm||"events"===o.observe)return d;const v=d.pipe(mc(w=>w instanceof Mg));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return v.pipe(en(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return v.pipe(en(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return v.pipe(en(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return v.pipe(en(w=>w.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Gd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,vC(o,r))}post(n,r,o={}){return this.request("POST",n,vC(o,r))}put(n,r,o={}){return this.request("PUT",n,vC(o,r))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(W0))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();function oT(e,t){return t(e)}function rH(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const oH=new yt(""),Lm=new yt(""),aT=new yt("");function aH(){let e=null;return(t,n)=>{null===e&&(e=(ct(oH,{optional:!0})??[]).reduceRight(rH,oT));const r=ct(Yy),o=r.add();return e(t,n).pipe(vm(()=>r.remove(o)))}}let sT=(()=>{class e extends W0{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ct(Yy)}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Lm),...this.injector.get(aT,[])]));this.chain=o.reduceRight((u,d)=>function iH(e,t,n){return(r,o)=>n.runInContext(()=>t(r,u=>e(u,o)))}(u,d,this.injector),oT)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(vm(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Z0),gt(aa))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const cH=/^\)\]\}',?\n/;let lT=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Ue(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Or(r.\u0275loadImpl()):Lt(null)).pipe(co(()=>new Ct(u=>{const d=r.build();if(d.open(n.method,n.urlWithParams),n.withCredentials&&(d.withCredentials=!0),n.headers.forEach((de,we)=>d.setRequestHeader(de,we.join(","))),n.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const de=n.detectContentTypeHeader();null!==de&&d.setRequestHeader("Content-Type",de)}if(n.responseType){const de=n.responseType.toLowerCase();d.responseType="json"!==de?de:"text"}const v=n.serializeBody();let w=null;const _=()=>{if(null!==w)return w;const de=d.statusText||"OK",we=new wl(d.getAllResponseHeaders()),je=function dH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(d)||n.url;return w=new gC({headers:we,status:d.status,statusText:de,url:je}),w},I=()=>{let{headers:de,status:we,statusText:je,url:ye}=_(),ht=null;204!==we&&(ht=typeof d.response>"u"?d.responseText:d.response),0===we&&(we=ht?200:0);let xt=we>=200&&we<300;if("json"===n.responseType&&"string"==typeof ht){const qt=ht;ht=ht.replace(cH,"");try{ht=""!==ht?JSON.parse(ht):null}catch(ii){ht=qt,xt&&(xt=!1,ht={error:ii,text:ht})}}xt?(u.next(new Mg({body:ht,headers:de,status:we,statusText:je,url:ye||void 0})),u.complete()):u.error(new tT({error:ht,headers:de,status:we,statusText:je,url:ye||void 0}))},O=de=>{const{url:we}=_(),je=new tT({error:de,status:d.status||0,statusText:d.statusText||"Unknown Error",url:we||void 0});u.error(je)};let F=!1;const W=de=>{F||(u.next(_()),F=!0);let we={type:xg.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(we.total=de.total),"text"===n.responseType&&d.responseText&&(we.partialText=d.responseText),u.next(we)},oe=de=>{let we={type:xg.UploadProgress,loaded:de.loaded};de.lengthComputable&&(we.total=de.total),u.next(we)};return d.addEventListener("load",I),d.addEventListener("error",O),d.addEventListener("timeout",O),d.addEventListener("abort",O),n.reportProgress&&(d.addEventListener("progress",W),null!==v&&d.upload&&d.upload.addEventListener("progress",oe)),d.send(v),u.next({type:xg.Sent}),()=>{d.removeEventListener("error",O),d.removeEventListener("abort",O),d.removeEventListener("load",I),d.removeEventListener("timeout",O),n.reportProgress&&(d.removeEventListener("progress",W),null!==v&&d.upload&&d.upload.removeEventListener("progress",oe)),d.readyState!==d.DONE&&d.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(vx))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const mC=new yt("XSRF_ENABLED"),cT=new yt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),dT=new yt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class fT{}let pH=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ax(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(gt(es),gt(uc),gt(cT))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();function gH(e,t){const n=e.url.toLowerCase();if(!ct(mC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=ct(fT).getToken(),o=ct(dT);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var qd=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(qd||{});function vH(...e){const t=[nT,lT,sT,{provide:W0,useExisting:sT},{provide:Z0,useExisting:lT},{provide:Lm,useValue:gH,multi:!0},{provide:mC,useValue:!0},{provide:fT,useClass:pH}];for(const n of e)t.push(...n.\u0275providers);return function Iv(e){return{\u0275providers:e}}(t)}const hT=new yt("LEGACY_INTERCEPTOR_FN");function mH(){return function _h(e,t){return{\u0275kind:e,\u0275providers:t}}(qd.LegacyInterceptors,[{provide:hT,useFactory:aH},{provide:Lm,useExisting:hT,multi:!0}])}let yH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({providers:[vH(mH())]})}return e})();var _H=ie(6100),SH=ie.n(_H),Wd=ie(6990);function Gt(e){return function xH(e){return void 0!==e.apply}(e)?e():e}function bc(e){const t=e;return t.setDefault=function(n,r){return e[n]||(e[n]=r),t},t}const MH=(e,t)=>Zt.Style.properties[e][t],IH=(e,t,n)=>n(Gt(Zt.Style.properties[e][t]));function pT(e,t,n){return"data:image/svg+xml;utf8,"+encodeURIComponent(function FH(e,t=100,n=100){return(new DOMParser).parseFromString(`<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg><svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='${t}' height='${n}'>${e}</svg>`,"text/xml").documentElement}(e,t,n).outerHTML)}const Sh=(e,t,n)=>`${e}x${t}-${n}`,yC=new Map([["Protein",(0,Wd.memoize)((e,t,n)=>{const r=Gt(Zt.Style.properties.global.select),o=Gt(Zt.Style.properties.global.hover),u=Gt(Zt.Style.properties.global.thickness),d=Gt(Zt.Style.properties.protein.radius),v=d+u,w=d-u;return{hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${v}\n            a ${v} ${v} 0 0 1 ${v} -${v}\n            h ${e-2*v}\n            a ${v} ${v} 0 0 1 ${v} ${v}\n            a ${v} ${w} 0 0 0 -${v} -${w}\n            h -${e-2*v}\n            a ${v} ${w} 0 0 0 -${v} ${w}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":v},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${v} ${v} 0 0 0 ${v} ${v}\n            h ${e-2*v}\n            a ${v} ${v} 0 0 0 ${v} -${v}\n            a ${v} ${w} 0 0 1 -${v} ${w}\n            h -${e-2*v}\n            a ${v} ${w} 0 0 1 -${v} -${w}\n            Z"/>\n`,"background-position-y":t-d,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":v}}},Sh)],["GenomeEncodedEntity",(0,Wd.memoize)((e,t,n)=>{const r=Gt(Zt.Style.properties.global.select),o=Gt(Zt.Style.properties.global.hover),u=Gt(Zt.Style.properties.global.thickness),d=Gt(Zt.Style.properties.genomeEncodedEntity.radius),w=d+u,_=d-u,I=2*u,O=3*I;return{background:{"background-image":`\n        \n  <defs>\n    <rect id="rect" rx="${d}" ry="${d}" x="0" y="0" width="${e}" height="${t}"/>\n    <clipPath id="clip">\n      <use href="#rect"/>\n    </clipPath>\n  </defs>\n  \n        <use href="#rect" clip-path="url(#clip)" stroke-width="${I}" stroke="${Gt(Zt.Style.properties.genomeEncodedEntity.stroke)}" fill="none" stroke-linecap="round" stroke-dasharray="${O} ${O}"/>\n      `},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${w}\n            a ${w} ${w} 0 0 1 ${w} -${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 1 ${w} ${w}\n            a ${w} ${_} 0 0 0 -${w} -${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 0 -${w} ${_}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":w},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${w} ${w} 0 0 0 ${w} ${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 0 ${w} -${w}\n            a ${w} ${_} 0 0 1 -${w} ${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 1 -${w} -${_}\n            Z"/>\n`,"background-position-y":t-d,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":w}}},Sh)],["RNA",(0,Wd.memoize)((e,t,n)=>{const r=Gt(Zt.Style.properties.global.thickness),o=Gt(Zt.Style.properties.global.select),u=Gt(Zt.Style.properties.global.hover),v=Gt(Zt.Style.properties.rna.radius),w=v+r,_=v-r;return{hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${u}"/>`,"background-position-y":-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${w} ${w} 0 0 0 ${w} ${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 0 ${w} -${w}\n            a ${w} ${_} 0 0 1 -${w} ${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 1 -${w} -${_}\n            Z"/>\n`,"background-position-y":t-v,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":w}}},Sh)],["Gene",(0,Wd.memoize)((e,t,n)=>{const r=Gt(Zt.Style.properties.global.thickness),o=Gt(Zt.Style.properties.gene.decorationHeight),u=Gt(Zt.Style.properties.gene.arrowHeadSize),d=Gt(Zt.Style.properties.gene.arrowRadius),v=Gt(Zt.Style.properties.gene.fill),w=Gt(Zt.Style.properties.global.select),_=Gt(Zt.Style.properties.global.hover),I=Math.sqrt(3*Math.pow(u,2)/4),O=e/2,F=Gt(Zt.Style.properties.gene.borderRadius),W=F+r,oe=F-r;return{decorators:[{"background-image":`\n          <path fill="none" stroke="${v}" stroke-width="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M ${O} ${o+r}\n            v -${o-d-(u+r)/2+r}\n            a ${d} ${d} 0 0 1 ${d} -${d}\n            h ${O-r-d}\n          "/>\n            <path fill="${v}" stroke="${v}" stroke-width="${r}" stroke-linejoin="round"  d="\n            M ${e-I-r/2} ${u/2+r/2}\n            v -${u/2}\n            l ${I} ${u/2}\n            l -${I} ${u/2}\n            v -${u/2}\n            z\n          "/>`,"background-position-y":-o,"bounds-expansion":o,"background-height":o+r,"background-clip":"none","background-image-containment":"over"}],hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${_}"/>`,"background-position-y":-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${w}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${W} ${W} 0 0 0 ${W} ${W}\n            h ${e-2*W}\n            a ${W} ${W} 0 0 0 ${W} -${W}\n            a ${W} ${oe} 0 0 1 -${W} ${oe}\n            h -${e-2*W}\n            a ${W} ${oe} 0 0 1 -${W} -${oe}\n            Z"/>\n`,"background-position-y":t-F,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":W}}},Sh)],["Molecule",(0,Wd.memoize)((e,t,n)=>{const r=Gt(Zt.Style.properties.global.select),o=Gt(Zt.Style.properties.global.hover),u=Gt(Zt.Style.properties.global.thickness),d=Gt(n?Zt.Style.properties.molecule.drug:Zt.Style.properties.molecule.stroke),v=Gt(Zt.Style.properties.molecule.fill),w=u/2,_=t/2,I=_+u,O=_-u,F=Math.min(I,e/2);return{background:{"background-image":`<rect x="${w}" y="${w}" width="${e-u}" height="${t-u}" rx="${_}" stroke="${d}" fill="${v}" stroke-width="${u}"/>`},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${I}\n            a ${F} ${I} 0 0 1 ${F} -${I}\n            h ${e-2*F}\n            a ${F} ${I} 0 0 1 ${F} ${I}\n            a ${F} ${O} 0 0 0 -${F} -${O}\n            h -${e-2*F}\n            a ${F} ${O} 0 0 0 -${F} ${O}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":I},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${F} ${I} 0 0 0 ${F} ${I}\n            h ${e-2*F}\n            a ${F} ${I} 0 0 0 ${F} -${I}\n            a ${F} ${O} 0 0 1 -${F} ${O}\n            h -${e-2*F}\n            a ${F} ${O} 0 0 1 -${F} -${O}\n            Z"/>\n`,"background-position-y":_,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":I}}},Sh)],["Complex",(0,Wd.memoize)((e,t,n)=>{const r=Gt(Zt.Style.properties.global.select),o=Gt(Zt.Style.properties.global.hover),u=Gt(Zt.Style.properties.global.thickness),d=Gt(Zt.Style.properties.complex.cut),v=Gt(n?Zt.Style.properties.complex.drug:Zt.Style.properties.complex.fill),_=2*d,I=2*u,O=t-_-2*I,W=t/2+u,oe=`<defs>\n  <path id="octogon" d="\n      M ${_+I+0} ${I}\n      H ${e-d-I-0}\n      l ${d} ${d}\n      v ${O}\n      l  -${d} ${d}\n      H ${_+I+0}\n      l -${d} 0 -${d} -${d}\n      v -${O}\n      l  ${d} -${d}\n      Z\n      "/>\n  </defs>`;return{background:{"background-image":`\n${oe}\n<use href="#octogon" fill="${v}" stroke="${v}" stroke-width="${2*I}" stroke-linejoin="round"/>\n`},hover:{"background-image":`\n      <path stroke="${o}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} ${W}\n      v -${O/2}\n      l ${d} -${d+u}\n      H ${e-d-I}\n      l ${d} ${d+u}\n      v ${O/2}\n      " />\n      `,"background-position-y":-u,"background-height":W},select:{"background-image":`\n      <path stroke="${r}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} 0\n      v ${O/2}\n      l ${d} ${d+u}\n      H ${e-d-I}\n      l ${d} -${d+u}\n      v -${O/2}\n      " />\n      `,"background-position-y":t/2,"background-height":W},decorators:[{"background-image":`\n         ${oe}\n         <use href="#octogon" fill="none" stroke="${Gt(Zt.Style.properties.complex.stroke)}" stroke-width="${I}" stroke-linejoin="round"/>\n         <use href="#octogon" fill="${v}"/>\n         `}]}},Sh)],["EntitySet",(0,Wd.memoize)((e,t,n)=>{const r=Gt(Zt.Style.properties.global.select),o=Gt(Zt.Style.properties.global.hover),u=Gt(Zt.Style.properties.global.thickness),d=Gt(Zt.Style.properties.entitySet.radius),v=Gt(n?Zt.Style.properties.entitySet.drug:Zt.Style.properties.entitySet.fill),_=2*d,I=2*u,O=t/2-_-u,F=t/2+u,W=`<defs>\n   <path id="curly" d="\n       M ${_+u} ${u}\n       H ${e-_-u}\n       a ${d} ${d} 0 0 1 ${d} ${d}\n\n       v ${O}\n       a ${d} ${d} 0 0 0 ${d} ${d}\n       a ${d} ${d} 0 0 0 -${d} ${d}\n       v ${O}\n\n       a ${d} ${d} 0 0 1 -${d} ${d}\n       H ${_+u}\n       a ${d} ${d} 0 0 1 -${d} -${d}\n\n       v -${O}\n       a ${d} ${d} 0 0 0 -${d} -${d}\n       a ${d} ${d} 0 0 0 ${d} -${d}\n       v -${O}\n\n       a ${d} ${d} 0 0 1 ${d} -${d}\n       Z\n       "/>\n   <clipPath id="inside">\n     <use href="#curly"/>\n   </clipPath>\n </defs>`;return{background:{"background-image":`\n       ${W}\n       <use href="#curly" fill="${v}" stroke="${v}" stroke-width="${I}" stroke-linejoin="round"/>\n       `},hover:{"background-image":`\n       <path stroke="${o}" stroke-width="${I}" fill="none" stroke-linejoin="round" d="\n         M ${u+d} ${F+d}\n         a ${d} ${d} 0 0 0 -${d} -${d}\n         a ${d} ${d} 0 0 0 ${d} -${d}\n         v -${O}\n         a ${d} ${d+u} 0 0 1 ${d} -${d+u}\n         H ${e-_-u}\n         a ${d} ${d+u} 0 0 1 ${d} ${d+u}\n         v ${O}\n         a ${d} ${d} 0 0 0 ${d} ${d}\n         a ${d} ${d} 0 0 0 -${d} ${d}\n       "/>`,"background-position-y":-u,"background-height":F},select:{"background-image":`\n       <path stroke="${r}" stroke-width="${I}" fill="none" stroke-linejoin="round" d="\n         M ${u+d} ${-d}\n         a ${d} ${d} 0 0 1 -${d} ${d}\n         a ${d} ${d} 0 0 1 ${d} ${d}\n         v ${O}\n         a ${d} ${d+u} 0 0 0 ${d} ${d+u}\n         H ${e-_-u}\n         a ${d} ${d+u} 0 0 0 ${d} -${d+u}\n         v -${O}\n         a ${d} ${d} 0 0 1 ${d} -${d}\n         a ${d} ${d} 0 0 1 -${d} -${d}\n       "/>`,"background-position-y":t/2,"background-height":F},decorators:[{"background-image":`\n       ${W}\n       <use href="#curly" fill="none" stroke="${Gt(Zt.Style.properties.entitySet.stroke)}" stroke-width="${I}" clip-path="url(#inside)"/>\n       <rect fill="${v}" x="${I+_}" y="${u}"\n             width="${e-2*_-2*I}"\n             height="${t-I}"/>\n       `}]}},Sh)]]),gT={"background-image":"","background-position-x":"0","background-position-y":"0","background-offset-x":"0","background-offset-y":"0","background-width":"100%","background-height":"100%","background-fit":"none","background-clip":"none","background-image-containment":"over","background-image-smoothing":"yes","background-height-relative-to":"inner","background-width-relative-to":"inner","background-repeat":"no-repeat","background-image-crossorigin":"anonymous","bounds-expansion":0};function vT(e,t){const n={};return new Set(Object.keys(t)).forEach(o=>n[o]=e.map(u=>u[o]||t[o])),n}const xh=(0,Wd.memoize)(e=>{let t=[];const n=e.classes().find(w=>yC.has(w));if(!n)return vT(t,gT);const r=yC.get(n),[o,u,d]=[e.data("width"),e.data("height"),e.hasClass("drug")],v=r(o,u,d);return v.background&&t.push(v.background),e.selected()&&v.select&&t.push(v.select),e.hasClass("hover")&&v.hover&&t.push(v.hover),e.hasClass("flag")&&v.flag&&t.push(v.flag),v.decorators&&t.push(...v.decorators),d&&t.push(((e,t,n)=>{const r=Gt(Zt.Style.properties.global.thickness),o=Gt("Molecule"!==n?Zt.Style.properties.global.onPrimary:Zt.Style.properties.molecule.drug);return{"background-image":`\n      <path style="transform: scale(2)" fill="${o}" stroke-width="0.4" stroke="${o}" d="M3.2 4C3.3 4 3.4 4 3.6 4L6.75 8.81L5.7 10.15C5.7 10.15 5.53985 10.3884 5.31824 10.6092C5.00434 10.922 4.6582 11.3 4.28711 11.3C4.19141 11.3 4.2 11.3 4.1 11.3V11.5H6.4V11.3C6.2 11.3 6 11.3 5.9 11.2C5.8 11.1 5.8 11 5.8 10.9C5.8 10.6301 5.9 10.5547 6.16055 10.226L7 9.2L7.65291 10.226C7.82889 10.5025 8 10.7344 8 10.9C8 11.0656 7.90095 11.3 7.65291 11.3C7.55291 11.3 7.6 11.3 7.4 11.3V11.5H10.2V11.3C9.9 11.3 9.7 11.2 9.5 11C9.24121 10.7412 9 10.5 8.6 10L7.6 8.5L8.48711 7.35309C8.55228 7.28792 8.61656 7.21558 8.68081 7.13924C9.09787 6.6437 9.64859 6 10.2 6.01309V5.81309H7.8V6.01309C8 6.01309 8.2 6.01309 8.3 6.01309C8.45586 6.01309 8.6 6.20329 8.6 6.31309C8.6 6.62136 8.43963 6.81922 8.2462 7.03337L7.3 8.1L4.5 3.9C5.1 3.8 5.4 3.61 5.7 3.31C6 3.01 6.2 2.6 6.2 2.2C6.2 1.8 6.08711 1.47 5.78711 1.17C5.52798 0.910875 5.3 0.8 5 0.7C4.6 0.6 4.1 0.5 3.4 0.5H1V0.7H1.2C1.82201 0.7 2 1.14292 2 1.7V6C2 6.59634 2 6.9 1.2 6.9H1V7.1H3.8V6.9H3.6C2.9041 6.9 2.9 6.61047 2.9 6V4H3H3.2ZM3 3.7C3 3.7 3 3.7 2.9 3.7L2.88711 1C3.18711 0.9 3.4 0.9 3.6 0.9C4.47782 0.9 5 1.42405 5 2.3C5 3.40743 4.15401 3.7 3.2 3.7H3Z"/>\n    `,"background-position-x":("EntitySet"!==n?0:Gt(Zt.Style.properties.entitySet.radius))+3*r,"background-position-y":t/2-11+"px","background-width":"22px","background-height":"24px"}})(0,u,n)),t=t.map(w=>({...w,"background-image":pT(w["background-image"],w["background-width"]||o,w["background-height"]||u)})),vT(t,gT)},e=>e.id()+"-"+e.classes().toString()+"-s:"+e.selected());var Zt;!function(e){class t{constructor(o,u={}){this.p=MH,this.pm=IH,t.css=getComputedStyle(o);const d=bc(u.global||{}).setDefault("thickness",4).setDefault("surface",()=>t.css.getPropertyValue("--surface")||"#F6FEFF").setDefault("onSurface",()=>t.css.getPropertyValue("--on-surface")||"#001F24").setDefault("primary",()=>t.css.getPropertyValue("--primary")||"#006782").setDefault("onPrimary",()=>t.css.getPropertyValue("--on-primary")||"#FFFFFF").setDefault("positive",()=>t.css.getPropertyValue("--positive")||"#0C9509").setDefault("negative",()=>t.css.getPropertyValue("--negative")||"#BA1A1A").setDefault("select",()=>t.css.getPropertyValue("--select")||"#6EB3E4").setDefault("hover",()=>t.css.getPropertyValue("--hover")||"#78E076"),v=bc(u.compartment||{}).setDefault("opacity",.12).setDefault("fill",()=>t.css.getPropertyValue("--compartment")||"#E5834A"),w=bc(u.protein||{}).setDefault("fill",()=>t.css.getPropertyValue("--primary-contrast-1")||"#001F29").setDefault("drug",()=>t.css.getPropertyValue("--drug-contrast-1")||"#3E001D").setDefault("radius",8),_=bc(u.genomeEncodedEntity||{}).setDefault("fill",()=>Gt(w.fill)).setDefault("stroke",()=>Gt(d.primary)).setDefault("drug",()=>Gt(w.drug)).setDefault("radius",8),I=bc(u.rna||{}).setDefault("fill",()=>t.css.getPropertyValue("--primary-contrast-2")||"#003545").setDefault("drug",()=>t.css.getPropertyValue("--drug-contrast-2")||"#610B33").setDefault("radius",8),O=bc(u.gene||{}).setDefault("decorationHeight",20).setDefault("arrowHeadSize",10).setDefault("borderRadius",8).setDefault("arrowRadius",8).setDefault("fill",()=>t.css.getPropertyValue("--primary-contrast-3")||"#004D62"),F=bc(u.molecule||{}).setDefault("fill",()=>Gt(d.surface)).setDefault("stroke",()=>Gt(d.onSurface)).setDefault("drug",()=>t.css.getPropertyValue("--drug-contrast-4")||"#9C3D61"),W=bc(u.complex||{}).setDefault("cut",8).setDefault("fill",()=>t.css.getPropertyValue("--tertiary-contrast-1")||"#00315C").setDefault("stroke",()=>t.css.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.css.getPropertyValue("--drug-contrast-4")||"#7E2549"),oe=bc(u.entitySet||{}).setDefault("radius",8).setDefault("fill",()=>t.css.getPropertyValue("--tertiary-contrast-2")||"#1660A5").setDefault("stroke",()=>t.css.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.css.getPropertyValue("--drug-contrast-5")||"#BB557A");t.properties={global:d,compartment:v,protein:w,genomeEncodedEntity:_,rna:I,gene:O,molecule:F,complex:W,entitySet:oe}}bindToCytoscape(o){o.on("mouseover",u=>{u.target.addClass&&u.target.addClass("hover")}),o.on("mouseout",u=>{u.target.removeClass&&u.target?.removeClass("hover")})}getStyleSheet(){return[{selector:"*",style:{"font-family":"Helvetica","font-weight":600}},{selector:"node.Compartment",style:{shape:"round-rectangle",width:"1",height:"1","border-style":"double","text-opacity":.8,"text-halign":"center","text-valign":"top","text-margin-y":25,"overlay-opacity":0,color:this.p("compartment","fill"),"border-color":this.p("compartment","fill"),"background-color":this.p("compartment","fill"),"background-opacity":this.p("compartment","opacity"),"border-width":this.pm("global","thickness",o=>3*o)}},{selector:"node.drug",style:{"text-max-width":o=>o.width()-44+"px"}},{selector:"node.PhysicalEntity",style:{label:"data(displayName)",width:"data(width)",height:"data(height)","background-fit":"none","text-halign":"center","text-valign":"center","text-wrap":"wrap","text-max-width":"data(width)","background-image-smoothing":"no","background-image":o=>xh(o)["background-image"],"background-position-y":o=>xh(o)["background-position-y"]||0,"background-position-x":o=>xh(o)["background-position-x"]||0,"background-height":o=>xh(o)["background-height"]||"100%","background-width":o=>xh(o)["background-width"]||"100%","background-clip":o=>xh(o)["background-clip"]||"clipped","background-image-containment":o=>xh(o)["background-image-containment"]||"inside","bounds-expansion":this.p("global","thickness"),color:this.p("global","onPrimary")}},{selector:"node.Protein",style:{shape:"round-rectangle","background-color":this.p("protein","fill")}},{selector:"node.Protein.drug",style:{"background-color":this.p("protein","drug")}},{selector:"node.GenomeEncodedEntity",style:{shape:"round-rectangle","background-color":this.p("genomeEncodedEntity","fill")}},{selector:"node.GenomeEncodedEntity.drug",style:{"background-color":this.p("genomeEncodedEntity","drug")}},{selector:"node.RNA",style:{shape:"bottom-round-rectangle","background-color":this.p("rna","fill")}},{selector:"node.RNA.drug",style:{"background-color":this.p("rna","drug")}},{selector:"node.Gene",style:{shape:"bottom-round-rectangle","background-color":this.p("gene","fill"),"bounds-expansion":this.p("gene","decorationHeight")}},{selector:"node.Molecule",style:{"background-opacity":0,shape:"round-rectangle",color:this.p("molecule","stroke")}},{selector:"node.Molecule.drug",style:{color:this.p("molecule","drug")}},{selector:"node.EntitySet",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":o=>this.pm("global","thickness",u=>this.pm("entitySet","radius",d=>o.width()-2*d-6*u+"px"))}},{selector:"node.EntitySet.drug",style:{"text-max-width":o=>this.pm("global","thickness",u=>this.pm("entitySet","radius",d=>o.width()-2*d-6*u-44+"px"))}},{selector:"node.Complex",style:{"background-opacity":0,shape:"cut-rectangle","text-max-width":o=>this.pm("global","thickness",u=>o.width()-3*u+"px")}},{selector:"node.Pathway",style:{"text-max-width":o=>o.width()-44+"px"}},{selector:"node.reaction",style:{width:24,height:24,shape:"round-rectangle","text-halign":"center","text-valign":"center","border-width":this.p("global","thickness"),"border-color":this.p("global","onSurface"),color:this.p("global","onSurface"),"background-color":this.p("global","surface")}},{selector:"node.association",style:{shape:"ellipse","background-color":this.p("global","onSurface")}},{selector:" node.dissociation",style:{shape:"ellipse","border-style":"double","border-width":this.pm("global","thickness",o=>3*o)}},{selector:" node.uncertain",style:{label:"?","font-weight":600}},{selector:"node.omitted",style:{"background-image":n,"background-fit":"cover","background-height":"100%","background-width":"100%"}},{selector:"edge",style:{"curve-style":"bezier","line-cap":"round","source-endpoint":"outside-to-node","arrow-scale":1.5,width:this.p("global","thickness"),color:this.p("global","onSurface"),"line-color":this.p("global","onSurface"),"target-arrow-color":this.p("global","onSurface"),"mid-source-arrow-color":this.p("global","onSurface"),"mid-target-arrow-color":this.p("global","onSurface"),"source-arrow-color":this.p("global","onSurface")}},{selector:"edge.consumption",style:{"target-endpoint":"inside-to-node","source-endpoint":"outside-to-node"}},{selector:"edge.production",style:{"target-arrow-shape":"triangle"}},{selector:"edge.catalysis",style:{"target-arrow-shape":"circle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.positive-regulation",style:{"target-arrow-shape":"triangle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.negative-regulation",style:{"target-arrow-shape":"tee","line-cap":"butt","source-endpoint":"inside-to-node","target-arrow-color":this.p("global","negative")}},{selector:"edge.set-to-member",style:{"target-arrow-shape":"circle","line-style":"dashed","line-dash-pattern":[6,10]}},{selector:"edge[stoichiometry > 1]",style:{label:"data(stoichiometry)","text-background-color":this.p("global","surface"),"text-background-opacity":1,"text-border-width":this.pm("global","thickness",o=>o/2),"text-border-opacity":1,"text-border-color":this.p("global","onSurface"),"text-background-shape":"roundrectangle","text-background-padding":this.pm("global","thickness",o=>o+"px")}},{selector:"edge[?weights]",style:{"curve-style":"segments","segment-distances":"data(distances)","segment-weights":"data(weights)","edge-distances":"node-position"}}]}update(o){for(let u of yC.values())u.cache.clear();o.style(this.getStyleSheet())}}e.Style=t;const n=pT('<line x1="2.5" y1="3" x2="4.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/><line x1="5.5" y1="3" x2="7.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/>',10,10)}(Zt||(Zt={}));var e,BH=Object.create,mT=Object.defineProperty,VH=Object.getOwnPropertyDescriptor,$H=Object.getOwnPropertyNames,HH=Object.getPrototypeOf,UH=Object.prototype.hasOwnProperty,wC=(e=function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e),bC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),GH=bC((e,t)=>{t.exports=function(n){return n&&"object"==typeof n&&"function"==typeof n.copy&&"function"==typeof n.fill&&"function"==typeof n.readUInt8}}),qH=bC((e,t)=>{t.exports="function"==typeof Object.create?function(n,r){n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,r){n.super_=r;var o=function(){};o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}}),WH=bC(e=>{var t=/%[sdj%]/g;e.format=function(Oe){if(!ht(Oe)){for(var et=[],St=0;St<arguments.length;St++)et.push(o(arguments[St]));return et.join(" ")}St=1;for(var Rr=arguments,Ko=Rr.length,mi=String(Oe).replace(t,function(yi){if("%%"===yi)return"%";if(St>=Ko)return yi;switch(yi){case"%s":return String(Rr[St++]);case"%d":return Number(Rr[St++]);case"%j":try{return JSON.stringify(Rr[St++])}catch{return"[Circular]"}default:return yi}}),tr=Rr[St];St<Ko;tr=Rr[++St])we(tr)||!Io(tr)?mi+=" "+tr:mi+=" "+o(tr);return mi},e.deprecate=function(Oe,et){if(qt(global.process))return function(){return e.deprecate(Oe,et).apply(this,arguments)};if(!0===process.noDeprecation)return Oe;var St=!1;return function Rr(){if(!St){if(process.throwDeprecation)throw new Error(et);process.traceDeprecation?console.trace(et):console.error(et),St=!0}return Oe.apply(this,arguments)}};var r,n={};function o(Oe,et){var St={seen:[],stylize:d};return arguments.length>=3&&(St.depth=arguments[2]),arguments.length>=4&&(St.colors=arguments[3]),de(et)?St.showHidden=et:et&&e._extend(St,et),qt(St.showHidden)&&(St.showHidden=!1),qt(St.depth)&&(St.depth=2),qt(St.colors)&&(St.colors=!1),qt(St.customInspect)&&(St.customInspect=!0),St.colors&&(St.stylize=u),w(St,Oe,St.depth)}function u(Oe,et){var St=o.styles[et];return St?"\x1b["+o.colors[St][0]+"m"+Oe+"\x1b["+o.colors[St][1]+"m":Oe}function d(Oe,et){return Oe}function w(Oe,et,St){if(Oe.customInspect&&et&&Rg(et.inspect)&&et.inspect!==e.inspect&&(!et.constructor||et.constructor.prototype!==et)){var Rr=et.inspect(St,Oe);return ht(Rr)||(Rr=w(Oe,Rr,St)),Rr}var Ko=function _(Oe,et){if(qt(et))return Oe.stylize("undefined","undefined");if(ht(et)){var St="'"+JSON.stringify(et).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Oe.stylize(St,"string")}return ye(et)?Oe.stylize(""+et,"number"):de(et)?Oe.stylize(""+et,"boolean"):we(et)?Oe.stylize("null","null"):void 0}(Oe,et);if(Ko)return Ko;var mi=Object.keys(et),tr=function v(Oe){var et={};return Oe.forEach(function(St,Rr){et[St]=!0}),et}(mi);if(Oe.showHidden&&(mi=Object.getOwnPropertyNames(et)),Kd(et)&&(mi.indexOf("message")>=0||mi.indexOf("description")>=0))return I(et);if(0===mi.length){if(Rg(et))return Oe.stylize("[Function"+(et.name?": "+et.name:"")+"]","special");if(ii(et))return Oe.stylize(RegExp.prototype.toString.call(et),"regexp");if(uu(et))return Oe.stylize(Date.prototype.toString.call(et),"date");if(Kd(et))return I(et)}var SC,yi="",Yd=!1,Q0=["{","}"];return oe(et)&&(Yd=!0,Q0=["[","]"]),Rg(et)&&(yi=" [Function"+(et.name?": "+et.name:"")+"]"),ii(et)&&(yi=" "+RegExp.prototype.toString.call(et)),uu(et)&&(yi=" "+Date.prototype.toUTCString.call(et)),Kd(et)&&(yi=" "+I(et)),0!==mi.length||Yd&&0!=et.length?St<0?ii(et)?Oe.stylize(RegExp.prototype.toString.call(et),"regexp"):Oe.stylize("[Object]","special"):(Oe.seen.push(et),SC=Yd?function O(Oe,et,St,Rr,Ko){for(var mi=[],tr=0,oo=et.length;tr<oo;++tr)xT(et,String(tr))?mi.push(F(Oe,et,St,Rr,String(tr),!0)):mi.push("");return Ko.forEach(function(yi){yi.match(/^\d+$/)||mi.push(F(Oe,et,St,Rr,yi,!0))}),mi}(Oe,et,St,tr,mi):mi.map(function(pz){return F(Oe,et,St,tr,pz,Yd)}),Oe.seen.pop(),function W(Oe,et,St){var Ko=Oe.reduce(function(mi,tr){return tr.indexOf("\n"),mi+tr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ko>60?St[0]+(""===et?"":et+"\n ")+" "+Oe.join(",\n  ")+" "+St[1]:St[0]+et+" "+Oe.join(", ")+" "+St[1]}(SC,yi,Q0)):Q0[0]+yi+Q0[1]}function I(Oe){return"["+Error.prototype.toString.call(Oe)+"]"}function F(Oe,et,St,Rr,Ko,mi){var tr,oo,yi;if((yi=Object.getOwnPropertyDescriptor(et,Ko)||{value:et[Ko]}).get?oo=Oe.stylize(yi.set?"[Getter/Setter]":"[Getter]","special"):yi.set&&(oo=Oe.stylize("[Setter]","special")),xT(Rr,Ko)||(tr="["+Ko+"]"),oo||(Oe.seen.indexOf(yi.value)<0?(oo=we(St)?w(Oe,yi.value,null):w(Oe,yi.value,St-1)).indexOf("\n")>-1&&(oo=mi?oo.split("\n").map(function(Yd){return"  "+Yd}).join("\n").substr(2):"\n"+oo.split("\n").map(function(Yd){return"   "+Yd}).join("\n")):oo=Oe.stylize("[Circular]","special")),qt(tr)){if(mi&&Ko.match(/^\d+$/))return oo;(tr=JSON.stringify(""+Ko)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(tr=tr.substr(1,tr.length-2),tr=Oe.stylize(tr,"name")):(tr=tr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),tr=Oe.stylize(tr,"string"))}return tr+": "+oo}function oe(Oe){return Array.isArray(Oe)}function de(Oe){return"boolean"==typeof Oe}function we(Oe){return null===Oe}function ye(Oe){return"number"==typeof Oe}function ht(Oe){return"string"==typeof Oe}function qt(Oe){return void 0===Oe}function ii(Oe){return Io(Oe)&&"[object RegExp]"===EC(Oe)}function Io(Oe){return"object"==typeof Oe&&null!==Oe}function uu(Oe){return Io(Oe)&&"[object Date]"===EC(Oe)}function Kd(Oe){return Io(Oe)&&("[object Error]"===EC(Oe)||Oe instanceof Error)}function Rg(Oe){return"function"==typeof Oe}function EC(Oe){return Object.prototype.toString.call(Oe)}function _C(Oe){return Oe<10?"0"+Oe.toString(10):Oe.toString(10)}e.debuglog=function(Oe){if(qt(r)&&(r=process.env.NODE_DEBUG||""),Oe=Oe.toUpperCase(),!n[Oe])if(new RegExp("\\b"+Oe+"\\b","i").test(r)){var et=process.pid;n[Oe]=function(){var St=e.format.apply(e,arguments);console.error("%s %d: %s",Oe,et,St)}}else n[Oe]=function(){};return n[Oe]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=oe,e.isBoolean=de,e.isNull=we,e.isNullOrUndefined=function je(Oe){return null==Oe},e.isNumber=ye,e.isString=ht,e.isSymbol=function xt(Oe){return"symbol"==typeof Oe},e.isUndefined=qt,e.isRegExp=ii,e.isObject=Io,e.isDate=uu,e.isError=Kd,e.isFunction=Rg,e.isPrimitive=function CC(Oe){return null===Oe||"boolean"==typeof Oe||"number"==typeof Oe||"string"==typeof Oe||"symbol"==typeof Oe||typeof Oe>"u"},e.isBuffer=GH();var dz=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xT(Oe,et){return Object.prototype.hasOwnProperty.call(Oe,et)}e.log=function(){console.log("%s - %s",function fz(){var Oe=new Date,et=[_C(Oe.getHours()),_C(Oe.getMinutes()),_C(Oe.getSeconds())].join(":");return[Oe.getDate(),dz[Oe.getMonth()],et].join(" ")}(),e.format.apply(e,arguments))},e.inherits=qH(),e._extend=function(Oe,et){if(!et||!Io(et))return Oe;for(var St=Object.keys(et),Rr=St.length;Rr--;)Oe[St[Rr]]=et[St[Rr]];return Oe}}),yT=e=>e.reduce((t,n)=>t.concat(Array.isArray(n)?yT(n):n),[]),wT=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),bT=e=>e.reduce((t,n)=>t*n,1),DT=e=>Array.isArray(e)||wT(e)?[e.length].concat(DT(e[0])):[],DC=e=>[...e.slice(1).map((t,n)=>e.slice(n+1).reduce((r,o)=>r*o,1)),1],ZH=e=>{let{constructor:{name:t="Float32Array"}={}}=e||{};switch(t){case"Int8Array":return"int8";case"Uint8Array":return"uint8";case"Int16Array":return"int16";case"Uint16Array":return"uint16";case"Int32Array":return"int32";case"Uint32Array":return"uint32";case"Uint8ClampedArray":return"uint8c";case"Float32Array":return"float32";default:return"float64"}},Tg=e=>{switch(e){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"uint8c":return Uint8ClampedArray;case"float32":return Float32Array;default:return Float64Array}},We=(...e)=>new su(...e),an=class{x;shape;shapem1;strides;backstrides;length;lengthm1;nd;ndm1;index;coords;pos;factors;constructor(e){this.x=We(e);let o,{shape:t,strides:n,length:r}=this.x;for(this.length=r,this.lengthm1=r-1,this.nd=t.length,this.ndm1=this.nd-1,this.shape=Array(32).fill(0),this.strides=Array(32).fill(0),this.shapem1=Array(32).fill(0),this.coords=Array(32).fill(0),this.backstrides=Array(32).fill(0),this.factors=Array(32).fill(0),0!==this.nd&&(this.factors[this.nd-1]=1),o=0;o<this.nd;o+=1)this.shape[o]=t[o],this.shapem1[o]=t[o]-1,this.strides[o]=n[o],this.backstrides[o]=n[o]*this.shapem1[o],this.coords[o]=0,o>0&&(this.factors[this.ndm1-o]=this.factors[this.nd-o]*t[this.nd-o]);this.index=0,this.pos=0}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;let u,{ndm1:t,shapem1:n,strides:r,backstrides:o}=this;for(u=t;u>=0;u-=1){if(this.coords[u]<n[u]){this.coords[u]+=1,this.pos+=r[u];break}this.coords[u]=0,this.pos-=o[u]}return this.index+=1,e}[Symbol.iterator](){return this}},Ag=class{iters;shape;nd;length;lengthm1;numiter;index;pos;constructor(...e){let t,n,r,o,u,d;for(this.iters=e.map(v=>new an(v)),this.numiter=e.length,t=0,n=0;t<this.numiter;t+=1)n=Math.max(n,this.iters[t].x.shape.length);for(this.nd=n,this.shape=Array(n).fill(0),t=0;t<n;t+=1)for(this.shape[t]=1,o=0;o<this.numiter;o+=1)if(r=this.iters[o],u=t+r.x.shape.length-n,u>=0){if(d=r.x.shape[u],1==d)continue;if(1==this.shape[t])this.shape[t]=d;else if(this.shape[t]!==d)throw new Error("shape mismatch")}for(d=this.shape.reduce((v,w)=>v*w,1),this.length=d,this.lengthm1=d-1,t=0;t<this.numiter;t+=1)for(r=this.iters[t],r.nd=this.nd,r.ndm1=this.nd-1,r.length=d,r.lengthm1=d-1,n=r.x.shape.length,0!==n&&(r.factors[this.nd-1]=1),o=0;o<this.nd;o+=1)r.shape[o]=this.shape[o],r.shapem1[o]=this.shape[o]-1,u=o+n-this.nd,r.strides[o]=u<0||r.x.shape[u]!==this.shape[o]?0:r.x.strides[u],r.backstrides[o]=r.strides[o]*r.shapem1[o],o>0&&(r.factors[this.nd-o-1]=r.factors[this.nd-o]*this.shape[this.nd-o]);this.index=0,this.pos=Array(this.numiter).fill(0)}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;this.index+=1;let n,r,{numiter:t}=this;for(r=0;r<t;r+=1)n=this.iters[r],this.pos[r]=n.pos,n.next();return e}[Symbol.iterator](){return this}},{abs:KH}=Math;function YH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=KH(e[n]);return this}var{acos:XH}=Math;function QH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=XH(e[n]);return this}var Ii,{acosh:JH}=Math;function e3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=JH(e[n]);return this}try{Ii=wC("nblas")}catch{}var CT=Ii&&Ii.NoTrans;function s3(e,t=1){let{data:n,length:r,strides:o,dtype:u}=this,{data:d,strides:v}=We(e);try{let w=v[v.length-1],_=o[o.length-1];if(w!==_)throw new Error("inc_x and inc_y must be equal");!function t3(e,t,n,r,o,u,d){if(r.length/o!==t||u.length/d!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ii.daxpy(t,n,r,o,u,d);case"float32":return Ii.saxpy(t,n,r,o,u,d);default:throw new Error("wrong dtype")}}(u,r,t,d,w,n,_)}catch{let w=new Ag(this,e);for(let[_,I]of w)n[_]+=t*d[I]}return this}var{acos:u3}=Math;function l3(e){return u3(this.dot(We(e))/this.norm()/We(e).norm())}var{asin:c3}=Math;function d3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=c3(e[n]);return this}var{asinh:f3}=Math;function h3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=f3(e[n]);return this}var{atan:p3}=Math;function g3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=p3(e[n]);return this}var{atanh:v3}=Math;function m3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=v3(e[n]);return this}var Zd=(...e)=>new su(new Float64Array(e.reduce((t,n)=>t*n,1)),{shape:e}).fill(0);function w3(e){let[t,n]=this.shape,[r,o]=We(e).shape,{data:u}=this,{data:d}=We(e);if(0===r||0===o)return this;if(t!==r)throw new Error("rows do not match");let _,I,v=Zd(t,n+o),{data:w}=v;for(_=0;_<t;_+=1)for(I=0;I<n;I+=1)w[_*(n+o)+I]=u[_*n+I];for(_=0;_<r;_+=1)for(I=0;I<o;I+=1)w[_*(n+o)+(I+n)]=d[_*o+I];return v}function b3(e,t){let{data:n}=this,{data:r}=We(e),o=new Ag(this,e);for(let[u,d]of o)n[u]=t(n[u],r[d],u);return this}var{cbrt:D3}=Math;function C3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=D3(e[n]);return this}var{ceil:E3}=Math;function _3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=E3(e[n]);return this}function S3(...e){let{shape:t,length:n}=this;if(1===e.length){let[r]=e;if(r<0||r>n-1||!Number.isFinite(r))throw new Error("index out of bounds")}else if(!t.every((r,o)=>r>e[o]&&Number.isFinite(e[o])&&e[o]>=0))throw new Error("index out of bounds")}function x3(e){if(1!==this.shape.length&&1!==e.shape.length)throw new Error("combine operation not permitted for multidimensional arrays");let{length:t,data:n}=this,{length:r,data:o}=e;if(0===r)return this;if(0===t)return this.data=new(Tg(e.dtype))(o),this.length=r,this.dtype=e.dtype,this;let u=t+r,d=new(Tg(this.dtype))(u);return d.set(n),d.set(o,t),this.data=d,this.length=u,this.shape=[u],this}function M3(){let e=Zd(...this.shape),{data:t}=this,{data:n}=e,r=new Ag(this,e);for(let[o,u]of r)n[u]=t[o];return e}var{cos:I3}=Math;function T3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=I3(e[n]);return this}var{cosh:A3}=Math;function R3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=A3(e[n]);return this}function N3(e){let{length:t}=this,{length:n}=e;if(3!==t||3!==n)throw new Error("vectors must have three components");let o=this.z*e.x-this.x*e.z,u=this.x*e.y-this.y*e.x;return this.x=this.y*e.z-this.z*e.y,this.y=o,this.z=u,this}function O3(){this.square();let d,[e]=this.shape,[t,n]=this.copy().lu_factor(),{data:r}=t,o=1,u=1;for(d=0;d<e;d+=1)o*=r[d*e+d],d!==n[d]-1&&(u*=-1);return u*o}function P3(){this.square();let{length:e}=this,[t,n]=this.shape,r=Math.min(t,n);return this.reshape(e).slice(0,e,r+1)}function k3(e){let{data:t,length:n,strides:r,dtype:o}=this,{data:u,strides:d}=e,v=0;try{let w=d[d.length-1],_=r[r.length-1];if(w!==_)throw new Error("inc_x and inc_y must be equal");v=function n3(e,t,n,r,o,u){if(n.length/r!==t||o.length/u!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ii.ddot(t,n,r,o,u);case"float32":return Ii.sdot(t,n,r,o,u);default:throw new Error("wrong dtype")}}(o,n,u,w,t,_)}catch{let w=new Ag(this,e);for(let[_,I]of w)v+=t[_]*u[I]}return v}var Bm,ET=e=>{let r,t=new su(new Float64Array(e*e),{shape:[e,e]}),{data:n}=t;for(r=0;r<e;r+=1)n[r*e+r]=1;return t};try{Bm=wC("nlapack")}catch{}var X0=(e,t,n,r,o,u,d)=>{let[v]=e.shape,{data:w}=e,_=w[r*v+o],I=1/(t+n);w[r*v+o]=_-n*(w[u*v+d]+I*_),w[u*v+d]+=n*(_-I*w[u*v+d])};function F3(){this.square();let[e]=this.shape;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=Tg(this.dtype).from(this.data));let t=Bm.NoEigenvector,n=Bm.Eigenvector,r=Zd(e),o=Zd(e),u=Zd(e,e),d=Zd(e,e),{data:v}=this,{data:w}=r,{data:_}=o,{data:I}=u,{data:O}=d;return"float64"===this.dtype&&Bm.dgeev(t,n,e,v,e,w,_,I,e,O,e),"float32"===this.dtype&&Bm.sgeev(t,n,e,v,e,w,_,I,e,O,e),[r,d]}catch{let{data:t}=this,n=ET(e),r=0,o=0,u=0,d=0,v=0;do{for(o=0;o<e;o+=1)for(u=o+1;u<e;u+=1)Math.abs(t[o*e+u])>=r&&(r=Math.abs(t[o*e+u]),d=o,v=u);let w;if(Math.abs(t[d*e+v])<1e-36*Math.abs(t[v*e+v]))w=t[d*e+v]/t[v*e+v];else{let F=t[v*e+v]/2*t[d*e+v];w=1/(Math.abs(F)+Math.sqrt(F*F+1))}let _=1/Math.sqrt(w*w+1),I=w*_,O=t[d*e+v];for(t[d*e+v]=0,t[d*e+d]-=w*O,t[v*e+v]+=w*O,o=0;o<d;o+=1)X0(this,_,I,o,d,o,v);for(o=d+1;o<v;o+=1)X0(this,_,I,d,o,o,v);for(o=v+1;o<e;o+=1)X0(this,_,I,d,o,v,o);for(o=0;o<e;o+=1)X0(n,_,I,o,d,o,v)}while(r>=1e-9);return[this.diagonal(),n]}}function L3(e,t=1e-6){let{data:n}=this,{data:r}=e,o=new Ag(this,e);for(let[u,d]of o)if(Math.abs(n[u]-r[d])>t)return!1;return!0}function B3(e){let{shape:t}=this,{shape:n}=e;if(!t.every((r,o)=>r===n[o]))throw new Error(`shapes ${t} and ${n} do not match`)}function V3(e){let{length:t}=this,{length:n}=e;if(t!==n)throw new Error(`lengths ${t} and ${n} do not match`)}var{exp:$3}=Math;function H3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=$3(e[n]);return this}var{expm1:U3}=Math;function z3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=U3(e[n]);return this}function j3(e=0){let{data:t}=this,n=new an(this);for(let r of n)t[r]=e instanceof Function?e(r):e;return this}var{floor:G3}=Math;function q3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=G3(e[n]);return this}function W3(e){let{data:t}=this,n=new an(this);for(let r of n)e.call(this,t[r],r,t)}var Mh,{fround:Z3}=Math;function K3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=Z3(e[n]);return this}function Y3(){let o,u,d,v,w,{shape:[e,t],data:n}=this,r=0;for(d=0;d<e;d+=1){if(t<=r)return this;for(v=d;0===n[v*t+r];)if(v+=1,e===v&&(v=d,r+=1,t===r))return this;if(d!==v&&this.swap(d,v),u=n[d*t+r],0!==u)for(w=0;w<t;w+=1)n[d*t+w]/=u;for(v=0;v<e;v+=1)if(o=n[v*t+r],v!==d)for(w=0;w<t;w+=1)n[v*t+w]-=n[d*t+w]*o;r+=1}for(d=0;d<e;d+=1){for(u=0,v=0;v<t;v+=1)0===u&&(u=n[d*t+v]);if(0!==u)for(w=0;w<t;w+=1)n[d*t+w]/=u}return this}function X3(...e){this.check(...e);let u,d,{data:t,shape:n}=this,{length:r}=n,o=e[r-1];for(u=0;u<r-1;u+=1){let v=1;for(d=u+1;d<r;d+=1)v*=n[d];o+=e[u]*v}return t[o]}try{Mh=wC("nlapack")}catch{}function _T(e,t,n,r,o,u){if(r.length!==t*n)throw new Error("lengths do not match");switch(e){case"float64":return Mh.dgetrf(t,n,r,o,u);case"float32":return Mh.sgetrf(t,n,r,o,u);default:throw new Error("wrong dtype")}}function eU(){this.square();let{shape:[e],dtype:t}=this;try{let{data:n}=this,r=new Int32Array(e);return _T(t,e,e,n,e,r),function Q3(e,t,n,r,o){if(n.length!==t*t)throw new Error("lengths do not match");switch(e){case"float64":return Mh.dgetri(t,n,r,o);case"float32":return Mh.sgetri(t,n,r,o);default:throw new Error("wrong dtype")}}(t,e,n,e,r),this}catch{let n=ET(e),r=((e,t)=>We(this).augment(We(t)))(0,n).gauss(),o=Zd(e,e),u=Zd(e,e),{data:d}=r,{data:v}=o,{data:w}=u,_=new an(r),[I,O]=_.coords;for(let F of _)O<e?v[I*e+O]=d[F]:w[I*e+(O-e)]=d[F],[I,O]=_.coords;if(!o.equals(n))throw new Error("matrix is not invertible");return u}}var{log:tU}=Math;function nU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=tU(e[n]);return this}var{log10:rU}=Math;function iU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=rU(e[n]);return this}var{log1p:oU}=Math;function aU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=oU(e[n]);return this}var{log2:sU}=Math;function uU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=sU(e[n]);return this}function lU(){let[e,t]=this.copy().lu_factor(),n=e.copy(),r=e.copy(),{data:o}=n,{data:u}=r,d=new an(e),[v,w]=d.coords;for(let _ of d)w<v?u[_]=0:o[_]=v===w?1:0,[v,w]=d.coords;return[n,r,t]}function cU(){let{data:e,shape:[t],dtype:n}=this,r=new Int32Array(t);try{_T(n,t,t,e,t,r)}catch{let o,u,d,v,w,_,I;for(I=0;I<t;I+=1){for(v=I,o=Math.abs(e[I*t+I]),_=I+1;_<t;_+=1)u=Math.abs(e[_*t+I]),o<u&&(o=u,v=_);for(r[I]=v+1,v!==I&&this.swap(I,v),d=e[I*t+I],w=I+1;w<t;w+=1)e[w*t+I]/=d;for(w=I+1;w<t;w+=1){for(_=I+1;_<t-1;_+=2)e[w*t+_]-=e[w*t+I]*e[I*t+_],e[w*t+_+1]-=e[w*t+I]*e[I*t+_+1];_===t-1&&(e[w*t+_]-=e[w*t+I]*e[I*t+_])}}}return[this,r]}function dU(e){let{data:t}=this,n=new an(this),r=e.bind(this),o=this.copy(),{data:u}=o;for(let d of n)u[d]=r(t[d],d,t);return o}function fU(){let{data:e,length:t,strides:n,dtype:r}=this,o=Number.NEGATIVE_INFINITY;try{o=e[function r3(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ii.idamax(t,n,r);case"float32":return Ii.isamax(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])]}catch{let u=new an(this);for(let d of u){let v=e[d];o<v&&(o=v)}}return o}function hU(){let{data:e,length:t}=this,n=new an(this),r=0;for(let o of n)r+=e[o];return r/t}function pU(){let{data:e}=this,t=new an(this),n=Number.POSITIVE_INFINITY;for(let r of t){let o=e[r];n>o&&(n=o)}return n}function vU(e){let{shape:[t,n],data:r,dtype:o}=this.copy(),{shape:[u,d],data:v}=e.copy();if(n!==u)throw new Error("sizes do not match");let w=((e,t)=>new su(new Float64Array(e*t),{shape:[e,t]}))(t,d),{data:_}=w;try{!function i3(e,t,n,r,o,u,d,v,w,_,I,O,F,W){let{length:oe}=v,{length:de}=_,{length:we}=F;if(t===Ii.NoTrans&&oe!==w*r||t===Ii.Trans&&oe!==w*u)throw new Error("lengths do not match");if(n===Ii.NoTrans&&de!==I*u||n===Ii.Trans&&de!==I*o)throw new Error("lengths do not match");if(we!==W*r)throw new Error("lengths do not match");switch(e){case"float64":return Ii.dgemm(t,n,r,o,u,d,v,w,_,I,O,F,W);case"float32":return Ii.sgemm(t,n,r,o,u,d,v,w,_,I,O,F,W);default:throw new Error("wrong dtype")}}(o,CT,CT,t,d,n,1,r,n,v,d,0,_,d)}catch{let O,I=new an(w),[F,W]=I.coords;for(let oe of I){let de=0;for(O=0;O<n;O+=1)de+=r[F*n+O]*v[O*d+W];_[oe]=de,[F,W]=I.coords}}return w}var{sqrt:mU}=Math;function yU(){let{data:e,length:t,strides:n,dtype:r}=this,o=0;try{o=function o3(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ii.dnrm2(t,n,r);case"float32":return Ii.snrm2(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])}catch{o=mU(this.dot(this))}return o}function wU(){return this.scale(1/this.norm())}var{pow:bU}=Math;function DU(e){let{data:t}=this,n=new an(this);for(let r of n)t[r]=bU(t[r],e);return this}function CU(){let{data:e}=this,t=new an(this),n=1;for(let r of t)n*=e[r];return n}function EU(e){let{data:t}=this,{data:n}=e,r=new Ag(this,e);for(let[o,u]of r)t[o]*=n[u];return this}function _U(e){return e.scale(this.dot(e)/e.dot(e))}function SU(e){if(1!==this.shape.length)throw new Error("push operation not permitted for multidimensional arrays");let{data:t,length:n}=this,r=n+1,o=new(Tg(this.dtype))(r);return o.set(t),o[n]=e,this.data=o,this.length=r,this.shape=[r],this}function xU(e=1e-6){let{data:t}=this.copy().gauss(),n=new an(this),r=0,[o,u]=n.coords;for(let d of n)r<=o&&u>=o&&Math.abs(t[d])>e&&(r+=1),[o,u]=n.coords;return r}function MU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=1/e[n];return this}function IU(e,t){let{data:n,length:r}=this;if(0===r&&typeof t>"u")throw new Error("Reduce of empty array with no initial value.");let d,o=new an(this),u=e.bind(this);typeof t>"u"?(d=n[0],o.next()):d=t;for(let v of o)d=u(d,n[v],v,n);return d}function TU(...e){let{length:t}=this;if(e.reduce((n,r)=>n*r,1)!==t)throw new Error(`shape ${e} does not match length ${t}`);return this.shape=e,this.strides=DC(e),this}var{round:AU}=Math;function RU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=AU(e[n]);return this}function NU(e,t,n=1){this.check(e,0),this.check(t,0);let u,[,r]=this.shape,{data:o}=this;for(u=0;u<r;u+=1)o[e*r+u]+=o[t*r+u]*n;return this}function OU(e){let{data:t,length:n,strides:r,dtype:o}=this;try{!function a3(e,t,n,r,o){if(r.length/o!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ii.dscal(t,n,r,o);case"float32":return Ii.sscal(t,n,r,o);default:throw new Error("wrong dtype")}}(o,n,e,t,r[r.length-1])}catch{let u=new an(this);for(let d of u)t[d]*=e}return this}function PU(...e){let t=e.slice(0,-1),n=e[e.length-1];this.check(...t);let u,{shape:r}=this,o=t[t.length-1];for(u=0;u<t.length-1;u+=1)o+=t[u]*r[u+1];this.data[o]=n}var{sign:kU}=Math;function FU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=kU(e[n]);return this}var{sin:LU}=Math;function BU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=LU(e[n]);return this}var{sinh:VU}=Math;function $U(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=VU(e[n]);return this}function HU(e=0,t=this.shape[0],n=1){let{data:r,shape:o}=this,u=o.length;if(e<0||t<0)return this.slice(e<0?o[o.length-1]+e:e,t<0?o[o.length-1]+t:t);if(e>t)return this.slice(t,e,n);if(n<=0)throw new Error("step argument has to be a positive integer");let d=[Math.ceil((t-e)/Math.abs(n)),...o.slice(1)],v=bT(d),w=DC(d),_=u>1?r.subarray(e*d[d.length-1],t*d[d.length-1]):r.subarray(e,t);return w[0]*=n,new su(_,{shape:d,length:v,strides:w})}function UU(e){let{data:t,dtype:n}=this,{data:r,shape:[o,u]}=e;try{!function J3(e,t,n,r,o,u,d,v){if(r.length!==o*t||d.length!==v*n)throw new Error("lengths do not match");switch(e){case"float64":return Mh.dgesv(t,n,r,o,u,d,v);case"float32":return Mh.sgesv(t,n,r,o,u,d,v);default:throw new Error("wrong dtype")}}(n,o,u,t,o,new Int32Array(o),r,u)}catch{let I,O,F,[d,v]=this.lu_factor(),{data:w}=d,{data:_}=e;for(I=0;I<v.length;I+=1)I!==v[I]-1&&e.swap(I,v[I]-1);for(F=0;F<u;F+=1){for(I=0;I<o;I+=1)for(O=0;O<I;O+=1)_[I*u+F]-=w[I*o+O]*_[O*u+F];for(I=o-1;I>=0;I-=1){for(O=I+1;O<o;O+=1)_[I*u+F]-=w[I*o+O]*_[O*u+F];_[I*u+F]/=w[I*o+I]}}}return e}var{sqrt:zU}=Math;function jU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=zU(e[n]);return this}function GU(){let{length:e}=this.shape,[t,n]=this.shape;if(2!==e||t!==n)throw new Error("matrix is not square")}function qU(e){return this.add(e,-1)}function WU(){let{data:e}=this,t=new an(this),n=0;for(let r of t)n+=e[r];return n}function ZU(e,t){this.check(e,0),this.check(t,0);let{data:n}=this,[,r]=this.shape,o=n.slice(e*r,(e+1)*r);return n.copyWithin(e*r,t*r,(t+1)*r),n.set(o,t*r),this}var{tan:KU}=Math;function YU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=KU(e[n]);return this}var{tanh:XU}=Math;function QU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=XU(e[n]);return this}function JU(e=0,t=0){let{data:n,shape:r,strides:o}=this,{length:u}=r;if(t>=u)return n[e];let d=r[t],v=o[t],w=[];for(let _=0;_<d;_++){let I=this.toArray(e,t+1);if(null===I)return null;w[_]=I,e+=v}return w}var ez=((e,t,n)=>(n=null!=e?BH(HH(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of $H(t))!UH.call(e,o)&&undefined!==o&&mT(e,o,{get:()=>t[o],enumerable:!(r=VH(t,o))||r.enumerable});return e})(e&&e.__esModule?n:mT(n,"default",{value:e,enumerable:!0}),e)))(WH());function ST(){return`array(${(0,ez.inspect)(this.toArray(),{depth:10,breakLength:40})}, dtype=${this.dtype})`}function tz(){let u,[e,t]=this.shape,{data:n}=this,r=Math.min(e,t),o=0;for(u=0;u<r;u+=1)o+=n[u*t+u];return o}function nz(){if(this.shape.length<2)return this;let e=this.shape[0];return this.shape[0]=this.shape[1],this.shape[1]=e,e=this.strides[0],this.strides[0]=this.strides[1],this.strides[1]=e,this}var{trunc:rz}=Math;function iz(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=rz(e[n]);return this}var oz=Symbol.for("nodejs.util.inspect.custom"),su=class{data=new Float64Array(0);dtype="float64";length=0;shape=[0];strides=[0];[oz]=ST;abs=YH;acos=QH;acosh=e3;add=s3;angle=l3;asin=d3;asinh=h3;atan=g3;atanh=m3;augment=w3;binOp=b3;cbrt=C3;ceil=_3;check=S3;combine=x3;copy=M3;cos=T3;cosh=R3;cross=N3;det=O3;diagonal=P3;dot=k3;eig=F3;equals=L3;equidimensional=B3;equilateral=V3;exp=H3;expm1=z3;fill=j3;floor=q3;forEach=W3;fround=K3;gauss=Y3;get=X3;inv=eU;log=nU;log10=iU;log1p=aU;log2=uU;lu=lU;lu_factor=cU;map=dU;max=fU;mean=hU;min=pU;multiply=vU;norm=yU;normalize=wU;pow=DU;prod=CU;product=EU;project=_U;push=SU;rank=xU;reciprocal=MU;reduce=IU;reshape=TU;round=RU;row_add=NU;scale=OU;set=PU;sign=FU;sin=BU;sinh=$U;slice=HU;solve=UU;sqrt=jU;square=GU;subtract=qU;sum=WU;swap=ZU;tan=YU;tanh=QU;toArray=JU;toString=ST;trace=tz;transpose=nz;trunc=iz;constructor(e,t){if(!e)return;if(e instanceof su)return e;if(e instanceof an){if(!t||!t.dtype)throw new Error("dtype is missing");e.shape&&(t.shape=e.shape);let d=e.length;e=new(Tg(t.dtype))(d)}let{shape:n=DT(e),length:r=bT(n),strides:o=DC(n),dtype:u=ZH(e)}=t||{};this.data=wT(e)?e:new(Tg(u))(yT(e)),this.shape=n,this.length=r,this.dtype=u,this.strides=o}get x(){return this.get(0)}set x(e){this.set(0,e)}get y(){return this.get(1)}set y(e){this.set(1,e)}get z(){return this.get(2)}set z(e){this.set(2,e)}get w(){return this.get(3)}set w(e){this.set(3,e)}get T(){return this.copy().transpose()}};try{window.v=su}catch{}let az=(()=>{class e{constructor(n){this.http=n,this.nodeTypeMap=new Map([["Protein",["Protein","PhysicalEntity"]],["EntitySet",["EntitySet","PhysicalEntity"]],["Complex",["Complex","PhysicalEntity"]],["Entity",["GenomeEncodedEntity","PhysicalEntity"]],["Gene",["Gene","PhysicalEntity"]],["Chemical",["Molecule","PhysicalEntity"]],["ProteinDrug",["Protein","PhysicalEntity","drug"]],["ComplexDrug",["Complex","PhysicalEntity","drug"]],["ChemicalDrug",["Molecule","PhysicalEntity","drug"]],["EntitySetDrug",["EntitySet","PhysicalEntity","drug"]]]),this.reactionTypeMap=new Map([[void 0,["transition","reaction"]],["Association",["association","reaction"]],["Dissociation",["dissociation","reaction"]],["Omitted Process",["omitted","reaction"]],["Uncertain Process",["uncertain","reaction"]]]),this.edgeTypeMap=new Map([["INPUT",["consumption","incoming"]],["ACTIVATOR",["positive-regulation","incoming"]],["INHIBITOR",["negative-regulation","incoming"]],["CATALYST",["catalysis","incoming"]],["OUTPUT",["production","outgoing"]]]),this.linkClassMap=new Map([["EntitySetAndMemberLink",["set-to-member","incoming"]],["EntitySetAndEntitySetLink",["set-to-member","incoming"]],["Interaction",["consumption","incoming"]]])}random(n,r){return Math.floor(Math.random()*(r-n+1))+n}pick(n){return n[this.random(0,n.length-1)]}getDiagram(n){return this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.json`).pipe(Mo(r=>console.log(r)),en(r=>{console.log("edge.reactionType",new Set(r.edges.flatMap(F=>F.reactionType))),console.log("node.connectors.types",new Set(r.nodes.flatMap(F=>F.connectors.flatMap(W=>W.type)))),console.log("node.renderableClass",new Set(r.nodes.flatMap(F=>F.renderableClass))),console.log("links.renderableClass",new Set(r.links.flatMap(F=>F.renderableClass)));const o=new Map(r.edges.map(F=>[F.id,F])),u=new Map(r.compartments.flatMap(F=>F.componentIds.map(W=>[W,F.id]))),v=r?.compartments.map(F=>({data:{id:F.id+"",parent:u.get(F.id)?.toString()||void 0,displayName:F.displayName,width:2*F.prop.width,height:2*F.prop.height,class:this.nodeTypeMap.get(F.renderableClass)||F.renderableClass.toLowerCase()},classes:["Compartment"],position:{x:2*F.position.x,y:2*F.position.y},pannable:!0,grabbable:!1,selectable:!1})),w=r?.edges.map(F=>({data:{id:F.id+"",displayName:F.displayName,inputs:F.inputs,output:F.outputs},classes:this.reactionTypeMap.get(F.reactionType),pannable:!0,grabbable:!1,position:{x:2*F.reactionShape.centre.x,y:2*F.reactionShape.centre.y}})),_=r?.nodes.map(F=>({data:{id:F.id+"",parent:u.get(F.id)?.toString()||void 0,displayName:F.displayName.replace(/([,:;])/g,"$1\u200b"),height:2*F.prop.height,width:2*F.prop.width},classes:this.nodeTypeMap.get(F.renderableClass)||[F.renderableClass.toLowerCase()],pannable:!0,grabbable:!1,position:{x:2*(F.position.x+.5),y:2*(F.position.y+.5)}})),I=r.nodes.flatMap(F=>F.connectors.map(W=>{const oe=o.get(W.edgeId),[de,we]="OUTPUT"!==W.type?[F,oe]:[oe,F],je=W.segments.flatMap((xt,qt)=>0===qt?[xt.from,xt.to]:[xt.to]).map(xt=>this.scale(xt,2));"OUTPUT"===W.type&&je.reverse();const ye=this.absoluteToRelative(this.scale(de.position,2),this.scale(we.position,2),je);return{data:{id:de.id+"--\x3e"+we.id,source:de.id+"",target:we.id+"",stoichiometry:W.stoichiometry.value,weights:ye.weights.join(" "),distances:ye.distances.join(" ")},classes:this.edgeTypeMap.get(W.type),pannable:!0,grabbable:!1}})),O=r.links?.map(F=>({data:{id:F.id+"",source:F.inputs[0].id+"",target:F.outputs[0].id+""},classes:this.linkClassMap.get(F.renderableClass),pannable:!0,grabbable:!1}));return{nodes:[...w,..._,...v],edges:[...I,...O]}}))}absoluteToRelative(n,r,o){const u={distances:[],weights:[]};if(0===o.length)return u;const d=We([r.x-n.x,r.y-n.y]),v=We([-d.y,d.x]).normalize();let w=We([[d.x,d.y],[v.x,v.y]]).inv();for(let _ of o){const O=We([[_.x-n.x,_.y-n.y]]).multiply(w);u.weights.push(O.get(0,0)),u.distances.push(O.get(0,1))}return u}scale(n,r){return{x:n.x*r,y:n.y*r}}randomNetwork(){const r=["Protein","EntitySet","GenomeEncodedEntity","RNA","Gene","Complex","Molecule"],o=["association","dissociation","transition","uncertain","omitted"],u=Array.from({length:100},(O,F)=>{const W=this.pick(r);return{group:"nodes",data:{id:F.toString(),width:this.random(150,300),height:this.random(50,150),displayName:W,parent:"Compartment"},classes:[W,"PhysicalEntity",this.pick(["drug","",""])]}}),d=u.map((O,F)=>({group:"nodes",data:{id:`${F}-react`,parent:"Compartment"},classes:[this.pick(o),"reaction"]}));return Lt({nodes:[{data:{id:"Compartment"},classes:["Compartment"],pannable:!0,grabbable:!1,selectable:!1},...u.flatMap((O,F)=>[O,d[F]])],edges:[...u.flatMap((O,F)=>[{group:"edges",data:{source:`${F}`,target:`${F}-react`,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["consumption"]},{group:"edges",data:{source:`${F}-react`,target:""+(F+1)%100,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["production"]}]),...Array.from({length:25}).map(()=>({group:"edges",data:{source:this.pick(u).data.id,target:this.pick(d).data.id},classes:this.pick(["catalysis","positive-regulation","negative-regulation","set-to-member"])}))]})}static#e=this.\u0275fac=function(r){return new(r||e)(gt(nT))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const sz=["cytoscape"],uz=[{path:":id",component:(()=>{class e{constructor(n,r){this.diagram=n,this.route=r,this.title="pathway-browser"}ngAfterViewInit(){this.route.params.pipe(co(n=>this.diagram.getDiagram(n.id))).subscribe(n=>{const r=this.cytoscapeContainer.nativeElement,u=new Zt.Style(r,{});this.cy=SH()({container:r,elements:n,style:u.getStyleSheet(),layout:{name:"preset"},ready(d){d.cy.minZoom(d.cy.zoom())}}),u.bindToCytoscape(this.cy)})}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(az),Ze(Dh))};static#t=this.\u0275cmp=Fs({type:e,selectors:[["cr-diagram"]],viewQuery:function(r,o){if(1&r&&G_(sz,5),2&r){let u;xb(u=function Mb(){return function vP(e,t){return e[Yi].queries[t].queryList}(Te(),$i())}())&&(o.cytoscapeContainer=u.first)}},decls:2,vars:0,consts:[["id","cytoscape"],["cytoscape",""]],template:function(r,o){1&r&&Qv(0,"div",0,1)},styles:["#cytoscape[_ngcontent-%COMP%]{position:absolute;inset:0;background:#F6FEFF}"]})}return e})()},{path:"**",redirectTo:"R-HSA-453279"}];let lz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Po({type:e});static#n=this.\u0275inj=po({imports:[GM.forRoot(uz),GM]})}return e})(),cz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Po({type:e,bootstrap:[ZV]});static#n=this.\u0275inj=po({imports:[lL,Z$,hx,yH,lz]})}return e})();sL().bootstrapModule(cz).catch(e=>console.error(e))},6100:(ge,Qe,ie)=>{"use strict";var le=ie(4430),B=ie(7444),_e=ie(5440),Ee=ie(7939),Ve=ie(9078);function Se(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}var rt=Se(le),vt=Se(B),wt=Se(_e),bt=Se(Ee),Pn=Se(Ve);function ln(s){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function wr(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function nr(s,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}function Bn(s,i,a){return i&&nr(s.prototype,i),a&&nr(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}function Mn(s,i,a){return i in s?Object.defineProperty(s,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[i]=a,s}function cn(s,i){return function Ge(s){if(Array.isArray(s))return s}(s)||function it(s,i){var a=null==s?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(null!=a){var p,m,l=[],f=!0,h=!1;try{for(a=a.call(s);!(f=(p=a.next()).done)&&(l.push(p.value),!i||l.length!==i);f=!0);}catch(b){h=!0,m=b}finally{try{!f&&null!=a.return&&a.return()}finally{if(h)throw m}}return l}}(s,i)||function ft(s,i){if(s){if("string"==typeof s)return Dt(s,i);var a=Object.prototype.toString.call(s).slice(8,-1);if("Object"===a&&s.constructor&&(a=s.constructor.name),"Map"===a||"Set"===a)return Array.from(s);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Dt(s,i)}}(s,i)||function In(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(s,i){(null==i||i>s.length)&&(i=s.length);for(var a=0,l=new Array(i);a<i;a++)l[a]=s[a];return l}var At=typeof window>"u"?null:window,wn=At?At.navigator:null,Zn=ln(""),Fi=ln({}),To=ln(function(){}),ao=typeof HTMLElement>"u"?"undefined":ln(HTMLElement),_r=function(i){return i&&i.instanceString&&kn(i.instanceString)?i.instanceString():null},Je=function(i){return null!=i&&ln(i)==Zn},kn=function(i){return null!=i&&ln(i)===To},_n=function(i){return!br(i)&&(Array.isArray?Array.isArray(i):null!=i&&i instanceof Array)},Ct=function(i){return null!=i&&ln(i)===Fi&&!_n(i)&&i.constructor===Object},ot=function(i){return null!=i&&ln(i)===ln(1)&&!isNaN(i)},so=function(i){if("undefined"!==ao)return null!=i&&i instanceof HTMLElement},br=function(i){return lu(i)||Xd(i)},lu=function(i){return"collection"===_r(i)&&i._private.single},Xd=function(i){return"collection"===_r(i)&&!i._private.single},rr=function(i){return"core"===_r(i)},pr=function(i){return"stylesheet"===_r(i)},en=function(i){return null==i||!(""!==i&&!i.match(/^\s+$/))},cu=function(i){return function(i){return null!=i&&ln(i)===Fi}(i)&&kn(i.then)},du=function(i,a){a||(a=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var h=[],p=0;p<arguments.length;p++)h.push(arguments[p]);return h.join("$")});var l=function f(){var m,p=arguments,b=a.apply(this,p),y=f.cache;return(m=y[b])||(m=y[b]=i.apply(this,p)),m};return l.cache={},l},uo=du(function(s){return s.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}),Is=du(function(s){return s.replace(/(-\w)/g,function(i){return i[1].toUpperCase()})}),Pg=du(function(s,i){return s+i[0].toUpperCase()+i.substring(1)},function(s,i){return s+"$"+i}),Oa=function(i){return en(i)?i:i.charAt(0).toUpperCase()+i.substring(1)},Wr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",kg="rgb[a]?\\(("+Wr+"[%]?)\\s*,\\s*("+Wr+"[%]?)\\s*,\\s*("+Wr+"[%]?)(?:\\s*,\\s*("+Wr+"))?\\)",fu="rgb[a]?\\((?:"+Wr+"[%]?)\\s*,\\s*(?:"+Wr+"[%]?)\\s*,\\s*(?:"+Wr+"[%]?)(?:\\s*,\\s*(?:"+Wr+"))?\\)",Yo="hsl[a]?\\(("+Wr+")\\s*,\\s*("+Wr+"[%])\\s*,\\s*("+Wr+"[%])(?:\\s*,\\s*("+Wr+"))?\\)",Ts="hsl[a]?\\((?:"+Wr+")\\s*,\\s*(?:"+Wr+"[%])\\s*,\\s*(?:"+Wr+"[%])(?:\\s*,\\s*(?:"+Wr+"))?\\)",As=function(i,a){return i<a?-1:i>a?1:0},It=null!=Object.assign?Object.assign.bind(Object):function(s){for(var i=arguments,a=1;a<i.length;a++){var l=i[a];if(null!=l)for(var f=Object.keys(l),h=0;h<f.length;h++){var p=f[h];s[p]=l[p]}}return s},ef={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},xc=function(i){for(var a=i.map,l=i.keys,f=l.length,h=0;h<f;h++){var p=l[h];if(Ct(p))throw Error("Tried to set map with object key");h<l.length-1?(null==a[p]&&(a[p]={}),a=a[p]):a[p]=i.value}},Mc=function(i){for(var a=i.map,l=i.keys,f=l.length,h=0;h<f;h++){var p=l[h];if(Ct(p))throw Error("Tried to get map with object key");if(null==(a=a[p]))return a}return a},bl=At?At.performance:null,Ic=bl&&bl.now?function(){return bl.now()}:function(){return Date.now()},Lg=function(){if(At){if(At.requestAnimationFrame)return function(s){At.requestAnimationFrame(s)};if(At.mozRequestAnimationFrame)return function(s){At.mozRequestAnimationFrame(s)};if(At.webkitRequestAnimationFrame)return function(s){At.webkitRequestAnimationFrame(s)};if(At.msRequestAnimationFrame)return function(s){At.msRequestAnimationFrame(s)}}return function(s){s&&setTimeout(function(){s(Ic())},1e3/60)}}(),Tc=function(i){return Lg(i)},Pa=Ic,Rs=9261,Ac=5381,nf=function(i){for(var f,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rs;!(f=i.next()).done;)l=65599*l+f.value|0;return l},pu=function(i){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rs)+i|0},gu=function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ac;return(a<<5)+a+i|0},ka=function(i){return 2097152*i[0]+i[1]},Rc=function(i,a){return[pu(i[0],a[0]),gu(i[1],a[1])]},ha=function(i,a){var l={value:0,done:!1},f=0,h=i.length;return nf({next:function(){return f<h?l.value=i.charCodeAt(f++):l.done=!0,l}},a)},af=function(){return Nc(arguments)},Nc=function(i){for(var a,l=0;l<i.length;l++){var f=i[l];a=0===l?ha(f):ha(f,a)}return a},Wi=!0,Bg=null!=console.warn,Vg=null!=console.trace,sf=Number.MAX_SAFE_INTEGER||9007199254740991,Th=function(){return!0},Dl=function(){return!1},Ah=function(){return 0},uf=function(){},Vn=function(i){throw new Error(i)},Rh=function(i){if(void 0===i)return Wi;Wi=!!i},Ut=function(i){Rh()&&(Bg?console.warn(i):(console.log(i),Vg&&console.trace()))},Zr=function(i){return null==i?i:_n(i)?i.slice():Ct(i)?function(i){return It({},i)}(i):i},Nh=function(i,a){for(a=i="";i++<36;a+=51*i&52?(15^i?8^Math.random()*(20^i?16:4):4).toString(16):"-");return a},Oc={},Pc=function(){return Oc},Nr=function(i){var a=Object.keys(i);return function(l){for(var f={},h=0;h<a.length;h++){var p=a[h],m=l?.[p];f[p]=void 0===m?i[p]:m}return f}},Ao=function(i,a,l){for(var f=i.length-1;f>=0&&(i[f]!==a||(i.splice(f,1),!l));f--);},lf=function(i){i.splice(0,i.length)},lo=function(i,a,l){return l&&(a=Pg(l,a)),i[a]},Fa=function(i,a,l,f){l&&(a=Pg(l,a)),i[a]=f},pa=typeof Map<"u"?Map:function(){function s(){wr(this,s),this._obj={}}return Bn(s,[{key:"set",value:function(a,l){return this._obj[a]=l,this}},{key:"delete",value:function(a){return this._obj[a]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(a){return void 0!==this._obj[a]}},{key:"get",value:function(a){return this._obj[a]}}]),s}(),kh=function(){function s(i){if(wr(this,s),this._obj=Object.create(null),this.size=0,null!=i){var a;a=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var l=0;l<a.length;l++)this.add(a[l])}}return Bn(s,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(a){var l=this._obj;1!==l[a]&&(l[a]=1,this.size++)}},{key:"delete",value:function(a){var l=this._obj;1===l[a]&&(l[a]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(a){return 1===this._obj[a]}},{key:"toArray",value:function(){var a=this;return Object.keys(this._obj).filter(function(l){return a.has(l)})}},{key:"forEach",value:function(a,l){return this.toArray().forEach(a,l)}}]),s}(),mu="undefined"!==(typeof Set>"u"?"undefined":ln(Set))?Set:kh,Cl=function(i,a){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==i&&void 0!==a&&rr(i)){var f=a.group;if(null==f&&(f=a.data&&null!=a.data.source&&null!=a.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var h=this._private={cy:i,single:!0,data:a.data||{},position:a.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!a.selected,selectable:void 0===a.selectable||!!a.selectable,locked:!!a.locked,grabbed:!1,grabbable:void 0===a.grabbable||!!a.grabbable,pannable:void 0===a.pannable?"edges"===f:!!a.pannable,active:!1,classes:new mu,animation:{current:[],queue:[]},rscratch:{},scratch:a.scratch||{},edges:[],children:[],parent:a.parent&&a.parent.isNode()?a.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==h.position.x&&(h.position.x=0),null==h.position.y&&(h.position.y=0),a.renderedPosition){var p=a.renderedPosition,m=i.pan(),b=i.zoom();h.position={x:(p.x-m.x)/b,y:(p.y-m.y)/b}}var y=[];_n(a.classes)?y=a.classes:Je(a.classes)&&(y=a.classes.split(/\s+/));for(var D=0,E=y.length;D<E;D++){var S=y[D];!S||""===S||h.classes.add(S)}this.createEmitter();var M=a.style||a.css;M&&(Ut("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(M)),(void 0===l||l)&&this.restore()}else Vn("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Vn("An element must have a core reference and parameters set")},Or=function(i){return i={bfs:i.bfs||!i.dfs,dfs:i.dfs||!i.bfs},function(l,f,h){var p;Ct(l)&&!br(l)&&(l=(p=l).roots||p.root,f=p.visit,h=p.directed),h=2!==arguments.length||kn(f)?h:f,f=kn(f)?f:function(){};for(var R,m=this._private.cy,b=l=Je(l)?this.filter(l):l,y=[],D=[],E={},S={},M={},x=0,A=this.byGroup(),N=A.nodes,P=A.edges,k=0;k<b.length;k++){var V=b[k],q=V.id();V.isNode()&&(y.unshift(V),i.bfs&&(M[q]=!0,D.push(V)),S[q]=0)}for(var K=function(){var ee=i.bfs?y.shift():y.pop(),Y=ee.id();if(i.dfs){if(M[Y])return"continue";M[Y]=!0,D.push(ee)}var De,se=S[Y],te=E[Y],ne=null!=te?te.source():null,fe=null!=te?te.target():null,pe=null==te?void 0:ee.same(ne)?fe[0]:ne[0];if(!0===(De=f(ee,te,pe,x++,se)))return R=ee,"break";if(!1===De)return"break";for(var he=ee.connectedEdges().filter(function(Ie){return(!h||Ie.source().same(ee))&&P.has(Ie)}),be=0;be<he.length;be++){var Ae=he[be],Fe=Ae.connectedNodes().filter(function(Ie){return!Ie.same(ee)&&N.has(Ie)}),Me=Fe.id();0!==Fe.length&&!M[Me]&&(y.push(Fe=Fe[0]),i.bfs&&(M[Me]=!0,D.push(Fe)),E[Me]=Ae,S[Me]=S[Y]+1)}};0!==y.length;){var $=K();if("continue"!==$&&"break"===$)break}for(var Z=m.collection(),U=0;U<D.length;U++){var X=D[U],Q=E[X.id()];null!=Q&&Z.push(Q),Z.push(X)}return{path:m.collection(Z),found:m.collection(R)}}},yu={breadthFirstSearch:Or({bfs:!0}),depthFirstSearch:Or({dfs:!0})};yu.bfs=yu.breadthFirstSearch,yu.dfs=yu.depthFirstSearch;var Zi=Nr({root:null,weight:function(i){return 1},directed:!1}),Lt={dijkstra:function(i){if(!Ct(i)){var a=arguments;i={root:a[0],weight:a[1],directed:a[2]}}var te,ne,l=Zi(i),f=l.root,p=l.directed,m=this,b=l.weight,y=Je(f)?this.filter(f)[0]:f[0],D={},E={},S={},M=this.byGroup(),x=M.nodes,R=M.edges;R.unmergeBy(function(se){return se.isLoop()});for(var A=function(te){return D[te.id()]},P=new vt.default(function(se,te){return A(se)-A(te)}),k=0;k<x.length;k++){var V=x[k];D[V.id()]=V.same(y)?0:1/0,P.push(V)}for(var q=function(te,ne){for(var De,fe=(p?te.edgesTo(ne):te.edgesWith(ne)).intersect(R),pe=1/0,he=0;he<fe.length;he++){var be=fe[he],Ae=b(be);(Ae<pe||!De)&&(pe=Ae,De=be)}return{edge:De,dist:pe}};P.size()>0;){var K=P.pop(),$=A(K),Z=K.id();if(S[Z]=$,$!==1/0)for(var U=K.neighborhood().intersect(x),X=0;X<U.length;X++){var Q=U[X],j=Q.id(),ee=q(K,Q),Y=$+ee.dist;Y<A(Q)&&(ne=Y,D[(te=Q).id()]=ne,P.updateItem(te),E[j]={node:K,edge:ee.edge})}}return{distanceTo:function(te){var ne=Je(te)?x.filter(te)[0]:te[0];return S[ne.id()]},pathTo:function(te){var ne=Je(te)?x.filter(te)[0]:te[0],fe=[],pe=ne,De=pe.id();if(ne.length>0)for(fe.unshift(ne);E[De];){var he=E[De];fe.unshift(he.edge),fe.unshift(he.node),De=(pe=he.node).id()}return m.spawn(fe)}}}},cf={kruskal:function(i){i=i||function(k){return 1};for(var a=this.byGroup(),l=a.nodes,f=a.edges,h=l.length,p=new Array(h),m=l,b=function(V){for(var q=0;q<p.length;q++)if(p[q].has(V))return q},y=0;y<h;y++)p[y]=this.spawn(l[y]);for(var D=f.sort(function(k,V){return i(k)-i(V)}),E=0;E<D.length;E++){var S=D[E],M=S.source()[0],x=S.target()[0],R=b(M),A=b(x),N=p[R],P=p[A];R!==A&&(m.merge(S),N.merge(P),p.splice(A,1))}return m}},wu=Nr({root:null,goal:null,weight:function(i){return 1},heuristic:function(i){return 0},directed:!1}),co={aStar:function(i){var a=this.cy(),l=wu(i),f=l.root,h=l.goal,p=l.heuristic,m=l.directed,b=l.weight;f=a.collection(f)[0],h=a.collection(h)[0];var k,V,y=f.id(),D=h.id(),E={},S={},M={},x=new vt.default(function(De,he){return S[De.id()]-S[he.id()]}),R=new mu,A={},N={},P=function(he,be){x.push(he),R.add(be)};P(f,y),E[y]=0,S[y]=p(f);for(var $=0;x.size()>0;){if(V=(k=x.pop()).id(),R.delete(V),$++,V===D){for(var Z=[],U=h,X=D,Q=N[X];Z.unshift(U),null!=Q&&Z.unshift(Q),null!=(U=A[X]);)Q=N[X=U.id()];return{found:!0,distance:E[V],path:this.spawn(Z),steps:$}}M[V]=!0;for(var j=k._private.edges,ee=0;ee<j.length;ee++){var Y=j[ee];if(this.hasElementWithId(Y.id())&&(!m||Y.data("source")===V)){var se=Y.source(),te=Y.target(),ne=se.id()!==V?se:te,fe=ne.id();if(this.hasElementWithId(fe)&&!M[fe]){var pe=E[V]+b(Y);if(!R.has(fe)){E[fe]=pe,S[fe]=pe+p(ne),P(ne,fe),A[fe]=k,N[fe]=Y;continue}pe<E[fe]&&(E[fe]=pe,S[fe]=pe+p(ne),A[fe]=k,N[fe]=Y)}}}}return{found:!1,distance:void 0,path:void 0,steps:$}}},Hg=Nr({weight:function(i){return 1},directed:!1}),Fh={floydWarshall:function(i){for(var a=this.cy(),l=Hg(i),h=l.directed,p=l.weight,m=this.byGroup(),b=m.nodes,y=m.edges,D=b.length,E=D*D,S=function(Ae){return b.indexOf(Ae)},M=function(Ae){return b[Ae]},x=new Array(E),R=0;R<E;R++){var A=R%D;x[R]=(R-A)/D===A?0:1/0}for(var P=new Array(E),k=new Array(E),V=0;V<y.length;V++){var q=y[V],K=q.source()[0],$=q.target()[0];if(K!==$){var Z=S(K),U=S($),X=Z*D+U,Q=p(q);if(x[X]>Q&&(x[X]=Q,P[X]=U,k[X]=q),!h){var j=U*D+Z;!h&&x[j]>Q&&(x[j]=Q,P[j]=Z,k[j]=q)}}}for(var ee=0;ee<D;ee++)for(var Y=0;Y<D;Y++)for(var se=Y*D+ee,te=0;te<D;te++){var ne=Y*D+te,fe=ee*D+te;x[se]+x[fe]<x[ne]&&(x[ne]=x[se]+x[fe],P[ne]=P[se])}var De=function(Ae){return S(function(Ae){return(Je(Ae)?a.filter(Ae):Ae)[0]}(Ae))};return{distance:function(Ae,Fe){var Me=De(Ae),Ie=De(Fe);return x[Me*D+Ie]},path:function(Ae,Fe){var Me=De(Ae),Ie=De(Fe),ce=M(Me);if(Me===Ie)return ce.collection();if(null==P[Me*D+Ie])return a.collection();var Re=a.collection();for(Re.merge(ce);Me!==Ie;)Re.merge(k[Me*D+(Me=P[Me*D+Ie])]),Re.merge(M(Me));return Re}}}},Un=Nr({weight:function(i){return 1},directed:!1,root:null}),bu={bellmanFord:function(i){var a=this,l=Un(i),h=l.directed,p=l.root,m=l.weight,b=this,y=this.cy(),D=this.byGroup(),E=D.edges,S=D.nodes,M=S.length,x=new pa,R=!1,A=[];p=y.collection(p)[0],E.unmergeBy(function(mt){return mt.isLoop()});for(var N=E.length,P=function(Ye){var nt=x.get(Ye.id());return nt||(nt={},x.set(Ye.id(),nt)),nt},k=function(Ye){return(Je(Ye)?y.$(Ye):Ye)[0]},K=0;K<M;K++){var $=S[K],Z=P($);Z.dist=$.same(p)?0:1/0,Z.pred=null,Z.edge=null}for(var U=!1,X=function(Ye,nt,pn,zt,Nt,Hn){var Be=zt.dist+Hn;Be<Nt.dist&&!pn.same(zt.edge)&&(Nt.dist=Be,Nt.pred=Ye,Nt.edge=pn,U=!0)},Q=1;Q<M;Q++){U=!1;for(var j=0;j<N;j++){var ee=E[j],Y=ee.source(),se=ee.target(),te=m(ee),ne=P(Y),fe=P(se);X(Y,0,ee,ne,fe,te),h||X(se,0,ee,fe,ne,te)}if(!U)break}if(U)for(var pe=[],De=0;De<N;De++){var he=E[De],be=he.source(),Ae=he.target(),Fe=m(he),Me=P(be).dist,Ie=P(Ae).dist;if(Me+Fe<Ie||!h&&Ie+Fe<Me){if(R||(Ut("Graph contains a negative weight cycle for Bellman-Ford"),R=!0),!1===i.findNegativeWeightCycles)break;var ce=[];Me+Fe<Ie&&ce.push(be),!h&&Ie+Fe<Me&&ce.push(Ae);for(var Re=ce.length,Le=0;Le<Re;Le++){var Ke=ce[Le],tt=[Ke];tt.push(P(Ke).edge);for(var Et=P(Ke).pred;-1===tt.indexOf(Et);)tt.push(Et),tt.push(P(Et).edge),Et=P(Et).pred;for(var Jt=(tt=tt.slice(tt.indexOf(Et)))[0].id(),at=0,Xe=2;Xe<tt.length;Xe+=2)tt[Xe].id()<Jt&&(Jt=tt[Xe].id(),at=Xe);(tt=tt.slice(at).concat(tt.slice(0,at))).push(tt[0]);var ze=tt.map(function(mt){return mt.id()}).join(",");-1===pe.indexOf(ze)&&(A.push(b.spawn(tt)),pe.push(ze))}}}return{distanceTo:function(Ye){return P(k(Ye)).dist},pathTo:function(Ye){for(var nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,zt=[],Nt=k(Ye);;){if(null==Nt)return a.spawn();var Hn=P(Nt),Be=Hn.edge,G=Hn.pred;if(zt.unshift(Nt[0]),Nt.same(nt)&&zt.length>0)break;null!=Be&&zt.unshift(Be),Nt=G}return b.spawn(zt)},hasNegativeWeightCycle:R,negativeWeightCycles:A}}},Kr=Math.sqrt(2),kc=function(i,a,l){0===l.length&&Vn("Karger-Stein must be run on a connected (sub)graph");for(var f=l[i],m=a[f[1]],b=a[f[2]],y=l,D=y.length-1;D>=0;D--){var E=y[D],S=E[1],M=E[2];(a[S]===m&&a[M]===b||a[S]===b&&a[M]===m)&&y.splice(D,1)}for(var x=0;x<y.length;x++){var R=y[x];R[1]===b?(y[x]=R.slice(),y[x][1]=m):R[2]===b&&(y[x]=R.slice(),y[x][2]=m)}for(var A=0;A<a.length;A++)a[A]===b&&(a[A]=m);return y},El=function(i,a,l,f){for(;l>f;){var h=Math.floor(Math.random()*a.length);a=kc(h,i,a),l--}return a},Wn={kargerStein:function(){var i=this,a=this.byGroup(),l=a.nodes,f=a.edges;f.unmergeBy(function(fe){return fe.isLoop()});var h=l.length,p=f.length,m=Math.ceil(Math.pow(Math.log(h)/Math.LN2,2)),b=Math.floor(h/Kr);if(!(h<2)){for(var y=[],D=0;D<p;D++){var E=f[D];y.push([D,l.indexOf(E.source()),l.indexOf(E.target())])}for(var S=1/0,M=[],x=new Array(h),R=new Array(h),A=new Array(h),N=function(pe,De){for(var he=0;he<h;he++)De[he]=pe[he]},P=0;P<=m;P++){for(var k=0;k<h;k++)R[k]=k;var V=El(R,y.slice(),h,b),q=V.slice();N(R,A);var K=El(R,V,b,2),$=El(A,q,b,2);K.length<=$.length&&K.length<S?(S=K.length,M=K,N(R,x)):$.length<=K.length&&$.length<S&&(S=$.length,M=$,N(A,x))}for(var Z=this.spawn(M.map(function(fe){return f[fe[0]]})),U=this.spawn(),X=this.spawn(),Q=x[0],j=0;j<x.length;j++){var Y=l[j];x[j]===Q?U.merge(Y):X.merge(Y)}var se=function(pe){var De=i.spawn();return pe.forEach(function(he){De.merge(he),he.connectedEdges().forEach(function(be){i.contains(be)&&!Z.contains(be)&&De.merge(be)})}),De},te=[se(U),se(X)];return{cut:Z,components:te,partition1:U,partition2:X}}Vn("At least 2 nodes are required for Karger-Stein algorithm")}},Ns=function(i,a,l){return{x:i.x*a+l.x,y:i.y*a+l.y}},_l=function(i,a,l){return{x:(i.x-l.x)/a,y:(i.y-l.y)/a}},Sl=function(i){return{x:i[0],y:i[1]}},Fc=function(i,a){return Math.atan2(a,i)-Math.PI/2},Lh=Math.log2||function(s){return Math.log(s)/Math.log(2)},ff=function(i){return i>0?1:i<0?-1:0},La=function(i,a){return Math.sqrt(Yr(i,a))},Yr=function(i,a){var l=a.x-i.x,f=a.y-i.y;return l*l+f*f},$m=function(i){for(var a=i.length,l=0,f=0;f<a;f++)l+=i[f];for(var h=0;h<a;h++)i[h]=i[h]/l;return i},oi=function(i,a,l,f){return(1-f)*(1-f)*i+2*(1-f)*f*a+f*f*l},Os=function(i,a,l,f){return{x:oi(i.x,a.x,l.x,f),y:oi(i.y,a.y,l.y,f)}},Lc=function(i,a,l){return Math.max(i,Math.min(l,a))},fo=function(i){if(null==i)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=i.x1&&null!=i.y1){if(null!=i.x2&&null!=i.y2&&i.x2>=i.x1&&i.y2>=i.y1)return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,w:i.x2-i.x1,h:i.y2-i.y1};if(null!=i.w&&null!=i.h&&i.w>=0&&i.h>=0)return{x1:i.x1,y1:i.y1,x2:i.x1+i.w,y2:i.y1+i.h,w:i.w,h:i.h}}},ar=function(i,a){i.x1=Math.min(i.x1,a.x1),i.x2=Math.max(i.x2,a.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,a.y1),i.y2=Math.max(i.y2,a.y2),i.h=i.y2-i.y1},sr=function(i,a,l){i.x1=Math.min(i.x1,a),i.x2=Math.max(i.x2,a),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,l),i.y2=Math.max(i.y2,l),i.h=i.y2-i.y1},Bc=function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.x1-=a,i.x2+=a,i.y1-=a,i.y2+=a,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Bh=function(i){var l,f,h,p,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===a.length)l=f=h=p=a[0];else if(2===a.length)l=h=a[0],p=f=a[1];else if(4===a.length){var m=cn(a,4);l=m[0],f=m[1],h=m[2],p=m[3]}return i.x1-=p,i.x2+=f,i.y1-=l,i.y2+=h,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},ho=function(i,a){i.x1=a.x1,i.y1=a.y1,i.x2=a.x2,i.y2=a.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1},Ft=function(i,a){return!(i.x1>a.x2||a.x1>i.x2||i.x2<a.x1||a.x2<i.x1||i.y2<a.y1||a.y2<i.y1||i.y1>a.y2||a.y1>i.y2)},Ml=function(i,a,l){return i.x1<=a&&a<=i.x2&&i.y1<=l&&l<=i.y2},zm=function(i,a){return Ml(i,a.x,a.y)},Vh=function(i,a){return Ml(i,a.x1,a.y1)&&Ml(i,a.x2,a.y2)},Mt=function(i,a,l,f,h,p,m){var E,b=rs(h,p),y=h/2,D=p/2,M=f-D-m;if((E=Ba(i,a,l,f,l-y+b-m,M,l+y-b+m,M,!1)).length>0)return E;var A=l+y+m;if((E=Ba(i,a,l,f,A,f-D+b-m,A,f+D-b+m,!1)).length>0)return E;var q=f+D+m;if((E=Ba(i,a,l,f,l-y+b-m,q,l+y-b+m,q,!1)).length>0)return E;var j,Z=l-y-m;if((E=Ba(i,a,l,f,Z,f-D+b-m,Z,f+D-b+m,!1)).length>0)return E;var ee=l-y+b,Y=f-D+b;if((j=Du(i,a,l,f,ee,Y,b+m)).length>0&&j[0]<=ee&&j[1]<=Y)return[j[0],j[1]];var se=l+y-b,te=f-D+b;if((j=Du(i,a,l,f,se,te,b+m)).length>0&&j[0]>=se&&j[1]<=te)return[j[0],j[1]];var ne=l+y-b,fe=f+D-b;if((j=Du(i,a,l,f,ne,fe,b+m)).length>0&&j[0]>=ne&&j[1]>=fe)return[j[0],j[1]];var pe=l-y+b,De=f+D-b;return(j=Du(i,a,l,f,pe,De,b+m)).length>0&&j[0]<=pe&&j[1]>=De?[j[0],j[1]]:[]},Ti=function(i,a,l,f,h,p,m){var b=m,y=Math.min(l,h),D=Math.max(l,h),E=Math.min(f,p),S=Math.max(f,p);return y-b<=i&&i<=D+b&&E-b<=a&&a<=S+b},po=function(i,a,l,f,h,p,m,b,y){var D_x1=Math.min(l,m,h)-y,D_x2=Math.max(l,m,h)+y,D_y1=Math.min(f,b,p)-y,D_y2=Math.max(f,b,p)+y;return!(i<D_x1||i>D_x2||a<D_y1||a>D_y2)},Vc=function(i,a,l,f,h,p,m,b){var M=[];!function(i,a,l,f,h){var m,b,y,D,E,S,M,x;0===i&&(i=1e-5),y=-27*(f/=i)+(a/=i)*(9*(l/=i)-a*a*2),m=(b=(3*l-a*a)/9)*b*b+(y/=54)*y,h[1]=0,M=a/3,m>0?(E=(E=y+Math.sqrt(m))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),S=(S=y-Math.sqrt(m))<0?-Math.pow(-S,1/3):Math.pow(S,1/3),h[0]=-M+E+S,h[4]=h[2]=-(M+=(E+S)/2),M=Math.sqrt(3)*(-S+E)/2,h[3]=M,h[5]=-M):(h[5]=h[3]=0,0===m?(x=y<0?-Math.pow(-y,1/3):Math.pow(y,1/3),h[0]=2*x-M,h[4]=h[2]=-(x+M)):(D=(b=-b)*b*b,D=Math.acos(y/Math.sqrt(D)),x=2*Math.sqrt(b),h[0]=-M+x*Math.cos(D/3),h[2]=-M+x*Math.cos((D+2*Math.PI)/3),h[4]=-M+x*Math.cos((D+4*Math.PI)/3)))}(1*l*l-4*l*h+2*l*m+4*h*h-4*h*m+m*m+f*f-4*f*p+2*f*b+4*p*p-4*p*b+b*b,9*l*h-3*l*l-3*l*m-6*h*h+3*h*m+9*f*p-3*f*f-3*f*b-6*p*p+3*p*b,3*l*l-6*l*h+l*m-l*i+2*h*h+2*h*i-m*i+3*f*f-6*f*p+f*b-f*a+2*p*p+2*p*a-b*a,1*l*h-l*l+l*i-h*i+f*p-f*f+f*a-p*a,M);for(var R=[],A=0;A<6;A+=2)Math.abs(M[A+1])<1e-7&&M[A]>=0&&M[A]<=1&&R.push(M[A]);R.push(1),R.push(0);for(var P,k,V,N=-1,q=0;q<R.length;q++)P=Math.pow(1-R[q],2)*l+2*(1-R[q])*R[q]*h+R[q]*R[q]*m,k=Math.pow(1-R[q],2)*f+2*(1-R[q])*R[q]*p+R[q]*R[q]*b,V=Math.pow(P-i,2)+Math.pow(k-a,2),N>=0?V<N&&(N=V):N=V;return N},Ro=function(i,a,l,f,h,p){var m=[i-l,a-f],b=[h-l,p-f],y=b[0]*b[0]+b[1]*b[1],D=m[0]*m[0]+m[1]*m[1],E=m[0]*b[0]+m[1]*b[1],S=E*E/y;return E<0?D:S>y?(i-h)*(i-h)+(a-p)*(a-p):D-S},ai=function(i,a,l){for(var f,h,p,m,y=0,D=0;D<l.length/2;D++)if(h=l[2*D+1],D+1<l.length/2?(p=l[2*(D+1)],m=l[2*(D+1)+1]):(p=l[2*(D+1-l.length/2)],m=l[2*(D+1-l.length/2)+1]),(f=l[2*D])!=i||p!=i){if(!(f>=i&&i>=p||f<=i&&i<=p))continue;(i-f)/(p-f)*(m-h)+h>a&&y++}return y%2!=0},go=function(i,a,l,f,h,p,m,b,y){var E,R,D=new Array(l.length);null!=b[0]?(E=Math.atan(b[1]/b[0]),b[0]<0?E+=Math.PI/2:E=-E-Math.PI/2):E=b;for(var S=Math.cos(-E),M=Math.sin(-E),x=0;x<D.length/2;x++)D[2*x]=p/2*(l[2*x]*S-l[2*x+1]*M),D[2*x+1]=m/2*(l[2*x+1]*S+l[2*x]*M),D[2*x]+=f,D[2*x+1]+=h;if(y>0){var A=hf(D,-y);R=Hc(A)}else R=D;return ai(i,a,R)},Hc=function(i){for(var m,b,y,D,a=new Array(i.length/2),E=0;E<i.length/4;E++){E<i.length/4-1?(m=i[4*(E+1)],b=i[4*(E+1)+1],y=i[4*(E+1)+2],D=i[4*(E+1)+3]):(m=i[0],b=i[1],y=i[2],D=i[3]);var S=Ba(i[4*E],i[4*E+1],i[4*E+2],i[4*E+3],m,b,y,D,!0);a[2*E]=S[0],a[2*E+1]=S[1]}return a},hf=function(i,a){for(var f,h,p,m,l=new Array(2*i.length),b=0;b<i.length/2;b++){b<i.length/2-1?(p=i[2*(b+1)],m=i[2*(b+1)+1]):(p=i[0],m=i[1]);var y=m-(h=i[2*b+1]),D=-(p-(f=i[2*b])),E=Math.sqrt(y*y+D*D),S=y/E,M=D/E;l[4*b]=f+S*a,l[4*b+1]=h+M*a,l[4*b+2]=p+S*a,l[4*b+3]=m+M*a}return l},Pr=function(i,a,l,f,h,p,m){return i-=h,a-=p,(i/=l/2+m)*i+(a/=f/2+m)*a<=1},Du=function(i,a,l,f,h,p,m){var b=[l-i,f-a],y=[i-h,a-p],D=b[0]*b[0]+b[1]*b[1],E=2*(y[0]*b[0]+y[1]*b[1]),M=E*E-4*D*(y[0]*y[0]+y[1]*y[1]-m*m);if(M<0)return[];var x=(-E+Math.sqrt(M))/(2*D),R=(-E-Math.sqrt(M))/(2*D),A=Math.min(x,R),N=Math.max(x,R),P=[];if(A>=0&&A<=1&&P.push(A),N>=0&&N<=1&&P.push(N),0===P.length)return[];var k=P[0]*b[0]+i,V=P[0]*b[1]+a;return P.length>1?P[0]==P[1]?[k,V]:[k,V,P[1]*b[0]+i,P[1]*b[1]+a]:[k,V]},Kn=function(i,a,l){return a<=i&&i<=l||l<=i&&i<=a?i:i<=a&&a<=l||l<=a&&a<=i?a:l},Ba=function(i,a,l,f,h,p,m,b,y){var D=i-h,E=l-i,S=m-h,M=a-p,x=f-a,R=b-p,A=S*M-R*D,N=E*M-x*D,P=R*E-S*x;if(0!==P){var k=A/P,V=N/P,K=-.001;return K<=k&&k<=1.001&&K<=V&&V<=1.001||y?[i+k*E,a+k*x]:[]}return 0===A||0===N?Kn(i,l,m)===m?[m,b]:Kn(i,l,h)===h?[h,p]:Kn(h,m,l)===l?[l,f]:[]:[]},Il=function(i,a,l,f,h,p,m,b){var D,M,y=[],E=new Array(l.length),S=!0;if(null==p&&(S=!1),S){for(var x=0;x<E.length/2;x++)E[2*x]=l[2*x]*p+f,E[2*x+1]=l[2*x+1]*m+h;if(b>0){var R=hf(E,-b);M=Hc(R)}else M=E}else M=l;for(var P,k,V=0;V<M.length/2;V++)V<M.length/2-1?(P=M[2*(V+1)],k=M[2*(V+1)+1]):(P=M[0],k=M[1]),0!==(D=Ba(i,a,f,h,M[2*V],M[2*V+1],P,k)).length&&y.push(D[0],D[1]);return y},Cu=function(i,a,l){var f=[i[0]-a[0],i[1]-a[1]],h=Math.sqrt(f[0]*f[0]+f[1]*f[1]),p=(h-l)/h;return p<0&&(p=1e-5),[a[0]+p*f[0],a[1]+p*f[1]]},Ai=function(i,a){var l=No(i,a);return Yn(l)},Yn=function(i){for(var a,l,f=i.length/2,h=1/0,p=1/0,m=-1/0,b=-1/0,y=0;y<f;y++)a=i[2*y],l=i[2*y+1],h=Math.min(h,a),m=Math.max(m,a),p=Math.min(p,l),b=Math.max(b,l);for(var D=2/(m-h),E=2/(b-p),S=0;S<f;S++)a=i[2*S]=i[2*S]*D,l=i[2*S+1]=i[2*S+1]*E,h=Math.min(h,a),m=Math.max(m,a),p=Math.min(p,l),b=Math.max(b,l);if(p<-1)for(var M=0;M<f;M++)l=i[2*M+1]=i[2*M+1]+(-1-p);return i},No=function(i,a){var l=1/i*2*Math.PI,f=i%2==0?Math.PI/2+l/2:Math.PI/2;f+=a;for(var p,h=new Array(2*i),m=0;m<i;m++)p=m*l+f,h[2*m]=Math.cos(p),h[2*m+1]=Math.sin(-p);return h},rs=function(i,a){return Math.min(i/4,a/4,8)},Tl=function(i,a){return Math.min(i/10,a/10,8)},Hh=function(i,a){return{heightOffset:Math.min(15,.05*a),widthOffset:Math.min(100,.25*i),ctrlPtOffsetPct:.05}},jm=Nr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(i){return 1}}),Ug={pageRank:function(i){for(var a=jm(i),l=a.dampingFactor,f=a.precision,h=a.iterations,p=a.weight,m=this._private.cy,b=this.byGroup(),y=b.nodes,D=b.edges,E=y.length,M=D.length,x=new Array(E*E),R=new Array(E),A=(1-l)/E,N=0;N<E;N++){for(var P=0;P<E;P++)x[N*E+P]=0;R[N]=0}for(var V=0;V<M;V++){var q=D[V],K=q.data("source"),$=q.data("target");if(K!==$){var Z=y.indexOfId(K),U=y.indexOfId($),X=p(q);x[U*E+Z]+=X,R[Z]+=X}}for(var j=1/E+A,ee=0;ee<E;ee++)if(0===R[ee])for(var Y=0;Y<E;Y++)x[Y*E+ee]=j;else for(var te=0;te<E;te++){var ne=te*E+ee;x[ne]=x[ne]/R[ee]+A}for(var De,fe=new Array(E),pe=new Array(E),he=0;he<E;he++)fe[he]=1;for(var be=0;be<h;be++){for(var Ae=0;Ae<E;Ae++)pe[Ae]=0;for(var Fe=0;Fe<E;Fe++)for(var Me=0;Me<E;Me++)pe[Fe]+=x[Fe*E+Me]*fe[Me];$m(pe),De=fe,fe=pe,pe=De;for(var ce=0,Re=0;Re<E;Re++){var Le=De[Re]-fe[Re];ce+=Le*Le}if(ce<f)break}return{rank:function(Et){return Et=m.collection(Et)[0],fe[y.indexOf(Et)]}}}},zc=Nr({root:null,weight:function(i){return 1},directed:!1,alpha:0}),ga={degreeCentralityNormalized:function(i){i=zc(i);var a=this.cy(),l=this.nodes(),f=l.length;if(i.directed){for(var D={},E={},S=0,M=0,x=0;x<f;x++){var R=l[x],A=R.id();i.root=R;var N=this.degreeCentrality(i);S<N.indegree&&(S=N.indegree),M<N.outdegree&&(M=N.outdegree),D[A]=N.indegree,E[A]=N.outdegree}return{indegree:function(k){return 0==S?0:(Je(k)&&(k=a.filter(k)),D[k.id()]/S)},outdegree:function(k){return 0===M?0:(Je(k)&&(k=a.filter(k)),E[k.id()]/M)}}}for(var h={},p=0,m=0;m<f;m++){var b=l[m];i.root=b;var y=this.degreeCentrality(i);p<y.degree&&(p=y.degree),h[b.id()]=y.degree}return{degree:function(k){return 0===p?0:(Je(k)&&(k=a.filter(k)),h[k.id()]/p)}}},degreeCentrality:function(i){i=zc(i);var a=this.cy(),l=this,h=i.root,p=i.weight,m=i.directed,b=i.alpha;if(h=a.collection(h)[0],m){for(var M=h.connectedEdges(),x=M.filter(function(K){return K.target().same(h)&&l.has(K)}),R=M.filter(function(K){return K.source().same(h)&&l.has(K)}),A=x.length,N=R.length,P=0,k=0,V=0;V<x.length;V++)P+=p(x[V]);for(var q=0;q<R.length;q++)k+=p(R[q]);return{indegree:Math.pow(A,1-b)*Math.pow(P,b),outdegree:Math.pow(N,1-b)*Math.pow(k,b)}}for(var y=h.connectedEdges().intersection(l),D=y.length,E=0,S=0;S<y.length;S++)E+=p(y[S]);return{degree:Math.pow(D,1-b)*Math.pow(E,b)}}};ga.dc=ga.degreeCentrality,ga.dcn=ga.degreeCentralityNormalised=ga.degreeCentralityNormalized;var Eu=Nr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Va={closenessCentralityNormalized:function(i){for(var a=Eu(i),l=a.harmonic,f=a.weight,h=a.directed,p=this.cy(),m={},b=0,y=this.nodes(),D=this.floydWarshall({weight:f,directed:h}),E=0;E<y.length;E++){for(var S=0,M=y[E],x=0;x<y.length;x++)if(E!==x){var R=D.distance(M,y[x]);S+=l?1/R:R}l||(S=1/S),b<S&&(b=S),m[M.id()]=S}return{closeness:function(N){return 0==b?0:(N=Je(N)?p.filter(N)[0].id():N.id(),m[N]/b)}}},closenessCentrality:function(i){var a=Eu(i),l=a.root,f=a.weight,h=a.directed,p=a.harmonic;l=this.filter(l)[0];for(var m=this.dijkstra({root:l,weight:f,directed:h}),b=0,y=this.nodes(),D=0;D<y.length;D++){var E=y[D];if(!E.same(l)){var S=m.distanceTo(E);b+=p?1/S:S}}return p?b:1/b}};Va.cc=Va.closenessCentrality,Va.ccn=Va.closenessCentralityNormalised=Va.closenessCentralityNormalized;var Al=Nr({weight:null,directed:!1}),Rl={betweennessCentrality:function(i){for(var a=Al(i),l=a.directed,f=a.weight,h=null!=f,p=this.cy(),m=this.nodes(),b={},y={},D=0,E={set:function(k,V){y[k]=V,V>D&&(D=V)},get:function(k){return y[k]}},S=0;S<m.length;S++){var M=m[S],x=M.id();b[x]=l?M.outgoers().nodes():M.openNeighborhood().nodes(),E.set(x,0)}for(var R=function(k){for(var V=m[k].id(),q=[],K={},$={},Z={},U=new vt.default(function(Me,Ie){return Z[Me]-Z[Ie]}),X=0;X<m.length;X++){var Q=m[X].id();K[Q]=[],$[Q]=0,Z[Q]=1/0}for($[V]=1,Z[V]=0,U.push(V);!U.empty();){var j=U.pop();if(q.push(j),h)for(var ee=0;ee<b[j].length;ee++){var te,Y=b[j][ee],se=p.getElementById(j);te=se.edgesTo(Y).length>0?se.edgesTo(Y)[0]:Y.edgesTo(se)[0];var ne=f(te);Y=Y.id(),Z[Y]>Z[j]+ne&&(Z[Y]=Z[j]+ne,U.nodes.indexOf(Y)<0?U.push(Y):U.updateItem(Y),$[Y]=0,K[Y]=[]),Z[Y]==Z[j]+ne&&($[Y]=$[Y]+$[j],K[Y].push(j))}else for(var fe=0;fe<b[j].length;fe++){var pe=b[j][fe].id();Z[pe]==1/0&&(U.push(pe),Z[pe]=Z[j]+1),Z[pe]==Z[j]+1&&($[pe]=$[pe]+$[j],K[pe].push(j))}}for(var De={},he=0;he<m.length;he++)De[m[he].id()]=0;for(;q.length>0;){for(var be=q.pop(),Ae=0;Ae<K[be].length;Ae++){var Fe=K[be][Ae];De[Fe]=De[Fe]+$[Fe]/$[be]*(1+De[be])}be!=m[k].id()&&E.set(be,E.get(be)+De[be])}},A=0;A<m.length;A++)R(A);var N={betweenness:function(k){var V=p.collection(k).id();return E.get(V)},betweennessNormalized:function(k){if(0==D)return 0;var V=p.collection(k).id();return E.get(V)/D}};return N.betweennessNormalised=N.betweennessNormalized,N}};Rl.bc=Rl.betweennessCentrality;var gf=Nr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(s){return 1}]}),zh=function(i,a){for(var l=0,f=0;f<a.length;f++)l+=a[f](i);return l},jc=function(i,a){for(var l,f=0;f<a;f++){l=0;for(var h=0;h<a;h++)l+=i[h*a+f];for(var p=0;p<a;p++)i[p*a+f]=i[p*a+f]/l}},os=function(i,a,l){for(var f=new Array(l*l),h=0;h<l;h++){for(var p=0;p<l;p++)f[h*l+p]=0;for(var m=0;m<l;m++)for(var b=0;b<l;b++)f[h*l+b]+=i[h*l+m]*a[m*l+b]}return f},jh=function(i,a,l){for(var f=i.slice(0),h=1;h<l;h++)i=os(i,f,a);return i},gt=function(i,a,l){for(var f=new Array(a*a),h=0;h<a*a;h++)f[h]=Math.pow(i[h],l);return jc(f,a),f},Gc=function(i,a,l,f){for(var h=0;h<l;h++)if(Math.round(i[h]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(a[h]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Nl=function(i,a){for(var l=0;l<i.length;l++)if(!a[l]||i[l].id()!==a[l].id())return!1;return!0},_u=function(i){for(var a=this.nodes(),l=this.edges(),f=this.cy(),h=function(i){return gf(i)}(i),p={},m=0;m<a.length;m++)p[a[m].id()]=m;for(var E,b=a.length,y=b*b,D=new Array(y),S=0;S<y;S++)D[S]=0;for(var M=0;M<l.length;M++){var x=l[M],R=p[x.source().id()],A=p[x.target().id()],N=zh(x,h.attributes);D[R*b+A]+=N,D[A*b+R]+=N}(function(i,a,l){for(var f=0;f<a;f++)i[f*a+f]=l})(D,b,h.multFactor),jc(D,b);for(var P=!0,k=0;P&&k<h.maxIterations;)P=!1,E=jh(D,b,h.expandFactor),D=gt(E,b,h.inflateFactor),Gc(D,E,y,4)||(P=!0),k++;var V=function(i,a,l,f){for(var h=[],p=0;p<a;p++){for(var m=[],b=0;b<a;b++)Math.round(1e3*i[p*a+b])/1e3>0&&m.push(l[b]);0!==m.length&&h.push(f.collection(m))}return h}(D,b,a,f);return V=function(i){for(var a=0;a<i.length;a++)for(var l=0;l<i.length;l++)a!=l&&Nl(i[a],i[l])&&i.splice(l,1);return i}(V),V},zg={markovClustering:_u,mcl:_u},jg=function(i){return i},Gh=function(i,a){return Math.abs(a-i)},va=function(i,a,l){return i+Gh(a,l)},ma=function(i,a,l){return i+Math.pow(l-a,2)},Xo=function(i){return Math.sqrt(i)},ya=function(i,a,l){return Math.max(i,Gh(a,l))},vn=function(i,a,l,f,h){for(var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jg,m=f,D=0;D<i;D++)m=h(m,a(D),l(D));return p(m)},wa={euclidean:function(i,a,l){return i>=2?vn(i,a,l,0,ma,Xo):vn(i,a,l,0,va)},squaredEuclidean:function(i,a,l){return vn(i,a,l,0,ma)},manhattan:function(i,a,l){return vn(i,a,l,0,va)},max:function(i,a,l){return vn(i,a,l,-1/0,ya)}};function vo(s,i,a,l,f,h){var p;return p=kn(s)?s:wa[s]||wa.euclidean,0===i&&kn(s)?p(f,h):p(i,a,l,f,h)}wa["squared-euclidean"]=wa.squaredEuclidean,wa.squaredeuclidean=wa.squaredEuclidean;var Su=Nr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Wc=function(i){return Su(i)},Oo=function(i,a,l,f,h){var m="kMedoids"!==h?function(E){return l[E]}:function(E){return f[E](l)};return vo(i,f.length,m,function(S){return f[S](a)},l,a)},ks=function(i,a,l){for(var f=l.length,h=new Array(f),p=new Array(f),m=new Array(a),b=null,y=0;y<f;y++)h[y]=i.min(l[y]).value,p[y]=i.max(l[y]).value;for(var D=0;D<a;D++){b=[];for(var E=0;E<f;E++)b[E]=Math.random()*(p[E]-h[E])+h[E];m[D]=b}return m},as=function(i,a,l,f,h){for(var p=1/0,m=0,b=0;b<a.length;b++){var y=Oo(l,i,a[b],f,h);y<p&&(p=y,m=b)}return m},mo=function(i,a,l){for(var f=[],h=null,p=0;p<a.length;p++)l[(h=a[p]).id()]===i&&f.push(h);return f},Zc=function(i,a,l){return Math.abs(a-i)<=l},qh=function(i,a,l){for(var f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)if(Math.abs(i[f][h]-a[f][h])>l)return!1;return!0},Wh=function(i,a,l){for(var f=0;f<l;f++)if(i===a[f])return!0;return!1},xu=function(i,a){var l=new Array(a);if(i.length<50)for(var f=0;f<a;f++){for(var h=i[Math.floor(Math.random()*i.length)];Wh(h,l,f);)h=i[Math.floor(Math.random()*i.length)];l[f]=h}else for(var p=0;p<a;p++)l[p]=i[Math.floor(Math.random()*i.length)];return l},vf=function(i,a,l){for(var f=0,h=0;h<a.length;h++)f+=Oo("manhattan",a[h],i,l,"kMedoids");return f},ae=function(i,a,l,f,h){for(var p,m,b=0;b<a.length;b++)for(var y=0;y<i.length;y++)f[b][y]=Math.pow(l[b][y],h.m);for(var D=0;D<i.length;D++)for(var E=0;E<h.attributes.length;E++){p=0,m=0;for(var S=0;S<a.length;S++)p+=f[S][D]*h.attributes[E](a[S]),m+=f[S][D];i[D][E]=p/m}},xe=function(i,a,l,f,h){for(var p=0;p<i.length;p++)a[p]=i[p].slice();for(var m,b,y,D=2/(h.m-1),E=0;E<l.length;E++)for(var S=0;S<f.length;S++){m=0;for(var M=0;M<l.length;M++)b=Oo(h.distance,f[S],l[E],h.attributes,"cmeans"),y=Oo(h.distance,f[S],l[M],h.attributes,"cmeans"),m+=Math.pow(b/y,D);i[S][E]=1/m}},ut=function(i){var h,p,m,b,y,a=this.cy(),l=this.nodes(),f=Wc(i);b=new Array(l.length);for(var D=0;D<l.length;D++)b[D]=new Array(f.k);m=new Array(l.length);for(var E=0;E<l.length;E++)m[E]=new Array(f.k);for(var S=0;S<l.length;S++){for(var M=0,x=0;x<f.k;x++)m[S][x]=Math.random(),M+=m[S][x];for(var R=0;R<f.k;R++)m[S][R]=m[S][R]/M}p=new Array(f.k);for(var A=0;A<f.k;A++)p[A]=new Array(f.attributes.length);y=new Array(l.length);for(var N=0;N<l.length;N++)y[N]=new Array(f.k);for(var P=!0,k=0;P&&k<f.maxIterations;)P=!1,ae(p,l,m,y,f),xe(m,b,p,l,f),qh(m,b,f.sensitivityThreshold)||(P=!0),k++;return h=function(i,a,l,f){for(var h=new Array(l.k),p=0;p<h.length;p++)h[p]=[];for(var m,b,y=0;y<a.length;y++){m=-1/0,b=-1;for(var D=0;D<a[0].length;D++)a[y][D]>m&&(m=a[y][D],b=D);h[b].push(i[y])}for(var E=0;E<h.length;E++)h[E]=f.collection(h[E]);return h}(l,m,f,a),{clusters:h,degreeOfMembership:m}},Xt={kMeans:function(i){var b,a=this.cy(),l=this.nodes(),f=null,h=Wc(i),p=new Array(h.k),m={};b=h.testMode?"number"==typeof h.testCentroids?ks(l,h.k,h.attributes):"object"===ln(h.testCentroids)?h.testCentroids:ks(l,h.k,h.attributes):ks(l,h.k,h.attributes);for(var y=!0,D=0;y&&D<h.maxIterations;){for(var E=0;E<l.length;E++)m[(f=l[E]).id()]=as(f,b,h.distance,h.attributes,"kMeans");y=!1;for(var S=0;S<h.k;S++){var M=mo(S,l,m);if(0!==M.length){for(var x=h.attributes.length,R=b[S],A=new Array(x),N=new Array(x),P=0;P<x;P++){N[P]=0;for(var k=0;k<M.length;k++)N[P]+=h.attributes[P](f=M[k]);A[P]=N[P]/M.length,Zc(A[P],R[P],h.sensitivityThreshold)||(y=!0)}b[S]=A,p[S]=a.collection(M)}}D++}return p},kMedoids:function(i){var m,y,a=this.cy(),l=this.nodes(),f=null,h=Wc(i),p=new Array(h.k),b={},D=new Array(h.k);h.testMode?"number"==typeof h.testCentroids||(m="object"===ln(h.testCentroids)?h.testCentroids:xu(l,h.k)):m=xu(l,h.k);for(var E=!0,S=0;E&&S<h.maxIterations;){for(var M=0;M<l.length;M++)b[(f=l[M]).id()]=as(f,m,h.distance,h.attributes,"kMedoids");E=!1;for(var x=0;x<m.length;x++){var R=mo(x,l,b);if(0!==R.length){D[x]=vf(m[x],R,h.attributes);for(var A=0;A<R.length;A++)(y=vf(R[A],R,h.attributes))<D[x]&&(D[x]=y,m[x]=R[A],E=!0);p[x]=a.collection(R)}}S++}return p},fuzzyCMeans:ut,fcm:ut},Fn=Nr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Xr={single:"min",complete:"max"},Yc=function(i,a,l,f,h){for(var b,p=0,m=1/0,y=h.attributes,D=function(U,X){return vo(h.distance,y.length,function(Q){return y[Q](U)},function(Q){return y[Q](X)},U,X)},E=0;E<i.length;E++){var S=i[E].key,M=l[S][f[S]];M<m&&(p=S,m=M)}if("threshold"===h.mode&&m>=h.threshold||"dendrogram"===h.mode&&1===i.length)return!1;var A,x=a[p],R=a[f[p]];A="dendrogram"===h.mode?{left:x,right:R,key:x.key}:{value:x.value.concat(R.value),key:x.key},i[x.index]=A,i.splice(R.index,1),a[x.key]=A;for(var N=0;N<i.length;N++){var P=i[N];x.key===P.key?b=1/0:"min"===h.linkage?(b=l[x.key][P.key],l[x.key][P.key]>l[R.key][P.key]&&(b=l[R.key][P.key])):"max"===h.linkage?(b=l[x.key][P.key],l[x.key][P.key]<l[R.key][P.key]&&(b=l[R.key][P.key])):b="mean"===h.linkage?(l[x.key][P.key]*x.size+l[R.key][P.key]*R.size)/(x.size+R.size):"dendrogram"===h.mode?D(P.value,x.value):D(P.value[0],x.value[0]),l[x.key][P.key]=l[P.key][x.key]=b}for(var k=0;k<i.length;k++){var V=i[k].key;if(f[V]===x.key||f[V]===R.key){for(var q=V,K=0;K<i.length;K++){var $=i[K].key;l[V][$]<l[V][q]&&(q=$)}f[V]=q}i[k].index=k}return x.key=R.key=x.index=R.index=null,!0},Xc=function s(i,a,l){i&&(i.value?a.push(i.value):(i.left&&s(i.left,a),i.right&&s(i.right,a)))},yo=function s(i,a){if(!i)return"";if(i.left&&i.right){var l=s(i.left,a),f=s(i.right,a),h=a.add({group:"nodes",data:{id:l+","+f}});return a.add({group:"edges",data:{source:l,target:h.id()}}),a.add({group:"edges",data:{source:f,target:h.id()}}),h.id()}return i.value?i.value.id():void 0},Qc=function s(i,a,l){if(!i)return[];var f=[],h=[],p=[];return 0===a?(i.left&&Xc(i.left,f),i.right&&Xc(i.right,h),p=f.concat(h),[l.collection(p)]):1===a?i.value?[l.collection(i.value)]:(i.left&&Xc(i.left,f),i.right&&Xc(i.right,h),[l.collection(f),l.collection(h)]):i.value?[l.collection(i.value)]:(i.left&&(f=s(i.left,a-1,l)),i.right&&(h=s(i.right,a-1,l)),f.concat(h))},Kh=function(i){for(var a=this.cy(),l=this.nodes(),f=function(i){var a=Fn(i),l=Xr[a.linkage];return null!=l&&(a.linkage=l),a}(i),h=f.attributes,p=function(k,V){return vo(f.distance,h.length,function(q){return h[q](k)},function(q){return h[q](V)},k,V)},m=[],b=[],y=[],D=[],E=0;E<l.length;E++){var S={value:"dendrogram"===f.mode?l[E]:[l[E]],key:E,index:E};m[E]=S,D[E]=S,b[E]=[],y[E]=0}for(var M=0;M<m.length;M++)for(var x=0;x<=M;x++){var R;R="dendrogram"===f.mode?M===x?1/0:p(m[M].value,m[x].value):M===x?1/0:p(m[M].value[0],m[x].value[0]),b[M][x]=R,b[x][M]=R,R<b[M][y[M]]&&(y[M]=x)}for(var A=Yc(m,D,b,y,f);A;)A=Yc(m,D,b,y,f);var N;return"dendrogram"===f.mode?(N=Qc(m[0],f.dendrogramDepth,a),f.addDendrogram&&yo(m[0],a)):(N=new Array(m.length),m.forEach(function(P,k){P.key=P.index=null,N[k]=a.collection(P.value)})),N},Mu={hierarchicalClustering:Kh,hca:Kh},Fs=Nr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),jn=function(i,a,l,f){var h=function(m,b){return f[b](m)};return-vo(i,f.length,function(p){return h(a,p)},function(p){return h(l,p)},a,l)},Ol=function(i,a,l){for(var f=[],h=0;h<i;h++){for(var p=-1,m=-1/0,b=0;b<l.length;b++){var y=l[b];a[h*i+y]>m&&(p=y,m=a[h*i+y])}p>0&&f.push(p)}for(var D=0;D<l.length;D++)f[l[D]]=l[D];return f},Vt=function(i){for(var a=this.cy(),l=this.nodes(),f=function(i){var a=i.damping,l=i.preference;.5<=a&&a<1||Vn("Damping must range on [0.5, 1).  Got: ".concat(a));var f=["median","mean","min","max"];return f.some(function(h){return h===l})||ot(l)||Vn("Preference must be one of [".concat(f.map(function(h){return"'".concat(h,"'")}).join(", "),"] or a number.  Got: ").concat(l)),Fs(i)}(i),h={},p=0;p<l.length;p++)h[l[p].id()]=p;var m,b,y,D,E,S,U;b=(m=l.length)*m,y=new Array(b);for(var M=0;M<b;M++)y[M]=-1/0;for(var x=0;x<m;x++)for(var R=0;R<m;R++)x!==R&&(y[x*m+R]=jn(f.distance,l[x],l[R],f.attributes));D=function(i,a){var l;return l="median"===a?function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(l<i.length&&i.splice(l,i.length-l),a>0&&i.splice(0,a)):i=i.slice(a,l);for(var m=0,b=i.length-1;b>=0;b--)p?isFinite(i[b])||(i[b]=-1/0,m++):i.splice(b,1);h&&i.sort(function(S,M){return S-M});var D=i.length,E=Math.floor(D/2);return D%2!=0?i[E+1+m]:(i[E-1+m]+i[E+m])/2}(i):"mean"===a?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=0,h=0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<l;p++){var m=i[p];isFinite(m)&&(f+=m,h++)}return f/h}(i):"min"===a?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<l;h++){var p=i[h];isFinite(p)&&(f=Math.min(p,f))}return f}(i):"max"===a?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=-1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<l;h++){var p=i[h];isFinite(p)&&(f=Math.max(p,f))}return f}(i):a,l}(y,f.preference);for(var A=0;A<m;A++)y[A*m+A]=D;E=new Array(b);for(var N=0;N<b;N++)E[N]=0;S=new Array(b);for(var P=0;P<b;P++)S[P]=0;for(var k=new Array(m),V=new Array(m),q=new Array(m),K=0;K<m;K++)k[K]=0,V[K]=0,q[K]=0;for(var $=new Array(m*f.minIterations),Z=0;Z<$.length;Z++)$[Z]=0;for(U=0;U<f.maxIterations;U++){for(var X=0;X<m;X++){for(var Q=-1/0,j=-1/0,ee=-1,Y=0,se=0;se<m;se++)k[se]=E[X*m+se],(Y=S[X*m+se]+y[X*m+se])>=Q?(j=Q,Q=Y,ee=se):Y>j&&(j=Y);for(var te=0;te<m;te++)E[X*m+te]=(1-f.damping)*(y[X*m+te]-Q)+f.damping*k[te];E[X*m+ee]=(1-f.damping)*(y[X*m+ee]-j)+f.damping*k[ee]}for(var ne=0;ne<m;ne++){for(var fe=0,pe=0;pe<m;pe++)k[pe]=S[pe*m+ne],V[pe]=Math.max(0,E[pe*m+ne]),fe+=V[pe];fe-=V[ne],V[ne]=E[ne*m+ne],fe+=V[ne];for(var De=0;De<m;De++)S[De*m+ne]=(1-f.damping)*Math.min(0,fe-V[De])+f.damping*k[De];S[ne*m+ne]=(1-f.damping)*(fe-V[ne])+f.damping*k[ne]}for(var he=0,be=0;be<m;be++){var Ae=S[be*m+be]+E[be*m+be]>0?1:0;$[U%f.minIterations*m+be]=Ae,he+=Ae}if(he>0&&(U>=f.minIterations-1||U==f.maxIterations-1)){for(var Fe=0,Me=0;Me<m;Me++){q[Me]=0;for(var Ie=0;Ie<f.minIterations;Ie++)q[Me]+=$[Ie*m+Me];(0===q[Me]||q[Me]===f.minIterations)&&Fe++}if(Fe===m)break}}for(var ce=function(i,a,l){for(var f=[],h=0;h<i;h++)a[h*i+h]+l[h*i+h]>0&&f.push(h);return f}(m,E,S),Re=function(i,a,l){for(var f=Ol(i,a,l),h=0;h<l.length;h++){for(var p=[],m=0;m<f.length;m++)f[m]===l[h]&&p.push(m);for(var b=-1,y=-1/0,D=0;D<p.length;D++){for(var E=0,S=0;S<p.length;S++)E+=a[p[S]*i+p[D]];E>y&&(b=D,y=E)}l[h]=p[b]}return Ol(i,a,l)}(m,y,ce),Le={},Ke=0;Ke<ce.length;Ke++)Le[ce[Ke]]=[];for(var tt=0;tt<l.length;tt++){var Jt=Re[h[l[tt].id()]];null!=Jt&&Le[Jt].push(l[tt])}for(var at=new Array(ce.length),Xe=0;Xe<ce.length;Xe++)at[Xe]=a.collection(Le[ce[Xe]]);return at},Ki={affinityPropagation:Vt,ap:Vt},bn=Nr({root:void 0,directed:!1}),gr={hierholzer:function(i){if(!Ct(i)){var a=arguments;i={root:a[0],directed:a[1]}}var b,y,D,l=bn(i),f=l.root,h=l.directed,p=this,m=!1;f&&(D=Je(f)?this.filter(f)[0].id():f[0].id());var E={},S={};p.forEach(h?function(P){var k=P.id();if(P.isNode()){var V=P.indegree(!0),q=P.outdegree(!0),K=V-q,$=q-V;1==K?b?m=!0:b=k:1==$?y?m=!0:y=k:($>1||K>1)&&(m=!0),E[k]=[],P.outgoers().forEach(function(Z){Z.isEdge()&&E[k].push(Z.id())})}else S[k]=[void 0,P.target().id()]}:function(P){var k=P.id();P.isNode()?(P.degree(!0)%2&&(b?y?m=!0:y=k:b=k),E[k]=[],P.connectedEdges().forEach(function(q){return E[k].push(q.id())})):S[k]=[P.source().id(),P.target().id()]});var M={found:!1,trail:void 0};if(m)return M;if(y&&b)if(h){if(D&&y!=D)return M;D=y}else{if(D&&y!=D&&b!=D)return M;D||(D=y)}else D||(D=p[0].id());var x=function(k){for(var K,$,Z,V=k,q=[k];E[V].length;)K=E[V].shift(),$=S[K][0],V!=(Z=S[K][1])?(E[Z]=E[Z].filter(function(U){return U!=K}),V=Z):!h&&V!=$&&(E[$]=E[$].filter(function(U){return U!=K}),V=$),q.unshift(K),q.unshift(V);return q},R=[],A=[];for(A=x(D);1!=A.length;)0==E[A[0]].length?(R.unshift(p.getElementById(A.shift())),R.unshift(p.getElementById(A.shift()))):A=x(A.shift()).concat(A);for(var N in R.unshift(p.getElementById(A.shift())),E)if(E[N].length)return M;return M.found=!0,M.trail=this.spawn(R,!0),M}},kr=function(){var i=this,a={},l=0,f=0,h=[],p=[],m={},y=function E(S,M,x){S===x&&(f+=1),a[M]={id:l,low:l++,cutVertex:!1};var A,N,P,k,R=i.getElementById(M).connectedEdges().intersection(i);0===R.size()?h.push(i.spawn(i.getElementById(M))):R.forEach(function(V){A=V.source().id(),N=V.target().id(),(P=A===M?N:A)!==x&&(k=V.id(),m[k]||(m[k]=!0,p.push({x:M,y:P,edge:V})),P in a?a[M].low=Math.min(a[M].low,a[P].id):(E(S,P,M),a[M].low=Math.min(a[M].low,a[P].low),a[M].id<=a[P].low&&(a[M].cutVertex=!0,function(S,M){for(var x=p.length-1,R=[],A=i.spawn();p[x].x!=S||p[x].y!=M;)R.push(p.pop().edge),x--;R.push(p.pop().edge),R.forEach(function(N){var P=N.connectedNodes().intersection(i);A.merge(N),P.forEach(function(k){var V=k.id(),q=k.connectedEdges().intersection(i);A.merge(k),A.merge(a[V].cutVertex?q.filter(function(K){return K.isLoop()}):q)})}),h.push(A)}(M,P))))})};i.forEach(function(E){if(E.isNode()){var S=E.id();S in a||(f=0,y(S,S),a[S].cutVertex=f>1)}});var D=Object.keys(a).filter(function(E){return a[E].cutVertex}).map(function(E){return i.getElementById(E)});return{cut:i.spawn(D),components:h}},Qr=function(){var i=this,a={},l=0,f=[],h=[],p=i.spawn(i),m=function b(y){if(h.push(y),a[y]={index:l,low:l++,explored:!1},i.getElementById(y).connectedEdges().intersection(i).forEach(function(R){var A=R.target().id();A!==y&&(A in a||b(A),a[A].explored||(a[y].low=Math.min(a[y].low,a[A].low)))}),a[y].index===a[y].low){for(var E=i.spawn();;){var S=h.pop();if(E.merge(i.getElementById(S)),a[S].low=a[y].index,a[S].explored=!0,S===y)break}var M=E.edgesWith(E),x=E.merge(M);f.push(x),p=p.difference(x)}};return i.forEach(function(b){if(b.isNode()){var y=b.id();y in a||m(y)}}),{cut:p,components:f}},ed={};[yu,Lt,cf,co,Fh,bu,Wn,Ug,ga,Va,Rl,zg,Xt,Mu,Ki,gr,{hopcroftTarjanBiconnected:kr,htbc:kr,htb:kr,hopcroftTarjanBiconnectedComponents:kr},{tarjanStronglyConnected:Qr,tsc:Qr,tscc:Qr,tarjanStronglyConnectedComponents:Qr}].forEach(function(s){It(ed,s)});var En=function s(i){if(!(this instanceof s))return new s(i);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof i&&i.call(this,this.fulfill.bind(this),this.reject.bind(this))};En.prototype={fulfill:function(i){return lt(this,1,"fulfillValue",i)},reject:function(i){return lt(this,2,"rejectReason",i)},then:function(i,a){var l=this,f=new En;return l.onFulfilled.push(ko(i,f,"fulfill")),l.onRejected.push(ko(a,f,"reject")),Qt(l),f.proxy}};var lt=function(i,a,l,f){return 0===i.state&&(i.state=a,i[l]=f,Qt(i)),i},Qt=function(i){1===i.state?ur(i,"onFulfilled",i.fulfillValue):2===i.state&&ur(i,"onRejected",i.rejectReason)},ur=function(i,a,l){if(0!==i[a].length){var f=i[a];i[a]=[];var h=function(){for(var m=0;m<f.length;m++)f[m](l)};"function"==typeof setImmediate?setImmediate(h):setTimeout(h,0)}},ko=function(i,a,l){return function(f){if("function"!=typeof i)a[l].call(a,f);else{var h;try{h=i(f)}catch(p){return void a.reject(p)}us(a,h)}}},us=function s(i,a){if(i!==a&&i.proxy!==a){var l;if("object"===ln(a)&&null!==a||"function"==typeof a)try{l=a.then}catch(h){return void i.reject(h)}if("function"!=typeof l)i.fulfill(a);else{var f=!1;try{l.call(a,function(h){f||(f=!0,h===a?i.reject(new TypeError("circular thenable chain")):s(i,h))},function(h){f||(f=!0,i.reject(h))})}catch(h){f||i.reject(h)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};En.all=function(s){return new En(function(i,a){for(var l=new Array(s.length),f=0,h=function(b,y){l[b]=y,++f===s.length&&i(l)},p=0;p<s.length;p++)!function(m){var b=s[m];null!=b&&null!=b.then?b.then(function(E){h(m,E)},function(E){a(E)}):h(m,b)}(p)})},En.resolve=function(s){return new En(function(i,a){i(s)})},En.reject=function(s){return new En(function(i,a){a(s)})};var vr=typeof Promise<"u"?Promise:En,ba=function(i,a,l){var f=rr(i),h=!f,p=this._private=It({duration:1e3},a,l);if(p.target=i,p.style=p.style||p.css,p.started=!1,p.playing=!1,p.hooked=!1,p.applying=!1,p.progress=0,p.completes=[],p.frames=[],p.complete&&kn(p.complete)&&p.completes.push(p.complete),h){var m=i.position();p.startPosition=p.startPosition||{x:m.x,y:m.y},p.startStyle=p.startStyle||i.cy().style().getAnimationStartStyle(i,p.style)}if(f){var b=i.pan();p.startPan={x:b.x,y:b.y},p.startZoom=i.zoom()}this.length=1,this[0]=this},Qn=ba.prototype;It(Qn,{instanceString:function(){return"animation"},hook:function(){var i=this._private;if(!i.hooked){var l=i.target._private.animation;(i.queue?l.queue:l.current).push(this),br(i.target)&&i.target.cy().addToAnimationPool(i.target),i.hooked=!0}return this},play:function(){var i=this._private;return 1===i.progress&&(i.progress=0),i.playing=!0,i.started=!1,i.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var i=this._private;return i.applying=!0,i.started=!1,i.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var i=this._private;return i.playing=!1,i.started=!1,this},stop:function(){var i=this._private;return i.playing=!1,i.started=!1,i.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(i){var a=this._private;return void 0===i?a.progress*a.duration:this.progress(i/a.duration)},progress:function(i){var a=this._private,l=a.playing;return void 0===i?a.progress:(l&&this.pause(),a.progress=i,a.started=!1,l&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var i=this._private,a=i.playing;a&&this.pause(),i.progress=1-i.progress,i.started=!1;var l=function(y,D){var E=i[y];null!=E&&(i[y]=i[D],i[D]=E)};if(l("zoom","startZoom"),l("pan","startPan"),l("position","startPosition"),i.style)for(var f=0;f<i.style.length;f++){var h=i.style[f],p=h.name,m=i.startStyle[p];i.startStyle[p]=h,i.style[f]=m}return a&&this.play(),this},promise:function(i){var l,a=this._private;return l="frame"===i?a.frames:a.completes,new vr(function(f,h){l.push(function(){f()})})}}),Qn.complete=Qn.completed,Qn.run=Qn.play,Qn.running=Qn.playing;var Tu={data:function(i){return i=It({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,h){},onSet:function(f){},canSet:function(f){return!0}},i),function(f,h){var p=i,m=this,b=void 0!==m.length,y=b?m:[m],D=b?m[0]:m;if(Je(f)){var M,S=-1!==f.indexOf(".")&&Pn.default(f);if(p.allowGetting&&void 0===h)return D&&(p.beforeGet(D),M=S&&void 0===D._private[p.field][f]?wt.default(D._private[p.field],S):D._private[p.field][f]),M;if(p.allowSetting&&void 0!==h&&!p.immutableKeys[f]){var R=Mn({},f,h);p.beforeSet(m,R);for(var A=0,N=y.length;A<N;A++){var P=y[A];p.canSet(P)&&(S&&void 0===D._private[p.field][f]?bt.default(P._private[p.field],S,h):P._private[p.field][f]=h)}p.updateStyle&&m.updateStyle(),p.onSet(m),p.settingTriggersEvent&&m[p.triggerFnName](p.settingEvent)}}else if(p.allowSetting&&Ct(f)){var V,q,k=f,K=Object.keys(k);p.beforeSet(m,k);for(var $=0;$<K.length;$++)if(q=k[V=K[$]],!p.immutableKeys[V])for(var U=0;U<y.length;U++){var X=y[U];p.canSet(X)&&(X._private[p.field][V]=q)}p.updateStyle&&m.updateStyle(),p.onSet(m),p.settingTriggersEvent&&m[p.triggerFnName](p.settingEvent)}else if(p.allowBinding&&kn(f))m.on(p.bindingEvent,f);else if(p.allowGetting&&void 0===f){var j;return D&&(p.beforeGet(D),j=D._private[p.field]),j}return m}},removeData:function(i){return i=It({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},i),function(f){var h=i,p=this,b=void 0!==p.length?p:[p];if(Je(f)){for(var y=f.split(/\s+/),D=y.length,E=0;E<D;E++){var S=y[E];if(!en(S)&&!h.immutableKeys[S])for(var x=0,R=b.length;x<R;x++)b[x]._private[h.field][S]=void 0}h.triggerEvent&&p[h.triggerFnName](h.event)}else if(void 0===f){for(var A=0,N=b.length;A<N;A++)for(var P=b[A]._private[h.field],k=Object.keys(P),V=0;V<k.length;V++){var q=k[V];!h.immutableKeys[q]&&(P[q]=void 0)}h.triggerEvent&&p[h.triggerFnName](h.event)}return p}}},Kt={eventAliasesOn:function(i){var a=i;a.addListener=a.listen=a.bind=a.on,a.unlisten=a.unbind=a.off=a.removeListener,a.trigger=a.emit,a.pon=a.promiseOn=function(l,f){var h=this,p=Array.prototype.slice.call(arguments,0);return new vr(function(m,b){var D=p.concat([function(M){h.off.apply(h,E),m(M)}]),E=D.concat([]);h.on.apply(h,D)})}}},Pt={};[{animated:function(){return function(){var a=this,f=void 0!==a.length?a:[a];if(!(this._private.cy||this).styleEnabled())return!1;var p=f[0];return p?p._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var a=this,f=void 0!==a.length?a:[a];if(!(this._private.cy||this).styleEnabled())return this;for(var p=0;p<f.length;p++)f[p]._private.animation.queue=[];return this}},delay:function(){return function(a,l){return(this._private.cy||this).styleEnabled()?this.animate({delay:a,duration:a,complete:l}):this}},delayAnimation:function(){return function(a,l){return(this._private.cy||this).styleEnabled()?this.animation({delay:a,duration:a,complete:l}):this}},animation:function(){return function(a,l){var f=this,h=void 0!==f.length,p=h?f:[f],m=this._private.cy||this,b=!h,y=!b;if(!m.styleEnabled())return this;var D=m.style();if(a=It({},a,l),0===Object.keys(a).length)return new ba(p[0],a);switch(void 0===a.duration&&(a.duration=400),a.duration){case"slow":a.duration=600;break;case"fast":a.duration=200}if(y&&(a.style=D.getPropsList(a.style||a.css),a.css=void 0),y&&null!=a.renderedPosition){var S=a.renderedPosition,M=m.pan(),x=m.zoom();a.position=_l(S,x,M)}if(b&&null!=a.panBy){var R=a.panBy,A=m.pan();a.pan={x:A.x+R.x,y:A.y+R.y}}var N=a.center||a.centre;if(b&&null!=N){var P=m.getCenterPan(N.eles,a.zoom);null!=P&&(a.pan=P)}if(b&&null!=a.fit){var k=a.fit,V=m.getFitViewport(k.eles||k.boundingBox,k.padding);null!=V&&(a.pan=V.pan,a.zoom=V.zoom)}if(b&&Ct(a.zoom)){var q=m.getZoomedViewport(a.zoom);null!=q?(q.zoomed&&(a.zoom=q.zoom),q.panned&&(a.pan=q.pan)):a.zoom=null}return new ba(p[0],a)}},animate:function(){return function(a,l){var f=this,p=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;l&&(a=It({},a,l));for(var b=0;b<p.length;b++){var y=p[b],D=y.animated()&&(void 0===a.queue||a.queue);y.animation(a,D?{queue:!0}:void 0).play()}return this}},stop:function(){return function(a,l){var f=this,p=void 0!==f.length?f:[f],m=this._private.cy||this;if(!m.styleEnabled())return this;for(var b=0;b<p.length;b++){for(var D=p[b]._private,E=D.animation.current,S=0;S<E.length;S++)l&&(E[S]._private.duration=0);a&&(D.animation.queue=[]),l||(D.animation.current=[])}return m.notify("draw"),this}}},Tu,Kt].forEach(function(s){It(Pt,s)});var wi={animate:Pt.animate(),animation:Pt.animation(),animated:Pt.animated(),clearQueue:Pt.clearQueue(),delay:Pt.delay(),delayAnimation:Pt.delayAnimation(),stop:Pt.stop()},Ha={classes:function(i){var a=this;if(void 0===i){var l=[];return a[0]._private.classes.forEach(function(x){return l.push(x)}),l}_n(i)||(i=(i||"").match(/\S+/g)||[]);for(var f=[],h=new mu(i),p=0;p<a.length;p++){for(var m=a[p],b=m._private,y=b.classes,D=!1,E=0;E<i.length;E++)if(!y.has(i[E])){D=!0;break}D||(D=y.size!==i.length),D&&(b.classes=h,f.push(m))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),a},addClass:function(i){return this.toggleClass(i,!0)},hasClass:function(i){var a=this[0];return null!=a&&a._private.classes.has(i)},toggleClass:function(i,a){_n(i)||(i=i.match(/\S+/g)||[]);for(var l=this,f=void 0===a,h=[],p=0,m=l.length;p<m;p++)for(var b=l[p],y=b._private.classes,D=!1,E=0;E<i.length;E++){var S=i[E],M=y.has(S),x=!1;a||f&&!M?(y.add(S),x=!0):(!a||f&&M)&&(y.delete(S),x=!0),!D&&x&&(h.push(b),D=!0)}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},removeClass:function(i){return this.toggleClass(i,!1)},flashClass:function(i,a){var l=this;if(null==a)a=250;else if(0===a)return l;return l.addClass(i),setTimeout(function(){l.removeClass(i)},a),l}};Ha.className=Ha.classNames=Ha.classes;var Rt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Wr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Rt.variable="(?:[\\w-.]|(?:\\\\"+Rt.metaChar+"))+",Rt.className="(?:[\\w-]|(?:\\\\"+Rt.metaChar+"))+",Rt.value=Rt.string+"|"+Rt.number,Rt.id=Rt.variable,function(){var s,i,a;for(s=Rt.comparatorOp.split("|"),a=0;a<s.length;a++)Rt.comparatorOp+="|@"+(i=s[a]);for(s=Rt.comparatorOp.split("|"),a=0;a<s.length;a++)!((i=s[a]).indexOf("!")>=0)&&"="!==i&&(Rt.comparatorOp+="|\\!"+i)}();var Yi=[{selector:":selected",matches:function(i){return i.selected()}},{selector:":unselected",matches:function(i){return!i.selected()}},{selector:":selectable",matches:function(i){return i.selectable()}},{selector:":unselectable",matches:function(i){return!i.selectable()}},{selector:":locked",matches:function(i){return i.locked()}},{selector:":unlocked",matches:function(i){return!i.locked()}},{selector:":visible",matches:function(i){return i.visible()}},{selector:":hidden",matches:function(i){return!i.visible()}},{selector:":transparent",matches:function(i){return i.transparent()}},{selector:":grabbed",matches:function(i){return i.grabbed()}},{selector:":free",matches:function(i){return!i.grabbed()}},{selector:":removed",matches:function(i){return i.removed()}},{selector:":inside",matches:function(i){return!i.removed()}},{selector:":grabbable",matches:function(i){return i.grabbable()}},{selector:":ungrabbable",matches:function(i){return!i.grabbable()}},{selector:":animated",matches:function(i){return i.animated()}},{selector:":unanimated",matches:function(i){return!i.animated()}},{selector:":parent",matches:function(i){return i.isParent()}},{selector:":childless",matches:function(i){return i.isChildless()}},{selector:":child",matches:function(i){return i.isChild()}},{selector:":orphan",matches:function(i){return i.isOrphan()}},{selector:":nonorphan",matches:function(i){return i.isChild()}},{selector:":compound",matches:function(i){return i.isNode()?i.isParent():i.source().isParent()||i.target().isParent()}},{selector:":loop",matches:function(i){return i.isLoop()}},{selector:":simple",matches:function(i){return i.isSimple()}},{selector:":active",matches:function(i){return i.active()}},{selector:":inactive",matches:function(i){return!i.active()}},{selector:":backgrounding",matches:function(i){return i.backgrounding()}},{selector:":nonbackgrounding",matches:function(i){return!i.backgrounding()}}].sort(function(s,i){return function(i,a){return-1*As(i,a)}(s.selector,i.selector)}),Ua=function(){for(var i,s={},a=0;a<Yi.length;a++)s[(i=Yi[a]).selector]=i.matches;return s}(),wo="("+Yi.map(function(s){return s.selector}).join("|")+")",si=function(i){return i.replace(new RegExp("\\\\("+Rt.metaChar+")","g"),function(a,l){return l})},Ri=function(i,a,l){i[i.length-1]=l},Da=[{name:"group",query:!0,regex:"("+Rt.group+")",populate:function(i,a,l){var h=cn(l,1)[0];a.checks.push({type:0,value:"*"===h?h:h+"s"})}},{name:"state",query:!0,regex:wo,populate:function(i,a,l){var f=cn(l,1);a.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+Rt.id+")",populate:function(i,a,l){var f=cn(l,1);a.checks.push({type:8,value:si(f[0])})}},{name:"className",query:!0,regex:"\\.("+Rt.className+")",populate:function(i,a,l){var f=cn(l,1);a.checks.push({type:9,value:si(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Rt.variable+")\\s*\\]",populate:function(i,a,l){var f=cn(l,1);a.checks.push({type:4,field:si(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Rt.variable+")\\s*("+Rt.comparatorOp+")\\s*("+Rt.value+")\\s*\\]",populate:function(i,a,l){var f=cn(l,3),h=f[0],p=f[1],m=f[2];m=null!=new RegExp("^"+Rt.string+"$").exec(m)?m.substring(1,m.length-1):parseFloat(m),a.checks.push({type:3,field:si(h),operator:p,value:m})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Rt.boolOp+")\\s*("+Rt.variable+")\\s*\\]",populate:function(i,a,l){var f=cn(l,2),h=f[0];a.checks.push({type:5,field:si(f[1]),operator:h})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Rt.meta+")\\s*("+Rt.comparatorOp+")\\s*("+Rt.number+")\\s*\\]\\]",populate:function(i,a,l){var f=cn(l,3),p=f[1],m=f[2];a.checks.push({type:6,field:si(f[0]),operator:p,value:parseFloat(m)})}},{name:"nextQuery",separator:!0,regex:Rt.separator,populate:function(i,a){var l=i.currentSubject,f=i.edgeCount,h=i.compoundCount,p=i[i.length-1];return null!=l&&(p.subject=l,i.currentSubject=null),p.edgeCount=f,p.compoundCount=h,i.edgeCount=0,i.compoundCount=0,i[i.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Rt.directedEdge,populate:function(i,a){if(null==i.currentSubject){var l={checks:[]},h={checks:[]};return l.checks.push({type:11,source:a,target:h}),Ri(i,0,l),i.edgeCount++,h}var p={checks:[]},b={checks:[]};return p.checks.push({type:12,source:a,target:b}),Ri(i,0,p),i.edgeCount++,b}},{name:"undirectedEdge",separator:!0,regex:Rt.undirectedEdge,populate:function(i,a){if(null==i.currentSubject){var l={checks:[]},h={checks:[]};return l.checks.push({type:10,nodes:[a,h]}),Ri(i,0,l),i.edgeCount++,h}var p={checks:[]},b={checks:[]};return p.checks.push({type:14,node:a,neighbor:b}),Ri(i,0,p),b}},{name:"child",separator:!0,regex:Rt.child,populate:function(i,a){if(null==i.currentSubject){var l={checks:[]},f={checks:[]};return l.checks.push({type:15,parent:i[i.length-1],child:f}),Ri(i,0,l),i.compoundCount++,f}if(i.currentSubject===a){var p={checks:[]},b={checks:[]},y={checks:[]},D={checks:[]},E={checks:[]};return p.checks.push({type:19,left:i[i.length-1],right:b,subject:y}),y.checks=a.checks,a.checks=[{type:20}],E.checks.push({type:20}),b.checks.push({type:17,parent:E,child:D}),Ri(i,0,p),i.currentSubject=y,i.compoundCount++,D}var S={checks:[]},M={checks:[]},x=[{type:17,parent:S,child:M}];return S.checks=a.checks,a.checks=x,i.compoundCount++,M}},{name:"descendant",separator:!0,regex:Rt.descendant,populate:function(i,a){if(null==i.currentSubject){var l={checks:[]},f={checks:[]};return l.checks.push({type:16,ancestor:i[i.length-1],descendant:f}),Ri(i,0,l),i.compoundCount++,f}if(i.currentSubject===a){var p={checks:[]},b={checks:[]},y={checks:[]},D={checks:[]},E={checks:[]};return p.checks.push({type:19,left:i[i.length-1],right:b,subject:y}),y.checks=a.checks,a.checks=[{type:20}],E.checks.push({type:20}),b.checks.push({type:18,ancestor:E,descendant:D}),Ri(i,0,p),i.currentSubject=y,i.compoundCount++,D}var S={checks:[]},M={checks:[]},x=[{type:18,ancestor:S,descendant:M}];return S.checks=a.checks,a.checks=x,i.compoundCount++,M}},{name:"subject",modifier:!0,regex:Rt.subject,populate:function(i,a){if(null!=i.currentSubject&&i.currentSubject!==a)return Ut("Redefinition of subject in selector `"+i.toString()+"`"),!1;i.currentSubject=a;var f=i[i.length-1].checks[0],h=null==f?null:f.type;11===h?f.type=13:10===h&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];Da.forEach(function(s){return s.regexObj=new RegExp("^"+s.regex)});var nn=function(i){for(var a,l,f,h=0;h<Da.length;h++){var p=Da[h],m=p.name,b=i.match(p.regexObj);if(null!=b){l=b,a=p,f=m,i=i.substring(b[0].length);break}}return{expr:a,match:l,name:f,remaining:i}},Ca={parse:function(i){var a=this,l=a.inputText=i,f=a[0]={checks:[]};for(a.length=1,l=function(i){var a=i.match(/^\s+/);return a&&(i=i.substring(a[0].length)),i}(l);;){var h=nn(l);if(null==h.expr)return Ut("The selector `"+i+"`is invalid"),!1;var p=h.match.slice(1),m=h.expr.populate(a,f,p);if(!1===m)return!1;if(null!=m&&(f=m),(l=h.remaining).match(/^\s*$/))break}var b=a[a.length-1];null!=a.currentSubject&&(b.subject=a.currentSubject),b.edgeCount=a.edgeCount,b.compoundCount=a.compoundCount;for(var y=0;y<a.length;y++){var D=a[y];if(D.compoundCount>0&&D.edgeCount>0)return Ut("The selector `"+i+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(D.edgeCount>1)return Ut("The selector `"+i+"` is invalid because it uses multiple edge selectors"),!1;1===D.edgeCount&&Ut("The selector `"+i+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var i=function(D){return D??""},a=function(D){return Je(D)?'"'+D+'"':i(D)},l=function(D){return" "+D+" "},h=function(D,E){return D.checks.reduce(function(S,M,x){return S+(E===D&&0===x?"$":"")+function(D,E){var M=D.value;switch(D.type){case 0:var x=i(M);return x.substring(0,x.length-1);case 3:return"["+D.field+l(i(D.operator))+a(M)+"]";case 5:var P=D.field;return"["+i(D.operator)+P+"]";case 4:return"["+D.field+"]";case 6:return"[["+D.field+l(i(D.operator))+a(M)+"]]";case 7:return M;case 8:return"#"+M;case 9:return"."+M;case 17:case 15:return h(D.parent,E)+l(">")+h(D.child,E);case 18:case 16:return h(D.ancestor,E)+" "+h(D.descendant,E);case 19:var K=h(D.left,E),$=h(D.subject,E),Z=h(D.right,E);return K+(K.length>0?" ":"")+$+Z;case 20:return""}}(M,E)},"")},p="",m=0;m<this.length;m++){var b=this[m];p+=h(b,b.subject),this.length>1&&m<this.length-1&&(p+=", ")}return this.toStringCache=p,p}},Pl=function(i,a,l){var f,b,y,h=Je(i),p=ot(i),m=Je(l),D=!1,E=!1,S=!1;switch(a.indexOf("!")>=0&&(a=a.replace("!",""),E=!0),a.indexOf("@")>=0&&(a=a.replace("@",""),D=!0),(h||m||D)&&(b=h||p?""+i:"",y=""+l),D&&(i=b=b.toLowerCase(),l=y=y.toLowerCase()),a){case"*=":f=b.indexOf(y)>=0;break;case"$=":f=b.indexOf(y,b.length-y.length)>=0;break;case"^=":f=0===b.indexOf(y);break;case"=":f=i===l;break;case">":S=!0,f=i>l;break;case">=":S=!0,f=i>=l;break;case"<":S=!0,f=i<l;break;case"<=":S=!0,f=i<=l;break;default:f=!1}return E&&(null!=i||!S)&&(f=!f),f},Lr=function(i,a){return i.data(a)},dn=[],rn=function(i,a){return i.checks.every(function(l){return dn[l.type](l,a)})};dn[0]=function(s,i){var a=s.value;return"*"===a||a===i.group()},dn[7]=function(s,i){return function(i,a){return Ua[i](a)}(s.value,i)},dn[8]=function(s,i){var a=s.value;return i.id()===a},dn[9]=function(s,i){return i.hasClass(s.value)},dn[6]=function(s,i){var l=s.operator,f=s.value;return Pl(function(i,a){return i[a]()}(i,s.field),l,f)},dn[3]=function(s,i){var l=s.operator,f=s.value;return Pl(Lr(i,s.field),l,f)},dn[5]=function(s,i){var l=s.operator;return function(i,a){switch(a){case"?":return!!i;case"!":return!i;case"^":return void 0===i}}(Lr(i,s.field),l)},dn[4]=function(s,i){return function(i){return void 0!==i}(Lr(i,s.field))},dn[10]=function(s,i){var a=s.nodes[0],l=s.nodes[1],f=i.source(),h=i.target();return rn(a,f)&&rn(l,h)||rn(l,f)&&rn(a,h)},dn[14]=function(s,i){return rn(s.node,i)&&i.neighborhood().some(function(a){return a.isNode()&&rn(s.neighbor,a)})},dn[11]=function(s,i){return rn(s.source,i.source())&&rn(s.target,i.target())},dn[12]=function(s,i){return rn(s.source,i)&&i.outgoers().some(function(a){return a.isNode()&&rn(s.target,a)})},dn[13]=function(s,i){return rn(s.target,i)&&i.incomers().some(function(a){return a.isNode()&&rn(s.source,a)})},dn[15]=function(s,i){return rn(s.child,i)&&rn(s.parent,i.parent())},dn[17]=function(s,i){return rn(s.parent,i)&&i.children().some(function(a){return rn(s.child,a)})},dn[16]=function(s,i){return rn(s.descendant,i)&&i.ancestors().some(function(a){return rn(s.ancestor,a)})},dn[18]=function(s,i){return rn(s.ancestor,i)&&i.descendants().some(function(a){return rn(s.descendant,a)})},dn[19]=function(s,i){return rn(s.subject,i)&&rn(s.left,i)&&rn(s.right,i)},dn[20]=function(){return!0},dn[1]=function(s,i){return s.value.has(i)},dn[2]=function(s,i){return(0,s.value)(i)};var nd={matches:function(i){for(var l=0;l<this.length;l++)if(rn(this[l],i))return!0;return!1},filter:function(i){var a=this;if(1===a.length&&1===a[0].checks.length&&8===a[0].checks[0].type)return i.getElementById(a[0].checks[0].value).collection();var l=function(h){for(var p=0;p<a.length;p++)if(rn(a[p],h))return!0;return!1};return null==a.text()&&(l=function(){return!0}),i.filter(l)}},ui=function(i){this.inputText=i,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==i||Je(i)&&i.match(/^\s*$/)||(br(i)?this.addQuery({checks:[{type:1,value:i.collection()}]}):kn(i)?this.addQuery({checks:[{type:2,value:i}]}):Je(i)?this.parse(i)||(this.invalid=!0):Vn("A selector must be created from a string; found "))},Ea=ui.prototype;[Ca,nd].forEach(function(s){return It(Ea,s)}),Ea.text=function(){return this.inputText},Ea.size=function(){return this.length},Ea.eq=function(s){return this[s]},Ea.sameText=function(s){return!this.invalid&&!s.invalid&&this.text()===s.text()},Ea.addQuery=function(s){this[this.length++]=s},Ea.selector=Ea.toString;var Qi={allAre:function(i){var a=new ui(i);return this.every(function(l){return a.matches(l)})},is:function(i){var a=new ui(i);return this.some(function(l){return a.matches(l)})},some:function(i,a){for(var l=0;l<this.length;l++)if(a?i.apply(a,[this[l],l,this]):i(this[l],l,this))return!0;return!1},every:function(i,a){for(var l=0;l<this.length;l++)if(!(a?i.apply(a,[this[l],l,this]):i(this[l],l,this)))return!1;return!0},same:function(i){if(this===i)return!0;i=this.cy().collection(i);var a=this.length;return a===i.length&&(1===a?this[0]===i[0]:this.every(function(f){return i.hasElementWithId(f.id())}))},anySame:function(i){return i=this.cy().collection(i),this.some(function(a){return i.hasElementWithId(a.id())})},allAreNeighbors:function(i){i=this.cy().collection(i);var a=this.neighborhood();return i.every(function(l){return a.hasElementWithId(l.id())})},contains:function(i){i=this.cy().collection(i);var a=this;return i.every(function(l){return a.hasElementWithId(l.id())})}};Qi.allAreNeighbours=Qi.allAreNeighbors,Qi.has=Qi.contains,Qi.equal=Qi.equals=Qi.same;var rd,Wg,Fo=function(i,a){return function(f,h,p,m){var D,b=f,y=this;if(null==b?D="":br(b)&&1===b.length&&(D=b.id()),1===y.length&&D){var E=y[0]._private,S=E.traversalCache=E.traversalCache||{},M=S[a]=S[a]||[],x=ha(D);return M[x]||(M[x]=i.call(y,f,h,p,m))}return i.call(y,f,h,p,m)}},kl={parent:function(i){var a=[];if(1===this.length){var l=this[0]._private.parent;if(l)return l}for(var f=0;f<this.length;f++){var p=this[f]._private.parent;p&&a.push(p)}return this.spawn(a,!0).filter(i)},parents:function(i){for(var a=[],l=this.parent();l.nonempty();){for(var f=0;f<l.length;f++)a.push(l[f]);l=l.parent()}return this.spawn(a,!0).filter(i)},commonAncestors:function(i){for(var a,l=0;l<this.length;l++){var h=this[l].parents();a=(a=a||h).intersect(h)}return a.filter(i)},orphans:function(i){return this.stdFilter(function(a){return a.isOrphan()}).filter(i)},nonorphans:function(i){return this.stdFilter(function(a){return a.isChild()}).filter(i)},children:Fo(function(s){for(var i=[],a=0;a<this.length;a++)for(var f=this[a]._private.children,h=0;h<f.length;h++)i.push(f[h]);return this.spawn(i,!0).filter(s)},"children"),siblings:function(i){return this.parent().children().not(this).filter(i)},isParent:function(){var i=this[0];if(i)return i.isNode()&&0!==i._private.children.length},isChildless:function(){var i=this[0];if(i)return i.isNode()&&0===i._private.children.length},isChild:function(){var i=this[0];if(i)return i.isNode()&&null!=i._private.parent},isOrphan:function(){var i=this[0];if(i)return i.isNode()&&null==i._private.parent},descendants:function(i){var a=[];return function l(f){for(var h=0;h<f.length;h++){var p=f[h];a.push(p),p.children().nonempty()&&l(p.children())}}(this.children()),this.spawn(a,!0).filter(i)}};function bf(s,i,a,l){for(var f=[],h=new mu,m=s.cy().hasCompoundNodes(),b=0;b<s.length;b++){var y=s[b];a?f.push(y):m&&l(f,h,y)}for(;f.length>0;){var D=f.shift();i(D),h.add(D.id()),m&&l(f,h,D)}return s}function Qh(s,i,a){if(a.isParent())for(var l=a._private.children,f=0;f<l.length;f++){var h=l[f];i.has(h.id())||s.push(h)}}function qg(s,i,a){if(a.isChild()){var l=a._private.parent;i.has(l.id())||s.push(l)}}function ls(s,i,a){qg(s,i,a),Qh(s,i,a)}kl.forEachDown=function(s){return bf(this,s,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Qh)},kl.forEachUp=function(s){return bf(this,s,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],qg)},kl.forEachUpAndDown=function(s){return bf(this,s,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ls)},kl.ancestors=kl.parents,rd=Wg={data:Pt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Pt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Pt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Pt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Pt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Pt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var i=this[0];if(i)return i._private.data.id}},rd.attr=rd.data,rd.removeAttr=rd.removeData;var qm=Wg,Df={};function Jh(s){return function(i){var a=this;if(void 0===i&&(i=!0),0===a.length);else if(a.isNode()&&!a.removed()){for(var l=0,f=a[0],h=f._private.edges,p=0;p<h.length;p++){var m=h[p];!i&&m.isLoop()||(l+=s(f,m))}return l}}}function bo(s,i){return function(a){for(var l,f=this.nodes(),h=0;h<f.length;h++){var m=f[h][s](a);void 0!==m&&(void 0===l||i(m,l))&&(l=m)}return l}}It(Df,{degree:Jh(function(s,i){return i.source().same(i.target())?2:1}),indegree:Jh(function(s,i){return i.target().same(s)?1:0}),outdegree:Jh(function(s,i){return i.source().same(s)?1:0})}),It(Df,{minDegree:bo("degree",function(s,i){return s<i}),maxDegree:bo("degree",function(s,i){return s>i}),minIndegree:bo("indegree",function(s,i){return s<i}),maxIndegree:bo("indegree",function(s,i){return s>i}),minOutdegree:bo("outdegree",function(s,i){return s<i}),maxOutdegree:bo("outdegree",function(s,i){return s>i})}),It(Df,{totalDegree:function(i){for(var a=0,l=this.nodes(),f=0;f<l.length;f++)a+=l[f].degree(i);return a}});var _a,Zg,Kg=function(i,a,l){for(var f=0;f<i.length;f++){var h=i[f];if(!h.locked()){var p=h._private.position,m={x:null!=a.x?a.x-p.x:0,y:null!=a.y?a.y-p.y:0};h.isParent()&&!(0===m.x&&0===m.y)&&h.children().shift(m,l),h.dirtyBoundingBoxCache()}}},Yg={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(i){i.updateCompoundBounds()},beforeSet:function(i,a){Kg(i,a,!1)},onSet:function(i){i.dirtyCompoundBoundsCache()},canSet:function(i){return!i.locked()}};_a=Zg={position:Pt.data(Yg),silentPosition:Pt.data(It({},Yg,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(i,a){Kg(i,a,!0)},onSet:function(i){i.dirtyCompoundBoundsCache()}})),positions:function(i,a){if(Ct(i))a?this.silentPosition(i):this.position(i);else if(kn(i)){var l=i,f=this.cy();f.startBatch();for(var h=0;h<this.length;h++){var m,p=this[h];(m=l(p,h))&&(a?p.silentPosition(m):p.position(m))}f.endBatch()}return this},silentPositions:function(i){return this.positions(i,!0)},shift:function(i,a,l){var f;if(Ct(i)?(f={x:ot(i.x)?i.x:0,y:ot(i.y)?i.y:0},l=a):Je(i)&&ot(a)&&((f={x:0,y:0})[i]=a),null!=f){var h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var m=this[p];if(!(h.hasCompoundNodes()&&m.isChild()&&m.ancestors().anySame(this))){var b=m.position(),y={x:b.x+f.x,y:b.y+f.y};l?m.silentPosition(y):m.position(y)}}h.endBatch()}return this},silentShift:function(i,a){return Ct(i)?this.shift(i,!0):Je(i)&&ot(a)&&this.shift(i,a,!0),this},renderedPosition:function(i,a){var l=this[0],f=this.cy(),h=f.zoom(),p=f.pan(),m=Ct(i)?i:void 0,b=void 0!==m||void 0!==a&&Je(i);if(l&&l.isNode()){if(!b){var E=l.position();return m=Ns(E,h,p),void 0===i?m:m[i]}for(var y=0;y<this.length;y++){var D=this[y];void 0!==a?D.position(i,(a-p[i])/h):void 0!==m&&D.position(_l(m,h,p))}}else if(!b)return;return this},relativePosition:function(i,a){var l=this[0],f=this.cy(),h=Ct(i)?i:void 0,p=void 0!==h||void 0!==a&&Je(i),m=f.hasCompoundNodes();if(l&&l.isNode()){if(!p){var x=l.position(),R=m?l.parent():null,A=R&&R.length>0;A&&(R=R[0]);var P=A?R.position():{x:0,y:0};return h={x:x.x-P.x,y:x.y-P.y},void 0===i?h:h[i]}for(var b=0;b<this.length;b++){var y=this[b],D=m?y.parent():null,E=D&&D.length>0;E&&(D=D[0]);var M=E?D.position():{x:0,y:0};void 0!==a?y.position(i,a+M[i]):void 0!==h&&y.position({x:h.x+M.x,y:h.y+M.y})}}else if(!p)return;return this}},_a.modelPosition=_a.point=_a.position,_a.modelPositions=_a.points=_a.positions,_a.renderedPoint=_a.renderedPosition,_a.relativePoint=_a.relativePosition;var Do,Bs,ep=Zg;Do=Bs={},Bs.renderedBoundingBox=function(s){var i=this.boundingBox(s),a=this.cy(),l=a.zoom(),f=a.pan(),h=i.x1*l+f.x,p=i.x2*l+f.x,m=i.y1*l+f.y,b=i.y2*l+f.y;return{x1:h,x2:p,y1:m,y2:b,w:p-h,h:b-m}},Bs.dirtyCompoundBoundsCache=function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();return i.styleEnabled()&&i.hasCompoundNodes()?(this.forEachUp(function(a){if(a.isParent()){var l=a._private;l.compoundBoundsClean=!1,l.bbCache=null,s||a.emitAndNotify("bounds")}}),this):this},Bs.updateCompoundBounds=function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return this;if(!s&&i.batching())return this;function a(p){if(p.isParent()){var m=p._private,b=p.children(),y="include"===p.pstyle("compound-sizing-wrt-labels").value,D={width:{val:p.pstyle("min-width").pfValue,left:p.pstyle("min-width-bias-left"),right:p.pstyle("min-width-bias-right")},height:{val:p.pstyle("min-height").pfValue,top:p.pstyle("min-height-bias-top"),bottom:p.pstyle("min-height-bias-bottom")}},E=b.boundingBox({includeLabels:y,includeOverlays:!1,useCache:!1}),S=m.position;(0===E.w||0===E.h)&&((E={w:p.pstyle("width").pfValue,h:p.pstyle("height").pfValue}).x1=S.x-E.w/2,E.x2=S.x+E.w/2,E.y1=S.y-E.h/2,E.y2=S.y+E.h/2);var R=D.width.left.value;"px"===D.width.left.units&&D.width.val>0&&(R=100*R/D.width.val);var A=D.width.right.value;"px"===D.width.right.units&&D.width.val>0&&(A=100*A/D.width.val);var N=D.height.top.value;"px"===D.height.top.units&&D.height.val>0&&(N=100*N/D.height.val);var P=D.height.bottom.value;"px"===D.height.bottom.units&&D.height.val>0&&(P=100*P/D.height.val);var k=M(D.width.val-E.w,R,A),V=k.biasDiff,q=k.biasComplementDiff,K=M(D.height.val-E.h,N,P),$=K.biasDiff,Z=K.biasComplementDiff;m.autoPadding=function x(U,X,Q,j){if("%"!==Q.units)return"px"===Q.units?Q.pfValue:0;switch(j){case"width":return U>0?Q.pfValue*U:0;case"height":return X>0?Q.pfValue*X:0;case"average":return U>0&&X>0?Q.pfValue*(U+X)/2:0;case"min":return U>0&&X>0?U>X?Q.pfValue*X:Q.pfValue*U:0;case"max":return U>0&&X>0?U>X?Q.pfValue*U:Q.pfValue*X:0;default:return 0}}(E.w,E.h,p.pstyle("padding"),p.pstyle("padding-relative-to").value),m.autoWidth=Math.max(E.w,D.width.val),S.x=(-V+E.x1+E.x2+q)/2,m.autoHeight=Math.max(E.h,D.height.val),S.y=(-$+E.y1+E.y2+Z)/2}function M(U,X,Q){var j=0,ee=0,Y=X+Q;return U>0&&Y>0&&(j=X/Y*U,ee=Q/Y*U),{biasDiff:j,biasComplementDiff:ee}}}for(var l=0;l<this.length;l++){var f=this[l],h=f._private;(!h.compoundBoundsClean||s)&&(a(f),i.batching()||(h.compoundBoundsClean=!0))}return this};var Qo=function(i){return i===1/0||i===-1/0?0:i},Br=function(i,a,l,f,h){f-a==0||h-l==0||null==a||null==l||null==f||null==h||(i.x1=a<i.x1?a:i.x1,i.x2=f>i.x2?f:i.x2,i.y1=l<i.y1?l:i.y1,i.y2=h>i.y2?h:i.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1)},Co=function(i,a){return null==a?i:Br(i,a.x1,a.y1,a.x2,a.y2)},Lo=function(i,a,l){return lo(i,a,l)},Cf=function(i,a,l){if(!a.cy().headless()){var b,y,f=a._private,h=f.rstyle,p=h.arrowWidth/2;if("none"!==a.pstyle(l+"-arrow-shape").value){"source"===l?(b=h.srcX,y=h.srcY):"target"===l?(b=h.tgtX,y=h.tgtY):(b=h.midX,y=h.midY);var D=f.arrowBounds=f.arrowBounds||{},E=D[l]=D[l]||{};E.x1=b-p,E.y1=y-p,E.x2=b+p,E.y2=y+p,E.w=E.x2-E.x1,E.h=E.y2-E.y1,Bc(E,1),Br(i,E.x1,E.y1,E.x2,E.y2)}}},tp=function(i,a,l){if(!a.cy().headless()){var f,h=a._private,p=h.rstyle;if(a.pstyle((f=l?l+"-":"")+"label").strValue){var Q,j,ee,Y,b=a.pstyle("text-halign"),y=a.pstyle("text-valign"),D=Lo(p,"labelWidth",l),E=Lo(p,"labelHeight",l),S=Lo(p,"labelX",l),M=Lo(p,"labelY",l),x=a.pstyle(f+"text-margin-x").pfValue,R=a.pstyle(f+"text-margin-y").pfValue,A=a.isEdge(),N=a.pstyle(f+"text-rotation"),P=a.pstyle("text-outline-width").pfValue,V=a.pstyle("text-border-width").pfValue/2,q=a.pstyle("text-background-padding").pfValue,$=E,Z=D,U=Z/2,X=$/2;if(A)Q=S-U,j=S+U,ee=M-X,Y=M+X;else{switch(b.value){case"left":Q=S-Z,j=S;break;case"center":Q=S-U,j=S+U;break;case"right":Q=S,j=S+Z}switch(y.value){case"top":ee=M-$,Y=M;break;case"center":ee=M-X,Y=M+X;break;case"bottom":ee=M,Y=M+$}}Q+=x-Math.max(P,V)-q-2,j+=x+Math.max(P,V)+q+2,ee+=R-Math.max(P,V)-q-2,Y+=R+Math.max(P,V)+q+2;var se=l||"main",te=h.labelBounds,ne=te[se]=te[se]||{};ne.x1=Q,ne.y1=ee,ne.x2=j,ne.y2=Y,ne.w=j-Q,ne.h=Y-ee;var fe=A&&"autorotate"===N.strValue;if(fe||null!=N.pfValue&&0!==N.pfValue){var De=fe?Lo(h.rstyle,"labelAngle",l):N.pfValue,he=Math.cos(De),be=Math.sin(De),Ae=(Q+j)/2,Fe=(ee+Y)/2;if(!A){switch(b.value){case"left":Ae=j;break;case"right":Ae=Q}switch(y.value){case"top":Fe=Y;break;case"bottom":Fe=ee}}var Me=function(Jt,at){return{x:(Jt-=Ae)*he-(at-=Fe)*be+Ae,y:Jt*be+at*he+Fe}},Ie=Me(Q,ee),ce=Me(Q,Y),Re=Me(j,ee),Le=Me(j,Y);Q=Math.min(Ie.x,ce.x,Re.x,Le.x),j=Math.max(Ie.x,ce.x,Re.x,Le.x),ee=Math.min(Ie.y,ce.y,Re.y,Le.y),Y=Math.max(Ie.y,ce.y,Re.y,Le.y)}var Ke=se+"Rot",tt=te[Ke]=te[Ke]||{};tt.x1=Q,tt.y1=ee,tt.x2=j,tt.y2=Y,tt.w=j-Q,tt.h=Y-ee,Br(i,Q,ee,j,Y),Br(h.labelBounds.all,Q,ee,j,Y)}return i}},Au=function(i){var a=0,l=function(p){return(p?1:0)<<a++},f=0;return f+=l(i.incudeNodes),f+=l(i.includeEdges),f+=l(i.includeLabels),f+=l(i.includeMainLabels),f+=l(i.includeSourceLabels),(f+=l(i.includeTargetLabels))+l(i.includeOverlays)},Ji=function(i){if(i.isEdge()){var a=i.source().position(),l=i.target().position(),f=function(p){return Math.round(p)};return function(i,a){var l={value:0,done:!1},f=0,h=i.length;return nf({next:function(){return f<h?l.value=i[f++]:l.done=!0,l}},void 0)}([f(a.x),f(a.y),f(l.x),f(l.y)])}return 0},Ef=function(i,a){var f,l=i._private,h=i.isEdge(),m=(null==a?Fl:Au(a))===Fl,b=Ji(i),y=l.bbCachePosKey===b,D=a.useCache&&y,E=function(R){return null==R._private.bbCache||R._private.styleDirty};if(!D||E(i)||h&&E(i.source())||E(i.target())?(y||i.recalculateRenderedStyle(D),f=function(i,a){var D,E,S,M,x,R,l=i._private.cy,f=l.styleEnabled(),h=l.headless(),p=fo(),m=i._private,b=i.isNode(),y=i.isEdge(),A=m.rstyle,N=b&&f?i.pstyle("bounds-expansion").pfValue:[0],P=function(ze){return"none"!==ze.pstyle("display").value},k=!f||P(i)&&(!y||P(i.source())&&P(i.target()));if(k){var q=0;f&&a.includeOverlays&&0!==i.pstyle("overlay-opacity").value&&(q=i.pstyle("overlay-padding").value);var $=0;f&&a.includeUnderlays&&0!==i.pstyle("underlay-opacity").value&&($=i.pstyle("underlay-padding").value);var Z=Math.max(q,$),X=0;if(f&&(X=i.pstyle("width").pfValue/2),b&&a.includeNodes){var Q=i.position();x=Q.x,R=Q.y;var ee=i.outerWidth()/2,se=i.outerHeight()/2;Br(p,D=x-ee,S=R-se,E=x+ee,M=R+se)}else if(y&&a.includeEdges)if(f&&!h){var te=i.pstyle("curve-style").strValue;if(D=Math.min(A.srcX,A.midX,A.tgtX),E=Math.max(A.srcX,A.midX,A.tgtX),S=Math.min(A.srcY,A.midY,A.tgtY),M=Math.max(A.srcY,A.midY,A.tgtY),Br(p,D-=X,S-=X,E+=X,M+=X),"haystack"===te){var ne=A.haystackPts;if(ne&&2===ne.length){if((D=ne[0].x)>(E=ne[1].x)){var fe=D;D=E,E=fe}if((S=ne[0].y)>(M=ne[1].y)){var pe=S;S=M,M=pe}Br(p,D-X,S-X,E+X,M+X)}}else if("bezier"===te||"unbundled-bezier"===te||"segments"===te||"taxi"===te){var De;switch(te){case"bezier":case"unbundled-bezier":De=A.bezierPts;break;case"segments":case"taxi":De=A.linePts}if(null!=De)for(var he=0;he<De.length;he++){var be=De[he];Br(p,D=be.x-X,S=be.y-X,E=be.x+X,M=be.y+X)}}}else{var Fe=i.source().position(),Ie=i.target().position();if((D=Fe.x)>(E=Ie.x)){var ce=D;D=E,E=ce}if((S=Fe.y)>(M=Ie.y)){var Re=S;S=M,M=Re}Br(p,D-=X,S-=X,E+=X,M+=X)}if(f&&a.includeEdges&&y&&(Cf(p,i,"mid-source"),Cf(p,i,"mid-target"),Cf(p,i,"source"),Cf(p,i,"target")),f&&"yes"===i.pstyle("ghost").value){var Ke=i.pstyle("ghost-offset-x").pfValue,tt=i.pstyle("ghost-offset-y").pfValue;Br(p,p.x1+Ke,p.y1+tt,p.x2+Ke,p.y2+tt)}var Et=m.bodyBounds=m.bodyBounds||{};ho(Et,p),Bh(Et,N),Bc(Et,1),f&&Br(p,(D=p.x1)-Z,(S=p.y1)-Z,(E=p.x2)+Z,(M=p.y2)+Z);var Jt=m.overlayBounds=m.overlayBounds||{};ho(Jt,p),Bh(Jt,N),Bc(Jt,1);var at=m.labelBounds=m.labelBounds||{};null!=at.all?function(i){i.x1=1/0,i.y1=1/0,i.x2=-1/0,i.y2=-1/0,i.w=0,i.h=0}(at.all):at.all=fo(),f&&a.includeLabels&&(a.includeMainLabels&&tp(p,i,null),y&&(a.includeSourceLabels&&tp(p,i,"source"),a.includeTargetLabels&&tp(p,i,"target")))}return p.x1=Qo(p.x1),p.y1=Qo(p.y1),p.x2=Qo(p.x2),p.y2=Qo(p.y2),p.w=Qo(p.x2-p.x1),p.h=Qo(p.y2-p.y1),p.w>0&&p.h>0&&k&&(Bh(p,N),Bc(p,1)),p}(i,Ru),l.bbCache=f,l.bbCachePosKey=b):f=l.bbCache,!m){var M=i.isNode();f=fo(),(a.includeNodes&&M||a.includeEdges&&!M)&&Co(f,a.includeOverlays?l.overlayBounds:l.bodyBounds),a.includeLabels&&(a.includeMainLabels&&(!h||a.includeSourceLabels&&a.includeTargetLabels)?Co(f,l.labelBounds.all):(a.includeMainLabels&&Co(f,l.labelBounds.mainRot),a.includeSourceLabels&&Co(f,l.labelBounds.sourceRot),a.includeTargetLabels&&Co(f,l.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Ru={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Fl=Au(Ru),Vs=Nr(Ru);Bs.boundingBox=function(s){var i;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==s&&void 0!==s.useCache&&!0!==s.useCache){i=fo();var a=Vs(s=s||Ru),l=this;if(l.cy().styleEnabled())for(var p=0;p<l.length;p++){var m=l[p],b=m._private,y=Ji(m);m.recalculateRenderedStyle(a.useCache&&b.bbCachePosKey===y&&!b.styleDirty)}this.updateCompoundBounds(!s.useCache);for(var S=0;S<l.length;S++)Co(i,Ef(l[S],a))}else s=void 0===s?Ru:Vs(s),i=Ef(this[0],s);return i.x1=Qo(i.x1),i.y1=Qo(i.y1),i.x2=Qo(i.x2),i.y2=Qo(i.y2),i.w=Qo(i.x2-i.x1),i.h=Qo(i.y2-i.y1),i},Bs.dirtyBoundingBoxCache=function(){for(var s=0;s<this.length;s++){var i=this[s]._private;i.bbCache=null,i.bbCachePosKey=null,i.bodyBounds=null,i.overlayBounds=null,i.labelBounds.all=null,i.labelBounds.source=null,i.labelBounds.target=null,i.labelBounds.main=null,i.labelBounds.sourceRot=null,i.labelBounds.targetRot=null,i.labelBounds.mainRot=null,i.arrowBounds.source=null,i.arrowBounds.target=null,i.arrowBounds["mid-source"]=null,i.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Bs.boundingBoxAt=function(s){var i=this.nodes(),a=this.cy(),l=a.hasCompoundNodes(),f=a.collection();if(l&&(f=i.filter(function(y){return y.isParent()}),i=i.not(f)),Ct(s)){var h=s;s=function(){return h}}a.startBatch(),i.forEach(function(D,E){return D._private.bbAtOldPos=s(D,E)}).silentPositions(s),l&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var b=function(i){return{x1:i.x1,x2:i.x2,w:i.w,y1:i.y1,y2:i.y2,h:i.h}}(this.boundingBox({useCache:!1}));return i.silentPositions(function(D){return D._private.bbAtOldPos}),l&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),a.endBatch(),b},Do.boundingbox=Do.bb=Do.boundingBox,Do.renderedBoundingbox=Do.renderedBoundingBox;var Ou,cs,Nu=Bs;Ou=cs={};var id=function(i){i.uppercaseName=Oa(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=Oa(i.outerName),Ou[i.name]=function(){var l=this[0],f=l._private;if(l){if(f.cy._private.styleEnabled){if(l.isParent())return l.updateCompoundBounds(),f[i.autoName]||0;var m=l.pstyle(i.name);return"label"===m.strValue?(l.recalculateRenderedStyle(),f.rstyle[i.labelName]||0):m.pfValue}return 1}},Ou["outer"+i.uppercaseName]=function(){var l=this[0];if(l)return l._private.cy._private.styleEnabled?l[i.name]()+l.pstyle("border-width").pfValue+2*l.padding():1},Ou["rendered"+i.uppercaseName]=function(){var l=this[0];if(l)return l[i.name]()*this.cy().zoom()},Ou["rendered"+i.uppercaseOuterName]=function(){var l=this[0];if(l)return l[i.outerName]()*this.cy().zoom()}};id({name:"width"}),id({name:"height"}),cs.padding=function(){var s=this[0],i=s._private;return s.isParent()?(s.updateCompoundBounds(),void 0!==i.autoPadding?i.autoPadding:s.pstyle("padding").pfValue):s.pstyle("padding").pfValue},cs.paddedHeight=function(){var s=this[0];return s.height()+2*s.padding()},cs.paddedWidth=function(){var s=this[0];return s.width()+2*s.padding()};var Sa=cs,np={controlPoints:{get:function(i){return i.renderer().getControlPoints(i)},mult:!0},segmentPoints:{get:function(i){return i.renderer().getSegmentPoints(i)},mult:!0},sourceEndpoint:{get:function(i){return i.renderer().getSourceEndpoint(i)}},targetEndpoint:{get:function(i){return i.renderer().getTargetEndpoint(i)}},midpoint:{get:function(i){return i.renderer().getEdgeMidpoint(i)}}},sd=Object.keys(np).reduce(function(s,i){var a=np[i],l=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(i);return s[i]=function(){return function(i,a){if(i.isEdge())return a(i)}(this,a.get)},s[l]=a.mult?function(){return function(i,a){if(i.isEdge()){var l=i.cy(),f=l.pan(),h=l.zoom();return a(i).map(function(p){return Ns(p,h,f)})}}(this,a.get)}:function(){return function(i,a){if(i.isEdge()){var l=i.cy();return Ns(a(i),l.zoom(),l.pan())}}(this,a.get)},s},{}),Wm=It({},ep,Nu,Sa,sd),ud=function(i,a){this.recycle(i,a)};function Dr(){return!1}function Pu(){return!0}ud.prototype={instanceString:function(){return"event"},recycle:function(i,a){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Dr,null!=i&&i.preventDefault?(this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?Pu:Dr):null!=i&&i.type?a=i:this.type=i,null!=a&&(this.originalEvent=a.originalEvent,this.type=null!=a.type?a.type:this.type,this.cy=a.cy,this.target=a.target,this.position=a.position,this.renderedPosition=a.renderedPosition,this.namespace=a.namespace,this.layout=a.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var l=this.position,f=this.cy.zoom(),h=this.cy.pan();this.renderedPosition={x:l.x*f+h.x,y:l.y*f+h.y}}this.timeStamp=i&&i.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Pu;var i=this.originalEvent;i&&i.preventDefault&&i.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Pu;var i=this.originalEvent;i&&i.stopPropagation&&i.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Pu,this.stopPropagation()},isDefaultPrevented:Dr,isPropagationStopped:Dr,isImmediatePropagationStopped:Dr};var Bl=/^([^.]+)(\.(?:[^.]+))?$/,Sf={qualifierCompare:function(i,a){return i===a},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(i){return i},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Vl=Object.keys(Sf),fs={};function ku(){for(var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs,i=arguments.length>1?arguments[1]:void 0,a=0;a<Vl.length;a++){var l=Vl[a];this[l]=s[l]||Sf[l]}this.context=i||this.context,this.listeners=[],this.emitting=0}var Sr=ku.prototype,ld=function(i,a,l,f,h,p,m){kn(f)&&(h=f,f=null),m&&(p=null==p?m:It({},p,m));for(var b=_n(l)?l:l.split(/\s+/),y=0;y<b.length;y++){var D=b[y];if(!en(D)){var E=D.match(Bl);if(E&&!1===a(i,D,E[1],E[2]?E[2]:null,f,h,p))break}}},rp=function(i,a){return i.addEventFields(i.context,a),new ud(a.type,a)};Sr.on=Sr.addListener=function(s,i,a,l,f){return ld(this,function(h,p,m,b,y,D,E){kn(D)&&h.listeners.push({event:p,callback:D,type:m,namespace:b,qualifier:y,conf:E})},s,i,a,l,f),this},Sr.one=function(s,i,a,l){return this.on(s,i,a,l,{one:!0})},Sr.removeListener=Sr.off=function(s,i,a,l){var f=this;0!==this.emitting&&(this.listeners=function(i){return i.slice()}(this.listeners));for(var h=this.listeners,p=function(y){var D=h[y];ld(f,function(E,S,M,x,R,A){if((D.type===M||"*"===s)&&(!x&&".*"!==D.namespace||D.namespace===x)&&(!R||E.qualifierCompare(D.qualifier,R))&&(!A||D.callback===A))return h.splice(y,1),!1},s,i,a,l)},m=h.length-1;m>=0;m--)p(m);return this},Sr.removeAllListeners=function(){return this.removeListener("*")},Sr.emit=Sr.trigger=function(s,i,a){var l=this.listeners,f=l.length;return this.emitting++,_n(i)||(i=[i]),function(i,a,l){if(function(i){return"event"===_r(i)}(l))a(i,l);else if(Ct(l))a(i,rp(i,l));else for(var f=_n(l)?l:l.split(/\s+/),h=0;h<f.length;h++){var p=f[h];if(!en(p)){var m=p.match(Bl);m&&a(i,rp(i,{type:m[1],namespace:m[2]?m[2]:null,target:i.context}))}}}(this,function(h,p){null!=a&&(f=(l=[{event:p.event,type:p.type,namespace:p.namespace,callback:a}]).length);for(var m=function(D){var E=l[D];if(E.type===p.type&&(!E.namespace||E.namespace===p.namespace||".*"===E.namespace)&&h.eventMatches(h.context,E,p)){var S=[p];null!=i&&function(i,a){for(var l=0;l<a.length;l++)i.push(a[l])}(S,i),h.beforeEmit(h.context,E,p),E.conf&&E.conf.one&&(h.listeners=h.listeners.filter(function(R){return R!==E}));var M=h.callbackContext(h.context,E,p),x=E.callback.apply(M,S);h.afterEmit(h.context,E,p),!1===x&&(p.stopPropagation(),p.preventDefault())}},b=0;b<f;b++)m(b);h.bubble(h.context)&&!p.isPropagationStopped()&&h.parent(h.context).emit(p,i)},s),this.emitting--,this};var Qg={qualifierCompare:function(i,a){return null==i||null==a?null==i&&null==a:i.sameText(a)},eventMatches:function(i,a,l){var f=a.qualifier;return null==f||i!==l.target&&lu(l.target)&&f.matches(l.target)},addEventFields:function(i,a){a.cy=i.cy(),a.target=i},callbackContext:function(i,a,l){return null!=a.qualifier?l.target:i},beforeEmit:function(i,a){a.conf&&a.conf.once&&a.conf.onceCollection.removeListener(a.event,a.qualifier,a.callback)},bubble:function(){return!0},parent:function(i){return i.isChild()?i.parent():i.cy()}},Us=function(i){return Je(i)?new ui(i):i},op={createEmitter:function(){for(var i=0;i<this.length;i++){var a=this[i],l=a._private;l.emitter||(l.emitter=new ku(Qg,a))}return this},emitter:function(){return this._private.emitter},on:function(i,a,l){for(var f=Us(a),h=0;h<this.length;h++)this[h].emitter().on(i,f,l);return this},removeListener:function(i,a,l){for(var f=Us(a),h=0;h<this.length;h++)this[h].emitter().removeListener(i,f,l);return this},removeAllListeners:function(){for(var i=0;i<this.length;i++)this[i].emitter().removeAllListeners();return this},one:function(i,a,l){for(var f=Us(a),h=0;h<this.length;h++)this[h].emitter().one(i,f,l);return this},once:function(i,a,l){for(var f=Us(a),h=0;h<this.length;h++)this[h].emitter().on(i,f,l,{once:!0,onceCollection:this})},emit:function(i,a){for(var l=0;l<this.length;l++)this[l].emitter().emit(i,a);return this},emitAndNotify:function(i,a){if(0!==this.length)return this.cy().notify(i,this),this.emit(i,a),this}};Pt.eventAliasesOn(op);var $l={nodes:function(i){return this.filter(function(a){return a.isNode()}).filter(i)},edges:function(i){return this.filter(function(a){return a.isEdge()}).filter(i)},byGroup:function(){for(var i=this.spawn(),a=this.spawn(),l=0;l<this.length;l++){var f=this[l];f.isNode()?i.push(f):a.push(f)}return{nodes:i,edges:a}},filter:function(i,a){if(void 0===i)return this;if(Je(i)||br(i))return new ui(i).filter(this);if(kn(i)){for(var l=this.spawn(),f=this,h=0;h<f.length;h++){var p=f[h];(a?i.apply(a,[p,h,f]):i(p,h,f))&&l.push(p)}return l}return this.spawn()},not:function(i){if(i){Je(i)&&(i=this.filter(i));for(var a=this.spawn(),l=0;l<this.length;l++){var f=this[l];i.has(f)||a.push(f)}return a}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(i){if(Je(i))return this.filter(i);for(var l=this.spawn(),p=this.length<i.length,m=p?this:i,b=p?i:this,y=0;y<m.length;y++){var D=m[y];b.has(D)&&l.push(D)}return l},xor:function(i){var a=this._private.cy;Je(i)&&(i=a.$(i));var l=this.spawn(),h=i,p=function(b,y){for(var D=0;D<b.length;D++){var E=b[D];y.hasElementWithId(E._private.data.id)||l.push(E)}};return p(this,h),p(h,this),l},diff:function(i){var a=this._private.cy;Je(i)&&(i=a.$(i));var l=this.spawn(),f=this.spawn(),h=this.spawn(),m=i,b=function(D,E,S){for(var M=0;M<D.length;M++){var x=D[M];E.hasElementWithId(x._private.data.id)?h.merge(x):S.push(x)}};return b(this,m,l),b(m,this,f),{left:l,right:f,both:h}},add:function(i){var a=this._private.cy;if(!i)return this;if(Je(i)){var l=i;i=a.mutableElements().filter(l)}for(var f=this.spawnSelf(),h=0;h<i.length;h++){var p=i[h];!this.has(p)&&f.push(p)}return f},merge:function(i){var a=this._private,l=a.cy;if(!i)return this;if(i&&Je(i)){var f=i;i=l.mutableElements().filter(f)}for(var h=a.map,p=0;p<i.length;p++){var m=i[p],b=m._private.data.id;if(!h.has(b)){var D=this.length++;this[D]=m,h.set(b,{ele:m,index:D})}}return this},unmergeAt:function(i){var l=this[i].id(),h=this._private.map;if(this[i]=void 0,h.delete(l),this.length>1&&i!==this.length-1){var m=this.length-1,b=this[m],y=b._private.data.id;this[m]=void 0,this[i]=b,h.set(y,{ele:b,index:i})}return this.length--,this},unmergeOne:function(i){var h=this._private.map.get((i=i[0])._private.data.id);return h?(this.unmergeAt(h.index),this):this},unmerge:function(i){var a=this._private.cy;if(!i)return this;if(i&&Je(i)){var l=i;i=a.mutableElements().filter(l)}for(var f=0;f<i.length;f++)this.unmergeOne(i[f]);return this},unmergeBy:function(i){for(var a=this.length-1;a>=0;a--)i(this[a])&&this.unmergeAt(a);return this},map:function(i,a){for(var l=[],f=this,h=0;h<f.length;h++){var p=f[h],m=a?i.apply(a,[p,h,f]):i(p,h,f);l.push(m)}return l},reduce:function(i,a){for(var l=a,f=this,h=0;h<f.length;h++)l=i(l,f[h],h,f);return l},max:function(i,a){for(var f,l=-1/0,h=this,p=0;p<h.length;p++){var m=h[p],b=a?i.apply(a,[m,p,h]):i(m,p,h);b>l&&(l=b,f=m)}return{value:l,ele:f}},min:function(i,a){for(var f,l=1/0,h=this,p=0;p<h.length;p++){var m=h[p],b=a?i.apply(a,[m,p,h]):i(m,p,h);b<l&&(l=b,f=m)}return{value:l,ele:f}}},Rn=$l;Rn.u=Rn["|"]=Rn["+"]=Rn.union=Rn.or=Rn.add,Rn["\\"]=Rn["!"]=Rn["-"]=Rn.difference=Rn.relativeComplement=Rn.subtract=Rn.not,Rn.n=Rn["&"]=Rn["."]=Rn.and=Rn.intersection=Rn.intersect,Rn["^"]=Rn["(+)"]=Rn["(-)"]=Rn.symmetricDifference=Rn.symdiff=Rn.xor,Rn.fnFilter=Rn.filterFn=Rn.stdFilter=Rn.filter,Rn.complement=Rn.abscomp=Rn.absoluteComplement;var i,xf=function(i,a){var f=i.cy().hasCompoundNodes();function h(D){var E=D.pstyle("z-compound-depth");return"auto"===E.value?f?D.zDepth():0:"bottom"===E.value?-1:"top"===E.value?sf:0}var p=h(i)-h(a);if(0!==p)return p;function m(D){return"auto"===D.pstyle("z-index-compare").value&&D.isNode()?1:0}var b=m(i)-m(a);if(0!==b)return b;var y=i.pstyle("z-index").value-a.pstyle("z-index").value;return 0!==y?y:i.poolIndex()-a.poolIndex()},hs={forEach:function(i,a){if(kn(i))for(var l=this.length,f=0;f<l;f++){var h=this[f];if(!1===(a?i.apply(a,[h,f,this]):i(h,f,this)))break}return this},toArray:function(){for(var i=[],a=0;a<this.length;a++)i.push(this[a]);return i},slice:function(i,a){var l=[],f=this.length;null==a&&(a=f),null==i&&(i=0),i<0&&(i=f+i),a<0&&(a=f+a);for(var h=i;h>=0&&h<a&&h<f;h++)l.push(this[h]);return this.spawn(l)},size:function(){return this.length},eq:function(i){return this[i]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(i){if(!kn(i))return this;var a=this.toArray().sort(i);return this.spawn(a)},sortByZIndex:function(){return this.sort(xf)},zDepth:function(){var i=this[0];if(i){var a=i._private;if("nodes"===a.group){var f=a.data.parent?i.parents().size():0;return i.isParent()?f:sf-1}var p=a.target,m=a.source.zDepth(),b=p.zDepth();return Math.max(m,b,0)}}};hs.each=hs.forEach,i="undefined",(typeof Symbol>"u"?"undefined":ln(Symbol))!=i&&ln(Symbol.iterator)!=i&&(hs[Symbol.iterator]=function(){var l=this,f={value:void 0,done:!1},h=0,p=this.length;return Mn({next:function(){return h<p?f.value=l[h++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var ap=Nr({nodeDimensionsIncludeLabels:!1}),zs={layoutDimensions:function(i){var a;if(i=ap(i),this.takesUpSpace())if(i.nodeDimensionsIncludeLabels){var l=this.boundingBox();a={w:l.w,h:l.h}}else a={w:this.outerWidth(),h:this.outerHeight()};else a={w:0,h:0};return(0===a.w||0===a.h)&&(a.w=a.h=1),a},layoutPositions:function(i,a,l){var f=this.nodes().filter(function(q){return!q.isParent()}),h=this.cy(),p=a.eles,m=function(K){return K.id()},b=du(l,m);i.emit({type:"layoutstart",layout:i}),i.animations=[];var D=a.spacingFactor&&1!==a.spacingFactor,S=function(){if(!D)return null;for(var K=fo(),$=0;$<f.length;$++){var U=b(f[$],$);sr(K,U.x,U.y)}return K}(),M=du(function(q,K){var $=b(q,K);return D&&($=function(K,$,Z){var U_x=$.x1+$.w/2,U_y=$.y1+$.h/2;return{x:U_x+(Z.x-U_x)*K,y:U_y+(Z.y-U_y)*K}}(Math.abs(a.spacingFactor),S,$)),null!=a.transform&&($=a.transform(q,$)),$},m);if(a.animate){for(var x=0;x<f.length;x++){var R=f[x],A=M(R,x);if(null==a.animateFilter||a.animateFilter(R,x)){var P=R.animation({position:A,duration:a.animationDuration,easing:a.animationEasing});i.animations.push(P)}else R.position(A)}if(a.fit){var k=h.animation({fit:{boundingBox:p.boundingBoxAt(M),padding:a.padding},duration:a.animationDuration,easing:a.animationEasing});i.animations.push(k)}else if(void 0!==a.zoom&&void 0!==a.pan){var V=h.animation({zoom:a.zoom,pan:a.pan,duration:a.animationDuration,easing:a.animationEasing});i.animations.push(V)}i.animations.forEach(function(q){return q.play()}),i.one("layoutready",a.ready),i.emit({type:"layoutready",layout:i}),vr.all(i.animations.map(function(q){return q.promise()})).then(function(){i.one("layoutstop",a.stop),i.emit({type:"layoutstop",layout:i})})}else f.positions(M),a.fit&&h.fit(a.eles,a.padding),null!=a.zoom&&h.zoom(a.zoom),a.pan&&h.pan(a.pan),i.one("layoutready",a.ready),i.emit({type:"layoutready",layout:i}),i.one("layoutstop",a.stop),i.emit({type:"layoutstop",layout:i});return this},layout:function(i){return this.cy().makeLayout(It({},i,{eles:this}))}};function Mf(s,i,a){var h,l=a._private,f=l.styleCache=l.styleCache||[];return null!=(h=f[s])||(h=f[s]=i(a)),h}function Fu(s,i){return s=ha(s),function(l){return Mf(s,i,l)}}function cd(s,i){s=ha(s);var a=function(f){return i.call(f)};return function(){var f=this[0];if(f)return Mf(s,a,f)}}zs.createLayout=zs.makeLayout=zs.layout;var ir={recalculateRenderedStyle:function(i){var a=this.cy(),l=a.renderer(),f=a.styleEnabled();return l&&f&&l.recalculateRenderedStyle(this,i),this},dirtyStyleCache:function(){var l,i=this.cy(),a=function(h){return h._private.styleCache=null};return i.hasCompoundNodes()?((l=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(l.connectedEdges()),l.forEach(a)):this.forEach(function(f){a(f),f.connectedEdges().forEach(a)}),this},updateStyle:function(i){var a=this._private.cy;if(!a.styleEnabled())return this;if(a.batching())return a._private.batchStyleEles.merge(this),this;var h=this;i=!(!i&&void 0!==i),a.hasCompoundNodes()&&(h=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var p=h;return i?p.emitAndNotify("style"):p.emit("style"),h.forEach(function(m){return m._private.styleDirty=!0}),this},cleanStyle:function(){var i=this.cy();if(i.styleEnabled())for(var a=0;a<this.length;a++){var l=this[a];l._private.styleDirty&&(l._private.styleDirty=!1,i.style().apply(l))}},parsedStyle:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this[0],f=l.cy();if(f.styleEnabled()&&l)return this.cleanStyle(),l._private.style[i]??(a?f.style().getDefaultProperty(i):null)},numericStyle:function(i){var a=this[0];if(a.cy().styleEnabled()&&a){var l=a.pstyle(i);return void 0!==l.pfValue?l.pfValue:l.value}},numericStyleUnits:function(i){var a=this[0];if(a.cy().styleEnabled()&&a)return a.pstyle(i).units},renderedStyle:function(i){var a=this.cy();if(!a.styleEnabled())return this;var l=this[0];return l?a.style().getRenderedStyle(l,i):void 0},style:function(i,a){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style();if(Ct(i))h.applyBypass(this,i,!1),this.emitAndNotify("style");else if(Je(i)){if(void 0===a){var m=this[0];return m?h.getStylePropertyValue(m,i):void 0}h.applyBypass(this,i,a,!1),this.emitAndNotify("style")}else if(void 0===i){var b=this[0];return b?h.getRawStyle(b):void 0}return this},removeStyle:function(i){var a=this.cy();if(!a.styleEnabled())return this;var f=a.style(),h=this;if(void 0===i)for(var p=0;p<h.length;p++)f.removeAllBypasses(h[p],!1);else{i=i.split(/\s+/);for(var b=0;b<h.length;b++)f.removeBypasses(h[b],i,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var i=this.cy();if(!i.styleEnabled())return 1;var a=i.hasCompoundNodes(),l=this[0];if(l){var f=l._private,h=l.pstyle("opacity").value;if(!a)return h;var p=f.data.parent?l.parents():null;if(p)for(var m=0;m<p.length;m++)h*=p[m].pstyle("opacity").value;return h}},transparent:function(){if(!this.cy().styleEnabled())return!1;var a=this[0],l=a.cy().hasCompoundNodes();return a?l?0===a.effectiveOpacity():0===a.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Hl(s,i){var l=s._private.data.parent?s.parents():null;if(l)for(var f=0;f<l.length;f++)if(!i(l[f]))return!1;return!0}function Lu(s){var i=s.ok,a=s.edgeOkViaNode||s.ok,l=s.parentOk||s.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var h=this[0],p=f.hasCompoundNodes();if(h){var m=h._private;if(!i(h))return!1;if(h.isNode())return!p||Hl(h,l);var b=m.source,y=m.target;return a(b)&&(!p||Hl(b,a))&&(b===y||a(y)&&(!p||Hl(y,a)))}}}var $n=Fu("eleTakesUpSpace",function(s){return"element"===s.pstyle("display").value&&0!==s.width()&&(!s.isNode()||0!==s.height())});ir.takesUpSpace=cd("takesUpSpace",Lu({ok:$n}));var Ul=Fu("eleInteractive",function(s){return"yes"===s.pstyle("events").value&&"visible"===s.pstyle("visibility").value&&$n(s)}),zl=Fu("parentInteractive",function(s){return"visible"===s.pstyle("visibility").value&&$n(s)});ir.interactive=cd("interactive",Lu({ok:Ul,parentOk:zl,edgeOkViaNode:$n})),ir.noninteractive=function(){var s=this[0];if(s)return!s.interactive()};var Bi=Fu("eleVisible",function(s){return"visible"===s.pstyle("visibility").value&&0!==s.pstyle("opacity").pfValue&&$n(s)});ir.visible=cd("visible",Lu({ok:Bi,edgeOkViaNode:$n})),ir.hidden=function(){var s=this[0];if(s)return!s.visible()},ir.isBundledBezier=cd("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),ir.bypass=ir.css=ir.style,ir.renderedCss=ir.renderedStyle,ir.removeBypass=ir.removeCss=ir.removeStyle,ir.pstyle=ir.parsedStyle;var Vo={};function js(s){return function(){var i=arguments,a=[];if(2===i.length)this.on(s.event,i[0],i[1]);else if(1===i.length&&kn(i[0]))this.on(s.event,i[0]);else if(0===i.length||1===i.length&&_n(i[0])){for(var p=1===i.length?i[0]:null,m=0;m<this.length;m++){var b=this[m],y=!s.ableField||b._private[s.ableField],D=b._private[s.field]!=s.value;if(s.overrideAble){var E=s.overrideAble(b);if(void 0!==E&&(y=E,!E))return this}y&&(b._private[s.field]=s.value,D&&a.push(b))}var S=this.spawn(a);S.updateStyle(),S.emit(s.event),p&&S.emit(p)}return this}}function Jr(s){Vo[s.field]=function(){var i=this[0];if(i){if(s.overrideField){var a=s.overrideField(i);if(void 0!==a)return a}return i._private[s.field]}},Vo[s.on]=js({event:s.on,field:s.field,ableField:s.ableField,overrideAble:s.overrideAble,value:!0}),Vo[s.off]=js({event:s.off,field:s.field,ableField:s.ableField,overrideAble:s.overrideAble,value:!1})}Jr({field:"locked",overrideField:function(i){return!!i.cy().autolock()||void 0},on:"lock",off:"unlock"}),Jr({field:"grabbable",overrideField:function(i){return!i.cy().autoungrabify()&&!i.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Jr({field:"selected",ableField:"selectable",overrideAble:function(i){return!i.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Jr({field:"selectable",overrideField:function(i){return!i.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Vo.deselect=Vo.unselect,Vo.grabbed=function(){var s=this[0];if(s)return s._private.grabbed},Jr({field:"active",on:"activate",off:"unactivate"}),Jr({field:"pannable",on:"panify",off:"unpanify"}),Vo.inactive=function(){var s=this[0];if(s)return!s._private.active};var Di={},up=function(i){return function(l){for(var h=[],p=0;p<this.length;p++){var m=this[p];if(m.isNode()){for(var b=!1,y=m.connectedEdges(),D=0;D<y.length;D++){var E=y[D],S=E.source(),M=E.target();if(i.noIncomingEdges&&M===m&&S!==m||i.noOutgoingEdges&&S===m&&M!==m){b=!0;break}}b||h.push(m)}}return this.spawn(h,!0).filter(l)}},If=function(i){return function(a){for(var f=[],h=0;h<this.length;h++){var p=this[h];if(p.isNode())for(var m=p.connectedEdges(),b=0;b<m.length;b++){var y=m[b],D=y.source(),E=y.target();i.outgoing&&D===p?(f.push(y),f.push(E)):i.incoming&&E===p&&(f.push(y),f.push(D))}}return this.spawn(f,!0).filter(a)}},qa=function(i){return function(a){for(var l=this,f=[],h={};;){var p=i.outgoing?l.outgoers():l.incomers();if(0===p.length)break;for(var m=!1,b=0;b<p.length;b++){var y=p[b],D=y.id();h[D]||(h[D]=!0,f.push(y),m=!0)}if(!m)break;l=p}return this.spawn(f,!0).filter(a)}};function jl(s){return function(a){for(var l=[],f=0;f<this.length;f++){var p=this[f]._private[s.attr];p&&l.push(p)}return this.spawn(l,!0).filter(a)}}function Tf(s){return function(a){var l=[],f=this._private.cy,h=s||{};Je(a)&&(a=f.$(a));for(var p=0;p<a.length;p++)for(var m=a[p]._private.edges,b=0;b<m.length;b++){var y=m[b],D=y._private.data,E=this.hasElementWithId(D.source)&&a.hasElementWithId(D.target),S=a.hasElementWithId(D.source)&&this.hasElementWithId(D.target);(E||S)&&((h.thisIsSrc||h.thisIsTgt)&&(h.thisIsSrc&&!E||h.thisIsTgt&&!S)||l.push(y))}return this.spawn(l,!0)}}function Gl(s){return s=It({},{codirected:!1},s),function(l){for(var f=[],h=this.edges(),p=s,m=0;m<h.length;m++)for(var y=h[m]._private,D=y.source,E=D._private.data.id,S=y.data.target,M=D._private.edges,x=0;x<M.length;x++){var R=M[x],A=R._private.data,N=A.target,P=A.source,k=N===S&&P===E;(p.codirected&&k||!p.codirected&&(k||E===N&&S===P))&&f.push(R)}return this.spawn(f,!0).filter(l)}}Di.clearTraversalCache=function(){for(var s=0;s<this.length;s++)this[s]._private.traversalCache=null},It(Di,{roots:up({noIncomingEdges:!0}),leaves:up({noOutgoingEdges:!0}),outgoers:Fo(If({outgoing:!0}),"outgoers"),successors:qa({outgoing:!0}),incomers:Fo(If({incoming:!0}),"incomers"),predecessors:qa({incoming:!0})}),It(Di,{neighborhood:Fo(function(s){for(var i=[],a=this.nodes(),l=0;l<a.length;l++)for(var f=a[l],h=f.connectedEdges(),p=0;p<h.length;p++){var m=h[p],b=m.source(),y=m.target(),D=f===b?y:b;D.length>0&&i.push(D[0]),i.push(m[0])}return this.spawn(i,!0).filter(s)},"neighborhood"),closedNeighborhood:function(i){return this.neighborhood().add(this).filter(i)},openNeighborhood:function(i){return this.neighborhood(i)}}),Di.neighbourhood=Di.neighborhood,Di.closedNeighbourhood=Di.closedNeighborhood,Di.openNeighbourhood=Di.openNeighborhood,It(Di,{source:Fo(function(i){var l,a=this[0];return a&&(l=a._private.source||a.cy().collection()),l&&i?l.filter(i):l},"source"),target:Fo(function(i){var l,a=this[0];return a&&(l=a._private.target||a.cy().collection()),l&&i?l.filter(i):l},"target"),sources:jl({attr:"source"}),targets:jl({attr:"target"})}),It(Di,{edgesWith:Fo(Tf(),"edgesWith"),edgesTo:Fo(Tf({thisIsSrc:!0}),"edgesTo")}),It(Di,{connectedEdges:Fo(function(s){for(var i=[],l=0;l<this.length;l++){var f=this[l];if(f.isNode())for(var h=f._private.edges,p=0;p<h.length;p++)i.push(h[p])}return this.spawn(i,!0).filter(s)},"connectedEdges"),connectedNodes:Fo(function(s){for(var i=[],l=0;l<this.length;l++){var f=this[l];f.isEdge()&&(i.push(f.source()[0]),i.push(f.target()[0]))}return this.spawn(i,!0).filter(s)},"connectedNodes"),parallelEdges:Fo(Gl(),"parallelEdges"),codirectedEdges:Fo(Gl({codirected:!0}),"codirectedEdges")}),It(Di,{components:function(i){var a=this,l=a.cy(),f=l.collection(),h=null==i?a.nodes():i.nodes(),p=[];null!=i&&h.empty()&&(h=i.sources());var m=function(D,E){f.merge(D),h.unmerge(D),E.merge(D)};if(h.empty())return a.spawn();var b=function(){var D=l.collection();p.push(D);var E=h[0];m(E,D),a.bfs({directed:!1,roots:E,visit:function(M){return m(M,D)}}),D.forEach(function(S){S.connectedEdges().forEach(function(M){a.has(M)&&D.has(M.source())&&D.has(M.target())&&D.merge(M)})})};do{b()}while(h.length>0);return p},component:function(){var i=this[0];return i.cy().mutableElements().components(i)[0]}}),Di.componentsOf=Di.components;var li=function(i,a){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==i){var h=new pa,p=!1;if(a){if(a.length>0&&Ct(a[0])&&!lu(a[0])){p=!0;for(var m=[],b=new mu,y=0,D=a.length;y<D;y++){var E=a[y];null==E.data&&(E.data={});var S=E.data;if(null==S.id)S.id=Nh();else if(i.hasElementWithId(S.id)||b.has(S.id))continue;var M=new Cl(i,E,!1);m.push(M),b.add(S.id)}a=m}}else a=[];this.length=0;for(var x=0,R=a.length;x<R;x++){var A=a[x][0];if(null!=A){var N=A._private.data.id;(!l||!h.has(N))&&(l&&h.set(N,{index:this.length,ele:A}),this[this.length]=A,this.length++)}}this._private={eles:this,cy:i,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(P){this.lazyMap=P},rebuildMap:function(){for(var k=this.lazyMap=new pa,V=this.eles,q=0;q<V.length;q++){var K=V[q];k.set(K.id(),{index:q,ele:K})}}},l&&(this._private.map=h),p&&!f&&this.restore()}else Vn("A collection must have a reference to the core")},Gn=Cl.prototype=li.prototype=Object.create(Array.prototype);Gn.instanceString=function(){return"collection"},Gn.spawn=function(s,i){return new li(this.cy(),s,i)},Gn.spawnSelf=function(){return this.spawn(this)},Gn.cy=function(){return this._private.cy},Gn.renderer=function(){return this._private.cy.renderer()},Gn.element=function(){return this[0]},Gn.collection=function(){return Xd(this)?this:new li(this._private.cy,[this])},Gn.unique=function(){return new li(this._private.cy,this,!0)},Gn.hasElementWithId=function(s){return this._private.map.has(s=""+s)},Gn.getElementById=function(s){var i=this._private.cy,a=this._private.map.get(s=""+s);return a?a.ele:new li(i)},Gn.$id=Gn.getElementById,Gn.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Gn.indexOf=function(s){return this._private.map.get(s[0]._private.data.id).index},Gn.indexOfId=function(s){return this._private.map.get(s=""+s).index},Gn.json=function(s){var i=this.element(),a=this.cy();if(null==i&&s)return this;if(null!=i){var l=i._private;if(Ct(s)){if(a.startBatch(),s.data){i.data(s.data);var f=l.data;if(i.isEdge()){var h=!1,p={},m=s.data.source,b=s.data.target;null!=m&&m!=f.source&&(p.source=""+m,h=!0),null!=b&&b!=f.target&&(p.target=""+b,h=!0),h&&(i=i.move(p))}else{var D=s.data.parent;"parent"in s.data&&(null!=D||null!=f.parent)&&D!=f.parent&&(void 0===D&&(D=null),null!=D&&(D=""+D),i=i.move({parent:D}))}}s.position&&i.position(s.position);var E=function(R,A,N){var P=s[R];null!=P&&P!==l[R]&&(P?i[A]():i[N]())};return E("removed","remove","restore"),E("selected","select","unselect"),E("selectable","selectify","unselectify"),E("locked","lock","unlock"),E("grabbable","grabify","ungrabify"),E("pannable","panify","unpanify"),null!=s.classes&&i.classes(s.classes),a.endBatch(),this}if(void 0===s){var S={data:Zr(l.data),position:Zr(l.position),group:l.group,removed:l.removed,selected:l.selected,selectable:l.selectable,locked:l.locked,grabbable:l.grabbable,pannable:l.pannable,classes:""},M=0;return l.classes.forEach(function(x){return S.classes+=0==M++?x:" "+x}),S}}},Gn.jsons=function(){for(var s=[],i=0;i<this.length;i++){var l=this[i].json();s.push(l)}return s},Gn.clone=function(){for(var s=this.cy(),i=[],a=0;a<this.length;a++){var f=this[a].json(),h=new Cl(s,f,!1);i.push(h)}return new li(s,i)},Gn.copy=Gn.clone,Gn.restore=function(){for(var m,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this,l=a.cy(),f=l._private,h=[],p=[],b=0,y=a.length;b<y;b++){var D=a[b];i&&!D.removed()||(D.isNode()?h.push(D):p.push(D))}m=h.concat(p);var E,S=function(){m.splice(E,1),E--};for(E=0;E<m.length;E++){var M=m[E],x=M._private,R=x.data;if(M.clearTraversalCache(),i||x.removed)if(void 0===R.id)R.id=Nh();else if(ot(R.id))R.id=""+R.id;else{if(en(R.id)||!Je(R.id)){Vn("Can not create element with invalid string ID `"+R.id+"`"),S();continue}if(l.hasElementWithId(R.id)){Vn("Can not create second element with ID `"+R.id+"`"),S();continue}}var A=R.id;if(M.isNode()){var N=x.position;null==N.x&&(N.x=0),null==N.y&&(N.y=0)}if(M.isEdge()){for(var P=M,k=["source","target"],V=k.length,q=!1,K=0;K<V;K++){var $=k[K],Z=R[$];ot(Z)&&(Z=R[$]=""+R[$]),null==Z||""===Z?(Vn("Can not create edge `"+A+"` with unspecified "+$),q=!0):l.hasElementWithId(Z)||(Vn("Can not create edge `"+A+"` with nonexistant "+$+" `"+Z+"`"),q=!0)}if(q){S();continue}var U=l.getElementById(R.source),X=l.getElementById(R.target);U.same(X)?U._private.edges.push(P):(U._private.edges.push(P),X._private.edges.push(P)),P._private.source=U,P._private.target=X}x.map=new pa,x.map.set(A,{ele:M,index:0}),x.removed=!1,i&&l.addToPool(M)}for(var Q=0;Q<h.length;Q++){var j=h[Q],ee=j._private.data;ot(ee.parent)&&(ee.parent=""+ee.parent);var Y=ee.parent;if(null!=Y||j._private.parent){var te=j._private.parent?l.collection().merge(j._private.parent):l.getElementById(Y);if(te.empty())ee.parent=void 0;else if(te[0].removed())Ut("Node added with missing parent, reference to parent removed"),ee.parent=void 0,j._private.parent=null;else{for(var ne=!1,fe=te;!fe.empty();){if(j.same(fe)){ne=!0,ee.parent=void 0;break}fe=fe.parent()}ne||(te[0]._private.children.push(j),j._private.parent=te[0],f.hasCompoundNodes=!0)}}}if(m.length>0){for(var pe=m.length===a.length?a:new li(l,m),De=0;De<pe.length;De++){var he=pe[De];he.isNode()||(he.parallelEdges().clearTraversalCache(),he.source().clearTraversalCache(),he.target().clearTraversalCache())}(f.hasCompoundNodes?l.collection().merge(pe).merge(pe.connectedNodes()).merge(pe.parent()):pe).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(s),s?pe.emitAndNotify("add"):i&&pe.emit("add")}return a},Gn.removed=function(){var s=this[0];return s&&s._private.removed},Gn.inside=function(){var s=this[0];return s&&!s._private.removed},Gn.remove=function(){var s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this,l=[],f={},h=a._private.cy;function b(Y){var se=f[Y.id()];i&&Y.removed()||se||(f[Y.id()]=!0,Y.isNode()?(l.push(Y),function p(Y){for(var se=Y._private.edges,te=0;te<se.length;te++)b(se[te])}(Y),function m(Y){for(var se=Y._private.children,te=0;te<se.length;te++)b(se[te])}(Y)):l.unshift(Y))}for(var y=0,D=a.length;y<D;y++)b(a[y]);function S(Y,se){Ao(Y._private.edges,se),Y.clearTraversalCache()}var x=[];function R(Y,se){se=se[0];var te=(Y=Y[0])._private.children,ne=Y.id();Ao(te,se),se._private.parent=null,x.ids[ne]||(x.ids[ne]=!0,x.push(Y))}x.ids={},a.dirtyCompoundBoundsCache(),i&&h.removeFromPool(l);for(var A=0;A<l.length;A++){var N=l[A];if(N.isEdge()){var P=N.source()[0],k=N.target()[0];S(P,N),S(k,N);for(var V=N.parallelEdges(),q=0;q<V.length;q++){var K=V[q];K.clearTraversalCache(),K.isBundledBezier()&&K.dirtyBoundingBoxCache()}}else{var $=N.parent();0!==$.length&&R($,N)}i&&(N._private.removed=!0)}var Z=h._private.elements;h._private.hasCompoundNodes=!1;for(var U=0;U<Z.length;U++)if(Z[U].isParent()){h._private.hasCompoundNodes=!0;break}var Q=new li(this.cy(),l);Q.size()>0&&(s?Q.emitAndNotify("remove"):i&&Q.emit("remove"));for(var j=0;j<x.length;j++){var ee=x[j];(!i||!ee.removed())&&ee.updateStyle()}return Q},Gn.move=function(s){var i=this._private.cy,a=this,l=!1,f=!1,h=function(x){return null==x?x:""+x};if(void 0!==s.source||void 0!==s.target){var p=h(s.source),m=h(s.target),b=null!=p&&i.hasElementWithId(p),y=null!=m&&i.hasElementWithId(m);(b||y)&&(i.batch(function(){a.remove(l,f),a.emitAndNotify("moveout");for(var M=0;M<a.length;M++){var x=a[M],R=x._private.data;x.isEdge()&&(b&&(R.source=p),y&&(R.target=m))}a.restore(l,f)}),a.emitAndNotify("move"))}else if(void 0!==s.parent){var D=h(s.parent);if(null===D||i.hasElementWithId(D)){var S=null===D?void 0:D;i.batch(function(){var M=a.remove(l,f);M.emitAndNotify("moveout");for(var x=0;x<a.length;x++){var R=a[x],A=R._private.data;R.isNode()&&(A.parent=S)}M.restore(l,f)}),a.emitAndNotify("move")}}return this},[ed,wi,Ha,Qi,kl,qm,Df,Wm,op,$l,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var i=this[0];if(i)return i._private.group}},hs,zs,ir,Vo,Di].forEach(function(s){It(Gn,s)});var hn={add:function(i){var a,l=this;if(br(i)){var f=i;if(f._private.cy===l)a=f.restore();else{for(var h=[],p=0;p<f.length;p++)h.push(f[p].json());a=new li(l,h)}}else if(_n(i))a=new li(l,i);else if(Ct(i)&&(_n(i.nodes)||_n(i.edges))){for(var y=i,D=[],E=["nodes","edges"],S=0,M=E.length;S<M;S++){var x=E[S],R=y[x];if(_n(R))for(var A=0,N=R.length;A<N;A++){var P=It({group:x},R[A]);D.push(P)}}a=new li(l,D)}else a=new Cl(l,i).collection();return a},remove:function(i){return br(i)||Je(i)&&(i=this.$(i)),i.remove()}};function $t(s,i,a,l){var y=.1,D=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var E=0;E<4;++E)if("number"!=typeof arguments[E]||isNaN(arguments[E])||!isFinite(arguments[E]))return!1;s=Math.min(s,1),a=Math.min(a,1),s=Math.max(s,0),a=Math.max(a,0);var S=D?new Float32Array(11):new Array(11);function M(X,Q){return 1-3*Q+3*X}function x(X,Q){return 3*Q-6*X}function R(X){return 3*X}function A(X,Q,j){return((M(Q,j)*X+x(Q,j))*X+R(Q))*X}function N(X,Q,j){return 3*M(Q,j)*X*X+2*x(Q,j)*X+R(Q)}var K=!1;var Z=function(Q){return K||function $(){K=!0,(s!==i||a!==l)&&function k(){for(var X=0;X<11;++X)S[X]=A(X*y,s,a)}()}(),s===i&&a===l?Q:0===Q?0:1===Q?1:A(function q(X){for(var Q=0,j=1;10!==j&&S[j]<=X;++j)Q+=y;--j;var se=Q+(X-S[j])/(S[j+1]-S[j])*y,te=N(se,s,a);return te>=.001?function P(X,Q){for(var j=0;j<4;++j){var ee=N(Q,s,a);if(0===ee)return Q;Q-=(A(Q,s,a)-X)/ee}return Q}(X,se):0===te?se:function V(X,Q,j){var ee,Y,se=0;do{(ee=A(Y=Q+(j-Q)/2,s,a)-X)>0?j=Y:Q=Y}while(Math.abs(ee)>1e-7&&++se<10);return Y}(X,Q,Q+y)}(Q),i,l)};Z.getControlPoints=function(){return[{x:s,y:i},{x:a,y:l}]};var U="generateBezier("+[s,i,a,l]+")";return Z.toString=function(){return U},Z}var lp=function(){function s(l){return-l.tension*l.x-l.friction*l.v}function i(l,f,h){var p={x:l.x+h.dx*f,v:l.v+h.dv*f,tension:l.tension,friction:l.friction};return{dx:p.v,dv:s(p)}}function a(l,f){var h={dx:l.v,dv:s(l)},p=i(l,.5*f,h),m=i(l,.5*f,p),b=i(l,f,m),D=1/6*(h.dv+2*(p.dv+m.dv)+b.dv);return l.x=l.x+1/6*(h.dx+2*(p.dx+m.dx)+b.dx)*f,l.v=l.v+D*f,l}return function l(f,h,p){var S,M,x,m={x:-1,v:0,tension:null,friction:null},b=[0],y=0,D=1e-4;for(f=parseFloat(f)||500,h=parseFloat(h)||20,p=p||null,m.tension=f,m.friction=h,M=(S=null!==p)?(y=l(f,h))/p*.016:.016;x=a(x||m,M),b.push(1+x.x),y+=16,Math.abs(x.x)>D&&Math.abs(x.v)>D;);return S?function(R){return b[R*(b.length-1)|0]}:y}}(),qn=function(i,a,l,f){var h=$t(i,a,l,f);return function(p,m,b){return p+(m-p)*h(b)}},ql={linear:function(i,a,l){return i+(a-i)*l},ease:qn(.25,.1,.25,1),"ease-in":qn(.42,0,1,1),"ease-out":qn(0,0,.58,1),"ease-in-out":qn(.42,0,.58,1),"ease-in-sine":qn(.47,0,.745,.715),"ease-out-sine":qn(.39,.575,.565,1),"ease-in-out-sine":qn(.445,.05,.55,.95),"ease-in-quad":qn(.55,.085,.68,.53),"ease-out-quad":qn(.25,.46,.45,.94),"ease-in-out-quad":qn(.455,.03,.515,.955),"ease-in-cubic":qn(.55,.055,.675,.19),"ease-out-cubic":qn(.215,.61,.355,1),"ease-in-out-cubic":qn(.645,.045,.355,1),"ease-in-quart":qn(.895,.03,.685,.22),"ease-out-quart":qn(.165,.84,.44,1),"ease-in-out-quart":qn(.77,0,.175,1),"ease-in-quint":qn(.755,.05,.855,.06),"ease-out-quint":qn(.23,1,.32,1),"ease-in-out-quint":qn(.86,0,.07,1),"ease-in-expo":qn(.95,.05,.795,.035),"ease-out-expo":qn(.19,1,.22,1),"ease-in-out-expo":qn(1,0,0,1),"ease-in-circ":qn(.6,.04,.98,.335),"ease-out-circ":qn(.075,.82,.165,1),"ease-in-out-circ":qn(.785,.135,.15,.86),spring:function(i,a,l){if(0===l)return ql.linear;var f=lp(i,a,l);return function(h,p,m){return h+(p-h)*f(m)}},"cubic-bezier":qn};function cp(s,i,a,l,f){if(1===l||i===a)return a;var h=f(i,a,l);return null==s||((s.roundValue||s.color)&&(h=Math.round(h)),void 0!==s.min&&(h=Math.max(h,s.min)),void 0!==s.max&&(h=Math.min(h,s.max))),h}function dp(s,i){return null!=s.pfValue||null!=s.value?null==s.pfValue||null!=i&&"%"===i.type.units?s.value:s.pfValue:s}function ci(s,i,a,l,f){var h=null!=f?f.type:null;a<0?a=0:a>1&&(a=1);var p=dp(s,f),m=dp(i,f);if(ot(p)&&ot(m))return cp(h,p,m,a,l);if(_n(p)&&_n(m)){for(var b=[],y=0;y<m.length;y++){var D=p[y],E=m[y];if(null!=D&&null!=E){var S=cp(h,D,E,a,l);b.push(S)}else b.push(E)}return b}}function Bu(s,i,a,l){var f=!l,h=s._private,p=i._private,m=p.easing,b=p.startTime,D=(l?s:s.cy()).style();if(!p.easingImpl)if(null==m)p.easingImpl=ql.linear;else{var E,M,x;E=Je(m)?D.parse("transition-timing-function",m).value:m,Je(E)?(M=E,x=[]):(M=E[1],x=E.slice(2).map(function(pe){return+pe})),x.length>0?("spring"===M&&x.push(p.duration),p.easingImpl=ql[M].apply(null,x)):p.easingImpl=ql[M]}var A,R=p.easingImpl;if(A=0===p.duration?1:(a-b)/p.duration,p.applying&&(A=p.progress),A<0?A=0:A>1&&(A=1),null==p.delay){var N=p.startPosition,P=p.position;if(P&&f&&!s.locked()){var k={};ps(N.x,P.x)&&(k.x=ci(N.x,P.x,A,R)),ps(N.y,P.y)&&(k.y=ci(N.y,P.y,A,R)),s.position(k)}var V=p.startPan,q=p.pan,K=h.pan,$=null!=q&&l;$&&(ps(V.x,q.x)&&(K.x=ci(V.x,q.x,A,R)),ps(V.y,q.y)&&(K.y=ci(V.y,q.y,A,R)),s.emit("pan"));var Z=p.startZoom,U=p.zoom,X=null!=U&&l;X&&(ps(Z,U)&&(h.zoom=Lc(h.minZoom,ci(Z,U,A,R),h.maxZoom)),s.emit("zoom")),($||X)&&s.emit("viewport");var Q=p.style;if(Q&&Q.length>0&&f){for(var j=0;j<Q.length;j++){var ee=Q[j],Y=ee.name,te=p.startStyle[Y],fe=ci(te,ee,A,R,D.properties[te.name]);D.overrideBypass(s,Y,fe)}s.emit("style")}}return p.progress=A,A}function ps(s,i){return!!(null!=s&&null!=i&&(ot(s)&&ot(i)||s&&i))}function Af(s,i,a,l){var f=i._private;f.started=!0,f.startTime=a-f.progress*f.duration}function Rf(s,i){var a=i._private.aniEles,l=[];function f(D,E){var S=D._private,M=S.animation.current,x=S.animation.queue,R=!1;if(0===M.length){var A=x.shift();A&&M.push(A)}for(var N=function(K){for(var $=K.length-1;$>=0;$--)(0,K[$])();K.splice(0,K.length)},P=M.length-1;P>=0;P--){var k=M[P],V=k._private;V.stopped?(M.splice(P,1),V.hooked=!1,V.playing=!1,V.started=!1,N(V.frames)):!V.playing&&!V.applying||(V.playing&&V.applying&&(V.applying=!1),V.started||Af(0,k,s),Bu(D,k,s,E),V.applying&&(V.applying=!1),N(V.frames),null!=V.step&&V.step(s),k.completed()&&(M.splice(P,1),V.hooked=!1,V.playing=!1,V.started=!1,N(V.completes)),R=!0)}return!E&&0===M.length&&0===x.length&&l.push(D),R}for(var h=!1,p=0;p<a.length;p++){var b=f(a[p]);h=h||b}var y=f(i,!0);(h||y)&&(a.length>0?i.notify("draw",a):i.notify("draw")),a.unmerge(l),i.emit("step")}var fp={animate:Pt.animate(),animation:Pt.animation(),animated:Pt.animated(),clearQueue:Pt.clearQueue(),delay:Pt.delay(),delayAnimation:Pt.delayAnimation(),stop:Pt.stop(),addToAnimationPool:function(i){this.styleEnabled()&&this._private.aniEles.merge(i)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var i=this;if(i._private.animationsRunning=!0,i.styleEnabled()){var l=i.renderer();l&&l.beforeRender?l.beforeRender(function(h,p){Rf(p,i)},l.beforeRenderPriorities.animations):function a(){i._private.animationsRunning&&Tc(function(h){Rf(h,i),a()})}()}}},Eo={qualifierCompare:function(i,a){return null==i||null==a?null==i&&null==a:i.sameText(a)},eventMatches:function(i,a,l){var f=a.qualifier;return null==f||i!==l.target&&lu(l.target)&&f.matches(l.target)},addEventFields:function(i,a){a.cy=i,a.target=i},callbackContext:function(i,a,l){return null!=a.qualifier?l.target:i}},Te=function(i){return Je(i)?new ui(i):i},Dn={createEmitter:function(){var i=this._private;return i.emitter||(i.emitter=new ku(Eo,this)),this},emitter:function(){return this._private.emitter},on:function(i,a,l){return this.emitter().on(i,Te(a),l),this},removeListener:function(i,a,l){return this.emitter().removeListener(i,Te(a),l),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(i,a,l){return this.emitter().one(i,Te(a),l),this},once:function(i,a,l){return this.emitter().one(i,Te(a),l),this},emit:function(i,a){return this.emitter().emit(i,a),this},emitAndNotify:function(i,a){return this.emit(i),this.notify(i,a),this}};Pt.eventAliasesOn(Dn);var dd={png:function(i){return this._private.renderer.png(i=i||{})},jpg:function(i){var a=this._private.renderer;return(i=i||{}).bg=i.bg||"#fff",a.jpg(i)}};dd.jpeg=dd.jpg;var Gs={layout:function(i){var a=this;if(null!=i)if(null!=i.name){var h,l=i.name,f=a.extension("layout",l);if(null!=f)return h=Je(i.eles)?a.$(i.eles):null!=i.eles?i.eles:a.$(),new f(It({},i,{cy:a,eles:h}));Vn("No such layout `"+l+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Vn("A `name` must be specified to make a layout");else Vn("Layout options must be specified to make a layout")}};Gs.createLayout=Gs.makeLayout=Gs.layout;var di={notify:function(i,a){var l=this._private;if(this.batching()){l.batchNotifications=l.batchNotifications||{};var f=l.batchNotifications[i]=l.batchNotifications[i]||this.collection();null!=a&&f.merge(a)}else if(l.notificationsEnabled){var h=this.renderer();this.destroyed()||!h||h.notify(i,a)}},notifications:function(i){var a=this._private;return void 0===i?a.notificationsEnabled:(a.notificationsEnabled=!!i,this)},noNotifications:function(i){this.notifications(!1),i(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var i=this._private;return null==i.batchCount&&(i.batchCount=0),0===i.batchCount&&(i.batchStyleEles=this.collection(),i.batchNotifications={}),i.batchCount++,this},endBatch:function(){var i=this._private;if(0===i.batchCount)return this;if(i.batchCount--,0===i.batchCount){i.batchStyleEles.updateStyle();var a=this.renderer();Object.keys(i.batchNotifications).forEach(function(l){var f=i.batchNotifications[l];f.empty()?a.notify(l):a.notify(l,f)})}return this},batch:function(i){return this.startBatch(),i(),this.endBatch(),this},batchData:function(i){var a=this;return this.batch(function(){for(var l=Object.keys(i),f=0;f<l.length;f++){var h=l[f],p=i[h];a.getElementById(h).data(p)}})}},fd=Nr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),gs={renderTo:function(i,a,l,f){return this._private.renderer.renderTo(i,a,l,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(i){var a=this,l=a.extension("renderer",i.name);if(null!=l){void 0!==i.wheelSensitivity&&Ut("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=fd(i);f.cy=a,a._private.renderer=new l(f),this.notify("init")}else Vn("Can not initialise: No such renderer `".concat(i.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var i=this;i.notify("destroy");var a=i.container();if(a)for(a._cyreg=null;a.childNodes.length>0;)a.removeChild(a.childNodes[0]);i._private.renderer=null,i.mutableElements().forEach(function(l){var f=l._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(i){return this.on("render",i)},offRender:function(i){return this.off("render",i)}};gs.invalidateDimensions=gs.resize;var Vi={collection:function(i,a){return Je(i)?this.$(i):br(i)?i.collection():_n(i)?(a||(a={}),new li(this,i,a.unique,a.removed)):new li(this)},nodes:function(i){var a=this.$(function(l){return l.isNode()});return i?a.filter(i):a},edges:function(i){var a=this.$(function(l){return l.isEdge()});return i?a.filter(i):a},$:function(i){var a=this._private.elements;return i?a.filter(i):a.spawnSelf()},mutableElements:function(){return this._private.elements}};Vi.elements=Vi.filter=Vi.$;var Vr={apply:function(s){for(var i=this,f=i._private.cy.collection(),h=0;h<s.length;h++){var p=s[h],m=i.getContextMeta(p);if(!m.empty){var b=i.getContextStyle(m),y=i.applyContextStyle(m,b,p);p._private.appliedInitStyle?i.updateTransitions(p,y.diffProps):p._private.appliedInitStyle=!0,i.updateStyleHints(p)&&f.push(p)}}return f},getPropertiesDiff:function(s,i){var a=this,l=a._private.propDiffs=a._private.propDiffs||{},f=s+"-"+i,h=l[f];if(h)return h;for(var p=[],m={},b=0;b<a.length;b++){var y=a[b],E="t"===i[b],S="t"===s[b]!==E,M=y.mappedProperties.length>0;if(S||E&&M){var x=void 0;S&&M||S?x=y.properties:M&&(x=y.mappedProperties);for(var R=0;R<x.length;R++){for(var A=x[R],N=A.name,P=!1,k=b+1;k<a.length&&("t"!==i[k]||!(P=null!=a[k].properties[A.name]));k++);!m[N]&&!P&&(m[N]=!0,p.push(N))}}}return l[f]=p,p},getContextMeta:function(s){for(var l,i=this,a="",f=s._private.styleCxtKey||"",h=0;h<i.length;h++){var p=i[h];a+=p.selector&&p.selector.matches(s)?"t":"f"}return l=i.getPropertiesDiff(f,a),s._private.styleCxtKey=a,{key:a,diffPropNames:l,empty:0===l.length}},getContextStyle:function(s){var i=s.key,l=this._private.contextStyles=this._private.contextStyles||{};if(l[i])return l[i];for(var f={_private:{key:i}},h=0;h<this.length;h++){var p=this[h];if("t"===i[h])for(var b=0;b<p.properties.length;b++){var y=p.properties[b];f[y.name]=y}}return l[i]=f,f},applyContextStyle:function(s,i,a){for(var f=s.diffPropNames,h={},p=this.types,m=0;m<f.length;m++){var b=f[m],y=i[b],D=a.pstyle(b);if(!y){if(!D)continue;y=D.bypass?{name:b,deleteBypassed:!0}:{name:b,delete:!0}}if(D!==y){if(y.mapped===p.fn&&null!=D&&null!=D.mapping&&D.mapping.value===y.value){var E=D.mapping;if((E.fnValue=y.value(a))===E.prevFnValue)continue}var M=h[b]={prev:D};this.applyParsedProperty(a,y),M.next=a.pstyle(b),M.next&&M.next.bypass&&(M.next=M.next.bypassed)}}return{diffProps:h}},updateStyleHints:function(s){var l,i=s._private,a=this,f=a.propertyGroupKeys,h=function(Ke,tt,Et){return a.getPropertiesHash(Ke,tt,Et)},p=i.styleKey;if(s.removed())return!1;var Ke,m="nodes"===i.group,b=s._private.style;l=Object.keys(b);for(var y=0;y<f.length;y++)i.styleKeys[f[y]]=[Rs,Ac];for(var E=function(Ke,tt){return i.styleKeys[tt][0]=pu(Ke,i.styleKeys[tt][0])},S=function(Ke,tt){return i.styleKeys[tt][1]=gu(Ke,i.styleKeys[tt][1])},M=function(Ke,tt){E(Ke,tt),S(Ke,tt)},x=function(Ke,tt){for(var Et=0;Et<Ke.length;Et++){var Jt=Ke.charCodeAt(Et);E(Jt,tt),S(Jt,tt)}},N=0;N<l.length;N++){var P=l[N],k=b[P];if(null!=k){var V=this.properties[P],q=V.type,K=V.groupKey,$=void 0;null!=V.hashOverride?$=V.hashOverride(s,k):null!=k.pfValue&&($=k.pfValue);var Z=null==V.enums?k.value:null,U=null!=$,j=k.units;!q.number||!U&&null==Z||q.multiple?x(k.strValue,K):(M(-128<(Ke=U?$:Z)&&Ke<128&&Math.floor(Ke)!==Ke?2e9-(1024*Ke|0):Ke,K),!U&&null!=j&&x(j,K))}}for(var Y=[Rs,Ac],se=0;se<f.length;se++){var ne=i.styleKeys[f[se]];Y[0]=pu(ne[0],Y[0]),Y[1]=gu(ne[1],Y[1])}i.styleKey=function(i,a){return 2097152*i+a}(Y[0],Y[1]);var fe=i.styleKeys;i.labelDimsKey=ka(fe.labelDimensions);var pe=h(s,["label"],fe.labelDimensions);if(i.labelKey=ka(pe),i.labelStyleKey=ka(Rc(fe.commonLabel,pe)),!m){var De=h(s,["source-label"],fe.labelDimensions);i.sourceLabelKey=ka(De),i.sourceLabelStyleKey=ka(Rc(fe.commonLabel,De));var he=h(s,["target-label"],fe.labelDimensions);i.targetLabelKey=ka(he),i.targetLabelStyleKey=ka(Rc(fe.commonLabel,he))}if(m){var be=i.styleKeys,ce=be.pie,Re=[be.nodeBody,be.nodeBorder,be.backgroundImage,be.compound,ce].filter(function(Le){return null!=Le}).reduce(Rc,[Rs,Ac]);i.nodeKey=ka(Re),i.hasPie=null!=ce&&ce[0]!==Rs&&ce[1]!==Ac}return p!==i.styleKey},clearStyleHints:function(s){var i=s._private;i.styleCxtKey="",i.styleKeys={},i.styleKey=null,i.labelKey=null,i.labelStyleKey=null,i.sourceLabelKey=null,i.sourceLabelStyleKey=null,i.targetLabelKey=null,i.targetLabelStyleKey=null,i.nodeKey=null,i.hasPie=null},applyParsedProperty:function(s,i){var h,a=this,l=i,f=s._private.style,p=a.types,m=a.properties[l.name].type,b=l.bypass,y=f[l.name],D=y&&y.bypass,E=s._private,S="mapping",M=function(Ae){return null==Ae?null:null!=Ae.pfValue?Ae.pfValue:Ae.value},x=function(){var Ae=M(y),Fe=M(l);a.checkTriggers(s,l.name,Ae,Fe)};if(l&&"pie"===l.name.substr(0,3)&&Ut("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===i.name&&s.isEdge()&&("bezier"!==i.value&&s.isLoop()||"haystack"===i.value&&(s.source().isParent()||s.target().isParent()))&&(l=i=this.parse(i.name,"bezier",b)),l.delete)return f[l.name]=void 0,x(),!0;if(l.deleteBypassed)return y?!!y.bypass&&(y.bypassed=void 0,x(),!0):(x(),!0);if(l.deleteBypass)return y?!!y.bypass&&(f[l.name]=y.bypassed,x(),!0):(x(),!0);var R=function(){Ut("Do not assign mappings to elements without corresponding data (i.e. ele `"+s.id()+"` has no mapping for property `"+l.name+"` with data field `"+l.field+"`); try a `["+l.field+"]` selector to limit scope to elements with `"+l.field+"` defined")};switch(l.mapped){case p.mapData:for(var A=l.field.split("."),N=E.data,P=0;P<A.length&&N;P++)N=N[A[P]];if(null==N)return R(),!1;var V;if(!ot(N))return Ut("Do not use continuous mappers without specifying numeric data (i.e. `"+l.field+": "+N+"` for `"+s.id()+"` is non-numeric)"),!1;var q=l.fieldMax-l.fieldMin;if((V=0===q?0:(N-l.fieldMin)/q)<0?V=0:V>1&&(V=1),m.color){var K=l.valueMin[0],Z=l.valueMin[1],U=l.valueMax[1],X=l.valueMin[2],Q=l.valueMax[2],j=null==l.valueMin[3]?1:l.valueMin[3],ee=null==l.valueMax[3]?1:l.valueMax[3],Y=[Math.round(K+(l.valueMax[0]-K)*V),Math.round(Z+(U-Z)*V),Math.round(X+(Q-X)*V),Math.round(j+(ee-j)*V)];h={bypass:l.bypass,name:l.name,value:Y,strValue:"rgb("+Y[0]+", "+Y[1]+", "+Y[2]+")"}}else{if(!m.number)return!1;h=this.parse(l.name,l.valueMin+(l.valueMax-l.valueMin)*V,l.bypass,S)}if(!h)return R(),!1;h.mapping=l,l=h;break;case p.data:for(var te=l.field.split("."),ne=E.data,fe=0;fe<te.length&&ne;fe++)ne=ne[te[fe]];if(null!=ne&&(h=this.parse(l.name,ne,l.bypass,S)),!h)return R(),!1;h.mapping=l,l=h;break;case p.fn:var he=null!=l.fnValue?l.fnValue:(0,l.value)(s);if(l.prevFnValue=he,null==he)return Ut("Custom function mappers may not return null (i.e. `"+l.name+"` for ele `"+s.id()+"` is null)"),!1;if(!(h=this.parse(l.name,he,l.bypass,S)))return Ut("Custom function mappers may not return invalid values for the property type (i.e. `"+l.name+"` for ele `"+s.id()+"` is invalid)"),!1;h.mapping=Zr(l),l=h;break;case void 0:break;default:return!1}return b?(l.bypassed=D?y.bypassed:y,f[l.name]=l):D?y.bypassed=l:f[l.name]=l,x(),!0},cleanElements:function(s,i){for(var a=0;a<s.length;a++){var l=s[a];if(this.clearStyleHints(l),l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),i)for(var f=l._private.style,h=Object.keys(f),p=0;p<h.length;p++){var m=h[p],b=f[m];null!=b&&(b.bypass?b.bypassed=null:f[m]=null)}else l._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(s,i){var a=this,l=s._private,f=s.pstyle("transition-property").value,h=s.pstyle("transition-duration").pfValue,p=s.pstyle("transition-delay").pfValue;if(f.length>0&&h>0){for(var m={},b=!1,y=0;y<f.length;y++){var D=f[y],E=s.pstyle(D),S=i[D];if(S){var x=S.prev,R=null!=S.next?S.next:E,A=!1,N=void 0,P=1e-6;x&&(ot(x.pfValue)&&ot(R.pfValue)?N=x.pfValue+P*(A=R.pfValue-x.pfValue):ot(x.value)&&ot(R.value)?N=x.value+P*(A=R.value-x.value):_n(x.value)&&_n(R.value)&&(A=x.value[0]!==R.value[0]||x.value[1]!==R.value[1]||x.value[2]!==R.value[2],N=x.strValue),A&&(m[D]=R.strValue,this.applyBypass(s,D,N),b=!0))}}if(!b)return;l.transitioning=!0,new vr(function(k){p>0?s.delayAnimation(p).play().promise().then(k):k()}).then(function(){return s.animation({style:m,duration:h,easing:s.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){a.removeBypasses(s,f),s.emitAndNotify("style"),l.transitioning=!1})}else l.transitioning&&(this.removeBypasses(s,f),s.emitAndNotify("style"),l.transitioning=!1)},checkTrigger:function(s,i,a,l,f,h){var p=this.properties[i],m=f(p);null!=m&&m(a,l)&&h(p)},checkZOrderTrigger:function(s,i,a,l){var f=this;this.checkTrigger(s,i,a,l,function(h){return h.triggersZOrder},function(){f._private.cy.notify("zorder",s)})},checkBoundsTrigger:function(s,i,a,l){this.checkTrigger(s,i,a,l,function(f){return f.triggersBounds},function(f){s.dirtyCompoundBoundsCache(),s.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&("curve-style"===i&&("bezier"===a||"bezier"===l)||"display"===i&&("none"===a||"none"===l))&&s.parallelEdges().forEach(function(h){h.isBundledBezier()&&h.dirtyBoundingBoxCache()})})},checkTriggers:function(s,i,a,l){s.dirtyStyleCache(),this.checkZOrderTrigger(s,i,a,l),this.checkBoundsTrigger(s,i,a,l)}},Jo={applyBypass:function(s,i,a,l){var h=[];if("*"===i||"**"===i){if(void 0!==a)for(var m=0;m<this.properties.length;m++){var D=this.parse(this.properties[m].name,a,!0);D&&h.push(D)}}else if(Je(i)){var E=this.parse(i,a,!0);E&&h.push(E)}else{if(!Ct(i))return!1;var S=i;l=a;for(var M=Object.keys(S),x=0;x<M.length;x++){var R=M[x],A=S[R];if(void 0===A&&(A=S[Is(R)]),void 0!==A){var N=this.parse(R,A,!0);N&&h.push(N)}}}if(0===h.length)return!1;for(var P=!1,k=0;k<s.length;k++){for(var V=s[k],q={},K=void 0,$=0;$<h.length;$++){var Z=h[$];if(l){var U=V.pstyle(Z.name);K=q[Z.name]={prev:U}}P=this.applyParsedProperty(V,Zr(Z))||P,l&&(K.next=V.pstyle(Z.name))}P&&this.updateStyleHints(V),l&&this.updateTransitions(V,q,!0)}return P},overrideBypass:function(s,i,a){i=uo(i);for(var l=0;l<s.length;l++){var f=s[l],h=f._private.style[i],p=this.properties[i].type,m=p.color,b=p.mutiple,y=h?null!=h.pfValue?h.pfValue:h.value:null;h&&h.bypass?(h.value=a,null!=h.pfValue&&(h.pfValue=a),h.strValue=m?"rgb("+a.join(",")+")":b?a.join(" "):""+a,this.updateStyleHints(f)):this.applyBypass(f,i,a),this.checkTriggers(f,i,y,a)}},removeAllBypasses:function(s,i){return this.removeBypasses(s,this.propertyNames,i)},removeBypasses:function(s,i,a){for(var f=0;f<s.length;f++){for(var h=s[f],p={},m=0;m<i.length;m++){var b=i[m],y=this.properties[b],D=h.pstyle(y.name);if(D&&D.bypass){var S=this.parse(b,"",!0),M=p[y.name]={prev:D};this.applyParsedProperty(h,S),M.next=h.pstyle(y.name)}}this.updateStyleHints(h),a&&this.updateTransitions(h,p,!0)}}},Wl={getEmSizeInPixels:function(){var s=this.containerCss("font-size");return null!=s?parseFloat(s):1},containerCss:function(s){var i=this._private.cy,a=i.container(),l=i.window();if(l&&a&&l.getComputedStyle)return l.getComputedStyle(a).getPropertyValue(s)}},lr={getRenderedStyle:function(s,i){return i?this.getStylePropertyValue(s,i,!0):this.getRawStyle(s,!0)},getRawStyle:function(s,i){var a=this;if(s=s[0]){for(var l={},f=0;f<a.properties.length;f++){var h=a.properties[f],p=a.getStylePropertyValue(s,h.name,i);null!=p&&(l[h.name]=p,l[Is(h.name)]=p)}return l}},getIndexedStyle:function(s,i,a,l){return s.pstyle(i)[a][l]??s.cy().style().getDefaultProperty(i)[a][0]},getStylePropertyValue:function(s,i,a){if(s=s[0]){var f=this.properties[i];f.alias&&(f=f.pointsTo);var h=f.type,p=s.pstyle(f.name);if(p){var m=p.value,b=p.units,y=p.strValue;if(a&&h.number&&null!=m&&ot(m)){var D=s.cy().zoom(),E=function(A){return A*D},S=function(A,N){return E(A)+N},M=_n(m);return(M?b.every(function(R){return null!=R}):null!=b)?M?m.map(function(R,A){return S(R,b[A])}).join(" "):S(m,b):M?m.map(function(R){return Je(R)?R:""+E(R)}).join(" "):""+E(m)}if(null!=y)return y}return null}},getAnimationStartStyle:function(s,i){for(var a={},l=0;l<i.length;l++){var h=i[l].name,p=s.pstyle(h);void 0!==p&&(p=Ct(p)?this.parse(h,p.strValue):this.parse(h,p)),p&&(a[h]=p)}return a},getPropsList:function(s){var a=[],l=s,f=this.properties;if(l)for(var h=Object.keys(l),p=0;p<h.length;p++){var m=h[p],b=l[m],y=f[m]||f[uo(m)],D=this.parse(y.name,b);D&&a.push(D)}return a},getNonDefaultPropertiesHash:function(s,i,a){var h,p,m,b,y,l=a.slice();for(b=0;b<i.length;b++)if(null!=(h=s.pstyle(i[b],!1)))if(null!=h.pfValue)l[0]=pu(m,l[0]),l[1]=gu(m,l[1]);else for(p=h.strValue,y=0;y<p.length;y++)m=p.charCodeAt(y),l[0]=pu(m,l[0]),l[1]=gu(m,l[1]);return l}};lr.getPropertiesHash=lr.getNonDefaultPropertiesHash;var to={appendFromJson:function(s){for(var i=this,a=0;a<s.length;a++){var l=s[a],f=l.selector,h=l.style||l.css,p=Object.keys(h);i.selector(f);for(var m=0;m<p.length;m++){var b=p[m];i.css(b,h[b])}}return i},fromJson:function(s){var i=this;return i.resetToDefault(),i.appendFromJson(s),i},json:function(){for(var s=[],i=this.defaultLength;i<this.length;i++){for(var a=this[i],l=a.selector,f=a.properties,h={},p=0;p<f.length;p++){var m=f[p];h[m.name]=m.strValue}s.push({selector:l?l.toString():"core",style:h})}return s}},hd={appendFromString:function(s){var f,h,p,a=this,l=""+s;function m(){l=l.length>f.length?l.substr(f.length):""}function b(){h=h.length>p.length?h.substr(p.length):""}for(l=l.replace(/[/][*](\s|.)+?[*][/]/g,"");!l.match(/^\s*$/);){var D=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!D){Ut("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}f=D[0];var E=D[1];if("core"!==E&&new ui(E).invalid)Ut("Skipping parsing of block: Invalid selector found in string stylesheet: "+E),m();else{var M=D[2],x=!1;h=M;for(var R=[];!h.match(/^\s*$/);){var N=h.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!N){Ut("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+M),x=!0;break}p=N[0];var P=N[1],k=N[2];this.properties[P]?a.parse(P,k)?(R.push({name:P,val:k}),b()):(Ut("Skipping property: Invalid property definition in: "+p),b()):(Ut("Skipping property: Invalid property name in: "+p),b())}if(x){m();break}a.selector(E);for(var K=0;K<R.length;K++){var $=R[K];a.css($.name,$.val)}m()}}return a},fromString:function(s){var i=this;return i.resetToDefault(),i.appendFromString(s),i}},xr={};(function(){var s=Wr,i=fu,a=Ts,h=function(Re){return"^"+Re+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},p=function(Re){var Le=s+"|\\w+|"+i+"|"+a+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Re+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+s+")\\s*\\,\\s*("+s+")\\s*,\\s*("+Le+")\\s*\\,\\s*("+Le+")\\)$"},m=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];xr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:h("data")},layoutData:{mapping:!0,regex:h("layoutData")},scratch:{mapping:!0,regex:h("scratch")},mapData:{mapping:!0,regex:p("mapData")},mapLayoutData:{mapping:!0,regex:p("mapLayoutData")},mapScratch:{mapping:!0,regex:p("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:m,singleRegexMatchValue:!0},urls:{regexes:m,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Re,Le){switch(Re.length){case 2:return"deg"!==Le[0]&&"rad"!==Le[0]&&"deg"!==Le[1]&&"rad"!==Le[1];case 1:return Je(Re[0])||"deg"===Le[0]||"rad"===Le[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Re){var Le=Re.length;return 1===Le||2===Le||4===Le}}};var b={zeroNonZero:function(Re,Le){return(null==Re||null==Le)&&Re!==Le||0==Re&&0!=Le||0!=Re&&0==Le},any:function(Re,Le){return Re!=Le},emptyNonEmpty:function(Re,Le){var Ke=en(Re),tt=en(Le);return Ke&&!tt||!Ke&&tt}},y=xr.types,D=[{name:"label",type:y.text,triggersBounds:b.any,triggersZOrder:b.emptyNonEmpty},{name:"text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any}],E=[{name:"source-label",type:y.text,triggersBounds:b.any},{name:"source-text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"source-text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"source-text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"source-text-offset",type:y.size,triggersBounds:b.any}],S=[{name:"target-label",type:y.text,triggersBounds:b.any},{name:"target-text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"target-text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"target-text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"target-text-offset",type:y.size,triggersBounds:b.any}],M=[{name:"font-family",type:y.fontFamily,triggersBounds:b.any},{name:"font-style",type:y.fontStyle,triggersBounds:b.any},{name:"font-weight",type:y.fontWeight,triggersBounds:b.any},{name:"font-size",type:y.size,triggersBounds:b.any},{name:"text-transform",type:y.textTransform,triggersBounds:b.any},{name:"text-wrap",type:y.textWrap,triggersBounds:b.any},{name:"text-overflow-wrap",type:y.textOverflowWrap,triggersBounds:b.any},{name:"text-max-width",type:y.size,triggersBounds:b.any},{name:"text-outline-width",type:y.size,triggersBounds:b.any},{name:"line-height",type:y.positiveNumber,triggersBounds:b.any}],x=[{name:"text-valign",type:y.valign,triggersBounds:b.any},{name:"text-halign",type:y.halign,triggersBounds:b.any},{name:"color",type:y.color},{name:"text-outline-color",type:y.color},{name:"text-outline-opacity",type:y.zeroOneNumber},{name:"text-background-color",type:y.color},{name:"text-background-opacity",type:y.zeroOneNumber},{name:"text-background-padding",type:y.size,triggersBounds:b.any},{name:"text-border-opacity",type:y.zeroOneNumber},{name:"text-border-color",type:y.color},{name:"text-border-width",type:y.size,triggersBounds:b.any},{name:"text-border-style",type:y.borderStyle,triggersBounds:b.any},{name:"text-background-shape",type:y.textBackgroundShape,triggersBounds:b.any},{name:"text-justification",type:y.justification}],R=[{name:"events",type:y.bool,triggersZOrder:b.any},{name:"text-events",type:y.bool,triggersZOrder:b.any}],A=[{name:"display",type:y.display,triggersZOrder:b.any,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:y.visibility,triggersZOrder:b.any},{name:"opacity",type:y.zeroOneNumber,triggersZOrder:b.zeroNonZero},{name:"text-opacity",type:y.zeroOneNumber},{name:"min-zoomed-font-size",type:y.size},{name:"z-compound-depth",type:y.zCompoundDepth,triggersZOrder:b.any},{name:"z-index-compare",type:y.zIndexCompare,triggersZOrder:b.any},{name:"z-index",type:y.number,triggersZOrder:b.any}],N=[{name:"overlay-padding",type:y.size,triggersBounds:b.any},{name:"overlay-color",type:y.color},{name:"overlay-opacity",type:y.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"overlay-shape",type:y.overlayShape,triggersBounds:b.any}],P=[{name:"underlay-padding",type:y.size,triggersBounds:b.any},{name:"underlay-color",type:y.color},{name:"underlay-opacity",type:y.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"underlay-shape",type:y.overlayShape,triggersBounds:b.any}],k=[{name:"transition-property",type:y.propList},{name:"transition-duration",type:y.time},{name:"transition-delay",type:y.time},{name:"transition-timing-function",type:y.easing}],V=function(Re,Le){return"label"===Le.value?-Re.poolIndex():Le.pfValue},q=[{name:"height",type:y.nodeSize,triggersBounds:b.any,hashOverride:V},{name:"width",type:y.nodeSize,triggersBounds:b.any,hashOverride:V},{name:"shape",type:y.nodeShape,triggersBounds:b.any},{name:"shape-polygon-points",type:y.polygonPointList,triggersBounds:b.any},{name:"background-color",type:y.color},{name:"background-fill",type:y.fill},{name:"background-opacity",type:y.zeroOneNumber},{name:"background-blacken",type:y.nOneOneNumber},{name:"background-gradient-stop-colors",type:y.colors},{name:"background-gradient-stop-positions",type:y.percentages},{name:"background-gradient-direction",type:y.gradientDirection},{name:"padding",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"padding-relative-to",type:y.paddingRelativeTo,triggersBounds:b.any},{name:"bounds-expansion",type:y.boundsExpansion,triggersBounds:b.any}],K=[{name:"border-color",type:y.color},{name:"border-opacity",type:y.zeroOneNumber},{name:"border-width",type:y.size,triggersBounds:b.any},{name:"border-style",type:y.borderStyle}],$=[{name:"background-image",type:y.urls},{name:"background-image-crossorigin",type:y.bgCrossOrigin},{name:"background-image-opacity",type:y.zeroOneNumbers},{name:"background-image-containment",type:y.bgContainment},{name:"background-image-smoothing",type:y.bools},{name:"background-position-x",type:y.bgPos},{name:"background-position-y",type:y.bgPos},{name:"background-width-relative-to",type:y.bgRelativeTo},{name:"background-height-relative-to",type:y.bgRelativeTo},{name:"background-repeat",type:y.bgRepeat},{name:"background-fit",type:y.bgFit},{name:"background-clip",type:y.bgClip},{name:"background-width",type:y.bgWH},{name:"background-height",type:y.bgWH},{name:"background-offset-x",type:y.bgPos},{name:"background-offset-y",type:y.bgPos}],Z=[{name:"position",type:y.position,triggersBounds:b.any},{name:"compound-sizing-wrt-labels",type:y.compoundIncludeLabels,triggersBounds:b.any},{name:"min-width",type:y.size,triggersBounds:b.any},{name:"min-width-bias-left",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-width-bias-right",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-height",type:y.size,triggersBounds:b.any},{name:"min-height-bias-top",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-height-bias-bottom",type:y.sizeMaybePercent,triggersBounds:b.any}],U=[{name:"line-style",type:y.lineStyle},{name:"line-color",type:y.color},{name:"line-fill",type:y.fill},{name:"line-cap",type:y.lineCap},{name:"line-opacity",type:y.zeroOneNumber},{name:"line-dash-pattern",type:y.numbers},{name:"line-dash-offset",type:y.number},{name:"line-gradient-stop-colors",type:y.colors},{name:"line-gradient-stop-positions",type:y.percentages},{name:"curve-style",type:y.curveStyle,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:y.zeroOneNumber,triggersBounds:b.any},{name:"source-endpoint",type:y.edgeEndpoint,triggersBounds:b.any},{name:"target-endpoint",type:y.edgeEndpoint,triggersBounds:b.any},{name:"control-point-step-size",type:y.size,triggersBounds:b.any},{name:"control-point-distances",type:y.bidirectionalSizes,triggersBounds:b.any},{name:"control-point-weights",type:y.numbers,triggersBounds:b.any},{name:"segment-distances",type:y.bidirectionalSizes,triggersBounds:b.any},{name:"segment-weights",type:y.numbers,triggersBounds:b.any},{name:"taxi-turn",type:y.bidirectionalSizeMaybePercent,triggersBounds:b.any},{name:"taxi-turn-min-distance",type:y.size,triggersBounds:b.any},{name:"taxi-direction",type:y.axisDirection,triggersBounds:b.any},{name:"edge-distances",type:y.edgeDistances,triggersBounds:b.any},{name:"arrow-scale",type:y.positiveNumber,triggersBounds:b.any},{name:"loop-direction",type:y.angle,triggersBounds:b.any},{name:"loop-sweep",type:y.angle,triggersBounds:b.any},{name:"source-distance-from-node",type:y.size,triggersBounds:b.any},{name:"target-distance-from-node",type:y.size,triggersBounds:b.any}],X=[{name:"ghost",type:y.bool,triggersBounds:b.any},{name:"ghost-offset-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"ghost-offset-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"ghost-opacity",type:y.zeroOneNumber}],Q=[{name:"selection-box-color",type:y.color},{name:"selection-box-opacity",type:y.zeroOneNumber},{name:"selection-box-border-color",type:y.color},{name:"selection-box-border-width",type:y.size},{name:"active-bg-color",type:y.color},{name:"active-bg-opacity",type:y.zeroOneNumber},{name:"active-bg-size",type:y.size},{name:"outside-texture-bg-color",type:y.color},{name:"outside-texture-bg-opacity",type:y.zeroOneNumber}],j=[];xr.pieBackgroundN=16,j.push({name:"pie-size",type:y.sizeMaybePercent});for(var ee=1;ee<=xr.pieBackgroundN;ee++)j.push({name:"pie-"+ee+"-background-color",type:y.color}),j.push({name:"pie-"+ee+"-background-size",type:y.percent}),j.push({name:"pie-"+ee+"-background-opacity",type:y.zeroOneNumber});var Y=[],se=xr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:y.arrowShape,triggersBounds:b.any},{name:"arrow-color",type:y.color},{name:"arrow-fill",type:y.arrowFill}].forEach(function(ce){se.forEach(function(Re){Y.push({name:Re+"-"+ce.name,type:ce.type,triggersBounds:ce.triggersBounds})})},{});var te=xr.properties=[].concat(R,k,A,N,P,X,x,M,D,E,S,q,K,$,j,Z,U,Y,Q),ne=xr.propertyGroups={behavior:R,transition:k,visibility:A,overlay:N,underlay:P,ghost:X,commonLabel:x,labelDimensions:M,mainLabel:D,sourceLabel:E,targetLabel:S,nodeBody:q,nodeBorder:K,backgroundImage:$,pie:j,compound:Z,edgeLine:U,edgeArrow:Y,core:Q},fe=xr.propertyGroupNames={};(xr.propertyGroupKeys=Object.keys(ne)).forEach(function(ce){fe[ce]=ne[ce].map(function(Re){return Re.name}),ne[ce].forEach(function(Re){return Re.groupKey=ce})});var De=xr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];xr.propertyNames=te.map(function(ce){return ce.name});for(var he=0;he<te.length;he++){var be=te[he];te[be.name]=be}for(var Ae=0;Ae<De.length;Ae++){var Fe=De[Ae],Ie={name:Fe.name,alias:!0,pointsTo:te[Fe.pointsTo]};te.push(Ie),te[Fe.name]=Ie}})(),xr.getDefaultProperty=function(s){return this.getDefaultProperties()[s]},xr.getDefaultProperties=function(){var s=this._private;if(null!=s.defaultProperties)return s.defaultProperties;for(var i=It({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(b,y){for(var D=1;D<=xr.pieBackgroundN;D++)b[y.name.replace("{{i}}",D)]=y.value;return b},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(b,y){return xr.arrowPrefixes.forEach(function(D){b[D+"-"+y.name]=y.value}),b},{})),a={},l=0;l<this.properties.length;l++){var f=this.properties[l];if(!f.pointsTo){var h=f.name,m=this.parse(h,i[h]);a[h]=m}}return s.defaultProperties=a,s.defaultProperties},xr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var $o={parse:function(s,i,a,l){var f=this;if(kn(i))return f.parseImplWarn(s,i,a,l);var D,b=af(s,""+i,a?"t":"f","mapping"===l||!0===l||!1===l||null==l?"dontcare":l),y=f.propCache=f.propCache||[];return(D=y[b])||(D=y[b]=f.parseImplWarn(s,i,a,l)),(a||"mapping"===l)&&(D=Zr(D))&&(D.value=Zr(D.value)),D},parseImplWarn:function(s,i,a,l){var f=this.parseImpl(s,i,a,l);return!f&&null!=i&&Ut("The style property `".concat(s,": ").concat(i,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===i&&Ut("The style value of `label` is deprecated for `"+f.name+"`"),f}};$o.parseImpl=function(s,i,a,l){var f=this;s=uo(s);var h=f.properties[s],p=i,m=f.types;if(!h||void 0===i)return null;h.alias&&(s=(h=h.pointsTo).name);var b=Je(i);b&&(i=i.trim());var D,E,y=h.type;if(!y)return null;if(a&&(""===i||null===i))return{name:s,value:i,bypass:!0,deleteBypass:!0};if(kn(i))return{name:s,value:i,strValue:"fn",mapped:m.fn,bypass:a};if(!(!b||l||i.length<7||"a"!==i[1])){if(i.length>=7&&"d"===i[0]&&(D=new RegExp(m.data.regex).exec(i)))return!a&&{name:s,value:D,strValue:""+i,mapped:m.data,field:D[1],bypass:a};if(i.length>=10&&"m"===i[0]&&(E=new RegExp(m.mapData.regex).exec(i))){if(a||y.multiple)return!1;var M=m.mapData;if(!y.color&&!y.number)return!1;var x=this.parse(s,E[4]);if(!x||x.mapped)return!1;var R=this.parse(s,E[5]);if(!R||R.mapped)return!1;if(x.pfValue===R.pfValue||x.strValue===R.strValue)return Ut("`"+s+": "+i+"` is not a valid mapper because the output range is zero; converting to `"+s+": "+x.strValue+"`"),this.parse(s,x.strValue);if(y.color){var A=x.value,N=R.value;if(!(A[0]!==N[0]||A[1]!==N[1]||A[2]!==N[2]||A[3]!==N[3]&&(null!=A[3]&&1!==A[3]||null!=N[3]&&1!==N[3])))return!1}return{name:s,value:E,strValue:""+i,mapped:M,field:E[1],fieldMin:parseFloat(E[2]),fieldMax:parseFloat(E[3]),valueMin:x.value,valueMax:R.value,bypass:a}}}if(y.multiple&&"multiple"!==l){var k;if(k=b?i.split(/\s+/):_n(i)?i:[i],y.evenMultiple&&k.length%2!=0)return null;for(var V=[],q=[],K=[],$="",Z=!1,U=0;U<k.length;U++){var X=f.parse(s,k[U],a,"multiple");Z=Z||Je(X.value),V.push(X.value),K.push(null!=X.pfValue?X.pfValue:X.value),q.push(X.units),$+=(U>0?" ":"")+X.strValue}return y.validate&&!y.validate(V,q)?null:y.singleEnum&&Z?1===V.length&&Je(V[0])?{name:s,value:V[0],strValue:V[0],bypass:a}:null:{name:s,value:V,pfValue:K,strValue:$,bypass:a,units:q}}var Q=function(){for(var Le=0;Le<y.enums.length;Le++)if(y.enums[Le]===i)return{name:s,value:i,strValue:""+i,bypass:a};return null};if(y.number){var j,ee="px";if(y.units&&(j=y.units),y.implicitUnits&&(ee=y.implicitUnits),!y.unitless)if(b){var Y="px|em"+(y.allowPercent?"|\\%":"");j&&(Y=j);var se=i.match("^("+Wr+")("+Y+")?$");se&&(i=se[1],j=se[2]||ee)}else(!j||y.implicitUnits)&&(j=ee);if(i=parseFloat(i),isNaN(i)&&void 0===y.enums)return null;if(isNaN(i)&&void 0!==y.enums)return i=p,Q();if(y.integer&&!function(i){return ot(i)&&Math.floor(i)===i}(i)||void 0!==y.min&&(i<y.min||y.strictMin&&i===y.min)||void 0!==y.max&&(i>y.max||y.strictMax&&i===y.max))return null;var te={name:s,value:i,strValue:""+i+(j||""),units:j,bypass:a};return te.pfValue=y.unitless||"px"!==j&&"em"!==j?i:"px"!==j&&j?this.getEmSizeInPixels()*i:i,("ms"===j||"s"===j)&&(te.pfValue="ms"===j?i:1e3*i),("deg"===j||"rad"===j)&&(te.pfValue="rad"===j?i:function(i){return Math.PI*i/180}(i)),"%"===j&&(te.pfValue=i/100),te}if(y.propList){var ne=[],fe=""+i;if("none"!==fe){for(var pe=fe.split(/\s*,\s*|\s+/),De=0;De<pe.length;De++){var he=pe[De].trim();f.properties[he]?ne.push(he):Ut("`"+he+"` is not a valid property name")}if(0===ne.length)return null}return{name:s,value:ne,strValue:0===ne.length?"none":ne.join(" "),bypass:a}}if(y.color){var be=function(i){return(_n(i)?i:null)||function(i){return ef[i.toLowerCase()]}(i)||function(i){if((4===i.length||7===i.length)&&"#"===i[0]){var l,f,h,p=16;return 4===i.length?(l=parseInt(i[1]+i[1],p),f=parseInt(i[2]+i[2],p),h=parseInt(i[3]+i[3],p)):(l=parseInt(i[1]+i[2],p),f=parseInt(i[3]+i[4],p),h=parseInt(i[5]+i[6],p)),[l,f,h]}}(i)||function(i){var a,l=new RegExp("^"+kg+"$").exec(i);if(l){a=[];for(var f=[],h=1;h<=3;h++){var p=l[h];if("%"===p[p.length-1]&&(f[h]=!0),p=parseFloat(p),f[h]&&(p=p/100*255),p<0||p>255)return;a.push(Math.floor(p))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var y=l[4];if(void 0!==y){if((y=parseFloat(y))<0||y>1)return;a.push(y)}}return a}(i)||function(i){var a,l,f,h,p,m,b,y;function D(x,R,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?x+6*(R-x)*A:A<.5?R:A<2/3?x+(R-x)*(2/3-A)*6:x}var E=new RegExp("^"+Yo+"$").exec(i);if(E){if((l=parseInt(E[1]))<0?l=(360- -1*l%360)%360:l>360&&(l%=360),l/=360,(f=parseFloat(E[2]))<0||f>100||(f/=100,(h=parseFloat(E[3]))<0||h>100)||(h/=100,void 0!==(p=E[4])&&((p=parseFloat(p))<0||p>1)))return;if(0===f)m=b=y=Math.round(255*h);else{var S=h<.5?h*(1+f):h+f-h*f,M=2*h-S;m=Math.round(255*D(M,S,l+1/3)),b=Math.round(255*D(M,S,l)),y=Math.round(255*D(M,S,l-1/3))}a=[m,b,y,p]}return a}(i)}(i);return be?{name:s,value:be,pfValue:be,strValue:"rgb("+be[0]+","+be[1]+","+be[2]+")",bypass:a}:null}if(y.regex||y.regexes){if(y.enums){var Ae=Q();if(Ae)return Ae}for(var Fe=y.regexes?y.regexes:[y.regex],Me=0;Me<Fe.length;Me++){var ce=new RegExp(Fe[Me]).exec(i);if(ce)return{name:s,value:y.singleRegexMatchValue?ce[1]:ce,strValue:""+i,bypass:a}}return null}return y.string?{name:s,value:""+i,strValue:""+i,bypass:a}:y.enums?Q():null};var Ci=function s(i){if(!(this instanceof s))return new s(i);rr(i)?(this._private={cy:i,coreStyle:{}},this.length=0,this.resetToDefault()):Vn("A style must have a core reference")},fi=Ci.prototype;fi.instanceString=function(){return"style"},fi.clear=function(){for(var s=this._private,a=s.cy.elements(),l=0;l<this.length;l++)this[l]=void 0;return this.length=0,s.contextStyles={},s.propDiffs={},this.cleanElements(a,!0),a.forEach(function(f){var h=f[0]._private;h.styleDirty=!0,h.appliedInitStyle=!1}),this},fi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},fi.core=function(s){return this._private.coreStyle[s]||this.getDefaultProperty(s)},fi.selector=function(s){var i="core"===s?null:new ui(s),a=this.length++;return this[a]={selector:i,properties:[],mappedProperties:[],index:a},this},fi.css=function(){var i=arguments;if(1===i.length)for(var a=i[0],l=0;l<this.properties.length;l++){var f=this.properties[l],h=a[f.name];void 0===h&&(h=a[Is(f.name)]),void 0!==h&&this.cssRule(f.name,h)}else 2===i.length&&this.cssRule(i[0],i[1]);return this},fi.style=fi.css,fi.cssRule=function(s,i){var a=this.parse(s,i);if(a){var l=this.length-1;this[l].properties.push(a),this[l].properties[a.name]=a,a.name.match(/pie-(\d+)-background-size/)&&a.value&&(this._private.hasPie=!0),a.mapped&&this[l].mappedProperties.push(a),!this[l].selector&&(this._private.coreStyle[a.name]=a)}return this},fi.append=function(s){return pr(s)?s.appendToStyle(this):_n(s)?this.appendFromJson(s):Je(s)&&this.appendFromString(s),this},Ci.fromJson=function(s,i){var a=new Ci(s);return a.fromJson(i),a},Ci.fromString=function(s,i){return new Ci(s).fromString(i)},[Vr,Jo,Wl,lr,to,hd,xr,$o].forEach(function(s){It(fi,s)}),Ci.types=fi.types,Ci.properties=fi.properties,Ci.propertyGroups=fi.propertyGroups,Ci.propertyGroupNames=fi.propertyGroupNames,Ci.propertyGroupKeys=fi.propertyGroupKeys;var tv={style:function(i){return i&&this.setStyle(i).update(),this._private.style},setStyle:function(i){var a=this._private;return a.style=pr(i)?i.generateStyle(this):_n(i)?Ci.fromJson(this,i):Je(i)?Ci.fromString(this,i):Ci(this),a.style},updateStyle:function(){this.mutableElements().updateStyle()}},xa={autolock:function(i){return void 0===i?this._private.autolock:(this._private.autolock=!!i,this)},autoungrabify:function(i){return void 0===i?this._private.autoungrabify:(this._private.autoungrabify=!!i,this)},autounselectify:function(i){return void 0===i?this._private.autounselectify:(this._private.autounselectify=!!i,this)},selectionType:function(i){var a=this._private;return null==a.selectionType&&(a.selectionType="single"),void 0===i?a.selectionType:(("additive"===i||"single"===i)&&(a.selectionType=i),this)},panningEnabled:function(i){return void 0===i?this._private.panningEnabled:(this._private.panningEnabled=!!i,this)},userPanningEnabled:function(i){return void 0===i?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!i,this)},zoomingEnabled:function(i){return void 0===i?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!i,this)},userZoomingEnabled:function(i){return void 0===i?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!i,this)},boxSelectionEnabled:function(i){return void 0===i?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!i,this)},pan:function(){var l,f,h,p,m,i=arguments,a=this._private.pan;switch(i.length){case 0:return a;case 1:if(Je(i[0]))return a[l=i[0]];if(Ct(i[0])){if(!this._private.panningEnabled)return this;m=(h=i[0]).y,ot(p=h.x)&&(a.x=p),ot(m)&&(a.y=m),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=i[1],("x"===(l=i[0])||"y"===l)&&ot(f)&&(a[l]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(i,a){var h,p,m,b,y,l=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(l.length){case 1:Ct(i)&&(y=(m=l[0]).y,ot(b=m.x)&&(f.x+=b),ot(y)&&(f.y+=y),this.emit("pan viewport"));break;case 2:p=a,("x"===(h=i)||"y"===h)&&ot(p)&&(f[h]+=p),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(i,a){var l=this.getFitViewport(i,a);if(l){var f=this._private;f.zoom=l.zoom,f.pan=l.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(i,a){var l;if((ot(i)&&void 0===a&&(a=i,i=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Je(i)?i=this.$(i):!function(i){return Ct(i)&&ot(i.x1)&&ot(i.x2)&&ot(i.y1)&&ot(i.y2)}(i)?br(i)||(i=this.mutableElements()):((l={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=l.x2-l.x1,l.h=l.y2-l.y1),!br(i)||!i.empty())){l=l||i.boundingBox();var b,p=this.width(),m=this.height();if(a=ot(a)?a:0,!isNaN(p)&&!isNaN(m)&&p>0&&m>0&&!isNaN(l.w)&&!isNaN(l.h)&&l.w>0&&l.h>0)return{zoom:b=(b=(b=Math.min((p-2*a)/l.w,(m-2*a)/l.h))>this._private.maxZoom?this._private.maxZoom:b)<this._private.minZoom?this._private.minZoom:b,pan:{x:(p-b*(l.x1+l.x2))/2,y:(m-b*(l.y1+l.y2))/2}}}},zoomRange:function(i,a){var l=this._private;if(null==a){var f=i;i=f.min,a=f.max}return ot(i)&&ot(a)&&i<=a?(l.minZoom=i,l.maxZoom=a):ot(i)&&void 0===a&&i<=l.maxZoom?l.minZoom=i:ot(a)&&void 0===i&&a>=l.minZoom&&(l.maxZoom=a),this},minZoom:function(i){return void 0===i?this._private.minZoom:this.zoomRange({min:i})},maxZoom:function(i){return void 0===i?this._private.maxZoom:this.zoomRange({max:i})},getZoomedViewport:function(i){var h,p,a=this._private,l=a.pan,f=a.zoom,m=!1;return a.zoomingEnabled||(m=!0),ot(i)?p=i:Ct(i)&&(p=i.level,null!=i.position?h=Ns(i.position,f,l):null!=i.renderedPosition&&(h=i.renderedPosition),null!=h&&!a.panningEnabled&&(m=!0)),p=(p=p>a.maxZoom?a.maxZoom:p)<a.minZoom?a.minZoom:p,!m&&ot(p)&&p!==f&&(null==h||ot(h.x)&&ot(h.y))?null!=h?{zoomed:!0,panned:!0,zoom:p,pan:{x:-p/f*(h.x-l.x)+h.x,y:-p/f*(h.y-l.y)+h.y}}:{zoomed:!0,panned:!1,zoom:p,pan:l}:null},zoom:function(i){if(void 0===i)return this._private.zoom;var a=this.getZoomedViewport(i),l=this._private;return null!=a&&a.zoomed?(l.zoom=a.zoom,a.panned&&(l.pan.x=a.pan.x,l.pan.y=a.pan.y),this.emit("zoom"+(a.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(i){var a=this._private,l=!0,f=!0,h=[],p=!1,m=!1;if(!i)return this;if(ot(i.zoom)||(l=!1),Ct(i.pan)||(f=!1),!l&&!f)return this;if(l){var b=i.zoom;b<a.minZoom||b>a.maxZoom||!a.zoomingEnabled?p=!0:(a.zoom=b,h.push("zoom"))}if(f&&(!p||!i.cancelOnFailedZoom)&&a.panningEnabled){var y=i.pan;ot(y.x)&&(a.pan.x=y.x,m=!1),ot(y.y)&&(a.pan.y=y.y,m=!1),m||h.push("pan")}return h.length>0&&(h.push("viewport"),this.emit(h.join(" ")),this.notify("viewport")),this},center:function(i){var a=this.getCenterPan(i);return a&&(this._private.pan=a,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(i,a){if(this._private.panningEnabled){if(Je(i)){var l=i;i=this.mutableElements().filter(l)}else br(i)||(i=this.mutableElements());if(0!==i.length){var f=i.boundingBox(),h=this.width(),p=this.height();return{x:(h-(a=void 0===a?this._private.zoom:a)*(f.x1+f.x2))/2,y:(p-a*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,i=this._private,a=i.container;return i.sizeCache=i.sizeCache||(a?(f=this.window().getComputedStyle(a),{width:a.clientWidth-(h=function(m){return parseFloat(f.getPropertyValue(m))})("padding-left")-h("padding-right"),height:a.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var i=this._private.pan,a=this._private.zoom,l=this.renderedExtent(),f={x1:(l.x1-i.x)/a,x2:(l.x2-i.x)/a,y1:(l.y1-i.y)/a,y2:(l.y2-i.y)/a};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var i=this.width(),a=this.height();return{x1:0,y1:0,x2:i,y2:a,w:i,h:a}},multiClickDebounceTime:function(i){return i?(this._private.multiClickDebounceTime=i,this):this._private.multiClickDebounceTime}};xa.centre=xa.center,xa.autolockNodes=xa.autolock,xa.autoungrabifyNodes=xa.autoungrabify;var $r={data:Pt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Pt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Pt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Pt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};$r.attr=$r.data,$r.removeAttr=$r.removeData;var $i=function(i){var a=this,l=(i=It({},i)).container;l&&!so(l)&&so(l[0])&&(l=l[0]);var f=l?l._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var h=f.readies=f.readies||[];l&&(l._cyreg=f),f.cy=a;var p=void 0!==At&&void 0!==l&&!i.headless,m=i;m.layout=It({name:p?"grid":"null"},m.layout),m.renderer=It({name:p?"canvas":"null"},m.renderer);var b=function(x,R,A){return void 0!==R?R:void 0!==A?A:x},y=this._private={container:l,ready:!1,options:m,elements:new li(this),listeners:[],aniEles:new li(this),data:m.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:b(!0,m.zoomingEnabled),userZoomingEnabled:b(!0,m.userZoomingEnabled),panningEnabled:b(!0,m.panningEnabled),userPanningEnabled:b(!0,m.userPanningEnabled),boxSelectionEnabled:b(!0,m.boxSelectionEnabled),autolock:b(!1,m.autolock,m.autolockNodes),autoungrabify:b(!1,m.autoungrabify,m.autoungrabifyNodes),autounselectify:b(!1,m.autounselectify),styleEnabled:void 0===m.styleEnabled?p:m.styleEnabled,zoom:ot(m.zoom)?m.zoom:1,pan:{x:Ct(m.pan)&&ot(m.pan.x)?m.pan.x:0,y:Ct(m.pan)&&ot(m.pan.y)?m.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:b(250,m.multiClickDebounceTime)};this.createEmitter(),this.selectionType(m.selectionType),this.zoomRange({min:m.minZoom,max:m.maxZoom}),y.styleEnabled&&a.setStyle([]);var E=It({},m,m.renderer);a.initRenderer(E),function(x,R){if(x.some(cu))return vr.all(x).then(R);R(x)}([m.style,m.elements],function(M){var x=M[0],R=M[1];y.styleEnabled&&a.style().append(x),function(x,R,A){a.notifications(!1);var N=a.mutableElements();N.length>0&&N.remove(),null!=x&&(Ct(x)||_n(x))&&a.add(x),a.one("layoutready",function(k){a.notifications(!0),a.emit(k),a.one("load",R),a.emitAndNotify("load")}).one("layoutstop",function(){a.one("done",A),a.emit("done")});var P=It({},a._private.options.layout);P.eles=a.elements(),a.layout(P).run()}(R,function(){a.startAnimationLoop(),y.ready=!0,kn(m.ready)&&a.on("ready",m.ready);for(var A=0;A<h.length;A++)a.on("ready",h[A]);f&&(f.readies=[]),a.emit("ready")},m.done)})},Vu=$i.prototype;It(Vu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(i){return this.isReady()?this.emitter().emit("ready",[],i):this.on("ready",i),this},destroy:function(){var i=this;if(!i.destroyed())return i.stopAnimationLoop(),i.destroyRenderer(),this.emit("destroy"),i._private.destroyed=!0,i},hasElementWithId:function(i){return this._private.elements.hasElementWithId(i)},getElementById:function(i){return this._private.elements.getElementById(i)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(i){return this._private.elements.merge(i),this},removeFromPool:function(i){return this._private.elements.unmerge(i),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return At;var a=this._private.container.ownerDocument;return void 0===a||null==a?At:a.defaultView||At},mount:function(i){if(null!=i){var a=this,l=a._private,f=l.options;return!so(i)&&so(i[0])&&(i=i[0]),a.stopAnimationLoop(),a.destroyRenderer(),l.container=i,l.styleEnabled=!0,a.invalidateSize(),a.initRenderer(It({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),a.startAnimationLoop(),a.style(f.style),a.emit("mount"),a}},unmount:function(){var i=this;return i.stopAnimationLoop(),i.destroyRenderer(),i.initRenderer({name:"null"}),i.emit("unmount"),i},options:function(){return Zr(this._private.options)},json:function(i){var a=this,l=a._private,f=a.mutableElements();if(Ct(i)){if(a.startBatch(),i.elements){var p={},m=function(V,q){for(var K=[],$=[],Z=0;Z<V.length;Z++){var U=V[Z];if(U.data.id){var X=""+U.data.id,Q=a.getElementById(X);p[X]=!0,0!==Q.length?$.push({ele:Q,json:U}):(q&&(U.group=q),K.push(U))}else Ut("cy.json() cannot handle elements without an ID attribute")}a.add(K);for(var j=0;j<$.length;j++){var ee=$[j];ee.ele.json(ee.json)}};if(_n(i.elements))m(i.elements);else for(var b=["nodes","edges"],y=0;y<b.length;y++){var D=b[y],E=i.elements[D];_n(E)&&m(E,D)}var S=a.collection();f.filter(function(k){return!p[k.id()]}).forEach(function(k){k.isParent()?S.merge(k):k.remove()}),S.forEach(function(k){return k.children().move({parent:null})}),S.forEach(function(k){return(V=k,a.getElementById(V.id())).remove();var V})}i.style&&a.style(i.style),null!=i.zoom&&i.zoom!==l.zoom&&a.zoom(i.zoom),i.pan&&(i.pan.x!==l.pan.x||i.pan.y!==l.pan.y)&&a.pan(i.pan),i.data&&a.data(i.data);for(var M=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],x=0;x<M.length;x++){var R=M[x];null!=i[R]&&a[R](i[R])}return a.endBatch(),this}var N={};i?N.elements=this.elements().map(function(k){return k.json()}):(N.elements={},f.forEach(function(k){var V=k.group();N.elements[V]||(N.elements[V]=[]),N.elements[V].push(k.json())})),this._private.styleEnabled&&(N.style=a.style().json()),N.data=Zr(a.data());var P=l.options;return N.zoomingEnabled=l.zoomingEnabled,N.userZoomingEnabled=l.userZoomingEnabled,N.zoom=l.zoom,N.minZoom=l.minZoom,N.maxZoom=l.maxZoom,N.panningEnabled=l.panningEnabled,N.userPanningEnabled=l.userPanningEnabled,N.pan=Zr(l.pan),N.boxSelectionEnabled=l.boxSelectionEnabled,N.renderer=Zr(P.renderer),N.hideEdgesOnViewport=P.hideEdgesOnViewport,N.textureOnViewport=P.textureOnViewport,N.wheelSensitivity=P.wheelSensitivity,N.motionBlur=P.motionBlur,N.multiClickDebounceTime=P.multiClickDebounceTime,N}}),Vu.$id=Vu.getElementById,[hn,fp,Dn,dd,Gs,di,gs,Vi,tv,xa,$r].forEach(function(s){It(Vu,s)});var nv={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}},Zl={maximal:!1,acyclic:!1},_o=function(i){return i.scratch("breadthfirst")},pd=function(i,a){return i.scratch("breadthfirst",a)};function gd(s){this.options=It({},nv,Zl,s)}gd.prototype.run=function(){var y,s=this.options,i=s,a=s.cy,l=i.eles,f=l.nodes().filter(function(at){return!at.isParent()}),h=l,p=i.directed,m=i.acyclic||i.maximal||i.maximalAdjustments>0,b=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()});if(br(i.roots))y=i.roots;else if(_n(i.roots)){for(var D=[],E=0;E<i.roots.length;E++){var M=a.getElementById(i.roots[E]);D.push(M)}y=a.collection(D)}else if(Je(i.roots))y=a.$(i.roots);else if(p)y=f.roots();else{var x=l.components();y=a.collection();for(var R=function(Xe){var ze=x[Xe],mt=ze.maxDegree(!1),Ye=ze.filter(function(nt){return nt.degree(!1)===mt});y=y.add(Ye)},A=0;A<x.length;A++)R(A)}var N=[],P={},k=function(Xe,ze){null==N[ze]&&(N[ze]=[]);var mt=N[ze].length;N[ze].push(Xe),pd(Xe,{index:mt,depth:ze})};h.bfs({roots:y,directed:i.directed,visit:function(Xe,ze,mt,Ye,nt){var pn=Xe[0],zt=pn.id();k(pn,nt),P[zt]=!0}});for(var q=[],K=0;K<f.length;K++){var $=f[K];P[$.id()]||q.push($)}var Z=function(Xe){for(var ze=N[Xe],mt=0;mt<ze.length;mt++){var Ye=ze[mt];null!=Ye?pd(Ye,{depth:Xe,index:mt}):(ze.splice(mt,1),mt--)}},U=function(){for(var Xe=0;Xe<N.length;Xe++)Z(Xe)},X=function(Xe,ze){for(var mt=_o(Xe),Ye=Xe.incomers().filter(function(G){return G.isNode()&&l.has(G)}),nt=-1,pn=Xe.id(),zt=0;zt<Ye.length;zt++){var Hn=_o(Ye[zt]);nt=Math.max(nt,Hn.depth)}if(mt.depth<=nt){if(!i.acyclic&&ze[pn])return null;var Be=nt+1;return function(Xe,ze){var mt=_o(Xe);N[mt.depth][mt.index]=null,k(Xe,ze)}(Xe,Be),ze[pn]=Be,!0}return!1};if(p&&m){var Q=[],j={},ee=function(Xe){return Q.push(Xe)};for(f.forEach(function(at){return Q.push(at)});Q.length>0;){var se=Q.shift(),te=X(se,j);if(te)se.outgoers().filter(function(at){return at.isNode()&&l.has(at)}).forEach(ee);else if(null===te){Ut("Detected double maximal shift for node `"+se.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}U();var ne=0;if(i.avoidOverlap)for(var fe=0;fe<f.length;fe++){var De=f[fe].layoutDimensions(i);ne=Math.max(ne,De.w,De.h)}var Ae={},Fe=function(Xe){if(Ae[Xe.id()])return Ae[Xe.id()];for(var ze=_o(Xe).depth,mt=Xe.neighborhood(),Ye=0,nt=0,pn=0;pn<mt.length;pn++){var zt=mt[pn];if(!zt.isEdge()&&!zt.isParent()&&f.has(zt)){var Nt=_o(zt);if(null!=Nt){var Hn=Nt.index,Be=Nt.depth;null!=Hn&&null!=Be&&Be<ze&&(Ye+=Hn/N[Be].length,nt++)}}}return Ye/=nt=Math.max(1,nt),0===nt&&(Ye=0),Ae[Xe.id()]=Ye,Ye},Me=function(Xe,ze){var nt=Fe(Xe)-Fe(ze);return 0===nt?As(Xe.id(),ze.id()):nt};void 0!==i.depthSort&&(Me=i.depthSort);for(var Ie=0;Ie<N.length;Ie++)N[Ie].sort(Me),Z(Ie);for(var ce=[],Re=0;Re<q.length;Re++)ce.push(q[Re]);N.unshift(ce),U();for(var Le=0,Ke=0;Ke<N.length;Ke++)Le=Math.max(N[Ke].length,Le);var tt_x=b.x1+b.w/2,tt_y=b.x1+b.h/2,Et=N.reduce(function(at,Xe){return Math.max(at,Xe.length)},0);return l.nodes().layoutPositions(this,i,function(Xe){var ze=_o(Xe),mt=ze.depth,Ye=ze.index,nt=N[mt].length,pn=Math.max(b.w/((i.grid?Et:nt)+1),ne),zt=Math.max(b.h/(N.length+1),ne),Nt=Math.min(b.w/2/N.length,b.h/2/N.length);if(Nt=Math.max(Nt,ne),i.circle){var Be=Nt*mt+Nt-(N.length>0&&N[0].length<=3?Nt/2:0),G=2*Math.PI/N[mt].length*Ye;return 0===mt&&1===N[0].length&&(Be=1),{x:tt_x+Be*Math.cos(G),y:tt_y+Be*Math.sin(G)}}return{x:tt_x+(Ye+1-(nt+1)/2)*pn,y:(mt+1)*zt}}),this};var pp={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function vd(s){this.options=It({},pp,s)}vd.prototype.run=function(){var s=this.options,i=s,a=s.cy,l=i.eles,f=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,h=l.nodes().not(":parent");i.sort&&(h=h.sort(i.sort));for(var D,p=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),m={x:p.x1+p.w/2,y:p.y1+p.h/2},y=(void 0===i.sweep?2*Math.PI-2*Math.PI/h.length:i.sweep)/Math.max(1,h.length-1),E=0,S=0;S<h.length;S++){var x=h[S].layoutDimensions(i);E=Math.max(E,x.w,x.h)}if(D=ot(i.radius)?i.radius:h.length<=1?0:Math.min(p.h,p.w)/2-E,h.length>1&&i.avoidOverlap){E*=1.75;var N=Math.cos(y)-Math.cos(0),P=Math.sin(y)-Math.sin(0),k=Math.sqrt(E*E/(N*N+P*P));D=Math.max(k,D)}return l.nodes().layoutPositions(this,i,function(K,$){var Z=i.startAngle+$*y*(f?1:-1),U=D*Math.cos(Z),X=D*Math.sin(Z);return{x:m.x+U,y:m.y+X}}),this};var vs={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(i){return i.degree()},levelWidth:function(i){return i.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function $u(s){this.options=It({},vs,s)}$u.prototype.run=function(){for(var s=this.options,i=s,a=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,l=s.cy,f=i.eles,h=f.nodes().not(":parent"),p=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),m={x:p.x1+p.w/2,y:p.y1+p.h/2},b=[],y=0,D=0;D<h.length;D++){var S,E=h[D];S=i.concentric(E),b.push({value:S,node:E}),E._private.scratch.concentric=S}h.updateStyle();for(var M=0;M<h.length;M++){var R=h[M].layoutDimensions(i);y=Math.max(y,R.w,R.h)}b.sort(function(at,Xe){return Xe.value-at.value});for(var A=i.levelWidth(h),N=[[]],P=N[0],k=0;k<b.length;k++){var V=b[k];P.length>0&&Math.abs(P[0].value-V.value)>=A&&N.push(P=[]),P.push(V)}var K=y+i.minNodeSpacing;if(!i.avoidOverlap){var $=N.length>0&&N[0].length>1,Z=Math.min(p.w,p.h)/2-K;K=Math.min(K,Z/(N.length+$?1:0))}for(var X=0,Q=0;Q<N.length;Q++){var j=N[Q],ee=void 0===i.sweep?2*Math.PI-2*Math.PI/j.length:i.sweep,Y=j.dTheta=ee/Math.max(1,j.length-1);if(j.length>1&&i.avoidOverlap){var se=Math.cos(Y)-Math.cos(0),te=Math.sin(Y)-Math.sin(0),ne=Math.sqrt(K*K/(se*se+te*te));X=Math.max(ne,X)}j.r=X,X+=K}if(i.equidistant){for(var fe=0,pe=0,De=0;De<N.length;De++)fe=Math.max(fe,N[De].r-pe);pe=0;for(var Ae=0;Ae<N.length;Ae++){var Fe=N[Ae];0===Ae&&(pe=Fe.r),Fe.r=pe,pe+=fe}}for(var Me={},Ie=0;Ie<N.length;Ie++)for(var ce=N[Ie],Re=ce.dTheta,Le=ce.r,Ke=0;Ke<ce.length;Ke++){var tt=ce[Ke],Et=i.startAngle+(a?1:-1)*Re*Ke,Jt={x:m.x+Le*Math.cos(Et),y:m.y+Le*Math.sin(Et)};Me[tt.node.id()]=Jt}return f.nodes().layoutPositions(this,i,function(at){var Xe=at.id();return Me[Xe]}),this};var Nf,Ni={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(i,a){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(i){return 2048},nodeOverlap:4,idealEdgeLength:function(i){return 32},edgeElasticity:function(i){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function ea(s){this.options=It({},Ni,s),this.options.layout=this;var i=this.options.eles.nodes(),l=this.options.eles.edges().filter(function(f){var h=f.source().data("id"),p=f.target().data("id"),m=i.some(function(y){return y.data("id")===h}),b=i.some(function(y){return y.data("id")===p});return!m||!b});this.options.eles=this.options.eles.not(l)}ea.prototype.run=function(){var s=this.options,i=s.cy,a=this;a.stopped=!1,(!0===s.animate||!1===s.animate)&&a.emit({type:"layoutstart",layout:a}),Nf=!0===s.debug;var l=or(i,a,s);Nf&&(void 0)(l),s.randomize&&yd(l);var f=Pa(),h=function(){kf(l,i,s),!0===s.fit&&i.fit(s.padding)},p=function(S){return!(a.stopped||S>=s.numIter||(qs(l,s),l.temperature=l.temperature*s.coolingFactor,l.temperature<s.minTemp))},m=function(){if(!0===s.animate||!1===s.animate)h(),a.one("layoutstop",s.stop),a.emit({type:"layoutstop",layout:a});else{var S=s.eles.nodes(),M=Pf(l,s,S);S.layoutPositions(a,s,M)}},b=0,y=!0;if(!0===s.animate)!function E(){for(var S=0;y&&S<s.refresh;)y=p(b),b++,S++;y?(Pa()-f>=s.animationThreshold&&h(),Tc(E)):(Ma(l,s),m())}();else{for(;y;)y=p(b),b++;Ma(l,s),m()}return this},ea.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},ea.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var or=function(i,a,l){for(var f=l.eles.edges(),h=l.eles.nodes(),p=fo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),m={isCompound:i.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:h.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:l.initialTemp,clientWidth:p.w,clientHeight:p.h,boundingBox:p},b=l.eles.components(),y={},D=0;D<b.length;D++)for(var E=b[D],S=0;S<E.length;S++)y[E[S].id()]=D;for(D=0;D<m.nodeSize;D++){var R=(x=h[D]).layoutDimensions(l);(A={}).isLocked=x.locked(),A.id=x.data("id"),A.parentId=x.data("parent"),A.cmptId=y[x.id()],A.children=[],A.positionX=x.position("x"),A.positionY=x.position("y"),A.offsetX=0,A.offsetY=0,A.height=R.w,A.width=R.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(x.style("padding")),A.padRight=parseFloat(x.style("padding")),A.padTop=parseFloat(x.style("padding")),A.padBottom=parseFloat(x.style("padding")),A.nodeRepulsion=kn(l.nodeRepulsion)?l.nodeRepulsion(x):l.nodeRepulsion,m.layoutNodes.push(A),m.idToIndex[A.id]=D}var N=[],P=0,k=-1,V=[];for(D=0;D<m.nodeSize;D++){var x,q=(x=m.layoutNodes[D]).parentId;null!=q?m.layoutNodes[m.idToIndex[q]].children.push(x.id):(N[++k]=x.id,V.push(x.id))}for(m.graphSet.push(V);P<=k;){var K=N[P++],Z=m.layoutNodes[m.idToIndex[K]].children;if(Z.length>0)for(m.graphSet.push(Z),D=0;D<Z.length;D++)N[++k]=Z[D]}for(D=0;D<m.graphSet.length;D++){var U=m.graphSet[D];for(S=0;S<U.length;S++)m.indexToGraph[m.idToIndex[U[S]]]=D}for(D=0;D<m.edgeSize;D++){var Q=f[D],j={};j.id=Q.data("id"),j.sourceId=Q.data("source"),j.targetId=Q.data("target");var ee=kn(l.idealEdgeLength)?l.idealEdgeLength(Q):l.idealEdgeLength,Y=kn(l.edgeElasticity)?l.edgeElasticity(Q):l.edgeElasticity,se=m.idToIndex[j.sourceId],te=m.idToIndex[j.targetId];if(m.indexToGraph[se]!=m.indexToGraph[te]){for(var pe=gp(j.sourceId,j.targetId,m),De=m.graphSet[pe],he=0,A=m.layoutNodes[se];-1===De.indexOf(A.id);)A=m.layoutNodes[m.idToIndex[A.parentId]],he++;for(A=m.layoutNodes[te];-1===De.indexOf(A.id);)A=m.layoutNodes[m.idToIndex[A.parentId]],he++;ee*=he*l.nestingFactor}j.idealLength=ee,j.elasticity=Y,m.layoutEdges.push(j)}return m},gp=function(i,a,l){var f=md(i,a,0,l);return 2>f.count?0:f.graph},md=function s(i,a,l,f){var h=f.graphSet[l];if(-1<h.indexOf(i)&&-1<h.indexOf(a))return{count:2,graph:l};for(var p=0,m=0;m<h.length;m++){var D=f.layoutNodes[f.idToIndex[h[m]]].children;if(0!==D.length){var S=s(i,a,f.indexToGraph[f.idToIndex[D[0]]],f);if(0!==S.count){if(1!==S.count)return S;if(2==++p)break}}}return{count:p,graph:l}},yd=function(i,a){for(var l=i.clientWidth,f=i.clientHeight,h=0;h<i.nodeSize;h++){var p=i.layoutNodes[h];0===p.children.length&&!p.isLocked&&(p.positionX=Math.random()*l,p.positionY=Math.random()*f)}},Pf=function(i,a,l){var f=i.boundingBox,h={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return a.boundingBox&&(l.forEach(function(p){var m=i.layoutNodes[i.idToIndex[p.data("id")]];h.x1=Math.min(h.x1,m.positionX),h.x2=Math.max(h.x2,m.positionX),h.y1=Math.min(h.y1,m.positionY),h.y2=Math.max(h.y2,m.positionY)}),h.w=h.x2-h.x1,h.h=h.y2-h.y1),function(p,m){var b=i.layoutNodes[i.idToIndex[p.data("id")]];return a.boundingBox?{x:f.x1+(b.positionX-h.x1)/h.w*f.w,y:f.y1+(b.positionY-h.y1)/h.h*f.h}:{x:b.positionX,y:b.positionY}}},kf=function(i,a,l){var f=l.layout,h=l.eles.nodes(),p=Pf(i,l,h);h.positions(p),!0!==i.ready&&(i.ready=!0,f.one("layoutready",l.ready),f.emit({type:"layoutready",layout:this}))},qs=function(i,a,l){Wa(i,a),Dd(i),Ff(i,a),vp(i),mp(i)},Wa=function(i,a){for(var l=0;l<i.graphSet.length;l++)for(var f=i.graphSet[l],h=f.length,p=0;p<h;p++)for(var m=i.layoutNodes[i.idToIndex[f[p]]],b=p+1;b<h;b++)bd(m,i.layoutNodes[i.idToIndex[f[b]]],i,a)},wd=function(i){return-i+2*i*Math.random()},bd=function(i,a,l,f){if(i.cmptId===a.cmptId||l.isCompound){var m=a.positionX-i.positionX,b=a.positionY-i.positionY;0===m&&0===b&&(m=wd(1),b=wd(1));var D=Kl(i,a,m,b);if(D>0)var M=(E=f.nodeOverlap*D)*m/(S=Math.sqrt(m*m+b*b)),x=E*b/S;else{var E,R=Hi(i,m,b),A=Hi(a,-1*m,-1*b),N=A.x-R.x,P=A.y-R.y,k=N*N+P*P,S=Math.sqrt(k);M=(E=(i.nodeRepulsion+a.nodeRepulsion)/k)*N/S,x=E*P/S}i.isLocked||(i.offsetX-=M,i.offsetY-=x),a.isLocked||(a.offsetX+=M,a.offsetY+=x)}},Kl=function(i,a,l,f){if(l>0)var h=i.maxX-a.minX;else h=a.maxX-i.minX;if(f>0)var p=i.maxY-a.minY;else p=a.maxY-i.minY;return h>=0&&p>=0?Math.sqrt(h*h+p*p):0},Hi=function(i,a,l){var f=i.positionX,h=i.positionY,p=i.height||1,m=i.width||1,b=l/a,y=p/m,D={};return 0===a&&0<l||0===a&&0>l?(D.x=f,D.y=h+p/2,D):0<a&&-1*y<=b&&b<=y?(D.x=f+m/2,D.y=h+m*l/2/a,D):0>a&&-1*y<=b&&b<=y?(D.x=f-m/2,D.y=h-m*l/2/a,D):0<l&&(b<=-1*y||b>=y)?(D.x=f+p*a/2/l,D.y=h+p/2,D):(0>l&&(b<=-1*y||b>=y)&&(D.x=f-p*a/2/l,D.y=h-p/2),D)},Dd=function(i,a){for(var l=0;l<i.edgeSize;l++){var f=i.layoutEdges[l],p=i.layoutNodes[i.idToIndex[f.sourceId]],b=i.layoutNodes[i.idToIndex[f.targetId]],y=b.positionX-p.positionX,D=b.positionY-p.positionY;if(0!==y||0!==D){var E=Hi(p,y,D),S=Hi(b,-1*y,-1*D),M=S.x-E.x,x=S.y-E.y,R=Math.sqrt(M*M+x*x),A=Math.pow(f.idealLength-R,2)/f.elasticity;if(0!==R)var N=A*M/R,P=A*x/R;else N=0,P=0;p.isLocked||(p.offsetX+=N,p.offsetY+=P),b.isLocked||(b.offsetX-=N,b.offsetY-=P)}}},Ff=function(i,a){if(0!==a.gravity)for(var f=0;f<i.graphSet.length;f++){var h=i.graphSet[f],p=h.length;if(0===f)var m=i.clientHeight/2,b=i.clientWidth/2;else{var D=i.layoutNodes[i.idToIndex[i.layoutNodes[i.idToIndex[h[0]]].parentId]];m=D.positionX,b=D.positionY}for(var E=0;E<p;E++){var S=i.layoutNodes[i.idToIndex[h[E]]];if(!S.isLocked){var M=m-S.positionX,x=b-S.positionY,R=Math.sqrt(M*M+x*x);if(R>1){var N=a.gravity*x/R;S.offsetX+=a.gravity*M/R,S.offsetY+=N}}}}},vp=function(i,a){var l=[],f=0,h=-1;for(l.push.apply(l,i.graphSet[0]),h+=i.graphSet[0].length;f<=h;){var p=l[f++],b=i.layoutNodes[i.idToIndex[p]],y=b.children;if(0<y.length&&!b.isLocked){for(var D=b.offsetX,E=b.offsetY,S=0;S<y.length;S++){var M=i.layoutNodes[i.idToIndex[y[S]]];M.offsetX+=D,M.offsetY+=E,l[++h]=y[S]}b.offsetX=0,b.offsetY=0}}},mp=function(i,a){for(var l=0;l<i.nodeSize;l++)0<(f=i.layoutNodes[l]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(l=0;l<i.nodeSize;l++)if(!(0<(f=i.layoutNodes[l]).children.length||f.isLocked)){var h=Hu(f.offsetX,f.offsetY,i.temperature);f.positionX+=h.x,f.positionY+=h.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,Yl(f,i)}for(l=0;l<i.nodeSize;l++){var f;0<(f=i.layoutNodes[l]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},Hu=function(i,a,l){var f=Math.sqrt(i*i+a*a);if(f>l)var h={x:l*i/f,y:l*a/f};else h={x:i,y:a};return h},Yl=function s(i,a){var l=i.parentId;if(null!=l){var f=a.layoutNodes[a.idToIndex[l]],h=!1;if((null==f.maxX||i.maxX+f.padRight>f.maxX)&&(f.maxX=i.maxX+f.padRight,h=!0),(null==f.minX||i.minX-f.padLeft<f.minX)&&(f.minX=i.minX-f.padLeft,h=!0),(null==f.maxY||i.maxY+f.padBottom>f.maxY)&&(f.maxY=i.maxY+f.padBottom,h=!0),(null==f.minY||i.minY-f.padTop<f.minY)&&(f.minY=i.minY-f.padTop,h=!0),h)return s(f,a)}},Ma=function(i,a){for(var l=i.layoutNodes,f=[],h=0;h<l.length;h++){var p=l[h],m=p.cmptId;(f[m]=f[m]||[]).push(p)}var y=0;for(h=0;h<f.length;h++)if(D=f[h]){D.x1=1/0,D.x2=-1/0,D.y1=1/0,D.y2=-1/0;for(var E=0;E<D.length;E++){var S=D[E];D.x1=Math.min(D.x1,S.positionX-S.width/2),D.x2=Math.max(D.x2,S.positionX+S.width/2),D.y1=Math.min(D.y1,S.positionY-S.height/2),D.y2=Math.max(D.y2,S.positionY+S.height/2)}D.w=D.x2-D.x1,D.h=D.y2-D.y1,y+=D.w*D.h}f.sort(function(P,k){return k.w*k.h-P.w*P.h});var M=0,x=0,R=0,A=0,N=Math.sqrt(y)*i.clientWidth/i.clientHeight;for(h=0;h<f.length;h++){var D;if(D=f[h]){for(E=0;E<D.length;E++)(S=D[E]).isLocked||(S.positionX+=M-D.x1,S.positionY+=x-D.y1);M+=D.w+a.componentSpacing,R+=D.w+a.componentSpacing,A=Math.max(A,D.h),R>N&&(x+=A+a.componentSpacing,M=0,R=0,A=0)}}},yp={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(i){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function Uu(s){this.options=It({},yp,s)}Uu.prototype.run=function(){var s=this.options,i=s,a=s.cy,l=i.eles,f=l.nodes().not(":parent");i.sort&&(f=f.sort(i.sort));var h=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()});if(0===h.h||0===h.w)l.nodes().layoutPositions(this,i,function(Ae){return{x:h.x1,y:h.y1}});else{var p=f.size(),m=Math.sqrt(p*h.h/h.w),b=Math.round(m),y=Math.round(h.w/h.h*m),D=function(Fe){if(null==Fe)return Math.min(b,y);Math.min(b,y)==b?b=Fe:y=Fe},E=function(Fe){if(null==Fe)return Math.max(b,y);Math.max(b,y)==b?b=Fe:y=Fe},S=i.rows,M=null!=i.cols?i.cols:i.columns;if(null!=S&&null!=M)b=S,y=M;else if(null!=S&&null==M)b=S,y=Math.ceil(p/b);else if(null==S&&null!=M)y=M,b=Math.ceil(p/y);else if(y*b>p){var x=D(),R=E();(x-1)*R>=p?D(x-1):(R-1)*x>=p&&E(R-1)}else for(;y*b<p;){var A=D(),N=E();(N+1)*A>=p?E(N+1):D(A+1)}var P=h.w/y,k=h.h/b;if(i.condense&&(P=0,k=0),i.avoidOverlap)for(var V=0;V<f.length;V++){var q=f[V],K=q._private.position;(null==K.x||null==K.y)&&(K.x=0,K.y=0);var $=q.layoutDimensions(i),Z=i.avoidOverlapPadding,X=$.h+Z;P=Math.max(P,$.w+Z),k=Math.max(k,X)}for(var Q={},j=function(Fe,Me){return!!Q["c-"+Fe+"-"+Me]},ee=function(Fe,Me){Q["c-"+Fe+"-"+Me]=!0},Y=0,se=0,te=function(){++se>=y&&(se=0,Y++)},ne={},fe=0;fe<f.length;fe++){var pe=f[fe],De=i.position(pe);if(De&&(void 0!==De.row||void 0!==De.col)){var he={row:De.row,col:De.col};if(void 0===he.col)for(he.col=0;j(he.row,he.col);)he.col++;else if(void 0===he.row)for(he.row=0;j(he.row,he.col);)he.row++;ne[pe.id()]=he,ee(he.row,he.col)}}f.layoutPositions(this,i,function(Fe,Me){var Ie,ce;if(Fe.locked()||Fe.isParent())return!1;var Re=ne[Fe.id()];if(Re)Ie=Re.col*P+P/2+h.x1,ce=Re.row*k+k/2+h.y1;else{for(;j(Y,se);)te();Ie=se*P+P/2+h.x1,ce=Y*k+k/2+h.y1,ee(Y,se),te()}return{x:Ie,y:ce}})}return this};var wp={ready:function(){},stop:function(){}};function zu(s){this.options=It({},wp,s)}zu.prototype.run=function(){var s=this.options,i=s.eles,a=this;return a.emit("layoutstart"),i.nodes().positions(function(){return{x:0,y:0}}),a.one("layoutready",s.ready),a.emit("layoutready"),a.one("layoutstop",s.stop),a.emit("layoutstop"),this},zu.prototype.stop=function(){return this};var ju={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function kt(s){this.options=It({},ju,s)}kt.prototype.run=function(){var s=this.options,a=s.eles.nodes(),l=kn(s.positions);return a.layoutPositions(this,s,function(h,p){var m=function f(h){return null==s.positions?function(i){return{x:i.x,y:i.y}}(h.position()):l?s.positions(h):s.positions[h._private.data.id]??null}(h);return!h.locked()&&null!=m&&m}),this};var Lf={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function Gu(s){this.options=It({},Lf,s)}Gu.prototype.run=function(){var s=this.options,i=s.cy,a=s.eles,l=fo(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});return a.nodes().layoutPositions(this,s,function(p,m){return{x:l.x1+Math.round(Math.random()*l.w),y:l.y1+Math.round(Math.random()*l.h)}}),this};var ta=[{name:"breadthfirst",impl:gd},{name:"circle",impl:vd},{name:"concentric",impl:$u},{name:"cose",impl:ea},{name:"grid",impl:Uu},{name:"null",impl:zu},{name:"preset",impl:kt},{name:"random",impl:Gu}];function bp(s){this.options=s,this.notifications=0}var ms=function(){},Xl=function(){throw new Error("A headless instance can not render images")};bp.prototype={recalculateRenderedStyle:ms,notify:function(){this.notifications++},init:ms,isHeadless:function(){return!0},png:Xl,jpg:Xl};var Fr={arrowShapeWidth:.3,registerArrowShapes:function(){var s=this.arrowShapes={},i=this,a=function(y,D,E,S,M,x,R){return M.x-E/2-R<=y&&y<=M.x+E/2+R&&M.y-E/2-R<=D&&D<=M.y+E/2+R},l=function(y,D,E,S,M){var x=y*Math.cos(S)-D*Math.sin(S),R=y*Math.sin(S)+D*Math.cos(S);return{x:x*E+M.x,y:R*E+M.y}},f=function(y,D,E,S){for(var M=[],x=0;x<y.length;x+=2)M.push(l(y[x],y[x+1],D,E,S));return M},h=function(y){for(var D=[],E=0;E<y.length;E++){var S=y[E];D.push(S.x,S.y)}return D},p=function(y){return y.pstyle("width").pfValue*y.pstyle("arrow-scale").pfValue*2},m=function(y,D){Je(D)&&(D=s[D]),s[y]=It({name:y,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(S,M,x,R,A,N){var P=h(f(this.points,x+2*N,R,A));return ai(S,M,P)},roughCollide:a,draw:function(S,M,x,R){var A=f(this.points,M,x,R);i.arrowShapeImpl("polygon")(S,A)},spacing:function(S){return 0},gap:p},D)};m("none",{collide:Dl,roughCollide:Dl,draw:uf,spacing:Ah,gap:Ah}),m("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),m("arrow","triangle"),m("triangle-backcurve",{points:s.triangle.points,controlPoint:[0,-.15],roughCollide:a,draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=this.controlPoint,A=l(R[0],R[1],D,E,S);i.arrowShapeImpl(this.name)(y,x,A)},gap:function(y){return.8*p(y)}}),m("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(y,D,E,S,M,x,R){var A=h(f(this.points,E+2*R,S,M)),N=h(f(this.pointsTee,E+2*R,S,M));return ai(y,D,A)||ai(y,D,N)},draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=f(this.pointsTee,D,E,S);i.arrowShapeImpl(this.name)(y,x,R)}}),m("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(y,D,E,S,M,x,R){var A=M,N=Math.pow(A.x-y,2)+Math.pow(A.y-D,2)<=Math.pow((E+2*R)*this.radius,2),P=h(f(this.points,E+2*R,S,M));return ai(y,D,P)||N},draw:function(y,D,E,S,M){var x=f(this.pointsTr,D,E,S);i.arrowShapeImpl(this.name)(y,x,S.x,S.y,this.radius*D)},spacing:function(y){return i.getArrowWidth(y.pstyle("width").pfValue,y.pstyle("arrow-scale").value)*this.radius}}),m("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(y,D){var E=this.baseCrossLinePts.slice(),S=D/y;return E[3]=E[3]-S,E[5]=E[5]-S,E},collide:function(y,D,E,S,M,x,R){var A=h(f(this.points,E+2*R,S,M)),N=h(f(this.crossLinePts(E,x),E+2*R,S,M));return ai(y,D,A)||ai(y,D,N)},draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=f(this.crossLinePts(D,M),D,E,S);i.arrowShapeImpl(this.name)(y,x,R)}}),m("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(y){return.525*p(y)}}),m("circle",{radius:.15,collide:function(y,D,E,S,M,x,R){var A=M;return Math.pow(A.x-y,2)+Math.pow(A.y-D,2)<=Math.pow((E+2*R)*this.radius,2)},draw:function(y,D,E,S,M){i.arrowShapeImpl(this.name)(y,S.x,S.y,this.radius*D)},spacing:function(y){return i.getArrowWidth(y.pstyle("width").pfValue,y.pstyle("arrow-scale").value)*this.radius}}),m("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(y){return 1},gap:function(y){return 1}}),m("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),m("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(y){return y.pstyle("width").pfValue*y.pstyle("arrow-scale").value}}),m("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(y){return.95*y.pstyle("width").pfValue*y.pstyle("arrow-scale").value}})}},qu={projectIntoViewport:function(s,i){var a=this.cy,l=this.findContainerClientCoords(),f=l[0],h=l[1],p=l[4],m=a.pan(),b=a.zoom();return[((s-f)/p-m.x)/b,((i-h)/p-m.y)/b]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var s=this.container,i=s.getBoundingClientRect(),a=this.cy.window().getComputedStyle(s),l=function(N){return parseFloat(a.getPropertyValue(N))},f_left=l("padding-left"),f_right=l("padding-right"),f_top=l("padding-top"),f_bottom=l("padding-bottom"),h_left=l("border-left-width"),h_right=l("border-right-width"),h_top=l("border-top-width"),p=(l("border-bottom-width"),s.clientWidth);return this.containerBB=[i.left+f_left+h_left,i.top+f_top+h_top,p-(f_left+f_right),s.clientHeight-(f_top+f_bottom),i.width/(p+(h_left+h_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(s,i,a,l){return this.findNearestElements(s,i,a,l)[0]},findNearestElements:function(s,i,a,l){var x,R,f=this,h=this,p=h.getCachedZSortedEles(),m=[],b=h.cy.zoom(),y=h.cy.hasCompoundNodes(),D=(l?24:8)/b,E=(l?8:2)/b,S=(l?8:2)/b,M=1/0;function A($,Z){if($.isNode()){if(R)return;R=$,m.push($)}if($.isEdge()&&(null==Z||Z<M))if(x){if(x.pstyle("z-compound-depth").value===$.pstyle("z-compound-depth").value&&x.pstyle("z-compound-depth").value===$.pstyle("z-compound-depth").value)for(var U=0;U<m.length;U++)if(m[U].isEdge()){m[U]=$,x=$,M=Z??M;break}}else m.push($),x=$,M=Z??M}function N($){var Z=$.outerWidth()+2*E,U=$.outerHeight()+2*E,X=Z/2,Q=U/2,j=$.position();if(j.x-X<=s&&s<=j.x+X&&j.y-Q<=i&&i<=j.y+Q&&h.nodeShapes[f.getNodeShape($)].checkPoint(s,i,0,Z,U,j.x,j.y))return A($,0),!0}function P($){var se,Z=$._private,U=Z.rscratch,X=$.pstyle("width").pfValue,Q=$.pstyle("arrow-scale").value,j=X/2+D,ee=j*j,Y=2*j,fe=Z.source,pe=Z.target;if("segments"===U.edgeType||"straight"===U.edgeType||"haystack"===U.edgeType){for(var te=U.allpts,ne=0;ne+3<te.length;ne+=2)if(Ti(s,i,te[ne],te[ne+1],te[ne+2],te[ne+3],Y)&&ee>(se=Ro(s,i,te[ne],te[ne+1],te[ne+2],te[ne+3])))return A($,se),!0}else if("bezier"===U.edgeType||"multibezier"===U.edgeType||"self"===U.edgeType||"compound"===U.edgeType)for(te=U.allpts,ne=0;ne+5<U.allpts.length;ne+=4)if(po(s,i,te[ne],te[ne+1],te[ne+2],te[ne+3],te[ne+4],te[ne+5],Y)&&ee>(se=Vc(s,i,te[ne],te[ne+1],te[ne+2],te[ne+3],te[ne+4],te[ne+5])))return A($,se),!0;fe=fe||Z.source,pe=pe||Z.target;var De=f.getArrowWidth(X,Q),he=[{name:"source",x:U.arrowStartX,y:U.arrowStartY,angle:U.srcArrowAngle},{name:"target",x:U.arrowEndX,y:U.arrowEndY,angle:U.tgtArrowAngle},{name:"mid-source",x:U.midX,y:U.midY,angle:U.midsrcArrowAngle},{name:"mid-target",x:U.midX,y:U.midY,angle:U.midtgtArrowAngle}];for(ne=0;ne<he.length;ne++){var be=he[ne],Ae=h.arrowShapes[$.pstyle(be.name+"-arrow-shape").value],Fe=$.pstyle("width").pfValue;if(Ae.roughCollide(s,i,De,be.angle,{x:be.x,y:be.y},Fe,D)&&Ae.collide(s,i,De,be.angle,{x:be.x,y:be.y},Fe,D))return A($),!0}y&&m.length>0&&(N(fe),N(pe))}function k($,Z,U){return lo($,Z,U)}function V($,Z){var Q,U=$._private,X=S;Q=Z?Z+"-":"",$.boundingBox();var j=U.labelBounds[Z||"main"],ee=$.pstyle(Q+"label").value;if("yes"===$.pstyle("text-events").strValue&&ee){var se=k(U.rscratch,"labelX",Z),te=k(U.rscratch,"labelY",Z),ne=k(U.rscratch,"labelAngle",Z),fe=$.pstyle(Q+"text-margin-x").pfValue,pe=$.pstyle(Q+"text-margin-y").pfValue,De=j.x1-X-fe,he=j.x2+X-fe,be=j.y1-X-pe,Ae=j.y2+X-pe;if(ne){var Fe=Math.cos(ne),Me=Math.sin(ne),Ie=function(Jt,at){return{x:(Jt-=se)*Fe-(at-=te)*Me+se,y:Jt*Me+at*Fe+te}},ce=Ie(De,be),Re=Ie(De,Ae),Le=Ie(he,be),Ke=Ie(he,Ae);if(ai(s,i,[ce.x+fe,ce.y+pe,Le.x+fe,Le.y+pe,Ke.x+fe,Ke.y+pe,Re.x+fe,Re.y+pe]))return A($),!0}else if(Ml(j,s,i))return A($),!0}}a&&(p=p.interactive);for(var q=p.length-1;q>=0;q--){var K=p[q];K.isNode()?N(K)||V(K):P(K)||V(K)||V(K,"source")||V(K,"target")}return m},getAllInBox:function(s,i,a,l){for(var f=this.getCachedZSortedEles().interactive,h=[],p=Math.min(s,a),m=Math.max(s,a),b=Math.min(i,l),y=Math.max(i,l),D=fo({x1:s=p,y1:i=b,x2:a=m,y2:l=y}),E=0;E<f.length;E++){var S=f[E];if(S.isNode()){var M=S,x=M.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Ft(D,x)&&!Vh(x,D)&&h.push(M)}else{var R=S,A=R._private,N=A.rscratch;if(null!=N.startX&&null!=N.startY&&!Ml(D,N.startX,N.startY)||null!=N.endX&&null!=N.endY&&!Ml(D,N.endX,N.endY))continue;if("bezier"===N.edgeType||"multibezier"===N.edgeType||"self"===N.edgeType||"compound"===N.edgeType||"segments"===N.edgeType||"haystack"===N.edgeType){for(var P=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,k=!0,V=0;V<P.length;V++)if(!zm(D,P[V])){k=!1;break}k&&h.push(R)}else("haystack"===N.edgeType||"straight"===N.edgeType)&&h.push(R)}}return h}},Ql={calculateArrowAngles:function(s){var b,y,D,E,S,M,i=s._private.rscratch,a="haystack"===i.edgeType,l="bezier"===i.edgeType,f="multibezier"===i.edgeType,h="segments"===i.edgeType,p="compound"===i.edgeType,m="self"===i.edgeType;a?(D=i.haystackPts[0],E=i.haystackPts[1],S=i.haystackPts[2],M=i.haystackPts[3]):(D=i.arrowStartX,E=i.arrowStartY,S=i.arrowEndX,M=i.arrowEndY),N=i.midX,P=i.midY,h?(b=D-i.segpts[0],y=E-i.segpts[1]):f||p||m||l?(b=D-oi((x=i.allpts)[0],x[2],x[4],.1),y=E-oi(x[1],x[3],x[5],.1)):(b=D-N,y=E-P),i.srcArrowAngle=Fc(b,y);var N=i.midX,P=i.midY;if(a&&(N=(D+S)/2,P=(E+M)/2),b=S-D,y=M-E,h)if((x=i.allpts).length/2%2==0)b=x[k=x.length/2]-x[V=k-2],y=x[k+1]-x[V+1];else{var k,V,q=2+(k=x.length/2-1);b=x[k]-x[V=k-2],y=x[k+1]-x[V+1]}else if(f||p||m){var $,Z,U,X,j,Q,ee,x=i.allpts;i.ctrlpts.length/2%2==0?($=oi(x[Q=x.length/2-1],x[j=Q+2],x[ee=j+2],0),Z=oi(x[Q+1],x[j+1],x[ee+1],0),U=oi(x[Q],x[j],x[ee],1e-4),X=oi(x[Q+1],x[j+1],x[ee+1],1e-4)):($=oi(x[Q=(j=x.length/2-1)-2],x[j],x[ee=j+2],.4999),Z=oi(x[Q+1],x[j+1],x[ee+1],.4999),U=oi(x[Q],x[j],x[ee],.5),X=oi(x[Q+1],x[j+1],x[ee+1],.5)),b=U-$,y=X-Z}if(i.midtgtArrowAngle=Fc(b,y),i.midDispX=b,i.midDispY=y,b*=-1,y*=-1,h&&(x=i.allpts).length/2%2!=0&&(b=-(x[q=2+(k=x.length/2-1)]-x[k]),y=-(x[q+1]-x[k+1])),i.midsrcArrowAngle=Fc(b,y),h)b=S-i.segpts[i.segpts.length-2],y=M-i.segpts[i.segpts.length-1];else if(f||p||m||l){var Y=(x=i.allpts).length;b=S-oi(x[Y-6],x[Y-4],x[Y-2],.9),y=M-oi(x[Y-5],x[Y-3],x[Y-1],.9)}else b=S-N,y=M-P;i.tgtArrowAngle=Fc(b,y)}};Ql.getArrowWidth=Ql.getArrowHeight=function(s,i){var a=this.arrowWidthCache=this.arrowWidthCache||{},l=a[s+", "+i];return l||(l=Math.max(Math.pow(13.37*s,.9),29)*i,a[s+", "+i]=l,l)};var hi={};function Dp(s){var i=[];if(null!=s){for(var a=0;a<s.length;a+=2)i.push({x:s[a],y:s[a+1]});return i}}hi.findMidptPtsEtc=function(s,i){var h,U,X,Q,a=i.posPts,l=i.intersectionPts,f=i.vectorNormInverse,p=s.pstyle("source-endpoint"),m=s.pstyle("target-endpoint"),b=null!=p.units&&null!=m.units;switch(s.pstyle("edge-distances").value){case"node-position":h=a;break;case"intersection":h=l;break;case"endpoints":if(b){var S=cn(this.manualEndptToPx(s.source()[0],p),2),M=S[0],x=S[1],A=cn(this.manualEndptToPx(s.target()[0],m),2),N=A[0],P=A[1],k={x1:M,y1:x,x2:N,y2:P};X=N-M,f={x:-(U=P-x)/(Q=Math.sqrt(X*X+U*U)),y:X/Q},h=k}else Ut("Edge ".concat(s.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),h=l}return{midptPts:h,vectorNormInverse:f}},hi.findHaystackPoints=function(s){for(var i=0;i<s.length;i++){var a=s[i],l=a._private,f=l.rscratch;if(!f.haystack){var h=2*Math.random()*Math.PI;f.source={x:Math.cos(h),y:Math.sin(h)},h=2*Math.random()*Math.PI,f.target={x:Math.cos(h),y:Math.sin(h)}}var p=l.source,m=l.target,b=p.position(),y=m.position(),D=p.width(),E=m.width(),S=p.height(),M=m.height(),R=a.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*D*R+b.x,f.source.y*S*R+b.y,f.target.x*E*R+y.x,f.target.y*M*R+y.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(a),this.calculateArrowAngles(a),this.recalculateEdgeLabelProjections(a),this.calculateLabelAngles(a)}},hi.findSegmentsPoints=function(s,i){var a=s._private.rscratch,l=s.pstyle("segment-weights"),f=s.pstyle("segment-distances"),h=Math.min(l.pfValue.length,f.pfValue.length);a.edgeType="segments",a.segpts=[];for(var p=0;p<h;p++){var m=l.pfValue[p],b=f.pfValue[p],y=1-m,D=m,E=this.findMidptPtsEtc(s,i),S=E.midptPts,M=E.vectorNormInverse,x={x:S.x1*y+S.x2*D,y:S.y1*y+S.y2*D};a.segpts.push(x.x+M.x*b,x.y+M.y*b)}},hi.findLoopPoints=function(s,i,a,l){var f=s._private.rscratch,h=i.dirCounts,p=i.srcPos,m=s.pstyle("control-point-distances"),b=m?m.pfValue[0]:void 0,y=s.pstyle("loop-direction").pfValue,D=s.pstyle("loop-sweep").pfValue,E=s.pstyle("control-point-step-size").pfValue;f.edgeType="self";var S=a,M=E;l&&(S=0,M=b);var x=y-Math.PI/2,R=x-D/2,A=x+D/2,N=y+"_"+D;S=void 0===h[N]?h[N]=0:++h[N],f.ctrlpts=[p.x+1.4*Math.cos(R)*M*(S/3+1),p.y+1.4*Math.sin(R)*M*(S/3+1),p.x+1.4*Math.cos(A)*M*(S/3+1),p.y+1.4*Math.sin(A)*M*(S/3+1)]},hi.findCompoundLoopPoints=function(s,i,a,l){var f=s._private.rscratch;f.edgeType="compound";var h=i.srcPos,p=i.tgtPos,m=i.srcW,b=i.srcH,y=i.tgtW,D=i.tgtH,E=s.pstyle("control-point-step-size").pfValue,S=s.pstyle("control-point-distances"),x=a,R=E;l&&(x=0,R=S?S.pfValue[0]:void 0);var N={x:h.x-m/2,y:h.y-b/2},P={x:p.x-y/2,y:p.y-D/2},k={x:Math.min(N.x,P.x),y:Math.min(N.y,P.y)},q=Math.max(.5,Math.log(.01*m)),K=Math.max(.5,Math.log(.01*y));f.ctrlpts=[k.x,k.y-(1+Math.pow(50,1.12)/100)*R*(x/3+1)*q,k.x-(1+Math.pow(50,1.12)/100)*R*(x/3+1)*K,k.y]},hi.findStraightEdgePoints=function(s){s._private.rscratch.edgeType="straight"},hi.findBezierPoints=function(s,i,a,l,f){var h=s._private.rscratch,p=s.pstyle("control-point-step-size").pfValue,m=s.pstyle("control-point-distances"),b=s.pstyle("control-point-weights"),y=m&&b?Math.min(m.value.length,b.value.length):1,D=m?m.pfValue[0]:void 0,E=b.value[0],S=l;h.edgeType=S?"multibezier":"bezier",h.ctrlpts=[];for(var M=0;M<y;M++){var R,x=(.5-i.eles.length/2+a)*p*(f?-1:1),A=ff(x);S&&(D=m?m.pfValue[M]:p,E=b.value[M]);var N=void 0!==(R=l?D:void 0!==D?A*D:void 0)?R:x,P=1-E,k=E,V=this.findMidptPtsEtc(s,i),q=V.midptPts,K=V.vectorNormInverse,$={x:q.x1*P+q.x2*k,y:q.y1*P+q.y2*k};h.ctrlpts.push($.x+K.x*N,$.y+K.y*N)}},hi.findTaxiPoints=function(s,i){var a=s._private.rscratch;a.edgeType="segments";var l="vertical",f="horizontal",h="leftward",p="rightward",m="downward",b="upward",D=i.posPts,E=i.srcW,S=i.srcH,M=i.tgtW,x=i.tgtH,A="node-position"!==s.pstyle("edge-distances").value,N=s.pstyle("taxi-direction").value,P=N,k=s.pstyle("taxi-turn"),V="%"===k.units,q=k.pfValue,K=q<0,$=s.pstyle("taxi-turn-min-distance").pfValue,U=A?(S+x)/2:0,X=D.x2-D.x1,Q=D.y2-D.y1,j=function($e,st){return $e>0?Math.max($e-st,0):Math.min($e+st,0)},ee=j(X,A?(E+M)/2:0),Y=j(Q,U),se=!1;"auto"===P?N=Math.abs(ee)>Math.abs(Y)?f:l:P===b||P===m?(N=l,se=!0):(P===h||P===p)&&(N=f,se=!0);var he,te=N===l,ne=te?Y:ee,fe=te?Q:X,pe=ff(fe),De=!1;(!se||!V&&!K)&&(P===m&&fe<0||P===b&&fe>0||P===h&&fe>0||P===p&&fe<0)&&(ne=(pe*=-1)*Math.abs(ne),De=!0);var Fe=function($e){return Math.abs($e)<$||Math.abs($e)>=Math.abs(ne)},Me=Fe(he=V?(q<0?1+q:q)*ne:(q<0?ne:0)+q*pe),Ie=Fe(Math.abs(ne)-Math.abs(he));if(!Me&&!Ie||De)if(te){var Be=D.y1+he+(A?S/2*pe:0);a.segpts=[D.x1,Be,D.x2,Be]}else{var He=D.x1+he+(A?E/2*pe:0);a.segpts=[He,D.y1,He,D.y2]}else if(te){var Re=Math.abs(fe)<=S/2,Le=Math.abs(X)<=M/2;if(Re){var Ke=(D.x1+D.x2)/2;a.segpts=[Ke,D.y1,Ke,D.y2]}else if(Le){var Jt=(D.y1+D.y2)/2;a.segpts=[D.x1,Jt,D.x2,Jt]}else a.segpts=[D.x1,D.y2]}else{var ze=Math.abs(fe)<=E/2,mt=Math.abs(Q)<=x/2;if(ze){var Ye=(D.y1+D.y2)/2;a.segpts=[D.x1,Ye,D.x2,Ye]}else if(mt){var zt=(D.x1+D.x2)/2;a.segpts=[zt,D.y1,zt,D.y2]}else a.segpts=[D.x2,D.y1]}},hi.tryToCorrectInvalidPoints=function(s,i){var a=s._private.rscratch;if("bezier"===a.edgeType){var l=i.srcPos,f=i.tgtPos,h=i.srcW,p=i.srcH,m=i.tgtW,b=i.tgtH,y=i.srcShape,D=i.tgtShape,E=!ot(a.startX)||!ot(a.startY),S=!ot(a.arrowStartX)||!ot(a.arrowStartY),M=!ot(a.endX)||!ot(a.endY),x=!ot(a.arrowEndX)||!ot(a.arrowEndY),N=this.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,P=La({x:a.ctrlpts[0],y:a.ctrlpts[1]},{x:a.startX,y:a.startY}),k=P<N,V=La({x:a.ctrlpts[0],y:a.ctrlpts[1]},{x:a.endX,y:a.endY}),q=V<N,K=!1;if(E||S||k){K=!0;var $={x:a.ctrlpts[0]-l.x,y:a.ctrlpts[1]-l.y},Z=Math.sqrt($.x*$.x+$.y*$.y),U={x:$.x/Z,y:$.y/Z},X=Math.max(h,p),Q={x:a.ctrlpts[0]+2*U.x*X,y:a.ctrlpts[1]+2*U.y*X},j=y.intersectLine(l.x,l.y,h,p,Q.x,Q.y,0);k?(a.ctrlpts[0]=a.ctrlpts[0]+U.x*(N-P),a.ctrlpts[1]=a.ctrlpts[1]+U.y*(N-P)):(a.ctrlpts[0]=j[0]+U.x*N,a.ctrlpts[1]=j[1]+U.y*N)}if(M||x||q){K=!0;var ee={x:a.ctrlpts[0]-f.x,y:a.ctrlpts[1]-f.y},Y=Math.sqrt(ee.x*ee.x+ee.y*ee.y),se={x:ee.x/Y,y:ee.y/Y},te=Math.max(h,p),ne={x:a.ctrlpts[0]+2*se.x*te,y:a.ctrlpts[1]+2*se.y*te},fe=D.intersectLine(f.x,f.y,m,b,ne.x,ne.y,0);q?(a.ctrlpts[0]=a.ctrlpts[0]+se.x*(N-V),a.ctrlpts[1]=a.ctrlpts[1]+se.y*(N-V)):(a.ctrlpts[0]=fe[0]+se.x*N,a.ctrlpts[1]=fe[1]+se.y*N)}K&&this.findEndpoints(s)}},hi.storeAllpts=function(s){var i=s._private.rscratch;if("multibezier"===i.edgeType||"bezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType){i.allpts=[],i.allpts.push(i.startX,i.startY);for(var a=0;a+1<i.ctrlpts.length;a+=2)i.allpts.push(i.ctrlpts[a],i.ctrlpts[a+1]),a+3<i.ctrlpts.length&&i.allpts.push((i.ctrlpts[a]+i.ctrlpts[a+2])/2,(i.ctrlpts[a+1]+i.ctrlpts[a+3])/2);var l;i.allpts.push(i.endX,i.endY),i.ctrlpts.length/2%2==0?(i.midX=i.allpts[l=i.allpts.length/2-1],i.midY=i.allpts[l+1]):(i.midX=oi(i.allpts[l=i.allpts.length/2-3],i.allpts[l+2],i.allpts[l+4],.5),i.midY=oi(i.allpts[l+1],i.allpts[l+3],i.allpts[l+5],.5))}else if("straight"===i.edgeType)i.allpts=[i.startX,i.startY,i.endX,i.endY],i.midX=(i.startX+i.endX+i.arrowStartX+i.arrowEndX)/4,i.midY=(i.startY+i.endY+i.arrowStartY+i.arrowEndY)/4;else if("segments"===i.edgeType)if(i.allpts=[],i.allpts.push(i.startX,i.startY),i.allpts.push.apply(i.allpts,i.segpts),i.allpts.push(i.endX,i.endY),i.segpts.length%4==0){var h=i.segpts.length/2,p=h-2;i.midX=(i.segpts[p]+i.segpts[h])/2,i.midY=(i.segpts[p+1]+i.segpts[h+1])/2}else{var m=i.segpts.length/2-1;i.midX=i.segpts[m],i.midY=i.segpts[m+1]}},hi.checkForInvalidEdgeWarning=function(s){var i=s[0]._private.rscratch;i.nodesOverlap||ot(i.startX)&&ot(i.startY)&&ot(i.endX)&&ot(i.endY)?i.loggedErr=!1:i.loggedErr||(i.loggedErr=!0,Ut("Edge `"+s.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},hi.findEdgeControlPoints=function(s){var i=this;if(s&&0!==s.length){for(var a=this,f=a.cy.hasCompoundNodes(),h={map:new pa,get:function($){var Z=this.map.get($[0]);return null!=Z?Z.get($[1]):null},set:function($,Z){var U=this.map.get($[0]);null==U&&(U=new pa,this.map.set($[0],U)),U.set($[1],Z)}},p=[],m=[],b=0;b<s.length;b++){var y=s[b],D=y._private,E=y.pstyle("curve-style").value;if(!y.removed()&&y.takesUpSpace()){if("haystack"===E){m.push(y);continue}var S="unbundled-bezier"===E||"segments"===E||"straight"===E||"straight-triangle"===E||"taxi"===E,M="unbundled-bezier"===E||"bezier"===E,R=D.target,P=[D.source.poolIndex(),R.poolIndex()].sort(),k=h.get(P);null==k&&(h.set(P,k={eles:[]}),p.push(P)),k.eles.push(y),S&&(k.hasUnbundled=!0),M&&(k.hasBezier=!0)}}for(var V=function($){var U=h.get(p[$]),X=void 0;if(!U.hasUnbundled){var Q=U.eles[0].parallelEdges().filter(function(Hn){return Hn.isBundledBezier()});lf(U.eles),Q.forEach(function(Hn){return U.eles.push(Hn)}),U.eles.sort(function(Hn,Be){return Hn.poolIndex()-Be.poolIndex()})}var j=U.eles[0],ee=j.source(),Y=j.target();if(ee.poolIndex()>Y.poolIndex()){var se=ee;ee=Y,Y=se}var te=U.srcPos=ee.position(),ne=U.tgtPos=Y.position(),fe=U.srcW=ee.outerWidth(),pe=U.srcH=ee.outerHeight(),De=U.tgtW=Y.outerWidth(),he=U.tgtH=Y.outerHeight(),be=U.srcShape=a.nodeShapes[i.getNodeShape(ee)],Ae=U.tgtShape=a.nodeShapes[i.getNodeShape(Y)];U.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Fe=0;Fe<U.eles.length;Fe++){var Me=U.eles[Fe],Ie=Me[0]._private.rscratch,ce=Me.pstyle("curve-style").value,Re="unbundled-bezier"===ce||"segments"===ce||"taxi"===ce,Le=!ee.same(Me.source());if(!U.calculatedIntersection&&ee!==Y&&(U.hasBezier||U.hasUnbundled)){U.calculatedIntersection=!0;var Ke=be.intersectLine(te.x,te.y,fe,pe,ne.x,ne.y,0),tt=U.srcIntn=Ke,Et=Ae.intersectLine(ne.x,ne.y,De,he,te.x,te.y,0),Jt=U.tgtIntn=Et,at=U.intersectionPts={x1:Ke[0],x2:Et[0],y1:Ke[1],y2:Et[1]},Xe=U.posPts={x1:te.x,x2:ne.x,y1:te.y,y2:ne.y},ze=Et[1]-Ke[1],mt=Et[0]-Ke[0],Ye=Math.sqrt(mt*mt+ze*ze),nt=U.vector={x:mt,y:ze},pn=U.vectorNorm={x:nt.x/Ye,y:nt.y/Ye},zt={x:-pn.y,y:pn.x};U.nodesOverlap=!ot(Ye)||Ae.checkPoint(Ke[0],Ke[1],0,De,he,ne.x,ne.y)||be.checkPoint(Et[0],Et[1],0,fe,pe,te.x,te.y),U.vectorNormInverse=zt,X={nodesOverlap:U.nodesOverlap,dirCounts:U.dirCounts,calculatedIntersection:!0,hasBezier:U.hasBezier,hasUnbundled:U.hasUnbundled,eles:U.eles,srcPos:ne,tgtPos:te,srcW:De,srcH:he,tgtW:fe,tgtH:pe,srcIntn:Jt,tgtIntn:tt,srcShape:Ae,tgtShape:be,posPts:{x1:Xe.x2,y1:Xe.y2,x2:Xe.x1,y2:Xe.y1},intersectionPts:{x1:at.x2,y1:at.y2,x2:at.x1,y2:at.y1},vector:{x:-nt.x,y:-nt.y},vectorNorm:{x:-pn.x,y:-pn.y},vectorNormInverse:{x:-zt.x,y:-zt.y}}}var Nt=Le?X:U;Ie.nodesOverlap=Nt.nodesOverlap,Ie.srcIntn=Nt.srcIntn,Ie.tgtIntn=Nt.tgtIntn,f&&(ee.isParent()||ee.isChild()||Y.isParent()||Y.isChild())&&(ee.parents().anySame(Y)||Y.parents().anySame(ee)||ee.same(Y)&&ee.isParent())?i.findCompoundLoopPoints(Me,Nt,Fe,Re):ee===Y?i.findLoopPoints(Me,Nt,Fe,Re):"segments"===ce?i.findSegmentsPoints(Me,Nt):"taxi"===ce?i.findTaxiPoints(Me,Nt):"straight"===ce||!Re&&U.eles.length%2==1&&Fe===Math.floor(U.eles.length/2)?i.findStraightEdgePoints(Me):i.findBezierPoints(Me,Nt,Fe,Re,Le),i.findEndpoints(Me),i.tryToCorrectInvalidPoints(Me,Nt),i.checkForInvalidEdgeWarning(Me),i.storeAllpts(Me),i.storeEdgeProjections(Me),i.calculateArrowAngles(Me),i.recalculateEdgeLabelProjections(Me),i.calculateLabelAngles(Me)}},q=0;q<p.length;q++)V(q);this.findHaystackPoints(m)}},hi.getSegmentPoints=function(s){var i=s[0]._private.rscratch;if("segments"===i.edgeType)return this.recalculateRenderedStyle(s),Dp(i.segpts)},hi.getControlPoints=function(s){var i=s[0]._private.rscratch,a=i.edgeType;if("bezier"===a||"multibezier"===a||"self"===a||"compound"===a)return this.recalculateRenderedStyle(s),Dp(i.ctrlpts)},hi.getEdgeMidpoint=function(s){var i=s[0]._private.rscratch;return this.recalculateRenderedStyle(s),{x:i.midX,y:i.midY}};var Ui={manualEndptToPx:function(s,i){var l=s.position(),f=s.outerWidth(),h=s.outerHeight();if(2===i.value.length){var p=[i.pfValue[0],i.pfValue[1]];return"%"===i.units[0]&&(p[0]=p[0]*f),"%"===i.units[1]&&(p[1]=p[1]*h),p[0]+=l.x,p[1]+=l.y,p}var m=i.pfValue[0];m=-Math.PI/2+m;var b=2*Math.max(f,h),y=[l.x+Math.cos(m)*b,l.y+Math.sin(m)*b];return this.nodeShapes[this.getNodeShape(s)].intersectLine(l.x,l.y,f,h,y[0],y[1],0)},findEndpoints:function(s){var a,X,Q,j,ee,i=this,l=s.source()[0],f=s.target()[0],h=l.position(),p=f.position(),m=s.pstyle("target-arrow-shape").value,b=s.pstyle("source-arrow-shape").value,y=s.pstyle("target-distance-from-node").pfValue,D=s.pstyle("source-distance-from-node").pfValue,E=s.pstyle("curve-style").value,S=s._private.rscratch,M=S.edgeType,R="self"===M||"compound"===M,A="bezier"===M||"multibezier"===M||R,N="bezier"!==M,P="straight"===M||"segments"===M,k="segments"===M,V=A||N||P,q=R||"taxi"===E,K=s.pstyle("source-endpoint"),$=q?"outside-to-node":K.value,Z=s.pstyle("target-endpoint"),U=q?"outside-to-node":Z.value;if(S.srcManEndpt=K,S.tgtManEndpt=Z,A){var Y=[S.ctrlpts[0],S.ctrlpts[1]];X=N?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:Y,Q=Y}else if(P){var te=k?S.segpts.slice(0,2):[p.x,p.y];X=k?S.segpts.slice(S.segpts.length-2):[h.x,h.y],Q=te}if("inside-to-node"===U)a=[p.x,p.y];else if(Z.units)a=this.manualEndptToPx(f,Z);else if("outside-to-line"===U)a=S.tgtIntn;else if("outside-to-node"===U||"outside-to-node-or-label"===U?j=X:("outside-to-line"===U||"outside-to-line-or-label"===U)&&(j=[h.x,h.y]),a=i.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),j[0],j[1],0),"outside-to-node-or-label"===U||"outside-to-line-or-label"===U){var fe=f._private.rscratch,he=fe.labelX,be=fe.labelY,Ae=fe.labelWidth/2,Fe=fe.labelHeight/2,Me=f.pstyle("text-valign").value;"top"===Me?be-=Fe:"bottom"===Me&&(be+=Fe);var Ie=f.pstyle("text-halign").value;"left"===Ie?he-=Ae:"right"===Ie&&(he+=Ae);var ce=Il(j[0],j[1],[he-Ae,be-Fe,he+Ae,be-Fe,he+Ae,be+Fe,he-Ae,be+Fe],p.x,p.y);if(ce.length>0){var Re=h,Le=Yr(Re,Sl(a)),Ke=Yr(Re,Sl(ce)),tt=Le;Ke<Le&&(a=ce,tt=Ke),ce.length>2&&Yr(Re,{x:ce[2],y:ce[3]})<tt&&(a=[ce[2],ce[3]])}}var Jt=Cu(a,X,i.arrowShapes[m].spacing(s)+y),at=Cu(a,X,i.arrowShapes[m].gap(s)+y);if(S.endX=at[0],S.endY=at[1],S.arrowEndX=Jt[0],S.arrowEndY=Jt[1],"inside-to-node"===$)a=[h.x,h.y];else if(K.units)a=this.manualEndptToPx(l,K);else if("outside-to-line"===$)a=S.srcIntn;else if("outside-to-node"===$||"outside-to-node-or-label"===$?ee=Q:("outside-to-line"===$||"outside-to-line-or-label"===$)&&(ee=[p.x,p.y]),a=i.nodeShapes[this.getNodeShape(l)].intersectLine(h.x,h.y,l.outerWidth(),l.outerHeight(),ee[0],ee[1],0),"outside-to-node-or-label"===$||"outside-to-line-or-label"===$){var Xe=l._private.rscratch,Ye=Xe.labelX,nt=Xe.labelY,pn=Xe.labelWidth/2,zt=Xe.labelHeight/2,Nt=l.pstyle("text-valign").value;"top"===Nt?nt-=zt:"bottom"===Nt&&(nt+=zt);var Hn=l.pstyle("text-halign").value;"left"===Hn?Ye-=pn:"right"===Hn&&(Ye+=pn);var Be=Il(ee[0],ee[1],[Ye-pn,nt-zt,Ye+pn,nt-zt,Ye+pn,nt+zt,Ye-pn,nt+zt],h.x,h.y);if(Be.length>0){var G=p,me=Yr(G,Sl(a)),He=Yr(G,Sl(Be)),Ne=me;He<me&&(a=[Be[0],Be[1]],Ne=He),Be.length>2&&Yr(G,{x:Be[2],y:Be[3]})<Ne&&(a=[Be[2],Be[3]])}}var Yt=Cu(a,Q,i.arrowShapes[b].spacing(s)+D),$e=Cu(a,Q,i.arrowShapes[b].gap(s)+D);S.startX=$e[0],S.startY=$e[1],S.arrowStartX=Yt[0],S.arrowStartY=Yt[1],V&&(S.badLine=!(ot(S.startX)&&ot(S.startY)&&ot(S.endX)&&ot(S.endY)))},getSourceEndpoint:function(s){var i=s[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(s),i.edgeType)?{x:i.haystackPts[0],y:i.haystackPts[1]}:{x:i.arrowStartX,y:i.arrowStartY}},getTargetEndpoint:function(s){var i=s[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(s),i.edgeType)?{x:i.haystackPts[2],y:i.haystackPts[3]}:{x:i.arrowEndX,y:i.arrowEndY}}},Bf={};function Cd(s,i,a){for(var l=function(y,D,E,S){return oi(y,D,E,S)},h=i._private.rstyle.bezierPts,p=0;p<s.bezierProjPcts.length;p++){var m=s.bezierProjPcts[p];h.push({x:l(a[0],a[2],a[4],m),y:l(a[1],a[3],a[5],m)})}}Bf.storeEdgeProjections=function(s){var i=s._private,a=i.rscratch,l=a.edgeType;if(i.rstyle.bezierPts=null,i.rstyle.linePts=null,i.rstyle.haystackPts=null,"multibezier"===l||"bezier"===l||"self"===l||"compound"===l){i.rstyle.bezierPts=[];for(var f=0;f+5<a.allpts.length;f+=4)Cd(this,s,a.allpts.slice(f,f+6))}else if("segments"===l){var h=i.rstyle.linePts=[];for(f=0;f+1<a.allpts.length;f+=2)h.push({x:a.allpts[f],y:a.allpts[f+1]})}else if("haystack"===l){var p=a.haystackPts;i.rstyle.haystackPts=[{x:p[0],y:p[1]},{x:p[2],y:p[3]}]}i.rstyle.arrowWidth=this.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.arrowShapeWidth},Bf.recalculateEdgeProjections=function(s){this.findEdgeControlPoints(s)};var Ho={recalculateNodeLabelProjection:function(s){var i=s.pstyle("label").strValue;if(!en(i)){var a,l,f=s._private,h=s.width(),p=s.height(),m=s.padding(),b=s.position(),y=s.pstyle("text-halign").strValue,D=s.pstyle("text-valign").strValue,E=f.rscratch,S=f.rstyle;switch(y){case"left":a=b.x-h/2-m;break;case"right":a=b.x+h/2+m;break;default:a=b.x}switch(D){case"top":l=b.y-p/2-m;break;case"bottom":l=b.y+p/2+m;break;default:l=b.y}E.labelX=a,E.labelY=l,S.labelX=a,S.labelY=l,this.calculateLabelAngles(s),this.applyLabelDimensions(s)}}},na=function(i,a){var l=Math.atan(a/i);return 0===i&&l<0&&(l*=-1),l},ei=function(i,a){return na(a.x-i.x,a.y-i.y)};Ho.recalculateEdgeLabelProjections=function(s){var i,a=s._private,l=a.rscratch,f=this,h={mid:s.pstyle("label").strValue,source:s.pstyle("source-label").strValue,target:s.pstyle("target-label").strValue};if(h.mid||h.source||h.target){var p=function(E,S,M){Fa(a.rscratch,E,S,M),Fa(a.rstyle,E,S,M)};p("labelX",null,(i={x:l.midX,y:l.midY}).x),p("labelY",null,i.y);var m=na(l.midDispX,l.midDispY);p("labelAutoAngle",null,m);var b=function D(){if(D.cache)return D.cache;for(var E=[],S=0;S+5<l.allpts.length;S+=4)E.push({p0:{x:l.allpts[S],y:l.allpts[S+1]},p1:{x:l.allpts[S+2],y:l.allpts[S+3]},p2:{x:l.allpts[S+4],y:l.allpts[S+5]},startDist:0,length:0,segments:[]});var A=a.rstyle.bezierPts,N=f.bezierProjPcts.length;function P($,Z,U,X,Q){var j=La(Z,U),ee=$.segments[$.segments.length-1];$.segments.push({p0:Z,p1:U,t0:X,t1:Q,startDist:ee?ee.startDist+ee.length:0,length:j}),$.length+=j}for(var k=0;k<E.length;k++){var V=E[k],q=E[k-1];q&&(V.startDist=q.startDist+q.length),P(V,V.p0,A[k*N],0,f.bezierProjPcts[0]);for(var K=0;K<N-1;K++)P(V,A[k*N+K],A[k*N+K+1],f.bezierProjPcts[K],f.bezierProjPcts[K+1]);P(V,A[k*N+N-1],V.p2,f.bezierProjPcts[N-1],1)}return D.cache=E},y=function(E){var S,M="source"===E;if(h[E]){var x=s.pstyle(E+"-text-offset").pfValue;switch(l.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var A,R=b(),N=0,P=0,k=0;k<R.length;k++){for(var V=R[M?k:R.length-1-k],q=0;q<V.segments.length;q++){var K=V.segments[M?q:V.segments.length-1-q];if(N=P,(P+=K.length)>=x||k===R.length-1&&q===V.segments.length-1){A={cp:V,segment:K};break}}if(A)break}var Z=A.cp,U=A.segment,X=(x-N)/U.length,Q=U.t1-U.t0,j=M?U.t0+Q*X:U.t1-Q*X;j=Lc(0,j,1),i=Os(Z.p0,Z.p1,Z.p2,j),S=function(i,a,l,f){var h=Lc(0,f-.001,1),p=Lc(0,f+.001,1),m=Os(i,a,l,h),b=Os(i,a,l,p);return ei(m,b)}(Z.p0,Z.p1,Z.p2,j);break;case"straight":case"segments":case"haystack":for(var Y,se,te,ne,ee=0,fe=l.allpts.length,pe=0;pe+3<fe&&(M?(te={x:l.allpts[pe],y:l.allpts[pe+1]},ne={x:l.allpts[pe+2],y:l.allpts[pe+3]}):(te={x:l.allpts[fe-2-pe],y:l.allpts[fe-1-pe]},ne={x:l.allpts[fe-4-pe],y:l.allpts[fe-3-pe]}),se=ee,!((ee+=Y=La(te,ne))>=x));pe+=2);var he=(x-se)/Y;he=Lc(0,he,1),i=function(i,a,l,f){var h_x=a.x-i.x,h_y=a.y-i.y,p=La(i,a);return l=l??0,{x:i.x+h_x/p*(f=f??l*p),y:i.y+h_y/p*f}}(te,ne,he),S=ei(te,ne)}p("labelX",E,i.x),p("labelY",E,i.y),p("labelAutoAngle",E,S)}};y("source"),y("target"),this.applyLabelDimensions(s)}},Ho.applyLabelDimensions=function(s){this.applyPrefixedLabelDimensions(s),s.isEdge()&&(this.applyPrefixedLabelDimensions(s,"source"),this.applyPrefixedLabelDimensions(s,"target"))},Ho.applyPrefixedLabelDimensions=function(s,i){var a=s._private,l=this.getLabelText(s,i),f=this.calculateLabelDimensions(s,l),h=s.pstyle("line-height").pfValue,p=s.pstyle("text-wrap").strValue,m=lo(a.rscratch,"labelWrapCachedLines",i)||[],b="wrap"!==p?1:Math.max(m.length,1),y=f.height/b,D=y*h,E=f.width,S=f.height+(b-1)*(h-1)*y;Fa(a.rstyle,"labelWidth",i,E),Fa(a.rscratch,"labelWidth",i,E),Fa(a.rstyle,"labelHeight",i,S),Fa(a.rscratch,"labelHeight",i,S),Fa(a.rscratch,"labelLineHeight",i,D)},Ho.getLabelText=function(s,i){var a=s._private,f=s.pstyle((i?i+"-":"")+"label").strValue,h=s.pstyle("text-transform").value,p=function(De,he){return he?(Fa(a.rscratch,De,i,he),he):lo(a.rscratch,De,i)};if(!f)return"";"none"==h||("uppercase"==h?f=f.toUpperCase():"lowercase"==h&&(f=f.toLowerCase()));var m=s.pstyle("text-wrap").value;if("wrap"===m){var b=p("labelKey");if(null!=b&&p("labelWrapKey")===b)return p("labelWrapCachedText");for(var D=f.split("\n"),E=s.pstyle("text-max-width").pfValue,M="anywhere"===s.pstyle("text-overflow-wrap").value,x=[],R=/[\s\u200b]+/,A=M?"":" ",N=0;N<D.length;N++){var P=D[N],V=this.calculateLabelDimensions(s,P).width;if(M){var q=P.split("").join("\u200b");P=q}if(V>E){for(var K=P.split(R),$="",Z=0;Z<K.length;Z++){var U=K[Z];this.calculateLabelDimensions(s,0===$.length?U:$+A+U).width<=E?$+=U+A:($&&x.push($),$=U+A)}$.match(/^[\s\u200b]+$/)||x.push($)}else x.push(P)}p("labelWrapCachedLines",x),f=p("labelWrapCachedText",x.join("\n")),p("labelWrapKey",b)}else if("ellipsis"===m){var ee=s.pstyle("text-max-width").pfValue,Y="",te=!1;if(this.calculateLabelDimensions(s,f).width<ee)return f;for(var ne=0;ne<f.length&&!(this.calculateLabelDimensions(s,Y+f[ne]+"\u2026").width>ee);ne++)Y+=f[ne],ne===f.length-1&&(te=!0);return te||(Y+="\u2026"),Y}return f},Ho.getLabelJustification=function(s){var i=s.pstyle("text-justification").strValue,a=s.pstyle("text-halign").strValue;if("auto"!==i)return i;if(!s.isNode())return"center";switch(a){case"left":return"right";case"right":return"left";default:return"center"}},Ho.calculateLabelDimensions=function(s,i){var l=ha(i,s._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),h=f[l];if(null!=h)return h;var m=s.pstyle("font-style").strValue,b=s.pstyle("font-size").pfValue,y=s.pstyle("font-family").strValue,D=s.pstyle("font-weight").strValue,E=this.labelCalcCanvas,S=this.labelCalcCanvasContext;if(!E){E=this.labelCalcCanvas=document.createElement("canvas"),S=this.labelCalcCanvasContext=E.getContext("2d");var M=E.style;M.position="absolute",M.left="-9999px",M.top="-9999px",M.zIndex="-1",M.visibility="hidden",M.pointerEvents="none"}S.font="".concat(m," ").concat(D," ").concat(b,"px ").concat(y);for(var x=0,R=0,A=i.split("\n"),N=0;N<A.length;N++){var k=S.measureText(A[N]),V=Math.ceil(k.width),q=b;x=Math.max(V,x),R+=q}return f[l]={width:x+=0,height:R+=0}},Ho.calculateLabelAngle=function(s,i){var l=s._private.rscratch,f=s.isEdge(),p=s.pstyle((i?i+"-":"")+"text-rotation"),m=p.strValue;return"none"===m?0:f&&"autorotate"===m?l.labelAutoAngle:"autorotate"===m?0:p.pfValue},Ho.calculateLabelAngles=function(s){var i=this,a=s.isEdge(),f=s._private.rscratch;f.labelAngle=i.calculateLabelAngle(s),a&&(f.sourceLabelAngle=i.calculateLabelAngle(s,"source"),f.targetLabelAngle=i.calculateLabelAngle(s,"target"))};var Cp={},Vf=!1;Cp.getNodeShape=function(s){var a=s.pstyle("shape").value;if("cutrectangle"===a&&(s.width()<28||s.height()<28))return Vf||(Ut("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Vf=!0),"rectangle";if(s.isParent())return"rectangle"===a||"roundrectangle"===a||"round-rectangle"===a||"cutrectangle"===a||"cut-rectangle"===a||"barrel"===a?a:"rectangle";if("polygon"===a){var l=s.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(l).name}return a};var Za={updateCachedGrabbedEles:function(){var s=this.cachedZSortedEles;if(s){s.drag=[],s.nondrag=[];for(var i=[],a=0;a<s.length;a++){var f=(l=s[a])._private.rscratch;l.grabbed()&&!l.isParent()?i.push(l):f.inDragLayer?s.drag.push(l):s.nondrag.push(l)}for(a=0;a<i.length;a++){var l;s.drag.push(l=i[a])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(s){if(s||!this.cachedZSortedEles){var i=this.cy.mutableElements().toArray();i.sort(xf),i.interactive=i.filter(function(a){return a.interactive()}),this.cachedZSortedEles=i,this.updateCachedGrabbedEles()}else i=this.cachedZSortedEles;return i}},$f={};[qu,Ql,hi,Ui,Bf,Ho,Cp,{registerCalculationListeners:function(){var s=this.cy,i=s.collection(),a=this,l=function(p){var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i.merge(p),m)for(var b=0;b<p.length;b++){var E=p[b]._private.rstyle;E.clean=!1,E.cleanConnected=!1}};a.binder(s).on("bounds.* dirty.*",function(p){l(p.target)}).on("style.* background.*",function(p){l(p.target,!1)});var f=function(p){if(p){var m=a.onUpdateEleCalcsFns;i.cleanStyle();for(var b=0;b<i.length;b++){var y=i[b],D=y._private.rstyle;y.isNode()&&!D.cleanConnected&&(l(y.connectedEdges()),D.cleanConnected=!0)}if(m)for(var E=0;E<m.length;E++)(0,m[E])(p,i);a.recalculateRenderedStyle(i),i=s.collection()}};a.flushRenderedStyleQueue=function(){f(!0)},a.beforeRender(f,a.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(s){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(s)},recalculateRenderedStyle:function(s,i){var a=function(V){return V._private.rstyle.cleanConnected},l=[],f=[];if(!this.destroyed){void 0===i&&(i=!0);for(var h=0;h<s.length;h++){var p=s[h],m=p._private,b=m.rstyle;p.isEdge()&&(!a(p.source())||!a(p.target()))&&(b.clean=!1),!(i&&b.clean||p.removed())&&"none"!==p.pstyle("display").value&&("nodes"===m.group?f.push(p):l.push(p),b.clean=!0)}for(var y=0;y<f.length;y++){var D=f[y],S=D._private.rstyle,M=D.position();this.recalculateNodeLabelProjection(D),S.nodeX=M.x,S.nodeY=M.y,S.nodeW=D.pstyle("width").pfValue,S.nodeH=D.pstyle("height").pfValue}this.recalculateEdgeProjections(l);for(var x=0;x<l.length;x++){var A=l[x]._private,N=A.rstyle,P=A.rscratch;N.srcX=P.arrowStartX,N.srcY=P.arrowStartY,N.tgtX=P.arrowEndX,N.tgtY=P.arrowEndY,N.midX=P.midX,N.midY=P.midY,N.labelAngle=P.labelAngle,N.sourceLabelAngle=P.sourceLabelAngle,N.targetLabelAngle=P.targetLabelAngle}}}},Za].forEach(function(s){It($f,s)});var Wu={getCachedImage:function(s,i,a){var f=this.imageCache=this.imageCache||{},h=f[s];if(h)return h.image.complete||h.image.addEventListener("load",a),h.image;var p=(h=f[s]=f[s]||{}).image=new Image;p.addEventListener("load",a),p.addEventListener("error",function(){p.error=!0});return"data:"===s.substring(0,5).toLowerCase()||(p.crossOrigin=i="null"===i?null:i),p.src=s,p}},Uo={registerBinding:function(s,i,a,l){var f=Array.prototype.slice.apply(arguments,[1]),h=this.binder(s);return h.on.apply(h,f)},binder:function(s){var i=this,a=i.cy.window(),l=s===a||s===a.document||s===a.document.body||function(i){return!(typeof HTMLElement>"u")&&i instanceof HTMLElement}(s);if(null==i.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});a.addEventListener("test",null,h)}catch{}i.supportsPassiveEvents=f}var p=function(b,y,D){var E=Array.prototype.slice.call(arguments);return l&&i.supportsPassiveEvents&&(E[2]={capture:D??!1,passive:!1,once:!1}),i.bindings.push({target:s,args:E}),(s.addEventListener||s.on).apply(s,E),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(s){return s&&s.isNode()&&!s.locked()&&s.grabbable()},nodeIsGrabbable:function(s){return this.nodeIsDraggable(s)&&s.interactive()}};Uo.load=function(){var s=this,i=s.cy.window(),a=function(G){return G.selected()},l=function(G,me,He,Ne){null==G&&(G=s.cy);for(var Ce=0;Ce<me.length;Ce++)G.emit({originalEvent:He,type:me[Ce],position:Ne})},f=function(G){return G.shiftKey||G.metaKey||G.ctrlKey},h=function(G,me){var He=!0;if(s.cy.hasCompoundNodes()&&G&&G.pannable()){for(var Ne=0;me&&Ne<me.length;Ne++)if((G=me[Ne]).isNode()&&G.isParent()&&!G.pannable()){He=!1;break}}else He=!0;return He},b=function(G){G[0]._private.rscratch.inDragLayer=!0},D=function(G){G[0]._private.rscratch.isGrabTarget=!0},S=function(G,me){var He=me.addToList;!He.has(G)&&G.grabbable()&&!G.locked()&&(He.merge(G),function(G){G[0]._private.grabbed=!0}(G))},x=function(G,me){me=me||{};var He=G.cy().hasCompoundNodes();me.inDragLayer&&(G.forEach(b),G.neighborhood().stdFilter(function(Ne){return!He||Ne.isEdge()}).forEach(b)),me.addToList&&G.forEach(function(Ne){S(Ne,me)}),function(G,me){if(G.cy().hasCompoundNodes()&&(null!=me.inDragLayer||null!=me.addToList)){var He=G.descendants();me.inDragLayer&&(He.forEach(b),He.connectedEdges().forEach(b)),me.addToList&&S(He,me)}}(G,me),N(G,{inDragLayer:me.inDragLayer}),s.updateCachedGrabbedEles()},R=x,A=function(G){G&&(s.getCachedZSortedEles().forEach(function(me){(function(G){G[0]._private.grabbed=!1})(me),function(G){G[0]._private.rscratch.inDragLayer=!1}(me),function(G){G[0]._private.rscratch.isGrabTarget=!1}(me)}),s.updateCachedGrabbedEles())},N=function(G,me){if((null!=me.inDragLayer||null!=me.addToList)&&G.cy().hasCompoundNodes()){var He=G.ancestors().orphans();if(!He.same(G)){var Ne=He.descendants().spawnSelf().merge(He).unmerge(G).unmerge(G.descendants()),Ce=Ne.connectedEdges();me.inDragLayer&&(Ce.forEach(b),Ne.forEach(b)),me.addToList&&Ne.forEach(function(Yt){S(Yt,me)})}}},P=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},k=typeof MutationObserver<"u",V=typeof ResizeObserver<"u";k?(s.removeObserver=new MutationObserver(function(Be){for(var G=0;G<Be.length;G++){var He=Be[G].removedNodes;if(He)for(var Ne=0;Ne<He.length;Ne++)if(He[Ne]===s.container){s.destroy();break}}}),s.container.parentNode&&s.removeObserver.observe(s.container.parentNode,{childList:!0})):s.registerBinding(s.container,"DOMNodeRemoved",function(Be){s.destroy()});var q=rt.default(function(){s.cy.resize()},100);k&&(s.styleObserver=new MutationObserver(q),s.styleObserver.observe(s.container,{attributes:!0})),s.registerBinding(i,"resize",q),V&&(s.resizeObserver=new ResizeObserver(q),s.resizeObserver.observe(s.container));var $=function(){s.invalidateContainerClientCoordsCache()};(function(G,me){for(;null!=G;)s.registerBinding(Be=G,"transitionend",$),s.registerBinding(Be,"animationend",$),s.registerBinding(Be,"scroll",$),G=G.parentNode;var Be})(s.container),s.registerBinding(s.container,"contextmenu",function(Be){Be.preventDefault()});var X,Q,j,U=function(G){for(var me=s.findContainerClientCoords(),He=me[0],Ne=me[1],Ce=me[2],Yt=me[3],$e=G.touches?G.touches:[G],st=!1,Tt=0;Tt<$e.length;Tt++){var Ln=$e[Tt];if(He<=Ln.clientX&&Ln.clientX<=He+Ce&&Ne<=Ln.clientY&&Ln.clientY<=Ne+Yt){st=!0;break}}if(!st)return!1;for(var sn=s.container,jt=G.target.parentNode,un=!1;jt;){if(jt===sn){un=!0;break}jt=jt.parentNode}return!!un};s.registerBinding(s.container,"mousedown",function(G){if(U(G)){G.preventDefault(),P(),s.hoverData.capture=!0,s.hoverData.which=G.which;var me=s.cy,He=[G.clientX,G.clientY],Ne=s.projectIntoViewport(He[0],He[1]),Ce=s.selection,Yt=s.findNearestElements(Ne[0],Ne[1],!0,!1),$e=Yt[0],st=s.dragData.possibleDragElements;if(s.hoverData.mdownPos=Ne,s.hoverData.mdownGPos=He,3==G.which){s.hoverData.cxtStarted=!0;var Ln={originalEvent:G,type:"cxttapstart",position:{x:Ne[0],y:Ne[1]}};$e?($e.activate(),$e.emit(Ln),s.hoverData.down=$e):me.emit(Ln),s.hoverData.downTime=(new Date).getTime(),s.hoverData.cxtDragged=!1}else if(1==G.which){if($e&&$e.activate(),null!=$e&&s.nodeIsGrabbable($e)){var sn=function(yr){return{originalEvent:G,type:yr,position:{x:Ne[0],y:Ne[1]}}};if(D($e),$e.selected()){st=s.dragData.possibleDragElements=me.collection();var jt=me.$(function(un){return un.isNode()&&un.selected()&&s.nodeIsGrabbable(un)});x(jt,{addToList:st}),$e.emit(sn("grabon")),jt.forEach(function(yr){yr.emit(sn("grab"))})}else st=s.dragData.possibleDragElements=me.collection(),R($e,{addToList:st}),$e.emit(sn("grabon")).emit(sn("grab"));s.redrawHint("eles",!0),s.redrawHint("drag",!0)}s.hoverData.down=$e,s.hoverData.downs=Yt,s.hoverData.downTime=(new Date).getTime(),l($e,["mousedown","tapstart","vmousedown"],G,{x:Ne[0],y:Ne[1]}),null==$e?(Ce[4]=1,s.data.bgActivePosistion={x:Ne[0],y:Ne[1]},s.redrawHint("select",!0),s.redraw()):$e.pannable()&&(Ce[4]=1),s.hoverData.tapholdCancelled=!1,clearTimeout(s.hoverData.tapholdTimeout),s.hoverData.tapholdTimeout=setTimeout(function(){if(!s.hoverData.tapholdCancelled){var yr=s.hoverData.down;yr?yr.emit({originalEvent:G,type:"taphold",position:{x:Ne[0],y:Ne[1]}}):me.emit({originalEvent:G,type:"taphold",position:{x:Ne[0],y:Ne[1]}})}},s.tapholdDuration)}Ce[0]=Ce[2]=Ne[0],Ce[1]=Ce[3]=Ne[1]}},!1),s.registerBinding(i,"mousemove",function(G){var oa;if(s.hoverData.capture||U(G)){var He=!1,Ne=s.cy,Ce=Ne.zoom(),Yt=[G.clientX,G.clientY],$e=s.projectIntoViewport(Yt[0],Yt[1]),st=s.hoverData.mdownPos,Tt=s.hoverData.mdownGPos,Ln=s.selection,sn=null;!s.hoverData.draggingEles&&!s.hoverData.dragging&&!s.hoverData.selecting&&(sn=s.findNearestElement($e[0],$e[1],!0,!1));var zr,xn=s.hoverData.last,jt=s.hoverData.down,un=[$e[0]-Ln[2],$e[1]-Ln[3]],yr=s.dragData.possibleDragElements;if(Tt){var xo=Yt[0]-Tt[0],Cr=Yt[1]-Tt[1];s.hoverData.isOverThresholdDrag=zr=xo*xo+Cr*Cr>=s.desktopTapThreshold2}var qo=f(G);zr&&(s.hoverData.tapholdCancelled=!0),He=!0,l(sn,["mousemove","vmousemove","tapdrag"],G,{x:$e[0],y:$e[1]});var ia=function(){s.data.bgActivePosistion=void 0,s.hoverData.selecting||Ne.emit({originalEvent:G,type:"boxstart",position:{x:$e[0],y:$e[1]}}),Ln[4]=1,s.hoverData.selecting=!0,s.redrawHint("select",!0),s.redraw()};if(3===s.hoverData.which){if(zr){var Ds={originalEvent:G,type:"cxtdrag",position:{x:$e[0],y:$e[1]}};jt?jt.emit(Ds):Ne.emit(Ds),s.hoverData.cxtDragged=!0,(!s.hoverData.cxtOver||sn!==s.hoverData.cxtOver)&&(s.hoverData.cxtOver&&s.hoverData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:$e[0],y:$e[1]}}),s.hoverData.cxtOver=sn,sn&&sn.emit({originalEvent:G,type:"cxtdragover",position:{x:$e[0],y:$e[1]}}))}}else if(s.hoverData.dragging){if(He=!0,Ne.panningEnabled()&&Ne.userPanningEnabled()){var Ys;if(s.hoverData.justStartedPan){var Xs=s.hoverData.mdownPos;Ys={x:($e[0]-Xs[0])*Ce,y:($e[1]-Xs[1])*Ce},s.hoverData.justStartedPan=!1}else Ys={x:un[0]*Ce,y:un[1]*Ce};Ne.panBy(Ys),Ne.emit("dragpan"),s.hoverData.dragged=!0}$e=s.projectIntoViewport(G.clientX,G.clientY)}else if(1!=Ln[4]||null!=jt&&!jt.pannable()){if(jt&&jt.pannable()&&jt.active()&&jt.unactivate(),(!jt||!jt.grabbed())&&sn!=xn&&(xn&&l(xn,["mouseout","tapdragout"],G,{x:$e[0],y:$e[1]}),sn&&l(sn,["mouseover","tapdragover"],G,{x:$e[0],y:$e[1]}),s.hoverData.last=sn),jt)if(zr){if(Ne.boxSelectionEnabled()&&qo)jt&&jt.grabbed()&&(A(yr),jt.emit("freeon"),yr.emit("free"),s.dragData.didDrag&&(jt.emit("dragfreeon"),yr.emit("dragfree"))),ia();else if(jt&&jt.grabbed()&&s.nodeIsDraggable(jt)){var ri=!s.dragData.didDrag;ri&&s.redrawHint("eles",!0),s.dragData.didDrag=!0,s.hoverData.draggingEles||x(yr,{inDragLayer:!0});var Si={x:0,y:0};if(ot(un[0])&&ot(un[1])&&(Si.x+=un[0],Si.y+=un[1],ri)){var Mr=s.hoverData.dragDelta;Mr&&ot(Mr[0])&&ot(Mr[1])&&(Si.x+=Mr[0],Si.y+=Mr[1])}s.hoverData.draggingEles=!0,yr.silentShift(Si).emit("position drag"),s.redrawHint("drag",!0),s.redraw()}}else 0===(oa=s.hoverData.dragDelta=s.hoverData.dragDelta||[]).length?(oa.push(un[0]),oa.push(un[1])):(oa[0]+=un[0],oa[1]+=un[1]);He=!0}else zr&&(s.hoverData.dragging||!Ne.boxSelectionEnabled()||!qo&&Ne.panningEnabled()&&Ne.userPanningEnabled()?!s.hoverData.selecting&&Ne.panningEnabled()&&Ne.userPanningEnabled()&&h(jt,s.hoverData.downs)&&(s.hoverData.dragging=!0,s.hoverData.justStartedPan=!0,Ln[4]=0,s.data.bgActivePosistion=Sl(st),s.redrawHint("select",!0),s.redraw()):ia(),jt&&jt.pannable()&&jt.active()&&jt.unactivate());if(Ln[2]=$e[0],Ln[3]=$e[1],He)return G.stopPropagation&&G.stopPropagation(),G.preventDefault&&G.preventDefault(),!1}},!1),s.registerBinding(i,"mouseup",function(G){if(s.hoverData.capture){s.hoverData.capture=!1;var He=s.cy,Ne=s.projectIntoViewport(G.clientX,G.clientY),Ce=s.selection,Yt=s.findNearestElement(Ne[0],Ne[1],!0,!1),$e=s.dragData.possibleDragElements,st=s.hoverData.down,Tt=f(G);if(s.data.bgActivePosistion&&(s.redrawHint("select",!0),s.redraw()),s.hoverData.tapholdCancelled=!0,s.data.bgActivePosistion=void 0,st&&st.unactivate(),3===s.hoverData.which){var Ln={originalEvent:G,type:"cxttapend",position:{x:Ne[0],y:Ne[1]}};if(st?st.emit(Ln):He.emit(Ln),!s.hoverData.cxtDragged){var sn={originalEvent:G,type:"cxttap",position:{x:Ne[0],y:Ne[1]}};st?st.emit(sn):He.emit(sn)}s.hoverData.cxtDragged=!1,s.hoverData.which=null}else if(1===s.hoverData.which){if(l(Yt,["mouseup","tapend","vmouseup"],G,{x:Ne[0],y:Ne[1]}),!s.dragData.didDrag&&!s.hoverData.dragged&&!s.hoverData.selecting&&!s.hoverData.isOverThresholdDrag&&(l(st,["click","tap","vclick"],G,{x:Ne[0],y:Ne[1]}),Q=!1,G.timeStamp-j<=He.multiClickDebounceTime()?(X&&clearTimeout(X),Q=!0,j=null,l(st,["dblclick","dbltap","vdblclick"],G,{x:Ne[0],y:Ne[1]})):(X=setTimeout(function(){Q||l(st,["oneclick","onetap","voneclick"],G,{x:Ne[0],y:Ne[1]})},He.multiClickDebounceTime()),j=G.timeStamp)),null==st&&!s.dragData.didDrag&&!s.hoverData.selecting&&!s.hoverData.dragged&&!f(G)&&(He.$(a).unselect(["tapunselect"]),$e.length>0&&s.redrawHint("eles",!0),s.dragData.possibleDragElements=$e=He.collection()),Yt==st&&!s.dragData.didDrag&&!s.hoverData.selecting&&null!=Yt&&Yt._private.selectable&&(s.hoverData.dragging||("additive"===He.selectionType()||Tt?Yt.selected()?Yt.unselect(["tapunselect"]):Yt.select(["tapselect"]):Tt||(He.$(a).unmerge(Yt).unselect(["tapunselect"]),Yt.select(["tapselect"]))),s.redrawHint("eles",!0)),s.hoverData.selecting){var xn=He.collection(s.getAllInBox(Ce[0],Ce[1],Ce[2],Ce[3]));s.redrawHint("select",!0),xn.length>0&&s.redrawHint("eles",!0),He.emit({type:"boxend",originalEvent:G,position:{x:Ne[0],y:Ne[1]}}),"additive"===He.selectionType()||Tt||He.$(a).unmerge(xn).unselect(),xn.emit("box").stdFilter(function(zr){return zr.selectable()&&!zr.selected()}).select().emit("boxselect"),s.redraw()}if(s.hoverData.dragging&&(s.hoverData.dragging=!1,s.redrawHint("select",!0),s.redrawHint("eles",!0),s.redraw()),!Ce[4]){s.redrawHint("drag",!0),s.redrawHint("eles",!0);var un=st&&st.grabbed();A($e),un&&(st.emit("freeon"),$e.emit("free"),s.dragData.didDrag&&(st.emit("dragfreeon"),$e.emit("dragfree")))}}Ce[4]=0,s.hoverData.down=null,s.hoverData.cxtStarted=!1,s.hoverData.draggingEles=!1,s.hoverData.selecting=!1,s.hoverData.isOverThresholdDrag=!1,s.dragData.didDrag=!1,s.hoverData.dragged=!1,s.hoverData.dragDelta=[],s.hoverData.mdownPos=null,s.hoverData.mdownGPos=null}},!1);var ee=function(G){if(!s.scrollingPage){var me=s.cy,He=me.zoom(),Ne=me.pan(),Ce=s.projectIntoViewport(G.clientX,G.clientY),Yt=[Ce[0]*He+Ne.x,Ce[1]*He+Ne.y];if(s.hoverData.draggingEles||s.hoverData.dragging||s.hoverData.cxtStarted||0!==s.selection[4])return void G.preventDefault();if(me.panningEnabled()&&me.userPanningEnabled()&&me.zoomingEnabled()&&me.userZoomingEnabled()){var $e;G.preventDefault(),s.data.wheelZooming=!0,clearTimeout(s.data.wheelTimeout),s.data.wheelTimeout=setTimeout(function(){s.data.wheelZooming=!1,s.redrawHint("eles",!0),s.redraw()},150),$e=null!=G.deltaY?G.deltaY/-250:null!=G.wheelDeltaY?G.wheelDeltaY/1e3:G.wheelDelta/1e3,$e*=s.wheelSensitivity,1===G.deltaMode&&($e*=33);var Tt=me.zoom()*Math.pow(10,$e);"gesturechange"===G.type&&(Tt=s.gestureStartZoom*G.scale),me.zoom({level:Tt,renderedPosition:{x:Yt[0],y:Yt[1]}}),me.emit("gesturechange"===G.type?"pinchzoom":"scrollzoom")}}};s.registerBinding(s.container,"wheel",ee,!0),s.registerBinding(i,"scroll",function(G){s.scrollingPage=!0,clearTimeout(s.scrollingPageTimeout),s.scrollingPageTimeout=setTimeout(function(){s.scrollingPage=!1},250)},!0),s.registerBinding(s.container,"gesturestart",function(G){s.gestureStartZoom=s.cy.zoom(),s.hasTouchStarted||G.preventDefault()},!0),s.registerBinding(s.container,"gesturechange",function(Be){s.hasTouchStarted||ee(Be)},!0),s.registerBinding(s.container,"mouseout",function(G){var me=s.projectIntoViewport(G.clientX,G.clientY);s.cy.emit({originalEvent:G,type:"mouseout",position:{x:me[0],y:me[1]}})},!1),s.registerBinding(s.container,"mouseover",function(G){var me=s.projectIntoViewport(G.clientX,G.clientY);s.cy.emit({originalEvent:G,type:"mouseover",position:{x:me[0],y:me[1]}})},!1);var Y,se,te,ne,fe,pe,De,he,be,Ae,Fe,Me,Ie,Le,Ke,tt,Et,Jt,at,Xe,ce=function(G,me,He,Ne){return Math.sqrt((He-G)*(He-G)+(Ne-me)*(Ne-me))},Re=function(G,me,He,Ne){return(He-G)*(He-G)+(Ne-me)*(Ne-me)};if(s.registerBinding(s.container,"touchstart",Le=function(G){if(s.hasTouchStarted=!0,U(G)){P(),s.touchData.capture=!0,s.data.bgActivePosistion=void 0;var me=s.cy,He=s.touchData.now,Ne=s.touchData.earlier;if(G.touches[0]){var Ce=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);He[0]=Ce[0],He[1]=Ce[1]}if(G.touches[1]&&(Ce=s.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),He[2]=Ce[0],He[3]=Ce[1]),G.touches[2]&&(Ce=s.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),He[4]=Ce[0],He[5]=Ce[1]),G.touches[1]){s.touchData.singleTouchMoved=!0,A(s.dragData.touchDragEles);var Yt=s.findContainerClientCoords();Fe=Yt[2],Me=Yt[3],se=G.touches[0].clientY-(Ae=Yt[1]),te=G.touches[1].clientX-(be=Yt[0]),ne=G.touches[1].clientY-Ae,Ie=0<=(Y=G.touches[0].clientX-be)&&Y<=Fe&&0<=te&&te<=Fe&&0<=se&&se<=Me&&0<=ne&&ne<=Me;var $e=me.pan(),st=me.zoom();if(fe=ce(Y,se,te,ne),pe=Re(Y,se,te,ne),he=[((De=[(Y+te)/2,(se+ne)/2])[0]-$e.x)/st,(De[1]-$e.y)/st],pe<4e4&&!G.touches[2]){var sn=s.findNearestElement(He[0],He[1],!0,!0),xn=s.findNearestElement(He[2],He[3],!0,!0);return sn&&sn.isNode()?(sn.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:He[0],y:He[1]}}),s.touchData.start=sn):xn&&xn.isNode()?(xn.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:He[0],y:He[1]}}),s.touchData.start=xn):me.emit({originalEvent:G,type:"cxttapstart",position:{x:He[0],y:He[1]}}),s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxt=!0,s.touchData.cxtDragged=!1,s.data.bgActivePosistion=void 0,void s.redraw()}}if(G.touches[2])me.boxSelectionEnabled()&&G.preventDefault();else if(!G.touches[1]&&G.touches[0]){var jt=s.findNearestElements(He[0],He[1],!0,!0),un=jt[0];if(null!=un&&(un.activate(),s.touchData.start=un,s.touchData.starts=jt,s.nodeIsGrabbable(un))){var yr=s.dragData.touchDragEles=me.collection(),zr=null;s.redrawHint("eles",!0),s.redrawHint("drag",!0),un.selected()?(zr=me.$(function(_i){return _i.selected()&&s.nodeIsGrabbable(_i)}),x(zr,{addToList:yr})):R(un,{addToList:yr}),D(un);var xo=function(qo){return{originalEvent:G,type:qo,position:{x:He[0],y:He[1]}}};un.emit(xo("grabon")),zr?zr.forEach(function(_i){_i.emit(xo("grab"))}):un.emit(xo("grab"))}l(un,["touchstart","tapstart","vmousedown"],G,{x:He[0],y:He[1]}),null==un&&(s.data.bgActivePosistion={x:Ce[0],y:Ce[1]},s.redrawHint("select",!0),s.redraw()),s.touchData.singleTouchMoved=!1,s.touchData.singleTouchStartTime=+new Date,clearTimeout(s.touchData.tapholdTimeout),s.touchData.tapholdTimeout=setTimeout(function(){!1===s.touchData.singleTouchMoved&&!s.pinching&&!s.touchData.selecting&&l(s.touchData.start,["taphold"],G,{x:He[0],y:He[1]})},s.tapholdDuration)}if(G.touches.length>=1){for(var Ei=s.touchData.startPosition=[null,null,null,null,null,null],Cr=0;Cr<He.length;Cr++)Ei[Cr]=Ne[Cr]=He[Cr];var Go=G.touches[0];s.touchData.startGPosition=[Go.clientX,Go.clientY]}}},!1),s.registerBinding(window,"touchmove",Ke=function(G){var me=s.touchData.capture;if(me||U(G)){var He=s.selection,Ne=s.cy,Ce=s.touchData.now,Yt=s.touchData.earlier,$e=Ne.zoom();if(G.touches[0]){var st=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Ce[0]=st[0],Ce[1]=st[1]}G.touches[1]&&(st=s.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ce[2]=st[0],Ce[3]=st[1]),G.touches[2]&&(st=s.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ce[4]=st[0],Ce[5]=st[1]);var Ln,Tt=s.touchData.startGPosition;if(me&&G.touches[0]&&Tt){for(var sn=[],xn=0;xn<Ce.length;xn++)sn[xn]=Ce[xn]-Yt[xn];var jt=G.touches[0].clientX-Tt[0],yr=G.touches[0].clientY-Tt[1];Ln=jt*jt+yr*yr>=s.touchTapThreshold2}if(me&&s.touchData.cxt){G.preventDefault();var qo=Re(Ei=G.touches[0].clientX-be,Cr=G.touches[0].clientY-Ae,Go=G.touches[1].clientX-be,_i=G.touches[1].clientY-Ae);if(qo/pe>=2.25||qo>=22500){s.touchData.cxt=!1,s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);var Xa={originalEvent:G,type:"cxttapend",position:{x:Ce[0],y:Ce[1]}};s.touchData.start?(s.touchData.start.unactivate().emit(Xa),s.touchData.start=null):Ne.emit(Xa)}}if(me&&s.touchData.cxt){Xa={originalEvent:G,type:"cxtdrag",position:{x:Ce[0],y:Ce[1]}},s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),s.touchData.start?s.touchData.start.emit(Xa):Ne.emit(Xa),s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxtDragged=!0;var ri=s.findNearestElement(Ce[0],Ce[1],!0,!0);(!s.touchData.cxtOver||ri!==s.touchData.cxtOver)&&(s.touchData.cxtOver&&s.touchData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:Ce[0],y:Ce[1]}}),s.touchData.cxtOver=ri,ri&&ri.emit({originalEvent:G,type:"cxtdragover",position:{x:Ce[0],y:Ce[1]}}))}else if(me&&G.touches[2]&&Ne.boxSelectionEnabled())G.preventDefault(),s.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,s.touchData.selecting||Ne.emit({originalEvent:G,type:"boxstart",position:{x:Ce[0],y:Ce[1]}}),s.touchData.selecting=!0,s.touchData.didSelect=!0,He[4]=1,He&&0!==He.length&&void 0!==He[0]?(He[2]=(Ce[0]+Ce[2]+Ce[4])/3,He[3]=(Ce[1]+Ce[3]+Ce[5])/3):(He[0]=(Ce[0]+Ce[2]+Ce[4])/3,He[1]=(Ce[1]+Ce[3]+Ce[5])/3,He[2]=(Ce[0]+Ce[2]+Ce[4])/3+1,He[3]=(Ce[1]+Ce[3]+Ce[5])/3+1),s.redrawHint("select",!0),s.redraw();else if(me&&G.touches[1]&&!s.touchData.didSelect&&Ne.zoomingEnabled()&&Ne.panningEnabled()&&Ne.userZoomingEnabled()&&Ne.userPanningEnabled()){if(G.preventDefault(),s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),Si=s.dragData.touchDragEles){s.redrawHint("drag",!0);for(var Mr=0;Mr<Si.length;Mr++){var tn=Si[Mr]._private;tn.grabbed=!1,tn.rscratch.inDragLayer=!1}}var Ei,Cr,Go,_i,oa=s.touchData.start,Gi=ce(Ei=G.touches[0].clientX-be,Cr=G.touches[0].clientY-Ae,Go=G.touches[1].clientX-be,_i=G.touches[1].clientY-Ae),Np=Gi/fe;if(Ie){var ac=(Ei-Y+(Go-te))/2,Op=(Cr-se+(_i-ne))/2,ll=Ne.zoom(),rh=ll*Np,Ad=Ne.pan(),Pp=he[0]*ll+Ad.x,kp=he[1]*ll+Ad.y,Dv={x:-rh/ll*(Pp-Ad.x-ac)+Pp,y:-rh/ll*(kp-Ad.y-Op)+kp};oa&&oa.active()&&(A(Si=s.dragData.touchDragEles),s.redrawHint("drag",!0),s.redrawHint("eles",!0),oa.unactivate().emit("freeon"),Si.emit("free"),s.dragData.didDrag&&(oa.emit("dragfreeon"),Si.emit("dragfree"))),Ne.viewport({zoom:rh,pan:Dv,cancelOnFailedZoom:!0}),Ne.emit("pinchzoom"),fe=Gi,Y=Ei,se=Cr,te=Go,ne=_i,s.pinching=!0}G.touches[0]&&(st=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),Ce[0]=st[0],Ce[1]=st[1]),G.touches[1]&&(st=s.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ce[2]=st[0],Ce[3]=st[1]),G.touches[2]&&(st=s.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ce[4]=st[0],Ce[5]=st[1])}else if(G.touches[0]&&!s.touchData.didSelect){var pi=s.touchData.start,Qs=s.touchData.last;if(!s.hoverData.draggingEles&&!s.swipePanning&&(ri=s.findNearestElement(Ce[0],Ce[1],!0,!0)),me&&null!=pi&&G.preventDefault(),me&&null!=pi&&s.nodeIsDraggable(pi))if(Ln){var Si=s.dragData.touchDragEles,Fp=!s.dragData.didDrag;Fp&&x(Si,{inDragLayer:!0}),s.dragData.didDrag=!0;var Rd={x:0,y:0};ot(sn[0])&&ot(sn[1])&&(Rd.x+=sn[0],Rd.y+=sn[1],Fp)&&(s.redrawHint("eles",!0),(Ta=s.touchData.dragDelta)&&ot(Ta[0])&&ot(Ta[1])&&(Rd.x+=Ta[0],Rd.y+=Ta[1])),s.hoverData.draggingEles=!0,Si.silentShift(Rd).emit("position drag"),s.redrawHint("drag",!0),s.touchData.startPosition[0]==Yt[0]&&s.touchData.startPosition[1]==Yt[1]&&s.redrawHint("eles",!0),s.redraw()}else{var Ta;0===(Ta=s.touchData.dragDelta=s.touchData.dragDelta||[]).length?(Ta.push(sn[0]),Ta.push(sn[1])):(Ta[0]+=sn[0],Ta[1]+=sn[1])}if(l(pi||ri,["touchmove","tapdrag","vmousemove"],G,{x:Ce[0],y:Ce[1]}),(!pi||!pi.grabbed())&&ri!=Qs&&(Qs&&Qs.emit({originalEvent:G,type:"tapdragout",position:{x:Ce[0],y:Ce[1]}}),ri&&ri.emit({originalEvent:G,type:"tapdragover",position:{x:Ce[0],y:Ce[1]}})),s.touchData.last=ri,me)for(Mr=0;Mr<Ce.length;Mr++)Ce[Mr]&&s.touchData.startPosition[Mr]&&Ln&&(s.touchData.singleTouchMoved=!0);me&&(null==pi||pi.pannable())&&Ne.panningEnabled()&&Ne.userPanningEnabled()&&(h(pi,s.touchData.starts)&&(G.preventDefault(),s.data.bgActivePosistion||(s.data.bgActivePosistion=Sl(s.touchData.startPosition)),s.swipePanning?(Ne.panBy({x:sn[0]*$e,y:sn[1]*$e}),Ne.emit("dragpan")):Ln&&(s.swipePanning=!0,Ne.panBy({x:jt*$e,y:yr*$e}),Ne.emit("dragpan"),pi&&(pi.unactivate(),s.redrawHint("select",!0),s.touchData.start=null))),st=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),Ce[0]=st[0],Ce[1]=st[1])}for(xn=0;xn<Ce.length;xn++)Yt[xn]=Ce[xn];me&&G.touches.length>0&&!s.hoverData.draggingEles&&!s.swipePanning&&null!=s.data.bgActivePosistion&&(s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),s.redraw())}},!1),s.registerBinding(i,"touchcancel",tt=function(G){var me=s.touchData.start;s.touchData.capture=!1,me&&me.unactivate()}),s.registerBinding(i,"touchend",Et=function(G){var me=s.touchData.start;if(s.touchData.capture){0===G.touches.length&&(s.touchData.capture=!1),G.preventDefault();var Ne=s.selection;s.swipePanning=!1,s.hoverData.draggingEles=!1;var Ln,Ce=s.cy,Yt=Ce.zoom(),$e=s.touchData.now,st=s.touchData.earlier;if(G.touches[0]){var Tt=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);$e[0]=Tt[0],$e[1]=Tt[1]}if(G.touches[1]&&(Tt=s.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),$e[2]=Tt[0],$e[3]=Tt[1]),G.touches[2]&&(Tt=s.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),$e[4]=Tt[0],$e[5]=Tt[1]),me&&me.unactivate(),s.touchData.cxt){if(Ln={originalEvent:G,type:"cxttapend",position:{x:$e[0],y:$e[1]}},me?me.emit(Ln):Ce.emit(Ln),!s.touchData.cxtDragged){var sn={originalEvent:G,type:"cxttap",position:{x:$e[0],y:$e[1]}};me?me.emit(sn):Ce.emit(sn)}return s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxt=!1,s.touchData.start=null,void s.redraw()}if(!G.touches[2]&&Ce.boxSelectionEnabled()&&s.touchData.selecting){s.touchData.selecting=!1;var xn=Ce.collection(s.getAllInBox(Ne[0],Ne[1],Ne[2],Ne[3]));Ne[0]=void 0,Ne[1]=void 0,Ne[2]=void 0,Ne[3]=void 0,Ne[4]=0,s.redrawHint("select",!0),Ce.emit({type:"boxend",originalEvent:G,position:{x:$e[0],y:$e[1]}}),xn.emit("box").stdFilter(function(Ds){return Ds.selectable()&&!Ds.selected()}).select().emit("boxselect"),xn.nonempty()&&s.redrawHint("eles",!0),s.redraw()}if(me?.unactivate(),G.touches[2])s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);else if(!G.touches[1]&&!G.touches[0]&&!G.touches[0]){s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);var un=s.dragData.touchDragEles;if(null!=me){var yr=me._private.grabbed;A(un),s.redrawHint("drag",!0),s.redrawHint("eles",!0),yr&&(me.emit("freeon"),un.emit("free"),s.dragData.didDrag&&(me.emit("dragfreeon"),un.emit("dragfree"))),l(me,["touchend","tapend","vmouseup","tapdragout"],G,{x:$e[0],y:$e[1]}),me.unactivate(),s.touchData.start=null}else{var zr=s.findNearestElement($e[0],$e[1],!0,!0);l(zr,["touchend","tapend","vmouseup","tapdragout"],G,{x:$e[0],y:$e[1]})}var xo=s.touchData.startPosition[0]-$e[0],Cr=s.touchData.startPosition[1]-$e[1],qo=(xo*xo+Cr*Cr)*Yt*Yt;s.touchData.singleTouchMoved||(me||Ce.$(":selected").unselect(["tapunselect"]),l(me,["tap","vclick"],G,{x:$e[0],y:$e[1]}),Jt=!1,G.timeStamp-Xe<=Ce.multiClickDebounceTime()?(at&&clearTimeout(at),Jt=!0,Xe=null,l(me,["dbltap","vdblclick"],G,{x:$e[0],y:$e[1]})):(at=setTimeout(function(){Jt||l(me,["onetap","voneclick"],G,{x:$e[0],y:$e[1]})},Ce.multiClickDebounceTime()),Xe=G.timeStamp)),null!=me&&!s.dragData.didDrag&&me._private.selectable&&qo<s.touchTapThreshold2&&!s.pinching&&("single"===Ce.selectionType()?(Ce.$(a).unmerge(me).unselect(["tapunselect"]),me.select(["tapselect"])):me.selected()?me.unselect(["tapunselect"]):me.select(["tapselect"]),s.redrawHint("eles",!0)),s.touchData.singleTouchMoved=!0}for(var jr=0;jr<$e.length;jr++)st[jr]=$e[jr];s.dragData.didDrag=!1,0===G.touches.length&&(s.touchData.dragDelta=[],s.touchData.startPosition=[null,null,null,null,null,null],s.touchData.startGPosition=null,s.touchData.didSelect=!1),G.touches.length<2&&(1===G.touches.length&&(s.touchData.startGPosition=[G.touches[0].clientX,G.touches[0].clientY]),s.pinching=!1,s.redrawHint("eles",!0),s.redraw())}},!1),typeof TouchEvent>"u"){var ze=[],mt=function(G){return{clientX:G.clientX,clientY:G.clientY,force:1,identifier:G.pointerId,pageX:G.pageX,pageY:G.pageY,radiusX:G.width/2,radiusY:G.height/2,screenX:G.screenX,screenY:G.screenY,target:G.target}},pn=function(G){for(var me=0;me<ze.length;me++)if(ze[me].event.pointerId===G.pointerId)return void ze.splice(me,1)},Nt=function(G){G.touches=ze.map(function(me){return me.touch})},Hn=function(G){return"mouse"===G.pointerType||4===G.pointerType};s.registerBinding(s.container,"pointerdown",function(Be){Hn(Be)||(Be.preventDefault(),ze.push(function(G){return{event:G,touch:mt(G)}}(Be)),Nt(Be),Le(Be))}),s.registerBinding(s.container,"pointerup",function(Be){Hn(Be)||(pn(Be),Nt(Be),Et(Be))}),s.registerBinding(s.container,"pointercancel",function(Be){Hn(Be)||(pn(Be),Nt(Be),tt())}),s.registerBinding(s.container,"pointermove",function(Be){var G,me;Hn(Be)||(Be.preventDefault(),G=Be,(me=ze.filter(function(He){return He.event.pointerId===G.pointerId})[0]).event=G,me.touch=mt(G),Nt(Be),Ke(Be))})}};var Ka={generatePolygon:function(s,i){return this.nodeShapes[s]={renderer:this,name:s,points:i,draw:function(l,f,h,p,m){this.renderer.nodeShapeImpl("polygon",l,f,h,p,m,this.points)},intersectLine:function(l,f,h,p,m,b,y){return Il(m,b,this.points,l,f,h/2,p/2,y)},checkPoint:function(l,f,h,p,m,b,y){return go(l,f,this.points,b,y,p,m,[0,-1],h)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},intersectLine:function(i,a,l,f,h,p,m){return function(i,a,l,f,h,p){var m=l-i,b=f-a;m/=h,b/=p;var y=Math.sqrt(m*m+b*b),D=y-1;if(D<0)return[];var E=D/y;return[(l-i)*E+i,(f-a)*E+a]}(h,p,i,a,l/2+m,f/2+m)},checkPoint:function(i,a,l,f,h,p,m){return Pr(i,a,f,h,p,m,l)}}},generateRoundPolygon:function(s,i){for(var a=new Array(2*i.length),l=0;l<i.length/2;l++){var h,f=2*l;h=l<i.length/2-1?2*(l+1):0,a[4*l]=i[f],a[4*l+1]=i[f+1];var p=i[h]-i[f],m=i[h+1]-i[f+1],b=Math.sqrt(p*p+m*m);a[4*l+2]=p/b,a[4*l+3]=m/b}return this.nodeShapes[s]={renderer:this,name:s,points:a,draw:function(D,E,S,M,x){this.renderer.nodeShapeImpl("round-polygon",D,E,S,M,x,this.points)},intersectLine:function(D,E,S,M,x,R,A){return function(i,a,l,f,h,p,m,b){for(var D,y=[],E=new Array(l.length),S=p/2,M=m/2,x=Tl(p,m),R=0;R<l.length/4;R++){var N,A;A=0===R?l.length-2:4*R-2,N=4*R+2;var P=f+S*l[4*R],k=h+M*l[4*R+1],q=x/Math.tan(Math.acos(-l[A]*l[N]-l[A+1]*l[N+1])/2),K=P-q*l[A],$=k-q*l[A+1],Z=P+q*l[N],U=k+q*l[N+1];0===R?(E[l.length-2]=K,E[l.length-1]=$):(E[4*R-2]=K,E[4*R-1]=$),E[4*R]=Z,E[4*R+1]=U;var X=l[A+1],Q=-l[A];X*l[N]+Q*l[N+1]<0&&(X*=-1,Q*=-1),0!==(D=Du(i,a,f,h,K+X*x,$+Q*x,x)).length&&y.push(D[0],D[1])}for(var se=0;se<E.length/4;se++)0!==(D=Ba(i,a,f,h,E[4*se],E[4*se+1],E[4*se+2],E[4*se+3],!1)).length&&y.push(D[0],D[1]);if(y.length>2){for(var te=[y[0],y[1]],ne=Math.pow(te[0]-i,2)+Math.pow(te[1]-a,2),fe=1;fe<y.length/2;fe++){var pe=Math.pow(y[2*fe]-i,2)+Math.pow(y[2*fe+1]-a,2);pe<=ne&&(te[0]=y[2*fe],te[1]=y[2*fe+1],ne=pe)}return te}return y}(x,R,this.points,D,E,S,M)},checkPoint:function(D,E,S,M,x,R,A){return function(i,a,l,f,h,p,m){for(var b=new Array(l.length),y=p/2,D=m/2,E=Tl(p,m),S=E*E,M=0;M<l.length/4;M++){var R,x;x=0===M?l.length-2:4*M-2,R=4*M+2;var A=f+y*l[4*M],N=h+D*l[4*M+1],k=E/Math.tan(Math.acos(-l[x]*l[R]-l[x+1]*l[R+1])/2),V=A-k*l[x],q=N-k*l[x+1],K=A+k*l[R],$=N+k*l[R+1];b[4*M]=V,b[4*M+1]=q,b[4*M+2]=K,b[4*M+3]=$;var Z=l[x+1],U=-l[x];Z*l[R]+U*l[R+1]<0&&(Z*=-1,U*=-1);var j=q+U*E;if(Math.pow(V+Z*E-i,2)+Math.pow(j-a,2)<=S)return!0}return ai(i,a,b)}(D,E,this.points,R,A,M,x)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ai(4,0),draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},intersectLine:function(i,a,l,f,h,p,m){return Mt(h,p,i,a,l,f,m)},checkPoint:function(i,a,l,f,h,p,m){var b=rs(f,h),y=2*b;return!!(go(i,a,this.points,p,m,f,h-y,[0,-1],l)||go(i,a,this.points,p,m,f-y,h,[0,-1],l)||Pr(i,a,y,y,p-f/2+b,m-h/2+b,l)||Pr(i,a,y,y,p+f/2-b,m-h/2+b,l)||Pr(i,a,y,y,p+f/2-b,m+h/2-b,l)||Pr(i,a,y,y,p-f/2+b,m+h/2-b,l))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Ai(4,0),draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},generateCutTrianglePts:function(i,a,l,f){var h=this.cornerLength,p=a/2,m=i/2,b=l-m,y=l+m,D=f-p,E=f+p;return{topLeft:[b,D+h,b+h,D,b+h,D+h],topRight:[y-h,D,y,D+h,y-h,D+h],bottomRight:[y,E-h,y-h,E,y-h,E-h],bottomLeft:[b+h,E,b,E-h,b+h,E-h]}},intersectLine:function(i,a,l,f,h,p,m){var b=this.generateCutTrianglePts(l+2*m,f+2*m,i,a),y=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return Il(h,p,y,i,a)},checkPoint:function(i,a,l,f,h,p,m){if(go(i,a,this.points,p,m,f,h-2*this.cornerLength,[0,-1],l)||go(i,a,this.points,p,m,f-2*this.cornerLength,h,[0,-1],l))return!0;var b=this.generateCutTrianglePts(f,h,p,m);return ai(i,a,b.topLeft)||ai(i,a,b.topRight)||ai(i,a,b.bottomRight)||ai(i,a,b.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ai(4,0),draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},intersectLine:function(i,a,l,f,h,p,m){var E=this.generateBarrelBezierPts(l+2*m,f+2*m,i,a),S=function(R){var A=Os({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.15),N=Os({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.5),P=Os({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.85);return[R[0],R[1],A.x,A.y,N.x,N.y,P.x,P.y,R[4],R[5]]},M=[].concat(S(E.topLeft),S(E.topRight),S(E.bottomRight),S(E.bottomLeft));return Il(h,p,M,i,a)},generateBarrelBezierPts:function(i,a,l,f){var h=a/2,p=i/2,m=l-p,b=l+p,y=f-h,D=f+h,E=Hh(i,a),S=E.heightOffset,M=E.widthOffset,x=E.ctrlPtOffsetPct*i,R={topLeft:[m,y+S,m+x,y,m+M,y],topRight:[b-M,y,b-x,y,b,y+S],bottomRight:[b,D-S,b-x,D,b-M,D],bottomLeft:[m+M,D,m+x,D,m,D-S]};return R.topLeft.isTop=!0,R.topRight.isTop=!0,R.bottomLeft.isBottom=!0,R.bottomRight.isBottom=!0,R},checkPoint:function(i,a,l,f,h,p,m){var b=Hh(f,h),D=b.widthOffset;if(go(i,a,this.points,p,m,f,h-2*b.heightOffset,[0,-1],l)||go(i,a,this.points,p,m,f-2*D,h,[0,-1],l))return!0;for(var E=this.generateBarrelBezierPts(f,h,p,m),S=function($,Z,U){var X=U[4],Q=U[2],j=U[0],ee=U[5],Y=U[1],se=Math.min(X,j),te=Math.max(X,j),ne=Math.min(ee,Y),fe=Math.max(ee,Y);if(se<=$&&$<=te&&ne<=Z&&Z<=fe){var pe=function(i,a,l){return[i-2*a+l,2*(a-i),i]}(X,Q,j),De=function(i,a,l,f){var h=a*a-4*i*(l-=f);if(h<0)return[];var p=Math.sqrt(h),m=2*i;return[(-a+p)/m,(-a-p)/m]}(pe[0],pe[1],pe[2],$),he=De.filter(function(be){return 0<=be&&be<=1});if(he.length>0)return he[0]}return null},M=Object.keys(E),x=0;x<M.length;x++){var A=E[M[x]],N=S(i,a,A);if(null!=N){var q=oi(A[5],A[3],A[1],N);if(A.isTop&&q<=a||A.isBottom&&a<=q)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ai(4,0),draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},intersectLine:function(i,a,l,f,h,p,m){var y=a-(f/2+m),S=Ba(h,p,i,a,i-(l/2+m),y,i+(l/2+m),y,!1);return S.length>0?S:Mt(h,p,i,a,l,f,m)},checkPoint:function(i,a,l,f,h,p,m){var b=rs(f,h),y=2*b;if(go(i,a,this.points,p,m,f,h-y,[0,-1],l)||go(i,a,this.points,p,m,f-y,h,[0,-1],l))return!0;var D=f/2+2*l,E=h/2+2*l;return!!(ai(i,a,[p-D,m-E,p-D,m,p+D,m,p+D,m-E])||Pr(i,a,y,y,p+f/2-b,m+h/2-b,l)||Pr(i,a,y,y,p-f/2+b,m+h/2-b,l))}}},registerNodeShapes:function(){var s=this.nodeShapes={},i=this;this.generateEllipse(),this.generatePolygon("triangle",Ai(3,0)),this.generateRoundPolygon("round-triangle",Ai(3,0)),this.generatePolygon("rectangle",Ai(4,0)),s.square=s.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var a=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",a),this.generateRoundPolygon("round-diamond",a),this.generatePolygon("pentagon",Ai(5,0)),this.generateRoundPolygon("round-pentagon",Ai(5,0)),this.generatePolygon("hexagon",Ai(6,0)),this.generateRoundPolygon("round-hexagon",Ai(6,0)),this.generatePolygon("heptagon",Ai(7,0)),this.generateRoundPolygon("round-heptagon",Ai(7,0)),this.generatePolygon("octagon",Ai(8,0)),this.generateRoundPolygon("round-octagon",Ai(8,0));var l=new Array(20),f=No(5,0),h=No(5,Math.PI/5),p=.5*(3-Math.sqrt(5));p*=1.57;for(var m=0;m<h.length/2;m++)h[2*m]*=p,h[2*m+1]*=p;for(m=0;m<5;m++)l[4*m]=f[2*m],l[4*m+1]=f[2*m+1],l[4*m+2]=h[2*m],l[4*m+3]=h[2*m+1];l=Yn(l),this.generatePolygon("star",l),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var b=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",b),this.generateRoundPolygon("round-tag",b),s.makePolygon=function(y){var S,E="polygon-"+y.join("$");return(S=this[E])?S:i.generatePolygon(E,y)}}},Zu={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(s){s=s||Pc();var i=this;void 0===i.averageRedrawTime&&(i.averageRedrawTime=0),void 0===i.lastRedrawTime&&(i.lastRedrawTime=0),void 0===i.lastDrawTime&&(i.lastDrawTime=0),i.requestedFrame=!0,i.renderOptions=s},beforeRender:function(s,i){if(!this.destroyed){null==i&&Vn("Priority is not optional for beforeRender");var a=this.beforeRenderCallbacks;a.push({fn:s,priority:i}),a.sort(function(l,f){return f.priority-l.priority})}}},Hf=function(i,a,l){for(var f=i.beforeRenderCallbacks,h=0;h<f.length;h++)f[h].fn(a,l)};Zu.startRenderLoop=function(){var s=this,i=s.cy;s.renderLoopStarted||(s.renderLoopStarted=!0,Tc(function l(f){if(!s.destroyed){if(!i.batching())if(s.requestedFrame&&!s.skipFrame){Hf(s,!0,f);var h=Pa();s.render(s.renderOptions);var p=s.lastDrawTime=Pa();void 0===s.averageRedrawTime&&(s.averageRedrawTime=p-h),void 0===s.redrawCount&&(s.redrawCount=0),s.redrawCount++,void 0===s.redrawTotalTime&&(s.redrawTotalTime=0);var m=p-h;s.redrawTotalTime+=m,s.lastRedrawTime=m,s.averageRedrawTime=s.averageRedrawTime/2+m/2,s.requestedFrame=!1}else Hf(s,!1,f);s.skipFrame=!1,Tc(l)}}))};var Uf=function(i){this.init(i)},Hr=Uf.prototype;Hr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Hr.init=function(s){var i=this;i.options=s,i.cy=s.cy;var a=i.container=s.cy.container(),l=i.cy.window();if(l){var f=l.document,h=f.head,p="__________cytoscape_stylesheet",m="__________cytoscape_container",b=null!=f.getElementById(p);if(a.className.indexOf(m)<0&&(a.className=(a.className||"")+" "+m),!b){var y=f.createElement("style");y.id=p,y.textContent="."+m+" { position: relative; }",h.insertBefore(y,h.children[0])}"static"===l.getComputedStyle(a).getPropertyValue("position")&&Ut("A Cytoscape container has style position:static and so can not use UI extensions properly")}i.selection=[void 0,void 0,void 0,void 0,0],i.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],i.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},i.dragData={possibleDragElements:[]},i.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},i.redraws=0,i.showFps=s.showFps,i.debug=s.debug,i.hideEdgesOnViewport=s.hideEdgesOnViewport,i.textureOnViewport=s.textureOnViewport,i.wheelSensitivity=s.wheelSensitivity,i.motionBlurEnabled=s.motionBlur,i.forcedPixelRatio=ot(s.pixelRatio)?s.pixelRatio:null,i.motionBlur=s.motionBlur,i.motionBlurOpacity=s.motionBlurOpacity,i.motionBlurTransparency=1-i.motionBlurOpacity,i.motionBlurPxRatio=1,i.mbPxRBlurry=1,i.minMbLowQualFrames=4,i.fullQualityMb=!1,i.clearedForMotionBlur=[],i.desktopTapThreshold=s.desktopTapThreshold,i.desktopTapThreshold2=s.desktopTapThreshold*s.desktopTapThreshold,i.touchTapThreshold=s.touchTapThreshold,i.touchTapThreshold2=s.touchTapThreshold*s.touchTapThreshold,i.tapholdDuration=500,i.bindings=[],i.beforeRenderCallbacks=[],i.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},i.registerNodeShapes(),i.registerArrowShapes(),i.registerCalculationListeners()},Hr.notify=function(s,i){var a=this,l=a.cy;if(!this.destroyed){if("init"===s)return void a.load();if("destroy"===s)return void a.destroy();("add"===s||"remove"===s||"move"===s&&l.hasCompoundNodes()||"load"===s||"zorder"===s||"mount"===s)&&a.invalidateCachedZSortedEles(),"viewport"===s&&a.redrawHint("select",!0),("load"===s||"resize"===s||"mount"===s)&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container)),a.redrawHint("eles",!0),a.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Hr.destroy=function(){var s=this;s.destroyed=!0,s.cy.stopAnimationLoop();for(var i=0;i<s.bindings.length;i++){var a=s.bindings[i],f=a.target;(f.off||f.removeEventListener).apply(f,a.args)}if(s.bindings=[],s.beforeRenderCallbacks=[],s.onUpdateEleCalcsFns=[],s.removeObserver&&s.removeObserver.disconnect(),s.styleObserver&&s.styleObserver.disconnect(),s.resizeObserver&&s.resizeObserver.disconnect(),s.labelCalcDiv)try{document.body.removeChild(s.labelCalcDiv)}catch{}},Hr.isHeadless=function(){return!1},[Fr,$f,Wu,Uo,Ka,Zu].forEach(function(s){It(Hr,s)});var nc=1e3/60,ti_setupDequeueing=function(i){return function(){var l=this,f=this.renderer;if(!l.dequeueingSetup){l.dequeueingSetup=!0;var h=rt.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},i.deqRedrawThreshold);f.beforeRender(function(y,D){var E=Pa(),S=f.averageRedrawTime,M=f.lastRedrawTime,x=[],R=f.cy.extent(),A=f.getPixelRatio();for(y||f.flushRenderedStyleQueue();;){var N=Pa(),P=N-E,k=N-D;if(M<nc){if(k>=i.deqFastCost*(nc-(y?S:0)))break}else if(y){if(P>=i.deqCost*M||P>=i.deqAvgCost*S)break}else if(k>=i.deqNoDrawCost*nc)break;var q=i.deq(l,A,R);if(!(q.length>0))break;for(var K=0;K<q.length;K++)x.push(q[K])}x.length>0&&(i.onDeqd(l,x),!y&&i.shouldRedraw(l,x,A,R)&&h())},(i.priority||uf)(l))}}},Ws=function(){function s(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl;wr(this,s),this.idsByKey=new pa,this.keyForId=new pa,this.cachesByLvl=new pa,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=a}return Bn(s,[{key:"getIdsFor",value:function(a){null==a&&Vn("Can not get id list for null key");var l=this.idsByKey,f=this.idsByKey.get(a);return f||(f=new mu,l.set(a,f)),f}},{key:"addIdForKey",value:function(a,l){null!=a&&this.getIdsFor(a).add(l)}},{key:"deleteIdForKey",value:function(a,l){null!=a&&this.getIdsFor(a).delete(l)}},{key:"getNumberOfIdsForKey",value:function(a){return null==a?0:this.getIdsFor(a).size}},{key:"updateKeyMappingFor",value:function(a){var l=a.id(),f=this.keyForId.get(l),h=this.getKey(a);this.deleteIdForKey(f,l),this.addIdForKey(h,l),this.keyForId.set(l,h)}},{key:"deleteKeyMappingFor",value:function(a){var l=a.id(),f=this.keyForId.get(l);this.deleteIdForKey(f,l),this.keyForId.delete(l)}},{key:"keyHasChangedFor",value:function(a){var l=a.id();return this.keyForId.get(l)!==this.getKey(a)}},{key:"isInvalid",value:function(a){return this.keyHasChangedFor(a)||this.doesEleInvalidateKey(a)}},{key:"getCachesAt",value:function(a){var l=this.cachesByLvl,f=this.lvls,h=l.get(a);return h||(h=new pa,l.set(a,h),f.push(a)),h}},{key:"getCache",value:function(a,l){return this.getCachesAt(l).get(a)}},{key:"get",value:function(a,l){var f=this.getKey(a),h=this.getCache(f,l);return null!=h&&this.updateKeyMappingFor(a),h}},{key:"getForCachedKey",value:function(a,l){var f=this.keyForId.get(a.id());return this.getCache(f,l)}},{key:"hasCache",value:function(a,l){return this.getCachesAt(l).has(a)}},{key:"has",value:function(a,l){var f=this.getKey(a);return this.hasCache(f,l)}},{key:"setCache",value:function(a,l,f){f.key=a,this.getCachesAt(l).set(a,f)}},{key:"set",value:function(a,l,f){var h=this.getKey(a);this.setCache(h,l,f),this.updateKeyMappingFor(a)}},{key:"deleteCache",value:function(a,l){this.getCachesAt(l).delete(a)}},{key:"delete",value:function(a,l){var f=this.getKey(a);this.deleteCache(f,l)}},{key:"invalidateKey",value:function(a){var l=this;this.lvls.forEach(function(f){return l.deleteCache(a,f)})}},{key:"invalidate",value:function(a){var l=a.id(),f=this.keyForId.get(l);this.deleteKeyMappingFor(a);var h=this.doesEleInvalidateKey(a);return h&&this.invalidateKey(f),h||0===this.getNumberOfIdsForKey(f)}}]),s}(),Qu={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},iv=Nr({getKey:null,doesEleInvalidateKey:Dl,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Th,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),mr=function(i,a){var l=this;l.renderer=i,l.onDequeues=[];var f=iv(a);It(l,f),l.lookup=new Ws(f.getKey,f.doesEleInvalidateKey),l.setupDequeueing()},Ur=mr.prototype;Ur.reasons=Qu,Ur.getTextureQueue=function(s){var i=this;return i.eleImgCaches=i.eleImgCaches||{},i.eleImgCaches[s]=i.eleImgCaches[s]||[]},Ur.getRetiredTextureQueue=function(s){var a=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return a[s]=a[s]||[]},Ur.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new vt.default(function(a,l){return l.reqs-a.reqs})},Ur.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Ur.getElement=function(s,i,a,l,f){var h=this,p=this.renderer,m=p.cy.zoom(),b=this.lookup;if(!i||0===i.w||0===i.h||isNaN(i.w)||isNaN(i.h)||!s.visible()||s.removed()||!h.allowEdgeTxrCaching&&s.isEdge()||!h.allowParentTxrCaching&&s.isParent())return null;if(null==l&&(l=Math.ceil(Lh(m*a))),l<-4)l=-4;else if(m>=7.99||l>3)return null;var y=Math.pow(2,l),D=i.h*y,E=i.w*y,S=p.eleTextBiggerThanMin(s,y);if(!this.isVisible(s,S))return null;var x,M=b.get(s,l);if(M&&M.invalidated&&(M.invalidated=!1,M.texture.invalidatedWidth-=M.width),M)return M;if(x=D<=25?25:D<=50?50:50*Math.ceil(D/50),D>1024||E>1024)return null;var R=h.getTextureQueue(x),A=R[R.length-2],N=function(){return h.recycleTexture(x,E)||h.addTexture(x,E)};A||(A=R[R.length-1]),A||(A=N()),A.width-A.usedWidth<E&&(A=N());for(var K,P=function(te){return te&&te.scaledLabelShown===S},k=f&&f===Qu.dequeue,V=f&&f===Qu.highQuality,q=f&&f===Qu.downscale,$=l+1;$<=3;$++){var Z=b.get(s,$);if(Z){K=Z;break}}var U=K&&K.level===l+1?K:null,X=function(){A.context.drawImage(U.texture.canvas,U.x,0,U.width,U.height,A.usedWidth,0,E,D)};if(A.context.setTransform(1,0,0,1,0,0),A.context.clearRect(A.usedWidth,0,E,x),P(U))X();else if(P(K)){if(!V)return h.queueElement(s,K.level-1),K;for(var Q=K.level;Q>l;Q--)U=h.getElement(s,i,a,Q,Qu.downscale);X()}else{var j;if(!k&&!V&&!q)for(var ee=l-1;ee>=-4;ee--){var Y=b.get(s,ee);if(Y){j=Y;break}}if(P(j))return h.queueElement(s,l),j;A.context.translate(A.usedWidth,0),A.context.scale(y,y),this.drawElement(A.context,s,i,S,!1),A.context.scale(1/y,1/y),A.context.translate(-A.usedWidth,0)}return M={x:A.usedWidth,texture:A,level:l,scale:y,width:E,height:D,scaledLabelShown:S},A.usedWidth+=Math.ceil(E+8),A.eleCaches.push(M),b.set(s,l,M),h.checkTextureFullness(A),M},Ur.invalidateElements=function(s){for(var i=0;i<s.length;i++)this.invalidateElement(s[i])},Ur.invalidateElement=function(s){var i=this,a=i.lookup,l=[];if(a.isInvalid(s)){for(var h=-4;h<=3;h++){var p=a.getForCachedKey(s,h);p&&l.push(p)}if(a.invalidate(s))for(var b=0;b<l.length;b++){var y=l[b],D=y.texture;D.invalidatedWidth+=y.width,y.invalidated=!0,i.checkTextureUtility(D)}i.removeFromQueue(s)}},Ur.checkTextureUtility=function(s){s.invalidatedWidth>=.2*s.width&&this.retireTexture(s)},Ur.checkTextureFullness=function(s){var a=this.getTextureQueue(s.height);s.usedWidth/s.width>.8&&s.fullnessChecks>=10?Ao(a,s):s.fullnessChecks++},Ur.retireTexture=function(s){var a=s.height,l=this.getTextureQueue(a),f=this.lookup;Ao(l,s),s.retired=!0;for(var h=s.eleCaches,p=0;p<h.length;p++){var m=h[p];f.deleteCache(m.key,m.level)}lf(h),this.getRetiredTextureQueue(a).push(s)},Ur.addTexture=function(s,i){var f={};return this.getTextureQueue(s).push(f),f.eleCaches=[],f.height=s,f.width=Math.max(1024,i),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},Ur.recycleTexture=function(s,i){for(var l=this.getTextureQueue(s),f=this.getRetiredTextureQueue(s),h=0;h<f.length;h++){var p=f[h];if(p.width>=i)return p.retired=!1,p.usedWidth=0,p.invalidatedWidth=0,p.fullnessChecks=0,lf(p.eleCaches),p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(0,0,p.width,p.height),Ao(f,p),l.push(p),p}},Ur.queueElement=function(s,i){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(s),p=f[h];if(p)p.level=Math.max(p.level,i),p.eles.merge(s),p.reqs++,l.updateItem(p);else{var m={eles:s.spawn().merge(s),level:i,reqs:1,key:h};l.push(m),f[h]=m}},Ur.dequeue=function(s){for(var i=this,a=i.getElementQueue(),l=i.getElementKeyToQueue(),f=[],h=i.lookup,p=0;p<1&&a.size()>0;p++){var m=a.pop(),b=m.key,y=m.eles[0],D=h.hasCache(y,m.level);if(l[b]=null,!D){f.push(m);var E=i.getBoundingBox(y);i.getElement(y,E,s,m.level,Qu.dequeue)}}return f},Ur.removeFromQueue=function(s){var a=this.getElementQueue(),l=this.getElementKeyToQueue(),f=this.getKey(s),h=l[f];null!=h&&(1===h.eles.length?(h.reqs=sf,a.updateItem(h),a.pop(),l[f]=null):h.eles.unmerge(s))},Ur.onDequeue=function(s){this.onDequeues.push(s)},Ur.offDequeue=function(s){Ao(this.onDequeues,s)},Ur.setupDequeueing=ti_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,a,l){return i.dequeue(a,l)},onDeqd:function(i,a){for(var l=0;l<i.onDequeues.length;l++)(0,i.onDequeues[l])(a)},shouldRedraw:function(i,a,l,f){for(var h=0;h<a.length;h++)for(var p=a[h].eles,m=0;m<p.length;m++){var b=p[m].boundingBox();if(Ft(b,f))return!0}return!1},priority:function(i){return i.renderer.beforeRenderPriorities.eleTxrDeq}});var sv=function(i){var a=this,l=a.renderer=i,f=l.cy;a.layersByLevel={},a.firstGet=!0,a.lastInvalidationTime=Pa()-500,a.skipping=!1,a.eleTxrDeqs=f.collection(),a.scheduleElementRefinement=rt.default(function(){a.refineElementTextures(a.eleTxrDeqs),a.eleTxrDeqs.unmerge(a.eleTxrDeqs)},50),l.beforeRender(function(p,m){a.skipping=m-a.lastInvalidationTime<=250},l.beforeRenderPriorities.lyrTxrSkip),a.layersQueue=new vt.default(function(m,b){return b.reqs-m.reqs}),a.setupDequeueing()},ni=sv.prototype,Ep=0,uv=Math.pow(2,53)-1;ni.makeLayer=function(s,i){var a=Math.pow(2,i),l=Math.ceil(s.w*a),f=Math.ceil(s.h*a),h=this.renderer.makeOffscreenCanvas(l,f),p={id:Ep=++Ep%uv,bb:s,level:i,width:l,height:f,canvas:h,context:h.getContext("2d"),eles:[],elesQueue:[],reqs:0},m=p.context,b=-p.bb.x1,y=-p.bb.y1;return m.scale(a,a),m.translate(b,y),p},ni.getLayers=function(s,i,a){var l=this,p=l.renderer.cy.zoom(),m=l.firstGet;if(l.firstGet=!1,null==a)if((a=Math.ceil(Lh(p*i)))<-4)a=-4;else if(p>=3.99||a>2)return null;l.validateLayersElesOrdering(a,s);var E,M,b=l.layersByLevel,y=Math.pow(2,a),D=b[a]=b[a]||[];if(l.levelIsComplete(a,s))return D;!function(){var X=function(se){if(l.validateLayersElesOrdering(se,s),l.levelIsComplete(se,s))return M=b[se],!0},Q=function(se){if(!M)for(var te=a+se;-4<=te&&te<=2&&!X(te);te+=se);};Q(1),Q(-1);for(var j=D.length-1;j>=0;j--){var ee=D[j];ee.invalid&&Ao(D,ee)}}();var A=function(X){var Q=(X=X||{}).after;if(function(){if(!E){E=fo();for(var X=0;X<s.length;X++)ar(E,s[X].boundingBox())}}(),E.w*y*(E.h*y)>16e6)return null;var ee=l.makeLayer(E,a);if(null!=Q){var Y=D.indexOf(Q)+1;D.splice(Y,0,ee)}else(void 0===X.insert||X.insert)&&D.unshift(ee);return ee};if(l.skipping&&!m)return null;for(var N=null,P=s.length/1,k=!m,V=0;V<s.length;V++){var q=s[V],K=q._private.rscratch,$=K.imgLayerCaches=K.imgLayerCaches||{},Z=$[a];if(Z)N=Z;else{if((!N||N.eles.length>=P||!Vh(N.bb,q.boundingBox()))&&!(N=A({insert:!0,after:N})))return null;M||k?l.queueLayer(N,q):l.drawEleInLayer(N,q,a,i),N.eles.push(q),$[a]=N}}return M||(k?null:D)},ni.getEleLevelForLayerLevel=function(s,i){return s},ni.drawEleInLayer=function(s,i,a,l){var h=this.renderer,p=s.context,m=i.boundingBox();0===m.w||0===m.h||!i.visible()||(a=this.getEleLevelForLayerLevel(a,l),h.setImgSmoothing(p,!1),h.drawCachedElement(p,i,null,null,a,!0),h.setImgSmoothing(p,!0))},ni.levelIsComplete=function(s,i){var l=this.layersByLevel[s];if(!l||0===l.length)return!1;for(var f=0,h=0;h<l.length;h++){var p=l[h];if(p.reqs>0||p.invalid)return!1;f+=p.eles.length}return f===i.length},ni.validateLayersElesOrdering=function(s,i){var a=this.layersByLevel[s];if(a)for(var l=0;l<a.length;l++){for(var f=a[l],h=-1,p=0;p<i.length;p++)if(f.eles[0]===i[p]){h=p;break}if(h<0)this.invalidateLayer(f);else{var m=h;for(p=0;p<f.eles.length;p++)if(f.eles[p]!==i[m+p]){this.invalidateLayer(f);break}}}},ni.updateElementsInLayers=function(s,i){for(var l=lu(s[0]),f=0;f<s.length;f++)for(var h=l?null:s[f],p=l?s[f]:s[f].ele,m=p._private.rscratch,b=m.imgLayerCaches=m.imgLayerCaches||{},y=-4;y<=2;y++){var D=b[y];D&&(h&&this.getEleLevelForLayerLevel(D.level)!==h.level||i(D,p,h))}},ni.haveLayers=function(){for(var i=!1,a=-4;a<=2;a++){var l=this.layersByLevel[a];if(l&&l.length>0){i=!0;break}}return i},ni.invalidateElements=function(s){var i=this;0!==s.length&&(i.lastInvalidationTime=Pa(),0!==s.length&&i.haveLayers()&&i.updateElementsInLayers(s,function(l,f,h){i.invalidateLayer(l)}))},ni.invalidateLayer=function(s){if(this.lastInvalidationTime=Pa(),!s.invalid){var i=s.level,a=s.eles;Ao(this.layersByLevel[i],s),s.elesQueue=[],s.invalid=!0,s.replacement&&(s.replacement.invalid=!0);for(var f=0;f<a.length;f++){var h=a[f]._private.rscratch.imgLayerCaches;h&&(h[i]=null)}}},ni.refineElementTextures=function(s){var i=this;i.updateElementsInLayers(s,function(l,f,h){var p=l.replacement;if(p||((p=l.replacement=i.makeLayer(l.bb,l.level)).replaces=l,p.eles=l.eles),!p.reqs)for(var m=0;m<p.eles.length;m++)i.queueLayer(p,p.eles[m])})},ni.enqueueElementRefinement=function(s){this.eleTxrDeqs.merge(s),this.scheduleElementRefinement()},ni.queueLayer=function(s,i){var l=this.layersQueue,f=s.elesQueue,h=f.hasId=f.hasId||{};if(!s.replacement){if(i){if(h[i.id()])return;f.push(i),h[i.id()]=!0}s.reqs?(s.reqs++,l.updateItem(s)):(s.reqs=1,l.push(s))}},ni.dequeue=function(s){for(var i=this,a=i.layersQueue,l=[],f=0;f<1&&0!==a.size();){var h=a.peek();if(h.replacement)a.pop();else if(h.replaces&&h!==h.replaces.replacement)a.pop();else if(h.invalid)a.pop();else{var p=h.elesQueue.shift();p&&(i.drawEleInLayer(h,p,h.level,s),f++),0===l.length&&l.push(!0),0===h.elesQueue.length&&(a.pop(),h.reqs=0,h.replaces&&i.applyLayerReplacement(h),i.requestRedraw())}}return l},ni.applyLayerReplacement=function(s){var a=this.layersByLevel[s.level],l=s.replaces,f=a.indexOf(l);if(!(f<0||l.invalid)){a[f]=s;for(var h=0;h<s.eles.length;h++){var p=s.eles[h]._private,m=p.imgLayerCaches=p.imgLayerCaches||{};m&&(m[s.level]=s)}this.requestRedraw()}},ni.requestRedraw=rt.default(function(){var s=this.renderer;s.redrawHint("eles",!0),s.redrawHint("drag",!0),s.redraw()},100),ni.setupDequeueing=ti_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,a){return i.dequeue(a)},onDeqd:uf,shouldRedraw:Th,priority:function(i){return i.renderer.beforeRenderPriorities.lyrTxrDeq}});var Sp,_p={};function qf(s,i){for(var a=0;a<i.length;a++){var l=i[a];s.lineTo(l.x,l.y)}}function lv(s,i,a){for(var l,f=0;f<i.length;f++){var h=i[f];0===f&&(l=h),s.lineTo(h.x,h.y)}s.quadraticCurveTo(a.x,a.y,l.x,l.y)}function Sd(s,i,a){s.beginPath&&s.beginPath();for(var l=i,f=0;f<l.length;f++)s.lineTo((h=l[f]).x,h.y);var p=a,m=a[0];for(s.moveTo(m.x,m.y),f=1;f<p.length;f++){var h;s.lineTo((h=p[f]).x,h.y)}s.closePath&&s.closePath()}function xd(s,i,a,l,f){s.beginPath&&s.beginPath(),s.arc(a,l,f,0,2*Math.PI,!1);var h=i,p=h[0];s.moveTo(p.x,p.y);for(var m=0;m<h.length;m++){var b=h[m];s.lineTo(b.x,b.y)}s.closePath&&s.closePath()}function cv(s,i,a,l){s.arc(i,a,l,0,2*Math.PI,!1)}_p.arrowShapeImpl=function(s){return(Sp||(Sp={polygon:qf,"triangle-backcurve":lv,"triangle-tee":Sd,"circle-triangle":xd,"triangle-cross":Sd,circle:cv}))[s]};var So={drawElement:function(s,i,a,l,f,h){i.isNode()?this.drawNode(s,i,a,l,f,h):this.drawEdge(s,i,a,l,f,h)},drawElementOverlay:function(s,i){i.isNode()?this.drawNodeOverlay(s,i):this.drawEdgeOverlay(s,i)},drawElementUnderlay:function(s,i){i.isNode()?this.drawNodeUnderlay(s,i):this.drawEdgeUnderlay(s,i)},drawCachedElementPortion:function(s,i,a,l,f,h,p,m){var b=this,y=a.getBoundingBox(i);if(0!==y.w&&0!==y.h){var D=a.getElement(i,y,l,f,h);if(null!=D){var E=m(b,i);if(0===E)return;var N,P,k,V,q,Z,S=p(b,i),M=y.x1,x=y.y1,R=y.w,A=y.h;if(0!==S){var K=a.getRotationPoint(i);s.translate(k=K.x,V=K.y),s.rotate(S),(q=b.getImgSmoothing(s))||b.setImgSmoothing(s,!0);var $=a.getRotationOffset(i);N=$.x,P=$.y}else N=M,P=x;1!==E&&(s.globalAlpha=(Z=s.globalAlpha)*E),s.drawImage(D.texture.canvas,D.x,0,D.width,D.height,N,P,R,A),1!==E&&(s.globalAlpha=Z),0!==S&&(s.rotate(-S),s.translate(-k,-V),q||b.setImgSmoothing(s,!1))}else a.drawElement(s,i)}}},dv=function(){return 0},Md=function(i,a){return i.getTextAngle(a,null)},fv=function(i,a){return i.getTextAngle(a,"source")},xp=function(i,a){return i.getTextAngle(a,"target")},Wf=function(i,a){return a.effectiveOpacity()},nl=function(i,a){return a.pstyle("text-opacity").pfValue*a.effectiveOpacity()};So.drawCachedElement=function(s,i,a,l,f,h){var p=this,m=p.data,b=m.eleTxrCache,y=m.lblTxrCache,D=m.slbTxrCache,E=m.tlbTxrCache,S=i.boundingBox(),M=!0===h?b.reasons.highQuality:null;if(0!==S.w&&0!==S.h&&i.visible()&&(!l||Ft(S,l))){var x=i.isEdge(),R=i.element()._private.rscratch.badLine;p.drawElementUnderlay(s,i),p.drawCachedElementPortion(s,i,b,a,f,M,dv,Wf),(!x||!R)&&p.drawCachedElementPortion(s,i,y,a,f,M,Md,nl),x&&!R&&(p.drawCachedElementPortion(s,i,D,a,f,M,fv,nl),p.drawCachedElementPortion(s,i,E,a,f,M,xp,nl)),p.drawElementOverlay(s,i)}},So.drawElements=function(s,i){for(var l=0;l<i.length;l++)this.drawElement(s,i[l])},So.drawCachedElements=function(s,i,a,l){for(var h=0;h<i.length;h++)this.drawCachedElement(s,i[h],a,l)},So.drawCachedNodes=function(s,i,a,l){for(var h=0;h<i.length;h++){var p=i[h];p.isNode()&&this.drawCachedElement(s,p,a,l)}},So.drawLayeredElements=function(s,i,a,l){var h=this.data.lyrTxrCache.getLayers(i,a);if(h)for(var p=0;p<h.length;p++){var m=h[p],b=m.bb;0===b.w||0===b.h||s.drawImage(m.canvas,b.x1,b.y1,b.w,b.h)}else this.drawCachedElements(s,i,a,l)};var Ia={drawEdge:function(s,i,a){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this,m=i._private.rscratch;if((!h||i.visible())&&!m.badLine&&null!=m.allpts&&!isNaN(m.allpts[0])){var b;a&&s.translate(-(b=a).x1,-b.y1);var y=h?i.pstyle("opacity").value:1,D=h?i.pstyle("line-opacity").value:1,E=i.pstyle("curve-style").value,S=i.pstyle("line-style").value,M=i.pstyle("width").pfValue,x=i.pstyle("line-cap").value,R=y*D,A=y*D,N=function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;"straight-triangle"===E?(p.eleStrokeStyle(s,i,j),p.drawEdgeTrianglePath(i,s,m.allpts)):(s.lineWidth=M,s.lineCap=x,p.eleStrokeStyle(s,i,j),p.drawEdgePath(i,s,m.allpts,S),s.lineCap="butt")},V=function(){p.drawArrowheads(s,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:A)};if(s.lineJoin="round","yes"===i.pstyle("ghost").value){var $=i.pstyle("ghost-offset-x").pfValue,Z=i.pstyle("ghost-offset-y").pfValue,U=i.pstyle("ghost-opacity").value,X=R*U;s.translate($,Z),N(X),V(X),s.translate(-$,-Z)}f&&p.drawEdgeUnderlay(s,i),N(),V(),f&&p.drawEdgeOverlay(s,i),p.drawElementText(s,i,null,l),a&&s.translate(b.x1,b.y1)}}},Mp=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(a,l){if(l.visible()){var f=l.pstyle("".concat(i,"-opacity")).value;if(0!==f){var h=this,p=h.usePaths(),m=l._private.rscratch,y=2*l.pstyle("".concat(i,"-padding")).pfValue,D=l.pstyle("".concat(i,"-color")).value;a.lineWidth=y,a.lineCap="self"!==m.edgeType||p?"round":"butt",h.colorStrokeStyle(a,D[0],D[1],D[2],f),h.drawEdgePath(l,a,m.allpts,"solid")}}}};Ia.drawEdgeOverlay=Mp("overlay"),Ia.drawEdgeUnderlay=Mp("underlay"),Ia.drawEdgePath=function(s,i,a,l){var p,f=s._private.rscratch,h=i,m=!1,b=this.usePaths(),y=s.pstyle("line-dash-pattern").pfValue,D=s.pstyle("line-dash-offset").pfValue;if(b){var E=a.join("$");f.pathCacheKey&&f.pathCacheKey===E?(p=i=f.pathCache,m=!0):(p=i=new Path2D,f.pathCacheKey=E,f.pathCache=p)}if(h.setLineDash)switch(l){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash(y),h.lineDashOffset=D;break;case"solid":h.setLineDash([])}if(!m&&!f.badLine)switch(i.beginPath&&i.beginPath(),i.moveTo(a[0],a[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var M=2;M+3<a.length;M+=4)i.quadraticCurveTo(a[M],a[M+1],a[M+2],a[M+3]);break;case"straight":case"segments":case"haystack":for(var x=2;x+1<a.length;x+=2)i.lineTo(a[x],a[x+1])}i=h,b?i.stroke(p):i.stroke(),i.setLineDash&&i.setLineDash([])},Ia.drawEdgeTrianglePath=function(s,i,a){i.fillStyle=i.strokeStyle;for(var l=s.pstyle("width").pfValue,f=0;f+1<a.length;f+=2){var h=[a[f+2]-a[f],a[f+3]-a[f+1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),m=[h[1]/p,-h[0]/p],b=[m[0]*l/2,m[1]*l/2];i.beginPath(),i.moveTo(a[f]-b[0],a[f+1]-b[1]),i.lineTo(a[f]+b[0],a[f+1]+b[1]),i.lineTo(a[f+2],a[f+3]),i.closePath(),i.fill()}},Ia.drawArrowheads=function(s,i,a){var l=i._private.rscratch,f="haystack"===l.edgeType;f||this.drawArrowhead(s,i,"source",l.arrowStartX,l.arrowStartY,l.srcArrowAngle,a),this.drawArrowhead(s,i,"mid-target",l.midX,l.midY,l.midtgtArrowAngle,a),this.drawArrowhead(s,i,"mid-source",l.midX,l.midY,l.midsrcArrowAngle,a),f||this.drawArrowhead(s,i,"target",l.arrowEndX,l.arrowEndY,l.tgtArrowAngle,a)},Ia.drawArrowhead=function(s,i,a,l,f,h,p){if(!(isNaN(l)||null==l||isNaN(f)||null==f||isNaN(h)||null==h)){var m=this,b=i.pstyle(a+"-arrow-shape").value;if("none"!==b){var y="hollow"===i.pstyle(a+"-arrow-fill").value?"both":"filled",D=i.pstyle(a+"-arrow-fill").value,E=i.pstyle("width").pfValue,S=i.pstyle("opacity").value;void 0===p&&(p=S);var M=s.globalCompositeOperation;(1!==p||"hollow"===D)&&(s.globalCompositeOperation="destination-out",m.colorFillStyle(s,255,255,255,1),m.colorStrokeStyle(s,255,255,255,1),m.drawArrowShape(i,s,y,E,b,l,f,h),s.globalCompositeOperation=M);var x=i.pstyle(a+"-arrow-color").value;m.colorFillStyle(s,x[0],x[1],x[2],p),m.colorStrokeStyle(s,x[0],x[1],x[2],p),m.drawArrowShape(i,s,D,E,b,l,f,h)}}},Ia.drawArrowShape=function(s,i,a,l,f,h,p,m){var E,b=this,y=this.usePaths()&&"triangle-cross"!==f,D=!1,S=i,M={x:h,y:p},x=s.pstyle("arrow-scale").value,R=this.getArrowWidth(l,x),A=b.arrowShapes[f];if(y){var N=b.arrowPathCache=b.arrowPathCache||[],P=ha(f),k=N[P];null!=k?(E=i=k,D=!0):(E=i=new Path2D,N[P]=E)}D||(i.beginPath&&i.beginPath(),y?A.draw(i,1,0,{x:0,y:0},1):A.draw(i,R,m,M,l),i.closePath&&i.closePath()),i=S,y&&(i.translate(h,p),i.rotate(m),i.scale(R,R)),("filled"===a||"both"===a)&&(y?i.fill(E):i.fill()),("hollow"===a||"both"===a)&&(i.lineWidth=(A.matchEdgeWidth?l:1)/(y?R:1),i.lineJoin="miter",y?i.stroke(E):i.stroke()),y&&(i.scale(1/R,1/R),i.rotate(-m),i.translate(-h,-p))};var Zf={safeDrawImage:function(s,i,a,l,f,h,p,m,b,y){if(!(f<=0||h<=0||b<=0||y<=0))try{s.drawImage(i,a,l,f,h,p,m,b,y)}catch(D){Ut(D)}},drawInscribedImage:function(s,i,a,l,f){var h=this,p=a.position(),m=p.x,b=p.y,y=a.cy().style(),D=y.getIndexedStyle.bind(y),E=D(a,"background-fit","value",l),S=D(a,"background-repeat","value",l),M=a.width(),x=a.height(),R=2*a.padding(),A=M+("inner"===D(a,"background-width-relative-to","value",l)?0:R),N=x+("inner"===D(a,"background-height-relative-to","value",l)?0:R),P=a._private.rscratch,V="node"===D(a,"background-clip","value",l),q=D(a,"background-image-opacity","value",l)*f,K=D(a,"background-image-smoothing","value",l),$=i.width||i.cachedW,Z=i.height||i.cachedH;(null==$||null==Z)&&(document.body.appendChild(i),$=i.cachedW=i.width||i.offsetWidth,Z=i.cachedH=i.height||i.offsetHeight,document.body.removeChild(i));var U=$,X=Z;if("auto"!==D(a,"background-width","value",l)&&(U="%"===D(a,"background-width","units",l)?D(a,"background-width","pfValue",l)*A:D(a,"background-width","pfValue",l)),"auto"!==D(a,"background-height","value",l)&&(X="%"===D(a,"background-height","units",l)?D(a,"background-height","pfValue",l)*N:D(a,"background-height","pfValue",l)),0!==U&&0!==X){if("contain"===E)U*=Q=Math.min(A/U,N/X),X*=Q;else if("cover"===E){var Q;U*=Q=Math.max(A/U,N/X),X*=Q}var j=m-A/2,ee=D(a,"background-position-x","units",l),Y=D(a,"background-position-x","pfValue",l);j+="%"===ee?(A-U)*Y:Y;var se=D(a,"background-offset-x","units",l),te=D(a,"background-offset-x","pfValue",l);j+="%"===se?(A-U)*te:te;var ne=b-N/2,fe=D(a,"background-position-y","units",l),pe=D(a,"background-position-y","pfValue",l);ne+="%"===fe?(N-X)*pe:pe;var De=D(a,"background-offset-y","units",l),he=D(a,"background-offset-y","pfValue",l);ne+="%"===De?(N-X)*he:he,P.pathCache&&(j-=m,ne-=b,m=0,b=0);var be=s.globalAlpha;s.globalAlpha=q;var Ae=h.getImgSmoothing(s),Fe=!1;if("no"===K&&Ae?(h.setImgSmoothing(s,!1),Fe=!0):"yes"===K&&!Ae&&(h.setImgSmoothing(s,!0),Fe=!0),"no-repeat"===S)V&&(s.save(),P.pathCache?s.clip(P.pathCache):(h.nodeShapes[h.getNodeShape(a)].draw(s,m,b,A,N),s.clip())),h.safeDrawImage(s,i,0,0,$,Z,j,ne,U,X),V&&s.restore();else{var Me=s.createPattern(i,S);s.fillStyle=Me,h.nodeShapes[h.getNodeShape(a)].draw(s,m,b,A,N),s.translate(j,ne),s.fill(),s.translate(-j,-ne)}s.globalAlpha=be,Fe&&h.setImgSmoothing(s,Ae)}}},zo={eleTextBiggerThanMin:function(s,i){if(!i){var a=s.cy().zoom(),l=this.getPixelRatio(),f=Math.ceil(Lh(a*l));i=Math.pow(2,f)}return!(s.pstyle("font-size").pfValue*i<s.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(s,i,a,l,f){var h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this;if(null==l){if(h&&!p.eleTextBiggerThanMin(i))return}else if(!1===l)return;if(i.isNode()){var m=i.pstyle("label");if(!m||!m.value)return;var b=p.getLabelJustification(i);s.textAlign=b,s.textBaseline="bottom"}else{var y=i.element()._private.rscratch.badLine,D=i.pstyle("label"),E=i.pstyle("source-label"),S=i.pstyle("target-label");if(y||(!D||!D.value)&&(!E||!E.value)&&(!S||!S.value))return;s.textAlign="center",s.textBaseline="bottom"}var x,M=!a;a&&s.translate(-(x=a).x1,-x.y1),null==f?(p.drawText(s,i,null,M,h),i.isEdge()&&(p.drawText(s,i,"source",M,h),p.drawText(s,i,"target",M,h))):p.drawText(s,i,f,M,h),a&&s.translate(x.x1,x.y1)},getFontCache:function(s){var i;this.fontCaches=this.fontCaches||[];for(var a=0;a<this.fontCaches.length;a++)if((i=this.fontCaches[a]).context===s)return i;return this.fontCaches.push(i={context:s}),i},setupTextStyle:function(s,i){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=i.pstyle("font-style").strValue,f=i.pstyle("font-size").pfValue+"px",h=i.pstyle("font-family").strValue,p=i.pstyle("font-weight").strValue,m=a?i.effectiveOpacity()*i.pstyle("text-opacity").value:1,b=i.pstyle("text-outline-opacity").value*m,y=i.pstyle("color").value,D=i.pstyle("text-outline-color").value;s.font=l+" "+p+" "+f+" "+h,s.lineJoin="round",this.colorFillStyle(s,y[0],y[1],y[2],m),this.colorStrokeStyle(s,D[0],D[1],D[2],b)},getTextAngle:function(s,i){var f=s._private.rscratch,p=s.pstyle((i?i+"-":"")+"text-rotation"),m=lo(f,"labelAngle",i);return"autorotate"===p.strValue?s.isEdge()?m:0:"none"===p.strValue?0:p.pfValue},drawText:function(s,i,a){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=i._private.rscratch,m=f?i.effectiveOpacity():1;if(!f||0!==m&&0!==i.pstyle("text-opacity").value){"main"===a&&(a=null);var D,E,b=lo(p,"labelX",a),y=lo(p,"labelY",a),S=this.getLabelText(i,a);if(null!=S&&""!==S&&!isNaN(b)&&!isNaN(y)){this.setupTextStyle(s,i,f);var q,M=a?a+"-":"",x=lo(p,"labelWidth",a),R=lo(p,"labelHeight",a),A=i.pstyle(M+"text-margin-x").pfValue,N=i.pstyle(M+"text-margin-y").pfValue,P=i.isEdge(),k=i.pstyle("text-halign").value,V=i.pstyle("text-valign").value;switch(P&&(k="center",V="center"),b+=A,y+=N,0!==(q=l?this.getTextAngle(i,a):0)&&(s.translate(D=b,E=y),s.rotate(q),b=0,y=0),V){case"top":break;case"center":y+=R/2;break;case"bottom":y+=R}var K=i.pstyle("text-background-opacity").value,$=i.pstyle("text-border-opacity").value,Z=i.pstyle("text-border-width").pfValue,U=i.pstyle("text-background-padding").pfValue;if(K>0||Z>0&&$>0){var X=b-U;switch(k){case"left":X-=x;break;case"center":X-=x/2}var Q=y-R-U,j=x+2*U,ee=R+2*U;if(K>0){var Y=s.fillStyle,se=i.pstyle("text-background-color").value;s.fillStyle="rgba("+se[0]+","+se[1]+","+se[2]+","+K*m+")",0===i.pstyle("text-background-shape").strValue.indexOf("round")?function oc(s,i,a,l,f){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;s.beginPath(),s.moveTo(i+h,a),s.lineTo(i+l-h,a),s.quadraticCurveTo(i+l,a,i+l,a+h),s.lineTo(i+l,a+f-h),s.quadraticCurveTo(i+l,a+f,i+l-h,a+f),s.lineTo(i+h,a+f),s.quadraticCurveTo(i,a+f,i,a+f-h),s.lineTo(i,a+h),s.quadraticCurveTo(i,a,i+h,a),s.closePath(),s.fill()}(s,X,Q,j,ee,2):s.fillRect(X,Q,j,ee),s.fillStyle=Y}if(Z>0&&$>0){var ne=s.strokeStyle,fe=s.lineWidth,pe=i.pstyle("text-border-color").value,De=i.pstyle("text-border-style").value;if(s.strokeStyle="rgba("+pe[0]+","+pe[1]+","+pe[2]+","+$*m+")",s.lineWidth=Z,s.setLineDash)switch(De){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([4,2]);break;case"double":s.lineWidth=Z/4,s.setLineDash([]);break;case"solid":s.setLineDash([])}if(s.strokeRect(X,Q,j,ee),"double"===De){var he=Z/2;s.strokeRect(X+he,Q+he,j-2*he,ee-2*he)}s.setLineDash&&s.setLineDash([]),s.lineWidth=fe,s.strokeStyle=ne}}var be=2*i.pstyle("text-outline-width").pfValue;if(be>0&&(s.lineWidth=be),"wrap"===i.pstyle("text-wrap").value){var Ae=lo(p,"labelWrapCachedLines",a),Fe=lo(p,"labelLineHeight",a),Me=x/2,Ie=this.getLabelJustification(i);switch("auto"===Ie||("left"===k?"left"===Ie?b+=-x:"center"===Ie&&(b+=-Me):"center"===k?"left"===Ie?b+=-Me:"right"===Ie&&(b+=Me):"right"===k&&("center"===Ie?b+=Me:"right"===Ie&&(b+=x))),V){case"top":case"center":case"bottom":y-=(Ae.length-1)*Fe}for(var ce=0;ce<Ae.length;ce++)be>0&&s.strokeText(Ae[ce],b,y),s.fillText(Ae[ce],b,y),y+=Fe}else be>0&&s.strokeText(S,b,y),s.fillText(S,b,y);0!==q&&(s.rotate(-q),s.translate(-D,-E))}}}},rl={drawNode:function(s,i,a){var m,b,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this,y=i._private,D=y.rscratch,E=i.position();if(ot(E.x)&&ot(E.y)&&(!h||i.visible())){var x,N,S=h?i.effectiveOpacity():1,M=p.usePaths(),R=!1,A=i.padding();m=i.width()+2*A,b=i.height()+2*A,a&&s.translate(-(N=a).x1,-N.y1);for(var k=i.pstyle("background-image").value,V=new Array(k.length),q=new Array(k.length),K=0,$=0;$<k.length;$++){var Z=k[$];if(V[$]=null!=Z&&"none"!==Z){var X=i.cy().style().getIndexedStyle(i,"background-image-crossorigin","value",$);K++,q[$]=p.getCachedImage(Z,X,function(){y.backgroundTimestamp=Date.now(),i.emitAndNotify("background")})}}var Q=i.pstyle("background-blacken").value,j=i.pstyle("border-width").pfValue,ee=i.pstyle("background-opacity").value*S,Y=i.pstyle("border-color").value,se=i.pstyle("border-style").value,te=i.pstyle("border-opacity").value*S;s.lineJoin="miter";var ne=function(){p.eleFillStyle(s,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee)},fe=function(){p.colorStrokeStyle(s,Y[0],Y[1],Y[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:te)},pe=i.pstyle("shape").strValue,De=i.pstyle("shape-polygon-points").pfValue;if(M){s.translate(E.x,E.y);var he=p.nodePathCache=p.nodePathCache||[],be=af("polygon"===pe?pe+","+De.join(","):pe,""+b,""+m),Ae=he[be];null!=Ae?(R=!0,D.pathCache=x=Ae):(x=new Path2D,he[be]=D.pathCache=x)}var Fe=function(){if(!R){var Ye=E;M&&(Ye={x:0,y:0}),p.nodeShapes[p.getNodeShape(i)].draw(x||s,Ye.x,Ye.y,m,b)}M?s.fill(x):s.fill()},Me=function(){for(var Ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,nt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],pn=y.backgrounding,zt=0,Nt=0;Nt<q.length;Nt++){var Hn=i.cy().style().getIndexedStyle(i,"background-image-containment","value",Nt);nt&&"over"===Hn||!nt&&"inside"===Hn?zt++:V[Nt]&&q[Nt].complete&&!q[Nt].error&&(zt++,p.drawInscribedImage(s,q[Nt],i,Nt,Ye))}y.backgrounding=zt!==K,pn!==y.backgrounding&&i.updateStyle(!1)},Ie=function(){var Ye=arguments.length>0&&void 0!==arguments[0]&&arguments[0],nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;p.hasPie(i)&&(p.drawPie(s,i,nt),Ye&&(M||p.nodeShapes[p.getNodeShape(i)].draw(s,E.x,E.y,m,b)))},ce=function(){var pn=Q>0?0:255;0!==Q&&(p.colorFillStyle(s,pn,pn,pn,(Q>0?Q:-Q)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S)),M?s.fill(x):s.fill())},Re=function(){if(j>0){if(s.lineWidth=j,s.lineCap="butt",s.setLineDash)switch(se){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([4,2]);break;case"solid":case"double":s.setLineDash([])}if(M?s.stroke(x):s.stroke(),"double"===se){s.lineWidth=j/3;var Ye=s.globalCompositeOperation;s.globalCompositeOperation="destination-out",M?s.stroke(x):s.stroke(),s.globalCompositeOperation=Ye}s.setLineDash&&s.setLineDash([])}};if("yes"===i.pstyle("ghost").value){var Jt=i.pstyle("ghost-offset-x").pfValue,at=i.pstyle("ghost-offset-y").pfValue,Xe=i.pstyle("ghost-opacity").value,ze=Xe*S;s.translate(Jt,at),ne(Xe*ee),Fe(),Me(ze,!0),fe(Xe*te),Re(),Ie(0!==Q||0!==j),Me(ze,!1),ce(ze),s.translate(-Jt,-at)}M&&s.translate(-E.x,-E.y),f&&p.drawNodeUnderlay(s,i,E,m,b),M&&s.translate(E.x,E.y),ne(),Fe(),Me(S,!0),fe(),Re(),Ie(0!==Q||0!==j),Me(S,!1),ce(),M&&s.translate(-E.x,-E.y),p.drawElementText(s,i,null,l),f&&p.drawNodeOverlay(s,i,E,m,b),a&&s.translate(N.x1,N.y1)}}},hv=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(a,l,f,h,p){if(l.visible()){var b=l.pstyle("".concat(i,"-padding")).pfValue,y=l.pstyle("".concat(i,"-opacity")).value,D=l.pstyle("".concat(i,"-color")).value,E=l.pstyle("".concat(i,"-shape")).value;if(y>0){if(f=f||l.position(),null==h||null==p){var S=l.padding();h=l.width()+2*S,p=l.height()+2*S}this.colorFillStyle(a,D[0],D[1],D[2],y),this.nodeShapes[E].draw(a,f.x,f.y,h+2*b,p+2*b),a.fill()}}}};rl.drawNodeOverlay=hv("overlay"),rl.drawNodeUnderlay=hv("underlay"),rl.hasPie=function(s){return(s=s[0])._private.hasPie},rl.drawPie=function(s,i,a,l){i=i[0],l=l||i.position();var f=i.cy().style(),h=i.pstyle("pie-size"),p=l.x,m=l.y,b=i.width(),y=i.height(),D=Math.min(b,y)/2,E=0;this.usePaths()&&(p=0,m=0),"%"===h.units?D*=h.pfValue:void 0!==h.pfValue&&(D=h.pfValue/2);for(var M=1;M<=f.pieBackgroundN;M++){var x=i.pstyle("pie-"+M+"-background-size").value,R=i.pstyle("pie-"+M+"-background-color").value,A=i.pstyle("pie-"+M+"-background-opacity").value*a,N=x/100;N+E>1&&(N=1-E);var P=1.5*Math.PI+2*Math.PI*E,V=P+2*Math.PI*N;0===x||E>=1||E+N>1||(s.beginPath(),s.moveTo(p,m),s.arc(p,m,D,P,V),s.closePath(),this.colorFillStyle(s,R[0],R[1],R[2],A),s.fill(),E+=N)}};for(var no={getPixelRatio:function(){var s=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(s.backingStorePixelRatio||s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1)},paintCache:function(s){for(var l,i=this.paintCaches=this.paintCaches||[],a=!0,f=0;f<i.length;f++)if((l=i[f]).context===s){a=!1;break}return a&&i.push(l={context:s}),l},createGradientStyleFor:function(s,i,a,l,f){var h,p=this.usePaths(),m=a.pstyle(i+"-gradient-stop-colors").value,b=a.pstyle(i+"-gradient-stop-positions").pfValue;if("radial-gradient"===l)if(a.isEdge()){var y=a.sourceEndpoint(),D=a.targetEndpoint(),E=a.midpoint(),S=La(y,E),M=La(D,E);h=s.createRadialGradient(E.x,E.y,0,E.x,E.y,Math.max(S,M))}else{var x=p?{x:0,y:0}:a.position(),R=a.paddedWidth(),A=a.paddedHeight();h=s.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(R,A))}else if(a.isEdge()){var N=a.sourceEndpoint(),P=a.targetEndpoint();h=s.createLinearGradient(N.x,N.y,P.x,P.y)}else{var k=p?{x:0,y:0}:a.position(),K=a.paddedWidth()/2,$=a.paddedHeight()/2;switch(a.pstyle("background-gradient-direction").value){case"to-bottom":h=s.createLinearGradient(k.x,k.y-$,k.x,k.y+$);break;case"to-top":h=s.createLinearGradient(k.x,k.y+$,k.x,k.y-$);break;case"to-left":h=s.createLinearGradient(k.x+K,k.y,k.x-K,k.y);break;case"to-right":h=s.createLinearGradient(k.x-K,k.y,k.x+K,k.y);break;case"to-bottom-right":case"to-right-bottom":h=s.createLinearGradient(k.x-K,k.y-$,k.x+K,k.y+$);break;case"to-top-right":case"to-right-top":h=s.createLinearGradient(k.x-K,k.y+$,k.x+K,k.y-$);break;case"to-bottom-left":case"to-left-bottom":h=s.createLinearGradient(k.x+K,k.y-$,k.x-K,k.y+$);break;case"to-top-left":case"to-left-top":h=s.createLinearGradient(k.x+K,k.y+$,k.x-K,k.y-$)}}if(!h)return null;for(var U=b.length===m.length,X=m.length,Q=0;Q<X;Q++)h.addColorStop(U?b[Q]:Q/(X-1),"rgba("+m[Q][0]+","+m[Q][1]+","+m[Q][2]+","+f+")");return h},gradientFillStyle:function(s,i,a,l){var f=this.createGradientStyleFor(s,"background",i,a,l);if(!f)return null;s.fillStyle=f},colorFillStyle:function(s,i,a,l,f){s.fillStyle="rgba("+i+","+a+","+l+","+f+")"},eleFillStyle:function(s,i,a){var l=i.pstyle("background-fill").value;if("linear-gradient"===l||"radial-gradient"===l)this.gradientFillStyle(s,i,l,a);else{var f=i.pstyle("background-color").value;this.colorFillStyle(s,f[0],f[1],f[2],a)}},gradientStrokeStyle:function(s,i,a,l){var f=this.createGradientStyleFor(s,"line",i,a,l);if(!f)return null;s.strokeStyle=f},colorStrokeStyle:function(s,i,a,l,f){s.strokeStyle="rgba("+i+","+a+","+l+","+f+")"},eleStrokeStyle:function(s,i,a){var l=i.pstyle("line-fill").value;if("linear-gradient"===l||"radial-gradient"===l)this.gradientStrokeStyle(s,i,l,a);else{var f=i.pstyle("line-color").value;this.colorStrokeStyle(s,f[0],f[1],f[2],a)}},matchCanvasSize:function(s){var i=this,a=i.data,l=i.findContainerClientCoords(),f=l[2],h=l[3],p=i.getPixelRatio();(s===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE]||s===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG])&&(p=i.motionBlurPxRatio);var D,b=f*p,y=h*p;if(b!==i.canvasWidth||y!==i.canvasHeight){i.fontCaches=null;var E=a.canvasContainer;E.style.width=f+"px",E.style.height=h+"px";for(var S=0;S<i.CANVAS_LAYERS;S++)(D=a.canvases[S]).width=b,D.height=y,D.style.width=f+"px",D.style.height=h+"px";for(S=0;S<i.BUFFER_COUNT;S++)(D=a.bufferCanvases[S]).width=b,D.height=y,D.style.width=f+"px",D.style.height=h+"px";i.textureMult=1,p<=1&&(D=a.bufferCanvases[i.TEXTURE_BUFFER],i.textureMult=2,D.width=b*i.textureMult,D.height=y*i.textureMult),i.canvasWidth=b,i.canvasHeight=y}},renderTo:function(s,i,a,l){this.render({forcedContext:s,forcedZoom:i,forcedPan:a,drawAllLayers:!0,forcedPxRatio:l})},render:function(s){var i=(s=s||Pc()).forcedContext,a=s.drawAllLayers,l=s.drawOnlyNodeLayer,f=s.forcedZoom,h=s.forcedPan,p=this,m=void 0===s.forcedPxRatio?this.getPixelRatio():s.forcedPxRatio,b=p.cy,y=p.data,D=y.canvasNeedsRedraw,E=p.textureOnViewport&&!i&&(p.pinching||p.hoverData.dragging||p.swipePanning||p.data.wheelZooming),S=void 0!==s.motionBlur?s.motionBlur:p.motionBlur,M=p.motionBlurPxRatio,x=b.hasCompoundNodes(),R=p.hoverData.draggingEles,N=S=S&&!i&&p.motionBlurEnabled&&!(p.hoverData.selecting||p.touchData.selecting);i||(p.prevPxRatio!==m&&(p.invalidateContainerClientCoordsCache(),p.matchCanvasSize(p.container),p.redrawHint("eles",!0),p.redrawHint("drag",!0)),p.prevPxRatio=m),!i&&p.motionBlurTimeout&&clearTimeout(p.motionBlurTimeout),S&&(null==p.mbFrames&&(p.mbFrames=0),p.mbFrames++,p.mbFrames<3&&(N=!1),p.mbFrames>p.minMbLowQualFrames&&(p.motionBlurPxRatio=p.mbPxRBlurry)),p.clearingMotionBlur&&(p.motionBlurPxRatio=1),p.textureDrawLastFrame&&!E&&(D[p.NODE]=!0,D[p.SELECT_BOX]=!0);var P=b.style(),k=b.zoom(),V=void 0!==f?f:k,q=b.pan(),K={x:q.x,y:q.y},$={zoom:k,pan:{x:q.x,y:q.y}},Z=p.prevViewport;!(void 0===Z||$.zoom!==Z.zoom||$.pan.x!==Z.pan.x||$.pan.y!==Z.pan.y)&&!(R&&!x)&&(p.motionBlurPxRatio=1),h&&(K=h),V*=m,K.x*=m,K.y*=m;var X=p.getCachedZSortedEles();function Q(at,Xe,ze,mt,Ye){var nt=at.globalCompositeOperation;at.globalCompositeOperation="destination-out",p.colorFillStyle(at,255,255,255,p.motionBlurTransparency),at.fillRect(Xe,ze,mt,Ye),at.globalCompositeOperation=nt}function j(at,Xe){var ze,mt,Ye,nt;p.clearingMotionBlur||at!==y.bufferContexts[p.MOTIONBLUR_BUFFER_NODE]&&at!==y.bufferContexts[p.MOTIONBLUR_BUFFER_DRAG]?(ze=K,mt=V,Ye=p.canvasWidth,nt=p.canvasHeight):(ze={x:q.x*M,y:q.y*M},mt=k*M,Ye=p.canvasWidth*M,nt=p.canvasHeight*M),at.setTransform(1,0,0,1,0,0),"motionBlur"===Xe?Q(at,0,0,Ye,nt):!i&&(void 0===Xe||Xe)&&at.clearRect(0,0,Ye,nt),a||(at.translate(ze.x,ze.y),at.scale(mt,mt)),h&&at.translate(h.x,h.y),f&&at.scale(f,f)}if(E||(p.textureDrawLastFrame=!1),E){if(p.textureDrawLastFrame=!0,!p.textureCache){p.textureCache={},p.textureCache.bb=b.mutableElements().boundingBox(),p.textureCache.texture=p.data.bufferCanvases[p.TEXTURE_BUFFER];var ee=p.data.bufferContexts[p.TEXTURE_BUFFER];ee.setTransform(1,0,0,1,0,0),ee.clearRect(0,0,p.canvasWidth*p.textureMult,p.canvasHeight*p.textureMult),p.render({forcedContext:ee,drawOnlyNodeLayer:!0,forcedPxRatio:m*p.textureMult}),($=p.textureCache.viewport={zoom:b.zoom(),pan:b.pan(),width:p.canvasWidth,height:p.canvasHeight}).mpan={x:(0-$.pan.x)/$.zoom,y:(0-$.pan.y)/$.zoom}}D[p.DRAG]=!1,D[p.NODE]=!1;var se=p.textureCache.texture;$=p.textureCache.viewport,(Y=y.contexts[p.NODE]).setTransform(1,0,0,1,0,0),S?Q(Y,0,0,$.width,$.height):Y.clearRect(0,0,$.width,$.height);var te=P.core("outside-texture-bg-color").value,ne=P.core("outside-texture-bg-opacity").value;p.colorFillStyle(Y,te[0],te[1],te[2],ne),Y.fillRect(0,0,$.width,$.height),k=b.zoom(),j(Y,!1),Y.clearRect($.mpan.x,$.mpan.y,$.width/$.zoom/m,$.height/$.zoom/m),Y.drawImage(se,$.mpan.x,$.mpan.y,$.width/$.zoom/m,$.height/$.zoom/m)}else p.textureOnViewport&&!i&&(p.textureCache=null);var fe=b.extent(),pe=p.pinching||p.hoverData.dragging||p.swipePanning||p.data.wheelZooming||p.hoverData.draggingEles||p.cy.animated(),De=p.hideEdgesOnViewport&&pe,he=[];if(he[p.NODE]=!D[p.NODE]&&S&&!p.clearedForMotionBlur[p.NODE]||p.clearingMotionBlur,he[p.NODE]&&(p.clearedForMotionBlur[p.NODE]=!0),he[p.DRAG]=!D[p.DRAG]&&S&&!p.clearedForMotionBlur[p.DRAG]||p.clearingMotionBlur,he[p.DRAG]&&(p.clearedForMotionBlur[p.DRAG]=!0),D[p.NODE]||a||l||he[p.NODE]){var be=S&&!he[p.NODE]&&1!==M;j(Y=i||(be?p.data.bufferContexts[p.MOTIONBLUR_BUFFER_NODE]:y.contexts[p.NODE]),S&&!be?"motionBlur":void 0),De?p.drawCachedNodes(Y,X.nondrag,m,fe):p.drawLayeredElements(Y,X.nondrag,m,fe),p.debug&&p.drawDebugPoints(Y,X.nondrag),!a&&!S&&(D[p.NODE]=!1)}if(!l&&(D[p.DRAG]||a||he[p.DRAG])&&(be=S&&!he[p.DRAG]&&1!==M,j(Y=i||(be?p.data.bufferContexts[p.MOTIONBLUR_BUFFER_DRAG]:y.contexts[p.DRAG]),S&&!be?"motionBlur":void 0),De?p.drawCachedNodes(Y,X.drag,m,fe):p.drawCachedElements(Y,X.drag,m,fe),p.debug&&p.drawDebugPoints(Y,X.drag),!a&&!S&&(D[p.DRAG]=!1)),p.showFps||!l&&D[p.SELECT_BOX]&&!a){var Y;if(j(Y=i||y.contexts[p.SELECT_BOX]),1==p.selection[4]&&(p.hoverData.selecting||p.touchData.selecting)){k=p.cy.zoom();var Fe=P.core("selection-box-border-width").value/k;Y.lineWidth=Fe,Y.fillStyle="rgba("+P.core("selection-box-color").value[0]+","+P.core("selection-box-color").value[1]+","+P.core("selection-box-color").value[2]+","+P.core("selection-box-opacity").value+")",Y.fillRect(p.selection[0],p.selection[1],p.selection[2]-p.selection[0],p.selection[3]-p.selection[1]),Fe>0&&(Y.strokeStyle="rgba("+P.core("selection-box-border-color").value[0]+","+P.core("selection-box-border-color").value[1]+","+P.core("selection-box-border-color").value[2]+","+P.core("selection-box-opacity").value+")",Y.strokeRect(p.selection[0],p.selection[1],p.selection[2]-p.selection[0],p.selection[3]-p.selection[1]))}if(y.bgActivePosistion&&!p.hoverData.selecting){k=p.cy.zoom();var Me=y.bgActivePosistion;Y.fillStyle="rgba("+P.core("active-bg-color").value[0]+","+P.core("active-bg-color").value[1]+","+P.core("active-bg-color").value[2]+","+P.core("active-bg-opacity").value+")",Y.beginPath(),Y.arc(Me.x,Me.y,P.core("active-bg-size").pfValue/k,0,2*Math.PI),Y.fill()}var Ie=p.lastRedrawTime;if(p.showFps&&Ie){Ie=Math.round(Ie);var ce=Math.round(1e3/Ie);Y.setTransform(1,0,0,1,0,0),Y.fillStyle="rgba(255, 0, 0, 0.75)",Y.strokeStyle="rgba(255, 0, 0, 0.75)",Y.lineWidth=1,Y.fillText("1 frame = "+Ie+" ms = "+ce+" fps",0,20),Y.strokeRect(0,30,250,20),Y.fillRect(0,30,250*Math.min(ce/60,1),20)}a||(D[p.SELECT_BOX]=!1)}if(S&&1!==M){var tt=y.contexts[p.DRAG],Et=p.data.bufferCanvases[p.MOTIONBLUR_BUFFER_DRAG],Jt=function(Xe,ze,mt){Xe.setTransform(1,0,0,1,0,0),mt||!N?Xe.clearRect(0,0,p.canvasWidth,p.canvasHeight):Q(Xe,0,0,p.canvasWidth,p.canvasHeight),Xe.drawImage(ze,0,0,p.canvasWidth*M,p.canvasHeight*M,0,0,p.canvasWidth,p.canvasHeight)};(D[p.NODE]||he[p.NODE])&&(Jt(y.contexts[p.NODE],p.data.bufferCanvases[p.MOTIONBLUR_BUFFER_NODE],he[p.NODE]),D[p.NODE]=!1),(D[p.DRAG]||he[p.DRAG])&&(Jt(tt,Et,he[p.DRAG]),D[p.DRAG]=!1)}p.prevViewport=$,p.clearingMotionBlur&&(p.clearingMotionBlur=!1,p.motionBlurCleared=!0,p.motionBlur=!0),S&&(p.motionBlurTimeout=setTimeout(function(){p.motionBlurTimeout=null,p.clearedForMotionBlur[p.NODE]=!1,p.clearedForMotionBlur[p.DRAG]=!1,p.motionBlur=!1,p.clearingMotionBlur=!E,p.mbFrames=0,D[p.NODE]=!0,D[p.DRAG]=!0,p.redraw()},100)),i||b.emit("render")}},Ya={drawPolygonPath:function(s,i,a,l,f,h){var p=l/2,m=f/2;s.beginPath&&s.beginPath(),s.moveTo(i+p*h[0],a+m*h[1]);for(var b=1;b<h.length/2;b++)s.lineTo(i+p*h[2*b],a+m*h[2*b+1]);s.closePath()},drawRoundPolygonPath:function(s,i,a,l,f,h){var p=l/2,m=f/2,b=Tl(l,f);s.beginPath&&s.beginPath();for(var y=0;y<h.length/4;y++){var E,D;D=0===y?h.length-2:4*y-2,E=4*y+2;var S=i+p*h[4*y],M=a+m*h[4*y+1],R=b/Math.tan(Math.acos(-h[D]*h[E]-h[D+1]*h[E+1])/2),A=S-R*h[D],N=M-R*h[D+1],P=S+R*h[E],k=M+R*h[E+1];0===y?s.moveTo(A,N):s.lineTo(A,N),s.arcTo(S,M,P,k,b)}s.closePath()},drawRoundRectanglePath:function(s,i,a,l,f){var h=l/2,p=f/2,m=rs(l,f);s.beginPath&&s.beginPath(),s.moveTo(i,a-p),s.arcTo(i+h,a-p,i+h,a,m),s.arcTo(i+h,a+p,i,a+p,m),s.arcTo(i-h,a+p,i-h,a,m),s.arcTo(i-h,a-p,i,a-p,m),s.lineTo(i,a-p),s.closePath()},drawBottomRoundRectanglePath:function(s,i,a,l,f){var h=l/2,p=f/2,m=rs(l,f);s.beginPath&&s.beginPath(),s.moveTo(i,a-p),s.lineTo(i+h,a-p),s.lineTo(i+h,a),s.arcTo(i+h,a+p,i,a+p,m),s.arcTo(i-h,a+p,i-h,a,m),s.lineTo(i-h,a-p),s.lineTo(i,a-p),s.closePath()},drawCutRectanglePath:function(s,i,a,l,f){var h=l/2,p=f/2;s.beginPath&&s.beginPath(),s.moveTo(i-h+8,a-p),s.lineTo(i+h-8,a-p),s.lineTo(i+h,a-p+8),s.lineTo(i+h,a+p-8),s.lineTo(i+h-8,a+p),s.lineTo(i-h+8,a+p),s.lineTo(i-h,a+p-8),s.lineTo(i-h,a-p+8),s.closePath()},drawBarrelPath:function(s,i,a,l,f){var h=l/2,p=f/2,m=i-h,b=i+h,y=a-p,D=a+p,E=Hh(l,f),S=E.widthOffset,M=E.heightOffset,x=E.ctrlPtOffsetPct*S;s.beginPath&&s.beginPath(),s.moveTo(m,y+M),s.lineTo(m,D-M),s.quadraticCurveTo(m+x,D,m+S,D),s.lineTo(b-S,D),s.quadraticCurveTo(b-x,D,b,D-M),s.lineTo(b,y+M),s.quadraticCurveTo(b-x,y,b-S,y),s.lineTo(m+S,y),s.quadraticCurveTo(m+x,y,m,y+M),s.closePath()}},Kf=Math.sin(0),Ip=Math.cos(0),Yf={},il={},Xf=Math.PI/40,ol=0*Math.PI;ol<2*Math.PI;ol+=Xf)Yf[ol]=Math.sin(ol),il[ol]=Math.cos(ol);Ya.drawEllipsePath=function(s,i,a,l,f){if(s.beginPath&&s.beginPath(),s.ellipse)s.ellipse(i,a,l/2,f/2,0,0,2*Math.PI);else for(var h,p,m=l/2,b=f/2,y=0*Math.PI;y<2*Math.PI;y+=Xf)h=i-m*Yf[y]*Kf+m*il[y]*Ip,p=a+b*il[y]*Kf+b*Yf[y]*Ip,0===y?s.moveTo(h,p):s.lineTo(h,p);s.closePath()};var al={};function Qf(s){var i=s.indexOf(",");return s.substr(i+1)}function Tp(s,i,a){var l=function(){return i.toDataURL(a,s.quality)};switch(s.output){case"blob-promise":return new vr(function(f,h){try{i.toBlob(function(p){null!=p?f(p):h(new Error("`canvas.toBlob()` sent a null value in its callback"))},a,s.quality)}catch(p){h(p)}});case"blob":return function ry(s,i){for(var a=atob(s),l=new ArrayBuffer(a.length),f=new Uint8Array(l),h=0;h<a.length;h++)f[h]=a.charCodeAt(h);return new Blob([l],{type:i})}(Qf(l()),a);case"base64":return Qf(l());default:return l()}}al.createBuffer=function(s,i){var a=document.createElement("canvas");return a.width=s,a.height=i,[a,a.getContext("2d")]},al.bufferCanvasImage=function(s){var i=this.cy,l=i.mutableElements().boundingBox(),f=this.findContainerClientCoords(),h=s.full?Math.ceil(l.w):f[2],p=s.full?Math.ceil(l.h):f[3],m=ot(s.maxWidth)||ot(s.maxHeight),b=this.getPixelRatio(),y=1;if(void 0!==s.scale)h*=s.scale,p*=s.scale,y=s.scale;else if(m){var D=1/0,E=1/0;ot(s.maxWidth)&&(D=y*s.maxWidth/h),ot(s.maxHeight)&&(E=y*s.maxHeight/p),h*=y=Math.min(D,E),p*=y}m||(h*=b,p*=b,y*=b);var S=document.createElement("canvas");S.width=h,S.height=p,S.style.width=h+"px",S.style.height=p+"px";var M=S.getContext("2d");if(h>0&&p>0){M.clearRect(0,0,h,p),M.globalCompositeOperation="source-over";var x=this.getCachedZSortedEles();if(s.full)M.translate(-l.x1*y,-l.y1*y),M.scale(y,y),this.drawElements(M,x),M.scale(1/y,1/y),M.translate(l.x1*y,l.y1*y);else{var R=i.pan(),A={x:R.x*y,y:R.y*y};y*=i.zoom(),M.translate(A.x,A.y),M.scale(y,y),this.drawElements(M,x),M.scale(1/y,1/y),M.translate(-A.x,-A.y)}s.bg&&(M.globalCompositeOperation="destination-over",M.fillStyle=s.bg,M.rect(0,0,h,p),M.fill())}return S},al.png=function(s){return Tp(s,this.bufferCanvasImage(s),"image/png")},al.jpg=function(s){return Tp(s,this.bufferCanvasImage(s),"image/jpeg")};var Id=gv,Sn=gv.prototype;function gv(s){var i=this;i.data={canvases:new Array(Sn.CANVAS_LAYERS),contexts:new Array(Sn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Sn.CANVAS_LAYERS),bufferCanvases:new Array(Sn.BUFFER_COUNT),bufferContexts:new Array(Sn.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",l="rgba(0,0,0,0)";i.data.canvasContainer=document.createElement("div");var f=i.data.canvasContainer.style;i.data.canvasContainer.style[a]=l,f.position="relative",f.zIndex="0",f.overflow="hidden";var h=s.cy.container();h.appendChild(i.data.canvasContainer),h.style[a]=l;var p={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};wn&&wn.userAgent.match(/msie|trident|edge/i)&&(p["-ms-touch-action"]="none",p["touch-action"]="none");for(var m=0;m<Sn.CANVAS_LAYERS;m++){var b=i.data.canvases[m]=document.createElement("canvas");i.data.contexts[m]=b.getContext("2d"),Object.keys(p).forEach(function(Ie){b.style[Ie]=p[Ie]}),b.style.position="absolute",b.setAttribute("data-id","layer"+m),b.style.zIndex=String(Sn.CANVAS_LAYERS-m),i.data.canvasContainer.appendChild(b),i.data.canvasNeedsRedraw[m]=!1}for(i.data.topCanvas=i.data.canvases[0],i.data.canvases[Sn.NODE].setAttribute("data-id","layer"+Sn.NODE+"-node"),i.data.canvases[Sn.SELECT_BOX].setAttribute("data-id","layer"+Sn.SELECT_BOX+"-selectbox"),i.data.canvases[Sn.DRAG].setAttribute("data-id","layer"+Sn.DRAG+"-drag"),m=0;m<Sn.BUFFER_COUNT;m++)i.data.bufferCanvases[m]=document.createElement("canvas"),i.data.bufferContexts[m]=i.data.bufferCanvases[m].getContext("2d"),i.data.bufferCanvases[m].style.position="absolute",i.data.bufferCanvases[m].setAttribute("data-id","buffer"+m),i.data.bufferCanvases[m].style.zIndex=String(-m-1),i.data.bufferCanvases[m].style.visibility="hidden";i.pathsEnabled=!0;var y=fo(),E=function(ce){return{x:-ce.w/2,y:-ce.h/2}},q=function(ce){return ce.boundingBox(),ce[0]._private.bodyBounds},K=function(ce){return ce.boundingBox(),ce[0]._private.labelBounds.main||y},$=function(ce){return ce.boundingBox(),ce[0]._private.labelBounds.source||y},Z=function(ce){return ce.boundingBox(),ce[0]._private.labelBounds.target||y},U=function(ce,Re){return Re},Q=function(ce,Re,Le){var Ke=ce?ce+"-":"";return{x:Re.x+Le.pstyle(Ke+"text-margin-x").pfValue,y:Re.y+Le.pstyle(Ke+"text-margin-y").pfValue}},j=function(ce,Re,Le){var Ke=ce[0]._private.rscratch;return{x:Ke[Re],y:Ke[Le]}},De=i.data.eleTxrCache=new mr(i,{getKey:function(ce){return ce[0]._private.nodeKey},doesEleInvalidateKey:function(ce){var Re=ce[0]._private;return!(Re.oldBackgroundTimestamp===Re.backgroundTimestamp)},drawElement:function(ce,Re,Le,Ke,tt){return i.drawElement(ce,Re,Le,!1,!1,tt)},getBoundingBox:q,getRotationPoint:function(ce){return function(ce){return{x:(ce.x1+ce.x2)/2,y:(ce.y1+ce.y2)/2}}(q(ce))},getRotationOffset:function(ce){return E(q(ce))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),he=i.data.lblTxrCache=new mr(i,{getKey:function(ce){return ce[0]._private.labelStyleKey},drawElement:function(ce,Re,Le,Ke,tt){return i.drawElementText(ce,Re,Le,Ke,"main",tt)},getBoundingBox:K,getRotationPoint:function(ce){return Q("",j(ce,"labelX","labelY"),ce)},getRotationOffset:function(ce){var Re=K(ce),Le=E(K(ce));if(ce.isNode()){switch(ce.pstyle("text-halign").value){case"left":Le.x=-Re.w;break;case"right":Le.x=0}switch(ce.pstyle("text-valign").value){case"top":Le.y=-Re.h;break;case"bottom":Le.y=0}}return Le},isVisible:U}),be=i.data.slbTxrCache=new mr(i,{getKey:function(ce){return ce[0]._private.sourceLabelStyleKey},drawElement:function(ce,Re,Le,Ke,tt){return i.drawElementText(ce,Re,Le,Ke,"source",tt)},getBoundingBox:$,getRotationPoint:function(ce){return Q("source",j(ce,"sourceLabelX","sourceLabelY"),ce)},getRotationOffset:function(ce){return E($(ce))},isVisible:U}),Ae=i.data.tlbTxrCache=new mr(i,{getKey:function(ce){return ce[0]._private.targetLabelStyleKey},drawElement:function(ce,Re,Le,Ke,tt){return i.drawElementText(ce,Re,Le,Ke,"target",tt)},getBoundingBox:Z,getRotationPoint:function(ce){return Q("target",j(ce,"targetLabelX","targetLabelY"),ce)},getRotationOffset:function(ce){return E(Z(ce))},isVisible:U}),Fe=i.data.lyrTxrCache=new sv(i);i.onUpdateEleCalcs(function(ce,Re){De.invalidateElements(Re),he.invalidateElements(Re),be.invalidateElements(Re),Ae.invalidateElements(Re),Fe.invalidateElements(Re);for(var Le=0;Le<Re.length;Le++){var Ke=Re[Le]._private;Ke.oldBackgroundTimestamp=Ke.backgroundTimestamp}});var Me=function(ce){for(var Re=0;Re<ce.length;Re++)Fe.enqueueElementRefinement(ce[Re].ele)};De.onDequeue(Me),he.onDequeue(Me),be.onDequeue(Me),Ae.onDequeue(Me)}Sn.CANVAS_LAYERS=3,Sn.SELECT_BOX=0,Sn.DRAG=1,Sn.NODE=2,Sn.BUFFER_COUNT=3,Sn.TEXTURE_BUFFER=0,Sn.MOTIONBLUR_BUFFER_NODE=1,Sn.MOTIONBLUR_BUFFER_DRAG=2,Sn.redrawHint=function(s,i){var a=this;switch(s){case"eles":a.data.canvasNeedsRedraw[Sn.NODE]=i;break;case"drag":a.data.canvasNeedsRedraw[Sn.DRAG]=i;break;case"select":a.data.canvasNeedsRedraw[Sn.SELECT_BOX]=i}};var iy=typeof Path2D<"u";Sn.path2dEnabled=function(s){if(void 0===s)return this.pathsEnabled;this.pathsEnabled=!!s},Sn.usePaths=function(){return iy&&this.pathsEnabled},Sn.setImgSmoothing=function(s,i){null!=s.imageSmoothingEnabled?s.imageSmoothingEnabled=i:(s.webkitImageSmoothingEnabled=i,s.mozImageSmoothingEnabled=i,s.msImageSmoothingEnabled=i)},Sn.getImgSmoothing=function(s){return null!=s.imageSmoothingEnabled?s.imageSmoothingEnabled:s.webkitImageSmoothingEnabled||s.mozImageSmoothingEnabled||s.msImageSmoothingEnabled},Sn.makeOffscreenCanvas=function(s,i){var a;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":ln(OffscreenCanvas))?a=new OffscreenCanvas(s,i):((a=document.createElement("canvas")).width=s,a.height=i),a},[_p,So,Ia,Zf,zo,rl,no,Ya,al,{nodeShapeImpl:function(s,i,a,l,f,h,p){switch(s){case"ellipse":return this.drawEllipsePath(i,a,l,f,h);case"polygon":return this.drawPolygonPath(i,a,l,f,h,p);case"round-polygon":return this.drawRoundPolygonPath(i,a,l,f,h,p);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(i,a,l,f,h);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(i,a,l,f,h);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(i,a,l,f,h);case"barrel":return this.drawBarrelPath(i,a,l,f,h)}}}].forEach(function(s){It(Sn,s)});var oy=[{type:"layout",extensions:ta},{type:"renderer",extensions:[{name:"null",impl:bp},{name:"base",impl:Uf},{name:"canvas",impl:Id}]}],vv={},mv={};function yv(s,i,a){var l=a,f=function(Z){Ut("Can not register `"+i+"` for `"+s+"` since `"+Z+"` already exists in the prototype and can not be overridden")};if("core"===s){if($i.prototype[i])return f(i);$i.prototype[i]=a}else if("collection"===s){if(li.prototype[i])return f(i);li.prototype[i]=a}else if("layout"===s){for(var h=function(Z){this.options=Z,a.call(this,Z),Ct(this._private)||(this._private={}),this._private.cy=Z.cy,this._private.listeners=[],this.createEmitter()},p=h.prototype=Object.create(a.prototype),m=[],b=0;b<m.length;b++){var y=m[b];p[y]=p[y]||function(){return this}}p.start&&!p.run?p.run=function(){return this.start(),this}:!p.start&&p.run&&(p.start=function(){return this.run(),this});var D=a.prototype.stop;p.stop=function(){var $=this.options;if($&&$.animate){var Z=this.animations;if(Z)for(var U=0;U<Z.length;U++)Z[U].stop()}return D?D.call(this):this.emit("layoutstop"),this},p.destroy||(p.destroy=function(){return this}),p.cy=function(){return this._private.cy};var E=function(Z){return Z._private.cy},S={addEventFields:function(Z,U){U.layout=Z,U.cy=E(Z),U.target=Z},bubble:function(){return!0},parent:function(Z){return E(Z)}};It(p,{createEmitter:function(){return this._private.emitter=new ku(S,this),this},emitter:function(){return this._private.emitter},on:function(Z,U){return this.emitter().on(Z,U),this},one:function(Z,U){return this.emitter().one(Z,U),this},once:function(Z,U){return this.emitter().one(Z,U),this},removeListener:function(Z,U){return this.emitter().removeListener(Z,U),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Z,U){return this.emitter().emit(Z,U),this}}),Pt.eventAliasesOn(p),l=h}else if("renderer"===s&&"null"!==i&&"base"!==i){var M=wv("renderer","base"),x=M.prototype,R=a,A=a.prototype,N=function(){M.apply(this,arguments),R.apply(this,arguments)},P=N.prototype;for(var k in x){var V=x[k];if(null!=A[k])return f(k);P[k]=V}for(var K in A)P[K]=A[K];x.clientFunctions.forEach(function($){P[$]=P[$]||function(){Vn("Renderer does not implement `renderer."+$+"()` on its prototype")}}),l=N}else if("__proto__"===s||"constructor"===s||"prototype"===s)return Vn(s+" is an illegal type to be registered, possibly lead to prototype pollutions");return xc({map:vv,keys:[s,i],value:l})}function wv(s,i){return Mc({map:vv,keys:[s,i]})}function bv(s,i,a,l,f){return xc({map:mv,keys:[s,i,a,l],value:f})}function Td(s,i,a,l){return Mc({map:mv,keys:[s,i,a,l]})}var sl=function(){return 2===arguments.length?wv.apply(null,arguments):3===arguments.length?yv.apply(null,arguments):4===arguments.length?Td.apply(null,arguments):5===arguments.length?bv.apply(null,arguments):void Vn("Invalid extension access syntax")};$i.prototype.extension=sl,oy.forEach(function(s){s.extensions.forEach(function(i){yv(s.type,i.name,i.impl)})});var eh=function s(){if(!(this instanceof s))return new s;this.length=0},bs=eh.prototype;bs.instanceString=function(){return"stylesheet"},bs.selector=function(s){return this[this.length++]={selector:s,properties:[]},this},bs.css=function(s,i){var a=this.length-1;if(Je(s))this[a].properties.push({name:s,value:i});else if(Ct(s))for(var l=s,f=Object.keys(l),h=0;h<f.length;h++){var p=f[h],m=l[p];if(null!=m){var b=Ci.properties[p]||Ci.properties[Is(p)];null!=b&&this[a].properties.push({name:b.name,value:m})}}return this},bs.style=bs.css,bs.generateStyle=function(s){var i=new Ci(s);return this.appendToStyle(i)},bs.appendToStyle=function(s){for(var i=0;i<this.length;i++){var a=this[i],f=a.properties;s.selector(a.selector);for(var h=0;h<f.length;h++){var p=f[h];s.css(p.name,p.value)}}return s};var jo=function(i){return void 0===i&&(i={}),Ct(i)?new $i(i):Je(i)?sl.apply(sl,arguments):void 0};jo.use=function(s){var i=Array.prototype.slice.call(arguments,1);return i.unshift(jo),s.apply(null,i),this},jo.warnings=function(s){return Rh(s)},jo.version="3.27.0",jo.stylesheet=jo.Stylesheet=eh,ge.exports=jo},7444:(ge,Qe,ie)=>{ge.exports=ie(7253)},7253:function(ge,Qe){var ie,le,B;(function(){var _e,Ee,Ve,Se,rt,vt,wt,bt,Pn,ln,wr,nr,Bn,Mn,cn;Ve=Math.floor,ln=Math.min,Ee=function(Ge,it){return Ge<it?-1:Ge>it?1:0},Pn=function(Ge,it,ft,Dt,In){var At;if(null==ft&&(ft=0),null==In&&(In=Ee),ft<0)throw new Error("lo must be non-negative");for(null==Dt&&(Dt=Ge.length);ft<Dt;)In(it,Ge[At=Ve((ft+Dt)/2)])<0?Dt=At:ft=At+1;return[].splice.apply(Ge,[ft,ft-ft].concat(it)),it},vt=function(Ge,it,ft){return null==ft&&(ft=Ee),Ge.push(it),Mn(Ge,0,Ge.length-1,ft)},rt=function(Ge,it){var ft,Dt;return null==it&&(it=Ee),ft=Ge.pop(),Ge.length?(Dt=Ge[0],Ge[0]=ft,cn(Ge,0,it)):Dt=ft,Dt},bt=function(Ge,it,ft){var Dt;return null==ft&&(ft=Ee),Dt=Ge[0],Ge[0]=it,cn(Ge,0,ft),Dt},wt=function(Ge,it,ft){var Dt;return null==ft&&(ft=Ee),Ge.length&&ft(Ge[0],it)<0&&(it=(Dt=[Ge[0],it])[0],Ge[0]=Dt[1],cn(Ge,0,ft)),it},Se=function(Ge,it){var Dt,At,Zn,Fi,To;for(null==it&&(it=Ee),Fi=[],Dt=0,At=(Zn=function(){To=[];for(var ao=0,_r=Ve(Ge.length/2);0<=_r?ao<_r:ao>_r;0<=_r?ao++:ao--)To.push(ao);return To}.apply(this).reverse()).length;Dt<At;Dt++)Fi.push(cn(Ge,Zn[Dt],it));return Fi},Bn=function(Ge,it,ft){var Dt;if(null==ft&&(ft=Ee),-1!==(Dt=Ge.indexOf(it)))return Mn(Ge,0,Dt,ft),cn(Ge,Dt,ft)},wr=function(Ge,it,ft){var In,At,wn,Zn;if(null==ft&&(ft=Ee),!(In=Ge.slice(0,it)).length)return In;for(Se(In,ft),At=0,wn=(Zn=Ge.slice(it)).length;At<wn;At++)wt(In,Zn[At],ft);return In.sort(ft).reverse()},nr=function(Ge,it,ft){var Dt,At,wn,Zn,Fi,To,ao,_r,Je;if(null==ft&&(ft=Ee),10*it<=Ge.length){if(!(wn=Ge.slice(0,it).sort(ft)).length)return wn;for(At=wn[wn.length-1],Zn=0,To=(ao=Ge.slice(it)).length;Zn<To;Zn++)ft(Dt=ao[Zn],At)<0&&(Pn(wn,Dt,0,null,ft),wn.pop(),At=wn[wn.length-1]);return wn}for(Se(Ge,ft),Je=[],Fi=0,_r=ln(it,Ge.length);0<=_r?Fi<_r:Fi>_r;0<=_r?++Fi:--Fi)Je.push(rt(Ge,ft));return Je},Mn=function(Ge,it,ft,Dt){var In,At,wn;for(null==Dt&&(Dt=Ee),In=Ge[ft];ft>it&&Dt(In,At=Ge[wn=ft-1>>1])<0;)Ge[ft]=At,ft=wn;return Ge[ft]=In},cn=function(Ge,it,ft){var Dt,In,At,wn,Zn;for(null==ft&&(ft=Ee),In=Ge.length,Zn=it,At=Ge[it],Dt=2*it+1;Dt<In;)(wn=Dt+1)<In&&!(ft(Ge[Dt],Ge[wn])<0)&&(Dt=wn),Ge[it]=Ge[Dt],Dt=2*(it=Dt)+1;return Ge[it]=At,Mn(Ge,Zn,it,ft)},_e=function(){function Ge(it){this.cmp=it??Ee,this.nodes=[]}return Ge.push=vt,Ge.pop=rt,Ge.replace=bt,Ge.pushpop=wt,Ge.heapify=Se,Ge.updateItem=Bn,Ge.nlargest=wr,Ge.nsmallest=nr,Ge.prototype.push=function(it){return vt(this.nodes,it,this.cmp)},Ge.prototype.pop=function(){return rt(this.nodes,this.cmp)},Ge.prototype.peek=function(){return this.nodes[0]},Ge.prototype.contains=function(it){return-1!==this.nodes.indexOf(it)},Ge.prototype.replace=function(it){return bt(this.nodes,it,this.cmp)},Ge.prototype.pushpop=function(it){return wt(this.nodes,it,this.cmp)},Ge.prototype.heapify=function(){return Se(this.nodes,this.cmp)},Ge.prototype.updateItem=function(it){return Bn(this.nodes,it,this.cmp)},Ge.prototype.clear=function(){return this.nodes=[]},Ge.prototype.empty=function(){return 0===this.nodes.length},Ge.prototype.size=function(){return this.nodes.length},Ge.prototype.clone=function(){var it;return(it=new Ge).nodes=this.nodes.slice(0),it},Ge.prototype.toArray=function(){return this.nodes.slice(0)},Ge.prototype.insert=Ge.prototype.push,Ge.prototype.top=Ge.prototype.peek,Ge.prototype.front=Ge.prototype.peek,Ge.prototype.has=Ge.prototype.contains,Ge.prototype.copy=Ge.prototype.clone,Ge}(),le=[],void 0===(B="function"==typeof(ie=function(){return _e})?ie.apply(Qe,le):ie)||(ge.exports=B)}).call(this)},9618:(ge,Qe,ie)=>{var le=ie(5602),B=ie(1499),_e=ie(2990),Ee=ie(480),Ve=ie(4469);function Se(rt){var vt=-1,wt=null==rt?0:rt.length;for(this.clear();++vt<wt;){var bt=rt[vt];this.set(bt[0],bt[1])}}Se.prototype.clear=le,Se.prototype.delete=B,Se.prototype.get=_e,Se.prototype.has=Ee,Se.prototype.set=Ve,ge.exports=Se},3597:(ge,Qe,ie)=>{var le=ie(9365),B=ie(9343),_e=ie(4779),Ee=ie(1509),Ve=ie(7137);function Se(rt){var vt=-1,wt=null==rt?0:rt.length;for(this.clear();++vt<wt;){var bt=rt[vt];this.set(bt[0],bt[1])}}Se.prototype.clear=le,Se.prototype.delete=B,Se.prototype.get=_e,Se.prototype.has=Ee,Se.prototype.set=Ve,ge.exports=Se},1136:(ge,Qe,ie)=>{var _e=ie(8745)(ie(8492),"Map");ge.exports=_e},1811:(ge,Qe,ie)=>{var le=ie(3413),B=ie(5419),_e=ie(7336),Ee=ie(1115),Ve=ie(6648);function Se(rt){var vt=-1,wt=null==rt?0:rt.length;for(this.clear();++vt<wt;){var bt=rt[vt];this.set(bt[0],bt[1])}}Se.prototype.clear=le,Se.prototype.delete=B,Se.prototype.get=_e,Se.prototype.has=Ee,Se.prototype.set=Ve,ge.exports=Se},1763:(ge,Qe,ie)=>{var le=ie(8492);ge.exports=le.Symbol},3880:ge=>{ge.exports=function Qe(ie,le){for(var B=-1,_e=null==ie?0:ie.length,Ee=Array(_e);++B<_e;)Ee[B]=le(ie[B],B,ie);return Ee}},9553:(ge,Qe,ie)=>{var le=ie(1741),B=ie(7826),Ee=Object.prototype.hasOwnProperty;ge.exports=function Ve(Se,rt,vt){var wt=Se[rt];(!Ee.call(Se,rt)||!B(wt,vt)||void 0===vt&&!(rt in Se))&&le(Se,rt,vt)}},4056:(ge,Qe,ie)=>{var le=ie(7826);ge.exports=function B(_e,Ee){for(var Ve=_e.length;Ve--;)if(le(_e[Ve][0],Ee))return Ve;return-1}},1741:(ge,Qe,ie)=>{var le=ie(9383);ge.exports=function B(_e,Ee,Ve){"__proto__"==Ee&&le?le(_e,Ee,{configurable:!0,enumerable:!0,value:Ve,writable:!0}):_e[Ee]=Ve}},2202:(ge,Qe,ie)=>{var le=ie(4826),B=ie(8916);ge.exports=function _e(Ee,Ve){for(var Se=0,rt=(Ve=le(Ve,Ee)).length;null!=Ee&&Se<rt;)Ee=Ee[B(Ve[Se++])];return Se&&Se==rt?Ee:void 0}},4590:(ge,Qe,ie)=>{var le=ie(1763),B=ie(5933),_e=ie(9243),Se=le?le.toStringTag:void 0;ge.exports=function rt(vt){return null==vt?void 0===vt?"[object Undefined]":"[object Null]":Se&&Se in Object(vt)?B(vt):_e(vt)}},1082:(ge,Qe,ie)=>{var le=ie(6861),B=ie(9950),_e=ie(9794),Ee=ie(7075),Se=/^\[object .+?Constructor\]$/,Pn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ge.exports=function ln(wr){return!(!_e(wr)||B(wr))&&(le(wr)?Pn:Se).test(Ee(wr))}},9478:(ge,Qe,ie)=>{var le=ie(9553),B=ie(4826),_e=ie(5188),Ee=ie(9794),Ve=ie(8916);ge.exports=function Se(rt,vt,wt,bt){if(!Ee(rt))return rt;for(var Pn=-1,ln=(vt=B(vt,rt)).length,wr=ln-1,nr=rt;null!=nr&&++Pn<ln;){var Bn=Ve(vt[Pn]),Mn=wt;if("__proto__"===Bn||"constructor"===Bn||"prototype"===Bn)return rt;if(Pn!=wr){var cn=nr[Bn];void 0===(Mn=bt?bt(cn,Bn,nr):void 0)&&(Mn=Ee(cn)?cn:_e(vt[Pn+1])?[]:{})}le(nr,Bn,Mn),nr=nr[Bn]}return rt}},7002:(ge,Qe,ie)=>{var le=ie(1763),B=ie(3880),_e=ie(2261),Ee=ie(3423),Se=le?le.prototype:void 0,rt=Se?Se.toString:void 0;ge.exports=function vt(wt){if("string"==typeof wt)return wt;if(_e(wt))return B(wt,vt)+"";if(Ee(wt))return rt?rt.call(wt):"";var bt=wt+"";return"0"==bt&&1/wt==-1/0?"-0":bt}},9484:(ge,Qe,ie)=>{var le=ie(1781),B=/^\s+/;ge.exports=function _e(Ee){return Ee&&Ee.slice(0,le(Ee)+1).replace(B,"")}},4826:(ge,Qe,ie)=>{var le=ie(2261),B=ie(6300),_e=ie(163),Ee=ie(2674);ge.exports=function Ve(Se,rt){return le(Se)?Se:B(Se,rt)?[Se]:_e(Ee(Se))}},4231:ge=>{ge.exports=function Qe(ie,le){var B=-1,_e=ie.length;for(le||(le=Array(_e));++B<_e;)le[B]=ie[B];return le}},6189:(ge,Qe,ie)=>{var le=ie(8492);ge.exports=le["__core-js_shared__"]},9383:(ge,Qe,ie)=>{var le=ie(8745),B=function(){try{var _e=le(Object,"defineProperty");return _e({},"",{}),_e}catch{}}();ge.exports=B},248:ge=>{var Qe="object"==typeof global&&global&&global.Object===Object&&global;ge.exports=Qe},4113:(ge,Qe,ie)=>{var le=ie(29);ge.exports=function B(_e,Ee){var Ve=_e.__data__;return le(Ee)?Ve["string"==typeof Ee?"string":"hash"]:Ve.map}},8745:(ge,Qe,ie)=>{var le=ie(1082),B=ie(1015);ge.exports=function _e(Ee,Ve){var Se=B(Ee,Ve);return le(Se)?Se:void 0}},5933:(ge,Qe,ie)=>{var le=ie(1763),B=Object.prototype,_e=B.hasOwnProperty,Ee=B.toString,Ve=le?le.toStringTag:void 0;ge.exports=function Se(rt){var vt=_e.call(rt,Ve),wt=rt[Ve];try{rt[Ve]=void 0;var bt=!0}catch{}var Pn=Ee.call(rt);return bt&&(vt?rt[Ve]=wt:delete rt[Ve]),Pn}},1015:ge=>{ge.exports=function Qe(ie,le){return ie?.[le]}},5602:(ge,Qe,ie)=>{var le=ie(893);ge.exports=function B(){this.__data__=le?le(null):{},this.size=0}},1499:ge=>{ge.exports=function Qe(ie){var le=this.has(ie)&&delete this.__data__[ie];return this.size-=le?1:0,le}},2990:(ge,Qe,ie)=>{var le=ie(893),Ee=Object.prototype.hasOwnProperty;ge.exports=function Ve(Se){var rt=this.__data__;if(le){var vt=rt[Se];return"__lodash_hash_undefined__"===vt?void 0:vt}return Ee.call(rt,Se)?rt[Se]:void 0}},480:(ge,Qe,ie)=>{var le=ie(893),_e=Object.prototype.hasOwnProperty;ge.exports=function Ee(Ve){var Se=this.__data__;return le?void 0!==Se[Ve]:_e.call(Se,Ve)}},4469:(ge,Qe,ie)=>{var le=ie(893);ge.exports=function _e(Ee,Ve){var Se=this.__data__;return this.size+=this.has(Ee)?0:1,Se[Ee]=le&&void 0===Ve?"__lodash_hash_undefined__":Ve,this}},5188:ge=>{var ie=/^(?:0|[1-9]\d*)$/;ge.exports=function le(B,_e){var Ee=typeof B;return!!(_e=_e??9007199254740991)&&("number"==Ee||"symbol"!=Ee&&ie.test(B))&&B>-1&&B%1==0&&B<_e}},6300:(ge,Qe,ie)=>{var le=ie(2261),B=ie(3423),_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ee=/^\w*$/;ge.exports=function Ve(Se,rt){if(le(Se))return!1;var vt=typeof Se;return!("number"!=vt&&"symbol"!=vt&&"boolean"!=vt&&null!=Se&&!B(Se))||Ee.test(Se)||!_e.test(Se)||null!=rt&&Se in Object(rt)}},29:ge=>{ge.exports=function Qe(ie){var le=typeof ie;return"string"==le||"number"==le||"symbol"==le||"boolean"==le?"__proto__"!==ie:null===ie}},9950:(ge,Qe,ie)=>{var Ee,le=ie(6189),B=(Ee=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+Ee:"";ge.exports=function _e(Ee){return!!B&&B in Ee}},9365:ge=>{ge.exports=function Qe(){this.__data__=[],this.size=0}},9343:(ge,Qe,ie)=>{var le=ie(4056),_e=Array.prototype.splice;ge.exports=function Ee(Ve){var Se=this.__data__,rt=le(Se,Ve);return!(rt<0||(rt==Se.length-1?Se.pop():_e.call(Se,rt,1),--this.size,0))}},4779:(ge,Qe,ie)=>{var le=ie(4056);ge.exports=function B(_e){var Ee=this.__data__,Ve=le(Ee,_e);return Ve<0?void 0:Ee[Ve][1]}},1509:(ge,Qe,ie)=>{var le=ie(4056);ge.exports=function B(_e){return le(this.__data__,_e)>-1}},7137:(ge,Qe,ie)=>{var le=ie(4056);ge.exports=function B(_e,Ee){var Ve=this.__data__,Se=le(Ve,_e);return Se<0?(++this.size,Ve.push([_e,Ee])):Ve[Se][1]=Ee,this}},3413:(ge,Qe,ie)=>{var le=ie(9618),B=ie(3597),_e=ie(1136);ge.exports=function Ee(){this.size=0,this.__data__={hash:new le,map:new(_e||B),string:new le}}},5419:(ge,Qe,ie)=>{var le=ie(4113);ge.exports=function B(_e){var Ee=le(this,_e).delete(_e);return this.size-=Ee?1:0,Ee}},7336:(ge,Qe,ie)=>{var le=ie(4113);ge.exports=function B(_e){return le(this,_e).get(_e)}},1115:(ge,Qe,ie)=>{var le=ie(4113);ge.exports=function B(_e){return le(this,_e).has(_e)}},6648:(ge,Qe,ie)=>{var le=ie(4113);ge.exports=function B(_e,Ee){var Ve=le(this,_e),Se=Ve.size;return Ve.set(_e,Ee),this.size+=Ve.size==Se?0:1,this}},7371:(ge,Qe,ie)=>{var le=ie(7659);ge.exports=function _e(Ee){var Ve=le(Ee,function(rt){return 500===Se.size&&Se.clear(),rt}),Se=Ve.cache;return Ve}},893:(ge,Qe,ie)=>{var B=ie(8745)(Object,"create");ge.exports=B},9243:ge=>{var ie=Object.prototype.toString;ge.exports=function le(B){return ie.call(B)}},8492:(ge,Qe,ie)=>{var le=ie(248),B="object"==typeof self&&self&&self.Object===Object&&self,_e=le||B||Function("return this")();ge.exports=_e},163:(ge,Qe,ie)=>{var le=ie(7371),B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g,Ee=le(function(Ve){var Se=[];return 46===Ve.charCodeAt(0)&&Se.push(""),Ve.replace(B,function(rt,vt,wt,bt){Se.push(wt?bt.replace(_e,"$1"):vt||rt)}),Se});ge.exports=Ee},8916:(ge,Qe,ie)=>{var le=ie(3423);ge.exports=function _e(Ee){if("string"==typeof Ee||le(Ee))return Ee;var Ve=Ee+"";return"0"==Ve&&1/Ee==-1/0?"-0":Ve}},7075:ge=>{var ie=Function.prototype.toString;ge.exports=function le(B){if(null!=B){try{return ie.call(B)}catch{}try{return B+""}catch{}}return""}},1781:ge=>{var Qe=/\s/;ge.exports=function ie(le){for(var B=le.length;B--&&Qe.test(le.charAt(B)););return B}},4430:(ge,Qe,ie)=>{var le=ie(9794),B=ie(5533),_e=ie(4282),Ve=Math.max,Se=Math.min;ge.exports=function rt(vt,wt,bt){var Pn,ln,wr,nr,Bn,Mn,cn=0,Ge=!1,it=!1,ft=!0;if("function"!=typeof vt)throw new TypeError("Expected a function");function Dt(Je){var kn=Pn,_n=ln;return Pn=ln=void 0,cn=Je,nr=vt.apply(_n,kn)}function wn(Je){var kn=Je-Mn;return void 0===Mn||kn>=wt||kn<0||it&&Je-cn>=wr}function Zn(){var Je=B();if(wn(Je))return Fi(Je);Bn=setTimeout(Zn,function At(Je){var Ct=wt-(Je-Mn);return it?Se(Ct,wr-(Je-cn)):Ct}(Je))}function Fi(Je){return Bn=void 0,ft&&Pn?Dt(Je):(Pn=ln=void 0,nr)}function _r(){var Je=B(),kn=wn(Je);if(Pn=arguments,ln=this,Mn=Je,kn){if(void 0===Bn)return function In(Je){return cn=Je,Bn=setTimeout(Zn,wt),Ge?Dt(Je):nr}(Mn);if(it)return clearTimeout(Bn),Bn=setTimeout(Zn,wt),Dt(Mn)}return void 0===Bn&&(Bn=setTimeout(Zn,wt)),nr}return wt=_e(wt)||0,le(bt)&&(Ge=!!bt.leading,wr=(it="maxWait"in bt)?Ve(_e(bt.maxWait)||0,wt):wr,ft="trailing"in bt?!!bt.trailing:ft),_r.cancel=function To(){void 0!==Bn&&clearTimeout(Bn),cn=0,Pn=Mn=ln=Bn=void 0},_r.flush=function ao(){return void 0===Bn?nr:Fi(B())},_r}},7826:ge=>{ge.exports=function Qe(ie,le){return ie===le||ie!=ie&&le!=le}},5440:(ge,Qe,ie)=>{var le=ie(2202);ge.exports=function B(_e,Ee,Ve){var Se=null==_e?void 0:le(_e,Ee);return void 0===Se?Ve:Se}},2261:ge=>{ge.exports=Array.isArray},6861:(ge,Qe,ie)=>{var le=ie(4590),B=ie(9794);ge.exports=function rt(vt){if(!B(vt))return!1;var wt=le(vt);return"[object Function]"==wt||"[object GeneratorFunction]"==wt||"[object AsyncFunction]"==wt||"[object Proxy]"==wt}},9794:ge=>{ge.exports=function Qe(ie){var le=typeof ie;return null!=ie&&("object"==le||"function"==le)}},3714:ge=>{ge.exports=function Qe(ie){return null!=ie&&"object"==typeof ie}},3423:(ge,Qe,ie)=>{var le=ie(4590),B=ie(3714);ge.exports=function Ee(Ve){return"symbol"==typeof Ve||B(Ve)&&"[object Symbol]"==le(Ve)}},6990:function(ge,Qe,ie){var le;ge=ie.nmd(ge),function(){var B,Se="Expected a function",vt="__lodash_hash_undefined__",bt="__lodash_placeholder__",Ct=1/0,Na=9007199254740991,so=4294967295,Xd=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],rr="[object Arguments]",pr="[object Array]",en="[object Boolean]",Ms="[object Date]",cu="[object Error]",Cc="[object Function]",du="[object GeneratorFunction]",uo="[object Map]",Is="[object Number]",Oa="[object Object]",Wr="[object Promise]",fu="[object RegExp]",Yo="[object Set]",Ts="[object String]",Ec="[object Symbol]",As="[object WeakMap]",It="[object ArrayBuffer]",hu="[object DataView]",fa="[object Float32Array]",_c="[object Float64Array]",Jd="[object Int8Array]",Sc="[object Int16Array]",ef="[object Int32Array]",xc="[object Uint8Array]",Mc="[object Uint8ClampedArray]",bl="[object Uint16Array]",Ic="[object Uint32Array]",Lg=/\b__p \+= '';/g,Tc=/\b(__p \+=) '' \+/g,Pa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rs=/&(?:amp|lt|gt|quot|#39);/g,tf=/[&<>"']/g,Ac=RegExp(Rs.source),nf=RegExp(tf.source),pu=/<%-([\s\S]+?)%>/g,gu=/<%([\s\S]+?)%>/g,rf=/<%=([\s\S]+?)%>/g,ka=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rc=/^\w*$/,Ih=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ha=/[\\^$.*+?()[\]{}|]/g,af=RegExp(ha.source),Nc=/^\s+/,Wi=/\s/,Bg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vg=/\{\n\/\* \[wrapped with (.+)\] \*/,sf=/,? & /,Th=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dl=/[()=,{}\[\]\/\s]/,Ah=/\\(\\)?/g,uf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vn=/\w*$/,Rh=/^[-+]0x[0-9a-f]+$/i,Ut=/^0b[01]+$/i,vu=/^\[object .+?Constructor\]$/,Zr=/^0o[0-7]+$/i,Vm=/^(?:0|[1-9]\d*)$/,Nh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oc=/($^)/,Pc=/['\n\r\u2028\u2029\\]/g,Nr="\\ud800-\\udfff",lo="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Fa="\\u2700-\\u27bf",Ph="a-z\\xdf-\\xf6\\xf8-\\xff",Cl="A-Z\\xc0-\\xd6\\xd8-\\xde",Or="\\ufe0e\\ufe0f",yu="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="["+Nr+"]",cf="["+yu+"]",wu="["+lo+"]",co="\\d+",Hg="["+Fa+"]",Fh="["+Ph+"]",Un="[^"+Nr+yu+co+Fa+Ph+Cl+"]",bu="\\ud83c[\\udffb-\\udfff]",kc="[^"+Nr+"]",El="(?:\\ud83c[\\udde6-\\uddff]){2}",Wn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="["+Cl+"]",_l="(?:"+Fh+"|"+Un+")",Sl="(?:"+Ot+"|"+Un+")",df="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ue="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",xl="(?:"+wu+"|"+bu+")?",Wt="["+Or+"]?",ff=Wt+xl+"(?:\\u200d(?:"+[kc,El,Wn].join("|")+")"+Wt+xl+")*",La="(?:"+[Hg,El,Wn].join("|")+")"+ff,Yr="(?:"+[kc+wu+"?",wu,El,Wn,Lt].join("|")+")",$m=RegExp("['\u2019]","g"),oi=RegExp(wu,"g"),Os=RegExp(bu+"(?="+bu+")|"+Yr+ff,"g"),Ps=RegExp([Ot+"?"+Fh+"+"+df+"(?="+[cf,Ot,"$"].join("|")+")",Sl+"+"+Ue+"(?="+[cf,Ot+_l,"$"].join("|")+")",Ot+"?"+_l+"+"+df,Ot+"+"+Ue,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",co,La].join("|"),"g"),Lc=RegExp("[\\u200d"+Nr+lo+Or+"]"),fo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Um=-1,ar={};ar[fa]=ar[_c]=ar[Jd]=ar[Sc]=ar[ef]=ar[xc]=ar[Mc]=ar[bl]=ar[Ic]=!0,ar[rr]=ar[pr]=ar[It]=ar[en]=ar[hu]=ar[Ms]=ar[cu]=ar[Cc]=ar[uo]=ar[Is]=ar[Oa]=ar[fu]=ar[Yo]=ar[Ts]=ar[As]=!1;var sr={};sr[rr]=sr[pr]=sr[It]=sr[hu]=sr[en]=sr[Ms]=sr[fa]=sr[_c]=sr[Jd]=sr[Sc]=sr[ef]=sr[uo]=sr[Is]=sr[Oa]=sr[fu]=sr[Yo]=sr[Ts]=sr[Ec]=sr[xc]=sr[Mc]=sr[bl]=sr[Ic]=!0,sr[cu]=sr[Cc]=sr[As]=!1;var Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ml=parseFloat,zm=parseInt,Vh="object"==typeof global&&global&&global.Object===Object&&global,Mt="object"==typeof self&&self&&self.Object===Object&&self,Ti=Vh||Mt||Function("return this")(),po=Qe&&!Qe.nodeType&&Qe,ns=po&&ge&&!ge.nodeType&&ge,$h=ns&&ns.exports===po,Vc=$h&&Vh.process,Ro=function(){try{return ns&&ns.require&&ns.require("util").types||Vc&&Vc.binding&&Vc.binding("util")}catch{}}(),ai=Ro&&Ro.isArrayBuffer,go=Ro&&Ro.isDate,$c=Ro&&Ro.isMap,Hc=Ro&&Ro.isRegExp,hf=Ro&&Ro.isSet,gn=Ro&&Ro.isTypedArray;function Pr(ae,xe,ve){switch(ve.length){case 0:return ae.call(xe);case 1:return ae.call(xe,ve[0]);case 2:return ae.call(xe,ve[0],ve[1]);case 3:return ae.call(xe,ve[0],ve[1],ve[2])}return ae.apply(xe,ve)}function Du(ae,xe,ve,ut){for(var Xt=-1,Fn=null==ae?0:ae.length;++Xt<Fn;){var Xr=ae[Xt];xe(ut,Xr,ve(Xr),ae)}return ut}function Kn(ae,xe){for(var ve=-1,ut=null==ae?0:ae.length;++ve<ut&&!1!==xe(ae[ve],ve,ae););return ae}function Ba(ae,xe){for(var ve=null==ae?0:ae.length;ve--&&!1!==xe(ae[ve],ve,ae););return ae}function Il(ae,xe){for(var ve=-1,ut=null==ae?0:ae.length;++ve<ut;)if(!xe(ae[ve],ve,ae))return!1;return!0}function Tn(ae,xe){for(var ve=-1,ut=null==ae?0:ae.length,Xt=0,Fn=[];++ve<ut;){var Xr=ae[ve];xe(Xr,ve,ae)&&(Fn[Xt++]=Xr)}return Fn}function Cu(ae,xe){return!(null==ae||!ae.length)&&ga(ae,xe,0)>-1}function Ai(ae,xe,ve){for(var ut=-1,Xt=null==ae?0:ae.length;++ut<Xt;)if(ve(xe,ae[ut]))return!0;return!1}function Yn(ae,xe){for(var ve=-1,ut=null==ae?0:ae.length,Xt=Array(ut);++ve<ut;)Xt[ve]=xe(ae[ve],ve,ae);return Xt}function No(ae,xe){for(var ve=-1,ut=xe.length,Xt=ae.length;++ve<ut;)ae[Xt+ve]=xe[ve];return ae}function rs(ae,xe,ve,ut){var Xt=-1,Fn=null==ae?0:ae.length;for(ut&&Fn&&(ve=ae[++Xt]);++Xt<Fn;)ve=xe(ve,ae[Xt],Xt,ae);return ve}function Tl(ae,xe,ve,ut){var Xt=null==ae?0:ae.length;for(ut&&Xt&&(ve=ae[--Xt]);Xt--;)ve=xe(ve,ae[Xt],Xt,ae);return ve}function Uc(ae,xe){for(var ve=-1,ut=null==ae?0:ae.length;++ve<ut;)if(xe(ae[ve],ve,ae))return!0;return!1}var pf=Rl("length");function Ug(ae,xe,ve){var ut;return ve(ae,function(Xt,Fn,Xr){if(xe(Xt,Fn,Xr))return ut=Fn,!1}),ut}function zc(ae,xe,ve,ut){for(var Xt=ae.length,Fn=ve+(ut?1:-1);ut?Fn--:++Fn<Xt;)if(xe(ae[Fn],Fn,ae))return Fn;return-1}function ga(ae,xe,ve){return xe==xe?function Oo(ae,xe,ve){for(var ut=ve-1,Xt=ae.length;++ut<Xt;)if(ae[ut]===xe)return ut;return-1}(ae,xe,ve):zc(ae,Va,ve)}function Eu(ae,xe,ve,ut){for(var Xt=ve-1,Fn=ae.length;++Xt<Fn;)if(ut(ae[Xt],xe))return Xt;return-1}function Va(ae){return ae!=ae}function Al(ae,xe){var ve=null==ae?0:ae.length;return ve?is(ae,xe)/ve:NaN}function Rl(ae){return function(xe){return null==xe?B:xe[ae]}}function gf(ae){return function(xe){return null==ae?B:ae[xe]}}function Uh(ae,xe,ve,ut,Xt){return Xt(ae,function(Fn,Xr,Xn){ve=ut?(ut=!1,Fn):xe(ve,Fn,Xr,Xn)}),ve}function is(ae,xe){for(var ve,ut=-1,Xt=ae.length;++ut<Xt;){var Fn=xe(ae[ut]);Fn!==B&&(ve=ve===B?Fn:ve+Fn)}return ve}function jc(ae,xe){for(var ve=-1,ut=Array(ae);++ve<ae;)ut[ve]=xe(ve);return ut}function jh(ae){return ae&&ae.slice(0,Zc(ae)+1).replace(Nc,"")}function gt(ae){return function(xe){return ae(xe)}}function Gc(ae,xe){return Yn(xe,function(ve){return ae[ve]})}function ct(ae,xe){return ae.has(xe)}function Nl(ae,xe){for(var ve=-1,ut=ae.length;++ve<ut&&ga(xe,ae[ve],0)>-1;);return ve}function qc(ae,xe){for(var ve=ae.length;ve--&&ga(xe,ae[ve],0)>-1;);return ve}var zg=gf({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),jg=gf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Gh(ae){return"\\"+Ft[ae]}function ma(ae){return Lc.test(ae)}function vn(ae){var xe=-1,ve=Array(ae.size);return ae.forEach(function(ut,Xt){ve[++xe]=[Xt,ut]}),ve}function wa(ae,xe){return function(ve){return ae(xe(ve))}}function vo(ae,xe){for(var ve=-1,ut=ae.length,Xt=0,Fn=[];++ve<ut;){var Xr=ae[ve];(Xr===xe||Xr===bt)&&(ae[ve]=bt,Fn[Xt++]=ve)}return Fn}function Su(ae){var xe=-1,ve=Array(ae.size);return ae.forEach(function(ut){ve[++xe]=ut}),ve}function as(ae){return ma(ae)?function Wh(ae){for(var xe=Os.lastIndex=0;Os.test(ae);)++xe;return xe}(ae):pf(ae)}function mo(ae){return ma(ae)?function xu(ae){return ae.match(Os)||[]}(ae):function Hh(ae){return ae.split("")}(ae)}function Zc(ae){for(var xe=ae.length;xe--&&Wi.test(ae.charAt(xe)););return xe}var qh=gf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Kc=function ae(xe){var c,ve=(xe=null==xe?Ti:Kc.defaults(Ti.Object(),xe,Kc.pick(Ti,Hm))).Array,ut=xe.Date,Xt=xe.Error,Fn=xe.Function,Xr=xe.Math,Xn=xe.Object,Yc=xe.RegExp,Xc=xe.String,yo=xe.TypeError,Qc=ve.prototype,Mu=Xn.prototype,Fs=xe["__core-js_shared__"],Jc=Fn.prototype.toString,jn=Mu.hasOwnProperty,Gg=0,Po=(c=/[^.]+$/.exec(Fs&&Fs.keys&&Fs.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",Ol=Mu.toString,Yh=Jc.call(Xn),Vt=Ti._,Ki=Yc("^"+Jc.call(jn).replace(ha,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bn=$h?xe.Buffer:B,gr=xe.Symbol,kr=xe.Uint8Array,Ls=bn?bn.allocUnsafe:B,Qr=wa(Xn.getPrototypeOf,Xn),mf=Xn.create,ed=Mu.propertyIsEnumerable,ss=Qc.splice,yf=gr?gr.isConcatSpreadable:B,Iu=gr?gr.iterator:B,En=gr?gr.toStringTag:B,lt=function(){try{var c=ta(Xn,"defineProperty");return c({},"",{}),c}catch{}}(),Qt=xe.clearTimeout!==Ti.clearTimeout&&xe.clearTimeout,ur=ut&&ut.now!==Ti.Date.now&&ut.now,ko=xe.setTimeout!==Ti.setTimeout&&xe.setTimeout,us=Xr.ceil,vr=Xr.floor,ba=Xn.getOwnPropertySymbols,Qn=bn?bn.isBuffer:B,$a=xe.isFinite,Tu=Qc.join,Kt=wa(Xn.keys,Xn),Pt=Xr.max,wi=Xr.min,Ha=ut.now,Rt=xe.parseInt,An=Xr.random,pt=Qc.reverse,Yi=ta(xe,"DataView"),Ua=ta(xe,"Map"),td=ta(xe,"Promise"),wo=ta(xe,"Set"),si=ta(xe,"WeakMap"),Ri=ta(Xn,"create"),Da=si&&new si,nn={},Gm=ws(Yi),wf=ws(Ua),Xh=ws(td),Ca=ws(wo),Pl=ws(si),za=gr?gr.prototype:B,ja=za?za.valueOf:B,Lr=za?za.toString:B;function H(c){if(Tt(c)&&!ze(c)&&!(c instanceof on)){if(c instanceof Xi)return c;if(jn.call(c,"__wrapped__"))return Ks(c)}return new Xi(c)}var dn=function(){function c(){}return function(g){if(!st(g))return{};if(mf)return mf(g);c.prototype=g;var C=new c;return c.prototype=B,C}}();function rn(){}function Xi(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=B}function on(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=so,this.__views__=[]}function Qi(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function ls(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function bo(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function Do(c){var g=-1,C=null==c?0:c.length;for(this.__data__=new bo;++g<C;)this.add(c[g])}function Br(c){var g=this.__data__=new ls(c);this.size=g.size}function Au(c,g){var C=ze(c),T=!C&&Xe(c),L=!C&&!T&&zt(c),z=!C&&!T&&!L&&ia(c),J=C||T||L||z,re=J?jc(c.length,Xc):[],ue=re.length;for(var Pe in c)(g||jn.call(c,Pe))&&(!J||!("length"==Pe||L&&("offset"==Pe||"parent"==Pe)||z&&("buffer"==Pe||"byteLength"==Pe||"byteOffset"==Pe)||na(Pe,ue)))&&re.push(Pe);return re}function Ji(c){var g=c.length;return g?c[Gl(0,g-1)]:B}function Ef(c,g){return ra($r(c),ds(g,0,c.length))}function Ru(c){return ra($r(c))}function Fl(c,g,C){(C!==B&&!Et(c[g],C)||C===B&&!(g in c))&&Sa(c,g,C)}function Vs(c,g,C){var T=c[g];(!jn.call(c,g)||!Et(T,C)||C===B&&!(g in c))&&Sa(c,g,C)}function Nu(c,g){for(var C=c.length;C--;)if(Et(c[C][0],g))return C;return-1}function Ou(c,g,C,T){return Hs(c,function(L,z,J){g(T,L,C(L),J)}),T}function cs(c,g){return c&&$i(g,Oi(g),c)}function Sa(c,g,C){"__proto__"==g&&lt?lt(c,g,{configurable:!0,enumerable:!0,value:C,writable:!0}):c[g]=C}function od(c,g){for(var C=-1,T=g.length,L=ve(T),z=null==c;++C<T;)L[C]=z?B:sy(c,g[C]);return L}function ds(c,g,C){return c==c&&(C!==B&&(c=c<=C?c:C),g!==B&&(c=c>=g?c:g)),c}function Li(c,g,C,T,L,z){var J,re=1&g,ue=2&g,Pe=4&g;if(C&&(J=L?C(c,T,L,z):C(c)),J!==B)return J;if(!st(c))return c;var ke=ze(c);if(ke){if(J=function Dp(c){var g=c.length,C=new c.constructor(g);return g&&"string"==typeof c[0]&&jn.call(c,"index")&&(C.index=c.index,C.input=c.input),C}(c),!re)return $r(c,J)}else{var qe=Fr(c),dt=qe==Cc||qe==du;if(zt(c))return lr(c,re);if(qe==Oa||qe==rr||dt&&!L){if(J=ue||dt?{}:Ui(c),!re)return ue?function nv(c,g){return $i(c,Xl(c),g)}(c,function id(c,g){return c&&$i(g,ro(g),c)}(J,c)):function Vu(c,g){return $i(c,ms(c),g)}(c,cs(J,c))}else{if(!sr[qe])return L?c:{};J=function Bf(c,g,C){var T=c.constructor;switch(g){case It:return to(c);case en:case Ms:return new T(+c);case hu:return function hd(c,g){var C=g?to(c.buffer):c.buffer;return new c.constructor(C,c.byteOffset,c.byteLength)}(c,C);case fa:case _c:case Jd:case Sc:case ef:case xc:case Mc:case bl:case Ic:return Ci(c,C);case uo:return new T;case Is:case Ts:return new T(c);case fu:return function xr(c){var g=new c.constructor(c.source,Vn.exec(c));return g.lastIndex=c.lastIndex,g}(c);case Yo:return new T;case Ec:return function $o(c){return ja?Xn(ja.call(c)):{}}(c)}}(c,qe,re)}}z||(z=new Br);var _t=z.get(c);if(_t)return _t;z.set(c,J),_i(c)?c.forEach(function(Ht){J.add(Li(Ht,g,C,Ht,c,z))}):Ln(c)&&c.forEach(function(Ht,mn){J.set(mn,Li(Ht,g,C,mn,c,z))});var Cn=ke?B:(Pe?ue?Uu:yp:ue?ro:Oi)(c);return Kn(Cn||c,function(Ht,mn){Cn&&(Ht=c[mn=Ht]),Vs(J,mn,Li(Ht,g,C,mn,c,z))}),J}function $s(c,g,C){var T=C.length;if(null==c)return!T;for(c=Xn(c);T--;){var L=C[T],J=c[L];if(J===B&&!(L in c)||!(0,g[L])(J))return!1}return!0}function _f(c,g,C){if("function"!=typeof c)throw new yo(Se);return Ws(function(){c.apply(B,C)},g)}function ad(c,g,C,T){var L=-1,z=Cu,J=!0,re=c.length,ue=[],Pe=g.length;if(!re)return ue;C&&(g=Yn(g,gt(C))),T?(z=Ai,J=!1):g.length>=200&&(z=ct,J=!1,g=new Do(g));e:for(;++L<re;){var ke=c[L],qe=null==C?ke:C(ke);if(ke=T||0!==ke?ke:0,J&&qe==qe){for(var dt=Pe;dt--;)if(g[dt]===qe)continue e;ue.push(ke)}else z(g,qe,T)||ue.push(ke)}return ue}H.templateSettings={escape:pu,evaluate:gu,interpolate:rf,variable:"",imports:{_:H}},(H.prototype=rn.prototype).constructor=H,(Xi.prototype=dn(rn.prototype)).constructor=Xi,(on.prototype=dn(rn.prototype)).constructor=on,Qi.prototype.clear=function Fo(){this.__data__=Ri?Ri(null):{},this.size=0},Qi.prototype.delete=function kl(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g},Qi.prototype.get=function bf(c){var g=this.__data__;if(Ri){var C=g[c];return C===vt?B:C}return jn.call(g,c)?g[c]:B},Qi.prototype.has=function Qh(c){var g=this.__data__;return Ri?g[c]!==B:jn.call(g,c)},Qi.prototype.set=function qg(c,g){var C=this.__data__;return this.size+=this.has(c)?0:1,C[c]=Ri&&g===B?vt:g,this},ls.prototype.clear=function rd(){this.__data__=[],this.size=0},ls.prototype.delete=function Wg(c){var g=this.__data__,C=Nu(g,c);return!(C<0||(C==g.length-1?g.pop():ss.call(g,C,1),--this.size,0))},ls.prototype.get=function qm(c){var g=this.__data__,C=Nu(g,c);return C<0?B:g[C][1]},ls.prototype.has=function Df(c){return Nu(this.__data__,c)>-1},ls.prototype.set=function Jh(c,g){var C=this.__data__,T=Nu(C,c);return T<0?(++this.size,C.push([c,g])):C[T][1]=g,this},bo.prototype.clear=function _a(){this.size=0,this.__data__={hash:new Qi,map:new(Ua||ls),string:new Qi}},bo.prototype.delete=function Zg(c){var g=Lf(this,c).delete(c);return this.size-=g?1:0,g},bo.prototype.get=function Kg(c){return Lf(this,c).get(c)},bo.prototype.has=function Yg(c){return Lf(this,c).has(c)},bo.prototype.set=function ep(c,g){var C=Lf(this,c),T=C.size;return C.set(c,g),this.size+=C.size==T?0:1,this},Do.prototype.add=Do.prototype.push=function Bs(c){return this.__data__.set(c,vt),this},Do.prototype.has=function Qo(c){return this.__data__.has(c)},Br.prototype.clear=function Co(){this.__data__=new ls,this.size=0},Br.prototype.delete=function Lo(c){var g=this.__data__,C=g.delete(c);return this.size=g.size,C},Br.prototype.get=function Cf(c){return this.__data__.get(c)},Br.prototype.has=function tp(c){return this.__data__.has(c)},Br.prototype.set=function bi(c,g){var C=this.__data__;if(C instanceof ls){var T=C.__data__;if(!Ua||T.length<199)return T.push([c,g]),this.size=++C.size,this;C=this.__data__=new bo(T)}return C.set(c,g),this.size=C.size,this};var Hs=pd(Ga),np=pd(Sf,!0);function Xg(c,g){var C=!0;return Hs(c,function(T,L,z){return C=!!g(T,L,z)}),C}function sd(c,g,C){for(var T=-1,L=c.length;++T<L;){var z=c[T],J=g(z);if(null!=J&&(re===B?J==J&&!jr(J):C(J,re)))var re=J,ue=z}return ue}function ud(c,g){var C=[];return Hs(c,function(T,L,z){g(T,L,z)&&C.push(T)}),C}function Dr(c,g,C,T,L){var z=-1,J=c.length;for(C||(C=Ho),L||(L=[]);++z<J;){var re=c[z];g>0&&C(re)?g>1?Dr(re,g-1,C,T,L):No(L,re):T||(L[L.length]=re)}return L}var Pu=gd(),Bl=gd(!0);function Ga(c,g){return c&&Pu(c,g,Oi)}function Sf(c,g){return c&&Bl(c,g,Oi)}function Vl(c,g){return Tn(g,function(C){return Ce(c[C])})}function fs(c,g){for(var C=0,T=(g=eo(g,c)).length;null!=c&&C<T;)c=c[zi(g[C++])];return C&&C==T?c:B}function ku(c,g,C){var T=g(c);return ze(c)?T:No(T,C(c))}function Sr(c){return null==c?c===B?"[object Undefined]":"[object Null]":En&&En in Xn(c)?function bp(c){var g=jn.call(c,En),C=c[En];try{c[En]=B;var T=!0}catch{}var L=Ol.call(c);return T&&(g?c[En]=C:delete c[En]),L}(c):function Hf(c){return Ol.call(c)}(c)}function ld(c,g){return c>g}function rp(c,g){return null!=c&&jn.call(c,g)}function ip(c,g){return null!=c&&g in Xn(c)}function Us(c,g,C){for(var T=C?Ai:Cu,L=c[0].length,z=c.length,J=z,re=ve(z),ue=1/0,Pe=[];J--;){var ke=c[J];J&&g&&(ke=Yn(ke,gt(g))),ue=wi(ke.length,ue),re[J]=!C&&(g||L>=120&&ke.length>=120)?new Do(J&&ke):B}ke=c[0];var qe=-1,dt=re[0];e:for(;++qe<L&&Pe.length<ue;){var _t=ke[qe],Bt=g?g(_t):_t;if(_t=C||0!==_t?_t:0,!(dt?ct(dt,Bt):T(Pe,Bt,C))){for(J=z;--J;){var Cn=re[J];if(!(Cn?ct(Cn,Bt):T(c[J],Bt,C)))continue e}dt&&dt.push(Bt),Pe.push(_t)}}return Pe}function $l(c,g,C){var T=null==(c=Uf(c,g=eo(g,c)))?c:c[zi(cr(g))];return null==T?B:Pr(T,c,C)}function Rn(c){return Tt(c)&&Sr(c)==rr}function hs(c,g,C,T,L){return c===g||(null==c||null==g||!Tt(c)&&!Tt(g)?c!=c&&g!=g:function Jg(c,g,C,T,L,z){var J=ze(c),re=ze(g),ue=J?pr:Fr(c),Pe=re?pr:Fr(g),ke=(ue=ue==rr?Oa:ue)==Oa,qe=(Pe=Pe==rr?Oa:Pe)==Oa,dt=ue==Pe;if(dt&&zt(c)){if(!zt(g))return!1;J=!0,ke=!1}if(dt&&!ke)return z||(z=new Br),J||ia(c)?mp(c,g,C,T,L,z):function Hu(c,g,C,T,L,z,J){switch(C){case hu:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case It:return!(c.byteLength!=g.byteLength||!z(new kr(c),new kr(g)));case en:case Ms:case Is:return Et(+c,+g);case cu:return c.name==g.name&&c.message==g.message;case fu:case Ts:return c==g+"";case uo:var re=vn;case Yo:if(re||(re=Su),c.size!=g.size&&!(1&T))return!1;var Pe=J.get(c);if(Pe)return Pe==g;T|=2,J.set(c,g);var ke=mp(re(c),re(g),T,L,z,J);return J.delete(c),ke;case Ec:if(ja)return ja.call(c)==ja.call(g)}return!1}(c,g,ue,C,T,L,z);if(!(1&C)){var _t=ke&&jn.call(c,"__wrapped__"),Bt=qe&&jn.call(g,"__wrapped__");if(_t||Bt){var Cn=_t?c.value():c,Ht=Bt?g.value():g;return z||(z=new Br),L(Cn,Ht,C,T,z)}}return!!dt&&(z||(z=new Br),function Yl(c,g,C,T,L,z){var J=1&C,re=yp(c),ue=re.length;if(ue!=yp(g).length&&!J)return!1;for(var qe=ue;qe--;){var dt=re[qe];if(!(J?dt in g:jn.call(g,dt)))return!1}var _t=z.get(c),Bt=z.get(g);if(_t&&Bt)return _t==g&&Bt==c;var Cn=!0;z.set(c,g),z.set(g,c);for(var Ht=J;++qe<ue;){var mn=c[dt=re[qe]],On=g[dt];if(T)var Pi=J?T(On,mn,dt,g,c,z):T(mn,On,dt,c,g,z);if(!(Pi===B?mn===On||L(mn,On,C,T,z):Pi)){Cn=!1;break}Ht||(Ht="constructor"==dt)}if(Cn&&!Ht){var dr=c.constructor,sa=g.constructor;dr!=sa&&"constructor"in c&&"constructor"in g&&!("function"==typeof dr&&dr instanceof dr&&"function"==typeof sa&&sa instanceof sa)&&(Cn=!1)}return z.delete(c),z.delete(g),Cn}(c,g,C,T,L,z))}(c,g,C,T,hs,L))}function zs(c,g,C,T){var L=C.length,z=L,J=!T;if(null==c)return!z;for(c=Xn(c);L--;){var re=C[L];if(J&&re[2]?re[1]!==c[re[0]]:!(re[0]in c))return!1}for(;++L<z;){var ue=(re=C[L])[0],Pe=c[ue],ke=re[1];if(J&&re[2]){if(Pe===B&&!(ue in c))return!1}else{var qe=new Br;if(T)var dt=T(Pe,ke,ue,c,g,qe);if(!(dt===B?hs(ke,Pe,3,T,qe):dt))return!1}}return!0}function Mf(c){return!(!st(c)||function Vf(c){return!!Po&&Po in c}(c))&&(Ce(c)?Ki:vu).test(ws(c))}function Hl(c){return"function"==typeof c?c:null==c?io:"object"==typeof c?ze(c)?sp(c[0],c[1]):Bi(c):Dw(c)}function Lu(c){if(!Za(c))return Kt(c);var g=[];for(var C in Xn(c))jn.call(c,C)&&"constructor"!=C&&g.push(C);return g}function Ul(c,g){return c<g}function zl(c,g){var C=-1,T=Ye(c)?ve(c.length):[];return Hs(c,function(L,z,J){T[++C]=g(L,z,J)}),T}function Bi(c){var g=Gu(c);return 1==g.length&&g[0][2]?Wu(g[0][0],g[0][1]):function(C){return C===c||zs(C,c,g)}}function sp(c,g){return Jl(c)&&$f(g)?Wu(zi(c),g):function(C){var T=sy(C,c);return T===B&&T===g?Lp(C,c):hs(g,T,3)}}function Vo(c,g,C,T,L){c!==g&&Pu(g,function(z,J){if(L||(L=new Br),st(z))!function js(c,g,C,T,L,z,J){var re=nc(c,C),ue=nc(g,C),Pe=J.get(ue);if(Pe)Fl(c,C,Pe);else{var ke=z?z(re,ue,C+"",c,g,J):B,qe=ke===B;if(qe){var dt=ze(ue),_t=!dt&&zt(ue),Bt=!dt&&!_t&&ia(ue);ke=ue,dt||_t||Bt?ze(re)?ke=re:nt(re)?ke=$r(re):_t?(qe=!1,ke=lr(ue,!0)):Bt?(qe=!1,ke=Ci(ue,!0)):ke=[]:Ei(ue)||Xe(ue)?(ke=re,Xe(re)?ke=Np(re):(!st(re)||Ce(re))&&(ke=Ui(ue))):qe=!1}qe&&(J.set(ue,ke),L(ke,ue,T,z,J),J.delete(ue)),Fl(c,C,ke)}}(c,g,J,C,Vo,T,L);else{var re=T?T(nc(c,J),z,J+"",c,g,L):B;re===B&&(re=z),Fl(c,J,re)}},ro)}function Jr(c,g){var C=c.length;if(C)return na(g+=g<0?C:0,C)?c[g]:B}function Di(c,g,C){g=g.length?Yn(g,function(z){return ze(z)?function(J){return fs(J,1===z.length?z[0]:z)}:z}):[io];var T=-1;return g=Yn(g,gt(kt())),function zh(ae,xe){var ve=ae.length;for(ae.sort(xe);ve--;)ae[ve]=ae[ve].value;return ae}(zl(c,function(z,J,re){return{criteria:Yn(g,function(Pe){return Pe(z)}),index:++T,value:z}}),function(z,J){return function tv(c,g,C){for(var T=-1,L=c.criteria,z=g.criteria,J=L.length,re=C.length;++T<J;){var ue=fi(L[T],z[T]);if(ue)return T>=re?ue:ue*("desc"==C[T]?-1:1)}return c.index-g.index}(z,J,C)})}function If(c,g,C){for(var T=-1,L=g.length,z={};++T<L;){var J=g[T],re=fs(c,J);C(re,J)&&qn(z,eo(J,c),re)}return z}function jl(c,g,C,T){var L=T?Eu:ga,z=-1,J=g.length,re=c;for(c===g&&(g=$r(g)),C&&(re=Yn(c,gt(C)));++z<J;)for(var ue=0,Pe=g[z],ke=C?C(Pe):Pe;(ue=L(re,ke,ue,T))>-1;)re!==c&&ss.call(re,ue,1),ss.call(c,ue,1);return c}function Tf(c,g){for(var C=c?g.length:0,T=C-1;C--;){var L=g[C];if(C==T||L!==z){var z=L;na(L)?ss.call(c,L,1):Dn(c,L)}}return c}function Gl(c,g){return c+vr(An()*(g-c+1))}function Gn(c,g){var C="";if(!c||g<1||g>Na)return C;do{g%2&&(C+=c),(g=vr(g/2))&&(c+=c)}while(g);return C}function hn(c,g){return Ed(Ku(c,g,io),c+"")}function $t(c){return Ji(sc(c))}function lp(c,g){var C=sc(c);return ra(C,ds(g,0,C.length))}function qn(c,g,C,T){if(!st(c))return c;for(var L=-1,z=(g=eo(g,c)).length,J=z-1,re=c;null!=re&&++L<z;){var ue=zi(g[L]),Pe=C;if("__proto__"===ue||"constructor"===ue||"prototype"===ue)return c;if(L!=J){var ke=re[ue];(Pe=T?T(ke,ue,re):B)===B&&(Pe=st(ke)?ke:na(g[L+1])?[]:{})}Vs(re,ue,Pe),re=re[ue]}return c}var ql=Da?function(c,g){return Da.set(c,g),c}:io,cp=lt?function(c,g){return lt(c,"toString",{configurable:!0,enumerable:!1,value:sh(g),writable:!0})}:io;function dp(c){return ra(sc(c))}function ci(c,g,C){var T=-1,L=c.length;g<0&&(g=-g>L?0:L+g),(C=C>L?L:C)<0&&(C+=L),L=g>C?0:C-g>>>0,g>>>=0;for(var z=ve(L);++T<L;)z[T]=c[T+g];return z}function Bu(c,g){var C;return Hs(c,function(T,L,z){return!(C=g(T,L,z))}),!!C}function ps(c,g,C){var T=0,L=null==c?T:c.length;if("number"==typeof g&&g==g&&L<=2147483647){for(;T<L;){var z=T+L>>>1,J=c[z];null!==J&&!jr(J)&&(C?J<=g:J<g)?T=z+1:L=z}return L}return Af(c,g,io,C)}function Af(c,g,C,T){var L=0,z=null==c?0:c.length;if(0===z)return 0;for(var J=(g=C(g))!=g,re=null===g,ue=jr(g),Pe=g===B;L<z;){var ke=vr((L+z)/2),qe=C(c[ke]),dt=qe!==B,_t=null===qe,Bt=qe==qe,Cn=jr(qe);if(J)var Ht=T||Bt;else Ht=Pe?Bt&&(T||dt):re?Bt&&dt&&(T||!_t):ue?Bt&&dt&&!_t&&(T||!Cn):!_t&&!Cn&&(T?qe<=g:qe<g);Ht?L=ke+1:z=ke}return wi(z,4294967294)}function Rf(c,g){for(var C=-1,T=c.length,L=0,z=[];++C<T;){var J=c[C],re=g?g(J):J;if(!C||!Et(re,ue)){var ue=re;z[L++]=0===J?0:J}}return z}function fp(c){return"number"==typeof c?c:jr(c)?NaN:+c}function Eo(c){if("string"==typeof c)return c;if(ze(c))return Yn(c,Eo)+"";if(jr(c))return Lr?Lr.call(c):"";var g=c+"";return"0"==g&&1/c==-Ct?"-0":g}function Te(c,g,C){var T=-1,L=Cu,z=c.length,J=!0,re=[],ue=re;if(C)J=!1,L=Ai;else if(z>=200){var Pe=g?null:bd(c);if(Pe)return Su(Pe);J=!1,L=ct,ue=new Do}else ue=g?[]:re;e:for(;++T<z;){var ke=c[T],qe=g?g(ke):ke;if(ke=C||0!==ke?ke:0,J&&qe==qe){for(var dt=ue.length;dt--;)if(ue[dt]===qe)continue e;g&&ue.push(qe),re.push(ke)}else L(ue,qe,C)||(ue!==re&&ue.push(qe),re.push(ke))}return re}function Dn(c,g){return null==(c=Uf(c,g=eo(g,c)))||delete c[zi(cr(g))]}function dd(c,g,C,T){return qn(c,g,C(fs(c,g)),T)}function Gs(c,g,C,T){for(var L=c.length,z=T?L:-1;(T?z--:++z<L)&&g(c[z],z,c););return C?ci(c,T?0:z,T?z+1:L):ci(c,T?z+1:0,T?L:z)}function di(c,g){var C=c;return C instanceof on&&(C=C.value()),rs(g,function(T,L){return L.func.apply(L.thisArg,No([T],L.args))},C)}function fd(c,g,C){var T=c.length;if(T<2)return T?Te(c[0]):[];for(var L=-1,z=ve(T);++L<T;)for(var J=c[L],re=-1;++re<T;)re!=L&&(z[L]=ad(z[L]||J,c[re],g,C));return Te(Dr(z,1),g,C)}function gs(c,g,C){for(var T=-1,L=c.length,z=g.length,J={};++T<L;)C(J,c[T],T<z?g[T]:B);return J}function Vi(c){return nt(c)?c:[]}function Vr(c){return"function"==typeof c?c:io}function eo(c,g){return ze(c)?c:Jl(c,g)?[c]:Zs(Nn(c))}var ev=hn;function Jo(c,g,C){var T=c.length;return C=C===B?T:C,!g&&C>=T?c:ci(c,g,C)}var Wl=Qt||function(c){return Ti.clearTimeout(c)};function lr(c,g){if(g)return c.slice();var C=c.length,T=Ls?Ls(C):new c.constructor(C);return c.copy(T),T}function to(c){var g=new c.constructor(c.byteLength);return new kr(g).set(new kr(c)),g}function Ci(c,g){var C=g?to(c.buffer):c.buffer;return new c.constructor(C,c.byteOffset,c.length)}function fi(c,g){if(c!==g){var C=c!==B,T=null===c,L=c==c,z=jr(c),J=g!==B,re=null===g,ue=g==g,Pe=jr(g);if(!re&&!Pe&&!z&&c>g||z&&J&&ue&&!re&&!Pe||T&&J&&ue||!C&&ue||!L)return 1;if(!T&&!z&&!Pe&&c<g||Pe&&C&&L&&!T&&!z||re&&C&&L||!J&&L||!ue)return-1}return 0}function hp(c,g,C,T){for(var L=-1,z=c.length,J=C.length,re=-1,ue=g.length,Pe=Pt(z-J,0),ke=ve(ue+Pe),qe=!T;++re<ue;)ke[re]=g[re];for(;++L<J;)(qe||L<z)&&(ke[C[L]]=c[L]);for(;Pe--;)ke[re++]=c[L++];return ke}function xa(c,g,C,T){for(var L=-1,z=c.length,J=-1,re=C.length,ue=-1,Pe=g.length,ke=Pt(z-re,0),qe=ve(ke+Pe),dt=!T;++L<ke;)qe[L]=c[L];for(var _t=L;++ue<Pe;)qe[_t+ue]=g[ue];for(;++J<re;)(dt||L<z)&&(qe[_t+C[J]]=c[L++]);return qe}function $r(c,g){var C=-1,T=c.length;for(g||(g=ve(T));++C<T;)g[C]=c[C];return g}function $i(c,g,C,T){var L=!C;C||(C={});for(var z=-1,J=g.length;++z<J;){var re=g[z],ue=T?T(C[re],c[re],re,C,c):B;ue===B&&(ue=c[re]),L?Sa(C,re,ue):Vs(C,re,ue)}return C}function Zl(c,g){return function(C,T){var L=ze(C)?Du:Ou,z=g?g():{};return L(C,c,kt(T,2),z)}}function _o(c){return hn(function(g,C){var T=-1,L=C.length,z=L>1?C[L-1]:B,J=L>2?C[2]:B;for(z=c.length>3&&"function"==typeof z?(L--,z):B,J&&ei(C[0],C[1],J)&&(z=L<3?B:z,L=1),g=Xn(g);++T<L;){var re=C[T];re&&c(g,re,T,z)}return g})}function pd(c,g){return function(C,T){if(null==C)return C;if(!Ye(C))return c(C,T);for(var L=C.length,z=g?L:-1,J=Xn(C);(g?z--:++z<L)&&!1!==T(J[z],z,J););return C}}function gd(c){return function(g,C,T){for(var L=-1,z=Xn(g),J=T(g),re=J.length;re--;){var ue=J[c?re:++L];if(!1===C(z[ue],ue,z))break}return g}}function vd(c){return function(g){var C=ma(g=Nn(g))?mo(g):B,T=C?C[0]:g.charAt(0),L=C?Jo(C,1).join(""):g.slice(1);return T[c]()+L}}function vs(c){return function(g){return rs(cl(dy(g).replace($m,"")),c,"")}}function $u(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var C=dn(c.prototype),T=c.apply(C,g);return st(T)?T:C}}function Ni(c){return function(g,C,T){var L=Xn(g);if(!Ye(g)){var z=kt(C,3);g=Oi(g),C=function(re){return z(L[re],re,L)}}var J=c(g,C,T);return J>-1?L[z?g[J]:J]:B}}function ea(c){return Ma(function(g){var C=g.length,T=C,L=Xi.prototype.thru;for(c&&g.reverse();T--;){var z=g[T];if("function"!=typeof z)throw new yo(Se);if(L&&!J&&"wrapper"==zu(z))var J=new Xi([],!0)}for(T=J?T:C;++T<C;){var re=zu(z=g[T]),ue="wrapper"==re?wp(z):B;J=ue&&ec(ue[0])&&424==ue[1]&&!ue[4].length&&1==ue[9]?J[zu(ue[0])].apply(J,ue[3]):1==z.length&&ec(z)?J[re]():J.thru(z)}return function(){var Pe=arguments,ke=Pe[0];if(J&&1==Pe.length&&ze(ke))return J.plant(ke).value();for(var qe=0,dt=C?g[qe].apply(this,Pe):ke;++qe<C;)dt=g[qe].call(this,dt);return dt}})}function or(c,g,C,T,L,z,J,re,ue,Pe){var ke=128&g,qe=1&g,dt=2&g,_t=24&g,Bt=512&g,Cn=dt?B:$u(c);return function Ht(){for(var mn=arguments.length,On=ve(mn),Pi=mn;Pi--;)On[Pi]=arguments[Pi];if(_t)var dr=ju(Ht),sa=function _u(ae,xe){for(var ve=ae.length,ut=0;ve--;)ae[ve]===xe&&++ut;return ut}(On,dr);if(T&&(On=hp(On,T,L,_t)),z&&(On=xa(On,z,J,_t)),mn-=sa,_t&&mn<Pe){var Gr=vo(On,dr);return Wa(c,g,or,Ht.placeholder,C,On,Gr,re,ue,Pe-mn)}var xi=qe?C:this,eu=dt?xi[c]:c;return mn=On.length,re?On=function Hr(c,g){for(var C=c.length,T=wi(g.length,C),L=$r(c);T--;){var z=g[T];c[T]=na(z,C)?L[z]:B}return c}(On,re):Bt&&mn>1&&On.reverse(),ke&&ue<mn&&(On.length=ue),this&&this!==Ti&&this instanceof Ht&&(eu=Cn||$u(eu)),eu.apply(xi,On)}}function gp(c,g){return function(C,T){return function op(c,g,C,T){return Ga(c,function(L,z,J){g(T,C(L),z,J)}),T}(C,c,g(T),{})}}function md(c,g){return function(C,T){var L;if(C===B&&T===B)return g;if(C!==B&&(L=C),T!==B){if(L===B)return T;"string"==typeof C||"string"==typeof T?(C=Eo(C),T=Eo(T)):(C=fp(C),T=fp(T)),L=c(C,T)}return L}}function Of(c){return Ma(function(g){return g=Yn(g,gt(kt())),hn(function(C){var T=this;return c(g,function(L){return Pr(L,T,C)})})})}function yd(c,g){var C=(g=g===B?" ":Eo(g)).length;if(C<2)return C?Gn(g,c):g;var T=Gn(g,us(c/as(g)));return ma(g)?Jo(mo(T),0,c).join(""):T.slice(0,c)}function kf(c){return function(g,C,T){return T&&"number"!=typeof T&&ei(g,C,T)&&(C=T=B),g=Mr(g),C===B?(C=g,g=0):C=Mr(C),function li(c,g,C,T){for(var L=-1,z=Pt(us((g-c)/(C||1)),0),J=ve(z);z--;)J[T?z:++L]=c,c+=C;return J}(g,C,T=T===B?g<C?1:-1:Mr(T),c)}}function qs(c){return function(g,C){return"string"==typeof g&&"string"==typeof C||(g=Gi(g),C=Gi(C)),c(g,C)}}function Wa(c,g,C,T,L,z,J,re,ue,Pe){var ke=8&g;g|=ke?32:64,4&(g&=~(ke?64:32))||(g&=-4);var Cn=[c,g,L,ke?z:B,ke?J:B,ke?B:z,ke?B:J,re,ue,Pe],Ht=C.apply(B,Cn);return ec(c)&&ti(Ht,Cn),Ht.placeholder=T,Yu(Ht,c,g)}function wd(c){var g=Xr[c];return function(C,T){if(C=Gi(C),(T=null==T?0:wi(tn(T),292))&&$a(C)){var L=(Nn(C)+"e").split("e");return+((L=(Nn(g(L[0]+"e"+(+L[1]+T)))+"e").split("e"))[0]+"e"+(+L[1]-T))}return g(C)}}var bd=wo&&1/Su(new wo([,-0]))[1]==Ct?function(c){return new wo(c)}:uh;function Kl(c){return function(g){var C=Fr(g);return C==uo?vn(g):C==Yo?function Wc(ae){var xe=-1,ve=Array(ae.size);return ae.forEach(function(ut){ve[++xe]=[ut,ut]}),ve}(g):function os(ae,xe){return Yn(xe,function(ve){return[ve,ae[ve]]})}(g,c(g))}}function Hi(c,g,C,T,L,z,J,re){var ue=2&g;if(!ue&&"function"!=typeof c)throw new yo(Se);var Pe=T?T.length:0;if(Pe||(g&=-97,T=L=B),J=J===B?J:Pt(tn(J),0),re=re===B?re:tn(re),Pe-=L?L.length:0,64&g){var ke=T,qe=L;T=L=B}var dt=ue?B:wp(c),_t=[c,g,C,T,L,ke,qe,z,J,re];if(dt&&function Ka(c,g){var C=c[1],T=g[1],L=C|T;if(!(L<131)&&!(128==T&&8==C||128==T&&256==C&&c[7].length<=g[8]||384==T&&g[7].length<=g[8]&&8==C))return c;1&T&&(c[2]=g[2],L|=1&C?0:4);var re=g[3];if(re){var ue=c[3];c[3]=ue?hp(ue,re,g[4]):re,c[4]=ue?vo(c[3],bt):g[4]}(re=g[5])&&(c[5]=(ue=c[5])?xa(ue,re,g[6]):re,c[6]=ue?vo(c[5],bt):g[6]),(re=g[7])&&(c[7]=re),128&T&&(c[8]=null==c[8]?g[8]:wi(c[8],g[8])),null==c[9]&&(c[9]=g[9]),c[0]=g[0],c[1]=L}(_t,dt),c=_t[0],g=_t[1],C=_t[2],T=_t[3],L=_t[4],!(re=_t[9]=_t[9]===B?ue?0:c.length:Pt(_t[9]-Pe,0))&&24&g&&(g&=-25),g&&1!=g)Bt=8==g||16==g?function Nf(c,g,C){var T=$u(c);return function L(){for(var z=arguments.length,J=ve(z),re=z,ue=ju(L);re--;)J[re]=arguments[re];var Pe=z<3&&J[0]!==ue&&J[z-1]!==ue?[]:vo(J,ue);return(z-=Pe.length)<C?Wa(c,g,or,L.placeholder,B,J,Pe,B,B,C-z):Pr(this&&this!==Ti&&this instanceof L?T:c,this,J)}}(c,g,re):32!=g&&33!=g||L.length?or.apply(B,_t):function Pf(c,g,C,T){var L=1&g,z=$u(c);return function J(){for(var re=-1,ue=arguments.length,Pe=-1,ke=T.length,qe=ve(ke+ue),dt=this&&this!==Ti&&this instanceof J?z:c;++Pe<ke;)qe[Pe]=T[Pe];for(;ue--;)qe[Pe++]=arguments[++re];return Pr(dt,L?C:this,qe)}}(c,g,C,T);else var Bt=function pp(c,g,C){var T=1&g,L=$u(c);return function z(){return(this&&this!==Ti&&this instanceof z?L:c).apply(T?C:this,arguments)}}(c,g,C);return Yu((dt?ql:ti)(Bt,_t),c,g)}function Dd(c,g,C,T){return c===B||Et(c,Mu[C])&&!jn.call(T,C)?g:c}function Ff(c,g,C,T,L,z){return st(c)&&st(g)&&(z.set(g,c),Vo(c,g,B,Ff,z),z.delete(g)),c}function vp(c){return Ei(c)?B:c}function mp(c,g,C,T,L,z){var J=1&C,re=c.length,ue=g.length;if(re!=ue&&!(J&&ue>re))return!1;var Pe=z.get(c),ke=z.get(g);if(Pe&&ke)return Pe==g&&ke==c;var qe=-1,dt=!0,_t=2&C?new Do:B;for(z.set(c,g),z.set(g,c);++qe<re;){var Bt=c[qe],Cn=g[qe];if(T)var Ht=J?T(Cn,Bt,qe,g,c,z):T(Bt,Cn,qe,c,g,z);if(Ht!==B){if(Ht)continue;dt=!1;break}if(_t){if(!Uc(g,function(mn,On){if(!ct(_t,On)&&(Bt===mn||L(Bt,mn,C,T,z)))return _t.push(On)})){dt=!1;break}}else if(Bt!==Cn&&!L(Bt,Cn,C,T,z)){dt=!1;break}}return z.delete(c),z.delete(g),dt}function Ma(c){return Ed(Ku(c,B,Ju),c+"")}function yp(c){return ku(c,Oi,ms)}function Uu(c){return ku(c,ro,Xl)}var wp=Da?function(c){return Da.get(c)}:uh;function zu(c){for(var g=c.name+"",C=nn[g],T=jn.call(nn,g)?C.length:0;T--;){var L=C[T],z=L.func;if(null==z||z==c)return L.name}return g}function ju(c){return(jn.call(H,"placeholder")?H:c).placeholder}function kt(){var c=H.iteratee||Nv;return c=c===Nv?Hl:c,arguments.length?c(arguments[0],arguments[1]):c}function Lf(c,g){var C=c.__data__;return function Cp(c){var g=typeof c;return"string"==g||"number"==g||"symbol"==g||"boolean"==g?"__proto__"!==c:null===c}(g)?C["string"==typeof g?"string":"hash"]:C.map}function Gu(c){for(var g=Oi(c),C=g.length;C--;){var T=g[C],L=c[T];g[C]=[T,L,$f(L)]}return g}function ta(c,g){var C=function va(ae,xe){return null==ae?B:ae[xe]}(c,g);return Mf(C)?C:B}var ms=ba?function(c){return null==c?[]:(c=Xn(c),Tn(ba(c),function(g){return ed.call(c,g)}))}:_y,Xl=ba?function(c){for(var g=[];c;)No(g,ms(c)),c=Qr(c);return g}:_y,Fr=Sr;function hi(c,g,C){for(var T=-1,L=(g=eo(g,c)).length,z=!1;++T<L;){var J=zi(g[T]);if(!(z=null!=c&&C(c,J)))break;c=c[J]}return z||++T!=L?z:!!(L=null==c?0:c.length)&&$e(L)&&na(J,L)&&(ze(c)||Xe(c))}function Ui(c){return"function"!=typeof c.constructor||Za(c)?{}:dn(Qr(c))}function Ho(c){return ze(c)||Xe(c)||!!(yf&&c&&c[yf])}function na(c,g){var C=typeof c;return!!(g=g??Na)&&("number"==C||"symbol"!=C&&Vm.test(c))&&c>-1&&c%1==0&&c<g}function ei(c,g,C){if(!st(C))return!1;var T=typeof g;return!!("number"==T?Ye(C)&&na(g,C.length):"string"==T&&g in C)&&Et(C[g],c)}function Jl(c,g){if(ze(c))return!1;var C=typeof c;return!("number"!=C&&"symbol"!=C&&"boolean"!=C&&null!=c&&!jr(c))||Rc.test(c)||!ka.test(c)||null!=g&&c in Xn(g)}function ec(c){var g=zu(c),C=H[g];if("function"!=typeof C||!(g in on.prototype))return!1;if(c===C)return!0;var T=wp(C);return!!T&&c===T[0]}(Yi&&Fr(new Yi(new ArrayBuffer(1)))!=hu||Ua&&Fr(new Ua)!=uo||td&&Fr(td.resolve())!=Wr||wo&&Fr(new wo)!=Yo||si&&Fr(new si)!=As)&&(Fr=function(c){var g=Sr(c),C=g==Oa?c.constructor:B,T=C?ws(C):"";if(T)switch(T){case Gm:return hu;case wf:return uo;case Xh:return Wr;case Ca:return Yo;case Pl:return As}return g});var tc=Fs?Ce:Sy;function Za(c){var g=c&&c.constructor;return c===("function"==typeof g&&g.prototype||Mu)}function $f(c){return c==c&&!st(c)}function Wu(c,g){return function(C){return null!=C&&C[c]===g&&(g!==B||c in Xn(C))}}function Ku(c,g,C){return g=Pt(g===B?c.length-1:g,0),function(){for(var T=arguments,L=-1,z=Pt(T.length-g,0),J=ve(z);++L<z;)J[L]=T[g+L];L=-1;for(var re=ve(g+1);++L<g;)re[L]=T[L];return re[g]=C(J),Pr(c,this,re)}}function Uf(c,g){return g.length<2?c:fs(c,ci(g,0,-1))}function nc(c,g){if(("constructor"!==g||"function"!=typeof c[g])&&"__proto__"!=g)return c[g]}var ti=ys(ql),Ws=ko||function(c,g){return Ti.setTimeout(c,g)},Ed=ys(cp);function Yu(c,g,C){var T=g+"";return Ed(c,function Cd(c,g){var C=g.length;if(!C)return c;var T=C-1;return g[T]=(C>1?"& ":"")+g[T],g=g.join(C>2?", ":" "),c.replace(Bg,"{\n/* [wrapped with "+g+"] */\n")}(T,function zf(c,g){return Kn(Xd,function(C){var T="_."+C[0];g&C[1]&&!Cu(c,T)&&c.push(T)}),c.sort()}(function Ql(c){var g=c.match(Vg);return g?g[1].split(sf):[]}(T),C)))}function ys(c){var g=0,C=0;return function(){var T=Ha(),L=16-(T-C);if(C=T,L>0){if(++g>=800)return arguments[0]}else g=0;return c.apply(B,arguments)}}function ra(c,g){var C=-1,T=c.length,L=T-1;for(g=g===B?T:g;++C<g;){var z=Gl(C,L),J=c[z];c[z]=c[C],c[C]=J}return c.length=g,c}var Zs=function Uo(c){var g=Y(c,function(T){return 500===C.size&&C.clear(),T}),C=g.cache;return g}(function(c){var g=[];return 46===c.charCodeAt(0)&&g.push(""),c.replace(Ih,function(C,T,L,z){g.push(L?z.replace(Ah,"$1"):T||C)}),g});function zi(c){if("string"==typeof c||jr(c))return c;var g=c+"";return"0"==g&&1/c==-Ct?"-0":g}function ws(c){if(null!=c){try{return Jc.call(c)}catch{}try{return c+""}catch{}}return""}function Ks(c){if(c instanceof on)return c.clone();var g=new Xi(c.__wrapped__,c.__chain__);return g.__actions__=$r(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}var Ym=hn(function(c,g){return nt(c)?ad(c,Dr(g,1,nt,!0)):[]}),Xm=hn(function(c,g){var C=cr(g);return nt(C)&&(C=B),nt(c)?ad(c,Dr(g,1,nt,!0),kt(C,2)):[]}),Qm=hn(function(c,g){var C=cr(g);return nt(C)&&(C=B),nt(c)?ad(c,Dr(g,1,nt,!0),B,C):[]});function mr(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var L=null==C?0:tn(C);return L<0&&(L=Pt(T+L,0)),zc(c,kt(g,3),L)}function Ur(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var L=T-1;return C!==B&&(L=tn(C),L=C<0?Pt(T+L,0):wi(L,T-1)),zc(c,kt(g,3),L,!0)}function Ju(c){return null!=c&&c.length?Dr(c,1):[]}function jf(c){return c&&c.length?c[0]:B}var ov=hn(function(c){var g=Yn(c,Vi);return g.length&&g[0]===c[0]?Us(g):[]}),ty=hn(function(c){var g=cr(c),C=Yn(c,Vi);return g===cr(C)?g=B:C.pop(),C.length&&C[0]===c[0]?Us(C,kt(g,2)):[]}),av=hn(function(c){var g=cr(c),C=Yn(c,Vi);return(g="function"==typeof g?g:B)&&C.pop(),C.length&&C[0]===c[0]?Us(C,B,g):[]});function cr(c){var g=null==c?0:c.length;return g?c[g-1]:B}var sv=hn(ni);function ni(c,g){return c&&c.length&&g&&g.length?jl(c,g):c}var _p=Ma(function(c,g){var C=null==c?0:c.length,T=od(c,g);return Tf(c,Yn(g,function(L){return na(L,C)?+L:L}).sort(fi)),T});function qf(c){return null==c?c:pt.call(c)}var zo=hn(function(c){return Te(Dr(c,1,nt,!0))}),oc=hn(function(c){var g=cr(c);return nt(g)&&(g=B),Te(Dr(c,1,nt,!0),kt(g,2))}),rl=hn(function(c){var g=cr(c);return g="function"==typeof g?g:B,Te(Dr(c,1,nt,!0),B,g)});function Ya(c){if(!c||!c.length)return[];var g=0;return c=Tn(c,function(C){if(nt(C))return g=Pt(C.length,g),!0}),jc(g,function(C){return Yn(c,Rl(C))})}function Kf(c,g){if(!c||!c.length)return[];var C=Ya(c);return null==g?C:Yn(C,function(T){return Pr(g,B,T)})}var Ip=hn(function(c,g){return nt(c)?ad(c,g):[]}),Yf=hn(function(c){return fd(Tn(c,nt))}),il=hn(function(c){var g=cr(c);return nt(g)&&(g=B),fd(Tn(c,nt),kt(g,2))}),Xf=hn(function(c){var g=cr(c);return g="function"==typeof g?g:B,fd(Tn(c,nt),B,g)}),ol=hn(Ya),Qf=hn(function(c){var g=c.length,C=g>1?c[g-1]:B;return C="function"==typeof C?(c.pop(),C):B,Kf(c,C)});function Tp(c){var g=H(c);return g.__chain__=!0,g}function Id(c,g){return g(c)}var Sn=Ma(function(c){var g=c.length,C=g?c[0]:0,T=this.__wrapped__,L=function(z){return od(z,c)};return!(g>1||this.__actions__.length)&&T instanceof on&&na(C)?((T=T.slice(C,+C+(g?1:0))).__actions__.push({func:Id,args:[L],thisArg:B}),new Xi(T,this.__chain__).thru(function(z){return g&&!z.length&&z.push(B),z})):this.thru(L)}),wv=Zl(function(c,g,C){jn.call(c,C)?++c[C]:Sa(c,C,1)}),sl=Ni(mr),eh=Ni(Ur);function s(c,g){return(ze(c)?Kn:Hs)(c,kt(g,3))}function i(c,g){return(ze(c)?Ba:np)(c,kt(g,3))}var a=Zl(function(c,g,C){jn.call(c,C)?c[C].push(g):Sa(c,C,[g])}),f=hn(function(c,g,C){var T=-1,L="function"==typeof g,z=Ye(c)?ve(c.length):[];return Hs(c,function(J){z[++T]=L?Pr(g,J,C):$l(J,g,C)}),z}),h=Zl(function(c,g,C){Sa(c,C,g)});function p(c,g){return(ze(c)?Yn:zl)(c,kt(g,3))}var b=Zl(function(c,g,C){c[C?0:1].push(g)},function(){return[[],[]]}),N=hn(function(c,g){if(null==c)return[];var C=g.length;return C>1&&ei(c,g[0],g[1])?g=[]:C>2&&ei(g[0],g[1],g[2])&&(g=[g[0]]),Di(c,Dr(g,1),[])}),P=ur||function(){return Ti.Date.now()};function V(c,g,C){return g=C?B:g,Hi(c,128,B,B,B,B,g=c&&null==g?c.length:g)}function q(c,g){var C;if("function"!=typeof g)throw new yo(Se);return c=tn(c),function(){return--c>0&&(C=g.apply(this,arguments)),c<=1&&(g=B),C}}var K=hn(function(c,g,C){var T=1;if(C.length){var L=vo(C,ju(K));T|=32}return Hi(c,T,g,C,L)}),$=hn(function(c,g,C){var T=3;if(C.length){var L=vo(C,ju($));T|=32}return Hi(g,T,c,C,L)});function X(c,g,C){var T,L,z,J,re,ue,Pe=0,ke=!1,qe=!1,dt=!0;if("function"!=typeof c)throw new yo(Se);function _t(Gr){var xi=T,eu=L;return T=L=B,Pe=Gr,J=c.apply(eu,xi)}function Ht(Gr){var xi=Gr-ue;return ue===B||xi>=g||xi<0||qe&&Gr-Pe>=z}function mn(){var Gr=P();if(Ht(Gr))return On(Gr);re=Ws(mn,function Cn(Gr){var My=g-(Gr-ue);return qe?wi(My,z-(Gr-Pe)):My}(Gr))}function On(Gr){return re=B,dt&&T?_t(Gr):(T=L=B,J)}function sa(){var Gr=P(),xi=Ht(Gr);if(T=arguments,L=this,ue=Gr,xi){if(re===B)return function Bt(Gr){return Pe=Gr,re=Ws(mn,g),ke?_t(Gr):J}(ue);if(qe)return Wl(re),re=Ws(mn,g),_t(ue)}return re===B&&(re=Ws(mn,g)),J}return g=Gi(g)||0,st(C)&&(ke=!!C.leading,z=(qe="maxWait"in C)?Pt(Gi(C.maxWait)||0,g):z,dt="trailing"in C?!!C.trailing:dt),sa.cancel=function Pi(){re!==B&&Wl(re),Pe=0,T=ue=L=re=B},sa.flush=function dr(){return re===B?J:On(P())},sa}var Q=hn(function(c,g){return _f(c,1,g)}),j=hn(function(c,g,C){return _f(c,Gi(g)||0,C)});function Y(c,g){if("function"!=typeof c||null!=g&&"function"!=typeof g)throw new yo(Se);var C=function(){var T=arguments,L=g?g.apply(this,T):T[0],z=C.cache;if(z.has(L))return z.get(L);var J=c.apply(this,T);return C.cache=z.set(L,J)||z,J};return C.cache=new(Y.Cache||bo),C}function se(c){if("function"!=typeof c)throw new yo(Se);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}Y.Cache=bo;var ne=ev(function(c,g){var C=(g=1==g.length&&ze(g[0])?Yn(g[0],gt(kt())):Yn(Dr(g,1),gt(kt()))).length;return hn(function(T){for(var L=-1,z=wi(T.length,C);++L<z;)T[L]=g[L].call(this,T[L]);return Pr(c,this,T)})}),fe=hn(function(c,g){var C=vo(g,ju(fe));return Hi(c,32,B,g,C)}),pe=hn(function(c,g){var C=vo(g,ju(pe));return Hi(c,64,B,g,C)}),De=Ma(function(c,g){return Hi(c,256,B,B,B,g)});function Et(c,g){return c===g||c!=c&&g!=g}var Jt=qs(ld),at=qs(function(c,g){return c>=g}),Xe=Rn(function(){return arguments}())?Rn:function(c){return Tt(c)&&jn.call(c,"callee")&&!ed.call(c,"callee")},ze=ve.isArray,mt=ai?gt(ai):function Bo(c){return Tt(c)&&Sr(c)==It};function Ye(c){return null!=c&&$e(c.length)&&!Ce(c)}function nt(c){return Tt(c)&&Ye(c)}var zt=Qn||Sy,Nt=go?gt(go):function xf(c){return Tt(c)&&Sr(c)==Ms};function He(c){if(!Tt(c))return!1;var g=Sr(c);return g==cu||"[object DOMException]"==g||"string"==typeof c.message&&"string"==typeof c.name&&!Ei(c)}function Ce(c){if(!st(c))return!1;var g=Sr(c);return g==Cc||g==du||"[object AsyncFunction]"==g||"[object Proxy]"==g}function Yt(c){return"number"==typeof c&&c==tn(c)}function $e(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Na}function st(c){var g=typeof c;return null!=c&&("object"==g||"function"==g)}function Tt(c){return null!=c&&"object"==typeof c}var Ln=$c?gt($c):function ap(c){return Tt(c)&&Fr(c)==uo};function xo(c){return"number"==typeof c||Tt(c)&&Sr(c)==Is}function Ei(c){if(!Tt(c)||Sr(c)!=Oa)return!1;var g=Qr(c);if(null===g)return!0;var C=jn.call(g,"constructor")&&g.constructor;return"function"==typeof C&&C instanceof C&&Jc.call(C)==Yh}var Cr=Hc?gt(Hc):function Fu(c){return Tt(c)&&Sr(c)==fu},_i=hf?gt(hf):function cd(c){return Tt(c)&&Fr(c)==Yo};function qo(c){return"string"==typeof c||!ze(c)&&Tt(c)&&Sr(c)==Ts}function jr(c){return"symbol"==typeof c||Tt(c)&&Sr(c)==Ec}var ia=gn?gt(gn):function ir(c){return Tt(c)&&$e(c.length)&&!!ar[Sr(c)]},Xa=qs(Ul),ri=qs(function(c,g){return c<=g});function Si(c){if(!c)return[];if(Ye(c))return qo(c)?mo(c):$r(c);if(Iu&&c[Iu])return function ya(ae){for(var xe,ve=[];!(xe=ae.next()).done;)ve.push(xe.value);return ve}(c[Iu]());var g=Fr(c);return(g==uo?vn:g==Yo?Su:sc)(c)}function Mr(c){return c?(c=Gi(c))===Ct||c===-Ct?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function tn(c){var g=Mr(c),C=g%1;return g==g?C?g-C:g:0}function oa(c){return c?ds(tn(c),0,so):0}function Gi(c){if("number"==typeof c)return c;if(jr(c))return NaN;if(st(c)){var g="function"==typeof c.valueOf?c.valueOf():c;c=st(g)?g+"":g}if("string"!=typeof c)return 0===c?c:+c;c=jh(c);var C=Ut.test(c);return C||Zr.test(c)?zm(c.slice(2),C?2:8):Rh.test(c)?NaN:+c}function Np(c){return $i(c,ro(c))}function Nn(c){return null==c?"":Eo(c)}var th=_o(function(c,g){if(Za(g)||Ye(g))$i(g,Oi(g),c);else for(var C in g)jn.call(g,C)&&Vs(c,C,g[C])}),nh=_o(function(c,g){$i(g,ro(g),c)}),ac=_o(function(c,g,C,T){$i(g,ro(g),c,T)}),Op=_o(function(c,g,C,T){$i(g,Oi(g),c,T)}),ll=Ma(od),Ad=hn(function(c,g){c=Xn(c);var C=-1,T=g.length,L=T>2?g[2]:B;for(L&&ei(g[0],g[1],L)&&(T=1);++C<T;)for(var z=g[C],J=ro(z),re=-1,ue=J.length;++re<ue;){var Pe=J[re],ke=c[Pe];(ke===B||Et(ke,Mu[Pe])&&!jn.call(c,Pe))&&(c[Pe]=z[Pe])}return c}),Pp=hn(function(c){return c.push(B,Ff),Pr(Cv,B,c)});function sy(c,g,C){var T=null==c?B:fs(c,g);return T===B?C:T}function Lp(c,g){return null!=c&&hi(c,g,ip)}var J0=gp(function(c,g,C){null!=g&&"function"!=typeof g.toString&&(g=Ol.call(g)),c[g]=C},sh(io)),ew=gp(function(c,g,C){null!=g&&"function"!=typeof g.toString&&(g=Ol.call(g)),jn.call(c,g)?c[g].push(C):c[g]=[C]},kt),tw=hn($l);function Oi(c){return Ye(c)?Au(c):Lu(c)}function ro(c){return Ye(c)?Au(c,!0):function $n(c){if(!st(c))return function Zu(c){var g=[];if(null!=c)for(var C in Xn(c))g.push(C);return g}(c);var g=Za(c),C=[];for(var T in c)"constructor"==T&&(g||!jn.call(c,T))||C.push(T);return C}(c)}var uy=_o(function(c,g,C){Vo(c,g,C)}),Cv=_o(function(c,g,C,T){Vo(c,g,C,T)}),ly=Ma(function(c,g){var C={};if(null==c)return C;var T=!1;g=Yn(g,function(z){return z=eo(z,c),T||(T=z.length>1),z}),$i(c,Uu(c),C),T&&(C=Li(C,7,vp));for(var L=g.length;L--;)Dn(C,g[L]);return C}),IC=Ma(function(c,g){return null==c?{}:function up(c,g){return If(c,g,function(C,T){return Lp(c,T)})}(c,g)});function nw(c,g){if(null==c)return{};var C=Yn(Uu(c),function(T){return[T]});return g=kt(g),If(c,C,function(T,L){return g(T,L[0])})}var rw=Kl(Oi),Sv=Kl(ro);function sc(c){return null==c?[]:Gc(c,Oi(c))}var Nd=vs(function(c,g,C){return g=g.toLowerCase(),c+(C?cy(g):g)});function cy(c){return $p(Nn(c).toLowerCase())}function dy(c){return(c=Nn(c))&&c.replace(Nh,zg).replace(oi,"")}var dw=vs(function(c,g,C){return c+(C?"-":"")+g.toLowerCase()}),fw=vs(function(c,g,C){return c+(C?" ":"")+g.toLowerCase()}),hw=vd("toLowerCase"),gy=vs(function(c,g,C){return c+(C?"_":"")+g.toLowerCase()}),Mv=vs(function(c,g,C){return c+(C?" ":"")+$p(g)}),wy=vs(function(c,g,C){return c+(C?" ":"")+g.toUpperCase()}),$p=vd("toUpperCase");function cl(c,g,C){return c=Nn(c),(g=C?B:g)===B?function Xo(ae){return fo.test(ae)}(c)?function vf(ae){return ae.match(Ps)||[]}(c):function jm(ae){return ae.match(Th)||[]}(c):c.match(g)||[]}var by=hn(function(c,g){try{return Pr(c,B,g)}catch(C){return He(C)?C:new Xt(C)}}),Rv=Ma(function(c,g){return Kn(g,function(C){C=zi(C),Sa(c,C,K(c[C],c))}),c});function sh(c){return function(){return c}}var aa=ea(),zp=ea(!0);function io(c){return c}function Nv(c){return Hl("function"==typeof c?c:Li(c,1))}var Od=hn(function(c,g){return function(C){return $l(C,c,g)}}),yw=hn(function(c,g){return function(C){return $l(c,C,g)}});function Ov(c,g,C){var T=Oi(g),L=Vl(g,T);null==C&&(!st(g)||!L.length&&T.length)&&(C=g,g=c,c=this,L=Vl(g,Oi(g)));var z=!(st(C)&&"chain"in C&&!C.chain),J=Ce(c);return Kn(L,function(re){var ue=g[re];c[re]=ue,J&&(c.prototype[re]=function(){var Pe=this.__chain__;if(z||Pe){var ke=c(this.__wrapped__);return(ke.__actions__=$r(this.__actions__)).push({func:ue,args:arguments,thisArg:c}),ke.__chain__=Pe,ke}return ue.apply(c,No([this.value()],arguments))})}),c}function uh(){}var bw=Of(Yn),Cy=Of(Il),uc=Of(Uc);function Dw(c){return Jl(c)?Rl(zi(c)):function qa(c){return function(g){return fs(g,c)}}(c)}var Ey=kf(),Cw=kf(!0);function _y(){return[]}function Sy(){return!1}var Lv=md(function(c,g){return c+g},0),lh=wd("ceil"),qp=md(function(c,g){return c/g},1),kd=wd("floor"),_w=md(function(c,g){return c*g},1),xy=wd("round"),Sw=md(function(c,g){return c-g},0);return H.after=function k(c,g){if("function"!=typeof g)throw new yo(Se);return c=tn(c),function(){if(--c<1)return g.apply(this,arguments)}},H.ary=V,H.assign=th,H.assignIn=nh,H.assignInWith=ac,H.assignWith=Op,H.at=ll,H.before=q,H.bind=K,H.bindAll=Rv,H.bindKey=$,H.castArray=function Ie(){if(!arguments.length)return[];var c=arguments[0];return ze(c)?c:[c]},H.chain=Tp,H.chunk=function Zm(c,g,C){g=(C?ei(c,g,C):g===B)?1:Pt(tn(g),0);var T=null==c?0:c.length;if(!T||g<1)return[];for(var L=0,z=0,J=ve(us(T/g));L<T;)J[z++]=ci(c,L,L+=g);return J},H.compact=function rv(c){for(var g=-1,C=null==c?0:c.length,T=0,L=[];++g<C;){var z=c[g];z&&(L[T++]=z)}return L},H.concat=function Km(){var c=arguments.length;if(!c)return[];for(var g=ve(c-1),C=arguments[0],T=c;T--;)g[T-1]=arguments[T];return No(ze(C)?$r(C):[C],Dr(g,1))},H.cond=function Hp(c){var g=null==c?0:c.length,C=kt();return c=g?Yn(c,function(T){if("function"!=typeof T[1])throw new yo(Se);return[C(T[0]),T[1]]}):[],hn(function(T){for(var L=-1;++L<g;){var z=c[L];if(Pr(z[0],this,T))return Pr(z[1],this,T)}})},H.conforms=function vw(c){return function Ll(c){var g=Oi(c);return function(C){return $s(C,c,g)}}(Li(c,1))},H.constant=sh,H.countBy=wv,H.create=function rh(c,g){var C=dn(c);return null==g?C:cs(C,g)},H.curry=function Z(c,g,C){var T=Hi(c,8,B,B,B,B,B,g=C?B:g);return T.placeholder=Z.placeholder,T},H.curryRight=function U(c,g,C){var T=Hi(c,16,B,B,B,B,B,g=C?B:g);return T.placeholder=U.placeholder,T},H.debounce=X,H.defaults=Ad,H.defaultsDeep=Pp,H.defer=Q,H.delay=j,H.difference=Ym,H.differenceBy=Xm,H.differenceWith=Qm,H.drop=function Jm(c,g,C){var T=null==c?0:c.length;return T?ci(c,(g=C||g===B?1:tn(g))<0?0:g,T):[]},H.dropRight=function ey(c,g,C){var T=null==c?0:c.length;return T?ci(c,0,(g=T-(g=C||g===B?1:tn(g)))<0?0:g):[]},H.dropRightWhile=function Xu(c,g){return c&&c.length?Gs(c,kt(g,3),!0,!0):[]},H.dropWhile=function Qu(c,g){return c&&c.length?Gs(c,kt(g,3),!0):[]},H.fill=function iv(c,g,C,T){var L=null==c?0:c.length;return L?(C&&"number"!=typeof C&&ei(c,g,C)&&(C=0,T=L),function Wm(c,g,C,T){var L=c.length;for((C=tn(C))<0&&(C=-C>L?0:L+C),(T=T===B||T>L?L:tn(T))<0&&(T+=L),T=C>T?0:oa(T);C<T;)c[C++]=g;return c}(c,g,C,T)):[]},H.filter=function Td(c,g){return(ze(c)?Tn:ud)(c,kt(g,3))},H.flatMap=function bs(c,g){return Dr(p(c,g),1)},H.flatMapDeep=function Rp(c,g){return Dr(p(c,g),Ct)},H.flatMapDepth=function jo(c,g,C){return C=C===B?1:tn(C),Dr(p(c,g),C)},H.flatten=Ju,H.flattenDeep=function rc(c){return null!=c&&c.length?Dr(c,Ct):[]},H.flattenDepth=function ji(c,g){return null!=c&&c.length?Dr(c,g=g===B?1:tn(g)):[]},H.flip=function ee(c){return Hi(c,512)},H.flow=aa,H.flowRight=zp,H.fromPairs=function el(c){for(var g=-1,C=null==c?0:c.length,T={};++g<C;){var L=c[g];T[L[0]]=L[1]}return T},H.functions=function Ta(c){return null==c?[]:Vl(c,Oi(c))},H.functionsIn=function ay(c){return null==c?[]:Vl(c,ro(c))},H.groupBy=a,H.initial=function ic(c){return null!=c&&c.length?ci(c,0,-1):[]},H.intersection=ov,H.intersectionBy=ty,H.intersectionWith=av,H.invert=J0,H.invertBy=ew,H.invokeMap=f,H.iteratee=Nv,H.keyBy=h,H.keys=Oi,H.keysIn=ro,H.map=p,H.mapKeys=function Js(c,g){var C={};return g=kt(g,3),Ga(c,function(T,L,z){Sa(C,g(T,L,z),T)}),C},H.mapValues=function ih(c,g){var C={};return g=kt(g,3),Ga(c,function(T,L,z){Sa(C,L,g(T,L,z))}),C},H.matches=function mw(c){return Bi(Li(c,1))},H.matchesProperty=function Dy(c,g){return sp(c,Li(g,1))},H.memoize=Y,H.merge=uy,H.mergeWith=Cv,H.method=Od,H.methodOf=yw,H.mixin=Ov,H.negate=se,H.nthArg=function jp(c){return c=tn(c),hn(function(g){return Jr(g,c)})},H.omit=ly,H.omitBy=function MC(c,g){return nw(c,se(kt(g)))},H.once=function te(c){return q(2,c)},H.orderBy=function m(c,g,C,T){return null==c?[]:(ze(g)||(g=null==g?[]:[g]),ze(C=T?B:C)||(C=null==C?[]:[C]),Di(c,g,C))},H.over=bw,H.overArgs=ne,H.overEvery=Cy,H.overSome=uc,H.partial=fe,H.partialRight=pe,H.partition=b,H.pick=IC,H.pickBy=nw,H.property=Dw,H.propertyOf=function OC(c){return function(g){return null==c?B:fs(c,g)}},H.pull=sv,H.pullAll=ni,H.pullAllBy=function Ep(c,g,C){return c&&c.length&&g&&g.length?jl(c,g,kt(C,2)):c},H.pullAllWith=function uv(c,g,C){return c&&c.length&&g&&g.length?jl(c,g,B,C):c},H.pullAt=_p,H.range=Ey,H.rangeRight=Cw,H.rearg=De,H.reject=function E(c,g){return(ze(c)?Tn:ud)(c,se(kt(g,3)))},H.remove=function Sp(c,g){var C=[];if(!c||!c.length)return C;var T=-1,L=[],z=c.length;for(g=kt(g,3);++T<z;){var J=c[T];g(J,T,c)&&(C.push(J),L.push(T))}return Tf(c,L),C},H.rest=function he(c,g){if("function"!=typeof c)throw new yo(Se);return hn(c,g=g===B?g:tn(g))},H.reverse=qf,H.sampleSize=function M(c,g,C){return g=(C?ei(c,g,C):g===B)?1:tn(g),(ze(c)?Ef:lp)(c,g)},H.set=function _v(c,g,C){return null==c?c:qn(c,g,C)},H.setWith=function TC(c,g,C,T){return T="function"==typeof T?T:B,null==c?c:qn(c,g,C,T)},H.shuffle=function x(c){return(ze(c)?Ru:dp)(c)},H.slice=function lv(c,g,C){var T=null==c?0:c.length;return T?(C&&"number"!=typeof C&&ei(c,g,C)?(g=0,C=T):(g=null==g?0:tn(g),C=C===B?T:tn(C)),ci(c,g,C)):[]},H.sortBy=N,H.sortedUniq=function fv(c){return c&&c.length?Rf(c):[]},H.sortedUniqBy=function xp(c,g){return c&&c.length?Rf(c,kt(g,2)):[]},H.split=function vy(c,g,C){return C&&"number"!=typeof C&&ei(c,g,C)&&(g=C=B),(C=C===B?so:C>>>0)?(c=Nn(c))&&("string"==typeof g||null!=g&&!Cr(g))&&!(g=Eo(g))&&ma(c)?Jo(mo(c),0,C):c.split(g,C):[]},H.spread=function be(c,g){if("function"!=typeof c)throw new yo(Se);return g=null==g?0:Pt(tn(g),0),hn(function(C){var T=C[g],L=Jo(C,0,g);return T&&No(L,T),Pr(c,this,L)})},H.tail=function Wf(c){var g=null==c?0:c.length;return g?ci(c,1,g):[]},H.take=function nl(c,g,C){return c&&c.length?ci(c,0,(g=C||g===B?1:tn(g))<0?0:g):[]},H.takeRight=function Ia(c,g,C){var T=null==c?0:c.length;return T?ci(c,(g=T-(g=C||g===B?1:tn(g)))<0?0:g,T):[]},H.takeRightWhile=function Mp(c,g){return c&&c.length?Gs(c,kt(g,3),!1,!0):[]},H.takeWhile=function Zf(c,g){return c&&c.length?Gs(c,kt(g,3)):[]},H.tap=function Ap(c,g){return g(c),c},H.throttle=function Ae(c,g,C){var T=!0,L=!0;if("function"!=typeof c)throw new yo(Se);return st(C)&&(T="leading"in C?!!C.leading:T,L="trailing"in C?!!C.trailing:L),X(c,g,{leading:T,maxWait:g,trailing:L})},H.thru=Id,H.toArray=Si,H.toPairs=rw,H.toPairsIn=Sv,H.toPath=function Pd(c){return ze(c)?Yn(c,zi):jr(c)?[c]:$r(Zs(Nn(c)))},H.toPlainObject=Np,H.transform=function iw(c,g,C){var T=ze(c),L=T||zt(c)||ia(c);if(g=kt(g,4),null==C){var z=c&&c.constructor;C=L?T?new z:[]:st(c)&&Ce(z)?dn(Qr(c)):{}}return(L?Kn:Ga)(c,function(J,re,ue){return g(C,J,re,ue)}),C},H.unary=function Fe(c){return V(c,1)},H.union=zo,H.unionBy=oc,H.unionWith=rl,H.uniq=function hv(c){return c&&c.length?Te(c):[]},H.uniqBy=function no(c,g){return c&&c.length?Te(c,kt(g,2)):[]},H.uniqWith=function pv(c,g){return g="function"==typeof g?g:B,c&&c.length?Te(c,B,g):[]},H.unset=function ow(c,g){return null==c||Dn(c,g)},H.unzip=Ya,H.unzipWith=Kf,H.update=function aw(c,g,C){return null==c?c:dd(c,g,Vr(C))},H.updateWith=function sw(c,g,C,T){return T="function"==typeof T?T:B,null==c?c:dd(c,g,Vr(C),T)},H.values=sc,H.valuesIn=function Bp(c){return null==c?[]:Gc(c,ro(c))},H.without=Ip,H.words=cl,H.wrap=function Me(c,g){return fe(Vr(g),c)},H.xor=Yf,H.xorBy=il,H.xorWith=Xf,H.zip=ol,H.zipObject=function al(c,g){return gs(c||[],g||[],Vs)},H.zipObjectDeep=function ry(c,g){return gs(c||[],g||[],qn)},H.zipWith=Qf,H.entries=rw,H.entriesIn=Sv,H.extend=nh,H.extendWith=ac,Ov(H,H),H.add=Lv,H.attempt=by,H.camelCase=Nd,H.capitalize=cy,H.ceil=lh,H.clamp=function uw(c,g,C){return C===B&&(C=g,g=B),C!==B&&(C=(C=Gi(C))==C?C:0),g!==B&&(g=(g=Gi(g))==g?g:0),ds(Gi(c),g,C)},H.clone=function ce(c){return Li(c,4)},H.cloneDeep=function Le(c){return Li(c,5)},H.cloneDeepWith=function Ke(c,g){return Li(c,5,g="function"==typeof g?g:B)},H.cloneWith=function Re(c,g){return Li(c,4,g="function"==typeof g?g:B)},H.conformsTo=function tt(c,g){return null==g||$s(c,g,Oi(g))},H.deburr=dy,H.defaultTo=function Up(c,g){return null==c||c!=c?g:c},H.divide=qp,H.endsWith=function fy(c,g,C){c=Nn(c),g=Eo(g);var T=c.length,L=C=C===B?T:ds(tn(C),0,T);return(C-=g.length)>=0&&c.slice(C,L)==g},H.eq=Et,H.escape=function hy(c){return(c=Nn(c))&&nf.test(c)?c.replace(tf,jg):c},H.escapeRegExp=function cw(c){return(c=Nn(c))&&af.test(c)?c.replace(ha,"\\$&"):c},H.every=function bv(c,g,C){var T=ze(c)?Il:Xg;return C&&ei(c,g,C)&&(g=B),T(c,kt(g,3))},H.find=sl,H.findIndex=mr,H.findKey=function kp(c,g){return Ug(c,kt(g,3),Ga)},H.findLast=eh,H.findLastIndex=Ur,H.findLastKey=function Dv(c,g){return Ug(c,kt(g,3),Sf)},H.floor=kd,H.forEach=s,H.forEachRight=i,H.forIn=function pi(c,g){return null==c?c:Pu(c,kt(g,3),ro)},H.forInRight=function Qs(c,g){return null==c?c:Bl(c,kt(g,3),ro)},H.forOwn=function Fp(c,g){return c&&Ga(c,kt(g,3))},H.forOwnRight=function Rd(c,g){return c&&Sf(c,kt(g,3))},H.get=sy,H.gt=Jt,H.gte=at,H.has=function xC(c,g){return null!=c&&hi(c,g,rp)},H.hasIn=Lp,H.head=jf,H.identity=io,H.includes=function l(c,g,C,T){c=Ye(c)?c:sc(c),C=C&&!T?tn(C):0;var L=c.length;return C<0&&(C=Pt(L+C,0)),qo(c)?C<=L&&c.indexOf(g,C)>-1:!!L&&ga(c,g,C)>-1},H.indexOf=function _d(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var L=null==C?0:tn(C);return L<0&&(L=Pt(T+L,0)),ga(c,g,L)},H.inRange=function xv(c,g,C){return g=Mr(g),C===B?(C=g,g=0):C=Mr(C),function Qg(c,g,C){return c>=wi(g,C)&&c<Pt(g,C)}(c=Gi(c),g,C)},H.invoke=tw,H.isArguments=Xe,H.isArray=ze,H.isArrayBuffer=mt,H.isArrayLike=Ye,H.isArrayLikeObject=nt,H.isBoolean=function pn(c){return!0===c||!1===c||Tt(c)&&Sr(c)==en},H.isBuffer=zt,H.isDate=Nt,H.isElement=function Hn(c){return Tt(c)&&1===c.nodeType&&!Ei(c)},H.isEmpty=function Be(c){if(null==c)return!0;if(Ye(c)&&(ze(c)||"string"==typeof c||"function"==typeof c.splice||zt(c)||ia(c)||Xe(c)))return!c.length;var g=Fr(c);if(g==uo||g==Yo)return!c.size;if(Za(c))return!Lu(c).length;for(var C in c)if(jn.call(c,C))return!1;return!0},H.isEqual=function G(c,g){return hs(c,g)},H.isEqualWith=function me(c,g,C){var T=(C="function"==typeof C?C:B)?C(c,g):B;return T===B?hs(c,g,B,C):!!T},H.isError=He,H.isFinite=function Ne(c){return"number"==typeof c&&$a(c)},H.isFunction=Ce,H.isInteger=Yt,H.isLength=$e,H.isMap=Ln,H.isMatch=function sn(c,g){return c===g||zs(c,g,Gu(g))},H.isMatchWith=function xn(c,g,C){return C="function"==typeof C?C:B,zs(c,g,Gu(g),C)},H.isNaN=function jt(c){return xo(c)&&c!=+c},H.isNative=function un(c){if(tc(c))throw new Xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mf(c)},H.isNil=function zr(c){return null==c},H.isNull=function yr(c){return null===c},H.isNumber=xo,H.isObject=st,H.isObjectLike=Tt,H.isPlainObject=Ei,H.isRegExp=Cr,H.isSafeInteger=function Go(c){return Yt(c)&&c>=-Na&&c<=Na},H.isSet=_i,H.isString=qo,H.isSymbol=jr,H.isTypedArray=ia,H.isUndefined=function Ds(c){return c===B},H.isWeakMap=function Ys(c){return Tt(c)&&Fr(c)==As},H.isWeakSet=function Xs(c){return Tt(c)&&"[object WeakSet]"==Sr(c)},H.join=function ny(c,g){return null==c?"":Tu.call(c,g)},H.kebabCase=dw,H.last=cr,H.lastIndexOf=function Gf(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var L=T;return C!==B&&(L=(L=tn(C))<0?Pt(T+L,0):wi(L,T-1)),g==g?function ks(ae,xe,ve){for(var ut=ve+1;ut--;)if(ae[ut]===xe)return ut;return ut}(c,g,L):zc(c,Va,L,!0)},H.lowerCase=fw,H.lowerFirst=hw,H.lt=Xa,H.lte=ri,H.max=function Bv(c){return c&&c.length?sd(c,io,ld):B},H.maxBy=function Vv(c,g){return c&&c.length?sd(c,kt(g,2),ld):B},H.mean=function Wp(c){return Al(c,io)},H.meanBy=function PC(c,g){return Al(c,kt(g,2))},H.min=function $v(c){return c&&c.length?sd(c,io,Ul):B},H.minBy=function ch(c,g){return c&&c.length?sd(c,kt(g,2),Ul):B},H.stubArray=_y,H.stubFalse=Sy,H.stubObject=function Gp(){return{}},H.stubString=function Ew(){return""},H.stubTrue=function Pv(){return!0},H.multiply=_w,H.nth=function tl(c,g){return c&&c.length?Jr(c,tn(g)):B},H.noConflict=function ww(){return Ti._===this&&(Ti._=Vt),this},H.noop=uh,H.now=P,H.pad=function py(c,g,C){c=Nn(c);var T=(g=tn(g))?as(c):0;if(!g||T>=g)return c;var L=(g-T)/2;return yd(vr(L),C)+c+yd(us(L),C)},H.padEnd=function AC(c,g,C){c=Nn(c);var T=(g=tn(g))?as(c):0;return g&&T<g?c+yd(g-T,C):c},H.padStart=function RC(c,g,C){c=Nn(c);var T=(g=tn(g))?as(c):0;return g&&T<g?yd(g-T,C)+c:c},H.parseInt=function oh(c,g,C){return C||null==g?g=0:g&&(g=+g),Rt(Nn(c).replace(Nc,""),g||0)},H.random=function lw(c,g,C){if(C&&"boolean"!=typeof C&&ei(c,g,C)&&(g=C=B),C===B&&("boolean"==typeof g?(C=g,g=B):"boolean"==typeof c&&(C=c,c=B)),c===B&&g===B?(c=0,g=1):(c=Mr(c),g===B?(g=c,c=0):g=Mr(g)),c>g){var T=c;c=g,g=T}if(C||c%1||g%1){var L=An();return wi(c+L*(g-c+Ml("1e-"+((L+"").length-1))),g)}return Gl(c,g)},H.reduce=function y(c,g,C){var T=ze(c)?rs:Uh,L=arguments.length<3;return T(c,kt(g,4),C,L,Hs)},H.reduceRight=function D(c,g,C){var T=ze(c)?Tl:Uh,L=arguments.length<3;return T(c,kt(g,4),C,L,np)},H.repeat=function yt(c,g,C){return g=(C?ei(c,g,C):g===B)?1:tn(g),Gn(Nn(c),g)},H.replace=function ah(){var c=arguments,g=Nn(c[0]);return c.length<3?g:g.replace(c[1],c[2])},H.result=function Ev(c,g,C){var T=-1,L=(g=eo(g,c)).length;for(L||(L=1,c=B);++T<L;){var z=null==c?B:c[zi(g[T])];z===B&&(T=L,z=C),c=Ce(z)?z.call(c):z}return c},H.round=xy,H.runInContext=ae,H.sample=function S(c){return(ze(c)?Ji:$t)(c)},H.size=function R(c){if(null==c)return 0;if(Ye(c))return qo(c)?as(c):c.length;var g=Fr(c);return g==uo||g==Yo?c.size:Lu(c).length},H.snakeCase=gy,H.some=function A(c,g,C){var T=ze(c)?Uc:Bu;return C&&ei(c,g,C)&&(g=B),T(c,kt(g,3))},H.sortedIndex=function Sd(c,g){return ps(c,g)},H.sortedIndexBy=function xd(c,g,C){return Af(c,g,kt(C,2))},H.sortedIndexOf=function cv(c,g){var C=null==c?0:c.length;if(C){var T=ps(c,g);if(T<C&&Et(c[T],g))return T}return-1},H.sortedLastIndex=function So(c,g){return ps(c,g,!0)},H.sortedLastIndexBy=function dv(c,g,C){return Af(c,g,kt(C,2),!0)},H.sortedLastIndexOf=function Md(c,g){if(null!=c&&c.length){var T=ps(c,g,!0)-1;if(Et(c[T],g))return T}return-1},H.startCase=Mv,H.startsWith=function Iv(c,g,C){return c=Nn(c),C=null==C?0:ds(tn(C),0,c.length),g=Eo(g),c.slice(C,C+g.length)==g},H.subtract=Sw,H.sum=function xw(c){return c&&c.length?is(c,io):0},H.sumBy=function Hv(c,g){return c&&c.length?is(c,kt(g,2)):0},H.template=function pw(c,g,C){var T=H.templateSettings;C&&ei(c,g,C)&&(g=B),c=Nn(c),g=ac({},g,T,Dd);var re,ue,L=ac({},g.imports,T.imports,Dd),z=Oi(L),J=Gc(L,z),Pe=0,ke=g.interpolate||Oc,qe="__p += '",dt=Yc((g.escape||Oc).source+"|"+ke.source+"|"+(ke===rf?uf:Oc).source+"|"+(g.evaluate||Oc).source+"|$","g"),_t="//# sourceURL="+(jn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Um+"]")+"\n";c.replace(dt,function(Ht,mn,On,Pi,dr,sa){return On||(On=Pi),qe+=c.slice(Pe,sa).replace(Pc,Gh),mn&&(re=!0,qe+="' +\n__e("+mn+") +\n'"),dr&&(ue=!0,qe+="';\n"+dr+";\n__p += '"),On&&(qe+="' +\n((__t = ("+On+")) == null ? '' : __t) +\n'"),Pe=sa+Ht.length,Ht}),qe+="';\n";var Bt=jn.call(g,"variable")&&g.variable;if(Bt){if(Dl.test(Bt))throw new Xt("Invalid `variable` option passed into `_.template`")}else qe="with (obj) {\n"+qe+"\n}\n";qe=(ue?qe.replace(Lg,""):qe).replace(Tc,"$1").replace(Pa,"$1;"),qe="function("+(Bt||"obj")+") {\n"+(Bt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(re?", __e = _.escape":"")+(ue?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+qe+"return __p\n}";var Cn=by(function(){return Fn(z,_t+"return "+qe).apply(B,J)});if(Cn.source=qe,He(Cn))throw Cn;return Cn},H.times=function kv(c,g){if((c=tn(c))<1||c>Na)return[];var C=so,T=wi(c,so);g=kt(g),c-=so;for(var L=jc(T,g);++C<c;)g(C);return L},H.toFinite=Mr,H.toInteger=tn,H.toLength=oa,H.toLower=function my(c){return Nn(c).toLowerCase()},H.toNumber=Gi,H.toSafeInteger=function ul(c){return c?ds(tn(c),-Na,Na):0===c?c:0},H.toString=Nn,H.toUpper=function yy(c){return Nn(c).toUpperCase()},H.trim=function Vp(c,g,C){if((c=Nn(c))&&(C||g===B))return jh(c);if(!c||!(g=Eo(g)))return c;var T=mo(c),L=mo(g);return Jo(T,Nl(T,L),qc(T,L)+1).join("")},H.trimEnd=function NC(c,g,C){if((c=Nn(c))&&(C||g===B))return c.slice(0,Zc(c)+1);if(!c||!(g=Eo(g)))return c;var T=mo(c);return Jo(T,0,qc(T,mo(g))+1).join("")},H.trimStart=function Tv(c,g,C){if((c=Nn(c))&&(C||g===B))return c.replace(Nc,"");if(!c||!(g=Eo(g)))return c;var T=mo(c);return Jo(T,Nl(T,mo(g))).join("")},H.truncate=function gw(c,g){var C=30,T="...";if(st(g)){var L="separator"in g?g.separator:L;C="length"in g?tn(g.length):C,T="omission"in g?Eo(g.omission):T}var z=(c=Nn(c)).length;if(ma(c)){var J=mo(c);z=J.length}if(C>=z)return c;var re=C-as(T);if(re<1)return T;var ue=J?Jo(J,0,re).join(""):c.slice(0,re);if(L===B)return ue+T;if(J&&(re+=ue.length-re),Cr(L)){if(c.slice(re).search(L)){var Pe,ke=ue;for(L.global||(L=Yc(L.source,Nn(Vn.exec(L))+"g")),L.lastIndex=0;Pe=L.exec(ke);)var qe=Pe.index;ue=ue.slice(0,qe===B?re:qe)}}else if(c.indexOf(Eo(L),re)!=re){var dt=ue.lastIndexOf(L);dt>-1&&(ue=ue.slice(0,dt))}return ue+T},H.unescape=function Av(c){return(c=Nn(c))&&Ac.test(c)?c.replace(Rs,qh):c},H.uniqueId=function Fv(c){var g=++Gg;return Nn(c)+g},H.upperCase=wy,H.upperFirst=$p,H.each=s,H.eachRight=i,H.first=jf,Ov(H,function(){var c={};return Ga(H,function(g,C){jn.call(H.prototype,C)||(c[C]=g)}),c}(),{chain:!1}),H.VERSION="4.17.21",Kn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){H[c].placeholder=H}),Kn(["drop","take"],function(c,g){on.prototype[c]=function(C){C=C===B?1:Pt(tn(C),0);var T=this.__filtered__&&!g?new on(this):this.clone();return T.__filtered__?T.__takeCount__=wi(C,T.__takeCount__):T.__views__.push({size:wi(C,so),type:c+(T.__dir__<0?"Right":"")}),T},on.prototype[c+"Right"]=function(C){return this.reverse()[c](C).reverse()}}),Kn(["filter","map","takeWhile"],function(c,g){var C=g+1,T=1==C||3==C;on.prototype[c]=function(L){var z=this.clone();return z.__iteratees__.push({iteratee:kt(L,3),type:C}),z.__filtered__=z.__filtered__||T,z}}),Kn(["head","last"],function(c,g){var C="take"+(g?"Right":"");on.prototype[c]=function(){return this[C](1).value()[0]}}),Kn(["initial","tail"],function(c,g){var C="drop"+(g?"":"Right");on.prototype[c]=function(){return this.__filtered__?new on(this):this[C](1)}}),on.prototype.compact=function(){return this.filter(io)},on.prototype.find=function(c){return this.filter(c).head()},on.prototype.findLast=function(c){return this.reverse().find(c)},on.prototype.invokeMap=hn(function(c,g){return"function"==typeof c?new on(this):this.map(function(C){return $l(C,c,g)})}),on.prototype.reject=function(c){return this.filter(se(kt(c)))},on.prototype.slice=function(c,g){c=tn(c);var C=this;return C.__filtered__&&(c>0||g<0)?new on(C):(c<0?C=C.takeRight(-c):c&&(C=C.drop(c)),g!==B&&(C=(g=tn(g))<0?C.dropRight(-g):C.take(g-c)),C)},on.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},on.prototype.toArray=function(){return this.take(so)},Ga(on.prototype,function(c,g){var C=/^(?:filter|find|map|reject)|While$/.test(g),T=/^(?:head|last)$/.test(g),L=H[T?"take"+("last"==g?"Right":""):g],z=T||/^find/.test(g);L&&(H.prototype[g]=function(){var J=this.__wrapped__,re=T?[1]:arguments,ue=J instanceof on,Pe=re[0],ke=ue||ze(J),qe=function(mn){var On=L.apply(H,No([mn],re));return T&&dt?On[0]:On};ke&&C&&"function"==typeof Pe&&1!=Pe.length&&(ue=ke=!1);var dt=this.__chain__,Bt=z&&!dt,Cn=ue&&!this.__actions__.length;if(!z&&ke){J=Cn?J:new on(this);var Ht=c.apply(J,re);return Ht.__actions__.push({func:Id,args:[qe],thisArg:B}),new Xi(Ht,dt)}return Bt&&Cn?c.apply(this,re):(Ht=this.thru(qe),Bt?T?Ht.value()[0]:Ht.value():Ht)})}),Kn(["pop","push","shift","sort","splice","unshift"],function(c){var g=Qc[c],C=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",T=/^(?:pop|shift)$/.test(c);H.prototype[c]=function(){var L=arguments;if(T&&!this.__chain__){var z=this.value();return g.apply(ze(z)?z:[],L)}return this[C](function(J){return g.apply(ze(J)?J:[],L)})}}),Ga(on.prototype,function(c,g){var C=H[g];if(C){var T=C.name+"";jn.call(nn,T)||(nn[T]=[]),nn[T].push({name:g,func:C})}}),nn[or(B,2).name]=[{name:"wrapper",func:B}],on.prototype.clone=function nd(){var c=new on(this.__wrapped__);return c.__actions__=$r(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=$r(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=$r(this.__views__),c},on.prototype.reverse=function ui(){if(this.__filtered__){var c=new on(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},on.prototype.value=function Ea(){var c=this.__wrapped__.value(),g=this.__dir__,C=ze(c),T=g<0,L=C?c.length:0,z=function qu(c,g,C){for(var T=-1,L=C.length;++T<L;){var z=C[T],J=z.size;switch(z.type){case"drop":c+=J;break;case"dropRight":g-=J;break;case"take":g=wi(g,c+J);break;case"takeRight":c=Pt(c,g-J)}}return{start:c,end:g}}(0,L,this.__views__),J=z.start,re=z.end,ue=re-J,Pe=T?re:J-1,ke=this.__iteratees__,qe=ke.length,dt=0,_t=wi(ue,this.__takeCount__);if(!C||!T&&L==ue&&_t==ue)return di(c,this.__actions__);var Bt=[];e:for(;ue--&&dt<_t;){for(var Cn=-1,Ht=c[Pe+=g];++Cn<qe;){var mn=ke[Cn],Pi=mn.type,dr=(0,mn.iteratee)(Ht);if(2==Pi)Ht=dr;else if(!dr){if(1==Pi)continue e;break e}}Bt[dt++]=Ht}return Bt},H.prototype.at=Sn,H.prototype.chain=function gv(){return Tp(this)},H.prototype.commit=function iy(){return new Xi(this.value(),this.__chain__)},H.prototype.next=function Jf(){this.__values__===B&&(this.__values__=Si(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?B:this.__values__[this.__index__++]}},H.prototype.plant=function vv(c){for(var g,C=this;C instanceof rn;){var T=Ks(C);T.__index__=0,T.__values__=B,g?L.__wrapped__=T:g=T;var L=T;C=C.__wrapped__}return L.__wrapped__=c,g},H.prototype.reverse=function mv(){var c=this.__wrapped__;if(c instanceof on){var g=c;return this.__actions__.length&&(g=new on(this)),(g=g.reverse()).__actions__.push({func:Id,args:[qf],thisArg:B}),new Xi(g,this.__chain__)}return this.thru(qf)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function yv(){return di(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,Iu&&(H.prototype[Iu]=function oy(){return this}),H}();Ti._=Kc,(le=function(){return Kc}.call(Qe,ie,Qe,ge))!==B&&(ge.exports=le)}.call(this)},7659:(ge,Qe,ie)=>{var le=ie(1811);function _e(Ee,Ve){if("function"!=typeof Ee||null!=Ve&&"function"!=typeof Ve)throw new TypeError("Expected a function");var Se=function(){var rt=arguments,vt=Ve?Ve.apply(this,rt):rt[0],wt=Se.cache;if(wt.has(vt))return wt.get(vt);var bt=Ee.apply(this,rt);return Se.cache=wt.set(vt,bt)||wt,bt};return Se.cache=new(_e.Cache||le),Se}_e.Cache=le,ge.exports=_e},5533:(ge,Qe,ie)=>{var le=ie(8492);ge.exports=function(){return le.Date.now()}},7939:(ge,Qe,ie)=>{var le=ie(9478);ge.exports=function B(_e,Ee,Ve){return null==_e?_e:le(_e,Ee,Ve)}},4282:(ge,Qe,ie)=>{var le=ie(9484),B=ie(9794),_e=ie(3423),Ve=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,rt=/^0o[0-7]+$/i,vt=parseInt;ge.exports=function wt(bt){if("number"==typeof bt)return bt;if(_e(bt))return NaN;if(B(bt)){var Pn="function"==typeof bt.valueOf?bt.valueOf():bt;bt=B(Pn)?Pn+"":Pn}if("string"!=typeof bt)return 0===bt?bt:+bt;bt=le(bt);var ln=Se.test(bt);return ln||rt.test(bt)?vt(bt.slice(2),ln?2:8):Ve.test(bt)?NaN:+bt}},9078:(ge,Qe,ie)=>{var le=ie(3880),B=ie(4231),_e=ie(2261),Ee=ie(3423),Ve=ie(163),Se=ie(8916),rt=ie(2674);ge.exports=function vt(wt){return _e(wt)?le(wt,Se):Ee(wt)?[wt]:B(Ve(rt(wt)))}},2674:(ge,Qe,ie)=>{var le=ie(7002);ge.exports=function B(_e){return null==_e?"":le(_e)}}},ge=>{ge(ge.s=6194)}]);