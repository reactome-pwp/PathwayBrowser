<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" [trackBy]="trackById" class="example-tree">
  <!-- This is the tree node template for leaf nodes -->
  <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle class="leaf-node">
    <!-- use a disabled button to provide padding for table leaf -->
    <!--    <button mat-icon-button disabled class="button-size"></button>-->
    <div class="left">
      <div (click)="selectNode(node)">
        <button mat-button [ngClass]="{'highlight': node.isSelected, 'hovered': node.isHovered}" class="button">
          <mat-icon class='custom-icon' [matTooltip]="node.schemaClass === 'Reaction' ? 'Reaction' : 'Black Box Event'"
                    [svgIcon]="node.schemaClass === 'Reaction' ? 'reaction' : 'transition'"></mat-icon>

          <span class="font">
          {{ node.displayName }}
            {{ node.dbId }}
        </span>
        </button>
      </div>
    </div>

    <div class="right">
      <div class="tag-container">
        <div class="tag" *ngIf="node.releaseStatus === 'UPDATED'" (mouseover)="onTagHover(node)"
             (mouseleave)="onTagHoverLeave(node)">
          <span class='initial'>U</span>
          <span class="body">PDATED</span>
        </div>
        <div class="tag" (mouseover)="onTagHover(node)" (mouseleave)="onTagHoverLeave(node)">
          <span class='initial'>N</span>
          <span class="body">EW</span>
        </div>

        <div class="tag" *ngIf="node.isInDisease" [class.disease]="node.isInDisease">
          <span class='initial'>D</span>
          <span class="body">ISEASE</span>
        </div>

        <div class="tag" *ngIf="node.isInferred" (mouseover)="onTagHover(node)"
             (mouseleave)="onTagHoverLeave(node)">
          <span class='initial'>I</span>
          <span class="body">NFERRED</span>
        </div>

      </div>
    </div>
  </mat-tree-node>

  <!-- This is the tree node template for expandable nodes -->
  <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
    <div class="mat-tree-node">
      <div class="left">
        <button mat-icon-button matTreeNodeToggle class="button-size"
                [attr.aria-label]="'Toggle ' + node.name" (click)="loadChildNodes(node)">
          <mat-icon class="mat-icon-rtl-mirror"
                    [svgIcon]="treeControl.isExpanded(node) ? 'arrow-down' : 'arrow-right'"></mat-icon>

        </button>
        <div (click)="selectNode(node)" class="event-content">
          <button mat-button class="button" [ngClass]="{'highlight': isHighlighted(node), 'hovered': node.isHovered}"
                  routerLink="/PathwayBrowser/{{node.stId}}">
            <mat-icon class='custom-icon' [matTooltip]="node.hasEHLD? 'Pathway with an enhanced diagram ' : 'Pathway'"
                      [svgIcon]="node.hasEHLD  ? 'pathway-ehld' : 'pathway'"></mat-icon>
            <span class="font">
              {{ node.displayName }}
              {{ node.dbId }}
            </span>
          </button>
        </div>
      </div>

      <div class="right">
        <div class="tag-container">
          <div class="tag" *ngIf="node.releaseStatus === 'UPDATED'" (mouseover)="onTagHover(node)"
               (mouseleave)="onTagHoverLeave(node)">
            <span class='initial'>U</span>
            <span class="body">PDATED</span>
          </div>
          <div class="tag" (mouseover)="onTagHover(node)" (mouseleave)="onTagHoverLeave(node)">
            <span class='initial'>N</span>
            <span class="body">EW</span>
          </div>

          <div class="tag" *ngIf="node.isInDisease" [class.disease]="node.isInDisease"
               (mouseover)="onTagHover(node)" (mouseleave)="onTagHoverLeave(node)">
            <span class='initial'>D</span>
            <span class="body">ISEASE</span>
          </div>

          <div class="tag" *ngIf="node.isInferred" (mouseover)="onTagHover(node)"
               (mouseleave)="onTagHoverLeave(node)">
            <span class='initial'>I</span>
            <span class="body">NFERRED</span>
          </div>

        </div>
      </div>
    </div>


    <!-- There is inline padding applied to this div using styles.
        This padding value depends on the mat-icon-button width.  -->
    <ul>
      <div [class.example-tree-invisible]="!treeControl.isExpanded(node)" role="group" class="group">
        <ng-container matTreeNodeOutlet></ng-container>
      </div>
    </ul>
  </mat-nested-tree-node>
</mat-tree>
