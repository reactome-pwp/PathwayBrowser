.variables {
  position: absolute;
  inset: 0 0 0 0;
  --opacity: 0.08;
  --shadow-luminosity: 40;
  --surface: #F6FEFF;
  --on-surface: #001F24;
  --primary: #006782;
  --on-primary: #FFFFFF;
  --on-tertiary: #FFFFFF;
  --positive: #0C9509;
  --negative: #BA1A1A;
  --select-node: #6EB3E4;
  --select-edge: #0561A6;
  --hover-node: #78E076;
  --hover-edge: #04B601;

  --compartment: #E5834A;

  --primary-contrast-1: #001F29;
  --primary-contrast-2: #003545;
  --primary-contrast-3: #004D62;

  --tertiary-contrast-1: #00315C;
  --tertiary-contrast-2: #004882;
  --tertiary-contrast-3: #1660A5;

  --drug-contrast-1: #3E001D;
  --drug-contrast-2: #610B33;
  --drug-contrast-3: #7E2549;
  --drug-contrast-4: #BB557A;

  &.dark {
    --opacity: 0.08;
    --shadow-luminosity: 70;
    --shadow-opacity: [[0.2, 0.4], [0.4, 0]];


    --surface: #0D1617;
    --on-surface: #97F0FF;
    --primary: #5CD4FF;
    --on-primary: #0D1617;
    --on-tertiary: #0D1317;
    --positive: #10d70b;
    --negative: #ea2323;
    --select-node: #00ffff;
    --select-edge: #1d85cc;
    --hover-node: #ffff00;
    --hover-edge: #ffff00;

    --compartment: #5e232d;

    --primary-contrast-1: #5CD4FF;
    --primary-contrast-2: #20B9E5;
    --primary-contrast-3: #009DC4;

    --tertiary-contrast-1: #a48ee0;
    --tertiary-contrast-2: #9b73d3;
    --tertiary-contrast-3: #8c63c5;

    --drug-contrast-1: #FFB1C8;
    --drug-contrast-2: #F988AE;
    --drug-contrast-3: #DA6E94;
    --drug-contrast-4: #c4527b;
  }
}

#controls {
  position: absolute;
  inset: calc(100vh - 40px) 0 0 0;
  * {
    background: var(--surface);
    color: var(--on-surface);
  }
  background: var(--surface);

}

#cytoscape {
  position: absolute;
  inset: 0 0 40px 0;
  background: var(--surface);
}


#legend-boundary {
  --legend-width: 450px;
  --border-width: 2px;
  --handle-width: 20px;

  position: absolute;
  pointer-events: none;
  right: calc(-1 *  var(--legend-width) - var(--border-width));
  height: 100%;
  width: calc(2 * var(--legend-width) + var(--handle-width));

  #legend {
    width: var(--legend-width);
    height: 100%;
    border-left: var(--border-width) solid var(--primary);
    background: color-mix(in srgb, var(--surface) 50%, transparent);
    backdrop-filter: blur(5px);
  }

  #legend-handle {
    width: var(--handle-width);
    text-orientation: upright;
    writing-mode: vertical-lr;

    border-radius: 8.5px 0 0 8.5px;
    background: color-mix(in srgb, var(--surface) 50%, transparent);
    backdrop-filter: blur(5px);
    border-left: var(--border-width) solid var(--primary);
    border-top: var(--border-width) solid var(--primary);
    border-bottom: var(--border-width) solid var(--primary);
    border-right: 0;
    cursor: ew-resize;
    color: var(--on-surface);
  }

  #legend-container {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    width: fit-content;
    left: calc(var(--legend-width) - var(--border-width));
    pointer-events: all;
    height: 100%;
  }
}
