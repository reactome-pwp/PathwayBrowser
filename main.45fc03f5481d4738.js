(self.webpackChunkpathway_browser=self.webpackChunkpathway_browser||[]).push([[179],{2243:(we,Qe,ie)=>{"use strict";function le(e){return"function"==typeof e}function B(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Te=B(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ie(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ue{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const u of n)u.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(le(r))try{r()}catch(u){t=u instanceof Te?u.errors:[u]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const u of o)try{mt(u)}catch(d){t=t??[],d instanceof Te?t=[...t,...d.errors]:t.push(d)}}if(t)throw new Te(t)}}add(t){var n;if(t&&t!==this)if(this.closed)mt(t);else{if(t instanceof Ue){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ie(n,t)}remove(t){const{_finalizers:n}=this;n&&Ie(n,t),t instanceof Ue&&t._removeParent(this)}}Ue.EMPTY=(()=>{const e=new Ue;return e.closed=!0,e})();const Ae=Ue.EMPTY;function rt(e){return e instanceof Ue||e&&"closed"in e&&le(e.remove)&&le(e.add)&&le(e.unsubscribe)}function mt(e){le(e)?e():e.unsubscribe()}const Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},St={setTimeout(e,t,...n){const{delegate:r}=St;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=St;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Fn(e){St.setTimeout(()=>{const{onUnhandledError:t}=Dt;if(!t)throw e;t(e)})}function dn(){}const Dr=An("C",void 0,void 0);function An(e,t,n){return{kind:e,value:t,error:n}}let fn=null;function qe(e){if(Dt.useDeprecatedSynchronousErrorHandling){const t=!fn;if(t&&(fn={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=fn;if(fn=null,n)throw r}}else e()}class ht extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,rt(t)&&t.add(this)):this.destination=ao}static create(t,n,r){return new Dn(t,n,r)}next(t){this.isStopped?So(function $n(e){return An("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?So(function ir(e){return An("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?So(Dr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xt=Function.prototype.bind;function Rn(e,t){return xt.call(e,t)}class Ot{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Xn(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Xn(r)}else Xn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Xn(n)}}}class Dn extends ht{constructor(t,n,r){let o;if(super(),le(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let u;this&&Dt.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Rn(t.next,u),error:t.error&&Rn(t.error,u),complete:t.complete&&Rn(t.complete,u)}):o=t}this.destination=new Ot(o)}}function Xn(e){Dt.useDeprecatedSynchronousErrorHandling?function it(e){Dt.useDeprecatedSynchronousErrorHandling&&fn&&(fn.errorThrown=!0,fn.error=e)}(e):Fn(e)}function So(e,t){const{onStoppedNotification:n}=Dt;n&&St.setTimeout(()=>n(e,t))}const ao={closed:!0,next:dn,error:function Ni(e){throw e},complete:dn},Ir="function"==typeof Symbol&&Symbol.observable||"@@observable";function Je(e){return e}function Mn(e){return 0===e.length?Je:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Mt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const u=function Oc(e){return e&&e instanceof ht||function at(e){return e&&le(e.next)&&le(e.error)&&le(e.complete)}(e)&&rt(e)}(n)?n:new Dn(n,r,o);return qe(()=>{const{operator:d,source:v}=this;u.add(d?d.call(u,v):v?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Fa(r))((o,u)=>{const d=new Dn({next:v=>{try{n(v)}catch(y){u(y),d.unsubscribe()}},error:u,complete:o});this.subscribe(d)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ir](){return this}pipe(...n){return Mn(n)(this)}toPromise(n){return new(n=Fa(n))((r,o)=>{let u;this.subscribe(d=>u=d,d=>o(d),()=>r(u))})}}return e.create=t=>new e(t),e})();function Fa(e){var t;return null!==(t=e??Dt.Promise)&&void 0!==t?t:Promise}const so=B(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Cr=(()=>{class e extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ru(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new so}next(n){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:u}=this;return r||o?Ae:(this.currentObservers=null,u.push(n),new Ue(()=>{this.currentObservers=null,Ie(u,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:u}=this;r?n.error(o):u&&n.complete()}asObservable(){const n=new Mt;return n.source=this,n}}return e.create=(t,n)=>new Ru(t,n),e})();class Ru extends Cr{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Ae}}function cf(e){return le(e?.lift)}function or(e){return t=>{if(cf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vr(e,t,n,r,o){return new zg(e,t,n,r,o)}class zg extends ht{constructor(t,n,r,o,u,d){super(t),this.onFinalize=u,this.shouldUnsubscribe=d,this._next=n?function(v){try{n(v)}catch(y){t.error(y)}}:super._next,this._error=o?function(v){try{o(v)}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(v){t.error(v)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function rn(e,t){return or((n,r)=>{let o=0;n.subscribe(vr(r,u=>{r.next(e.call(t,u,o++))}))})}function la(e){return this instanceof la?(this.v=e,this):new la(e)}function Vc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function df(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=e[u]&&function(d){return new Promise(function(v,y){!function o(u,d,v,y){Promise.resolve(y).then(function(_){u({value:_,done:v})},d)}(v,y,(d=e[u](d)).done,d.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const gf=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Fu(e){return le(e?.then)}function Lu(e){return le(e[Ir])}function vf(e){return Symbol.asyncIterator&&le(e?.[Symbol.asyncIterator])}function Va(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qh=function Gc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ca(e){return le(e?.[qh])}function mf(e){return function Bc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),u=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(L){r[L]&&(o[L]=function(Q){return new Promise(function(oe,ce){u.push([L,Q,oe,ce])>1||v(L,Q)})})}function v(L,Q){try{!function y(L){L.value instanceof la?Promise.resolve(L.value.v).then(_,I):N(u[0][2],L)}(r[L](Q))}catch(oe){N(u[0][3],oe)}}function _(L){v("next",L)}function I(L){v("throw",L)}function N(L,Q){L(Q),u.shift(),u.length&&v(u[0][0],u[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield la(n.read());if(o)return yield la(void 0);yield yield la(r)}}finally{n.releaseLock()}})}function qc(e){return le(e?.getReader)}function qi(e){if(e instanceof Mt)return e;if(null!=e){if(Lu(e))return function Kg(e){return new Mt(t=>{const n=e[Ir]();if(le(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(gf(e))return function Yg(e){return new Mt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Fu(e))return function yf(e){return new Mt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Fn)})}(e);if(vf(e))return Il(e);if(ca(e))return function Wh(e){return new Mt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(qc(e))return function Zh(e){return Il(mf(e))}(e)}throw Va(e)}function Il(e){return new Mt(t=>{(function wf(e,t){var n,r,o,u;return function ku(e,t,n,r){return new(n||(n=Promise))(function(u,d){function v(I){try{_(r.next(I))}catch(N){d(N)}}function y(I){try{_(r.throw(I))}catch(N){d(N)}}function _(I){I.done?u(I.value):function o(u){return u instanceof n?u:new n(function(d){d(u)})}(I.value).then(v,y)}_((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Vc(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(d){o={error:d}}finally{try{r&&!r.done&&(u=n.return)&&(yield u.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Hn(e,t,n,r=0,o=!1){const u=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!o)return u}function Kt(e,t,n=1/0){return le(t)?Kt((r,o)=>rn((u,d)=>t(r,u,o,d))(qi(e(r,o))),n):("number"==typeof t&&(n=t),or((r,o)=>function Kh(e,t,n,r,o,u,d,v){const y=[];let _=0,I=0,N=!1;const L=()=>{N&&!y.length&&!_&&t.complete()},Q=ce=>_<r?oe(ce):y.push(ce),oe=ce=>{u&&t.next(ce),_++;let Se=!1;qi(n(ce,I++)).subscribe(vr(t,Ze=>{o?.(Ze),u?Q(Ze):t.next(Ze)},()=>{Se=!0},void 0,()=>{if(Se)try{for(_--;y.length&&_<r;){const Ze=y.shift();d?Hn(t,d,()=>oe(Ze)):oe(Ze)}L()}catch(Ze){t.error(Ze)}}))};return e.subscribe(vr(t,Q,()=>{N=!0,L()})),()=>{v?.()}}(r,o,e,n)))}function Bu(e=1/0){return Kt(Je,e)}const Gr=new Mt(e=>e.complete());function Zc(e){return e[e.length-1]}function kr(e){return le(Zc(e))?e.pop():void 0}function xo(e){return function Wc(e){return e&&le(e.schedule)}(Zc(e))?e.pop():void 0}function Xh(e,t=0){return or((n,r)=>{n.subscribe(vr(r,o=>Hn(r,e,()=>r.next(o),t),()=>Hn(r,e,()=>r.complete(),t),o=>Hn(r,e,()=>r.error(o),t)))})}function lo(e,t=0){return or((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Jh(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mt(n=>{Hn(n,t,()=>{const r=e[Symbol.asyncIterator]();Hn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Or(e,t){return t?function Tl(e,t){if(null!=e){if(Lu(e))return function $a(e,t){return qi(e).pipe(lo(t),Xh(t))}(e,t);if(gf(e))return function da(e,t){return new Mt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Fu(e))return function Qh(e,t){return qi(e).pipe(lo(t),Xh(t))}(e,t);if(vf(e))return Jh(e,t);if(ca(e))return function Xg(e,t){return new Mt(n=>{let r;return Hn(n,t,()=>{r=e[qh](),Hn(n,t,()=>{let o,u;try{({value:o,done:u}=r.next())}catch(d){return void n.error(d)}u?n.complete():n.next(o)},0,!0)}),()=>le(r?.return)&&r.return()})}(e,t);if(qc(e))return function Vu(e,t){return Jh(mf(e),t)}(e,t)}throw Va(e)}(e,t):qi(e)}class Wi extends Cr{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Ht(...e){return Or(e,xo(e))}function Df(e={}){const{connector:t=(()=>new Cr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return u=>{let d,v,y,_=0,I=!1,N=!1;const L=()=>{v?.unsubscribe(),v=void 0},Q=()=>{L(),d=y=void 0,I=N=!1},oe=()=>{const ce=d;Q(),ce?.unsubscribe()};return or((ce,Se)=>{_++,!N&&!I&&L();const Ze=y=y??t();Se.add(()=>{_--,0===_&&!N&&!I&&(v=Hu(oe,o))}),Ze.subscribe(Se),!d&&_>0&&(d=new Dn({next:Ee=>Ze.next(Ee),error:Ee=>{N=!0,L(),v=Hu(Q,n,Ee),Ze.error(Ee)},complete:()=>{I=!0,L(),v=Hu(Q,r),Ze.complete()}}),qi(ce).subscribe(d))})(u)}}function Hu(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Dn({next:()=>{r.unsubscribe(),e()}});return qi(t(...n)).subscribe(r)}function co(e,t){return or((n,r)=>{let o=null,u=0,d=!1;const v=()=>d&&!o&&r.complete();n.subscribe(vr(r,y=>{o?.unsubscribe();let _=0;const I=u++;qi(e(y,I)).subscribe(o=vr(r,N=>r.next(t?t(y,N,I,_++):N),()=>{o=null,v()}))},()=>{d=!0,v()}))})}function ep(e,t){return e===t}function zn(e){for(let t in e)if(e[t]===zn)return t;throw Error("Could not find renamed property on target object.")}function qr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(qr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Kc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Al=zn({__forward_ref__:zn});function Zn(e){return e.__forward_ref__=Zn,e.toString=function(){return qr(this())},e}function Bt(e){return Zs(e)?e():e}function Zs(e){return"function"==typeof e&&e.hasOwnProperty(Al)&&e.__forward_ref__===Zn}function Rl(e){return e&&!!e.\u0275providers}class je extends Error{constructor(t,n){super(function Pl(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function jn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Yt(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Ha(e,t){throw new je(-201,!1)}function Pi(e,t){null==e&&function Ut(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Rt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ho(e){return{providers:e.providers||[],imports:e.imports||[]}}function fs(e){return Qc(e,ni)||Qc(e,Sf)}function Qc(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ol(e){return e&&(e.hasOwnProperty(Io)||e.hasOwnProperty(Fl))?e[Io]:null}const ni=zn({\u0275prov:zn}),Io=zn({\u0275inj:zn}),Sf=zn({ngInjectableDef:zn}),Fl=zn({ngInjectorDef:zn});var un=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(un||{});let ki;function Gn(e){const t=ki;return ki=e,t}function Jc(e,t,n){const r=fs(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&un.Optional?null:void 0!==t?t:void Ha(qr(e))}const Cn=globalThis,fa={},Vl="__NG_DI_FLAG__",ha="ngTempTokenPath",$l=/\n/gm,ap="__source";let gs;function Ua(e){const t=gs;return gs=e,t}function sp(e,t=un.Default){if(void 0===gs)throw new je(-203,!1);return null===gs?Jc(e,void 0,t):gs.get(e,t&un.Optional?null:void 0,t)}function vt(e,t=un.Default){return(function hs(){return ki}()||sp)(Bt(e),t)}function ct(e,t=un.Default){return vt(e,Hl(t))}function Hl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function nd(e){const t=[];for(let n=0;n<e.length;n++){const r=Bt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new je(900,!1);let o,u=un.Default;for(let d=0;d<r.length;d++){const v=r[d],y=up(v);"number"==typeof y?-1===y?o=v.token:u|=y:o=v}t.push(vt(o,u))}else t.push(vt(r))}return t}function Ul(e,t){return e[Vl]=t,e.prototype[Vl]=t,e}function up(e){return e[Vl]}function pa(e){return{toString:e}.toString()}var ga=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ga||{}),To=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(To||{});const va={},In=[],za=zn({\u0275cmp:zn}),Oi=zn({\u0275dir:zn}),ja=zn({\u0275pipe:zn}),lp=zn({\u0275mod:zn}),jo=zn({\u0275fac:zn}),vs=zn({__NG_ELEMENT_ID__:zn}),Ga=zn({__NG_ENV_ID__:zn});function po(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}function zl(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const u=n[r++],d=n[r++],v=n[r++];e.setAttribute(t,d,v,u)}else{const u=o,d=n[++r];dp(u)?e.setProperty(t,u,d):e.setAttribute(t,u,d),r++}}return r}function cp(e){return 3===e||4===e||6===e}function dp(e){return 64===e.charCodeAt(0)}function jl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Af(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Af(e,t,n,r,o){let u=0,d=e.length;if(-1===t)d=-1;else for(;u<e.length;){const v=e[u++];if("number"==typeof v){if(v===t){d=-1;break}if(v>t){d=u-1;break}}}for(;u<e.length;){const v=e[u];if("number"==typeof v)break;if(v===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==d&&(e.splice(d,0,t),u=d+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}const Rf="ng-template";function rd(e,t,n){let r=0,o=!0;for(;r<e.length;){let u=e[r++];if("string"==typeof u&&o){const d=e[r++];if(n&&"class"===u&&-1!==po(d.toLowerCase(),t,0))return!0}else{if(1===u){for(;r<e.length&&"string"==typeof(u=e[r++]);)if(u.toLowerCase()===t)return!0;return!1}"number"==typeof u&&(o=!1)}}return!1}function ae(e){return 4===e.type&&e.value!==Rf}function Ne(e,t,n){return t===(4!==e.type||n?e.value:Rf)}function be(e,t,n){let r=4;const o=e.attrs||[],u=function Qn(e){for(let t=0;t<e.length;t++)if(cp(e[t]))return t;return e.length}(o);let d=!1;for(let v=0;v<t.length;v++){const y=t[v];if("number"!=typeof y){if(!d)if(4&r){if(r=2|1&r,""!==y&&!Ne(e,y,n)||""===y&&1===t.length){if(ut(r))return!1;d=!0}}else{const _=8&r?y:t[++v];if(8&r&&null!==e.attrs){if(!rd(e.attrs,_,n)){if(ut(r))return!1;d=!0}continue}const N=Qt(8&r?"class":y,o,ae(e),n);if(-1===N){if(ut(r))return!1;d=!0;continue}if(""!==_){let L;L=N>u?"":o[N+1].toLowerCase();const Q=8&r?L:null;if(Q&&-1!==po(Q,_,0)||2&r&&_!==L){if(ut(r))return!1;d=!0}}}}else{if(!d&&!ut(r)&&!ut(y))return!1;if(d&&ut(y))continue;d=!1,r=y|1&r}}return ut(r)||d}function ut(e){return 0==(1&e)}function Qt(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const d=t[o];if(d===e)return o;if(3===d||6===d)u=!0;else{if(1===d||2===d){let v=t[++o];for(;"string"==typeof v;)v=t[++o];continue}if(4===d)break;if(0===d){o+=4;continue}}o+=u?1:2}return-1}return function Nf(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Bn(e,t,n=!1){for(let r=0;r<t.length;r++)if(be(e,t[r],n))return!0;return!1}function Ei(e,t){return e?":not("+t.trim()+")":t}function id(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&r){const v=e[++n];o+="["+d+(v.length>0?'="'+v+'"':"")+"]"}else 8&r?o+="."+d:4&r&&(o+=" "+d);else""!==o&&!ut(d)&&(t+=Ei(u,o),o=""),r=d,u=u||!ut(r);n++}return""!==o&&(t+=Ei(u,o)),t}function Js(e){return pa(()=>{const t=Gu(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ga.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||To.Emulated,styles:e.styles||In,_:null,schemas:e.schemas||null,tView:null,id:""};kf(n);const r=e.dependencies;return n.directiveDefs=ms(r,!1),n.pipeDefs=ms(r,!0),n.id=function qu(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function qn(e){return En(e)||mr(e)}function ov(e){return null!==e}function Ao(e){return pa(()=>({type:e.type,bootstrap:e.bootstrap||In,declarations:e.declarations||In,imports:e.imports||In,exports:e.exports||In,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Pf(e,t){if(null==e)return va;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}function Wt(e){return pa(()=>{const t=Gu(e);return kf(t),t})}function En(e){return e[za]||null}function mr(e){return e[Oi]||null}function ri(e){return e[ja]||null}function _i(e,t){const n=e[lp]||null;if(!n&&!0===t)throw new Error(`Type ${qr(e)} does not have '\u0275mod' property.`);return n}function Gu(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||va,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||In,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pf(e.inputs,t),outputs:Pf(e.outputs)}}function kf(e){e.features?.forEach(t=>t(e))}function ms(e,t){if(!e)return null;const n=t?ri:qn;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ov)}const Wn=0,tt=1,tn=2,dr=3,Ro=4,qa=5,Kr=6,go=7,Er=8,Li=9,Wu=10,Jt=11,_r=12,Xt=13,Zu=14,yr=15,vn=16,Nn=17,lt=18,Go=19,sd=20,vo=21,mo=22,Zi=23,Bi=24,nn=25,Ff=1,hp=2,ya=7,wa=9,ii=11;function Yr(e){return Array.isArray(e)&&"object"==typeof e[Ff]}function gn(e){return Array.isArray(e)&&!0===e[Ff]}function mn(e){return 0!=(4&e.flags)}function an(e){return e.componentOffset>-1}function qo(e){return!!e.template}function ba(e){return 0!=(512&e[tn])}function di(e,t){return e.hasOwnProperty(jo)?e[jo]:null}let Xr=null,Wl=!1;function yo(e){const t=Xr;return Xr=e,t}const Hf={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Zl(e){if(!Yl(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Xi(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function zf(e){e.dirty=!0,function Ea(e){if(void 0===e.liveConsumerNode)return;const t=Wl;Wl=!0;try{for(const n of e.liveConsumerNode)n.dirty||zf(n)}finally{Wl=t}}(e),e.consumerMarkedDirty?.(e)}function fd(e){return e&&(e.nextProducerIndex=0),yo(e)}function nu(e,t){if(yo(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Yl(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Vi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Xi(e){ru(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Zl(n),r!==n.version))return!0}return!1}function Kl(e){if(ru(e),Yl(e))for(let t=0;t<e.producerNode.length;t++)Vi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Vi(e,t){if(function jf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ru(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Vi(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];ru(o),o.producerIndexOfThis[r]=t}}function Yl(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ru(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Gf=null;const md=()=>{},fv=(()=>({...Hf,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:md}))();class Zf{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wo(){return Pn}function Pn(e){return e.type.prototype.ngOnChanges&&(e.setInput=gp),Ql}function Ql(){const e=yd(this),t=e?.current;if(t){const n=e.previous;if(n===va)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function gp(e,t,n,r){const o=this.declaredInputs[n],u=yd(e)||function vp(e,t){return e[Jl]=t}(e,{previous:va,current:null}),d=u.current||(u.current={}),v=u.previous,y=v[o];d[o]=new Zf(y&&y.currentValue,t,v===va),e[r]=t}wo.ngInherit=!0;const Jl="__ngSimpleChanges__";function yd(e){return e[Jl]||null}const bo=function(e,t,n){};function Kn(e){for(;Array.isArray(e);)e=e[Wn];return e}function Hi(e,t){return Kn(t[e.index])}function Lr(e,t){const n=t[e];return Yr(n)?n:n[Wn]}function Ya(e,t){return null==t?null:e[t]}function tc(e){e[Nn]=0}function Yf(e){1024&e[tn]||(e[tn]|=1024,Xf(e,1))}function nc(e){1024&e[tn]&&(e[tn]&=-1025,Xf(e,-1))}function Xf(e,t){let n=e[dr];if(null===n)return;n[qa]+=t;let r=n;for(n=n[dr];null!==n&&(1===t&&1===r[qa]||-1===t&&0===r[qa]);)n[qa]+=t,r=n,n=n[dr]}const pt={lFrame:Ss(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qi(){return pt.bindingsEnabled}function Be(){return pt.lFrame.lView}function Sn(){return pt.lFrame.tView}function Vr(){let e=uu();for(;null!==e&&64===e.type;)e=e.parent;return e}function uu(){return pt.lFrame.currentTNode}function Po(e,t){const n=pt.lFrame;n.currentTNode=e,n.isParent=t}function lu(){return pt.lFrame.isParent}function xi(e,t){const n=pt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Dd(t)}function Dd(e){pt.lFrame.currentDirectiveIndex=e}function pi(){return pt.lFrame.currentQueryIndex}function cu(e){pt.lFrame.currentQueryIndex=e}function ac(e){const t=e[tt];return 2===t.type?t.declTNode:1===t.type?e[Kr]:null}function Es(e,t,n){if(n&un.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&un.Host||(o=ac(u),null===o||(u=u[Zu],10&o.type))););if(null===o)return!1;t=o,e=u}const r=pt.lFrame=eh();return r.currentTNode=t,r.lView=e,!0}function _s(e){const t=eh(),n=e[tt];pt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function eh(){const e=pt.lFrame,t=null===e?null:e.child;return null===t?Ss(e):t}function Ss(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function th(){const e=pt.lFrame;return pt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Cd=th;function xs(){const e=th();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Sa(e){pt.lFrame.selectedIndex=e}let rh=!0;function Sd(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:v,ngAfterViewInit:y,ngAfterViewChecked:_,ngOnDestroy:I}=u;d&&(e.contentHooks??=[]).push(-n,d),v&&((e.contentHooks??=[]).push(n,v),(e.contentCheckHooks??=[]).push(n,v)),y&&(e.viewHooks??=[]).push(-n,y),_&&((e.viewHooks??=[]).push(n,_),(e.viewCheckHooks??=[]).push(n,_)),null!=I&&(e.destroyHooks??=[]).push(n,I)}}function ol(e,t,n){al(e,t,3,n)}function ko(e,t,n,r){(3&e[tn])===n&&al(e,t,n,r)}function xd(e,t){let n=e[tn];(3&n)===t&&(n&=8191,n+=1,e[tn]=n)}function al(e,t,n,r){const u=r??-1,d=t.length-1;let v=0;for(let y=void 0!==r?65535&e[Nn]:0;y<d;y++)if("number"==typeof t[y+1]){if(v=t[y],null!=r&&v>=r)break}else t[y]<0&&(e[Nn]+=65536),(v<u||-1==u)&&(_p(e,n,t,y),e[Nn]=(4294901760&e[Nn])+y+2),y++}function Ep(e,t){bo(4,e,t);const n=yo(null);try{t.call(e)}finally{yo(n),bo(5,e,t)}}function _p(e,t,n,r){const o=n[r]<0,u=n[r+1],v=e[o?-n[r]:n[r]];o?e[tn]>>13<e[Nn]>>16&&(3&e[tn])===t&&(e[tn]+=8192,Ep(v,u)):Ep(v,u)}const sl=-1;class uc{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function cl(e){return e!==sl}function Xo(e){return 32767&e}function du(e,t){let n=function Mp(e){return e>>16}(e),r=t;for(;n>0;)r=r[Zu],n--;return r}let cc=!0;function Hr(e){const t=cc;return cc=e,t}const Md=255,ts=5;let Id=0;const lr={};function Is(e,t){const n=xa(e,t);if(-1!==n)return n;const r=t[tt];r.firstCreatePass&&(e.injectorIndex=t.length,dc(r.data,e),dc(t,null),dc(r.blueprint,null));const o=Jn(e,t),u=e.injectorIndex;if(cl(o)){const d=Xo(o),v=du(o,t),y=v[tt].data;for(let _=0;_<8;_++)t[u+_]=v[d+_]|y[d+_]}return t[u+8]=o,u}function dc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xa(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Jn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=lh(o),null===r)return sl;if(n++,o=o[Zu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return sl}function dl(e,t,n){!function Ip(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(vs)&&(r=n[vs]),null==r&&(r=n[vs]=Id++);const o=r&Md;t.data[e+(o>>ts)]|=1<<o}(e,t,n)}function Td(e,t,n){if(n&un.Optional||void 0!==e)return e;Ha()}function ah(e,t,n,r){if(n&un.Optional&&void 0===r&&(r=null),!(n&(un.Self|un.Host))){const o=e[Li],u=Gn(void 0);try{return o?o.get(t,r,n&un.Optional):Jc(t,r,n&un.Optional)}finally{Gn(u)}}return Td(r,0,n)}function sh(e,t,n,r=un.Default,o){if(null!==e){if(2048&t[tn]&&!(r&un.Self)){const d=function Rd(e,t,n,r,o){let u=e,d=t;for(;null!==u&&null!==d&&2048&d[tn]&&!(512&d[tn]);){const v=fu(u,d,n,r|un.Self,lr);if(v!==lr)return v;let y=u.parent;if(!y){const _=d[sd];if(_){const I=_.get(n,lr,r);if(I!==lr)return I}y=lh(d),d=d[Zu]}u=y}return o}(e,t,n,r,lr);if(d!==lr)return d}const u=fu(e,t,n,r,lr);if(u!==lr)return u}return ah(t,n,r,o)}function fu(e,t,n,r,o){const u=function Ap(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(vs)?e[vs]:void 0;return"number"==typeof t?t>=0?t&Md:Ad:t}(n);if("function"==typeof u){if(!Es(t,e,r))return r&un.Host?Td(o,0,r):ah(t,n,r,o);try{let d;if(d=u(r),null!=d||r&un.Optional)return d;Ha()}finally{Cd()}}else if("number"==typeof u){let d=null,v=xa(e,t),y=sl,_=r&un.Host?t[yr][Kr]:null;for((-1===v||r&un.SkipSelf)&&(y=-1===v?Jn(e,t):t[v+8],y!==sl&&Ma(r,!1)?(d=t[tt],v=Xo(y),t=du(y,t)):v=-1);-1!==v;){const I=t[tt];if(hu(u,v,I.data)){const N=fc(v,t,n,d,r,_);if(N!==lr)return N}y=t[v+8],y!==sl&&Ma(r,t[tt].data[v+8]===_)&&hu(u,v,t)?(d=I,v=Xo(y),t=du(y,t)):v=-1}}return o}function fc(e,t,n,r,o,u){const d=t[tt],v=d.data[e+8],I=Ts(v,d,n,null==r?an(v)&&cc:r!=d&&0!=(3&v.type),o&un.Host&&u===v);return null!==I?As(t,d,I,v):lr}function Ts(e,t,n,r,o){const u=e.providerIndexes,d=t.data,v=1048575&u,y=e.directiveStart,I=u>>20,L=o?v+I:e.directiveEnd;for(let Q=r?v:v+I;Q<L;Q++){const oe=d[Q];if(Q<y&&n===oe||Q>=y&&oe.type===n)return Q}if(o){const Q=d[y];if(Q&&qo(Q)&&Q.type===n)return y}return null}function As(e,t,n,r){let o=e[n];const u=t.data;if(function es(e){return e instanceof uc}(o)){const d=o;d.resolving&&function Yc(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new je(-200,`Circular dependency in DI detected for ${e}${n}`)}(jn(u[n]));const v=Hr(d.canSeeViewProviders);d.resolving=!0;const _=d.injectImpl?Gn(d.injectImpl):null;Es(e,r,un.Default);try{o=e[n]=d.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ih(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const d=Pn(t);(n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d)}o&&(n.preOrderHooks??=[]).push(0-e,o),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}(n,u[n],t)}finally{null!==_&&Gn(_),Hr(v),d.resolving=!1,Cd()}}return o}function hu(e,t,n){return!!(n[t+(e>>ts)]&1<<e)}function Ma(e,t){return!(e&un.Self||e&un.Host&&t)}class Ui{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return sh(this._tNode,this._lView,t,Hl(r),n)}}function Ad(){return new Ui(Vr(),Be())}function ns(e){return Zs(e)?()=>{const t=ns(Bt(e));return t&&t()}:di(e)}function lh(e){const t=e[tt],n=t.type;return 2===n?t.declTNode:1===n?e[Kr]:null}const Ta="__parameters__";function pu(e,t,n){return pa(()=>{const r=function ch(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const d=new o(...u);return v.annotation=d,v;function v(y,_,I){const N=y.hasOwnProperty(Ta)?y[Ta]:Object.defineProperty(y,Ta,{value:[]})[Ta];for(;N.length<=I;)N.push(null);return(N[I]=N[I]||[]).push(d),y}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Ra(e,t){e.forEach(n=>Array.isArray(n)?Ra(n,t):t(n))}function pl(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Nd(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Od=Ul(pu("Optional"),8),Eo=Ul(pu("SkipSelf"),4);function a(e){return 128==(128&e.flags)}var s=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(s||{});const m=new Map;let b=0;const P="__ngContext__";function k(e,t){Yr(t)?(e[P]=t[Go],function D(e){m.set(e[Go],e)}(t)):e[P]=t}let Z;function se(e,t){return Z(e,t)}function ee(e){const t=e[dr];return gn(t)?t[dr]:t}function xe(e){return Ce(e[_r])}function de(e){return Ce(e[Ro])}function Ce(e){for(;null!==e&&!gn(e);)e=e[Ro];return e}function Pe(e,t,n,r,o){if(null!=r){let u,d=!1;gn(r)?u=r:Yr(r)&&(d=!0,r=r[Wn]);const v=Kn(r);0===e&&null!==n?null==o?cn(t,n,v):$t(t,n,v,o||null,!0):1===e&&null!==n?$t(t,n,v,o||null,!0):2===e?function en(e,t,n){const r=Me(e,t);r&&function z(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,v,d):3===e&&t.destroyNode(v),null!=u&&function zi(e,t,n,r,o){const u=n[ya];u!==Kn(n)&&Pe(t,e,r,u,o);for(let v=ii;v<n.length;v++){const y=n[v];yi(y[tt],y,e,t,r,u)}}(t,e,u,n,o)}}function he(e,t,n){return e.createElement(t,n)}function Re(e,t){const n=e[wa],r=n.indexOf(t);nc(t),n.splice(r,1)}function nt(e,t){if(e.length<=ii)return;const n=ii+t,r=e[n];if(r){const o=r[vn];null!==o&&o!==e&&Re(o,r),t>0&&(e[n-1][Ro]=r[Ro]);const u=Nd(e,ii+t);!function ze(e,t){yi(e,t,t[Jt],2,null,null),t[Wn]=null,t[Kr]=null}(r[tt],r);const d=u[lt];null!==d&&d.detachView(u[tt]),r[dr]=null,r[Ro]=null,r[tn]&=-129}return r}function gt(e,t){if(!(256&t[tn])){const n=t[Jt];t[Zi]&&Kl(t[Zi]),t[Bi]&&Kl(t[Bi]),n.destroyNode&&yi(e,t,n,3,null,null),function Xe(e){let t=e[_r];if(!t)return ot(e[tt],e);for(;t;){let n=null;if(Yr(t))n=t[_r];else{const r=t[ii];r&&(n=r)}if(!n){for(;t&&!t[Ro]&&t!==e;)Yr(t)&&ot(t[tt],t),t=t[dr];null===t&&(t=e),Yr(t)&&ot(t[tt],t),n=t&&t[Ro]}t=n}}(t)}}function ot(e,t){if(!(256&t[tn])){t[tn]&=-129,t[tn]|=256,function _t(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof uc)){const u=n[r+1];if(Array.isArray(u))for(let d=0;d<u.length;d+=2){const v=o[u[d]],y=u[d+1];bo(4,v,y);try{y.call(v)}finally{bo(5,v,y)}}else{bo(4,o,u);try{u.call(o)}finally{bo(5,o,u)}}}}}(e,t),function Et(e,t){const n=e.cleanup,r=t[go];if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const d=n[u+3];d>=0?r[d]():r[-d].unsubscribe(),u+=2}else n[u].call(r[n[u+1]]);null!==r&&(t[go]=null);const o=t[vo];if(null!==o){t[vo]=null;for(let u=0;u<o.length;u++)(0,o[u])()}}(e,t),1===t[tt].type&&t[Jt].destroy();const n=t[vn];if(null!==n&&gn(t[dr])){n!==t[dr]&&Re(n,t);const r=t[lt];null!==r&&r.detachView(e)}!function S(e){m.delete(e[Go])}(t)}}function yn(e,t,n){return function ln(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Wn];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:u}=e.data[r.directiveStart+o];if(u===To.None||u===To.Emulated)return null}return Hi(r,n)}}(e,t.parent,n)}function $t(e,t,n,r,o){e.insertBefore(t,n,r,o)}function cn(e,t,n){e.appendChild(t,n)}function ve(e,t,n,r,o){null!==r?$t(e,t,n,r,o):cn(e,t,n)}function Me(e,t){return e.parentNode(t)}let Ct,wi,me=function st(e,t,n){return 40&e.type?Hi(e,n):null};function xn(e,t,n,r){const o=yn(e,r,t),u=t[Jt],v=function _e(e,t,n){return me(e,t,n)}(r.parent||t[Kr],r,t);if(null!=o)if(Array.isArray(n))for(let y=0;y<n.length;y++)ve(u,o,n[y],v,!1);else ve(u,o,n,v,!1);void 0!==Ct&&Ct(u,r,t,n,o)}function zt(e,t){if(null!==t){const n=t.type;if(3&n)return Hi(t,e);if(4&n)return Zt(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return zt(e,r);{const o=e[t.index];return gn(o)?Zt(-1,o):Kn(o)}}if(32&n)return se(t,e)()||Kn(e[t.index]);{const r=Tn(e,t);return null!==r?Array.isArray(r)?r[0]:zt(ee(e[yr]),r):zt(e,t.next)}}return null}function Tn(e,t){return null!==t?e[yr][Kr].projection[t.projection]:null}function Zt(e,t){const n=ii+e+1;if(n<t.length){const r=t[n],o=r[tt].firstChild;if(null!==o)return zt(r,o)}return t[ya]}function xr(e,t,n,r,o,u,d){for(;null!=n;){const v=r[n.index],y=n.type;if(d&&0===t&&(v&&k(Kn(v),r),n.flags|=2),32!=(32&n.flags))if(8&y)xr(e,t,n.child,r,o,u,!1),Pe(t,e,o,v,u);else if(32&y){const _=se(n,r);let I;for(;I=_();)Pe(t,e,o,I,u);Pe(t,e,o,v,u)}else 16&y?ei(e,t,r,n,o,u):Pe(t,e,o,v,u);n=d?n.projectionNext:n.next}}function yi(e,t,n,r,o,u){xr(n,r,e.firstChild,t,o,u,!1)}function ei(e,t,n,r,o,u){const d=n[yr],y=d[Kr].projection[r.projection];if(Array.isArray(y))for(let _=0;_<y.length;_++)Pe(t,e,o,y[_],u);else{let _=y;const I=d[dr];a(r)&&(_.flags|=128),xr(e,t,_,I,o,u,!0)}}function os(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function bu(e,t,n){const{mergedAttrs:r,classes:o,styles:u}=n;null!==r&&zl(e,t,r),null!==o&&os(e,t,o),null!==u&&function to(e,t,n){e.setAttribute(t,"style",n)}(e,t,u)}class wt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Rt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sh=new wt("ENVIRONMENT_INITIALIZER"),Ey=new wt("INJECTOR",-1),_y=new wt("INJECTOR_DEF_TYPES");class Pv{get(t,n=fa){if(n===fa){const r=new Error(`NullInjectorError: No provider for ${qr(t)}!`);throw r.name="NullInjectorError",r}return n}}function Cw(...e){return{\u0275providers:Sy(0,e),\u0275fromNgModule:!0}}function Sy(e,...t){const n=[],r=new Set;let o;const u=d=>{n.push(d)};return Ra(t,d=>{const v=d;Yp(v,u,[],r)&&(o||=[],o.push(v))}),void 0!==o&&xy(o,u),n}function xy(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Ov(o,u=>{t(u,r)})}}function Yp(e,t,n,r){if(!(e=Bt(e)))return!1;let o=null,u=Ol(e);const d=!u&&En(e);if(u||d){if(d&&!d.standalone)return!1;o=e}else{const y=e.ngModule;if(u=Ol(y),!u)return!1;o=y}const v=r.has(o);if(d){if(v)return!1;if(r.add(o),d.dependencies){const y="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const _ of y)Yp(_,t,n,r)}}else{if(!u)return!1;{if(null!=u.imports&&!v){let _;r.add(o);try{Ra(u.imports,I=>{Yp(I,t,n,r)&&(_||=[],_.push(I))})}finally{}void 0!==_&&xy(_,t)}if(!v){const _=di(o)||(()=>new o);t({provide:o,useFactory:_,deps:In},o),t({provide:_y,useValue:o,multi:!0},o),t({provide:Sh,useValue:()=>vt(o),multi:!0},o)}const y=u.providers;if(null!=y&&!v){const _=e;Ov(y,I=>{t(I,_)})}}}return o!==e&&void 0!==e.providers}function Ov(e,t){for(let n of e)Rl(n)&&(n=n.\u0275providers),Array.isArray(n)?Ov(n,t):t(n)}const Ew=zn({provide:String,useValue:zn});function Fv(e){return null!==e&&"object"==typeof e&&Ew in e}function vl(e){return"function"==typeof e}const Lv=new wt("Set Injector scope."),Qp={},_w={};let xh;function Jp(){return void 0===xh&&(xh=new Pv),xh}class ta{}class eg extends ta{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mh(t,d=>this.processProvider(d)),this.records.set(Ey,Gd(void 0,this)),o.has("environment")&&this.records.set(ta,Gd(void 0,this));const u=this.records.get(Lv);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(_y.multi,In,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ua(this),r=Gn(void 0);try{return t()}finally{Ua(n),Gn(r)}}get(t,n=fa,r=un.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ga))return t[Ga](this);r=Hl(r);const u=Ua(this),d=Gn(void 0);try{if(!(r&un.SkipSelf)){let y=this.records.get(t);if(void 0===y){const _=function Mw(e){return"function"==typeof e||"object"==typeof e&&e instanceof wt}(t)&&fs(t);y=_&&this.injectableDefInScope(_)?Gd(ro(t),Qp):null,this.records.set(t,y)}if(null!=y)return this.hydrate(t,y)}return(r&un.Self?Jp():this.parent).get(t,n=r&un.Optional&&n===fa?null:n)}catch(v){if("NullInjectorError"===v.name){if((v[ha]=v[ha]||[]).unshift(qr(t)),u)throw v;return function nv(e,t,n,r){const o=e[ha];throw t[ap]&&o.unshift(t[ap]),e.message=function rv(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=qr(t);if(Array.isArray(t))o=t.map(qr).join(" -> ");else if("object"==typeof t){let u=[];for(let d in t)if(t.hasOwnProperty(d)){let v=t[d];u.push(d+":"+("string"==typeof v?JSON.stringify(v):qr(v)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace($l,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[ha]=null,e}(v,t,"R3InjectorError",this.source)}throw v}finally{Gn(d),Ua(u)}}resolveInjectorInitializers(){const t=Ua(this),n=Gn(void 0);try{const o=this.get(Sh.multi,In,un.Self);for(const u of o)u()}finally{Ua(t),Gn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(qr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(t){let n=vl(t=Bt(t))?t:Bt(t&&t.provide);const r=function Sw(e){return Fv(e)?Gd(void 0,e.useValue):Gd(function Ty(e,t,n){let r;if(vl(e)){const o=Bt(e);return di(o)||ro(o)}if(Fv(e))r=()=>Bt(e.useValue);else if(function Xp(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...nd(e.deps||[]));else if(function My(e){return!(!e||!e.useExisting)}(e))r=()=>vt(Bt(e.useExisting));else{const o=Bt(e&&(e.useClass||e.provide));if(!function xw(e){return!!e.deps}(e))return di(o)||ro(o);r=()=>new o(...nd(e.deps))}return r}(e),Qp)}(t);if(vl(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Gd(void 0,Qp,!0),o.factory=()=>nd(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Qp&&(n.value=_w,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Vv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Bt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ro(e){const t=fs(e),n=null!==t?t.factory:di(e);if(null!==n)return n;if(e instanceof wt)throw new je(204,!1);if(e instanceof Function)return function Bv(e){const t=e.length;if(t>0)throw function hc(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new je(204,!1);const n=function Mo(e){return e&&(e[ni]||e[Sf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new je(204,!1)}function Gd(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Mh(e,t){for(const n of e)Array.isArray(n)?Mh(n,t):n&&Rl(n)?Mh(n.\u0275providers,t):t(n)}const tg=new wt("AppId",{providedIn:"root",factory:()=>Iw}),Iw="ng",Ay=new wt("Platform Initializer"),Cc=new wt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ry=new wt("CSP nonce",{providedIn:"root",factory:()=>function Du(){if(void 0!==wi)return wi;if(typeof document<"u")return document;throw new je(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ky=(e,t,n)=>null;function Wv(e,t,n=!1){return ky(e,t,n)}class We{}class dt{}class qt{resolveComponentFactory(t){throw function Tt(e){const t=Error(`No component factory found for ${qr(e)}.`);return t.ngComponent=e,t}(t)}}let wn=(()=>{class e{static#e=this.NULL=new qt}return e})();function On(){return Ti(Vr(),Be())}function Ti(e,t){return new hr(Hi(e,t))}let hr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=On}return e})();function na(e){return e instanceof hr?e.nativeElement:e}class Ur{}let Oy=(()=>{class e{static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>null})}return e})();class Zv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const HT=new Zv("16.2.10"),Ow={};function qC(e,t=null,n=null,r){const o=WC(e,t,n,r);return o.resolveInjectorInitializers(),o}function WC(e,t=null,n=null,r,o=new Set){const u=[n||In,Cw(e)];return r=r||("object"==typeof e?void 0:qr(e)),new eg(u,t||Jp(),r||null,o)}let us=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=fa;static#t=this.NULL=new Pv;static create(n,r){if(Array.isArray(n))return qC({name:""},r,n,"");{const o=n.name??"";return qC({name:o},n.parent,n.providers,o)}}static#n=this.\u0275prov=Rt({token:e,providedIn:"any",factory:()=>vt(Ey)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Lw(e){return e.ngOriginalError}class Ec{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Lw(t);for(;n&&Lw(n);)n=Lw(n);return n||null}}function Vw(e){return t=>{setTimeout(e,void 0,t)}}const ai=class ZT extends Cr{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,u=n||(()=>null),d=r;if(t&&"object"==typeof t){const y=t;o=y.next?.bind(y),u=y.error?.bind(y),d=y.complete?.bind(y)}this.__isAsync&&(u=Vw(u),o&&(o=Vw(o)),d&&(d=Vw(d)));const v=super.subscribe({next:o,error:u,complete:d});return t instanceof Ue&&t.add(v),v}};function KC(...e){}class Ar{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ai(!1),this.onMicrotaskEmpty=new ai(!1),this.onStable=new ai(!1),this.onError=new ai(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function KT(){const e="function"==typeof Cn.requestAnimationFrame;let t=Cn[e?"requestAnimationFrame":"setTimeout"],n=Cn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function QT(e){const t=()=>{!function XT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Cn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hw(e),e.isCheckStableRunning=!0,$w(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,d,v)=>{if(function eA(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(v))return n.invokeTask(o,u,d,v);try{return YC(e),n.invokeTask(o,u,d,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),XC(e)}},onInvoke:(n,r,o,u,d,v,y)=>{try{return YC(e),n.invoke(o,u,d,v,y)}finally{e.shouldCoalesceRunChangeDetection&&t(),XC(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Hw(e),$w(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ar.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Ar.isInAngularZone())throw new je(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,d=u.scheduleEventTask("NgZoneEvent: "+o,t,YT,KC,KC);try{return u.runTask(d,n,r)}finally{u.cancelTask(d)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const YT={};function $w(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function YC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function XC(e){e._nesting--,$w(e)}class JT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ai,this.onMicrotaskEmpty=new ai,this.onStable=new ai,this.onError=new ai}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const QC=new wt("",{providedIn:"root",factory:JC});function JC(){const e=ct(Ar);let t=!0;return function $u(...e){const t=xo(e),n=function bf(e,t){return"number"==typeof Zc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?qi(r[0]):Bu(n)(Or(r,t)):Gr}(new Mt(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Mt(o=>{let u;e.runOutsideAngular(()=>{u=e.onStable.subscribe(()=>{Ar.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const d=e.onUnstable.subscribe(()=>{Ar.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}}).pipe(Df()))}function _c(e){return e instanceof Function?e():e}let Uw=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Kv(e){for(;e;){e[tn]|=64;const t=ee(e);if(ba(e)&&!t)return e;e=t}return null}const iE=new wt("",{providedIn:"root",factory:()=>!1});let Ly=null;function uE(e,t){return e[t]??dE()}function lE(e,t){const n=dE();n.producerNode?.length&&(e[t]=Ly,n.lView=e,Ly=cE())}const cA={...Hf,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Kv(e.lView)},lView:null};function cE(){return Object.create(cA)}function dE(){return Ly??=cE(),Ly}const pn={};function Ye(e,t=un.Default){const n=Be();return null===n?vt(e,t):sh(Vr(),n,Bt(e),t)}function By(e,t,n,r,o,u,d,v,y,_,I){const N=t.blueprint.slice();return N[Wn]=o,N[tn]=140|r,(null!==_||e&&2048&e[tn])&&(N[tn]|=2048),tc(N),N[dr]=N[Zu]=e,N[Er]=n,N[Wu]=d||e&&e[Wu],N[Jt]=v||e&&e[Jt],N[Li]=y||e&&e[Li]||null,N[Kr]=u,N[Go]=function w(){return b++}(),N[mo]=I,N[sd]=_,N[yr]=2==t.type?e[yr]:N,N}function sg(e,t,n,r,o){let u=e.data[t];if(null===u)u=function zw(e,t,n,r,o){const u=uu(),d=lu(),y=e.data[t]=function wA(e,t,n,r,o,u){let d=t?t.injectorIndex:-1,v=0;return function su(){return null!==pt.skipHydrationRootTNode}()&&(v|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=y),null!==u&&(d?null==u.child&&null!==y.parent&&(u.child=y):null===u.next&&(u.next=y,y.prev=u)),y}(e,t,n,r,o),function oi(){return pt.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const d=function nl(){const e=pt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===d?-1:d.injectorIndex}return Po(u,!0),u}function Yv(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function pE(e,t,n,r,o){const u=uE(t,Zi),d=function gi(){return pt.lFrame.selectedIndex}(),v=2&r;try{Sa(-1),v&&t.length>nn&&function fE(e,t,n,r){if(!r)if(3==(3&t[tn])){const u=e.preOrderCheckHooks;null!==u&&ol(t,u,n)}else{const u=e.preOrderHooks;null!==u&&ko(t,u,0,n)}Sa(n)}(e,t,nn,!1),bo(v?2:0,o);const _=v?u:null,I=fd(_);try{null!==_&&(_.dirty=!1),n(r,o)}finally{nu(_,I)}}finally{v&&null===t[Zi]&&lE(t,Zi),Sa(d),bo(v?3:1,o)}}function jw(e,t,n){if(mn(t)){const r=yo(null);try{const u=t.directiveEnd;for(let d=t.directiveStart;d<u;d++){const v=e.data[d];v.contentQueries&&v.contentQueries(1,n[d],d)}}finally{yo(r)}}}function gE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ww(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ww(e,t,n,r,o,u,d,v,y,_,I){const N=nn+r,L=N+o,Q=function hA(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:pn);return n}(N,L),oe="function"==typeof _?_():_;return Q[tt]={type:e,blueprint:Q,template:n,queries:null,viewQuery:v,declTNode:t,data:Q.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:y,consts:oe,incompleteFirstPass:!1,ssrId:I}}let vE=e=>null;function mE(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const u=e[o];null===r?yE(n,t,o,u):r.hasOwnProperty(o)&&yE(n,t,r[o],u)}return n}function yE(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function wE(e,t,n,r,o,u){for(let _=0;_<r.length;_++)dl(Is(n,t),e,r[_].type);!function RA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let _=0;_<r.length;_++){const I=r[_];I.providersResolver&&I.providersResolver(I)}let d=!1,v=!1,y=Yv(e,t,r.length,null);for(let _=0;_<r.length;_++){const I=r[_];n.mergedAttrs=jl(n.mergedAttrs,I.hostAttrs),NA(e,n,t,y,I),AA(y,I,o),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const N=I.type.prototype;!d&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),d=!0),!v&&(N.ngOnChanges||N.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),v=!0),y++}!function bA(e,t,n){const o=t.directiveEnd,u=e.data,d=t.attrs,v=[];let y=null,_=null;for(let I=t.directiveStart;I<o;I++){const N=u[I],L=n?n.get(N):null,oe=L?L.outputs:null;y=mE(N.inputs,I,y,L?L.inputs:null),_=mE(N.outputs,I,_,oe);const ce=null===y||null===d||ae(t)?null:OA(y,I,d);v.push(ce)}null!==y&&(y.hasOwnProperty("class")&&(t.flags|=8),y.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=v,t.inputs=y,t.outputs=_}(e,n,u)}function bE(e,t,n){const r=n.directiveStart,o=n.directiveEnd,u=n.index,d=function hi(){return pt.lFrame.currentDirectiveIndex}();try{Sa(u);for(let v=r;v<o;v++){const y=e.data[v],_=t[v];Dd(v),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&MA(y,_)}}finally{Sa(-1),Dd(d)}}function MA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Kw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function AA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qo(t)&&(n[""]=e)}}function NA(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=di(o.type)),d=new uc(u,qo(o),Ye);e.blueprint[r]=d,n[r]=d,function _A(e,t,n,r,o){const u=o.hostBindings;if(u){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const v=~t.index;(function SA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=v&&d.push(v),d.push(n,r,u)}}(e,t,r,Yv(e,n,o.hostVars,pn),o)}function kA(e,t,n,r,o,u){const d=u[t];if(null!==d)for(let v=0;v<d.length;)DE(r,n,d[v++],d[v++],d[v++])}function DE(e,t,n,r,o){const u=yo(null);try{const d=e.inputTransforms;null!==d&&d.hasOwnProperty(r)&&(o=d[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{yo(u)}}function OA(e,t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;if(e.hasOwnProperty(u)){null===r&&(r=[]);const d=e[u];for(let v=0;v<d.length;v+=2)if(d[v]===t){r.push(u,d[v+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function EE(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const u=n[r+1];if(-1!==u){const d=e.data[u];cu(n[r]),d.contentQueries(2,t[u],u)}}}function Vy(e,t){return e[_r]?e[Xt][Ro]=t:e[_r]=t,e[Xt]=t,t}function Xw(e,t,n){cu(0);const r=yo(null);try{t(e,n)}finally{yo(r)}}function Qw(e,t,n,r,o){for(let u=0;u<n.length;){const d=n[u++],v=n[u++];DE(e.data[d],t[d],r,v,o)}}function FA(e,t){const n=Lr(t,e),r=n[tt];!function LA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Wn];null!==o&&null===n[mo]&&(n[mo]=Wv(o,n[Li])),Jw(r,n,n[Er])}function Jw(e,t,n){_s(t);try{const r=e.viewQuery;null!==r&&Xw(1,r,n);const o=e.template;null!==o&&pE(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&EE(e,t),e.staticViewQueries&&Xw(2,e.viewQuery,n);const u=e.components;null!==u&&function BA(e,t){for(let n=0;n<t.length;n++)FA(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[tn]&=-5,xs()}}let IE=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const u=typeof Zone>"u"?null:Zone.current,d=function pp(e,t,n){const r=Object.create(fv);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const o=d=>{r.cleanupFn=d};return r.ref={notify:()=>zf(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Xi(r))return;r.hasRun=!0;const d=fd(r);try{r.cleanupFn(),r.cleanupFn=md,r.fn(o)}finally{nu(r,d)}},cleanup:()=>r.cleanupFn()},r.ref}(n,_=>{this.all.has(_)&&this.queue.set(_,u)},o);let v;this.all.add(d),d.notify();const y=()=>{d.cleanup(),v?.(),this.all.delete(d),this.queue.delete(d)};return v=r?.onDestroy(y),{destroy:y}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>new e})}return e})();function $y(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let d=0;d<t.length;d++){const v=t[d];"number"==typeof v?u=v:1==u?o=Kc(o,v):2==u&&(r=Kc(r,v+": "+t[++d]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Xv(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];null!==u&&r.push(Kn(u)),gn(u)&&TE(u,r);const d=n.type;if(8&d)Xv(e,t,n.child,r);else if(32&d){const v=se(n,t);let y;for(;y=v();)r.push(y)}else if(16&d){const v=Tn(t,n);if(Array.isArray(v))r.push(...v);else{const y=ee(t[yr]);Xv(y[tt],y,v,r,!0)}}n=o?n.projectionNext:n.next}return r}function TE(e,t){for(let n=ii;n<e.length;n++){const r=e[n],o=r[tt].firstChild;null!==o&&Xv(r[tt],r,o,t)}e[ya]!==e[Wn]&&t.push(e[ya])}function Hy(e,t,n,r=!0){const o=t[Wu],u=o.rendererFactory,d=o.afterRenderEventManager;u.begin?.(),d?.begin();try{AE(e,t,e.template,n)}catch(y){throw r&&function ME(e,t){const n=e[Li],r=n?n.get(Ec,null):null;r&&r.handleError(t)}(t,y),y}finally{u.end?.(),o.effectManager?.flush(),d?.end()}}function AE(e,t,n,r){const o=t[tn];if(256!=(256&o)){t[Wu].effectManager?.flush(),_s(t);try{tc(t),function Ko(e){return pt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&pE(e,t,n,2,r);const d=3==(3&o);if(d){const _=e.preOrderCheckHooks;null!==_&&ol(t,_,null)}else{const _=e.preOrderHooks;null!==_&&ko(t,_,0,null),xd(t,0)}if(function HA(e){for(let t=xe(e);null!==t;t=de(t)){if(!t[hp])continue;const n=t[wa];for(let r=0;r<n.length;r++){Yf(n[r])}}}(t),RE(t,2),null!==e.contentQueries&&EE(e,t),d){const _=e.contentCheckHooks;null!==_&&ol(t,_)}else{const _=e.contentHooks;null!==_&&ko(t,_,1),xd(t,1)}!function fA(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=uE(t,Bi);try{for(let o=0;o<n.length;o++){const u=n[o];if(u<0)Sa(~u);else{const d=u,v=n[++o],y=n[++o];xi(v,d),r.dirty=!1;const _=fd(r);try{y(2,t[d])}finally{nu(r,_)}}}}finally{null===t[Bi]&&lE(t,Bi),Sa(-1)}}(e,t);const v=e.components;null!==v&&PE(t,v,0);const y=e.viewQuery;if(null!==y&&Xw(2,y,r),d){const _=e.viewCheckHooks;null!==_&&ol(t,_)}else{const _=e.viewHooks;null!==_&&ko(t,_,2),xd(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[tn]&=-73,nc(t)}finally{xs()}}}function RE(e,t){for(let n=xe(e);null!==n;n=de(n))for(let r=ii;r<n.length;r++)NE(n[r],t)}function UA(e,t,n){NE(Lr(t,e),n)}function NE(e,t){if(!function el(e){return 128==(128&e[tn])}(e))return;const n=e[tt],r=e[tn];if(80&r&&0===t||1024&r||2===t)AE(n,e,n.template,e[Er]);else if(e[qa]>0){RE(e,1);const o=n.components;null!==o&&PE(e,o,1)}}function PE(e,t,n){for(let r=0;r<t.length;r++)UA(e,t[r],n)}class Qv{get rootNodes(){const t=this._lView,n=t[tt];return Xv(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Er]}set context(t){this._lView[Er]=t}get destroyed(){return 256==(256&this._lView[tn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[dr];if(gn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(nt(t,r),Nd(n,r))}this._attachedToViewContainer=!1}gt(this._lView[tt],this._lView)}onDestroy(t){!function rc(e,t){if(256==(256&e[tn]))throw new je(911,!1);null===e[vo]&&(e[vo]=[]),e[vo].push(t)}(this._lView,t)}markForCheck(){Kv(this._cdRefInjectingView||this._lView)}detach(){this._lView[tn]&=-129}reattach(){this._lView[tn]|=128}detectChanges(){Hy(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Le(e,t){yi(e,t,t[Jt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=t}}class zA extends Qv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Hy(t[tt],t,t[Er],!1)}checkNoChanges(){}get context(){return null}}class kE extends wn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=En(t);return new Jv(n,this.ngModule)}}function OE(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class GA{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Hl(r);const o=this.injector.get(t,Ow,r);return o!==Ow||n===Ow?o:this.parentInjector.get(t,n,r)}}class Jv extends dt{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=OE(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return OE(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function iv(e){return e.map(id).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let u=(o=o||this.ngModule)instanceof ta?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const d=u?new GA(t,u):t,v=d.get(Ur,null);if(null===v)throw new je(407,!1);const N={rendererFactory:v,sanitizer:d.get(Oy,null),effectManager:d.get(IE,null),afterRenderEventManager:d.get(Uw,null)},L=v.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",oe=r?function pA(e,t,n,r){const u=r.get(iE,!1)||n===To.ShadowDom,d=e.selectRootElement(t,u);return function gA(e){vE(e)}(d),d}(L,r,this.componentDef.encapsulation,d):he(L,Q,function jA(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Q)),Ze=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ee=null;null!==oe&&(Ee=Wv(oe,d,!0));const ft=Ww(0,null,null,1,0,null,null,null,null,null,null),Lt=By(null,ft,null,Ze,null,null,N,L,d,null,Ee);let ye,Gt;_s(Lt);try{const Vn=this.componentDef;let io,sa=null;Vn.findHostDirectiveDefs?(io=[],sa=new Map,Vn.findHostDirectiveDefs(Vn,io,sa),io.push(Vn)):io=[Vn];const ua=function WA(e,t){const n=e[tt],r=nn;return e[r]=t,sg(n,r,2,"#host",null)}(Lt,oe),Hs=function ZA(e,t,n,r,o,u,d){const v=o[tt];!function KA(e,t,n,r){for(const o of e)t.mergedAttrs=jl(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&($y(t,t.mergedAttrs,!0),null!==n&&bu(r,n,t))}(r,e,t,d);let y=null;null!==t&&(y=Wv(t,o[Li]));const _=u.rendererFactory.createRenderer(t,n);let I=16;n.signals?I=4096:n.onPush&&(I=64);const N=By(o,gE(n),null,I,o[e.index],e,u,_,null,null,y);return v.firstCreatePass&&Kw(v,e,r.length-1),Vy(o,N),o[e.index]=N}(ua,oe,Vn,io,Lt,N,L);Gt=function ec(e,t){return e.data[t]}(ft,nn),oe&&function XA(e,t,n,r){if(r)zl(e,n,["ng-version",HT.full]);else{const{attrs:o,classes:u}=function Qs(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!ut(o))break;o=u}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&zl(e,n,o),u&&u.length>0&&os(e,n,u.join(" "))}}(L,Vn,oe,r),void 0!==n&&function QA(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const u=n[o];r.push(null!=u?Array.from(u):null)}}(Gt,this.ngContentSelectors,n),ye=function YA(e,t,n,r,o,u){const d=Vr(),v=o[tt],y=Hi(d,o);wE(v,o,d,n,null,r);for(let I=0;I<n.length;I++)k(As(o,v,d.directiveStart+I,d),o);bE(v,o,d),y&&k(y,o);const _=As(o,v,d.directiveStart+d.componentOffset,d);if(e[Er]=o[Er]=_,null!==u)for(const I of u)I(_,t);return jw(v,d,e),_}(Hs,Vn,io,sa,Lt,[JA]),Jw(ft,Lt,null)}finally{xs()}return new qA(this.componentType,ye,Ti(Gt,Lt),Lt,Gt)}}class qA extends We{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zA(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const u=this._rootLView;Qw(u[tt],u,o,t,n),this.previousInputValues.set(t,n),Kv(Lr(this._tNode.index,u))}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function JA(){const e=Vr();Sd(Be()[tt],e)}function ab(e,t,n,r,o){const d=o?"class":"style";Qw(e,n,t.inputs[d],d,r)}function sb(e,t,n,r){const o=Be(),u=Sn(),d=nn+e,v=o[Jt],y=u.firstCreatePass?function kR(e,t,n,r,o,u){const d=t.consts,y=sg(t,e,2,r,Ya(d,o));return function Zw(e,t,n,r){if(Qi()){const o=null===r?null:{"":-1},u=function IA(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let u=0;u<n.length;u++){const d=n[u];if(Bn(t,d.selectors,!1))if(r||(r=[]),qo(d))if(null!==d.findHostDirectiveDefs){const v=[];o=o||new Map,d.findHostDirectiveDefs(d,v,o),r.unshift(...v,d),Kw(e,t,v.length)}else r.unshift(d),Kw(e,t,0);else o=o||new Map,d.findHostDirectiveDefs?.(d,r,o),r.push(d)}return null===r?null:[r,o]}(e,n);let d,v;null===u?d=v=null:[d,v]=u,null!==d&&wE(e,t,n,d,o,v),o&&function TA(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new je(-301,!1);r.push(t[o],u)}}}(n,r,o)}n.mergedAttrs=jl(n.mergedAttrs,n.attrs)}(t,n,y,Ya(d,u)),null!==y.attrs&&$y(y,y.attrs,!1),null!==y.mergedAttrs&&$y(y,y.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,y),y}(d,u,o,t,n,r):u.data[d],_=n1(u,o,y,v,t,e);o[d]=_;const I=function ld(e){return 1==(1&e.flags)}(y);return Po(y,!0),bu(v,_,y),32!=(32&y.flags)&&function Ms(){return rh}()&&xn(u,o,_,y),0===function bp(){return pt.lFrame.elementDepthCount}()&&k(_,o),function sr(){pt.lFrame.elementDepthCount++}(),I&&(function Gw(e,t,n){Qi()&&(function xA(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;an(n)&&function PA(e,t,n){const r=Hi(t,e),o=gE(n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const v=Vy(e,By(e,o,null,d,r,t,null,e[Wu].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=v}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Is(n,t),k(r,t);const d=n.initialInputs;for(let v=o;v<u;v++){const y=e.data[v],_=As(t,e,v,n);k(_,t),null!==d&&kA(0,v-o,_,y,0,d),qo(y)&&(Lr(n.index,t)[Er]=As(t,e,v,n))}}(e,t,n,Hi(n,t)),64==(64&n.flags)&&bE(e,t,n))}(u,o,y),jw(u,y,o)),null!==r&&function qw(e,t,n=Hi){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const d=r[u+1],v=-1===d?n(t,e):e[d];e[o++]=v}}}(o,y),sb}function ub(){let e=Vr();lu()?function Do(){pt.lFrame.isParent=!1}():(e=e.parent,Po(e,!1));const t=e;(function Xa(e){return pt.skipHydrationRootTNode===e})(t)&&function Ji(){pt.skipHydrationRootTNode=null}(),function bd(){pt.lFrame.elementDepthCount--}();const n=Sn();return n.firstCreatePass&&(Sd(n,e),mn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function lc(e){return 0!=(8&e.flags)}(t)&&ab(n,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ll(e){return 0!=(16&e.flags)}(t)&&ab(n,t,Be(),t.stylesWithoutHost,!1),ub}function im(e,t,n,r){return sb(e,t,n,r),ub(),im}let n1=(e,t,n,r,o,u)=>(function Ja(e){rh=e}(!0),he(r,o,function Cp(){return pt.lFrame.currentNamespace}()));function om(e){return!!e&&"function"==typeof e.then}function o1(e){return!!e&&"function"==typeof e.subscribe}const wg="en-US";let n_=wg;class Ph{}class I_{}class Eb extends Ph{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kE(this);const o=_i(t);this._bootstrapComponents=_c(o.bootstrap),this._r3Injector=WC(t,n,[{provide:Ph,useValue:this},{provide:wn,useValue:this.componentFactoryResolver},...r],qr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _b extends I_{constructor(t){super(),this.moduleType=t}create(t){return new Eb(this.moduleType,t,[])}}class T_ extends Ph{constructor(t){super(),this.componentFactoryResolver=new kE(this),this.instance=null;const n=new eg([...t.providers,{provide:Ph,useValue:this},{provide:wn,useValue:this.componentFactoryResolver}],t.parent||Jp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Sb(e,t,n=null){return new T_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let BP=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Sy(0,n.type),o=r.length>0?Sb([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Rt({token:e,providedIn:"environment",factory:()=>new e(vt(ta))})}return e})();function A_(e){e.getStandaloneInjector=t=>t.get(BP).getOrCreateStandaloneInjector(e)}function ck(){return this._results[Symbol.iterator]()}class Mb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ai)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Mb.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=ck)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function Fo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Jr(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fk(e,t,n,r=!0){const o=t[tt];if(function It(e,t,n,r){const o=ii+r,u=n.length;r>0&&(n[o-1][Ro]=t),r<u-ii?(t[Ro]=n[o],pl(n,ii+r,t)):(n.push(t),t[Ro]=null),t[dr]=n;const d=t[vn];null!==d&&n!==d&&function Ft(e,t){const n=e[wa];t[yr]!==t[dr][dr][yr]&&(e[hp]=!0),null===n?e[wa]=[t]:n.push(t)}(d,t);const v=t[lt];null!==v&&v.insertView(e),t[tn]|=128}(o,t,e,n),r){const u=Zt(n,e),d=t[Jt],v=Me(d,e[ya]);null!==v&&function Ge(e,t,n,r,o,u){r[Wn]=o,r[Kr]=t,yi(e,r,n,1,o,u)}(o,e[Kr],d,t,v,u)}}let xc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=gk}return e})();const hk=xc,pk=class extends hk{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function dk(e,t,n,r){const o=t.tView,v=By(e,o,n,4096&e[tn]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);v[vn]=e[t.index];const _=e[lt];return null!==_&&(v[lt]=_.createEmbeddedView(o)),Jw(o,v,n),v}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Qv(o)}};function gk(){return t0(Vr(),Be())}function t0(e,t){return 4&e.type?new pk(t,e,Ti(e,t)):null}let xu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Dk}return e})();function Dk(){return Z_(Vr(),Be())}const Ck=xu,q_=class extends Ck{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ti(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const t=Jn(this._hostTNode,this._hostLView);if(cl(t)){const n=du(t,this._hostLView),r=Xo(t);return new Ui(n[tt].data[r+8],n)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=W_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(t,n,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const v=t.createEmbeddedViewImpl(n||{},u,null);return this.insertImpl(v,o,false),v}createComponent(t,n,r,o,u){const d=t&&!function Aa(e){return"function"==typeof e}(t);let v;if(d)v=n;else{const ce=n||{};v=ce.index,r=ce.injector,o=ce.projectableNodes,u=ce.environmentInjector||ce.ngModuleRef}const y=d?t:new Jv(En(t)),_=r||this.parentInjector;if(!u&&null==y.ngModule){const Se=(d?_:this.parentInjector).get(ta,null);Se&&(u=Se)}En(y.componentType??{});const Q=y.create(_,o,null,u);return this.insertImpl(Q.hostView,v,false),Q}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView;if(function fi(e){return gn(e[dr])}(o)){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const _=o[dr],I=new q_(_,_[Kr],_[dr]);I.detach(I.indexOf(t))}}const d=this._adjustIndex(n),v=this._lContainer;return fk(v,o,d,!r),t.attachToViewContainerRef(),pl(Ib(v),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=W_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=nt(this._lContainer,n);r&&(Nd(Ib(this._lContainer),n),gt(r[tt],r))}detach(t){const n=this._adjustIndex(t,-1),r=nt(this._lContainer,n);return r&&null!=Nd(Ib(this._lContainer),n)?new Qv(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function W_(e){return e[8]}function Ib(e){return e[8]||(e[8]=[])}function Z_(e,t){let n;const r=t[e.index];return gn(r)?n=r:(n=function CE(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,Vy(t,n)),K_(n,t,e,r),new q_(n,e,t)}let K_=function Y_(e,t,n,r){if(e[ya])return;let o;o=8&n.type?Kn(r):function Ek(e,t){const n=e[Jt],r=n.createComment(""),o=Hi(t,e);return $t(n,Me(n,o),r,function De(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[ya]=o};class Tb{constructor(t){this.queryList=t,this.matches=null}clone(){return new Tb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ab{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const d=n.getByIndex(u);o.push(this.queries[d.indexInDeclarationView].clone())}return new Ab(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==rS(t,n).matches&&this.queries[n].setDirty()}}class X_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Rb{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new Rb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Nb{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Nb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,xk(n,u)),this.matchTNodeWithReadOption(t,n,Ts(n,t,u,!1,!1))}else r===xc?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ts(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===hr||o===xu||o===xc&&4&n.type)this.addMatch(n.index,-2);else{const u=Ts(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function xk(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Ik(e,t,n,r){return-1===n?function Mk(e,t){return 11&e.type?Ti(e,t):4&e.type?t0(e,t):null}(t,e):-2===n?function Tk(e,t,n){return n===hr?Ti(t,e):n===xc?t0(t,e):n===xu?Z_(t,e):void 0}(e,t,r):As(e,e[tt],n,t)}function Q_(e,t,n,r){const o=t[lt].queries[r];if(null===o.matches){const u=e.data,d=n.matches,v=[];for(let y=0;y<d.length;y+=2){const _=d[y];v.push(_<0?null:Ik(t,u[_],d[y+1],n.metadata.read))}o.matches=v}return o.matches}function Pb(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const d=Q_(e,t,o,n);for(let v=0;v<u.length;v+=2){const y=u[v];if(y>0)r.push(d[v/2]);else{const _=u[v+1],I=t[-y];for(let N=ii;N<I.length;N++){const L=I[N];L[vn]===L[dr]&&Pb(L[tt],L,_,r)}if(null!==I[wa]){const N=I[wa];for(let L=0;L<N.length;L++){const Q=N[L];Pb(Q[tt],Q,_,r)}}}}}return r}function kb(e){const t=Be(),n=Sn(),r=pi();cu(r+1);const o=rS(n,r);if(e.dirty&&function Kf(e){return 4==(4&e[tn])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Pb(n,t,r,[]):Q_(n,t,o,r);e.reset(u,na),e.notifyOnChanges()}return!0}return!1}function J_(e,t,n){const r=Sn();r.firstCreatePass&&(function nS(e,t,n){null===e.queries&&(e.queries=new Rb),e.queries.track(new Nb(t,n))}(r,new X_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function tS(e,t,n){const r=new Mb(4==(4&n));(function yA(e,t,n,r){const o=function _E(e){return e[go]||(e[go]=[])}(t);o.push(n),e.firstCreatePass&&function SE(e){return e.cleanup||(e.cleanup=[])}(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[lt]&&(t[lt]=new Ab),t[lt].queries.push(new Tb(r))}(r,Be(),t)}function rS(e,t){return e.queries.getByIndex(t)}const Hb=new wt("Application Initializer");let Ub=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ct(Hb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const u=o();if(om(u))n.push(u);else if(o1(u)){const d=new Promise((v,y)=>{u.subscribe({complete:v,error:y})});n.push(d)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bS=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Mc=new wt("LocaleId",{providedIn:"root",factory:()=>ct(Mc,un.Optional|un.SkipSelf)||function Jk(){return typeof $localize<"u"&&$localize.locale||wg}()});let o0=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wi(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class nO{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let DS=(()=>{class e{compileModuleSync(n){return new _b(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),u=_c(_i(n).declarations).reduce((d,v)=>{const y=En(v);return y&&d.push(new Jv(y)),d},[]);return new nO(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const SS=new wt(""),s0=new wt("");let Wb,Gb=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wb||(function CO(e){Wb=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ar.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(vt(Ar),vt(qb),vt(s0))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})(),qb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Wb?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Kd=null;const xS=new wt("AllowMultipleToken"),Zb=new wt("PlatformDestroyListeners"),Kb=new wt("appBootstrapListener");class IS{constructor(t,n){this.name=t,this.token=n}}function AS(e,t,n=[]){const r=`Platform: ${t}`,o=new wt(r);return(u=[])=>{let d=Yb();if(!d||d.injector.get(xS,!1)){const v=[...n,...u,{provide:o,useValue:!0}];e?e(v):function SO(e){if(Kd&&!Kd.get(xS,!1))throw new je(400,!1);(function MS(){!function pd(e){Gf=e}(()=>{throw new je(600,!1)})})(),Kd=e;const t=e.get(NS);(function TS(e){e.get(Ay,null)?.forEach(n=>n())})(e)}(function RS(e=[],t){return us.create({name:t,providers:[{provide:Lv,useValue:"platform"},{provide:Zb,useValue:new Set([()=>Kd=null])},...e]})}(v,r))}return function MO(e){const t=Yb();if(!t)throw new je(401,!1);return t}()}}function Yb(){return Kd?.get(NS)??null}let NS=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function IO(e="zone.js",t){return"noop"===e?new JT:"zone.js"===e?new Ar(t):e}(r?.ngZone,function PS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function LP(e,t,n){return new Eb(e,t,n)}(n.moduleType,this.injector,function BS(e){return[{provide:Ar,useFactory:e},{provide:Sh,multi:!0,useFactory:()=>{const t=ct(AO,{optional:!0});return()=>t.initialize()}},{provide:LS,useFactory:TO},{provide:QC,useFactory:JC}]}(()=>o)),d=u.injector.get(Ec,null);return o.runOutsideAngular(()=>{const v=o.onError.subscribe({next:y=>{d.handleError(y)}});u.onDestroy(()=>{u0(this._modules,u),v.unsubscribe()})}),function kS(e,t,n){try{const r=n();return om(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(d,o,()=>{const v=u.injector.get(Ub);return v.runInitializers(),v.donePromise.then(()=>(function r_(e){Pi(e,"Expected localeId to be defined"),"string"==typeof e&&(n_=e.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Mc,wg)||wg),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const o=OS({},r);return function EO(e,t,n){const r=new _b(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(Cg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new je(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Zb,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(vt(us))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function OS(e,t){return Array.isArray(t)?t.reduce(OS,e):{...e,...t}}let Cg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ct(LS),this.zoneIsStable=ct(QC),this.componentTypes=[],this.components=[],this.isStable=ct(o0).hasPendingTasks.pipe(co(n=>n?Ht(!1):this.zoneIsStable),function Qg(e,t=Je){return e=e??ep,or((n,r)=>{let o,u=!0;n.subscribe(vr(r,d=>{const v=t(d);(u||!e(o,v))&&(u=!1,o=v,r.next(d))}))})}(),Df()),this._injector=ct(ta)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof dt;if(!this._injector.get(Ub).done)throw!o&&function ma(e){const t=En(e)||mr(e)||ri(e);return null!==t&&t.standalone}(n),new je(405,!1);let d;d=o?n:this._injector.get(wn).resolveComponentFactory(n),this.componentTypes.push(d.componentType);const v=function _O(e){return e.isBoundToModule}(d)?void 0:this._injector.get(Ph),_=d.create(us.NULL,[],r||d.selector,v),I=_.location.nativeElement,N=_.injector.get(SS,null);return N?.registerApplication(I),_.onDestroy(()=>{this.detachView(_.hostView),u0(this.components,_),N?.unregisterApplication(I)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;u0(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Kb,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>u0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function u0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const LS=new wt("",{providedIn:"root",factory:()=>ct(Ec).handleError.bind(void 0)});function TO(){const e=ct(Ar),t=ct(Ec);return n=>e.runOutsideAngular(()=>t.handleError(n))}let AO=(()=>{class e{constructor(){this.zone=ct(Ar),this.applicationRef=ct(Cg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let l0=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=NO}return e})();function NO(e){return function PO(e,t,n){if(an(e)&&!n){const r=Lr(e.index,t);return new Qv(r,r)}return 47&e.type?new Qv(t[yr],t):null}(Vr(),Be(),16==(16&e))}const qO=AS(null,"core",[]);let WO=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(vt(Cg))};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({})}return e})(),nD=null;function Yd(){return nD}class s2{}const cs=new wt("DocumentToken");let rD=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(l2)},providedIn:"platform"})}return e})();const u2=new wt("Location Initialized");let l2=(()=>{class e extends rD{constructor(){super(),this._doc=ct(cs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yd().getBaseHref(this._doc)}onPopState(n){const r=Yd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Yd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function iD(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function nx(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ic(e){return e&&"?"!==e[0]?"?"+e:e}let Oh=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(ix)},providedIn:"root"})}return e})();const rx=new wt("appBaseHref");let ix=(()=>{class e extends Oh{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ct(cs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return iD(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ic(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,u){const d=this.prepareExternalUrl(o+Ic(u));this._platformLocation.pushState(n,r,d)}replaceState(n,r,o,u){const d=this.prepareExternalUrl(o+Ic(u));this._platformLocation.replaceState(n,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(vt(rD),vt(rx,8))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),c2=(()=>{class e extends Oh{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=iD(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,u){let d=this.prepareExternalUrl(o+Ic(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(n,r,d)}replaceState(n,r,o,u){let d=this.prepareExternalUrl(o+Ic(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(vt(rD),vt(rx,8))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})(),oD=(()=>{class e{constructor(n){this._subject=new ai,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function h2(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(nx(ox(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ic(r))}normalize(n){return e.stripTrailingSlash(function f2(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,ox(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ic(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ic(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static#e=this.normalizeQueryParams=Ic;static#t=this.joinWithSlash=iD;static#n=this.stripTrailingSlash=nx;static#r=this.\u0275fac=function(r){return new(r||e)(vt(Oh))};static#i=this.\u0275prov=Rt({token:e,factory:function(){return function d2(){return new oD(vt(Oh))}()},providedIn:"root"})}return e})();function ox(e){return e.replace(/\/index.html$/,"")}function px(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(u)}return null}let Dx=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({})}return e})();function Ex(e){return"server"===e}let AF=(()=>{class e{static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>new RF(vt(cs),window)})}return e})();class RF{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function NF(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class _x{}class tL extends s2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class CD extends tL{static makeCurrent(){!function a2(e){nD||(nD=e)}(new CD)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function nL(){return bm=bm||document.querySelector("base"),bm?bm.getAttribute("href"):null}();return null==n?null:function rL(e){x0=x0||document.createElement("a"),x0.setAttribute("href",e);const t=x0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){bm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return px(document.cookie,t)}}let x0,bm=null,oL=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const ED=new wt("EventManagerPlugins");let Tx=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(u=>u.supports(n)),!r)throw new je(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(vt(ED),vt(Ar))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();class Ax{constructor(t){this._doc=t}}const _D="ng-app-id";let Rx=(()=>{class e{constructor(n,r,o,u={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ex(u),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${_D}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const u=o.get(n);return u.usage+=r,u.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===n)return o.delete(r),u.removeAttribute(_D),u;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(_D,this.appId),d}}addStyleToHost(n,r){const o=this.getStyleElement(n,r);n.appendChild(o);const u=this.styleRef,d=u.get(r)?.elements;d?d.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(vt(cs),vt(tg),vt(Ry,8),vt(Cc))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const SD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xD=/%COMP%/g,lL=new wt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Px(e,t){return t.map(n=>n.replace(xD,e))}let kx=(()=>{class e{constructor(n,r,o,u,d,v,y,_=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=d,this.platformId=v,this.ngZone=y,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=Ex(v),this.defaultRenderer=new MD(n,d,y,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===To.ShadowDom&&(r={...r,encapsulation:To.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof Fx?o.applyToHost(n):o instanceof ID&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const d=this.doc,v=this.ngZone,y=this.eventManager,_=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(r.encapsulation){case To.Emulated:u=new Fx(y,_,r,this.appId,I,d,v,N);break;case To.ShadowDom:return new hL(y,_,n,r,d,v,this.nonce,N);default:u=new ID(y,_,r,I,d,v,N)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(vt(Tx),vt(Rx),vt(tg),vt(lL),vt(cs),vt(Cc),vt(Ar),vt(Ry))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();class MD{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(SD[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Ox(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Ox(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new je(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const u=SD[o];u?t.setAttributeNS(u,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=SD[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(s.DashCase|s.Important)?t.style.setProperty(n,r,o&s.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&s.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Yd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Ox(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class hL extends MD{constructor(t,n,r,o,u,d,v,y){super(t,u,d,y),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Px(o.id,o.styles);for(const I of _){const N=document.createElement("style");v&&N.setAttribute("nonce",v),N.textContent=I,this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ID extends MD{constructor(t,n,r,o,u,d,v,y){super(t,u,d,v),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=y?Px(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Fx extends ID{constructor(t,n,r,o,u,d,v,y){const _=o+"-"+r.id;super(t,n,r,u,d,v,y,_),this.contentAttr=function cL(e){return"_ngcontent-%COMP%".replace(xD,e)}(_),this.hostAttr=function dL(e){return"_nghost-%COMP%".replace(xD,e)}(_)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let pL=(()=>{class e extends Ax{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||e)(vt(cs))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const Lx=["alt","control","meta","shift"],gL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let mL=(()=>{class e extends Ax{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const u=e.parseEventName(r),d=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yd().onAndCancel(n,u.domEventName,d))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let d="",v=r.indexOf("code");if(v>-1&&(r.splice(v,1),d="code."),Lx.forEach(_=>{const I=r.indexOf(_);I>-1&&(r.splice(I,1),d+=_+".")}),d+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=o,y.fullKey=d,y}static matchEventFullKeyCode(n,r){let o=gL[n.key]||n.key,u="";return r.indexOf("code.")>-1&&(o=n.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Lx.forEach(d=>{d!==o&&(0,vL[d])(n)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(n,r,o){return u=>{e.matchEventFullKeyCode(u,n)&&o.runGuarded(()=>r(u))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(vt(cs))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const Vx=[{provide:Cc,useValue:"browser"},{provide:Ay,useValue:function yL(){CD.makeCurrent()},multi:!0},{provide:cs,useFactory:function bL(){return function Jo(e){wi=e}(document),document},deps:[]}],DL=AS(qO,"browser",Vx),CL=new wt(""),$x=[{provide:s0,useClass:class iL{addToWindow(t){Cn.getAngularTestability=(r,o=!0)=>{const u=t.findTestabilityInTree(r,o);if(null==u)throw new je(5103,!1);return u},Cn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Cn.getAllAngularRootElements=()=>t.getAllRootElements(),Cn.frameworkStabilizers||(Cn.frameworkStabilizers=[]),Cn.frameworkStabilizers.push(r=>{const o=Cn.getAllAngularTestabilities();let u=o.length,d=!1;const v=function(y){d=d||y,u--,0==u&&r(d)};o.forEach(y=>{y.whenStable(v)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Yd().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:SS,useClass:Gb,deps:[Ar,qb,s0]},{provide:Gb,useClass:Gb,deps:[Ar,qb,s0]}],Hx=[{provide:Lv,useValue:"root"},{provide:Ec,useFactory:function wL(){return new Ec},deps:[]},{provide:ED,useClass:pL,multi:!0,deps:[cs,Ar,Cc]},{provide:ED,useClass:mL,multi:!0,deps:[cs]},kx,Rx,Tx,{provide:Ur,useExisting:kx},{provide:_x,useClass:oL,deps:[]},[]];let EL=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:tg,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(vt(CL,12))};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({providers:[...Hx,...$x],imports:[Dx,WO]})}return e})(),Ux=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(vt(cs))};static#t=this.\u0275prov=Rt({token:e,factory:function(r){let o=null;return o=r?new r:function SL(){return new Ux(vt(cs))}(),o},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:RL}=Array,{getPrototypeOf:NL,prototype:PL,keys:kL}=Object;function qx(e){if(1===e.length){const t=e[0];if(RL(t))return{args:t,keys:null};if(function OL(e){return e&&"object"==typeof e&&NL(e)===PL}(t)){const n=kL(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:FL}=Array;function Wx(e){return rn(t=>function LL(e,t){return FL(t)?e(...t):e(t)}(e,t))}function Zx(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function AD(...e){const t=xo(e),n=kr(e),{args:r,keys:o}=qx(e);if(0===r.length)return Or([],t);const u=new Mt(function BL(e,t,n=Je){return r=>{Kx(t,()=>{const{length:o}=e,u=new Array(o);let d=o,v=o;for(let y=0;y<o;y++)Kx(t,()=>{const _=Or(e[y],t);let I=!1;_.subscribe(vr(r,N=>{u[y]=N,I||(I=!0,v--),v||r.next(n(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,o?d=>Zx(o,d):Je));return n?u.pipe(Wx(n)):u}function Kx(e,t,n){e?Hn(n,e,t):t()}const M0=B(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function RD(...e){return function VL(){return Bu(1)}()(Or(e,xo(e)))}function Yx(e){return new Mt(t=>{qi(e()).subscribe(t)})}function Dm(e,t){const n=le(e)?e:()=>e,r=o=>o.error(n());return new Mt(t?o=>t.schedule(r,0,o):r)}function ND(){return or((e,t)=>{let n=null;e._refCount++;const r=vr(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,u=n;n=null,o&&(!u||o===u)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class Xx extends Mt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ue;const n=this.getSubject();t.add(this.source.subscribe(vr(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ue.EMPTY)}return t}refCount(){return ND()(this)}}function Sg(e){return e<=0?()=>Gr:or((t,n)=>{let r=0;t.subscribe(vr(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Rc(e,t){return or((n,r)=>{let o=0;n.subscribe(vr(r,u=>e.call(t,u,o++)&&r.next(u)))})}function I0(e){return or((t,n)=>{let r=!1;t.subscribe(vr(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Qx(e=HL){return or((t,n)=>{let r=!1;t.subscribe(vr(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function HL(){return new M0}function Fh(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Rc((o,u)=>e(o,u,r)):Je,Sg(1),n?I0(t):Qx(()=>new M0))}function xg(e,t){return le(t)?Kt(e,t,1):Kt(e,1)}function _o(e,t,n){const r=le(e)||t||n?{next:e,error:t,complete:n}:e;return r?or((o,u)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let v=!0;o.subscribe(vr(u,y=>{var _;null===(_=r.next)||void 0===_||_.call(r,y),u.next(y)},()=>{var y;v=!1,null===(y=r.complete)||void 0===y||y.call(r),u.complete()},y=>{var _;v=!1,null===(_=r.error)||void 0===_||_.call(r,y),u.error(y)},()=>{var y,_;v&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(_=r.finalize)||void 0===_||_.call(r)}))}):Je}function Lh(e){return or((t,n)=>{let u,r=null,o=!1;r=t.subscribe(vr(n,void 0,void 0,d=>{u=qi(e(d,Lh(e)(t))),r?(r.unsubscribe(),r=null,u.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(n))})}function PD(e){return e<=0?()=>Gr:or((t,n)=>{let r=[];t.subscribe(vr(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Cm(e){return or((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const bn="primary",Em=Symbol("RouteTitle");class WL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Mg(e){return new WL(e)}function ZL(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],v=e[u];if(d.startsWith(":"))o[d.substring(1)]=v;else if(d!==v.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Cl(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!Jx(e[o],t[o]))return!1;return!0}function Jx(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,u)=>r[u]===o)}return e===t}function eM(e){return e.length>0?e[e.length-1]:null}function Qd(e){return function AL(e){return!!e&&(e instanceof Mt||le(e.lift)&&le(e.subscribe))}(e)?e:om(e)?Or(Promise.resolve(e)):Ht(e)}const YL={exact:function rM(e,t,n){if(!Bh(e.segments,t.segments)||!T0(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!rM(e.children[r],t.children[r],n))return!1;return!0},subset:iM},tM={exact:function XL(e,t){return Cl(e,t)},subset:function QL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Jx(e[n],t[n]))},ignored:()=>!0};function nM(e,t,n){return YL[n.paths](e.root,t.root,n.matrixParams)&&tM[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function iM(e,t,n){return oM(e,t,t.segments,n)}function oM(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Bh(o,n)||t.hasChildren()||!T0(o,n,r))}if(e.segments.length===n.length){if(!Bh(e.segments,n)||!T0(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!iM(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!!(Bh(e.segments,o)&&T0(e.segments,o,r)&&e.children[bn])&&oM(e.children[bn],t,u,r)}}function T0(e,t,n){return t.every((r,o)=>tM[n](e[o].parameters,r.parameters))}class Ig{constructor(t=new gr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mg(this.queryParams)),this._queryParamMap}toString(){return tB.serialize(this)}}class gr{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return A0(this)}}class _m{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Mg(this.parameters)),this._parameterMap}toString(){return uM(this)}}function Bh(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Sm=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return new kD},providedIn:"root"})}return e})();class kD{parse(t){const n=new fB(t);return new Ig(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${xm(t.root,!0)}`,r=function iB(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${R0(n)}=${R0(o)}`).join("&"):`${R0(n)}=${R0(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function nB(e){return encodeURI(e)}(t.fragment)}`:""}`}}const tB=new kD;function A0(e){return e.segments.map(t=>uM(t)).join("/")}function xm(e,t){if(!e.hasChildren())return A0(e);if(t){const n=e.children[bn]?xm(e.children[bn],!1):"",r=[];return Object.entries(e.children).forEach(([o,u])=>{o!==bn&&r.push(`${o}:${xm(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function eB(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===bn&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==bn&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===bn?[xm(e.children[bn],!1)]:[`${o}:${xm(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[bn]?`${A0(e)}/${n[0]}`:`${A0(e)}/(${n.join("//")})`}}function aM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function R0(e){return aM(e).replace(/%3B/gi,";")}function OD(e){return aM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function N0(e){return decodeURIComponent(e)}function sM(e){return N0(e.replace(/\+/g,"%20"))}function uM(e){return`${OD(e.path)}${function rB(e){return Object.keys(e).map(t=>`;${OD(t)}=${OD(e[t])}`).join("")}(e.parameters)}`}const oB=/^[^\/()?;#]+/;function FD(e){const t=e.match(oB);return t?t[0]:""}const aB=/^[^\/()?;=#]+/,uB=/^[^=?&#]+/,cB=/^[^&#]+/;class fB{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gr([],{}):new gr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[bn]=new gr(t,n)),r}parseSegment(){const t=FD(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new je(4009,!1);return this.capture(t),new _m(N0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function sB(e){const t=e.match(aB);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=FD(this.remaining);o&&(r=o,this.capture(r))}t[N0(n)]=N0(r)}parseQueryParam(t){const n=function lB(e){const t=e.match(uB);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const d=function dB(e){const t=e.match(cB);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=sM(n),u=sM(r);if(t.hasOwnProperty(o)){let d=t[o];Array.isArray(d)||(d=[d],t[o]=d),d.push(u)}else t[o]=u}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=FD(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new je(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=bn);const d=this.parseChildren();n[u]=1===Object.keys(d).length?d[bn]:new gr([],d),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new je(4011,!1)}}function lM(e){return e.segments.length>0?new gr([],{[bn]:e}):e}function cM(e){const t={};for(const r of Object.keys(e.children)){const u=cM(e.children[r]);if(r===bn&&0===u.segments.length&&u.hasChildren())for(const[d,v]of Object.entries(u.children))t[d]=v;else(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function hB(e){if(1===e.numberOfChildren&&e.children[bn]){const t=e.children[bn];return new gr(e.segments.concat(t.segments),t.children)}return e}(new gr(e.segments,t))}function Vh(e){return e instanceof Ig}function dM(e){let t;const o=lM(function n(u){const d={};for(const y of u.children){const _=n(y);d[y.outlet]=_}const v=new gr(u.url,d);return u===e&&(t=v),v}(e.root));return t??o}function fM(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return LD(o,o,o,n,r);const u=function gB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new pM(!0,0,e);let t=0,n=!1;const r=e.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const v={};return Object.entries(u.outlets).forEach(([y,_])=>{v[y]="string"==typeof _?_.split("/"):_}),[...o,{outlets:v}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((v,y)=>{0==y&&"."===v||(0==y&&""===v?n=!0:".."===v?t++:""!=v&&o.push(v))}),o):[...o,u]},[]);return new pM(n,t,r)}(t);if(u.toRoot())return LD(o,o,new gr([],{}),n,r);const d=function vB(e,t,n){if(e.isAbsolute)return new k0(t,!0,0);if(!n)return new k0(t,!1,NaN);if(null===n.parent)return new k0(n,!0,0);const r=P0(e.commands[0])?0:1;return function mB(e,t,n){let r=e,o=t,u=n;for(;u>o;){if(u-=o,r=r.parent,!r)throw new je(4005,!1);o=r.segments.length}return new k0(r,!1,o-u)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(u,o,e),v=d.processChildren?Im(d.segmentGroup,d.index,u.commands):gM(d.segmentGroup,d.index,u.commands);return LD(o,d.segmentGroup,v,n,r)}function P0(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Mm(e){return"object"==typeof e&&null!=e&&e.outlets}function LD(e,t,n,r,o){let d,u={};r&&Object.entries(r).forEach(([y,_])=>{u[y]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),d=e===t?n:hM(e,t,n);const v=lM(cM(d));return new Ig(v,u,o)}function hM(e,t,n){const r={};return Object.entries(e.children).forEach(([o,u])=>{r[o]=u===t?n:hM(u,t,n)}),new gr(e.segments,r)}class pM{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&P0(r[0]))throw new je(4003,!1);const o=r.find(Mm);if(o&&o!==eM(r))throw new je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class k0{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function gM(e,t,n){if(e||(e=new gr([],{})),0===e.segments.length&&e.hasChildren())return Im(e,t,n);const r=function wB(e,t,n){let r=0,o=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return u;const d=e.segments[o],v=n[r];if(Mm(v))break;const y=`${v}`,_=r<n.length-1?n[r+1]:null;if(o>0&&void 0===y)break;if(y&&_&&"object"==typeof _&&void 0===_.outlets){if(!mM(y,_,d))return u;r+=2}else{if(!mM(y,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const u=new gr(e.segments.slice(0,r.pathIndex),{});return u.children[bn]=new gr(e.segments.slice(r.pathIndex),e.children),Im(u,0,o)}return r.match&&0===o.length?new gr(e.segments,{}):r.match&&!e.hasChildren()?BD(e,t,n):r.match?Im(e,0,o):BD(e,t,n)}function Im(e,t,n){if(0===n.length)return new gr(e.segments,{});{const r=function yB(e){return Mm(e[0])?e[0].outlets:{[bn]:e}}(n),o={};if(Object.keys(r).some(u=>u!==bn)&&e.children[bn]&&1===e.numberOfChildren&&0===e.children[bn].segments.length){const u=Im(e.children[bn],t,n);return new gr(e.segments,u.children)}return Object.entries(r).forEach(([u,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[u]=gM(e.children[u],t,d))}),Object.entries(e.children).forEach(([u,d])=>{void 0===r[u]&&(o[u]=d)}),new gr(e.segments,o)}}function BD(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const u=n[o];if(Mm(u)){const y=bB(u.outlets);return new gr(r,y)}if(0===o&&P0(n[0])){r.push(new _m(e.segments[t].path,vM(n[0]))),o++;continue}const d=Mm(u)?u.outlets[bn]:`${u}`,v=o<n.length-1?n[o+1]:null;d&&v&&P0(v)?(r.push(new _m(d,vM(v))),o+=2):(r.push(new _m(d,{})),o++)}return new gr(r,{})}function bB(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=BD(new gr([],{}),0,r))}),t}function vM(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function mM(e,t,n){return e==n.path&&Cl(t,n.parameters)}const Tm="imperative";class El{constructor(t,n){this.id=t,this.url=n}}class O0 extends El{constructor(t,n,r="imperative",o=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jd extends El{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Am extends El{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tg extends El{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=16}}class F0 extends El{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yM extends El{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DB extends El{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CB extends El{constructor(t,n,r,o,u){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class EB extends El{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _B extends El{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SB{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xB{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class MB{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IB{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TB{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AB{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wM{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class VD{}class $D{constructor(t){this.url=t}}class RB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rm,this.attachRef=null}}let Rm=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new RB,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class bM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=HD(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=HD(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=UD(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return UD(t,this._root).map(n=>n.value)}}function HD(e,t){if(e===t.value)return t;for(const n of t.children){const r=HD(e,n);if(r)return r}return null}function UD(e,t){if(e===t.value)return[t];for(const n of t.children){const r=UD(e,n);if(r.length)return r.unshift(t),r}return[]}class Nc{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ag(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class DM extends bM{constructor(t,n){super(t),this.snapshot=n,zD(this,t)}toString(){return this.snapshot.toString()}}function CM(e,t){const n=function NB(e,t){const d=new L0([],{},{},"",{},bn,t,null,{});return new _M("",new Nc(d,[]))}(0,t),r=new Wi([new _m("",{})]),o=new Wi({}),u=new Wi({}),d=new Wi({}),v=new Wi(""),y=new $h(r,o,d,v,u,bn,t,n.root);return y.snapshot=n.root,new DM(new Nc(y,[]),n)}class $h{constructor(t,n,r,o,u,d,v,y){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=d,this.component=v,this._futureSnapshot=y,this.title=this.dataSubject?.pipe(rn(_=>_[Em]))??Ht(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(rn(t=>Mg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(rn(t=>Mg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EM(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],u=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function PB(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class L0{get title(){return this.data?.[Em]}constructor(t,n,r,o,u,d,v,y,_){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=v,this.routeConfig=y,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _M extends bM{constructor(t,n){super(n),this.url=t,zD(this,n)}toString(){return SM(this._root)}}function zD(e,t){t.value._routerState=e,t.children.forEach(n=>zD(e,n))}function SM(e){const t=e.children.length>0?` { ${e.children.map(SM).join(", ")} } `:"";return`${e.value}${t}`}function jD(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Cl(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Cl(t.params,n.params)||e.paramsSubject.next(n.params),function KL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Cl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Cl(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function GD(e,t){const n=Cl(e.params,t.params)&&function JL(e,t){return Bh(e,t)&&e.every((n,r)=>Cl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||GD(e.parent,t.parent))}let qD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=bn,this.activateEvents=new ai,this.deactivateEvents=new ai,this.attachEvents=new ai,this.detachEvents=new ai,this.parentContexts=ct(Rm),this.location=ct(xu),this.changeDetector=ct(l0),this.environmentInjector=ct(ta),this.inputBinder=ct(B0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new je(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new je(4013,!1);this._activatedRoute=n;const o=this.location,d=n.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,y=new kB(n,v,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:y,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Wt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wo]})}return e})();class kB{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===$h?this.route:t===Rm?this.childContexts:this.parent.get(t,n)}}const B0=new wt("");let xM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=AD([r.queryParams,r.params,r.data]).pipe(co(([u,d,v],y)=>(v={...u,...d,...v},0===y?Ht(v):Promise.resolve(v)))).subscribe(u=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const d=function o2(e){const t=En(e);if(!t)return null;const n=new Jv(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(d)for(const{templateName:v}of d.inputs)n.activatedComponentRef.setInput(v,u[v]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();function Nm(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function FB(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Nm(e,r,o);return Nm(e,r)})}(e,t,n);return new Nc(r,o)}{if(e.shouldAttach(t.value)){const u=e.retrieve(t.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(v=>Nm(e,v)),d}}const r=function LB(e){return new $h(new Wi(e.url),new Wi(e.params),new Wi(e.queryParams),new Wi(e.fragment),new Wi(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(u=>Nm(e,u));return new Nc(r,o)}}const WD="ngNavigationCancelingError";function MM(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Vh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=IM(!1,0,t);return o.url=n,o.navigationBehaviorOptions=r,o}function IM(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[WD]=!0,r.cancellationCode=t,n&&(r.url=n),r}function TM(e){return e&&e[WD]}let AM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Js({type:e,selectors:[["ng-component"]],standalone:!0,features:[A_],decls:1,vars:0,template:function(r,o){1&r&&im(0,"router-outlet")},dependencies:[qD],encapsulation:2})}return e})();function ZD(e){const t=e.children&&e.children.map(ZD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==bn&&(n.component=AM),n}function Tu(e){return e.outlet||bn}function Pm(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class GB{constructor(t,n,r,o,u){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),jD(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Ag(n);t.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(t,n,d.children)}else this.deactivateChildRoutes(t,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=Ag(t);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),v=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:v})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=Ag(t);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Ag(n);t.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new AB(u.value.snapshot))}),t.children.length&&this.forwardEvent(new IB(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(jD(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,d.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const v=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(v.contexts),d.attachRef=v.componentRef,d.route=v.route.value,d.outlet&&d.outlet.attach(v.componentRef,v.route.value),jD(v.route.value),this.activateChildRoutes(t,null,d.children)}else{const v=Pm(o.snapshot);d.attachRef=null,d.route=o,d.injector=v,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,r)}}class RM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class V0{constructor(t,n){this.component=t,this.route=n}}function qB(e,t,n){const r=e._root;return km(r,t?t._root:null,n,[r.value])}function Rg(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function rp(e){return null!==fs(e)}(e)?t.get(e):e:r}function km(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ag(t);return e.children.forEach(d=>{(function ZB(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,d=t?t.value:null,v=n?n.getContext(e.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function KB(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Bh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Bh(e.url,t.url)||!Cl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GD(e,t)||!Cl(e.queryParams,t.queryParams);default:return!GD(e,t)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new RM(r)):(u.data=d.data,u._resolvedData=d._resolvedData),km(e,t,u.component?v?v.children:null:n,r,o),y&&v&&v.outlet&&v.outlet.isActivated&&o.canDeactivateChecks.push(new V0(v.outlet.component,d))}else d&&Om(t,v,o),o.canActivateChecks.push(new RM(r)),km(e,null,u.component?v?v.children:null:n,r,o)})(d,u[d.value.outlet],n,r.concat([d.value]),o),delete u[d.value.outlet]}),Object.entries(u).forEach(([d,v])=>Om(v,n.getContext(d),o)),o}function Om(e,t,n){const r=Ag(e),o=e.value;Object.entries(r).forEach(([u,d])=>{Om(d,o.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new V0(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Fm(e){return"function"==typeof e}function NM(e){return e instanceof M0||"EmptyError"===e?.name}const $0=Symbol("INITIAL_VALUE");function Ng(){return co(e=>AD(e.map(t=>t.pipe(Sg(1),function $L(...e){const t=xo(e);return or((n,r)=>{(t?RD(e,n,t):RD(e,n)).subscribe(r)})}($0)))).pipe(rn(t=>{for(const n of t)if(!0!==n){if(n===$0)return $0;if(!1===n||n instanceof Ig)return n}return!0}),Rc(t=>t!==$0),Sg(1)))}function PM(e){return function Ln(...e){return Mn(e)}(_o(t=>{if(Vh(t))throw MM(0,t)}),rn(t=>!0===t))}class H0{constructor(t){this.segmentGroup=t||null}}class kM{constructor(t){this.urlTree=t}}function Pg(e){return Dm(new H0(e))}function OM(e){return Dm(new kM(e))}class gV{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new je(4002,!1)}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ht(r);if(o.numberOfChildren>1||!o.children[bn])return Dm(new je(4e3,!1));o=o.children[bn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,o){const u=this.createSegmentGroup(t,n.root,r,o);return new Ig(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);r[o]=n[v]}else r[o]=u}),r}createSegmentGroup(t,n,r,o){const u=this.createSegments(t,n.segments,r,o);let d={};return Object.entries(n.children).forEach(([v,y])=>{d[v]=this.createSegmentGroup(t,y,r,o)}),new gr(u,d)}createSegments(t,n,r,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,o):this.findOrReturn(u,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new je(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const KD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vV(e,t,n,r,o){const u=YD(e,t,n);return u.matched?(r=function VB(e,t){return e.providers&&!e._injector&&(e._injector=Sb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function fV(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?Ht(o.map(d=>{const v=Rg(d,e);return Qd(function tV(e){return e&&Fm(e.canMatch)}(v)?v.canMatch(t,n):e.runInContext(()=>v(t,n)))})).pipe(Ng(),PM()):Ht(!0)}(r,t,n).pipe(rn(d=>!0===d?u:{...KD}))):Ht(u)}function YD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...KD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||ZL)(n,e,t);if(!o)return{...KD};const u={};Object.entries(o.posParams??{}).forEach(([v,y])=>{u[v]=y.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function FM(e,t,n,r){return n.length>0&&function wV(e,t,n){return n.some(r=>U0(e,t,r)&&Tu(r)!==bn)}(e,n,r)?{segmentGroup:new gr(t,yV(r,new gr(n,e.children))),slicedSegments:[]}:0===n.length&&function bV(e,t,n){return n.some(r=>U0(e,t,r))}(e,n,r)?{segmentGroup:new gr(e.segments,mV(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new gr(e.segments,e.children),slicedSegments:n}}function mV(e,t,n,r,o){const u={};for(const d of r)if(U0(e,n,d)&&!o[Tu(d)]){const v=new gr([],{});u[Tu(d)]=v}return{...o,...u}}function yV(e,t){const n={};n[bn]=t;for(const r of e)if(""===r.path&&Tu(r)!==bn){const o=new gr([],{});n[Tu(r)]=o}return n}function U0(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class _V{constructor(t,n,r,o,u,d,v){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=d,this.urlSerializer=v,this.allowRedirects=!0,this.applyRedirects=new gV(this.urlSerializer,this.urlTree)}noMatchError(t){return new je(4002,!1)}recognize(){const t=FM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,bn).pipe(Lh(n=>{if(n instanceof kM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof H0?this.noMatchError(n):n}),rn(n=>{const r=new L0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bn,this.rootComponentType,null,{}),o=new Nc(r,n),u=new _M("",o),d=function pB(e,t,n=null,r=null){return fM(dM(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(u._root),{state:u,tree:d}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,bn).pipe(Lh(r=>{throw r instanceof H0?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=EM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0)}processChildren(t,n,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return Or(o).pipe(xg(u=>{const d=r.children[u],v=function zB(e,t){const n=e.filter(r=>Tu(r)===t);return n.push(...e.filter(r=>Tu(r)!==t)),n}(n,u);return this.processSegmentGroup(t,v,d,u)}),function zL(e,t){return or(function UL(e,t,n,r,o){return(u,d)=>{let v=n,y=t,_=0;u.subscribe(vr(d,I=>{const N=_++;y=v?e(y,I,N):(v=!0,I),r&&d.next(y)},o&&(()=>{v&&d.next(y),d.complete()})))}}(e,t,arguments.length>=2,!0))}((u,d)=>(u.push(...d),u)),I0(null),function jL(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Rc((o,u)=>e(o,u,r)):Je,PD(1),n?I0(t):Qx(()=>new M0))}(),Kt(u=>{if(null===u)return Pg(r);const d=LM(u);return function SV(e){e.sort((t,n)=>t.value.outlet===bn?-1:n.value.outlet===bn?1:t.value.outlet.localeCompare(n.value.outlet))}(d),Ht(d)}))}processSegment(t,n,r,o,u,d){return Or(n).pipe(xg(v=>this.processSegmentAgainstRoute(v._injector??t,n,v,r,o,u,d).pipe(Lh(y=>{if(y instanceof H0)return Ht(null);throw y}))),Fh(v=>!!v),Lh(v=>{if(NM(v))return function CV(e,t,n){return 0===t.length&&!e.children[n]}(r,o,u)?Ht([]):Pg(r);throw v}))}processSegmentAgainstRoute(t,n,r,o,u,d,v){return function DV(e,t,n,r){return!!(Tu(e)===r||r!==bn&&U0(t,n,e))&&("**"===e.path||YD(t,e,n).matched)}(r,o,u,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,u,d,v):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,u,d):Pg(o):Pg(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?OM(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Kt(d=>{const v=new gr(d,{});return this.processSegment(t,n,v,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d){const{matched:v,consumedSegments:y,remainingSegments:_,positionalParamSegments:I}=YD(n,o,u);if(!v)return Pg(n);const N=this.applyRedirects.applyRedirectCommands(y,o.redirectTo,I);return o.redirectTo.startsWith("/")?OM(N):this.applyRedirects.lineralizeSegments(o,N).pipe(Kt(L=>this.processSegment(t,r,n,L.concat(_),d,!1)))}matchSegmentAgainstRoute(t,n,r,o,u,d){let v;if("**"===r.path){const y=o.length>0?eM(o).parameters:{};v=Ht({snapshot:new L0(o,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BM(r),Tu(r),r.component??r._loadedComponent??null,r,VM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else v=vV(n,r,o,t).pipe(rn(({matched:y,consumedSegments:_,remainingSegments:I,parameters:N})=>y?{snapshot:new L0(_,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BM(r),Tu(r),r.component??r._loadedComponent??null,r,VM(r)),consumedSegments:_,remainingSegments:I}:null));return v.pipe(co(y=>null===y?Pg(n):this.getChildConfig(t=r._injector??t,r,o).pipe(co(({routes:_})=>{const I=r._loadedInjector??t,{snapshot:N,consumedSegments:L,remainingSegments:Q}=y,{segmentGroup:oe,slicedSegments:ce}=FM(n,L,Q,_);if(0===ce.length&&oe.hasChildren())return this.processChildren(I,_,oe).pipe(rn(Ze=>null===Ze?null:[new Nc(N,Ze)]));if(0===_.length&&0===ce.length)return Ht([new Nc(N,[])]);const Se=Tu(r)===u;return this.processSegment(I,_,oe,ce,Se?bn:u,!0).pipe(rn(Ze=>[new Nc(N,Ze)]))}))))}getChildConfig(t,n,r){return n.children?Ht({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ht({routes:n._loadedRoutes,injector:n._loadedInjector}):function dV(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?Ht(!0):Ht(o.map(d=>{const v=Rg(d,e);return Qd(function XB(e){return e&&Fm(e.canLoad)}(v)?v.canLoad(t,n):e.runInContext(()=>v(t,n)))})).pipe(Ng(),PM())}(t,n,r).pipe(Kt(o=>o?this.configLoader.loadChildren(t,n).pipe(_o(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):function pV(e){return Dm(IM(!1,3))}())):Ht({routes:[],injector:t})}}function xV(e){const t=e.value.routeConfig;return t&&""===t.path}function LM(e){const t=[],n=new Set;for(const r of e){if(!xV(r)){t.push(r);continue}const o=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=LM(r.children);t.push(new Nc(r.value,o))}return t.filter(r=>!n.has(r))}function BM(e){return e.data||{}}function VM(e){return e.resolve||{}}function $M(e){return"string"==typeof e.title||null===e.title}function XD(e){return co(t=>{const n=e(t);return n?Or(n).pipe(rn(()=>t)):Ht(t)})}const kg=new wt("ROUTES");let QD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ct(DS)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ht(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Qd(n.loadComponent()).pipe(rn(HM),_o(u=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=u}),Cm(()=>{this.componentLoaders.delete(n)})),o=new Xx(r,()=>new Cr).pipe(ND());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function PV(e,t,n,r){return Qd(e.loadChildren()).pipe(rn(HM),Kt(o=>o instanceof I_||Array.isArray(o)?Ht(o):Or(t.compileModuleAsync(o))),rn(o=>{r&&r(e);let u,d,v=!1;return Array.isArray(o)?(d=o,!0):(u=o.create(n).injector,d=u.get(kg,[],{optional:!0,self:!0}).flat()),{routes:d.map(ZD),injector:u}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Cm(()=>{this.childrenLoaders.delete(r)})),d=new Xx(u,()=>new Cr).pipe(ND());return this.childrenLoaders.set(r,d),d}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HM(e){return function kV(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let z0=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Cr,this.transitionAbortSubject=new Cr,this.configLoader=ct(QD),this.environmentInjector=ct(ta),this.urlSerializer=ct(Sm),this.rootContexts=ct(Rm),this.inputBindingEnabled=null!==ct(B0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new xB(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new SB(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Wi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tm,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rc(u=>0!==u.id),rn(u=>({...u,extractedUrl:n.urlHandlingStrategy.extract(u.rawUrl)})),co(u=>{this.currentTransition=u;let d=!1,v=!1;return Ht(u).pipe(_o(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),co(y=>{const _=y.currentBrowserUrl.toString(),I=!n.navigated||y.extractedUrl.toString()!==_||_!==y.currentUrlTree.toString();if(!I&&"reload"!==(y.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const L="";return this.events.next(new Tg(y.id,this.urlSerializer.serialize(y.rawUrl),L,0)),y.resolve(null),Gr}if(n.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Ht(y).pipe(co(L=>{const Q=this.transitions?.getValue();return this.events.next(new O0(L.id,this.urlSerializer.serialize(L.extractedUrl),L.source,L.restoredState)),Q!==this.transitions?.getValue()?Gr:Promise.resolve(L)}),function MV(e,t,n,r,o,u){return Kt(d=>function EV(e,t,n,r,o,u,d="emptyOnly"){return new _V(e,t,n,r,o,d,u).recognize()}(e,t,n,r,d.extractedUrl,o,u).pipe(rn(({state:v,tree:y})=>({...d,targetSnapshot:v,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),_o(L=>{u.targetSnapshot=L.targetSnapshot,u.urlAfterRedirects=L.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:L.urlAfterRedirects};const Q=new yM(L.id,this.urlSerializer.serialize(L.extractedUrl),this.urlSerializer.serialize(L.urlAfterRedirects),L.targetSnapshot);this.events.next(Q)}));if(I&&n.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:L,extractedUrl:Q,source:oe,restoredState:ce,extras:Se}=y,Ze=new O0(L,this.urlSerializer.serialize(Q),oe,ce);this.events.next(Ze);const Ee=CM(0,this.rootComponentType).snapshot;return this.currentTransition=u={...y,targetSnapshot:Ee,urlAfterRedirects:Q,extras:{...Se,skipLocationChange:!1,replaceUrl:!1}},Ht(u)}{const L="";return this.events.next(new Tg(y.id,this.urlSerializer.serialize(y.extractedUrl),L,1)),y.resolve(null),Gr}}),_o(y=>{const _=new DB(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}),rn(y=>(this.currentTransition=u={...y,guards:qB(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},u)),function rV(e,t){return Kt(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=n;return 0===d.length&&0===u.length?Ht({...n,guardsResult:!0}):function iV(e,t,n,r){return Or(e).pipe(Kt(o=>function cV(e,t,n,r,o){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?Ht(u.map(v=>{const y=Pm(t)??o,_=Rg(v,y);return Qd(function eV(e){return e&&Fm(e.canDeactivate)}(_)?_.canDeactivate(e,t,n,r):y.runInContext(()=>_(e,t,n,r))).pipe(Fh())})).pipe(Ng()):Ht(!0)}(o.component,o.route,n,t,r)),Fh(o=>!0!==o,!0))}(d,r,o,e).pipe(Kt(v=>v&&function YB(e){return"boolean"==typeof e}(v)?function oV(e,t,n,r){return Or(t).pipe(xg(o=>RD(function sV(e,t){return null!==e&&t&&t(new MB(e)),Ht(!0)}(o.route.parent,r),function aV(e,t){return null!==e&&t&&t(new TB(e)),Ht(!0)}(o.route,r),function lV(e,t,n){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(d=>function WB(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Yx(()=>Ht(d.guards.map(y=>{const _=Pm(d.node)??n,I=Rg(y,_);return Qd(function JB(e){return e&&Fm(e.canActivateChild)}(I)?I.canActivateChild(r,e):_.runInContext(()=>I(r,e))).pipe(Fh())})).pipe(Ng())));return Ht(u).pipe(Ng())}(e,o.path,n),function uV(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ht(!0);const o=r.map(u=>Yx(()=>{const d=Pm(t)??n,v=Rg(u,d);return Qd(function QB(e){return e&&Fm(e.canActivate)}(v)?v.canActivate(t,e):d.runInContext(()=>v(t,e))).pipe(Fh())}));return Ht(o).pipe(Ng())}(e,o.route,n))),Fh(o=>!0!==o,!0))}(r,u,e,t):Ht(v)),rn(v=>({...n,guardsResult:v})))})}(this.environmentInjector,y=>this.events.next(y)),_o(y=>{if(u.guardsResult=y.guardsResult,Vh(y.guardsResult))throw MM(0,y.guardsResult);const _=new CB(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(_)}),Rc(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",3),!1)),XD(y=>{if(y.guards.canActivateChecks.length)return Ht(y).pipe(_o(_=>{const I=new EB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}),co(_=>{let I=!1;return Ht(_).pipe(function IV(e,t){return Kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Ht(n);let u=0;return Or(o).pipe(xg(d=>function TV(e,t,n,r){const o=e.routeConfig,u=e._resolve;return void 0!==o?.title&&!$M(o)&&(u[Em]=o.title),function AV(e,t,n,r){const o=function RV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return Ht({});const u={};return Or(o).pipe(Kt(d=>function NV(e,t,n,r){const o=Pm(t)??r,u=Rg(e,o);return Qd(u.resolve?u.resolve(t,n):o.runInContext(()=>u(t,n)))}(e[d],t,n,r).pipe(Fh(),_o(v=>{u[d]=v}))),PD(1),function GL(e){return rn(()=>e)}(u),Lh(d=>NM(d)?Gr:Dm(d)))}(u,e,t,r).pipe(rn(d=>(e._resolvedData=d,e.data=EM(e,n).resolve,o&&$M(o)&&(e.data[Em]=o.title),null)))}(d.route,r,e,t)),_o(()=>u++),PD(1),Kt(d=>u===o.length?Ht(n):Gr))})}(n.paramsInheritanceStrategy,this.environmentInjector),_o({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(_,"",2)}}))}),_o(_=>{const I=new _B(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}))}),XD(y=>{const _=I=>{const N=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(I.routeConfig).pipe(_o(L=>{I.component=L}),rn(()=>{})));for(const L of I.children)N.push(..._(L));return N};return AD(_(y.targetSnapshot.root)).pipe(I0(),Sg(1))}),XD(()=>this.afterPreactivation()),rn(y=>{const _=function OB(e,t,n){const r=Nm(e,t._root,n?n._root:void 0);return new DM(r,t)}(n.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=u={...y,targetRouterState:_},u}),_o(()=>{this.events.next(new VD)}),((e,t,n,r)=>rn(o=>(new GB(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),Sg(1),_o({next:y=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jd(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),n.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{d=!0}}),function qL(e){return or((t,n)=>{qi(e).subscribe(vr(n,()=>n.complete(),dn)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(_o(y=>{throw y}))),Cm(()=>{d||v||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Lh(y=>{if(v=!0,TM(y))this.events.next(new Am(u.id,this.urlSerializer.serialize(u.extractedUrl),y.message,y.cancellationCode)),function BB(e){return TM(e)&&Vh(e.url)}(y)?this.events.next(new $D(y.url)):u.resolve(!1);else{this.events.next(new F0(u.id,this.urlSerializer.serialize(u.extractedUrl),y,u.targetSnapshot??void 0));try{u.resolve(n.errorHandler(y))}catch(_){u.reject(_)}}return Gr}))}))}cancelNavigationTransition(n,r,o){const u=new Am(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(u),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function UM(e){return e!==Tm}let zM=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===bn);return r}getResolvedTitleForRoute(n){return n.data[Em]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(OV)},providedIn:"root"})}return e})(),OV=(()=>{class e extends zM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(vt(Ux))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(BV)},providedIn:"root"})}return e})();class LV{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let BV=(()=>{class e extends LV{static#e=this.\u0275fac=function(){let n;return function(o){return(n||(n=function Sr(e){return pa(()=>{const t=e.prototype.constructor,n=t[jo]||ns(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[jo]||ns(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}(e)))(o||e)}}();static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const j0=new wt("",{providedIn:"root",factory:()=>({})});let VV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct($V)},providedIn:"root"})}return e})(),$V=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Lm=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Lm||{});function jM(e,t){e.events.pipe(Rc(n=>n instanceof Jd||n instanceof Am||n instanceof F0||n instanceof Tg),rn(n=>n instanceof Jd||n instanceof Tg?Lm.COMPLETE:n instanceof Am&&(0===n.code||1===n.code)?Lm.REDIRECTING:Lm.FAILED),Rc(n=>n!==Lm.REDIRECTING),Sg(1)).subscribe(()=>{t()})}function HV(e){throw e}function UV(e,t,n){return t.parse("/")}const zV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vs=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ct(bS),this.isNgZoneEnabled=!1,this._events=new Cr,this.options=ct(j0,{optional:!0})||{},this.pendingTasks=ct(o0),this.errorHandler=this.options.errorHandler||HV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ct(VV),this.routeReuseStrategy=ct(FV),this.titleStrategy=ct(zM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ct(kg,{optional:!0})?.flat()??[],this.navigationTransitions=ct(z0),this.urlSerializer=ct(Sm),this.location=ct(oD),this.componentInputBindingEnabled=!!ct(B0,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=ct(Ar)instanceof Ar&&Ar.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ig,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CM(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(GM(r)&&this._events.next(r));if(r instanceof O0)UM(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof Tg)this.rawUrlTree=o.rawUrl;else if(r instanceof yM){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof VD)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof Am)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof $D){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||UM(o.source)};this.scheduleNavigation(u,Tm,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof F0&&this.restoreHistory(o,!0),r instanceof Jd&&(this.navigated=!0),GM(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tm,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,o){const u={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const y={...o};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const v=this.parseUrl(n);this.scheduleNavigation(v,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ZD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:v,preserveFragment:y}=r,_=y?this.currentUrlTree.fragment:d;let N,I=null;switch(v){case"merge":I={...this.currentUrlTree.queryParams,...u};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}null!==I&&(I=this.removeEmptyProps(I));try{N=dM(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),N=this.currentUrlTree.root}return fM(N,n,I,_??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Vh(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Tm,null,r)}navigate(n,r={skipLocationChange:!1}){return function GV(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new je(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?{...zV}:!1===r?{...jV}:r,Vh(n))return nM(this.currentUrlTree,n,o);const u=this.parseUrl(n);return nM(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const u=n[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(n,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let v,y,_;d?(v=d.resolve,y=d.reject,_=d.promise):_=new Promise((N,L)=>{v=N,y=L});const I=this.pendingTasks.add();return jM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:u,resolve:v,reject:y,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(N=>Promise.reject(N))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function GM(e){return!(e instanceof VD||e instanceof $D)}class qM{}let ZV=(()=>{class e{constructor(n,r,o,u,d){this.router=n,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Rc(n=>n instanceof Jd),xg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=Sb(u.providers,n,`Route: ${u.path}`));const d=u._injector??n,v=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(v,u.children??u._loadedRoutes))}return Or(o).pipe(Bu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ht(null);const u=o.pipe(Kt(d=>null===d?Ht(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??n,d.routes))));return r.loadComponent&&!r._loadedComponent?Or([u,this.loader.loadComponent(r)]).pipe(Bu()):u})}static#e=this.\u0275fac=function(r){return new(r||e)(vt(Vs),vt(DS),vt(ta),vt(qM),vt(QD))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const eC=new wt("");let WM=(()=>{class e{constructor(n,r,o,u,d={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof O0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Jd?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Tg&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function hE(){throw new Error("invalid")}()};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();function Pc(e,t){return{\u0275kind:e,\u0275providers:t}}function KM(){const e=ct(us);return t=>{const n=e.get(Cg);if(t!==n.components[0])return;const r=e.get(Vs),o=e.get(YM);1===e.get(tC)&&r.initialNavigation(),e.get(XM,null,un.Optional)?.setUpPreloading(),e.get(eC,null,un.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const YM=new wt("",{factory:()=>new Cr}),tC=new wt("",{providedIn:"root",factory:()=>1}),XM=new wt("");function QV(e){return Pc(0,[{provide:XM,useExisting:ZV},{provide:qM,useExisting:e}])}const QM=new wt("ROUTER_FORROOT_GUARD"),e$=[oD,{provide:Sm,useClass:kD},Vs,Rm,{provide:$h,useFactory:function ZM(e){return e.routerState.root},deps:[Vs]},QD,[]];function t$(){return new IS("Router",Vs)}let JM=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[e$,[],{provide:kg,multi:!0,useValue:n},{provide:QM,useFactory:o$,deps:[[Vs,new Od,new Eo]]},{provide:j0,useValue:r||{}},r?.useHash?{provide:Oh,useClass:c2}:{provide:Oh,useClass:ix},{provide:eC,useFactory:()=>{const e=ct(AF),t=ct(Ar),n=ct(j0),r=ct(z0),o=ct(Sm);return n.scrollOffset&&e.setOffset(n.scrollOffset),new WM(o,r,e,t,n)}},r?.preloadingStrategy?QV(r.preloadingStrategy).\u0275providers:[],{provide:IS,multi:!0,useFactory:t$},r?.initialNavigation?a$(r):[],r?.bindToComponentInputs?Pc(8,[xM,{provide:B0,useExisting:xM}]).\u0275providers:[],[{provide:eI,useFactory:KM},{provide:Kb,multi:!0,useExisting:eI}]]}}static forChild(n){return{ngModule:e,providers:[{provide:kg,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(vt(QM,8))};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({})}return e})();function o$(e){return"guarded"}function a$(e){return["disabled"===e.initialNavigation?Pc(3,[{provide:Hb,multi:!0,useFactory:()=>{const t=ct(Vs);return()=>{t.setUpLocationChangeListener()}}},{provide:tC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Pc(2,[{provide:tC,useValue:0},{provide:Hb,multi:!0,deps:[us],useFactory:t=>{const n=t.get(u2,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=t.get(Vs),u=t.get(YM);jM(o,()=>{r(!0)}),t.get(z0).afterPreactivation=()=>(r(!0),u.closed?Ht(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const eI=new wt("");let u$=(()=>{class e{constructor(){this.title="PathwayBrowser"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Js({type:e,selectors:[["cr-root"]],decls:1,vars:0,template:function(r,o){1&r&&im(0,"router-outlet")},dependencies:[qD]})}return e})();const Fg=new wt("CallSetDisabledState",{providedIn:"root",factory:()=>Y0}),Y0="always";let UI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({})}return e})(),o3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({imports:[UI]})}return e})(),s3=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Fg,useValue:n.callSetDisabledState??Y0}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({imports:[o3]})}return e})();class tw{}class nw{}class Sl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),u=o.toLowerCase(),d=n.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Sl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Sl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Sl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const u=t.value;if(u){let d=this.headers.get(n);if(!d)return;d=d.filter(v=>-1===u.indexOf(v)),0===d.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,d)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(u=>u.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class u3{encodeKey(t){return aT(t)}encodeValue(t){return aT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const c3=/%(\d[a-f0-9])/gi,d3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aT(e){return encodeURIComponent(e).replace(c3,(t,n)=>d3[n]??t)}function rw(e){return`${e}`}class rf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new u3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function l3(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,v]=-1==u?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,u)),t.decodeValue(o.slice(u+1))],y=n.get(d)||[];y.push(v),n.set(d,y)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(rw):[rw(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(u=>{n.push({param:r,value:u,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new rf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(rw(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(rw(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class f3{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function sT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function uT(e){return typeof Blob<"u"&&e instanceof Blob}function lT(e){return typeof FormData<"u"&&e instanceof FormData}class Um{constructor(t,n,r,o){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function h3(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Sl),this.context||(this.context=new f3),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=n;else{const v=n.indexOf("?");this.urlWithParams=n+(-1===v?"?":v<n.length-1?"&":"")+d}}else this.params=new rf,this.urlWithParams=n}serializeBody(){return null===this.body?null:sT(this.body)||uT(this.body)||lT(this.body)||function p3(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lT(this.body)?null:uT(this.body)?this.body.type||null:sT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,_=t.params||this.params;const I=t.context??this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((N,L)=>N.set(L,t.setHeaders[L]),y)),t.setParams&&(_=Object.keys(t.setParams).reduce((N,L)=>N.set(L,t.setParams[L]),_)),new Um(n,r,u,{params:_,headers:y,context:I,reportProgress:v,responseType:o,withCredentials:d})}}var Lg=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Lg||{});class CC{constructor(t,n=200,r="OK"){this.headers=t.headers||new Sl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class EC extends CC{constructor(t={}){super(t),this.type=Lg.ResponseHeader}clone(t={}){return new EC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bg extends CC{constructor(t={}){super(t),this.type=Lg.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Bg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class cT extends CC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _C(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let dT=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let u;if(n instanceof Um)u=n;else{let y,_;y=o.headers instanceof Sl?o.headers:new Sl(o.headers),o.params&&(_=o.params instanceof rf?o.params:new rf({fromObject:o.params})),u=new Um(n,r,void 0!==o.body?o.body:null,{headers:y,context:o.context,params:_,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=Ht(u).pipe(xg(y=>this.handler.handle(y)));if(n instanceof Um||"events"===o.observe)return d;const v=d.pipe(Rc(y=>y instanceof Bg));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return v.pipe(rn(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return v.pipe(rn(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return v.pipe(rn(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return v.pipe(rn(y=>y.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new rf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,_C(o,r))}post(n,r,o={}){return this.request("POST",n,_C(o,r))}put(n,r,o={}){return this.request("PUT",n,_C(o,r))}static#e=this.\u0275fac=function(r){return new(r||e)(vt(tw))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();function pT(e,t){return t(e)}function v3(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const y3=new wt(""),zm=new wt(""),gT=new wt("");function w3(){let e=null;return(t,n)=>{null===e&&(e=(ct(y3,{optional:!0})??[]).reduceRight(v3,pT));const r=ct(o0),o=r.add();return e(t,n).pipe(Cm(()=>r.remove(o)))}}let vT=(()=>{class e extends tw{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ct(o0)}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(zm),...this.injector.get(gT,[])]));this.chain=o.reduceRight((u,d)=>function m3(e,t,n){return(r,o)=>n.runInContext(()=>t(r,u=>e(u,o)))}(u,d,this.injector),pT)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Cm(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(vt(nw),vt(ta))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const E3=/^\)\]\}',?\n/;let yT=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new je(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Or(r.\u0275loadImpl()):Ht(null)).pipe(co(()=>new Mt(u=>{const d=r.build();if(d.open(n.method,n.urlWithParams),n.withCredentials&&(d.withCredentials=!0),n.headers.forEach((ce,Se)=>d.setRequestHeader(ce,Se.join(","))),n.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ce=n.detectContentTypeHeader();null!==ce&&d.setRequestHeader("Content-Type",ce)}if(n.responseType){const ce=n.responseType.toLowerCase();d.responseType="json"!==ce?ce:"text"}const v=n.serializeBody();let y=null;const _=()=>{if(null!==y)return y;const ce=d.statusText||"OK",Se=new Sl(d.getAllResponseHeaders()),Ze=function _3(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(d)||n.url;return y=new EC({headers:Se,status:d.status,statusText:ce,url:Ze}),y},I=()=>{let{headers:ce,status:Se,statusText:Ze,url:Ee}=_(),ft=null;204!==Se&&(ft=typeof d.response>"u"?d.responseText:d.response),0===Se&&(Se=ft?200:0);let Lt=Se>=200&&Se<300;if("json"===n.responseType&&"string"==typeof ft){const ye=ft;ft=ft.replace(E3,"");try{ft=""!==ft?JSON.parse(ft):null}catch(Gt){ft=ye,Lt&&(Lt=!1,ft={error:Gt,text:ft})}}Lt?(u.next(new Bg({body:ft,headers:ce,status:Se,statusText:Ze,url:Ee||void 0})),u.complete()):u.error(new cT({error:ft,headers:ce,status:Se,statusText:Ze,url:Ee||void 0}))},N=ce=>{const{url:Se}=_(),Ze=new cT({error:ce,status:d.status||0,statusText:d.statusText||"Unknown Error",url:Se||void 0});u.error(Ze)};let L=!1;const Q=ce=>{L||(u.next(_()),L=!0);let Se={type:Lg.DownloadProgress,loaded:ce.loaded};ce.lengthComputable&&(Se.total=ce.total),"text"===n.responseType&&d.responseText&&(Se.partialText=d.responseText),u.next(Se)},oe=ce=>{let Se={type:Lg.UploadProgress,loaded:ce.loaded};ce.lengthComputable&&(Se.total=ce.total),u.next(Se)};return d.addEventListener("load",I),d.addEventListener("error",N),d.addEventListener("timeout",N),d.addEventListener("abort",N),n.reportProgress&&(d.addEventListener("progress",Q),null!==v&&d.upload&&d.upload.addEventListener("progress",oe)),d.send(v),u.next({type:Lg.Sent}),()=>{d.removeEventListener("error",N),d.removeEventListener("abort",N),d.removeEventListener("load",I),d.removeEventListener("timeout",N),n.reportProgress&&(d.removeEventListener("progress",Q),null!==v&&d.upload&&d.upload.removeEventListener("progress",oe)),d.readyState!==d.DONE&&d.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(vt(_x))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const SC=new wt("XSRF_ENABLED"),wT=new wt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),bT=new wt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class DT{}let M3=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=px(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(vt(cs),vt(Cc),vt(wT))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();function I3(e,t){const n=e.url.toLowerCase();if(!ct(SC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=ct(DT).getToken(),o=ct(bT);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var af=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(af||{});function T3(...e){const t=[dT,yT,vT,{provide:tw,useExisting:vT},{provide:nw,useExisting:yT},{provide:zm,useValue:I3,multi:!0},{provide:SC,useValue:!0},{provide:DT,useClass:M3}];for(const n of e)t.push(...n.\u0275providers);return function kv(e){return{\u0275providers:e}}(t)}const CT=new wt("LEGACY_INTERCEPTOR_FN");function A3(){return function zh(e,t){return{\u0275kind:e,\u0275providers:t}}(af.LegacyInterceptors,[{provide:CT,useFactory:w3},{provide:zm,useExisting:CT,multi:!0}])}let R3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({providers:[T3(A3())]})}return e})();var L3=ie(6100),B3=ie.n(L3),xl=ie(6990);function yt(e){return function V3(e){return void 0!==e.apply}(e)?e():e}function $s(e){const t=e;return t.setDefault=function(n,r){return e[n]||(e[n]=r),t},t}const $3=(e,t)=>bt.properties[e][t],H3=(e,t,n)=>n(yt(bt.properties[e][t])),sf=(0,xl.memoize)(e=>{let t=[];const n=e.classes().find(y=>xC.has(y));if(!n)return ST(t,ET);const r=xC.get(n),[o,u,d]=[e.data("width"),e.data("height"),e.hasClass("drug")],v=r(o,u,d);return v.background&&t.push(v.background),e.selected()&&v.select&&t.push(v.select),e.hasClass("hover")&&v.hover&&t.push(v.hover),e.hasClass("flag")&&v.flag&&t.push(v.flag),v.decorators&&t.push(...v.decorators),d&&t.push(J3(o,u,n)),e.classes().includes("Pathway")&&t.push(eH(o,u,n)),t=t.map(y=>({...y,"background-image":_T(y["background-image"],y["background-width"]||o,y["background-height"]||u)})),ST(t,ET)},e=>e.id()+"-"+e.classes().toString()+"-s:"+e.selected()),ET={"background-image":"","background-position-x":"0","background-position-y":"0","background-offset-x":"0","background-offset-y":"0","background-width":"100%","background-height":"100%","background-fit":"none","background-clip":"none","background-image-containment":"over","background-image-smoothing":"yes","background-height-relative-to":"inner","background-width-relative-to":"inner","background-repeat":"no-repeat","background-image-crossorigin":"anonymous","bounds-expansion":0};function _T(e,t,n){return"data:image/svg+xml;utf8,"+encodeURIComponent(function X3(e,t=100,n=100){return(new DOMParser).parseFromString(`<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg><svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='${t}' height='${n}'>${e}</svg>`,"text/xml").documentElement}(e,t,n).outerHTML)}const kc=(e,t,n)=>`${e}x${t}-${n}`,xC=new Map([["Protein",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.selectNode),o=yt(bt.properties.global.hoverNode),u=yt(bt.properties.global.thickness),d=yt(bt.properties.protein.radius),v=d+u,y=d-u;return{hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${v}\n            a ${v} ${v} 0 0 1 ${v} -${v}\n            h ${e-2*v}\n            a ${v} ${v} 0 0 1 ${v} ${v}\n            a ${v} ${y} 0 0 0 -${v} -${y}\n            h -${e-2*v}\n            a ${v} ${y} 0 0 0 -${v} ${y}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":v},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${v} ${v} 0 0 0 ${v} ${v}\n            h ${e-2*v}\n            a ${v} ${v} 0 0 0 ${v} -${v}\n            a ${v} ${y} 0 0 1 -${v} ${y}\n            h -${e-2*v}\n            a ${v} ${y} 0 0 1 -${v} -${y}\n            Z"/>\n`,"background-position-y":t-d,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":v}}},kc)],["GenomeEncodedEntity",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.selectNode),o=yt(bt.properties.global.hoverNode),u=yt(bt.properties.global.thickness),d=yt(bt.properties.genomeEncodedEntity.radius),y=d+u,_=d-u,I=2*u,N=3*I;return{background:{"background-image":`\n        \n  <defs>\n    <rect id="rect" rx="${d}" ry="${d}" x="0" y="0" width="${e}" height="${t}"/>\n    <clipPath id="clip">\n      <use href="#rect"/>\n    </clipPath>\n  </defs>\n  \n        <use href="#rect" clip-path="url(#clip)" stroke-width="${I}" stroke="${yt(bt.properties.genomeEncodedEntity.stroke)}" fill="none" stroke-linecap="round" stroke-dasharray="${N} ${N}"/>\n      `},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${y}\n            a ${y} ${y} 0 0 1 ${y} -${y}\n            h ${e-2*y}\n            a ${y} ${y} 0 0 1 ${y} ${y}\n            a ${y} ${_} 0 0 0 -${y} -${_}\n            h -${e-2*y}\n            a ${y} ${_} 0 0 0 -${y} ${_}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":y},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${y} ${y} 0 0 0 ${y} ${y}\n            h ${e-2*y}\n            a ${y} ${y} 0 0 0 ${y} -${y}\n            a ${y} ${_} 0 0 1 -${y} ${_}\n            h -${e-2*y}\n            a ${y} ${_} 0 0 1 -${y} -${_}\n            Z"/>\n`,"background-position-y":t-d,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":y}}},kc)],["RNA",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.thickness),o=yt(bt.properties.global.selectNode),u=yt(bt.properties.global.hoverNode),v=yt(bt.properties.rna.radius),y=v+r,_=v-r;return{hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${u}"/>`,"background-position-y":-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${y} ${y} 0 0 0 ${y} ${y}\n            h ${e-2*y}\n            a ${y} ${y} 0 0 0 ${y} -${y}\n            a ${y} ${_} 0 0 1 -${y} ${_}\n            h -${e-2*y}\n            a ${y} ${_} 0 0 1 -${y} -${_}\n            Z"/>\n`,"background-position-y":t-v,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":y}}},kc)],["Gene",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.thickness),o=yt(bt.properties.gene.decorationHeight),u=yt(bt.properties.gene.decorationExtraWidth),d=yt(bt.properties.gene.arrowHeadSize),v=yt(bt.properties.gene.arrowRadius),y=yt(bt.properties.gene.fill),_=yt(bt.properties.global.selectNode),I=yt(bt.properties.global.hoverNode),N=Math.sqrt(3*Math.pow(d,2)/4),L=e/2,Q=yt(bt.properties.gene.borderRadius),oe=Q+r,ce=Q-r;return{background:{"background-image":`\n          <path fill="${y}" stroke-width="0" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${o}\n            H ${e}\n            v ${t-o-v}\n            a ${v} ${v} 0 0 1 -${v} ${v}\n            H ${v}\n            a ${v} ${v} 0 0 1 -${v} -${v}\n            Z\n          "/>`,"background-position-y":0,"background-position-x":0},decorators:[{"background-image":`\n          <path fill="none" stroke="${y}" stroke-width="${r}"  d="\n            M ${L} ${o+2*r}\n            v -${o-v-(d+r)/2+2*r}\n            a ${v} ${v} 0 0 1 ${v} -${v}\n            h ${L-r-v+u}\n          "/>\n            <path fill="${y}" stroke="${y}" stroke-width="${r}" stroke-linejoin="round"  d="\n            M ${e-N-r/2+u} ${d/2+r/2}\n            v -${d/2}\n            l ${N} ${d/2}\n            l -${N} ${d/2}\n            v -${d/2}\n            z\n          "/>`,"background-position-y":-r/2,"bounds-expansion":o,"background-height":o+1.5*r,"background-width":e+u,"background-clip":"none","background-image-containment":"over"}],hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${I}"/>`,"background-position-y":o-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${_}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${oe} ${oe} 0 0 0 ${oe} ${oe}\n            h ${e-2*oe}\n            a ${oe} ${oe} 0 0 0 ${oe} -${oe}\n            a ${oe} ${ce} 0 0 1 -${oe} ${ce}\n            h -${e-2*oe}\n            a ${oe} ${ce} 0 0 1 -${oe} -${ce}\n            Z"/>\n`,"background-position-y":t-Q,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":oe}}},kc)],["Molecule",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.selectNode),o=yt(bt.properties.global.hoverNode),u=yt(bt.properties.global.thickness),d=yt(n?bt.properties.molecule.drug:bt.properties.molecule.stroke),v=yt(bt.properties.molecule.fill),y=u/2,_=t/2,I=_+u,N=_-u,L=Math.min(I,e/2);return{background:{"background-image":`<rect x="${y}" y="${y}" width="${e-u}" height="${t-u}" rx="${_}" stroke="${d}" fill="${v}" stroke-width="${u}"/>`},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${I}\n            a ${L} ${I} 0 0 1 ${L} -${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 1 ${L} ${I}\n            a ${L} ${N} 0 0 0 -${L} -${N}\n            h -${e-2*L}\n            a ${L} ${N} 0 0 0 -${L} ${N}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":I},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${L} ${I} 0 0 0 ${L} ${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 0 ${L} -${I}\n            a ${L} ${N} 0 0 1 -${L} ${N}\n            h -${e-2*L}\n            a ${L} ${N} 0 0 1 -${L} -${N}\n            Z"/>\n`,"background-position-y":_,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":I}}},kc)],["Complex",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.selectNode),o=yt(bt.properties.global.hoverNode),u=yt(bt.properties.global.thickness),d=yt(bt.properties.complex.cut),v=yt(n?bt.properties.complex.drug:bt.properties.complex.fill),_=2*d,I=2*u,N=t-_-2*I,Q=t/2+u,oe=`<defs>\n  <path id="octogon" d="\n      M ${_+I+0} ${I}\n      H ${e-d-I-0}\n      l ${d} ${d}\n      v ${N}\n      l  -${d} ${d}\n      H ${_+I+0}\n      l -${d} 0 -${d} -${d}\n      v -${N}\n      l  ${d} -${d}\n      Z\n      "/>\n  </defs>`;return{background:{"background-image":`\n${oe}\n<use href="#octogon" fill="${v}" stroke="${v}" stroke-width="${2*I}" stroke-linejoin="round"/>\n`},hover:{"background-image":`\n      <path stroke="${o}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} ${Q}\n      v -${N/2}\n      l ${d} -${d+u}\n      H ${e-d-I}\n      l ${d} ${d+u}\n      v ${N/2}\n      " />\n      `,"background-position-y":-u,"background-height":Q},select:{"background-image":`\n      <path stroke="${r}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} 0\n      v ${N/2}\n      l ${d} ${d+u}\n      H ${e-d-I}\n      l ${d} -${d+u}\n      v -${N/2}\n      " />\n      `,"background-position-y":t/2,"background-height":Q},decorators:[{"background-image":`\n         ${oe}\n         <use href="#octogon" fill="none" stroke="${yt(bt.properties.complex.stroke)}" stroke-width="${I}" stroke-linejoin="round"/>\n         <use href="#octogon" fill="${v}"/>\n         `}]}},kc)],["EntitySet",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.selectNode),o=yt(bt.properties.global.hoverNode),u=yt(bt.properties.global.thickness);let d=yt(bt.properties.entitySet.radius);2*d>t/2-u&&(d=t/4-u/2);const v=yt(n?bt.properties.entitySet.drug:bt.properties.entitySet.fill),_=2*d,I=2*u,N=t/2-_-u,L=t/2+u,Q=`<defs>\n   <path id="curly" d="\n       M ${_+u} ${u}\n       H ${e-_-u}\n       a ${d} ${d} 0 0 1 ${d} ${d}\n\n       v ${N}\n       a ${d} ${d} 0 0 0 ${d} ${d}\n       a ${d} ${d} 0 0 0 -${d} ${d}\n       v ${N}\n\n       a ${d} ${d} 0 0 1 -${d} ${d}\n       H ${_+u}\n       a ${d} ${d} 0 0 1 -${d} -${d}\n\n       v -${N}\n       a ${d} ${d} 0 0 0 -${d} -${d}\n       a ${d} ${d} 0 0 0 ${d} -${d}\n       v -${N}\n\n       a ${d} ${d} 0 0 1 ${d} -${d}\n       Z\n       "/>\n   <clipPath id="inside">\n     <use href="#curly"/>\n   </clipPath>\n </defs>`;return{background:{"background-image":`\n       ${Q}\n       <use href="#curly" fill="${v}" stroke="${v}" stroke-width="${I}" stroke-linejoin="round"/>\n       `},hover:{"background-image":`\n       <path stroke="${o}" stroke-width="${I}" fill="none" stroke-linejoin="round" d="\n         M ${u+d} ${L+d}\n         a ${d} ${d} 0 0 0 -${d} -${d}\n         a ${d} ${d} 0 0 0 ${d} -${d}\n         v -${N}\n         a ${d} ${d+u} 0 0 1 ${d} -${d+u}\n         H ${e-_-u}\n         a ${d} ${d+u} 0 0 1 ${d} ${d+u}\n         v ${N}\n         a ${d} ${d} 0 0 0 ${d} ${d}\n         a ${d} ${d} 0 0 0 -${d} ${d}\n       "/>`,"background-position-y":-u,"background-height":L},select:{"background-image":`\n       <path stroke="${r}" stroke-width="${I}" fill="none" stroke-linejoin="round" d="\n         M ${u+d} ${-d}\n         a ${d} ${d} 0 0 1 -${d} ${d}\n         a ${d} ${d} 0 0 1 ${d} ${d}\n         v ${N}\n         a ${d} ${d+u} 0 0 0 ${d} ${d+u}\n         H ${e-_-u}\n         a ${d} ${d+u} 0 0 0 ${d} -${d+u}\n         v -${N}\n         a ${d} ${d} 0 0 1 ${d} -${d}\n         a ${d} ${d} 0 0 1 -${d} -${d}\n       "/>`,"background-position-y":t/2,"background-height":L},decorators:[{"background-image":`\n       ${Q}\n       <use href="#curly" fill="none" stroke="${yt(bt.properties.entitySet.stroke)}" stroke-width="${I}" clip-path="url(#inside)"/>\n       <rect fill="${v}" x="${I+_}" y="${u}"\n             width="${e-2*_-2*I}"\n             height="${t-I}"/>\n       `}]}},kc)],["Interacting",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.selectNode),o=yt(bt.properties.global.hoverNode),u=yt(bt.properties.global.thickness);yt(n?bt.properties.pathway.disease:bt.properties.pathway.stroke),yt(bt.properties.pathway.fill);let y=e+3*u;const _=3*u;return{hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n           M 0 0\n           H ${y}\n           V ${_}\n           H 0\n           V 0\n           Z\n           "/>\n`,"background-position-y":-_/2,"background-position-x":-_/2,"background-width":y,"bounds-expansion":_,"background-clip":"none","background-image-containment":"over"},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n           M 0 0\n           H ${y}\n           V ${_}\n           H 0\n           V 0\n           Z"/>\n`,"background-position-y":t-_/2,"background-position-x":-_/2,"background-width":y,"bounds-expansion":_,"background-clip":"none","background-image-containment":"over"}}},kc)],["SUB",(0,xl.memoize)((e,t,n)=>{const r=yt(bt.properties.global.selectNode),o=yt(bt.properties.global.hoverNode),u=3*yt(bt.properties.global.thickness),d=yt(n?bt.properties.pathway.disease:bt.properties.pathway.stroke),v=yt(bt.properties.pathway.fill),y=u/2,_=t/2,I=_,N=_-u,L=Math.min(I,e/2);return{background:{"background-image":`<rect x="${y}" y="${y}" width="${e-u}" height="${t-u}" rx="${_}" stroke="${d}" fill="${v}" stroke-width="${u}"/>`},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${I}\n            a ${L} ${I} 0 0 1 ${L} -${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 1 ${L} ${I}\n            a ${L} ${N} 0 0 0 -${L} -${N}\n            h -${e-2*L}\n            a ${L} ${N} 0 0 0 -${L} ${N}\n            Z"/>\n`,"background-clip":"none","background-image-containment":"over","background-height":I},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${L} ${I} 0 0 0 ${L} ${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 0 ${L} -${I}\n            a ${L} ${N} 0 0 1 -${L} ${N}\n            h -${e-2*L}\n            a ${L} ${N} 0 0 1 -${L} -${N}\n            Z"/>\n`,"background-position-y":_,"background-clip":"none","background-image-containment":"over","background-height":I}}},kc)]]);function ST(e,t){const n={};return new Set(Object.keys(t)).forEach(o=>n[o]=e.map(u=>u[o]||t[o])),n}const J3=(e,t,n)=>{const r=yt(bt.properties.global.thickness),o=yt("Molecule"!==n?bt.properties.global.onPrimary:bt.properties.molecule.drug);return{"background-image":`\n      <path style="transform: scale(2)" fill="${o}" stroke-width="0.4" stroke="${o}" d="M3.2 4C3.3 4 3.4 4 3.6 4L6.75 8.81L5.7 10.15C5.7 10.15 5.53985 10.3884 5.31824 10.6092C5.00434 10.922 4.6582 11.3 4.28711 11.3C4.19141 11.3 4.2 11.3 4.1 11.3V11.5H6.4V11.3C6.2 11.3 6 11.3 5.9 11.2C5.8 11.1 5.8 11 5.8 10.9C5.8 10.6301 5.9 10.5547 6.16055 10.226L7 9.2L7.65291 10.226C7.82889 10.5025 8 10.7344 8 10.9C8 11.0656 7.90095 11.3 7.65291 11.3C7.55291 11.3 7.6 11.3 7.4 11.3V11.5H10.2V11.3C9.9 11.3 9.7 11.2 9.5 11C9.24121 10.7412 9 10.5 8.6 10L7.6 8.5L8.48711 7.35309C8.55228 7.28792 8.61656 7.21558 8.68081 7.13924C9.09787 6.6437 9.64859 6 10.2 6.01309V5.81309H7.8V6.01309C8 6.01309 8.2 6.01309 8.3 6.01309C8.45586 6.01309 8.6 6.20329 8.6 6.31309C8.6 6.62136 8.43963 6.81922 8.2462 7.03337L7.3 8.1L4.5 3.9C5.1 3.8 5.4 3.61 5.7 3.31C6 3.01 6.2 2.6 6.2 2.2C6.2 1.8 6.08711 1.47 5.78711 1.17C5.52798 0.910875 5.3 0.8 5 0.7C4.6 0.6 4.1 0.5 3.4 0.5H1V0.7H1.2C1.82201 0.7 2 1.14292 2 1.7V6C2 6.59634 2 6.9 1.2 6.9H1V7.1H3.8V6.9H3.6C2.9041 6.9 2.9 6.61047 2.9 6V4H3H3.2ZM3 3.7C3 3.7 3 3.7 2.9 3.7L2.88711 1C3.18711 0.9 3.4 0.9 3.6 0.9C4.47782 0.9 5 1.42405 5 2.3C5 3.40743 4.15401 3.7 3.2 3.7H3Z"/>\n    `,"background-position-x":("EntitySet"!==n?0:yt(bt.properties.entitySet.radius))+3*r,"background-position-y":t/2-11+"px","background-width":"22px","background-height":"24px"}},eH=(e,t,n)=>{const r=yt(bt.properties.global.thickness),o=yt(bt.properties.global.onPrimary);let u;return u="Interacting"===n?3*r:"SUB"===n?5*r:0,{"background-image":`\n      <path style="transform: scale(1.5)" fill="${o}" stroke-width="0.4" stroke="${o}" d="M19.6864 21.0381C19.0364 21.0381 18.4531 20.8508 17.9364 20.4761C17.4197 20.1008 17.0614 19.6214 16.8614 19.0381H11.6864C10.5864 19.0381 9.64473 18.6464 8.8614 17.8631C8.07807 17.0798 7.6864 16.1381 7.6864 15.0381C7.6864 13.9381 8.07807 12.9964 8.8614 12.2131C9.64473 11.4298 10.5864 11.0381 11.6864 11.0381H13.6864C14.2364 11.0381 14.7074 10.8421 15.0994 10.4501C15.4907 10.0588 15.6864 9.58809 15.6864 9.03809C15.6864 8.48809 15.4907 8.01709 15.0994 7.62509C14.7074 7.23375 14.2364 7.03809 13.6864 7.03809H8.5114C8.29473 7.62142 7.9324 8.10075 7.4244 8.47609C6.91573 8.85075 6.3364 9.03809 5.6864 9.03809C4.85307 9.03809 4.14473 8.74642 3.5614 8.16309C2.97807 7.57975 2.6864 6.87142 2.6864 6.03809C2.6864 5.20475 2.97807 4.49642 3.5614 3.91309C4.14473 3.32975 4.85307 3.03809 5.6864 3.03809C6.3364 3.03809 6.91573 3.22542 7.4244 3.60009C7.9324 3.97542 8.29473 4.45475 8.5114 5.03809H13.6864C14.7864 5.03809 15.7281 5.42975 16.5114 6.21309C17.2947 6.99642 17.6864 7.93809 17.6864 9.03809C17.6864 10.1381 17.2947 11.0798 16.5114 11.8631C15.7281 12.6464 14.7864 13.0381 13.6864 13.0381H11.6864C11.1364 13.0381 10.6657 13.2338 10.2744 13.6251C9.8824 14.0171 9.6864 14.4881 9.6864 15.0381C9.6864 15.5881 9.8824 16.0591 10.2744 16.4511C10.6657 16.8424 11.1364 17.0381 11.6864 17.0381H16.8614C17.0781 16.4548 17.4407 15.9754 17.9494 15.6001C18.4574 15.2254 19.0364 15.0381 19.6864 15.0381C20.5197 15.0381 21.2281 15.3298 21.8114 15.9131C22.3947 16.4964 22.6864 17.2048 22.6864 18.0381C22.6864 18.8714 22.3947 19.5798 21.8114 20.1631C21.2281 20.7464 20.5197 21.0381 19.6864 21.0381ZM5.6864 7.03809C5.96973 7.03809 6.2074 6.94242 6.3994 6.75109C6.59073 6.55909 6.6864 6.32142 6.6864 6.03809C6.6864 5.75475 6.59073 5.51709 6.3994 5.32509C6.2074 5.13375 5.96973 5.03809 5.6864 5.03809C5.40307 5.03809 5.1654 5.13375 4.9734 5.32509C4.78207 5.51709 4.6864 5.75475 4.6864 6.03809C4.6864 6.32142 4.78207 6.55909 4.9734 6.75109C5.1654 6.94242 5.40307 7.03809 5.6864 7.03809Z" />\n    `,"background-position-x":u,"background-position-y":t/2-18+"px","background-width":"36px","background-height":"36px"}},tH=_T('<line x1="2.5" y1="3" x2="4.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/><line x1="5.5" y1="3" x2="7.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/>',10,10);const MC={selecting:!1,hovering:!1,deHovering:!1},IC=(e,t)=>n=>{MC[t]||(MC[t]=!0,e(n.connectedEdges().add(n)),MC[t]=!1)};function xT(e,t){return new sH(e,t)}class sH extends Array{constructor(t,n){super(t,n)}get x(){return this[0]}get y(){return this[1]}}function MT(e,t){if(e<t.at(0).x)return t.at(0).y;if(e>t.at(-1).x)return t.at(-1).y;for(let n=0;n+1<t.length;n++){let r=uH(e,t[n],t[n+1]);if(r)return r}return console.assert(!1,"Should not arrive here"),0}function uH(e,t,n){if(!(e<t.x||e>n.x))return(t.y*(n.x-e)+n.y*(e-t.x))/(n.x-t.x)}class bt{constructor(t,n={}){this.p=$3,this.pm=H3,bt.css=getComputedStyle(t),bt.properties=function nH(e={},t){const n=$s(e.global||{}).setDefault("thickness",4).setDefault("surface",()=>t.getPropertyValue("--surface")||"#F6FEFF").setDefault("onSurface",()=>t.getPropertyValue("--on-surface")||"#001F24").setDefault("primary",()=>t.getPropertyValue("--primary")||"#006782").setDefault("onPrimary",()=>t.getPropertyValue("--on-primary")||"#FFFFFF").setDefault("positive",()=>t.getPropertyValue("--positive")||"#0C9509").setDefault("negative",()=>t.getPropertyValue("--negative")||"#BA1A1A").setDefault("selectNode",()=>t.getPropertyValue("--select-node")||"#6EB3E4").setDefault("selectEdge",()=>t.getPropertyValue("--select-edge")||"#0561A6").setDefault("hoverNode",()=>t.getPropertyValue("--hover-node")||"#78E076").setDefault("hoverEdge",()=>t.getPropertyValue("--hover-edge")||"#04B601"),r=$s(e.compartment||{}).setDefault("opacity",.06).setDefault("fill",()=>t.getPropertyValue("--compartment")||"#E5834A"),o=$s(e.shadow||{}).setDefault("opacity",[[.2,.2],[.4,0]]).setDefault("labelOpacity",[[.2,1],[.4,0]]),u=$s(e.protein||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-1")||"#001F29").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-1")||"#3E001D").setDefault("radius",8),d=$s(e.genomeEncodedEntity||{}).setDefault("fill",()=>yt(u.fill)).setDefault("stroke",()=>yt(n.primary)).setDefault("drug",()=>yt(u.drug)).setDefault("radius",8),v=$s(e.rna||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-2")||"#003545").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-2")||"#610B33").setDefault("radius",8),y=$s(e.gene||{}).setDefault("decorationHeight",20).setDefault("decorationExtraWidth",17).setDefault("arrowHeadSize",10).setDefault("borderRadius",8).setDefault("arrowRadius",8).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-3")||"#004D62"),_=$s(e.molecule||{}).setDefault("fill",()=>yt(n.surface)).setDefault("stroke",()=>yt(n.onSurface)).setDefault("drug",()=>t.getPropertyValue("--drug-contrast-4")||"#9C3D61"),I=$s(e.complex||{}).setDefault("cut",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-1")||"#00315C").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-4")||"#7E2549"),N=$s(e.entitySet||{}).setDefault("radius",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-2")||"#1660A5").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-5")||"#BB557A"),L=$s(e.pathway||{}).setDefault("fill",()=>yt(n.primary)).setDefault("stroke",()=>yt(n.onPrimary)).setDefault("disease",()=>yt(n.negative)),Q=$s(e.modification||{}).setDefault("fill",t.getPropertyValue("--primary-contrast-2")||"#003545");return{global:n,compartment:r,shadow:o,protein:u,genomeEncodedEntity:d,rna:v,gene:y,molecule:_,complex:I,entitySet:N,pathway:L,modification:Q}}(n,bt.css)}bindToCytoscape(t){!function rH(e){(function iH(e){const t=IC(r=>r.addClass("hover"),"hovering"),n=IC(r=>r.removeClass("hover"),"deHovering");e.nodes().on("mouseover",r=>r.target.addClass("hover")).on("mouseout",r=>r.target.removeClass("hover")).nodes(".reaction").on("mouseover",r=>t(r.target)).on("mouseout",r=>n(r.target)),e.nodes(".Modification").on("mouseover",r=>e.nodes(`#${r.target.data("nodeId")}`).addClass("hover")).on("mouseout",r=>e.nodes(`#${r.target.data("nodeId")}`).removeClass("hover")),e.edges().on("mouseover",r=>t(r.target.connectedNodes(".reaction"))).on("mouseout",r=>n(r.target.connectedNodes(".reaction")))})(e),function oH(e){const t=IC(n=>n.select(),"selecting");e.edges().on("select",n=>t(n.target.connectedNodes(".reaction"))).on("unselect",n=>t(e.edges(":selected").connectedNodes(".reaction").add(e.nodes(".reaction:selected")))),e.nodes(".reaction").on("select",n=>t(n.target)),e.nodes(".Modification").on("select",n=>e.nodes(`#${n.target.data("nodeId")}`).select())}(e),function aH(e){const t=e.edges("[?shadow]"),n=e.nodes(".Shadow");e.minZoom(Math.min(e.zoom(),yt(bt.properties.shadow.labelOpacity)[0][0])),e.maxZoom(15),e.on("zoom",r=>{const o=e.zoom();t.stop().animate({style:{"underlay-opacity":MT(o,yt(bt.properties.shadow.opacity).map(u=>xT(...u)))}}),n.stop().animate({style:{"text-opacity":MT(o,yt(bt.properties.shadow.labelOpacity).map(u=>xT(...u)))}})})}(e)}(t)}getStyleSheet(){return[{selector:"*",style:{"font-family":"Helvetica","font-weight":600,"z-index":1}},{selector:"node.Compartment",style:{shape:"round-rectangle",width:"data(width)",height:"data(height)","border-style":"double","z-index":0,"z-compound-depth":"bottom","overlay-opacity":0,color:this.p("compartment","fill"),"border-color":this.p("compartment","fill"),"background-color":this.p("compartment","fill"),"background-opacity":this.p("compartment","opacity"),"border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.Compartment.inner, node.Compartment.outer",style:{"border-style":"solid","border-width":this.p("global","thickness")}},{selector:"node.Compartment.outer",style:{label:"data(displayName)","text-opacity":1,"text-valign":"bottom","text-halign":"right","text-margin-x":"data(textX)","text-margin-y":"data(textY)"}},{selector:"node.Shadow",style:{label:"data(displayName)","font-size":80,"background-opacity":0,color:"data(color)","text-valign":"center","text-halign":"center","text-outline-color":this.p("global","surface"),"text-outline-width":15,"text-wrap":"wrap","text-max-width":"data(width)"}},{selector:"node.drug",style:{"text-max-width":t=>t.width()-44+"px"}},{selector:"node.PhysicalEntity, node.Pathway, node.Modification",style:{label:"data(displayName)",width:"data(width)",height:"data(height)","background-fit":"none","text-halign":"center","text-valign":"center","text-wrap":"wrap","text-max-width":"data(width)","background-image-smoothing":"no","background-image":t=>sf(t)["background-image"],"background-position-y":t=>sf(t)["background-position-y"]||0,"background-position-x":t=>sf(t)["background-position-x"]||0,"background-height":t=>sf(t)["background-height"]||"100%","background-width":t=>sf(t)["background-width"]||"100%","background-clip":t=>sf(t)["background-clip"]||"clipped","background-image-containment":t=>sf(t)["background-image-containment"]||"inside","bounds-expansion":this.p("global","thickness"),color:this.p("global","onPrimary")}},{selector:"node.Protein",style:{shape:"round-rectangle","background-color":this.p("protein","fill")}},{selector:"node.Protein.drug",style:{"background-color":this.p("protein","drug")}},{selector:"node.GenomeEncodedEntity",style:{shape:"round-rectangle","background-color":this.p("genomeEncodedEntity","fill")}},{selector:"node.GenomeEncodedEntity.drug",style:{"background-color":this.p("genomeEncodedEntity","drug")}},{selector:"node.RNA",style:{shape:"bottom-round-rectangle","background-color":this.p("rna","fill")}},{selector:"node.RNA.drug",style:{"background-color":this.p("rna","drug")}},{selector:"node.Gene",style:{shape:"bottom-round-rectangle","background-opacity":0,"background-color":this.p("gene","fill"),"bounds-expansion":this.p("gene","decorationExtraWidth"),"text-margin-y":this.pm("gene","decorationHeight",t=>t/2)}},{selector:"node.Molecule",style:{"background-opacity":0,shape:"round-rectangle",color:this.p("molecule","stroke")}},{selector:"node.Molecule.drug",style:{color:this.p("molecule","drug")}},{selector:"node.EntitySet",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n+"px"))}},{selector:"node.EntitySet.drug",style:{"text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n-44+"px"))}},{selector:"node.Complex",style:{"background-opacity":0,shape:"cut-rectangle","text-max-width":t=>this.pm("global","thickness",n=>t.width()-3*n+"px")}},{selector:"node.Pathway",style:{"background-color":this.p("pathway","fill"),"text-max-width":t=>this.pm("global","thickness",n=>t.width()-8*n-96+"px")}},{selector:"node.Interacting.Pathway",style:{shape:"rectangle","border-color":this.p("pathway","stroke"),"border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.SUB.Pathway",style:{"background-opacity":0,shape:"round-rectangle"}},{selector:"node.Modification",style:{"background-color":this.p("modification","fill"),shape:"round-rectangle"}},{selector:"node.reaction",style:{width:this.pm("global","thickness",t=>6*t),height:this.pm("global","thickness",t=>6*t),shape:"round-rectangle","text-halign":"center","text-valign":"center","border-width":this.p("global","thickness"),"border-color":this.p("global","onSurface"),color:this.p("global","onSurface"),"background-color":this.p("global","surface")}},{selector:"node.reaction.hover",style:{"border-width":this.pm("global","thickness",t=>1*t),"border-color":this.p("global","hoverEdge")}},{selector:"node.reaction:selected",style:{"border-width":this.pm("global","thickness",t=>1.5*t),"border-color":this.p("global","selectEdge")}},{selector:"node.association",style:{shape:"ellipse","background-color":this.p("global","onSurface")}},{selector:" node.dissociation",style:{shape:"ellipse","border-style":"double","border-width":this.pm("global","thickness",t=>3*t)}},{selector:" node.uncertain",style:{label:"?","font-weight":600}},{selector:"node.omitted",style:{"background-image":tH,"background-fit":"cover","background-height":"100%","background-width":"100%"}},{selector:"edge",style:{"curve-style":"bezier","line-cap":"round","source-endpoint":"outside-to-node","arrow-scale":1.5,width:this.p("global","thickness"),color:this.p("global","onSurface"),"line-color":this.p("global","onSurface"),"target-arrow-color":this.p("global","onSurface"),"mid-source-arrow-color":this.p("global","onSurface"),"mid-target-arrow-color":this.p("global","onSurface"),"source-arrow-color":this.p("global","onSurface"),"source-arrow-width":"100%","target-arrow-width":"100%"}},{selector:"edge.hover",style:{"line-color":this.p("global","hoverEdge"),width:this.pm("global","thickness",t=>1.5*t),"arrow-scale":1,"source-arrow-color":this.p("global","hoverEdge"),"target-arrow-color":this.p("global","hoverEdge"),"source-arrow-width":"50%","target-arrow-width":"50%","z-index":2}},{selector:"edge:selected",style:{"line-color":this.p("global","selectEdge"),width:this.pm("global","thickness",t=>2*t),"arrow-scale":1,"source-arrow-color":this.p("global","selectEdge"),"target-arrow-color":this.p("global","selectEdge"),"source-arrow-width":"50%","target-arrow-width":"50%","z-index":3}},{selector:"edge.consumption",style:{"target-endpoint":"inside-to-node","source-endpoint":"outside-to-node"}},{selector:"edge.production",style:{"target-arrow-shape":"triangle"}},{selector:"edge.catalysis",style:{"target-arrow-shape":"circle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.positive-regulation",style:{"target-arrow-shape":"triangle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.negative-regulation",style:{"target-arrow-shape":"tee","line-cap":"butt","source-endpoint":"inside-to-node","target-arrow-color":this.p("global","negative")}},{selector:"edge.set-to-member",style:{"target-arrow-shape":"circle","line-style":"dashed","line-dash-pattern":[6,10]}},{selector:"edge[stoichiometry > 1]",style:{"text-background-color":this.p("global","surface"),"text-background-opacity":1,"text-border-width":this.pm("global","thickness",t=>t/2),"text-border-opacity":1,"text-border-color":this.p("global","onSurface"),"text-background-shape":"roundrectangle","text-background-padding":this.pm("global","thickness",t=>t+"px")}},{selector:"edge[stoichiometry > 1].incoming",style:{"source-label":"data(stoichiometry)","source-text-offset":30}},{selector:"edge[stoichiometry > 1].outgoing",style:{"target-label":"data(stoichiometry)","target-text-offset":35}},{selector:"edge[?shadow]",style:{"underlay-color":"data(shadow)","underlay-padding":20,"underlay-opacity":this.pm("shadow","opacity",t=>t[0][1])}},{selector:"edge[?weights]",style:{"curve-style":"unbundled-bezier","control-point-distances":"data(distances)","control-point-weights":"data(weights)","edge-distances":"endpoints"}},{selector:"edge[?sourceEndpoint]",style:{"source-endpoint":"data(sourceEndpoint)"}},{selector:"edge[?targetEndpoint]",style:{"target-endpoint":"data(targetEndpoint)"}},{selector:"node.debug",style:{label:"data(id)","text-outline-width":4,"text-outline-color":"black","text-outline-opacity":1,color:"white"}}]}update(t){(function Q3(){for(let e of xC.values())e.cache.clear();sf.cache.clear()})(),t.style(this.getStyleSheet())}}var e,lH=Object.create,IT=Object.defineProperty,cH=Object.getOwnPropertyDescriptor,dH=Object.getOwnPropertyNames,fH=Object.getPrototypeOf,hH=Object.prototype.hasOwnProperty,TC=(e=function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e),AC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),vH=AC((e,t)=>{t.exports=function(n){return n&&"object"==typeof n&&"function"==typeof n.copy&&"function"==typeof n.fill&&"function"==typeof n.readUInt8}}),mH=AC((e,t)=>{t.exports="function"==typeof Object.create?function(n,r){n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,r){n.super_=r;var o=function(){};o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}}),yH=AC(e=>{var t=/%[sdj%]/g;e.format=function(ke){if(!ft(ke)){for(var et=[],At=0;At<arguments.length;At++)et.push(o(arguments[At]));return et.join(" ")}At=1;for(var Pr=arguments,Ho=Pr.length,ui=String(ke).replace(t,function(li){if("%%"===li)return"%";if(At>=Ho)return li;switch(li){case"%s":return String(Pr[At++]);case"%d":return Number(Pr[At++]);case"%j":try{return JSON.stringify(Pr[At++])}catch{return"[Circular]"}default:return li}}),rr=Pr[At];At<Ho;rr=Pr[++At])Se(rr)||!Vn(rr)?ui+=" "+rr:ui+=" "+o(rr);return ui},e.deprecate=function(ke,et){if(ye(global.process))return function(){return e.deprecate(ke,et).apply(this,arguments)};if(!0===process.noDeprecation)return ke;var At=!1;return function Pr(){if(!At){if(process.throwDeprecation)throw new Error(et);process.traceDeprecation?console.trace(et):console.error(et),At=!0}return ke.apply(this,arguments)}};var r,n={};function o(ke,et){var At={seen:[],stylize:d};return arguments.length>=3&&(At.depth=arguments[2]),arguments.length>=4&&(At.colors=arguments[3]),ce(et)?At.showHidden=et:et&&e._extend(At,et),ye(At.showHidden)&&(At.showHidden=!1),ye(At.depth)&&(At.depth=2),ye(At.colors)&&(At.colors=!1),ye(At.customInspect)&&(At.customInspect=!0),At.colors&&(At.stylize=u),y(At,ke,At.depth)}function u(ke,et){var At=o.styles[et];return At?"\x1b["+o.colors[At][0]+"m"+ke+"\x1b["+o.colors[At][1]+"m":ke}function d(ke,et){return ke}function y(ke,et,At){if(ke.customInspect&&et&&ua(et.inspect)&&et.inspect!==e.inspect&&(!et.constructor||et.constructor.prototype!==et)){var Pr=et.inspect(At,ke);return ft(Pr)||(Pr=y(ke,Pr,At)),Pr}var Ho=function _(ke,et){if(ye(et))return ke.stylize("undefined","undefined");if(ft(et)){var At="'"+JSON.stringify(et).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ke.stylize(At,"string")}return Ee(et)?ke.stylize(""+et,"number"):ce(et)?ke.stylize(""+et,"boolean"):Se(et)?ke.stylize("null","null"):void 0}(ke,et);if(Ho)return Ho;var ui=Object.keys(et),rr=function v(ke){var et={};return ke.forEach(function(At,Pr){et[At]=!0}),et}(ui);if(ke.showHidden&&(ui=Object.getOwnPropertyNames(et)),sa(et)&&(ui.indexOf("message")>=0||ui.indexOf("description")>=0))return I(et);if(0===ui.length){if(ua(et))return ke.stylize("[Function"+(et.name?": "+et.name:"")+"]","special");if(Gt(et))return ke.stylize(RegExp.prototype.toString.call(et),"regexp");if(io(et))return ke.stylize(Date.prototype.toString.call(et),"date");if(sa(et))return I(et)}var kC,li="",lf=!1,aw=["{","}"];return oe(et)&&(lf=!0,aw=["[","]"]),ua(et)&&(li=" [Function"+(et.name?": "+et.name:"")+"]"),Gt(et)&&(li=" "+RegExp.prototype.toString.call(et)),io(et)&&(li=" "+Date.prototype.toUTCString.call(et)),sa(et)&&(li=" "+I(et)),0!==ui.length||lf&&0!=et.length?At<0?Gt(et)?ke.stylize(RegExp.prototype.toString.call(et),"regexp"):ke.stylize("[Object]","special"):(ke.seen.push(et),kC=lf?function N(ke,et,At,Pr,Ho){for(var ui=[],rr=0,oo=et.length;rr<oo;++rr)PC(et,String(rr))?ui.push(L(ke,et,At,Pr,String(rr),!0)):ui.push("");return Ho.forEach(function(li){li.match(/^\d+$/)||ui.push(L(ke,et,At,Pr,li,!0))}),ui}(ke,et,At,rr,ui):ui.map(function($4){return L(ke,et,At,rr,$4,lf)}),ke.seen.pop(),function Q(ke,et,At){var Ho=ke.reduce(function(ui,rr){return rr.indexOf("\n"),ui+rr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ho>60?At[0]+(""===et?"":et+"\n ")+" "+ke.join(",\n  ")+" "+At[1]:At[0]+et+" "+ke.join(", ")+" "+At[1]}(kC,li,aw)):aw[0]+li+aw[1]}function I(ke){return"["+Error.prototype.toString.call(ke)+"]"}function L(ke,et,At,Pr,Ho,ui){var rr,oo,li;if((li=Object.getOwnPropertyDescriptor(et,Ho)||{value:et[Ho]}).get?oo=ke.stylize(li.set?"[Getter/Setter]":"[Getter]","special"):li.set&&(oo=ke.stylize("[Setter]","special")),PC(Pr,Ho)||(rr="["+Ho+"]"),oo||(ke.seen.indexOf(li.value)<0?(oo=Se(At)?y(ke,li.value,null):y(ke,li.value,At-1)).indexOf("\n")>-1&&(oo=ui?oo.split("\n").map(function(lf){return"  "+lf}).join("\n").substr(2):"\n"+oo.split("\n").map(function(lf){return"   "+lf}).join("\n")):oo=ke.stylize("[Circular]","special")),ye(rr)){if(ui&&Ho.match(/^\d+$/))return oo;(rr=JSON.stringify(""+Ho)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(rr=rr.substr(1,rr.length-2),rr=ke.stylize(rr,"name")):(rr=rr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),rr=ke.stylize(rr,"string"))}return rr+": "+oo}function oe(ke){return Array.isArray(ke)}function ce(ke){return"boolean"==typeof ke}function Se(ke){return null===ke}function Ee(ke){return"number"==typeof ke}function ft(ke){return"string"==typeof ke}function ye(ke){return void 0===ke}function Gt(ke){return Vn(ke)&&"[object RegExp]"===Ri(ke)}function Vn(ke){return"object"==typeof ke&&null!==ke}function io(ke){return Vn(ke)&&"[object Date]"===Ri(ke)}function sa(ke){return Vn(ke)&&("[object Error]"===Ri(ke)||ke instanceof Error)}function ua(ke){return"function"==typeof ke}function Ri(ke){return Object.prototype.toString.call(ke)}function Us(ke){return ke<10?"0"+ke.toString(10):ke.toString(10)}e.debuglog=function(ke){if(ye(r)&&(r=process.env.NODE_DEBUG||""),ke=ke.toUpperCase(),!n[ke])if(new RegExp("\\b"+ke+"\\b","i").test(r)){var et=process.pid;n[ke]=function(){var At=e.format.apply(e,arguments);console.error("%s %d: %s",ke,et,At)}}else n[ke]=function(){};return n[ke]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=oe,e.isBoolean=ce,e.isNull=Se,e.isNullOrUndefined=function Ze(ke){return null==ke},e.isNumber=Ee,e.isString=ft,e.isSymbol=function Lt(ke){return"symbol"==typeof ke},e.isUndefined=ye,e.isRegExp=Gt,e.isObject=Vn,e.isDate=io,e.isError=sa,e.isFunction=ua,e.isPrimitive=function Hs(ke){return null===ke||"boolean"==typeof ke||"number"==typeof ke||"string"==typeof ke||"symbol"==typeof ke||typeof ke>"u"},e.isBuffer=vH();var Oa=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function PC(ke,et){return Object.prototype.hasOwnProperty.call(ke,et)}e.log=function(){console.log("%s - %s",function Ug(){var ke=new Date,et=[Us(ke.getHours()),Us(ke.getMinutes()),Us(ke.getSeconds())].join(":");return[ke.getDate(),Oa[ke.getMonth()],et].join(" ")}(),e.format.apply(e,arguments))},e.inherits=mH(),e._extend=function(ke,et){if(!et||!Vn(et))return ke;for(var At=Object.keys(et),Pr=At.length;Pr--;)ke[At[Pr]]=et[At[Pr]];return ke}}),TT=e=>e.reduce((t,n)=>t.concat(Array.isArray(n)?TT(n):n),[]),AT=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),RT=e=>e.reduce((t,n)=>t*n,1),NT=e=>Array.isArray(e)||AT(e)?[e.length].concat(NT(e[0])):[],RC=e=>[...e.slice(1).map((t,n)=>e.slice(n+1).reduce((r,o)=>r*o,1)),1],wH=e=>{let{constructor:{name:t="Float32Array"}={}}=e||{};switch(t){case"Int8Array":return"int8";case"Uint8Array":return"uint8";case"Int16Array":return"int16";case"Uint16Array":return"uint16";case"Int32Array":return"int32";case"Uint32Array":return"uint32";case"Uint8ClampedArray":return"uint8c";case"Float32Array":return"float32";default:return"float64"}},$g=e=>{switch(e){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"uint8c":return Uint8ClampedArray;case"float32":return Float32Array;default:return Float64Array}},Ke=(...e)=>new Au(...e),sn=class{x;shape;shapem1;strides;backstrides;length;lengthm1;nd;ndm1;index;coords;pos;factors;constructor(e){this.x=Ke(e);let o,{shape:t,strides:n,length:r}=this.x;for(this.length=r,this.lengthm1=r-1,this.nd=t.length,this.ndm1=this.nd-1,this.shape=Array(32).fill(0),this.strides=Array(32).fill(0),this.shapem1=Array(32).fill(0),this.coords=Array(32).fill(0),this.backstrides=Array(32).fill(0),this.factors=Array(32).fill(0),0!==this.nd&&(this.factors[this.nd-1]=1),o=0;o<this.nd;o+=1)this.shape[o]=t[o],this.shapem1[o]=t[o]-1,this.strides[o]=n[o],this.backstrides[o]=n[o]*this.shapem1[o],this.coords[o]=0,o>0&&(this.factors[this.ndm1-o]=this.factors[this.nd-o]*t[this.nd-o]);this.index=0,this.pos=0}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;let u,{ndm1:t,shapem1:n,strides:r,backstrides:o}=this;for(u=t;u>=0;u-=1){if(this.coords[u]<n[u]){this.coords[u]+=1,this.pos+=r[u];break}this.coords[u]=0,this.pos-=o[u]}return this.index+=1,e}[Symbol.iterator](){return this}},Hg=class{iters;shape;nd;length;lengthm1;numiter;index;pos;constructor(...e){let t,n,r,o,u,d;for(this.iters=e.map(v=>new sn(v)),this.numiter=e.length,t=0,n=0;t<this.numiter;t+=1)n=Math.max(n,this.iters[t].x.shape.length);for(this.nd=n,this.shape=Array(n).fill(0),t=0;t<n;t+=1)for(this.shape[t]=1,o=0;o<this.numiter;o+=1)if(r=this.iters[o],u=t+r.x.shape.length-n,u>=0){if(d=r.x.shape[u],1==d)continue;if(1==this.shape[t])this.shape[t]=d;else if(this.shape[t]!==d)throw new Error("shape mismatch")}for(d=this.shape.reduce((v,y)=>v*y,1),this.length=d,this.lengthm1=d-1,t=0;t<this.numiter;t+=1)for(r=this.iters[t],r.nd=this.nd,r.ndm1=this.nd-1,r.length=d,r.lengthm1=d-1,n=r.x.shape.length,0!==n&&(r.factors[this.nd-1]=1),o=0;o<this.nd;o+=1)r.shape[o]=this.shape[o],r.shapem1[o]=this.shape[o]-1,u=o+n-this.nd,r.strides[o]=u<0||r.x.shape[u]!==this.shape[o]?0:r.x.strides[u],r.backstrides[o]=r.strides[o]*r.shapem1[o],o>0&&(r.factors[this.nd-o-1]=r.factors[this.nd-o]*this.shape[this.nd-o]);this.index=0,this.pos=Array(this.numiter).fill(0)}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;this.index+=1;let n,r,{numiter:t}=this;for(r=0;r<t;r+=1)n=this.iters[r],this.pos[r]=n.pos,n.next();return e}[Symbol.iterator](){return this}},{abs:bH}=Math;function DH(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=bH(e[n]);return this}var{acos:CH}=Math;function EH(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=CH(e[n]);return this}var Ci,{acosh:_H}=Math;function SH(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=_H(e[n]);return this}try{Ci=TC("nblas")}catch{}var PT=Ci&&Ci.NoTrans,kT=(e,t,n=1)=>Ke(e).add(Ke(t),n);function NH(e,t=1){let{data:n,length:r,strides:o,dtype:u}=this,{data:d,strides:v}=Ke(e);try{let y=v[v.length-1],_=o[o.length-1];if(y!==_)throw new Error("inc_x and inc_y must be equal");!function xH(e,t,n,r,o,u,d){if(r.length/o!==t||u.length/d!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ci.daxpy(t,n,r,o,u,d);case"float32":return Ci.saxpy(t,n,r,o,u,d);default:throw new Error("wrong dtype")}}(u,r,t,d,y,n,_)}catch{let y=new Hg(this,e);for(let[_,I]of y)n[_]+=t*d[I]}return this}var{acos:PH}=Math;function kH(e){return PH(this.dot(Ke(e))/this.norm()/Ke(e).norm())}var{asin:OH}=Math;function FH(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=OH(e[n]);return this}var{asinh:LH}=Math;function BH(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=LH(e[n]);return this}var{atan:VH}=Math;function $H(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=VH(e[n]);return this}var{atanh:HH}=Math;function UH(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=HH(e[n]);return this}var uf=(...e)=>new Au(new Float64Array(e.reduce((t,n)=>t*n,1)),{shape:e}).fill(0);function jH(e){let[t,n]=this.shape,[r,o]=Ke(e).shape,{data:u}=this,{data:d}=Ke(e);if(0===r||0===o)return this;if(t!==r)throw new Error("rows do not match");let _,I,v=uf(t,n+o),{data:y}=v;for(_=0;_<t;_+=1)for(I=0;I<n;I+=1)y[_*(n+o)+I]=u[_*n+I];for(_=0;_<r;_+=1)for(I=0;I<o;I+=1)y[_*(n+o)+(I+n)]=d[_*o+I];return v}function GH(e,t){let{data:n}=this,{data:r}=Ke(e),o=new Hg(this,e);for(let[u,d]of o)n[u]=t(n[u],r[d],u);return this}var{cbrt:qH}=Math;function WH(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=qH(e[n]);return this}var{ceil:ZH}=Math;function KH(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=ZH(e[n]);return this}function YH(...e){let{shape:t,length:n}=this;if(1===e.length){let[r]=e;if(r<0||r>n-1||!Number.isFinite(r))throw new Error("index out of bounds")}else if(!t.every((r,o)=>r>e[o]&&Number.isFinite(e[o])&&e[o]>=0))throw new Error("index out of bounds")}function XH(e){if(1!==this.shape.length&&1!==e.shape.length)throw new Error("combine operation not permitted for multidimensional arrays");let{length:t,data:n}=this,{length:r,data:o}=e;if(0===r)return this;if(0===t)return this.data=new($g(e.dtype))(o),this.length=r,this.dtype=e.dtype,this;let u=t+r,d=new($g(this.dtype))(u);return d.set(n),d.set(o,t),this.data=d,this.length=u,this.shape=[u],this}function QH(){let e=uf(...this.shape),{data:t}=this,{data:n}=e,r=new Hg(this,e);for(let[o,u]of r)n[u]=t[o];return e}var{cos:JH}=Math;function e5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=JH(e[n]);return this}var{cosh:t5}=Math;function n5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=t5(e[n]);return this}function r5(e){let{length:t}=this,{length:n}=e;if(3!==t||3!==n)throw new Error("vectors must have three components");let o=this.z*e.x-this.x*e.z,u=this.x*e.y-this.y*e.x;return this.x=this.y*e.z-this.z*e.y,this.y=o,this.z=u,this}function i5(){this.square();let d,[e]=this.shape,[t,n]=this.copy().lu_factor(),{data:r}=t,o=1,u=1;for(d=0;d<e;d+=1)o*=r[d*e+d],d!==n[d]-1&&(u*=-1);return u*o}function o5(){this.square();let{length:e}=this,[t,n]=this.shape,r=Math.min(t,n);return this.reshape(e).slice(0,e,r+1)}function a5(e){let{data:t,length:n,strides:r,dtype:o}=this,{data:u,strides:d}=e,v=0;try{let y=d[d.length-1],_=r[r.length-1];if(y!==_)throw new Error("inc_x and inc_y must be equal");v=function MH(e,t,n,r,o,u){if(n.length/r!==t||o.length/u!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ci.ddot(t,n,r,o,u);case"float32":return Ci.sdot(t,n,r,o,u);default:throw new Error("wrong dtype")}}(o,n,u,y,t,_)}catch{let y=new Hg(this,e);for(let[_,I]of y)v+=t[_]*u[I]}return v}var jm,OT=e=>{let r,t=new Au(new Float64Array(e*e),{shape:[e,e]}),{data:n}=t;for(r=0;r<e;r+=1)n[r*e+r]=1;return t};try{jm=TC("nlapack")}catch{}var ow=(e,t,n,r,o,u,d)=>{let[v]=e.shape,{data:y}=e,_=y[r*v+o],I=1/(t+n);y[r*v+o]=_-n*(y[u*v+d]+I*_),y[u*v+d]+=n*(_-I*y[u*v+d])};function s5(){this.square();let[e]=this.shape;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=$g(this.dtype).from(this.data));let t=jm.NoEigenvector,n=jm.Eigenvector,r=uf(e),o=uf(e),u=uf(e,e),d=uf(e,e),{data:v}=this,{data:y}=r,{data:_}=o,{data:I}=u,{data:N}=d;return"float64"===this.dtype&&jm.dgeev(t,n,e,v,e,y,_,I,e,N,e),"float32"===this.dtype&&jm.sgeev(t,n,e,v,e,y,_,I,e,N,e),[r,d]}catch{let{data:t}=this,n=OT(e),r=0,o=0,u=0,d=0,v=0;do{for(o=0;o<e;o+=1)for(u=o+1;u<e;u+=1)Math.abs(t[o*e+u])>=r&&(r=Math.abs(t[o*e+u]),d=o,v=u);let y;if(Math.abs(t[d*e+v])<1e-36*Math.abs(t[v*e+v]))y=t[d*e+v]/t[v*e+v];else{let L=t[v*e+v]/2*t[d*e+v];y=1/(Math.abs(L)+Math.sqrt(L*L+1))}let _=1/Math.sqrt(y*y+1),I=y*_,N=t[d*e+v];for(t[d*e+v]=0,t[d*e+d]-=y*N,t[v*e+v]+=y*N,o=0;o<d;o+=1)ow(this,_,I,o,d,o,v);for(o=d+1;o<v;o+=1)ow(this,_,I,d,o,o,v);for(o=v+1;o<e;o+=1)ow(this,_,I,d,o,v,o);for(o=0;o<e;o+=1)ow(n,_,I,o,d,o,v)}while(r>=1e-9);return[this.diagonal(),n]}}function u5(e,t=1e-6){let{data:n}=this,{data:r}=e,o=new Hg(this,e);for(let[u,d]of o)if(Math.abs(n[u]-r[d])>t)return!1;return!0}function l5(e){let{shape:t}=this,{shape:n}=e;if(!t.every((r,o)=>r===n[o]))throw new Error(`shapes ${t} and ${n} do not match`)}function c5(e){let{length:t}=this,{length:n}=e;if(t!==n)throw new Error(`lengths ${t} and ${n} do not match`)}var{exp:d5}=Math;function f5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=d5(e[n]);return this}var{expm1:h5}=Math;function p5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=h5(e[n]);return this}function g5(e=0){let{data:t}=this,n=new sn(this);for(let r of n)t[r]=e instanceof Function?e(r):e;return this}var{floor:v5}=Math;function m5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=v5(e[n]);return this}function y5(e){let{data:t}=this,n=new sn(this);for(let r of n)e.call(this,t[r],r,t)}var jh,{fround:w5}=Math;function b5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=w5(e[n]);return this}function D5(){let o,u,d,v,y,{shape:[e,t],data:n}=this,r=0;for(d=0;d<e;d+=1){if(t<=r)return this;for(v=d;0===n[v*t+r];)if(v+=1,e===v&&(v=d,r+=1,t===r))return this;if(d!==v&&this.swap(d,v),u=n[d*t+r],0!==u)for(y=0;y<t;y+=1)n[d*t+y]/=u;for(v=0;v<e;v+=1)if(o=n[v*t+r],v!==d)for(y=0;y<t;y+=1)n[v*t+y]-=n[d*t+y]*o;r+=1}for(d=0;d<e;d+=1){for(u=0,v=0;v<t;v+=1)0===u&&(u=n[d*t+v]);if(0!==u)for(y=0;y<t;y+=1)n[d*t+y]/=u}return this}function C5(...e){this.check(...e);let u,d,{data:t,shape:n}=this,{length:r}=n,o=e[r-1];for(u=0;u<r-1;u+=1){let v=1;for(d=u+1;d<r;d+=1)v*=n[d];o+=e[u]*v}return t[o]}try{jh=TC("nlapack")}catch{}function FT(e,t,n,r,o,u){if(r.length!==t*n)throw new Error("lengths do not match");switch(e){case"float64":return jh.dgetrf(t,n,r,o,u);case"float32":return jh.sgetrf(t,n,r,o,u);default:throw new Error("wrong dtype")}}function S5(){this.square();let{shape:[e],dtype:t}=this;try{let{data:n}=this,r=new Int32Array(e);return FT(t,e,e,n,e,r),function E5(e,t,n,r,o){if(n.length!==t*t)throw new Error("lengths do not match");switch(e){case"float64":return jh.dgetri(t,n,r,o);case"float32":return jh.sgetri(t,n,r,o);default:throw new Error("wrong dtype")}}(t,e,n,e,r),this}catch{let n=OT(e),r=((e,t)=>Ke(this).augment(Ke(t)))(0,n).gauss(),o=uf(e,e),u=uf(e,e),{data:d}=r,{data:v}=o,{data:y}=u,_=new sn(r),[I,N]=_.coords;for(let L of _)N<e?v[I*e+N]=d[L]:y[I*e+(N-e)]=d[L],[I,N]=_.coords;if(!o.equals(n))throw new Error("matrix is not invertible");return u}}var{log:x5}=Math;function M5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=x5(e[n]);return this}var{log10:I5}=Math;function T5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=I5(e[n]);return this}var{log1p:A5}=Math;function R5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=A5(e[n]);return this}var{log2:N5}=Math;function P5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=N5(e[n]);return this}function k5(){let[e,t]=this.copy().lu_factor(),n=e.copy(),r=e.copy(),{data:o}=n,{data:u}=r,d=new sn(e),[v,y]=d.coords;for(let _ of d)y<v?u[_]=0:o[_]=v===y?1:0,[v,y]=d.coords;return[n,r,t]}function O5(){let{data:e,shape:[t],dtype:n}=this,r=new Int32Array(t);try{FT(n,t,t,e,t,r)}catch{let o,u,d,v,y,_,I;for(I=0;I<t;I+=1){for(v=I,o=Math.abs(e[I*t+I]),_=I+1;_<t;_+=1)u=Math.abs(e[_*t+I]),o<u&&(o=u,v=_);for(r[I]=v+1,v!==I&&this.swap(I,v),d=e[I*t+I],y=I+1;y<t;y+=1)e[y*t+I]/=d;for(y=I+1;y<t;y+=1){for(_=I+1;_<t-1;_+=2)e[y*t+_]-=e[y*t+I]*e[I*t+_],e[y*t+_+1]-=e[y*t+I]*e[I*t+_+1];_===t-1&&(e[y*t+_]-=e[y*t+I]*e[I*t+_])}}}return[this,r]}function F5(e){let{data:t}=this,n=new sn(this),r=e.bind(this),o=this.copy(),{data:u}=o;for(let d of n)u[d]=r(t[d],d,t);return o}function L5(){let{data:e,length:t,strides:n,dtype:r}=this,o=Number.NEGATIVE_INFINITY;try{o=e[function IH(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ci.idamax(t,n,r);case"float32":return Ci.isamax(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])]}catch{let u=new sn(this);for(let d of u){let v=e[d];o<v&&(o=v)}}return o}function B5(){let{data:e,length:t}=this,n=new sn(this),r=0;for(let o of n)r+=e[o];return r/t}function V5(){let{data:e}=this,t=new sn(this),n=Number.POSITIVE_INFINITY;for(let r of t){let o=e[r];n>o&&(n=o)}return n}function H5(e){let{shape:[t,n],data:r,dtype:o}=this.copy(),{shape:[u,d],data:v}=e.copy();if(n!==u)throw new Error("sizes do not match");let y=((e,t)=>new Au(new Float64Array(e*t),{shape:[e,t]}))(t,d),{data:_}=y;try{!function TH(e,t,n,r,o,u,d,v,y,_,I,N,L,Q){let{length:oe}=v,{length:ce}=_,{length:Se}=L;if(t===Ci.NoTrans&&oe!==y*r||t===Ci.Trans&&oe!==y*u)throw new Error("lengths do not match");if(n===Ci.NoTrans&&ce!==I*u||n===Ci.Trans&&ce!==I*o)throw new Error("lengths do not match");if(Se!==Q*r)throw new Error("lengths do not match");switch(e){case"float64":return Ci.dgemm(t,n,r,o,u,d,v,y,_,I,N,L,Q);case"float32":return Ci.sgemm(t,n,r,o,u,d,v,y,_,I,N,L,Q);default:throw new Error("wrong dtype")}}(o,PT,PT,t,d,n,1,r,n,v,d,0,_,d)}catch{let N,I=new sn(y),[L,Q]=I.coords;for(let oe of I){let ce=0;for(N=0;N<n;N+=1)ce+=r[L*n+N]*v[N*d+Q];_[oe]=ce,[L,Q]=I.coords}}return y}var{sqrt:U5}=Math;function z5(){let{data:e,length:t,strides:n,dtype:r}=this,o=0;try{o=function AH(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ci.dnrm2(t,n,r);case"float32":return Ci.snrm2(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])}catch{o=U5(this.dot(this))}return o}function j5(){return this.scale(1/this.norm())}var{pow:G5}=Math;function q5(e){let{data:t}=this,n=new sn(this);for(let r of n)t[r]=G5(t[r],e);return this}function W5(){let{data:e}=this,t=new sn(this),n=1;for(let r of t)n*=e[r];return n}function Z5(e){let{data:t}=this,{data:n}=e,r=new Hg(this,e);for(let[o,u]of r)t[o]*=n[u];return this}function K5(e){return e.scale(this.dot(e)/e.dot(e))}function Y5(e){if(1!==this.shape.length)throw new Error("push operation not permitted for multidimensional arrays");let{data:t,length:n}=this,r=n+1,o=new($g(this.dtype))(r);return o.set(t),o[n]=e,this.data=o,this.length=r,this.shape=[r],this}function X5(e=1e-6){let{data:t}=this.copy().gauss(),n=new sn(this),r=0,[o,u]=n.coords;for(let d of n)r<=o&&u>=o&&Math.abs(t[d])>e&&(r+=1),[o,u]=n.coords;return r}function Q5(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=1/e[n];return this}function J5(e,t){let{data:n,length:r}=this;if(0===r&&typeof t>"u")throw new Error("Reduce of empty array with no initial value.");let d,o=new sn(this),u=e.bind(this);typeof t>"u"?(d=n[0],o.next()):d=t;for(let v of o)d=u(d,n[v],v,n);return d}function e4(...e){let{length:t}=this;if(e.reduce((n,r)=>n*r,1)!==t)throw new Error(`shape ${e} does not match length ${t}`);return this.shape=e,this.strides=RC(e),this}var{round:t4}=Math;function n4(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=t4(e[n]);return this}function r4(e,t,n=1){this.check(e,0),this.check(t,0);let u,[,r]=this.shape,{data:o}=this;for(u=0;u<r;u+=1)o[e*r+u]+=o[t*r+u]*n;return this}function i4(e){let{data:t,length:n,strides:r,dtype:o}=this;try{!function RH(e,t,n,r,o){if(r.length/o!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ci.dscal(t,n,r,o);case"float32":return Ci.sscal(t,n,r,o);default:throw new Error("wrong dtype")}}(o,n,e,t,r[r.length-1])}catch{let u=new sn(this);for(let d of u)t[d]*=e}return this}function o4(...e){let t=e.slice(0,-1),n=e[e.length-1];this.check(...t);let u,{shape:r}=this,o=t[t.length-1];for(u=0;u<t.length-1;u+=1)o+=t[u]*r[u+1];this.data[o]=n}var{sign:a4}=Math;function s4(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=a4(e[n]);return this}var{sin:u4}=Math;function l4(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=u4(e[n]);return this}var{sinh:c4}=Math;function d4(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=c4(e[n]);return this}function f4(e=0,t=this.shape[0],n=1){let{data:r,shape:o}=this,u=o.length;if(e<0||t<0)return this.slice(e<0?o[o.length-1]+e:e,t<0?o[o.length-1]+t:t);if(e>t)return this.slice(t,e,n);if(n<=0)throw new Error("step argument has to be a positive integer");let d=[Math.ceil((t-e)/Math.abs(n)),...o.slice(1)],v=RT(d),y=RC(d),_=u>1?r.subarray(e*d[d.length-1],t*d[d.length-1]):r.subarray(e,t);return y[0]*=n,new Au(_,{shape:d,length:v,strides:y})}function h4(e){let{data:t,dtype:n}=this,{data:r,shape:[o,u]}=e;try{!function _5(e,t,n,r,o,u,d,v){if(r.length!==o*t||d.length!==v*n)throw new Error("lengths do not match");switch(e){case"float64":return jh.dgesv(t,n,r,o,u,d,v);case"float32":return jh.sgesv(t,n,r,o,u,d,v);default:throw new Error("wrong dtype")}}(n,o,u,t,o,new Int32Array(o),r,u)}catch{let I,N,L,[d,v]=this.lu_factor(),{data:y}=d,{data:_}=e;for(I=0;I<v.length;I+=1)I!==v[I]-1&&e.swap(I,v[I]-1);for(L=0;L<u;L+=1){for(I=0;I<o;I+=1)for(N=0;N<I;N+=1)_[I*u+L]-=y[I*o+N]*_[N*u+L];for(I=o-1;I>=0;I-=1){for(N=I+1;N<o;N+=1)_[I*u+L]-=y[I*o+N]*_[N*u+L];_[I*u+L]/=y[I*o+I]}}}return e}var{sqrt:p4}=Math;function g4(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=p4(e[n]);return this}function v4(){let{length:e}=this.shape,[t,n]=this.shape;if(2!==e||t!==n)throw new Error("matrix is not square")}var LT=(e,t)=>Ke(e).subtract(Ke(t));function m4(e){return this.add(e,-1)}function y4(){let{data:e}=this,t=new sn(this),n=0;for(let r of t)n+=e[r];return n}function w4(e,t){this.check(e,0),this.check(t,0);let{data:n}=this,[,r]=this.shape,o=n.slice(e*r,(e+1)*r);return n.copyWithin(e*r,t*r,(t+1)*r),n.set(o,t*r),this}var{tan:b4}=Math;function D4(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=b4(e[n]);return this}var{tanh:C4}=Math;function E4(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=C4(e[n]);return this}function _4(e=0,t=0){let{data:n,shape:r,strides:o}=this,{length:u}=r;if(t>=u)return n[e];let d=r[t],v=o[t],y=[];for(let _=0;_<d;_++){let I=this.toArray(e,t+1);if(null===I)return null;y[_]=I,e+=v}return y}var S4=((e,t,n)=>(n=null!=e?lH(fH(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of dH(t))!hH.call(e,o)&&undefined!==o&&IT(e,o,{get:()=>t[o],enumerable:!(r=cH(t,o))||r.enumerable});return e})(e&&e.__esModule?n:IT(n,"default",{value:e,enumerable:!0}),e)))(yH());function BT(){return`array(${(0,S4.inspect)(this.toArray(),{depth:10,breakLength:40})}, dtype=${this.dtype})`}function x4(){let u,[e,t]=this.shape,{data:n}=this,r=Math.min(e,t),o=0;for(u=0;u<r;u+=1)o+=n[u*t+u];return o}function M4(){if(this.shape.length<2)return this;let e=this.shape[0];return this.shape[0]=this.shape[1],this.shape[1]=e,e=this.strides[0],this.strides[0]=this.strides[1],this.strides[1]=e,this}var{trunc:I4}=Math;function T4(){let{data:e}=this,t=new sn(this);for(let n of t)e[n]=I4(e[n]);return this}var A4=Symbol.for("nodejs.util.inspect.custom"),Au=class{data=new Float64Array(0);dtype="float64";length=0;shape=[0];strides=[0];[A4]=BT;abs=DH;acos=EH;acosh=SH;add=NH;angle=kH;asin=FH;asinh=BH;atan=$H;atanh=UH;augment=jH;binOp=GH;cbrt=WH;ceil=KH;check=YH;combine=XH;copy=QH;cos=e5;cosh=n5;cross=r5;det=i5;diagonal=o5;dot=a5;eig=s5;equals=u5;equidimensional=l5;equilateral=c5;exp=f5;expm1=p5;fill=g5;floor=m5;forEach=y5;fround=b5;gauss=D5;get=C5;inv=S5;log=M5;log10=T5;log1p=R5;log2=P5;lu=k5;lu_factor=O5;map=F5;max=L5;mean=B5;min=V5;multiply=H5;norm=z5;normalize=j5;pow=q5;prod=W5;product=Z5;project=K5;push=Y5;rank=X5;reciprocal=Q5;reduce=J5;reshape=e4;round=n4;row_add=r4;scale=i4;set=o4;sign=s4;sin=l4;sinh=d4;slice=f4;solve=h4;sqrt=g4;square=v4;subtract=m4;sum=y4;swap=w4;tan=D4;tanh=E4;toArray=_4;toString=BT;trace=x4;transpose=M4;trunc=T4;constructor(e,t){if(!e)return;if(e instanceof Au)return e;if(e instanceof sn){if(!t||!t.dtype)throw new Error("dtype is missing");e.shape&&(t.shape=e.shape);let d=e.length;e=new($g(t.dtype))(d)}let{shape:n=NT(e),length:r=RT(n),strides:o=RC(n),dtype:u=wH(e)}=t||{};this.data=AT(e)?e:new($g(u))(TT(e)),this.shape=n,this.length=r,this.dtype=u,this.strides=o}get x(){return this.get(0)}set x(e){this.set(0,e)}get y(){return this.get(1)}set y(e){this.set(1,e)}get z(){return this.get(2)}set z(e){this.set(2,e)}get w(){return this.get(3)}set w(e){this.set(3,e)}get T(){return this.copy().transpose()}};try{window.v=Au}catch{}function VT(e,t,n,r=60){const o=[];if(0===n.length)return o;const u=[e,...n,t];for(let d=1;d<u.length-1;d++){let v=NC(u[d-1]),y=NC(u[d]),_=NC(u[d+1]);const I=LT(v.copy(),y),N=LT(_.copy(),y);R4([I,N],r),v=kT(y.copy(),I),_=kT(y.copy(),N),o.push(v,y,_)}return o.map(N4)}function R4(e,t,n=!0){const r=e.map(o=>o.norm());if(n){const o=Math.min(...r);t>=o&&(t=o/2.1)}return e.map((o,u)=>o.scale(t/r[u]))}function NC(e){return Ke([e.x,e.y])}function N4(e){return{x:e.x,y:e.y}}const Gh=(e,t)=>`${e.id}-${t.x},${t.y}`,Yn=(e,t=2)=>"number"==typeof e?e*t:{x:e.x*t,y:e.y*t};let k4=(()=>{class e{constructor(n){this.http=n,this.extraLine=new Map,this.reverseExtraLine=new Map,this.nodeTypeMap=new Map([["Protein",["Protein","PhysicalEntity"]],["EntitySet",["EntitySet","PhysicalEntity"]],["Complex",["Complex","PhysicalEntity"]],["Entity",["GenomeEncodedEntity","PhysicalEntity"]],["Gene",["Gene","PhysicalEntity"]],["Chemical",["Molecule","PhysicalEntity"]],["ProteinDrug",["Protein","PhysicalEntity","drug"]],["ComplexDrug",["Complex","PhysicalEntity","drug"]],["ChemicalDrug",["Molecule","PhysicalEntity","drug"]],["EntitySetDrug",["EntitySet","PhysicalEntity","drug"]],["ProcessNode",["SUB","Pathway"]],["EncapsulatedNode",["Interacting","Pathway"]]]),this.reactionTypeMap=new Map([["transition",["transition","reaction"]],["binding",["association","reaction"]],["dissociation",["dissociation","reaction"]],["omitted",["omitted","reaction"]],["uncertain",["uncertain","reaction"]]]),this.edgeTypeMap=new Map([["INPUT",["consumption","incoming"]],["ACTIVATOR",["positive-regulation","incoming"]],["REQUIRED",["positive-regulation","incoming"]],["INHIBITOR",["negative-regulation","incoming"]],["CATALYST",["catalysis","incoming"]],["OUTPUT",["production","outgoing"]]]),this.edgeTypeToStr=new Map([["INPUT","-"],["ACTIVATOR","+"],["REQUIRED","+>"],["INHIBITOR","|"],["CATALYST","o"],["OUTPUT",">"]]),this.linkClassMap=new Map([["EntitySetAndMemberLink",["set-to-member","incoming"]],["EntitySetAndEntitySetLink",["set-to-member","incoming"]],["Interaction",["production","outgoing"]]]),this.COMPARTMENT_SHIFT=35}random(n,r){return Math.floor(Math.random()*(r-n+1))+n}pick(n){return n[this.random(0,n.length-1)]}getDiagram(n){return function tI(...e){const t=kr(e),{args:n,keys:r}=qx(e),o=new Mt(u=>{const{length:d}=n;if(!d)return void u.complete();const v=new Array(d);let y=d,_=d;for(let I=0;I<d;I++){let N=!1;qi(n[I]).subscribe(vr(u,L=>{N||(N=!0,_--),v[I]=L},()=>y--,void 0,()=>{(!y||!N)&&(_||u.next(r?Zx(r,v):v),u.complete())}))}});return t?o.pipe(Wx(t)):o}({diagram:this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.json`),graph:this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.graph.json`)}).pipe(_o(r=>console.log(r)),rn(r=>{const o=r.diagram,u=r.graph;console.log("edge.reactionType",new Set(o.edges.flatMap(ye=>ye.reactionType))),console.log("node.connectors.types",new Set(o.nodes.flatMap(ye=>ye.connectors.flatMap(Gt=>Gt.type)))),console.log("node.renderableClass",new Set(o.nodes.flatMap(ye=>ye.renderableClass))),console.log("links.renderableClass",new Set(o.links.flatMap(ye=>ye.renderableClass))),console.log("shadow.renderableClass",new Set(o.shadows.flatMap(ye=>ye.renderableClass)));const d=new Map(o.edges.map(ye=>[ye.id,ye])),v=new Map(o.nodes.map(ye=>[ye.id,ye])),_=(new Map([...o.edges.map(ye=>[ye.reactomeId,ye])]),new Map),I=o.edges.flatMap(ye=>ye.segments.map(Gt=>[Gh(ye,Yn(Gt.from)),Yn(Gt.to)]));this.extraLine=new Map(I),console.assert(I.length===this.extraLine.size,"Some edge data have been lost because 2 segments are starting from the same point");const N=o.edges.flatMap(ye=>ye.segments.map(Gt=>[Gh(ye,Yn(Gt.to)),Yn(Gt.from)]));this.reverseExtraLine=new Map(N),console.assert(N.length==this.reverseExtraLine.size,"Some edge data have been lost because 2 segments are ending at the same point");const L=new Map(o.shadows.map(ye=>[ye.reactomeId,ye.colour])),Q=new Map(u.subpathways?.flatMap(ye=>ye.events.map(Gt=>[Gt,L.get(ye.dbId)]).filter(Gt=>void 0!==Gt[1]))||[]),ce=(new Map(u.subpathways?.map(ye=>[ye.dbId,ye.events])),o?.compartments.flatMap(ye=>{const Gt=[{data:{id:ye.id+"-outer",displayName:ye.displayName,textX:Yn(ye.textPosition.x-(ye.prop.x+ye.prop.width))+this.COMPARTMENT_SHIFT,textY:Yn(ye.textPosition.y-(ye.prop.y+ye.prop.height))+this.COMPARTMENT_SHIFT,width:Yn(ye.prop.width),height:Yn(ye.prop.height)},classes:["Compartment","outer"],position:Yn(ye.position),pannable:!0,grabbable:!1,selectable:!1}];return ye.insets&&Gt.push({data:{id:ye.id+"-inner",width:Yn(ye.insets.width),height:Yn(ye.insets.height)},classes:["Compartment","inner"],position:Yn({x:ye.insets.x+ye.insets.width/2,y:ye.insets.y+ye.insets.height/2}),pannable:!0,grabbable:!1,selectable:!1}),Gt})),Se=o?.edges.map(ye=>({data:{id:ye.id+"",displayName:ye.displayName,inputs:ye.inputs,output:ye.outputs},classes:this.reactionTypeMap.get(ye.reactionType),pannable:!0,grabbable:!1,position:Yn(ye.position)})),Ze=o?.nodes.flatMap(ye=>{const Gt=[{data:{id:ye.id+"",displayName:ye.displayName.replace(/([,:;-])/g,"$1\u200b"),height:Yn(ye.prop.height),width:Yn(ye.prop.width)},classes:this.nodeTypeMap.get(ye.renderableClass)||[ye.renderableClass.toLowerCase()],pannable:!0,grabbable:!1,position:Yn(ye.position)}];return ye.nodeAttachments&&Gt.push(...ye.nodeAttachments.map(Vn=>({data:{id:ye.id+"-"+Vn.reactomeId,reactomeId:Vn.reactomeId,nodeId:ye.id,nodeReactomeId:ye.reactomeId,displayName:Vn.label,height:Yn(Vn.shape.b.y-Vn.shape.a.y),width:Yn(Vn.shape.b.x-Vn.shape.a.x)},classes:"Modification",pannable:!0,grabbable:!1,position:Yn(Vn.shape.centre)}))),Gt}),Ee=o?.shadows.map(ye=>({data:{id:ye.id+"",displayName:ye.displayName,height:Yn(ye.prop.height),width:Yn(ye.prop.width),class:this.nodeTypeMap.get(ye.renderableClass)||ye.renderableClass.toLowerCase(),color:L.get(ye.reactomeId)},classes:["Shadow"],position:Yn({x:ye.prop.x+ye.prop.width/2,y:ye.prop.y+ye.prop.height/2}),pannable:!0,grabbable:!1})),ft=o.nodes.flatMap(ye=>ye.connectors.map(Gt=>{const Vn=d.get(Gt.edgeId),[io,sa]="OUTPUT"!==Gt.type?[ye,Vn]:[Vn,ye],ua=Yn(io.position),Hs=Yn(sa.position);let Ri=Gt.segments.flatMap((ke,et)=>0===et?[ke.from,ke.to]:[ke.to]).map(ke=>Yn(ke));"OUTPUT"===Gt.type&&Ri.reverse(),0===Ri.length&&Ri.push(Yn(Vn.position)),this.addEdgeInfo(Vn,Ri,"backward",ua),this.addEdgeInfo(Vn,Ri,"forward",Hs);let[Us,Oa]=[Ri.shift(),Ri.pop()];Us=Us??Yn(ye.position),Oa=Oa??Yn(Vn.position),"CATALYST"===Gt.type&&(Oa=Yn(Gt.endShape.centre)),Ri=VT(Us,Oa,Ri);const Ug=this.absoluteToRelative(Us,Oa,Ri);return{data:{id:this.getEdgeId(io,Gt,sa,_),source:io.id+"",target:sa.id+"",stoichiometry:Gt.stoichiometry.value,weights:Ug.weights.join(" "),distances:Ug.distances.join(" "),sourceEndpoint:this.endpoint(ua,Us),targetEndpoint:this.endpoint(Hs,Oa),shadow:Q.get(Vn.reactomeId)},classes:this.edgeTypeMap.get(Gt.type),pannable:!0,grabbable:!1}})),Lt=o.links?.map(ye=>{const Gt=v.get(ye.inputs[0].id),Vn=v.get(ye.outputs[0].id),io=Yn(Gt.position),sa=Yn(Vn.position);let ua=ye.segments.flatMap((Oa,Ug)=>0===Ug?[Oa.from,Oa.to]:[Oa.to]).map(Oa=>Yn(Oa)),[Hs,Ri]=[ua.shift(),ua.pop()];Hs=Hs??io,Ri=Ri??sa,ua=VT(Hs,Ri,ua);const Us=this.absoluteToRelative(Hs,Ri,ua);return{data:{id:ye.id+"",source:ye.inputs[0].id+"",target:ye.outputs[0].id+"",weights:Us.weights.join(" "),distances:Us.distances.join(" "),sourceEndpoint:this.endpoint(io,Hs),targetEndpoint:this.endpoint(sa,Ri)},classes:this.linkClassMap.get(ye.renderableClass),pannable:!0,grabbable:!1,selectable:!1}});return{nodes:[...ce,...Se,...Ze,...Ee],edges:[...ft,...Lt]}}))}getEdgeId(n,r,o,u){let d=`${n.id} --${this.edgeTypeToStr.get(r.type)} ${o.id}`;if(u.has(d)){let v=u.get(d);u.set(d,v++),d+=` (${v})`,console.warn("Conflicting edge id: ",d)}else u.set(d,0);return d}addEdgeInfo(n,r,o,u){const d=Gh(n,u);if("forward"===o){const v=this.extraLine;let y=Gh(n,r.at(-1));for(;v.has(y)&&y!==d;)r.push(v.get(y)),y=Gh(n,r.at(-1))}else{const v=this.reverseExtraLine;let y=Gh(n,r.at(0));for(;v.has(y)&&y!==d;)r.unshift(v.get(y)),y=Gh(n,r.at(0))}}endpoint(n,r){return`${r.x-n.x} ${r.y-n.y}`}absoluteToRelative(n,r,o){const u={distances:[],weights:[]};if(0===o.length)return u;const d=Ke([r.x-n.x,r.y-n.y]),v=Ke([-d.y,d.x]).normalize();let y=Ke([[d.x,d.y],[v.x,v.y]]).inv();for(let _ of o){const N=Ke([[_.x-n.x,_.y-n.y]]).multiply(y);u.weights.push(N.get(0,0)),u.distances.push(N.get(0,1))}return u}randomNetwork(){const r=["Protein","EntitySet","GenomeEncodedEntity","RNA","Gene","Complex","Molecule"],o=["association","dissociation","transition","uncertain","omitted"],u=Array.from({length:100},(N,L)=>{const Q=this.pick(r);return{group:"nodes",data:{id:L.toString(),width:this.random(150,300),height:this.random(50,150),displayName:Q,parent:"Compartment"},classes:[Q,"PhysicalEntity",this.pick(["drug","",""])]}}),d=u.map((N,L)=>({group:"nodes",data:{id:`${L}-react`,parent:"Compartment"},classes:[this.pick(o),"reaction"]}));return Ht({nodes:[{data:{id:"Compartment"},classes:["Compartment"],pannable:!0,grabbable:!1,selectable:!1},...u.flatMap((N,L)=>[N,d[L]])],edges:[...u.flatMap((N,L)=>[{group:"edges",data:{source:`${L}`,target:`${L}-react`,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["consumption"]},{group:"edges",data:{source:`${L}-react`,target:""+(L+1)%100,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["production"]}]),...Array.from({length:25}).map(()=>({group:"edges",data:{source:this.pick(u).data.id,target:this.pick(d).data.id},classes:this.pick(["catalysis","positive-regulation","negative-regulation","set-to-member"])}))]})}static#e=this.\u0275fac=function(r){return new(r||e)(vt(dT))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const O4=["cytoscape"],F4=[{path:":id",component:(()=>{class e{constructor(n,r){this.diagram=n,this.route=r,this.title="pathway-browser"}ngAfterViewInit(){this.route.params.pipe(co(n=>this.diagram.getDiagram(n.id))).subscribe(n=>{const r=this.cytoscapeContainer.nativeElement,u=new bt(r,{});this.cy=B3()({container:r,elements:n,style:u.getStyleSheet(),layout:{name:"preset"}}),u.bindToCytoscape(this.cy)})}static#e=this.\u0275fac=function(r){return new(r||e)(Ye(k4),Ye($h))};static#t=this.\u0275cmp=Js({type:e,selectors:[["cr-diagram"]],viewQuery:function(r,o){if(1&r&&J_(O4,5),2&r){let u;kb(u=function Ob(){return function Ak(e,t){return e[lt].queries[t].queryList}(Be(),pi())}())&&(o.cytoscapeContainer=u.first)}},decls:2,vars:0,consts:[["id","cytoscape"],["cytoscape",""]],template:function(r,o){1&r&&im(0,"div",0,1)},styles:["#cytoscape[_ngcontent-%COMP%]{position:absolute;inset:0;background:#F6FEFF}"]})}return e})()},{path:"**",redirectTo:"R-HSA-453279"}];let L4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({imports:[JM.forRoot(F4),JM]})}return e})(),B4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e,bootstrap:[u$]});static#n=this.\u0275inj=ho({imports:[EL,s3,Dx,R3,L4]})}return e})();DL().bootstrapModule(B4).catch(e=>console.error(e))},6100:(we,Qe,ie)=>{"use strict";var le=ie(4430),B=ie(7444),Te=ie(5440),Ie=ie(7939),Ue=ie(9078);function Ae(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var rt=Ae(le),mt=Ae(B),Dt=Ae(Te),St=Ae(Ie),Fn=Ae(Ue);function dn(a){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function Dr(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function ir(a,i){for(var s=0;s<i.length;s++){var l=i[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}function $n(a,i,s){return i&&ir(a.prototype,i),s&&ir(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}function An(a,i,s){return i in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,a}function fn(a,i){return function qe(a){if(Array.isArray(a))return a}(a)||function it(a,i){var s=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=s){var p,m,l=[],f=!0,h=!1;try{for(s=s.call(a);!(f=(p=s.next()).done)&&(l.push(p.value),!i||l.length!==i);f=!0);}catch(b){h=!0,m=b}finally{try{!f&&null!=s.return&&s.return()}finally{if(h)throw m}}return l}}(a,i)||function ht(a,i){if(a){if("string"==typeof a)return xt(a,i);var s=Object.prototype.toString.call(a).slice(8,-1);if("Object"===s&&a.constructor&&(s=a.constructor.name),"Map"===s||"Set"===s)return Array.from(a);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return xt(a,i)}}(a,i)||function Rn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(a,i){(null==i||i>a.length)&&(i=a.length);for(var s=0,l=new Array(i);s<i;s++)l[s]=a[s];return l}var Ot=typeof window>"u"?null:window,Dn=Ot?Ot.navigator:null,Xn=dn(""),Ni=dn({}),So=dn(function(){}),ao=typeof HTMLElement>"u"?"undefined":dn(HTMLElement),Ir=function(i){return i&&i.instanceString&&Ln(i.instanceString)?i.instanceString():null},Je=function(i){return null!=i&&dn(i)==Xn},Ln=function(i){return null!=i&&dn(i)===So},Mn=function(i){return!Cr(i)&&(Array.isArray?Array.isArray(i):null!=i&&i instanceof Array)},Mt=function(i){return null!=i&&dn(i)===Ni&&!Mn(i)&&i.constructor===Object},at=function(i){return null!=i&&dn(i)===dn(1)&&!isNaN(i)},so=function(i){if("undefined"!==ao)return null!=i&&i instanceof HTMLElement},Cr=function(i){return Ru(i)||cf(i)},Ru=function(i){return"collection"===Ir(i)&&i._private.single},cf=function(i){return"collection"===Ir(i)&&!i._private.single},or=function(i){return"core"===Ir(i)},vr=function(i){return"stylesheet"===Ir(i)},rn=function(i){return null==i||!(""!==i&&!i.match(/^\s+$/))},Nu=function(i){return function(i){return null!=i&&dn(i)===Ni}(i)&&Ln(i.then)},Pu=function(i,s){s||(s=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var h=[],p=0;p<arguments.length;p++)h.push(arguments[p]);return h.join("$")});var l=function f(){var m,p=arguments,b=s.apply(this,p),w=f.cache;return(m=w[b])||(m=w[b]=i.apply(this,p)),m};return l.cache={},l},uo=Pu(function(a){return a.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}),js=Pu(function(a){return a.replace(/(-\w)/g,function(i){return i[1].toUpperCase()})}),Gg=Pu(function(a,i){return a+i[0].toUpperCase()+i.substring(1)},function(a,i){return a+"$"+i}),La=function(i){return rn(i)?i:i.charAt(0).toUpperCase()+i.substring(1)},jr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",qg="rgb[a]?\\(("+jr+"[%]?)\\s*,\\s*("+jr+"[%]?)\\s*,\\s*("+jr+"[%]?)(?:\\s*,\\s*("+jr+"))?\\)",ku="rgb[a]?\\((?:"+jr+"[%]?)\\s*,\\s*(?:"+jr+"[%]?)\\s*,\\s*(?:"+jr+"[%]?)(?:\\s*,\\s*(?:"+jr+"))?\\)",Uo="hsl[a]?\\(("+jr+")\\s*,\\s*("+jr+"[%])\\s*,\\s*("+jr+"[%])(?:\\s*,\\s*("+jr+"))?\\)",Gs="hsl[a]?\\((?:"+jr+")\\s*,\\s*(?:"+jr+"[%])\\s*,\\s*(?:"+jr+"[%])(?:\\s*,\\s*(?:"+jr+"))?\\)",qs=function(i,s){return i<s?-1:i>s?1:0},Nt=null!=Object.assign?Object.assign.bind(Object):function(a){for(var i=arguments,s=1;s<i.length;s++){var l=i[s];if(null!=l)for(var f=Object.keys(l),h=0;h<f.length;h++){var p=f[h];a[p]=l[p]}}return a},hf={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$c=function(i){for(var s=i.map,l=i.keys,f=l.length,h=0;h<f;h++){var p=l[h];if(Mt(p))throw Error("Tried to set map with object key");h<l.length-1?(null==s[p]&&(s[p]={}),s=s[p]):s[p]=i.value}},Hc=function(i){for(var s=i.map,l=i.keys,f=l.length,h=0;h<f;h++){var p=l[h];if(Mt(p))throw Error("Tried to get map with object key");if(null==(s=s[p]))return s}return s},Ml=Ot?Ot.performance:null,Uc=Ml&&Ml.now?function(){return Ml.now()}:function(){return Date.now()},Zg=function(){if(Ot){if(Ot.requestAnimationFrame)return function(a){Ot.requestAnimationFrame(a)};if(Ot.mozRequestAnimationFrame)return function(a){Ot.mozRequestAnimationFrame(a)};if(Ot.webkitRequestAnimationFrame)return function(a){Ot.webkitRequestAnimationFrame(a)};if(Ot.msRequestAnimationFrame)return function(a){Ot.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(Uc())},1e3/60)}}(),zc=function(i){return Zg(i)},Ba=Uc,Ws=9261,jc=5381,gf=function(i){for(var f,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ws;!(f=i.next()).done;)l=65599*l+f.value|0;return l},Fu=function(i){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ws)+i|0},Lu=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jc;return(s<<5)+s+i|0},Va=function(i){return 2097152*i[0]+i[1]},Gc=function(i,s){return[Fu(i[0],s[0]),Lu(i[1],s[1])]},ca=function(i,s){var l={value:0,done:!1},f=0,h=i.length;return gf({next:function(){return f<h?l.value=i.charCodeAt(f++):l.done=!0,l}},s)},mf=function(){return qc(arguments)},qc=function(i){for(var s,l=0;l<i.length;l++){var f=i[l];s=0===l?ca(f):ca(f,s)}return s},qi=!0,Kg=null!=console.warn,Yg=null!=console.trace,yf=Number.MAX_SAFE_INTEGER||9007199254740991,Wh=function(){return!0},Il=function(){return!1},Zh=function(){return 0},wf=function(){},Hn=function(i){throw new Error(i)},Kh=function(i){if(void 0===i)return qi;qi=!!i},Kt=function(i){Kh()&&(Kg?console.warn(i):(console.log(i),Yg&&console.trace()))},Gr=function(i){return null==i?i:Mn(i)?i.slice():Mt(i)?function(i){return Nt({},i)}(i):i},Yh=function(i,s){for(s=i="";i++<36;s+=51*i&52?(15^i?8^Math.random()*(20^i?16:4):4).toString(16):"-");return s},Wc={},Zc=function(){return Wc},kr=function(i){var s=Object.keys(i);return function(l){for(var f={},h=0;h<s.length;h++){var p=s[h],m=l?.[p];f[p]=void 0===m?i[p]:m}return f}},xo=function(i,s,l){for(var f=i.length-1;f>=0&&(i[f]!==s||(i.splice(f,1),!l));f--);},bf=function(i){i.splice(0,i.length)},lo=function(i,s,l){return l&&(s=Gg(l,s)),i[s]},$a=function(i,s,l,f){l&&(s=Gg(l,s)),i[s]=f},da=typeof Map<"u"?Map:function(){function a(){Dr(this,a),this._obj={}}return $n(a,[{key:"set",value:function(s,l){return this._obj[s]=l,this}},{key:"delete",value:function(s){return this._obj[s]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(s){return void 0!==this._obj[s]}},{key:"get",value:function(s){return this._obj[s]}}]),a}(),Jh=function(){function a(i){if(Dr(this,a),this._obj=Object.create(null),this.size=0,null!=i){var s;s=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var l=0;l<s.length;l++)this.add(s[l])}}return $n(a,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(s){var l=this._obj;1!==l[s]&&(l[s]=1,this.size++)}},{key:"delete",value:function(s){var l=this._obj;1===l[s]&&(l[s]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(s){return 1===this._obj[s]}},{key:"toArray",value:function(){var s=this;return Object.keys(this._obj).filter(function(l){return s.has(l)})}},{key:"forEach",value:function(s,l){return this.toArray().forEach(s,l)}}]),a}(),Vu="undefined"!==(typeof Set>"u"?"undefined":dn(Set))?Set:Jh,Tl=function(i,s){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==i&&void 0!==s&&or(i)){var f=s.group;if(null==f&&(f=s.data&&null!=s.data.source&&null!=s.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var h=this._private={cy:i,single:!0,data:s.data||{},position:s.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!s.selected,selectable:void 0===s.selectable||!!s.selectable,locked:!!s.locked,grabbed:!1,grabbable:void 0===s.grabbable||!!s.grabbable,pannable:void 0===s.pannable?"edges"===f:!!s.pannable,active:!1,classes:new Vu,animation:{current:[],queue:[]},rscratch:{},scratch:s.scratch||{},edges:[],children:[],parent:s.parent&&s.parent.isNode()?s.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==h.position.x&&(h.position.x=0),null==h.position.y&&(h.position.y=0),s.renderedPosition){var p=s.renderedPosition,m=i.pan(),b=i.zoom();h.position={x:(p.x-m.x)/b,y:(p.y-m.y)/b}}var w=[];Mn(s.classes)?w=s.classes:Je(s.classes)&&(w=s.classes.split(/\s+/));for(var D=0,E=w.length;D<E;D++){var S=w[D];!S||""===S||h.classes.add(S)}this.createEmitter();var M=s.style||s.css;M&&(Kt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(M)),(void 0===l||l)&&this.restore()}else Hn("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Hn("An element must have a core reference and parameters set")},Or=function(i){return i={bfs:i.bfs||!i.dfs,dfs:i.dfs||!i.bfs},function(l,f,h){var p;Mt(l)&&!Cr(l)&&(l=(p=l).roots||p.root,f=p.visit,h=p.directed),h=2!==arguments.length||Ln(f)?h:f,f=Ln(f)?f:function(){};for(var R,m=this._private.cy,b=l=Je(l)?this.filter(l):l,w=[],D=[],E={},S={},M={},x=0,A=this.byGroup(),P=A.nodes,k=A.edges,O=0;O<b.length;O++){var V=b[O],q=V.id();V.isNode()&&(w.unshift(V),i.bfs&&(M[q]=!0,D.push(V)),S[q]=0)}for(var K=function(){var te=i.bfs?w.shift():w.pop(),Z=te.id();if(i.dfs){if(M[Z])return"continue";M[Z]=!0,D.push(te)}var xe,se=S[Z],ne=E[Z],ee=null!=ne?ne.source():null,fe=null!=ne?ne.target():null,ge=null==ne?void 0:te.same(ee)?fe[0]:ee[0];if(!0===(xe=f(te,ne,ge,x++,se)))return R=te,"break";if(!1===xe)return"break";for(var de=te.connectedEdges().filter(function(Fe){return(!h||Fe.source().same(te))&&k.has(Fe)}),Ce=0;Ce<de.length;Ce++){var Pe=de[Ce],Ve=Pe.connectedNodes().filter(function(Fe){return!Fe.same(te)&&P.has(Fe)}),Oe=Ve.id();0!==Ve.length&&!M[Oe]&&(w.push(Ve=Ve[0]),i.bfs&&(M[Oe]=!0,D.push(Ve)),E[Oe]=Pe,S[Oe]=S[Z]+1)}};0!==w.length;){var $=K();if("continue"!==$&&"break"===$)break}for(var W=m.collection(),U=0;U<D.length;U++){var Y=D[U],X=E[Y.id()];null!=X&&W.push(X),W.push(Y)}return{path:m.collection(W),found:m.collection(R)}}},$u={breadthFirstSearch:Or({bfs:!0}),depthFirstSearch:Or({dfs:!0})};$u.bfs=$u.breadthFirstSearch,$u.dfs=$u.depthFirstSearch;var Wi=kr({root:null,weight:function(i){return 1},directed:!1}),Ht={dijkstra:function(i){if(!Mt(i)){var s=arguments;i={root:s[0],weight:s[1],directed:s[2]}}var ne,ee,l=Wi(i),f=l.root,p=l.directed,m=this,b=l.weight,w=Je(f)?this.filter(f)[0]:f[0],D={},E={},S={},M=this.byGroup(),x=M.nodes,R=M.edges;R.unmergeBy(function(se){return se.isLoop()});for(var A=function(ne){return D[ne.id()]},k=new mt.default(function(se,ne){return A(se)-A(ne)}),O=0;O<x.length;O++){var V=x[O];D[V.id()]=V.same(w)?0:1/0,k.push(V)}for(var q=function(ne,ee){for(var xe,fe=(p?ne.edgesTo(ee):ne.edgesWith(ee)).intersect(R),ge=1/0,de=0;de<fe.length;de++){var Ce=fe[de],Pe=b(Ce);(Pe<ge||!xe)&&(ge=Pe,xe=Ce)}return{edge:xe,dist:ge}};k.size()>0;){var K=k.pop(),$=A(K),W=K.id();if(S[W]=$,$!==1/0)for(var U=K.neighborhood().intersect(x),Y=0;Y<U.length;Y++){var X=U[Y],G=X.id(),te=q(K,X),Z=$+te.dist;Z<A(X)&&(ee=Z,D[(ne=X).id()]=ee,k.updateItem(ne),E[G]={node:K,edge:te.edge})}}return{distanceTo:function(ne){var ee=Je(ne)?x.filter(ne)[0]:ne[0];return S[ee.id()]},pathTo:function(ne){var ee=Je(ne)?x.filter(ne)[0]:ne[0],fe=[],ge=ee,xe=ge.id();if(ee.length>0)for(fe.unshift(ee);E[xe];){var de=E[xe];fe.unshift(de.edge),fe.unshift(de.node),xe=(ge=de.node).id()}return m.spawn(fe)}}}},Df={kruskal:function(i){i=i||function(O){return 1};for(var s=this.byGroup(),l=s.nodes,f=s.edges,h=l.length,p=new Array(h),m=l,b=function(V){for(var q=0;q<p.length;q++)if(p[q].has(V))return q},w=0;w<h;w++)p[w]=this.spawn(l[w]);for(var D=f.sort(function(O,V){return i(O)-i(V)}),E=0;E<D.length;E++){var S=D[E],M=S.source()[0],x=S.target()[0],R=b(M),A=b(x),P=p[R],k=p[A];R!==A&&(m.merge(S),P.merge(k),p.splice(A,1))}return m}},Hu=kr({root:null,goal:null,weight:function(i){return 1},heuristic:function(i){return 0},directed:!1}),co={aStar:function(i){var s=this.cy(),l=Hu(i),f=l.root,h=l.goal,p=l.heuristic,m=l.directed,b=l.weight;f=s.collection(f)[0],h=s.collection(h)[0];var O,V,w=f.id(),D=h.id(),E={},S={},M={},x=new mt.default(function(xe,de){return S[xe.id()]-S[de.id()]}),R=new Vu,A={},P={},k=function(de,Ce){x.push(de),R.add(Ce)};k(f,w),E[w]=0,S[w]=p(f);for(var $=0;x.size()>0;){if(V=(O=x.pop()).id(),R.delete(V),$++,V===D){for(var W=[],U=h,Y=D,X=P[Y];W.unshift(U),null!=X&&W.unshift(X),null!=(U=A[Y]);)X=P[Y=U.id()];return{found:!0,distance:E[V],path:this.spawn(W),steps:$}}M[V]=!0;for(var G=O._private.edges,te=0;te<G.length;te++){var Z=G[te];if(this.hasElementWithId(Z.id())&&(!m||Z.data("source")===V)){var se=Z.source(),ne=Z.target(),ee=se.id()!==V?se:ne,fe=ee.id();if(this.hasElementWithId(fe)&&!M[fe]){var ge=E[V]+b(Z);if(!R.has(fe)){E[fe]=ge,S[fe]=ge+p(ee),k(ee,fe),A[fe]=O,P[fe]=Z;continue}ge<E[fe]&&(E[fe]=ge,S[fe]=ge+p(ee),A[fe]=O,P[fe]=Z)}}}}return{found:!1,distance:void 0,path:void 0,steps:$}}},Qg=kr({weight:function(i){return 1},directed:!1}),ep={floydWarshall:function(i){for(var s=this.cy(),l=Qg(i),h=l.directed,p=l.weight,m=this.byGroup(),b=m.nodes,w=m.edges,D=b.length,E=D*D,S=function(Pe){return b.indexOf(Pe)},M=function(Pe){return b[Pe]},x=new Array(E),R=0;R<E;R++){var A=R%D;x[R]=(R-A)/D===A?0:1/0}for(var k=new Array(E),O=new Array(E),V=0;V<w.length;V++){var q=w[V],K=q.source()[0],$=q.target()[0];if(K!==$){var W=S(K),U=S($),Y=W*D+U,X=p(q);if(x[Y]>X&&(x[Y]=X,k[Y]=U,O[Y]=q),!h){var G=U*D+W;!h&&x[G]>X&&(x[G]=X,k[G]=W,O[G]=q)}}}for(var te=0;te<D;te++)for(var Z=0;Z<D;Z++)for(var se=Z*D+te,ne=0;ne<D;ne++){var ee=Z*D+ne,fe=te*D+ne;x[se]+x[fe]<x[ee]&&(x[ee]=x[se]+x[fe],k[ee]=k[se])}var xe=function(Pe){return S(function(Pe){return(Je(Pe)?s.filter(Pe):Pe)[0]}(Pe))};return{distance:function(Pe,Ve){var Oe=xe(Pe),Fe=xe(Ve);return x[Oe*D+Fe]},path:function(Pe,Ve){var Oe=xe(Pe),Fe=xe(Ve),he=M(Oe);if(Oe===Fe)return he.collection();if(null==k[Oe*D+Fe])return s.collection();var ze=s.collection();for(ze.merge(he);Oe!==Fe;)ze.merge(O[Oe*D+(Oe=k[Oe*D+Fe])]),ze.merge(M(Oe));return ze}}}},zn=kr({weight:function(i){return 1},directed:!1,root:null}),Uu={bellmanFord:function(i){var s=this,l=zn(i),h=l.directed,p=l.root,m=l.weight,b=this,w=this.cy(),D=this.byGroup(),E=D.edges,S=D.nodes,M=S.length,x=new da,R=!1,A=[];p=w.collection(p)[0],E.unmergeBy(function(ot){return ot.isLoop()});for(var P=E.length,k=function(Et){var _t=x.get(Et.id());return _t||(_t={},x.set(Et.id(),_t)),_t},O=function(Et){return(Je(Et)?w.$(Et):Et)[0]},K=0;K<M;K++){var $=S[K],W=k($);W.dist=$.same(p)?0:1/0,W.pred=null,W.edge=null}for(var U=!1,Y=function(Et,_t,yn,ln,$t,cn){var ve=ln.dist+cn;ve<$t.dist&&!yn.same(ln.edge)&&($t.dist=ve,$t.pred=Et,$t.edge=yn,U=!0)},X=1;X<M;X++){U=!1;for(var G=0;G<P;G++){var te=E[G],Z=te.source(),se=te.target(),ne=m(te),ee=k(Z),fe=k(se);Y(Z,0,te,ee,fe,ne),h||Y(se,0,te,fe,ee,ne)}if(!U)break}if(U)for(var ge=[],xe=0;xe<P;xe++){var de=E[xe],Ce=de.source(),Pe=de.target(),Ve=m(de),Oe=k(Ce).dist,Fe=k(Pe).dist;if(Oe+Ve<Fe||!h&&Fe+Ve<Oe){if(R||(Kt("Graph contains a negative weight cycle for Bellman-Ford"),R=!0),!1===i.findNegativeWeightCycles)break;var he=[];Oe+Ve<Fe&&he.push(Ce),!h&&Fe+Ve<Oe&&he.push(Pe);for(var ze=he.length,Ge=0;Ge<ze;Ge++){var Le=he[Ge],Xe=[Le];Xe.push(k(Le).edge);for(var It=k(Le).pred;-1===Xe.indexOf(It);)Xe.push(It),Xe.push(k(It).edge),It=k(It).pred;for(var Ft=(Xe=Xe.slice(Xe.indexOf(It)))[0].id(),Re=0,nt=2;nt<Xe.length;nt+=2)Xe[nt].id()<Ft&&(Ft=Xe[nt].id(),Re=nt);(Xe=Xe.slice(Re).concat(Xe.slice(0,Re))).push(Xe[0]);var gt=Xe.map(function(ot){return ot.id()}).join(",");-1===ge.indexOf(gt)&&(A.push(b.spawn(Xe)),ge.push(gt))}}}return{distanceTo:function(Et){return k(O(Et)).dist},pathTo:function(Et){for(var _t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,ln=[],$t=O(Et);;){if(null==$t)return s.spawn();var cn=k($t),ve=cn.edge,z=cn.pred;if(ln.unshift($t[0]),$t.same(_t)&&ln.length>0)break;null!=ve&&ln.unshift(ve),$t=z}return b.spawn(ln)},hasNegativeWeightCycle:R,negativeWeightCycles:A}}},qr=Math.sqrt(2),Kc=function(i,s,l){0===l.length&&Hn("Karger-Stein must be run on a connected (sub)graph");for(var f=l[i],m=s[f[1]],b=s[f[2]],w=l,D=w.length-1;D>=0;D--){var E=w[D],S=E[1],M=E[2];(s[S]===m&&s[M]===b||s[S]===b&&s[M]===m)&&w.splice(D,1)}for(var x=0;x<w.length;x++){var R=w[x];R[1]===b?(w[x]=R.slice(),w[x][1]=m):R[2]===b&&(w[x]=R.slice(),w[x][2]=m)}for(var A=0;A<s.length;A++)s[A]===b&&(s[A]=m);return w},Al=function(i,s,l,f){for(;l>f;){var h=Math.floor(Math.random()*s.length);s=Kc(h,i,s),l--}return s},Zn={kargerStein:function(){var i=this,s=this.byGroup(),l=s.nodes,f=s.edges;f.unmergeBy(function(fe){return fe.isLoop()});var h=l.length,p=f.length,m=Math.ceil(Math.pow(Math.log(h)/Math.LN2,2)),b=Math.floor(h/qr);if(!(h<2)){for(var w=[],D=0;D<p;D++){var E=f[D];w.push([D,l.indexOf(E.source()),l.indexOf(E.target())])}for(var S=1/0,M=[],x=new Array(h),R=new Array(h),A=new Array(h),P=function(ge,xe){for(var de=0;de<h;de++)xe[de]=ge[de]},k=0;k<=m;k++){for(var O=0;O<h;O++)R[O]=O;var V=Al(R,w.slice(),h,b),q=V.slice();P(R,A);var K=Al(R,V,b,2),$=Al(A,q,b,2);K.length<=$.length&&K.length<S?(S=K.length,M=K,P(R,x)):$.length<=K.length&&$.length<S&&(S=$.length,M=$,P(A,x))}for(var W=this.spawn(M.map(function(fe){return f[fe[0]]})),U=this.spawn(),Y=this.spawn(),X=x[0],G=0;G<x.length;G++){var Z=l[G];x[G]===X?U.merge(Z):Y.merge(Z)}var se=function(ge){var xe=i.spawn();return ge.forEach(function(de){xe.merge(de),de.connectedEdges().forEach(function(Ce){i.contains(Ce)&&!W.contains(Ce)&&xe.merge(Ce)})}),xe},ne=[se(U),se(Y)];return{cut:W,components:ne,partition1:U,partition2:Y}}Hn("At least 2 nodes are required for Karger-Stein algorithm")}},Zs=function(i,s,l){return{x:i.x*s+l.x,y:i.y*s+l.y}},Rl=function(i,s,l){return{x:(i.x-l.x)/s,y:(i.y-l.y)/s}},Nl=function(i){return{x:i[0],y:i[1]}},Yc=function(i,s){return Math.atan2(s,i)-Math.PI/2},tp=Math.log2||function(a){return Math.log(a)/Math.log(2)},Ef=function(i){return i>0?1:i<0?-1:0},Ha=function(i,s){return Math.sqrt(Wr(i,s))},Wr=function(i,s){var l=s.x-i.x,f=s.y-i.y;return l*l+f*f},qm=function(i){for(var s=i.length,l=0,f=0;f<s;f++)l+=i[f];for(var h=0;h<s;h++)i[h]=i[h]/l;return i},ti=function(i,s,l,f){return(1-f)*(1-f)*i+2*(1-f)*f*s+f*f*l},Ks=function(i,s,l,f){return{x:ti(i.x,s.x,l.x,f),y:ti(i.y,s.y,l.y,f)}},Xc=function(i,s,l){return Math.max(i,Math.min(l,s))},fo=function(i){if(null==i)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=i.x1&&null!=i.y1){if(null!=i.x2&&null!=i.y2&&i.x2>=i.x1&&i.y2>=i.y1)return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,w:i.x2-i.x1,h:i.y2-i.y1};if(null!=i.w&&null!=i.h&&i.w>=0&&i.h>=0)return{x1:i.x1,y1:i.y1,x2:i.x1+i.w,y2:i.y1+i.h,w:i.w,h:i.h}}},ar=function(i,s){i.x1=Math.min(i.x1,s.x1),i.x2=Math.max(i.x2,s.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,s.y1),i.y2=Math.max(i.y2,s.y2),i.h=i.y2-i.y1},Jg=function(i,s,l){i.x1=Math.min(i.x1,s),i.x2=Math.max(i.x2,s),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,l),i.y2=Math.max(i.y2,l),i.h=i.y2-i.y1},_f=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.x1-=s,i.x2+=s,i.y1-=s,i.y2+=s,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Pi=function(i){var l,f,h,p,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)l=f=h=p=s[0];else if(2===s.length)l=h=s[0],p=f=s[1];else if(4===s.length){var m=fn(s,4);l=m[0],f=m[1],h=m[2],p=m[3]}return i.x1-=p,i.x2+=f,i.y1-=l,i.y2+=h,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Ut=function(i,s){i.x1=s.x1,i.y1=s.y1,i.x2=s.x2,i.y2=s.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1},np=function(i,s){return!(i.x1>s.x2||s.x1>i.x2||i.x2<s.x1||s.x2<i.x1||i.y2<s.y1||s.y2<i.y1||i.y1>s.y2||s.y1>i.y2)},kl=function(i,s,l){return i.x1<=s&&s<=i.x2&&i.y1<=l&&l<=i.y2},ev=function(i,s){return kl(i,s.x,s.y)},Rt=function(i,s){return kl(i,s.x1,s.y1)&&kl(i,s.x2,s.y2)},ci=function(i,s,l,f,h,p,m){var E,b=Xs(h,p),w=h/2,D=p/2,M=f-D-m;if((E=ps(i,s,l,f,l-w+b-m,M,l+w-b+m,M,!1)).length>0)return E;var A=l+w+m;if((E=ps(i,s,l,f,A,f-D+b-m,A,f+D-b+m,!1)).length>0)return E;var q=f+D+m;if((E=ps(i,s,l,f,l-w+b-m,q,l+w-b+m,q,!1)).length>0)return E;var G,W=l-w-m;if((E=ps(i,s,l,f,W,f-D+b-m,W,f+D-b+m,!1)).length>0)return E;var te=l-w+b,Z=f-D+b;if((G=Gn(i,s,l,f,te,Z,b+m)).length>0&&G[0]<=te&&G[1]<=Z)return[G[0],G[1]];var se=l+w-b,ne=f-D+b;if((G=Gn(i,s,l,f,se,ne,b+m)).length>0&&G[0]>=se&&G[1]<=ne)return[G[0],G[1]];var ee=l+w-b,fe=f+D-b;if((G=Gn(i,s,l,f,ee,fe,b+m)).length>0&&G[0]>=ee&&G[1]>=fe)return[G[0],G[1]];var ge=l-w+b,xe=f+D-b;return(G=Gn(i,s,l,f,ge,xe,b+m)).length>0&&G[0]<=ge&&G[1]>=xe?[G[0],G[1]]:[]},ho=function(i,s,l,f,h,p,m){var b=m,w=Math.min(l,h),D=Math.max(l,h),E=Math.min(f,p),S=Math.max(f,p);return w-b<=i&&i<=D+b&&E-b<=s&&s<=S+b},fs=function(i,s,l,f,h,p,m,b,w){var D_x1=Math.min(l,m,h)-w,D_x2=Math.max(l,m,h)+w,D_y1=Math.min(f,b,p)-w,D_y2=Math.max(f,b,p)+w;return!(i<D_x1||i>D_x2||s<D_y1||s>D_y2)},Mo=function(i,s,l,f,h,p,m,b){var M=[];!function(i,s,l,f,h){var m,b,w,D,E,S,M,x;0===i&&(i=1e-5),w=-27*(f/=i)+(s/=i)*(9*(l/=i)-s*s*2),m=(b=(3*l-s*s)/9)*b*b+(w/=54)*w,h[1]=0,M=s/3,m>0?(E=(E=w+Math.sqrt(m))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),S=(S=w-Math.sqrt(m))<0?-Math.pow(-S,1/3):Math.pow(S,1/3),h[0]=-M+E+S,h[4]=h[2]=-(M+=(E+S)/2),M=Math.sqrt(3)*(-S+E)/2,h[3]=M,h[5]=-M):(h[5]=h[3]=0,0===m?(x=w<0?-Math.pow(-w,1/3):Math.pow(w,1/3),h[0]=2*x-M,h[4]=h[2]=-(x+M)):(D=(b=-b)*b*b,D=Math.acos(w/Math.sqrt(D)),x=2*Math.sqrt(b),h[0]=-M+x*Math.cos(D/3),h[2]=-M+x*Math.cos((D+2*Math.PI)/3),h[4]=-M+x*Math.cos((D+4*Math.PI)/3)))}(1*l*l-4*l*h+2*l*m+4*h*h-4*h*m+m*m+f*f-4*f*p+2*f*b+4*p*p-4*p*b+b*b,9*l*h-3*l*l-3*l*m-6*h*h+3*h*m+9*f*p-3*f*f-3*f*b-6*p*p+3*p*b,3*l*l-6*l*h+l*m-l*i+2*h*h+2*h*i-m*i+3*f*f-6*f*p+f*b-f*s+2*p*p+2*p*s-b*s,1*l*h-l*l+l*i-h*i+f*p-f*f+f*s-p*s,M);for(var R=[],A=0;A<6;A+=2)Math.abs(M[A+1])<1e-7&&M[A]>=0&&M[A]<=1&&R.push(M[A]);R.push(1),R.push(0);for(var k,O,V,P=-1,q=0;q<R.length;q++)k=Math.pow(1-R[q],2)*l+2*(1-R[q])*R[q]*h+R[q]*R[q]*m,O=Math.pow(1-R[q],2)*f+2*(1-R[q])*R[q]*p+R[q]*R[q]*b,V=Math.pow(k-i,2)+Math.pow(O-s,2),P>=0?V<P&&(P=V):P=V;return P},Ol=function(i,s,l,f,h,p){var m=[i-l,s-f],b=[h-l,p-f],w=b[0]*b[0]+b[1]*b[1],D=m[0]*m[0]+m[1]*m[1],E=m[0]*b[0]+m[1]*b[1],S=E*E/w;return E<0?D:S>w?(i-h)*(i-h)+(s-p)*(s-p):D-S},ni=function(i,s,l){for(var f,h,p,m,w=0,D=0;D<l.length/2;D++)if(h=l[2*D+1],D+1<l.length/2?(p=l[2*(D+1)],m=l[2*(D+1)+1]):(p=l[2*(D+1-l.length/2)],m=l[2*(D+1-l.length/2)+1]),(f=l[2*D])!=i||p!=i){if(!(f>=i&&i>=p||f<=i&&i<=p))continue;(i-f)/(p-f)*(m-h)+h>s&&w++}return w%2!=0},Io=function(i,s,l,f,h,p,m,b,w){var E,R,D=new Array(l.length);null!=b[0]?(E=Math.atan(b[1]/b[0]),b[0]<0?E+=Math.PI/2:E=-E-Math.PI/2):E=b;for(var S=Math.cos(-E),M=Math.sin(-E),x=0;x<D.length/2;x++)D[2*x]=p/2*(l[2*x]*S-l[2*x+1]*M),D[2*x+1]=m/2*(l[2*x+1]*S+l[2*x]*M),D[2*x]+=f,D[2*x+1]+=h;if(w>0){var A=un(D,-w);R=Fl(A)}else R=D;return ni(i,s,R)},Fl=function(i){for(var m,b,w,D,s=new Array(i.length/2),E=0;E<i.length/4;E++){E<i.length/4-1?(m=i[4*(E+1)],b=i[4*(E+1)+1],w=i[4*(E+1)+2],D=i[4*(E+1)+3]):(m=i[0],b=i[1],w=i[2],D=i[3]);var S=ps(i[4*E],i[4*E+1],i[4*E+2],i[4*E+3],m,b,w,D,!0);s[2*E]=S[0],s[2*E+1]=S[1]}return s},un=function(i,s){for(var f,h,p,m,l=new Array(2*i.length),b=0;b<i.length/2;b++){b<i.length/2-1?(p=i[2*(b+1)],m=i[2*(b+1)+1]):(p=i[0],m=i[1]);var w=m-(h=i[2*b+1]),D=-(p-(f=i[2*b])),E=Math.sqrt(w*w+D*D),S=w/E,M=D/E;l[4*b]=f+S*s,l[4*b+1]=h+M*s,l[4*b+2]=p+S*s,l[4*b+3]=m+M*s}return l},hs=function(i,s,l,f,h,p,m){return i-=h,s-=p,(i/=l/2+m)*i+(s/=f/2+m)*s<=1},Gn=function(i,s,l,f,h,p,m){var b=[l-i,f-s],w=[i-h,s-p],D=b[0]*b[0]+b[1]*b[1],E=2*(w[0]*b[0]+w[1]*b[1]),M=E*E-4*D*(w[0]*w[0]+w[1]*w[1]-m*m);if(M<0)return[];var x=(-E+Math.sqrt(M))/(2*D),R=(-E-Math.sqrt(M))/(2*D),A=Math.min(x,R),P=Math.max(x,R),k=[];if(A>=0&&A<=1&&k.push(A),P>=0&&P<=1&&k.push(P),0===k.length)return[];var O=k[0]*b[0]+i,V=k[0]*b[1]+s;return k.length>1?k[0]==k[1]?[O,V]:[O,V,k[1]*b[0]+i,k[1]*b[1]+s]:[O,V]},Jc=function(i,s,l){return s<=i&&i<=l||l<=i&&i<=s?i:i<=s&&s<=l||l<=s&&s<=i?s:l},ps=function(i,s,l,f,h,p,m,b,w){var D=i-h,E=l-i,S=m-h,M=s-p,x=f-s,R=b-p,A=S*M-R*D,P=E*M-x*D,k=R*E-S*x;if(0!==k){var O=A/k,V=P/k,K=-.001;return K<=O&&O<=1.001&&K<=V&&V<=1.001||w?[i+O*E,s+O*x]:[]}return 0===A||0===P?Jc(i,l,m)===m?[m,b]:Jc(i,l,h)===h?[h,p]:Jc(h,m,l)===l?[l,f]:[]:[]},Cn=function(i,s,l,f,h,p,m,b){var D,M,w=[],E=new Array(l.length),S=!0;if(null==p&&(S=!1),S){for(var x=0;x<E.length/2;x++)E[2*x]=l[2*x]*p+f,E[2*x+1]=l[2*x+1]*m+h;if(b>0){var R=un(E,-b);M=Fl(R)}else M=E}else M=l;for(var k,O,V=0;V<M.length/2;V++)V<M.length/2-1?(k=M[2*(V+1)],O=M[2*(V+1)+1]):(k=M[0],O=M[1]),0!==(D=ps(i,s,f,h,M[2*V],M[2*V+1],k,O)).length&&w.push(D[0],D[1]);return w},Ll=function(i,s,l){var f=[i[0]-s[0],i[1]-s[1]],h=Math.sqrt(f[0]*f[0]+f[1]*f[1]),p=(h-l)/h;return p<0&&(p=1e-5),[s[0]+p*f[0],s[1]+p*f[1]]},hn=function(i,s){var l=zu(i,s);return zo(l)},zo=function(i){for(var s,l,f=i.length/2,h=1/0,p=1/0,m=-1/0,b=-1/0,w=0;w<f;w++)s=i[2*w],l=i[2*w+1],h=Math.min(h,s),m=Math.max(m,s),p=Math.min(p,l),b=Math.max(b,l);for(var D=2/(m-h),E=2/(b-p),S=0;S<f;S++)s=i[2*S]=i[2*S]*D,l=i[2*S+1]=i[2*S+1]*E,h=Math.min(h,s),m=Math.max(m,s),p=Math.min(p,l),b=Math.max(b,l);if(p<-1)for(var M=0;M<f;M++)l=i[2*M+1]=i[2*M+1]+(-1-p);return i},zu=function(i,s){var l=1/i*2*Math.PI,f=i%2==0?Math.PI/2+l/2:Math.PI/2;f+=s;for(var p,h=new Array(2*i),m=0;m<i;m++)p=m*l+f,h[2*m]=Math.cos(p),h[2*m+1]=Math.sin(-p);return h},Xs=function(i,s){return Math.min(i/4,s/4,8)},Bl=function(i,s){return Math.min(i/10,s/10,8)},ip=function(i,s){return{heightOffset:Math.min(15,.05*s),widthOffset:Math.min(100,.25*i),ctrlPtOffsetPct:.05}},tv=kr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(i){return 1}}),Mf={pageRank:function(i){for(var s=tv(i),l=s.dampingFactor,f=s.precision,h=s.iterations,p=s.weight,m=this._private.cy,b=this.byGroup(),w=b.nodes,D=b.edges,E=w.length,M=D.length,x=new Array(E*E),R=new Array(E),A=(1-l)/E,P=0;P<E;P++){for(var k=0;k<E;k++)x[P*E+k]=0;R[P]=0}for(var V=0;V<M;V++){var q=D[V],K=q.data("source"),$=q.data("target");if(K!==$){var W=w.indexOfId(K),U=w.indexOfId($),Y=p(q);x[U*E+W]+=Y,R[W]+=Y}}for(var G=1/E+A,te=0;te<E;te++)if(0===R[te])for(var Z=0;Z<E;Z++)x[Z*E+te]=G;else for(var ne=0;ne<E;ne++){var ee=ne*E+te;x[ee]=x[ee]/R[te]+A}for(var xe,fe=new Array(E),ge=new Array(E),de=0;de<E;de++)fe[de]=1;for(var Ce=0;Ce<h;Ce++){for(var Pe=0;Pe<E;Pe++)ge[Pe]=0;for(var Ve=0;Ve<E;Ve++)for(var Oe=0;Oe<E;Oe++)ge[Ve]+=x[Ve*E+Oe]*fe[Oe];qm(ge),xe=fe,fe=ge,ge=xe;for(var he=0,ze=0;ze<E;ze++){var Ge=xe[ze]-fe[ze];he+=Ge*Ge}if(he<f)break}return{rank:function(It){return It=m.collection(It)[0],fe[w.indexOf(It)]}}}},ju=kr({root:null,weight:function(i){return 1},directed:!1,alpha:0}),fa={degreeCentralityNormalized:function(i){i=ju(i);var s=this.cy(),l=this.nodes(),f=l.length;if(i.directed){for(var D={},E={},S=0,M=0,x=0;x<f;x++){var R=l[x],A=R.id();i.root=R;var P=this.degreeCentrality(i);S<P.indegree&&(S=P.indegree),M<P.outdegree&&(M=P.outdegree),D[A]=P.indegree,E[A]=P.outdegree}return{indegree:function(O){return 0==S?0:(Je(O)&&(O=s.filter(O)),D[O.id()]/S)},outdegree:function(O){return 0===M?0:(Je(O)&&(O=s.filter(O)),E[O.id()]/M)}}}for(var h={},p=0,m=0;m<f;m++){var b=l[m];i.root=b;var w=this.degreeCentrality(i);p<w.degree&&(p=w.degree),h[b.id()]=w.degree}return{degree:function(O){return 0===p?0:(Je(O)&&(O=s.filter(O)),h[O.id()]/p)}}},degreeCentrality:function(i){i=ju(i);var s=this.cy(),l=this,h=i.root,p=i.weight,m=i.directed,b=i.alpha;if(h=s.collection(h)[0],m){for(var M=h.connectedEdges(),x=M.filter(function(K){return K.target().same(h)&&l.has(K)}),R=M.filter(function(K){return K.source().same(h)&&l.has(K)}),A=x.length,P=R.length,k=0,O=0,V=0;V<x.length;V++)k+=p(x[V]);for(var q=0;q<R.length;q++)O+=p(R[q]);return{indegree:Math.pow(A,1-b)*Math.pow(k,b),outdegree:Math.pow(P,1-b)*Math.pow(O,b)}}for(var w=h.connectedEdges().intersection(l),D=w.length,E=0,S=0;S<w.length;S++)E+=p(w[S]);return{degree:Math.pow(D,1-b)*Math.pow(E,b)}}};fa.dc=fa.degreeCentrality,fa.dcn=fa.degreeCentralityNormalised=fa.degreeCentralityNormalized;var Vl=kr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ha={closenessCentralityNormalized:function(i){for(var s=Vl(i),l=s.harmonic,f=s.weight,h=s.directed,p=this.cy(),m={},b=0,w=this.nodes(),D=this.floydWarshall({weight:f,directed:h}),E=0;E<w.length;E++){for(var S=0,M=w[E],x=0;x<w.length;x++)if(E!==x){var R=D.distance(M,w[x]);S+=l?1/R:R}l||(S=1/S),b<S&&(b=S),m[M.id()]=S}return{closeness:function(P){return 0==b?0:(P=Je(P)?p.filter(P)[0].id():P.id(),m[P]/b)}}},closenessCentrality:function(i){var s=Vl(i),l=s.root,f=s.weight,h=s.directed,p=s.harmonic;l=this.filter(l)[0];for(var m=this.dijkstra({root:l,weight:f,directed:h}),b=0,w=this.nodes(),D=0;D<w.length;D++){var E=w[D];if(!E.same(l)){var S=m.distanceTo(E);b+=p?1/S:S}}return p?b:1/b}};ha.cc=ha.closenessCentrality,ha.ccn=ha.closenessCentralityNormalised=ha.closenessCentralityNormalized;var If=kr({weight:null,directed:!1}),$l={betweennessCentrality:function(i){for(var s=If(i),l=s.directed,f=s.weight,h=null!=f,p=this.cy(),m=this.nodes(),b={},w={},D=0,E={set:function(O,V){w[O]=V,V>D&&(D=V)},get:function(O){return w[O]}},S=0;S<m.length;S++){var M=m[S],x=M.id();b[x]=l?M.outgoers().nodes():M.openNeighborhood().nodes(),E.set(x,0)}for(var R=function(O){for(var V=m[O].id(),q=[],K={},$={},W={},U=new mt.default(function(Oe,Fe){return W[Oe]-W[Fe]}),Y=0;Y<m.length;Y++){var X=m[Y].id();K[X]=[],$[X]=0,W[X]=1/0}for($[V]=1,W[V]=0,U.push(V);!U.empty();){var G=U.pop();if(q.push(G),h)for(var te=0;te<b[G].length;te++){var ne,Z=b[G][te],se=p.getElementById(G);ne=se.edgesTo(Z).length>0?se.edgesTo(Z)[0]:Z.edgesTo(se)[0];var ee=f(ne);Z=Z.id(),W[Z]>W[G]+ee&&(W[Z]=W[G]+ee,U.nodes.indexOf(Z)<0?U.push(Z):U.updateItem(Z),$[Z]=0,K[Z]=[]),W[Z]==W[G]+ee&&($[Z]=$[Z]+$[G],K[Z].push(G))}else for(var fe=0;fe<b[G].length;fe++){var ge=b[G][fe].id();W[ge]==1/0&&(U.push(ge),W[ge]=W[G]+1),W[ge]==W[G]+1&&($[ge]=$[ge]+$[G],K[ge].push(G))}}for(var xe={},de=0;de<m.length;de++)xe[m[de].id()]=0;for(;q.length>0;){for(var Ce=q.pop(),Pe=0;Pe<K[Ce].length;Pe++){var Ve=K[Ce][Pe];xe[Ve]=xe[Ve]+$[Ve]/$[Ce]*(1+xe[Ce])}Ce!=m[O].id()&&E.set(Ce,E.get(Ce)+xe[Ce])}},A=0;A<m.length;A++)R(A);var P={betweenness:function(O){var V=p.collection(O).id();return E.get(V)},betweennessNormalized:function(O){if(0==D)return 0;var V=p.collection(O).id();return E.get(V)/D}};return P.betweennessNormalised=P.betweennessNormalized,P}};$l.bc=$l.betweennessCentrality;var op=kr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(a){return 1}]}),gs=function(i,s){for(var l=0,f=0;f<s.length;f++)l+=s[f](i);return l},Ua=function(i,s){for(var l,f=0;f<s;f++){l=0;for(var h=0;h<s;h++)l+=i[h*s+f];for(var p=0;p<s;p++)i[p*s+f]=i[p*s+f]/l}},sp=function(i,s,l){for(var f=new Array(l*l),h=0;h<l;h++){for(var p=0;p<l;p++)f[h*l+p]=0;for(var m=0;m<l;m++)for(var b=0;b<l;b++)f[h*l+b]+=i[h*l+m]*s[m*l+b]}return f},vt=function(i,s,l){for(var f=i.slice(0),h=1;h<l;h++)i=sp(i,f,s);return i},td=function(i,s,l){for(var f=new Array(s*s),h=0;h<s*s;h++)f[h]=Math.pow(i[h],l);return Ua(f,s),f},ct=function(i,s,l,f){for(var h=0;h<l;h++)if(Math.round(i[h]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(s[h]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},nd=function(i,s){for(var l=0;l<i.length;l++)if(!s[l]||i[l].id()!==s[l].id())return!1;return!0},up=function(i){for(var s=this.nodes(),l=this.edges(),f=this.cy(),h=function(i){return op(i)}(i),p={},m=0;m<s.length;m++)p[s[m].id()]=m;for(var E,b=s.length,w=b*b,D=new Array(w),S=0;S<w;S++)D[S]=0;for(var M=0;M<l.length;M++){var x=l[M],R=p[x.source().id()],A=p[x.target().id()],P=gs(x,h.attributes);D[R*b+A]+=P,D[A*b+R]+=P}(function(i,s,l){for(var f=0;f<s;f++)i[f*s+f]=l})(D,b,h.multFactor),Ua(D,b);for(var k=!0,O=0;k&&O<h.maxIterations;)k=!1,E=vt(D,b,h.expandFactor),D=td(E,b,h.inflateFactor),ct(D,E,w,4)||(k=!0),O++;var V=function(i,s,l,f){for(var h=[],p=0;p<s;p++){for(var m=[],b=0;b<s;b++)Math.round(1e3*i[p*s+b])/1e3>0&&m.push(l[b]);0!==m.length&&h.push(f.collection(m))}return h}(D,b,s,f);return V=function(i){for(var s=0;s<i.length;s++)for(var l=0;l<i.length;l++)s!=l&&nd(i[s],i[l])&&i.splice(l,1);return i}(V),V},nv={markovClustering:up,mcl:up},rv=function(i){return i},pa=function(i,s){return Math.abs(s-i)},ga=function(i,s,l){return i+pa(s,l)},To=function(i,s,l){return i+Math.pow(l-s,2)},va=function(i){return Math.sqrt(i)},In=function(i,s,l){return Math.max(i,pa(s,l))},za=function(i,s,l,f,h){for(var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rv,m=f,D=0;D<i;D++)m=h(m,s(D),l(D));return p(m)},Oi={euclidean:function(i,s,l){return i>=2?za(i,s,l,0,To,va):za(i,s,l,0,ga)},squaredEuclidean:function(i,s,l){return za(i,s,l,0,To)},manhattan:function(i,s,l){return za(i,s,l,0,ga)},max:function(i,s,l){return za(i,s,l,-1/0,In)}};function ja(a,i,s,l,f,h){var p;return p=Ln(a)?a:Oi[a]||Oi.euclidean,0===i&&Ln(a)?p(f,h):p(i,s,l,f,h)}Oi["squared-euclidean"]=Oi.squaredEuclidean,Oi.squaredeuclidean=Oi.squaredEuclidean;var lp=kr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),jo=function(i){return lp(i)},vs=function(i,s,l,f,h){var m="kMedoids"!==h?function(E){return l[E]}:function(E){return f[E](l)};return ja(i,f.length,m,function(S){return f[S](s)},l,s)},Ga=function(i,s,l){for(var f=l.length,h=new Array(f),p=new Array(f),m=new Array(s),b=null,w=0;w<f;w++)h[w]=i.min(l[w]).value,p[w]=i.max(l[w]).value;for(var D=0;D<s;D++){b=[];for(var E=0;E<f;E++)b[E]=Math.random()*(p[E]-h[E])+h[E];m[D]=b}return m},po=function(i,s,l,f,h){for(var p=1/0,m=0,b=0;b<s.length;b++){var w=vs(l,i,s[b],f,h);w<p&&(p=w,m=b)}return m},zl=function(i,s,l){for(var f=[],h=null,p=0;p<s.length;p++)l[(h=s[p]).id()]===i&&f.push(h);return f},cp=function(i,s,l){return Math.abs(s-i)<=l},dp=function(i,s,l){for(var f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)if(Math.abs(i[f][h]-s[f][h])>l)return!1;return!0},jl=function(i,s,l){for(var f=0;f<l;f++)if(i===s[f])return!0;return!1},Af=function(i,s){var l=new Array(s);if(i.length<50)for(var f=0;f<s;f++){for(var h=i[Math.floor(Math.random()*i.length)];jl(h,l,f);)h=i[Math.floor(Math.random()*i.length)];l[f]=h}else for(var p=0;p<s;p++)l[p]=i[Math.floor(Math.random()*i.length)];return l},Rf=function(i,s,l){for(var f=0,h=0;h<s.length;h++)f+=vs("manhattan",s[h],i,l,"kMedoids");return f},Ne=function(i,s,l,f,h){for(var p,m,b=0;b<s.length;b++)for(var w=0;w<i.length;w++)f[b][w]=Math.pow(l[b][w],h.m);for(var D=0;D<i.length;D++)for(var E=0;E<h.attributes.length;E++){p=0,m=0;for(var S=0;S<s.length;S++)p+=f[S][D]*h.attributes[E](s[S]),m+=f[S][D];i[D][E]=p/m}},be=function(i,s,l,f,h){for(var p=0;p<i.length;p++)s[p]=i[p].slice();for(var m,b,w,D=2/(h.m-1),E=0;E<l.length;E++)for(var S=0;S<f.length;S++){m=0;for(var M=0;M<l.length;M++)b=vs(h.distance,f[S],l[E],h.attributes,"cmeans"),w=vs(h.distance,f[S],l[M],h.attributes,"cmeans"),m+=Math.pow(b/w,D);i[S][E]=1/m}},Qt=function(i){var h,p,m,b,w,s=this.cy(),l=this.nodes(),f=jo(i);b=new Array(l.length);for(var D=0;D<l.length;D++)b[D]=new Array(f.k);m=new Array(l.length);for(var E=0;E<l.length;E++)m[E]=new Array(f.k);for(var S=0;S<l.length;S++){for(var M=0,x=0;x<f.k;x++)m[S][x]=Math.random(),M+=m[S][x];for(var R=0;R<f.k;R++)m[S][R]=m[S][R]/M}p=new Array(f.k);for(var A=0;A<f.k;A++)p[A]=new Array(f.attributes.length);w=new Array(l.length);for(var P=0;P<l.length;P++)w[P]=new Array(f.k);for(var k=!0,O=0;k&&O<f.maxIterations;)k=!1,Ne(p,l,m,w,f),be(m,b,p,l,f),dp(m,b,f.sensitivityThreshold)||(k=!0),O++;return h=function(i,s,l,f){for(var h=new Array(l.k),p=0;p<h.length;p++)h[p]=[];for(var m,b,w=0;w<s.length;w++){m=-1/0,b=-1;for(var D=0;D<s[0].length;D++)s[w][D]>m&&(m=s[w][D],b=D);h[b].push(i[w])}for(var E=0;E<h.length;E++)h[E]=f.collection(h[E]);return h}(l,m,f,s),{clusters:h,degreeOfMembership:m}},Bn={kMeans:function(i){var b,s=this.cy(),l=this.nodes(),f=null,h=jo(i),p=new Array(h.k),m={};b=h.testMode?"number"==typeof h.testCentroids?Ga(l,h.k,h.attributes):"object"===dn(h.testCentroids)?h.testCentroids:Ga(l,h.k,h.attributes):Ga(l,h.k,h.attributes);for(var w=!0,D=0;w&&D<h.maxIterations;){for(var E=0;E<l.length;E++)m[(f=l[E]).id()]=po(f,b,h.distance,h.attributes,"kMeans");w=!1;for(var S=0;S<h.k;S++){var M=zl(S,l,m);if(0!==M.length){for(var x=h.attributes.length,R=b[S],A=new Array(x),P=new Array(x),k=0;k<x;k++){P[k]=0;for(var O=0;O<M.length;O++)P[k]+=h.attributes[k](f=M[O]);A[k]=P[k]/M.length,cp(A[k],R[k],h.sensitivityThreshold)||(w=!0)}b[S]=A,p[S]=s.collection(M)}}D++}return p},kMedoids:function(i){var m,w,s=this.cy(),l=this.nodes(),f=null,h=jo(i),p=new Array(h.k),b={},D=new Array(h.k);h.testMode?"number"==typeof h.testCentroids||(m="object"===dn(h.testCentroids)?h.testCentroids:Af(l,h.k)):m=Af(l,h.k);for(var E=!0,S=0;E&&S<h.maxIterations;){for(var M=0;M<l.length;M++)b[(f=l[M]).id()]=po(f,m,h.distance,h.attributes,"kMedoids");E=!1;for(var x=0;x<m.length;x++){var R=zl(x,l,b);if(0!==R.length){D[x]=Rf(m[x],R,h.attributes);for(var A=0;A<R.length;A++)(w=Rf(R[A],R,h.attributes))<D[x]&&(D[x]=w,m[x]=R[A],E=!0);p[x]=s.collection(R)}}S++}return p},fuzzyCMeans:Qt,fcm:Qt},Zr=kr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Qn={single:"min",complete:"max"},fp=function(i,s,l,f,h){for(var b,p=0,m=1/0,w=h.attributes,D=function(U,Y){return ja(h.distance,w.length,function(X){return w[X](U)},function(X){return w[X](Y)},U,Y)},E=0;E<i.length;E++){var S=i[E].key,M=l[S][f[S]];M<m&&(p=S,m=M)}if("threshold"===h.mode&&m>=h.threshold||"dendrogram"===h.mode&&1===i.length)return!1;var A,x=s[p],R=s[f[p]];A="dendrogram"===h.mode?{left:x,right:R,key:x.key}:{value:x.value.concat(R.value),key:x.key},i[x.index]=A,i.splice(R.index,1),s[x.key]=A;for(var P=0;P<i.length;P++){var k=i[P];x.key===k.key?b=1/0:"min"===h.linkage?(b=l[x.key][k.key],l[x.key][k.key]>l[R.key][k.key]&&(b=l[R.key][k.key])):"max"===h.linkage?(b=l[x.key][k.key],l[x.key][k.key]<l[R.key][k.key]&&(b=l[R.key][k.key])):b="mean"===h.linkage?(l[x.key][k.key]*x.size+l[R.key][k.key]*R.size)/(x.size+R.size):"dendrogram"===h.mode?D(k.value,x.value):D(k.value[0],x.value[0]),l[x.key][k.key]=l[k.key][x.key]=b}for(var O=0;O<i.length;O++){var V=i[O].key;if(f[V]===x.key||f[V]===R.key){for(var q=V,K=0;K<i.length;K++){var $=i[K].key;l[V][$]<l[V][q]&&(q=$)}f[V]=q}i[O].index=O}return x.key=R.key=x.index=R.index=null,!0},Ei=function a(i,s,l){i&&(i.value?s.push(i.value):(i.left&&a(i.left,s),i.right&&a(i.right,s)))},id=function a(i,s){if(!i)return"";if(i.left&&i.right){var l=a(i.left,s),f=a(i.right,s),h=s.add({group:"nodes",data:{id:l+","+f}});return s.add({group:"edges",data:{source:l,target:h.id()}}),s.add({group:"edges",data:{source:f,target:h.id()}}),h.id()}return i.value?i.value.id():void 0},iv=function a(i,s,l){if(!i)return[];var f=[],h=[],p=[];return 0===s?(i.left&&Ei(i.left,f),i.right&&Ei(i.right,h),p=f.concat(h),[l.collection(p)]):1===s?i.value?[l.collection(i.value)]:(i.left&&Ei(i.left,f),i.right&&Ei(i.right,h),[l.collection(f),l.collection(h)]):i.value?[l.collection(i.value)]:(i.left&&(f=a(i.left,s-1,l)),i.right&&(h=a(i.right,s-1,l)),f.concat(h))},Qs=function(i){for(var s=this.cy(),l=this.nodes(),f=function(i){var s=Zr(i),l=Qn[s.linkage];return null!=l&&(s.linkage=l),s}(i),h=f.attributes,p=function(O,V){return ja(f.distance,h.length,function(q){return h[q](O)},function(q){return h[q](V)},O,V)},m=[],b=[],w=[],D=[],E=0;E<l.length;E++){var S={value:"dendrogram"===f.mode?l[E]:[l[E]],key:E,index:E};m[E]=S,D[E]=S,b[E]=[],w[E]=0}for(var M=0;M<m.length;M++)for(var x=0;x<=M;x++){var R;R="dendrogram"===f.mode?M===x?1/0:p(m[M].value,m[x].value):M===x?1/0:p(m[M].value[0],m[x].value[0]),b[M][x]=R,b[x][M]=R,R<b[M][w[M]]&&(w[M]=x)}for(var A=fp(m,D,b,w,f);A;)A=fp(m,D,b,w,f);var P;return"dendrogram"===f.mode?(P=iv(m[0],f.dendrogramDepth,s),f.addDendrogram&&id(m[0],s)):(P=new Array(m.length),m.forEach(function(k,O){k.key=k.index=null,P[O]=s.collection(k.value)})),P},Js={hierarchicalClustering:Qs,hca:Qs},od=kr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ov=function(i,s,l,f){var h=function(m,b){return f[b](m)};return-ja(i,f.length,function(p){return h(s,p)},function(p){return h(l,p)},s,l)},Pf=function(i,s,l){for(var f=[],h=0;h<i;h++){for(var p=-1,m=-1/0,b=0;b<l.length;b++){var w=l[b];s[h*i+w]>m&&(p=w,m=s[h*i+w])}p>0&&f.push(p)}for(var D=0;D<l.length;D++)f[l[D]]=l[D];return f},Fi=function(i){for(var s=this.cy(),l=this.nodes(),f=function(i){var s=i.damping,l=i.preference;.5<=s&&s<1||Hn("Damping must range on [0.5, 1).  Got: ".concat(s));var f=["median","mean","min","max"];return f.some(function(h){return h===l})||at(l)||Hn("Preference must be one of [".concat(f.map(function(h){return"'".concat(h,"'")}).join(", "),"] or a number.  Got: ").concat(l)),od(i)}(i),h={},p=0;p<l.length;p++)h[l[p].id()]=p;var m,b,w,D,E,S,U;b=(m=l.length)*m,w=new Array(b);for(var M=0;M<b;M++)w[M]=-1/0;for(var x=0;x<m;x++)for(var R=0;R<m;R++)x!==R&&(w[x*m+R]=ov(f.distance,l[x],l[R],f.attributes));D=function(i,s){var l;return l="median"===s?function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(l<i.length&&i.splice(l,i.length-l),s>0&&i.splice(0,s)):i=i.slice(s,l);for(var m=0,b=i.length-1;b>=0;b--)p?isFinite(i[b])||(i[b]=-1/0,m++):i.splice(b,1);h&&i.sort(function(S,M){return S-M});var D=i.length,E=Math.floor(D/2);return D%2!=0?i[E+1+m]:(i[E-1+m]+i[E+m])/2}(i):"mean"===s?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=0,h=0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<l;p++){var m=i[p];isFinite(m)&&(f+=m,h++)}return f/h}(i):"min"===s?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<l;h++){var p=i[h];isFinite(p)&&(f=Math.min(p,f))}return f}(i):"max"===s?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=-1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<l;h++){var p=i[h];isFinite(p)&&(f=Math.max(p,f))}return f}(i):s,l}(w,f.preference);for(var A=0;A<m;A++)w[A*m+A]=D;E=new Array(b);for(var P=0;P<b;P++)E[P]=0;S=new Array(b);for(var k=0;k<b;k++)S[k]=0;for(var O=new Array(m),V=new Array(m),q=new Array(m),K=0;K<m;K++)O[K]=0,V[K]=0,q[K]=0;for(var $=new Array(m*f.minIterations),W=0;W<$.length;W++)$[W]=0;for(U=0;U<f.maxIterations;U++){for(var Y=0;Y<m;Y++){for(var X=-1/0,G=-1/0,te=-1,Z=0,se=0;se<m;se++)O[se]=E[Y*m+se],(Z=S[Y*m+se]+w[Y*m+se])>=X?(G=X,X=Z,te=se):Z>G&&(G=Z);for(var ne=0;ne<m;ne++)E[Y*m+ne]=(1-f.damping)*(w[Y*m+ne]-X)+f.damping*O[ne];E[Y*m+te]=(1-f.damping)*(w[Y*m+te]-G)+f.damping*O[te]}for(var ee=0;ee<m;ee++){for(var fe=0,ge=0;ge<m;ge++)O[ge]=S[ge*m+ee],V[ge]=Math.max(0,E[ge*m+ee]),fe+=V[ge];fe-=V[ee],V[ee]=E[ee*m+ee],fe+=V[ee];for(var xe=0;xe<m;xe++)S[xe*m+ee]=(1-f.damping)*Math.min(0,fe-V[xe])+f.damping*O[xe];S[ee*m+ee]=(1-f.damping)*(fe-V[ee])+f.damping*O[ee]}for(var de=0,Ce=0;Ce<m;Ce++){var Pe=S[Ce*m+Ce]+E[Ce*m+Ce]>0?1:0;$[U%f.minIterations*m+Ce]=Pe,de+=Pe}if(de>0&&(U>=f.minIterations-1||U==f.maxIterations-1)){for(var Ve=0,Oe=0;Oe<m;Oe++){q[Oe]=0;for(var Fe=0;Fe<f.minIterations;Fe++)q[Oe]+=$[Fe*m+Oe];(0===q[Oe]||q[Oe]===f.minIterations)&&Ve++}if(Ve===m)break}}for(var he=function(i,s,l){for(var f=[],h=0;h<i;h++)s[h*i+h]+l[h*i+h]>0&&f.push(h);return f}(m,E,S),ze=function(i,s,l){for(var f=Pf(i,s,l),h=0;h<l.length;h++){for(var p=[],m=0;m<f.length;m++)f[m]===l[h]&&p.push(m);for(var b=-1,w=-1/0,D=0;D<p.length;D++){for(var E=0,S=0;S<p.length;S++)E+=s[p[S]*i+p[D]];E>w&&(b=D,w=E)}l[h]=p[b]}return Pf(i,s,l)}(m,w,he),Ge={},Le=0;Le<he.length;Le++)Ge[he[Le]]=[];for(var Xe=0;Xe<l.length;Xe++){var Ft=ze[h[l[Xe].id()]];null!=Ft&&Ge[Ft].push(l[Xe])}for(var Re=new Array(he.length),nt=0;nt<he.length;nt++)Re[nt]=s.collection(Ge[he[nt]]);return Re},En={affinityPropagation:Fi,ap:Fi},mr=kr({root:void 0,directed:!1}),ri={hierholzer:function(i){if(!Mt(i)){var s=arguments;i={root:s[0],directed:s[1]}}var b,w,D,l=mr(i),f=l.root,h=l.directed,p=this,m=!1;f&&(D=Je(f)?this.filter(f)[0].id():f[0].id());var E={},S={};p.forEach(h?function(k){var O=k.id();if(k.isNode()){var V=k.indegree(!0),q=k.outdegree(!0),K=V-q,$=q-V;1==K?b?m=!0:b=O:1==$?w?m=!0:w=O:($>1||K>1)&&(m=!0),E[O]=[],k.outgoers().forEach(function(W){W.isEdge()&&E[O].push(W.id())})}else S[O]=[void 0,k.target().id()]}:function(k){var O=k.id();k.isNode()?(k.degree(!0)%2&&(b?w?m=!0:w=O:b=O),E[O]=[],k.connectedEdges().forEach(function(q){return E[O].push(q.id())})):S[O]=[k.source().id(),k.target().id()]});var M={found:!1,trail:void 0};if(m)return M;if(w&&b)if(h){if(D&&w!=D)return M;D=w}else{if(D&&w!=D&&b!=D)return M;D||(D=w)}else D||(D=p[0].id());var x=function(O){for(var K,$,W,V=O,q=[O];E[V].length;)K=E[V].shift(),$=S[K][0],V!=(W=S[K][1])?(E[W]=E[W].filter(function(U){return U!=K}),V=W):!h&&V!=$&&(E[$]=E[$].filter(function(U){return U!=K}),V=$),q.unshift(K),q.unshift(V);return q},R=[],A=[];for(A=x(D);1!=A.length;)0==E[A[0]].length?(R.unshift(p.getElementById(A.shift())),R.unshift(p.getElementById(A.shift()))):A=x(A.shift()).concat(A);for(var P in R.unshift(p.getElementById(A.shift())),E)if(E[P].length)return M;return M.found=!0,M.trail=this.spawn(R,!0),M}},ma=function(){var i=this,s={},l=0,f=0,h=[],p=[],m={},w=function E(S,M,x){S===x&&(f+=1),s[M]={id:l,low:l++,cutVertex:!1};var A,P,k,O,R=i.getElementById(M).connectedEdges().intersection(i);0===R.size()?h.push(i.spawn(i.getElementById(M))):R.forEach(function(V){A=V.source().id(),P=V.target().id(),(k=A===M?P:A)!==x&&(O=V.id(),m[O]||(m[O]=!0,p.push({x:M,y:k,edge:V})),k in s?s[M].low=Math.min(s[M].low,s[k].id):(E(S,k,M),s[M].low=Math.min(s[M].low,s[k].low),s[M].id<=s[k].low&&(s[M].cutVertex=!0,function(S,M){for(var x=p.length-1,R=[],A=i.spawn();p[x].x!=S||p[x].y!=M;)R.push(p.pop().edge),x--;R.push(p.pop().edge),R.forEach(function(P){var k=P.connectedNodes().intersection(i);A.merge(P),k.forEach(function(O){var V=O.id(),q=O.connectedEdges().intersection(i);A.merge(O),A.merge(s[V].cutVertex?q.filter(function(K){return K.isLoop()}):q)})}),h.push(A)}(M,k))))})};i.forEach(function(E){if(E.isNode()){var S=E.id();S in s||(f=0,w(S,S),s[S].cutVertex=f>1)}});var D=Object.keys(s).filter(function(E){return s[E].cutVertex}).map(function(E){return i.getElementById(E)});return{cut:i.spawn(D),components:h}},Gu=function(){var i=this,s={},l=0,f=[],h=[],p=i.spawn(i),m=function b(w){if(h.push(w),s[w]={index:l,low:l++,explored:!1},i.getElementById(w).connectedEdges().intersection(i).forEach(function(R){var A=R.target().id();A!==w&&(A in s||b(A),s[A].explored||(s[w].low=Math.min(s[w].low,s[A].low)))}),s[w].index===s[w].low){for(var E=i.spawn();;){var S=h.pop();if(E.merge(i.getElementById(S)),s[S].low=s[w].index,s[S].explored=!0,S===w)break}var M=E.edgesWith(E),x=E.merge(M);f.push(x),p=p.difference(x)}};return i.forEach(function(b){if(b.isNode()){var w=b.id();w in s||m(w)}}),{cut:p,components:f}},ms={};[$u,Ht,Df,co,ep,Uu,Zn,Mf,fa,ha,$l,nv,Bn,Js,En,ri,{hopcroftTarjanBiconnected:ma,htbc:ma,htb:ma,hopcroftTarjanBiconnectedComponents:ma},{tarjanStronglyConnected:Gu,tsc:Gu,tscc:Gu,tarjanStronglyConnectedComponents:Gu}].forEach(function(a){Nt(ms,a)});var tt=function a(i){if(!(this instanceof a))return new a(i);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof i&&i.call(this,this.fulfill.bind(this),this.reject.bind(this))};tt.prototype={fulfill:function(i){return tn(this,1,"fulfillValue",i)},reject:function(i){return tn(this,2,"rejectReason",i)},then:function(i,s){var l=this,f=new tt;return l.onFulfilled.push(qa(i,f,"fulfill")),l.onRejected.push(qa(s,f,"reject")),dr(l),f.proxy}};var tn=function(i,s,l,f){return 0===i.state&&(i.state=s,i[l]=f,dr(i)),i},dr=function(i){1===i.state?Ro(i,"onFulfilled",i.fulfillValue):2===i.state&&Ro(i,"onRejected",i.rejectReason)},Ro=function(i,s,l){if(0!==i[s].length){var f=i[s];i[s]=[];var h=function(){for(var m=0;m<f.length;m++)f[m](l)};"function"==typeof setImmediate?setImmediate(h):setTimeout(h,0)}},qa=function(i,s,l){return function(f){if("function"!=typeof i)s[l].call(s,f);else{var h;try{h=i(f)}catch(p){return void s.reject(p)}Kr(s,h)}}},Kr=function a(i,s){if(i!==s&&i.proxy!==s){var l;if("object"===dn(s)&&null!==s||"function"==typeof s)try{l=s.then}catch(h){return void i.reject(h)}if("function"!=typeof l)i.fulfill(s);else{var f=!1;try{l.call(s,function(h){f||(f=!0,h===s?i.reject(new TypeError("circular thenable chain")):a(i,h))},function(h){f||(f=!0,i.reject(h))})}catch(h){f||i.reject(h)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};tt.all=function(a){return new tt(function(i,s){for(var l=new Array(a.length),f=0,h=function(b,w){l[b]=w,++f===a.length&&i(l)},p=0;p<a.length;p++)!function(m){var b=a[m];null!=b&&null!=b.then?b.then(function(E){h(m,E)},function(E){s(E)}):h(m,b)}(p)})},tt.resolve=function(a){return new tt(function(i,s){i(a)})},tt.reject=function(a){return new tt(function(i,s){s(a)})};var go=typeof Promise<"u"?Promise:tt,Er=function(i,s,l){var f=or(i),h=!f,p=this._private=Nt({duration:1e3},s,l);if(p.target=i,p.style=p.style||p.css,p.started=!1,p.playing=!1,p.hooked=!1,p.applying=!1,p.progress=0,p.completes=[],p.frames=[],p.complete&&Ln(p.complete)&&p.completes.push(p.complete),h){var m=i.position();p.startPosition=p.startPosition||{x:m.x,y:m.y},p.startStyle=p.startStyle||i.cy().style().getAnimationStartStyle(i,p.style)}if(f){var b=i.pan();p.startPan={x:b.x,y:b.y},p.startZoom=i.zoom()}this.length=1,this[0]=this},Li=Er.prototype;Nt(Li,{instanceString:function(){return"animation"},hook:function(){var i=this._private;if(!i.hooked){var l=i.target._private.animation;(i.queue?l.queue:l.current).push(this),Cr(i.target)&&i.target.cy().addToAnimationPool(i.target),i.hooked=!0}return this},play:function(){var i=this._private;return 1===i.progress&&(i.progress=0),i.playing=!0,i.started=!1,i.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var i=this._private;return i.applying=!0,i.started=!1,i.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var i=this._private;return i.playing=!1,i.started=!1,this},stop:function(){var i=this._private;return i.playing=!1,i.started=!1,i.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(i){var s=this._private;return void 0===i?s.progress*s.duration:this.progress(i/s.duration)},progress:function(i){var s=this._private,l=s.playing;return void 0===i?s.progress:(l&&this.pause(),s.progress=i,s.started=!1,l&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var i=this._private,s=i.playing;s&&this.pause(),i.progress=1-i.progress,i.started=!1;var l=function(w,D){var E=i[w];null!=E&&(i[w]=i[D],i[D]=E)};if(l("zoom","startZoom"),l("pan","startPan"),l("position","startPosition"),i.style)for(var f=0;f<i.style.length;f++){var h=i.style[f],p=h.name,m=i.startStyle[p];i.startStyle[p]=h,i.style[f]=m}return s&&this.play(),this},promise:function(i){var l,s=this._private;return l="frame"===i?s.frames:s.completes,new go(function(f,h){l.push(function(){f()})})}}),Li.complete=Li.completed,Li.run=Li.play,Li.running=Li.playing;var Jt={data:function(i){return i=Nt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,h){},onSet:function(f){},canSet:function(f){return!0}},i),function(f,h){var p=i,m=this,b=void 0!==m.length,w=b?m:[m],D=b?m[0]:m;if(Je(f)){var M,S=-1!==f.indexOf(".")&&Fn.default(f);if(p.allowGetting&&void 0===h)return D&&(p.beforeGet(D),M=S&&void 0===D._private[p.field][f]?Dt.default(D._private[p.field],S):D._private[p.field][f]),M;if(p.allowSetting&&void 0!==h&&!p.immutableKeys[f]){var R=An({},f,h);p.beforeSet(m,R);for(var A=0,P=w.length;A<P;A++){var k=w[A];p.canSet(k)&&(S&&void 0===D._private[p.field][f]?St.default(k._private[p.field],S,h):k._private[p.field][f]=h)}p.updateStyle&&m.updateStyle(),p.onSet(m),p.settingTriggersEvent&&m[p.triggerFnName](p.settingEvent)}}else if(p.allowSetting&&Mt(f)){var V,q,O=f,K=Object.keys(O);p.beforeSet(m,O);for(var $=0;$<K.length;$++)if(q=O[V=K[$]],!p.immutableKeys[V])for(var U=0;U<w.length;U++){var Y=w[U];p.canSet(Y)&&(Y._private[p.field][V]=q)}p.updateStyle&&m.updateStyle(),p.onSet(m),p.settingTriggersEvent&&m[p.triggerFnName](p.settingEvent)}else if(p.allowBinding&&Ln(f))m.on(p.bindingEvent,f);else if(p.allowGetting&&void 0===f){var G;return D&&(p.beforeGet(D),G=D._private[p.field]),G}return m}},removeData:function(i){return i=Nt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},i),function(f){var h=i,p=this,b=void 0!==p.length?p:[p];if(Je(f)){for(var w=f.split(/\s+/),D=w.length,E=0;E<D;E++){var S=w[E];if(!rn(S)&&!h.immutableKeys[S])for(var x=0,R=b.length;x<R;x++)b[x]._private[h.field][S]=void 0}h.triggerEvent&&p[h.triggerFnName](h.event)}else if(void 0===f){for(var A=0,P=b.length;A<P;A++)for(var k=b[A]._private[h.field],O=Object.keys(k),V=0;V<O.length;V++){var q=O[V];!h.immutableKeys[q]&&(k[q]=void 0)}h.triggerEvent&&p[h.triggerFnName](h.event)}return p}}},_r={eventAliasesOn:function(i){var s=i;s.addListener=s.listen=s.bind=s.on,s.unlisten=s.unbind=s.off=s.removeListener,s.trigger=s.emit,s.pon=s.promiseOn=function(l,f){var h=this,p=Array.prototype.slice.call(arguments,0);return new go(function(m,b){var D=p.concat([function(M){h.off.apply(h,E),m(M)}]),E=D.concat([]);h.on.apply(h,D)})}}},Xt={};[{animated:function(){return function(){var s=this,f=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return!1;var p=f[0];return p?p._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var s=this,f=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return this;for(var p=0;p<f.length;p++)f[p]._private.animation.queue=[];return this}},delay:function(){return function(s,l){return(this._private.cy||this).styleEnabled()?this.animate({delay:s,duration:s,complete:l}):this}},delayAnimation:function(){return function(s,l){return(this._private.cy||this).styleEnabled()?this.animation({delay:s,duration:s,complete:l}):this}},animation:function(){return function(s,l){var f=this,h=void 0!==f.length,p=h?f:[f],m=this._private.cy||this,b=!h,w=!b;if(!m.styleEnabled())return this;var D=m.style();if(s=Nt({},s,l),0===Object.keys(s).length)return new Er(p[0],s);switch(void 0===s.duration&&(s.duration=400),s.duration){case"slow":s.duration=600;break;case"fast":s.duration=200}if(w&&(s.style=D.getPropsList(s.style||s.css),s.css=void 0),w&&null!=s.renderedPosition){var S=s.renderedPosition,M=m.pan(),x=m.zoom();s.position=Rl(S,x,M)}if(b&&null!=s.panBy){var R=s.panBy,A=m.pan();s.pan={x:A.x+R.x,y:A.y+R.y}}var P=s.center||s.centre;if(b&&null!=P){var k=m.getCenterPan(P.eles,s.zoom);null!=k&&(s.pan=k)}if(b&&null!=s.fit){var O=s.fit,V=m.getFitViewport(O.eles||O.boundingBox,O.padding);null!=V&&(s.pan=V.pan,s.zoom=V.zoom)}if(b&&Mt(s.zoom)){var q=m.getZoomedViewport(s.zoom);null!=q?(q.zoomed&&(s.zoom=q.zoom),q.panned&&(s.pan=q.pan)):s.zoom=null}return new Er(p[0],s)}},animate:function(){return function(s,l){var f=this,p=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;l&&(s=Nt({},s,l));for(var b=0;b<p.length;b++){var w=p[b],D=w.animated()&&(void 0===s.queue||s.queue);w.animation(s,D?{queue:!0}:void 0).play()}return this}},stop:function(){return function(s,l){var f=this,p=void 0!==f.length?f:[f],m=this._private.cy||this;if(!m.styleEnabled())return this;for(var b=0;b<p.length;b++){for(var D=p[b]._private,E=D.animation.current,S=0;S<E.length;S++)l&&(E[S]._private.duration=0);s&&(D.animation.queue=[]),l||(D.animation.current=[])}return m.notify("draw"),this}}},Jt,_r].forEach(function(a){Nt(Xt,a)});var Zu={animate:Xt.animate(),animation:Xt.animation(),animated:Xt.animated(),clearQueue:Xt.clearQueue(),delay:Xt.delay(),delayAnimation:Xt.delayAnimation(),stop:Xt.stop()},yr={classes:function(i){var s=this;if(void 0===i){var l=[];return s[0]._private.classes.forEach(function(x){return l.push(x)}),l}Mn(i)||(i=(i||"").match(/\S+/g)||[]);for(var f=[],h=new Vu(i),p=0;p<s.length;p++){for(var m=s[p],b=m._private,w=b.classes,D=!1,E=0;E<i.length;E++)if(!w.has(i[E])){D=!0;break}D||(D=w.size!==i.length),D&&(b.classes=h,f.push(m))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),s},addClass:function(i){return this.toggleClass(i,!0)},hasClass:function(i){var s=this[0];return null!=s&&s._private.classes.has(i)},toggleClass:function(i,s){Mn(i)||(i=i.match(/\S+/g)||[]);for(var l=this,f=void 0===s,h=[],p=0,m=l.length;p<m;p++)for(var b=l[p],w=b._private.classes,D=!1,E=0;E<i.length;E++){var S=i[E],M=w.has(S),x=!1;s||f&&!M?(w.add(S),x=!0):(!s||f&&M)&&(w.delete(S),x=!0),!D&&x&&(h.push(b),D=!0)}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},removeClass:function(i){return this.toggleClass(i,!1)},flashClass:function(i,s){var l=this;if(null==s)s=250;else if(0===s)return l;return l.addClass(i),setTimeout(function(){l.removeClass(i)},s),l}};yr.className=yr.classNames=yr.classes;var vn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:jr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};vn.variable="(?:[\\w-.]|(?:\\\\"+vn.metaChar+"))+",vn.className="(?:[\\w-]|(?:\\\\"+vn.metaChar+"))+",vn.value=vn.string+"|"+vn.number,vn.id=vn.variable,function(){var a,i,s;for(a=vn.comparatorOp.split("|"),s=0;s<a.length;s++)vn.comparatorOp+="|@"+(i=a[s]);for(a=vn.comparatorOp.split("|"),s=0;s<a.length;s++)!((i=a[s]).indexOf("!")>=0)&&"="!==i&&(vn.comparatorOp+="|\\!"+i)}();var Go=[{selector:":selected",matches:function(i){return i.selected()}},{selector:":unselected",matches:function(i){return!i.selected()}},{selector:":selectable",matches:function(i){return i.selectable()}},{selector:":unselectable",matches:function(i){return!i.selectable()}},{selector:":locked",matches:function(i){return i.locked()}},{selector:":unlocked",matches:function(i){return!i.locked()}},{selector:":visible",matches:function(i){return i.visible()}},{selector:":hidden",matches:function(i){return!i.visible()}},{selector:":transparent",matches:function(i){return i.transparent()}},{selector:":grabbed",matches:function(i){return i.grabbed()}},{selector:":free",matches:function(i){return!i.grabbed()}},{selector:":removed",matches:function(i){return i.removed()}},{selector:":inside",matches:function(i){return!i.removed()}},{selector:":grabbable",matches:function(i){return i.grabbable()}},{selector:":ungrabbable",matches:function(i){return!i.grabbable()}},{selector:":animated",matches:function(i){return i.animated()}},{selector:":unanimated",matches:function(i){return!i.animated()}},{selector:":parent",matches:function(i){return i.isParent()}},{selector:":childless",matches:function(i){return i.isChildless()}},{selector:":child",matches:function(i){return i.isChild()}},{selector:":orphan",matches:function(i){return i.isOrphan()}},{selector:":nonorphan",matches:function(i){return i.isChild()}},{selector:":compound",matches:function(i){return i.isNode()?i.isParent():i.source().isParent()||i.target().isParent()}},{selector:":loop",matches:function(i){return i.isLoop()}},{selector:":simple",matches:function(i){return i.isSimple()}},{selector:":active",matches:function(i){return i.active()}},{selector:":inactive",matches:function(i){return!i.active()}},{selector:":backgrounding",matches:function(i){return i.backgrounding()}},{selector:":nonbackgrounding",matches:function(i){return!i.backgrounding()}}].sort(function(a,i){return function(i,s){return-1*qs(i,s)}(a.selector,i.selector)}),sd=function(){for(var i,a={},s=0;s<Go.length;s++)a[(i=Go[s]).selector]=i.matches;return a}(),mo="("+Go.map(function(a){return a.selector}).join("|")+")",Zi=function(i){return i.replace(new RegExp("\\\\("+vn.metaChar+")","g"),function(s,l){return l})},Bi=function(i,s,l){i[i.length-1]=l},nn=[{name:"group",query:!0,regex:"("+vn.group+")",populate:function(i,s,l){var h=fn(l,1)[0];s.checks.push({type:0,value:"*"===h?h:h+"s"})}},{name:"state",query:!0,regex:mo,populate:function(i,s,l){var f=fn(l,1);s.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+vn.id+")",populate:function(i,s,l){var f=fn(l,1);s.checks.push({type:8,value:Zi(f[0])})}},{name:"className",query:!0,regex:"\\.("+vn.className+")",populate:function(i,s,l){var f=fn(l,1);s.checks.push({type:9,value:Zi(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+vn.variable+")\\s*\\]",populate:function(i,s,l){var f=fn(l,1);s.checks.push({type:4,field:Zi(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+vn.variable+")\\s*("+vn.comparatorOp+")\\s*("+vn.value+")\\s*\\]",populate:function(i,s,l){var f=fn(l,3),h=f[0],p=f[1],m=f[2];m=null!=new RegExp("^"+vn.string+"$").exec(m)?m.substring(1,m.length-1):parseFloat(m),s.checks.push({type:3,field:Zi(h),operator:p,value:m})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+vn.boolOp+")\\s*("+vn.variable+")\\s*\\]",populate:function(i,s,l){var f=fn(l,2),h=f[0];s.checks.push({type:5,field:Zi(f[1]),operator:h})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+vn.meta+")\\s*("+vn.comparatorOp+")\\s*("+vn.number+")\\s*\\]\\]",populate:function(i,s,l){var f=fn(l,3),p=f[1],m=f[2];s.checks.push({type:6,field:Zi(f[0]),operator:p,value:parseFloat(m)})}},{name:"nextQuery",separator:!0,regex:vn.separator,populate:function(i,s){var l=i.currentSubject,f=i.edgeCount,h=i.compoundCount,p=i[i.length-1];return null!=l&&(p.subject=l,i.currentSubject=null),p.edgeCount=f,p.compoundCount=h,i.edgeCount=0,i.compoundCount=0,i[i.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:vn.directedEdge,populate:function(i,s){if(null==i.currentSubject){var l={checks:[]},h={checks:[]};return l.checks.push({type:11,source:s,target:h}),Bi(i,0,l),i.edgeCount++,h}var p={checks:[]},b={checks:[]};return p.checks.push({type:12,source:s,target:b}),Bi(i,0,p),i.edgeCount++,b}},{name:"undirectedEdge",separator:!0,regex:vn.undirectedEdge,populate:function(i,s){if(null==i.currentSubject){var l={checks:[]},h={checks:[]};return l.checks.push({type:10,nodes:[s,h]}),Bi(i,0,l),i.edgeCount++,h}var p={checks:[]},b={checks:[]};return p.checks.push({type:14,node:s,neighbor:b}),Bi(i,0,p),b}},{name:"child",separator:!0,regex:vn.child,populate:function(i,s){if(null==i.currentSubject){var l={checks:[]},f={checks:[]};return l.checks.push({type:15,parent:i[i.length-1],child:f}),Bi(i,0,l),i.compoundCount++,f}if(i.currentSubject===s){var p={checks:[]},b={checks:[]},w={checks:[]},D={checks:[]},E={checks:[]};return p.checks.push({type:19,left:i[i.length-1],right:b,subject:w}),w.checks=s.checks,s.checks=[{type:20}],E.checks.push({type:20}),b.checks.push({type:17,parent:E,child:D}),Bi(i,0,p),i.currentSubject=w,i.compoundCount++,D}var S={checks:[]},M={checks:[]},x=[{type:17,parent:S,child:M}];return S.checks=s.checks,s.checks=x,i.compoundCount++,M}},{name:"descendant",separator:!0,regex:vn.descendant,populate:function(i,s){if(null==i.currentSubject){var l={checks:[]},f={checks:[]};return l.checks.push({type:16,ancestor:i[i.length-1],descendant:f}),Bi(i,0,l),i.compoundCount++,f}if(i.currentSubject===s){var p={checks:[]},b={checks:[]},w={checks:[]},D={checks:[]},E={checks:[]};return p.checks.push({type:19,left:i[i.length-1],right:b,subject:w}),w.checks=s.checks,s.checks=[{type:20}],E.checks.push({type:20}),b.checks.push({type:18,ancestor:E,descendant:D}),Bi(i,0,p),i.currentSubject=w,i.compoundCount++,D}var S={checks:[]},M={checks:[]},x=[{type:18,ancestor:S,descendant:M}];return S.checks=s.checks,s.checks=x,i.compoundCount++,M}},{name:"subject",modifier:!0,regex:vn.subject,populate:function(i,s){if(null!=i.currentSubject&&i.currentSubject!==s)return Kt("Redefinition of subject in selector `"+i.toString()+"`"),!1;i.currentSubject=s;var f=i[i.length-1].checks[0],h=null==f?null:f.type;11===h?f.type=13:10===h&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];nn.forEach(function(a){return a.regexObj=new RegExp("^"+a.regex)});var Ym=function(i){for(var s,l,f,h=0;h<nn.length;h++){var p=nn[h],m=p.name,b=i.match(p.regexObj);if(null!=b){l=b,s=p,f=m,i=i.substring(b[0].length);break}}return{expr:s,match:l,name:f,remaining:i}},ud={parse:function(i){var s=this,l=s.inputText=i,f=s[0]={checks:[]};for(s.length=1,l=function(i){var s=i.match(/^\s+/);return s&&(i=i.substring(s[0].length)),i}(l);;){var h=Ym(l);if(null==h.expr)return Kt("The selector `"+i+"`is invalid"),!1;var p=h.match.slice(1),m=h.expr.populate(s,f,p);if(!1===m)return!1;if(null!=m&&(f=m),(l=h.remaining).match(/^\s*$/))break}var b=s[s.length-1];null!=s.currentSubject&&(b.subject=s.currentSubject),b.edgeCount=s.edgeCount,b.compoundCount=s.compoundCount;for(var w=0;w<s.length;w++){var D=s[w];if(D.compoundCount>0&&D.edgeCount>0)return Kt("The selector `"+i+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(D.edgeCount>1)return Kt("The selector `"+i+"` is invalid because it uses multiple edge selectors"),!1;1===D.edgeCount&&Kt("The selector `"+i+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var i=function(D){return D??""},s=function(D){return Je(D)?'"'+D+'"':i(D)},l=function(D){return" "+D+" "},h=function(D,E){return D.checks.reduce(function(S,M,x){return S+(E===D&&0===x?"$":"")+function(D,E){var M=D.value;switch(D.type){case 0:var x=i(M);return x.substring(0,x.length-1);case 3:return"["+D.field+l(i(D.operator))+s(M)+"]";case 5:var k=D.field;return"["+i(D.operator)+k+"]";case 4:return"["+D.field+"]";case 6:return"[["+D.field+l(i(D.operator))+s(M)+"]]";case 7:return M;case 8:return"#"+M;case 9:return"."+M;case 17:case 15:return h(D.parent,E)+l(">")+h(D.child,E);case 18:case 16:return h(D.ancestor,E)+" "+h(D.descendant,E);case 19:var K=h(D.left,E),$=h(D.subject,E),W=h(D.right,E);return K+(K.length>0?" ":"")+$+W;case 20:return""}}(M,E)},"")},p="",m=0;m<this.length;m++){var b=this[m];p+=h(b,b.subject),this.length>1&&m<this.length-1&&(p+=", ")}return this.toStringCache=p,p}},wa=function(i,s,l){var f,b,w,h=Je(i),p=at(i),m=Je(l),D=!1,E=!1,S=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),E=!0),s.indexOf("@")>=0&&(s=s.replace("@",""),D=!0),(h||m||D)&&(b=h||p?""+i:"",w=""+l),D&&(i=b=b.toLowerCase(),l=w=w.toLowerCase()),s){case"*=":f=b.indexOf(w)>=0;break;case"$=":f=b.indexOf(w,b.length-w.length)>=0;break;case"^=":f=0===b.indexOf(w);break;case"=":f=i===l;break;case">":S=!0,f=i>l;break;case">=":S=!0,f=i>=l;break;case"<":S=!0,f=i<l;break;case"<=":S=!0,f=i<=l;break;default:f=!1}return E&&(null!=i||!S)&&(f=!f),f},H=function(i,s){return i.data(s)},gn=[],mn=function(i,s){return i.checks.every(function(l){return gn[l.type](l,s)})};gn[0]=function(a,i){var s=a.value;return"*"===s||s===i.group()},gn[7]=function(a,i){return function(i,s){return sd[i](s)}(a.value,i)},gn[8]=function(a,i){var s=a.value;return i.id()===s},gn[9]=function(a,i){return i.hasClass(a.value)},gn[6]=function(a,i){var l=a.operator,f=a.value;return wa(function(i,s){return i[s]()}(i,a.field),l,f)},gn[3]=function(a,i){var l=a.operator,f=a.value;return wa(H(i,a.field),l,f)},gn[5]=function(a,i){var l=a.operator;return function(i,s){switch(s){case"?":return!!i;case"!":return!i;case"^":return void 0===i}}(H(i,a.field),l)},gn[4]=function(a,i){return function(i){return void 0!==i}(H(i,a.field))},gn[10]=function(a,i){var s=a.nodes[0],l=a.nodes[1],f=i.source(),h=i.target();return mn(s,f)&&mn(l,h)||mn(l,f)&&mn(s,h)},gn[14]=function(a,i){return mn(a.node,i)&&i.neighborhood().some(function(s){return s.isNode()&&mn(a.neighbor,s)})},gn[11]=function(a,i){return mn(a.source,i.source())&&mn(a.target,i.target())},gn[12]=function(a,i){return mn(a.source,i)&&i.outgoers().some(function(s){return s.isNode()&&mn(a.target,s)})},gn[13]=function(a,i){return mn(a.target,i)&&i.incomers().some(function(s){return s.isNode()&&mn(a.source,s)})},gn[15]=function(a,i){return mn(a.child,i)&&mn(a.parent,i.parent())},gn[17]=function(a,i){return mn(a.parent,i)&&i.children().some(function(s){return mn(a.child,s)})},gn[16]=function(a,i){return mn(a.descendant,i)&&i.ancestors().some(function(s){return mn(a.ancestor,s)})},gn[18]=function(a,i){return mn(a.ancestor,i)&&i.descendants().some(function(s){return mn(a.descendant,s)})},gn[19]=function(a,i){return mn(a.subject,i)&&mn(a.left,i)&&mn(a.right,i)},gn[20]=function(){return!0},gn[1]=function(a,i){return a.value.has(i)},gn[2]=function(a,i){return(0,a.value)(i)};var qo={matches:function(i){for(var l=0;l<this.length;l++)if(mn(this[l],i))return!0;return!1},filter:function(i){var s=this;if(1===s.length&&1===s[0].checks.length&&8===s[0].checks[0].type)return i.getElementById(s[0].checks[0].value).collection();var l=function(h){for(var p=0;p<s.length;p++)if(mn(s[p],h))return!0;return!1};return null==s.text()&&(l=function(){return!0}),i.filter(l)}},ba=function(i){this.inputText=i,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==i||Je(i)&&i.match(/^\s*$/)||(Cr(i)?this.addQuery({checks:[{type:1,value:i.collection()}]}):Ln(i)?this.addQuery({checks:[{type:2,value:i}]}):Je(i)?this.parse(i)||(this.invalid=!0):Hn("A selector must be created from a string; found "))},Ki=ba.prototype;[ud,qo].forEach(function(a){return Nt(Ki,a)}),Ki.text=function(){return this.inputText},Ki.size=function(){return this.length},Ki.eq=function(a){return this[a]},Ki.sameText=function(a){return!this.invalid&&!a.invalid&&this.text()===a.text()},Ki.addQuery=function(a){this[this.length++]=a},Ki.selector=Ki.toString;var ys={allAre:function(i){var s=new ba(i);return this.every(function(l){return s.matches(l)})},is:function(i){var s=new ba(i);return this.some(function(l){return s.matches(l)})},some:function(i,s){for(var l=0;l<this.length;l++)if(s?i.apply(s,[this[l],l,this]):i(this[l],l,this))return!0;return!1},every:function(i,s){for(var l=0;l<this.length;l++)if(!(s?i.apply(s,[this[l],l,this]):i(this[l],l,this)))return!1;return!0},same:function(i){if(this===i)return!0;i=this.cy().collection(i);var s=this.length;return s===i.length&&(1===s?this[0]===i[0]:this.every(function(f){return i.hasElementWithId(f.id())}))},anySame:function(i){return i=this.cy().collection(i),this.some(function(s){return i.hasElementWithId(s.id())})},allAreNeighbors:function(i){i=this.cy().collection(i);var s=this.neighborhood();return i.every(function(l){return s.hasElementWithId(l.id())})},contains:function(i){i=this.cy().collection(i);var s=this;return i.every(function(l){return s.hasElementWithId(l.id())})}};ys.allAreNeighbours=ys.allAreNeighbors,ys.has=ys.contains,ys.equal=ys.equals=ys.same;var cd,sv,Wo=function(i,s){return function(f,h,p,m){var D,b=f,w=this;if(null==b?D="":Cr(b)&&1===b.length&&(D=b.id()),1===w.length&&D){var E=w[0]._private,S=E.traversalCache=E.traversalCache||{},M=S[s]=S[s]||[],x=ca(D);return M[x]||(M[x]=i.call(w,f,h,p,m))}return i.call(w,f,h,p,m)}},Ku={parent:function(i){var s=[];if(1===this.length){var l=this[0]._private.parent;if(l)return l}for(var f=0;f<this.length;f++){var p=this[f]._private.parent;p&&s.push(p)}return this.spawn(s,!0).filter(i)},parents:function(i){for(var s=[],l=this.parent();l.nonempty();){for(var f=0;f<l.length;f++)s.push(l[f]);l=l.parent()}return this.spawn(s,!0).filter(i)},commonAncestors:function(i){for(var s,l=0;l<this.length;l++){var h=this[l].parents();s=(s=s||h).intersect(h)}return s.filter(i)},orphans:function(i){return this.stdFilter(function(s){return s.isOrphan()}).filter(i)},nonorphans:function(i){return this.stdFilter(function(s){return s.isChild()}).filter(i)},children:Wo(function(a){for(var i=[],s=0;s<this.length;s++)for(var f=this[s]._private.children,h=0;h<f.length;h++)i.push(f[h]);return this.spawn(i,!0).filter(a)},"children"),siblings:function(i){return this.parent().children().not(this).filter(i)},isParent:function(){var i=this[0];if(i)return i.isNode()&&0!==i._private.children.length},isChildless:function(){var i=this[0];if(i)return i.isNode()&&0===i._private.children.length},isChild:function(){var i=this[0];if(i)return i.isNode()&&null!=i._private.parent},isOrphan:function(){var i=this[0];if(i)return i.isNode()&&null==i._private.parent},descendants:function(i){var s=[];return function l(f){for(var h=0;h<f.length;h++){var p=f[h];s.push(p),p.children().nonempty()&&l(p.children())}}(this.children()),this.spawn(s,!0).filter(i)}};function Lf(a,i,s,l){for(var f=[],h=new Vu,m=a.cy().hasCompoundNodes(),b=0;b<a.length;b++){var w=a[b];s?f.push(w):m&&l(f,h,w)}for(;f.length>0;){var D=f.shift();i(D),h.add(D.id()),m&&l(f,h,D)}return a}function av(a,i,s){if(s.isParent())for(var l=s._private.children,f=0;f<l.length;f++){var h=l[f];i.has(h.id())||a.push(h)}}function Za(a,i,s){if(s.isChild()){var l=s._private.parent;i.has(l.id())||a.push(l)}}function Xm(a,i,s){Za(a,i,s),av(a,i,s)}Ku.forEachDown=function(a){return Lf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],av)},Ku.forEachUp=function(a){return Lf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Za)},Ku.forEachUpAndDown=function(a){return Lf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Xm)},Ku.ancestors=Ku.parents,cd=sv={data:Xt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Xt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Xt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Xt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Xt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var i=this[0];if(i)return i._private.data.id}},cd.attr=cd.data,cd.removeAttr=cd.removeData;var Qm=sv,Bf={};function Da(a){return function(i){var s=this;if(void 0===i&&(i=!0),0===s.length);else if(s.isNode()&&!s.removed()){for(var l=0,f=s[0],h=f._private.edges,p=0;p<h.length;p++){var m=h[p];!i&&m.isLoop()||(l+=a(f,m))}return l}}}function Gl(a,i){return function(s){for(var l,f=this.nodes(),h=0;h<f.length;h++){var m=f[h][a](s);void 0!==m&&(void 0===l||i(m,l))&&(l=m)}return l}}Nt(Bf,{degree:Da(function(a,i){return i.source().same(i.target())?2:1}),indegree:Da(function(a,i){return i.target().same(a)?1:0}),outdegree:Da(function(a,i){return i.source().same(a)?1:0})}),Nt(Bf,{minDegree:Gl("degree",function(a,i){return a<i}),maxDegree:Gl("degree",function(a,i){return a>i}),minIndegree:Gl("indegree",function(a,i){return a<i}),maxIndegree:Gl("indegree",function(a,i){return a>i}),minOutdegree:Gl("outdegree",function(a,i){return a<i}),maxOutdegree:Gl("outdegree",function(a,i){return a>i})}),Nt(Bf,{totalDegree:function(i){for(var s=0,l=this.nodes(),f=0;f<l.length;f++)s+=l[f].degree(i);return s}});var Ca,uv,lv=function(i,s,l){for(var f=0;f<i.length;f++){var h=i[f];if(!h.locked()){var p=h._private.position,m={x:null!=s.x?s.x-p.x:0,y:null!=s.y?s.y-p.y:0};h.isParent()&&!(0===m.x&&0===m.y)&&h.children().shift(m,l),h.dirtyBoundingBoxCache()}}},Vf={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(i){i.updateCompoundBounds()},beforeSet:function(i,s){lv(i,s,!1)},onSet:function(i){i.dirtyCompoundBoundsCache()},canSet:function(i){return!i.locked()}};Ca=uv={position:Xt.data(Vf),silentPosition:Xt.data(Nt({},Vf,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(i,s){lv(i,s,!0)},onSet:function(i){i.dirtyCompoundBoundsCache()}})),positions:function(i,s){if(Mt(i))s?this.silentPosition(i):this.position(i);else if(Ln(i)){var l=i,f=this.cy();f.startBatch();for(var h=0;h<this.length;h++){var m,p=this[h];(m=l(p,h))&&(s?p.silentPosition(m):p.position(m))}f.endBatch()}return this},silentPositions:function(i){return this.positions(i,!0)},shift:function(i,s,l){var f;if(Mt(i)?(f={x:at(i.x)?i.x:0,y:at(i.y)?i.y:0},l=s):Je(i)&&at(s)&&((f={x:0,y:0})[i]=s),null!=f){var h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var m=this[p];if(!(h.hasCompoundNodes()&&m.isChild()&&m.ancestors().anySame(this))){var b=m.position(),w={x:b.x+f.x,y:b.y+f.y};l?m.silentPosition(w):m.position(w)}}h.endBatch()}return this},silentShift:function(i,s){return Mt(i)?this.shift(i,!0):Je(i)&&at(s)&&this.shift(i,s,!0),this},renderedPosition:function(i,s){var l=this[0],f=this.cy(),h=f.zoom(),p=f.pan(),m=Mt(i)?i:void 0,b=void 0!==m||void 0!==s&&Je(i);if(l&&l.isNode()){if(!b){var E=l.position();return m=Zs(E,h,p),void 0===i?m:m[i]}for(var w=0;w<this.length;w++){var D=this[w];void 0!==s?D.position(i,(s-p[i])/h):void 0!==m&&D.position(Rl(m,h,p))}}else if(!b)return;return this},relativePosition:function(i,s){var l=this[0],f=this.cy(),h=Mt(i)?i:void 0,p=void 0!==h||void 0!==s&&Je(i),m=f.hasCompoundNodes();if(l&&l.isNode()){if(!p){var x=l.position(),R=m?l.parent():null,A=R&&R.length>0;A&&(R=R[0]);var k=A?R.position():{x:0,y:0};return h={x:x.x-k.x,y:x.y-k.y},void 0===i?h:h[i]}for(var b=0;b<this.length;b++){var w=this[b],D=m?w.parent():null,E=D&&D.length>0;E&&(D=D[0]);var M=E?D.position():{x:0,y:0};void 0!==s?w.position(i,s+M[i]):void 0!==h&&w.position({x:h.x+M.x,y:h.y+M.y})}}else if(!p)return;return this}},Ca.modelPosition=Ca.point=Ca.position,Ca.modelPositions=Ca.points=Ca.positions,Ca.renderedPoint=Ca.renderedPosition,Ca.relativePoint=Ca.relativePosition;var ql,eu,ws=uv;ql=eu={},eu.renderedBoundingBox=function(a){var i=this.boundingBox(a),s=this.cy(),l=s.zoom(),f=s.pan(),h=i.x1*l+f.x,p=i.x2*l+f.x,m=i.y1*l+f.y,b=i.y2*l+f.y;return{x1:h,x2:p,y1:m,y2:b,w:p-h,h:b-m}},eu.dirtyCompoundBoundsCache=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();return i.styleEnabled()&&i.hasCompoundNodes()?(this.forEachUp(function(s){if(s.isParent()){var l=s._private;l.compoundBoundsClean=!1,l.bbCache=null,a||s.emitAndNotify("bounds")}}),this):this},eu.updateCompoundBounds=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return this;if(!a&&i.batching())return this;function s(p){if(p.isParent()){var m=p._private,b=p.children(),w="include"===p.pstyle("compound-sizing-wrt-labels").value,D={width:{val:p.pstyle("min-width").pfValue,left:p.pstyle("min-width-bias-left"),right:p.pstyle("min-width-bias-right")},height:{val:p.pstyle("min-height").pfValue,top:p.pstyle("min-height-bias-top"),bottom:p.pstyle("min-height-bias-bottom")}},E=b.boundingBox({includeLabels:w,includeOverlays:!1,useCache:!1}),S=m.position;(0===E.w||0===E.h)&&((E={w:p.pstyle("width").pfValue,h:p.pstyle("height").pfValue}).x1=S.x-E.w/2,E.x2=S.x+E.w/2,E.y1=S.y-E.h/2,E.y2=S.y+E.h/2);var R=D.width.left.value;"px"===D.width.left.units&&D.width.val>0&&(R=100*R/D.width.val);var A=D.width.right.value;"px"===D.width.right.units&&D.width.val>0&&(A=100*A/D.width.val);var P=D.height.top.value;"px"===D.height.top.units&&D.height.val>0&&(P=100*P/D.height.val);var k=D.height.bottom.value;"px"===D.height.bottom.units&&D.height.val>0&&(k=100*k/D.height.val);var O=M(D.width.val-E.w,R,A),V=O.biasDiff,q=O.biasComplementDiff,K=M(D.height.val-E.h,P,k),$=K.biasDiff,W=K.biasComplementDiff;m.autoPadding=function x(U,Y,X,G){if("%"!==X.units)return"px"===X.units?X.pfValue:0;switch(G){case"width":return U>0?X.pfValue*U:0;case"height":return Y>0?X.pfValue*Y:0;case"average":return U>0&&Y>0?X.pfValue*(U+Y)/2:0;case"min":return U>0&&Y>0?U>Y?X.pfValue*Y:X.pfValue*U:0;case"max":return U>0&&Y>0?U>Y?X.pfValue*U:X.pfValue*Y:0;default:return 0}}(E.w,E.h,p.pstyle("padding"),p.pstyle("padding-relative-to").value),m.autoWidth=Math.max(E.w,D.width.val),S.x=(-V+E.x1+E.x2+q)/2,m.autoHeight=Math.max(E.h,D.height.val),S.y=(-$+E.y1+E.y2+W)/2}function M(U,Y,X){var G=0,te=0,Z=Y+X;return U>0&&Z>0&&(G=Y/Z*U,te=X/Z*U),{biasDiff:G,biasComplementDiff:te}}}for(var l=0;l<this.length;l++){var f=this[l],h=f._private;(!h.compoundBoundsClean||a)&&(s(f),i.batching()||(h.compoundBoundsClean=!0))}return this};var Fr=function(i){return i===1/0||i===-1/0?0:i},di=function(i,s,l,f,h){f-s==0||h-l==0||null==s||null==l||null==f||null==h||(i.x1=s<i.x1?s:i.x1,i.x2=f>i.x2?f:i.x2,i.y1=l<i.y1?l:i.y1,i.y2=h>i.y2?h:i.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1)},Yi=function(i,s){return null==s?i:di(i,s.x1,s.y1,s.x2,s.y2)},dd=function(i,s,l){return lo(i,s,l)},$f=function(i,s,l){if(!s.cy().headless()){var b,w,f=s._private,h=f.rstyle,p=h.arrowWidth/2;if("none"!==s.pstyle(l+"-arrow-shape").value){"source"===l?(b=h.srcX,w=h.srcY):"target"===l?(b=h.tgtX,w=h.tgtY):(b=h.midX,w=h.midY);var D=f.arrowBounds=f.arrowBounds||{},E=D[l]=D[l]||{};E.x1=b-p,E.y1=w-p,E.x2=b+p,E.y2=w+p,E.w=E.x2-E.x1,E.h=E.y2-E.y1,_f(E,1),di(i,E.x1,E.y1,E.x2,E.y2)}}},Xr=function(i,s,l){if(!s.cy().headless()){var f,h=s._private,p=h.rstyle;if(s.pstyle((f=l?l+"-":"")+"label").strValue){var X,G,te,Z,b=s.pstyle("text-halign"),w=s.pstyle("text-valign"),D=dd(p,"labelWidth",l),E=dd(p,"labelHeight",l),S=dd(p,"labelX",l),M=dd(p,"labelY",l),x=s.pstyle(f+"text-margin-x").pfValue,R=s.pstyle(f+"text-margin-y").pfValue,A=s.isEdge(),P=s.pstyle(f+"text-rotation"),k=s.pstyle("text-outline-width").pfValue,V=s.pstyle("text-border-width").pfValue/2,q=s.pstyle("text-background-padding").pfValue,$=E,W=D,U=W/2,Y=$/2;if(A)X=S-U,G=S+U,te=M-Y,Z=M+Y;else{switch(b.value){case"left":X=S-W,G=S;break;case"center":X=S-U,G=S+U;break;case"right":X=S,G=S+W}switch(w.value){case"top":te=M-$,Z=M;break;case"center":te=M-Y,Z=M+Y;break;case"bottom":te=M,Z=M+$}}X+=x-Math.max(k,V)-q-2,G+=x+Math.max(k,V)+q+2,te+=R-Math.max(k,V)-q-2,Z+=R+Math.max(k,V)+q+2;var se=l||"main",ne=h.labelBounds,ee=ne[se]=ne[se]||{};ee.x1=X,ee.y1=te,ee.x2=G,ee.y2=Z,ee.w=G-X,ee.h=Z-te;var fe=A&&"autorotate"===P.strValue;if(fe||null!=P.pfValue&&0!==P.pfValue){var xe=fe?dd(h.rstyle,"labelAngle",l):P.pfValue,de=Math.cos(xe),Ce=Math.sin(xe),Pe=(X+G)/2,Ve=(te+Z)/2;if(!A){switch(b.value){case"left":Pe=G;break;case"right":Pe=X}switch(w.value){case"top":Ve=Z;break;case"bottom":Ve=te}}var Oe=function(Ft,Re){return{x:(Ft-=Pe)*de-(Re-=Ve)*Ce+Pe,y:Ft*Ce+Re*de+Ve}},Fe=Oe(X,te),he=Oe(X,Z),ze=Oe(G,te),Ge=Oe(G,Z);X=Math.min(Fe.x,he.x,ze.x,Ge.x),G=Math.max(Fe.x,he.x,ze.x,Ge.x),te=Math.min(Fe.y,he.y,ze.y,Ge.y),Z=Math.max(Fe.y,he.y,ze.y,Ge.y)}var Le=se+"Rot",Xe=ne[Le]=ne[Le]||{};Xe.x1=X,Xe.y1=te,Xe.x2=G,Xe.y2=Z,Xe.w=G-X,Xe.h=Z-te,di(i,X,te,G,Z),di(h.labelBounds.all,X,te,G,Z)}return i}},Hf=function(i){var s=0,l=function(p){return(p?1:0)<<s++},f=0;return f+=l(i.incudeNodes),f+=l(i.includeEdges),f+=l(i.includeLabels),f+=l(i.includeMainLabels),f+=l(i.includeSourceLabels),f+=l(i.includeTargetLabels),(f+=l(i.includeOverlays))+l(i.includeOutlines)},Uf=function(i){if(i.isEdge()){var s=i.source().position(),l=i.target().position(),f=function(p){return Math.round(p)};return function(i,s){var l={value:0,done:!1},f=0,h=i.length;return gf({next:function(){return f<h?l.value=i[f++]:l.done=!0,l}},void 0)}([f(s.x),f(s.y),f(l.x),f(l.y)])}return 0},Zl=function(i,s){var f,l=i._private,h=i.isEdge(),m=(null==s?tu:Hf(s))===tu,b=Uf(i),w=l.bbCachePosKey===b,D=s.useCache&&w,E=function(R){return null==R._private.bbCache||R._private.styleDirty};if(!D||E(i)||h&&E(i.source())||E(i.target())?(w||i.recalculateRenderedStyle(D),f=function(i,s){var D,E,S,M,x,R,l=i._private.cy,f=l.styleEnabled(),h=l.headless(),p=fo(),m=i._private,b=i.isNode(),w=i.isEdge(),A=m.rstyle,P=b&&f?i.pstyle("bounds-expansion").pfValue:[0],k=function(gt){return"none"!==gt.pstyle("display").value},O=!f||k(i)&&(!w||k(i.source())&&k(i.target()));if(O){var q=0;f&&s.includeOverlays&&0!==i.pstyle("overlay-opacity").value&&(q=i.pstyle("overlay-padding").value);var $=0;f&&s.includeUnderlays&&0!==i.pstyle("underlay-opacity").value&&($=i.pstyle("underlay-padding").value);var W=Math.max(q,$),Y=0;if(f&&(Y=i.pstyle("width").pfValue/2),b&&s.includeNodes){var X=i.position();x=X.x,R=X.y;var te=i.outerWidth()/2,se=i.outerHeight()/2;di(p,D=x-te,S=R-se,E=x+te,M=R+se),f&&s.includeOutlines&&function(i,s){if(!s.cy().headless()){var l=s.pstyle("outline-opacity").value,f=s.pstyle("outline-width").value;if(l>0&&f>0){var h=s.pstyle("outline-offset").value,p=s.pstyle("shape").value,m=f+h,b=(i.w+2*m)/i.w,w=(i.h+2*m)/i.h,E=0;["diamond","pentagon","round-triangle"].includes(p)?(b=(i.w+2.4*m)/i.w,E=-m/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(p)?b=(i.w+2.4*m)/i.w:"star"===p?(b=(i.w+2.8*m)/i.w,w=(i.h+2.6*m)/i.h,E=-m/3.8):"triangle"===p?(b=(i.w+2.8*m)/i.w,w=(i.h+2.4*m)/i.h,E=-m/1.4):"vee"===p&&(b=(i.w+4.4*m)/i.w,w=(i.h+3.8*m)/i.h,E=.5*-m);var M=i.w*b-i.w;if(Pi(i,[Math.ceil((i.h*w-i.h)/2),Math.ceil(M/2)]),0!==E){var x=function(i,s,l){return{x1:i.x1+0,x2:i.x2+0,y1:i.y1+l,y2:i.y2+l,w:i.w,h:i.h}}(i,0,E);ar(i,x)}}}}(p,i)}else if(w&&s.includeEdges)if(f&&!h){var ne=i.pstyle("curve-style").strValue;if(D=Math.min(A.srcX,A.midX,A.tgtX),E=Math.max(A.srcX,A.midX,A.tgtX),S=Math.min(A.srcY,A.midY,A.tgtY),M=Math.max(A.srcY,A.midY,A.tgtY),di(p,D-=Y,S-=Y,E+=Y,M+=Y),"haystack"===ne){var ee=A.haystackPts;if(ee&&2===ee.length){if((D=ee[0].x)>(E=ee[1].x)){var fe=D;D=E,E=fe}if((S=ee[0].y)>(M=ee[1].y)){var ge=S;S=M,M=ge}di(p,D-Y,S-Y,E+Y,M+Y)}}else if("bezier"===ne||"unbundled-bezier"===ne||"segments"===ne||"taxi"===ne){var xe;switch(ne){case"bezier":case"unbundled-bezier":xe=A.bezierPts;break;case"segments":case"taxi":xe=A.linePts}if(null!=xe)for(var de=0;de<xe.length;de++){var Ce=xe[de];di(p,D=Ce.x-Y,S=Ce.y-Y,E=Ce.x+Y,M=Ce.y+Y)}}}else{var Ve=i.source().position(),Fe=i.target().position();if((D=Ve.x)>(E=Fe.x)){var he=D;D=E,E=he}if((S=Ve.y)>(M=Fe.y)){var ze=S;S=M,M=ze}di(p,D-=Y,S-=Y,E+=Y,M+=Y)}if(f&&s.includeEdges&&w&&($f(p,i,"mid-source"),$f(p,i,"mid-target"),$f(p,i,"source"),$f(p,i,"target")),f&&"yes"===i.pstyle("ghost").value){var Le=i.pstyle("ghost-offset-x").pfValue,Xe=i.pstyle("ghost-offset-y").pfValue;di(p,p.x1+Le,p.y1+Xe,p.x2+Le,p.y2+Xe)}var It=m.bodyBounds=m.bodyBounds||{};Ut(It,p),Pi(It,P),_f(It,1),f&&di(p,(D=p.x1)-W,(S=p.y1)-W,(E=p.x2)+W,(M=p.y2)+W);var Ft=m.overlayBounds=m.overlayBounds||{};Ut(Ft,p),Pi(Ft,P),_f(Ft,1);var Re=m.labelBounds=m.labelBounds||{};null!=Re.all?function(i){i.x1=1/0,i.y1=1/0,i.x2=-1/0,i.y2=-1/0,i.w=0,i.h=0}(Re.all):Re.all=fo(),f&&s.includeLabels&&(s.includeMainLabels&&Xr(p,i,null),w&&(s.includeSourceLabels&&Xr(p,i,"source"),s.includeTargetLabels&&Xr(p,i,"target")))}return p.x1=Fr(p.x1),p.y1=Fr(p.y1),p.x2=Fr(p.x2),p.y2=Fr(p.y2),p.w=Fr(p.x2-p.x1),p.h=Fr(p.y2-p.y1),p.w>0&&p.h>0&&O&&(Pi(p,P),_f(p,1)),p}(i,Ea),l.bbCache=f,l.bbCachePosKey=b):f=l.bbCache,!m){var M=i.isNode();f=fo(),(s.includeNodes&&M||s.includeEdges&&!M)&&Yi(f,s.includeOverlays?l.overlayBounds:l.bodyBounds),s.includeLabels&&(s.includeMainLabels&&(!h||s.includeSourceLabels&&s.includeTargetLabels)?Yi(f,l.labelBounds.all):(s.includeMainLabels&&Yi(f,l.labelBounds.mainRot),s.includeSourceLabels&&Yi(f,l.labelBounds.sourceRot),s.includeTargetLabels&&Yi(f,l.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Ea={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},tu=Hf(Ea),zf=kr(Ea);eu.boundingBox=function(a){var i;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==a&&void 0!==a.useCache&&!0!==a.useCache){i=fo();var s=zf(a=a||Ea),l=this;if(l.cy().styleEnabled())for(var p=0;p<l.length;p++){var m=l[p],b=m._private,w=Uf(m);m.recalculateRenderedStyle(s.useCache&&b.bbCachePosKey===w&&!b.styleDirty)}this.updateCompoundBounds(!a.useCache);for(var S=0;S<l.length;S++)Yi(i,Zl(l[S],s))}else a=void 0===a?Ea:zf(a),i=Zl(this[0],a);return i.x1=Fr(i.x1),i.y1=Fr(i.y1),i.x2=Fr(i.x2),i.y2=Fr(i.y2),i.w=Fr(i.x2-i.x1),i.h=Fr(i.y2-i.y1),i},eu.dirtyBoundingBoxCache=function(){for(var a=0;a<this.length;a++){var i=this[a]._private;i.bbCache=null,i.bbCachePosKey=null,i.bodyBounds=null,i.overlayBounds=null,i.labelBounds.all=null,i.labelBounds.source=null,i.labelBounds.target=null,i.labelBounds.main=null,i.labelBounds.sourceRot=null,i.labelBounds.targetRot=null,i.labelBounds.mainRot=null,i.arrowBounds.source=null,i.arrowBounds.target=null,i.arrowBounds["mid-source"]=null,i.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},eu.boundingBoxAt=function(a){var i=this.nodes(),s=this.cy(),l=s.hasCompoundNodes(),f=s.collection();if(l&&(f=i.filter(function(w){return w.isParent()}),i=i.not(f)),Mt(a)){var h=a;a=function(){return h}}s.startBatch(),i.forEach(function(D,E){return D._private.bbAtOldPos=a(D,E)}).silentPositions(a),l&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var b=function(i){return{x1:i.x1,x2:i.x2,w:i.w,y1:i.y1,y2:i.y2,h:i.h}}(this.boundingBox({useCache:!1}));return i.silentPositions(function(D){return D._private.bbAtOldPos}),l&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),s.endBatch(),b},ql.boundingbox=ql.bb=ql.boundingBox,ql.renderedBoundingbox=ql.renderedBoundingBox;var nu,Xi,fd=eu;nu=Xi={};var Kl=function(i){i.uppercaseName=La(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=La(i.outerName),nu[i.name]=function(){var l=this[0],f=l._private;if(l){if(f.cy._private.styleEnabled){if(l.isParent())return l.updateCompoundBounds(),f[i.autoName]||0;var m=l.pstyle(i.name);return"label"===m.strValue?(l.recalculateRenderedStyle(),f.rstyle[i.labelName]||0):m.pfValue}return 1}},nu["outer"+i.uppercaseName]=function(){var l=this[0];if(l)return l._private.cy._private.styleEnabled?l[i.name]()+l.pstyle("border-width").pfValue+2*l.padding():1},nu["rendered"+i.uppercaseName]=function(){var l=this[0];if(l)return l[i.name]()*this.cy().zoom()},nu["rendered"+i.uppercaseOuterName]=function(){var l=this[0];if(l)return l[i.outerName]()*this.cy().zoom()}};Kl({name:"width"}),Kl({name:"height"}),Xi.padding=function(){var a=this[0],i=a._private;return a.isParent()?(a.updateCompoundBounds(),void 0!==i.autoPadding?i.autoPadding:a.pstyle("padding").pfValue):a.pstyle("padding").pfValue},Xi.paddedHeight=function(){var a=this[0];return a.height()+2*a.padding()},Xi.paddedWidth=function(){var a=this[0];return a.width()+2*a.padding()};var bs=Xi,Xl={controlPoints:{get:function(i){return i.renderer().getControlPoints(i)},mult:!0},segmentPoints:{get:function(i){return i.renderer().getSegmentPoints(i)},mult:!0},sourceEndpoint:{get:function(i){return i.renderer().getSourceEndpoint(i)}},targetEndpoint:{get:function(i){return i.renderer().getTargetEndpoint(i)}},midpoint:{get:function(i){return i.renderer().getEdgeMidpoint(i)}}},Gf=Object.keys(Xl).reduce(function(a,i){var s=Xl[i],l=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(i);return a[i]=function(){return function(i,s){if(i.isEdge())return s(i)}(this,s.get)},a[l]=s.mult?function(){return function(i,s){if(i.isEdge()){var l=i.cy(),f=l.pan(),h=l.zoom();return s(i).map(function(p){return Zs(p,h,f)})}}(this,s.get)}:function(){return function(i,s){if(i.isEdge()){var l=i.cy();return Zs(s(i),l.zoom(),l.pan())}}(this,s.get)},a},{}),Qr=Nt({},ws,fd,bs,Gf),pd=function(i,s){this.recycle(i,s)};function Ds(){return!1}function No(){return!0}pd.prototype={instanceString:function(){return"event"},recycle:function(i,s){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ds,null!=i&&i.preventDefault?(this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?No:Ds):null!=i&&i.type?s=i:this.type=i,null!=s&&(this.originalEvent=s.originalEvent,this.type=null!=s.type?s.type:this.type,this.cy=s.cy,this.target=s.target,this.position=s.position,this.renderedPosition=s.renderedPosition,this.namespace=s.namespace,this.layout=s.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var l=this.position,f=this.cy.zoom(),h=this.cy.pan();this.renderedPosition={x:l.x*f+h.x,y:l.y*f+h.y}}this.timeStamp=i&&i.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=No;var i=this.originalEvent;i&&i.preventDefault&&i.preventDefault()},stopPropagation:function(){this.isPropagationStopped=No;var i=this.originalEvent;i&&i.stopPropagation&&i.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=No,this.stopPropagation()},isDefaultPrevented:Ds,isPropagationStopped:Ds,isImmediatePropagationStopped:Ds};var qf=/^([^.]+)(\.(?:[^.]+))?$/,Ka={qualifierCompare:function(i,s){return i===s},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(i){return i},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},vd=Object.keys(Ka),$i={};function Yu(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i,i=arguments.length>1?arguments[1]:void 0,s=0;s<vd.length;s++){var l=vd[s];this[l]=a[l]||Ka[l]}this.context=i||this.context,this.listeners=[],this.emitting=0}var Cs=Yu.prototype,Wf=function(i,s,l,f,h,p,m){Ln(f)&&(h=f,f=null),m&&(p=null==p?m:Nt({},p,m));for(var b=Mn(l)?l:l.split(/\s+/),w=0;w<b.length;w++){var D=b[w];if(!rn(D)){var E=D.match(qf);if(E&&!1===s(i,D,E[1],E[2]?E[2]:null,f,h,p))break}}},pp=function(i,s){return i.addEventFields(i.context,s),new pd(s.type,s)};Cs.on=Cs.addListener=function(a,i,s,l,f){return Wf(this,function(h,p,m,b,w,D,E){Ln(D)&&h.listeners.push({event:p,callback:D,type:m,namespace:b,qualifier:w,conf:E})},a,i,s,l,f),this},Cs.one=function(a,i,s,l){return this.on(a,i,s,l,{one:!0})},Cs.removeListener=Cs.off=function(a,i,s,l){var f=this;0!==this.emitting&&(this.listeners=function(i){return i.slice()}(this.listeners));for(var h=this.listeners,p=function(w){var D=h[w];Wf(f,function(E,S,M,x,R,A){if((D.type===M||"*"===a)&&(!x&&".*"!==D.namespace||D.namespace===x)&&(!R||E.qualifierCompare(D.qualifier,R))&&(!A||D.callback===A))return h.splice(w,1),!1},a,i,s,l)},m=h.length-1;m>=0;m--)p(m);return this},Cs.removeAllListeners=function(){return this.removeListener("*")},Cs.emit=Cs.trigger=function(a,i,s){var l=this.listeners,f=l.length;return this.emitting++,Mn(i)||(i=[i]),function(i,s,l){if(function(i){return"event"===Ir(i)}(l))s(i,l);else if(Mt(l))s(i,pp(i,l));else for(var f=Mn(l)?l:l.split(/\s+/),h=0;h<f.length;h++){var p=f[h];if(!rn(p)){var m=p.match(qf);m&&s(i,pp(i,{type:m[1],namespace:m[2]?m[2]:null,target:i.context}))}}}(this,function(h,p){null!=s&&(f=(l=[{event:p.event,type:p.type,namespace:p.namespace,callback:s}]).length);for(var m=function(D){var E=l[D];if(E.type===p.type&&(!E.namespace||E.namespace===p.namespace||".*"===E.namespace)&&h.eventMatches(h.context,E,p)){var S=[p];null!=i&&function(i,s){for(var l=0;l<s.length;l++)i.push(s[l])}(S,i),h.beforeEmit(h.context,E,p),E.conf&&E.conf.one&&(h.listeners=h.listeners.filter(function(R){return R!==E}));var M=h.callbackContext(h.context,E,p),x=E.callback.apply(M,S);h.afterEmit(h.context,E,p),!1===x&&(p.stopPropagation(),p.preventDefault())}},b=0;b<f;b++)m(b);h.bubble(h.context)&&!p.isPropagationStopped()&&h.parent(h.context).emit(p,i)},a),this.emitting--,this};var fv={qualifierCompare:function(i,s){return null==i||null==s?null==i&&null==s:i.sameText(s)},eventMatches:function(i,s,l){var f=s.qualifier;return null==f||i!==l.target&&Ru(l.target)&&f.matches(l.target)},addEventFields:function(i,s){s.cy=i.cy(),s.target=i},callbackContext:function(i,s,l){return null!=s.qualifier?l.target:i},beforeEmit:function(i,s){s.conf&&s.conf.once&&s.conf.onceCollection.removeListener(s.event,s.qualifier,s.callback)},bubble:function(){return!0},parent:function(i){return i.isChild()?i.parent():i.cy()}},ou=function(i){return Je(i)?new ba(i):i},Zf={createEmitter:function(){for(var i=0;i<this.length;i++){var s=this[i],l=s._private;l.emitter||(l.emitter=new Yu(fv,s))}return this},emitter:function(){return this._private.emitter},on:function(i,s,l){for(var f=ou(s),h=0;h<this.length;h++)this[h].emitter().on(i,f,l);return this},removeListener:function(i,s,l){for(var f=ou(s),h=0;h<this.length;h++)this[h].emitter().removeListener(i,f,l);return this},removeAllListeners:function(){for(var i=0;i<this.length;i++)this[i].emitter().removeAllListeners();return this},one:function(i,s,l){for(var f=ou(s),h=0;h<this.length;h++)this[h].emitter().one(i,f,l);return this},once:function(i,s,l){for(var f=ou(s),h=0;h<this.length;h++)this[h].emitter().on(i,f,l,{once:!0,onceCollection:this})},emit:function(i,s){for(var l=0;l<this.length;l++)this[l].emitter().emit(i,s);return this},emitAndNotify:function(i,s){if(0!==this.length)return this.cy().notify(i,this),this.emit(i,s),this}};Xt.eventAliasesOn(Zf);var wo={nodes:function(i){return this.filter(function(s){return s.isNode()}).filter(i)},edges:function(i){return this.filter(function(s){return s.isEdge()}).filter(i)},byGroup:function(){for(var i=this.spawn(),s=this.spawn(),l=0;l<this.length;l++){var f=this[l];f.isNode()?i.push(f):s.push(f)}return{nodes:i,edges:s}},filter:function(i,s){if(void 0===i)return this;if(Je(i)||Cr(i))return new ba(i).filter(this);if(Ln(i)){for(var l=this.spawn(),f=this,h=0;h<f.length;h++){var p=f[h];(s?i.apply(s,[p,h,f]):i(p,h,f))&&l.push(p)}return l}return this.spawn()},not:function(i){if(i){Je(i)&&(i=this.filter(i));for(var s=this.spawn(),l=0;l<this.length;l++){var f=this[l];i.has(f)||s.push(f)}return s}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(i){if(Je(i))return this.filter(i);for(var l=this.spawn(),p=this.length<i.length,m=p?this:i,b=p?i:this,w=0;w<m.length;w++){var D=m[w];b.has(D)&&l.push(D)}return l},xor:function(i){var s=this._private.cy;Je(i)&&(i=s.$(i));var l=this.spawn(),h=i,p=function(b,w){for(var D=0;D<b.length;D++){var E=b[D];w.hasElementWithId(E._private.data.id)||l.push(E)}};return p(this,h),p(h,this),l},diff:function(i){var s=this._private.cy;Je(i)&&(i=s.$(i));var l=this.spawn(),f=this.spawn(),h=this.spawn(),m=i,b=function(D,E,S){for(var M=0;M<D.length;M++){var x=D[M];E.hasElementWithId(x._private.data.id)?h.merge(x):S.push(x)}};return b(this,m,l),b(m,this,f),{left:l,right:f,both:h}},add:function(i){var s=this._private.cy;if(!i)return this;if(Je(i)){var l=i;i=s.mutableElements().filter(l)}for(var f=this.spawnSelf(),h=0;h<i.length;h++){var p=i[h];!this.has(p)&&f.push(p)}return f},merge:function(i){var s=this._private,l=s.cy;if(!i)return this;if(i&&Je(i)){var f=i;i=l.mutableElements().filter(f)}for(var h=s.map,p=0;p<i.length;p++){var m=i[p],b=m._private.data.id;if(!h.has(b)){var D=this.length++;this[D]=m,h.set(b,{ele:m,index:D})}}return this},unmergeAt:function(i){var l=this[i].id(),h=this._private.map;if(this[i]=void 0,h.delete(l),this.length>1&&i!==this.length-1){var m=this.length-1,b=this[m],w=b._private.data.id;this[m]=void 0,this[i]=b,h.set(w,{ele:b,index:i})}return this.length--,this},unmergeOne:function(i){var h=this._private.map.get((i=i[0])._private.data.id);return h?(this.unmergeAt(h.index),this):this},unmerge:function(i){var s=this._private.cy;if(!i)return this;if(i&&Je(i)){var l=i;i=s.mutableElements().filter(l)}for(var f=0;f<i.length;f++)this.unmergeOne(i[f]);return this},unmergeBy:function(i){for(var s=this.length-1;s>=0;s--)i(this[s])&&this.unmergeAt(s);return this},map:function(i,s){for(var l=[],f=this,h=0;h<f.length;h++){var p=f[h],m=s?i.apply(s,[p,h,f]):i(p,h,f);l.push(m)}return l},reduce:function(i,s){for(var l=s,f=this,h=0;h<f.length;h++)l=i(l,f[h],h,f);return l},max:function(i,s){for(var f,l=-1/0,h=this,p=0;p<h.length;p++){var m=h[p],b=s?i.apply(s,[m,p,h]):i(m,p,h);b>l&&(l=b,f=m)}return{value:l,ele:f}},min:function(i,s){for(var f,l=1/0,h=this,p=0;p<h.length;p++){var m=h[p],b=s?i.apply(s,[m,p,h]):i(m,p,h);b<l&&(l=b,f=m)}return{value:l,ele:f}}},Pn=wo;Pn.u=Pn["|"]=Pn["+"]=Pn.union=Pn.or=Pn.add,Pn["\\"]=Pn["!"]=Pn["-"]=Pn.difference=Pn.relativeComplement=Pn.subtract=Pn.not,Pn.n=Pn["&"]=Pn["."]=Pn.and=Pn.intersection=Pn.intersect,Pn["^"]=Pn["(+)"]=Pn["(-)"]=Pn.symmetricDifference=Pn.symdiff=Pn.xor,Pn.fnFilter=Pn.filterFn=Pn.stdFilter=Pn.filter,Pn.complement=Pn.abscomp=Pn.absoluteComplement;var i,gp=function(i,s){var f=i.cy().hasCompoundNodes();function h(D){var E=D.pstyle("z-compound-depth");return"auto"===E.value?f?D.zDepth():0:"bottom"===E.value?-1:"top"===E.value?yf:0}var p=h(i)-h(s);if(0!==p)return p;function m(D){return"auto"===D.pstyle("z-index-compare").value&&D.isNode()?1:0}var b=m(i)-m(s);if(0!==b)return b;var w=i.pstyle("z-index").value-s.pstyle("z-index").value;return 0!==w?w:i.poolIndex()-s.poolIndex()},Jl={forEach:function(i,s){if(Ln(i))for(var l=this.length,f=0;f<l;f++){var h=this[f];if(!1===(s?i.apply(s,[h,f,this]):i(h,f,this)))break}return this},toArray:function(){for(var i=[],s=0;s<this.length;s++)i.push(this[s]);return i},slice:function(i,s){var l=[],f=this.length;null==s&&(s=f),null==i&&(i=0),i<0&&(i=f+i),s<0&&(s=f+s);for(var h=i;h>=0&&h<s&&h<f;h++)l.push(this[h]);return this.spawn(l)},size:function(){return this.length},eq:function(i){return this[i]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(i){if(!Ln(i))return this;var s=this.toArray().sort(i);return this.spawn(s)},sortByZIndex:function(){return this.sort(gp)},zDepth:function(){var i=this[0];if(i){var s=i._private;if("nodes"===s.group){var f=s.data.parent?i.parents().size():0;return i.isParent()?f:yf-1}var p=s.target,m=s.source.zDepth(),b=p.zDepth();return Math.max(m,b,0)}}};Jl.each=Jl.forEach,i="undefined",(typeof Symbol>"u"?"undefined":dn(Symbol))!=i&&dn(Symbol.iterator)!=i&&(Jl[Symbol.iterator]=function(){var l=this,f={value:void 0,done:!1},h=0,p=this.length;return An({next:function(){return h<p?f.value=l[h++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var vp=kr({nodeDimensionsIncludeLabels:!1}),Xu={layoutDimensions:function(i){var s;if(i=vp(i),this.takesUpSpace())if(i.nodeDimensionsIncludeLabels){var l=this.boundingBox();s={w:l.w,h:l.h}}else s={w:this.outerWidth(),h:this.outerHeight()};else s={w:0,h:0};return(0===s.w||0===s.h)&&(s.w=s.h=1),s},layoutPositions:function(i,s,l){var f=this.nodes().filter(function(q){return!q.isParent()}),h=this.cy(),p=s.eles,m=function(K){return K.id()},b=Pu(l,m);i.emit({type:"layoutstart",layout:i}),i.animations=[];var D=s.spacingFactor&&1!==s.spacingFactor,S=function(){if(!D)return null;for(var K=fo(),$=0;$<f.length;$++){var U=b(f[$],$);Jg(K,U.x,U.y)}return K}(),M=Pu(function(q,K){var $=b(q,K);return D&&($=function(K,$,W){var U_x=$.x1+$.w/2,U_y=$.y1+$.h/2;return{x:U_x+(W.x-U_x)*K,y:U_y+(W.y-U_y)*K}}(Math.abs(s.spacingFactor),S,$)),null!=s.transform&&($=s.transform(q,$)),$},m);if(s.animate){for(var x=0;x<f.length;x++){var R=f[x],A=M(R,x);if(null==s.animateFilter||s.animateFilter(R,x)){var k=R.animation({position:A,duration:s.animationDuration,easing:s.animationEasing});i.animations.push(k)}else R.position(A)}if(s.fit){var O=h.animation({fit:{boundingBox:p.boundingBoxAt(M),padding:s.padding},duration:s.animationDuration,easing:s.animationEasing});i.animations.push(O)}else if(void 0!==s.zoom&&void 0!==s.pan){var V=h.animation({zoom:s.zoom,pan:s.pan,duration:s.animationDuration,easing:s.animationEasing});i.animations.push(V)}i.animations.forEach(function(q){return q.play()}),i.one("layoutready",s.ready),i.emit({type:"layoutready",layout:i}),go.all(i.animations.map(function(q){return q.promise()})).then(function(){i.one("layoutstop",s.stop),i.emit({type:"layoutstop",layout:i})})}else f.positions(M),s.fit&&h.fit(s.eles,s.padding),null!=s.zoom&&h.zoom(s.zoom),s.pan&&h.pan(s.pan),i.one("layoutready",s.ready),i.emit({type:"layoutready",layout:i}),i.one("layoutstop",s.stop),i.emit({type:"layoutstop",layout:i});return this},layout:function(i){return this.cy().makeLayout(Nt({},i,{eles:this}))}};function mp(a,i,s){var h,l=s._private,f=l.styleCache=l.styleCache||[];return null!=(h=f[a])||(h=f[a]=i(s)),h}function bo(a,i){return a=ca(a),function(l){return mp(a,i,l)}}function Qu(a,i){a=ca(a);var s=function(f){return i.call(f)};return function(){var f=this[0];if(f)return mp(a,s,f)}}Xu.createLayout=Xu.makeLayout=Xu.layout;var Br={recalculateRenderedStyle:function(i){var s=this.cy(),l=s.renderer(),f=s.styleEnabled();return l&&f&&l.recalculateRenderedStyle(this,i),this},dirtyStyleCache:function(){var l,i=this.cy(),s=function(h){return h._private.styleCache=null};return i.hasCompoundNodes()?((l=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(l.connectedEdges()),l.forEach(s)):this.forEach(function(f){s(f),f.connectedEdges().forEach(s)}),this},updateStyle:function(i){var s=this._private.cy;if(!s.styleEnabled())return this;if(s.batching())return s._private.batchStyleEles.merge(this),this;var h=this;i=!(!i&&void 0!==i),s.hasCompoundNodes()&&(h=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var p=h;return i?p.emitAndNotify("style"):p.emit("style"),h.forEach(function(m){return m._private.styleDirty=!0}),this},cleanStyle:function(){var i=this.cy();if(i.styleEnabled())for(var s=0;s<this.length;s++){var l=this[s];l._private.styleDirty&&(l._private.styleDirty=!1,i.style().apply(l))}},parsedStyle:function(i){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this[0],f=l.cy();if(f.styleEnabled()&&l)return this.cleanStyle(),l._private.style[i]??(s?f.style().getDefaultProperty(i):null)},numericStyle:function(i){var s=this[0];if(s.cy().styleEnabled()&&s){var l=s.pstyle(i);return void 0!==l.pfValue?l.pfValue:l.value}},numericStyleUnits:function(i){var s=this[0];if(s.cy().styleEnabled()&&s)return s.pstyle(i).units},renderedStyle:function(i){var s=this.cy();if(!s.styleEnabled())return this;var l=this[0];return l?s.style().getRenderedStyle(l,i):void 0},style:function(i,s){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style();if(Mt(i))h.applyBypass(this,i,!1),this.emitAndNotify("style");else if(Je(i)){if(void 0===s){var m=this[0];return m?h.getStylePropertyValue(m,i):void 0}h.applyBypass(this,i,s,!1),this.emitAndNotify("style")}else if(void 0===i){var b=this[0];return b?h.getRawStyle(b):void 0}return this},removeStyle:function(i){var s=this.cy();if(!s.styleEnabled())return this;var f=s.style(),h=this;if(void 0===i)for(var p=0;p<h.length;p++)f.removeAllBypasses(h[p],!1);else{i=i.split(/\s+/);for(var b=0;b<h.length;b++)f.removeBypasses(h[b],i,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var i=this.cy();if(!i.styleEnabled())return 1;var s=i.hasCompoundNodes(),l=this[0];if(l){var f=l._private,h=l.pstyle("opacity").value;if(!s)return h;var p=f.data.parent?l.parents():null;if(p)for(var m=0;m<p.length;m++)h*=p[m].pstyle("opacity").value;return h}},transparent:function(){if(!this.cy().styleEnabled())return!1;var s=this[0],l=s.cy().hasCompoundNodes();return s?l?0===s.effectiveOpacity():0===s.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Kn(a,i){var l=a._private.data.parent?a.parents():null;if(l)for(var f=0;f<l.length;f++)if(!i(l[f]))return!1;return!0}function au(a){var i=a.ok,s=a.edgeOkViaNode||a.ok,l=a.parentOk||a.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var h=this[0],p=f.hasCompoundNodes();if(h){var m=h._private;if(!i(h))return!1;if(h.isNode())return!p||Kn(h,l);var b=m.source,w=m.target;return s(b)&&(!p||Kn(b,s))&&(b===w||s(w)&&(!p||Kn(w,s)))}}}var _a=bo("eleTakesUpSpace",function(a){return"element"===a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});Br.takesUpSpace=Qu("takesUpSpace",au({ok:_a}));var Hi=bo("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&_a(a)}),yp=bo("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&_a(a)});Br.interactive=Qu("interactive",au({ok:Hi,parentOk:yp,edgeOkViaNode:_a})),Br.noninteractive=function(){var a=this[0];if(a)return!a.interactive()};var ec=bo("eleVisible",function(a){return"visible"===a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&_a(a)});Br.visible=Qu("visible",au({ok:ec,edgeOkViaNode:_a})),Br.hidden=function(){var a=this[0];if(a)return!a.visible()},Br.isBundledBezier=Qu("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Br.bypass=Br.css=Br.style,Br.renderedCss=Br.renderedStyle,Br.removeBypass=Br.removeCss=Br.removeStyle,Br.pstyle=Br.parsedStyle;var Lr={};function Kf(a){return function(){var i=arguments,s=[];if(2===i.length)this.on(a.event,i[0],i[1]);else if(1===i.length&&Ln(i[0]))this.on(a.event,i[0]);else if(0===i.length||1===i.length&&Mn(i[0])){for(var p=1===i.length?i[0]:null,m=0;m<this.length;m++){var b=this[m],w=!a.ableField||b._private[a.ableField],D=b._private[a.field]!=a.value;if(a.overrideAble){var E=a.overrideAble(b);if(void 0!==E&&(w=E,!E))return this}w&&(b._private[a.field]=a.value,D&&s.push(b))}var S=this.spawn(s);S.updateStyle(),S.emit(a.event),p&&S.emit(p)}return this}}function el(a){Lr[a.field]=function(){var i=this[0];if(i){if(a.overrideField){var s=a.overrideField(i);if(void 0!==s)return s}return i._private[a.field]}},Lr[a.on]=Kf({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),Lr[a.off]=Kf({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}el({field:"locked",overrideField:function(i){return!!i.cy().autolock()||void 0},on:"lock",off:"unlock"}),el({field:"grabbable",overrideField:function(i){return!i.cy().autoungrabify()&&!i.pannable()&&void 0},on:"grabify",off:"ungrabify"}),el({field:"selected",ableField:"selectable",overrideAble:function(i){return!i.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),el({field:"selectable",overrideField:function(i){return!i.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Lr.deselect=Lr.unselect,Lr.grabbed=function(){var a=this[0];if(a)return a._private.grabbed},el({field:"active",on:"activate",off:"unactivate"}),el({field:"pannable",on:"panify",off:"unpanify"}),Lr.inactive=function(){var a=this[0];if(a)return!a._private.active};var fi={},Ya=function(i){return function(l){for(var h=[],p=0;p<this.length;p++){var m=this[p];if(m.isNode()){for(var b=!1,w=m.connectedEdges(),D=0;D<w.length;D++){var E=w[D],S=E.source(),M=E.target();if(i.noIncomingEdges&&M===m&&S!==m||i.noOutgoingEdges&&S===m&&M!==m){b=!0;break}}b||h.push(m)}}return this.spawn(h,!0).filter(l)}},tc=function(i){return function(s){for(var f=[],h=0;h<this.length;h++){var p=this[h];if(p.isNode())for(var m=p.connectedEdges(),b=0;b<m.length;b++){var w=m[b],D=w.source(),E=w.target();i.outgoing&&D===p?(f.push(w),f.push(E)):i.incoming&&E===p&&(f.push(w),f.push(D))}}return this.spawn(f,!0).filter(s)}},Yf=function(i){return function(s){for(var l=this,f=[],h={};;){var p=i.outgoing?l.outgoers():l.incomers();if(0===p.length)break;for(var m=!1,b=0;b<p.length;b++){var w=p[b],D=w.id();h[D]||(h[D]=!0,f.push(w),m=!0)}if(!m)break;l=p}return this.spawn(f,!0).filter(s)}};function nc(a){return function(s){for(var l=[],f=0;f<this.length;f++){var p=this[f]._private[a.attr];p&&l.push(p)}return this.spawn(l,!0).filter(s)}}function Xf(a){return function(s){var l=[],f=this._private.cy,h=a||{};Je(s)&&(s=f.$(s));for(var p=0;p<s.length;p++)for(var m=s[p]._private.edges,b=0;b<m.length;b++){var w=m[b],D=w._private.data,E=this.hasElementWithId(D.source)&&s.hasElementWithId(D.target),S=s.hasElementWithId(D.source)&&this.hasElementWithId(D.target);(E||S)&&((h.thisIsSrc||h.thisIsTgt)&&(h.thisIsSrc&&!E||h.thisIsTgt&&!S)||l.push(w))}return this.spawn(l,!0)}}function rc(a){return a=Nt({},{codirected:!1},a),function(l){for(var f=[],h=this.edges(),p=a,m=0;m<h.length;m++)for(var w=h[m]._private,D=w.source,E=D._private.data.id,S=w.data.target,M=D._private.edges,x=0;x<M.length;x++){var R=M[x],A=R._private.data,P=A.target,k=A.source,O=P===S&&k===E;(p.codirected&&O||!p.codirected&&(O||E===P&&S===k))&&f.push(R)}return this.spawn(f,!0).filter(l)}}fi.clearTraversalCache=function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null},Nt(fi,{roots:Ya({noIncomingEdges:!0}),leaves:Ya({noOutgoingEdges:!0}),outgoers:Wo(tc({outgoing:!0}),"outgoers"),successors:Yf({outgoing:!0}),incomers:Wo(tc({incoming:!0}),"incomers"),predecessors:Yf({incoming:!0})}),Nt(fi,{neighborhood:Wo(function(a){for(var i=[],s=this.nodes(),l=0;l<s.length;l++)for(var f=s[l],h=f.connectedEdges(),p=0;p<h.length;p++){var m=h[p],b=m.source(),w=m.target(),D=f===b?w:b;D.length>0&&i.push(D[0]),i.push(m[0])}return this.spawn(i,!0).filter(a)},"neighborhood"),closedNeighborhood:function(i){return this.neighborhood().add(this).filter(i)},openNeighborhood:function(i){return this.neighborhood(i)}}),fi.neighbourhood=fi.neighborhood,fi.closedNeighbourhood=fi.closedNeighborhood,fi.openNeighbourhood=fi.openNeighborhood,Nt(fi,{source:Wo(function(i){var l,s=this[0];return s&&(l=s._private.source||s.cy().collection()),l&&i?l.filter(i):l},"source"),target:Wo(function(i){var l,s=this[0];return s&&(l=s._private.target||s.cy().collection()),l&&i?l.filter(i):l},"target"),sources:nc({attr:"source"}),targets:nc({attr:"target"})}),Nt(fi,{edgesWith:Wo(Xf(),"edgesWith"),edgesTo:Wo(Xf({thisIsSrc:!0}),"edgesTo")}),Nt(fi,{connectedEdges:Wo(function(a){for(var i=[],l=0;l<this.length;l++){var f=this[l];if(f.isNode())for(var h=f._private.edges,p=0;p<h.length;p++)i.push(h[p])}return this.spawn(i,!0).filter(a)},"connectedEdges"),connectedNodes:Wo(function(a){for(var i=[],l=0;l<this.length;l++){var f=this[l];f.isEdge()&&(i.push(f.source()[0]),i.push(f.target()[0]))}return this.spawn(i,!0).filter(a)},"connectedNodes"),parallelEdges:Wo(rc(),"parallelEdges"),codirectedEdges:Wo(rc({codirected:!0}),"codirectedEdges")}),Nt(fi,{components:function(i){var s=this,l=s.cy(),f=l.collection(),h=null==i?s.nodes():i.nodes(),p=[];null!=i&&h.empty()&&(h=i.sources());var m=function(D,E){f.merge(D),h.unmerge(D),E.merge(D)};if(h.empty())return s.spawn();var b=function(){var D=l.collection();p.push(D);var E=h[0];m(E,D),s.bfs({directed:!1,roots:E,visit:function(M){return m(M,D)}}),D.forEach(function(S){S.connectedEdges().forEach(function(M){s.has(M)&&D.has(M.source())&&D.has(M.target())&&D.merge(M)})})};do{b()}while(h.length>0);return p},component:function(){var i=this[0];return i.cy().mutableElements().components(i)[0]}}),fi.componentsOf=fi.components;var Pt=function(i,s){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==i){var h=new da,p=!1;if(s){if(s.length>0&&Mt(s[0])&&!Ru(s[0])){p=!0;for(var m=[],b=new Vu,w=0,D=s.length;w<D;w++){var E=s[w];null==E.data&&(E.data={});var S=E.data;if(null==S.id)S.id=Yh();else if(i.hasElementWithId(S.id)||b.has(S.id))continue;var M=new Tl(i,E,!1);m.push(M),b.add(S.id)}s=m}}else s=[];this.length=0;for(var x=0,R=s.length;x<R;x++){var A=s[x][0];if(null!=A){var P=A._private.data.id;(!l||!h.has(P))&&(l&&h.set(P,{index:this.length,ele:A}),this[this.length]=A,this.length++)}}this._private={eles:this,cy:i,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(k){this.lazyMap=k},rebuildMap:function(){for(var O=this.lazyMap=new da,V=this.eles,q=0;q<V.length;q++){var K=V[q];O.set(K.id(),{index:q,ele:K})}}},l&&(this._private.map=h),p&&!f&&this.restore()}else Hn("A collection must have a reference to the core")},pt=Tl.prototype=Pt.prototype=Object.create(Array.prototype);pt.instanceString=function(){return"collection"},pt.spawn=function(a,i){return new Pt(this.cy(),a,i)},pt.spawnSelf=function(){return this.spawn(this)},pt.cy=function(){return this._private.cy},pt.renderer=function(){return this._private.cy.renderer()},pt.element=function(){return this[0]},pt.collection=function(){return cf(this)?this:new Pt(this._private.cy,[this])},pt.unique=function(){return new Pt(this._private.cy,this,!0)},pt.hasElementWithId=function(a){return this._private.map.has(a=""+a)},pt.getElementById=function(a){var i=this._private.cy,s=this._private.map.get(a=""+a);return s?s.ele:new Pt(i)},pt.$id=pt.getElementById,pt.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},pt.indexOf=function(a){return this._private.map.get(a[0]._private.data.id).index},pt.indexOfId=function(a){return this._private.map.get(a=""+a).index},pt.json=function(a){var i=this.element(),s=this.cy();if(null==i&&a)return this;if(null!=i){var l=i._private;if(Mt(a)){if(s.startBatch(),a.data){i.data(a.data);var f=l.data;if(i.isEdge()){var h=!1,p={},m=a.data.source,b=a.data.target;null!=m&&m!=f.source&&(p.source=""+m,h=!0),null!=b&&b!=f.target&&(p.target=""+b,h=!0),h&&(i=i.move(p))}else{var D=a.data.parent;"parent"in a.data&&(null!=D||null!=f.parent)&&D!=f.parent&&(void 0===D&&(D=null),null!=D&&(D=""+D),i=i.move({parent:D}))}}a.position&&i.position(a.position);var E=function(R,A,P){var k=a[R];null!=k&&k!==l[R]&&(k?i[A]():i[P]())};return E("removed","remove","restore"),E("selected","select","unselect"),E("selectable","selectify","unselectify"),E("locked","lock","unlock"),E("grabbable","grabify","ungrabify"),E("pannable","panify","unpanify"),null!=a.classes&&i.classes(a.classes),s.endBatch(),this}if(void 0===a){var S={data:Gr(l.data),position:Gr(l.position),group:l.group,removed:l.removed,selected:l.selected,selectable:l.selectable,locked:l.locked,grabbable:l.grabbable,pannable:l.pannable,classes:""},M=0;return l.classes.forEach(function(x){return S.classes+=0==M++?x:" "+x}),S}}},pt.jsons=function(){for(var a=[],i=0;i<this.length;i++){var l=this[i].json();a.push(l)}return a},pt.clone=function(){for(var a=this.cy(),i=[],s=0;s<this.length;s++){var f=this[s].json(),h=new Tl(a,f,!1);i.push(h)}return new Pt(a,i)},pt.copy=pt.clone,pt.restore=function(){for(var m,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,l=s.cy(),f=l._private,h=[],p=[],b=0,w=s.length;b<w;b++){var D=s[b];i&&!D.removed()||(D.isNode()?h.push(D):p.push(D))}m=h.concat(p);var E,S=function(){m.splice(E,1),E--};for(E=0;E<m.length;E++){var M=m[E],x=M._private,R=x.data;if(M.clearTraversalCache(),i||x.removed)if(void 0===R.id)R.id=Yh();else if(at(R.id))R.id=""+R.id;else{if(rn(R.id)||!Je(R.id)){Hn("Can not create element with invalid string ID `"+R.id+"`"),S();continue}if(l.hasElementWithId(R.id)){Hn("Can not create second element with ID `"+R.id+"`"),S();continue}}var A=R.id;if(M.isNode()){var P=x.position;null==P.x&&(P.x=0),null==P.y&&(P.y=0)}if(M.isEdge()){for(var k=M,O=["source","target"],V=O.length,q=!1,K=0;K<V;K++){var $=O[K],W=R[$];at(W)&&(W=R[$]=""+R[$]),null==W||""===W?(Hn("Can not create edge `"+A+"` with unspecified "+$),q=!0):l.hasElementWithId(W)||(Hn("Can not create edge `"+A+"` with nonexistant "+$+" `"+W+"`"),q=!0)}if(q){S();continue}var U=l.getElementById(R.source),Y=l.getElementById(R.target);U.same(Y)?U._private.edges.push(k):(U._private.edges.push(k),Y._private.edges.push(k)),k._private.source=U,k._private.target=Y}x.map=new da,x.map.set(A,{ele:M,index:0}),x.removed=!1,i&&l.addToPool(M)}for(var X=0;X<h.length;X++){var G=h[X],te=G._private.data;at(te.parent)&&(te.parent=""+te.parent);var Z=te.parent;if(null!=Z||G._private.parent){var ne=G._private.parent?l.collection().merge(G._private.parent):l.getElementById(Z);if(ne.empty())te.parent=void 0;else if(ne[0].removed())Kt("Node added with missing parent, reference to parent removed"),te.parent=void 0,G._private.parent=null;else{for(var ee=!1,fe=ne;!fe.empty();){if(G.same(fe)){ee=!0,te.parent=void 0;break}fe=fe.parent()}ee||(ne[0]._private.children.push(G),G._private.parent=ne[0],f.hasCompoundNodes=!0)}}}if(m.length>0){for(var ge=m.length===s.length?s:new Pt(l,m),xe=0;xe<ge.length;xe++){var de=ge[xe];de.isNode()||(de.parallelEdges().clearTraversalCache(),de.source().clearTraversalCache(),de.target().clearTraversalCache())}(f.hasCompoundNodes?l.collection().merge(ge).merge(ge.connectedNodes()).merge(ge.parent()):ge).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(a),a?ge.emitAndNotify("add"):i&&ge.emit("add")}return s},pt.removed=function(){var a=this[0];return a&&a._private.removed},pt.inside=function(){var a=this[0];return a&&!a._private.removed},pt.remove=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,l=[],f={},h=s._private.cy;function b(Z){var se=f[Z.id()];i&&Z.removed()||se||(f[Z.id()]=!0,Z.isNode()?(l.push(Z),function p(Z){for(var se=Z._private.edges,ne=0;ne<se.length;ne++)b(se[ne])}(Z),function m(Z){for(var se=Z._private.children,ne=0;ne<se.length;ne++)b(se[ne])}(Z)):l.unshift(Z))}for(var w=0,D=s.length;w<D;w++)b(s[w]);function S(Z,se){xo(Z._private.edges,se),Z.clearTraversalCache()}var x=[];function R(Z,se){se=se[0];var ne=(Z=Z[0])._private.children,ee=Z.id();xo(ne,se),se._private.parent=null,x.ids[ee]||(x.ids[ee]=!0,x.push(Z))}x.ids={},s.dirtyCompoundBoundsCache(),i&&h.removeFromPool(l);for(var A=0;A<l.length;A++){var P=l[A];if(P.isEdge()){var k=P.source()[0],O=P.target()[0];S(k,P),S(O,P);for(var V=P.parallelEdges(),q=0;q<V.length;q++){var K=V[q];K.clearTraversalCache(),K.isBundledBezier()&&K.dirtyBoundingBoxCache()}}else{var $=P.parent();0!==$.length&&R($,P)}i&&(P._private.removed=!0)}var W=h._private.elements;h._private.hasCompoundNodes=!1;for(var U=0;U<W.length;U++)if(W[U].isParent()){h._private.hasCompoundNodes=!0;break}var X=new Pt(this.cy(),l);X.size()>0&&(a?X.emitAndNotify("remove"):i&&X.emit("remove"));for(var G=0;G<x.length;G++){var te=x[G];(!i||!te.removed())&&te.updateStyle()}return X},pt.move=function(a){var i=this._private.cy,s=this,l=!1,f=!1,h=function(x){return null==x?x:""+x};if(void 0!==a.source||void 0!==a.target){var p=h(a.source),m=h(a.target),b=null!=p&&i.hasElementWithId(p),w=null!=m&&i.hasElementWithId(m);(b||w)&&(i.batch(function(){s.remove(l,f),s.emitAndNotify("moveout");for(var M=0;M<s.length;M++){var x=s[M],R=x._private.data;x.isEdge()&&(b&&(R.source=p),w&&(R.target=m))}s.restore(l,f)}),s.emitAndNotify("move"))}else if(void 0!==a.parent){var D=h(a.parent);if(null===D||i.hasElementWithId(D)){var S=null===D?void 0:D;i.batch(function(){var M=s.remove(l,f);M.emitAndNotify("moveout");for(var x=0;x<s.length;x++){var R=s[x],A=R._private.data;R.isNode()&&(A.parent=S)}M.restore(l,f)}),s.emitAndNotify("move")}}return this},[ms,Zu,yr,ys,Ku,Qm,Bf,Qr,Zf,wo,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var i=this[0];if(i)return i._private.group}},Jl,Xu,Br,Lr,fi].forEach(function(a){Nt(pt,a)});var wp={add:function(i){var s,l=this;if(Cr(i)){var f=i;if(f._private.cy===l)s=f.restore();else{for(var h=[],p=0;p<f.length;p++)h.push(f[p].json());s=new Pt(l,h)}}else if(Mn(i))s=new Pt(l,i);else if(Mt(i)&&(Mn(i.nodes)||Mn(i.edges))){for(var w=i,D=[],E=["nodes","edges"],S=0,M=E.length;S<M;S++){var x=E[S],R=w[x];if(Mn(R))for(var A=0,P=R.length;A<P;A++){var k=Nt({group:x},R[A]);D.push(k)}}s=new Pt(l,D)}else s=new Tl(l,i).collection();return s},remove:function(i){return Cr(i)||Je(i)&&(i=this.$(i)),i.remove()}};function wd(a,i,s,l){var w=.1,D=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var E=0;E<4;++E)if("number"!=typeof arguments[E]||isNaN(arguments[E])||!isFinite(arguments[E]))return!1;a=Math.min(a,1),s=Math.min(s,1),a=Math.max(a,0),s=Math.max(s,0);var S=D?new Float32Array(11):new Array(11);function M(Y,X){return 1-3*X+3*Y}function x(Y,X){return 3*X-6*Y}function R(Y){return 3*Y}function A(Y,X,G){return((M(X,G)*Y+x(X,G))*Y+R(X))*Y}function P(Y,X,G){return 3*M(X,G)*Y*Y+2*x(X,G)*Y+R(X)}var K=!1;var W=function(X){return K||function $(){K=!0,(a!==i||s!==l)&&function O(){for(var Y=0;Y<11;++Y)S[Y]=A(Y*w,a,s)}()}(),a===i&&s===l?X:0===X?0:1===X?1:A(function q(Y){for(var X=0,G=1;10!==G&&S[G]<=Y;++G)X+=w;--G;var se=X+(Y-S[G])/(S[G+1]-S[G])*w,ne=P(se,a,s);return ne>=.001?function k(Y,X){for(var G=0;G<4;++G){var te=P(X,a,s);if(0===te)return X;X-=(A(X,a,s)-Y)/te}return X}(Y,se):0===ne?se:function V(Y,X,G){var te,Z,se=0;do{(te=A(Z=X+(G-X)/2,a,s)-Y)>0?G=Z:X=Z}while(Math.abs(te)>1e-7&&++se<10);return Z}(Y,X,X+w)}(X),i,l)};W.getControlPoints=function(){return[{x:a,y:i},{x:s,y:l}]};var U="generateBezier("+[a,i,s,l]+")";return W.toString=function(){return U},W}var bp=function(){function a(l){return-l.tension*l.x-l.friction*l.v}function i(l,f,h){var p={x:l.x+h.dx*f,v:l.v+h.dv*f,tension:l.tension,friction:l.friction};return{dx:p.v,dv:a(p)}}function s(l,f){var h={dx:l.v,dv:a(l)},p=i(l,.5*f,h),m=i(l,.5*f,p),b=i(l,f,m),D=1/6*(h.dv+2*(p.dv+m.dv)+b.dv);return l.x=l.x+1/6*(h.dx+2*(p.dx+m.dx)+b.dx)*f,l.v=l.v+D*f,l}return function l(f,h,p){var S,M,x,m={x:-1,v:0,tension:null,friction:null},b=[0],w=0,D=1e-4;for(f=parseFloat(f)||500,h=parseFloat(h)||20,p=p||null,m.tension=f,m.friction=h,M=(S=null!==p)?(w=l(f,h))/p*.016:.016;x=s(x||m,M),b.push(1+x.x),w+=16,Math.abs(x.x)>D&&Math.abs(x.v)>D;);return S?function(R){return b[R*(b.length-1)|0]}:w}}(),sr=function(i,s,l,f){var h=wd(i,s,l,f);return function(p,m,b){return p+(m-p)*h(b)}},bd={linear:function(i,s,l){return i+(s-i)*l},ease:sr(.25,.1,.25,1),"ease-in":sr(.42,0,1,1),"ease-out":sr(0,0,.58,1),"ease-in-out":sr(.42,0,.58,1),"ease-in-sine":sr(.47,0,.745,.715),"ease-out-sine":sr(.39,.575,.565,1),"ease-in-out-sine":sr(.445,.05,.55,.95),"ease-in-quad":sr(.55,.085,.68,.53),"ease-out-quad":sr(.25,.46,.45,.94),"ease-in-out-quad":sr(.455,.03,.515,.955),"ease-in-cubic":sr(.55,.055,.675,.19),"ease-out-cubic":sr(.215,.61,.355,1),"ease-in-out-cubic":sr(.645,.045,.355,1),"ease-in-quart":sr(.895,.03,.685,.22),"ease-out-quart":sr(.165,.84,.44,1),"ease-in-out-quart":sr(.77,0,.175,1),"ease-in-quint":sr(.755,.05,.855,.06),"ease-out-quint":sr(.23,1,.32,1),"ease-in-out-quint":sr(.86,0,.07,1),"ease-in-expo":sr(.95,.05,.795,.035),"ease-out-expo":sr(.19,1,.22,1),"ease-in-out-expo":sr(1,0,0,1),"ease-in-circ":sr(.6,.04,.98,.335),"ease-out-circ":sr(.075,.82,.165,1),"ease-in-out-circ":sr(.785,.135,.15,.86),spring:function(i,s,l){if(0===l)return bd.linear;var f=bp(i,s,l);return function(h,p,m){return h+(p-h)*f(m)}},"cubic-bezier":sr};function Qi(a,i,s,l,f){if(1===l||i===s)return s;var h=f(i,s,l);return null==a||((a.roundValue||a.color)&&(h=Math.round(h)),void 0!==a.min&&(h=Math.max(h,a.min)),void 0!==a.max&&(h=Math.min(h,a.max))),h}function su(a,i){return null!=a.pfValue||null!=a.value?null==a.pfValue||null!=i&&"%"===i.type.units?a.value:a.pfValue:a}function Xa(a,i,s,l,f){var h=null!=f?f.type:null;s<0?s=0:s>1&&(s=1);var p=su(a,f),m=su(i,f);if(at(p)&&at(m))return Qi(h,p,m,s,l);if(Mn(p)&&Mn(m)){for(var b=[],w=0;w<m.length;w++){var D=p[w],E=m[w];if(null!=D&&null!=E){var S=Qi(h,D,E,s,l);b.push(S)}else b.push(E)}return b}}function Qf(a,i,s,l){var f=!l,h=a._private,p=i._private,m=p.easing,b=p.startTime,D=(l?a:a.cy()).style();if(!p.easingImpl)if(null==m)p.easingImpl=bd.linear;else{var E,M,x;E=Je(m)?D.parse("transition-timing-function",m).value:m,Je(E)?(M=E,x=[]):(M=E[1],x=E.slice(2).map(function(ge){return+ge})),x.length>0?("spring"===M&&x.push(p.duration),p.easingImpl=bd[M].apply(null,x)):p.easingImpl=bd[M]}var A,R=p.easingImpl;if(A=0===p.duration?1:(s-b)/p.duration,p.applying&&(A=p.progress),A<0?A=0:A>1&&(A=1),null==p.delay){var P=p.startPosition,k=p.position;if(k&&f&&!a.locked()){var O={};tl(P.x,k.x)&&(O.x=Xa(P.x,k.x,A,R)),tl(P.y,k.y)&&(O.y=Xa(P.y,k.y,A,R)),a.position(O)}var V=p.startPan,q=p.pan,K=h.pan,$=null!=q&&l;$&&(tl(V.x,q.x)&&(K.x=Xa(V.x,q.x,A,R)),tl(V.y,q.y)&&(K.y=Xa(V.y,q.y,A,R)),a.emit("pan"));var W=p.startZoom,U=p.zoom,Y=null!=U&&l;Y&&(tl(W,U)&&(h.zoom=Xc(h.minZoom,Xa(W,U,A,R),h.maxZoom)),a.emit("zoom")),($||Y)&&a.emit("viewport");var X=p.style;if(X&&X.length>0&&f){for(var G=0;G<X.length;G++){var te=X[G],Z=te.name,ne=p.startStyle[Z],fe=Xa(ne,te,A,R,D.properties[ne.name]);D.overrideBypass(a,Z,fe)}a.emit("style")}}return p.progress=A,A}function tl(a,i){return!!(null!=a&&null!=i&&(at(a)&&at(i)||a&&i))}function Dp(a,i,s,l){var f=i._private;f.started=!0,f.startTime=s-f.progress*f.duration}function Ji(a,i){var s=i._private.aniEles,l=[];function f(D,E){var S=D._private,M=S.animation.current,x=S.animation.queue,R=!1;if(0===M.length){var A=x.shift();A&&M.push(A)}for(var P=function(K){for(var $=K.length-1;$>=0;$--)(0,K[$])();K.splice(0,K.length)},k=M.length-1;k>=0;k--){var O=M[k],V=O._private;V.stopped?(M.splice(k,1),V.hooked=!1,V.playing=!1,V.started=!1,P(V.frames)):!V.playing&&!V.applying||(V.playing&&V.applying&&(V.applying=!1),V.started||Dp(0,O,a),Qf(D,O,a,E),V.applying&&(V.applying=!1),P(V.frames),null!=V.step&&V.step(a),O.completed()&&(M.splice(k,1),V.hooked=!1,V.playing=!1,V.started=!1,P(V.completes)),R=!0)}return!E&&0===M.length&&0===x.length&&l.push(D),R}for(var h=!1,p=0;p<s.length;p++){var b=f(s[p]);h=h||b}var w=f(i,!0);(h||w)&&(s.length>0?i.notify("draw",s):i.notify("draw")),s.unmerge(l),i.emit("step")}var Be={animate:Xt.animate(),animation:Xt.animation(),animated:Xt.animated(),clearQueue:Xt.clearQueue(),delay:Xt.delay(),delayAnimation:Xt.delayAnimation(),stop:Xt.stop(),addToAnimationPool:function(i){this.styleEnabled()&&this._private.aniEles.merge(i)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var i=this;if(i._private.animationsRunning=!0,i.styleEnabled()){var l=i.renderer();l&&l.beforeRender?l.beforeRender(function(h,p){Ji(p,i)},l.beforeRenderPriorities.animations):function s(){i._private.animationsRunning&&zc(function(h){Ji(h,i),s()})}()}}},Sn={qualifierCompare:function(i,s){return null==i||null==s?null==i&&null==s:i.sameText(s)},eventMatches:function(i,s,l){var f=s.qualifier;return null==f||i!==l.target&&Ru(l.target)&&f.matches(l.target)},addEventFields:function(i,s){s.cy=i,s.target=i},callbackContext:function(i,s,l){return null!=s.qualifier?l.target:i}},ic=function(i){return Je(i)?new ba(i):i},oc={createEmitter:function(){var i=this._private;return i.emitter||(i.emitter=new Yu(Sn,this)),this},emitter:function(){return this._private.emitter},on:function(i,s,l){return this.emitter().on(i,ic(s),l),this},removeListener:function(i,s,l){return this.emitter().removeListener(i,ic(s),l),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(i,s,l){return this.emitter().one(i,ic(s),l),this},once:function(i,s,l){return this.emitter().one(i,ic(s),l),this},emit:function(i,s){return this.emitter().emit(i,s),this},emitAndNotify:function(i,s){return this.emit(i),this.notify(i,s),this}};Xt.eventAliasesOn(oc);var Vr={png:function(i){return this._private.renderer.png(i=i||{})},jpg:function(i){var s=this._private.renderer;return(i=i||{}).bg=i.bg||"#fff",s.jpg(i)}};Vr.jpeg=Vr.jpg;var uu={layout:function(i){var s=this;if(null!=i)if(null!=i.name){var h,l=i.name,f=s.extension("layout",l);if(null!=f)return h=Je(i.eles)?s.$(i.eles):null!=i.eles?i.eles:s.$(),new f(Nt({},i,{cy:s,eles:h}));Hn("No such layout `"+l+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Hn("A `name` must be specified to make a layout");else Hn("Layout options must be specified to make a layout")}};uu.createLayout=uu.makeLayout=uu.layout;var nl={notify:function(i,s){var l=this._private;if(this.batching()){l.batchNotifications=l.batchNotifications||{};var f=l.batchNotifications[i]=l.batchNotifications[i]||this.collection();null!=s&&f.merge(s)}else if(l.notificationsEnabled){var h=this.renderer();this.destroyed()||!h||h.notify(i,s)}},notifications:function(i){var s=this._private;return void 0===i?s.notificationsEnabled:(s.notificationsEnabled=!!i,this)},noNotifications:function(i){this.notifications(!1),i(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var i=this._private;return null==i.batchCount&&(i.batchCount=0),0===i.batchCount&&(i.batchStyleEles=this.collection(),i.batchNotifications={}),i.batchCount++,this},endBatch:function(){var i=this._private;if(0===i.batchCount)return this;if(i.batchCount--,0===i.batchCount){i.batchStyleEles.updateStyle();var s=this.renderer();Object.keys(i.batchNotifications).forEach(function(l){var f=i.batchNotifications[l];f.empty()?s.notify(l):s.notify(l,f)})}return this},batch:function(i){return this.startBatch(),i(),this.endBatch(),this},batchData:function(i){var s=this;return this.batch(function(){for(var l=Object.keys(i),f=0;f<l.length;f++){var h=l[f],p=i[h];s.getElementById(h).data(p)}})}},Po=kr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),lu={renderTo:function(i,s,l,f){return this._private.renderer.renderTo(i,s,l,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(i){var s=this,l=s.extension("renderer",i.name);if(null!=l){void 0!==i.wheelSensitivity&&Kt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=Po(i);f.cy=s,s._private.renderer=new l(f),this.notify("init")}else Hn("Can not initialise: No such renderer `".concat(i.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var i=this;i.notify("destroy");var s=i.container();if(s)for(s._cyreg=null;s.childNodes.length>0;)s.removeChild(s.childNodes[0]);i._private.renderer=null,i.mutableElements().forEach(function(l){var f=l._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(i){return this.on("render",i)},offRender:function(i){return this.off("render",i)}};lu.invalidateDimensions=lu.resize;var Do={collection:function(i,s){return Je(i)?this.$(i):Cr(i)?i.collection():Mn(i)?(s||(s={}),new Pt(this,i,s.unique,s.removed)):new Pt(this)},nodes:function(i){var s=this.$(function(l){return l.isNode()});return i?s.filter(i):s},edges:function(i){var s=this.$(function(l){return l.isEdge()});return i?s.filter(i):s},$:function(i){var s=this._private.elements;return i?s.filter(i):s.spawnSelf()},mutableElements:function(){return this._private.elements}};Do.elements=Do.filter=Do.$;var Si={apply:function(a){for(var i=this,f=i._private.cy.collection(),h=0;h<a.length;h++){var p=a[h],m=i.getContextMeta(p);if(!m.empty){var b=i.getContextStyle(m),w=i.applyContextStyle(m,b,p);p._private.appliedInitStyle?i.updateTransitions(p,w.diffProps):p._private.appliedInitStyle=!0,i.updateStyleHints(p)&&f.push(p)}}return f},getPropertiesDiff:function(a,i){var s=this,l=s._private.propDiffs=s._private.propDiffs||{},f=a+"-"+i,h=l[f];if(h)return h;for(var p=[],m={},b=0;b<s.length;b++){var w=s[b],E="t"===i[b],S="t"===a[b]!==E,M=w.mappedProperties.length>0;if(S||E&&M){var x=void 0;S&&M||S?x=w.properties:M&&(x=w.mappedProperties);for(var R=0;R<x.length;R++){for(var A=x[R],P=A.name,k=!1,O=b+1;O<s.length&&("t"!==i[O]||!(k=null!=s[O].properties[A.name]));O++);!m[P]&&!k&&(m[P]=!0,p.push(P))}}}return l[f]=p,p},getContextMeta:function(a){for(var l,i=this,s="",f=a._private.styleCxtKey||"",h=0;h<i.length;h++){var p=i[h];s+=p.selector&&p.selector.matches(a)?"t":"f"}return l=i.getPropertiesDiff(f,s),a._private.styleCxtKey=s,{key:s,diffPropNames:l,empty:0===l.length}},getContextStyle:function(a){var i=a.key,l=this._private.contextStyles=this._private.contextStyles||{};if(l[i])return l[i];for(var f={_private:{key:i}},h=0;h<this.length;h++){var p=this[h];if("t"===i[h])for(var b=0;b<p.properties.length;b++){var w=p.properties[b];f[w.name]=w}}return l[i]=f,f},applyContextStyle:function(a,i,s){for(var f=a.diffPropNames,h={},p=this.types,m=0;m<f.length;m++){var b=f[m],w=i[b],D=s.pstyle(b);if(!w){if(!D)continue;w=D.bypass?{name:b,deleteBypassed:!0}:{name:b,delete:!0}}if(D!==w){if(w.mapped===p.fn&&null!=D&&null!=D.mapping&&D.mapping.value===w.value){var E=D.mapping;if((E.fnValue=w.value(s))===E.prevFnValue)continue}var M=h[b]={prev:D};this.applyParsedProperty(s,w),M.next=s.pstyle(b),M.next&&M.next.bypass&&(M.next=M.next.bypassed)}}return{diffProps:h}},updateStyleHints:function(a){var l,i=a._private,s=this,f=s.propertyGroupKeys,h=function(Xe,It,Ft){return s.getPropertiesHash(Xe,It,Ft)},p=i.styleKey;if(a.removed())return!1;var Xe,m="nodes"===i.group,b=a._private.style;l=Object.keys(b);for(var w=0;w<f.length;w++)i.styleKeys[f[w]]=[Ws,jc];for(var E=function(Xe,It){return i.styleKeys[It][0]=Fu(Xe,i.styleKeys[It][0])},S=function(Xe,It){return i.styleKeys[It][1]=Lu(Xe,i.styleKeys[It][1])},M=function(Xe,It){E(Xe,It),S(Xe,It)},x=function(Xe,It){for(var Ft=0;Ft<Xe.length;Ft++){var Re=Xe.charCodeAt(Ft);E(Re,It),S(Re,It)}},P=0;P<l.length;P++){var k=l[P],O=b[k];if(null!=O){var V=this.properties[k],q=V.type,K=V.groupKey,$=void 0;null!=V.hashOverride?$=V.hashOverride(a,O):null!=O.pfValue&&($=O.pfValue);var W=null==V.enums?O.value:null,U=null!=$,G=O.units;!q.number||!U&&null==W||q.multiple?x(O.strValue,K):(M(-128<(Xe=U?$:W)&&Xe<128&&Math.floor(Xe)!==Xe?2e9-(1024*Xe|0):Xe,K),!U&&null!=G&&x(G,K))}}for(var Z=[Ws,jc],se=0;se<f.length;se++){var ee=i.styleKeys[f[se]];Z[0]=Fu(ee[0],Z[0]),Z[1]=Lu(ee[1],Z[1])}i.styleKey=function(i,s){return 2097152*i+s}(Z[0],Z[1]);var fe=i.styleKeys;i.labelDimsKey=Va(fe.labelDimensions);var ge=h(a,["label"],fe.labelDimensions);if(i.labelKey=Va(ge),i.labelStyleKey=Va(Gc(fe.commonLabel,ge)),!m){var xe=h(a,["source-label"],fe.labelDimensions);i.sourceLabelKey=Va(xe),i.sourceLabelStyleKey=Va(Gc(fe.commonLabel,xe));var de=h(a,["target-label"],fe.labelDimensions);i.targetLabelKey=Va(de),i.targetLabelStyleKey=Va(Gc(fe.commonLabel,de))}if(m){var Ce=i.styleKeys,ze=Ce.pie,Ge=[Ce.nodeBody,Ce.nodeBorder,Ce.nodeOutline,Ce.backgroundImage,Ce.compound,ze].filter(function(Le){return null!=Le}).reduce(Gc,[Ws,jc]);i.nodeKey=Va(Ge),i.hasPie=null!=ze&&ze[0]!==Ws&&ze[1]!==jc}return p!==i.styleKey},clearStyleHints:function(a){var i=a._private;i.styleCxtKey="",i.styleKeys={},i.styleKey=null,i.labelKey=null,i.labelStyleKey=null,i.sourceLabelKey=null,i.sourceLabelStyleKey=null,i.targetLabelKey=null,i.targetLabelStyleKey=null,i.nodeKey=null,i.hasPie=null},applyParsedProperty:function(a,i){var h,s=this,l=i,f=a._private.style,p=s.types,m=s.properties[l.name].type,b=l.bypass,w=f[l.name],D=w&&w.bypass,E=a._private,S="mapping",M=function(Pe){return null==Pe?null:null!=Pe.pfValue?Pe.pfValue:Pe.value},x=function(){var Pe=M(w),Ve=M(l);s.checkTriggers(a,l.name,Pe,Ve)};if("curve-style"===i.name&&a.isEdge()&&("bezier"!==i.value&&a.isLoop()||"haystack"===i.value&&(a.source().isParent()||a.target().isParent()))&&(l=i=this.parse(i.name,"bezier",b)),l.delete)return f[l.name]=void 0,x(),!0;if(l.deleteBypassed)return w?!!w.bypass&&(w.bypassed=void 0,x(),!0):(x(),!0);if(l.deleteBypass)return w?!!w.bypass&&(f[l.name]=w.bypassed,x(),!0):(x(),!0);var R=function(){Kt("Do not assign mappings to elements without corresponding data (i.e. ele `"+a.id()+"` has no mapping for property `"+l.name+"` with data field `"+l.field+"`); try a `["+l.field+"]` selector to limit scope to elements with `"+l.field+"` defined")};switch(l.mapped){case p.mapData:for(var A=l.field.split("."),P=E.data,k=0;k<A.length&&P;k++)P=P[A[k]];if(null==P)return R(),!1;var V;if(!at(P))return Kt("Do not use continuous mappers without specifying numeric data (i.e. `"+l.field+": "+P+"` for `"+a.id()+"` is non-numeric)"),!1;var q=l.fieldMax-l.fieldMin;if((V=0===q?0:(P-l.fieldMin)/q)<0?V=0:V>1&&(V=1),m.color){var K=l.valueMin[0],W=l.valueMin[1],U=l.valueMax[1],Y=l.valueMin[2],X=l.valueMax[2],G=null==l.valueMin[3]?1:l.valueMin[3],te=null==l.valueMax[3]?1:l.valueMax[3],Z=[Math.round(K+(l.valueMax[0]-K)*V),Math.round(W+(U-W)*V),Math.round(Y+(X-Y)*V),Math.round(G+(te-G)*V)];h={bypass:l.bypass,name:l.name,value:Z,strValue:"rgb("+Z[0]+", "+Z[1]+", "+Z[2]+")"}}else{if(!m.number)return!1;h=this.parse(l.name,l.valueMin+(l.valueMax-l.valueMin)*V,l.bypass,S)}if(!h)return R(),!1;h.mapping=l,l=h;break;case p.data:for(var ne=l.field.split("."),ee=E.data,fe=0;fe<ne.length&&ee;fe++)ee=ee[ne[fe]];if(null!=ee&&(h=this.parse(l.name,ee,l.bypass,S)),!h)return R(),!1;h.mapping=l,l=h;break;case p.fn:var de=null!=l.fnValue?l.fnValue:(0,l.value)(a);if(l.prevFnValue=de,null==de)return Kt("Custom function mappers may not return null (i.e. `"+l.name+"` for ele `"+a.id()+"` is null)"),!1;if(!(h=this.parse(l.name,de,l.bypass,S)))return Kt("Custom function mappers may not return invalid values for the property type (i.e. `"+l.name+"` for ele `"+a.id()+"` is invalid)"),!1;h.mapping=Gr(l),l=h;break;case void 0:break;default:return!1}return b?(l.bypassed=D?w.bypassed:w,f[l.name]=l):D?w.bypassed=l:f[l.name]=l,x(),!0},cleanElements:function(a,i){for(var s=0;s<a.length;s++){var l=a[s];if(this.clearStyleHints(l),l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),i)for(var f=l._private.style,h=Object.keys(f),p=0;p<h.length;p++){var m=h[p],b=f[m];null!=b&&(b.bypass?b.bypassed=null:f[m]=null)}else l._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(a,i){var s=this,l=a._private,f=a.pstyle("transition-property").value,h=a.pstyle("transition-duration").pfValue,p=a.pstyle("transition-delay").pfValue;if(f.length>0&&h>0){for(var m={},b=!1,w=0;w<f.length;w++){var D=f[w],E=a.pstyle(D),S=i[D];if(S){var x=S.prev,R=null!=S.next?S.next:E,A=!1,P=void 0,k=1e-6;x&&(at(x.pfValue)&&at(R.pfValue)?P=x.pfValue+k*(A=R.pfValue-x.pfValue):at(x.value)&&at(R.value)?P=x.value+k*(A=R.value-x.value):Mn(x.value)&&Mn(R.value)&&(A=x.value[0]!==R.value[0]||x.value[1]!==R.value[1]||x.value[2]!==R.value[2],P=x.strValue),A&&(m[D]=R.strValue,this.applyBypass(a,D,P),b=!0))}}if(!b)return;l.transitioning=!0,new go(function(O){p>0?a.delayAnimation(p).play().promise().then(O):O()}).then(function(){return a.animation({style:m,duration:h,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){s.removeBypasses(a,f),a.emitAndNotify("style"),l.transitioning=!1})}else l.transitioning&&(this.removeBypasses(a,f),a.emitAndNotify("style"),l.transitioning=!1)},checkTrigger:function(a,i,s,l,f,h){var p=this.properties[i],m=f(p);null!=m&&m(s,l)&&h(p)},checkZOrderTrigger:function(a,i,s,l){var f=this;this.checkTrigger(a,i,s,l,function(h){return h.triggersZOrder},function(){f._private.cy.notify("zorder",a)})},checkBoundsTrigger:function(a,i,s,l){this.checkTrigger(a,i,s,l,function(f){return f.triggersBounds},function(f){a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&"curve-style"===i&&("bezier"===s||"bezier"===l)&&a.parallelEdges().forEach(function(h){h.isBundledBezier()&&h.dirtyBoundingBoxCache()}),f.triggersBoundsOfConnectedEdges&&"display"===i&&("none"===s||"none"===l)&&a.connectedEdges().forEach(function(h){h.dirtyBoundingBoxCache()})})},checkTriggers:function(a,i,s,l){a.dirtyStyleCache(),this.checkZOrderTrigger(a,i,s,l),this.checkBoundsTrigger(a,i,s,l)}},$r={applyBypass:function(a,i,s,l){var h=[];if("*"===i||"**"===i){if(void 0!==s)for(var m=0;m<this.properties.length;m++){var D=this.parse(this.properties[m].name,s,!0);D&&h.push(D)}}else if(Je(i)){var E=this.parse(i,s,!0);E&&h.push(E)}else{if(!Mt(i))return!1;var S=i;l=s;for(var M=Object.keys(S),x=0;x<M.length;x++){var R=M[x],A=S[R];if(void 0===A&&(A=S[js(R)]),void 0!==A){var P=this.parse(R,A,!0);P&&h.push(P)}}}if(0===h.length)return!1;for(var k=!1,O=0;O<a.length;O++){for(var V=a[O],q={},K=void 0,$=0;$<h.length;$++){var W=h[$];if(l){var U=V.pstyle(W.name);K=q[W.name]={prev:U}}k=this.applyParsedProperty(V,Gr(W))||k,l&&(K.next=V.pstyle(W.name))}k&&this.updateStyleHints(V),l&&this.updateTransitions(V,q,!0)}return k},overrideBypass:function(a,i,s){i=uo(i);for(var l=0;l<a.length;l++){var f=a[l],h=f._private.style[i],p=this.properties[i].type,m=p.color,b=p.mutiple,w=h?null!=h.pfValue?h.pfValue:h.value:null;h&&h.bypass?(h.value=s,null!=h.pfValue&&(h.pfValue=s),h.strValue=m?"rgb("+s.join(",")+")":b?s.join(" "):""+s,this.updateStyleHints(f)):this.applyBypass(f,i,s),this.checkTriggers(f,i,w,s)}},removeAllBypasses:function(a,i){return this.removeBypasses(a,this.propertyNames,i)},removeBypasses:function(a,i,s){for(var f=0;f<a.length;f++){for(var h=a[f],p={},m=0;m<i.length;m++){var b=i[m],w=this.properties[b],D=h.pstyle(w.name);if(D&&D.bypass){var S=this.parse(b,"",!0),M=p[w.name]={prev:D};this.applyParsedProperty(h,S),M.next=h.pstyle(w.name)}}this.updateStyleHints(h),s&&this.updateTransitions(h,p,!0)}}},Co={getEmSizeInPixels:function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},containerCss:function(a){var i=this._private.cy,s=i.container(),l=i.window();if(l&&s&&l.getComputedStyle)return l.getComputedStyle(s).getPropertyValue(a)}},Ko={getRenderedStyle:function(a,i){return i?this.getStylePropertyValue(a,i,!0):this.getRawStyle(a,!0)},getRawStyle:function(a,i){var s=this;if(a=a[0]){for(var l={},f=0;f<s.properties.length;f++){var h=s.properties[f],p=s.getStylePropertyValue(a,h.name,i);null!=p&&(l[h.name]=p,l[js(h.name)]=p)}return l}},getIndexedStyle:function(a,i,s,l){return a.pstyle(i)[s][l]??a.cy().style().getDefaultProperty(i)[s][0]},getStylePropertyValue:function(a,i,s){if(a=a[0]){var f=this.properties[i];f.alias&&(f=f.pointsTo);var h=f.type,p=a.pstyle(f.name);if(p){var m=p.value,b=p.units,w=p.strValue;if(s&&h.number&&null!=m&&at(m)){var D=a.cy().zoom(),E=function(A){return A*D},S=function(A,P){return E(A)+P},M=Mn(m);return(M?b.every(function(R){return null!=R}):null!=b)?M?m.map(function(R,A){return S(R,b[A])}).join(" "):S(m,b):M?m.map(function(R){return Je(R)?R:""+E(R)}).join(" "):""+E(m)}if(null!=w)return w}return null}},getAnimationStartStyle:function(a,i){for(var s={},l=0;l<i.length;l++){var h=i[l].name,p=a.pstyle(h);void 0!==p&&(p=Mt(p)?this.parse(h,p.strValue):this.parse(h,p)),p&&(s[h]=p)}return s},getPropsList:function(a){var s=[],l=a,f=this.properties;if(l)for(var h=Object.keys(l),p=0;p<h.length;p++){var m=h[p],b=l[m],w=f[m]||f[uo(m)],D=this.parse(w.name,b);D&&s.push(D)}return s},getNonDefaultPropertiesHash:function(a,i,s){var h,p,m,b,w,l=s.slice();for(b=0;b<i.length;b++)if(null!=(h=a.pstyle(i[b],!1)))if(null!=h.pfValue)l[0]=Fu(m,l[0]),l[1]=Lu(m,l[1]);else for(p=h.strValue,w=0;w<p.length;w++)m=p.charCodeAt(w),l[0]=Fu(m,l[0]),l[1]=Lu(m,l[1]);return l}};Ko.getPropertiesHash=Ko.getNonDefaultPropertiesHash;var Qa={appendFromJson:function(a){for(var i=this,s=0;s<a.length;s++){var l=a[s],f=l.selector,h=l.style||l.css,p=Object.keys(h);i.selector(f);for(var m=0;m<p.length;m++){var b=p[m];i.css(b,h[b])}}return i},fromJson:function(a){var i=this;return i.resetToDefault(),i.appendFromJson(a),i},json:function(){for(var a=[],i=this.defaultLength;i<this.length;i++){for(var s=this[i],l=s.selector,f=s.properties,h={},p=0;p<f.length;p++){var m=f[p];h[m.name]=m.strValue}a.push({selector:l?l.toString():"core",style:h})}return a}},Yo={appendFromString:function(a){var f,h,p,s=this,l=""+a;function m(){l=l.length>f.length?l.substr(f.length):""}function b(){h=h.length>p.length?h.substr(p.length):""}for(l=l.replace(/[/][*](\s|.)+?[*][/]/g,"");!l.match(/^\s*$/);){var D=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!D){Kt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}f=D[0];var E=D[1];if("core"!==E&&new ba(E).invalid)Kt("Skipping parsing of block: Invalid selector found in string stylesheet: "+E),m();else{var M=D[2],x=!1;h=M;for(var R=[];!h.match(/^\s*$/);){var P=h.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!P){Kt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+M),x=!0;break}p=P[0];var k=P[1],O=P[2];this.properties[k]?s.parse(k,O)?(R.push({name:k,val:O}),b()):(Kt("Skipping property: Invalid property definition in: "+p),b()):(Kt("Skipping property: Invalid property name in: "+p),b())}if(x){m();break}s.selector(E);for(var K=0;K<R.length;K++){var $=R[K];s.css($.name,$.val)}m()}}return s},fromString:function(a){var i=this;return i.resetToDefault(),i.appendFromString(a),i}},oi={};(function(){var a=jr,i=ku,s=Gs,h=function(Ge){return"^"+Ge+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},p=function(Ge){var Le=a+"|\\w+|"+i+"|"+s+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Ge+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+Le+")\\s*\\,\\s*("+Le+")\\)$"},m=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];oi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:h("data")},layoutData:{mapping:!0,regex:h("layoutData")},scratch:{mapping:!0,regex:h("scratch")},mapData:{mapping:!0,regex:p("mapData")},mapLayoutData:{mapping:!0,regex:p("mapLayoutData")},mapScratch:{mapping:!0,regex:p("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:m,singleRegexMatchValue:!0},urls:{regexes:m,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ge,Le){switch(Ge.length){case 2:return"deg"!==Le[0]&&"rad"!==Le[0]&&"deg"!==Le[1]&&"rad"!==Le[1];case 1:return Je(Ge[0])||"deg"===Le[0]||"rad"===Le[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ge){var Le=Ge.length;return 1===Le||2===Le||4===Le}}};var b={zeroNonZero:function(Ge,Le){return(null==Ge||null==Le)&&Ge!==Le||0==Ge&&0!=Le||0!=Ge&&0==Le},any:function(Ge,Le){return Ge!=Le},emptyNonEmpty:function(Ge,Le){var Xe=rn(Ge),It=rn(Le);return Xe&&!It||!Xe&&It}},w=oi.types,D=[{name:"label",type:w.text,triggersBounds:b.any,triggersZOrder:b.emptyNonEmpty},{name:"text-rotation",type:w.textRotation,triggersBounds:b.any},{name:"text-margin-x",type:w.bidirectionalSize,triggersBounds:b.any},{name:"text-margin-y",type:w.bidirectionalSize,triggersBounds:b.any}],E=[{name:"source-label",type:w.text,triggersBounds:b.any},{name:"source-text-rotation",type:w.textRotation,triggersBounds:b.any},{name:"source-text-margin-x",type:w.bidirectionalSize,triggersBounds:b.any},{name:"source-text-margin-y",type:w.bidirectionalSize,triggersBounds:b.any},{name:"source-text-offset",type:w.size,triggersBounds:b.any}],S=[{name:"target-label",type:w.text,triggersBounds:b.any},{name:"target-text-rotation",type:w.textRotation,triggersBounds:b.any},{name:"target-text-margin-x",type:w.bidirectionalSize,triggersBounds:b.any},{name:"target-text-margin-y",type:w.bidirectionalSize,triggersBounds:b.any},{name:"target-text-offset",type:w.size,triggersBounds:b.any}],M=[{name:"font-family",type:w.fontFamily,triggersBounds:b.any},{name:"font-style",type:w.fontStyle,triggersBounds:b.any},{name:"font-weight",type:w.fontWeight,triggersBounds:b.any},{name:"font-size",type:w.size,triggersBounds:b.any},{name:"text-transform",type:w.textTransform,triggersBounds:b.any},{name:"text-wrap",type:w.textWrap,triggersBounds:b.any},{name:"text-overflow-wrap",type:w.textOverflowWrap,triggersBounds:b.any},{name:"text-max-width",type:w.size,triggersBounds:b.any},{name:"text-outline-width",type:w.size,triggersBounds:b.any},{name:"line-height",type:w.positiveNumber,triggersBounds:b.any}],x=[{name:"text-valign",type:w.valign,triggersBounds:b.any},{name:"text-halign",type:w.halign,triggersBounds:b.any},{name:"color",type:w.color},{name:"text-outline-color",type:w.color},{name:"text-outline-opacity",type:w.zeroOneNumber},{name:"text-background-color",type:w.color},{name:"text-background-opacity",type:w.zeroOneNumber},{name:"text-background-padding",type:w.size,triggersBounds:b.any},{name:"text-border-opacity",type:w.zeroOneNumber},{name:"text-border-color",type:w.color},{name:"text-border-width",type:w.size,triggersBounds:b.any},{name:"text-border-style",type:w.borderStyle,triggersBounds:b.any},{name:"text-background-shape",type:w.textBackgroundShape,triggersBounds:b.any},{name:"text-justification",type:w.justification}],R=[{name:"events",type:w.bool,triggersZOrder:b.any},{name:"text-events",type:w.bool,triggersZOrder:b.any}],A=[{name:"display",type:w.display,triggersZOrder:b.any,triggersBounds:b.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:w.visibility,triggersZOrder:b.any},{name:"opacity",type:w.zeroOneNumber,triggersZOrder:b.zeroNonZero},{name:"text-opacity",type:w.zeroOneNumber},{name:"min-zoomed-font-size",type:w.size},{name:"z-compound-depth",type:w.zCompoundDepth,triggersZOrder:b.any},{name:"z-index-compare",type:w.zIndexCompare,triggersZOrder:b.any},{name:"z-index",type:w.number,triggersZOrder:b.any}],P=[{name:"overlay-padding",type:w.size,triggersBounds:b.any},{name:"overlay-color",type:w.color},{name:"overlay-opacity",type:w.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"overlay-shape",type:w.overlayShape,triggersBounds:b.any}],k=[{name:"underlay-padding",type:w.size,triggersBounds:b.any},{name:"underlay-color",type:w.color},{name:"underlay-opacity",type:w.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"underlay-shape",type:w.overlayShape,triggersBounds:b.any}],O=[{name:"transition-property",type:w.propList},{name:"transition-duration",type:w.time},{name:"transition-delay",type:w.time},{name:"transition-timing-function",type:w.easing}],V=function(Ge,Le){return"label"===Le.value?-Ge.poolIndex():Le.pfValue},q=[{name:"height",type:w.nodeSize,triggersBounds:b.any,hashOverride:V},{name:"width",type:w.nodeSize,triggersBounds:b.any,hashOverride:V},{name:"shape",type:w.nodeShape,triggersBounds:b.any},{name:"shape-polygon-points",type:w.polygonPointList,triggersBounds:b.any},{name:"background-color",type:w.color},{name:"background-fill",type:w.fill},{name:"background-opacity",type:w.zeroOneNumber},{name:"background-blacken",type:w.nOneOneNumber},{name:"background-gradient-stop-colors",type:w.colors},{name:"background-gradient-stop-positions",type:w.percentages},{name:"background-gradient-direction",type:w.gradientDirection},{name:"padding",type:w.sizeMaybePercent,triggersBounds:b.any},{name:"padding-relative-to",type:w.paddingRelativeTo,triggersBounds:b.any},{name:"bounds-expansion",type:w.boundsExpansion,triggersBounds:b.any}],K=[{name:"border-color",type:w.color},{name:"border-opacity",type:w.zeroOneNumber},{name:"border-width",type:w.size,triggersBounds:b.any},{name:"border-style",type:w.borderStyle}],$=[{name:"outline-color",type:w.color},{name:"outline-opacity",type:w.zeroOneNumber},{name:"outline-width",type:w.size,triggersBounds:b.any},{name:"outline-style",type:w.borderStyle},{name:"outline-offset",type:w.size,triggersBounds:b.any}],W=[{name:"background-image",type:w.urls},{name:"background-image-crossorigin",type:w.bgCrossOrigin},{name:"background-image-opacity",type:w.zeroOneNumbers},{name:"background-image-containment",type:w.bgContainment},{name:"background-image-smoothing",type:w.bools},{name:"background-position-x",type:w.bgPos},{name:"background-position-y",type:w.bgPos},{name:"background-width-relative-to",type:w.bgRelativeTo},{name:"background-height-relative-to",type:w.bgRelativeTo},{name:"background-repeat",type:w.bgRepeat},{name:"background-fit",type:w.bgFit},{name:"background-clip",type:w.bgClip},{name:"background-width",type:w.bgWH},{name:"background-height",type:w.bgWH},{name:"background-offset-x",type:w.bgPos},{name:"background-offset-y",type:w.bgPos}],U=[{name:"position",type:w.position,triggersBounds:b.any},{name:"compound-sizing-wrt-labels",type:w.compoundIncludeLabels,triggersBounds:b.any},{name:"min-width",type:w.size,triggersBounds:b.any},{name:"min-width-bias-left",type:w.sizeMaybePercent,triggersBounds:b.any},{name:"min-width-bias-right",type:w.sizeMaybePercent,triggersBounds:b.any},{name:"min-height",type:w.size,triggersBounds:b.any},{name:"min-height-bias-top",type:w.sizeMaybePercent,triggersBounds:b.any},{name:"min-height-bias-bottom",type:w.sizeMaybePercent,triggersBounds:b.any}],Y=[{name:"line-style",type:w.lineStyle},{name:"line-color",type:w.color},{name:"line-fill",type:w.fill},{name:"line-cap",type:w.lineCap},{name:"line-opacity",type:w.zeroOneNumber},{name:"line-dash-pattern",type:w.numbers},{name:"line-dash-offset",type:w.number},{name:"line-gradient-stop-colors",type:w.colors},{name:"line-gradient-stop-positions",type:w.percentages},{name:"curve-style",type:w.curveStyle,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:w.zeroOneNumber,triggersBounds:b.any},{name:"source-endpoint",type:w.edgeEndpoint,triggersBounds:b.any},{name:"target-endpoint",type:w.edgeEndpoint,triggersBounds:b.any},{name:"control-point-step-size",type:w.size,triggersBounds:b.any},{name:"control-point-distances",type:w.bidirectionalSizes,triggersBounds:b.any},{name:"control-point-weights",type:w.numbers,triggersBounds:b.any},{name:"segment-distances",type:w.bidirectionalSizes,triggersBounds:b.any},{name:"segment-weights",type:w.numbers,triggersBounds:b.any},{name:"taxi-turn",type:w.bidirectionalSizeMaybePercent,triggersBounds:b.any},{name:"taxi-turn-min-distance",type:w.size,triggersBounds:b.any},{name:"taxi-direction",type:w.axisDirection,triggersBounds:b.any},{name:"edge-distances",type:w.edgeDistances,triggersBounds:b.any},{name:"arrow-scale",type:w.positiveNumber,triggersBounds:b.any},{name:"loop-direction",type:w.angle,triggersBounds:b.any},{name:"loop-sweep",type:w.angle,triggersBounds:b.any},{name:"source-distance-from-node",type:w.size,triggersBounds:b.any},{name:"target-distance-from-node",type:w.size,triggersBounds:b.any}],X=[{name:"ghost",type:w.bool,triggersBounds:b.any},{name:"ghost-offset-x",type:w.bidirectionalSize,triggersBounds:b.any},{name:"ghost-offset-y",type:w.bidirectionalSize,triggersBounds:b.any},{name:"ghost-opacity",type:w.zeroOneNumber}],G=[{name:"selection-box-color",type:w.color},{name:"selection-box-opacity",type:w.zeroOneNumber},{name:"selection-box-border-color",type:w.color},{name:"selection-box-border-width",type:w.size},{name:"active-bg-color",type:w.color},{name:"active-bg-opacity",type:w.zeroOneNumber},{name:"active-bg-size",type:w.size},{name:"outside-texture-bg-color",type:w.color},{name:"outside-texture-bg-opacity",type:w.zeroOneNumber}],te=[];oi.pieBackgroundN=16,te.push({name:"pie-size",type:w.sizeMaybePercent});for(var Z=1;Z<=oi.pieBackgroundN;Z++)te.push({name:"pie-"+Z+"-background-color",type:w.color}),te.push({name:"pie-"+Z+"-background-size",type:w.percent}),te.push({name:"pie-"+Z+"-background-opacity",type:w.zeroOneNumber});var se=[],ne=oi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:w.arrowShape,triggersBounds:b.any},{name:"arrow-color",type:w.color},{name:"arrow-fill",type:w.arrowFill},{name:"arrow-width",type:w.arrowWidth}].forEach(function(ze){ne.forEach(function(Ge){se.push({name:Ge+"-"+ze.name,type:ze.type,triggersBounds:ze.triggersBounds})})},{});var ee=oi.properties=[].concat(R,O,A,P,k,X,x,M,D,E,S,q,K,$,W,te,U,Y,se,G),fe=oi.propertyGroups={behavior:R,transition:O,visibility:A,overlay:P,underlay:k,ghost:X,commonLabel:x,labelDimensions:M,mainLabel:D,sourceLabel:E,targetLabel:S,nodeBody:q,nodeBorder:K,nodeOutline:$,backgroundImage:W,pie:te,compound:U,edgeLine:Y,edgeArrow:se,core:G},ge=oi.propertyGroupNames={};(oi.propertyGroupKeys=Object.keys(fe)).forEach(function(ze){ge[ze]=fe[ze].map(function(Ge){return Ge.name}),fe[ze].forEach(function(Ge){return Ge.groupKey=ze})});var de=oi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];oi.propertyNames=ee.map(function(ze){return ze.name});for(var Ce=0;Ce<ee.length;Ce++){var Pe=ee[Ce];ee[Pe.name]=Pe}for(var Ve=0;Ve<de.length;Ve++){var Oe=de[Ve],he={name:Oe.name,alias:!0,pointsTo:ee[Oe.pointsTo]};ee.push(he),ee[Oe.name]=he}})(),oi.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},oi.getDefaultProperties=function(){var a=this._private;if(null!=a.defaultProperties)return a.defaultProperties;for(var i=Nt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(b,w){for(var D=1;D<=oi.pieBackgroundN;D++)b[w.name.replace("{{i}}",D)]=w.value;return b},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(b,w){return oi.arrowPrefixes.forEach(function(D){b[D+"-"+w.name]=w.value}),b},{})),s={},l=0;l<this.properties.length;l++){var f=this.properties[l];if(!f.pointsTo){var h=f.name,m=this.parse(h,i[h]);s[h]=m}}return a.defaultProperties=s,a.defaultProperties},oi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var rl={parse:function(a,i,s,l){var f=this;if(Ln(i))return f.parseImplWarn(a,i,s,l);var D,b=mf(a,""+i,s?"t":"f","mapping"===l||!0===l||!1===l||null==l?"dontcare":l),w=f.propCache=f.propCache||[];return(D=w[b])||(D=w[b]=f.parseImplWarn(a,i,s,l)),(s||"mapping"===l)&&(D=Gr(D))&&(D.value=Gr(D.value)),D},parseImplWarn:function(a,i,s,l){var f=this.parseImpl(a,i,s,l);return!f&&null!=i&&Kt("The style property `".concat(a,": ").concat(i,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===i&&Kt("The style value of `label` is deprecated for `"+f.name+"`"),f}};rl.parseImpl=function(a,i,s,l){var f=this;a=uo(a);var h=f.properties[a],p=i,m=f.types;if(!h||void 0===i)return null;h.alias&&(a=(h=h.pointsTo).name);var b=Je(i);b&&(i=i.trim());var D,E,w=h.type;if(!w)return null;if(s&&(""===i||null===i))return{name:a,value:i,bypass:!0,deleteBypass:!0};if(Ln(i))return{name:a,value:i,strValue:"fn",mapped:m.fn,bypass:s};if(!(!b||l||i.length<7||"a"!==i[1])){if(i.length>=7&&"d"===i[0]&&(D=new RegExp(m.data.regex).exec(i)))return!s&&{name:a,value:D,strValue:""+i,mapped:m.data,field:D[1],bypass:s};if(i.length>=10&&"m"===i[0]&&(E=new RegExp(m.mapData.regex).exec(i))){if(s||w.multiple)return!1;var M=m.mapData;if(!w.color&&!w.number)return!1;var x=this.parse(a,E[4]);if(!x||x.mapped)return!1;var R=this.parse(a,E[5]);if(!R||R.mapped)return!1;if(x.pfValue===R.pfValue||x.strValue===R.strValue)return Kt("`"+a+": "+i+"` is not a valid mapper because the output range is zero; converting to `"+a+": "+x.strValue+"`"),this.parse(a,x.strValue);if(w.color){var A=x.value,P=R.value;if(!(A[0]!==P[0]||A[1]!==P[1]||A[2]!==P[2]||A[3]!==P[3]&&(null!=A[3]&&1!==A[3]||null!=P[3]&&1!==P[3])))return!1}return{name:a,value:E,strValue:""+i,mapped:M,field:E[1],fieldMin:parseFloat(E[2]),fieldMax:parseFloat(E[3]),valueMin:x.value,valueMax:R.value,bypass:s}}}if(w.multiple&&"multiple"!==l){var O;if(O=b?i.split(/\s+/):Mn(i)?i:[i],w.evenMultiple&&O.length%2!=0)return null;for(var V=[],q=[],K=[],$="",W=!1,U=0;U<O.length;U++){var Y=f.parse(a,O[U],s,"multiple");W=W||Je(Y.value),V.push(Y.value),K.push(null!=Y.pfValue?Y.pfValue:Y.value),q.push(Y.units),$+=(U>0?" ":"")+Y.strValue}return w.validate&&!w.validate(V,q)?null:w.singleEnum&&W?1===V.length&&Je(V[0])?{name:a,value:V[0],strValue:V[0],bypass:s}:null:{name:a,value:V,pfValue:K,strValue:$,bypass:s,units:q}}var X=function(){for(var Ge=0;Ge<w.enums.length;Ge++)if(w.enums[Ge]===i)return{name:a,value:i,strValue:""+i,bypass:s};return null};if(w.number){var G,te="px";if(w.units&&(G=w.units),w.implicitUnits&&(te=w.implicitUnits),!w.unitless)if(b){var Z="px|em"+(w.allowPercent?"|\\%":"");G&&(Z=G);var se=i.match("^("+jr+")("+Z+")?$");se&&(i=se[1],G=se[2]||te)}else(!G||w.implicitUnits)&&(G=te);if(i=parseFloat(i),isNaN(i)&&void 0===w.enums)return null;if(isNaN(i)&&void 0!==w.enums)return i=p,X();if(w.integer&&!function(i){return at(i)&&Math.floor(i)===i}(i)||void 0!==w.min&&(i<w.min||w.strictMin&&i===w.min)||void 0!==w.max&&(i>w.max||w.strictMax&&i===w.max))return null;var ne={name:a,value:i,strValue:""+i+(G||""),units:G,bypass:s};return ne.pfValue=w.unitless||"px"!==G&&"em"!==G?i:"px"!==G&&G?this.getEmSizeInPixels()*i:i,("ms"===G||"s"===G)&&(ne.pfValue="ms"===G?i:1e3*i),("deg"===G||"rad"===G)&&(ne.pfValue="rad"===G?i:function(i){return Math.PI*i/180}(i)),"%"===G&&(ne.pfValue=i/100),ne}if(w.propList){var ee=[],fe=""+i;if("none"!==fe){for(var ge=fe.split(/\s*,\s*|\s+/),xe=0;xe<ge.length;xe++){var de=ge[xe].trim();f.properties[de]?ee.push(de):Kt("`"+de+"` is not a valid property name")}if(0===ee.length)return null}return{name:a,value:ee,strValue:0===ee.length?"none":ee.join(" "),bypass:s}}if(w.color){var Ce=function(i){return(Mn(i)?i:null)||function(i){return hf[i.toLowerCase()]}(i)||function(i){if((4===i.length||7===i.length)&&"#"===i[0]){var l,f,h,p=16;return 4===i.length?(l=parseInt(i[1]+i[1],p),f=parseInt(i[2]+i[2],p),h=parseInt(i[3]+i[3],p)):(l=parseInt(i[1]+i[2],p),f=parseInt(i[3]+i[4],p),h=parseInt(i[5]+i[6],p)),[l,f,h]}}(i)||function(i){var s,l=new RegExp("^"+qg+"$").exec(i);if(l){s=[];for(var f=[],h=1;h<=3;h++){var p=l[h];if("%"===p[p.length-1]&&(f[h]=!0),p=parseFloat(p),f[h]&&(p=p/100*255),p<0||p>255)return;s.push(Math.floor(p))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var w=l[4];if(void 0!==w){if((w=parseFloat(w))<0||w>1)return;s.push(w)}}return s}(i)||function(i){var s,l,f,h,p,m,b,w;function D(x,R,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?x+6*(R-x)*A:A<.5?R:A<2/3?x+(R-x)*(2/3-A)*6:x}var E=new RegExp("^"+Uo+"$").exec(i);if(E){if((l=parseInt(E[1]))<0?l=(360- -1*l%360)%360:l>360&&(l%=360),l/=360,(f=parseFloat(E[2]))<0||f>100||(f/=100,(h=parseFloat(E[3]))<0||h>100)||(h/=100,void 0!==(p=E[4])&&((p=parseFloat(p))<0||p>1)))return;if(0===f)m=b=w=Math.round(255*h);else{var S=h<.5?h*(1+f):h+f-h*f,M=2*h-S;m=Math.round(255*D(M,S,l+1/3)),b=Math.round(255*D(M,S,l)),w=Math.round(255*D(M,S,l-1/3))}s=[m,b,w,p]}return s}(i)}(i);return Ce?{name:a,value:Ce,pfValue:Ce,strValue:"rgb("+Ce[0]+","+Ce[1]+","+Ce[2]+")",bypass:s}:null}if(w.regex||w.regexes){if(w.enums){var Pe=X();if(Pe)return Pe}for(var Ve=w.regexes?w.regexes:[w.regex],Oe=0;Oe<Ve.length;Oe++){var he=new RegExp(Ve[Oe]).exec(i);if(he)return{name:a,value:w.singleRegexMatchValue?he[1]:he,strValue:""+i,bypass:s}}return null}return w.string?{name:a,value:""+i,strValue:""+i,bypass:s}:w.enums?X():null};var xi=function a(i){if(!(this instanceof a))return new a(i);or(i)?(this._private={cy:i,coreStyle:{}},this.length=0,this.resetToDefault()):Hn("A style must have a core reference")},hi=xi.prototype;hi.instanceString=function(){return"style"},hi.clear=function(){for(var a=this._private,s=a.cy.elements(),l=0;l<this.length;l++)this[l]=void 0;return this.length=0,a.contextStyles={},a.propDiffs={},this.cleanElements(s,!0),s.forEach(function(f){var h=f[0]._private;h.styleDirty=!0,h.appliedInitStyle=!1}),this},hi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},hi.core=function(a){return this._private.coreStyle[a]||this.getDefaultProperty(a)},hi.selector=function(a){var i="core"===a?null:new ba(a),s=this.length++;return this[s]={selector:i,properties:[],mappedProperties:[],index:s},this},hi.css=function(){var i=arguments;if(1===i.length)for(var s=i[0],l=0;l<this.properties.length;l++){var f=this.properties[l],h=s[f.name];void 0===h&&(h=s[js(f.name)]),void 0!==h&&this.cssRule(f.name,h)}else 2===i.length&&this.cssRule(i[0],i[1]);return this},hi.style=hi.css,hi.cssRule=function(a,i){var s=this.parse(a,i);if(s){var l=this.length-1;this[l].properties.push(s),this[l].properties[s.name]=s,s.name.match(/pie-(\d+)-background-size/)&&s.value&&(this._private.hasPie=!0),s.mapped&&this[l].mappedProperties.push(s),!this[l].selector&&(this._private.coreStyle[s.name]=s)}return this},hi.append=function(a){return vr(a)?a.appendToStyle(this):Mn(a)?this.appendFromJson(a):Je(a)&&this.appendFromString(a),this},xi.fromJson=function(a,i){var s=new xi(a);return s.fromJson(i),s},xi.fromString=function(a,i){return new xi(a).fromString(i)},[Si,$r,Co,Ko,Qa,Yo,oi,rl].forEach(function(a){Nt(hi,a)}),xi.types=hi.types,xi.properties=hi.properties,xi.propertyGroups=hi.propertyGroups,xi.propertyGroupNames=hi.propertyGroupNames,xi.propertyGroupKeys=hi.propertyGroupKeys;var Dd={style:function(i){return i&&this.setStyle(i).update(),this._private.style},setStyle:function(i){var s=this._private;return s.style=vr(i)?i.generateStyle(this):Mn(i)?xi.fromJson(this,i):Je(i)?xi.fromString(this,i):xi(this),s.style},updateStyle:function(){this.mutableElements().updateStyle()}},pi={autolock:function(i){return void 0===i?this._private.autolock:(this._private.autolock=!!i,this)},autoungrabify:function(i){return void 0===i?this._private.autoungrabify:(this._private.autoungrabify=!!i,this)},autounselectify:function(i){return void 0===i?this._private.autounselectify:(this._private.autounselectify=!!i,this)},selectionType:function(i){var s=this._private;return null==s.selectionType&&(s.selectionType="single"),void 0===i?s.selectionType:(("additive"===i||"single"===i)&&(s.selectionType=i),this)},panningEnabled:function(i){return void 0===i?this._private.panningEnabled:(this._private.panningEnabled=!!i,this)},userPanningEnabled:function(i){return void 0===i?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!i,this)},zoomingEnabled:function(i){return void 0===i?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!i,this)},userZoomingEnabled:function(i){return void 0===i?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!i,this)},boxSelectionEnabled:function(i){return void 0===i?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!i,this)},pan:function(){var l,f,h,p,m,i=arguments,s=this._private.pan;switch(i.length){case 0:return s;case 1:if(Je(i[0]))return s[l=i[0]];if(Mt(i[0])){if(!this._private.panningEnabled)return this;m=(h=i[0]).y,at(p=h.x)&&(s.x=p),at(m)&&(s.y=m),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=i[1],("x"===(l=i[0])||"y"===l)&&at(f)&&(s[l]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(i,s){var h,p,m,b,w,l=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(l.length){case 1:Mt(i)&&(w=(m=l[0]).y,at(b=m.x)&&(f.x+=b),at(w)&&(f.y+=w),this.emit("pan viewport"));break;case 2:p=s,("x"===(h=i)||"y"===h)&&at(p)&&(f[h]+=p),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(i,s){var l=this.getFitViewport(i,s);if(l){var f=this._private;f.zoom=l.zoom,f.pan=l.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(i,s){var l;if((at(i)&&void 0===s&&(s=i,i=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Je(i)?i=this.$(i):!function(i){return Mt(i)&&at(i.x1)&&at(i.x2)&&at(i.y1)&&at(i.y2)}(i)?Cr(i)||(i=this.mutableElements()):((l={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=l.x2-l.x1,l.h=l.y2-l.y1),!Cr(i)||!i.empty())){l=l||i.boundingBox();var b,p=this.width(),m=this.height();if(s=at(s)?s:0,!isNaN(p)&&!isNaN(m)&&p>0&&m>0&&!isNaN(l.w)&&!isNaN(l.h)&&l.w>0&&l.h>0)return{zoom:b=(b=(b=Math.min((p-2*s)/l.w,(m-2*s)/l.h))>this._private.maxZoom?this._private.maxZoom:b)<this._private.minZoom?this._private.minZoom:b,pan:{x:(p-b*(l.x1+l.x2))/2,y:(m-b*(l.y1+l.y2))/2}}}},zoomRange:function(i,s){var l=this._private;if(null==s){var f=i;i=f.min,s=f.max}return at(i)&&at(s)&&i<=s?(l.minZoom=i,l.maxZoom=s):at(i)&&void 0===s&&i<=l.maxZoom?l.minZoom=i:at(s)&&void 0===i&&s>=l.minZoom&&(l.maxZoom=s),this},minZoom:function(i){return void 0===i?this._private.minZoom:this.zoomRange({min:i})},maxZoom:function(i){return void 0===i?this._private.maxZoom:this.zoomRange({max:i})},getZoomedViewport:function(i){var h,p,s=this._private,l=s.pan,f=s.zoom,m=!1;return s.zoomingEnabled||(m=!0),at(i)?p=i:Mt(i)&&(p=i.level,null!=i.position?h=Zs(i.position,f,l):null!=i.renderedPosition&&(h=i.renderedPosition),null!=h&&!s.panningEnabled&&(m=!0)),p=(p=p>s.maxZoom?s.maxZoom:p)<s.minZoom?s.minZoom:p,!m&&at(p)&&p!==f&&(null==h||at(h.x)&&at(h.y))?null!=h?{zoomed:!0,panned:!0,zoom:p,pan:{x:-p/f*(h.x-l.x)+h.x,y:-p/f*(h.y-l.y)+h.y}}:{zoomed:!0,panned:!1,zoom:p,pan:l}:null},zoom:function(i){if(void 0===i)return this._private.zoom;var s=this.getZoomedViewport(i),l=this._private;return null!=s&&s.zoomed?(l.zoom=s.zoom,s.panned&&(l.pan.x=s.pan.x,l.pan.y=s.pan.y),this.emit("zoom"+(s.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(i){var s=this._private,l=!0,f=!0,h=[],p=!1,m=!1;if(!i)return this;if(at(i.zoom)||(l=!1),Mt(i.pan)||(f=!1),!l&&!f)return this;if(l){var b=i.zoom;b<s.minZoom||b>s.maxZoom||!s.zoomingEnabled?p=!0:(s.zoom=b,h.push("zoom"))}if(f&&(!p||!i.cancelOnFailedZoom)&&s.panningEnabled){var w=i.pan;at(w.x)&&(s.pan.x=w.x,m=!1),at(w.y)&&(s.pan.y=w.y,m=!1),m||h.push("pan")}return h.length>0&&(h.push("viewport"),this.emit(h.join(" ")),this.notify("viewport")),this},center:function(i){var s=this.getCenterPan(i);return s&&(this._private.pan=s,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(i,s){if(this._private.panningEnabled){if(Je(i)){var l=i;i=this.mutableElements().filter(l)}else Cr(i)||(i=this.mutableElements());if(0!==i.length){var f=i.boundingBox(),h=this.width(),p=this.height();return{x:(h-(s=void 0===s?this._private.zoom:s)*(f.x1+f.x2))/2,y:(p-s*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,i=this._private,s=i.container;return i.sizeCache=i.sizeCache||(s?(f=this.window().getComputedStyle(s),{width:s.clientWidth-(h=function(m){return parseFloat(f.getPropertyValue(m))})("padding-left")-h("padding-right"),height:s.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var i=this._private.pan,s=this._private.zoom,l=this.renderedExtent(),f={x1:(l.x1-i.x)/s,x2:(l.x2-i.x)/s,y1:(l.y1-i.y)/s,y2:(l.y2-i.y)/s};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var i=this.width(),s=this.height();return{x1:0,y1:0,x2:i,y2:s,w:i,h:s}},multiClickDebounceTime:function(i){return i?(this._private.multiClickDebounceTime=i,this):this._private.multiClickDebounceTime}};pi.centre=pi.center,pi.autolockNodes=pi.autolock,pi.autoungrabifyNodes=pi.autoungrabify;var cu={data:Xt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Xt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Xt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};cu.attr=cu.data,cu.removeAttr=cu.removeData;var ac=function(i){var s=this,l=(i=Nt({},i)).container;l&&!so(l)&&so(l[0])&&(l=l[0]);var f=l?l._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var h=f.readies=f.readies||[];l&&(l._cyreg=f),f.cy=s;var p=void 0!==Ot&&void 0!==l&&!i.headless,m=i;m.layout=Nt({name:p?"grid":"null"},m.layout),m.renderer=Nt({name:p?"canvas":"null"},m.renderer);var b=function(x,R,A){return void 0!==R?R:void 0!==A?A:x},w=this._private={container:l,ready:!1,options:m,elements:new Pt(this),listeners:[],aniEles:new Pt(this),data:m.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:b(!0,m.zoomingEnabled),userZoomingEnabled:b(!0,m.userZoomingEnabled),panningEnabled:b(!0,m.panningEnabled),userPanningEnabled:b(!0,m.userPanningEnabled),boxSelectionEnabled:b(!0,m.boxSelectionEnabled),autolock:b(!1,m.autolock,m.autolockNodes),autoungrabify:b(!1,m.autoungrabify,m.autoungrabifyNodes),autounselectify:b(!1,m.autounselectify),styleEnabled:void 0===m.styleEnabled?p:m.styleEnabled,zoom:at(m.zoom)?m.zoom:1,pan:{x:Mt(m.pan)&&at(m.pan.x)?m.pan.x:0,y:Mt(m.pan)&&at(m.pan.y)?m.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:b(250,m.multiClickDebounceTime)};this.createEmitter(),this.selectionType(m.selectionType),this.zoomRange({min:m.minZoom,max:m.maxZoom}),w.styleEnabled&&s.setStyle([]);var E=Nt({},m,m.renderer);s.initRenderer(E),function(x,R){if(x.some(Nu))return go.all(x).then(R);R(x)}([m.style,m.elements],function(M){var x=M[0],R=M[1];w.styleEnabled&&s.style().append(x),function(x,R,A){s.notifications(!1);var P=s.mutableElements();P.length>0&&P.remove(),null!=x&&(Mt(x)||Mn(x))&&s.add(x),s.one("layoutready",function(O){s.notifications(!0),s.emit(O),s.one("load",R),s.emitAndNotify("load")}).one("layoutstop",function(){s.one("done",A),s.emit("done")});var k=Nt({},s._private.options.layout);k.eles=s.elements(),s.layout(k).run()}(R,function(){s.startAnimationLoop(),w.ready=!0,Ln(m.ready)&&s.on("ready",m.ready);for(var A=0;A<h.length;A++)s.on("ready",h[A]);f&&(f.readies=[]),s.emit("ready")},m.done)})},Es=ac.prototype;Nt(Es,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(i){return this.isReady()?this.emitter().emit("ready",[],i):this.on("ready",i),this},destroy:function(){var i=this;if(!i.destroyed())return i.stopAnimationLoop(),i.destroyRenderer(),this.emit("destroy"),i._private.destroyed=!0,i},hasElementWithId:function(i){return this._private.elements.hasElementWithId(i)},getElementById:function(i){return this._private.elements.getElementById(i)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(i){return this._private.elements.merge(i),this},removeFromPool:function(i){return this._private.elements.unmerge(i),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return Ot;var s=this._private.container.ownerDocument;return void 0===s||null==s?Ot:s.defaultView||Ot},mount:function(i){if(null!=i){var s=this,l=s._private,f=l.options;return!so(i)&&so(i[0])&&(i=i[0]),s.stopAnimationLoop(),s.destroyRenderer(),l.container=i,l.styleEnabled=!0,s.invalidateSize(),s.initRenderer(Nt({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),s.startAnimationLoop(),s.style(f.style),s.emit("mount"),s}},unmount:function(){var i=this;return i.stopAnimationLoop(),i.destroyRenderer(),i.initRenderer({name:"null"}),i.emit("unmount"),i},options:function(){return Gr(this._private.options)},json:function(i){var s=this,l=s._private,f=s.mutableElements();if(Mt(i)){if(s.startBatch(),i.elements){var p={},m=function(V,q){for(var K=[],$=[],W=0;W<V.length;W++){var U=V[W];if(U.data.id){var Y=""+U.data.id,X=s.getElementById(Y);p[Y]=!0,0!==X.length?$.push({ele:X,json:U}):(q&&(U.group=q),K.push(U))}else Kt("cy.json() cannot handle elements without an ID attribute")}s.add(K);for(var G=0;G<$.length;G++){var te=$[G];te.ele.json(te.json)}};if(Mn(i.elements))m(i.elements);else for(var b=["nodes","edges"],w=0;w<b.length;w++){var D=b[w],E=i.elements[D];Mn(E)&&m(E,D)}var S=s.collection();f.filter(function(O){return!p[O.id()]}).forEach(function(O){O.isParent()?S.merge(O):O.remove()}),S.forEach(function(O){return O.children().move({parent:null})}),S.forEach(function(O){return(V=O,s.getElementById(V.id())).remove();var V})}i.style&&s.style(i.style),null!=i.zoom&&i.zoom!==l.zoom&&s.zoom(i.zoom),i.pan&&(i.pan.x!==l.pan.x||i.pan.y!==l.pan.y)&&s.pan(i.pan),i.data&&s.data(i.data);for(var M=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],x=0;x<M.length;x++){var R=M[x];null!=i[R]&&s[R](i[R])}return s.endBatch(),this}var P={};i?P.elements=this.elements().map(function(O){return O.json()}):(P.elements={},f.forEach(function(O){var V=O.group();P.elements[V]||(P.elements[V]=[]),P.elements[V].push(O.json())})),this._private.styleEnabled&&(P.style=s.style().json()),P.data=Gr(s.data());var k=l.options;return P.zoomingEnabled=l.zoomingEnabled,P.userZoomingEnabled=l.userZoomingEnabled,P.zoom=l.zoom,P.minZoom=l.minZoom,P.maxZoom=l.maxZoom,P.panningEnabled=l.panningEnabled,P.userPanningEnabled=l.userPanningEnabled,P.pan=Gr(l.pan),P.boxSelectionEnabled=l.boxSelectionEnabled,P.renderer=Gr(k.renderer),P.hideEdgesOnViewport=k.hideEdgesOnViewport,P.textureOnViewport=k.textureOnViewport,P.wheelSensitivity=k.wheelSensitivity,P.motionBlur=k.motionBlur,P.multiClickDebounceTime=k.multiClickDebounceTime,P}}),Es.$id=Es.getElementById,[wp,Be,oc,Vr,uu,nl,lu,Do,Dd,pi,cu].forEach(function(a){Nt(Es,a)});var _s={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}},eh={maximal:!1,acyclic:!1},Ss=function(i){return i.scratch("breadthfirst")},th=function(i,s){return i.scratch("breadthfirst",s)};function Cd(a){this.options=Nt({},_s,eh,a)}Cd.prototype.run=function(){var w,a=this.options,i=a,s=a.cy,l=i.eles,f=l.nodes().filter(function(Re){return!Re.isParent()}),h=l,p=i.directed,m=i.acyclic||i.maximal||i.maximalAdjustments>0,b=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(Cr(i.roots))w=i.roots;else if(Mn(i.roots)){for(var D=[],E=0;E<i.roots.length;E++){var M=s.getElementById(i.roots[E]);D.push(M)}w=s.collection(D)}else if(Je(i.roots))w=s.$(i.roots);else if(p)w=f.roots();else{var x=l.components();w=s.collection();for(var R=function(nt){var gt=x[nt],ot=gt.maxDegree(!1),Et=gt.filter(function(_t){return _t.degree(!1)===ot});w=w.add(Et)},A=0;A<x.length;A++)R(A)}var P=[],k={},O=function(nt,gt){null==P[gt]&&(P[gt]=[]);var ot=P[gt].length;P[gt].push(nt),th(nt,{index:ot,depth:gt})};h.bfs({roots:w,directed:i.directed,visit:function(nt,gt,ot,Et,_t){var yn=nt[0],ln=yn.id();O(yn,_t),k[ln]=!0}});for(var q=[],K=0;K<f.length;K++){var $=f[K];k[$.id()]||q.push($)}var W=function(nt){for(var gt=P[nt],ot=0;ot<gt.length;ot++){var Et=gt[ot];null!=Et?th(Et,{depth:nt,index:ot}):(gt.splice(ot,1),ot--)}},U=function(){for(var nt=0;nt<P.length;nt++)W(nt)},Y=function(nt,gt){for(var ot=Ss(nt),Et=nt.incomers().filter(function(z){return z.isNode()&&l.has(z)}),_t=-1,yn=nt.id(),ln=0;ln<Et.length;ln++){var cn=Ss(Et[ln]);_t=Math.max(_t,cn.depth)}if(ot.depth<=_t){if(!i.acyclic&&gt[yn])return null;var ve=_t+1;return function(nt,gt){var ot=Ss(nt);P[ot.depth][ot.index]=null,O(nt,gt)}(nt,ve),gt[yn]=ve,!0}return!1};if(p&&m){var X=[],G={},te=function(nt){return X.push(nt)};for(f.forEach(function(Re){return X.push(Re)});X.length>0;){var se=X.shift(),ne=Y(se,G);if(ne)se.outgoers().filter(function(Re){return Re.isNode()&&l.has(Re)}).forEach(te);else if(null===ne){Kt("Detected double maximal shift for node `"+se.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}U();var ee=0;if(i.avoidOverlap)for(var fe=0;fe<f.length;fe++){var xe=f[fe].layoutDimensions(i);ee=Math.max(ee,xe.w,xe.h)}var Pe={},Ve=function(nt){if(Pe[nt.id()])return Pe[nt.id()];for(var gt=Ss(nt).depth,ot=nt.neighborhood(),Et=0,_t=0,yn=0;yn<ot.length;yn++){var ln=ot[yn];if(!ln.isEdge()&&!ln.isParent()&&f.has(ln)){var $t=Ss(ln);if(null!=$t){var cn=$t.index,ve=$t.depth;null!=cn&&null!=ve&&ve<gt&&(Et+=cn/P[ve].length,_t++)}}}return Et/=_t=Math.max(1,_t),0===_t&&(Et=0),Pe[nt.id()]=Et,Et},Oe=function(nt,gt){var _t=Ve(nt)-Ve(gt);return 0===_t?qs(nt.id(),gt.id()):_t};void 0!==i.depthSort&&(Oe=i.depthSort);for(var Fe=0;Fe<P.length;Fe++)P[Fe].sort(Oe),W(Fe);for(var he=[],ze=0;ze<q.length;ze++)he.push(q[ze]);P.unshift(he),U();for(var Ge=0,Le=0;Le<P.length;Le++)Ge=Math.max(P[Le].length,Ge);var Xe_x=b.x1+b.w/2,Xe_y=b.x1+b.h/2,It=P.reduce(function(Re,nt){return Math.max(Re,nt.length)},0);return l.nodes().layoutPositions(this,i,function(nt){var gt=Ss(nt),ot=gt.depth,Et=gt.index,_t=P[ot].length,yn=Math.max(b.w/((i.grid?It:_t)+1),ee),ln=Math.max(b.h/(P.length+1),ee),$t=Math.min(b.w/2/P.length,b.h/2/P.length);if($t=Math.max($t,ee),i.circle){var ve=$t*ot+$t-(P.length>0&&P[0].length<=3?$t/2:0),z=2*Math.PI/P[ot].length*Et;return 0===ot&&1===P[0].length&&(ve=1),{x:Xe_x+ve*Math.cos(z),y:Xe_y+ve*Math.sin(z)}}return{x:Xe_x+(Et+1-(_t+1)/2)*yn,y:(ot+1)*ln}}),this};var xs={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function il(a){this.options=Nt({},xs,a)}il.prototype.run=function(){var a=this.options,i=a,s=a.cy,l=i.eles,f=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,h=l.nodes().not(":parent");i.sort&&(h=h.sort(i.sort));for(var D,p=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),m={x:p.x1+p.w/2,y:p.y1+p.h/2},w=(void 0===i.sweep?2*Math.PI-2*Math.PI/h.length:i.sweep)/Math.max(1,h.length-1),E=0,S=0;S<h.length;S++){var x=h[S].layoutDimensions(i);E=Math.max(E,x.w,x.h)}if(D=at(i.radius)?i.radius:h.length<=1?0:Math.min(p.h,p.w)/2-E,h.length>1&&i.avoidOverlap){E*=1.75;var P=Math.cos(w)-Math.cos(0),k=Math.sin(w)-Math.sin(0),O=Math.sqrt(E*E/(P*P+k*k));D=Math.max(O,D)}return l.nodes().layoutPositions(this,i,function(K,$){var W=i.startAngle+$*w*(f?1:-1),U=D*Math.cos(W),Y=D*Math.sin(W);return{x:m.x+U,y:m.y+Y}}),this};var hv={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(i){return i.degree()},levelWidth:function(i){return i.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function gi(a){this.options=Nt({},hv,a)}gi.prototype.run=function(){for(var a=this.options,i=a,s=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,l=a.cy,f=i.eles,h=f.nodes().not(":parent"),p=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),m={x:p.x1+p.w/2,y:p.y1+p.h/2},b=[],w=0,D=0;D<h.length;D++){var S,E=h[D];S=i.concentric(E),b.push({value:S,node:E}),E._private.scratch.concentric=S}h.updateStyle();for(var M=0;M<h.length;M++){var R=h[M].layoutDimensions(i);w=Math.max(w,R.w,R.h)}b.sort(function(Re,nt){return nt.value-Re.value});for(var A=i.levelWidth(h),P=[[]],k=P[0],O=0;O<b.length;O++){var V=b[O];k.length>0&&Math.abs(k[0].value-V.value)>=A&&P.push(k=[]),k.push(V)}var K=w+i.minNodeSpacing;if(!i.avoidOverlap){var $=P.length>0&&P[0].length>1,W=Math.min(p.w,p.h)/2-K;K=Math.min(K,W/(P.length+$?1:0))}for(var Y=0,X=0;X<P.length;X++){var G=P[X],te=void 0===i.sweep?2*Math.PI-2*Math.PI/G.length:i.sweep,Z=G.dTheta=te/Math.max(1,G.length-1);if(G.length>1&&i.avoidOverlap){var se=Math.cos(Z)-Math.cos(0),ne=Math.sin(Z)-Math.sin(0),ee=Math.sqrt(K*K/(se*se+ne*ne));Y=Math.max(ee,Y)}G.r=Y,Y+=K}if(i.equidistant){for(var fe=0,ge=0,xe=0;xe<P.length;xe++)fe=Math.max(fe,P[xe].r-ge);ge=0;for(var Pe=0;Pe<P.length;Pe++){var Ve=P[Pe];0===Pe&&(ge=Ve.r),Ve.r=ge,ge+=fe}}for(var Oe={},Fe=0;Fe<P.length;Fe++)for(var he=P[Fe],ze=he.dTheta,Ge=he.r,Le=0;Le<he.length;Le++){var Xe=he[Le],It=i.startAngle+(s?1:-1)*ze*Le,Ft={x:m.x+Ge*Math.cos(It),y:m.y+Ge*Math.sin(It)};Oe[Xe.node.id()]=Ft}return f.nodes().layoutPositions(this,i,function(Re){var nt=Re.id();return Oe[nt]}),this};var Sa,ur={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(i,s){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(i){return 2048},nodeOverlap:4,idealEdgeLength:function(i){return 32},edgeElasticity:function(i){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function sc(a){this.options=Nt({},ur,a),this.options.layout=this;var i=this.options.eles.nodes(),l=this.options.eles.edges().filter(function(f){var h=f.source().data("id"),p=f.target().data("id"),m=i.some(function(w){return w.data("id")===h}),b=i.some(function(w){return w.data("id")===p});return!m||!b});this.options.eles=this.options.eles.not(l)}sc.prototype.run=function(){var a=this.options,i=a.cy,s=this;s.stopped=!1,(!0===a.animate||!1===a.animate)&&s.emit({type:"layoutstart",layout:s}),Sa=!0===a.debug;var l=Ed(i,s,a);Sa&&(void 0)(l),a.randomize&&rh(l);var f=Ba(),h=function(){Ja(l,i,a),!0===a.fit&&i.fit(a.padding)},p=function(S){return!(s.stopped||S>=a.numIter||(ih(l,a),l.temperature=l.temperature*a.coolingFactor,l.temperature<a.minTemp))},m=function(){if(!0===a.animate||!1===a.animate)h(),s.one("layoutstop",a.stop),s.emit({type:"layoutstop",layout:s});else{var S=a.eles.nodes(),M=Ms(l,a,S);S.layoutPositions(s,a,M)}},b=0,w=!0;if(!0===a.animate)!function E(){for(var S=0;w&&S<a.refresh;)w=p(b),b++,S++;w?(Ba()-f>=a.animationThreshold&&h(),zc(E)):(ul(l,a),m())}();else{for(;w;)w=p(b),b++;ul(l,a),m()}return this},sc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},sc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ed=function(i,s,l){for(var f=l.eles.edges(),h=l.eles.nodes(),p=fo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),m={isCompound:i.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:h.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:l.initialTemp,clientWidth:p.w,clientHeight:p.h,boundingBox:p},b=l.eles.components(),w={},D=0;D<b.length;D++)for(var E=b[D],S=0;S<E.length;S++)w[E[S].id()]=D;for(D=0;D<m.nodeSize;D++){var R=(x=h[D]).layoutDimensions(l);(A={}).isLocked=x.locked(),A.id=x.data("id"),A.parentId=x.data("parent"),A.cmptId=w[x.id()],A.children=[],A.positionX=x.position("x"),A.positionY=x.position("y"),A.offsetX=0,A.offsetY=0,A.height=R.w,A.width=R.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(x.style("padding")),A.padRight=parseFloat(x.style("padding")),A.padTop=parseFloat(x.style("padding")),A.padBottom=parseFloat(x.style("padding")),A.nodeRepulsion=Ln(l.nodeRepulsion)?l.nodeRepulsion(x):l.nodeRepulsion,m.layoutNodes.push(A),m.idToIndex[A.id]=D}var P=[],k=0,O=-1,V=[];for(D=0;D<m.nodeSize;D++){var x,q=(x=m.layoutNodes[D]).parentId;null!=q?m.layoutNodes[m.idToIndex[q]].children.push(x.id):(P[++O]=x.id,V.push(x.id))}for(m.graphSet.push(V);k<=O;){var K=P[k++],W=m.layoutNodes[m.idToIndex[K]].children;if(W.length>0)for(m.graphSet.push(W),D=0;D<W.length;D++)P[++O]=W[D]}for(D=0;D<m.graphSet.length;D++){var U=m.graphSet[D];for(S=0;S<U.length;S++)m.indexToGraph[m.idToIndex[U[S]]]=D}for(D=0;D<m.edgeSize;D++){var X=f[D],G={};G.id=X.data("id"),G.sourceId=X.data("source"),G.targetId=X.data("target");var te=Ln(l.idealEdgeLength)?l.idealEdgeLength(X):l.idealEdgeLength,Z=Ln(l.edgeElasticity)?l.edgeElasticity(X):l.edgeElasticity,se=m.idToIndex[G.sourceId],ne=m.idToIndex[G.targetId];if(m.indexToGraph[se]!=m.indexToGraph[ne]){for(var ge=nh(G.sourceId,G.targetId,m),xe=m.graphSet[ge],de=0,A=m.layoutNodes[se];-1===xe.indexOf(A.id);)A=m.layoutNodes[m.idToIndex[A.parentId]],de++;for(A=m.layoutNodes[ne];-1===xe.indexOf(A.id);)A=m.layoutNodes[m.idToIndex[A.parentId]],de++;te*=de*l.nestingFactor}G.idealLength=te,G.elasticity=Z,m.layoutEdges.push(G)}return m},nh=function(i,s,l){var f=_d(i,s,0,l);return 2>f.count?0:f.graph},_d=function a(i,s,l,f){var h=f.graphSet[l];if(-1<h.indexOf(i)&&-1<h.indexOf(s))return{count:2,graph:l};for(var p=0,m=0;m<h.length;m++){var D=f.layoutNodes[f.idToIndex[h[m]]].children;if(0!==D.length){var S=a(i,s,f.indexToGraph[f.idToIndex[D[0]]],f);if(0!==S.count){if(1!==S.count)return S;if(2==++p)break}}}return{count:p,graph:l}},rh=function(i,s){for(var l=i.clientWidth,f=i.clientHeight,h=0;h<i.nodeSize;h++){var p=i.layoutNodes[h];0===p.children.length&&!p.isLocked&&(p.positionX=Math.random()*l,p.positionY=Math.random()*f)}},Ms=function(i,s,l){var f=i.boundingBox,h={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return s.boundingBox&&(l.forEach(function(p){var m=i.layoutNodes[i.idToIndex[p.data("id")]];h.x1=Math.min(h.x1,m.positionX),h.x2=Math.max(h.x2,m.positionX),h.y1=Math.min(h.y1,m.positionY),h.y2=Math.max(h.y2,m.positionY)}),h.w=h.x2-h.x1,h.h=h.y2-h.y1),function(p,m){var b=i.layoutNodes[i.idToIndex[p.data("id")]];return s.boundingBox?{x:f.x1+(b.positionX-h.x1)/h.w*f.w,y:f.y1+(b.positionY-h.y1)/h.h*f.h}:{x:b.positionX,y:b.positionY}}},Ja=function(i,s,l){var f=l.layout,h=l.eles.nodes(),p=Ms(i,l,h);h.positions(p),!0!==i.ready&&(i.ready=!0,f.one("layoutready",l.ready),f.emit({type:"layoutready",layout:this}))},ih=function(i,s,l){Sd(i,s),Ep(i),_p(i,s),sl(i),uc(i)},Sd=function(i,s){for(var l=0;l<i.graphSet.length;l++)for(var f=i.graphSet[l],h=f.length,p=0;p<h;p++)for(var m=i.layoutNodes[i.idToIndex[f[p]]],b=p+1;b<h;b++)ko(m,i.layoutNodes[i.idToIndex[f[b]]],i,s)},ol=function(i){return-i+2*i*Math.random()},ko=function(i,s,l,f){if(i.cmptId===s.cmptId||l.isCompound){var m=s.positionX-i.positionX,b=s.positionY-i.positionY;0===m&&0===b&&(m=ol(1),b=ol(1));var D=xd(i,s,m,b);if(D>0)var M=(E=f.nodeOverlap*D)*m/(S=Math.sqrt(m*m+b*b)),x=E*b/S;else{var E,R=al(i,m,b),A=al(s,-1*m,-1*b),P=A.x-R.x,k=A.y-R.y,O=P*P+k*k,S=Math.sqrt(O);M=(E=(i.nodeRepulsion+s.nodeRepulsion)/O)*P/S,x=E*k/S}i.isLocked||(i.offsetX-=M,i.offsetY-=x),s.isLocked||(s.offsetX+=M,s.offsetY+=x)}},xd=function(i,s,l,f){if(l>0)var h=i.maxX-s.minX;else h=s.maxX-i.minX;if(f>0)var p=i.maxY-s.minY;else p=s.maxY-i.minY;return h>=0&&p>=0?Math.sqrt(h*h+p*p):0},al=function(i,s,l){var f=i.positionX,h=i.positionY,p=i.height||1,m=i.width||1,b=l/s,w=p/m,D={};return 0===s&&0<l||0===s&&0>l?(D.x=f,D.y=h+p/2,D):0<s&&-1*w<=b&&b<=w?(D.x=f+m/2,D.y=h+m*l/2/s,D):0>s&&-1*w<=b&&b<=w?(D.x=f-m/2,D.y=h-m*l/2/s,D):0<l&&(b<=-1*w||b>=w)?(D.x=f+p*s/2/l,D.y=h+p/2,D):(0>l&&(b<=-1*w||b>=w)&&(D.x=f-p*s/2/l,D.y=h-p/2),D)},Ep=function(i,s){for(var l=0;l<i.edgeSize;l++){var f=i.layoutEdges[l],p=i.layoutNodes[i.idToIndex[f.sourceId]],b=i.layoutNodes[i.idToIndex[f.targetId]],w=b.positionX-p.positionX,D=b.positionY-p.positionY;if(0!==w||0!==D){var E=al(p,w,D),S=al(b,-1*w,-1*D),M=S.x-E.x,x=S.y-E.y,R=Math.sqrt(M*M+x*x),A=Math.pow(f.idealLength-R,2)/f.elasticity;if(0!==R)var P=A*M/R,k=A*x/R;else P=0,k=0;p.isLocked||(p.offsetX+=P,p.offsetY+=k),b.isLocked||(b.offsetX-=P,b.offsetY-=k)}}},_p=function(i,s){if(0!==s.gravity)for(var f=0;f<i.graphSet.length;f++){var h=i.graphSet[f],p=h.length;if(0===f)var m=i.clientHeight/2,b=i.clientWidth/2;else{var D=i.layoutNodes[i.idToIndex[i.layoutNodes[i.idToIndex[h[0]]].parentId]];m=D.positionX,b=D.positionY}for(var E=0;E<p;E++){var S=i.layoutNodes[i.idToIndex[h[E]]];if(!S.isLocked){var M=m-S.positionX,x=b-S.positionY,R=Math.sqrt(M*M+x*x);if(R>1){var P=s.gravity*x/R;S.offsetX+=s.gravity*M/R,S.offsetY+=P}}}}},sl=function(i,s){var l=[],f=0,h=-1;for(l.push.apply(l,i.graphSet[0]),h+=i.graphSet[0].length;f<=h;){var p=l[f++],b=i.layoutNodes[i.idToIndex[p]],w=b.children;if(0<w.length&&!b.isLocked){for(var D=b.offsetX,E=b.offsetY,S=0;S<w.length;S++){var M=i.layoutNodes[i.idToIndex[w[S]]];M.offsetX+=D,M.offsetY+=E,l[++h]=w[S]}b.offsetX=0,b.offsetY=0}}},uc=function(i,s){for(var l=0;l<i.nodeSize;l++)0<(f=i.layoutNodes[l]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(l=0;l<i.nodeSize;l++)if(!(0<(f=i.layoutNodes[l]).children.length||f.isLocked)){var h=es(f.offsetX,f.offsetY,i.temperature);f.positionX+=h.x,f.positionY+=h.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,Sp(f,i)}for(l=0;l<i.nodeSize;l++){var f;0<(f=i.layoutNodes[l]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},es=function(i,s,l){var f=Math.sqrt(i*i+s*s);if(f>l)var h={x:l*i/f,y:l*s/f};else h={x:i,y:s};return h},Sp=function a(i,s){var l=i.parentId;if(null!=l){var f=s.layoutNodes[s.idToIndex[l]],h=!1;if((null==f.maxX||i.maxX+f.padRight>f.maxX)&&(f.maxX=i.maxX+f.padRight,h=!0),(null==f.minX||i.minX-f.padLeft<f.minX)&&(f.minX=i.minX-f.padLeft,h=!0),(null==f.maxY||i.maxY+f.padBottom>f.maxY)&&(f.maxY=i.maxY+f.padBottom,h=!0),(null==f.minY||i.minY-f.padTop<f.minY)&&(f.minY=i.minY-f.padTop,h=!0),h)return a(f,s)}},ul=function(i,s){for(var l=i.layoutNodes,f=[],h=0;h<l.length;h++){var p=l[h],m=p.cmptId;(f[m]=f[m]||[]).push(p)}var w=0;for(h=0;h<f.length;h++)if(D=f[h]){D.x1=1/0,D.x2=-1/0,D.y1=1/0,D.y2=-1/0;for(var E=0;E<D.length;E++){var S=D[E];D.x1=Math.min(D.x1,S.positionX-S.width/2),D.x2=Math.max(D.x2,S.positionX+S.width/2),D.y1=Math.min(D.y1,S.positionY-S.height/2),D.y2=Math.max(D.y2,S.positionY+S.height/2)}D.w=D.x2-D.x1,D.h=D.y2-D.y1,w+=D.w*D.h}f.sort(function(k,O){return O.w*O.h-k.w*k.h});var M=0,x=0,R=0,A=0,P=Math.sqrt(w)*i.clientWidth/i.clientHeight;for(h=0;h<f.length;h++){var D;if(D=f[h]){for(E=0;E<D.length;E++)(S=D[E]).isLocked||(S.positionX+=M-D.x1,S.positionY+=x-D.y1);M+=D.w+s.componentSpacing,R+=D.w+s.componentSpacing,A=Math.max(A,D.h),R>P&&(x+=A+s.componentSpacing,M=0,R=0,A=0)}}},xp={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(i){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function lc(a){this.options=Nt({},xp,a)}lc.prototype.run=function(){var a=this.options,i=a,s=a.cy,l=i.eles,f=l.nodes().not(":parent");i.sort&&(f=f.sort(i.sort));var h=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(0===h.h||0===h.w)l.nodes().layoutPositions(this,i,function(Pe){return{x:h.x1,y:h.y1}});else{var p=f.size(),m=Math.sqrt(p*h.h/h.w),b=Math.round(m),w=Math.round(h.w/h.h*m),D=function(Ve){if(null==Ve)return Math.min(b,w);Math.min(b,w)==b?b=Ve:w=Ve},E=function(Ve){if(null==Ve)return Math.max(b,w);Math.max(b,w)==b?b=Ve:w=Ve},S=i.rows,M=null!=i.cols?i.cols:i.columns;if(null!=S&&null!=M)b=S,w=M;else if(null!=S&&null==M)b=S,w=Math.ceil(p/b);else if(null==S&&null!=M)w=M,b=Math.ceil(p/w);else if(w*b>p){var x=D(),R=E();(x-1)*R>=p?D(x-1):(R-1)*x>=p&&E(R-1)}else for(;w*b<p;){var A=D(),P=E();(P+1)*A>=p?E(P+1):D(A+1)}var k=h.w/w,O=h.h/b;if(i.condense&&(k=0,O=0),i.avoidOverlap)for(var V=0;V<f.length;V++){var q=f[V],K=q._private.position;(null==K.x||null==K.y)&&(K.x=0,K.y=0);var $=q.layoutDimensions(i),W=i.avoidOverlapPadding,Y=$.h+W;k=Math.max(k,$.w+W),O=Math.max(O,Y)}for(var X={},G=function(Ve,Oe){return!!X["c-"+Ve+"-"+Oe]},te=function(Ve,Oe){X["c-"+Ve+"-"+Oe]=!0},Z=0,se=0,ne=function(){++se>=w&&(se=0,Z++)},ee={},fe=0;fe<f.length;fe++){var ge=f[fe],xe=i.position(ge);if(xe&&(void 0!==xe.row||void 0!==xe.col)){var de={row:xe.row,col:xe.col};if(void 0===de.col)for(de.col=0;G(de.row,de.col);)de.col++;else if(void 0===de.row)for(de.row=0;G(de.row,de.col);)de.row++;ee[ge.id()]=de,te(de.row,de.col)}}f.layoutPositions(this,i,function(Ve,Oe){var Fe,he;if(Ve.locked()||Ve.isParent())return!1;var ze=ee[Ve.id()];if(ze)Fe=ze.col*k+k/2+h.x1,he=ze.row*O+O/2+h.y1;else{for(;G(Z,se);)ne();Fe=se*k+k/2+h.x1,he=Z*O+O/2+h.y1,te(Z,se),ne()}return{x:Fe,y:he}})}return this};var ll={ready:function(){},stop:function(){}};function Vt(a){this.options=Nt({},ll,a)}Vt.prototype.run=function(){var a=this.options,i=a.eles,s=this;return s.emit("layoutstart"),i.nodes().positions(function(){return{x:0,y:0}}),s.one("layoutready",a.ready),s.emit("layoutready"),s.one("layoutstop",a.stop),s.emit("layoutstop"),this},Vt.prototype.stop=function(){return this};var oh={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function cl(a){this.options=Nt({},oh,a)}cl.prototype.run=function(){var a=this.options,s=a.eles.nodes(),l=Ln(a.positions);return s.layoutPositions(this,a,function(h,p){var m=function f(h){return null==a.positions?function(i){return{x:i.x,y:i.y}}(h.position()):l?a.positions(h):a.positions[h._private.data.id]??null}(h);return!h.locked()&&null!=m&&m}),this};var Xo={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function Mp(a){this.options=Nt({},Xo,a)}Mp.prototype.run=function(){var a=this.options,i=a.cy,s=a.eles,l=fo(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});return s.nodes().layoutPositions(this,a,function(p,m){return{x:l.x1+Math.round(Math.random()*l.w),y:l.y1+Math.round(Math.random()*l.h)}}),this};var du=[{name:"breadthfirst",impl:Cd},{name:"circle",impl:il},{name:"concentric",impl:gi},{name:"cose",impl:sc},{name:"grid",impl:lc},{name:"null",impl:Vt},{name:"preset",impl:cl},{name:"random",impl:Mp}];function cc(a){this.options=a,this.notifications=0}var Hr=function(){},pv=function(){throw new Error("A headless instance can not render images")};cc.prototype={recalculateRenderedStyle:Hr,notify:function(){this.notifications++},init:Hr,isHeadless:function(){return!0},png:pv,jpg:pv};var Md={arrowShapeWidth:.3,registerArrowShapes:function(){var a=this.arrowShapes={},i=this,s=function(w,D,E,S,M,x,R){return M.x-E/2-R<=w&&w<=M.x+E/2+R&&M.y-E/2-R<=D&&D<=M.y+E/2+R},l=function(w,D,E,S,M){var x=w*Math.cos(S)-D*Math.sin(S),R=w*Math.sin(S)+D*Math.cos(S);return{x:x*E+M.x,y:R*E+M.y}},f=function(w,D,E,S){for(var M=[],x=0;x<w.length;x+=2)M.push(l(w[x],w[x+1],D,E,S));return M},h=function(w){for(var D=[],E=0;E<w.length;E++){var S=w[E];D.push(S.x,S.y)}return D},p=function(w){return w.pstyle("width").pfValue*w.pstyle("arrow-scale").pfValue*2},m=function(w,D){Je(D)&&(D=a[D]),a[w]=Nt({name:w,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(S,M,x,R,A,P){var k=h(f(this.points,x+2*P,R,A));return ni(S,M,k)},roughCollide:s,draw:function(S,M,x,R){var A=f(this.points,M,x,R);i.arrowShapeImpl("polygon")(S,A)},spacing:function(S){return 0},gap:p},D)};m("none",{collide:Il,roughCollide:Il,draw:wf,spacing:Zh,gap:Zh}),m("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),m("arrow","triangle"),m("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:s,draw:function(w,D,E,S,M){var x=f(this.points,D,E,S),R=this.controlPoint,A=l(R[0],R[1],D,E,S);i.arrowShapeImpl(this.name)(w,x,A)},gap:function(w){return.8*p(w)}}),m("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(w,D,E,S,M,x,R){var A=h(f(this.points,E+2*R,S,M)),P=h(f(this.pointsTee,E+2*R,S,M));return ni(w,D,A)||ni(w,D,P)},draw:function(w,D,E,S,M){var x=f(this.points,D,E,S),R=f(this.pointsTee,D,E,S);i.arrowShapeImpl(this.name)(w,x,R)}}),m("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(w,D,E,S,M,x,R){var A=M,P=Math.pow(A.x-w,2)+Math.pow(A.y-D,2)<=Math.pow((E+2*R)*this.radius,2),k=h(f(this.points,E+2*R,S,M));return ni(w,D,k)||P},draw:function(w,D,E,S,M){var x=f(this.pointsTr,D,E,S);i.arrowShapeImpl(this.name)(w,x,S.x,S.y,this.radius*D)},spacing:function(w){return i.getArrowWidth(w.pstyle("width").pfValue,w.pstyle("arrow-scale").value)*this.radius}}),m("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(w,D){var E=this.baseCrossLinePts.slice(),S=D/w;return E[3]=E[3]-S,E[5]=E[5]-S,E},collide:function(w,D,E,S,M,x,R){var A=h(f(this.points,E+2*R,S,M)),P=h(f(this.crossLinePts(E,x),E+2*R,S,M));return ni(w,D,A)||ni(w,D,P)},draw:function(w,D,E,S,M){var x=f(this.points,D,E,S),R=f(this.crossLinePts(D,M),D,E,S);i.arrowShapeImpl(this.name)(w,x,R)}}),m("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(w){return.525*p(w)}}),m("circle",{radius:.15,collide:function(w,D,E,S,M,x,R){var A=M;return Math.pow(A.x-w,2)+Math.pow(A.y-D,2)<=Math.pow((E+2*R)*this.radius,2)},draw:function(w,D,E,S,M){i.arrowShapeImpl(this.name)(w,S.x,S.y,this.radius*D)},spacing:function(w){return i.getArrowWidth(w.pstyle("width").pfValue,w.pstyle("arrow-scale").value)*this.radius}}),m("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(w){return 1},gap:function(w){return 1}}),m("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),m("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(w){return w.pstyle("width").pfValue*w.pstyle("arrow-scale").value}}),m("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(w){return.95*w.pstyle("width").pfValue*w.pstyle("arrow-scale").value}})}},ts={projectIntoViewport:function(a,i){var s=this.cy,l=this.findContainerClientCoords(),f=l[0],h=l[1],p=l[4],m=s.pan(),b=s.zoom();return[((a-f)/p-m.x)/b,((i-h)/p-m.y)/b]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var a=this.container,i=a.getBoundingClientRect(),s=this.cy.window().getComputedStyle(a),l=function(P){return parseFloat(s.getPropertyValue(P))},f_left=l("padding-left"),f_right=l("padding-right"),f_top=l("padding-top"),f_bottom=l("padding-bottom"),h_left=l("border-left-width"),h_right=l("border-right-width"),h_top=l("border-top-width"),p=(l("border-bottom-width"),a.clientWidth);return this.containerBB=[i.left+f_left+h_left,i.top+f_top+h_top,p-(f_left+f_right),a.clientHeight-(f_top+f_bottom),i.width/(p+(h_left+h_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(a,i,s,l){return this.findNearestElements(a,i,s,l)[0]},findNearestElements:function(a,i,s,l){var x,R,f=this,h=this,p=h.getCachedZSortedEles(),m=[],b=h.cy.zoom(),w=h.cy.hasCompoundNodes(),D=(l?24:8)/b,E=(l?8:2)/b,S=(l?8:2)/b,M=1/0;function A($,W){if($.isNode()){if(R)return;R=$,m.push($)}if($.isEdge()&&(null==W||W<M))if(x){if(x.pstyle("z-compound-depth").value===$.pstyle("z-compound-depth").value&&x.pstyle("z-compound-depth").value===$.pstyle("z-compound-depth").value)for(var U=0;U<m.length;U++)if(m[U].isEdge()){m[U]=$,x=$,M=W??M;break}}else m.push($),x=$,M=W??M}function P($){var W=$.outerWidth()+2*E,U=$.outerHeight()+2*E,Y=W/2,X=U/2,G=$.position();if(G.x-Y<=a&&a<=G.x+Y&&G.y-X<=i&&i<=G.y+X&&h.nodeShapes[f.getNodeShape($)].checkPoint(a,i,0,W,U,G.x,G.y))return A($,0),!0}function k($){var se,W=$._private,U=W.rscratch,Y=$.pstyle("width").pfValue,X=$.pstyle("arrow-scale").value,G=Y/2+D,te=G*G,Z=2*G,fe=W.source,ge=W.target;if("segments"===U.edgeType||"straight"===U.edgeType||"haystack"===U.edgeType){for(var ne=U.allpts,ee=0;ee+3<ne.length;ee+=2)if(ho(a,i,ne[ee],ne[ee+1],ne[ee+2],ne[ee+3],Z)&&te>(se=Ol(a,i,ne[ee],ne[ee+1],ne[ee+2],ne[ee+3])))return A($,se),!0}else if("bezier"===U.edgeType||"multibezier"===U.edgeType||"self"===U.edgeType||"compound"===U.edgeType)for(ne=U.allpts,ee=0;ee+5<U.allpts.length;ee+=4)if(fs(a,i,ne[ee],ne[ee+1],ne[ee+2],ne[ee+3],ne[ee+4],ne[ee+5],Z)&&te>(se=Mo(a,i,ne[ee],ne[ee+1],ne[ee+2],ne[ee+3],ne[ee+4],ne[ee+5])))return A($,se),!0;fe=fe||W.source,ge=ge||W.target;var xe=f.getArrowWidth(Y,X),de=[{name:"source",x:U.arrowStartX,y:U.arrowStartY,angle:U.srcArrowAngle},{name:"target",x:U.arrowEndX,y:U.arrowEndY,angle:U.tgtArrowAngle},{name:"mid-source",x:U.midX,y:U.midY,angle:U.midsrcArrowAngle},{name:"mid-target",x:U.midX,y:U.midY,angle:U.midtgtArrowAngle}];for(ee=0;ee<de.length;ee++){var Ce=de[ee],Pe=h.arrowShapes[$.pstyle(Ce.name+"-arrow-shape").value],Ve=$.pstyle("width").pfValue;if(Pe.roughCollide(a,i,xe,Ce.angle,{x:Ce.x,y:Ce.y},Ve,D)&&Pe.collide(a,i,xe,Ce.angle,{x:Ce.x,y:Ce.y},Ve,D))return A($),!0}w&&m.length>0&&(P(fe),P(ge))}function O($,W,U){return lo($,W,U)}function V($,W){var X,U=$._private,Y=S;X=W?W+"-":"",$.boundingBox();var G=U.labelBounds[W||"main"],te=$.pstyle(X+"label").value;if("yes"===$.pstyle("text-events").strValue&&te){var se=O(U.rscratch,"labelX",W),ne=O(U.rscratch,"labelY",W),ee=O(U.rscratch,"labelAngle",W),fe=$.pstyle(X+"text-margin-x").pfValue,ge=$.pstyle(X+"text-margin-y").pfValue,xe=G.x1-Y-fe,de=G.x2+Y-fe,Ce=G.y1-Y-ge,Pe=G.y2+Y-ge;if(ee){var Ve=Math.cos(ee),Oe=Math.sin(ee),Fe=function(Ft,Re){return{x:(Ft-=se)*Ve-(Re-=ne)*Oe+se,y:Ft*Oe+Re*Ve+ne}},he=Fe(xe,Ce),ze=Fe(xe,Pe),Ge=Fe(de,Ce),Le=Fe(de,Pe);if(ni(a,i,[he.x+fe,he.y+ge,Ge.x+fe,Ge.y+ge,Le.x+fe,Le.y+ge,ze.x+fe,ze.y+ge]))return A($),!0}else if(kl(G,a,i))return A($),!0}}s&&(p=p.interactive);for(var q=p.length-1;q>=0;q--){var K=p[q];K.isNode()?P(K)||V(K):k(K)||V(K)||V(K,"source")||V(K,"target")}return m},getAllInBox:function(a,i,s,l){for(var f=this.getCachedZSortedEles().interactive,h=[],p=Math.min(a,s),m=Math.max(a,s),b=Math.min(i,l),w=Math.max(i,l),D=fo({x1:a=p,y1:i=b,x2:s=m,y2:l=w}),E=0;E<f.length;E++){var S=f[E];if(S.isNode()){var M=S,x=M.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});np(D,x)&&!Rt(x,D)&&h.push(M)}else{var R=S,A=R._private,P=A.rscratch;if(null!=P.startX&&null!=P.startY&&!kl(D,P.startX,P.startY)||null!=P.endX&&null!=P.endY&&!kl(D,P.endX,P.endY))continue;if("bezier"===P.edgeType||"multibezier"===P.edgeType||"self"===P.edgeType||"compound"===P.edgeType||"segments"===P.edgeType||"haystack"===P.edgeType){for(var k=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,O=!0,V=0;V<k.length;V++)if(!ev(D,k[V])){O=!1;break}O&&h.push(R)}else("haystack"===P.edgeType||"straight"===P.edgeType)&&h.push(R)}}return h}},Id={calculateArrowAngles:function(a){var b,w,D,E,S,M,i=a._private.rscratch,s="haystack"===i.edgeType,l="bezier"===i.edgeType,f="multibezier"===i.edgeType,h="segments"===i.edgeType,p="compound"===i.edgeType,m="self"===i.edgeType;s?(D=i.haystackPts[0],E=i.haystackPts[1],S=i.haystackPts[2],M=i.haystackPts[3]):(D=i.arrowStartX,E=i.arrowStartY,S=i.arrowEndX,M=i.arrowEndY),P=i.midX,k=i.midY,h?(b=D-i.segpts[0],w=E-i.segpts[1]):f||p||m||l?(b=D-ti((x=i.allpts)[0],x[2],x[4],.1),w=E-ti(x[1],x[3],x[5],.1)):(b=D-P,w=E-k),i.srcArrowAngle=Yc(b,w);var P=i.midX,k=i.midY;if(s&&(P=(D+S)/2,k=(E+M)/2),b=S-D,w=M-E,h)if((x=i.allpts).length/2%2==0)b=x[O=x.length/2]-x[V=O-2],w=x[O+1]-x[V+1];else{var O,V,q=2+(O=x.length/2-1);b=x[O]-x[V=O-2],w=x[O+1]-x[V+1]}else if(f||p||m){var $,W,U,Y,G,X,te,x=i.allpts;i.ctrlpts.length/2%2==0?($=ti(x[X=x.length/2-1],x[G=X+2],x[te=G+2],0),W=ti(x[X+1],x[G+1],x[te+1],0),U=ti(x[X],x[G],x[te],1e-4),Y=ti(x[X+1],x[G+1],x[te+1],1e-4)):($=ti(x[X=(G=x.length/2-1)-2],x[G],x[te=G+2],.4999),W=ti(x[X+1],x[G+1],x[te+1],.4999),U=ti(x[X],x[G],x[te],.5),Y=ti(x[X+1],x[G+1],x[te+1],.5)),b=U-$,w=Y-W}if(i.midtgtArrowAngle=Yc(b,w),i.midDispX=b,i.midDispY=w,b*=-1,w*=-1,h&&(x=i.allpts).length/2%2!=0&&(b=-(x[q=2+(O=x.length/2-1)]-x[O]),w=-(x[q+1]-x[O+1])),i.midsrcArrowAngle=Yc(b,w),h)b=S-i.segpts[i.segpts.length-2],w=M-i.segpts[i.segpts.length-1];else if(f||p||m||l){var Z=(x=i.allpts).length;b=S-ti(x[Z-6],x[Z-4],x[Z-2],.9),w=M-ti(x[Z-5],x[Z-3],x[Z-1],.9)}else b=S-P,w=M-k;i.tgtArrowAngle=Yc(b,w)}};Id.getArrowWidth=Id.getArrowHeight=function(a,i){var s=this.arrowWidthCache=this.arrowWidthCache||{},l=s[a+", "+i];return l||(l=Math.max(Math.pow(13.37*a,.9),29)*i,s[a+", "+i]=l,l)};var lr={};function Ip(a){var i=[];if(null!=a){for(var s=0;s<a.length;s+=2)i.push({x:a[s],y:a[s+1]});return i}}lr.findMidptPtsEtc=function(a,i){var h,U,Y,X,s=i.posPts,l=i.intersectionPts,f=i.vectorNormInverse,p=a.pstyle("source-endpoint"),m=a.pstyle("target-endpoint"),b=null!=p.units&&null!=m.units;switch(a.pstyle("edge-distances").value){case"node-position":h=s;break;case"intersection":h=l;break;case"endpoints":if(b){var S=fn(this.manualEndptToPx(a.source()[0],p),2),M=S[0],x=S[1],A=fn(this.manualEndptToPx(a.target()[0],m),2),P=A[0],k=A[1],O={x1:M,y1:x,x2:P,y2:k};Y=P-M,f={x:-(U=k-x)/(X=Math.sqrt(Y*Y+U*U)),y:Y/X},h=O}else Kt("Edge ".concat(a.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),h=l}return{midptPts:h,vectorNormInverse:f}},lr.findHaystackPoints=function(a){for(var i=0;i<a.length;i++){var s=a[i],l=s._private,f=l.rscratch;if(!f.haystack){var h=2*Math.random()*Math.PI;f.source={x:Math.cos(h),y:Math.sin(h)},h=2*Math.random()*Math.PI,f.target={x:Math.cos(h),y:Math.sin(h)}}var p=l.source,m=l.target,b=p.position(),w=m.position(),D=p.width(),E=m.width(),S=p.height(),M=m.height(),R=s.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*D*R+b.x,f.source.y*S*R+b.y,f.target.x*E*R+w.x,f.target.y*M*R+w.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(s),this.calculateArrowAngles(s),this.recalculateEdgeLabelProjections(s),this.calculateLabelAngles(s)}},lr.findSegmentsPoints=function(a,i){var s=a._private.rscratch,l=a.pstyle("segment-weights"),f=a.pstyle("segment-distances"),h=Math.min(l.pfValue.length,f.pfValue.length);s.edgeType="segments",s.segpts=[];for(var p=0;p<h;p++){var m=l.pfValue[p],b=f.pfValue[p],w=1-m,D=m,E=this.findMidptPtsEtc(a,i),S=E.midptPts,M=E.vectorNormInverse,x={x:S.x1*w+S.x2*D,y:S.y1*w+S.y2*D};s.segpts.push(x.x+M.x*b,x.y+M.y*b)}},lr.findLoopPoints=function(a,i,s,l){var f=a._private.rscratch,h=i.dirCounts,p=i.srcPos,m=a.pstyle("control-point-distances"),b=m?m.pfValue[0]:void 0,w=a.pstyle("loop-direction").pfValue,D=a.pstyle("loop-sweep").pfValue,E=a.pstyle("control-point-step-size").pfValue;f.edgeType="self";var S=s,M=E;l&&(S=0,M=b);var x=w-Math.PI/2,R=x-D/2,A=x+D/2,P=w+"_"+D;S=void 0===h[P]?h[P]=0:++h[P],f.ctrlpts=[p.x+1.4*Math.cos(R)*M*(S/3+1),p.y+1.4*Math.sin(R)*M*(S/3+1),p.x+1.4*Math.cos(A)*M*(S/3+1),p.y+1.4*Math.sin(A)*M*(S/3+1)]},lr.findCompoundLoopPoints=function(a,i,s,l){var f=a._private.rscratch;f.edgeType="compound";var h=i.srcPos,p=i.tgtPos,m=i.srcW,b=i.srcH,w=i.tgtW,D=i.tgtH,E=a.pstyle("control-point-step-size").pfValue,S=a.pstyle("control-point-distances"),x=s,R=E;l&&(x=0,R=S?S.pfValue[0]:void 0);var P={x:h.x-m/2,y:h.y-b/2},k={x:p.x-w/2,y:p.y-D/2},O={x:Math.min(P.x,k.x),y:Math.min(P.y,k.y)},q=Math.max(.5,Math.log(.01*m)),K=Math.max(.5,Math.log(.01*w));f.ctrlpts=[O.x,O.y-(1+Math.pow(50,1.12)/100)*R*(x/3+1)*q,O.x-(1+Math.pow(50,1.12)/100)*R*(x/3+1)*K,O.y]},lr.findStraightEdgePoints=function(a){a._private.rscratch.edgeType="straight"},lr.findBezierPoints=function(a,i,s,l,f){var h=a._private.rscratch,p=a.pstyle("control-point-step-size").pfValue,m=a.pstyle("control-point-distances"),b=a.pstyle("control-point-weights"),w=m&&b?Math.min(m.value.length,b.value.length):1,D=m?m.pfValue[0]:void 0,E=b.value[0],S=l;h.edgeType=S?"multibezier":"bezier",h.ctrlpts=[];for(var M=0;M<w;M++){var R,x=(.5-i.eles.length/2+s)*p*(f?-1:1),A=Ef(x);S&&(D=m?m.pfValue[M]:p,E=b.value[M]);var P=void 0!==(R=l?D:void 0!==D?A*D:void 0)?R:x,k=1-E,O=E,V=this.findMidptPtsEtc(a,i),q=V.midptPts,K=V.vectorNormInverse,$={x:q.x1*k+q.x2*O,y:q.y1*k+q.y2*O};h.ctrlpts.push($.x+K.x*P,$.y+K.y*P)}},lr.findTaxiPoints=function(a,i){var s=a._private.rscratch;s.edgeType="segments";var l="vertical",f="horizontal",h="leftward",p="rightward",m="downward",b="upward",D=i.posPts,E=i.srcW,S=i.srcH,M=i.tgtW,x=i.tgtH,A="node-position"!==a.pstyle("edge-distances").value,P=a.pstyle("taxi-direction").value,k=P,O=a.pstyle("taxi-turn"),V="%"===O.units,q=O.pfValue,K=q<0,$=a.pstyle("taxi-turn-min-distance").pfValue,U=A?(S+x)/2:0,Y=D.x2-D.x1,X=D.y2-D.y1,G=function(me,Ct){return me>0?Math.max(me-Ct,0):Math.min(me+Ct,0)},te=G(Y,A?(E+M)/2:0),Z=G(X,U),se=!1;"auto"===k?P=Math.abs(te)>Math.abs(Z)?f:l:k===b||k===m?(P=l,se=!0):(k===h||k===p)&&(P=f,se=!0);var de,ne=P===l,ee=ne?Z:te,fe=ne?X:Y,ge=Ef(fe),xe=!1;(!se||!V&&!K)&&(k===m&&fe<0||k===b&&fe>0||k===h&&fe>0||k===p&&fe<0)&&(ee=(ge*=-1)*Math.abs(ee),xe=!0);var Ve=function(me){return Math.abs(me)<$||Math.abs(me)>=Math.abs(ee)},Oe=Ve(de=V?(q<0?1+q:q)*ee:(q<0?ee:0)+q*ge),Fe=Ve(Math.abs(ee)-Math.abs(de));if(!Oe&&!Fe||xe)if(ne){var ve=D.y1+de+(A?S/2*ge:0);s.segpts=[D.x1,ve,D.x2,ve]}else{var Me=D.x1+de+(A?E/2*ge:0);s.segpts=[Me,D.y1,Me,D.y2]}else if(ne){var ze=Math.abs(fe)<=S/2,Ge=Math.abs(Y)<=M/2;if(ze){var Le=(D.x1+D.x2)/2;s.segpts=[Le,D.y1,Le,D.y2]}else if(Ge){var Ft=(D.y1+D.y2)/2;s.segpts=[D.x1,Ft,D.x2,Ft]}else s.segpts=[D.x1,D.y2]}else{var gt=Math.abs(fe)<=E/2,ot=Math.abs(X)<=x/2;if(gt){var Et=(D.y1+D.y2)/2;s.segpts=[D.x1,Et,D.x2,Et]}else if(ot){var ln=(D.x1+D.x2)/2;s.segpts=[ln,D.y1,ln,D.y2]}else s.segpts=[D.x2,D.y1]}},lr.tryToCorrectInvalidPoints=function(a,i){var s=a._private.rscratch;if("bezier"===s.edgeType){var l=i.srcPos,f=i.tgtPos,h=i.srcW,p=i.srcH,m=i.tgtW,b=i.tgtH,w=i.srcShape,D=i.tgtShape,E=!at(s.startX)||!at(s.startY),S=!at(s.arrowStartX)||!at(s.arrowStartY),M=!at(s.endX)||!at(s.endY),x=!at(s.arrowEndX)||!at(s.arrowEndY),P=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,k=Ha({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.startX,y:s.startY}),O=k<P,V=Ha({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.endX,y:s.endY}),q=V<P,K=!1;if(E||S||O){K=!0;var $={x:s.ctrlpts[0]-l.x,y:s.ctrlpts[1]-l.y},W=Math.sqrt($.x*$.x+$.y*$.y),U={x:$.x/W,y:$.y/W},Y=Math.max(h,p),X={x:s.ctrlpts[0]+2*U.x*Y,y:s.ctrlpts[1]+2*U.y*Y},G=w.intersectLine(l.x,l.y,h,p,X.x,X.y,0);O?(s.ctrlpts[0]=s.ctrlpts[0]+U.x*(P-k),s.ctrlpts[1]=s.ctrlpts[1]+U.y*(P-k)):(s.ctrlpts[0]=G[0]+U.x*P,s.ctrlpts[1]=G[1]+U.y*P)}if(M||x||q){K=!0;var te={x:s.ctrlpts[0]-f.x,y:s.ctrlpts[1]-f.y},Z=Math.sqrt(te.x*te.x+te.y*te.y),se={x:te.x/Z,y:te.y/Z},ne=Math.max(h,p),ee={x:s.ctrlpts[0]+2*se.x*ne,y:s.ctrlpts[1]+2*se.y*ne},fe=D.intersectLine(f.x,f.y,m,b,ee.x,ee.y,0);q?(s.ctrlpts[0]=s.ctrlpts[0]+se.x*(P-V),s.ctrlpts[1]=s.ctrlpts[1]+se.y*(P-V)):(s.ctrlpts[0]=fe[0]+se.x*P,s.ctrlpts[1]=fe[1]+se.y*P)}K&&this.findEndpoints(a)}},lr.storeAllpts=function(a){var i=a._private.rscratch;if("multibezier"===i.edgeType||"bezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType){i.allpts=[],i.allpts.push(i.startX,i.startY);for(var s=0;s+1<i.ctrlpts.length;s+=2)i.allpts.push(i.ctrlpts[s],i.ctrlpts[s+1]),s+3<i.ctrlpts.length&&i.allpts.push((i.ctrlpts[s]+i.ctrlpts[s+2])/2,(i.ctrlpts[s+1]+i.ctrlpts[s+3])/2);var l;i.allpts.push(i.endX,i.endY),i.ctrlpts.length/2%2==0?(i.midX=i.allpts[l=i.allpts.length/2-1],i.midY=i.allpts[l+1]):(i.midX=ti(i.allpts[l=i.allpts.length/2-3],i.allpts[l+2],i.allpts[l+4],.5),i.midY=ti(i.allpts[l+1],i.allpts[l+3],i.allpts[l+5],.5))}else if("straight"===i.edgeType)i.allpts=[i.startX,i.startY,i.endX,i.endY],i.midX=(i.startX+i.endX+i.arrowStartX+i.arrowEndX)/4,i.midY=(i.startY+i.endY+i.arrowStartY+i.arrowEndY)/4;else if("segments"===i.edgeType)if(i.allpts=[],i.allpts.push(i.startX,i.startY),i.allpts.push.apply(i.allpts,i.segpts),i.allpts.push(i.endX,i.endY),i.segpts.length%4==0){var h=i.segpts.length/2,p=h-2;i.midX=(i.segpts[p]+i.segpts[h])/2,i.midY=(i.segpts[p+1]+i.segpts[h+1])/2}else{var m=i.segpts.length/2-1;i.midX=i.segpts[m],i.midY=i.segpts[m+1]}},lr.checkForInvalidEdgeWarning=function(a){var i=a[0]._private.rscratch;i.nodesOverlap||at(i.startX)&&at(i.startY)&&at(i.endX)&&at(i.endY)?i.loggedErr=!1:i.loggedErr||(i.loggedErr=!0,Kt("Edge `"+a.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},lr.findEdgeControlPoints=function(a){var i=this;if(a&&0!==a.length){for(var s=this,f=s.cy.hasCompoundNodes(),h={map:new da,get:function($){var W=this.map.get($[0]);return null!=W?W.get($[1]):null},set:function($,W){var U=this.map.get($[0]);null==U&&(U=new da,this.map.set($[0],U)),U.set($[1],W)}},p=[],m=[],b=0;b<a.length;b++){var w=a[b],D=w._private,E=w.pstyle("curve-style").value;if(!w.removed()&&w.takesUpSpace()){if("haystack"===E){m.push(w);continue}var S="unbundled-bezier"===E||"segments"===E||"straight"===E||"straight-triangle"===E||"taxi"===E,M="unbundled-bezier"===E||"bezier"===E,R=D.target,k=[D.source.poolIndex(),R.poolIndex()].sort(),O=h.get(k);null==O&&(h.set(k,O={eles:[]}),p.push(k)),O.eles.push(w),S&&(O.hasUnbundled=!0),M&&(O.hasBezier=!0)}}for(var V=function($){var U=h.get(p[$]),Y=void 0;if(!U.hasUnbundled){var X=U.eles[0].parallelEdges().filter(function(cn){return cn.isBundledBezier()});bf(U.eles),X.forEach(function(cn){return U.eles.push(cn)}),U.eles.sort(function(cn,ve){return cn.poolIndex()-ve.poolIndex()})}var G=U.eles[0],te=G.source(),Z=G.target();if(te.poolIndex()>Z.poolIndex()){var se=te;te=Z,Z=se}var ne=U.srcPos=te.position(),ee=U.tgtPos=Z.position(),fe=U.srcW=te.outerWidth(),ge=U.srcH=te.outerHeight(),xe=U.tgtW=Z.outerWidth(),de=U.tgtH=Z.outerHeight(),Ce=U.srcShape=s.nodeShapes[i.getNodeShape(te)],Pe=U.tgtShape=s.nodeShapes[i.getNodeShape(Z)];U.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ve=0;Ve<U.eles.length;Ve++){var Oe=U.eles[Ve],Fe=Oe[0]._private.rscratch,he=Oe.pstyle("curve-style").value,ze="unbundled-bezier"===he||"segments"===he||"taxi"===he,Ge=!te.same(Oe.source());if(!U.calculatedIntersection&&te!==Z&&(U.hasBezier||U.hasUnbundled)){U.calculatedIntersection=!0;var Le=Ce.intersectLine(ne.x,ne.y,fe,ge,ee.x,ee.y,0),Xe=U.srcIntn=Le,It=Pe.intersectLine(ee.x,ee.y,xe,de,ne.x,ne.y,0),Ft=U.tgtIntn=It,Re=U.intersectionPts={x1:Le[0],x2:It[0],y1:Le[1],y2:It[1]},nt=U.posPts={x1:ne.x,x2:ee.x,y1:ne.y,y2:ee.y},gt=It[1]-Le[1],ot=It[0]-Le[0],Et=Math.sqrt(ot*ot+gt*gt),_t=U.vector={x:ot,y:gt},yn=U.vectorNorm={x:_t.x/Et,y:_t.y/Et},ln={x:-yn.y,y:yn.x};U.nodesOverlap=!at(Et)||Pe.checkPoint(Le[0],Le[1],0,xe,de,ee.x,ee.y)||Ce.checkPoint(It[0],It[1],0,fe,ge,ne.x,ne.y),U.vectorNormInverse=ln,Y={nodesOverlap:U.nodesOverlap,dirCounts:U.dirCounts,calculatedIntersection:!0,hasBezier:U.hasBezier,hasUnbundled:U.hasUnbundled,eles:U.eles,srcPos:ee,tgtPos:ne,srcW:xe,srcH:de,tgtW:fe,tgtH:ge,srcIntn:Ft,tgtIntn:Xe,srcShape:Pe,tgtShape:Ce,posPts:{x1:nt.x2,y1:nt.y2,x2:nt.x1,y2:nt.y1},intersectionPts:{x1:Re.x2,y1:Re.y2,x2:Re.x1,y2:Re.y1},vector:{x:-_t.x,y:-_t.y},vectorNorm:{x:-yn.x,y:-yn.y},vectorNormInverse:{x:-ln.x,y:-ln.y}}}var $t=Ge?Y:U;Fe.nodesOverlap=$t.nodesOverlap,Fe.srcIntn=$t.srcIntn,Fe.tgtIntn=$t.tgtIntn,f&&(te.isParent()||te.isChild()||Z.isParent()||Z.isChild())&&(te.parents().anySame(Z)||Z.parents().anySame(te)||te.same(Z)&&te.isParent())?i.findCompoundLoopPoints(Oe,$t,Ve,ze):te===Z?i.findLoopPoints(Oe,$t,Ve,ze):"segments"===he?i.findSegmentsPoints(Oe,$t):"taxi"===he?i.findTaxiPoints(Oe,$t):"straight"===he||!ze&&U.eles.length%2==1&&Ve===Math.floor(U.eles.length/2)?i.findStraightEdgePoints(Oe):i.findBezierPoints(Oe,$t,Ve,ze,Ge),i.findEndpoints(Oe),i.tryToCorrectInvalidPoints(Oe,$t),i.checkForInvalidEdgeWarning(Oe),i.storeAllpts(Oe),i.storeEdgeProjections(Oe),i.calculateArrowAngles(Oe),i.recalculateEdgeLabelProjections(Oe),i.calculateLabelAngles(Oe)}},q=0;q<p.length;q++)V(q);this.findHaystackPoints(m)}},lr.getSegmentPoints=function(a){var i=a[0]._private.rscratch;if("segments"===i.edgeType)return this.recalculateRenderedStyle(a),Ip(i.segpts)},lr.getControlPoints=function(a){var i=a[0]._private.rscratch,s=i.edgeType;if("bezier"===s||"multibezier"===s||"self"===s||"compound"===s)return this.recalculateRenderedStyle(a),Ip(i.ctrlpts)},lr.getEdgeMidpoint=function(a){var i=a[0]._private.rscratch;return this.recalculateRenderedStyle(a),{x:i.midX,y:i.midY}};var Is={manualEndptToPx:function(a,i){var l=a.position(),f=a.outerWidth(),h=a.outerHeight();if(2===i.value.length){var p=[i.pfValue[0],i.pfValue[1]];return"%"===i.units[0]&&(p[0]=p[0]*f),"%"===i.units[1]&&(p[1]=p[1]*h),p[0]+=l.x,p[1]+=l.y,p}var m=i.pfValue[0];m=-Math.PI/2+m;var b=2*Math.max(f,h),w=[l.x+Math.cos(m)*b,l.y+Math.sin(m)*b];return this.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,f,h,w[0],w[1],0)},findEndpoints:function(a){var s,Y,X,G,te,i=this,l=a.source()[0],f=a.target()[0],h=l.position(),p=f.position(),m=a.pstyle("target-arrow-shape").value,b=a.pstyle("source-arrow-shape").value,w=a.pstyle("target-distance-from-node").pfValue,D=a.pstyle("source-distance-from-node").pfValue,E=a.pstyle("curve-style").value,S=a._private.rscratch,M=S.edgeType,R="self"===M||"compound"===M,A="bezier"===M||"multibezier"===M||R,P="bezier"!==M,k="straight"===M||"segments"===M,O="segments"===M,V=A||P||k,q=R||"taxi"===E,K=a.pstyle("source-endpoint"),$=q?"outside-to-node":K.value,W=a.pstyle("target-endpoint"),U=q?"outside-to-node":W.value;if(S.srcManEndpt=K,S.tgtManEndpt=W,A){var Z=[S.ctrlpts[0],S.ctrlpts[1]];Y=P?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:Z,X=Z}else if(k){var ne=O?S.segpts.slice(0,2):[p.x,p.y];Y=O?S.segpts.slice(S.segpts.length-2):[h.x,h.y],X=ne}if("inside-to-node"===U)s=[p.x,p.y];else if(W.units)s=this.manualEndptToPx(f,W);else if("outside-to-line"===U)s=S.tgtIntn;else if("outside-to-node"===U||"outside-to-node-or-label"===U?G=Y:("outside-to-line"===U||"outside-to-line-or-label"===U)&&(G=[h.x,h.y]),s=i.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),G[0],G[1],0),"outside-to-node-or-label"===U||"outside-to-line-or-label"===U){var fe=f._private.rscratch,de=fe.labelX,Ce=fe.labelY,Pe=fe.labelWidth/2,Ve=fe.labelHeight/2,Oe=f.pstyle("text-valign").value;"top"===Oe?Ce-=Ve:"bottom"===Oe&&(Ce+=Ve);var Fe=f.pstyle("text-halign").value;"left"===Fe?de-=Pe:"right"===Fe&&(de+=Pe);var he=Cn(G[0],G[1],[de-Pe,Ce-Ve,de+Pe,Ce-Ve,de+Pe,Ce+Ve,de-Pe,Ce+Ve],p.x,p.y);if(he.length>0){var ze=h,Ge=Wr(ze,Nl(s)),Le=Wr(ze,Nl(he)),Xe=Ge;Le<Ge&&(s=he,Xe=Le),he.length>2&&Wr(ze,{x:he[2],y:he[3]})<Xe&&(s=[he[2],he[3]])}}var Ft=Ll(s,Y,i.arrowShapes[m].spacing(a)+w),Re=Ll(s,Y,i.arrowShapes[m].gap(a)+w);if(S.endX=Re[0],S.endY=Re[1],S.arrowEndX=Ft[0],S.arrowEndY=Ft[1],"inside-to-node"===$)s=[h.x,h.y];else if(K.units)s=this.manualEndptToPx(l,K);else if("outside-to-line"===$)s=S.srcIntn;else if("outside-to-node"===$||"outside-to-node-or-label"===$?te=X:("outside-to-line"===$||"outside-to-line-or-label"===$)&&(te=[p.x,p.y]),s=i.nodeShapes[this.getNodeShape(l)].intersectLine(h.x,h.y,l.outerWidth(),l.outerHeight(),te[0],te[1],0),"outside-to-node-or-label"===$||"outside-to-line-or-label"===$){var nt=l._private.rscratch,Et=nt.labelX,_t=nt.labelY,yn=nt.labelWidth/2,ln=nt.labelHeight/2,$t=l.pstyle("text-valign").value;"top"===$t?_t-=ln:"bottom"===$t&&(_t+=ln);var cn=l.pstyle("text-halign").value;"left"===cn?Et-=yn:"right"===cn&&(Et+=yn);var ve=Cn(te[0],te[1],[Et-yn,_t-ln,Et+yn,_t-ln,Et+yn,_t+ln,Et-yn,_t+ln],h.x,h.y);if(ve.length>0){var z=p,pe=Wr(z,Nl(s)),Me=Wr(z,Nl(ve)),De=pe;Me<pe&&(s=[ve[0],ve[1]],De=Me),ve.length>2&&Wr(z,{x:ve[2],y:ve[3]})<De&&(s=[ve[2],ve[3]])}}var st=Ll(s,X,i.arrowShapes[b].spacing(a)+D),me=Ll(s,X,i.arrowShapes[b].gap(a)+D);S.startX=me[0],S.startY=me[1],S.arrowStartX=st[0],S.arrowStartY=st[1],V&&(S.badLine=!(at(S.startX)&&at(S.startY)&&at(S.endX)&&at(S.endY)))},getSourceEndpoint:function(a){var i=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),i.edgeType)?{x:i.haystackPts[0],y:i.haystackPts[1]}:{x:i.arrowStartX,y:i.arrowStartY}},getTargetEndpoint:function(a){var i=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),i.edgeType)?{x:i.haystackPts[2],y:i.haystackPts[3]}:{x:i.arrowEndX,y:i.arrowEndY}}},dc={};function xa(a,i,s){for(var l=function(w,D,E,S){return ti(w,D,E,S)},h=i._private.rstyle.bezierPts,p=0;p<a.bezierProjPcts.length;p++){var m=a.bezierProjPcts[p];h.push({x:l(s[0],s[2],s[4],m),y:l(s[1],s[3],s[5],m)})}}dc.storeEdgeProjections=function(a){var i=a._private,s=i.rscratch,l=s.edgeType;if(i.rstyle.bezierPts=null,i.rstyle.linePts=null,i.rstyle.haystackPts=null,"multibezier"===l||"bezier"===l||"self"===l||"compound"===l){i.rstyle.bezierPts=[];for(var f=0;f+5<s.allpts.length;f+=4)xa(this,a,s.allpts.slice(f,f+6))}else if("segments"===l){var h=i.rstyle.linePts=[];for(f=0;f+1<s.allpts.length;f+=2)h.push({x:s.allpts[f],y:s.allpts[f+1]})}else if("haystack"===l){var p=s.haystackPts;i.rstyle.haystackPts=[{x:p[0],y:p[1]},{x:p[2],y:p[3]}]}i.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth},dc.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};var Jn={recalculateNodeLabelProjection:function(a){var i=a.pstyle("label").strValue;if(!rn(i)){var s,l,f=a._private,h=a.width(),p=a.height(),m=a.padding(),b=a.position(),w=a.pstyle("text-halign").strValue,D=a.pstyle("text-valign").strValue,E=f.rscratch,S=f.rstyle;switch(w){case"left":s=b.x-h/2-m;break;case"right":s=b.x+h/2+m;break;default:s=b.x}switch(D){case"top":l=b.y-p/2-m;break;case"bottom":l=b.y+p/2+m;break;default:l=b.y}E.labelX=s,E.labelY=l,S.labelX=s,S.labelY=l,this.calculateLabelAngles(a),this.applyLabelDimensions(a)}}},dl=function(i,s){var l=Math.atan(s/i);return 0===i&&l<0&&(l*=-1),l},Tp=function(i,s){return dl(s.x-i.x,s.y-i.y)};Jn.recalculateEdgeLabelProjections=function(a){var i,s=a._private,l=s.rscratch,f=this,h={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(h.mid||h.source||h.target){var p=function(E,S,M){$a(s.rscratch,E,S,M),$a(s.rstyle,E,S,M)};p("labelX",null,(i={x:l.midX,y:l.midY}).x),p("labelY",null,i.y);var m=dl(l.midDispX,l.midDispY);p("labelAutoAngle",null,m);var b=function D(){if(D.cache)return D.cache;for(var E=[],S=0;S+5<l.allpts.length;S+=4)E.push({p0:{x:l.allpts[S],y:l.allpts[S+1]},p1:{x:l.allpts[S+2],y:l.allpts[S+3]},p2:{x:l.allpts[S+4],y:l.allpts[S+5]},startDist:0,length:0,segments:[]});var A=s.rstyle.bezierPts,P=f.bezierProjPcts.length;function k($,W,U,Y,X){var G=Ha(W,U),te=$.segments[$.segments.length-1];$.segments.push({p0:W,p1:U,t0:Y,t1:X,startDist:te?te.startDist+te.length:0,length:G}),$.length+=G}for(var O=0;O<E.length;O++){var V=E[O],q=E[O-1];q&&(V.startDist=q.startDist+q.length),k(V,V.p0,A[O*P],0,f.bezierProjPcts[0]);for(var K=0;K<P-1;K++)k(V,A[O*P+K],A[O*P+K+1],f.bezierProjPcts[K],f.bezierProjPcts[K+1]);k(V,A[O*P+P-1],V.p2,f.bezierProjPcts[P-1],1)}return D.cache=E},w=function(E){var S,M="source"===E;if(h[E]){var x=a.pstyle(E+"-text-offset").pfValue;switch(l.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var A,R=b(),P=0,k=0,O=0;O<R.length;O++){for(var V=R[M?O:R.length-1-O],q=0;q<V.segments.length;q++){var K=V.segments[M?q:V.segments.length-1-q];if(P=k,(k+=K.length)>=x||O===R.length-1&&q===V.segments.length-1){A={cp:V,segment:K};break}}if(A)break}var W=A.cp,U=A.segment,Y=(x-P)/U.length,X=U.t1-U.t0,G=M?U.t0+X*Y:U.t1-X*Y;G=Xc(0,G,1),i=Ks(W.p0,W.p1,W.p2,G),S=function(i,s,l,f){var h=Xc(0,f-.001,1),p=Xc(0,f+.001,1),m=Ks(i,s,l,h),b=Ks(i,s,l,p);return Tp(m,b)}(W.p0,W.p1,W.p2,G);break;case"straight":case"segments":case"haystack":for(var Z,se,ne,ee,te=0,fe=l.allpts.length,ge=0;ge+3<fe&&(M?(ne={x:l.allpts[ge],y:l.allpts[ge+1]},ee={x:l.allpts[ge+2],y:l.allpts[ge+3]}):(ne={x:l.allpts[fe-2-ge],y:l.allpts[fe-1-ge]},ee={x:l.allpts[fe-4-ge],y:l.allpts[fe-3-ge]}),se=te,!((te+=Z=Ha(ne,ee))>=x));ge+=2);var de=(x-se)/Z;de=Xc(0,de,1),i=function(i,s,l,f){var h_x=s.x-i.x,h_y=s.y-i.y,p=Ha(i,s);return l=l??0,{x:i.x+h_x/p*(f=f??l*p),y:i.y+h_y/p*f}}(ne,ee,de),S=Tp(ne,ee)}p("labelX",E,i.x),p("labelY",E,i.y),p("labelAutoAngle",E,S)}};w("source"),w("target"),this.applyLabelDimensions(a)}},Jn.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},Jn.applyPrefixedLabelDimensions=function(a,i){var s=a._private,l=this.getLabelText(a,i),f=this.calculateLabelDimensions(a,l),h=a.pstyle("line-height").pfValue,p=a.pstyle("text-wrap").strValue,m=lo(s.rscratch,"labelWrapCachedLines",i)||[],b="wrap"!==p?1:Math.max(m.length,1),w=f.height/b,D=w*h,E=f.width,S=f.height+(b-1)*(h-1)*w;$a(s.rstyle,"labelWidth",i,E),$a(s.rscratch,"labelWidth",i,E),$a(s.rstyle,"labelHeight",i,S),$a(s.rscratch,"labelHeight",i,S),$a(s.rscratch,"labelLineHeight",i,D)},Jn.getLabelText=function(a,i){var s=a._private,f=a.pstyle((i?i+"-":"")+"label").strValue,h=a.pstyle("text-transform").value,p=function(xe,de){return de?($a(s.rscratch,xe,i,de),de):lo(s.rscratch,xe,i)};if(!f)return"";"none"==h||("uppercase"==h?f=f.toUpperCase():"lowercase"==h&&(f=f.toLowerCase()));var m=a.pstyle("text-wrap").value;if("wrap"===m){var b=p("labelKey");if(null!=b&&p("labelWrapKey")===b)return p("labelWrapCachedText");for(var D=f.split("\n"),E=a.pstyle("text-max-width").pfValue,M="anywhere"===a.pstyle("text-overflow-wrap").value,x=[],R=/[\s\u200b]+/,A=M?"":" ",P=0;P<D.length;P++){var k=D[P],V=this.calculateLabelDimensions(a,k).width;if(M){var q=k.split("").join("\u200b");k=q}if(V>E){for(var K=k.split(R),$="",W=0;W<K.length;W++){var U=K[W];this.calculateLabelDimensions(a,0===$.length?U:$+A+U).width<=E?$+=U+A:($&&x.push($),$=U+A)}$.match(/^[\s\u200b]+$/)||x.push($)}else x.push(k)}p("labelWrapCachedLines",x),f=p("labelWrapCachedText",x.join("\n")),p("labelWrapKey",b)}else if("ellipsis"===m){var te=a.pstyle("text-max-width").pfValue,Z="",ne=!1;if(this.calculateLabelDimensions(a,f).width<te)return f;for(var ee=0;ee<f.length&&!(this.calculateLabelDimensions(a,Z+f[ee]+"\u2026").width>te);ee++)Z+=f[ee],ee===f.length-1&&(ne=!0);return ne||(Z+="\u2026"),Z}return f},Jn.getLabelJustification=function(a){var i=a.pstyle("text-justification").strValue,s=a.pstyle("text-halign").strValue;if("auto"!==i)return i;if(!a.isNode())return"center";switch(s){case"left":return"right";case"right":return"left";default:return"center"}},Jn.calculateLabelDimensions=function(a,i){var l=ca(i,a._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),h=f[l];if(null!=h)return h;var m=a.pstyle("font-style").strValue,b=a.pstyle("font-size").pfValue,w=a.pstyle("font-family").strValue,D=a.pstyle("font-weight").strValue,E=this.labelCalcCanvas,S=this.labelCalcCanvasContext;if(!E){E=this.labelCalcCanvas=document.createElement("canvas"),S=this.labelCalcCanvasContext=E.getContext("2d");var M=E.style;M.position="absolute",M.left="-9999px",M.top="-9999px",M.zIndex="-1",M.visibility="hidden",M.pointerEvents="none"}S.font="".concat(m," ").concat(D," ").concat(b,"px ").concat(w);for(var x=0,R=0,A=i.split("\n"),P=0;P<A.length;P++){var O=S.measureText(A[P]),V=Math.ceil(O.width),q=b;x=Math.max(V,x),R+=q}return f[l]={width:x+=0,height:R+=0}},Jn.calculateLabelAngle=function(a,i){var l=a._private.rscratch,f=a.isEdge(),p=a.pstyle((i?i+"-":"")+"text-rotation"),m=p.strValue;return"none"===m?0:f&&"autorotate"===m?l.labelAutoAngle:"autorotate"===m?0:p.pfValue},Jn.calculateLabelAngles=function(a){var i=this,s=a.isEdge(),f=a._private.rscratch;f.labelAngle=i.calculateLabelAngle(a),s&&(f.sourceLabelAngle=i.calculateLabelAngle(a,"source"),f.targetLabelAngle=i.calculateLabelAngle(a,"target"))};var ah={},fu=!1;ah.getNodeShape=function(a){var s=a.pstyle("shape").value;if("cutrectangle"===s&&(a.width()<28||a.height()<28))return fu||(Kt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),fu=!0),"rectangle";if(a.isParent())return"rectangle"===s||"roundrectangle"===s||"round-rectangle"===s||"cutrectangle"===s||"cut-rectangle"===s||"barrel"===s?s:"rectangle";if("polygon"===s){var l=a.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(l).name}return s};var Ts={updateCachedGrabbedEles:function(){var a=this.cachedZSortedEles;if(a){a.drag=[],a.nondrag=[];for(var i=[],s=0;s<a.length;s++){var f=(l=a[s])._private.rscratch;l.grabbed()&&!l.isParent()?i.push(l):f.inDragLayer?a.drag.push(l):a.nondrag.push(l)}for(s=0;s<i.length;s++){var l;a.drag.push(l=i[s])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(a){if(a||!this.cachedZSortedEles){var i=this.cy.mutableElements().toArray();i.sort(gp),i.interactive=i.filter(function(s){return s.interactive()}),this.cachedZSortedEles=i,this.updateCachedGrabbedEles()}else i=this.cachedZSortedEles;return i}},As={};[ts,Id,lr,Is,dc,Jn,ah,{registerCalculationListeners:function(){var a=this.cy,i=a.collection(),s=this,l=function(p){var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i.merge(p),m)for(var b=0;b<p.length;b++){var E=p[b]._private.rstyle;E.clean=!1,E.cleanConnected=!1}};s.binder(a).on("bounds.* dirty.*",function(p){l(p.target)}).on("style.* background.*",function(p){l(p.target,!1)});var f=function(p){if(p){var m=s.onUpdateEleCalcsFns;i.cleanStyle();for(var b=0;b<i.length;b++){var w=i[b],D=w._private.rstyle;w.isNode()&&!D.cleanConnected&&(l(w.connectedEdges()),D.cleanConnected=!0)}if(m)for(var E=0;E<m.length;E++)(0,m[E])(p,i);s.recalculateRenderedStyle(i),i=a.collection()}};s.flushRenderedStyleQueue=function(){f(!0)},s.beforeRender(f,s.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(a){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(a)},recalculateRenderedStyle:function(a,i){var s=function(V){return V._private.rstyle.cleanConnected},l=[],f=[];if(!this.destroyed){void 0===i&&(i=!0);for(var h=0;h<a.length;h++){var p=a[h],m=p._private,b=m.rstyle;p.isEdge()&&(!s(p.source())||!s(p.target()))&&(b.clean=!1),!(i&&b.clean||p.removed())&&"none"!==p.pstyle("display").value&&("nodes"===m.group?f.push(p):l.push(p),b.clean=!0)}for(var w=0;w<f.length;w++){var D=f[w],S=D._private.rstyle,M=D.position();this.recalculateNodeLabelProjection(D),S.nodeX=M.x,S.nodeY=M.y,S.nodeW=D.pstyle("width").pfValue,S.nodeH=D.pstyle("height").pfValue}this.recalculateEdgeProjections(l);for(var x=0;x<l.length;x++){var A=l[x]._private,P=A.rstyle,k=A.rscratch;P.srcX=k.arrowStartX,P.srcY=k.arrowStartY,P.tgtX=k.arrowEndX,P.tgtY=k.arrowEndY,P.midX=k.midX,P.midY=k.midY,P.labelAngle=k.labelAngle,P.sourceLabelAngle=k.sourceLabelAngle,P.targetLabelAngle=k.targetLabelAngle}}}},Ts].forEach(function(a){Nt(As,a)});var Ap={getCachedImage:function(a,i,s){var f=this.imageCache=this.imageCache||{},h=f[a];if(h)return h.image.complete||h.image.addEventListener("load",s),h.image;var p=(h=f[a]=f[a]||{}).image=new Image;p.addEventListener("load",s),p.addEventListener("error",function(){p.error=!0});return"data:"===a.substring(0,5).toLowerCase()||(p.crossOrigin=i="null"===i?null:i),p.src=a,p}},hu={registerBinding:function(a,i,s,l){var f=Array.prototype.slice.apply(arguments,[1]),h=this.binder(a);return h.on.apply(h,f)},binder:function(a){var i=this,s=i.cy.window(),l=a===s||a===s.document||a===s.document.body||function(i){return!(typeof HTMLElement>"u")&&i instanceof HTMLElement}(a);if(null==i.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});s.addEventListener("test",null,h)}catch{}i.supportsPassiveEvents=f}var p=function(b,w,D){var E=Array.prototype.slice.call(arguments);return l&&i.supportsPassiveEvents&&(E[2]={capture:D??!1,passive:!1,once:!1}),i.bindings.push({target:a,args:E}),(a.addEventListener||a.on).apply(a,E),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},nodeIsGrabbable:function(a){return this.nodeIsDraggable(a)&&a.interactive()}};hu.load=function(){var a=this,i=a.cy.window(),s=function(z){return z.selected()},l=function(z,pe,Me,De){null==z&&(z=a.cy);for(var _e=0;_e<pe.length;_e++)z.emit({originalEvent:Me,type:pe[_e],position:De})},f=function(z){return z.shiftKey||z.metaKey||z.ctrlKey},h=function(z,pe){var Me=!0;if(a.cy.hasCompoundNodes()&&z&&z.pannable()){for(var De=0;pe&&De<pe.length;De++)if((z=pe[De]).isNode()&&z.isParent()&&!z.pannable()){Me=!1;break}}else Me=!0;return Me},b=function(z){z[0]._private.rscratch.inDragLayer=!0},D=function(z){z[0]._private.rscratch.isGrabTarget=!0},S=function(z,pe){var Me=pe.addToList;!Me.has(z)&&z.grabbable()&&!z.locked()&&(Me.merge(z),function(z){z[0]._private.grabbed=!0}(z))},x=function(z,pe){pe=pe||{};var Me=z.cy().hasCompoundNodes();pe.inDragLayer&&(z.forEach(b),z.neighborhood().stdFilter(function(De){return!Me||De.isEdge()}).forEach(b)),pe.addToList&&z.forEach(function(De){S(De,pe)}),function(z,pe){if(z.cy().hasCompoundNodes()&&(null!=pe.inDragLayer||null!=pe.addToList)){var Me=z.descendants();pe.inDragLayer&&(Me.forEach(b),Me.connectedEdges().forEach(b)),pe.addToList&&S(Me,pe)}}(z,pe),P(z,{inDragLayer:pe.inDragLayer}),a.updateCachedGrabbedEles()},R=x,A=function(z){z&&(a.getCachedZSortedEles().forEach(function(pe){(function(z){z[0]._private.grabbed=!1})(pe),function(z){z[0]._private.rscratch.inDragLayer=!1}(pe),function(z){z[0]._private.rscratch.isGrabTarget=!1}(pe)}),a.updateCachedGrabbedEles())},P=function(z,pe){if((null!=pe.inDragLayer||null!=pe.addToList)&&z.cy().hasCompoundNodes()){var Me=z.ancestors().orphans();if(!Me.same(z)){var De=Me.descendants().spawnSelf().merge(Me).unmerge(z).unmerge(z.descendants()),_e=De.connectedEdges();pe.inDragLayer&&(_e.forEach(b),De.forEach(b)),pe.addToList&&De.forEach(function(st){S(st,pe)})}}},k=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},O=typeof MutationObserver<"u",V=typeof ResizeObserver<"u";O?(a.removeObserver=new MutationObserver(function(ve){for(var z=0;z<ve.length;z++){var Me=ve[z].removedNodes;if(Me)for(var De=0;De<Me.length;De++)if(Me[De]===a.container){a.destroy();break}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(ve){a.destroy()});var q=rt.default(function(){a.cy.resize()},100);O&&(a.styleObserver=new MutationObserver(q),a.styleObserver.observe(a.container,{attributes:!0})),a.registerBinding(i,"resize",q),V&&(a.resizeObserver=new ResizeObserver(q),a.resizeObserver.observe(a.container));var $=function(){a.invalidateContainerClientCoordsCache()};(function(z,pe){for(;null!=z;)a.registerBinding(ve=z,"transitionend",$),a.registerBinding(ve,"animationend",$),a.registerBinding(ve,"scroll",$),z=z.parentNode;var ve})(a.container),a.registerBinding(a.container,"contextmenu",function(ve){ve.preventDefault()});var Y,X,G,U=function(z){for(var pe=a.findContainerClientCoords(),Me=pe[0],De=pe[1],_e=pe[2],st=pe[3],me=z.touches?z.touches:[z],Ct=!1,on=0;on<me.length;on++){var xn=me[on];if(Me<=xn.clientX&&xn.clientX<=Me+_e&&De<=xn.clientY&&xn.clientY<=De+st){Ct=!0;break}}if(!Ct)return!1;for(var zt=a.container,Zt=z.target.parentNode,en=!1;Zt;){if(Zt===zt){en=!0;break}Zt=Zt.parentNode}return!!en};a.registerBinding(a.container,"mousedown",function(z){if(U(z)){z.preventDefault(),k(),a.hoverData.capture=!0,a.hoverData.which=z.which;var pe=a.cy,Me=[z.clientX,z.clientY],De=a.projectIntoViewport(Me[0],Me[1]),_e=a.selection,st=a.findNearestElements(De[0],De[1],!0,!1),me=st[0],Ct=a.dragData.possibleDragElements;if(a.hoverData.mdownPos=De,a.hoverData.mdownGPos=Me,3==z.which){a.hoverData.cxtStarted=!0;var xn={originalEvent:z,type:"cxttapstart",position:{x:De[0],y:De[1]}};me?(me.activate(),me.emit(xn),a.hoverData.down=me):pe.emit(xn),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1}else if(1==z.which){if(me&&me.activate(),null!=me&&a.nodeIsGrabbable(me)){var zt=function(br){return{originalEvent:z,type:br,position:{x:De[0],y:De[1]}}};if(D(me),me.selected()){Ct=a.dragData.possibleDragElements=pe.collection();var Zt=pe.$(function(en){return en.isNode()&&en.selected()&&a.nodeIsGrabbable(en)});x(Zt,{addToList:Ct}),me.emit(zt("grabon")),Zt.forEach(function(br){br.emit(zt("grab"))})}else Ct=a.dragData.possibleDragElements=pe.collection(),R(me,{addToList:Ct}),me.emit(zt("grabon")).emit(zt("grab"));a.redrawHint("eles",!0),a.redrawHint("drag",!0)}a.hoverData.down=me,a.hoverData.downs=st,a.hoverData.downTime=(new Date).getTime(),l(me,["mousedown","tapstart","vmousedown"],z,{x:De[0],y:De[1]}),null==me?(_e[4]=1,a.data.bgActivePosistion={x:De[0],y:De[1]},a.redrawHint("select",!0),a.redraw()):me.pannable()&&(_e[4]=1),a.hoverData.tapholdCancelled=!1,clearTimeout(a.hoverData.tapholdTimeout),a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var br=a.hoverData.down;br?br.emit({originalEvent:z,type:"taphold",position:{x:De[0],y:De[1]}}):pe.emit({originalEvent:z,type:"taphold",position:{x:De[0],y:De[1]}})}},a.tapholdDuration)}_e[0]=_e[2]=De[0],_e[1]=_e[3]=De[1]}},!1),a.registerBinding(i,"mousemove",function(z){var Jo;if(a.hoverData.capture||U(z)){var Me=!1,De=a.cy,_e=De.zoom(),st=[z.clientX,z.clientY],me=a.projectIntoViewport(st[0],st[1]),Ct=a.hoverData.mdownPos,on=a.hoverData.mdownGPos,xn=a.selection,zt=null;!a.hoverData.draggingEles&&!a.hoverData.dragging&&!a.hoverData.selecting&&(zt=a.findNearestElement(me[0],me[1],!0,!1));var xr,Tn=a.hoverData.last,Zt=a.hoverData.down,en=[me[0]-xn[2],me[1]-xn[3]],br=a.dragData.possibleDragElements;if(on){var yi=st[0]-on[0],ei=st[1]-on[1];a.hoverData.isOverThresholdDrag=xr=yi*yi+ei*ei>=a.desktopTapThreshold2}var to=f(z);xr&&(a.hoverData.tapholdCancelled=!0),Me=!0,l(zt,["mousemove","vmousemove","tapdrag"],z,{x:me[0],y:me[1]});var bu=function(){a.data.bgActivePosistion=void 0,a.hoverData.selecting||De.emit({originalEvent:z,type:"boxstart",position:{x:me[0],y:me[1]}}),xn[4]=1,a.hoverData.selecting=!0,a.redrawHint("select",!0),a.redraw()};if(3===a.hoverData.which){if(xr){var Na={originalEvent:z,type:"cxtdrag",position:{x:me[0],y:me[1]}};Zt?Zt.emit(Na):De.emit(Na),a.hoverData.cxtDragged=!0,(!a.hoverData.cxtOver||zt!==a.hoverData.cxtOver)&&(a.hoverData.cxtOver&&a.hoverData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:me[0],y:me[1]}}),a.hoverData.cxtOver=zt,zt&&zt.emit({originalEvent:z,type:"cxtdragover",position:{x:me[0],y:me[1]}}))}}else if(a.hoverData.dragging){if(Me=!0,De.panningEnabled()&&De.userPanningEnabled()){var Ps;if(a.hoverData.justStartedPan){var as=a.hoverData.mdownPos;Ps={x:(me[0]-as[0])*_e,y:(me[1]-as[1])*_e},a.hoverData.justStartedPan=!1}else Ps={x:en[0]*_e,y:en[1]*_e};De.panBy(Ps),De.emit("dragpan"),a.hoverData.dragged=!0}me=a.projectIntoViewport(z.clientX,z.clientY)}else if(1!=xn[4]||null!=Zt&&!Zt.pannable()){if(Zt&&Zt.pannable()&&Zt.active()&&Zt.unactivate(),(!Zt||!Zt.grabbed())&&zt!=Tn&&(Tn&&l(Tn,["mouseout","tapdragout"],z,{x:me[0],y:me[1]}),zt&&l(zt,["mouseover","tapdragover"],z,{x:me[0],y:me[1]}),a.hoverData.last=zt),Zt)if(xr){if(De.boxSelectionEnabled()&&to)Zt&&Zt.grabbed()&&(A(br),Zt.emit("freeon"),br.emit("free"),a.dragData.didDrag&&(Zt.emit("dragfreeon"),br.emit("dragfree"))),bu();else if(Zt&&Zt.grabbed()&&a.nodeIsDraggable(Zt)){var Tr=!a.dragData.didDrag;Tr&&a.redrawHint("eles",!0),a.dragData.didDrag=!0,a.hoverData.draggingEles||x(br,{inDragLayer:!0});var kt={x:0,y:0};if(at(en[0])&&at(en[1])&&(kt.x+=en[0],kt.y+=en[1],Tr)){var ji=a.hoverData.dragDelta;ji&&at(ji[0])&&at(ji[1])&&(kt.x+=ji[0],kt.y+=ji[1])}a.hoverData.draggingEles=!0,br.silentShift(kt).emit("position drag"),a.redrawHint("drag",!0),a.redraw()}}else 0===(Jo=a.hoverData.dragDelta=a.hoverData.dragDelta||[]).length?(Jo.push(en[0]),Jo.push(en[1])):(Jo[0]+=en[0],Jo[1]+=en[1]);Me=!0}else xr&&(a.hoverData.dragging||!De.boxSelectionEnabled()||!to&&De.panningEnabled()&&De.userPanningEnabled()?!a.hoverData.selecting&&De.panningEnabled()&&De.userPanningEnabled()&&h(Zt,a.hoverData.downs)&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,xn[4]=0,a.data.bgActivePosistion=Nl(Ct),a.redrawHint("select",!0),a.redraw()):bu(),Zt&&Zt.pannable()&&Zt.active()&&Zt.unactivate());if(xn[2]=me[0],xn[3]=me[1],Me)return z.stopPropagation&&z.stopPropagation(),z.preventDefault&&z.preventDefault(),!1}},!1),a.registerBinding(i,"mouseup",function(z){if(a.hoverData.capture){a.hoverData.capture=!1;var Me=a.cy,De=a.projectIntoViewport(z.clientX,z.clientY),_e=a.selection,st=a.findNearestElement(De[0],De[1],!0,!1),me=a.dragData.possibleDragElements,Ct=a.hoverData.down,on=f(z);if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,Ct&&Ct.unactivate(),3===a.hoverData.which){var xn={originalEvent:z,type:"cxttapend",position:{x:De[0],y:De[1]}};if(Ct?Ct.emit(xn):Me.emit(xn),!a.hoverData.cxtDragged){var zt={originalEvent:z,type:"cxttap",position:{x:De[0],y:De[1]}};Ct?Ct.emit(zt):Me.emit(zt)}a.hoverData.cxtDragged=!1,a.hoverData.which=null}else if(1===a.hoverData.which){if(l(st,["mouseup","tapend","vmouseup"],z,{x:De[0],y:De[1]}),!a.dragData.didDrag&&!a.hoverData.dragged&&!a.hoverData.selecting&&!a.hoverData.isOverThresholdDrag&&(l(Ct,["click","tap","vclick"],z,{x:De[0],y:De[1]}),X=!1,z.timeStamp-G<=Me.multiClickDebounceTime()?(Y&&clearTimeout(Y),X=!0,G=null,l(Ct,["dblclick","dbltap","vdblclick"],z,{x:De[0],y:De[1]})):(Y=setTimeout(function(){X||l(Ct,["oneclick","onetap","voneclick"],z,{x:De[0],y:De[1]})},Me.multiClickDebounceTime()),G=z.timeStamp)),null==Ct&&!a.dragData.didDrag&&!a.hoverData.selecting&&!a.hoverData.dragged&&!f(z)&&(Me.$(s).unselect(["tapunselect"]),me.length>0&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=me=Me.collection()),st==Ct&&!a.dragData.didDrag&&!a.hoverData.selecting&&null!=st&&st._private.selectable&&(a.hoverData.dragging||("additive"===Me.selectionType()||on?st.selected()?st.unselect(["tapunselect"]):st.select(["tapselect"]):on||(Me.$(s).unmerge(st).unselect(["tapunselect"]),st.select(["tapselect"]))),a.redrawHint("eles",!0)),a.hoverData.selecting){var Tn=Me.collection(a.getAllInBox(_e[0],_e[1],_e[2],_e[3]));a.redrawHint("select",!0),Tn.length>0&&a.redrawHint("eles",!0),Me.emit({type:"boxend",originalEvent:z,position:{x:De[0],y:De[1]}}),"additive"===Me.selectionType()||on||Me.$(s).unmerge(Tn).unselect(),Tn.emit("box").stdFilter(function(xr){return xr.selectable()&&!xr.selected()}).select().emit("boxselect"),a.redraw()}if(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),!_e[4]){a.redrawHint("drag",!0),a.redrawHint("eles",!0);var en=Ct&&Ct.grabbed();A(me),en&&(Ct.emit("freeon"),me.emit("free"),a.dragData.didDrag&&(Ct.emit("dragfreeon"),me.emit("dragfree")))}}_e[4]=0,a.hoverData.down=null,a.hoverData.cxtStarted=!1,a.hoverData.draggingEles=!1,a.hoverData.selecting=!1,a.hoverData.isOverThresholdDrag=!1,a.dragData.didDrag=!1,a.hoverData.dragged=!1,a.hoverData.dragDelta=[],a.hoverData.mdownPos=null,a.hoverData.mdownGPos=null}},!1);var te=function(z){if(!a.scrollingPage){var pe=a.cy,Me=pe.zoom(),De=pe.pan(),_e=a.projectIntoViewport(z.clientX,z.clientY),st=[_e[0]*Me+De.x,_e[1]*Me+De.y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||0!==a.selection[4])return void z.preventDefault();if(pe.panningEnabled()&&pe.userPanningEnabled()&&pe.zoomingEnabled()&&pe.userZoomingEnabled()){var me;z.preventDefault(),a.data.wheelZooming=!0,clearTimeout(a.data.wheelTimeout),a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1,a.redrawHint("eles",!0),a.redraw()},150),me=null!=z.deltaY?z.deltaY/-250:null!=z.wheelDeltaY?z.wheelDeltaY/1e3:z.wheelDelta/1e3,me*=a.wheelSensitivity,1===z.deltaMode&&(me*=33);var on=pe.zoom()*Math.pow(10,me);"gesturechange"===z.type&&(on=a.gestureStartZoom*z.scale),pe.zoom({level:on,renderedPosition:{x:st[0],y:st[1]}}),pe.emit("gesturechange"===z.type?"pinchzoom":"scrollzoom")}}};a.registerBinding(a.container,"wheel",te,!0),a.registerBinding(i,"scroll",function(z){a.scrollingPage=!0,clearTimeout(a.scrollingPageTimeout),a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0),a.registerBinding(a.container,"gesturestart",function(z){a.gestureStartZoom=a.cy.zoom(),a.hasTouchStarted||z.preventDefault()},!0),a.registerBinding(a.container,"gesturechange",function(ve){a.hasTouchStarted||te(ve)},!0),a.registerBinding(a.container,"mouseout",function(z){var pe=a.projectIntoViewport(z.clientX,z.clientY);a.cy.emit({originalEvent:z,type:"mouseout",position:{x:pe[0],y:pe[1]}})},!1),a.registerBinding(a.container,"mouseover",function(z){var pe=a.projectIntoViewport(z.clientX,z.clientY);a.cy.emit({originalEvent:z,type:"mouseover",position:{x:pe[0],y:pe[1]}})},!1);var Z,se,ne,ee,fe,ge,xe,de,Ce,Pe,Ve,Oe,Fe,Ge,Le,Xe,It,Ft,Re,nt,he=function(z,pe,Me,De){return Math.sqrt((Me-z)*(Me-z)+(De-pe)*(De-pe))},ze=function(z,pe,Me,De){return(Me-z)*(Me-z)+(De-pe)*(De-pe)};if(a.registerBinding(a.container,"touchstart",Ge=function(z){if(a.hasTouchStarted=!0,U(z)){k(),a.touchData.capture=!0,a.data.bgActivePosistion=void 0;var pe=a.cy,Me=a.touchData.now,De=a.touchData.earlier;if(z.touches[0]){var _e=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);Me[0]=_e[0],Me[1]=_e[1]}if(z.touches[1]&&(_e=a.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY),Me[2]=_e[0],Me[3]=_e[1]),z.touches[2]&&(_e=a.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY),Me[4]=_e[0],Me[5]=_e[1]),z.touches[1]){a.touchData.singleTouchMoved=!0,A(a.dragData.touchDragEles);var st=a.findContainerClientCoords();Ve=st[2],Oe=st[3],se=z.touches[0].clientY-(Pe=st[1]),ne=z.touches[1].clientX-(Ce=st[0]),ee=z.touches[1].clientY-Pe,Fe=0<=(Z=z.touches[0].clientX-Ce)&&Z<=Ve&&0<=ne&&ne<=Ve&&0<=se&&se<=Oe&&0<=ee&&ee<=Oe;var me=pe.pan(),Ct=pe.zoom();if(fe=he(Z,se,ne,ee),ge=ze(Z,se,ne,ee),de=[((xe=[(Z+ne)/2,(se+ee)/2])[0]-me.x)/Ct,(xe[1]-me.y)/Ct],ge<4e4&&!z.touches[2]){var zt=a.findNearestElement(Me[0],Me[1],!0,!0),Tn=a.findNearestElement(Me[2],Me[3],!0,!0);return zt&&zt.isNode()?(zt.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:Me[0],y:Me[1]}}),a.touchData.start=zt):Tn&&Tn.isNode()?(Tn.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:Me[0],y:Me[1]}}),a.touchData.start=Tn):pe.emit({originalEvent:z,type:"cxttapstart",position:{x:Me[0],y:Me[1]}}),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}}if(z.touches[2])pe.boxSelectionEnabled()&&z.preventDefault();else if(!z.touches[1]&&z.touches[0]){var Zt=a.findNearestElements(Me[0],Me[1],!0,!0),en=Zt[0];if(null!=en&&(en.activate(),a.touchData.start=en,a.touchData.starts=Zt,a.nodeIsGrabbable(en))){var br=a.dragData.touchDragEles=pe.collection(),xr=null;a.redrawHint("eles",!0),a.redrawHint("drag",!0),en.selected()?(xr=pe.$(function(er){return er.selected()&&a.nodeIsGrabbable(er)}),x(xr,{addToList:br})):R(en,{addToList:br}),D(en);var yi=function(to){return{originalEvent:z,type:to,position:{x:Me[0],y:Me[1]}}};en.emit(yi("grabon")),xr?xr.forEach(function(er){er.emit(yi("grab"))}):en.emit(yi("grab"))}l(en,["touchstart","tapstart","vmousedown"],z,{x:Me[0],y:Me[1]}),null==en&&(a.data.bgActivePosistion={x:_e[0],y:_e[1]},a.redrawHint("select",!0),a.redraw()),a.touchData.singleTouchMoved=!1,a.touchData.singleTouchStartTime=+new Date,clearTimeout(a.touchData.tapholdTimeout),a.touchData.tapholdTimeout=setTimeout(function(){!1===a.touchData.singleTouchMoved&&!a.pinching&&!a.touchData.selecting&&l(a.touchData.start,["taphold"],z,{x:Me[0],y:Me[1]})},a.tapholdDuration)}if(z.touches.length>=1){for(var Qo=a.touchData.startPosition=[null,null,null,null,null,null],ei=0;ei<Me.length;ei++)Qo[ei]=De[ei]=Me[ei];var zi=z.touches[0];a.touchData.startGPosition=[zi.clientX,zi.clientY]}}},!1),a.registerBinding(window,"touchmove",Le=function(z){var pe=a.touchData.capture;if(pe||U(z)){var Me=a.selection,De=a.cy,_e=a.touchData.now,st=a.touchData.earlier,me=De.zoom();if(z.touches[0]){var Ct=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);_e[0]=Ct[0],_e[1]=Ct[1]}z.touches[1]&&(Ct=a.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY),_e[2]=Ct[0],_e[3]=Ct[1]),z.touches[2]&&(Ct=a.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY),_e[4]=Ct[0],_e[5]=Ct[1]);var xn,on=a.touchData.startGPosition;if(pe&&z.touches[0]&&on){for(var zt=[],Tn=0;Tn<_e.length;Tn++)zt[Tn]=_e[Tn]-st[Tn];var Zt=z.touches[0].clientX-on[0],br=z.touches[0].clientY-on[1];xn=Zt*Zt+br*br>=a.touchTapThreshold2}if(pe&&a.touchData.cxt){z.preventDefault();var to=ze(Qo=z.touches[0].clientX-Ce,ei=z.touches[0].clientY-Pe,zi=z.touches[1].clientX-Ce,er=z.touches[1].clientY-Pe);if(to/ge>=2.25||to>=22500){a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var ks={originalEvent:z,type:"cxttapend",position:{x:_e[0],y:_e[1]}};a.touchData.start?(a.touchData.start.unactivate().emit(ks),a.touchData.start=null):De.emit(ks)}}if(pe&&a.touchData.cxt){ks={originalEvent:z,type:"cxtdrag",position:{x:_e[0],y:_e[1]}},a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.touchData.start?a.touchData.start.emit(ks):De.emit(ks),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxtDragged=!0;var Tr=a.findNearestElement(_e[0],_e[1],!0,!0);(!a.touchData.cxtOver||Tr!==a.touchData.cxtOver)&&(a.touchData.cxtOver&&a.touchData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:_e[0],y:_e[1]}}),a.touchData.cxtOver=Tr,Tr&&Tr.emit({originalEvent:z,type:"cxtdragover",position:{x:_e[0],y:_e[1]}}))}else if(pe&&z.touches[2]&&De.boxSelectionEnabled())z.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||De.emit({originalEvent:z,type:"boxstart",position:{x:_e[0],y:_e[1]}}),a.touchData.selecting=!0,a.touchData.didSelect=!0,Me[4]=1,Me&&0!==Me.length&&void 0!==Me[0]?(Me[2]=(_e[0]+_e[2]+_e[4])/3,Me[3]=(_e[1]+_e[3]+_e[5])/3):(Me[0]=(_e[0]+_e[2]+_e[4])/3,Me[1]=(_e[1]+_e[3]+_e[5])/3,Me[2]=(_e[0]+_e[2]+_e[4])/3+1,Me[3]=(_e[1]+_e[3]+_e[5])/3+1),a.redrawHint("select",!0),a.redraw();else if(pe&&z.touches[1]&&!a.touchData.didSelect&&De.zoomingEnabled()&&De.panningEnabled()&&De.userZoomingEnabled()&&De.userPanningEnabled()){if(z.preventDefault(),a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),kt=a.dragData.touchDragEles){a.redrawHint("drag",!0);for(var ji=0;ji<kt.length;ji++){var wi=kt[ji]._private;wi.grabbed=!1,wi.rscratch.inDragLayer=!1}}var Qo,ei,zi,er,Jo=a.touchData.start,Du=he(Qo=z.touches[0].clientX-Ce,ei=z.touches[0].clientY-Pe,zi=z.touches[1].clientX-Ce,er=z.touches[1].clientY-Pe),kn=Du/fe;if(Fe){var Gp=(Qo-Z+(zi-ne))/2,xv=(ei-se+(er-ee))/2,wc=De.zoom(),Ch=wc*kn,Ud=De.pan(),qp=de[0]*wc+Ud.x,ss=de[1]*wc+Ud.y,bc={x:-Ch/wc*(qp-Ud.x-Gp)+qp,y:-Ch/wc*(ss-Ud.y-xv)+ss};Jo&&Jo.active()&&(A(kt=a.dragData.touchDragEles),a.redrawHint("drag",!0),a.redrawHint("eles",!0),Jo.unactivate().emit("freeon"),kt.emit("free"),a.dragData.didDrag&&(Jo.emit("dragfreeon"),kt.emit("dragfree"))),De.viewport({zoom:Ch,pan:bc,cancelOnFailedZoom:!0}),De.emit("pinchzoom"),fe=Du,Z=Qo,se=ei,ne=zi,ee=er,a.pinching=!0}z.touches[0]&&(Ct=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY),_e[0]=Ct[0],_e[1]=Ct[1]),z.touches[1]&&(Ct=a.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY),_e[2]=Ct[0],_e[3]=Ct[1]),z.touches[2]&&(Ct=a.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY),_e[4]=Ct[0],_e[5]=Ct[1])}else if(z.touches[0]&&!a.touchData.didSelect){var ea=a.touchData.start,Wp=a.touchData.last;if(!a.hoverData.draggingEles&&!a.swipePanning&&(Tr=a.findNearestElement(_e[0],_e[1],!0,!0)),pe&&null!=ea&&z.preventDefault(),pe&&null!=ea&&a.nodeIsDraggable(ea))if(xn){var kt=a.dragData.touchDragEles,Mv=!a.dragData.didDrag;Mv&&x(kt,{inDragLayer:!0}),a.dragData.didDrag=!0;var zd={x:0,y:0};at(zt[0])&&at(zt[1])&&(zd.x+=zt[0],zd.y+=zt[1],Mv)&&(a.redrawHint("eles",!0),(Bo=a.touchData.dragDelta)&&at(Bo[0])&&at(Bo[1])&&(zd.x+=Bo[0],zd.y+=Bo[1])),a.hoverData.draggingEles=!0,kt.silentShift(zd).emit("position drag"),a.redrawHint("drag",!0),a.touchData.startPosition[0]==st[0]&&a.touchData.startPosition[1]==st[1]&&a.redrawHint("eles",!0),a.redraw()}else{var Bo;0===(Bo=a.touchData.dragDelta=a.touchData.dragDelta||[]).length?(Bo.push(zt[0]),Bo.push(zt[1])):(Bo[0]+=zt[0],Bo[1]+=zt[1])}if(l(ea||Tr,["touchmove","tapdrag","vmousemove"],z,{x:_e[0],y:_e[1]}),(!ea||!ea.grabbed())&&Tr!=Wp&&(Wp&&Wp.emit({originalEvent:z,type:"tapdragout",position:{x:_e[0],y:_e[1]}}),Tr&&Tr.emit({originalEvent:z,type:"tapdragover",position:{x:_e[0],y:_e[1]}})),a.touchData.last=Tr,pe)for(ji=0;ji<_e.length;ji++)_e[ji]&&a.touchData.startPosition[ji]&&xn&&(a.touchData.singleTouchMoved=!0);pe&&(null==ea||ea.pannable())&&De.panningEnabled()&&De.userPanningEnabled()&&(h(ea,a.touchData.starts)&&(z.preventDefault(),a.data.bgActivePosistion||(a.data.bgActivePosistion=Nl(a.touchData.startPosition)),a.swipePanning?(De.panBy({x:zt[0]*me,y:zt[1]*me}),De.emit("dragpan")):xn&&(a.swipePanning=!0,De.panBy({x:Zt*me,y:br*me}),De.emit("dragpan"),ea&&(ea.unactivate(),a.redrawHint("select",!0),a.touchData.start=null))),Ct=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY),_e[0]=Ct[0],_e[1]=Ct[1])}for(Tn=0;Tn<_e.length;Tn++)st[Tn]=_e[Tn];pe&&z.touches.length>0&&!a.hoverData.draggingEles&&!a.swipePanning&&null!=a.data.bgActivePosistion&&(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.redraw())}},!1),a.registerBinding(i,"touchcancel",Xe=function(z){var pe=a.touchData.start;a.touchData.capture=!1,pe&&pe.unactivate()}),a.registerBinding(i,"touchend",It=function(z){var pe=a.touchData.start;if(a.touchData.capture){0===z.touches.length&&(a.touchData.capture=!1),z.preventDefault();var De=a.selection;a.swipePanning=!1,a.hoverData.draggingEles=!1;var xn,_e=a.cy,st=_e.zoom(),me=a.touchData.now,Ct=a.touchData.earlier;if(z.touches[0]){var on=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);me[0]=on[0],me[1]=on[1]}if(z.touches[1]&&(on=a.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY),me[2]=on[0],me[3]=on[1]),z.touches[2]&&(on=a.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY),me[4]=on[0],me[5]=on[1]),pe&&pe.unactivate(),a.touchData.cxt){if(xn={originalEvent:z,type:"cxttapend",position:{x:me[0],y:me[1]}},pe?pe.emit(xn):_e.emit(xn),!a.touchData.cxtDragged){var zt={originalEvent:z,type:"cxttap",position:{x:me[0],y:me[1]}};pe?pe.emit(zt):_e.emit(zt)}return a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw()}if(!z.touches[2]&&_e.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;var Tn=_e.collection(a.getAllInBox(De[0],De[1],De[2],De[3]));De[0]=void 0,De[1]=void 0,De[2]=void 0,De[3]=void 0,De[4]=0,a.redrawHint("select",!0),_e.emit({type:"boxend",originalEvent:z,position:{x:me[0],y:me[1]}}),Tn.emit("box").stdFilter(function(Na){return Na.selectable()&&!Na.selected()}).select().emit("boxselect"),Tn.nonempty()&&a.redrawHint("eles",!0),a.redraw()}if(pe?.unactivate(),z.touches[2])a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);else if(!z.touches[1]&&!z.touches[0]&&!z.touches[0]){a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var en=a.dragData.touchDragEles;if(null!=pe){var br=pe._private.grabbed;A(en),a.redrawHint("drag",!0),a.redrawHint("eles",!0),br&&(pe.emit("freeon"),en.emit("free"),a.dragData.didDrag&&(pe.emit("dragfreeon"),en.emit("dragfree"))),l(pe,["touchend","tapend","vmouseup","tapdragout"],z,{x:me[0],y:me[1]}),pe.unactivate(),a.touchData.start=null}else{var xr=a.findNearestElement(me[0],me[1],!0,!0);l(xr,["touchend","tapend","vmouseup","tapdragout"],z,{x:me[0],y:me[1]})}var yi=a.touchData.startPosition[0]-me[0],ei=a.touchData.startPosition[1]-me[1],to=(yi*yi+ei*ei)*st*st;a.touchData.singleTouchMoved||(pe||_e.$(":selected").unselect(["tapunselect"]),l(pe,["tap","vclick"],z,{x:me[0],y:me[1]}),Ft=!1,z.timeStamp-nt<=_e.multiClickDebounceTime()?(Re&&clearTimeout(Re),Ft=!0,nt=null,l(pe,["dbltap","vdblclick"],z,{x:me[0],y:me[1]})):(Re=setTimeout(function(){Ft||l(pe,["onetap","voneclick"],z,{x:me[0],y:me[1]})},_e.multiClickDebounceTime()),nt=z.timeStamp)),null!=pe&&!a.dragData.didDrag&&pe._private.selectable&&to<a.touchTapThreshold2&&!a.pinching&&("single"===_e.selectionType()?(_e.$(s).unmerge(pe).unselect(["tapunselect"]),pe.select(["tapselect"])):pe.selected()?pe.unselect(["tapunselect"]):pe.select(["tapselect"]),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved=!0}for(var os=0;os<me.length;os++)Ct[os]=me[os];a.dragData.didDrag=!1,0===z.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=[null,null,null,null,null,null],a.touchData.startGPosition=null,a.touchData.didSelect=!1),z.touches.length<2&&(1===z.touches.length&&(a.touchData.startGPosition=[z.touches[0].clientX,z.touches[0].clientY]),a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),typeof TouchEvent>"u"){var gt=[],ot=function(z){return{clientX:z.clientX,clientY:z.clientY,force:1,identifier:z.pointerId,pageX:z.pageX,pageY:z.pageY,radiusX:z.width/2,radiusY:z.height/2,screenX:z.screenX,screenY:z.screenY,target:z.target}},yn=function(z){for(var pe=0;pe<gt.length;pe++)if(gt[pe].event.pointerId===z.pointerId)return void gt.splice(pe,1)},$t=function(z){z.touches=gt.map(function(pe){return pe.touch})},cn=function(z){return"mouse"===z.pointerType||4===z.pointerType};a.registerBinding(a.container,"pointerdown",function(ve){cn(ve)||(ve.preventDefault(),gt.push(function(z){return{event:z,touch:ot(z)}}(ve)),$t(ve),Ge(ve))}),a.registerBinding(a.container,"pointerup",function(ve){cn(ve)||(yn(ve),$t(ve),It(ve))}),a.registerBinding(a.container,"pointercancel",function(ve){cn(ve)||(yn(ve),$t(ve),Xe())}),a.registerBinding(a.container,"pointermove",function(ve){var z,pe;cn(ve)||(ve.preventDefault(),z=ve,(pe=gt.filter(function(Me){return Me.event.pointerId===z.pointerId})[0]).event=z,pe.touch=ot(z),$t(ve),Le(ve))})}};var Ma={generatePolygon:function(a,i){return this.nodeShapes[a]={renderer:this,name:a,points:i,draw:function(l,f,h,p,m){this.renderer.nodeShapeImpl("polygon",l,f,h,p,m,this.points)},intersectLine:function(l,f,h,p,m,b,w){return Cn(m,b,this.points,l,f,h/2,p/2,w)},checkPoint:function(l,f,h,p,m,b,w){return Io(l,f,this.points,b,w,p,m,[0,-1],h)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},intersectLine:function(i,s,l,f,h,p,m){return function(i,s,l,f,h,p){var m=l-i,b=f-s;m/=h,b/=p;var w=Math.sqrt(m*m+b*b),D=w-1;if(D<0)return[];var E=D/w;return[(l-i)*E+i,(f-s)*E+s]}(h,p,i,s,l/2+m,f/2+m)},checkPoint:function(i,s,l,f,h,p,m){return hs(i,s,f,h,p,m,l)}}},generateRoundPolygon:function(a,i){for(var s=new Array(2*i.length),l=0;l<i.length/2;l++){var h,f=2*l;h=l<i.length/2-1?2*(l+1):0,s[4*l]=i[f],s[4*l+1]=i[f+1];var p=i[h]-i[f],m=i[h+1]-i[f+1],b=Math.sqrt(p*p+m*m);s[4*l+2]=p/b,s[4*l+3]=m/b}return this.nodeShapes[a]={renderer:this,name:a,points:s,draw:function(D,E,S,M,x){this.renderer.nodeShapeImpl("round-polygon",D,E,S,M,x,this.points)},intersectLine:function(D,E,S,M,x,R,A){return function(i,s,l,f,h,p,m,b){for(var D,w=[],E=new Array(l.length),S=p/2,M=m/2,x=Bl(p,m),R=0;R<l.length/4;R++){var P,A;A=0===R?l.length-2:4*R-2,P=4*R+2;var k=f+S*l[4*R],O=h+M*l[4*R+1],q=x/Math.tan(Math.acos(-l[A]*l[P]-l[A+1]*l[P+1])/2),K=k-q*l[A],$=O-q*l[A+1],W=k+q*l[P],U=O+q*l[P+1];0===R?(E[l.length-2]=K,E[l.length-1]=$):(E[4*R-2]=K,E[4*R-1]=$),E[4*R]=W,E[4*R+1]=U;var Y=l[A+1],X=-l[A];Y*l[P]+X*l[P+1]<0&&(Y*=-1,X*=-1),0!==(D=Gn(i,s,f,h,K+Y*x,$+X*x,x)).length&&w.push(D[0],D[1])}for(var se=0;se<E.length/4;se++)0!==(D=ps(i,s,f,h,E[4*se],E[4*se+1],E[4*se+2],E[4*se+3],!1)).length&&w.push(D[0],D[1]);if(w.length>2){for(var ne=[w[0],w[1]],ee=Math.pow(ne[0]-i,2)+Math.pow(ne[1]-s,2),fe=1;fe<w.length/2;fe++){var ge=Math.pow(w[2*fe]-i,2)+Math.pow(w[2*fe+1]-s,2);ge<=ee&&(ne[0]=w[2*fe],ne[1]=w[2*fe+1],ee=ge)}return ne}return w}(x,R,this.points,D,E,S,M)},checkPoint:function(D,E,S,M,x,R,A){return function(i,s,l,f,h,p,m){for(var b=new Array(l.length),w=p/2,D=m/2,E=Bl(p,m),S=E*E,M=0;M<l.length/4;M++){var R,x;x=0===M?l.length-2:4*M-2,R=4*M+2;var A=f+w*l[4*M],P=h+D*l[4*M+1],O=E/Math.tan(Math.acos(-l[x]*l[R]-l[x+1]*l[R+1])/2),V=A-O*l[x],q=P-O*l[x+1],K=A+O*l[R],$=P+O*l[R+1];b[4*M]=V,b[4*M+1]=q,b[4*M+2]=K,b[4*M+3]=$;var W=l[x+1],U=-l[x];W*l[R]+U*l[R+1]<0&&(W*=-1,U*=-1);var G=q+U*E;if(Math.pow(V+W*E-i,2)+Math.pow(G-s,2)<=S)return!0}return ni(i,s,b)}(D,E,this.points,R,A,M,x)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:hn(4,0),draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},intersectLine:function(i,s,l,f,h,p,m){return ci(h,p,i,s,l,f,m)},checkPoint:function(i,s,l,f,h,p,m){var b=Xs(f,h),w=2*b;return!!(Io(i,s,this.points,p,m,f,h-w,[0,-1],l)||Io(i,s,this.points,p,m,f-w,h,[0,-1],l)||hs(i,s,w,w,p-f/2+b,m-h/2+b,l)||hs(i,s,w,w,p+f/2-b,m-h/2+b,l)||hs(i,s,w,w,p+f/2-b,m+h/2-b,l)||hs(i,s,w,w,p-f/2+b,m+h/2-b,l))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:hn(4,0),draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},generateCutTrianglePts:function(i,s,l,f){var h=this.cornerLength,p=s/2,m=i/2,b=l-m,w=l+m,D=f-p,E=f+p;return{topLeft:[b,D+h,b+h,D,b+h,D+h],topRight:[w-h,D,w,D+h,w-h,D+h],bottomRight:[w,E-h,w-h,E,w-h,E-h],bottomLeft:[b+h,E,b,E-h,b+h,E-h]}},intersectLine:function(i,s,l,f,h,p,m){var b=this.generateCutTrianglePts(l+2*m,f+2*m,i,s),w=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return Cn(h,p,w,i,s)},checkPoint:function(i,s,l,f,h,p,m){if(Io(i,s,this.points,p,m,f,h-2*this.cornerLength,[0,-1],l)||Io(i,s,this.points,p,m,f-2*this.cornerLength,h,[0,-1],l))return!0;var b=this.generateCutTrianglePts(f,h,p,m);return ni(i,s,b.topLeft)||ni(i,s,b.topRight)||ni(i,s,b.bottomRight)||ni(i,s,b.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:hn(4,0),draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},intersectLine:function(i,s,l,f,h,p,m){var E=this.generateBarrelBezierPts(l+2*m,f+2*m,i,s),S=function(R){var A=Ks({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.15),P=Ks({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.5),k=Ks({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.85);return[R[0],R[1],A.x,A.y,P.x,P.y,k.x,k.y,R[4],R[5]]},M=[].concat(S(E.topLeft),S(E.topRight),S(E.bottomRight),S(E.bottomLeft));return Cn(h,p,M,i,s)},generateBarrelBezierPts:function(i,s,l,f){var h=s/2,p=i/2,m=l-p,b=l+p,w=f-h,D=f+h,E=ip(i,s),S=E.heightOffset,M=E.widthOffset,x=E.ctrlPtOffsetPct*i,R={topLeft:[m,w+S,m+x,w,m+M,w],topRight:[b-M,w,b-x,w,b,w+S],bottomRight:[b,D-S,b-x,D,b-M,D],bottomLeft:[m+M,D,m+x,D,m,D-S]};return R.topLeft.isTop=!0,R.topRight.isTop=!0,R.bottomLeft.isBottom=!0,R.bottomRight.isBottom=!0,R},checkPoint:function(i,s,l,f,h,p,m){var b=ip(f,h),D=b.widthOffset;if(Io(i,s,this.points,p,m,f,h-2*b.heightOffset,[0,-1],l)||Io(i,s,this.points,p,m,f-2*D,h,[0,-1],l))return!0;for(var E=this.generateBarrelBezierPts(f,h,p,m),S=function($,W,U){var Y=U[4],X=U[2],G=U[0],te=U[5],Z=U[1],se=Math.min(Y,G),ne=Math.max(Y,G),ee=Math.min(te,Z),fe=Math.max(te,Z);if(se<=$&&$<=ne&&ee<=W&&W<=fe){var ge=function(i,s,l){return[i-2*s+l,2*(s-i),i]}(Y,X,G),xe=function(i,s,l,f){var h=s*s-4*i*(l-=f);if(h<0)return[];var p=Math.sqrt(h),m=2*i;return[(-s+p)/m,(-s-p)/m]}(ge[0],ge[1],ge[2],$),de=xe.filter(function(Ce){return 0<=Ce&&Ce<=1});if(de.length>0)return de[0]}return null},M=Object.keys(E),x=0;x<M.length;x++){var A=E[M[x]],P=S(i,s,A);if(null!=P){var q=ti(A[5],A[3],A[1],P);if(A.isTop&&q<=s||A.isBottom&&s<=q)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:hn(4,0),draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},intersectLine:function(i,s,l,f,h,p,m){var w=s-(f/2+m),S=ps(h,p,i,s,i-(l/2+m),w,i+(l/2+m),w,!1);return S.length>0?S:ci(h,p,i,s,l,f,m)},checkPoint:function(i,s,l,f,h,p,m){var b=Xs(f,h),w=2*b;if(Io(i,s,this.points,p,m,f,h-w,[0,-1],l)||Io(i,s,this.points,p,m,f-w,h,[0,-1],l))return!0;var D=f/2+2*l,E=h/2+2*l;return!!(ni(i,s,[p-D,m-E,p-D,m,p+D,m,p+D,m-E])||hs(i,s,w,w,p+f/2-b,m+h/2-b,l)||hs(i,s,w,w,p-f/2+b,m+h/2-b,l))}}},registerNodeShapes:function(){var a=this.nodeShapes={},i=this;this.generateEllipse(),this.generatePolygon("triangle",hn(3,0)),this.generateRoundPolygon("round-triangle",hn(3,0)),this.generatePolygon("rectangle",hn(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var s=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",s),this.generateRoundPolygon("round-diamond",s),this.generatePolygon("pentagon",hn(5,0)),this.generateRoundPolygon("round-pentagon",hn(5,0)),this.generatePolygon("hexagon",hn(6,0)),this.generateRoundPolygon("round-hexagon",hn(6,0)),this.generatePolygon("heptagon",hn(7,0)),this.generateRoundPolygon("round-heptagon",hn(7,0)),this.generatePolygon("octagon",hn(8,0)),this.generateRoundPolygon("round-octagon",hn(8,0));var l=new Array(20),f=zu(5,0),h=zu(5,Math.PI/5),p=.5*(3-Math.sqrt(5));p*=1.57;for(var m=0;m<h.length/2;m++)h[2*m]*=p,h[2*m+1]*=p;for(m=0;m<5;m++)l[4*m]=f[2*m],l[4*m+1]=f[2*m+1],l[4*m+2]=h[2*m],l[4*m+3]=h[2*m+1];l=zo(l),this.generatePolygon("star",l),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var b=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",b),this.generateRoundPolygon("round-tag",b),a.makePolygon=function(w){var S,E="polygon-"+w.join("$");return(S=this[E])?S:i.generatePolygon(E,w)}}},Ia={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(a){a=a||Zc();var i=this;void 0===i.averageRedrawTime&&(i.averageRedrawTime=0),void 0===i.lastRedrawTime&&(i.lastRedrawTime=0),void 0===i.lastDrawTime&&(i.lastDrawTime=0),i.requestedFrame=!0,i.renderOptions=a},beforeRender:function(a,i){if(!this.destroyed){null==i&&Hn("Priority is not optional for beforeRender");var s=this.beforeRenderCallbacks;s.push({fn:a,priority:i}),s.sort(function(l,f){return f.priority-l.priority})}}},uh=function(i,s,l){for(var f=i.beforeRenderCallbacks,h=0;h<f.length;h++)f[h].fn(s,l)};Ia.startRenderLoop=function(){var a=this,i=a.cy;a.renderLoopStarted||(a.renderLoopStarted=!0,zc(function l(f){if(!a.destroyed){if(!i.batching())if(a.requestedFrame&&!a.skipFrame){uh(a,!0,f);var h=Ba();a.render(a.renderOptions);var p=a.lastDrawTime=Ba();void 0===a.averageRedrawTime&&(a.averageRedrawTime=p-h),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var m=p-h;a.redrawTotalTime+=m,a.lastRedrawTime=m,a.averageRedrawTime=a.averageRedrawTime/2+m/2,a.requestedFrame=!1}else uh(a,!1,f);a.skipFrame=!1,zc(l)}}))};var Ad=function(i){this.init(i)},Sr=Ad.prototype;Sr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Sr.init=function(a){var i=this;i.options=a,i.cy=a.cy;var s=i.container=a.cy.container(),l=i.cy.window();if(l){var f=l.document,h=f.head,p="__________cytoscape_stylesheet",m="__________cytoscape_container",b=null!=f.getElementById(p);if(s.className.indexOf(m)<0&&(s.className=(s.className||"")+" "+m),!b){var w=f.createElement("style");w.id=p,w.textContent="."+m+" { position: relative; }",h.insertBefore(w,h.children[0])}"static"===l.getComputedStyle(s).getPropertyValue("position")&&Kt("A Cytoscape container has style position:static and so can not use UI extensions properly")}i.selection=[void 0,void 0,void 0,void 0,0],i.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],i.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},i.dragData={possibleDragElements:[]},i.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},i.redraws=0,i.showFps=a.showFps,i.debug=a.debug,i.hideEdgesOnViewport=a.hideEdgesOnViewport,i.textureOnViewport=a.textureOnViewport,i.wheelSensitivity=a.wheelSensitivity,i.motionBlurEnabled=a.motionBlur,i.forcedPixelRatio=at(a.pixelRatio)?a.pixelRatio:null,i.motionBlur=a.motionBlur,i.motionBlurOpacity=a.motionBlurOpacity,i.motionBlurTransparency=1-i.motionBlurOpacity,i.motionBlurPxRatio=1,i.mbPxRBlurry=1,i.minMbLowQualFrames=4,i.fullQualityMb=!1,i.clearedForMotionBlur=[],i.desktopTapThreshold=a.desktopTapThreshold,i.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,i.touchTapThreshold=a.touchTapThreshold,i.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,i.tapholdDuration=500,i.bindings=[],i.beforeRenderCallbacks=[],i.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},i.registerNodeShapes(),i.registerArrowShapes(),i.registerCalculationListeners()},Sr.notify=function(a,i){var s=this,l=s.cy;if(!this.destroyed){if("init"===a)return void s.load();if("destroy"===a)return void s.destroy();("add"===a||"remove"===a||"move"===a&&l.hasCompoundNodes()||"load"===a||"zorder"===a||"mount"===a)&&s.invalidateCachedZSortedEles(),"viewport"===a&&s.redrawHint("select",!0),("load"===a||"resize"===a||"mount"===a)&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container)),s.redrawHint("eles",!0),s.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Sr.destroy=function(){var a=this;a.destroyed=!0,a.cy.stopAnimationLoop();for(var i=0;i<a.bindings.length;i++){var s=a.bindings[i],f=s.target;(f.off||f.removeEventListener).apply(f,s.args)}if(a.bindings=[],a.beforeRenderCallbacks=[],a.onUpdateEleCalcsFns=[],a.removeObserver&&a.removeObserver.disconnect(),a.styleObserver&&a.styleObserver.disconnect(),a.resizeObserver&&a.resizeObserver.disconnect(),a.labelCalcDiv)try{document.body.removeChild(a.labelCalcDiv)}catch{}},Sr.isHeadless=function(){return!1},[Md,As,Ap,hu,Ma,Ia].forEach(function(a){Nt(Sr,a)});var ns=1e3/60,Rd_setupDequeueing=function(i){return function(){var l=this,f=this.renderer;if(!l.dequeueingSetup){l.dequeueingSetup=!0;var h=rt.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},i.deqRedrawThreshold);f.beforeRender(function(w,D){var E=Ba(),S=f.averageRedrawTime,M=f.lastRedrawTime,x=[],R=f.cy.extent(),A=f.getPixelRatio();for(w||f.flushRenderedStyleQueue();;){var P=Ba(),k=P-E,O=P-D;if(M<ns){if(O>=i.deqFastCost*(ns-(w?S:0)))break}else if(w){if(k>=i.deqCost*M||k>=i.deqAvgCost*S)break}else if(O>=i.deqNoDrawCost*ns)break;var q=i.deq(l,A,R);if(!(q.length>0))break;for(var K=0;K<q.length;K++)x.push(q[K])}x.length>0&&(i.onDeqd(l,x),!w&&i.shouldRedraw(l,x,A,R)&&h())},(i.priority||wf)(l))}}},lh=function(){function a(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Il;Dr(this,a),this.idsByKey=new da,this.keyForId=new da,this.cachesByLvl=new da,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=s}return $n(a,[{key:"getIdsFor",value:function(s){null==s&&Hn("Can not get id list for null key");var l=this.idsByKey,f=this.idsByKey.get(s);return f||(f=new Vu,l.set(s,f)),f}},{key:"addIdForKey",value:function(s,l){null!=s&&this.getIdsFor(s).add(l)}},{key:"deleteIdForKey",value:function(s,l){null!=s&&this.getIdsFor(s).delete(l)}},{key:"getNumberOfIdsForKey",value:function(s){return null==s?0:this.getIdsFor(s).size}},{key:"updateKeyMappingFor",value:function(s){var l=s.id(),f=this.keyForId.get(l),h=this.getKey(s);this.deleteIdForKey(f,l),this.addIdForKey(h,l),this.keyForId.set(l,h)}},{key:"deleteKeyMappingFor",value:function(s){var l=s.id(),f=this.keyForId.get(l);this.deleteIdForKey(f,l),this.keyForId.delete(l)}},{key:"keyHasChangedFor",value:function(s){var l=s.id();return this.keyForId.get(l)!==this.getKey(s)}},{key:"isInvalid",value:function(s){return this.keyHasChangedFor(s)||this.doesEleInvalidateKey(s)}},{key:"getCachesAt",value:function(s){var l=this.cachesByLvl,f=this.lvls,h=l.get(s);return h||(h=new da,l.set(s,h),f.push(s)),h}},{key:"getCache",value:function(s,l){return this.getCachesAt(l).get(s)}},{key:"get",value:function(s,l){var f=this.getKey(s),h=this.getCache(f,l);return null!=h&&this.updateKeyMappingFor(s),h}},{key:"getForCachedKey",value:function(s,l){var f=this.keyForId.get(s.id());return this.getCache(f,l)}},{key:"hasCache",value:function(s,l){return this.getCachesAt(l).has(s)}},{key:"has",value:function(s,l){var f=this.getKey(s);return this.hasCache(f,l)}},{key:"setCache",value:function(s,l,f){f.key=s,this.getCachesAt(l).set(s,f)}},{key:"set",value:function(s,l,f){var h=this.getKey(s);this.setCache(h,l,f),this.updateKeyMappingFor(s)}},{key:"deleteCache",value:function(s,l){this.getCachesAt(l).delete(s)}},{key:"delete",value:function(s,l){var f=this.getKey(s);this.deleteCache(f,l)}},{key:"invalidateKey",value:function(s){var l=this;this.lvls.forEach(function(f){return l.deleteCache(s,f)})}},{key:"invalidate",value:function(s){var l=s.id(),f=this.keyForId.get(l);this.deleteKeyMappingFor(s);var h=this.doesEleInvalidateKey(s);return h&&this.invalidateKey(f),h||0===this.getNumberOfIdsForKey(f)}}]),a}(),fr={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Rp=kr({getKey:null,doesEleInvalidateKey:Il,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Wh,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Aa=function(i,s){var l=this;l.renderer=i,l.onDequeues=[];var f=Rp(s);Nt(l,f),l.lookup=new lh(f.getKey,f.doesEleInvalidateKey),l.setupDequeueing()},Jr=Aa.prototype;Jr.reasons=fr,Jr.getTextureQueue=function(a){var i=this;return i.eleImgCaches=i.eleImgCaches||{},i.eleImgCaches[a]=i.eleImgCaches[a]||[]},Jr.getRetiredTextureQueue=function(a){var s=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return s[a]=s[a]||[]},Jr.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new mt.default(function(s,l){return l.reqs-s.reqs})},Jr.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Jr.getElement=function(a,i,s,l,f){var h=this,p=this.renderer,m=p.cy.zoom(),b=this.lookup;if(!i||0===i.w||0===i.h||isNaN(i.w)||isNaN(i.h)||!a.visible()||a.removed()||!h.allowEdgeTxrCaching&&a.isEdge()||!h.allowParentTxrCaching&&a.isParent())return null;if(null==l&&(l=Math.ceil(tp(m*s))),l<-4)l=-4;else if(m>=7.99||l>3)return null;var w=Math.pow(2,l),D=i.h*w,E=i.w*w,S=p.eleTextBiggerThanMin(a,w);if(!this.isVisible(a,S))return null;var x,M=b.get(a,l);if(M&&M.invalidated&&(M.invalidated=!1,M.texture.invalidatedWidth-=M.width),M)return M;if(x=D<=25?25:D<=50?50:50*Math.ceil(D/50),D>1024||E>1024)return null;var R=h.getTextureQueue(x),A=R[R.length-2],P=function(){return h.recycleTexture(x,E)||h.addTexture(x,E)};A||(A=R[R.length-1]),A||(A=P()),A.width-A.usedWidth<E&&(A=P());for(var K,k=function(ne){return ne&&ne.scaledLabelShown===S},O=f&&f===fr.dequeue,V=f&&f===fr.highQuality,q=f&&f===fr.downscale,$=l+1;$<=3;$++){var W=b.get(a,$);if(W){K=W;break}}var U=K&&K.level===l+1?K:null,Y=function(){A.context.drawImage(U.texture.canvas,U.x,0,U.width,U.height,A.usedWidth,0,E,D)};if(A.context.setTransform(1,0,0,1,0,0),A.context.clearRect(A.usedWidth,0,E,x),k(U))Y();else if(k(K)){if(!V)return h.queueElement(a,K.level-1),K;for(var X=K.level;X>l;X--)U=h.getElement(a,i,s,X,fr.downscale);Y()}else{var G;if(!O&&!V&&!q)for(var te=l-1;te>=-4;te--){var Z=b.get(a,te);if(Z){G=Z;break}}if(k(G))return h.queueElement(a,l),G;A.context.translate(A.usedWidth,0),A.context.scale(w,w),this.drawElement(A.context,a,i,S,!1),A.context.scale(1/w,1/w),A.context.translate(-A.usedWidth,0)}return M={x:A.usedWidth,texture:A,level:l,scale:w,width:E,height:D,scaledLabelShown:S},A.usedWidth+=Math.ceil(E+8),A.eleCaches.push(M),b.set(a,l,M),h.checkTextureFullness(A),M},Jr.invalidateElements=function(a){for(var i=0;i<a.length;i++)this.invalidateElement(a[i])},Jr.invalidateElement=function(a){var i=this,s=i.lookup,l=[];if(s.isInvalid(a)){for(var h=-4;h<=3;h++){var p=s.getForCachedKey(a,h);p&&l.push(p)}if(s.invalidate(a))for(var b=0;b<l.length;b++){var w=l[b],D=w.texture;D.invalidatedWidth+=w.width,w.invalidated=!0,i.checkTextureUtility(D)}i.removeFromQueue(a)}},Jr.checkTextureUtility=function(a){a.invalidatedWidth>=.2*a.width&&this.retireTexture(a)},Jr.checkTextureFullness=function(a){var s=this.getTextureQueue(a.height);a.usedWidth/a.width>.8&&a.fullnessChecks>=10?xo(s,a):a.fullnessChecks++},Jr.retireTexture=function(a){var s=a.height,l=this.getTextureQueue(s),f=this.lookup;xo(l,a),a.retired=!0;for(var h=a.eleCaches,p=0;p<h.length;p++){var m=h[p];f.deleteCache(m.key,m.level)}bf(h),this.getRetiredTextureQueue(s).push(a)},Jr.addTexture=function(a,i){var f={};return this.getTextureQueue(a).push(f),f.eleCaches=[],f.height=a,f.width=Math.max(1024,i),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},Jr.recycleTexture=function(a,i){for(var l=this.getTextureQueue(a),f=this.getRetiredTextureQueue(a),h=0;h<f.length;h++){var p=f[h];if(p.width>=i)return p.retired=!1,p.usedWidth=0,p.invalidatedWidth=0,p.fullnessChecks=0,bf(p.eleCaches),p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(0,0,p.width,p.height),xo(f,p),l.push(p),p}},Jr.queueElement=function(a,i){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(a),p=f[h];if(p)p.level=Math.max(p.level,i),p.eles.merge(a),p.reqs++,l.updateItem(p);else{var m={eles:a.spawn().merge(a),level:i,reqs:1,key:h};l.push(m),f[h]=m}},Jr.dequeue=function(a){for(var i=this,s=i.getElementQueue(),l=i.getElementKeyToQueue(),f=[],h=i.lookup,p=0;p<1&&s.size()>0;p++){var m=s.pop(),b=m.key,w=m.eles[0],D=h.hasCache(w,m.level);if(l[b]=null,!D){f.push(m);var E=i.getBoundingBox(w);i.getElement(w,E,a,m.level,fr.dequeue)}}return f},Jr.removeFromQueue=function(a){var s=this.getElementQueue(),l=this.getElementKeyToQueue(),f=this.getKey(a),h=l[f];null!=h&&(1===h.eles.length?(h.reqs=yf,s.updateItem(h),s.pop(),l[f]=null):h.eles.unmerge(a))},Jr.onDequeue=function(a){this.onDequeues.push(a)},Jr.offDequeue=function(a){xo(this.onDequeues,a)},Jr.setupDequeueing=Rd_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,s,l){return i.dequeue(s,l)},onDeqd:function(i,s){for(var l=0;l<i.onDequeues.length;l++)(0,i.onDequeues[l])(s)},shouldRedraw:function(i,s,l,f){for(var h=0;h<s.length;h++)for(var p=s[h].eles,m=0;m<p.length;m++){var b=p[m].boundingBox();if(np(b,f))return!0}return!1},priority:function(i){return i.renderer.beforeRenderPriorities.eleTxrDeq}});var Np=function(i){var s=this,l=s.renderer=i,f=l.cy;s.layersByLevel={},s.firstGet=!0,s.lastInvalidationTime=Ba()-500,s.skipping=!1,s.eleTxrDeqs=f.collection(),s.scheduleElementRefinement=rt.default(function(){s.refineElementTextures(s.eleTxrDeqs),s.eleTxrDeqs.unmerge(s.eleTxrDeqs)},50),l.beforeRender(function(p,m){s.skipping=m-s.lastInvalidationTime<=250},l.beforeRenderPriorities.lyrTxrSkip),s.layersQueue=new mt.default(function(m,b){return b.reqs-m.reqs}),s.setupDequeueing()},mi=Np.prototype,Pp=0,bv=Math.pow(2,53)-1;mi.makeLayer=function(a,i){var s=Math.pow(2,i),l=Math.ceil(a.w*s),f=Math.ceil(a.h*s),h=this.renderer.makeOffscreenCanvas(l,f),p={id:Pp=++Pp%bv,bb:a,level:i,width:l,height:f,canvas:h,context:h.getContext("2d"),eles:[],elesQueue:[],reqs:0},m=p.context,b=-p.bb.x1,w=-p.bb.y1;return m.scale(s,s),m.translate(b,w),p},mi.getLayers=function(a,i,s){var l=this,p=l.renderer.cy.zoom(),m=l.firstGet;if(l.firstGet=!1,null==s)if((s=Math.ceil(tp(p*i)))<-4)s=-4;else if(p>=3.99||s>2)return null;l.validateLayersElesOrdering(s,a);var E,M,b=l.layersByLevel,w=Math.pow(2,s),D=b[s]=b[s]||[];if(l.levelIsComplete(s,a))return D;!function(){var Y=function(se){if(l.validateLayersElesOrdering(se,a),l.levelIsComplete(se,a))return M=b[se],!0},X=function(se){if(!M)for(var ne=s+se;-4<=ne&&ne<=2&&!Y(ne);ne+=se);};X(1),X(-1);for(var G=D.length-1;G>=0;G--){var te=D[G];te.invalid&&xo(D,te)}}();var A=function(Y){var X=(Y=Y||{}).after;if(function(){if(!E){E=fo();for(var Y=0;Y<a.length;Y++)ar(E,a[Y].boundingBox())}}(),E.w*w*(E.h*w)>16e6)return null;var te=l.makeLayer(E,s);if(null!=X){var Z=D.indexOf(X)+1;D.splice(Z,0,te)}else(void 0===Y.insert||Y.insert)&&D.unshift(te);return te};if(l.skipping&&!m)return null;for(var P=null,k=a.length/1,O=!m,V=0;V<a.length;V++){var q=a[V],K=q._private.rscratch,$=K.imgLayerCaches=K.imgLayerCaches||{},W=$[s];if(W)P=W;else{if((!P||P.eles.length>=k||!Rt(P.bb,q.boundingBox()))&&!(P=A({insert:!0,after:P})))return null;M||O?l.queueLayer(P,q):l.drawEleInLayer(P,q,s,i),P.eles.push(q),$[s]=P}}return M||(O?null:D)},mi.getEleLevelForLayerLevel=function(a,i){return a},mi.drawEleInLayer=function(a,i,s,l){var h=this.renderer,p=a.context,m=i.boundingBox();0===m.w||0===m.h||!i.visible()||(s=this.getEleLevelForLayerLevel(s,l),h.setImgSmoothing(p,!1),h.drawCachedElement(p,i,null,null,s,!0),h.setImgSmoothing(p,!0))},mi.levelIsComplete=function(a,i){var l=this.layersByLevel[a];if(!l||0===l.length)return!1;for(var f=0,h=0;h<l.length;h++){var p=l[h];if(p.reqs>0||p.invalid)return!1;f+=p.eles.length}return f===i.length},mi.validateLayersElesOrdering=function(a,i){var s=this.layersByLevel[a];if(s)for(var l=0;l<s.length;l++){for(var f=s[l],h=-1,p=0;p<i.length;p++)if(f.eles[0]===i[p]){h=p;break}if(h<0)this.invalidateLayer(f);else{var m=h;for(p=0;p<f.eles.length;p++)if(f.eles[p]!==i[m+p]){this.invalidateLayer(f);break}}}},mi.updateElementsInLayers=function(a,i){for(var l=Ru(a[0]),f=0;f<a.length;f++)for(var h=l?null:a[f],p=l?a[f]:a[f].ele,m=p._private.rscratch,b=m.imgLayerCaches=m.imgLayerCaches||{},w=-4;w<=2;w++){var D=b[w];D&&(h&&this.getEleLevelForLayerLevel(D.level)!==h.level||i(D,p,h))}},mi.haveLayers=function(){for(var i=!1,s=-4;s<=2;s++){var l=this.layersByLevel[s];if(l&&l.length>0){i=!0;break}}return i},mi.invalidateElements=function(a){var i=this;0!==a.length&&(i.lastInvalidationTime=Ba(),0!==a.length&&i.haveLayers()&&i.updateElementsInLayers(a,function(l,f,h){i.invalidateLayer(l)}))},mi.invalidateLayer=function(a){if(this.lastInvalidationTime=Ba(),!a.invalid){var i=a.level,s=a.eles;xo(this.layersByLevel[i],a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var f=0;f<s.length;f++){var h=s[f]._private.rscratch.imgLayerCaches;h&&(h[i]=null)}}},mi.refineElementTextures=function(a){var i=this;i.updateElementsInLayers(a,function(l,f,h){var p=l.replacement;if(p||((p=l.replacement=i.makeLayer(l.bb,l.level)).replaces=l,p.eles=l.eles),!p.reqs)for(var m=0;m<p.eles.length;m++)i.queueLayer(p,p.eles[m])})},mi.enqueueElementRefinement=function(a){this.eleTxrDeqs.merge(a),this.scheduleElementRefinement()},mi.queueLayer=function(a,i){var l=this.layersQueue,f=a.elesQueue,h=f.hasId=f.hasId||{};if(!a.replacement){if(i){if(h[i.id()])return;f.push(i),h[i.id()]=!0}a.reqs?(a.reqs++,l.updateItem(a)):(a.reqs=1,l.push(a))}},mi.dequeue=function(a){for(var i=this,s=i.layersQueue,l=[],f=0;f<1&&0!==s.size();){var h=s.peek();if(h.replacement)s.pop();else if(h.replaces&&h!==h.replaces.replacement)s.pop();else if(h.invalid)s.pop();else{var p=h.elesQueue.shift();p&&(i.drawEleInLayer(h,p,h.level,a),f++),0===l.length&&l.push(!0),0===h.elesQueue.length&&(s.pop(),h.reqs=0,h.replaces&&i.applyLayerReplacement(h),i.requestRedraw())}}return l},mi.applyLayerReplacement=function(a){var s=this.layersByLevel[a.level],l=a.replaces,f=s.indexOf(l);if(!(f<0||l.invalid)){s[f]=a;for(var h=0;h<a.eles.length;h++){var p=a.eles[h]._private,m=p.imgLayerCaches=p.imgLayerCaches||{};m&&(m[a.level]=a)}this.requestRedraw()}},mi.requestRedraw=rt.default(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),mi.setupDequeueing=Rd_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,s){return i.dequeue(s)},onDeqd:wf,shouldRedraw:Wh,priority:function(i){return i.renderer.beforeRenderPriorities.lyrTxrDeq}});var kp,Pd={};function hh(a,i){for(var s=0;s<i.length;s++){var l=i[s];a.lineTo(l.x,l.y)}}function kd(a,i,s){for(var l,f=0;f<i.length;f++){var h=i[f];0===f&&(l=h),a.lineTo(h.x,h.y)}a.quadraticCurveTo(s.x,s.y,l.x,l.y)}function Op(a,i,s){a.beginPath&&a.beginPath();for(var l=i,f=0;f<l.length;f++)a.lineTo((h=l[f]).x,h.y);var p=s,m=s[0];for(a.moveTo(m.x,m.y),f=1;f<p.length;f++){var h;a.lineTo((h=p[f]).x,h.y)}a.closePath&&a.closePath()}function Od(a,i,s,l,f){a.beginPath&&a.beginPath(),a.arc(s,l,f,0,2*Math.PI,!1);var h=i,p=h[0];a.moveTo(p.x,p.y);for(var m=0;m<h.length;m++){var b=h[m];a.lineTo(b.x,b.y)}a.closePath&&a.closePath()}function Dv(a,i,s,l){a.arc(i,s,l,0,2*Math.PI,!1)}Pd.arrowShapeImpl=function(a){return(kp||(kp={polygon:hh,"triangle-backcurve":kd,"triangle-tee":Op,"circle-triangle":Od,"triangle-cross":Op,circle:Dv}))[a]};var Eo={drawElement:function(a,i,s,l,f,h){i.isNode()?this.drawNode(a,i,s,l,f,h):this.drawEdge(a,i,s,l,f,h)},drawElementOverlay:function(a,i){i.isNode()?this.drawNodeOverlay(a,i):this.drawEdgeOverlay(a,i)},drawElementUnderlay:function(a,i){i.isNode()?this.drawNodeUnderlay(a,i):this.drawEdgeUnderlay(a,i)},drawCachedElementPortion:function(a,i,s,l,f,h,p,m){var b=this,w=s.getBoundingBox(i);if(0!==w.w&&0!==w.h){var D=s.getElement(i,w,l,f,h);if(null!=D){var E=m(b,i);if(0===E)return;var P,k,O,V,q,W,S=p(b,i),M=w.x1,x=w.y1,R=w.w,A=w.h;if(0!==S){var K=s.getRotationPoint(i);a.translate(O=K.x,V=K.y),a.rotate(S),(q=b.getImgSmoothing(a))||b.setImgSmoothing(a,!0);var $=s.getRotationOffset(i);P=$.x,k=$.y}else P=M,k=x;1!==E&&(a.globalAlpha=(W=a.globalAlpha)*E),a.drawImage(D.texture.canvas,D.x,0,D.width,D.height,P,k,R,A),1!==E&&(a.globalAlpha=W),0!==S&&(a.rotate(-S),a.translate(-O,-V),q||b.setImgSmoothing(a,!1))}else s.drawElement(a,i)}}},Cv=function(){return 0},Fp=function(i,s){return i.getTextAngle(s,null)},ph=function(i,s){return i.getTextAngle(s,"source")},Fd=function(i,s){return i.getTextAngle(s,"target")},Lp=function(i,s){return s.effectiveOpacity()},gh=function(i,s){return s.pstyle("text-opacity").pfValue*s.effectiveOpacity()};Eo.drawCachedElement=function(a,i,s,l,f,h){var p=this,m=p.data,b=m.eleTxrCache,w=m.lblTxrCache,D=m.slbTxrCache,E=m.tlbTxrCache,S=i.boundingBox(),M=!0===h?b.reasons.highQuality:null;if(0!==S.w&&0!==S.h&&i.visible()&&(!l||np(S,l))){var x=i.isEdge(),R=i.element()._private.rscratch.badLine;p.drawElementUnderlay(a,i),p.drawCachedElementPortion(a,i,b,s,f,M,Cv,Lp),(!x||!R)&&p.drawCachedElementPortion(a,i,w,s,f,M,Fp,gh),x&&!R&&(p.drawCachedElementPortion(a,i,D,s,f,M,ph,gh),p.drawCachedElementPortion(a,i,E,s,f,M,Fd,gh)),p.drawElementOverlay(a,i)}},Eo.drawElements=function(a,i){for(var l=0;l<i.length;l++)this.drawElement(a,i[l])},Eo.drawCachedElements=function(a,i,s,l){for(var h=0;h<i.length;h++)this.drawCachedElement(a,i[h],s,l)},Eo.drawCachedNodes=function(a,i,s,l){for(var h=0;h<i.length;h++){var p=i[h];p.isNode()&&this.drawCachedElement(a,p,s,l)}},Eo.drawLayeredElements=function(a,i,s,l){var h=this.data.lyrTxrCache.getLayers(i,s);if(h)for(var p=0;p<h.length;p++){var m=h[p],b=m.bb;0===b.w||0===b.h||a.drawImage(m.canvas,b.x1,b.y1,b.w,b.h)}else this.drawCachedElements(a,i,s,l)};var rs={drawEdge:function(a,i,s){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this,m=i._private.rscratch;if((!h||i.visible())&&!m.badLine&&null!=m.allpts&&!isNaN(m.allpts[0])){var b;s&&a.translate(-(b=s).x1,-b.y1);var w=h?i.pstyle("opacity").value:1,D=h?i.pstyle("line-opacity").value:1,E=i.pstyle("curve-style").value,S=i.pstyle("line-style").value,M=i.pstyle("width").pfValue,x=i.pstyle("line-cap").value,R=w*D,A=w*D,P=function(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;"straight-triangle"===E?(p.eleStrokeStyle(a,i,G),p.drawEdgeTrianglePath(i,a,m.allpts)):(a.lineWidth=M,a.lineCap=x,p.eleStrokeStyle(a,i,G),p.drawEdgePath(i,a,m.allpts,S),a.lineCap="butt")},V=function(){p.drawArrowheads(a,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:A)};if(a.lineJoin="round","yes"===i.pstyle("ghost").value){var $=i.pstyle("ghost-offset-x").pfValue,W=i.pstyle("ghost-offset-y").pfValue,U=i.pstyle("ghost-opacity").value,Y=R*U;a.translate($,W),P(Y),V(Y),a.translate(-$,-W)}f&&p.drawEdgeUnderlay(a,i),P(),V(),f&&p.drawEdgeOverlay(a,i),p.drawElementText(a,i,null,l),s&&a.translate(b.x1,b.y1)}}},vu=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(s,l){if(l.visible()){var f=l.pstyle("".concat(i,"-opacity")).value;if(0!==f){var h=this,p=h.usePaths(),m=l._private.rscratch,w=2*l.pstyle("".concat(i,"-padding")).pfValue,D=l.pstyle("".concat(i,"-color")).value;s.lineWidth=w,s.lineCap="self"!==m.edgeType||p?"round":"butt",h.colorStrokeStyle(s,D[0],D[1],D[2],f),h.drawEdgePath(l,s,m.allpts,"solid")}}}};rs.drawEdgeOverlay=vu("overlay"),rs.drawEdgeUnderlay=vu("underlay"),rs.drawEdgePath=function(a,i,s,l){var p,f=a._private.rscratch,h=i,m=!1,b=this.usePaths(),w=a.pstyle("line-dash-pattern").pfValue,D=a.pstyle("line-dash-offset").pfValue;if(b){var E=s.join("$");f.pathCacheKey&&f.pathCacheKey===E?(p=i=f.pathCache,m=!0):(p=i=new Path2D,f.pathCacheKey=E,f.pathCache=p)}if(h.setLineDash)switch(l){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash(w),h.lineDashOffset=D;break;case"solid":h.setLineDash([])}if(!m&&!f.badLine)switch(i.beginPath&&i.beginPath(),i.moveTo(s[0],s[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var M=2;M+3<s.length;M+=4)i.quadraticCurveTo(s[M],s[M+1],s[M+2],s[M+3]);break;case"straight":case"segments":case"haystack":for(var x=2;x+1<s.length;x+=2)i.lineTo(s[x],s[x+1])}i=h,b?i.stroke(p):i.stroke(),i.setLineDash&&i.setLineDash([])},rs.drawEdgeTrianglePath=function(a,i,s){i.fillStyle=i.strokeStyle;for(var l=a.pstyle("width").pfValue,f=0;f+1<s.length;f+=2){var h=[s[f+2]-s[f],s[f+3]-s[f+1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),m=[h[1]/p,-h[0]/p],b=[m[0]*l/2,m[1]*l/2];i.beginPath(),i.moveTo(s[f]-b[0],s[f+1]-b[1]),i.lineTo(s[f]+b[0],s[f+1]+b[1]),i.lineTo(s[f+2],s[f+3]),i.closePath(),i.fill()}},rs.drawArrowheads=function(a,i,s){var l=i._private.rscratch,f="haystack"===l.edgeType;f||this.drawArrowhead(a,i,"source",l.arrowStartX,l.arrowStartY,l.srcArrowAngle,s),this.drawArrowhead(a,i,"mid-target",l.midX,l.midY,l.midtgtArrowAngle,s),this.drawArrowhead(a,i,"mid-source",l.midX,l.midY,l.midsrcArrowAngle,s),f||this.drawArrowhead(a,i,"target",l.arrowEndX,l.arrowEndY,l.tgtArrowAngle,s)},rs.drawArrowhead=function(a,i,s,l,f,h,p){if(!(isNaN(l)||null==l||isNaN(f)||null==f||isNaN(h)||null==h)){var m=this,b=i.pstyle(s+"-arrow-shape").value;if("none"!==b){var w="hollow"===i.pstyle(s+"-arrow-fill").value?"both":"filled",D=i.pstyle(s+"-arrow-fill").value,E=i.pstyle("width").pfValue,S=i.pstyle(s+"-arrow-width"),M="match-line"===S.value?E:S.pfValue;"%"===S.units&&(M*=E);var x=i.pstyle("opacity").value;void 0===p&&(p=x);var R=a.globalCompositeOperation;(1!==p||"hollow"===D)&&(a.globalCompositeOperation="destination-out",m.colorFillStyle(a,255,255,255,1),m.colorStrokeStyle(a,255,255,255,1),m.drawArrowShape(i,a,w,E,b,M,l,f,h),a.globalCompositeOperation=R);var A=i.pstyle(s+"-arrow-color").value;m.colorFillStyle(a,A[0],A[1],A[2],p),m.colorStrokeStyle(a,A[0],A[1],A[2],p),m.drawArrowShape(i,a,D,E,b,M,l,f,h)}}},rs.drawArrowShape=function(a,i,s,l,f,h,p,m,b){var S,w=this,D=this.usePaths()&&"triangle-cross"!==f,E=!1,M=i,x={x:p,y:m},R=a.pstyle("arrow-scale").value,A=this.getArrowWidth(l,R),P=w.arrowShapes[f];if(D){var k=w.arrowPathCache=w.arrowPathCache||[],O=ca(f),V=k[O];null!=V?(S=i=V,E=!0):(S=i=new Path2D,k[O]=S)}E||(i.beginPath&&i.beginPath(),D?P.draw(i,1,0,{x:0,y:0},1):P.draw(i,A,b,x,l),i.closePath&&i.closePath()),i=M,D&&(i.translate(p,m),i.rotate(b),i.scale(A,A)),("filled"===s||"both"===s)&&(D?i.fill(S):i.fill()),("hollow"===s||"both"===s)&&(i.lineWidth=h/(D?A:1),i.lineJoin="miter",D?i.stroke(S):i.stroke()),D&&(i.scale(1/A,1/A),i.rotate(-b),i.translate(-p,-m))};var mu={safeDrawImage:function(a,i,s,l,f,h,p,m,b,w){if(!(f<=0||h<=0||b<=0||w<=0))try{a.drawImage(i,s,l,f,h,p,m,b,w)}catch(D){Kt(D)}},drawInscribedImage:function(a,i,s,l,f){var h=this,p=s.position(),m=p.x,b=p.y,w=s.cy().style(),D=w.getIndexedStyle.bind(w),E=D(s,"background-fit","value",l),S=D(s,"background-repeat","value",l),M=s.width(),x=s.height(),R=2*s.padding(),A=M+("inner"===D(s,"background-width-relative-to","value",l)?0:R),P=x+("inner"===D(s,"background-height-relative-to","value",l)?0:R),k=s._private.rscratch,V="node"===D(s,"background-clip","value",l),q=D(s,"background-image-opacity","value",l)*f,K=D(s,"background-image-smoothing","value",l),$=i.width||i.cachedW,W=i.height||i.cachedH;(null==$||null==W)&&(document.body.appendChild(i),$=i.cachedW=i.width||i.offsetWidth,W=i.cachedH=i.height||i.offsetHeight,document.body.removeChild(i));var U=$,Y=W;if("auto"!==D(s,"background-width","value",l)&&(U="%"===D(s,"background-width","units",l)?D(s,"background-width","pfValue",l)*A:D(s,"background-width","pfValue",l)),"auto"!==D(s,"background-height","value",l)&&(Y="%"===D(s,"background-height","units",l)?D(s,"background-height","pfValue",l)*P:D(s,"background-height","pfValue",l)),0!==U&&0!==Y){if("contain"===E)U*=X=Math.min(A/U,P/Y),Y*=X;else if("cover"===E){var X;U*=X=Math.max(A/U,P/Y),Y*=X}var G=m-A/2,te=D(s,"background-position-x","units",l),Z=D(s,"background-position-x","pfValue",l);G+="%"===te?(A-U)*Z:Z;var se=D(s,"background-offset-x","units",l),ne=D(s,"background-offset-x","pfValue",l);G+="%"===se?(A-U)*ne:ne;var ee=b-P/2,fe=D(s,"background-position-y","units",l),ge=D(s,"background-position-y","pfValue",l);ee+="%"===fe?(P-Y)*ge:ge;var xe=D(s,"background-offset-y","units",l),de=D(s,"background-offset-y","pfValue",l);ee+="%"===xe?(P-Y)*de:de,k.pathCache&&(G-=m,ee-=b,m=0,b=0);var Ce=a.globalAlpha;a.globalAlpha=q;var Pe=h.getImgSmoothing(a),Ve=!1;if("no"===K&&Pe?(h.setImgSmoothing(a,!1),Ve=!0):"yes"===K&&!Pe&&(h.setImgSmoothing(a,!0),Ve=!0),"no-repeat"===S)V&&(a.save(),k.pathCache?a.clip(k.pathCache):(h.nodeShapes[h.getNodeShape(s)].draw(a,m,b,A,P),a.clip())),h.safeDrawImage(a,i,0,0,$,W,G,ee,U,Y),V&&a.restore();else{var Oe=a.createPattern(i,S);a.fillStyle=Oe,h.nodeShapes[h.getNodeShape(s)].draw(a,m,b,A,P),a.translate(G,ee),a.fill(),a.translate(-G,-ee)}a.globalAlpha=Ce,Ve&&h.setImgSmoothing(a,Pe)}}},yu={eleTextBiggerThanMin:function(a,i){if(!i){var s=a.cy().zoom(),l=this.getPixelRatio(),f=Math.ceil(tp(s*l));i=Math.pow(2,f)}return!(a.pstyle("font-size").pfValue*i<a.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(a,i,s,l,f){var h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this;if(null==l){if(h&&!p.eleTextBiggerThanMin(i))return}else if(!1===l)return;if(i.isNode()){var m=i.pstyle("label");if(!m||!m.value)return;var b=p.getLabelJustification(i);a.textAlign=b,a.textBaseline="bottom"}else{var w=i.element()._private.rscratch.badLine,D=i.pstyle("label"),E=i.pstyle("source-label"),S=i.pstyle("target-label");if(w||(!D||!D.value)&&(!E||!E.value)&&(!S||!S.value))return;a.textAlign="center",a.textBaseline="bottom"}var x,M=!s;s&&a.translate(-(x=s).x1,-x.y1),null==f?(p.drawText(a,i,null,M,h),i.isEdge()&&(p.drawText(a,i,"source",M,h),p.drawText(a,i,"target",M,h))):p.drawText(a,i,f,M,h),s&&a.translate(x.x1,x.y1)},getFontCache:function(a){var i;this.fontCaches=this.fontCaches||[];for(var s=0;s<this.fontCaches.length;s++)if((i=this.fontCaches[s]).context===a)return i;return this.fontCaches.push(i={context:a}),i},setupTextStyle:function(a,i){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=i.pstyle("font-style").strValue,f=i.pstyle("font-size").pfValue+"px",h=i.pstyle("font-family").strValue,p=i.pstyle("font-weight").strValue,m=s?i.effectiveOpacity()*i.pstyle("text-opacity").value:1,b=i.pstyle("text-outline-opacity").value*m,w=i.pstyle("color").value,D=i.pstyle("text-outline-color").value;a.font=l+" "+p+" "+f+" "+h,a.lineJoin="round",this.colorFillStyle(a,w[0],w[1],w[2],m),this.colorStrokeStyle(a,D[0],D[1],D[2],b)},getTextAngle:function(a,i){var f=a._private.rscratch,p=a.pstyle((i?i+"-":"")+"text-rotation"),m=lo(f,"labelAngle",i);return"autorotate"===p.strValue?a.isEdge()?m:0:"none"===p.strValue?0:p.pfValue},drawText:function(a,i,s){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=i._private.rscratch,m=f?i.effectiveOpacity():1;if(!f||0!==m&&0!==i.pstyle("text-opacity").value){"main"===s&&(s=null);var D,E,b=lo(p,"labelX",s),w=lo(p,"labelY",s),S=this.getLabelText(i,s);if(null!=S&&""!==S&&!isNaN(b)&&!isNaN(w)){this.setupTextStyle(a,i,f);var q,M=s?s+"-":"",x=lo(p,"labelWidth",s),R=lo(p,"labelHeight",s),A=i.pstyle(M+"text-margin-x").pfValue,P=i.pstyle(M+"text-margin-y").pfValue,k=i.isEdge(),O=i.pstyle("text-halign").value,V=i.pstyle("text-valign").value;switch(k&&(O="center",V="center"),b+=A,w+=P,0!==(q=l?this.getTextAngle(i,s):0)&&(a.translate(D=b,E=w),a.rotate(q),b=0,w=0),V){case"top":break;case"center":w+=R/2;break;case"bottom":w+=R}var K=i.pstyle("text-background-opacity").value,$=i.pstyle("text-border-opacity").value,W=i.pstyle("text-border-width").pfValue,U=i.pstyle("text-background-padding").pfValue;if(K>0||W>0&&$>0){var Y=b-U;switch(O){case"left":Y-=x;break;case"center":Y-=x/2}var X=w-R-U,G=x+2*U,te=R+2*U;if(K>0){var Z=a.fillStyle,se=i.pstyle("text-background-color").value;a.fillStyle="rgba("+se[0]+","+se[1]+","+se[2]+","+K*m+")",0===i.pstyle("text-background-shape").strValue.indexOf("round")?function cy(a,i,s,l,f){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;a.beginPath(),a.moveTo(i+h,s),a.lineTo(i+l-h,s),a.quadraticCurveTo(i+l,s,i+l,s+h),a.lineTo(i+l,s+f-h),a.quadraticCurveTo(i+l,s+f,i+l-h,s+f),a.lineTo(i+h,s+f),a.quadraticCurveTo(i,s+f,i,s+f-h),a.lineTo(i,s+h),a.quadraticCurveTo(i,s,i+h,s),a.closePath(),a.fill()}(a,Y,X,G,te,2):a.fillRect(Y,X,G,te),a.fillStyle=Z}if(W>0&&$>0){var ee=a.strokeStyle,fe=a.lineWidth,ge=i.pstyle("text-border-color").value,xe=i.pstyle("text-border-style").value;if(a.strokeStyle="rgba("+ge[0]+","+ge[1]+","+ge[2]+","+$*m+")",a.lineWidth=W,a.setLineDash)switch(xe){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=W/4,a.setLineDash([]);break;case"solid":a.setLineDash([])}if(a.strokeRect(Y,X,G,te),"double"===xe){var de=W/2;a.strokeRect(Y+de,X+de,G-2*de,te-2*de)}a.setLineDash&&a.setLineDash([]),a.lineWidth=fe,a.strokeStyle=ee}}var Ce=2*i.pstyle("text-outline-width").pfValue;if(Ce>0&&(a.lineWidth=Ce),"wrap"===i.pstyle("text-wrap").value){var Pe=lo(p,"labelWrapCachedLines",s),Ve=lo(p,"labelLineHeight",s),Oe=x/2,Fe=this.getLabelJustification(i);switch("auto"===Fe||("left"===O?"left"===Fe?b+=-x:"center"===Fe&&(b+=-Oe):"center"===O?"left"===Fe?b+=-Oe:"right"===Fe&&(b+=Oe):"right"===O&&("center"===Fe?b+=Oe:"right"===Fe&&(b+=x))),V){case"top":case"center":case"bottom":w-=(Pe.length-1)*Ve}for(var he=0;he<Pe.length;he++)Ce>0&&a.strokeText(Pe[he],b,w),a.fillText(Pe[he],b,w),w+=Ve}else Ce>0&&a.strokeText(S,b,w),a.fillText(S,b,w);0!==q&&(a.rotate(-q),a.translate(-D,-E))}}}},wu={drawNode:function(a,i,s){var m,b,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this,w=i._private,D=w.rscratch,E=i.position();if(at(E.x)&&at(E.y)&&(!h||i.visible())){var x,P,S=h?i.effectiveOpacity():1,M=p.usePaths(),R=!1,A=i.padding();m=i.width()+2*A,b=i.height()+2*A,s&&a.translate(-(P=s).x1,-P.y1);for(var O=i.pstyle("background-image").value,V=new Array(O.length),q=new Array(O.length),K=0,$=0;$<O.length;$++){var W=O[$];if(V[$]=null!=W&&"none"!==W){var Y=i.cy().style().getIndexedStyle(i,"background-image-crossorigin","value",$);K++,q[$]=p.getCachedImage(W,Y,function(){w.backgroundTimestamp=Date.now(),i.emitAndNotify("background")})}}var X=i.pstyle("background-blacken").value,G=i.pstyle("border-width").pfValue,te=i.pstyle("background-opacity").value*S,Z=i.pstyle("border-color").value,se=i.pstyle("border-style").value,ne=i.pstyle("border-opacity").value*S,ee=i.pstyle("outline-width").pfValue,fe=i.pstyle("outline-color").value,ge=i.pstyle("outline-style").value,xe=i.pstyle("outline-opacity").value*S,de=i.pstyle("outline-offset").value;a.lineJoin="miter";var Ce=function(){p.eleFillStyle(a,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:te)},Pe=function(){p.colorStrokeStyle(a,Z[0],Z[1],Z[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne)},Ve=function(){p.colorStrokeStyle(a,fe[0],fe[1],fe[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe)},Oe=function(ve,z,pe,Me){var me,De=p.nodePathCache=p.nodePathCache||[],_e=mf("polygon"===pe?pe+","+Me.join(","):pe,""+z,""+ve),st=De[_e],Ct=!1;return null!=st?(Ct=!0,D.pathCache=me=st):(me=new Path2D,De[_e]=D.pathCache=me),{path:me,cacheHit:Ct}},Fe=i.pstyle("shape").strValue,he=i.pstyle("shape-polygon-points").pfValue;if(M){a.translate(E.x,E.y);var ze=Oe(m,b,Fe,he);x=ze.path,R=ze.cacheHit}var Ge=function(){if(!R){var ve=E;M&&(ve={x:0,y:0}),p.nodeShapes[p.getNodeShape(i)].draw(x||a,ve.x,ve.y,m,b)}M?a.fill(x):a.fill()},Le=function(){for(var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,z=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],pe=w.backgrounding,Me=0,De=0;De<q.length;De++){var _e=i.cy().style().getIndexedStyle(i,"background-image-containment","value",De);z&&"over"===_e||!z&&"inside"===_e?Me++:V[De]&&q[De].complete&&!q[De].error&&(Me++,p.drawInscribedImage(a,q[De],i,De,ve))}w.backgrounding=Me!==K,pe!==w.backgrounding&&i.updateStyle(!1)},Xe=function(){var ve=arguments.length>0&&void 0!==arguments[0]&&arguments[0],z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;p.hasPie(i)&&(p.drawPie(a,i,z),ve&&(M||p.nodeShapes[p.getNodeShape(i)].draw(a,E.x,E.y,m,b)))},It=function(){var pe=X>0?0:255;0!==X&&(p.colorFillStyle(a,pe,pe,pe,(X>0?X:-X)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S)),M?a.fill(x):a.fill())},Ft=function(){if(G>0){if(a.lineWidth=G,a.lineCap="butt",a.setLineDash)switch(se){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}if(M?a.stroke(x):a.stroke(),"double"===se){a.lineWidth=G/3;var ve=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",M?a.stroke(x):a.stroke(),a.globalCompositeOperation=ve}a.setLineDash&&a.setLineDash([])}},Re=function(){if(ee>0){if(a.lineWidth=ee,a.lineCap="butt",a.setLineDash)switch(ge){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}var ve=E;M&&(ve={x:0,y:0});var me,z=p.getNodeShape(i),pe=(m+G+(ee+de))/m,Me=(b+G+(ee+de))/b,De=m*pe,_e=b*Me,st=p.nodeShapes[z].points;if(M&&(me=Oe(De,_e,z,st).path),"ellipse"===z)p.drawEllipsePath(me||a,ve.x,ve.y,De,_e);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(z)){var on=0,xn=0,zt=0;"round-diamond"===z?on=1.4*(G+de+ee):"round-heptagon"===z?(on=1.075*(G+de+ee),zt=-(G/2+de+ee)/35):"round-hexagon"===z?on=1.12*(G+de+ee):"round-pentagon"===z?(on=1.13*(G+de+ee),zt=-(G/2+de+ee)/15):"round-tag"===z?(on=1.12*(G+de+ee),xn=.07*(G/2+ee+de)):"round-triangle"===z&&(on=(G+de+ee)*(Math.PI/2),zt=-(G+de/2+ee)/Math.PI),0!==on&&(pe=(m+on)/m,Me=(b+on)/b),p.drawRoundPolygonPath(me||a,ve.x+xn,ve.y+zt,m*pe,b*Me,st)}else["roundrectangle","round-rectangle"].includes(z)?p.drawRoundRectanglePath(me||a,ve.x,ve.y,De,_e):["cutrectangle","cut-rectangle"].includes(z)?p.drawCutRectanglePath(me||a,ve.x,ve.y,De,_e):["bottomroundrectangle","bottom-round-rectangle"].includes(z)?p.drawBottomRoundRectanglePath(me||a,ve.x,ve.y,De,_e):"barrel"===z?p.drawBarrelPath(me||a,ve.x,ve.y,De,_e):z.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(z)?(st=Fl(un(st,(G+ee+de)/m)),p.drawPolygonPath(me||a,ve.x,ve.y,m,b,st)):(st=Fl(un(st,-(G+ee+de)/m)),p.drawPolygonPath(me||a,ve.x,ve.y,m,b,st));if(M?a.stroke(me):a.stroke(),"double"===ge){a.lineWidth=G/3;var en=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",M?a.stroke(me):a.stroke(),a.globalCompositeOperation=en}a.setLineDash&&a.setLineDash([])}};if("yes"===i.pstyle("ghost").value){var _t=i.pstyle("ghost-offset-x").pfValue,yn=i.pstyle("ghost-offset-y").pfValue,ln=i.pstyle("ghost-opacity").value,$t=ln*S;a.translate(_t,yn),Ve(),Re(),Ce(ln*te),Ge(),Le($t,!0),Pe(ln*ne),Ft(),Xe(0!==X||0!==G),Le($t,!1),It($t),a.translate(-_t,-yn)}M&&a.translate(-E.x,-E.y),f&&p.drawNodeUnderlay(a,i,E,m,b),M&&a.translate(E.x,E.y),Ve(),Re(),Ce(),Ge(),Le(S,!0),Pe(),Ft(),Xe(0!==X||0!==G),Le(S,!1),It(),M&&a.translate(-E.x,-E.y),p.drawElementText(a,i,null,l),f&&p.drawNodeOverlay(a,i,E,m,b),s&&a.translate(P.x1,P.y1)}}},Bp=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(s,l,f,h,p){if(l.visible()){var b=l.pstyle("".concat(i,"-padding")).pfValue,w=l.pstyle("".concat(i,"-opacity")).value,D=l.pstyle("".concat(i,"-color")).value,E=l.pstyle("".concat(i,"-shape")).value;if(w>0){if(f=f||l.position(),null==h||null==p){var S=l.padding();h=l.width()+2*S,p=l.height()+2*S}this.colorFillStyle(s,D[0],D[1],D[2],w),this.nodeShapes[E].draw(s,f.x,f.y,h+2*b,p+2*b),s.fill()}}}};wu.drawNodeOverlay=Bp("overlay"),wu.drawNodeUnderlay=Bp("underlay"),wu.hasPie=function(a){return(a=a[0])._private.hasPie},wu.drawPie=function(a,i,s,l){i=i[0],l=l||i.position();var f=i.cy().style(),h=i.pstyle("pie-size"),p=l.x,m=l.y,b=i.width(),w=i.height(),D=Math.min(b,w)/2,E=0;this.usePaths()&&(p=0,m=0),"%"===h.units?D*=h.pfValue:void 0!==h.pfValue&&(D=h.pfValue/2);for(var M=1;M<=f.pieBackgroundN;M++){var x=i.pstyle("pie-"+M+"-background-size").value,R=i.pstyle("pie-"+M+"-background-color").value,A=i.pstyle("pie-"+M+"-background-opacity").value*s,P=x/100;P+E>1&&(P=1-E);var k=1.5*Math.PI+2*Math.PI*E,V=k+2*Math.PI*P;0===x||E>=1||E+P>1||(a.beginPath(),a.moveTo(p,m),a.arc(p,m,D,k,V),a.closePath(),this.colorFillStyle(a,R[0],R[1],R[2],A),a.fill(),E+=P)}};for(var eo={getPixelRatio:function(){var a=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)},paintCache:function(a){for(var l,i=this.paintCaches=this.paintCaches||[],s=!0,f=0;f<i.length;f++)if((l=i[f]).context===a){s=!1;break}return s&&i.push(l={context:a}),l},createGradientStyleFor:function(a,i,s,l,f){var h,p=this.usePaths(),m=s.pstyle(i+"-gradient-stop-colors").value,b=s.pstyle(i+"-gradient-stop-positions").pfValue;if("radial-gradient"===l)if(s.isEdge()){var w=s.sourceEndpoint(),D=s.targetEndpoint(),E=s.midpoint(),S=Ha(w,E),M=Ha(D,E);h=a.createRadialGradient(E.x,E.y,0,E.x,E.y,Math.max(S,M))}else{var x=p?{x:0,y:0}:s.position(),R=s.paddedWidth(),A=s.paddedHeight();h=a.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(R,A))}else if(s.isEdge()){var P=s.sourceEndpoint(),k=s.targetEndpoint();h=a.createLinearGradient(P.x,P.y,k.x,k.y)}else{var O=p?{x:0,y:0}:s.position(),K=s.paddedWidth()/2,$=s.paddedHeight()/2;switch(s.pstyle("background-gradient-direction").value){case"to-bottom":h=a.createLinearGradient(O.x,O.y-$,O.x,O.y+$);break;case"to-top":h=a.createLinearGradient(O.x,O.y+$,O.x,O.y-$);break;case"to-left":h=a.createLinearGradient(O.x+K,O.y,O.x-K,O.y);break;case"to-right":h=a.createLinearGradient(O.x-K,O.y,O.x+K,O.y);break;case"to-bottom-right":case"to-right-bottom":h=a.createLinearGradient(O.x-K,O.y-$,O.x+K,O.y+$);break;case"to-top-right":case"to-right-top":h=a.createLinearGradient(O.x-K,O.y+$,O.x+K,O.y-$);break;case"to-bottom-left":case"to-left-bottom":h=a.createLinearGradient(O.x+K,O.y-$,O.x-K,O.y+$);break;case"to-top-left":case"to-left-top":h=a.createLinearGradient(O.x+K,O.y+$,O.x-K,O.y-$)}}if(!h)return null;for(var U=b.length===m.length,Y=m.length,X=0;X<Y;X++)h.addColorStop(U?b[X]:X/(Y-1),"rgba("+m[X][0]+","+m[X][1]+","+m[X][2]+","+f+")");return h},gradientFillStyle:function(a,i,s,l){var f=this.createGradientStyleFor(a,"background",i,s,l);if(!f)return null;a.fillStyle=f},colorFillStyle:function(a,i,s,l,f){a.fillStyle="rgba("+i+","+s+","+l+","+f+")"},eleFillStyle:function(a,i,s){var l=i.pstyle("background-fill").value;if("linear-gradient"===l||"radial-gradient"===l)this.gradientFillStyle(a,i,l,s);else{var f=i.pstyle("background-color").value;this.colorFillStyle(a,f[0],f[1],f[2],s)}},gradientStrokeStyle:function(a,i,s,l){var f=this.createGradientStyleFor(a,"line",i,s,l);if(!f)return null;a.strokeStyle=f},colorStrokeStyle:function(a,i,s,l,f){a.strokeStyle="rgba("+i+","+s+","+l+","+f+")"},eleStrokeStyle:function(a,i,s){var l=i.pstyle("line-fill").value;if("linear-gradient"===l||"radial-gradient"===l)this.gradientStrokeStyle(a,i,l,s);else{var f=i.pstyle("line-color").value;this.colorStrokeStyle(a,f[0],f[1],f[2],s)}},matchCanvasSize:function(a){var i=this,s=i.data,l=i.findContainerClientCoords(),f=l[2],h=l[3],p=i.getPixelRatio();(a===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE]||a===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG])&&(p=i.motionBlurPxRatio);var D,b=f*p,w=h*p;if(b!==i.canvasWidth||w!==i.canvasHeight){i.fontCaches=null;var E=s.canvasContainer;E.style.width=f+"px",E.style.height=h+"px";for(var S=0;S<i.CANVAS_LAYERS;S++)(D=s.canvases[S]).width=b,D.height=w,D.style.width=f+"px",D.style.height=h+"px";for(S=0;S<i.BUFFER_COUNT;S++)(D=s.bufferCanvases[S]).width=b,D.height=w,D.style.width=f+"px",D.style.height=h+"px";i.textureMult=1,p<=1&&(D=s.bufferCanvases[i.TEXTURE_BUFFER],i.textureMult=2,D.width=b*i.textureMult,D.height=w*i.textureMult),i.canvasWidth=b,i.canvasHeight=w}},renderTo:function(a,i,s,l){this.render({forcedContext:a,forcedZoom:i,forcedPan:s,drawAllLayers:!0,forcedPxRatio:l})},render:function(a){var i=(a=a||Zc()).forcedContext,s=a.drawAllLayers,l=a.drawOnlyNodeLayer,f=a.forcedZoom,h=a.forcedPan,p=this,m=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,b=p.cy,w=p.data,D=w.canvasNeedsRedraw,E=p.textureOnViewport&&!i&&(p.pinching||p.hoverData.dragging||p.swipePanning||p.data.wheelZooming),S=void 0!==a.motionBlur?a.motionBlur:p.motionBlur,M=p.motionBlurPxRatio,x=b.hasCompoundNodes(),R=p.hoverData.draggingEles,P=S=S&&!i&&p.motionBlurEnabled&&!(p.hoverData.selecting||p.touchData.selecting);i||(p.prevPxRatio!==m&&(p.invalidateContainerClientCoordsCache(),p.matchCanvasSize(p.container),p.redrawHint("eles",!0),p.redrawHint("drag",!0)),p.prevPxRatio=m),!i&&p.motionBlurTimeout&&clearTimeout(p.motionBlurTimeout),S&&(null==p.mbFrames&&(p.mbFrames=0),p.mbFrames++,p.mbFrames<3&&(P=!1),p.mbFrames>p.minMbLowQualFrames&&(p.motionBlurPxRatio=p.mbPxRBlurry)),p.clearingMotionBlur&&(p.motionBlurPxRatio=1),p.textureDrawLastFrame&&!E&&(D[p.NODE]=!0,D[p.SELECT_BOX]=!0);var k=b.style(),O=b.zoom(),V=void 0!==f?f:O,q=b.pan(),K={x:q.x,y:q.y},$={zoom:O,pan:{x:q.x,y:q.y}},W=p.prevViewport;!(void 0===W||$.zoom!==W.zoom||$.pan.x!==W.pan.x||$.pan.y!==W.pan.y)&&!(R&&!x)&&(p.motionBlurPxRatio=1),h&&(K=h),V*=m,K.x*=m,K.y*=m;var Y=p.getCachedZSortedEles();function X(Re,nt,gt,ot,Et){var _t=Re.globalCompositeOperation;Re.globalCompositeOperation="destination-out",p.colorFillStyle(Re,255,255,255,p.motionBlurTransparency),Re.fillRect(nt,gt,ot,Et),Re.globalCompositeOperation=_t}function G(Re,nt){var gt,ot,Et,_t;p.clearingMotionBlur||Re!==w.bufferContexts[p.MOTIONBLUR_BUFFER_NODE]&&Re!==w.bufferContexts[p.MOTIONBLUR_BUFFER_DRAG]?(gt=K,ot=V,Et=p.canvasWidth,_t=p.canvasHeight):(gt={x:q.x*M,y:q.y*M},ot=O*M,Et=p.canvasWidth*M,_t=p.canvasHeight*M),Re.setTransform(1,0,0,1,0,0),"motionBlur"===nt?X(Re,0,0,Et,_t):!i&&(void 0===nt||nt)&&Re.clearRect(0,0,Et,_t),s||(Re.translate(gt.x,gt.y),Re.scale(ot,ot)),h&&Re.translate(h.x,h.y),f&&Re.scale(f,f)}if(E||(p.textureDrawLastFrame=!1),E){if(p.textureDrawLastFrame=!0,!p.textureCache){p.textureCache={},p.textureCache.bb=b.mutableElements().boundingBox(),p.textureCache.texture=p.data.bufferCanvases[p.TEXTURE_BUFFER];var te=p.data.bufferContexts[p.TEXTURE_BUFFER];te.setTransform(1,0,0,1,0,0),te.clearRect(0,0,p.canvasWidth*p.textureMult,p.canvasHeight*p.textureMult),p.render({forcedContext:te,drawOnlyNodeLayer:!0,forcedPxRatio:m*p.textureMult}),($=p.textureCache.viewport={zoom:b.zoom(),pan:b.pan(),width:p.canvasWidth,height:p.canvasHeight}).mpan={x:(0-$.pan.x)/$.zoom,y:(0-$.pan.y)/$.zoom}}D[p.DRAG]=!1,D[p.NODE]=!1;var se=p.textureCache.texture;$=p.textureCache.viewport,(Z=w.contexts[p.NODE]).setTransform(1,0,0,1,0,0),S?X(Z,0,0,$.width,$.height):Z.clearRect(0,0,$.width,$.height);var ne=k.core("outside-texture-bg-color").value,ee=k.core("outside-texture-bg-opacity").value;p.colorFillStyle(Z,ne[0],ne[1],ne[2],ee),Z.fillRect(0,0,$.width,$.height),O=b.zoom(),G(Z,!1),Z.clearRect($.mpan.x,$.mpan.y,$.width/$.zoom/m,$.height/$.zoom/m),Z.drawImage(se,$.mpan.x,$.mpan.y,$.width/$.zoom/m,$.height/$.zoom/m)}else p.textureOnViewport&&!i&&(p.textureCache=null);var fe=b.extent(),ge=p.pinching||p.hoverData.dragging||p.swipePanning||p.data.wheelZooming||p.hoverData.draggingEles||p.cy.animated(),xe=p.hideEdgesOnViewport&&ge,de=[];if(de[p.NODE]=!D[p.NODE]&&S&&!p.clearedForMotionBlur[p.NODE]||p.clearingMotionBlur,de[p.NODE]&&(p.clearedForMotionBlur[p.NODE]=!0),de[p.DRAG]=!D[p.DRAG]&&S&&!p.clearedForMotionBlur[p.DRAG]||p.clearingMotionBlur,de[p.DRAG]&&(p.clearedForMotionBlur[p.DRAG]=!0),D[p.NODE]||s||l||de[p.NODE]){var Ce=S&&!de[p.NODE]&&1!==M;G(Z=i||(Ce?p.data.bufferContexts[p.MOTIONBLUR_BUFFER_NODE]:w.contexts[p.NODE]),S&&!Ce?"motionBlur":void 0),xe?p.drawCachedNodes(Z,Y.nondrag,m,fe):p.drawLayeredElements(Z,Y.nondrag,m,fe),p.debug&&p.drawDebugPoints(Z,Y.nondrag),!s&&!S&&(D[p.NODE]=!1)}if(!l&&(D[p.DRAG]||s||de[p.DRAG])&&(Ce=S&&!de[p.DRAG]&&1!==M,G(Z=i||(Ce?p.data.bufferContexts[p.MOTIONBLUR_BUFFER_DRAG]:w.contexts[p.DRAG]),S&&!Ce?"motionBlur":void 0),xe?p.drawCachedNodes(Z,Y.drag,m,fe):p.drawCachedElements(Z,Y.drag,m,fe),p.debug&&p.drawDebugPoints(Z,Y.drag),!s&&!S&&(D[p.DRAG]=!1)),p.showFps||!l&&D[p.SELECT_BOX]&&!s){var Z;if(G(Z=i||w.contexts[p.SELECT_BOX]),1==p.selection[4]&&(p.hoverData.selecting||p.touchData.selecting)){O=p.cy.zoom();var Ve=k.core("selection-box-border-width").value/O;Z.lineWidth=Ve,Z.fillStyle="rgba("+k.core("selection-box-color").value[0]+","+k.core("selection-box-color").value[1]+","+k.core("selection-box-color").value[2]+","+k.core("selection-box-opacity").value+")",Z.fillRect(p.selection[0],p.selection[1],p.selection[2]-p.selection[0],p.selection[3]-p.selection[1]),Ve>0&&(Z.strokeStyle="rgba("+k.core("selection-box-border-color").value[0]+","+k.core("selection-box-border-color").value[1]+","+k.core("selection-box-border-color").value[2]+","+k.core("selection-box-opacity").value+")",Z.strokeRect(p.selection[0],p.selection[1],p.selection[2]-p.selection[0],p.selection[3]-p.selection[1]))}if(w.bgActivePosistion&&!p.hoverData.selecting){O=p.cy.zoom();var Oe=w.bgActivePosistion;Z.fillStyle="rgba("+k.core("active-bg-color").value[0]+","+k.core("active-bg-color").value[1]+","+k.core("active-bg-color").value[2]+","+k.core("active-bg-opacity").value+")",Z.beginPath(),Z.arc(Oe.x,Oe.y,k.core("active-bg-size").pfValue/O,0,2*Math.PI),Z.fill()}var Fe=p.lastRedrawTime;if(p.showFps&&Fe){Fe=Math.round(Fe);var he=Math.round(1e3/Fe);Z.setTransform(1,0,0,1,0,0),Z.fillStyle="rgba(255, 0, 0, 0.75)",Z.strokeStyle="rgba(255, 0, 0, 0.75)",Z.lineWidth=1,Z.fillText("1 frame = "+Fe+" ms = "+he+" fps",0,20),Z.strokeRect(0,30,250,20),Z.fillRect(0,30,250*Math.min(he/60,1),20)}s||(D[p.SELECT_BOX]=!1)}if(S&&1!==M){var Xe=w.contexts[p.DRAG],It=p.data.bufferCanvases[p.MOTIONBLUR_BUFFER_DRAG],Ft=function(nt,gt,ot){nt.setTransform(1,0,0,1,0,0),ot||!P?nt.clearRect(0,0,p.canvasWidth,p.canvasHeight):X(nt,0,0,p.canvasWidth,p.canvasHeight),nt.drawImage(gt,0,0,p.canvasWidth*M,p.canvasHeight*M,0,0,p.canvasWidth,p.canvasHeight)};(D[p.NODE]||de[p.NODE])&&(Ft(w.contexts[p.NODE],p.data.bufferCanvases[p.MOTIONBLUR_BUFFER_NODE],de[p.NODE]),D[p.NODE]=!1),(D[p.DRAG]||de[p.DRAG])&&(Ft(Xe,It,de[p.DRAG]),D[p.DRAG]=!1)}p.prevViewport=$,p.clearingMotionBlur&&(p.clearingMotionBlur=!1,p.motionBlurCleared=!0,p.motionBlur=!0),S&&(p.motionBlurTimeout=setTimeout(function(){p.motionBlurTimeout=null,p.clearedForMotionBlur[p.NODE]=!1,p.clearedForMotionBlur[p.DRAG]=!1,p.motionBlur=!1,p.clearingMotionBlur=!E,p.mbFrames=0,D[p.NODE]=!0,D[p.DRAG]=!0,p.redraw()},100)),i||b.emit("render")}},Ns={drawPolygonPath:function(a,i,s,l,f,h){var p=l/2,m=f/2;a.beginPath&&a.beginPath(),a.moveTo(i+p*h[0],s+m*h[1]);for(var b=1;b<h.length/2;b++)a.lineTo(i+p*h[2*b],s+m*h[2*b+1]);a.closePath()},drawRoundPolygonPath:function(a,i,s,l,f,h){var p=l/2,m=f/2,b=Bl(l,f);a.beginPath&&a.beginPath();for(var w=0;w<h.length/4;w++){var E,D;D=0===w?h.length-2:4*w-2,E=4*w+2;var S=i+p*h[4*w],M=s+m*h[4*w+1],R=b/Math.tan(Math.acos(-h[D]*h[E]-h[D+1]*h[E+1])/2),A=S-R*h[D],P=M-R*h[D+1],k=S+R*h[E],O=M+R*h[E+1];0===w?a.moveTo(A,P):a.lineTo(A,P),a.arcTo(S,M,k,O,b)}a.closePath()},drawRoundRectanglePath:function(a,i,s,l,f){var h=l/2,p=f/2,m=Xs(l,f);a.beginPath&&a.beginPath(),a.moveTo(i,s-p),a.arcTo(i+h,s-p,i+h,s,m),a.arcTo(i+h,s+p,i,s+p,m),a.arcTo(i-h,s+p,i-h,s,m),a.arcTo(i-h,s-p,i,s-p,m),a.lineTo(i,s-p),a.closePath()},drawBottomRoundRectanglePath:function(a,i,s,l,f){var h=l/2,p=f/2,m=Xs(l,f);a.beginPath&&a.beginPath(),a.moveTo(i,s-p),a.lineTo(i+h,s-p),a.lineTo(i+h,s),a.arcTo(i+h,s+p,i,s+p,m),a.arcTo(i-h,s+p,i-h,s,m),a.lineTo(i-h,s-p),a.lineTo(i,s-p),a.closePath()},drawCutRectanglePath:function(a,i,s,l,f){var h=l/2,p=f/2;a.beginPath&&a.beginPath(),a.moveTo(i-h+8,s-p),a.lineTo(i+h-8,s-p),a.lineTo(i+h,s-p+8),a.lineTo(i+h,s+p-8),a.lineTo(i+h-8,s+p),a.lineTo(i-h+8,s+p),a.lineTo(i-h,s+p-8),a.lineTo(i-h,s-p+8),a.closePath()},drawBarrelPath:function(a,i,s,l,f){var h=l/2,p=f/2,m=i-h,b=i+h,w=s-p,D=s+p,E=ip(l,f),S=E.widthOffset,M=E.heightOffset,x=E.ctrlPtOffsetPct*S;a.beginPath&&a.beginPath(),a.moveTo(m,w+M),a.lineTo(m,D-M),a.quadraticCurveTo(m+x,D,m+S,D),a.lineTo(b-S,D),a.quadraticCurveTo(b-x,D,b,D-M),a.lineTo(b,w+M),a.quadraticCurveTo(b-x,w,b-S,w),a.lineTo(m+S,w),a.quadraticCurveTo(m+x,w,m,w+M),a.closePath()}},$p=Math.sin(0),pc=Math.cos(0),Ld={},vh={},mh=Math.PI/40,gc=0*Math.PI;gc<2*Math.PI;gc+=mh)Ld[gc]=Math.sin(gc),vh[gc]=Math.cos(gc);Ns.drawEllipsePath=function(a,i,s,l,f){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(i,s,l/2,f/2,0,0,2*Math.PI);else for(var h,p,m=l/2,b=f/2,w=0*Math.PI;w<2*Math.PI;w+=mh)h=i-m*Ld[w]*$p+m*vh[w]*pc,p=s+b*vh[w]*$p+b*Ld[w]*pc,0===w?a.moveTo(h,p):a.lineTo(h,p);a.closePath()};var gl={};function Hp(a){var i=a.indexOf(",");return a.substr(i+1)}function vc(a,i,s){var l=function(){return i.toDataURL(s,a.quality)};switch(a.output){case"blob-promise":return new go(function(f,h){try{i.toBlob(function(p){null!=p?f(p):h(new Error("`canvas.toBlob()` sent a null value in its callback"))},s,a.quality)}catch(p){h(p)}});case"blob":return function Ev(a,i){for(var s=atob(a),l=new ArrayBuffer(s.length),f=new Uint8Array(l),h=0;h<s.length;h++)f[h]=s.charCodeAt(h);return new Blob([l],{type:i})}(Hp(l()),s);case"base64":return Hp(l());default:return l()}}gl.createBuffer=function(a,i){var s=document.createElement("canvas");return s.width=a,s.height=i,[s,s.getContext("2d")]},gl.bufferCanvasImage=function(a){var i=this.cy,l=i.mutableElements().boundingBox(),f=this.findContainerClientCoords(),h=a.full?Math.ceil(l.w):f[2],p=a.full?Math.ceil(l.h):f[3],m=at(a.maxWidth)||at(a.maxHeight),b=this.getPixelRatio(),w=1;if(void 0!==a.scale)h*=a.scale,p*=a.scale,w=a.scale;else if(m){var D=1/0,E=1/0;at(a.maxWidth)&&(D=w*a.maxWidth/h),at(a.maxHeight)&&(E=w*a.maxHeight/p),h*=w=Math.min(D,E),p*=w}m||(h*=b,p*=b,w*=b);var S=document.createElement("canvas");S.width=h,S.height=p,S.style.width=h+"px",S.style.height=p+"px";var M=S.getContext("2d");if(h>0&&p>0){M.clearRect(0,0,h,p),M.globalCompositeOperation="source-over";var x=this.getCachedZSortedEles();if(a.full)M.translate(-l.x1*w,-l.y1*w),M.scale(w,w),this.drawElements(M,x),M.scale(1/w,1/w),M.translate(l.x1*w,l.y1*w);else{var R=i.pan(),A={x:R.x*w,y:R.y*w};w*=i.zoom(),M.translate(A.x,A.y),M.scale(w,w),this.drawElements(M,x),M.scale(1/w,1/w),M.translate(-A.x,-A.y)}a.bg&&(M.globalCompositeOperation="destination-over",M.fillStyle=a.bg,M.rect(0,0,h,p),M.fill())}return S},gl.png=function(a){return vc(a,this.bufferCanvasImage(a),"image/png")},gl.jpg=function(a){return vc(a,this.bufferCanvasImage(a),"image/jpeg")};var dy=Vd,Un=Vd.prototype;function Vd(a){var i=this;i.data={canvases:new Array(Un.CANVAS_LAYERS),contexts:new Array(Un.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Un.CANVAS_LAYERS),bufferCanvases:new Array(Un.BUFFER_COUNT),bufferContexts:new Array(Un.CANVAS_LAYERS)};var s="-webkit-tap-highlight-color",l="rgba(0,0,0,0)";i.data.canvasContainer=document.createElement("div");var f=i.data.canvasContainer.style;i.data.canvasContainer.style[s]=l,f.position="relative",f.zIndex="0",f.overflow="hidden";var h=a.cy.container();h.appendChild(i.data.canvasContainer),h.style[s]=l;var p={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Dn&&Dn.userAgent.match(/msie|trident|edge/i)&&(p["-ms-touch-action"]="none",p["touch-action"]="none");for(var m=0;m<Un.CANVAS_LAYERS;m++){var b=i.data.canvases[m]=document.createElement("canvas");i.data.contexts[m]=b.getContext("2d"),Object.keys(p).forEach(function(Fe){b.style[Fe]=p[Fe]}),b.style.position="absolute",b.setAttribute("data-id","layer"+m),b.style.zIndex=String(Un.CANVAS_LAYERS-m),i.data.canvasContainer.appendChild(b),i.data.canvasNeedsRedraw[m]=!1}for(i.data.topCanvas=i.data.canvases[0],i.data.canvases[Un.NODE].setAttribute("data-id","layer"+Un.NODE+"-node"),i.data.canvases[Un.SELECT_BOX].setAttribute("data-id","layer"+Un.SELECT_BOX+"-selectbox"),i.data.canvases[Un.DRAG].setAttribute("data-id","layer"+Un.DRAG+"-drag"),m=0;m<Un.BUFFER_COUNT;m++)i.data.bufferCanvases[m]=document.createElement("canvas"),i.data.bufferContexts[m]=i.data.bufferCanvases[m].getContext("2d"),i.data.bufferCanvases[m].style.position="absolute",i.data.bufferCanvases[m].setAttribute("data-id","buffer"+m),i.data.bufferCanvases[m].style.zIndex=String(-m-1),i.data.bufferCanvases[m].style.visibility="hidden";i.pathsEnabled=!0;var w=fo(),E=function(he){return{x:-he.w/2,y:-he.h/2}},q=function(he){return he.boundingBox(),he[0]._private.bodyBounds},K=function(he){return he.boundingBox(),he[0]._private.labelBounds.main||w},$=function(he){return he.boundingBox(),he[0]._private.labelBounds.source||w},W=function(he){return he.boundingBox(),he[0]._private.labelBounds.target||w},U=function(he,ze){return ze},X=function(he,ze,Ge){var Le=he?he+"-":"";return{x:ze.x+Ge.pstyle(Le+"text-margin-x").pfValue,y:ze.y+Ge.pstyle(Le+"text-margin-y").pfValue}},G=function(he,ze,Ge){var Le=he[0]._private.rscratch;return{x:Le[ze],y:Le[Ge]}},xe=i.data.eleTxrCache=new Aa(i,{getKey:function(he){return he[0]._private.nodeKey},doesEleInvalidateKey:function(he){var ze=he[0]._private;return!(ze.oldBackgroundTimestamp===ze.backgroundTimestamp)},drawElement:function(he,ze,Ge,Le,Xe){return i.drawElement(he,ze,Ge,!1,!1,Xe)},getBoundingBox:q,getRotationPoint:function(he){return function(he){return{x:(he.x1+he.x2)/2,y:(he.y1+he.y2)/2}}(q(he))},getRotationOffset:function(he){return E(q(he))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),de=i.data.lblTxrCache=new Aa(i,{getKey:function(he){return he[0]._private.labelStyleKey},drawElement:function(he,ze,Ge,Le,Xe){return i.drawElementText(he,ze,Ge,Le,"main",Xe)},getBoundingBox:K,getRotationPoint:function(he){return X("",G(he,"labelX","labelY"),he)},getRotationOffset:function(he){var ze=K(he),Ge=E(K(he));if(he.isNode()){switch(he.pstyle("text-halign").value){case"left":Ge.x=-ze.w;break;case"right":Ge.x=0}switch(he.pstyle("text-valign").value){case"top":Ge.y=-ze.h;break;case"bottom":Ge.y=0}}return Ge},isVisible:U}),Ce=i.data.slbTxrCache=new Aa(i,{getKey:function(he){return he[0]._private.sourceLabelStyleKey},drawElement:function(he,ze,Ge,Le,Xe){return i.drawElementText(he,ze,Ge,Le,"source",Xe)},getBoundingBox:$,getRotationPoint:function(he){return X("source",G(he,"sourceLabelX","sourceLabelY"),he)},getRotationOffset:function(he){return E($(he))},isVisible:U}),Pe=i.data.tlbTxrCache=new Aa(i,{getKey:function(he){return he[0]._private.targetLabelStyleKey},drawElement:function(he,ze,Ge,Le,Xe){return i.drawElementText(he,ze,Ge,Le,"target",Xe)},getBoundingBox:W,getRotationPoint:function(he){return X("target",G(he,"targetLabelX","targetLabelY"),he)},getRotationOffset:function(he){return E(W(he))},isVisible:U}),Ve=i.data.lyrTxrCache=new Np(i);i.onUpdateEleCalcs(function(he,ze){xe.invalidateElements(ze),de.invalidateElements(ze),Ce.invalidateElements(ze),Pe.invalidateElements(ze),Ve.invalidateElements(ze);for(var Ge=0;Ge<ze.length;Ge++){var Le=ze[Ge]._private;Le.oldBackgroundTimestamp=Le.backgroundTimestamp}});var Oe=function(he){for(var ze=0;ze<he.length;ze++)Ve.enqueueElementRefinement(he[ze].ele)};xe.onDequeue(Oe),de.onDequeue(Oe),Ce.onDequeue(Oe),Pe.onDequeue(Oe)}Un.CANVAS_LAYERS=3,Un.SELECT_BOX=0,Un.DRAG=1,Un.NODE=2,Un.BUFFER_COUNT=3,Un.TEXTURE_BUFFER=0,Un.MOTIONBLUR_BUFFER_NODE=1,Un.MOTIONBLUR_BUFFER_DRAG=2,Un.redrawHint=function(a,i){var s=this;switch(a){case"eles":s.data.canvasNeedsRedraw[Un.NODE]=i;break;case"drag":s.data.canvasNeedsRedraw[Un.DRAG]=i;break;case"select":s.data.canvasNeedsRedraw[Un.SELECT_BOX]=i}};var fy=typeof Path2D<"u";Un.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a},Un.usePaths=function(){return fy&&this.pathsEnabled},Un.setImgSmoothing=function(a,i){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=i:(a.webkitImageSmoothingEnabled=i,a.mozImageSmoothingEnabled=i,a.msImageSmoothingEnabled=i)},Un.getImgSmoothing=function(a){return null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled:a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled},Un.makeOffscreenCanvas=function(a,i){var s;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":dn(OffscreenCanvas))?s=new OffscreenCanvas(a,i):((s=document.createElement("canvas")).width=a,s.height=i),s},[Pd,Eo,rs,mu,yu,wu,eo,Ns,gl,{nodeShapeImpl:function(a,i,s,l,f,h,p){switch(a){case"ellipse":return this.drawEllipsePath(i,s,l,f,h);case"polygon":return this.drawPolygonPath(i,s,l,f,h,p);case"round-polygon":return this.drawRoundPolygonPath(i,s,l,f,h,p);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(i,s,l,f,h);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(i,s,l,f,h);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(i,s,l,f,h);case"barrel":return this.drawBarrelPath(i,s,l,f,h)}}}].forEach(function(a){Nt(Un,a)});var py=[{type:"layout",extensions:du},{type:"renderer",extensions:[{name:"null",impl:cc},{name:"base",impl:Ad},{name:"canvas",impl:dy}]}],_v={},Sv={};function Up(a,i,s){var l=s,f=function(W){Kt("Can not register `"+i+"` for `"+a+"` since `"+W+"` already exists in the prototype and can not be overridden")};if("core"===a){if(ac.prototype[i])return f(i);ac.prototype[i]=s}else if("collection"===a){if(Pt.prototype[i])return f(i);Pt.prototype[i]=s}else if("layout"===a){for(var h=function(W){this.options=W,s.call(this,W),Mt(this._private)||(this._private={}),this._private.cy=W.cy,this._private.listeners=[],this.createEmitter()},p=h.prototype=Object.create(s.prototype),m=[],b=0;b<m.length;b++){var w=m[b];p[w]=p[w]||function(){return this}}p.start&&!p.run?p.run=function(){return this.start(),this}:!p.start&&p.run&&(p.start=function(){return this.run(),this});var D=s.prototype.stop;p.stop=function(){var $=this.options;if($&&$.animate){var W=this.animations;if(W)for(var U=0;U<W.length;U++)W[U].stop()}return D?D.call(this):this.emit("layoutstop"),this},p.destroy||(p.destroy=function(){return this}),p.cy=function(){return this._private.cy};var E=function(W){return W._private.cy},S={addEventFields:function(W,U){U.layout=W,U.cy=E(W),U.target=W},bubble:function(){return!0},parent:function(W){return E(W)}};Nt(p,{createEmitter:function(){return this._private.emitter=new Yu(S,this),this},emitter:function(){return this._private.emitter},on:function(W,U){return this.emitter().on(W,U),this},one:function(W,U){return this.emitter().one(W,U),this},once:function(W,U){return this.emitter().one(W,U),this},removeListener:function(W,U){return this.emitter().removeListener(W,U),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(W,U){return this.emitter().emit(W,U),this}}),Xt.eventAliasesOn(p),l=h}else if("renderer"===a&&"null"!==i&&"base"!==i){var M=mc("renderer","base"),x=M.prototype,R=s,A=s.prototype,P=function(){M.apply(this,arguments),R.apply(this,arguments)},k=P.prototype;for(var O in x){var V=x[O];if(null!=A[O])return f(O);k[O]=V}for(var K in A)k[K]=A[K];x.clientFunctions.forEach(function($){k[$]=k[$]||function(){Hn("Renderer does not implement `renderer."+$+"()` on its prototype")}}),l=P}else if("__proto__"===a||"constructor"===a||"prototype"===a)return Hn(a+" is an illegal type to be registered, possibly lead to prototype pollutions");return $c({map:_v,keys:[a,i],value:l})}function mc(a,i){return Hc({map:_v,keys:[a,i]})}function $d(a,i,s,l,f){return $c({map:Sv,keys:[a,i,s,l],value:f})}function zp(a,i,s,l){return Hc({map:Sv,keys:[a,i,s,l]})}var Hd=function(){return 2===arguments.length?mc.apply(null,arguments):3===arguments.length?Up.apply(null,arguments):4===arguments.length?zp.apply(null,arguments):5===arguments.length?$d.apply(null,arguments):void Hn("Invalid extension access syntax")};ac.prototype.extension=Hd,py.forEach(function(a){a.extensions.forEach(function(i){Up(a.type,i.name,i.impl)})});var yh=function a(){if(!(this instanceof a))return new a;this.length=0},Lo=yh.prototype;Lo.instanceString=function(){return"stylesheet"},Lo.selector=function(a){return this[this.length++]={selector:a,properties:[]},this},Lo.css=function(a,i){var s=this.length-1;if(Je(a))this[s].properties.push({name:a,value:i});else if(Mt(a))for(var l=a,f=Object.keys(l),h=0;h<f.length;h++){var p=f[h],m=l[p];if(null!=m){var b=xi.properties[p]||xi.properties[js(p)];null!=b&&this[s].properties.push({name:b.name,value:m})}}return this},Lo.style=Lo.css,Lo.generateStyle=function(a){var i=new xi(a);return this.appendToStyle(i)},Lo.appendToStyle=function(a){for(var i=0;i<this.length;i++){var s=this[i],f=s.properties;a.selector(s.selector);for(var h=0;h<f.length;h++){var p=f[h];a.css(p.name,p.value)}}return a};var is=function(i){return void 0===i&&(i={}),Mt(i)?new ac(i):Je(i)?Hd.apply(Hd,arguments):void 0};is.use=function(a){var i=Array.prototype.slice.call(arguments,1);return i.unshift(is),a.apply(null,i),this},is.warnings=function(a){return Kh(a)},is.version="3.28.0",is.stylesheet=is.Stylesheet=yh,we.exports=is},7444:(we,Qe,ie)=>{we.exports=ie(7253)},7253:function(we,Qe){var ie,le,B;(function(){var Te,Ie,Ue,Ae,rt,mt,Dt,St,Fn,dn,Dr,ir,$n,An,fn;Ue=Math.floor,dn=Math.min,Ie=function(qe,it){return qe<it?-1:qe>it?1:0},Fn=function(qe,it,ht,xt,Rn){var Ot;if(null==ht&&(ht=0),null==Rn&&(Rn=Ie),ht<0)throw new Error("lo must be non-negative");for(null==xt&&(xt=qe.length);ht<xt;)Rn(it,qe[Ot=Ue((ht+xt)/2)])<0?xt=Ot:ht=Ot+1;return[].splice.apply(qe,[ht,ht-ht].concat(it)),it},mt=function(qe,it,ht){return null==ht&&(ht=Ie),qe.push(it),An(qe,0,qe.length-1,ht)},rt=function(qe,it){var ht,xt;return null==it&&(it=Ie),ht=qe.pop(),qe.length?(xt=qe[0],qe[0]=ht,fn(qe,0,it)):xt=ht,xt},St=function(qe,it,ht){var xt;return null==ht&&(ht=Ie),xt=qe[0],qe[0]=it,fn(qe,0,ht),xt},Dt=function(qe,it,ht){var xt;return null==ht&&(ht=Ie),qe.length&&ht(qe[0],it)<0&&(it=(xt=[qe[0],it])[0],qe[0]=xt[1],fn(qe,0,ht)),it},Ae=function(qe,it){var xt,Ot,Xn,Ni,So;for(null==it&&(it=Ie),Ni=[],xt=0,Ot=(Xn=function(){So=[];for(var ao=0,Ir=Ue(qe.length/2);0<=Ir?ao<Ir:ao>Ir;0<=Ir?ao++:ao--)So.push(ao);return So}.apply(this).reverse()).length;xt<Ot;xt++)Ni.push(fn(qe,Xn[xt],it));return Ni},$n=function(qe,it,ht){var xt;if(null==ht&&(ht=Ie),-1!==(xt=qe.indexOf(it)))return An(qe,0,xt,ht),fn(qe,xt,ht)},Dr=function(qe,it,ht){var Rn,Ot,Dn,Xn;if(null==ht&&(ht=Ie),!(Rn=qe.slice(0,it)).length)return Rn;for(Ae(Rn,ht),Ot=0,Dn=(Xn=qe.slice(it)).length;Ot<Dn;Ot++)Dt(Rn,Xn[Ot],ht);return Rn.sort(ht).reverse()},ir=function(qe,it,ht){var xt,Ot,Dn,Xn,Ni,So,ao,Ir,Je;if(null==ht&&(ht=Ie),10*it<=qe.length){if(!(Dn=qe.slice(0,it).sort(ht)).length)return Dn;for(Ot=Dn[Dn.length-1],Xn=0,So=(ao=qe.slice(it)).length;Xn<So;Xn++)ht(xt=ao[Xn],Ot)<0&&(Fn(Dn,xt,0,null,ht),Dn.pop(),Ot=Dn[Dn.length-1]);return Dn}for(Ae(qe,ht),Je=[],Ni=0,Ir=dn(it,qe.length);0<=Ir?Ni<Ir:Ni>Ir;0<=Ir?++Ni:--Ni)Je.push(rt(qe,ht));return Je},An=function(qe,it,ht,xt){var Rn,Ot,Dn;for(null==xt&&(xt=Ie),Rn=qe[ht];ht>it&&xt(Rn,Ot=qe[Dn=ht-1>>1])<0;)qe[ht]=Ot,ht=Dn;return qe[ht]=Rn},fn=function(qe,it,ht){var xt,Rn,Ot,Dn,Xn;for(null==ht&&(ht=Ie),Rn=qe.length,Xn=it,Ot=qe[it],xt=2*it+1;xt<Rn;)(Dn=xt+1)<Rn&&!(ht(qe[xt],qe[Dn])<0)&&(xt=Dn),qe[it]=qe[xt],xt=2*(it=xt)+1;return qe[it]=Ot,An(qe,Xn,it,ht)},Te=function(){function qe(it){this.cmp=it??Ie,this.nodes=[]}return qe.push=mt,qe.pop=rt,qe.replace=St,qe.pushpop=Dt,qe.heapify=Ae,qe.updateItem=$n,qe.nlargest=Dr,qe.nsmallest=ir,qe.prototype.push=function(it){return mt(this.nodes,it,this.cmp)},qe.prototype.pop=function(){return rt(this.nodes,this.cmp)},qe.prototype.peek=function(){return this.nodes[0]},qe.prototype.contains=function(it){return-1!==this.nodes.indexOf(it)},qe.prototype.replace=function(it){return St(this.nodes,it,this.cmp)},qe.prototype.pushpop=function(it){return Dt(this.nodes,it,this.cmp)},qe.prototype.heapify=function(){return Ae(this.nodes,this.cmp)},qe.prototype.updateItem=function(it){return $n(this.nodes,it,this.cmp)},qe.prototype.clear=function(){return this.nodes=[]},qe.prototype.empty=function(){return 0===this.nodes.length},qe.prototype.size=function(){return this.nodes.length},qe.prototype.clone=function(){var it;return(it=new qe).nodes=this.nodes.slice(0),it},qe.prototype.toArray=function(){return this.nodes.slice(0)},qe.prototype.insert=qe.prototype.push,qe.prototype.top=qe.prototype.peek,qe.prototype.front=qe.prototype.peek,qe.prototype.has=qe.prototype.contains,qe.prototype.copy=qe.prototype.clone,qe}(),le=[],void 0===(B="function"==typeof(ie=function(){return Te})?ie.apply(Qe,le):ie)||(we.exports=B)}).call(this)},9618:(we,Qe,ie)=>{var le=ie(5602),B=ie(1499),Te=ie(2990),Ie=ie(480),Ue=ie(4469);function Ae(rt){var mt=-1,Dt=null==rt?0:rt.length;for(this.clear();++mt<Dt;){var St=rt[mt];this.set(St[0],St[1])}}Ae.prototype.clear=le,Ae.prototype.delete=B,Ae.prototype.get=Te,Ae.prototype.has=Ie,Ae.prototype.set=Ue,we.exports=Ae},3597:(we,Qe,ie)=>{var le=ie(9365),B=ie(9343),Te=ie(4779),Ie=ie(1509),Ue=ie(7137);function Ae(rt){var mt=-1,Dt=null==rt?0:rt.length;for(this.clear();++mt<Dt;){var St=rt[mt];this.set(St[0],St[1])}}Ae.prototype.clear=le,Ae.prototype.delete=B,Ae.prototype.get=Te,Ae.prototype.has=Ie,Ae.prototype.set=Ue,we.exports=Ae},1136:(we,Qe,ie)=>{var Te=ie(8745)(ie(8492),"Map");we.exports=Te},1811:(we,Qe,ie)=>{var le=ie(3413),B=ie(5419),Te=ie(7336),Ie=ie(1115),Ue=ie(6648);function Ae(rt){var mt=-1,Dt=null==rt?0:rt.length;for(this.clear();++mt<Dt;){var St=rt[mt];this.set(St[0],St[1])}}Ae.prototype.clear=le,Ae.prototype.delete=B,Ae.prototype.get=Te,Ae.prototype.has=Ie,Ae.prototype.set=Ue,we.exports=Ae},1763:(we,Qe,ie)=>{var le=ie(8492);we.exports=le.Symbol},3880:we=>{we.exports=function Qe(ie,le){for(var B=-1,Te=null==ie?0:ie.length,Ie=Array(Te);++B<Te;)Ie[B]=le(ie[B],B,ie);return Ie}},9553:(we,Qe,ie)=>{var le=ie(1741),B=ie(7826),Ie=Object.prototype.hasOwnProperty;we.exports=function Ue(Ae,rt,mt){var Dt=Ae[rt];(!Ie.call(Ae,rt)||!B(Dt,mt)||void 0===mt&&!(rt in Ae))&&le(Ae,rt,mt)}},4056:(we,Qe,ie)=>{var le=ie(7826);we.exports=function B(Te,Ie){for(var Ue=Te.length;Ue--;)if(le(Te[Ue][0],Ie))return Ue;return-1}},1741:(we,Qe,ie)=>{var le=ie(9383);we.exports=function B(Te,Ie,Ue){"__proto__"==Ie&&le?le(Te,Ie,{configurable:!0,enumerable:!0,value:Ue,writable:!0}):Te[Ie]=Ue}},2202:(we,Qe,ie)=>{var le=ie(4826),B=ie(8916);we.exports=function Te(Ie,Ue){for(var Ae=0,rt=(Ue=le(Ue,Ie)).length;null!=Ie&&Ae<rt;)Ie=Ie[B(Ue[Ae++])];return Ae&&Ae==rt?Ie:void 0}},4590:(we,Qe,ie)=>{var le=ie(1763),B=ie(5933),Te=ie(9243),Ae=le?le.toStringTag:void 0;we.exports=function rt(mt){return null==mt?void 0===mt?"[object Undefined]":"[object Null]":Ae&&Ae in Object(mt)?B(mt):Te(mt)}},1082:(we,Qe,ie)=>{var le=ie(6861),B=ie(9950),Te=ie(9794),Ie=ie(7075),Ae=/^\[object .+?Constructor\]$/,Fn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");we.exports=function dn(Dr){return!(!Te(Dr)||B(Dr))&&(le(Dr)?Fn:Ae).test(Ie(Dr))}},9478:(we,Qe,ie)=>{var le=ie(9553),B=ie(4826),Te=ie(5188),Ie=ie(9794),Ue=ie(8916);we.exports=function Ae(rt,mt,Dt,St){if(!Ie(rt))return rt;for(var Fn=-1,dn=(mt=B(mt,rt)).length,Dr=dn-1,ir=rt;null!=ir&&++Fn<dn;){var $n=Ue(mt[Fn]),An=Dt;if("__proto__"===$n||"constructor"===$n||"prototype"===$n)return rt;if(Fn!=Dr){var fn=ir[$n];void 0===(An=St?St(fn,$n,ir):void 0)&&(An=Ie(fn)?fn:Te(mt[Fn+1])?[]:{})}le(ir,$n,An),ir=ir[$n]}return rt}},7002:(we,Qe,ie)=>{var le=ie(1763),B=ie(3880),Te=ie(2261),Ie=ie(3423),Ae=le?le.prototype:void 0,rt=Ae?Ae.toString:void 0;we.exports=function mt(Dt){if("string"==typeof Dt)return Dt;if(Te(Dt))return B(Dt,mt)+"";if(Ie(Dt))return rt?rt.call(Dt):"";var St=Dt+"";return"0"==St&&1/Dt==-1/0?"-0":St}},9484:(we,Qe,ie)=>{var le=ie(1781),B=/^\s+/;we.exports=function Te(Ie){return Ie&&Ie.slice(0,le(Ie)+1).replace(B,"")}},4826:(we,Qe,ie)=>{var le=ie(2261),B=ie(6300),Te=ie(163),Ie=ie(2674);we.exports=function Ue(Ae,rt){return le(Ae)?Ae:B(Ae,rt)?[Ae]:Te(Ie(Ae))}},4231:we=>{we.exports=function Qe(ie,le){var B=-1,Te=ie.length;for(le||(le=Array(Te));++B<Te;)le[B]=ie[B];return le}},6189:(we,Qe,ie)=>{var le=ie(8492);we.exports=le["__core-js_shared__"]},9383:(we,Qe,ie)=>{var le=ie(8745),B=function(){try{var Te=le(Object,"defineProperty");return Te({},"",{}),Te}catch{}}();we.exports=B},248:we=>{var Qe="object"==typeof global&&global&&global.Object===Object&&global;we.exports=Qe},4113:(we,Qe,ie)=>{var le=ie(29);we.exports=function B(Te,Ie){var Ue=Te.__data__;return le(Ie)?Ue["string"==typeof Ie?"string":"hash"]:Ue.map}},8745:(we,Qe,ie)=>{var le=ie(1082),B=ie(1015);we.exports=function Te(Ie,Ue){var Ae=B(Ie,Ue);return le(Ae)?Ae:void 0}},5933:(we,Qe,ie)=>{var le=ie(1763),B=Object.prototype,Te=B.hasOwnProperty,Ie=B.toString,Ue=le?le.toStringTag:void 0;we.exports=function Ae(rt){var mt=Te.call(rt,Ue),Dt=rt[Ue];try{rt[Ue]=void 0;var St=!0}catch{}var Fn=Ie.call(rt);return St&&(mt?rt[Ue]=Dt:delete rt[Ue]),Fn}},1015:we=>{we.exports=function Qe(ie,le){return ie?.[le]}},5602:(we,Qe,ie)=>{var le=ie(893);we.exports=function B(){this.__data__=le?le(null):{},this.size=0}},1499:we=>{we.exports=function Qe(ie){var le=this.has(ie)&&delete this.__data__[ie];return this.size-=le?1:0,le}},2990:(we,Qe,ie)=>{var le=ie(893),Ie=Object.prototype.hasOwnProperty;we.exports=function Ue(Ae){var rt=this.__data__;if(le){var mt=rt[Ae];return"__lodash_hash_undefined__"===mt?void 0:mt}return Ie.call(rt,Ae)?rt[Ae]:void 0}},480:(we,Qe,ie)=>{var le=ie(893),Te=Object.prototype.hasOwnProperty;we.exports=function Ie(Ue){var Ae=this.__data__;return le?void 0!==Ae[Ue]:Te.call(Ae,Ue)}},4469:(we,Qe,ie)=>{var le=ie(893);we.exports=function Te(Ie,Ue){var Ae=this.__data__;return this.size+=this.has(Ie)?0:1,Ae[Ie]=le&&void 0===Ue?"__lodash_hash_undefined__":Ue,this}},5188:we=>{var ie=/^(?:0|[1-9]\d*)$/;we.exports=function le(B,Te){var Ie=typeof B;return!!(Te=Te??9007199254740991)&&("number"==Ie||"symbol"!=Ie&&ie.test(B))&&B>-1&&B%1==0&&B<Te}},6300:(we,Qe,ie)=>{var le=ie(2261),B=ie(3423),Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/;we.exports=function Ue(Ae,rt){if(le(Ae))return!1;var mt=typeof Ae;return!("number"!=mt&&"symbol"!=mt&&"boolean"!=mt&&null!=Ae&&!B(Ae))||Ie.test(Ae)||!Te.test(Ae)||null!=rt&&Ae in Object(rt)}},29:we=>{we.exports=function Qe(ie){var le=typeof ie;return"string"==le||"number"==le||"symbol"==le||"boolean"==le?"__proto__"!==ie:null===ie}},9950:(we,Qe,ie)=>{var Ie,le=ie(6189),B=(Ie=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"";we.exports=function Te(Ie){return!!B&&B in Ie}},9365:we=>{we.exports=function Qe(){this.__data__=[],this.size=0}},9343:(we,Qe,ie)=>{var le=ie(4056),Te=Array.prototype.splice;we.exports=function Ie(Ue){var Ae=this.__data__,rt=le(Ae,Ue);return!(rt<0||(rt==Ae.length-1?Ae.pop():Te.call(Ae,rt,1),--this.size,0))}},4779:(we,Qe,ie)=>{var le=ie(4056);we.exports=function B(Te){var Ie=this.__data__,Ue=le(Ie,Te);return Ue<0?void 0:Ie[Ue][1]}},1509:(we,Qe,ie)=>{var le=ie(4056);we.exports=function B(Te){return le(this.__data__,Te)>-1}},7137:(we,Qe,ie)=>{var le=ie(4056);we.exports=function B(Te,Ie){var Ue=this.__data__,Ae=le(Ue,Te);return Ae<0?(++this.size,Ue.push([Te,Ie])):Ue[Ae][1]=Ie,this}},3413:(we,Qe,ie)=>{var le=ie(9618),B=ie(3597),Te=ie(1136);we.exports=function Ie(){this.size=0,this.__data__={hash:new le,map:new(Te||B),string:new le}}},5419:(we,Qe,ie)=>{var le=ie(4113);we.exports=function B(Te){var Ie=le(this,Te).delete(Te);return this.size-=Ie?1:0,Ie}},7336:(we,Qe,ie)=>{var le=ie(4113);we.exports=function B(Te){return le(this,Te).get(Te)}},1115:(we,Qe,ie)=>{var le=ie(4113);we.exports=function B(Te){return le(this,Te).has(Te)}},6648:(we,Qe,ie)=>{var le=ie(4113);we.exports=function B(Te,Ie){var Ue=le(this,Te),Ae=Ue.size;return Ue.set(Te,Ie),this.size+=Ue.size==Ae?0:1,this}},7371:(we,Qe,ie)=>{var le=ie(7659);we.exports=function Te(Ie){var Ue=le(Ie,function(rt){return 500===Ae.size&&Ae.clear(),rt}),Ae=Ue.cache;return Ue}},893:(we,Qe,ie)=>{var B=ie(8745)(Object,"create");we.exports=B},9243:we=>{var ie=Object.prototype.toString;we.exports=function le(B){return ie.call(B)}},8492:(we,Qe,ie)=>{var le=ie(248),B="object"==typeof self&&self&&self.Object===Object&&self,Te=le||B||Function("return this")();we.exports=Te},163:(we,Qe,ie)=>{var le=ie(7371),B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Te=/\\(\\)?/g,Ie=le(function(Ue){var Ae=[];return 46===Ue.charCodeAt(0)&&Ae.push(""),Ue.replace(B,function(rt,mt,Dt,St){Ae.push(Dt?St.replace(Te,"$1"):mt||rt)}),Ae});we.exports=Ie},8916:(we,Qe,ie)=>{var le=ie(3423);we.exports=function Te(Ie){if("string"==typeof Ie||le(Ie))return Ie;var Ue=Ie+"";return"0"==Ue&&1/Ie==-1/0?"-0":Ue}},7075:we=>{var ie=Function.prototype.toString;we.exports=function le(B){if(null!=B){try{return ie.call(B)}catch{}try{return B+""}catch{}}return""}},1781:we=>{var Qe=/\s/;we.exports=function ie(le){for(var B=le.length;B--&&Qe.test(le.charAt(B)););return B}},4430:(we,Qe,ie)=>{var le=ie(9794),B=ie(5533),Te=ie(4282),Ue=Math.max,Ae=Math.min;we.exports=function rt(mt,Dt,St){var Fn,dn,Dr,ir,$n,An,fn=0,qe=!1,it=!1,ht=!0;if("function"!=typeof mt)throw new TypeError("Expected a function");function xt(Je){var Ln=Fn,Mn=dn;return Fn=dn=void 0,fn=Je,ir=mt.apply(Mn,Ln)}function Dn(Je){var Ln=Je-An;return void 0===An||Ln>=Dt||Ln<0||it&&Je-fn>=Dr}function Xn(){var Je=B();if(Dn(Je))return Ni(Je);$n=setTimeout(Xn,function Ot(Je){var Mt=Dt-(Je-An);return it?Ae(Mt,Dr-(Je-fn)):Mt}(Je))}function Ni(Je){return $n=void 0,ht&&Fn?xt(Je):(Fn=dn=void 0,ir)}function Ir(){var Je=B(),Ln=Dn(Je);if(Fn=arguments,dn=this,An=Je,Ln){if(void 0===$n)return function Rn(Je){return fn=Je,$n=setTimeout(Xn,Dt),qe?xt(Je):ir}(An);if(it)return clearTimeout($n),$n=setTimeout(Xn,Dt),xt(An)}return void 0===$n&&($n=setTimeout(Xn,Dt)),ir}return Dt=Te(Dt)||0,le(St)&&(qe=!!St.leading,Dr=(it="maxWait"in St)?Ue(Te(St.maxWait)||0,Dt):Dr,ht="trailing"in St?!!St.trailing:ht),Ir.cancel=function So(){void 0!==$n&&clearTimeout($n),fn=0,Fn=An=dn=$n=void 0},Ir.flush=function ao(){return void 0===$n?ir:Ni(B())},Ir}},7826:we=>{we.exports=function Qe(ie,le){return ie===le||ie!=ie&&le!=le}},5440:(we,Qe,ie)=>{var le=ie(2202);we.exports=function B(Te,Ie,Ue){var Ae=null==Te?void 0:le(Te,Ie);return void 0===Ae?Ue:Ae}},2261:we=>{we.exports=Array.isArray},6861:(we,Qe,ie)=>{var le=ie(4590),B=ie(9794);we.exports=function rt(mt){if(!B(mt))return!1;var Dt=le(mt);return"[object Function]"==Dt||"[object GeneratorFunction]"==Dt||"[object AsyncFunction]"==Dt||"[object Proxy]"==Dt}},9794:we=>{we.exports=function Qe(ie){var le=typeof ie;return null!=ie&&("object"==le||"function"==le)}},3714:we=>{we.exports=function Qe(ie){return null!=ie&&"object"==typeof ie}},3423:(we,Qe,ie)=>{var le=ie(4590),B=ie(3714);we.exports=function Ie(Ue){return"symbol"==typeof Ue||B(Ue)&&"[object Symbol]"==le(Ue)}},6990:function(we,Qe,ie){var le;we=ie.nmd(we),function(){var B,Ae="Expected a function",mt="__lodash_hash_undefined__",St="__lodash_placeholder__",Mt=1/0,Fa=9007199254740991,so=4294967295,cf=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],or="[object Arguments]",vr="[object Array]",rn="[object Boolean]",zs="[object Date]",Nu="[object Error]",Fc="[object Function]",Pu="[object GeneratorFunction]",uo="[object Map]",js="[object Number]",La="[object Object]",jr="[object Promise]",ku="[object RegExp]",Uo="[object Set]",Gs="[object String]",Lc="[object Symbol]",qs="[object WeakMap]",Nt="[object ArrayBuffer]",Ou="[object DataView]",la="[object Float32Array]",Bc="[object Float64Array]",ff="[object Int8Array]",Vc="[object Int16Array]",hf="[object Int32Array]",$c="[object Uint8Array]",Hc="[object Uint8ClampedArray]",Ml="[object Uint16Array]",Uc="[object Uint32Array]",Zg=/\b__p \+= '';/g,zc=/\b(__p \+=) '' \+/g,Ba=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ws=/&(?:amp|lt|gt|quot|#39);/g,pf=/[&<>"']/g,jc=RegExp(Ws.source),gf=RegExp(pf.source),Fu=/<%-([\s\S]+?)%>/g,Lu=/<%([\s\S]+?)%>/g,vf=/<%=([\s\S]+?)%>/g,Va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gc=/^\w*$/,qh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ca=/[\\^$.*+?()[\]{}|]/g,mf=RegExp(ca.source),qc=/^\s+/,qi=/\s/,Kg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yg=/\{\n\/\* \[wrapped with (.+)\] \*/,yf=/,? & /,Wh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Il=/[()=,{}\[\]\/\s]/,Zh=/\\(\\)?/g,wf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hn=/\w*$/,Kh=/^[-+]0x[0-9a-f]+$/i,Kt=/^0b[01]+$/i,Bu=/^\[object .+?Constructor\]$/,Gr=/^0o[0-7]+$/i,Gm=/^(?:0|[1-9]\d*)$/,Yh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wc=/($^)/,Zc=/['\n\r\u2028\u2029\\]/g,kr="\\ud800-\\udfff",lo="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$a="\\u2700-\\u27bf",Qh="a-z\\xdf-\\xf6\\xf8-\\xff",Tl="A-Z\\xc0-\\xd6\\xd8-\\xde",Or="\\ufe0e\\ufe0f",$u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ht="["+kr+"]",Df="["+$u+"]",Hu="["+lo+"]",co="\\d+",Qg="["+$a+"]",ep="["+Qh+"]",zn="[^"+kr+$u+co+$a+Qh+Tl+"]",Uu="\\ud83c[\\udffb-\\udfff]",Kc="[^"+kr+"]",Al="(?:\\ud83c[\\udde6-\\uddff]){2}",Zn="[\\ud800-\\udbff][\\udc00-\\udfff]",Bt="["+Tl+"]",Rl="(?:"+ep+"|"+zn+")",Nl="(?:"+Bt+"|"+zn+")",Cf="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",je="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Pl="(?:"+Hu+"|"+Uu+")?",Yt="["+Or+"]?",Ef=Yt+Pl+"(?:\\u200d(?:"+[Kc,Al,Zn].join("|")+")"+Yt+Pl+")*",Ha="(?:"+[Qg,Al,Zn].join("|")+")"+Ef,Wr="(?:"+[Kc+Hu+"?",Hu,Al,Zn,Ht].join("|")+")",qm=RegExp("['\u2019]","g"),ti=RegExp(Hu,"g"),Ks=RegExp(Uu+"(?="+Uu+")|"+Wr+Ef,"g"),Ys=RegExp([Bt+"?"+ep+"+"+Cf+"(?="+[Df,Bt,"$"].join("|")+")",Nl+"+"+je+"(?="+[Df,Bt+Rl,"$"].join("|")+")",Bt+"?"+Rl+"+"+Cf,Bt+"+"+je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",co,Ha].join("|"),"g"),Xc=RegExp("[\\u200d"+kr+lo+Or+"]"),fo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zm=-1,cr={};cr[la]=cr[Bc]=cr[ff]=cr[Vc]=cr[hf]=cr[$c]=cr[Hc]=cr[Ml]=cr[Uc]=!0,cr[or]=cr[vr]=cr[Nt]=cr[rn]=cr[Ou]=cr[zs]=cr[Nu]=cr[Fc]=cr[uo]=cr[js]=cr[La]=cr[ku]=cr[Uo]=cr[Gs]=cr[qs]=!1;var ar={};ar[or]=ar[vr]=ar[Nt]=ar[Ou]=ar[rn]=ar[zs]=ar[la]=ar[Bc]=ar[ff]=ar[Vc]=ar[hf]=ar[uo]=ar[js]=ar[La]=ar[ku]=ar[Uo]=ar[Gs]=ar[Lc]=ar[$c]=ar[Hc]=ar[Ml]=ar[Uc]=!0,ar[Nu]=ar[Fc]=ar[qs]=!1;var Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},np=parseFloat,kl=parseInt,ev="object"==typeof global&&global&&global.Object===Object&&global,Rt="object"==typeof self&&self&&self.Object===Object&&self,ci=ev||Rt||Function("return this")(),ho=Qe&&!Qe.nodeType&&Qe,fs=ho&&we&&!we.nodeType&&we,rp=fs&&fs.exports===ho,Qc=rp&&ev.process,Mo=function(){try{return fs&&fs.require&&fs.require("util").types||Qc&&Qc.binding&&Qc.binding("util")}catch{}}(),Ol=Mo&&Mo.isArrayBuffer,ni=Mo&&Mo.isDate,Io=Mo&&Mo.isMap,Sf=Mo&&Mo.isRegExp,Fl=Mo&&Mo.isSet,un=Mo&&Mo.isTypedArray;function ki(ae,Ne,be){switch(be.length){case 0:return ae.call(Ne);case 1:return ae.call(Ne,be[0]);case 2:return ae.call(Ne,be[0],be[1]);case 3:return ae.call(Ne,be[0],be[1],be[2])}return ae.apply(Ne,be)}function hs(ae,Ne,be,ut){for(var Qt=-1,Bn=null==ae?0:ae.length;++Qt<Bn;){var Zr=ae[Qt];Ne(ut,Zr,be(Zr),ae)}return ut}function Gn(ae,Ne){for(var be=-1,ut=null==ae?0:ae.length;++be<ut&&!1!==Ne(ae[be],be,ae););return ae}function Jc(ae,Ne){for(var be=null==ae?0:ae.length;be--&&!1!==Ne(ae[be],be,ae););return ae}function ps(ae,Ne){for(var be=-1,ut=null==ae?0:ae.length;++be<ut;)if(!Ne(ae[be],be,ae))return!1;return!0}function Cn(ae,Ne){for(var be=-1,ut=null==ae?0:ae.length,Qt=0,Bn=[];++be<ut;){var Zr=ae[be];Ne(Zr,be,ae)&&(Bn[Qt++]=Zr)}return Bn}function xf(ae,Ne){return!(null==ae||!ae.length)&&ju(ae,Ne,0)>-1}function Ll(ae,Ne,be){for(var ut=-1,Qt=null==ae?0:ae.length;++ut<Qt;)if(be(Ne,ae[ut]))return!0;return!1}function hn(ae,Ne){for(var be=-1,ut=null==ae?0:ae.length,Qt=Array(ut);++be<ut;)Qt[be]=Ne(ae[be],be,ae);return Qt}function zo(ae,Ne){for(var be=-1,ut=Ne.length,Qt=ae.length;++be<ut;)ae[Qt+be]=Ne[be];return ae}function zu(ae,Ne,be,ut){var Qt=-1,Bn=null==ae?0:ae.length;for(ut&&Bn&&(be=ae[++Qt]);++Qt<Bn;)be=Ne(be,ae[Qt],Qt,ae);return be}function Xs(ae,Ne,be,ut){var Qt=null==ae?0:ae.length;for(ut&&Qt&&(be=ae[--Qt]);Qt--;)be=Ne(be,ae[Qt],Qt,ae);return be}function Bl(ae,Ne){for(var be=-1,ut=null==ae?0:ae.length;++be<ut;)if(Ne(ae[be],be,ae))return!0;return!1}var ed=If("length");function tv(ae,Ne,be){var ut;return be(ae,function(Qt,Bn,Zr){if(Ne(Qt,Bn,Zr))return ut=Bn,!1}),ut}function Mf(ae,Ne,be,ut){for(var Qt=ae.length,Bn=be+(ut?1:-1);ut?Bn--:++Bn<Qt;)if(Ne(ae[Bn],Bn,ae))return Bn;return-1}function ju(ae,Ne,be){return Ne==Ne?function jo(ae,Ne,be){for(var ut=be-1,Qt=ae.length;++ut<Qt;)if(ae[ut]===Ne)return ut;return-1}(ae,Ne,be):Mf(ae,Vl,be)}function fa(ae,Ne,be,ut){for(var Qt=be-1,Bn=ae.length;++Qt<Bn;)if(ut(ae[Qt],Ne))return Qt;return-1}function Vl(ae){return ae!=ae}function ha(ae,Ne){var be=null==ae?0:ae.length;return be?gs(ae,Ne)/be:NaN}function If(ae){return function(Ne){return null==Ne?B:Ne[ae]}}function $l(ae){return function(Ne){return null==ae?B:ae[Ne]}}function op(ae,Ne,be,ut,Qt){return Qt(ae,function(Bn,Zr,Qn){be=ut?(ut=!1,Bn):Ne(be,Bn,Zr,Qn)}),be}function gs(ae,Ne){for(var be,ut=-1,Qt=ae.length;++ut<Qt;){var Bn=Ne(ae[ut]);Bn!==B&&(be=be===B?Bn:be+Bn)}return be}function Tf(ae,Ne){for(var be=-1,ut=Array(ae);++be<ae;)ut[be]=Ne(be);return ut}function sp(ae){return ae&&ae.slice(0,zl(ae)+1).replace(qc,"")}function vt(ae){return function(Ne){return ae(Ne)}}function td(ae,Ne){return hn(Ne,function(be){return ae[be]})}function ct(ae,Ne){return ae.has(Ne)}function Hl(ae,Ne){for(var be=-1,ut=ae.length;++be<ut&&ju(Ne,ae[be],0)>-1;);return be}function nd(ae,Ne){for(var be=ae.length;be--&&ju(Ne,ae[be],0)>-1;);return be}var up=$l({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),nv=$l({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rv(ae){return"\\"+Ut[ae]}function ga(ae){return Xc.test(ae)}function In(ae){var Ne=-1,be=Array(ae.size);return ae.forEach(function(ut,Qt){be[++Ne]=[Qt,ut]}),be}function za(ae,Ne){return function(be){return ae(Ne(be))}}function Oi(ae,Ne){for(var be=-1,ut=ae.length,Qt=0,Bn=[];++be<ut;){var Zr=ae[be];(Zr===Ne||Zr===St)&&(ae[be]=St,Bn[Qt++]=be)}return Bn}function ja(ae){var Ne=-1,be=Array(ae.size);return ae.forEach(function(ut){be[++Ne]=ut}),be}function Ga(ae){return ga(ae)?function dp(ae){for(var Ne=Ks.lastIndex=0;Ks.test(ae);)++Ne;return Ne}(ae):ed(ae)}function po(ae){return ga(ae)?function jl(ae){return ae.match(Ks)||[]}(ae):function Km(ae){return ae.split("")}(ae)}function zl(ae){for(var Ne=ae.length;Ne--&&qi.test(ae.charAt(Ne)););return Ne}var cp=$l({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),rd=function ae(Ne){var c,be=(Ne=null==Ne?ci:rd.defaults(ci.Object(),Ne,rd.pick(ci,Wm))).Array,ut=Ne.Date,Qt=Ne.Error,Bn=Ne.Function,Zr=Ne.Math,Qn=Ne.Object,Nf=Ne.RegExp,fp=Ne.String,Ei=Ne.TypeError,id=be.prototype,Qs=Qn.prototype,Js=Ne["__core-js_shared__"],od=Bn.prototype.toString,qn=Qs.hasOwnProperty,ov=0,Ao=(c=/[^.]+$/.exec(Js&&Js.keys&&Js.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",ad=Qs.toString,Pf=od.call(Qn),Wt=ci._,Fi=Nf("^"+od.call(qn).replace(ca,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),En=rp?Ne.Buffer:B,mr=Ne.Symbol,ri=Ne.Uint8Array,ma=En?En.allocUnsafe:B,_i=za(Qn.getPrototypeOf,Qn),Gu=Qn.create,kf=Qs.propertyIsEnumerable,ms=id.splice,Of=mr?mr.isConcatSpreadable:B,qu=mr?mr.iterator:B,Wn=mr?mr.toStringTag:B,tt=function(){try{var c=Xo(Qn,"defineProperty");return c({},"",{}),c}catch{}}(),tn=Ne.clearTimeout!==ci.clearTimeout&&Ne.clearTimeout,dr=ut&&ut.now!==ci.Date.now&&ut.now,Ro=Ne.setTimeout!==ci.setTimeout&&Ne.setTimeout,qa=Zr.ceil,Kr=Zr.floor,go=Qn.getOwnPropertySymbols,Er=En?En.isBuffer:B,Li=Ne.isFinite,Wu=id.join,Jt=za(Qn.keys,Qn),_r=Zr.max,Xt=Zr.min,Zu=ut.now,yr=Ne.parseInt,vn=Zr.random,Nn=id.reverse,lt=Xo(Ne,"DataView"),Go=Xo(Ne,"Map"),sd=Xo(Ne,"Promise"),vo=Xo(Ne,"Set"),mo=Xo(Ne,"WeakMap"),Zi=Xo(Qn,"create"),Bi=mo&&new mo,nn={},Ym=Rs(lt),Ff=Rs(Go),hp=Rs(sd),ya=Rs(vo),ud=Rs(mo),wa=mr?mr.prototype:B,Wa=wa?wa.valueOf:B,ii=wa?wa.toString:B;function H(c){if(me(c)&&!Re(c)&&!(c instanceof an)){if(c instanceof mn)return c;if(qn.call(c,"__wrapped__"))return pu(c)}return new mn(c)}var Yr=function(){function c(){}return function(g){if(!st(g))return{};if(Gu)return Gu(g);c.prototype=g;var C=new c;return c.prototype=B,C}}();function gn(){}function mn(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=B}function an(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=so,this.__views__=[]}function Ki(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function Za(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function Da(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function ws(c){var g=-1,C=null==c?0:c.length;for(this.__data__=new Da;++g<C;)this.add(c[g])}function Fr(c){var g=this.__data__=new Za(c);this.size=g.size}function Wl(c,g){var C=Re(c),T=!C&&Ft(c),F=!C&&!T&&_t(c),j=!C&&!T&&!F&&to(c),J=C||T||F||j,re=J?Tf(c.length,fp):[],ue=re.length;for(var $e in c)(g||qn.call(c,$e))&&(!J||!("length"==$e||F&&("offset"==$e||"parent"==$e)||j&&("buffer"==$e||"byteLength"==$e||"byteOffset"==$e)||xa($e,ue)))&&re.push($e);return re}function yo(c){var g=c.length;return g?c[nc(0,g-1)]:B}function Hf(c,g){return Oo(Mi(c),bs(g,0,c.length))}function Uf(c){return Oo(Mi(c))}function Zl(c,g,C){(C!==B&&!Le(c[g],C)||C===B&&!(g in c))&&Xi(c,g,C)}function Ea(c,g,C){var T=c[g];(!qn.call(c,g)||!Le(T,C)||C===B&&!(g in c))&&Xi(c,g,C)}function tu(c,g){for(var C=c.length;C--;)if(Le(c[C][0],g))return C;return-1}function zf(c,g,C,T){return iu(c,function(F,j,J){g(T,F,C(F),J)}),T}function fd(c,g){return c&&pi(g,Ii(g),c)}function Xi(c,g,C){"__proto__"==g&&tt?tt(c,g,{configurable:!0,enumerable:!0,value:C,writable:!0}):c[g]=C}function Kl(c,g){for(var C=-1,T=g.length,F=be(T),j=null==c;++C<T;)F[C]=j?B:Bo(c,g[C]);return F}function bs(c,g,C){return c==c&&(C!==B&&(c=c<=C?c:C),g!==B&&(c=c>=g?c:g)),c}function Vi(c,g,C,T,F,j){var J,re=1&g,ue=2&g,$e=4&g;if(C&&(J=F?C(c,T,F,j):C(c)),J!==B)return J;if(!st(c))return c;var He=Re(c);if(He){if(J=function Id(c){var g=c.length,C=new c.constructor(g);return g&&"string"==typeof c[0]&&qn.call(c,"index")&&(C.index=c.index,C.input=c.input),C}(c),!re)return Mi(c,J)}else{var We=Hr(c),dt=We==Fc||We==Pu;if(_t(c))return $r(c,re);if(We==La||We==or||dt&&!F){if(J=ue||dt?{}:lr(c),!re)return ue?function ac(c,g){return pi(c,cc(c),g)}(c,function nu(c,g){return c&&pi(g,no(g),c)}(J,c)):function cu(c,g){return pi(c,du(c),g)}(c,fd(J,c))}else{if(!ar[We])return F?c:{};J=function Ip(c,g,C){var T=c.constructor;switch(g){case Nt:return Co(c);case rn:case zs:return new T(+c);case Ou:return function Ko(c,g){var C=g?Co(c.buffer):c.buffer;return new c.constructor(C,c.byteOffset,c.byteLength)}(c,C);case la:case Bc:case ff:case Vc:case hf:case $c:case Hc:case Ml:case Uc:return oi(c,C);case uo:return new T;case js:case Gs:return new T(c);case ku:return function Qa(c){var g=new c.constructor(c.source,Hn.exec(c));return g.lastIndex=c.lastIndex,g}(c);case Uo:return new T;case Lc:return function Yo(c){return Wa?Qn(Wa.call(c)):{}}(c)}}(c,We,re)}}j||(j=new Fr);var Tt=j.get(c);if(Tt)return Tt;j.set(c,J),ei(c)?c.forEach(function(qt){J.add(Vi(qt,g,C,qt,c,j))}):Ct(c)&&c.forEach(function(qt,wn){J.set(wn,Vi(qt,g,C,wn,c,j))});var _n=He?B:($e?ue?ul:Sp:ue?no:Ii)(c);return Gn(_n||c,function(qt,wn){_n&&(qt=c[wn=qt]),Ea(J,wn,Vi(qt,g,C,wn,c,j))}),J}function ru(c,g,C){var T=C.length;if(null==c)return!T;for(c=Qn(c);T--;){var F=C[T],J=c[F];if(J===B&&!(F in c)||!(0,g[F])(J))return!1}return!0}function jf(c,g,C){if("function"!=typeof c)throw new Ei(Ae);return ns(function(){c.apply(B,C)},g)}function hd(c,g,C,T){var F=-1,j=xf,J=!0,re=c.length,ue=[],$e=g.length;if(!re)return ue;C&&(g=hn(g,vt(C))),T?(j=Ll,J=!1):g.length>=200&&(j=ct,J=!1,g=new ws(g));e:for(;++F<re;){var He=c[F],We=null==C?He:C(He);if(He=T||0!==He?He:0,J&&We==We){for(var dt=$e;dt--;)if(g[dt]===We)continue e;ue.push(He)}else j(g,We,T)||ue.push(He)}return ue}H.templateSettings={escape:Fu,evaluate:Lu,interpolate:vf,variable:"",imports:{_:H}},(H.prototype=gn.prototype).constructor=H,(mn.prototype=Yr(gn.prototype)).constructor=mn,(an.prototype=Yr(gn.prototype)).constructor=an,Ki.prototype.clear=function ys(){this.__data__=Zi?Zi(null):{},this.size=0},Ki.prototype.delete=function Wo(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g},Ki.prototype.get=function Ku(c){var g=this.__data__;if(Zi){var C=g[c];return C===mt?B:C}return qn.call(g,c)?g[c]:B},Ki.prototype.has=function Lf(c){var g=this.__data__;return Zi?g[c]!==B:qn.call(g,c)},Ki.prototype.set=function av(c,g){var C=this.__data__;return this.size+=this.has(c)?0:1,C[c]=Zi&&g===B?mt:g,this},Za.prototype.clear=function Xm(){this.__data__=[],this.size=0},Za.prototype.delete=function cd(c){var g=this.__data__,C=tu(g,c);return!(C<0||(C==g.length-1?g.pop():ms.call(g,C,1),--this.size,0))},Za.prototype.get=function sv(c){var g=this.__data__,C=tu(g,c);return C<0?B:g[C][1]},Za.prototype.has=function Qm(c){return tu(this.__data__,c)>-1},Za.prototype.set=function Bf(c,g){var C=this.__data__,T=tu(C,c);return T<0?(++this.size,C.push([c,g])):C[T][1]=g,this},Da.prototype.clear=function Gl(){this.size=0,this.__data__={hash:new Ki,map:new(Go||Za),string:new Ki}},Da.prototype.delete=function Ca(c){var g=oh(this,c).delete(c);return this.size-=g?1:0,g},Da.prototype.get=function uv(c){return oh(this,c).get(c)},Da.prototype.has=function lv(c){return oh(this,c).has(c)},Da.prototype.set=function Vf(c,g){var C=oh(this,c),T=C.size;return C.set(c,g),this.size+=C.size==T?0:1,this},ws.prototype.add=ws.prototype.push=function ql(c){return this.__data__.set(c,mt),this},ws.prototype.has=function eu(c){return this.__data__.has(c)},Fr.prototype.clear=function di(){this.__data__=new Za,this.size=0},Fr.prototype.delete=function Yi(c){var g=this.__data__,C=g.delete(c);return this.size=g.size,C},Fr.prototype.get=function dd(c){return this.__data__.get(c)},Fr.prototype.has=function $f(c){return this.__data__.has(c)},Fr.prototype.set=function Xr(c,g){var C=this.__data__;if(C instanceof Za){var T=C.__data__;if(!Go||T.length<199)return T.push([c,g]),this.size=++C.size,this;C=this.__data__=new Da(T)}return C.set(c,g),this.size=C.size,this};var iu=eh(No),cv=eh(qf,!0);function dv(c,g){var C=!0;return iu(c,function(T,F,j){return C=!!g(T,F,j)}),C}function Xl(c,g,C){for(var T=-1,F=c.length;++T<F;){var j=c[T],J=g(j);if(null!=J&&(re===B?J==J&&!er(J):C(J,re)))var re=J,ue=j}return ue}function Gf(c,g){var C=[];return iu(c,function(T,F,j){g(T,F,j)&&C.push(T)}),C}function Qr(c,g,C,T,F){var j=-1,J=c.length;for(C||(C=dc),F||(F=[]);++j<J;){var re=c[j];g>0&&C(re)?g>1?Qr(re,g-1,C,T,F):zo(F,re):T||(F[F.length]=re)}return F}var pd=Ss(),Ds=Ss(!0);function No(c,g){return c&&pd(c,g,Ii)}function qf(c,g){return c&&Ds(c,g,Ii)}function gd(c,g){return Cn(g,function(C){return Me(c[C])})}function Ka(c,g){for(var C=0,T=(g=Do(g,c)).length;null!=c&&C<T;)c=c[vi(g[C++])];return C&&C==T?c:B}function vd(c,g,C){var T=g(c);return Re(c)?T:zo(T,C(c))}function $i(c){return null==c?c===B?"[object Undefined]":"[object Null]":Wn&&Wn in Qn(c)?function Mp(c){var g=qn.call(c,Wn),C=c[Wn];try{c[Wn]=B;var T=!0}catch{}var F=ad.call(c);return T&&(g?c[Wn]=C:delete c[Wn]),F}(c):function Ma(c){return ad.call(c)}(c)}function Yu(c,g){return c>g}function Cs(c,g){return null!=c&&qn.call(c,g)}function Wf(c,g){return null!=c&&g in Qn(c)}function md(c,g,C){for(var T=C?Ll:xf,F=c[0].length,j=c.length,J=j,re=be(j),ue=1/0,$e=[];J--;){var He=c[J];J&&g&&(He=hn(He,vt(g))),ue=Xt(He.length,ue),re[J]=!C&&(g||F>=120&&He.length>=120)?new ws(J&&He):B}He=c[0];var We=-1,dt=re[0];e:for(;++We<F&&$e.length<ue;){var Tt=He[We],jt=g?g(Tt):Tt;if(Tt=C||0!==Tt?Tt:0,!(dt?ct(dt,jt):T($e,jt,C))){for(J=j;--J;){var _n=re[J];if(!(_n?ct(_n,jt):T(c[J],jt,C)))continue e}dt&&dt.push(jt),$e.push(Tt)}}return $e}function ou(c,g,C){var T=null==(c=uh(c,g=Do(g,c)))?c:c[vi(wr(g))];return null==T?B:ki(T,c,C)}function Zf(c){return me(c)&&$i(c)==or}function Ql(c,g,C,T,F){return c===g||(null==c||null==g||!me(c)&&!me(g)?c!=c&&g!=g:function gp(c,g,C,T,F,j){var J=Re(c),re=Re(g),ue=J?vr:Hr(c),$e=re?vr:Hr(g),He=(ue=ue==or?La:ue)==La,We=($e=$e==or?La:$e)==La,dt=ue==$e;if(dt&&_t(c)){if(!_t(g))return!1;J=!0,He=!1}if(dt&&!He)return j||(j=new Fr),J||to(c)?_p(c,g,C,T,F,j):function sl(c,g,C,T,F,j,J){switch(C){case Ou:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case Nt:return!(c.byteLength!=g.byteLength||!j(new ri(c),new ri(g)));case rn:case zs:case js:return Le(+c,+g);case Nu:return c.name==g.name&&c.message==g.message;case ku:case Gs:return c==g+"";case uo:var re=In;case Uo:if(re||(re=ja),c.size!=g.size&&!(1&T))return!1;var $e=J.get(c);if($e)return $e==g;T|=2,J.set(c,g);var He=_p(re(c),re(g),T,F,j,J);return J.delete(c),He;case Lc:if(Wa)return Wa.call(c)==Wa.call(g)}return!1}(c,g,ue,C,T,F,j);if(!(1&C)){var Tt=He&&qn.call(c,"__wrapped__"),jt=We&&qn.call(g,"__wrapped__");if(Tt||jt){var _n=Tt?c.value():c,qt=jt?g.value():g;return j||(j=new Fr),F(_n,qt,C,T,j)}}return!!dt&&(j||(j=new Fr),function uc(c,g,C,T,F,j){var J=1&C,re=Sp(c),ue=re.length;if(ue!=Sp(g).length&&!J)return!1;for(var We=ue;We--;){var dt=re[We];if(!(J?dt in g:qn.call(g,dt)))return!1}var Tt=j.get(c),jt=j.get(g);if(Tt&&jt)return Tt==g&&jt==c;var _n=!0;j.set(c,g),j.set(g,c);for(var qt=J;++We<ue;){var wn=c[dt=re[We]],On=g[dt];if(T)var Ti=J?T(On,wn,dt,g,c,j):T(wn,On,dt,c,g,j);if(!(Ti===B?wn===On||F(wn,On,C,T,j):Ti)){_n=!1;break}qt||(qt="constructor"==dt)}if(_n&&!qt){var hr=c.constructor,na=g.constructor;hr!=na&&"constructor"in c&&"constructor"in g&&!("function"==typeof hr&&hr instanceof hr&&"function"==typeof na&&na instanceof na)&&(_n=!1)}return j.delete(c),j.delete(g),_n}(c,g,C,T,F,j))}(c,g,C,T,Ql,F))}function yd(c,g,C,T){var F=C.length,j=F,J=!T;if(null==c)return!j;for(c=Qn(c);F--;){var re=C[F];if(J&&re[2]?re[1]!==c[re[0]]:!(re[0]in c))return!1}for(;++F<j;){var ue=(re=C[F])[0],$e=c[ue],He=re[1];if(J&&re[2]){if($e===B&&!(ue in c))return!1}else{var We=new Fr;if(T)var dt=T($e,He,ue,c,g,We);if(!(dt===B?Ql(He,$e,3,T,We):dt))return!1}}return!0}function vp(c){return!(!st(c)||function ah(c){return!!Ao&&Ao in c}(c))&&(Me(c)?Fi:Bu).test(Rs(c))}function Qu(c){return"function"==typeof c?c:null==c?ro:"object"==typeof c?Re(c)?yp(c[0],c[1]):Hi(c):Tw(c)}function Br(c){if(!fu(c))return Jt(c);var g=[];for(var C in Qn(c))qn.call(c,C)&&"constructor"!=C&&g.push(C);return g}function au(c,g){return c<g}function _a(c,g){var C=-1,T=gt(c)?be(c.length):[];return iu(c,function(F,j,J){T[++C]=g(F,j,J)}),T}function Hi(c){var g=cl(c);return 1==g.length&&g[0][2]?Ts(g[0][0],g[0][1]):function(C){return C===c||yd(C,c,g)}}function yp(c,g){return dl(c)&&fc(g)?Ts(vi(c),g):function(C){var T=Bo(C,c);return T===B&&T===g?Zp(C,c):Ql(g,T,3)}}function ec(c,g,C,T,F){c!==g&&pd(g,function(j,J){if(F||(F=new Fr),st(j))!function Ju(c,g,C,T,F,j,J){var re=Ad(c,C),ue=Ad(g,C),$e=J.get(ue);if($e)Zl(c,C,$e);else{var He=j?j(re,ue,C+"",c,g,J):B,We=He===B;if(We){var dt=Re(ue),Tt=!dt&&_t(ue),jt=!dt&&!Tt&&to(ue);He=ue,dt||Tt||jt?Re(re)?He=re:ot(re)?He=Mi(re):Tt?(We=!1,He=$r(ue,!0)):jt?(We=!1,He=oi(ue,!0)):He=[]:xr(ue)||Ft(ue)?(He=re,Ft(re)?He=Jo(re):(!st(re)||Me(re))&&(He=lr(ue))):We=!1}We&&(J.set(ue,He),F(He,ue,T,j,J),J.delete(ue)),Zl(c,C,He)}}(c,g,J,C,ec,T,F);else{var re=T?T(Ad(c,J),j,J+"",c,g,F):B;re===B&&(re=j),Zl(c,J,re)}},no)}function Lr(c,g){var C=c.length;if(C)return xa(g+=g<0?C:0,C)?c[g]:B}function Kf(c,g,C){g=g.length?hn(g,function(j){return Re(j)?function(J){return Ka(J,1===j.length?j[0]:j)}:j}):[ro];var T=-1;return g=hn(g,vt(Vt())),function ap(ae,Ne){var be=ae.length;for(ae.sort(Ne);be--;)ae[be]=ae[be].value;return ae}(_a(c,function(j,J,re){return{criteria:hn(g,function($e){return $e(j)}),index:++T,value:j}}),function(j,J){return function xi(c,g,C){for(var T=-1,F=c.criteria,j=g.criteria,J=F.length,re=C.length;++T<J;){var ue=rl(F[T],j[T]);if(ue)return T>=re?ue:ue*("desc"==C[T]?-1:1)}return c.index-g.index}(j,J,C)})}function fi(c,g,C){for(var T=-1,F=g.length,j={};++T<F;){var J=g[T],re=Ka(c,J);C(re,J)&&wd(j,Do(J,c),re)}return j}function tc(c,g,C,T){var F=T?fa:ju,j=-1,J=g.length,re=c;for(c===g&&(g=Mi(g)),C&&(re=hn(c,vt(C)));++j<J;)for(var ue=0,$e=g[j],He=C?C($e):$e;(ue=F(re,He,ue,T))>-1;)re!==c&&ms.call(re,ue,1),ms.call(c,ue,1);return c}function Yf(c,g){for(var C=c?g.length:0,T=C-1;C--;){var F=g[C];if(C==T||F!==j){var j=F;xa(F)?ms.call(c,F,1):Sn(c,F)}}return c}function nc(c,g){return c+Kr(vn()*(g-c+1))}function rc(c,g){var C="";if(!c||g<1||g>Fa)return C;do{g%2&&(C+=c),(g=Kr(g/2))&&(c+=c)}while(g);return C}function Pt(c,g){return Rd(Ia(c,g,ro),c+"")}function pt(c){return yo(Dc(c))}function wp(c,g){var C=Dc(c);return Oo(C,bs(g,0,C.length))}function wd(c,g,C,T){if(!st(c))return c;for(var F=-1,j=(g=Do(g,c)).length,J=j-1,re=c;null!=re&&++F<j;){var ue=vi(g[F]),$e=C;if("__proto__"===ue||"constructor"===ue||"prototype"===ue)return c;if(F!=J){var He=re[ue];($e=T?T(He,ue,re):B)===B&&($e=st(He)?He:xa(g[F+1])?[]:{})}Ea(re,ue,$e),re=re[ue]}return c}var bp=Bi?function(c,g){return Bi.set(c,g),c}:ro,sr=tt?function(c,g){return tt(c,"toString",{configurable:!0,enumerable:!1,value:xh(g),writable:!0})}:ro;function bd(c){return Oo(Dc(c))}function Qi(c,g,C){var T=-1,F=c.length;g<0&&(g=-g>F?0:F+g),(C=C>F?F:C)<0&&(C+=F),F=g>C?0:C-g>>>0,g>>>=0;for(var j=be(F);++T<F;)j[T]=c[T+g];return j}function su(c,g){var C;return iu(c,function(T,F,j){return!(C=g(T,F,j))}),!!C}function Xa(c,g,C){var T=0,F=null==c?T:c.length;if("number"==typeof g&&g==g&&F<=2147483647){for(;T<F;){var j=T+F>>>1,J=c[j];null!==J&&!er(J)&&(C?J<=g:J<g)?T=j+1:F=j}return F}return Qf(c,g,ro,C)}function Qf(c,g,C,T){var F=0,j=null==c?0:c.length;if(0===j)return 0;for(var J=(g=C(g))!=g,re=null===g,ue=er(g),$e=g===B;F<j;){var He=Kr((F+j)/2),We=C(c[He]),dt=We!==B,Tt=null===We,jt=We==We,_n=er(We);if(J)var qt=T||jt;else qt=$e?jt&&(T||dt):re?jt&&dt&&(T||!Tt):ue?jt&&dt&&!Tt&&(T||!_n):!Tt&&!_n&&(T?We<=g:We<g);qt?F=He+1:j=He}return Xt(j,4294967294)}function tl(c,g){for(var C=-1,T=c.length,F=0,j=[];++C<T;){var J=c[C],re=g?g(J):J;if(!C||!Le(re,ue)){var ue=re;j[F++]=0===J?0:J}}return j}function Dp(c){return"number"==typeof c?c:er(c)?NaN:+c}function Ji(c){if("string"==typeof c)return c;if(Re(c))return hn(c,Ji)+"";if(er(c))return ii?ii.call(c):"";var g=c+"";return"0"==g&&1/c==-Mt?"-0":g}function Be(c,g,C){var T=-1,F=xf,j=c.length,J=!0,re=[],ue=re;if(C)J=!1,F=Ll;else if(j>=200){var $e=g?null:Sd(c);if($e)return ja($e);J=!1,F=ct,ue=new ws}else ue=g?[]:re;e:for(;++T<j;){var He=c[T],We=g?g(He):He;if(He=C||0!==He?He:0,J&&We==We){for(var dt=ue.length;dt--;)if(ue[dt]===We)continue e;g&&ue.push(We),re.push(He)}else F(ue,We,C)||(ue!==re&&ue.push(We),re.push(He))}return re}function Sn(c,g){return null==(c=uh(c,g=Do(g,c)))||delete c[vi(wr(g))]}function ic(c,g,C,T){return wd(c,g,C(Ka(c,g)),T)}function oc(c,g,C,T){for(var F=c.length,j=T?F:-1;(T?j--:++j<F)&&g(c[j],j,c););return C?Qi(c,T?0:j,T?j+1:F):Qi(c,T?j+1:0,T?F:j)}function Vr(c,g){var C=c;return C instanceof an&&(C=C.value()),zu(g,function(T,F){return F.func.apply(F.thisArg,zo([T],F.args))},C)}function uu(c,g,C){var T=c.length;if(T<2)return T?Be(c[0]):[];for(var F=-1,j=be(T);++F<T;)for(var J=c[F],re=-1;++re<T;)re!=F&&(j[F]=hd(j[F]||J,c[re],g,C));return Be(Qr(j,1),g,C)}function nl(c,g,C){for(var T=-1,F=c.length,j=g.length,J={};++T<F;)C(J,c[T],T<j?g[T]:B);return J}function Po(c){return ot(c)?c:[]}function lu(c){return"function"==typeof c?c:ro}function Do(c,g){return Re(c)?c:dl(c,g)?[c]:Ta(kn(c))}var Si=Pt;function Zo(c,g,C){var T=c.length;return C=C===B?T:C,!g&&C>=T?c:Qi(c,g,C)}var Jf=tn||function(c){return ci.clearTimeout(c)};function $r(c,g){if(g)return c.slice();var C=c.length,T=ma?ma(C):new c.constructor(C);return c.copy(T),T}function Co(c){var g=new c.constructor(c.byteLength);return new ri(g).set(new ri(c)),g}function oi(c,g){var C=g?Co(c.buffer):c.buffer;return new c.constructor(C,c.byteOffset,c.length)}function rl(c,g){if(c!==g){var C=c!==B,T=null===c,F=c==c,j=er(c),J=g!==B,re=null===g,ue=g==g,$e=er(g);if(!re&&!$e&&!j&&c>g||j&&J&&ue&&!re&&!$e||T&&J&&ue||!C&&ue||!F)return 1;if(!T&&!j&&!$e&&c<g||$e&&C&&F&&!T&&!j||re&&C&&F||!J&&F||!ue)return-1}return 0}function hi(c,g,C,T){for(var F=-1,j=c.length,J=C.length,re=-1,ue=g.length,$e=_r(j-J,0),He=be(ue+$e),We=!T;++re<ue;)He[re]=g[re];for(;++F<J;)(We||F<j)&&(He[C[F]]=c[F]);for(;$e--;)He[re++]=c[F++];return He}function Dd(c,g,C,T){for(var F=-1,j=c.length,J=-1,re=C.length,ue=-1,$e=g.length,He=_r(j-re,0),We=be(He+$e),dt=!T;++F<He;)We[F]=c[F];for(var Tt=F;++ue<$e;)We[Tt+ue]=g[ue];for(;++J<re;)(dt||F<j)&&(We[Tt+C[J]]=c[F++]);return We}function Mi(c,g){var C=-1,T=c.length;for(g||(g=be(T));++C<T;)g[C]=c[C];return g}function pi(c,g,C,T){var F=!C;C||(C={});for(var j=-1,J=g.length;++j<J;){var re=g[j],ue=T?T(C[re],c[re],re,C,c):B;ue===B&&(ue=c[re]),F?Xi(C,re,ue):Ea(C,re,ue)}return C}function Es(c,g){return function(C,T){var F=Re(C)?hs:zf,j=g?g():{};return F(C,c,Vt(T,2),j)}}function _s(c){return Pt(function(g,C){var T=-1,F=C.length,j=F>1?C[F-1]:B,J=F>2?C[2]:B;for(j=c.length>3&&"function"==typeof j?(F--,j):B,J&&Jn(C[0],C[1],J)&&(j=F<3?B:j,F=1),g=Qn(g);++T<F;){var re=C[T];re&&c(g,re,T,j)}return g})}function eh(c,g){return function(C,T){if(null==C)return C;if(!gt(C))return c(C,T);for(var F=C.length,j=g?F:-1,J=Qn(C);(g?j--:++j<F)&&!1!==T(J[j],j,J););return C}}function Ss(c){return function(g,C,T){for(var F=-1,j=Qn(g),J=T(g),re=J.length;re--;){var ue=J[c?re:++F];if(!1===C(j[ue],ue,j))break}return g}}function Cd(c){return function(g){var C=ga(g=kn(g))?po(g):B,T=C?C[0]:g.charAt(0),F=C?Zo(C,1).join(""):g.slice(1);return T[c]()+F}}function xs(c){return function(g){return zu(vl(wy(g).replace(qm,"")),c,"")}}function il(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var C=Yr(c.prototype),T=c.apply(C,g);return st(T)?T:C}}function gi(c){return function(g,C,T){var F=Qn(g);if(!gt(g)){var j=Vt(C,3);g=Ii(g),C=function(re){return j(F[re],re,F)}}var J=c(g,C,T);return J>-1?F[j?g[J]:J]:B}}function Sa(c){return es(function(g){var C=g.length,T=C,F=mn.prototype.thru;for(c&&g.reverse();T--;){var j=g[T];if("function"!=typeof j)throw new Ei(Ae);if(F&&!J&&"wrapper"==lc(j))var J=new mn([],!0)}for(T=J?T:C;++T<C;){var re=lc(j=g[T]),ue="wrapper"==re?xp(j):B;J=ue&&Td(ue[0])&&424==ue[1]&&!ue[4].length&&1==ue[9]?J[lc(ue[0])].apply(J,ue[3]):1==j.length&&Td(j)?J[re]():J.thru(j)}return function(){var $e=arguments,He=$e[0];if(J&&1==$e.length&&Re(He))return J.plant(He).value();for(var We=0,dt=C?g[We].apply(this,$e):He;++We<C;)dt=g[We].call(this,dt);return dt}})}function ur(c,g,C,T,F,j,J,re,ue,$e){var He=128&g,We=1&g,dt=2&g,Tt=24&g,jt=512&g,_n=dt?B:il(c);return function qt(){for(var wn=arguments.length,On=be(wn),Ti=wn;Ti--;)On[Ti]=arguments[Ti];if(Tt)var hr=ll(qt),na=function Ul(ae,Ne){for(var be=ae.length,ut=0;be--;)ae[be]===Ne&&++ut;return ut}(On,hr);if(T&&(On=hi(On,T,F,Tt)),j&&(On=Dd(On,j,J,Tt)),wn-=na,Tt&&wn<$e){var Ur=Oi(On,hr);return Ja(c,g,ur,qt.placeholder,C,On,Ur,re,ue,$e-wn)}var bi=We?C:this,Eu=dt?bi[c]:c;return wn=On.length,re?On=function Ui(c,g){for(var C=c.length,T=Xt(g.length,C),F=Mi(c);T--;){var j=g[T];c[T]=xa(j,C)?F[j]:B}return c}(On,re):jt&&wn>1&&On.reverse(),He&&ue<wn&&(On.length=ue),this&&this!==ci&&this instanceof qt&&(Eu=_n||il(Eu)),Eu.apply(bi,On)}}function sc(c,g){return function(C,T){return function fv(c,g,C,T){return No(c,function(F,j,J){g(T,C(F),j,J)}),T}(C,c,g(T),{})}}function Ed(c,g){return function(C,T){var F;if(C===B&&T===B)return g;if(C!==B&&(F=C),T!==B){if(F===B)return T;"string"==typeof C||"string"==typeof T?(C=Ji(C),T=Ji(T)):(C=Dp(C),T=Dp(T)),F=c(C,T)}return F}}function nh(c){return es(function(g){return g=hn(g,vt(Vt())),Pt(function(C){var T=this;return c(g,function(F){return ki(F,T,C)})})})}function _d(c,g){var C=(g=g===B?" ":Ji(g)).length;if(C<2)return C?rc(g,c):g;var T=rc(g,qa(c/Ga(g)));return ga(g)?Zo(po(T),0,c).join(""):T.slice(0,c)}function rh(c){return function(g,C,T){return T&&"number"!=typeof T&&Jn(g,C,T)&&(C=T=B),g=Tr(g),C===B?(C=g,g=0):C=Tr(C),function Xf(c,g,C,T){for(var F=-1,j=_r(qa((g-c)/(C||1)),0),J=be(j);j--;)J[T?j:++F]=c,c+=C;return J}(g,C,T=T===B?g<C?1:-1:Tr(T),c)}}function Ms(c){return function(g,C){return"string"==typeof g&&"string"==typeof C||(g=wi(g),C=wi(C)),c(g,C)}}function Ja(c,g,C,T,F,j,J,re,ue,$e){var He=8&g;g|=He?32:64,4&(g&=~(He?64:32))||(g&=-4);var _n=[c,g,F,He?j:B,He?J:B,He?B:j,He?B:J,re,ue,$e],qt=C.apply(B,_n);return Td(c)&&Sr(qt,_n),qt.placeholder=T,lh(qt,c,g)}function ih(c){var g=Zr[c];return function(C,T){if(C=wi(C),(T=null==T?0:Xt(kt(T),292))&&Li(C)){var F=(kn(C)+"e").split("e");return+((F=(kn(g(F[0]+"e"+(+F[1]+T)))+"e").split("e"))[0]+"e"+(+F[1]-T))}return g(C)}}var Sd=vo&&1/ja(new vo([,-0]))[1]==Mt?function(c){return new vo(c)}:Mh;function ol(c){return function(g){var C=Hr(g);return C==uo?In(g):C==Uo?function lp(ae){var Ne=-1,be=Array(ae.size);return ae.forEach(function(ut){be[++Ne]=[ut,ut]}),be}(g):function Ua(ae,Ne){return hn(Ne,function(be){return[be,ae[be]]})}(g,c(g))}}function ko(c,g,C,T,F,j,J,re){var ue=2&g;if(!ue&&"function"!=typeof c)throw new Ei(Ae);var $e=T?T.length:0;if($e||(g&=-97,T=F=B),J=J===B?J:_r(kt(J),0),re=re===B?re:kt(re),$e-=F?F.length:0,64&g){var He=T,We=F;T=F=B}var dt=ue?B:xp(c),Tt=[c,g,C,T,F,He,We,j,J,re];if(dt&&function Ap(c,g){var C=c[1],T=g[1],F=C|T;if(!(F<131)&&!(128==T&&8==C||128==T&&256==C&&c[7].length<=g[8]||384==T&&g[7].length<=g[8]&&8==C))return c;1&T&&(c[2]=g[2],F|=1&C?0:4);var re=g[3];if(re){var ue=c[3];c[3]=ue?hi(ue,re,g[4]):re,c[4]=ue?Oi(c[3],St):g[4]}(re=g[5])&&(c[5]=(ue=c[5])?Dd(ue,re,g[6]):re,c[6]=ue?Oi(c[5],St):g[6]),(re=g[7])&&(c[7]=re),128&T&&(c[8]=null==c[8]?g[8]:Xt(c[8],g[8])),null==c[9]&&(c[9]=g[9]),c[0]=g[0],c[1]=F}(Tt,dt),c=Tt[0],g=Tt[1],C=Tt[2],T=Tt[3],F=Tt[4],!(re=Tt[9]=Tt[9]===B?ue?0:c.length:_r(Tt[9]-$e,0))&&24&g&&(g&=-25),g&&1!=g)jt=8==g||16==g?function hv(c,g,C){var T=il(c);return function F(){for(var j=arguments.length,J=be(j),re=j,ue=ll(F);re--;)J[re]=arguments[re];var $e=j<3&&J[0]!==ue&&J[j-1]!==ue?[]:Oi(J,ue);return(j-=$e.length)<C?Ja(c,g,ur,F.placeholder,B,J,$e,B,B,C-j):ki(this&&this!==ci&&this instanceof F?T:c,this,J)}}(c,g,re):32!=g&&33!=g||F.length?ur.apply(B,Tt):function Cp(c,g,C,T){var F=1&g,j=il(c);return function J(){for(var re=-1,ue=arguments.length,$e=-1,He=T.length,We=be(He+ue),dt=this&&this!==ci&&this instanceof J?j:c;++$e<He;)We[$e]=T[$e];for(;ue--;)We[$e++]=arguments[++re];return ki(dt,F?C:this,We)}}(c,g,C,T);else var jt=function th(c,g,C){var T=1&g,F=il(c);return function j(){return(this&&this!==ci&&this instanceof j?F:c).apply(T?C:this,arguments)}}(c,g,C);return lh((dt?bp:Sr)(jt,Tt),c,g)}function xd(c,g,C,T){return c===B||Le(c,Qs[C])&&!qn.call(T,C)?g:c}function al(c,g,C,T,F,j){return st(c)&&st(g)&&(j.set(g,c),ec(c,g,B,al,j),j.delete(g)),c}function Ep(c){return xr(c)?B:c}function _p(c,g,C,T,F,j){var J=1&C,re=c.length,ue=g.length;if(re!=ue&&!(J&&ue>re))return!1;var $e=j.get(c),He=j.get(g);if($e&&He)return $e==g&&He==c;var We=-1,dt=!0,Tt=2&C?new ws:B;for(j.set(c,g),j.set(g,c);++We<re;){var jt=c[We],_n=g[We];if(T)var qt=J?T(_n,jt,We,g,c,j):T(jt,_n,We,c,g,j);if(qt!==B){if(qt)continue;dt=!1;break}if(Tt){if(!Bl(g,function(wn,On){if(!ct(Tt,On)&&(jt===wn||F(jt,wn,C,T,j)))return Tt.push(On)})){dt=!1;break}}else if(jt!==_n&&!F(jt,_n,C,T,j)){dt=!1;break}}return j.delete(c),j.delete(g),dt}function es(c){return Rd(Ia(c,B,Aa),c+"")}function Sp(c){return vd(c,Ii,du)}function ul(c){return vd(c,no,cc)}var xp=Bi?function(c){return Bi.get(c)}:Mh;function lc(c){for(var g=c.name+"",C=nn[g],T=qn.call(nn,g)?C.length:0;T--;){var F=C[T],j=F.func;if(null==j||j==c)return F.name}return g}function ll(c){return(qn.call(H,"placeholder")?H:c).placeholder}function Vt(){var c=H.iteratee||Bv;return c=c===Bv?Qu:c,arguments.length?c(arguments[0],arguments[1]):c}function oh(c,g){var C=c.__data__;return function Tp(c){var g=typeof c;return"string"==g||"number"==g||"symbol"==g||"boolean"==g?"__proto__"!==c:null===c}(g)?C["string"==typeof g?"string":"hash"]:C.map}function cl(c){for(var g=Ii(c),C=g.length;C--;){var T=g[C],F=c[T];g[C]=[T,F,fc(F)]}return g}function Xo(c,g){var C=function pa(ae,Ne){return null==ae?B:ae[Ne]}(c,g);return vp(C)?C:B}var du=go?function(c){return null==c?[]:(c=Qn(c),Cn(go(c),function(g){return kf.call(c,g)}))}:Ny,cc=go?function(c){for(var g=[];c;)zo(g,du(c)),c=_i(c);return g}:Ny,Hr=$i;function ts(c,g,C){for(var T=-1,F=(g=Do(g,c)).length,j=!1;++T<F;){var J=vi(g[T]);if(!(j=null!=c&&C(c,J)))break;c=c[J]}return j||++T!=F?j:!!(F=null==c?0:c.length)&&_e(F)&&xa(J,F)&&(Re(c)||Ft(c))}function lr(c){return"function"!=typeof c.constructor||fu(c)?{}:Yr(_i(c))}function dc(c){return Re(c)||Ft(c)||!!(Of&&c&&c[Of])}function xa(c,g){var C=typeof c;return!!(g=g??Fa)&&("number"==C||"symbol"!=C&&Gm.test(c))&&c>-1&&c%1==0&&c<g}function Jn(c,g,C){if(!st(C))return!1;var T=typeof g;return!!("number"==T?gt(C)&&xa(g,C.length):"string"==T&&g in C)&&Le(C[g],c)}function dl(c,g){if(Re(c))return!1;var C=typeof c;return!("number"!=C&&"symbol"!=C&&"boolean"!=C&&null!=c&&!er(c))||Gc.test(c)||!Va.test(c)||null!=g&&c in Qn(g)}function Td(c){var g=lc(c),C=H[g];if("function"!=typeof C||!(g in an.prototype))return!1;if(c===C)return!0;var T=xp(C);return!!T&&c===T[0]}(lt&&Hr(new lt(new ArrayBuffer(1)))!=Ou||Go&&Hr(new Go)!=uo||sd&&Hr(sd.resolve())!=jr||vo&&Hr(new vo)!=Uo||mo&&Hr(new mo)!=qs)&&(Hr=function(c){var g=$i(c),C=g==La?c.constructor:B,T=C?Rs(C):"";if(T)switch(T){case Ym:return Ou;case Ff:return uo;case hp:return jr;case ya:return Uo;case ud:return qs}return g});var sh=Js?Me:Py;function fu(c){var g=c&&c.constructor;return c===("function"==typeof g&&g.prototype||Qs)}function fc(c){return c==c&&!st(c)}function Ts(c,g){return function(C){return null!=C&&C[c]===g&&(g!==B||c in Qn(C))}}function Ia(c,g,C){return g=_r(g===B?c.length-1:g,0),function(){for(var T=arguments,F=-1,j=_r(T.length-g,0),J=be(j);++F<j;)J[F]=T[g+F];F=-1;for(var re=be(g+1);++F<g;)re[F]=T[F];return re[g]=C(J),ki(c,this,re)}}function uh(c,g){return g.length<2?c:Ka(c,Qi(g,0,-1))}function Ad(c,g){if(("constructor"!==g||"function"!=typeof c[g])&&"__proto__"!=g)return c[g]}var Sr=fl(bp),ns=Ro||function(c,g){return ci.setTimeout(c,g)},Rd=fl(sr);function lh(c,g,C){var T=g+"";return Rd(c,function Is(c,g){var C=g.length;if(!C)return c;var T=C-1;return g[T]=(C>1?"& ":"")+g[T],g=g.join(C>2?", ":" "),c.replace(Kg,"{\n/* [wrapped with "+g+"] */\n")}(T,function ch(c,g){return Gn(cf,function(C){var T="_."+C[0];g&C[1]&&!xf(c,T)&&c.push(T)}),c.sort()}(function Md(c){var g=c.match(Yg);return g?g[1].split(yf):[]}(T),C)))}function fl(c){var g=0,C=0;return function(){var T=Zu(),F=16-(T-C);if(C=T,F>0){if(++g>=800)return arguments[0]}else g=0;return c.apply(B,arguments)}}function Oo(c,g){var C=-1,T=c.length,F=T-1;for(g=g===B?T:g;++C<g;){var j=nc(C,F),J=c[j];c[j]=c[C],c[C]=J}return c.length=g,c}var Ta=function As(c){var g=G(c,function(T){return 500===C.size&&C.clear(),T}),C=g.cache;return g}(function(c){var g=[];return 46===c.charCodeAt(0)&&g.push(""),c.replace(qh,function(C,T,F,j){g.push(F?j.replace(Zh,"$1"):T||C)}),g});function vi(c){if("string"==typeof c||er(c))return c;var g=c+"";return"0"==g&&1/c==-Mt?"-0":g}function Rs(c){if(null!=c){try{return od.call(c)}catch{}try{return c+""}catch{}}return""}function pu(c){if(c instanceof an)return c.clone();var g=new mn(c.__wrapped__,c.__chain__);return g.__actions__=Mi(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}var ny=Pt(function(c,g){return ot(c)?hd(c,Qr(g,1,ot,!0)):[]}),ry=Pt(function(c,g){var C=wr(g);return ot(C)&&(C=B),ot(c)?hd(c,Qr(g,1,ot,!0),Vt(C,2)):[]}),iy=Pt(function(c,g){var C=wr(g);return ot(C)&&(C=B),ot(c)?hd(c,Qr(g,1,ot,!0),B,C):[]});function fr(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var F=null==C?0:kt(C);return F<0&&(F=_r(T+F,0)),Mf(c,Vt(g,3),F)}function Rp(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var F=T-1;return C!==B&&(F=kt(C),F=C<0?_r(T+F,0):Xt(F,T-1)),Mf(c,Vt(g,3),F,!0)}function Aa(c){return null!=c&&c.length?Qr(c,1):[]}function pl(c){return c&&c.length?c[0]:B}var yv=Pt(function(c){var g=hn(c,Po);return g.length&&g[0]===c[0]?md(g):[]}),sy=Pt(function(c){var g=wr(c),C=hn(c,Po);return g===wr(C)?g=B:C.pop(),C.length&&C[0]===c[0]?md(C,Vt(g,2)):[]}),wv=Pt(function(c){var g=wr(c),C=hn(c,Po);return(g="function"==typeof g?g:B)&&C.pop(),C.length&&C[0]===c[0]?md(C,B,g):[]});function wr(c){var g=null==c?0:c.length;return g?c[g-1]:B}var ly=Pt(fh);function fh(c,g){return c&&c.length&&g&&g.length?tc(c,g):c}var Pp=es(function(c,g){var C=null==c?0:c.length,T=Kl(c,g);return Yf(c,hn(g,function(F){return xa(F,C)?+F:F}).sort(rl)),T});function Pd(c){return null==c?c:Nn.call(c)}var vu=Pt(function(c){return Be(Qr(c,1,ot,!0))}),mu=Pt(function(c){var g=wr(c);return ot(g)&&(g=B),Be(Qr(c,1,ot,!0),Vt(g,2))}),yu=Pt(function(c){var g=wr(c);return g="function"==typeof g?g:B,Be(Qr(c,1,ot,!0),B,g)});function eo(c){if(!c||!c.length)return[];var g=0;return c=Cn(c,function(C){if(ot(C))return g=_r(C.length,g),!0}),Tf(g,function(C){return hn(c,If(C))})}function Vp(c,g){if(!c||!c.length)return[];var C=eo(c);return null==g?C:hn(C,function(T){return ki(g,B,T)})}var Ns=Pt(function(c,g){return ot(c)?hd(c,g):[]}),$p=Pt(function(c){return uu(Cn(c,ot))}),pc=Pt(function(c){var g=wr(c);return ot(g)&&(g=B),uu(Cn(c,ot),Vt(g,2))}),Ld=Pt(function(c){var g=wr(c);return g="function"==typeof g?g:B,uu(Cn(c,ot),B,g)}),vh=Pt(eo),gl=Pt(function(c){var g=c.length,C=g>1?c[g-1]:B;return C="function"==typeof C?(c.pop(),C):B,Vp(c,C)});function Ev(c){var g=H(c);return g.__chain__=!0,g}function vc(c,g){return g(c)}var Bd=es(function(c){var g=c.length,C=g?c[0]:0,T=this.__wrapped__,F=function(j){return Kl(j,c)};return!(g>1||this.__actions__.length)&&T instanceof an&&xa(C)?((T=T.slice(C,+C+(g?1:0))).__actions__.push({func:vc,args:[F],thisArg:B}),new mn(T,this.__chain__).thru(function(j){return g&&!j.length&&j.push(B),j})):this.thru(F)}),Sv=Es(function(c,g,C){qn.call(c,C)?++c[C]:Xi(c,C,1)}),$d=gi(fr),zp=gi(Rp);function wh(c,g){return(Re(c)?Gn:iu)(c,Vt(g,3))}function is(c,g){return(Re(c)?Jc:cv)(c,Vt(g,3))}var a=Es(function(c,g,C){qn.call(c,C)?c[C].push(g):Xi(c,C,[g])}),s=Pt(function(c,g,C){var T=-1,F="function"==typeof g,j=gt(c)?be(c.length):[];return iu(c,function(J){j[++T]=F?ki(g,J,C):ou(J,g,C)}),j}),l=Es(function(c,g,C){Xi(c,C,g)});function f(c,g){return(Re(c)?hn:_a)(c,Vt(g,3))}var p=Es(function(c,g,C){c[C?0:1].push(g)},function(){return[[],[]]}),R=Pt(function(c,g){if(null==c)return[];var C=g.length;return C>1&&Jn(c,g[0],g[1])?g=[]:C>2&&Jn(g[0],g[1],g[2])&&(g=[g[0]]),Kf(c,Qr(g,1),[])}),A=dr||function(){return ci.Date.now()};function k(c,g,C){return g=C?B:g,ko(c,128,B,B,B,B,g=c&&null==g?c.length:g)}function O(c,g){var C;if("function"!=typeof g)throw new Ei(Ae);return c=kt(c),function(){return--c>0&&(C=g.apply(this,arguments)),c<=1&&(g=B),C}}var V=Pt(function(c,g,C){var T=1;if(C.length){var F=Oi(C,ll(V));T|=32}return ko(c,T,g,C,F)}),q=Pt(function(c,g,C){var T=3;if(C.length){var F=Oi(C,ll(q));T|=32}return ko(g,T,c,C,F)});function W(c,g,C){var T,F,j,J,re,ue,$e=0,He=!1,We=!1,dt=!0;if("function"!=typeof c)throw new Ei(Ae);function Tt(Ur){var bi=T,Eu=F;return T=F=B,$e=Ur,J=c.apply(Eu,bi)}function qt(Ur){var bi=Ur-ue;return ue===B||bi>=g||bi<0||We&&Ur-$e>=j}function wn(){var Ur=A();if(qt(Ur))return On(Ur);re=ns(wn,function _n(Ur){var Oy=g-(Ur-ue);return We?Xt(Oy,j-(Ur-$e)):Oy}(Ur))}function On(Ur){return re=B,dt&&T?Tt(Ur):(T=F=B,J)}function na(){var Ur=A(),bi=qt(Ur);if(T=arguments,F=this,ue=Ur,bi){if(re===B)return function jt(Ur){return $e=Ur,re=ns(wn,g),He?Tt(Ur):J}(ue);if(We)return Jf(re),re=ns(wn,g),Tt(ue)}return re===B&&(re=ns(wn,g)),J}return g=wi(g)||0,st(C)&&(He=!!C.leading,j=(We="maxWait"in C)?_r(wi(C.maxWait)||0,g):j,dt="trailing"in C?!!C.trailing:dt),na.cancel=function Ti(){re!==B&&Jf(re),$e=0,T=ue=F=re=B},na.flush=function hr(){return re===B?J:On(A())},na}var U=Pt(function(c,g){return jf(c,1,g)}),Y=Pt(function(c,g,C){return jf(c,wi(g)||0,C)});function G(c,g){if("function"!=typeof c||null!=g&&"function"!=typeof g)throw new Ei(Ae);var C=function(){var T=arguments,F=g?g.apply(this,T):T[0],j=C.cache;if(j.has(F))return j.get(F);var J=c.apply(this,T);return C.cache=j.set(F,J)||j,J};return C.cache=new(G.Cache||Da),C}function te(c){if("function"!=typeof c)throw new Ei(Ae);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}G.Cache=Da;var se=Si(function(c,g){var C=(g=1==g.length&&Re(g[0])?hn(g[0],vt(Vt())):hn(Qr(g,1),vt(Vt()))).length;return Pt(function(T){for(var F=-1,j=Xt(T.length,C);++F<j;)T[F]=g[F].call(this,T[F]);return ki(c,this,T)})}),ne=Pt(function(c,g){var C=Oi(g,ll(ne));return ko(c,32,B,g,C)}),ee=Pt(function(c,g){var C=Oi(g,ll(ee));return ko(c,64,B,g,C)}),fe=es(function(c,g){return ko(c,256,B,B,B,g)});function Le(c,g){return c===g||c!=c&&g!=g}var Xe=Ms(Yu),It=Ms(function(c,g){return c>=g}),Ft=Zf(function(){return arguments}())?Zf:function(c){return me(c)&&qn.call(c,"callee")&&!kf.call(c,"callee")},Re=be.isArray,nt=Ol?vt(Ol):function wo(c){return me(c)&&$i(c)==Nt};function gt(c){return null!=c&&_e(c.length)&&!Me(c)}function ot(c){return me(c)&&gt(c)}var _t=Er||Py,yn=ni?vt(ni):function Pn(c){return me(c)&&$i(c)==zs};function z(c){if(!me(c))return!1;var g=$i(c);return g==Nu||"[object DOMException]"==g||"string"==typeof c.message&&"string"==typeof c.name&&!xr(c)}function Me(c){if(!st(c))return!1;var g=$i(c);return g==Fc||g==Pu||"[object AsyncFunction]"==g||"[object Proxy]"==g}function De(c){return"number"==typeof c&&c==kt(c)}function _e(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Fa}function st(c){var g=typeof c;return null!=c&&("object"==g||"function"==g)}function me(c){return null!=c&&"object"==typeof c}var Ct=Io?vt(Io):function Jl(c){return me(c)&&Hr(c)==uo};function br(c){return"number"==typeof c||me(c)&&$i(c)==js}function xr(c){if(!me(c)||$i(c)!=La)return!1;var g=_i(c);if(null===g)return!0;var C=qn.call(g,"constructor")&&g.constructor;return"function"==typeof C&&C instanceof C&&od.call(C)==Pf}var yi=Sf?vt(Sf):function Xu(c){return me(c)&&$i(c)==ku},ei=Fl?vt(Fl):function mp(c){return me(c)&&Hr(c)==Uo};function zi(c){return"string"==typeof c||!Re(c)&&me(c)&&$i(c)==Gs}function er(c){return"symbol"==typeof c||me(c)&&$i(c)==Lc}var to=un?vt(un):function bo(c){return me(c)&&_e(c.length)&&!!cr[$i(c)]},Ps=Ms(au),as=Ms(function(c,g){return c<=g});function ks(c){if(!c)return[];if(gt(c))return zi(c)?po(c):Mi(c);if(qu&&c[qu])return function va(ae){for(var Ne,be=[];!(Ne=ae.next()).done;)be.push(Ne.value);return be}(c[qu]());var g=Hr(c);return(g==uo?In:g==Uo?ja:Dc)(c)}function Tr(c){return c?(c=wi(c))===Mt||c===-Mt?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function kt(c){var g=Tr(c),C=g%1;return g==g?C?g-C:g:0}function ji(c){return c?bs(kt(c),0,so):0}function wi(c){if("number"==typeof c)return c;if(er(c))return NaN;if(st(c)){var g="function"==typeof c.valueOf?c.valueOf():c;c=st(g)?g+"":g}if("string"!=typeof c)return 0===c?c:+c;c=sp(c);var C=Kt.test(c);return C||Gr.test(c)?kl(c.slice(2),C?2:8):Kh.test(c)?NaN:+c}function Jo(c){return pi(c,no(c))}function kn(c){return null==c?"":Ji(c)}var bh=_s(function(c,g){if(fu(g)||gt(g))pi(g,Ii(g),c);else for(var C in g)qn.call(g,C)&&Ea(c,C,g[C])}),Dh=_s(function(c,g){pi(g,no(g),c)}),yc=_s(function(c,g,C,T){pi(g,no(g),c,T)}),jp=_s(function(c,g,C,T){pi(g,Ii(g),c,T)}),Gp=es(Kl),wc=Pt(function(c,g){c=Qn(c);var C=-1,T=g.length,F=T>2?g[2]:B;for(F&&Jn(g[0],g[1],F)&&(T=1);++C<T;)for(var j=g[C],J=no(j),re=-1,ue=J.length;++re<ue;){var $e=J[re],He=c[$e];(He===B||Le(He,Qs[$e])&&!qn.call(c,$e))&&(c[$e]=j[$e])}return c}),Ch=Pt(function(c){return c.push(B,al),ki(Iv,B,c)});function Bo(c,g,C){var T=null==c?B:Ka(c,g);return T===B?C:T}function Zp(c,g){return null!=c&&ts(c,g,Wf)}var sw=sc(function(c,g,C){null!=g&&"function"!=typeof g.toString&&(g=ad.call(g)),c[g]=C},xh(ro)),uw=sc(function(c,g,C){null!=g&&"function"!=typeof g.toString&&(g=ad.call(g)),qn.call(c,g)?c[g].push(C):c[g]=[C]},Vt),lw=Pt(ou);function Ii(c){return gt(c)?Wl(c):Br(c)}function no(c){return gt(c)?Wl(c,!0):function Kn(c){if(!st(c))return function hu(c){var g=[];if(null!=c)for(var C in Qn(c))g.push(C);return g}(c);var g=fu(c),C=[];for(var T in c)"constructor"==T&&(g||!qn.call(c,T))||C.push(T);return C}(c)}var vy=_s(function(c,g,C){ec(c,g,C)}),Iv=_s(function(c,g,C,T){ec(c,g,C,T)}),my=es(function(c,g){var C={};if(null==c)return C;var T=!1;g=hn(g,function(j){return j=Do(j,c),T||(T=j.length>1),j}),pi(c,ul(c),C),T&&(C=Vi(C,7,Ep));for(var F=g.length;F--;)Sn(C,g[F]);return C}),FC=es(function(c,g){return null==c?{}:function el(c,g){return fi(c,g,function(C,T){return Zp(c,T)})}(c,g)});function cw(c,g){if(null==c)return{};var C=hn(ul(c),function(T){return[T]});return g=Vt(g),fi(c,C,function(T,F){return g(T,F[0])})}var dw=ol(Ii),Rv=ol(no);function Dc(c){return null==c?[]:td(c,Ii(c))}var jd=xs(function(c,g,C){return g=g.toLowerCase(),c+(C?yy(g):g)});function yy(c){return Xp(kn(c).toLowerCase())}function wy(c){return(c=kn(c))&&c.replace(Yh,up).replace(ti,"")}var ww=xs(function(c,g,C){return c+(C?"-":"")+g.toLowerCase()}),bw=xs(function(c,g,C){return c+(C?" ":"")+g.toLowerCase()}),Dw=Cd("toLowerCase"),Ey=xs(function(c,g,C){return c+(C?"_":"")+g.toLowerCase()}),Pv=xs(function(c,g,C){return c+(C?" ":"")+Xp(g)}),My=xs(function(c,g,C){return c+(C?" ":"")+g.toUpperCase()}),Xp=Cd("toUpperCase");function vl(c,g,C){return c=kn(c),(g=C?B:g)===B?function To(ae){return fo.test(ae)}(c)?function Af(ae){return ae.match(Ys)||[]}(c):function ip(ae){return ae.match(Wh)||[]}(c):c.match(g)||[]}var Iy=Pt(function(c,g){try{return ki(c,B,g)}catch(C){return z(C)?C:new Qt(C)}}),Lv=es(function(c,g){return Gn(g,function(C){C=vi(C),Xi(c,C,V(c[C],c))}),c});function xh(c){return function(){return c}}var ta=Sa(),eg=Sa(!0);function ro(c){return c}function Bv(c){return Qu("function"==typeof c?c:Vi(c,1))}var Gd=Pt(function(c,g){return function(C){return ou(C,c,g)}}),xw=Pt(function(c,g){return function(C){return ou(c,C,g)}});function Vv(c,g,C){var T=Ii(g),F=gd(g,T);null==C&&(!st(g)||!F.length&&T.length)&&(C=g,g=c,c=this,F=gd(g,Ii(g)));var j=!(st(C)&&"chain"in C&&!C.chain),J=Me(c);return Gn(F,function(re){var ue=g[re];c[re]=ue,J&&(c.prototype[re]=function(){var $e=this.__chain__;if(j||$e){var He=c(this.__wrapped__);return(He.__actions__=Mi(this.__actions__)).push({func:ue,args:arguments,thisArg:c}),He.__chain__=$e,He}return ue.apply(c,zo([this.value()],arguments))})}),c}function Mh(){}var Iw=nh(hn),Ay=nh(ps),Cc=nh(Bl);function Tw(c){return dl(c)?If(vi(c)):function Ya(c){return function(g){return Ka(g,c)}}(c)}var Ry=rh(),Aw=rh(!0);function Ny(){return[]}function Py(){return!1}var zv=Ed(function(c,g){return c+g},0),Ih=ih("ceil"),rg=Ed(function(c,g){return c/g},1),Wd=ih("floor"),Nw=Ed(function(c,g){return c*g},1),ky=ih("round"),Pw=Ed(function(c,g){return c-g},0);return H.after=function P(c,g){if("function"!=typeof g)throw new Ei(Ae);return c=kt(c),function(){if(--c<1)return g.apply(this,arguments)}},H.ary=k,H.assign=bh,H.assignIn=Dh,H.assignInWith=yc,H.assignWith=jp,H.at=Gp,H.before=O,H.bind=V,H.bindAll=Lv,H.bindKey=q,H.castArray=function Ve(){if(!arguments.length)return[];var c=arguments[0];return Re(c)?c:[c]},H.chain=Ev,H.chunk=function ey(c,g,C){g=(C?Jn(c,g,C):g===B)?1:_r(kt(g),0);var T=null==c?0:c.length;if(!T||g<1)return[];for(var F=0,j=0,J=be(qa(T/g));F<T;)J[j++]=Qi(c,F,F+=g);return J},H.compact=function gv(c){for(var g=-1,C=null==c?0:c.length,T=0,F=[];++g<C;){var j=c[g];j&&(F[T++]=j)}return F},H.concat=function ty(){var c=arguments.length;if(!c)return[];for(var g=be(c-1),C=arguments[0],T=c;T--;)g[T-1]=arguments[T];return zo(Re(C)?Mi(C):[C],Qr(g,1))},H.cond=function Qp(c){var g=null==c?0:c.length,C=Vt();return c=g?hn(c,function(T){if("function"!=typeof T[1])throw new Ei(Ae);return[C(T[0]),T[1]]}):[],Pt(function(T){for(var F=-1;++F<g;){var j=c[F];if(ki(j[0],this,T))return ki(j[1],this,T)}})},H.conforms=function _w(c){return function Yl(c){var g=Ii(c);return function(C){return ru(C,c,g)}}(Vi(c,1))},H.constant=xh,H.countBy=Sv,H.create=function xv(c,g){var C=Yr(c);return null==g?C:fd(C,g)},H.curry=function K(c,g,C){var T=ko(c,8,B,B,B,B,B,g=C?B:g);return T.placeholder=K.placeholder,T},H.curryRight=function $(c,g,C){var T=ko(c,16,B,B,B,B,B,g=C?B:g);return T.placeholder=$.placeholder,T},H.debounce=W,H.defaults=wc,H.defaultsDeep=Ch,H.defer=U,H.delay=Y,H.difference=ny,H.differenceBy=ry,H.differenceWith=iy,H.drop=function oy(c,g,C){var T=null==c?0:c.length;return T?Qi(c,(g=C||g===B?1:kt(g))<0?0:g,T):[]},H.dropRight=function ay(c,g,C){var T=null==c?0:c.length;return T?Qi(c,0,(g=T-(g=C||g===B?1:kt(g)))<0?0:g):[]},H.dropRightWhile=function hl(c,g){return c&&c.length?oc(c,Vt(g,3),!0,!0):[]},H.dropWhile=function vv(c,g){return c&&c.length?oc(c,Vt(g,3),!0):[]},H.fill=function mv(c,g,C,T){var F=null==c?0:c.length;return F?(C&&"number"!=typeof C&&Jn(c,g,C)&&(C=0,T=F),function Jm(c,g,C,T){var F=c.length;for((C=kt(C))<0&&(C=-C>F?0:F+C),(T=T===B||T>F?F:kt(T))<0&&(T+=F),T=C>T?0:ji(T);C<T;)c[C++]=g;return c}(c,g,C,T)):[]},H.filter=function mc(c,g){return(Re(c)?Cn:Gf)(c,Vt(g,3))},H.flatMap=function Hd(c,g){return Qr(f(c,g),1)},H.flatMapDeep=function yh(c,g){return Qr(f(c,g),Mt)},H.flatMapDepth=function Lo(c,g,C){return C=C===B?1:kt(C),Qr(f(c,g),C)},H.flatten=Aa,H.flattenDeep=function Jr(c){return null!=c&&c.length?Qr(c,Mt):[]},H.flattenDepth=function Fo(c,g){return null!=c&&c.length?Qr(c,g=g===B?1:kt(g)):[]},H.flip=function X(c){return ko(c,512)},H.flow=ta,H.flowRight=eg,H.fromPairs=function Ra(c){for(var g=-1,C=null==c?0:c.length,T={};++g<C;){var F=c[g];T[F[0]]=F[1]}return T},H.functions=function Mv(c){return null==c?[]:gd(c,Ii(c))},H.functionsIn=function zd(c){return null==c?[]:gd(c,no(c))},H.groupBy=a,H.initial=function hc(c){return null!=c&&c.length?Qi(c,0,-1):[]},H.intersection=yv,H.intersectionBy=sy,H.intersectionWith=wv,H.invert=sw,H.invertBy=uw,H.invokeMap=s,H.iteratee=Bv,H.keyBy=l,H.keys=Ii,H.keysIn=no,H.map=f,H.mapKeys=function Cu(c,g){var C={};return g=Vt(g,3),No(c,function(T,F,j){Xi(C,g(T,F,j),T)}),C},H.mapValues=function Eh(c,g){var C={};return g=Vt(g,3),No(c,function(T,F,j){Xi(C,F,g(T,F,j))}),C},H.matches=function Sw(c){return Hi(Vi(c,1))},H.matchesProperty=function Ty(c,g){return yp(c,Vi(g,1))},H.memoize=G,H.merge=vy,H.mergeWith=Iv,H.method=Gd,H.methodOf=xw,H.mixin=Vv,H.negate=te,H.nthArg=function tg(c){return c=kt(c),Pt(function(g){return Lr(g,c)})},H.omit=my,H.omitBy=function OC(c,g){return cw(c,te(Vt(g)))},H.once=function Z(c){return O(2,c)},H.orderBy=function h(c,g,C,T){return null==c?[]:(Re(g)||(g=null==g?[]:[g]),Re(C=T?B:C)||(C=null==C?[]:[C]),Kf(c,g,C))},H.over=Iw,H.overArgs=se,H.overEvery=Ay,H.overSome=Cc,H.partial=ne,H.partialRight=ee,H.partition=p,H.pick=FC,H.pickBy=cw,H.property=Tw,H.propertyOf=function HC(c){return function(g){return null==c?B:Ka(c,g)}},H.pull=ly,H.pullAll=fh,H.pullAllBy=function Np(c,g,C){return c&&c.length&&g&&g.length?tc(c,g,Vt(C,2)):c},H.pullAllWith=function mi(c,g,C){return c&&c.length&&g&&g.length?tc(c,g,B,C):c},H.pullAt=Pp,H.range=Ry,H.rangeRight=Aw,H.rearg=fe,H.reject=function w(c,g){return(Re(c)?Cn:Gf)(c,te(Vt(g,3)))},H.remove=function bv(c,g){var C=[];if(!c||!c.length)return C;var T=-1,F=[],j=c.length;for(g=Vt(g,3);++T<j;){var J=c[T];g(J,T,c)&&(C.push(J),F.push(T))}return Yf(c,F),C},H.rest=function ge(c,g){if("function"!=typeof c)throw new Ei(Ae);return Pt(c,g=g===B?g:kt(g))},H.reverse=Pd,H.sampleSize=function E(c,g,C){return g=(C?Jn(c,g,C):g===B)?1:kt(g),(Re(c)?Hf:wp)(c,g)},H.set=function Av(c,g,C){return null==c?c:wd(c,g,C)},H.setWith=function LC(c,g,C,T){return T="function"==typeof T?T:B,null==c?c:wd(c,g,C,T)},H.shuffle=function S(c){return(Re(c)?Uf:bd)(c)},H.slice=function kp(c,g,C){var T=null==c?0:c.length;return T?(C&&"number"!=typeof C&&Jn(c,g,C)?(g=0,C=T):(g=null==g?0:kt(g),C=C===B?T:kt(C)),Qi(c,g,C)):[]},H.sortBy=R,H.sortedUniq=function Cv(c){return c&&c.length?tl(c):[]},H.sortedUniqBy=function Fp(c,g){return c&&c.length?tl(c,Vt(g,2)):[]},H.split=function _y(c,g,C){return C&&"number"!=typeof C&&Jn(c,g,C)&&(g=C=B),(C=C===B?so:C>>>0)?(c=kn(c))&&("string"==typeof g||null!=g&&!yi(g))&&!(g=Ji(g))&&ga(c)?Zo(po(c),0,C):c.split(g,C):[]},H.spread=function xe(c,g){if("function"!=typeof c)throw new Ei(Ae);return g=null==g?0:_r(kt(g),0),Pt(function(C){var T=C[g],F=Zo(C,0,g);return T&&zo(F,T),ki(c,this,F)})},H.tail=function ph(c){var g=null==c?0:c.length;return g?Qi(c,1,g):[]},H.take=function Fd(c,g,C){return c&&c.length?Qi(c,0,(g=C||g===B?1:kt(g))<0?0:g):[]},H.takeRight=function Lp(c,g,C){var T=null==c?0:c.length;return T?Qi(c,(g=T-(g=C||g===B?1:kt(g)))<0?0:g,T):[]},H.takeRightWhile=function gh(c,g){return c&&c.length?oc(c,Vt(g,3),!1,!0):[]},H.takeWhile=function rs(c,g){return c&&c.length?oc(c,Vt(g,3)):[]},H.tap=function Hp(c,g){return g(c),c},H.throttle=function de(c,g,C){var T=!0,F=!0;if("function"!=typeof c)throw new Ei(Ae);return st(C)&&(T="leading"in C?!!C.leading:T,F="trailing"in C?!!C.trailing:F),W(c,g,{leading:T,maxWait:g,trailing:F})},H.thru=vc,H.toArray=ks,H.toPairs=dw,H.toPairsIn=Rv,H.toPath=function qd(c){return Re(c)?hn(c,vi):er(c)?[c]:Mi(Ta(kn(c)))},H.toPlainObject=Jo,H.transform=function fw(c,g,C){var T=Re(c),F=T||_t(c)||to(c);if(g=Vt(g,4),null==C){var j=c&&c.constructor;C=F?T?new j:[]:st(c)&&Me(j)?Yr(_i(c)):{}}return(F?Gn:No)(c,function(J,re,ue){return g(C,J,re,ue)}),C},H.unary=function Ce(c){return k(c,1)},H.union=vu,H.unionBy=mu,H.unionWith=yu,H.uniq=function cy(c){return c&&c.length?Be(c):[]},H.uniqBy=function wu(c,g){return c&&c.length?Be(c,Vt(g,2)):[]},H.uniqWith=function Bp(c,g){return g="function"==typeof g?g:B,c&&c.length?Be(c,B,g):[]},H.unset=function hw(c,g){return null==c||Sn(c,g)},H.unzip=eo,H.unzipWith=Vp,H.update=function pw(c,g,C){return null==c?c:ic(c,g,lu(C))},H.updateWith=function gw(c,g,C,T){return T="function"==typeof T?T:B,null==c?c:ic(c,g,lu(C),T)},H.values=Dc,H.valuesIn=function Kp(c){return null==c?[]:td(c,no(c))},H.without=Ns,H.words=vl,H.wrap=function Pe(c,g){return ne(lu(g),c)},H.xor=$p,H.xorBy=pc,H.xorWith=Ld,H.zip=vh,H.zipObject=function mh(c,g){return nl(c||[],g||[],Ea)},H.zipObjectDeep=function gc(c,g){return nl(c||[],g||[],wd)},H.zipWith=gl,H.entries=dw,H.entriesIn=Rv,H.extend=Dh,H.extendWith=yc,Vv(H,H),H.add=zv,H.attempt=Iy,H.camelCase=jd,H.capitalize=yy,H.ceil=Ih,H.clamp=function vw(c,g,C){return C===B&&(C=g,g=B),C!==B&&(C=(C=wi(C))==C?C:0),g!==B&&(g=(g=wi(g))==g?g:0),bs(wi(c),g,C)},H.clone=function Oe(c){return Vi(c,4)},H.cloneDeep=function he(c){return Vi(c,5)},H.cloneDeepWith=function ze(c,g){return Vi(c,5,g="function"==typeof g?g:B)},H.cloneWith=function Fe(c,g){return Vi(c,4,g="function"==typeof g?g:B)},H.conformsTo=function Ge(c,g){return null==g||ru(c,g,Ii(g))},H.deburr=wy,H.defaultTo=function Jp(c,g){return null==c||c!=c?g:c},H.divide=rg,H.endsWith=function by(c,g,C){c=kn(c),g=Ji(g);var T=c.length,F=C=C===B?T:bs(kt(C),0,T);return(C-=g.length)>=0&&c.slice(C,F)==g},H.eq=Le,H.escape=function Dy(c){return(c=kn(c))&&gf.test(c)?c.replace(pf,nv):c},H.escapeRegExp=function yw(c){return(c=kn(c))&&mf.test(c)?c.replace(ca,"\\$&"):c},H.every=function Up(c,g,C){var T=Re(c)?ps:dv;return C&&Jn(c,g,C)&&(g=B),T(c,Vt(g,3))},H.find=$d,H.findIndex=fr,H.findKey=function Ud(c,g){return tv(c,Vt(g,3),No)},H.findLast=zp,H.findLastIndex=Rp,H.findLastKey=function qp(c,g){return tv(c,Vt(g,3),qf)},H.floor=Wd,H.forEach=wh,H.forEachRight=is,H.forIn=function ss(c,g){return null==c?c:pd(c,Vt(g,3),no)},H.forInRight=function bc(c,g){return null==c?c:Ds(c,Vt(g,3),no)},H.forOwn=function ea(c,g){return c&&No(c,Vt(g,3))},H.forOwnRight=function Wp(c,g){return c&&qf(c,Vt(g,3))},H.get=Bo,H.gt=Xe,H.gte=It,H.has=function gy(c,g){return null!=c&&ts(c,g,Cs)},H.hasIn=Zp,H.head=pl,H.identity=ro,H.includes=function i(c,g,C,T){c=gt(c)?c:Dc(c),C=C&&!T?kt(C):0;var F=c.length;return C<0&&(C=_r(F+C,0)),zi(c)?C<=F&&c.indexOf(g,C)>-1:!!F&&ju(c,g,C)>-1},H.indexOf=function Nd(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var F=null==C?0:kt(C);return F<0&&(F=_r(T+F,0)),ju(c,g,F)},H.inRange=function Nv(c,g,C){return g=Tr(g),C===B?(C=g,g=0):C=Tr(C),function pp(c,g,C){return c>=Xt(g,C)&&c<_r(g,C)}(c=wi(c),g,C)},H.invoke=lw,H.isArguments=Ft,H.isArray=Re,H.isArrayBuffer=nt,H.isArrayLike=gt,H.isArrayLikeObject=ot,H.isBoolean=function Et(c){return!0===c||!1===c||me(c)&&$i(c)==rn},H.isBuffer=_t,H.isDate=yn,H.isElement=function ln(c){return me(c)&&1===c.nodeType&&!xr(c)},H.isEmpty=function $t(c){if(null==c)return!0;if(gt(c)&&(Re(c)||"string"==typeof c||"function"==typeof c.splice||_t(c)||to(c)||Ft(c)))return!c.length;var g=Hr(c);if(g==uo||g==Uo)return!c.size;if(fu(c))return!Br(c).length;for(var C in c)if(qn.call(c,C))return!1;return!0},H.isEqual=function cn(c,g){return Ql(c,g)},H.isEqualWith=function ve(c,g,C){var T=(C="function"==typeof C?C:B)?C(c,g):B;return T===B?Ql(c,g,B,C):!!T},H.isError=z,H.isFinite=function pe(c){return"number"==typeof c&&Li(c)},H.isFunction=Me,H.isInteger=De,H.isLength=_e,H.isMap=Ct,H.isMatch=function on(c,g){return c===g||yd(c,g,cl(g))},H.isMatchWith=function xn(c,g,C){return C="function"==typeof C?C:B,yd(c,g,cl(g),C)},H.isNaN=function zt(c){return br(c)&&c!=+c},H.isNative=function Tn(c){if(sh(c))throw new Qt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return vp(c)},H.isNil=function en(c){return null==c},H.isNull=function Zt(c){return null===c},H.isNumber=br,H.isObject=st,H.isObjectLike=me,H.isPlainObject=xr,H.isRegExp=yi,H.isSafeInteger=function Qo(c){return De(c)&&c>=-Fa&&c<=Fa},H.isSet=ei,H.isString=zi,H.isSymbol=er,H.isTypedArray=to,H.isUndefined=function os(c){return c===B},H.isWeakMap=function bu(c){return me(c)&&Hr(c)==qs},H.isWeakSet=function Na(c){return me(c)&&"[object WeakSet]"==$i(c)},H.join=function uy(c,g){return null==c?"":Wu.call(c,g)},H.kebabCase=ww,H.last=wr,H.lastIndexOf=function dh(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var F=T;return C!==B&&(F=(F=kt(C))<0?_r(T+F,0):Xt(F,T-1)),g==g?function vs(ae,Ne,be){for(var ut=be+1;ut--;)if(ae[ut]===Ne)return ut;return ut}(c,g,F):Mf(c,Vl,F,!0)},H.lowerCase=bw,H.lowerFirst=Dw,H.lt=Ps,H.lte=as,H.max=function jv(c){return c&&c.length?Xl(c,ro,Yu):B},H.maxBy=function Gv(c,g){return c&&c.length?Xl(c,Vt(g,2),Yu):B},H.mean=function ig(c){return ha(c,ro)},H.meanBy=function UC(c,g){return ha(c,Vt(g,2))},H.min=function qv(c){return c&&c.length?Xl(c,ro,au):B},H.minBy=function Th(c,g){return c&&c.length?Xl(c,Vt(g,2),au):B},H.stubArray=Ny,H.stubFalse=Py,H.stubObject=function ng(){return{}},H.stubString=function Rw(){return""},H.stubTrue=function $v(){return!0},H.multiply=Nw,H.nth=function gu(c,g){return c&&c.length?Lr(c,kt(g)):B},H.noConflict=function Mw(){return ci._===this&&(ci._=Wt),this},H.noop=Mh,H.now=A,H.pad=function Cy(c,g,C){c=kn(c);var T=(g=kt(g))?Ga(c):0;if(!g||T>=g)return c;var F=(g-T)/2;return _d(Kr(F),C)+c+_d(qa(F),C)},H.padEnd=function BC(c,g,C){c=kn(c);var T=(g=kt(g))?Ga(c):0;return g&&T<g?c+_d(g-T,C):c},H.padStart=function VC(c,g,C){c=kn(c);var T=(g=kt(g))?Ga(c):0;return g&&T<g?_d(g-T,C)+c:c},H.parseInt=function _h(c,g,C){return C||null==g?g=0:g&&(g=+g),yr(kn(c).replace(qc,""),g||0)},H.random=function mw(c,g,C){if(C&&"boolean"!=typeof C&&Jn(c,g,C)&&(g=C=B),C===B&&("boolean"==typeof g?(C=g,g=B):"boolean"==typeof c&&(C=c,c=B)),c===B&&g===B?(c=0,g=1):(c=Tr(c),g===B?(g=c,c=0):g=Tr(g)),c>g){var T=c;c=g,g=T}if(C||c%1||g%1){var F=vn();return Xt(c+F*(g-c+np("1e-"+((F+"").length-1))),g)}return nc(c,g)},H.reduce=function m(c,g,C){var T=Re(c)?zu:op,F=arguments.length<3;return T(c,Vt(g,4),C,F,iu)},H.reduceRight=function b(c,g,C){var T=Re(c)?Xs:op,F=arguments.length<3;return T(c,Vt(g,4),C,F,cv)},H.repeat=function wt(c,g,C){return g=(C?Jn(c,g,C):g===B)?1:kt(g),rc(kn(c),g)},H.replace=function Sh(){var c=arguments,g=kn(c[0]);return c.length<3?g:g.replace(c[1],c[2])},H.result=function Tv(c,g,C){var T=-1,F=(g=Do(g,c)).length;for(F||(F=1,c=B);++T<F;){var j=null==c?B:c[vi(g[T])];j===B&&(T=F,j=C),c=Me(j)?j.call(c):j}return c},H.round=ky,H.runInContext=ae,H.sample=function D(c){return(Re(c)?yo:pt)(c)},H.size=function M(c){if(null==c)return 0;if(gt(c))return zi(c)?Ga(c):c.length;var g=Hr(c);return g==uo||g==Uo?c.size:Br(c).length},H.snakeCase=Ey,H.some=function x(c,g,C){var T=Re(c)?Bl:su;return C&&Jn(c,g,C)&&(g=B),T(c,Vt(g,3))},H.sortedIndex=function hh(c,g){return Xa(c,g)},H.sortedIndexBy=function kd(c,g,C){return Qf(c,g,Vt(C,2))},H.sortedIndexOf=function Op(c,g){var C=null==c?0:c.length;if(C){var T=Xa(c,g);if(T<C&&Le(c[T],g))return T}return-1},H.sortedLastIndex=function Od(c,g){return Xa(c,g,!0)},H.sortedLastIndexBy=function Dv(c,g,C){return Qf(c,g,Vt(C,2),!0)},H.sortedLastIndexOf=function Eo(c,g){if(null!=c&&c.length){var T=Xa(c,g,!0)-1;if(Le(c[T],g))return T}return-1},H.startCase=Pv,H.startsWith=function kv(c,g,C){return c=kn(c),C=null==C?0:bs(kt(C),0,c.length),g=Ji(g),c.slice(C,C+g.length)==g},H.subtract=Pw,H.sum=function kw(c){return c&&c.length?gs(c,ro):0},H.sumBy=function Wv(c,g){return c&&c.length?gs(c,Vt(g,2)):0},H.template=function Cw(c,g,C){var T=H.templateSettings;C&&Jn(c,g,C)&&(g=B),c=kn(c),g=yc({},g,T,xd);var re,ue,F=yc({},g.imports,T.imports,xd),j=Ii(F),J=td(F,j),$e=0,He=g.interpolate||Wc,We="__p += '",dt=Nf((g.escape||Wc).source+"|"+He.source+"|"+(He===vf?wf:Wc).source+"|"+(g.evaluate||Wc).source+"|$","g"),Tt="//# sourceURL="+(qn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zm+"]")+"\n";c.replace(dt,function(qt,wn,On,Ti,hr,na){return On||(On=Ti),We+=c.slice($e,na).replace(Zc,rv),wn&&(re=!0,We+="' +\n__e("+wn+") +\n'"),hr&&(ue=!0,We+="';\n"+hr+";\n__p += '"),On&&(We+="' +\n((__t = ("+On+")) == null ? '' : __t) +\n'"),$e=na+qt.length,qt}),We+="';\n";var jt=qn.call(g,"variable")&&g.variable;if(jt){if(Il.test(jt))throw new Qt("Invalid `variable` option passed into `_.template`")}else We="with (obj) {\n"+We+"\n}\n";We=(ue?We.replace(Zg,""):We).replace(zc,"$1").replace(Ba,"$1;"),We="function("+(jt||"obj")+") {\n"+(jt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(re?", __e = _.escape":"")+(ue?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+We+"return __p\n}";var _n=Iy(function(){return Bn(j,Tt+"return "+We).apply(B,J)});if(_n.source=We,z(_n))throw _n;return _n},H.times=function Hv(c,g){if((c=kt(c))<1||c>Fa)return[];var C=so,T=Xt(c,so);g=Vt(g),c-=so;for(var F=Tf(T,g);++C<c;)g(C);return F},H.toFinite=Tr,H.toInteger=kt,H.toLength=ji,H.toLower=function Sy(c){return kn(c).toLowerCase()},H.toNumber=wi,H.toSafeInteger=function Du(c){return c?bs(kt(c),-Fa,Fa):0===c?c:0},H.toString=kn,H.toUpper=function xy(c){return kn(c).toUpperCase()},H.trim=function Yp(c,g,C){if((c=kn(c))&&(C||g===B))return sp(c);if(!c||!(g=Ji(g)))return c;var T=po(c),F=po(g);return Zo(T,Hl(T,F),nd(T,F)+1).join("")},H.trimEnd=function $C(c,g,C){if((c=kn(c))&&(C||g===B))return c.slice(0,zl(c)+1);if(!c||!(g=Ji(g)))return c;var T=po(c);return Zo(T,0,nd(T,po(g))+1).join("")},H.trimStart=function Ov(c,g,C){if((c=kn(c))&&(C||g===B))return c.replace(qc,"");if(!c||!(g=Ji(g)))return c;var T=po(c);return Zo(T,Hl(T,po(g))).join("")},H.truncate=function Ew(c,g){var C=30,T="...";if(st(g)){var F="separator"in g?g.separator:F;C="length"in g?kt(g.length):C,T="omission"in g?Ji(g.omission):T}var j=(c=kn(c)).length;if(ga(c)){var J=po(c);j=J.length}if(C>=j)return c;var re=C-Ga(T);if(re<1)return T;var ue=J?Zo(J,0,re).join(""):c.slice(0,re);if(F===B)return ue+T;if(J&&(re+=ue.length-re),yi(F)){if(c.slice(re).search(F)){var $e,He=ue;for(F.global||(F=Nf(F.source,kn(Hn.exec(F))+"g")),F.lastIndex=0;$e=F.exec(He);)var We=$e.index;ue=ue.slice(0,We===B?re:We)}}else if(c.indexOf(Ji(F),re)!=re){var dt=ue.lastIndexOf(F);dt>-1&&(ue=ue.slice(0,dt))}return ue+T},H.unescape=function Fv(c){return(c=kn(c))&&jc.test(c)?c.replace(Ws,cp):c},H.uniqueId=function Uv(c){var g=++ov;return kn(c)+g},H.upperCase=My,H.upperFirst=Xp,H.each=wh,H.eachRight=is,H.first=pl,Vv(H,function(){var c={};return No(H,function(g,C){qn.call(H.prototype,C)||(c[C]=g)}),c}(),{chain:!1}),H.VERSION="4.17.21",Gn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){H[c].placeholder=H}),Gn(["drop","take"],function(c,g){an.prototype[c]=function(C){C=C===B?1:_r(kt(C),0);var T=this.__filtered__&&!g?new an(this):this.clone();return T.__filtered__?T.__takeCount__=Xt(C,T.__takeCount__):T.__views__.push({size:Xt(C,so),type:c+(T.__dir__<0?"Right":"")}),T},an.prototype[c+"Right"]=function(C){return this.reverse()[c](C).reverse()}}),Gn(["filter","map","takeWhile"],function(c,g){var C=g+1,T=1==C||3==C;an.prototype[c]=function(F){var j=this.clone();return j.__iteratees__.push({iteratee:Vt(F,3),type:C}),j.__filtered__=j.__filtered__||T,j}}),Gn(["head","last"],function(c,g){var C="take"+(g?"Right":"");an.prototype[c]=function(){return this[C](1).value()[0]}}),Gn(["initial","tail"],function(c,g){var C="drop"+(g?"":"Right");an.prototype[c]=function(){return this.__filtered__?new an(this):this[C](1)}}),an.prototype.compact=function(){return this.filter(ro)},an.prototype.find=function(c){return this.filter(c).head()},an.prototype.findLast=function(c){return this.reverse().find(c)},an.prototype.invokeMap=Pt(function(c,g){return"function"==typeof c?new an(this):this.map(function(C){return ou(C,c,g)})}),an.prototype.reject=function(c){return this.filter(te(Vt(c)))},an.prototype.slice=function(c,g){c=kt(c);var C=this;return C.__filtered__&&(c>0||g<0)?new an(C):(c<0?C=C.takeRight(-c):c&&(C=C.drop(c)),g!==B&&(C=(g=kt(g))<0?C.dropRight(-g):C.take(g-c)),C)},an.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},an.prototype.toArray=function(){return this.take(so)},No(an.prototype,function(c,g){var C=/^(?:filter|find|map|reject)|While$/.test(g),T=/^(?:head|last)$/.test(g),F=H[T?"take"+("last"==g?"Right":""):g],j=T||/^find/.test(g);F&&(H.prototype[g]=function(){var J=this.__wrapped__,re=T?[1]:arguments,ue=J instanceof an,$e=re[0],He=ue||Re(J),We=function(wn){var On=F.apply(H,zo([wn],re));return T&&dt?On[0]:On};He&&C&&"function"==typeof $e&&1!=$e.length&&(ue=He=!1);var dt=this.__chain__,jt=j&&!dt,_n=ue&&!this.__actions__.length;if(!j&&He){J=_n?J:new an(this);var qt=c.apply(J,re);return qt.__actions__.push({func:vc,args:[We],thisArg:B}),new mn(qt,dt)}return jt&&_n?c.apply(this,re):(qt=this.thru(We),jt?T?qt.value()[0]:qt.value():qt)})}),Gn(["pop","push","shift","sort","splice","unshift"],function(c){var g=id[c],C=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",T=/^(?:pop|shift)$/.test(c);H.prototype[c]=function(){var F=arguments;if(T&&!this.__chain__){var j=this.value();return g.apply(Re(j)?j:[],F)}return this[C](function(J){return g.apply(Re(J)?J:[],F)})}}),No(an.prototype,function(c,g){var C=H[g];if(C){var T=C.name+"";qn.call(nn,T)||(nn[T]=[]),nn[T].push({name:g,func:C})}}),nn[ur(B,2).name]=[{name:"wrapper",func:B}],an.prototype.clone=function ld(){var c=new an(this.__wrapped__);return c.__actions__=Mi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Mi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Mi(this.__views__),c},an.prototype.reverse=function qo(){if(this.__filtered__){var c=new an(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},an.prototype.value=function ba(){var c=this.__wrapped__.value(),g=this.__dir__,C=Re(c),T=g<0,F=C?c.length:0,j=function pv(c,g,C){for(var T=-1,F=C.length;++T<F;){var j=C[T],J=j.size;switch(j.type){case"drop":c+=J;break;case"dropRight":g-=J;break;case"take":g=Xt(g,c+J);break;case"takeRight":c=_r(c,g-J)}}return{start:c,end:g}}(0,F,this.__views__),J=j.start,re=j.end,ue=re-J,$e=T?re:J-1,He=this.__iteratees__,We=He.length,dt=0,Tt=Xt(ue,this.__takeCount__);if(!C||!T&&F==ue&&Tt==ue)return Vr(c,this.__actions__);var jt=[];e:for(;ue--&&dt<Tt;){for(var _n=-1,qt=c[$e+=g];++_n<We;){var wn=He[_n],Ti=wn.type,hr=(0,wn.iteratee)(qt);if(2==Ti)qt=hr;else if(!hr){if(1==Ti)continue e;break e}}jt[dt++]=qt}return jt},H.prototype.at=Bd,H.prototype.chain=function dy(){return Ev(this)},H.prototype.commit=function Un(){return new mn(this.value(),this.__chain__)},H.prototype.next=function Vd(){this.__values__===B&&(this.__values__=ks(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?B:this.__values__[this.__index__++]}},H.prototype.plant=function hy(c){for(var g,C=this;C instanceof gn;){var T=pu(C);T.__index__=0,T.__values__=B,g?F.__wrapped__=T:g=T;var F=T;C=C.__wrapped__}return F.__wrapped__=c,g},H.prototype.reverse=function py(){var c=this.__wrapped__;if(c instanceof an){var g=c;return this.__actions__.length&&(g=new an(this)),(g=g.reverse()).__actions__.push({func:vc,args:[Pd],thisArg:B}),new mn(g,this.__chain__)}return this.thru(Pd)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function _v(){return Vr(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,qu&&(H.prototype[qu]=function fy(){return this}),H}();ci._=rd,(le=function(){return rd}.call(Qe,ie,Qe,we))!==B&&(we.exports=le)}.call(this)},7659:(we,Qe,ie)=>{var le=ie(1811);function Te(Ie,Ue){if("function"!=typeof Ie||null!=Ue&&"function"!=typeof Ue)throw new TypeError("Expected a function");var Ae=function(){var rt=arguments,mt=Ue?Ue.apply(this,rt):rt[0],Dt=Ae.cache;if(Dt.has(mt))return Dt.get(mt);var St=Ie.apply(this,rt);return Ae.cache=Dt.set(mt,St)||Dt,St};return Ae.cache=new(Te.Cache||le),Ae}Te.Cache=le,we.exports=Te},5533:(we,Qe,ie)=>{var le=ie(8492);we.exports=function(){return le.Date.now()}},7939:(we,Qe,ie)=>{var le=ie(9478);we.exports=function B(Te,Ie,Ue){return null==Te?Te:le(Te,Ie,Ue)}},4282:(we,Qe,ie)=>{var le=ie(9484),B=ie(9794),Te=ie(3423),Ue=/^[-+]0x[0-9a-f]+$/i,Ae=/^0b[01]+$/i,rt=/^0o[0-7]+$/i,mt=parseInt;we.exports=function Dt(St){if("number"==typeof St)return St;if(Te(St))return NaN;if(B(St)){var Fn="function"==typeof St.valueOf?St.valueOf():St;St=B(Fn)?Fn+"":Fn}if("string"!=typeof St)return 0===St?St:+St;St=le(St);var dn=Ae.test(St);return dn||rt.test(St)?mt(St.slice(2),dn?2:8):Ue.test(St)?NaN:+St}},9078:(we,Qe,ie)=>{var le=ie(3880),B=ie(4231),Te=ie(2261),Ie=ie(3423),Ue=ie(163),Ae=ie(8916),rt=ie(2674);we.exports=function mt(Dt){return Te(Dt)?le(Dt,Ae):Ie(Dt)?[Dt]:B(Ue(rt(Dt)))}},2674:(we,Qe,ie)=>{var le=ie(7002);we.exports=function B(Te){return null==Te?"":le(Te)}}},we=>{we(we.s=2243)}]);