(self.webpackChunkpathway_browser=self.webpackChunkpathway_browser||[]).push([[179],{1620:(pe,qe,ie)=>{"use strict";function ce(e){return"function"==typeof e}function L(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ee=L(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function De(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Be{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const f of n)f.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(ce(i))try{i()}catch(f){t=f instanceof Ee?f.errors:[f]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const f of s)try{ct(f)}catch(g){t=t??[],g instanceof Ee?t=[...t,...g.errors]:t.push(g)}}if(t)throw new Ee(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ct(t);else{if(t instanceof Be){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&De(n,t)}remove(t){const{_finalizers:n}=this;n&&De(n,t),t instanceof Be&&t._removeParent(this)}}Be.EMPTY=(()=>{const e=new Be;return e.closed=!0,e})();const Ce=Be.EMPTY;function et(e){return e instanceof Be||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function ct(e){ce(e)?e():e.unsubscribe()}const dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ht={setTimeout(e,t,...n){const{delegate:i}=ht;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ht;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function En(e){ht.setTimeout(()=>{const{onUnhandledError:t}=dt;if(!t)throw e;t(e)})}function en(){}const ar=gn("C",void 0,void 0);function gn(e,t,n){return{kind:e,value:t,error:n}}let Qt=null;function He(e){if(dt.useDeprecatedSynchronousErrorHandling){const t=!Qt;if(t&&(Qt={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=Qt;if(Qt=null,n)throw i}}else e()}class ut extends Be{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,et(t)&&t.add(this)):this.destination=Vi}static create(t,n,i){return new an(t,n,i)}next(t){this.isStopped?no(function Mn(e){return gn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?no(function qn(e){return gn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?no(ar,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function vn(e,t){return pt.call(e,t)}class bt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){$n(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){$n(i)}else $n(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){$n(n)}}}class an extends ut{constructor(t,n,i){let s;if(super(),ce(t)||!t)s={next:t??void 0,error:n??void 0,complete:i??void 0};else{let f;this&&dt.useDeprecatedNextContext?(f=Object.create(t),f.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&vn(t.next,f),error:t.error&&vn(t.error,f),complete:t.complete&&vn(t.complete,f)}):s=t}this.destination=new bt(s)}}function $n(e){dt.useDeprecatedSynchronousErrorHandling?function tt(e){dt.useDeprecatedSynchronousErrorHandling&&Qt&&(Qt.errorThrown=!0,Qt.error=e)}(e):En(e)}function no(e,t){const{onStoppedNotification:n}=dt;n&&ht.setTimeout(()=>n(e,t))}const Vi={closed:!0,next:en,error:function gi(e){throw e},complete:en},fr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ye(e){return e}let mt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,s){const f=function Ul(e){return e&&e instanceof ut||function nt(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}(e)&&et(e)}(n)?n:new an(n,i,s);return He(()=>{const{operator:g,source:w}=this;f.add(g?g.call(f,w):w?this._subscribe(f):this._trySubscribe(f))}),f}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=ua(i))((s,f)=>{const g=new an({next:w=>{try{n(w)}catch(C){f(C),g.unsubscribe()}},error:f,complete:s});this.subscribe(g)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[fr](){return this}pipe(...n){return function dn(e){return 0===e.length?Ye:1===e.length?e[0]:function(n){return e.reduce((i,s)=>s(i),n)}}(n)(this)}toPromise(n){return new(n=ua(n))((i,s)=>{let f;this.subscribe(g=>f=g,g=>s(g),()=>i(f))})}}return e.create=t=>new e(t),e})();function ua(e){var t;return null!==(t=e??dt.Promise)&&void 0!==t?t:Promise}const $i=L(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let si=(()=>{class e extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new Rs(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new $i}next(n){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:s,observers:f}=this;return i||s?Ce:(this.currentObservers=null,f.push(n),new Be(()=>{this.currentObservers=null,De(f,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:s,isStopped:f}=this;i?n.error(s):f&&n.complete()}asObservable(){const n=new mt;return n.source=this,n}}return e.create=(t,n)=>new Rs(t,n),e})();class Rs extends si{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:Ce}}function Mi(e){return t=>{if(function Od(e){return ce(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ro(e,t,n,i,s){return new Cp(e,t,n,i,s)}class Cp extends ut{constructor(t,n,i,s,f,g){super(t),this.onFinalize=f,this.shouldUnsubscribe=g,this._next=n?function(w){try{n(w)}catch(C){t.error(C)}}:super._next,this._error=s?function(w){try{s(w)}catch(C){t.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function $o(e){return this instanceof $o?(this.v=e,this):new $o(e)}function ql(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function df(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(f){n[f]=e[f]&&function(g){return new Promise(function(w,C){!function s(f,g,w,C){Promise.resolve(C).then(function(M){f({value:M,done:w})},g)}(w,C,(g=e[f](g)).done,g.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const vf=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function $s(e){return ce(e?.then)}function Hs(e){return ce(e[fr])}function mf(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function fa(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rd=function Jl(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ho(e){return ce(e?.[Rd])}function yf(e){return function Wl(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=n.apply(e,t||[]),f=[];return s={},g("next"),g("throw"),g("return"),s[Symbol.asyncIterator]=function(){return this},s;function g(Y){i[Y]&&(s[Y]=function(X){return new Promise(function(ue,me){f.push([Y,X,ue,me])>1||w(Y,X)})})}function w(Y,X){try{!function C(Y){Y.value instanceof $o?Promise.resolve(Y.value.v).then(M,N):F(f[0][2],Y)}(i[Y](X))}catch(ue){F(f[0][3],ue)}}function M(Y){w("next",Y)}function N(Y){w("throw",Y)}function F(Y,X){Y(X),f.shift(),f.length&&w(f[0][0],f[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:s}=yield $o(n.read());if(s)return yield $o(void 0);yield yield $o(i)}}finally{n.releaseLock()}})}function ec(e){return ce(e?.getReader)}function _o(e){if(e instanceof mt)return e;if(null!=e){if(Hs(e))return function Tp(e){return new mt(t=>{const n=e[fr]();if(ce(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(vf(e))return function Ap(e){return new mt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if($s(e))return function wf(e){return new mt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,En)})}(e);if(mf(e))return ju(e);if(Ho(e))return function Fd(e){return new mt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(ec(e))return function Ld(e){return ju(yf(e))}(e)}throw fa(e)}function ju(e){return new mt(t=>{(function bf(e,t){var n,i,s,f;return function Bs(e,t,n,i){return new(n||(n=Promise))(function(f,g){function w(N){try{M(i.next(N))}catch(F){g(F)}}function C(N){try{M(i.throw(N))}catch(F){g(F)}}function M(N){N.done?f(N.value):function s(f){return f instanceof n?f:new n(function(g){g(f)})}(N.value).then(w,C)}M((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ql(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(g){s={error:g}}finally{try{i&&!i.done&&(f=n.return)&&(yield f.call(n))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Pn(e,t,n,i=0,s=!1){const f=t.schedule(function(){n(),s?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(f),!s)return f}function Cn(e,t,n=1/0){return ce(t)?Cn((i,s)=>function Ii(e,t){return Mi((n,i)=>{let s=0;n.subscribe(ro(i,f=>{i.next(e.call(t,f,s++))}))})}((f,g)=>t(i,f,s,g))(_o(e(i,s))),n):("number"==typeof t&&(n=t),Mi((i,s)=>function Bd(e,t,n,i,s,f,g,w){const C=[];let M=0,N=0,F=!1;const Y=()=>{F&&!C.length&&!M&&t.complete()},X=me=>M<i?ue(me):C.push(me),ue=me=>{f&&t.next(me),M++;let Ue=!1;_o(n(me,N++)).subscribe(ro(t,Je=>{s?.(Je),f?X(Je):t.next(Je)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(M--;C.length&&M<i;){const Je=C.shift();g?Pn(t,g,()=>ue(Je)):ue(Je)}Y()}catch(Je){t.error(Je)}}))};return e.subscribe(ro(t,X,()=>{F=!0,Y()})),()=>{w?.()}}(i,s,e,n)))}const So=new mt(e=>e.complete());function nc(e){return e[e.length-1]}function da(e){return function tc(e){return e&&ce(e.schedule)}(nc(e))?e.pop():void 0}function $d(e,t=0){return Mi((n,i)=>{n.subscribe(ro(i,s=>Pn(i,e,()=>i.next(s),t),()=>Pn(i,e,()=>i.complete(),t),s=>Pn(i,e,()=>i.error(s),t)))})}function zi(e,t=0){return Mi((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function zd(e,t){if(!e)throw new Error("Iterable cannot be null");return new mt(n=>{Pn(n,t,()=>{const i=e[Symbol.asyncIterator]();Pn(n,t,()=>{i.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function Wu(e,t){return t?function Gu(e,t){if(null!=e){if(Hs(e))return function ha(e,t){return _o(e).pipe(zi(t),$d(t))}(e,t);if(vf(e))return function zo(e,t){return new mt(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if($s(e))return function Hd(e,t){return _o(e).pipe(zi(t),$d(t))}(e,t);if(mf(e))return zd(e,t);if(Ho(e))return function Pp(e,t){return new mt(n=>{let i;return Pn(n,t,()=>{i=e[Rd](),Pn(n,t,()=>{let s,f;try{({value:s,done:f}=i.next())}catch(g){return void n.error(g)}f?n.complete():n.next(s)},0,!0)}),()=>ce(i?.return)&&i.return()})}(e,t);if(ec(e))return function zs(e,t){return zd(yf(e),t)}(e,t)}throw fa(e)}(e,t):_o(e)}class Ef extends si{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Cf(e={}){const{connector:t=(()=>new si),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=e;return f=>{let g,w,C,M=0,N=!1,F=!1;const Y=()=>{w?.unsubscribe(),w=void 0},X=()=>{Y(),g=C=void 0,N=F=!1},ue=()=>{const me=g;X(),me?.unsubscribe()};return Mi((me,Ue)=>{M++,!F&&!N&&Y();const Je=C=C??t();Ue.add(()=>{M--,0===M&&!F&&!N&&(w=js(ue,s))}),Je.subscribe(Ue),!g&&M>0&&(g=new an({next:Se=>Je.next(Se),error:Se=>{F=!0,Y(),w=js(X,n,Se),Je.error(Se)},complete:()=>{N=!0,Y(),w=js(X,i),Je.complete()}}),_o(me).subscribe(g))})(f)}}function js(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new an({next:()=>{i.unsubscribe(),e()}});return _o(t(...n)).subscribe(i)}function jd(e,t){return e===t}function kn(e){for(let t in e)if(e[t]===kn)return t;throw Error("Could not find renamed property on target object.")}function Pr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Pr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function rc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const qu=kn({__forward_ref__:kn});function Vn(e){return e.__forward_ref__=Vn,e.toString=function(){return Pr(this())},e}function Ct(e){return function as(e){return"function"==typeof e&&e.hasOwnProperty(qu)&&e.__forward_ref__===Vn}(e)?e():e}function Zu(e){return e&&!!e.\u0275providers}class Ze extends Error{constructor(t,n){super(function Ku(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function On(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Rt(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function pa(e,t){throw new Ze(-201,!1)}function ji(e,t){null==e&&function Mt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Rn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Uo(e){return{providers:e.providers||[],imports:e.imports||[]}}function ka(e){return sc(e,Gi)||sc(e,lc)}function sc(e,t){return e.hasOwnProperty(t)?e[t]:null}function Hr(e){return e&&(e.hasOwnProperty(uc)||e.hasOwnProperty(xf))?e[uc]:null}const Gi=kn({\u0275prov:kn}),uc=kn({\u0275inj:kn}),lc=kn({ngInjectableDef:kn}),xf=kn({ngInjectorDef:kn});var cn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(cn||{});let mr;function Hn(e){const t=mr;return mr=e,t}function ga(e,t,n){const i=ka(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&cn.Optional?null:void 0!==t?t:void pa(Pr(e))}const mn=globalThis,Zs={},va="__NG_DI_FLAG__",el="ngTempTokenPath",If=/\n/gm,Kd="__source";let Ra;function Fa(e){const t=Ra;return Ra=e,t}function Qd(e,t=cn.Default){if(void 0===Ra)throw new Ze(-203,!1);return null===Ra?ga(e,void 0,t):Ra.get(e,t&cn.Optional?null:void 0,t)}function Ft(e,t=cn.Default){return(function Ws(){return mr}()||Qd)(Ct(e),t)}function Tn(e,t=cn.Default){return Ft(e,nl(t))}function nl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function pc(e){const t=[];for(let n=0;n<e.length;n++){const i=Ct(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Ze(900,!1);let s,f=cn.Default;for(let g=0;g<i.length;g++){const w=i[g],C=Lp(w);"number"==typeof C?-1===C?s=w.token:f|=C:s=w}t.push(Ft(s,f))}else t.push(Ft(i))}return t}function Lp(e){return e[va]}function Go(e){return{toString:e}.toString()}var Wo=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wo||{}),xo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(xo||{});const qo={},rn=[],Zo=kn({\u0275cmp:kn}),Wi=kn({\u0275dir:kn}),Ks=kn({\u0275pipe:kn}),gc=kn({\u0275mod:kn}),ao=kn({\u0275fac:kn}),ls=kn({__NG_ELEMENT_ID__:kn}),La=kn({__NG_ENV_ID__:kn});function qi(e,t,n){let i=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const f=t.length;if(s+f===i||e.charCodeAt(s+f)<=32)return s}n=s+1}}function vc(e,t,n){let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const f=n[i++],g=n[i++],w=n[i++];e.setAttribute(t,g,w,f)}else{const f=s,g=n[++i];eh(f)?e.setProperty(t,f,g):e.setAttribute(t,f,g),i++}}return i}function Jd(e){return 3===e||4===e||6===e}function eh(e){return 64===e.charCodeAt(0)}function Qs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?n=s:0===n||Tf(e,n,s,null,-1===n||2===n?t[++i]:null)}}return e}function Tf(e,t,n,i,s){let f=0,g=e.length;if(-1===t)g=-1;else for(;f<e.length;){const w=e[f++];if("number"==typeof w){if(w===t){g=-1;break}if(w>t){g=f-1;break}}}for(;f<e.length;){const w=e[f];if("number"==typeof w)break;if(w===n){if(null===i)return void(null!==s&&(e[f+1]=s));if(i===e[f+1])return void(e[f+2]=s)}f++,null!==i&&f++,null!==s&&f++}-1!==g&&(e.splice(g,0,t),f=g+1),e.splice(f++,0,n),null!==i&&e.splice(f++,0,i),null!==s&&e.splice(f++,0,s)}const th="ng-template";function mc(e,t,n){let i=0,s=!0;for(;i<e.length;){let f=e[i++];if("string"==typeof f&&s){const g=e[i++];if(n&&"class"===f&&-1!==qi(g.toLowerCase(),t,0))return!0}else{if(1===f){for(;i<e.length&&"string"==typeof(f=e[i++]);)if(f.toLowerCase()===t)return!0;return!1}"number"==typeof f&&(s=!1)}}return!1}function oe(e){return 4===e.type&&e.value!==th}function _e(e,t,n){return t===(4!==e.type||n?e.value:th)}function ge(e,t,n){let i=4;const s=e.attrs||[],f=function Un(e){for(let t=0;t<e.length;t++)if(Jd(e[t]))return t;return e.length}(s);let g=!1;for(let w=0;w<t.length;w++){const C=t[w];if("number"!=typeof C){if(!g)if(4&i){if(i=2|1&i,""!==C&&!_e(e,C,n)||""===C&&1===t.length){if(ot(i))return!1;g=!0}}else{const M=8&i?C:t[++w];if(8&i&&null!==e.attrs){if(!mc(e.attrs,M,n)){if(ot(i))return!1;g=!0}continue}const F=Ht(8&i?"class":C,s,oe(e),n);if(-1===F){if(ot(i))return!1;g=!0;continue}if(""!==M){let Y;Y=F>f?"":s[F+1].toLowerCase();const X=8&i?Y:null;if(X&&-1!==qi(X,M,0)||2&i&&M!==Y){if(ot(i))return!1;g=!0}}}}else{if(!g&&!ot(i)&&!ot(C))return!1;if(g&&ot(C))continue;g=!1,i=C|1&i}}return ot(i)||g}function ot(e){return 0==(1&e)}function Ht(e,t,n,i){if(null===t)return-1;let s=0;if(i||!n){let f=!1;for(;s<t.length;){const g=t[s];if(g===e)return s;if(3===g||6===g)f=!0;else{if(1===g||2===g){let w=t[++s];for(;"string"==typeof w;)w=t[++s];continue}if(4===g)break;if(0===g){s+=4;continue}}s+=f?1:2}return-1}return function yc(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function _n(e,t,n=!1){for(let i=0;i<t.length;i++)if(ge(e,t[i],n))return!0;return!1}function Zi(e,t){return e?":not("+t.trim()+")":t}function bc(e){let t=e[0],n=1,i=2,s="",f=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&i){const w=e[++n];s+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&i?s+="."+g:4&i&&(s+=" "+g);else""!==s&&!ot(g)&&(t+=Zi(f,s),s=""),i=g,f=f||!ot(i);n++}return""!==s&&(t+=Zi(f,s)),t}function rl(e){return Go(()=>{const t=function Af(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||qo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||rn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rh(e.inputs,t),outputs:rh(e.outputs)}}(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||xo.Emulated,styles:e.styles||rn,_:null,schemas:e.schemas||null,tView:null,id:""};!function Ec(e){e.features?.forEach(t=>t(e))}(n);const i=e.dependencies;return n.directiveDefs=Ba(i,!1),n.pipeDefs=Ba(i,!0),n.id=function eu(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of n)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Fn(e){return sn(e)||nr(e)}function Vp(e){return null!==e}function ma(e){return Go(()=>({type:e.type,bootstrap:e.bootstrap||rn,declarations:e.declarations||rn,imports:e.imports||rn,exports:e.exports||rn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function rh(e,t){if(null==e)return qo;const n={};for(const i in e)if(e.hasOwnProperty(i)){let s=e[i],f=s;Array.isArray(s)&&(f=s[1],s=s[0]),n[s]=i,t&&(t[s]=f)}return n}function sn(e){return e[Zo]||null}function nr(e){return e[Wi]||null}function yr(e){return e[Ks]||null}function Ba(e,t){if(!e)return null;const n=t?yr:Fn;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Vp)}const fn=0,at=1,zt=2,Xn=3,so=4,Va=5,rr=6,Yo=7,jn=8,ya=9,tu=10,Vt=11,_t=12,Jr=13,wa=14,Dt=15,yn=16,lt=17,Ai=18,ba=19,Cc=20,Yi=21,zr=22,ci=23,Ko=24,Wt=25,Pf=1,ih=2,Qo=7,Da=9,Dr=11;function Xt(e){return Array.isArray(e)&&"object"==typeof e[Pf]}function qt(e){return Array.isArray(e)&&!0===e[Pf]}function Ni(e){return 0!=(4&e.flags)}function Zt(e){return e.componentOffset>-1}function Ur(e){return!!e.template}function Xo(e){return 0!=(512&e[zt])}function Xi(e,t){return e.hasOwnProperty(ao)?e[ao]:null}let ei=null,nu=!1;function ki(e){const t=ei;return ei=e,t}const Ff={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function sl(e){if(!ul(e)||e.dirty){if(!e.producerMustRecompute(e)&&!ea(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function ou(e){e.dirty=!0,function fs(e){if(void 0===e.liveConsumerNode)return;const t=nu;nu=!0;try{for(const n of e.liveConsumerNode)n.dirty||ou(n)}finally{nu=t}}(e),e.consumerMarkedDirty?.(e)}function Ha(e){return e&&(e.nextProducerIndex=0),ki(e)}function xc(e,t){if(ki(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ul(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)vi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ea(e){ds(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(sl(n),i!==n.version))return!0}return!1}function Mc(e){if(ds(e),ul(e))for(let t=0;t<e.producerNode.length;t++)vi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function vi(e,t){if(function Lf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ds(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)vi(e.producerNode[i],e.producerIndexOfThis[i]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];ds(s),s.producerIndexOfThis[i]=t}}function ul(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ds(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ac=null;const ps=()=>{},dh=(()=>({...Ff,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:ps}))();class wn{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Vf(e){return e.type.prototype.ngOnChanges&&(e.setInput=qp),ja}function ja(){const e=gs(this),t=e?.current;if(t){const n=e.previous;if(n===qo)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function qp(e,t,n,i){const s=this.declaredInputs[n],f=gs(e)||function $f(e,t){return e[hh]=t}(e,{previous:qo,current:null}),g=f.current||(f.current={}),w=f.previous,C=w[s];g[s]=new wn(C&&C.currentValue,t,w===qo),e[i]=t}const hh="__ngSimpleChanges__";function gs(e){return e[hh]||null}const Zn=function(e,t,n){};function An(e){for(;Array.isArray(e);)e=e[fn];return e}function mi(e,t){return An(t[e.index])}function Fr(e,t){const n=t[e];return Xt(n)?n:n[fn]}function Sa(e,t){return null==t?null:e[t]}function gl(e){e[lt]=0}function zf(e){1024&e[zt]||(e[zt]|=1024,jr(e,1))}function vl(e){1024&e[zt]&&(e[zt]&=-1025,jr(e,-1))}function jr(e,t){let n=e[Xn];if(null===n)return;n[Va]+=t;let i=n;for(n=n[Xn];null!==n&&(1===t&&1===i[Va]||-1===t&&0===i[Va]);)n[Va]+=t,i=n,n=n[Xn]}const Tt={lFrame:Lc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gr(){return Tt.bindingsEnabled}function Ie(){return Tt.lFrame.lView}function un(){return Tt.lFrame.tView}function Wr(){let e=Oc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Oc(){return Tt.lFrame.currentTNode}function yi(e,t){const n=Tt.lFrame;n.currentTNode=e,n.isParent=t}function Cr(){return Tt.lFrame.isParent}function Yp(e,t){const n=Tt.lFrame;n.bindingIndex=n.bindingRootIndex=e,ta(t)}function ta(e){Tt.lFrame.currentDirectiveIndex=e}function wi(){return Tt.lFrame.currentQueryIndex}function fu(e){Tt.lFrame.currentQueryIndex=e}function Kp(e){const t=e[at];return 2===t.type?t.declTNode:1===t.type?e[rr]:null}function wl(e,t,n){if(n&cn.SkipSelf){let s=t,f=e;for(;!(s=s.parent,null!==s||n&cn.Host||(s=Kp(f),null===s||(f=f[wa],10&s.type))););if(null===s)return!1;t=s,e=f}const i=Tt.lFrame=Fc();return i.currentTNode=t,i.lView=e,!0}function eo(e){const t=Fc(),n=e[at];Tt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Fc(){const e=Tt.lFrame,t=null===e?null:e.child;return null===t?Lc(e):t}function Lc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Dh(){const e=Tt.lFrame;return Tt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bc=Dh;function qa(){const e=Dh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function To(e){Tt.lFrame.selectedIndex=e}let Zf=!0;function zc(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const f=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:N}=f;g&&(e.contentHooks??=[]).push(-n,g),w&&((e.contentHooks??=[]).push(n,w),(e.contentCheckHooks??=[]).push(n,w)),C&&(e.viewHooks??=[]).push(-n,C),M&&((e.viewHooks??=[]).push(n,M),(e.viewCheckHooks??=[]).push(n,M)),null!=N&&(e.destroyHooks??=[]).push(n,N)}}function bl(e,t,n){Yf(e,t,3,n)}function bi(e,t,n,i){(3&e[zt])===n&&Yf(e,t,n,i)}function Uc(e,t){let n=e[zt];(3&n)===t&&(n&=8191,n+=1,e[zt]=n)}function Yf(e,t,n,i){const f=i??-1,g=t.length-1;let w=0;for(let C=void 0!==i?65535&e[lt]:0;C<g;C++)if("number"==typeof t[C+1]){if(w=t[C],null!=i&&w>=i)break}else t[C]<0&&(e[lt]+=65536),(w<f||-1==f)&&(_h(e,n,t,C),e[lt]=(4294901760&e[lt])+C+2),C++}function Ch(e,t){Zn(4,e,t);const n=ki(null);try{t.call(e)}finally{ki(n),Zn(5,e,t)}}function _h(e,t,n,i){const s=n[i]<0,f=n[i+1],w=e[s?-n[i]:n[i]];s?e[zt]>>13<e[lt]>>16&&(3&e[zt])===t&&(e[zt]+=8192,Ch(w,f)):Ch(w,f)}const hu=-1;class Dl{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function mu(e){return e!==hu}function Ao(e){return 32767&e}function Za(e,t){let n=function Mh(e){return e>>16}(e),i=t;for(;n>0;)i=i[wa],n--;return i}let El=!0;function wr(e){const t=El;return El=e,t}const Cl=255,Zr=5;let Ih=0;const Di={};function jc(e,t){const n=No(e,t);if(-1!==n)return n;const i=t[at];i.firstCreatePass&&(e.injectorIndex=t.length,ho(i.data,e),ho(t,null),ho(i.blueprint,null));const s=Lr(e,t),f=e.injectorIndex;if(mu(s)){const g=Ao(s),w=Za(s,t),C=w[at].data;for(let M=0;M<8;M++)t[f+M]=w[g+M]|C[g+M]}return t[f+8]=s,f}function ho(e,t){e.push(0,0,0,0,0,0,0,0,t)}function No(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Lr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,s=t;for(;null!==s;){if(i=Eu(s),null===i)return hu;if(n++,s=s[wa],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return hu}function _l(e,t,n){!function Qf(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(ls)&&(i=n[ls]),null==i&&(i=n[ls]=Ih++);const s=i&Cl;t.data[e+(s>>Zr)]|=1<<s}(e,t,n)}function Sl(e,t,n){if(n&cn.Optional||void 0!==e)return e;pa()}function Xf(e,t,n,i){if(n&cn.Optional&&void 0===i&&(i=null),!(n&(cn.Self|cn.Host))){const s=e[ya],f=Hn(void 0);try{return s?s.get(t,i,n&cn.Optional):ga(t,i,n&cn.Optional)}finally{Hn(f)}}return Sl(i,0,n)}function xl(e,t,n,i=cn.Default,s){if(null!==e){if(2048&t[zt]&&!(i&cn.Self)){const g=function Gc(e,t,n,i,s){let f=e,g=t;for(;null!==f&&null!==g&&2048&g[zt]&&!(512&g[zt]);){const w=Ma(f,g,n,i|cn.Self,Di);if(w!==Di)return w;let C=f.parent;if(!C){const M=g[Cc];if(M){const N=M.get(n,Di,i);if(N!==Di)return N}C=Eu(g),g=g[wa]}f=C}return s}(e,t,n,i,Di);if(g!==Di)return g}const f=Ma(e,t,n,i,Di);if(f!==Di)return f}return Xf(t,n,i,s)}function Ma(e,t,n,i,s){const f=function Ia(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ls)?e[ls]:void 0;return"number"==typeof t?t>=0?t&Cl:Ml:t}(n);if("function"==typeof f){if(!wl(t,e,i))return i&cn.Host?Sl(s,0,i):Xf(t,n,i,s);try{let g;if(g=f(i),null!=g||i&cn.Optional)return g;pa()}finally{Bc()}}else if("number"==typeof f){let g=null,w=No(e,t),C=hu,M=i&cn.Host?t[Dt][rr]:null;for((-1===w||i&cn.SkipSelf)&&(C=-1===w?Lr(e,t):t[w+8],C!==hu&&ed(i,!1)?(g=t[at],w=Ao(C),t=Za(C,t)):w=-1);-1!==w;){const N=t[at];if(bu(f,w,N.data)){const F=Jf(w,t,n,g,i,M);if(F!==Di)return F}C=t[w+8],C!==hu&&ed(i,t[at].data[w+8]===M)&&bu(f,w,t)?(g=N,w=Ao(C),t=Za(C,t)):w=-1}}return s}function Jf(e,t,n,i,s,f){const g=t[at],w=g.data[e+8],N=wu(w,g,n,null==i?Zt(w)&&El:i!=g&&0!=(3&w.type),s&cn.Host&&f===w);return null!==N?po(t,g,N,w):Di}function wu(e,t,n,i,s){const f=e.providerIndexes,g=t.data,w=1048575&f,C=e.directiveStart,N=f>>20,Y=s?w+N:e.directiveEnd;for(let X=i?w:w+N;X<Y;X++){const ue=g[X];if(X<C&&n===ue||X>=C&&ue.type===n)return X}if(s){const X=g[C];if(X&&Ur(X)&&X.type===n)return C}return null}function po(e,t,n,i){let s=e[n];const f=t.data;if(function na(e){return e instanceof Dl}(s)){const g=s;g.resolving&&function ic(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${e}${n}`)}(On(f[n]));const w=wr(g.canSeeViewProviders);g.resolving=!0;const M=g.injectImpl?Hn(g.injectImpl):null;wl(e,i,cn.Default);try{s=e[n]=g.factory(void 0,f,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Hc(e,t,n){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:f}=t.type.prototype;if(i){const g=Vf(t);(n.preOrderHooks??=[]).push(e,g),(n.preOrderCheckHooks??=[]).push(e,g)}s&&(n.preOrderHooks??=[]).push(0-e,s),f&&((n.preOrderHooks??=[]).push(e,f),(n.preOrderCheckHooks??=[]).push(e,f))}(n,f[n],t)}finally{null!==M&&Hn(M),wr(w),g.resolving=!1,Bc()}}return s}function bu(e,t,n){return!!(n[t+(e>>Zr)]&1<<e)}function ed(e,t){return!(e&cn.Self||e&cn.Host&&t)}class Sr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return xl(this._tNode,this._lView,t,nl(i),n)}}function Ml(){return new Sr(Wr(),Ie())}function Eu(e){const t=e[at],n=t.type;return 2===n?t.declTNode:1===n?e[rr]:null}function xu(e,t){e.forEach(n=>Array.isArray(n)?xu(n,t):t(n))}function rd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Wc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function o(e){return 128==(128&e.flags)}var c=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(c||{});const m=new Map;let b=0;const O="__ngContext__";function B(e,t){Xt(t)?(e[O]=t[ba],function _(e){m.set(e[ba],e)}(t)):e[O]=t}let te;function ne(e,t){return te(e,t)}function he(e){const t=e[Xn];return qt(t)?t[Xn]:t}function ye(e){return Oe(e[_t])}function Te(e){return Oe(e[so])}function Oe(e){for(;null!==e&&!qt(e);)e=e[so];return e}function xe(e,t,n,i,s){if(null!=i){let f,g=!1;qt(i)?f=i:Xt(i)&&(g=!0,i=i[fn]);const w=An(i);0===e&&null!==n?null==s?j(t,n,w):Fe(t,n,w,s||null,!0):1===e&&null!==n?Fe(t,n,w,s||null,!0):2===e?function Mr(e,t,n){const i=be(e,t);i&&function Ve(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,w,g):3===e&&t.destroyNode(w),null!=f&&function wo(e,t,n,i,s){const f=n[Qo];f!==An(n)&&xe(t,e,i,f,s);for(let w=Dr;w<n.length;w++){const C=n[w];ur(C[at],C,e,t,i,f)}}(t,e,f,n,s)}}function Re(e,t,n){return e.createElement(t,n)}function $e(e,t){const n=e[Da],i=n.indexOf(t);vl(t),n.splice(i,1)}function ft(e,t){if(e.length<=Dr)return;const n=Dr+t,i=e[n];if(i){const s=i[yn];null!==s&&s!==e&&$e(s,i),t>0&&(e[n-1][so]=i[so]);const f=Wc(e,Dr+t);!function je(e,t){ur(e,t,t[Vt],2,null,null),t[fn]=null,t[rr]=null}(i[at],i);const g=f[Ai];null!==g&&g.detachView(f[at]),i[Xn]=null,i[so]=null,i[zt]&=-129}return i}function Ge(e,t){if(!(256&t[zt])){const n=t[Vt];t[ci]&&Mc(t[ci]),t[Ko]&&Mc(t[Ko]),n.destroyNode&&ur(e,t,n,3,null,null),function Ut(e){let t=e[_t];if(!t)return Xe(e[at],e);for(;t;){let n=null;if(Xt(t))n=t[_t];else{const i=t[Dr];i&&(n=i)}if(!n){for(;t&&!t[so]&&t!==e;)Xt(t)&&Xe(t[at],t),t=t[Xn];null===t&&(t=e),Xt(t)&&Xe(t[at],t),n=t&&t[so]}t=n}}(t)}}function Xe(e,t){if(!(256&t[zt])){t[zt]&=-129,t[zt]|=256,function Pt(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const s=t[n[i]];if(!(s instanceof Dl)){const f=n[i+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const w=s[f[g]],C=f[g+1];Zn(4,w,C);try{C.call(w)}finally{Zn(5,w,C)}}else{Zn(4,s,f);try{f.call(s)}finally{Zn(5,s,f)}}}}}(e,t),function nn(e,t){const n=e.cleanup,i=t[Yo];if(null!==n)for(let f=0;f<n.length-1;f+=2)if("string"==typeof n[f]){const g=n[f+3];g>=0?i[g]():i[-g].unsubscribe(),f+=2}else n[f].call(i[n[f+1]]);null!==i&&(t[Yo]=null);const s=t[Yi];if(null!==s){t[Yi]=null;for(let f=0;f<s.length;f++)(0,s[f])()}}(e,t),1===t[at].type&&t[Vt].destroy();const n=t[yn];if(null!==n&&qt(t[Xn])){n!==t[Xn]&&$e(n,t);const i=t[Ai];null!==i&&i.detachView(e)}!function S(e){m.delete(e[ba])}(t)}}function Et(e,t,n){return function Nn(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[fn];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:f}=e.data[i.directiveStart+s];if(f===xo.None||f===xo.Emulated)return null}return mi(i,n)}}(e,t.parent,n)}function Fe(e,t,n,i,s){e.insertBefore(t,n,i,s)}function j(e,t,n){e.appendChild(t,n)}function ve(e,t,n,i,s){null!==i?Fe(e,t,n,i,s):j(e,t,n)}function be(e,t){return e.parentNode(t)}let Sn,_i,wt=function it(e,t,n){return 40&e.type?mi(e,n):null};function pn(e,t,n,i){const s=Et(e,i,t),f=t[Vt],w=function Le(e,t,n){return wt(e,t,n)}(i.parent||t[rr],i,t);if(null!=s)if(Array.isArray(n))for(let C=0;C<n.length;C++)ve(f,s,n[C],w,!1);else ve(f,s,n,w,!1);void 0!==Sn&&Sn(f,i,t,n,s)}function kt(e,t){if(null!==t){const n=t.type;if(3&n)return mi(t,e);if(4&n)return or(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return kt(e,i);{const s=e[t.index];return qt(s)?or(-1,s):An(s)}}if(32&n)return ne(t,e)()||An(e[t.index]);{const i=Kt(e,t);return null!==i?Array.isArray(i)?i[0]:kt(he(e[Dt]),i):kt(e,t.next)}}return null}function Kt(e,t){return null!==t?e[Dt][rr].projection[t.projection]:null}function or(e,t){const n=Dr+e+1;if(n<t.length){const i=t[n],s=i[at].firstChild;if(null!==s)return kt(i,s)}return t[Qo]}function ri(e,t,n,i,s,f,g){for(;null!=n;){const w=i[n.index],C=n.type;if(g&&0===t&&(w&&B(An(w),i),n.flags|=2),32!=(32&n.flags))if(8&C)ri(e,t,n.child,i,s,f,!1),xe(t,e,s,w,f);else if(32&C){const M=ne(n,i);let N;for(;N=M();)xe(t,e,s,N,f);xe(t,e,s,w,f)}else 16&C?ii(e,t,i,n,s,f):xe(t,e,s,w,f);n=g?n.projectionNext:n.next}}function ur(e,t,n,i,s,f){ri(n,i,e.firstChild,t,s,f,!1)}function ii(e,t,n,i,s,f){const g=n[Dt],C=g[rr].projection[i.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)xe(t,e,s,C[M],f);else{let M=C;const N=g[Xn];o(i)&&(M.flags|=128),ri(e,t,M,N,s,f,!0)}}function Qa(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Cs(e,t,n){const{mergedAttrs:i,classes:s,styles:f}=n;null!==i&&vc(e,t,i),null!==s&&Qa(e,t,s),null!==f&&function ko(e,t,n){e.setAttribute(t,"style",n)}(e,t,f)}class At{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Rn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wh=new At("ENVIRONMENT_INITIALIZER"),$v=new At("INJECTOR",-1),Hv=new At("INJECTOR_DEF_TYPES");class Dg{get(t,n=Zs){if(n===Zs){const i=new Error(`NullInjectorError: No provider for ${Pr(t)}!`);throw i.name="NullInjectorError",i}return n}}function vy(...e){return{\u0275providers:Uv(0,e),\u0275fromNgModule:!0}}function Uv(e,...t){const n=[],i=new Set;let s;const f=g=>{n.push(g)};return xu(t,g=>{const w=g;qh(w,f,[],i)&&(s||=[],s.push(w))}),void 0!==s&&jv(s,f),n}function jv(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:s}=e[n];Eg(s,f=>{t(f,i)})}}function qh(e,t,n,i){if(!(e=Ct(e)))return!1;let s=null,f=Hr(e);const g=!f&&sn(e);if(f||g){if(g&&!g.standalone)return!1;s=e}else{const C=e.ngModule;if(f=Hr(C),!f)return!1;s=C}const w=i.has(s);if(g){if(w)return!1;if(i.add(s),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const M of C)qh(M,t,n,i)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let M;i.add(s);try{xu(f.imports,N=>{qh(N,t,n,i)&&(M||=[],M.push(N))})}finally{}void 0!==M&&jv(M,t)}if(!w){const M=Xi(s)||(()=>new s);t({provide:s,useFactory:M,deps:rn},s),t({provide:Hv,useValue:s,multi:!0},s),t({provide:Wh,useValue:()=>Ft(s),multi:!0},s)}const C=f.providers;if(null!=C&&!w){const M=e;Eg(C,N=>{t(N,M)})}}}return s!==e&&void 0!==e.providers}function Eg(e,t){for(let n of e)Zu(n)&&(n=n.\u0275providers),Array.isArray(n)?Eg(n,t):t(n)}const my=kn({provide:String,useValue:kn});function Cg(e){return null!==e&&"object"==typeof e&&my in e}function Fu(e){return"function"==typeof e}const _g=new At("Set Injector scope."),Yh={},yy={};let bd;function Kh(){return void 0===bd&&(bd=new Dg),bd}class Ms{}class Qh extends Ms{get destroyed(){return this._destroyed}constructor(t,n,i,s){super(),this.parent=n,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dd(t,g=>this.processProvider(g)),this.records.set($v,ef(void 0,this)),s.has("environment")&&this.records.set(Ms,ef(void 0,this));const f=this.records.get(_g);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Hv.multi,rn,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Fa(this),i=Hn(void 0);try{return t()}finally{Fa(n),Hn(i)}}get(t,n=Zs,i=cn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(La))return t[La](this);i=nl(i);const f=Fa(this),g=Hn(void 0);try{if(!(i&cn.SkipSelf)){let C=this.records.get(t);if(void 0===C){const M=function Dy(e){return"function"==typeof e||"object"==typeof e&&e instanceof At}(t)&&ka(t);C=M&&this.injectableDefInScope(M)?ef(Bi(t),Yh):null,this.records.set(t,C)}if(null!=C)return this.hydrate(t,C)}return(i&cn.Self?Kh():this.parent).get(t,n=i&cn.Optional&&n===Zs?null:n)}catch(w){if("NullInjectorError"===w.name){if((w[el]=w[el]||[]).unshift(Pr(t)),f)throw w;return function Bp(e,t,n,i){const s=e[el];throw t[Kd]&&s.unshift(t[Kd]),e.message=function Xd(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=Pr(t);if(Array.isArray(t))s=t.map(Pr).join(" -> ");else if("object"==typeof t){let f=[];for(let g in t)if(t.hasOwnProperty(g)){let w=t[g];f.push(g+":"+("string"==typeof w?JSON.stringify(w):Pr(w)))}s=`{${f.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${e.replace(If,"\n  ")}`}("\n"+e.message,s,n,i),e.ngTokenPath=s,e[el]=null,e}(w,t,"R3InjectorError",this.source)}throw w}finally{Hn(g),Fa(f)}}resolveInjectorInitializers(){const t=Fa(this),n=Hn(void 0);try{const s=this.get(Wh.multi,rn,cn.Self);for(const f of s)f()}finally{Fa(t),Hn(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Pr(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(t){let n=Fu(t=Ct(t))?t:Ct(t&&t.provide);const i=function wy(e){return Cg(e)?ef(void 0,e.useValue):ef(function qv(e,t,n){let i;if(Fu(e)){const s=Ct(e);return Xi(s)||Bi(s)}if(Cg(e))i=()=>Ct(e.useValue);else if(function Zh(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...pc(e.deps||[]));else if(function Gv(e){return!(!e||!e.useExisting)}(e))i=()=>Ft(Ct(e.useExisting));else{const s=Ct(e&&(e.useClass||e.provide));if(!function by(e){return!!e.deps}(e))return Xi(s)||Bi(s);i=()=>new s(...pc(e.deps))}return i}(e),Yh)}(t);if(Fu(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=ef(void 0,Yh,!0),s.factory=()=>pc(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===Yh&&(n.value=yy,n.value=n.factory()),"object"==typeof n.value&&n.value&&function xg(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ct(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Bi(e){const t=ka(e),n=null!==t?t.factory:Xi(e);if(null!==n)return n;if(e instanceof At)throw new Ze(204,!1);if(e instanceof Function)return function Sg(e){const t=e.length;if(t>0)throw function Tl(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new Ze(204,!1);const n=function io(e){return e&&(e[Gi]||e[lc])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ze(204,!1)}function ef(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Dd(e,t){for(const n of e)Array.isArray(n)?Dd(n,t):n&&Zu(n)?Dd(n.\u0275providers,t):t(n)}const Xh=new At("AppId",{providedIn:"root",factory:()=>Ey}),Ey="ng",Zv=new At("Platform Initializer"),tf=new At("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yv=new At("CSP nonce",{providedIn:"root",factory:()=>function Ou(){if(void 0!==_i)return _i;if(typeof document<"u")return document;throw new Ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xv=(e,t,n)=>null;function Og(e,t,n=!1){return Xv(e,t,n)}class ze{}class st{}class Nt{resolveComponentFactory(t){throw function vt(e){const t=Error(`No component factory found for ${Pr(e)}.`);return t.ngComponent=e,t}(t)}}let on=(()=>{class e{static#e=this.NULL=new Nt}return e})();function Dn(){return hi(Wr(),Ie())}function hi(e,t){return new lr(mi(e,t))}let lr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Dn}return e})();function Ro(e){return e instanceof lr?e.nativeElement:e}class Tr{}let Jv=(()=>{class e{static#e=this.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>null})}return e})();class em{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Z_=new em("16.2.10"),Ty={};function Xw(e,t=null,n=null,i){const s=Jw(e,t,n,i);return s.resolveInjectorInitializers(),s}function Jw(e,t=null,n=null,i,s=new Set){const f=[n||rn,vy(e)];return i=i||("object"==typeof e?void 0:Pr(e)),new Qh(f,t||Kh(),i||null,s)}let Ts=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Zs;static#t=this.NULL=new Dg;static create(n,i){if(Array.isArray(n))return Xw({name:""},i,n,"");{const s=n.name??"";return Xw({name:s},n.parent,n.providers,s)}}static#n=this.\u0275prov=Rn({token:e,providedIn:"any",factory:()=>Ft($v)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Ny(e){return e.ngOriginalError}class kl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ny(t);for(;n&&Ny(n);)n=Ny(n);return n||null}}function ky(e){return t=>{setTimeout(e,void 0,t)}}const bo=class tS extends si{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let s=t,f=n||(()=>null),g=i;if(t&&"object"==typeof t){const C=t;s=C.next?.bind(C),f=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(f=ky(f),s&&(s=ky(s)),g&&(g=ky(g)));const w=super.subscribe({next:s,error:f,complete:g});return t instanceof Be&&t.add(w),w}};function tb(...e){}class Qr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bo(!1),this.onMicrotaskEmpty=new bo(!1),this.onStable=new bo(!1),this.onError=new bo(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function nS(){const e="function"==typeof mn.requestAnimationFrame;let t=mn[e?"requestAnimationFrame":"setTimeout"],n=mn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function oS(e){const t=()=>{!function iS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(mn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ry(e),e.isCheckStableRunning=!0,Oy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ry(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,s,f,g,w)=>{if(function sS(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(w))return n.invokeTask(s,f,g,w);try{return nb(e),n.invokeTask(s,f,g,w)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),rb(e)}},onInvoke:(n,i,s,f,g,w,C)=>{try{return nb(e),n.invoke(s,f,g,w,C)}finally{e.shouldCoalesceRunChangeDetection&&t(),rb(e)}},onHasTask:(n,i,s,f)=>{n.hasTask(s,f),i===s&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Ry(e),Oy(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(n,i,s,f)=>(n.handleError(s,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qr.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Qr.isInAngularZone())throw new Ze(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,s){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+s,t,rS,tb,tb);try{return f.runTask(g,n,i)}finally{f.cancelTask(g)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const rS={};function Oy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ry(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function nb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rb(e){e._nesting--,Oy(e)}class aS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bo,this.onMicrotaskEmpty=new bo,this.onStable=new bo,this.onError=new bo}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,s){return t.apply(n,i)}}const ib=new At("",{providedIn:"root",factory:ob});function ob(){const e=Tn(Qr);let t=!0;return function Us(...e){const t=da(e),n=function Df(e,t){return"number"==typeof nc(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?_o(i[0]):function Np(e=1/0){return Cn(Ye,e)}(n)(Wu(i,t)):So}(new mt(s=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(t),s.complete()})}),new mt(s=>{let f;e.runOutsideAngular(()=>{f=e.onStable.subscribe(()=>{Qr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,s.next(!0))})})});const g=e.onUnstable.subscribe(()=>{Qr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}}).pipe(Cf()))}let Fy=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>new e})}return e})();function Rg(e){for(;e;){e[zt]|=64;const t=he(e);if(Xo(e)&&!t)return e;e=t}return null}const cb=new At("",{providedIn:"root",factory:()=>!1});let nm=null;function pb(e,t){return e[t]??mb()}function gb(e,t){const n=mb();n.producerNode?.length&&(e[t]=nm,n.lView=e,nm=vb())}const mS={...Ff,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Rg(e.lView)},lView:null};function vb(){return Object.create(mS)}function mb(){return nm??=vb(),nm}const Jt={};function Qe(e,t=cn.Default){const n=Ie();return null===n?Ft(e,t):xl(Wr(),n,Ct(e),t)}function rm(e,t,n,i,s,f,g,w,C,M,N){const F=t.blueprint.slice();return F[fn]=s,F[zt]=140|i,(null!==M||e&&2048&e[zt])&&(F[zt]|=2048),gl(F),F[Xn]=F[wa]=e,F[jn]=n,F[tu]=g||e&&e[tu],F[Vt]=w||e&&e[Vt],F[ya]=C||e&&e[ya]||null,F[rr]=f,F[ba]=function E(){return b++}(),F[zr]=N,F[Cc]=M,F[Dt]=2==t.type?e[Dt]:F,F}function ip(e,t,n,i,s){let f=e.data[t];if(null===f)f=function Ly(e,t,n,i,s){const f=Oc(),g=Cr(),C=e.data[t]=function MS(e,t,n,i,s,f){let g=t?t.injectorIndex:-1,w=0;return function cu(){return null!==Tt.skipHydrationRootTNode}()&&(w|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:s,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,n,t,i,s);return null===e.firstChild&&(e.firstChild=C),null!==f&&(g?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C,C.prev=f)),C}(e,t,n,i,s),function ni(){return Tt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=n,f.value=i,f.attrs=s;const g=function Wa(){const e=Tt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return yi(f,!0),f}function Fg(e,t,n,i){if(0===n)return-1;const s=t.length;for(let f=0;f<n;f++)t.push(i),e.blueprint.push(i),e.data.push(null);return s}function wb(e,t,n,i,s){const f=pb(t,ci),g=function fi(){return Tt.lFrame.selectedIndex}(),w=2&i;try{To(-1),w&&t.length>Wt&&function yb(e,t,n,i){if(!i)if(3==(3&t[zt])){const f=e.preOrderCheckHooks;null!==f&&bl(t,f,n)}else{const f=e.preOrderHooks;null!==f&&bi(t,f,0,n)}To(n)}(e,t,Wt,!1),Zn(w?2:0,s);const M=w?f:null,N=Ha(M);try{null!==M&&(M.dirty=!1),n(i,s)}finally{xc(M,N)}}finally{w&&null===t[ci]&&gb(t,ci),To(g),Zn(w?3:1,s)}}function By(e,t,n){if(Ni(t)){const i=ki(null);try{const f=t.directiveEnd;for(let g=t.directiveStart;g<f;g++){const w=e.data[g];w.contentQueries&&w.contentQueries(1,n[g],g)}}finally{ki(i)}}}function bb(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Hy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Hy(e,t,n,i,s,f,g,w,C,M,N){const F=Wt+i,Y=F+s,X=function DS(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Jt);return n}(F,Y),ue="function"==typeof M?M():M;return X[at]={type:e,blueprint:X,template:n,queries:null,viewQuery:w,declTNode:t,data:X.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:ue,incompleteFirstPass:!1,ssrId:N}}let Db=e=>null;function Eb(e,t,n,i){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const f=e[s];null===i?Cb(n,t,s,f):i.hasOwnProperty(s)&&Cb(n,t,i[s],f)}return n}function Cb(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function _b(e,t,n,i,s,f){for(let M=0;M<i.length;M++)_l(jc(n,t),e,i[M].type);!function VS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let M=0;M<i.length;M++){const N=i[M];N.providersResolver&&N.providersResolver(N)}let g=!1,w=!1,C=Fg(e,t,i.length,null);for(let M=0;M<i.length;M++){const N=i[M];n.mergedAttrs=Qs(n.mergedAttrs,N.hostAttrs),$S(e,n,t,C,N),BS(C,N,s),null!==N.contentQueries&&(n.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(n.flags|=64);const F=N.type.prototype;!g&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),g=!0),!w&&(F.ngOnChanges||F.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),w=!0),C++}!function IS(e,t,n){const s=t.directiveEnd,f=e.data,g=t.attrs,w=[];let C=null,M=null;for(let N=t.directiveStart;N<s;N++){const F=f[N],Y=n?n.get(F):null,ue=Y?Y.outputs:null;C=Eb(F.inputs,N,C,Y?Y.inputs:null),M=Eb(F.outputs,N,M,ue);const me=null===C||null===g||oe(t)?null:US(C,N,g);w.push(me)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=8),C.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=w,t.inputs=C,t.outputs=M}(e,n,f)}function Sb(e,t,n){const i=n.directiveStart,s=n.directiveEnd,f=n.index,g=function bh(){return Tt.lFrame.currentDirectiveIndex}();try{To(f);for(let w=i;w<s;w++){const C=e.data[w],M=t[w];ta(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&RS(C,M)}}finally{To(-1),ta(g)}}function RS(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Uy(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function BS(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Ur(t)&&(n[""]=e)}}function $S(e,t,n,i,s){e.data[i]=s;const f=s.factory||(s.factory=Xi(s.type)),g=new Dl(f,Ur(s),Qe);e.blueprint[i]=g,n[i]=g,function PS(e,t,n,i,s){const f=s.hostBindings;if(f){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const w=~t.index;(function kS(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(g)!=w&&g.push(w),g.push(n,i,f)}}(e,t,i,Fg(e,n,s.hostVars,Jt),s)}function zS(e,t,n,i,s,f){const g=f[t];if(null!==g)for(let w=0;w<g.length;)xb(i,n,g[w++],g[w++],g[w++])}function xb(e,t,n,i,s){const f=ki(null);try{const g=e.inputTransforms;null!==g&&g.hasOwnProperty(i)&&(s=g[i].call(t,s)),null!==e.setInput?e.setInput(t,s,n,i):t[i]=s}finally{ki(f)}}function US(e,t,n){let i=null,s=0;for(;s<n.length;){const f=n[s];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===i&&(i=[]);const g=e[f];for(let w=0;w<g.length;w+=2)if(g[w]===t){i.push(f,g[w+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function Ib(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const f=n[i+1];if(-1!==f){const g=e.data[f];fu(n[i]),g.contentQueries(2,t[f],f)}}}function im(e,t){return e[_t]?e[Jr][so]=t:e[_t]=t,e[Jr]=t,t}function Gy(e,t,n){fu(0);const i=ki(null);try{t(e,n)}finally{ki(i)}}function Wy(e,t,n,i,s){for(let f=0;f<n.length;){const g=n[f++],w=n[f++];xb(e.data[g],t[g],i,w,s)}}function jS(e,t){const n=Fr(t,e),i=n[at];!function GS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const s=n[fn];null!==s&&null===n[zr]&&(n[zr]=Og(s,n[ya])),qy(i,n,n[jn])}function qy(e,t,n){eo(t);try{const i=e.viewQuery;null!==i&&Gy(1,i,n);const s=e.template;null!==s&&wb(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ib(e,t),e.staticViewQueries&&Gy(2,e.viewQuery,n);const f=e.components;null!==f&&function WS(e,t){for(let n=0;n<t.length;n++)jS(e,t[n])}(t,f)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[zt]&=-5,qa()}}let kb=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,s){const f=typeof Zone>"u"?null:Zone.current,g=function Wp(e,t,n){const i=Object.create(dh);n&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=t;const s=g=>{i.cleanupFn=g};return i.ref={notify:()=>ou(i),run:()=>{if(i.dirty=!1,i.hasRun&&!ea(i))return;i.hasRun=!0;const g=Ha(i);try{i.cleanupFn(),i.cleanupFn=ps,i.fn(s)}finally{xc(i,g)}},cleanup:()=>i.cleanupFn()},i.ref}(n,M=>{this.all.has(M)&&this.queue.set(M,f)},s);let w;this.all.add(g),g.notify();const C=()=>{g.cleanup(),w?.(),this.all.delete(g),this.queue.delete(g)};return w=i?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>new e})}return e})();function om(e,t,n){let i=n?e.styles:null,s=n?e.classes:null,f=0;if(null!==t)for(let g=0;g<t.length;g++){const w=t[g];"number"==typeof w?f=w:1==f?s=rc(s,w):2==f&&(i=rc(i,w+": "+t[++g]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=s:e.classesWithoutHost=s}function Lg(e,t,n,i,s=!1){for(;null!==n;){const f=t[n.index];null!==f&&i.push(An(f)),qt(f)&&Ob(f,i);const g=n.type;if(8&g)Lg(e,t,n.child,i);else if(32&g){const w=ne(n,t);let C;for(;C=w();)i.push(C)}else if(16&g){const w=Kt(t,n);if(Array.isArray(w))i.push(...w);else{const C=he(t[Dt]);Lg(C[at],C,w,i,!0)}}n=s?n.projectionNext:n.next}return i}function Ob(e,t){for(let n=Dr;n<e.length;n++){const i=e[n],s=i[at].firstChild;null!==s&&Lg(i[at],i,s,t)}e[Qo]!==e[fn]&&t.push(e[Qo])}function am(e,t,n,i=!0){const s=t[tu],f=s.rendererFactory,g=s.afterRenderEventManager;f.begin?.(),g?.begin();try{Rb(e,t,e.template,n)}catch(C){throw i&&function Pb(e,t){const n=e[ya],i=n?n.get(kl,null):null;i&&i.handleError(t)}(t,C),C}finally{f.end?.(),s.effectManager?.flush(),g?.end()}}function Rb(e,t,n,i){const s=t[zt];if(256!=(256&s)){t[tu].effectManager?.flush(),eo(t);try{gl(t),function Rc(e){return Tt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&wb(e,t,n,2,i);const g=3==(3&s);if(g){const M=e.preOrderCheckHooks;null!==M&&bl(t,M,null)}else{const M=e.preOrderHooks;null!==M&&bi(t,M,0,null),Uc(t,0)}if(function YS(e){for(let t=ye(e);null!==t;t=Te(t)){if(!t[ih])continue;const n=t[Da];for(let i=0;i<n.length;i++){zf(n[i])}}}(t),Fb(t,2),null!==e.contentQueries&&Ib(e,t),g){const M=e.contentCheckHooks;null!==M&&bl(t,M)}else{const M=e.contentHooks;null!==M&&bi(t,M,1),Uc(t,1)}!function bS(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const i=pb(t,Ko);try{for(let s=0;s<n.length;s++){const f=n[s];if(f<0)To(~f);else{const g=f,w=n[++s],C=n[++s];Yp(w,g),i.dirty=!1;const M=Ha(i);try{C(2,t[g])}finally{xc(i,M)}}}}finally{null===t[Ko]&&gb(t,Ko),To(-1)}}(e,t);const w=e.components;null!==w&&Bb(t,w,0);const C=e.viewQuery;if(null!==C&&Gy(2,C,i),g){const M=e.viewCheckHooks;null!==M&&bl(t,M)}else{const M=e.viewHooks;null!==M&&bi(t,M,2),Uc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[zt]&=-73,vl(t)}finally{qa()}}}function Fb(e,t){for(let n=ye(e);null!==n;n=Te(n))for(let i=Dr;i<n.length;i++)Lb(n[i],t)}function KS(e,t,n){Lb(Fr(t,e),n)}function Lb(e,t){if(!function gh(e){return 128==(128&e[zt])}(e))return;const n=e[at],i=e[zt];if(80&i&&0===t||1024&i||2===t)Rb(n,e,n.template,e[jn]);else if(e[Va]>0){Fb(e,1);const s=n.components;null!==s&&Bb(e,s,1)}}function Bb(e,t,n){for(let i=0;i<t.length;i++)KS(e,t[i],n)}class Bg{get rootNodes(){const t=this._lView,n=t[at];return Lg(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(t){this._lView[jn]=t}get destroyed(){return 256==(256&this._lView[zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xn];if(qt(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(ft(t,i),Wc(n,i))}this._attachedToViewContainer=!1}Ge(this._lView[at],this._lView)}onDestroy(t){!function Ln(e,t){if(256==(256&e[zt]))throw new Ze(911,!1);null===e[Yi]&&(e[Yi]=[]),e[Yi].push(t)}(this._lView,t)}markForCheck(){Rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[zt]&=-129}reattach(){this._lView[zt]|=128}detectChanges(){am(this._lView[at],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gt(e,t){ur(e,t,t[Vt],2,null,null)}(this._lView[at],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=t}}class QS extends Bg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;am(t[at],t,t[jn],!1)}checkNoChanges(){}get context(){return null}}class Vb extends on{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=sn(t);return new Vg(n,this.ngModule)}}function $b(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class JS{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=nl(i);const s=this.injector.get(t,Ty,i);return s!==Ty||n===Ty?s:this.parentInjector.get(t,n,i)}}class Vg extends st{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=$b(t.inputs);if(null!==n)for(const s of i)n.hasOwnProperty(s.propName)&&(s.transform=n[s.propName]);return i}get outputs(){return $b(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function nh(e){return e.map(bc).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,s){let f=(s=s||this.ngModule)instanceof Ms?s:s?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const g=f?new JS(t,f):t,w=g.get(Tr,null);if(null===w)throw new Ze(407,!1);const F={rendererFactory:w,sanitizer:g.get(Jv,null),effectManager:g.get(kb,null),afterRenderEventManager:g.get(Fy,null)},Y=w.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",ue=i?function ES(e,t,n,i){const f=i.get(cb,!1)||n===xo.ShadowDom,g=e.selectRootElement(t,f);return function CS(e){Db(e)}(g),g}(Y,i,this.componentDef.encapsulation,g):Re(Y,X,function XS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(X)),Je=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Se=null;null!==ue&&(Se=Og(ue,g,!0));const xt=Hy(0,null,null,1,0,null,null,null,null,null,null),jt=rm(null,xt,null,Je,null,null,F,Y,g,null,Se);let xn,sa;eo(jt);try{const zl=this.componentDef;let Ep,Vw=null;zl.findHostDirectiveDefs?(Ep=[],Vw=new Map,zl.findHostDirectiveDefs(zl,Ep,Vw),Ep.push(zl)):Ep=[zl];const g2=function tx(e,t){const n=e[at],i=Wt;return e[i]=t,ip(n,i,2,"#host",null)}(jt,ue),v2=function nx(e,t,n,i,s,f,g){const w=s[at];!function rx(e,t,n,i){for(const s of e)t.mergedAttrs=Qs(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(om(t,t.mergedAttrs,!0),null!==n&&Cs(i,n,t))}(i,e,t,g);let C=null;null!==t&&(C=Og(t,s[ya]));const M=f.rendererFactory.createRenderer(t,n);let N=16;n.signals?N=4096:n.onPush&&(N=64);const F=rm(s,bb(n),null,N,s[e.index],e,f,M,null,null,C);return w.firstCreatePass&&Uy(w,e,i.length-1),im(s,F),s[e.index]=F}(g2,ue,zl,Ep,jt,F,Y);sa=function co(e,t){return e.data[t]}(xt,Wt),ue&&function ox(e,t,n,i){if(i)vc(e,n,["ng-version",Z_.full]);else{const{attrs:s,classes:f}=function Xs(e){const t=[],n=[];let i=1,s=2;for(;i<e.length;){let f=e[i];if("string"==typeof f)2===s?""!==f&&t.push(f,e[++i]):8===s&&n.push(f);else{if(!ot(s))break;s=f}i++}return{attrs:t,classes:n}}(t.selectors[0]);s&&vc(e,n,s),f&&f.length>0&&Qa(e,n,f.join(" "))}}(Y,zl,ue,i),void 0!==n&&function ax(e,t,n){const i=e.projection=[];for(let s=0;s<t.length;s++){const f=n[s];i.push(null!=f?Array.from(f):null)}}(sa,this.ngContentSelectors,n),xn=function ix(e,t,n,i,s,f){const g=Wr(),w=s[at],C=mi(g,s);_b(w,s,g,n,null,i);for(let N=0;N<n.length;N++)B(po(s,w,g.directiveStart+N,g),s);Sb(w,s,g),C&&B(C,s);const M=po(s,w,g.directiveStart+g.componentOffset,g);if(e[jn]=s[jn]=M,null!==f)for(const N of f)N(M,t);return By(w,g,e),M}(v2,zl,Ep,Vw,jt,[sx]),qy(xt,jt,null)}finally{qa()}return new ex(this.componentType,xn,hi(sa,jt),jt,sa)}}class ex extends ze{constructor(t,n,i,s,f){super(),this.location=i,this._rootLView=s,this._tNode=f,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new QS(s),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const f=this._rootLView;Wy(f[at],f,s,t,n),this.previousInputValues.set(t,n),Rg(Fr(this._tNode.index,f))}}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function sx(){const e=Wr();zc(Ie()[at],e)}function e0(e,t,n,i,s){const g=s?"class":"style";Wy(e,n,t.inputs[g],g,i)}function t0(e,t,n,i){const s=Ie(),f=un(),g=Wt+e,w=s[Vt],C=f.firstCreatePass?function Ux(e,t,n,i,s,f){const g=t.consts,C=ip(t,e,2,i,Sa(g,s));return function zy(e,t,n,i){if(Gr()){const s=null===i?null:{"":-1},f=function FS(e,t){const n=e.directiveRegistry;let i=null,s=null;if(n)for(let f=0;f<n.length;f++){const g=n[f];if(_n(t,g.selectors,!1))if(i||(i=[]),Ur(g))if(null!==g.findHostDirectiveDefs){const w=[];s=s||new Map,g.findHostDirectiveDefs(g,w,s),i.unshift(...w,g),Uy(e,t,w.length)}else i.unshift(g),Uy(e,t,0);else s=s||new Map,g.findHostDirectiveDefs?.(g,i,s),i.push(g)}return null===i?null:[i,s]}(e,n);let g,w;null===f?g=w=null:[g,w]=f,null!==g&&_b(e,t,n,g,s,w),s&&function LS(e,t,n){if(t){const i=e.localNames=[];for(let s=0;s<t.length;s+=2){const f=n[t[s+1]];if(null==f)throw new Ze(-301,!1);i.push(t[s],f)}}}(n,i,s)}n.mergedAttrs=Qs(n.mergedAttrs,n.attrs)}(t,n,C,Sa(g,f)),null!==C.attrs&&om(C,C.attrs,!1),null!==C.mergedAttrs&&om(C,C.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,C),C}(g,f,s,t,n,i):f.data[g],M=aD(f,s,C,w,t,e);s[g]=M;const N=function _c(e){return 1==(1&e.flags)}(C);return yi(C,!0),Cs(w,M,C),32!=(32&C.flags)&&function ys(){return Zf}()&&pn(f,s,M,C),0===function ml(){return Tt.lFrame.elementDepthCount}()&&B(M,s),function mh(){Tt.lFrame.elementDepthCount++}(),N&&(function Vy(e,t,n){Gr()&&(function OS(e,t,n,i){const s=n.directiveStart,f=n.directiveEnd;Zt(n)&&function HS(e,t,n){const i=mi(t,e),s=bb(n);let g=16;n.signals?g=4096:n.onPush&&(g=64);const w=im(e,rm(e,s,null,g,i,t,null,e[tu].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=w}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||jc(n,t),B(i,t);const g=n.initialInputs;for(let w=s;w<f;w++){const C=e.data[w],M=po(t,e,w,n);B(M,t),null!==g&&zS(0,w-s,M,C,0,g),Ur(C)&&(Fr(n.index,t)[jn]=po(t,e,w,n))}}(e,t,n,mi(n,t)),64==(64&n.flags)&&Sb(e,t,n))}(f,s,C),By(f,C,s)),null!==i&&function $y(e,t,n=mi){const i=t.localNames;if(null!==i){let s=t.index+1;for(let f=0;f<i.length;f+=2){const g=i[f+1],w=-1===g?n(t,e):e[g];e[s++]=w}}}(s,C),t0}function n0(){let e=Wr();Cr()?function Oi(){Tt.lFrame.isParent=!1}():(e=e.parent,yi(e,!1));const t=e;(function Ga(e){return Tt.skipHydrationRootTNode===e})(t)&&function Ji(){Tt.skipHydrationRootTNode=null}(),function yh(){Tt.lFrame.elementDepthCount--}();const n=un();return n.firstCreatePass&&(zc(n,e),Ni(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function gu(e){return 0!=(8&e.flags)}(t)&&e0(n,t,Ie(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vu(e){return 0!=(16&e.flags)}(t)&&e0(n,t,Ie(),t.stylesWithoutHost,!1),n0}function r0(e,t,n,i){return t0(e,t,n,i),n0(),r0}let aD=(e,t,n,i,s,f)=>(function xa(e){Zf=e}(!0),Re(i,s,function qf(){return Tt.lFrame.currentNamespace}()));function hm(e){return!!e&&"function"==typeof e.then}function lD(e){return!!e&&"function"==typeof e.subscribe}const vp="en-US";let aE=vp;class Md{}class GI{}class w0 extends Md{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vb(this);const s=function Rr(e,t){const n=e[gc]||null;if(!n&&!0===t)throw new Error(`Type ${Pr(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function Ol(e){return e instanceof Function?e():e}(s.bootstrap),this._r3Injector=Jw(t,n,[{provide:Md,useValue:this},{provide:on,useValue:this.componentFactoryResolver},...i],Pr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class b0 extends GI{constructor(t){super(),this.moduleType=t}create(t){return new w0(this.moduleType,t,[])}}function ET(){return this._results[Symbol.iterator]()}class E0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new bo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=E0.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=ET)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const s=function Ci(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Il(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],f=t[i];if(n&&(s=n(s),f=n(f)),f!==s)return!1}return!0}(i._results,s,n))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function _T(e,t,n,i=!0){const s=t[at];if(function rt(e,t,n,i){const s=Dr+i,f=n.length;i>0&&(n[s-1][so]=t),i<f-Dr?(t[so]=n[s],rd(n,Dr+i,t)):(n.push(t),t[so]=null),t[Xn]=n;const g=t[yn];null!==g&&n!==g&&function We(e,t){const n=e[Da];t[Dt]!==t[Xn][Xn][Dt]&&(e[ih]=!0),null===n?e[Da]=[t]:n.push(t)}(g,t);const w=t[Ai];null!==w&&w.insertView(e),t[zt]|=128}(s,t,e,n),i){const f=or(n,e),g=t[Vt],w=be(g,e[Qo]);null!==w&&function Ke(e,t,n,i,s,f){i[fn]=s,i[rr]=t,ur(e,i,n,1,s,f)}(s,e[rr],g,t,w,f)}}let Ll=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=MT}return e})();const ST=Ll,xT=class extends ST{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){const s=function CT(e,t,n,i){const s=t.tView,w=rm(e,s,n,4096&e[zt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);w[yn]=e[t.index];const M=e[Ai];return null!==M&&(w[Ai]=M.createEmbeddedView(s)),qy(s,w,n),w}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:i});return new Bg(s)}};function MT(){return Dm(Wr(),Ie())}function Dm(e,t){return 4&e.type?new xT(t,e,hi(e,t)):null}let Hu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=kT}return e})();function kT(){return KE(Wr(),Ie())}const OT=Hu,ZE=class extends OT{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return hi(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Lr(this._hostTNode,this._hostLView);if(mu(t)){const n=Za(t,this._hostLView),i=Ao(t);return new Sr(n[at].data[i+8],n)}return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=YE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Dr}createEmbeddedView(t,n,i){let s,f;"number"==typeof i?s=i:null!=i&&(s=i.index,f=i.injector);const w=t.createEmbeddedViewImpl(n||{},f,null);return this.insertImpl(w,s,false),w}createComponent(t,n,i,s,f){const g=t&&!function Su(e){return"function"==typeof e}(t);let w;if(g)w=n;else{const me=n||{};w=me.index,i=me.injector,s=me.projectableNodes,f=me.environmentInjector||me.ngModuleRef}const C=g?t:new Vg(sn(t)),M=i||this.parentInjector;if(!f&&null==C.ngModule){const Ue=(g?M:this.parentInjector).get(Ms,null);Ue&&(f=Ue)}sn(C.componentType??{});const X=C.create(M,s,null,f);return this.insertImpl(X.hostView,w,false),X}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,i){const s=t._lView;if(function Hf(e){return qt(e[Xn])}(s)){const C=this.indexOf(t);if(-1!==C)this.detach(C);else{const M=s[Xn],N=new ZE(M,M[rr],M[Xn]);N.detach(N.indexOf(t))}}const g=this._adjustIndex(n),w=this._lContainer;return _T(w,s,g,!i),t.attachToViewContainerRef(),rd(C0(w),g,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=YE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=ft(this._lContainer,n);i&&(Wc(C0(this._lContainer),n),Ge(i[at],i))}detach(t){const n=this._adjustIndex(t,-1),i=ft(this._lContainer,n);return i&&null!=Wc(C0(this._lContainer),n)?new Bg(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function YE(e){return e[8]}function C0(e){return e[8]||(e[8]=[])}function KE(e,t){let n;const i=t[e.index];return qt(i)?n=i:(n=function Mb(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null,null]}(i,t,null,e),t[e.index]=n,im(t,n)),QE(n,t,e,i),new ZE(n,e,t)}let QE=function XE(e,t,n,i){if(e[Qo])return;let s;s=8&n.type?An(i):function RT(e,t){const n=e[Vt],i=n.createComment(""),s=mi(t,e);return Fe(n,be(n,s),i,function $t(e,t){return e.nextSibling(t)}(n,s),!1),i}(t,n),e[Qo]=s};class _0{constructor(t){this.queryList=t,this.matches=null}clone(){return new _0(this.queryList)}setDirty(){this.queryList.setDirty()}}class S0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let f=0;f<i;f++){const g=n.getByIndex(f);s.push(this.queries[g.indexInDeclarationView].clone())}return new S0(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==aC(t,n).matches&&this.queries[n].setDirty()}}class JE{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class x0{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const s=null!==n?n.length:0,f=this.getByIndex(i).embeddedTView(t,s);f&&(f.indexInDeclarationView=i,null!==n?n.push(f):n=[f])}return null!==n?new x0(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class M0{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new M0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const f=i[s];this.matchTNodeWithReadOption(t,n,BT(n,f)),this.matchTNodeWithReadOption(t,n,wu(n,t,f,!1,!1))}else i===Ll?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,wu(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===lr||s===Hu||s===Ll&&4&n.type)this.addMatch(n.index,-2);else{const f=wu(n,t,s,!1,!1);null!==f&&this.addMatch(n.index,f)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function BT(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function $T(e,t,n,i){return-1===n?function VT(e,t){return 11&e.type?hi(e,t):4&e.type?Dm(e,t):null}(t,e):-2===n?function HT(e,t,n){return n===lr?hi(t,e):n===Ll?Dm(t,e):n===Hu?KE(t,e):void 0}(e,t,i):po(e,e[at],n,t)}function eC(e,t,n,i){const s=t[Ai].queries[i];if(null===s.matches){const f=e.data,g=n.matches,w=[];for(let C=0;C<g.length;C+=2){const M=g[C];w.push(M<0?null:$T(t,f[M],g[C+1],n.metadata.read))}s.matches=w}return s.matches}function I0(e,t,n,i){const s=e.queries.getByIndex(n),f=s.matches;if(null!==f){const g=eC(e,t,s,n);for(let w=0;w<f.length;w+=2){const C=f[w];if(C>0)i.push(g[w/2]);else{const M=f[w+1],N=t[-C];for(let F=Dr;F<N.length;F++){const Y=N[F];Y[yn]===Y[Xn]&&I0(Y[at],Y,M,i)}if(null!==N[Da]){const F=N[Da];for(let Y=0;Y<F.length;Y++){const X=F[Y];I0(X[at],X,M,i)}}}}}return i}function tC(e){const t=Ie(),n=un(),i=wi();fu(i+1);const s=aC(n,i);if(e.dirty&&function ti(e){return 4==(4&e[zt])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const f=s.crossesNgTemplate?I0(n,t,i,[]):eC(n,t,s,i);e.reset(f,Ro),e.notifyOnChanges()}return!0}return!1}function nC(e,t,n){const i=un();i.firstCreatePass&&(function oC(e,t,n){null===e.queries&&(e.queries=new x0),e.queries.track(new M0(t,n))}(i,new JE(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),function iC(e,t,n){const i=new E0(4==(4&n));(function xS(e,t,n,i){const s=function Tb(e){return e[Yo]||(e[Yo]=[])}(t);s.push(n),e.firstCreatePass&&function Ab(e){return e.cleanup||(e.cleanup=[])}(e).push(i,s.length-1)})(e,t,i,i.destroy),null===t[Ai]&&(t[Ai]=new S0),t[Ai].queries.push(new _0(i))}(i,Ie(),t)}function aC(e,t){return e.queries.getByIndex(t)}const dA=new At("Application Initializer");let k0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=Tn(dA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const f=s();if(hm(f))n.push(f);else if(lD(f)){const g=new Promise((w,C)=>{f.subscribe({complete:w,error:C})});n.push(g)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),0===n.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Bl=new At("LocaleId",{providedIn:"root",factory:()=>Tn(Bl,cn.Optional|cn.SkipSelf)||function pA(){return typeof $localize<"u"&&$localize.locale||vp}()});let mA=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ef(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const MC=new At(""),Sm=new At("");let B0,F0=(()=>{class e{constructor(n,i,s){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,B0||(function BA(e){B0=e}(s),s.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,s){let f=-1;i&&i>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:f,updateCb:s})}whenStable(n,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,s){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(Qr),Ft(L0),Ft(Sm))};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac})}return e})(),L0=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return B0?.findTestabilityInTree(this,n,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),af=null;const IC=new At("AllowMultipleToken"),V0=new At("PlatformDestroyListeners"),TC=new At("appBootstrapListener");function PC(e,t,n=[]){const i=`Platform: ${t}`,s=new At(i);return(f=[])=>{let g=$0();if(!g||g.injector.get(IC,!1)){const w=[...n,...f,{provide:s,useValue:!0}];e?e(w):function HA(e){if(af&&!af.get(IC,!1))throw new Ze(400,!1);(function AC(){!function au(e){Ac=e}(()=>{throw new Ze(600,!1)})})(),af=e;const t=e.get(OC);(function NC(e){e.get(Zv,null)?.forEach(n=>n())})(e)}(function kC(e=[],t){return Ts.create({name:t,providers:[{provide:_g,useValue:"platform"},{provide:V0,useValue:new Set([()=>af=null])},...e]})}(w,i))}return function UA(e){const t=$0();if(!t)throw new Ze(401,!1);return t}()}}function $0(){return af?.get(OC)??null}let OC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const s=function jA(e="zone.js",t){return"noop"===e?new aS:"zone.js"===e?new Qr(t):e}(i?.ngZone,function RC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const f=function qI(e,t,n){return new w0(e,t,n)}(n.moduleType,this.injector,function $C(e){return[{provide:Qr,useFactory:e},{provide:Wh,multi:!0,useFactory:()=>{const t=Tn(WA,{optional:!0});return()=>t.initialize()}},{provide:VC,useFactory:GA},{provide:ib,useFactory:ob}]}(()=>s)),g=f.injector.get(kl,null);return s.runOutsideAngular(()=>{const w=s.onError.subscribe({next:C=>{g.handleError(C)}});f.onDestroy(()=>{xm(this._modules,f),w.unsubscribe()})}),function FC(e,t,n){try{const i=n();return hm(i)?i.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(g,s,()=>{const w=f.injector.get(k0);return w.runInitializers(),w.donePromise.then(()=>(function sE(e){ji(e,"Expected localeId to be defined"),"string"==typeof e&&(aE=e.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Bl,vp)||vp),this._moduleDoBootstrap(f),f))})})}bootstrapModule(n,i=[]){const s=LC({},i);return function VA(e,t,n){const i=new b0(n);return Promise.resolve(i)}(0,0,n).then(f=>this.bootstrapModuleFactory(f,s))}_moduleDoBootstrap(n){const i=n.injector.get(ev);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new Ze(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(V0,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(Ts))};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function LC(e,t){return Array.isArray(t)?t.reduce(LC,e):{...e,...t}}let ev=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Tn(VC),this.zoneIsStable=Tn(ib),this.componentTypes=[],this.components=[],this.isStable=Tn(mA).hasPendingTasks.pipe(function Ud(e,t){return Mi((n,i)=>{let s=null,f=0,g=!1;const w=()=>g&&!s&&i.complete();n.subscribe(ro(i,C=>{s?.unsubscribe();let M=0;const N=f++;_o(e(C,N)).subscribe(s=ro(i,F=>i.next(t?t(C,F,N,M++):F),()=>{s=null,w()}))},()=>{g=!0,w()}))})}(n=>n?function kp(...e){return Wu(e,da(e))}(!1):this.zoneIsStable),function Op(e,t=Ye){return e=e??jd,Mi((n,i)=>{let s,f=!0;n.subscribe(ro(i,g=>{const w=t(g);(f||!e(s,w))&&(f=!1,s=w,i.next(g))}))})}(),Cf()),this._injector=Tn(Ms)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const s=n instanceof st;if(!this._injector.get(k0).done)throw!s&&function Js(e){const t=sn(e)||nr(e)||yr(e);return null!==t&&t.standalone}(n),new Ze(405,!1);let g;g=s?n:this._injector.get(on).resolveComponentFactory(n),this.componentTypes.push(g.componentType);const w=function $A(e){return e.isBoundToModule}(g)?void 0:this._injector.get(Md),M=g.create(Ts.NULL,[],i||g.selector,w),N=M.location.nativeElement,F=M.injector.get(MC,null);return F?.registerApplication(N),M.onDestroy(()=>{this.detachView(M.hostView),xm(this.components,M),F?.unregisterApplication(N)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;xm(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(TC,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ze(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const VC=new At("",{providedIn:"root",factory:()=>Tn(kl).handleError.bind(void 0)});function GA(){const e=Tn(Qr),t=Tn(kl);return n=>e.runOutsideAngular(()=>t.handleError(n))}let WA=(()=>{class e{constructor(){this.zone=Tn(Qr),this.applicationRef=Tn(ev)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const uN=PC(null,"core",[]);let lN=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(ev))};static#t=this.\u0275mod=ma({type:e});static#n=this.\u0275inj=Uo({})}return e})(),q0=null;function nv(){return q0}class EN{}const Td=new At("DocumentToken");let VP=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=ma({type:e});static#n=this.\u0275inj=Uo({})}return e})();function b1(e){return"server"===e}class hk extends EN{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cw extends hk{static makeCurrent(){!function DN(e){q0||(q0=e)}(new cw)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function pk(){return av=av||document.querySelector("base"),av?av.getAttribute("href"):null}();return null==n?null:function gk(e){Um=Um||document.createElement("a"),Um.setAttribute("href",e);const t=Um.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){av=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function uP(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[s,f]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(s.trim()===t)return decodeURIComponent(f)}return null}(document.cookie,t)}}let Um,av=null,mk=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac})}return e})();const fw=new At("EventManagerPlugins");let S1=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(f=>f.supports(n)),!i)throw new Ze(5101,!1);return this._eventNameToPlugin.set(n,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(fw),Ft(Qr))};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac})}return e})();class x1{constructor(t){this._doc=t}}const dw="ng-app-id";let M1=(()=>{class e{constructor(n,i,s,f={}){this.doc=n,this.appId=i,this.nonce=s,this.platformId=f,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=b1(f),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(s=>s.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${dw}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(n,i){const s=this.styleRef;if(s.has(n)){const f=s.get(n);return f.usage+=i,f.usage}return s.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const s=this.styleNodesInDOM,f=s?.get(i);if(f?.parentNode===n)return s.delete(i),f.removeAttribute(dw),f;{const g=this.doc.createElement("style");return this.nonce&&g.setAttribute("nonce",this.nonce),g.textContent=i,this.platformIsServer&&g.setAttribute(dw,this.appId),g}}addStyleToHost(n,i){const s=this.getStyleElement(n,i);n.appendChild(s);const f=this.styleRef,g=f.get(i)?.elements;g?g.push(s):f.set(i,{elements:[s],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(Td),Ft(Xh),Ft(Yv,8),Ft(tf))};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac})}return e})();const hw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pw=/%COMP%/g,Dk=new At("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function T1(e,t){return t.map(n=>n.replace(pw,e))}let A1=(()=>{class e{constructor(n,i,s,f,g,w,C,M=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=f,this.doc=g,this.platformId=w,this.ngZone=C,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=b1(w),this.defaultRenderer=new gw(n,g,C,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xo.ShadowDom&&(i={...i,encapsulation:xo.Emulated});const s=this.getOrCreateRenderer(n,i);return s instanceof P1?s.applyToHost(n):s instanceof vw&&s.applyStyles(),s}getOrCreateRenderer(n,i){const s=this.rendererByCompId;let f=s.get(i.id);if(!f){const g=this.doc,w=this.ngZone,C=this.eventManager,M=this.sharedStylesHost,N=this.removeStylesOnCompDestroy,F=this.platformIsServer;switch(i.encapsulation){case xo.Emulated:f=new P1(C,M,i,this.appId,N,g,w,F);break;case xo.ShadowDom:return new Sk(C,M,n,i,g,w,this.nonce,F);default:f=new vw(C,M,i,N,g,w,F)}s.set(i.id,f)}return f}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(S1),Ft(M1),Ft(Xh),Ft(Dk),Ft(Td),Ft(tf),Ft(Qr),Ft(Yv))};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac})}return e})();class gw{constructor(t,n,i,s){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(hw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(N1(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(N1(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new Ze(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,s){if(s){n=s+":"+n;const f=hw[s];f?t.setAttributeNS(f,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const s=hw[i];s?t.removeAttributeNS(s,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,s){s&(c.DashCase|c.Important)?t.style.setProperty(n,i,s&c.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&c.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){if("string"==typeof t&&!(t=nv().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function N1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Sk extends gw{constructor(t,n,i,s,f,g,w,C){super(t,f,g,C),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const M=T1(s.id,s.styles);for(const N of M){const F=document.createElement("style");w&&F.setAttribute("nonce",w),F.textContent=N,this.shadowRoot.appendChild(F)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vw extends gw{constructor(t,n,i,s,f,g,w,C){super(t,f,g,w),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s,this.styles=C?T1(C,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class P1 extends vw{constructor(t,n,i,s,f,g,w,C){const M=s+"-"+i.id;super(t,n,i,f,g,w,C,M),this.contentAttr=function Ek(e){return"_ngcontent-%COMP%".replace(pw,e)}(M),this.hostAttr=function Ck(e){return"_nghost-%COMP%".replace(pw,e)}(M)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let xk=(()=>{class e extends x1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(Td))};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac})}return e})();const k1=["alt","control","meta","shift"],Mk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ik={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Tk=(()=>{class e extends x1{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,s){const f=e.parseEventName(i),g=e.eventCallback(f.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nv().onAndCancel(n,f.domEventName,g))}static parseEventName(n){const i=n.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const f=e._normalizeKey(i.pop());let g="",w=i.indexOf("code");if(w>-1&&(i.splice(w,1),g="code."),k1.forEach(M=>{const N=i.indexOf(M);N>-1&&(i.splice(N,1),g+=M+".")}),g+=f,0!=i.length||0===f.length)return null;const C={};return C.domEventName=s,C.fullKey=g,C}static matchEventFullKeyCode(n,i){let s=Mk[n.key]||n.key,f="";return i.indexOf("code.")>-1&&(s=n.code,f="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),k1.forEach(g=>{g!==s&&(0,Ik[g])(n)&&(f+=g+".")}),f+=s,f===i)}static eventCallback(n,i,s){return f=>{e.matchEventFullKeyCode(f,n)&&s.runGuarded(()=>i(f))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(Td))};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac})}return e})();const kk=PC(uN,"browser",[{provide:tf,useValue:"browser"},{provide:Zv,useValue:function Ak(){cw.makeCurrent()},multi:!0},{provide:Td,useFactory:function Pk(){return function Vh(e){_i=e}(document),document},deps:[]}]),Ok=new At(""),F1=[{provide:Sm,useClass:class vk{addToWindow(t){mn.getAngularTestability=(i,s=!0)=>{const f=t.findTestabilityInTree(i,s);if(null==f)throw new Ze(5103,!1);return f},mn.getAllAngularTestabilities=()=>t.getAllTestabilities(),mn.getAllAngularRootElements=()=>t.getAllRootElements(),mn.frameworkStabilizers||(mn.frameworkStabilizers=[]),mn.frameworkStabilizers.push(i=>{const s=mn.getAllAngularTestabilities();let f=s.length,g=!1;const w=function(C){g=g||C,f--,0==f&&i(g)};s.forEach(C=>{C.whenStable(w)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?nv().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:MC,useClass:F0,deps:[Qr,L0,Sm]},{provide:F0,useClass:F0,deps:[Qr,L0,Sm]}],L1=[{provide:_g,useValue:"root"},{provide:kl,useFactory:function Nk(){return new kl},deps:[]},{provide:fw,useClass:xk,multi:!0,deps:[Td,Qr,tf]},{provide:fw,useClass:Tk,multi:!0,deps:[Td]},A1,M1,S1,{provide:Tr,useExisting:A1},{provide:class jP{},useClass:mk,deps:[]},[]];let Rk=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Xh,useValue:n.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(Ft(Ok,12))};static#t=this.\u0275mod=ma({type:e});static#n=this.\u0275inj=Uo({providers:[...L1,...F1],imports:[VP,lN]})}return e})();typeof window<"u"&&window;var zk=ie(6100),Uk=ie.n(zk),uf=ie(6990);function Ot(e){return function jk(e){return void 0!==e.apply}(e)?e():e}function Hl(e){const t=e;return t.setDefault=function(n,i){return e[n]||(e[n]=i),t},t}const Gk=(e,t)=>Lt.Style.properties[e][t],Wk=(e,t,n)=>n(Ot(Lt.Style.properties[e][t]));function H1(e,t,n){return"data:image/svg+xml;utf8,"+encodeURIComponent(function eO(e,t=100,n=100){return(new DOMParser).parseFromString(`<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg><svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='${t}' height='${n}'>${e}</svg>`,"text/xml").documentElement}(e,t,n).outerHTML)}const Ad=(e,t,n)=>`${e}x${t}-${n}`,yw=new Map([["Protein",(0,uf.memoize)((e,t,n)=>{const i=Ot(Lt.Style.properties.global.select),s=Ot(Lt.Style.properties.global.hover),f=Ot(Lt.Style.properties.global.thickness),g=Ot(Lt.Style.properties.protein.radius),w=g+f,C=g-f;return{hover:{"background-image":`\n          <path fill="${s}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${w}\n            a ${w} ${w} 0 0 1 ${w} -${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 1 ${w} ${w}\n            a ${w} ${C} 0 0 0 -${w} -${C}\n            h -${e-2*w}\n            a ${w} ${C} 0 0 0 -${w} ${C}\n            Z"/>\n`,"background-position-y":-f,"bounds-expansion":f,"background-clip":"none","background-image-containment":"over","background-height":w},select:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${w} ${w} 0 0 0 ${w} ${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 0 ${w} -${w}\n            a ${w} ${C} 0 0 1 -${w} ${C}\n            h -${e-2*w}\n            a ${w} ${C} 0 0 1 -${w} -${C}\n            Z"/>\n`,"background-position-y":t-g,"bounds-expansion":f,"background-clip":"none","background-image-containment":"over","background-height":w}}},Ad)],["GenomeEncodedEntity",(0,uf.memoize)((e,t,n)=>{const i=Ot(Lt.Style.properties.global.select),s=Ot(Lt.Style.properties.global.hover),f=Ot(Lt.Style.properties.global.thickness),g=Ot(Lt.Style.properties.genomeEncodedEntity.radius),C=g+f,M=g-f,N=2*f,F=3*N;return{background:{"background-image":`\n        \n  <defs>\n    <rect id="rect" rx="${g}" ry="${g}" x="0" y="0" width="${e}" height="${t}"/>\n    <clipPath id="clip">\n      <use href="#rect"/>\n    </clipPath>\n  </defs>\n  \n        <use href="#rect" clip-path="url(#clip)" stroke-width="${N}" stroke="${Ot(Lt.Style.properties.genomeEncodedEntity.stroke)}" fill="none" stroke-linecap="round" stroke-dasharray="${F} ${F}"/>\n      `},hover:{"background-image":`\n          <path fill="${s}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${C}\n            a ${C} ${C} 0 0 1 ${C} -${C}\n            h ${e-2*C}\n            a ${C} ${C} 0 0 1 ${C} ${C}\n            a ${C} ${M} 0 0 0 -${C} -${M}\n            h -${e-2*C}\n            a ${C} ${M} 0 0 0 -${C} ${M}\n            Z"/>\n`,"background-position-y":-f,"bounds-expansion":f,"background-clip":"none","background-image-containment":"over","background-height":C},select:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${C} ${C} 0 0 0 ${C} ${C}\n            h ${e-2*C}\n            a ${C} ${C} 0 0 0 ${C} -${C}\n            a ${C} ${M} 0 0 1 -${C} ${M}\n            h -${e-2*C}\n            a ${C} ${M} 0 0 1 -${C} -${M}\n            Z"/>\n`,"background-position-y":t-g,"bounds-expansion":f,"background-clip":"none","background-image-containment":"over","background-height":C}}},Ad)],["RNA",(0,uf.memoize)((e,t,n)=>{const i=Ot(Lt.Style.properties.global.thickness),s=Ot(Lt.Style.properties.global.select),f=Ot(Lt.Style.properties.global.hover),w=Ot(Lt.Style.properties.rna.radius),C=w+i,M=w-i;return{hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*i}" fill="${f}"/>`,"background-position-y":-i,"bounds-expansion":i,"background-clip":"none","background-image-containment":"over","background-height":2*i},select:{"background-image":`\n          <path fill="${s}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${C} ${C} 0 0 0 ${C} ${C}\n            h ${e-2*C}\n            a ${C} ${C} 0 0 0 ${C} -${C}\n            a ${C} ${M} 0 0 1 -${C} ${M}\n            h -${e-2*C}\n            a ${C} ${M} 0 0 1 -${C} -${M}\n            Z"/>\n`,"background-position-y":t-w,"bounds-expansion":i,"background-clip":"none","background-image-containment":"over","background-height":C}}},Ad)],["Gene",(0,uf.memoize)((e,t,n)=>{const i=Ot(Lt.Style.properties.global.thickness),s=Ot(Lt.Style.properties.gene.decorationHeight),f=Ot(Lt.Style.properties.gene.arrowHeadSize),g=Ot(Lt.Style.properties.gene.arrowRadius),w=Ot(Lt.Style.properties.gene.fill),C=Ot(Lt.Style.properties.global.select),M=Ot(Lt.Style.properties.global.hover),N=Math.sqrt(3*Math.pow(f,2)/4),F=e/2,Y=Ot(Lt.Style.properties.gene.borderRadius),X=Y+i,ue=Y-i;return{decorators:[{"background-image":`\n          <path fill="none" stroke="${w}" stroke-width="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M ${F} ${s+i}\n            v -${s-g-(f+i)/2+i}\n            a ${g} ${g} 0 0 1 ${g} -${g}\n            h ${F-i-g}\n          "/>\n            <path fill="${w}" stroke="${w}" stroke-width="${i}" stroke-linejoin="round"  d="\n            M ${e-N-i/2} ${f/2+i/2}\n            v -${f/2}\n            l ${N} ${f/2}\n            l -${N} ${f/2}\n            v -${f/2}\n            z\n          "/>`,"background-position-y":-s,"bounds-expansion":s,"background-height":s+i,"background-clip":"none","background-image-containment":"over"}],hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*i}" fill="${M}"/>`,"background-position-y":-i,"bounds-expansion":i,"background-clip":"none","background-image-containment":"over","background-height":2*i},select:{"background-image":`\n          <path fill="${C}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${X} ${X} 0 0 0 ${X} ${X}\n            h ${e-2*X}\n            a ${X} ${X} 0 0 0 ${X} -${X}\n            a ${X} ${ue} 0 0 1 -${X} ${ue}\n            h -${e-2*X}\n            a ${X} ${ue} 0 0 1 -${X} -${ue}\n            Z"/>\n`,"background-position-y":t-Y,"bounds-expansion":i,"background-clip":"none","background-image-containment":"over","background-height":X}}},Ad)],["Molecule",(0,uf.memoize)((e,t,n)=>{const i=Ot(Lt.Style.properties.global.select),s=Ot(Lt.Style.properties.global.hover),f=Ot(Lt.Style.properties.global.thickness),C=f/2,M=t/2,N=M+f,F=M-f;return{background:{"background-image":`<rect x="${C}" y="${C}" width="${e-f}" height="${t-f}" rx="${M}" stroke="${Ot(n?Lt.Style.properties.molecule.disease:Lt.Style.properties.molecule.stroke)}" fill="${Ot(Lt.Style.properties.molecule.fill)}" stroke-width="${f}"/>`},hover:{"background-image":`\n          <path fill="${s}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${N}\n            a ${N} ${N} 0 0 1 ${N} -${N}\n            h ${e-2*N}\n            a ${N} ${N} 0 0 1 ${N} ${N}\n            a ${N} ${F} 0 0 0 -${N} -${F}\n            h -${e-2*N}\n            a ${N} ${F} 0 0 0 -${N} ${F}\n            Z"/>\n`,"background-position-y":-f,"bounds-expansion":f,"background-clip":"none","background-image-containment":"over","background-height":N},select:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${N} ${N} 0 0 0 ${N} ${N}\n            h ${e-2*N}\n            a ${N} ${N} 0 0 0 ${N} -${N}\n            a ${N} ${F} 0 0 1 -${N} ${F}\n            h -${e-2*N}\n            a ${N} ${F} 0 0 1 -${N} -${F}\n            Z"/>\n`,"background-position-y":M,"bounds-expansion":f,"background-clip":"none","background-image-containment":"over","background-height":N}}},Ad)],["Complex",(0,uf.memoize)((e,t,n)=>{const i=Ot(Lt.Style.properties.global.select),s=Ot(Lt.Style.properties.global.hover),f=Ot(Lt.Style.properties.global.thickness),g=Ot(Lt.Style.properties.complex.cut),w=Ot(n?Lt.Style.properties.complex.disease:Lt.Style.properties.complex.fill),M=2*g,N=2*f,F=t-M-2*N,X=t/2+f,ue=`<defs>\n  <path id="octogon" d="\n      M ${M+N+0} ${N}\n      H ${e-g-N-0}\n      l ${g} ${g}\n      v ${F}\n      l  -${g} ${g}\n      H ${M+N+0}\n      l -${g} 0 -${g} -${g}\n      v -${F}\n      l  ${g} -${g}\n      Z\n      "/>\n  </defs>`;return{background:{"background-image":`\n${ue}\n<use href="#octogon" fill="${w}" stroke="${w}" stroke-width="${2*N}" stroke-linejoin="round"/>\n`},hover:{"background-image":`\n      <path stroke="${s}" stroke-width="${2*N}" stroke-linejoin="round" d="\n      M ${N} ${X}\n      v -${F/2}\n      l ${g} -${g+f}\n      H ${e-g-N}\n      l ${g} ${g+f}\n      v ${F/2}\n      " />\n      `,"background-position-y":-f,"background-height":X},select:{"background-image":`\n      <path stroke="${i}" stroke-width="${2*N}" stroke-linejoin="round" d="\n      M ${N} 0\n      v ${F/2}\n      l ${g} ${g+f}\n      H ${e-g-N}\n      l ${g} -${g+f}\n      v -${F/2}\n      " />\n      `,"background-position-y":t/2,"background-height":X},decorators:[{"background-image":`\n         ${ue}\n         <use href="#octogon" fill="none" stroke="${Ot(Lt.Style.properties.complex.stroke)}" stroke-width="${N}" stroke-linejoin="round"/>\n         <use href="#octogon" fill="${w}"/>\n         `}]}},Ad)],["EntitySet",(0,uf.memoize)((e,t,n)=>{const i=Ot(Lt.Style.properties.global.select),s=Ot(Lt.Style.properties.global.hover),f=Ot(Lt.Style.properties.global.thickness),g=Ot(Lt.Style.properties.entitySet.radius),w=Ot(n?Lt.Style.properties.entitySet.disease:Lt.Style.properties.entitySet.fill),C=Ot(Lt.Style.properties.entitySet.stroke),M=2*g,N=2*f,F=t/2-M-f,Y=t/2+f,X=`<defs>\n   <path id="curly" d="\n       M ${M+f} ${f}\n       H ${e-M-f}\n       a ${g} ${g} 0 0 1 ${g} ${g}\n\n       v ${F}\n       a ${g} ${g} 0 0 0 ${g} ${g}\n       a ${g} ${g} 0 0 0 -${g} ${g}\n       v ${F}\n\n       a ${g} ${g} 0 0 1 -${g} ${g}\n       H ${M+f}\n       a ${g} ${g} 0 0 1 -${g} -${g}\n\n       v -${F}\n       a ${g} ${g} 0 0 0 -${g} -${g}\n       a ${g} ${g} 0 0 0 ${g} -${g}\n       v -${F}\n\n       a ${g} ${g} 0 0 1 ${g} -${g}\n       Z\n       "/>\n   <clipPath id="inside">\n     <use href="#curly"/>\n   </clipPath>\n </defs>`;return{background:{"background-image":`\n       ${X}\n       <use href="#curly" fill="${w}" stroke="${w}" stroke-width="${N}" stroke-linejoin="round"/>\n       `},hover:{"background-image":`\n       <path stroke="${s}" stroke-width="${N}" fill="none" stroke-linejoin="round" d="\n         M ${f+g} ${Y+g}\n         a ${g} ${g} 0 0 0 -${g} -${g}\n         a ${g} ${g} 0 0 0 ${g} -${g}\n         v -${F}\n         a ${g} ${g+f} 0 0 1 ${g} -${g+f}\n         H ${e-M-f}\n         a ${g} ${g+f} 0 0 1 ${g} ${g+f}\n         v ${F}\n         a ${g} ${g} 0 0 0 ${g} ${g}\n         a ${g} ${g} 0 0 0 -${g} ${g}\n       "/>\n       <line stroke-width="${f}" stroke="${C}" x1="${M+f}" x2="${e-M-f}" y1="${2.5*f}" y2="${2.5*f}"/>\n       `,"background-position-y":-f,"background-height":Y},select:{"background-image":`\n       <path stroke="${i}" stroke-width="${N}" fill="none" stroke-linejoin="round" d="\n         M ${f+g} ${-g}\n         a ${g} ${g} 0 0 1 -${g} ${g}\n         a ${g} ${g} 0 0 1 ${g} ${g}\n         v ${F}\n         a ${g} ${g+f} 0 0 0 ${g} ${g+f}\n         H ${e-M-f}\n         a ${g} ${g+f} 0 0 0 ${g} -${g+f}\n         v -${F}\n         a ${g} ${g} 0 0 1 ${g} -${g}\n         a ${g} ${g} 0 0 1 -${g} -${g}\n       "/>\n       <line stroke-width="${f}" stroke="${C}" x1="${M+f}" x2="${e-M-f}" y1="${Y-2.5*f}" y2="${Y-2.5*f}"/>\n        `,"background-position-y":t/2,"background-height":Y},decorators:[{"background-image":`\n       ${X}\n       <use href="#curly" fill="none" stroke="${C}" stroke-width="${N}" clip-path="url(#inside)"/>\n       <rect fill="${w}" x="${N+M}" y="${f}"\n             width="${e-2*M-2*N}"\n             height="${t-N}"/>\n       `}]}},Ad)]]),z1={"background-image":"","background-position-x":"0","background-position-y":"0","background-offset-x":"0","background-offset-y":"0","background-width":"100%","background-height":"100%","background-fit":"none","background-clip":"none","background-image-containment":"over","background-image-smoothing":"yes","background-height-relative-to":"inner","background-width-relative-to":"inner","background-repeat":"no-repeat","background-image-crossorigin":"anonymous","bounds-expansion":0};function U1(e,t){const n={};return new Set(Object.keys(t)).forEach(s=>n[s]=e.map(f=>f[s]||t[s])),n}const Nd=(0,uf.memoize)(e=>{let t=[];const n=e.classes().find(M=>yw.has(M));if(!n)return U1(t,z1);const i=yw.get(n),[s,f,g]=[e.data("width"),e.data("height"),e.hasClass("disease")],w=i(s,f,g);return w.background&&t.push(w.background),e.selected()&&w.select&&t.push(w.select),e.hasClass("hover")&&w.hover&&t.push(w.hover),e.hasClass("flag")&&w.flag&&t.push(w.flag),w.decorators&&t.push(...w.decorators),g&&t.push(((e,t,n)=>{const i=Ot(Lt.Style.properties.global.thickness),s=Ot("Molecule"!==n?Lt.Style.properties.global.onPrimary:Lt.Style.properties.molecule.disease);return{"background-image":`\n      <path style="transform: scale(2)" fill="${s}" stroke-width="0.4" stroke="${s}" d="M3.2 4C3.3 4 3.4 4 3.6 4L6.75 8.81L5.7 10.15C5.7 10.15 5.53985 10.3884 5.31824 10.6092C5.00434 10.922 4.6582 11.3 4.28711 11.3C4.19141 11.3 4.2 11.3 4.1 11.3V11.5H6.4V11.3C6.2 11.3 6 11.3 5.9 11.2C5.8 11.1 5.8 11 5.8 10.9C5.8 10.6301 5.9 10.5547 6.16055 10.226L7 9.2L7.65291 10.226C7.82889 10.5025 8 10.7344 8 10.9C8 11.0656 7.90095 11.3 7.65291 11.3C7.55291 11.3 7.6 11.3 7.4 11.3V11.5H10.2V11.3C9.9 11.3 9.7 11.2 9.5 11C9.24121 10.7412 9 10.5 8.6 10L7.6 8.5L8.48711 7.35309C8.55228 7.28792 8.61656 7.21558 8.68081 7.13924C9.09787 6.6437 9.64859 6 10.2 6.01309V5.81309H7.8V6.01309C8 6.01309 8.2 6.01309 8.3 6.01309C8.45586 6.01309 8.6 6.20329 8.6 6.31309C8.6 6.62136 8.43963 6.81922 8.2462 7.03337L7.3 8.1L4.5 3.9C5.1 3.8 5.4 3.61 5.7 3.31C6 3.01 6.2 2.6 6.2 2.2C6.2 1.8 6.08711 1.47 5.78711 1.17C5.52798 0.910875 5.3 0.8 5 0.7C4.6 0.6 4.1 0.5 3.4 0.5H1V0.7H1.2C1.82201 0.7 2 1.14292 2 1.7V6C2 6.59634 2 6.9 1.2 6.9H1V7.1H3.8V6.9H3.6C2.9041 6.9 2.9 6.61047 2.9 6V4H3H3.2ZM3 3.7C3 3.7 3 3.7 2.9 3.7L2.88711 1C3.18711 0.9 3.4 0.9 3.6 0.9C4.47782 0.9 5 1.42405 5 2.3C5 3.40743 4.15401 3.7 3.2 3.7H3Z"/>\n    `,"background-position-x":("EntitySet"!==n?0:Ot(Lt.Style.properties.entitySet.radius))+3*i,"background-position-y":t/2-11+"px","background-width":"22px","background-height":"24px"}})(0,f,n)),t=t.map(M=>({...M,"background-image":H1(M["background-image"],M["background-width"]||s,M["background-height"]||f)})),U1(t,z1)},e=>e.id()+"-"+e.classes().toString()+"-s:"+e.selected());var Lt;!function(e){class t{constructor(s,f={}){this.p=Gk,this.pm=Wk,t.css=getComputedStyle(s);const g=Hl(f.global||{}).setDefault("thickness",4).setDefault("surface",()=>t.css.getPropertyValue("--surface")||"#F6FEFF").setDefault("onSurface",()=>t.css.getPropertyValue("--on-surface")||"#001F24").setDefault("primary",()=>t.css.getPropertyValue("--primary")||"#006782").setDefault("onPrimary",()=>t.css.getPropertyValue("--on-primary")||"#FFFFFF").setDefault("positive",()=>t.css.getPropertyValue("--positive")||"#0C9509").setDefault("negative",()=>t.css.getPropertyValue("--negative")||"#BA1A1A").setDefault("select",()=>t.css.getPropertyValue("--select")||"#6EB3E4").setDefault("hover",()=>t.css.getPropertyValue("--hover")||"#78E076"),w=Hl(f.compartment||{}).setDefault("opacity",.12).setDefault("fill",()=>t.css.getPropertyValue("--compartment")||"#E5834A"),C=Hl(f.protein||{}).setDefault("fill",()=>t.css.getPropertyValue("--primary-contrast-1")||"#001F29").setDefault("disease",()=>t.css.getPropertyValue("--disease-contrast-1")||"#3E001D").setDefault("radius",8),M=Hl(f.genomeEncodedEntity||{}).setDefault("fill",()=>Ot(C.fill)).setDefault("stroke",()=>Ot(g.primary)).setDefault("disease",()=>Ot(C.disease)).setDefault("radius",8),N=Hl(f.rna||{}).setDefault("fill",()=>t.css.getPropertyValue("--primary-contrast-2")||"#003545").setDefault("disease",()=>t.css.getPropertyValue("--disease-contrast-2")||"#610B33").setDefault("radius",8),F=Hl(f.gene||{}).setDefault("decorationHeight",20).setDefault("arrowHeadSize",10).setDefault("borderRadius",8).setDefault("arrowRadius",8).setDefault("fill",()=>t.css.getPropertyValue("--primary-contrast-3")||"#004D62"),Y=Hl(f.molecule||{}).setDefault("fill",()=>Ot(g.surface)).setDefault("stroke",()=>Ot(g.onSurface)).setDefault("disease",()=>t.css.getPropertyValue("--disease-contrast-4")||"#9C3D61"),X=Hl(f.complex||{}).setDefault("cut",15).setDefault("fill",()=>t.css.getPropertyValue("--tertiary-contrast-1")||"#00315C").setDefault("stroke",()=>t.css.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("disease",()=>t.css.getPropertyValue("--disease-contrast-4")||"#7E2549"),ue=Hl(f.entitySet||{}).setDefault("radius",10).setDefault("fill",()=>t.css.getPropertyValue("--tertiary-contrast-2")||"#1660A5").setDefault("stroke",()=>t.css.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("disease",()=>t.css.getPropertyValue("--disease-contrast-5")||"#BB557A");t.properties={global:g,compartment:w,protein:C,genomeEncodedEntity:M,rna:N,gene:F,molecule:Y,complex:X,entitySet:ue}}bindToCytoscape(s){s.on("mouseover",f=>{f.target.addClass&&f.target.addClass("hover")}),s.on("mouseout",f=>{f.target.removeClass&&f.target?.removeClass("hover")})}getStyleSheet(){return[{selector:"*",style:{"font-family":"Helvetica","font-weight":600}},{selector:"node.Compartment",style:{shape:"round-rectangle",width:"1",height:"1","border-style":"double","text-opacity":.8,"text-halign":"center","text-valign":"top","text-margin-y":25,"overlay-opacity":0,color:this.p("compartment","fill"),"border-color":this.p("compartment","fill"),"background-color":this.p("compartment","fill"),"background-opacity":this.p("compartment","opacity"),"border-width":this.pm("global","thickness",s=>3*s)}},{selector:"node.PhysicalEntity",style:{label:"data(displayName)",width:"data(width)",height:"data(height)","background-fit":"none","text-halign":"center","text-valign":"center","text-wrap":"wrap","text-max-width":"data(width)","background-image-smoothing":"no","background-image":s=>Nd(s)["background-image"],"background-position-y":s=>Nd(s)["background-position-y"]||0,"background-position-x":s=>Nd(s)["background-position-x"]||0,"background-height":s=>Nd(s)["background-height"]||"100%","background-width":s=>Nd(s)["background-width"]||"100%","background-clip":s=>Nd(s)["background-clip"]||"clipped","background-image-containment":s=>Nd(s)["background-image-containment"]||"inside","bounds-expansion":this.p("global","thickness"),color:this.p("global","onPrimary")}},{selector:"node.Protein",style:{shape:"round-rectangle","background-color":this.p("protein","fill")}},{selector:"node.Protein.disease",style:{"background-color":this.p("protein","disease")}},{selector:"node.GenomeEncodedEntity",style:{shape:"round-rectangle","background-color":this.p("genomeEncodedEntity","fill")}},{selector:"node.GenomeEncodedEntity.disease",style:{"background-color":this.p("genomeEncodedEntity","disease")}},{selector:"node.RNA",style:{shape:"bottom-round-rectangle","background-color":this.p("rna","fill")}},{selector:"node.RNA.disease",style:{"background-color":this.p("rna","disease")}},{selector:"node.Gene",style:{shape:"bottom-round-rectangle","background-color":this.p("gene","fill"),"bounds-expansion":this.p("gene","decorationHeight")}},{selector:"node.Molecule",style:{"background-opacity":0,shape:"round-rectangle",color:this.p("molecule","stroke")}},{selector:"node.Molecule.disease",style:{color:this.p("molecule","disease")}},{selector:"node.EntitySet",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":s=>this.pm("global","thickness",f=>this.pm("entitySet","radius",g=>s.width()-2*g-6*f+"px"))}},{selector:"node.Complex",style:{"background-opacity":0,shape:"cut-rectangle"}},{selector:"node.disease",style:{"text-max-width":s=>s.width()-26+"px"}},{selector:"node.Pathway",style:{"text-max-width":s=>s.width()-26+"px"}},{selector:"node.reaction",style:{width:24,height:24,shape:"round-rectangle","text-halign":"center","text-valign":"center","border-width":this.p("global","thickness"),"border-color":this.p("global","onSurface"),color:this.p("global","onSurface"),"background-color":this.p("global","surface")}},{selector:"node.association",style:{shape:"ellipse","background-color":this.p("global","onSurface")}},{selector:" node.dissociation",style:{shape:"ellipse","border-style":"double","border-width":this.pm("global","thickness",s=>3*s)}},{selector:" node.uncertain",style:{label:"?","font-weight":600}},{selector:"node.omitted",style:{"background-image":n,"background-fit":"cover","background-height":"100%","background-width":"100%"}},{selector:"edge",style:{"curve-style":"bezier","line-cap":"round","source-endpoint":"outside-to-node","arrow-scale":1.5,width:this.p("global","thickness"),color:this.p("global","onSurface"),"line-color":this.p("global","onSurface"),"target-arrow-color":this.p("global","onSurface"),"mid-source-arrow-color":this.p("global","onSurface"),"mid-target-arrow-color":this.p("global","onSurface"),"source-arrow-color":this.p("global","onSurface")}},{selector:"edge.consumption",style:{"target-endpoint":"inside-to-node","source-endpoint":"outside-to-node"}},{selector:"edge.production",style:{"target-arrow-shape":"triangle"}},{selector:"edge.catalysis",style:{"target-arrow-shape":"circle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.positive-regulation",style:{"target-arrow-shape":"triangle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.negative-regulation",style:{"target-arrow-shape":"tee","line-cap":"butt","source-endpoint":"inside-to-node","target-arrow-color":this.p("global","negative")}},{selector:"edge.set-to-member",style:{"target-arrow-shape":"circle","line-style":"dashed","line-dash-pattern":[6,10]}},{selector:"edge[stoichiometry > 1]",style:{label:"data(stoichiometry)","text-background-color":this.p("global","surface"),"text-background-opacity":1,"text-border-width":this.pm("global","thickness",s=>s/2),"text-border-opacity":1,"text-border-color":this.p("global","onSurface"),"text-background-shape":"roundrectangle","text-background-padding":this.pm("global","thickness",s=>s+"px")}}]}update(s){for(let f of yw.values())f.cache.clear();s.style(this.getStyleSheet())}}e.Style=t;const n=H1('<line x1="2.5" y1="3" x2="4.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/><line x1="5.5" y1="3" x2="7.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/>',10,10)}(Lt||(Lt={}));const nO=["cytoscape"];let rO=(()=>{class e{constructor(){this.title="pathway-browser"}redraw(){this.cy?.elements().data({0:0})}random(n,i){return Math.floor(Math.random()*(i-n+1))+n}pick(n){return n[this.random(0,n.length-1)]}ngAfterViewInit(){const i=["Protein","EntitySet","GenomeEncodedEntity","RNA","Gene","Complex","Molecule"],s=["association","dissociation","transition","uncertain","omitted"],f=Array.from({length:100},(ue,me)=>{const Ue=this.pick(i);return{group:"nodes",data:{id:me.toString(),width:this.random(150,300),height:this.random(50,150),displayName:Ue,parent:"Compartment"},classes:[Ue,"PhysicalEntity",this.pick(["disease","",""])]}}),g=f.map((ue,me)=>({group:"nodes",data:{id:`${me}-react`,parent:"Compartment"},classes:[this.pick(s),"reaction"]})),w=f.flatMap((ue,me)=>[ue,g[me]]),N=[...f.flatMap((ue,me)=>[{group:"edges",data:{source:`${me}`,target:`${me}-react`,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["consumption"]},{group:"edges",data:{source:`${me}-react`,target:""+(me+1)%100,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["production"]}]),...Array.from({length:25}).map(()=>({group:"edges",data:{source:this.pick(f).data.id,target:this.pick(g).data.id},classes:this.pick(["catalysis","positive-regulation","negative-regulation","set-to-member"])}))],F=this.cytoscapeContainer.nativeElement,X=new Lt.Style(F,{});this.cy=Uk()({container:F,elements:[{data:{id:"Compartment"},classes:["Compartment"],pannable:!0,grabbable:!1,selectable:!1},...w,...N],style:X.getStyleSheet(),layout:{name:"cose"}}),X.bindToCytoscape(this.cy),this.cy.on("layoutstop",()=>this.cy?.minZoom(this.cy?.zoom()))}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=rl({type:e,selectors:[["cr-root"]],viewQuery:function(i,s){if(1&i&&nC(nO,5),2&i){let f;tC(f=function rC(){return function UT(e,t){return e[Ai].queries[t].queryList}(Ie(),wi())}())&&(s.cytoscapeContainer=f.first)}},decls:2,vars:0,consts:[["id","cytoscape"],["cytoscape",""]],template:function(i,s){1&i&&r0(0,"div",0,1)},styles:["#cytoscape[_ngcontent-%COMP%]{position:absolute;inset:0;background:#F6FEFF}"]})}return e})();const Dp=new At("CallSetDisabledState",{providedIn:"root",factory:()=>Ym}),Ym="always";let A_=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=ma({type:e});static#n=this.\u0275inj=Uo({})}return e})(),f2=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=ma({type:e});static#n=this.\u0275inj=Uo({imports:[A_]})}return e})(),h2=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Dp,useValue:n.callSetDisabledState??Ym}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=ma({type:e});static#n=this.\u0275inj=Uo({imports:[f2]})}return e})(),p2=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=ma({type:e,bootstrap:[rO]});static#n=this.\u0275inj=Uo({imports:[Rk,h2]})}return e})();kk().bootstrapModule(p2).catch(e=>console.error(e))},6100:(pe,qe,ie)=>{"use strict";var ce=ie(4430),L=ie(7444),Ee=ie(5440),De=ie(7939),Be=ie(9078);function Ce(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var et=Ce(ce),ct=Ce(L),dt=Ce(Ee),ht=Ce(De),En=Ce(Be);function en(a){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(a)}function ar(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function qn(a,r){for(var o=0;o<r.length;o++){var u=r[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}function Mn(a,r,o){return r&&qn(a.prototype,r),o&&qn(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function gn(a,r,o){return r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o,a}function Qt(a,r){return function He(a){if(Array.isArray(a))return a}(a)||function tt(a,r){var o=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=o){var h,v,u=[],c=!0,d=!1;try{for(o=o.call(a);!(c=(h=o.next()).done)&&(u.push(h.value),!r||u.length!==r);c=!0);}catch(y){d=!0,v=y}finally{try{!c&&null!=o.return&&o.return()}finally{if(d)throw v}}return u}}(a,r)||function ut(a,r){if(a){if("string"==typeof a)return pt(a,r);var o=Object.prototype.toString.call(a).slice(8,-1);if("Object"===o&&a.constructor&&(o=a.constructor.name),"Map"===o||"Set"===o)return Array.from(a);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return pt(a,r)}}(a,r)||function vn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(a,r){(null==r||r>a.length)&&(r=a.length);for(var o=0,u=new Array(r);o<r;o++)u[o]=a[o];return u}var bt=typeof window>"u"?null:window,an=bt?bt.navigator:null,$n=en(""),gi=en({}),no=en(function(){}),Vi=typeof HTMLElement>"u"?"undefined":en(HTMLElement),fr=function(r){return r&&r.instanceString&&In(r.instanceString)?r.instanceString():null},Ye=function(r){return null!=r&&en(r)==$n},In=function(r){return null!=r&&en(r)===no},dn=function(r){return!si(r)&&(Array.isArray?Array.isArray(r):null!=r&&r instanceof Array)},mt=function(r){return null!=r&&en(r)===gi&&!dn(r)&&r.constructor===Object},nt=function(r){return null!=r&&en(r)===en(1)&&!isNaN(r)},$i=function(r){if("undefined"!==Vi)return null!=r&&r instanceof HTMLElement},si=function(r){return Rs(r)||Od(r)},Rs=function(r){return"collection"===fr(r)&&r._private.single},Od=function(r){return"collection"===fr(r)&&!r._private.single},Mi=function(r){return"core"===fr(r)},ro=function(r){return"stylesheet"===fr(r)},Ii=function(r){return null==r||!(""!==r&&!r.match(/^\s+$/))},Fs=function(r){return function(r){return null!=r&&en(r)===gi}(r)&&In(r.then)},Ls=function(r,o){o||(o=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var d=[],h=0;h<arguments.length;h++)d.push(arguments[h]);return d.join("$")});var u=function c(){var v,h=arguments,y=o.apply(this,h),m=c.cache;return(v=m[y])||(v=m[y]=r.apply(this,h)),v};return u.cache={},u},Hi=Ls(function(a){return a.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()})}),ns=Ls(function(a){return a.replace(/(-\w)/g,function(r){return r[1].toUpperCase()})}),Sp=Ls(function(a,r){return a+r[0].toUpperCase()+r.substring(1)},function(a,r){return a+"$"+r}),la=function(r){return Ii(r)?r:r.charAt(0).toUpperCase()+r.substring(1)},Nr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",xp="rgb[a]?\\(("+Nr+"[%]?)\\s*,\\s*("+Nr+"[%]?)\\s*,\\s*("+Nr+"[%]?)(?:\\s*,\\s*("+Nr+"))?\\)",Bs="rgb[a]?\\((?:"+Nr+"[%]?)\\s*,\\s*(?:"+Nr+"[%]?)\\s*,\\s*(?:"+Nr+"[%]?)(?:\\s*,\\s*(?:"+Nr+"))?\\)",Co="hsl[a]?\\(("+Nr+")\\s*,\\s*("+Nr+"[%])\\s*,\\s*("+Nr+"[%])(?:\\s*,\\s*("+Nr+"))?\\)",rs="hsl[a]?\\((?:"+Nr+")\\s*,\\s*(?:"+Nr+"[%])\\s*,\\s*(?:"+Nr+"[%])(?:\\s*,\\s*(?:"+Nr+"))?\\)",is=function(r,o){return r<o?-1:r>o?1:0},yt=null!=Object.assign?Object.assign.bind(Object):function(a){for(var r=arguments,o=1;o<r.length;o++){var u=r[o];if(null!=u)for(var c=Object.keys(u),d=0;d<c.length;d++){var h=c[d];a[h]=u[h]}}return a},pf={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Zl=function(r){for(var o=r.map,u=r.keys,c=u.length,d=0;d<c;d++){var h=u[d];if(mt(h))throw Error("Tried to set map with object key");d<u.length-1?(null==o[h]&&(o[h]={}),o=o[h]):o[h]=r.value}},Yl=function(r){for(var o=r.map,u=r.keys,c=u.length,d=0;d<c;d++){var h=u[d];if(mt(h))throw Error("Tried to get map with object key");if(null==(o=o[h]))return o}return o},Uu=bt?bt.performance:null,Kl=Uu&&Uu.now?function(){return Uu.now()}:function(){return Date.now()},Ip=function(){if(bt){if(bt.requestAnimationFrame)return function(a){bt.requestAnimationFrame(a)};if(bt.mozRequestAnimationFrame)return function(a){bt.mozRequestAnimationFrame(a)};if(bt.webkitRequestAnimationFrame)return function(a){bt.webkitRequestAnimationFrame(a)};if(bt.msRequestAnimationFrame)return function(a){bt.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(Kl())},1e3/60)}}(),Ql=function(r){return Ip(r)},ca=Kl,os=9261,Xl=5381,vf=function(r){for(var c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:os;!(c=r.next()).done;)u=65599*u+c.value|0;return u},$s=function(r){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:os)+r|0},Hs=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xl;return(o<<5)+o+r|0},fa=function(r){return 2097152*r[0]+r[1]},Jl=function(r,o){return[$s(r[0],o[0]),Hs(r[1],o[1])]},Ho=function(r,o){var u={value:0,done:!1},c=0,d=r.length;return vf({next:function(){return c<d?u.value=r.charCodeAt(c++):u.done=!0,u}},o)},yf=function(){return ec(arguments)},ec=function(r){for(var o,u=0;u<r.length;u++){var c=r[u];o=0===u?Ho(c):Ho(c,o)}return o},_o=!0,Tp=null!=console.warn,Ap=null!=console.trace,wf=Number.MAX_SAFE_INTEGER||9007199254740991,Fd=function(){return!0},ju=function(){return!1},Ld=function(){return 0},bf=function(){},Pn=function(r){throw new Error(r)},Bd=function(r){if(void 0===r)return _o;_o=!!r},Cn=function(r){Bd()&&(Tp?console.warn(r):(console.log(r),Ap&&console.trace()))},So=function(r){return null==r?r:dn(r)?r.slice():mt(r)?function(r){return yt({},r)}(r):r},Vd=function(r,o){for(o=r="";r++<36;o+=51*r&52?(15^r?8^Math.random()*(20^r?16:4):4).toString(16):"-");return o},tc={},nc=function(){return tc},br=function(r){var o=Object.keys(r);return function(u){for(var c={},d=0;d<o.length;d++){var h=o[d],v=u?.[h];c[h]=void 0===v?r[h]:v}return c}},da=function(r,o,u){for(var c=r.length-1;c>=0&&(r[c]!==o||(r.splice(c,1),!u));c--);},Df=function(r){r.splice(0,r.length)},zi=function(r,o,u){return u&&(o=Sp(u,o)),r[o]},ha=function(r,o,u,c){u&&(o=Sp(u,o)),r[o]=c},zo=typeof Map<"u"?Map:function(){function a(){ar(this,a),this._obj={}}return Mn(a,[{key:"set",value:function(o,u){return this._obj[o]=u,this}},{key:"delete",value:function(o){return this._obj[o]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(o){return void 0!==this._obj[o]}},{key:"get",value:function(o){return this._obj[o]}}]),a}(),zd=function(){function a(r){if(ar(this,a),this._obj=Object.create(null),this.size=0,null!=r){var o;o=null!=r.instanceString&&r.instanceString()===this.instanceString()?r.toArray():r;for(var u=0;u<o.length;u++)this.add(o[u])}}return Mn(a,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(o){var u=this._obj;1!==u[o]&&(u[o]=1,this.size++)}},{key:"delete",value:function(o){var u=this._obj;1===u[o]&&(u[o]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(o){return 1===this._obj[o]}},{key:"toArray",value:function(){var o=this;return Object.keys(this._obj).filter(function(u){return o.has(u)})}},{key:"forEach",value:function(o,u){return this.toArray().forEach(o,u)}}]),a}(),zs="undefined"!==(typeof Set>"u"?"undefined":en(Set))?Set:zd,Gu=function(r,o){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==r&&void 0!==o&&Mi(r)){var c=o.group;if(null==c&&(c=o.data&&null!=o.data.source&&null!=o.data.target?"edges":"nodes"),"nodes"===c||"edges"===c){this.length=1,this[0]=this;var d=this._private={cy:r,single:!0,data:o.data||{},position:o.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:c,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!o.selected,selectable:void 0===o.selectable||!!o.selectable,locked:!!o.locked,grabbed:!1,grabbable:void 0===o.grabbable||!!o.grabbable,pannable:void 0===o.pannable?"edges"===c:!!o.pannable,active:!1,classes:new zs,animation:{current:[],queue:[]},rscratch:{},scratch:o.scratch||{},edges:[],children:[],parent:o.parent&&o.parent.isNode()?o.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==d.position.x&&(d.position.x=0),null==d.position.y&&(d.position.y=0),o.renderedPosition){var h=o.renderedPosition,v=r.pan(),y=r.zoom();d.position={x:(h.x-v.x)/y,y:(h.y-v.y)/y}}var m=[];dn(o.classes)?m=o.classes:Ye(o.classes)&&(m=o.classes.split(/\s+/));for(var b=0,E=m.length;b<E;b++){var _=m[b];!_||""===_||d.classes.add(_)}this.createEmitter();var x=o.style||o.css;x&&(Cn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(x)),(void 0===u||u)&&this.restore()}else Pn("An element must be of type `nodes` or `edges`; you specified `"+c+"`")}else Pn("An element must have a core reference and parameters set")},Wu=function(r){return r={bfs:r.bfs||!r.dfs,dfs:r.dfs||!r.bfs},function(u,c,d){var h;mt(u)&&!si(u)&&(u=(h=u).roots||h.root,c=h.visit,d=h.directed),d=2!==arguments.length||In(c)?d:c,c=In(c)?c:function(){};for(var A,v=this._private.cy,y=u=Ye(u)?this.filter(u):u,m=[],b=[],E={},_={},x={},S=0,T=this.byGroup(),P=T.nodes,k=T.edges,O=0;O<y.length;O++){var B=y[O],G=B.id();B.isNode()&&(m.unshift(B),r.bfs&&(x[G]=!0,b.push(B)),_[G]=0)}for(var q=function(){var ee=r.bfs?m.shift():m.pop(),Z=ee.id();if(r.dfs){if(x[Z])return"continue";x[Z]=!0,b.push(ee)}var we,ae=_[Z],te=E[Z],ne=null!=te?te.source():null,fe=null!=te?te.target():null,he=null==te?void 0:ee.same(ne)?fe[0]:ne[0];if(!0===(we=c(ee,te,he,S++,ae)))return A=ee,"break";if(!1===we)return"break";for(var de=ee.connectedEdges().filter(function(Me){return(!d||Me.source().same(ee))&&k.has(Me)}),ye=0;ye<de.length;ye++){var Te=de[ye],Oe=Te.connectedNodes().filter(function(Me){return!Me.same(ee)&&P.has(Me)}),xe=Oe.id();0!==Oe.length&&!x[xe]&&(m.push(Oe=Oe[0]),r.bfs&&(x[xe]=!0,b.push(Oe)),E[xe]=Te,_[xe]=_[Z]+1)}};0!==m.length;){var V=q();if("continue"!==V&&"break"===V)break}for(var W=v.collection(),H=0;H<b.length;H++){var K=b[H],Q=E[K.id()];null!=Q&&W.push(Q),W.push(K)}return{path:v.collection(W),found:v.collection(A)}}},Us={breadthFirstSearch:Wu({bfs:!0}),depthFirstSearch:Wu({dfs:!0})};Us.bfs=Us.breadthFirstSearch,Us.dfs=Us.depthFirstSearch;var Ef=br({root:null,weight:function(r){return 1},directed:!1}),kp={dijkstra:function(r){if(!mt(r)){var o=arguments;r={root:o[0],weight:o[1],directed:o[2]}}var te,ne,u=Ef(r),c=u.root,h=u.directed,v=this,y=u.weight,m=Ye(c)?this.filter(c)[0]:c[0],b={},E={},_={},x=this.byGroup(),S=x.nodes,A=x.edges;A.unmergeBy(function(ae){return ae.isLoop()});for(var T=function(te){return b[te.id()]},k=new ct.default(function(ae,te){return T(ae)-T(te)}),O=0;O<S.length;O++){var B=S[O];b[B.id()]=B.same(m)?0:1/0,k.push(B)}for(var G=function(te,ne){for(var we,fe=(h?te.edgesTo(ne):te.edgesWith(ne)).intersect(A),he=1/0,de=0;de<fe.length;de++){var ye=fe[de],Te=y(ye);(Te<he||!we)&&(he=Te,we=ye)}return{edge:we,dist:he}};k.size()>0;){var q=k.pop(),V=T(q),W=q.id();if(_[W]=V,V!==1/0)for(var H=q.neighborhood().intersect(S),K=0;K<H.length;K++){var Q=H[K],U=Q.id(),ee=G(q,Q),Z=V+ee.dist;Z<T(Q)&&(ne=Z,b[(te=Q).id()]=ne,k.updateItem(te),E[U]={node:q,edge:ee.edge})}}return{distanceTo:function(te){var ne=Ye(te)?S.filter(te)[0]:te[0];return _[ne.id()]},pathTo:function(te){var ne=Ye(te)?S.filter(te)[0]:te[0],fe=[],he=ne,we=he.id();if(ne.length>0)for(fe.unshift(ne);E[we];){var de=E[we];fe.unshift(de.edge),fe.unshift(de.node),we=(he=de.node).id()}return v.spawn(fe)}}}},Cf={kruskal:function(r){r=r||function(O){return 1};for(var o=this.byGroup(),u=o.nodes,c=o.edges,d=u.length,h=new Array(d),v=u,y=function(B){for(var G=0;G<h.length;G++)if(h[G].has(B))return G},m=0;m<d;m++)h[m]=this.spawn(u[m]);for(var b=c.sort(function(O,B){return r(O)-r(B)}),E=0;E<b.length;E++){var _=b[E],x=_.source()[0],S=_.target()[0],A=y(x),T=y(S),P=h[A],k=h[T];A!==T&&(v.merge(_),P.merge(k),h.splice(T,1))}return v}},js=br({root:null,goal:null,weight:function(r){return 1},heuristic:function(r){return 0},directed:!1}),Ud={aStar:function(r){var o=this.cy(),u=js(r),c=u.root,d=u.goal,h=u.heuristic,v=u.directed,y=u.weight;c=o.collection(c)[0],d=o.collection(d)[0];var O,B,m=c.id(),b=d.id(),E={},_={},x={},S=new ct.default(function(we,de){return _[we.id()]-_[de.id()]}),A=new zs,T={},P={},k=function(de,ye){S.push(de),A.add(ye)};k(c,m),E[m]=0,_[m]=h(c);for(var V=0;S.size()>0;){if(B=(O=S.pop()).id(),A.delete(B),V++,B===b){for(var W=[],H=d,K=b,Q=P[K];W.unshift(H),null!=Q&&W.unshift(Q),null!=(H=T[K]);)Q=P[K=H.id()];return{found:!0,distance:E[B],path:this.spawn(W),steps:V}}x[B]=!0;for(var U=O._private.edges,ee=0;ee<U.length;ee++){var Z=U[ee];if(this.hasElementWithId(Z.id())&&(!v||Z.data("source")===B)){var ae=Z.source(),te=Z.target(),ne=ae.id()!==B?ae:te,fe=ne.id();if(this.hasElementWithId(fe)&&!x[fe]){var he=E[B]+y(Z);if(!A.has(fe)){E[fe]=he,_[fe]=he+h(ne),k(ne,fe),T[fe]=O,P[fe]=Z;continue}he<E[fe]&&(E[fe]=he,_[fe]=he+h(ne),T[fe]=O,P[fe]=Z)}}}}return{found:!1,distance:void 0,path:void 0,steps:V}}},Op=br({weight:function(r){return 1},directed:!1}),jd={floydWarshall:function(r){for(var o=this.cy(),u=Op(r),d=u.directed,h=u.weight,v=this.byGroup(),y=v.nodes,m=v.edges,b=y.length,E=b*b,_=function(Te){return y.indexOf(Te)},x=function(Te){return y[Te]},S=new Array(E),A=0;A<E;A++){var T=A%b;S[A]=(A-T)/b===T?0:1/0}for(var k=new Array(E),O=new Array(E),B=0;B<m.length;B++){var G=m[B],q=G.source()[0],V=G.target()[0];if(q!==V){var W=_(q),H=_(V),K=W*b+H,Q=h(G);if(S[K]>Q&&(S[K]=Q,k[K]=H,O[K]=G),!d){var U=H*b+W;!d&&S[U]>Q&&(S[U]=Q,k[U]=W,O[U]=G)}}}for(var ee=0;ee<b;ee++)for(var Z=0;Z<b;Z++)for(var ae=Z*b+ee,te=0;te<b;te++){var ne=Z*b+te,fe=ee*b+te;S[ae]+S[fe]<S[ne]&&(S[ne]=S[ae]+S[fe],k[ne]=k[ae])}var we=function(Te){return _(function(Te){return(Ye(Te)?o.filter(Te):Te)[0]}(Te))};return{distance:function(Te,Oe){var xe=we(Te),Me=we(Oe);return S[xe*b+Me]},path:function(Te,Oe){var xe=we(Te),Me=we(Oe),le=x(xe);if(xe===Me)return le.collection();if(null==k[xe*b+Me])return o.collection();var Ae=o.collection();for(Ae.merge(le);xe!==Me;)Ae.merge(O[xe*b+(xe=k[xe*b+Me])]),Ae.merge(x(xe));return Ae}}}},kn=br({weight:function(r){return 1},directed:!1,root:null}),Gs={bellmanFord:function(r){var o=this,u=kn(r),d=u.directed,h=u.root,v=u.weight,y=this,m=this.cy(),b=this.byGroup(),E=b.edges,_=b.nodes,x=_.length,S=new zo,A=!1,T=[];h=m.collection(h)[0],E.unmergeBy(function(ft){return ft.isLoop()});for(var P=E.length,k=function(Ge){var Xe=S.get(Ge.id());return Xe||(Xe={},S.set(Ge.id(),Xe)),Xe},O=function(Ge){return(Ye(Ge)?m.$(Ge):Ge)[0]},q=0;q<x;q++){var V=_[q],W=k(V);W.dist=V.same(h)?0:1/0,W.pred=null,W.edge=null}for(var H=!1,K=function(Ge,Xe,nn,Pt,Et,Nn){var Fe=Pt.dist+Nn;Fe<Et.dist&&!nn.same(Pt.edge)&&(Et.dist=Fe,Et.pred=Ge,Et.edge=nn,H=!0)},Q=1;Q<x;Q++){H=!1;for(var U=0;U<P;U++){var ee=E[U],Z=ee.source(),ae=ee.target(),te=v(ee),ne=k(Z),fe=k(ae);K(Z,0,ee,ne,fe,te),d||K(ae,0,ee,fe,ne,te)}if(!H)break}if(H)for(var he=[],we=0;we<P;we++){var de=E[we],ye=de.source(),Te=de.target(),Oe=v(de),xe=k(ye).dist,Me=k(Te).dist;if(xe+Oe<Me||!d&&Me+Oe<xe){if(A||(Cn("Graph contains a negative weight cycle for Bellman-Ford"),A=!0),!1===r.findNegativeWeightCycles)break;var le=[];xe+Oe<Me&&le.push(ye),!d&&Me+Oe<xe&&le.push(Te);for(var Ae=le.length,Re=0;Re<Ae;Re++){var je=le[Re],Ke=[je];Ke.push(k(je).edge);for(var gt=k(je).pred;-1===Ke.indexOf(gt);)Ke.push(gt),Ke.push(k(gt).edge),gt=k(gt).pred;for(var Ut=(Ke=Ke.slice(Ke.indexOf(gt)))[0].id(),rt=0,We=2;We<Ke.length;We+=2)Ke[We].id()<Ut&&(Ut=Ke[We].id(),rt=We);(Ke=Ke.slice(rt).concat(Ke.slice(0,rt))).push(Ke[0]);var $e=Ke.map(function(ft){return ft.id()}).join(",");-1===he.indexOf($e)&&(T.push(y.spawn(Ke)),he.push($e))}}}return{distanceTo:function(Ge){return k(O(Ge)).dist},pathTo:function(Ge){for(var Xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,Pt=[],Et=O(Ge);;){if(null==Et)return o.spawn();var Nn=k(Et),Fe=Nn.edge,j=Nn.pred;if(Pt.unshift(Et[0]),Et.same(Xe)&&Pt.length>0)break;null!=Fe&&Pt.unshift(Fe),Et=j}return y.spawn(Pt)},hasNegativeWeightCycle:A,negativeWeightCycles:T}}},Pr=Math.sqrt(2),rc=function(r,o,u){0===u.length&&Pn("Karger-Stein must be run on a connected (sub)graph");for(var c=u[r],v=o[c[1]],y=o[c[2]],m=u,b=m.length-1;b>=0;b--){var E=m[b],_=E[1],x=E[2];(o[_]===v&&o[x]===y||o[_]===y&&o[x]===v)&&m.splice(b,1)}for(var S=0;S<m.length;S++){var A=m[S];A[1]===y?(m[S]=A.slice(),m[S][1]=v):A[2]===y&&(m[S]=A.slice(),m[S][2]=v)}for(var T=0;T<o.length;T++)o[T]===y&&(o[T]=v);return m},qu=function(r,o,u,c){for(;u>c;){var d=Math.floor(Math.random()*o.length);o=rc(d,r,o),u--}return o},Vn={kargerStein:function(){var r=this,o=this.byGroup(),u=o.nodes,c=o.edges;c.unmergeBy(function(fe){return fe.isLoop()});var d=u.length,h=c.length,v=Math.ceil(Math.pow(Math.log(d)/Math.LN2,2)),y=Math.floor(d/Pr);if(!(d<2)){for(var m=[],b=0;b<h;b++){var E=c[b];m.push([b,u.indexOf(E.source()),u.indexOf(E.target())])}for(var _=1/0,x=[],S=new Array(d),A=new Array(d),T=new Array(d),P=function(he,we){for(var de=0;de<d;de++)we[de]=he[de]},k=0;k<=v;k++){for(var O=0;O<d;O++)A[O]=O;var B=qu(A,m.slice(),d,y),G=B.slice();P(A,T);var q=qu(A,B,y,2),V=qu(T,G,y,2);q.length<=V.length&&q.length<_?(_=q.length,x=q,P(A,S)):V.length<=q.length&&V.length<_&&(_=V.length,x=V,P(T,S))}for(var W=this.spawn(x.map(function(fe){return c[fe[0]]})),H=this.spawn(),K=this.spawn(),Q=S[0],U=0;U<S.length;U++){var Z=u[U];S[U]===Q?H.merge(Z):K.merge(Z)}var ae=function(he){var we=r.spawn();return he.forEach(function(de){we.merge(de),de.connectedEdges().forEach(function(ye){r.contains(ye)&&!W.contains(ye)&&we.merge(ye)})}),we},te=[ae(H),ae(K)];return{cut:W,components:te,partition1:H,partition2:K}}Pn("At least 2 nodes are required for Karger-Stein algorithm")}},as=function(r,o,u){return{x:r.x*o+u.x,y:r.y*o+u.y}},Zu=function(r,o,u){return{x:(r.x-u.x)/o,y:(r.y-u.y)/o}},Yu=function(r){return{x:r[0],y:r[1]}},ic=function(r,o){return Math.atan2(o,r)-Math.PI/2},Gd=Math.log2||function(a){return Math.log(a)/Math.log(2)},Sf=function(r){return r>0?1:r<0?-1:0},pa=function(r,o){return Math.sqrt(kr(r,o))},kr=function(r,o){var u=o.x-r.x,c=o.y-r.y;return u*u+c*c},dv=function(r){for(var o=r.length,u=0,c=0;c<o;c++)u+=r[c];for(var d=0;d<o;d++)r[d]=r[d]/u;return r},$r=function(r,o,u,c){return(1-c)*(1-c)*r+2*(1-c)*c*o+c*c*u},ss=function(r,o,u,c){return{x:$r(r.x,o.x,u.x,c),y:$r(r.y,o.y,u.y,c)}},oc=function(r,o,u){return Math.max(r,Math.min(u,o))},Ui=function(r){if(null==r)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=r.x1&&null!=r.y1){if(null!=r.x2&&null!=r.y2&&r.x2>=r.x1&&r.y2>=r.y1)return{x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,w:r.x2-r.x1,h:r.y2-r.y1};if(null!=r.w&&null!=r.h&&r.w>=0&&r.h>=0)return{x1:r.x1,y1:r.y1,x2:r.x1+r.w,y2:r.y1+r.h,w:r.w,h:r.h}}},Kn=function(r,o){r.x1=Math.min(r.x1,o.x1),r.x2=Math.max(r.x2,o.x2),r.w=r.x2-r.x1,r.y1=Math.min(r.y1,o.y1),r.y2=Math.max(r.y2,o.y2),r.h=r.y2-r.y1},Qn=function(r,o,u){r.x1=Math.min(r.x1,o),r.x2=Math.max(r.x2,o),r.w=r.x2-r.x1,r.y1=Math.min(r.y1,u),r.y2=Math.max(r.y2,u),r.h=r.y2-r.y1},ac=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.x1-=o,r.x2+=o,r.y1-=o,r.y2+=o,r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},Wd=function(r){var u,c,d,h,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)u=c=d=h=o[0];else if(2===o.length)u=d=o[0],h=c=o[1];else if(4===o.length){var v=Qt(o,4);u=v[0],c=v[1],d=v[2],h=v[3]}return r.x1-=h,r.x2+=c,r.y1-=u,r.y2+=d,r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},ji=function(r,o){r.x1=o.x1,r.y1=o.y1,r.x2=o.x2,r.y2=o.y2,r.w=r.x2-r.x1,r.h=r.y2-r.y1},Mt=function(r,o){return!(r.x1>o.x2||o.x1>r.x2||r.x2<o.x1||o.x2<r.x1||r.y2<o.y1||o.y2<r.y1||r.y1>o.y2||o.y1>r.y2)},Qu=function(r,o,u){return r.x1<=o&&o<=r.x2&&r.y1<=u&&u<=r.y2},gv=function(r,o){return Qu(r,o.x,o.y)},qd=function(r,o){return Qu(r,o.x1,o.y1)&&Qu(r,o.x2,o.y2)},Rn=function(r,o,u,c,d,h,v){var E,y=Oa(d,h),m=d/2,b=h/2,x=c-b-v;if((E=ga(r,o,u,c,u-m+y-v,x,u+m-y+v,x,!1)).length>0)return E;var T=u+m+v;if((E=ga(r,o,u,c,T,c-b+y-v,T,c+b-y+v,!1)).length>0)return E;var G=c+b+v;if((E=ga(r,o,u,c,u-m+y-v,G,u+m-y+v,G,!1)).length>0)return E;var U,W=u-m-v;if((E=ga(r,o,u,c,W,c-b+y-v,W,c+b-y+v,!1)).length>0)return E;var ee=u-m+y,Z=c-b+y;if((U=Ws(r,o,u,c,ee,Z,y+v)).length>0&&U[0]<=ee&&U[1]<=Z)return[U[0],U[1]];var ae=u+m-y,te=c-b+y;if((U=Ws(r,o,u,c,ae,te,y+v)).length>0&&U[0]>=ae&&U[1]<=te)return[U[0],U[1]];var ne=u+m-y,fe=c+b-y;if((U=Ws(r,o,u,c,ne,fe,y+v)).length>0&&U[0]>=ne&&U[1]>=fe)return[U[0],U[1]];var he=u-m+y,we=c+b-y;return(U=Ws(r,o,u,c,he,we,y+v)).length>0&&U[0]<=he&&U[1]>=we?[U[0],U[1]]:[]},ui=function(r,o,u,c,d,h,v){var y=v,m=Math.min(u,d),b=Math.max(u,d),E=Math.min(c,h),_=Math.max(c,h);return m-y<=r&&r<=b+y&&E-y<=o&&o<=_+y},Uo=function(r,o,u,c,d,h,v,y,m){var b_x1=Math.min(u,v,d)-m,b_x2=Math.max(u,v,d)+m,b_y1=Math.min(c,y,h)-m,b_y2=Math.max(c,y,h)+m;return!(r<b_x1||r>b_x2||o<b_y1||o>b_y2)},sc=function(r,o,u,c,d,h,v,y){var x=[];!function(r,o,u,c,d){var v,y,m,b,E,_,x,S;0===r&&(r=1e-5),m=-27*(c/=r)+(o/=r)*(9*(u/=r)-o*o*2),v=(y=(3*u-o*o)/9)*y*y+(m/=54)*m,d[1]=0,x=o/3,v>0?(E=(E=m+Math.sqrt(v))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),_=(_=m-Math.sqrt(v))<0?-Math.pow(-_,1/3):Math.pow(_,1/3),d[0]=-x+E+_,d[4]=d[2]=-(x+=(E+_)/2),x=Math.sqrt(3)*(-_+E)/2,d[3]=x,d[5]=-x):(d[5]=d[3]=0,0===v?(S=m<0?-Math.pow(-m,1/3):Math.pow(m,1/3),d[0]=2*S-x,d[4]=d[2]=-(S+x)):(b=(y=-y)*y*y,b=Math.acos(m/Math.sqrt(b)),S=2*Math.sqrt(y),d[0]=-x+S*Math.cos(b/3),d[2]=-x+S*Math.cos((b+2*Math.PI)/3),d[4]=-x+S*Math.cos((b+4*Math.PI)/3)))}(1*u*u-4*u*d+2*u*v+4*d*d-4*d*v+v*v+c*c-4*c*h+2*c*y+4*h*h-4*h*y+y*y,9*u*d-3*u*u-3*u*v-6*d*d+3*d*v+9*c*h-3*c*c-3*c*y-6*h*h+3*h*y,3*u*u-6*u*d+u*v-u*r+2*d*d+2*d*r-v*r+3*c*c-6*c*h+c*y-c*o+2*h*h+2*h*o-y*o,1*u*d-u*u+u*r-d*r+c*h-c*c+c*o-h*o,x);for(var A=[],T=0;T<6;T+=2)Math.abs(x[T+1])<1e-7&&x[T]>=0&&x[T]<=1&&A.push(x[T]);A.push(1),A.push(0);for(var k,O,B,P=-1,G=0;G<A.length;G++)k=Math.pow(1-A[G],2)*u+2*(1-A[G])*A[G]*d+A[G]*A[G]*v,O=Math.pow(1-A[G],2)*c+2*(1-A[G])*A[G]*h+A[G]*A[G]*y,B=Math.pow(k-r,2)+Math.pow(O-o,2),P>=0?B<P&&(P=B):P=B;return P},io=function(r,o,u,c,d,h){var v=[r-u,o-c],y=[d-u,h-c],m=y[0]*y[0]+y[1]*y[1],b=v[0]*v[0]+v[1]*v[1],E=v[0]*y[0]+v[1]*y[1],_=E*E/m;return E<0?b:_>m?(r-d)*(r-d)+(o-h)*(o-h):b-_},Hr=function(r,o,u){for(var c,d,h,v,m=0,b=0;b<u.length/2;b++)if(d=u[2*b+1],b+1<u.length/2?(h=u[2*(b+1)],v=u[2*(b+1)+1]):(h=u[2*(b+1-u.length/2)],v=u[2*(b+1-u.length/2)+1]),(c=u[2*b])!=r||h!=r){if(!(c>=r&&r>=h||c<=r&&r<=h))continue;(r-c)/(h-c)*(v-d)+d>o&&m++}return m%2!=0},Gi=function(r,o,u,c,d,h,v,y,m){var E,A,b=new Array(u.length);null!=y[0]?(E=Math.atan(y[1]/y[0]),y[0]<0?E+=Math.PI/2:E=-E-Math.PI/2):E=y;for(var _=Math.cos(-E),x=Math.sin(-E),S=0;S<b.length/2;S++)b[2*S]=h/2*(u[2*S]*_-u[2*S+1]*x),b[2*S+1]=v/2*(u[2*S+1]*_+u[2*S]*x),b[2*S]+=c,b[2*S+1]+=d;if(m>0){var T=xf(b,-m);A=lc(T)}else A=b;return Hr(r,o,A)},lc=function(r){for(var v,y,m,b,o=new Array(r.length/2),E=0;E<r.length/4;E++){E<r.length/4-1?(v=r[4*(E+1)],y=r[4*(E+1)+1],m=r[4*(E+1)+2],b=r[4*(E+1)+3]):(v=r[0],y=r[1],m=r[2],b=r[3]);var _=ga(r[4*E],r[4*E+1],r[4*E+2],r[4*E+3],v,y,m,b,!0);o[2*E]=_[0],o[2*E+1]=_[1]}return o},xf=function(r,o){for(var c,d,h,v,u=new Array(2*r.length),y=0;y<r.length/2;y++){y<r.length/2-1?(h=r[2*(y+1)],v=r[2*(y+1)+1]):(h=r[0],v=r[1]);var m=v-(d=r[2*y+1]),b=-(h-(c=r[2*y])),E=Math.sqrt(m*m+b*b),_=m/E,x=b/E;u[4*y]=c+_*o,u[4*y+1]=d+x*o,u[4*y+2]=h+_*o,u[4*y+3]=v+x*o}return u},mr=function(r,o,u,c,d,h,v){return r-=d,o-=h,(r/=u/2+v)*r+(o/=c/2+v)*o<=1},Ws=function(r,o,u,c,d,h,v){var y=[u-r,c-o],m=[r-d,o-h],b=y[0]*y[0]+y[1]*y[1],E=2*(m[0]*y[0]+m[1]*y[1]),x=E*E-4*b*(m[0]*m[0]+m[1]*m[1]-v*v);if(x<0)return[];var S=(-E+Math.sqrt(x))/(2*b),A=(-E-Math.sqrt(x))/(2*b),T=Math.min(S,A),P=Math.max(S,A),k=[];if(T>=0&&T<=1&&k.push(T),P>=0&&P<=1&&k.push(P),0===k.length)return[];var O=k[0]*y[0]+r,B=k[0]*y[1]+o;return k.length>1?k[0]==k[1]?[O,B]:[O,B,k[1]*y[0]+r,k[1]*y[1]+o]:[O,B]},Hn=function(r,o,u){return o<=r&&r<=u||u<=r&&r<=o?r:r<=o&&o<=u||u<=o&&o<=r?o:u},ga=function(r,o,u,c,d,h,v,y,m){var b=r-d,E=u-r,_=v-d,x=o-h,S=c-o,A=y-h,T=_*x-A*b,P=E*x-S*b,k=A*E-_*S;if(0!==k){var O=T/k,B=P/k,q=-.001;return q<=O&&O<=1.001&&q<=B&&B<=1.001||m?[r+O*E,o+O*S]:[]}return 0===T||0===P?Hn(r,u,v)===v?[v,y]:Hn(r,u,d)===d?[d,h]:Hn(d,v,u)===u?[u,c]:[]:[]},Xu=function(r,o,u,c,d,h,v,y){var b,x,m=[],E=new Array(u.length),_=!0;if(null==h&&(_=!1),_){for(var S=0;S<E.length/2;S++)E[2*S]=u[2*S]*h+c,E[2*S+1]=u[2*S+1]*v+d;if(y>0){var A=xf(E,-y);x=lc(A)}else x=E}else x=u;for(var k,O,B=0;B<x.length/2;B++)B<x.length/2-1?(k=x[2*(B+1)],O=x[2*(B+1)+1]):(k=x[0],O=x[1]),0!==(b=ga(r,o,c,d,x[2*B],x[2*B+1],k,O)).length&&m.push(b[0],b[1]);return m},qs=function(r,o,u){var c=[r[0]-o[0],r[1]-o[1]],d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=(d-u)/d;return h<0&&(h=1e-5),[o[0]+h*c[0],o[1]+h*c[1]]},li=function(r,o){var u=oo(r,o);return zn(u)},zn=function(r){for(var o,u,c=r.length/2,d=1/0,h=1/0,v=-1/0,y=-1/0,m=0;m<c;m++)o=r[2*m],u=r[2*m+1],d=Math.min(d,o),v=Math.max(v,o),h=Math.min(h,u),y=Math.max(y,u);for(var b=2/(v-d),E=2/(y-h),_=0;_<c;_++)o=r[2*_]=r[2*_]*b,u=r[2*_+1]=r[2*_+1]*E,d=Math.min(d,o),v=Math.max(v,o),h=Math.min(h,u),y=Math.max(y,u);if(h<-1)for(var x=0;x<c;x++)u=r[2*x+1]=r[2*x+1]+(-1-h);return r},oo=function(r,o){var u=1/r*2*Math.PI,c=r%2==0?Math.PI/2+u/2:Math.PI/2;c+=o;for(var h,d=new Array(2*r),v=0;v<r;v++)h=v*u+c,d[2*v]=Math.cos(h),d[2*v+1]=Math.sin(-h);return d},Oa=function(r,o){return Math.min(r/4,o/4,8)},Ju=function(r,o){return Math.min(r/10,o/10,8)},Zd=function(r,o){return{heightOffset:Math.min(15,.05*o),widthOffset:Math.min(100,.25*r),ctrlPtOffsetPct:.05}},vv=br({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(r){return 1}}),Fp={pageRank:function(r){for(var o=vv(r),u=o.dampingFactor,c=o.precision,d=o.iterations,h=o.weight,v=this._private.cy,y=this.byGroup(),m=y.nodes,b=y.edges,E=m.length,x=b.length,S=new Array(E*E),A=new Array(E),T=(1-u)/E,P=0;P<E;P++){for(var k=0;k<E;k++)S[P*E+k]=0;A[P]=0}for(var B=0;B<x;B++){var G=b[B],q=G.data("source"),V=G.data("target");if(q!==V){var W=m.indexOfId(q),H=m.indexOfId(V),K=h(G);S[H*E+W]+=K,A[W]+=K}}for(var U=1/E+T,ee=0;ee<E;ee++)if(0===A[ee])for(var Z=0;Z<E;Z++)S[Z*E+ee]=U;else for(var te=0;te<E;te++){var ne=te*E+ee;S[ne]=S[ne]/A[ee]+T}for(var we,fe=new Array(E),he=new Array(E),de=0;de<E;de++)fe[de]=1;for(var ye=0;ye<d;ye++){for(var Te=0;Te<E;Te++)he[Te]=0;for(var Oe=0;Oe<E;Oe++)for(var xe=0;xe<E;xe++)he[Oe]+=S[Oe*E+xe]*fe[xe];dv(he),we=fe,fe=he,he=we;for(var le=0,Ae=0;Ae<E;Ae++){var Re=we[Ae]-fe[Ae];le+=Re*Re}if(le<c)break}return{rank:function(gt){return gt=v.collection(gt)[0],fe[m.indexOf(gt)]}}}},fc=br({root:null,weight:function(r){return 1},directed:!1,alpha:0}),jo={degreeCentralityNormalized:function(r){r=fc(r);var o=this.cy(),u=this.nodes(),c=u.length;if(r.directed){for(var b={},E={},_=0,x=0,S=0;S<c;S++){var A=u[S],T=A.id();r.root=A;var P=this.degreeCentrality(r);_<P.indegree&&(_=P.indegree),x<P.outdegree&&(x=P.outdegree),b[T]=P.indegree,E[T]=P.outdegree}return{indegree:function(O){return 0==_?0:(Ye(O)&&(O=o.filter(O)),b[O.id()]/_)},outdegree:function(O){return 0===x?0:(Ye(O)&&(O=o.filter(O)),E[O.id()]/x)}}}for(var d={},h=0,v=0;v<c;v++){var y=u[v];r.root=y;var m=this.degreeCentrality(r);h<m.degree&&(h=m.degree),d[y.id()]=m.degree}return{degree:function(O){return 0===h?0:(Ye(O)&&(O=o.filter(O)),d[O.id()]/h)}}},degreeCentrality:function(r){r=fc(r);var o=this.cy(),u=this,d=r.root,h=r.weight,v=r.directed,y=r.alpha;if(d=o.collection(d)[0],v){for(var x=d.connectedEdges(),S=x.filter(function(q){return q.target().same(d)&&u.has(q)}),A=x.filter(function(q){return q.source().same(d)&&u.has(q)}),T=S.length,P=A.length,k=0,O=0,B=0;B<S.length;B++)k+=h(S[B]);for(var G=0;G<A.length;G++)O+=h(A[G]);return{indegree:Math.pow(T,1-y)*Math.pow(k,y),outdegree:Math.pow(P,1-y)*Math.pow(O,y)}}for(var m=d.connectedEdges().intersection(u),b=m.length,E=0,_=0;_<m.length;_++)E+=h(m[_]);return{degree:Math.pow(b,1-y)*Math.pow(E,y)}}};jo.dc=jo.degreeCentrality,jo.dcn=jo.degreeCentralityNormalised=jo.degreeCentralityNormalized;var Zs=br({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),va={closenessCentralityNormalized:function(r){for(var o=Zs(r),u=o.harmonic,c=o.weight,d=o.directed,h=this.cy(),v={},y=0,m=this.nodes(),b=this.floydWarshall({weight:c,directed:d}),E=0;E<m.length;E++){for(var _=0,x=m[E],S=0;S<m.length;S++)if(E!==S){var A=b.distance(x,m[S]);_+=u?1/A:A}u||(_=1/_),y<_&&(y=_),v[x.id()]=_}return{closeness:function(P){return 0==y?0:(P=Ye(P)?h.filter(P)[0].id():P.id(),v[P]/y)}}},closenessCentrality:function(r){var o=Zs(r),u=o.root,c=o.weight,d=o.directed,h=o.harmonic;u=this.filter(u)[0];for(var v=this.dijkstra({root:u,weight:c,directed:d}),y=0,m=this.nodes(),b=0;b<m.length;b++){var E=m[b];if(!E.same(u)){var _=v.distanceTo(E);y+=h?1/_:_}}return h?y:1/y}};va.cc=va.closenessCentrality,va.ccn=va.closenessCentralityNormalised=va.closenessCentralityNormalized;var el=br({weight:null,directed:!1}),tl={betweennessCentrality:function(r){for(var o=el(r),u=o.directed,c=o.weight,d=null!=c,h=this.cy(),v=this.nodes(),y={},m={},b=0,E={set:function(O,B){m[O]=B,B>b&&(b=B)},get:function(O){return m[O]}},_=0;_<v.length;_++){var x=v[_],S=x.id();y[S]=u?x.outgoers().nodes():x.openNeighborhood().nodes(),E.set(S,0)}for(var A=function(O){for(var B=v[O].id(),G=[],q={},V={},W={},H=new ct.default(function(xe,Me){return W[xe]-W[Me]}),K=0;K<v.length;K++){var Q=v[K].id();q[Q]=[],V[Q]=0,W[Q]=1/0}for(V[B]=1,W[B]=0,H.push(B);!H.empty();){var U=H.pop();if(G.push(U),d)for(var ee=0;ee<y[U].length;ee++){var te,Z=y[U][ee],ae=h.getElementById(U);te=ae.edgesTo(Z).length>0?ae.edgesTo(Z)[0]:Z.edgesTo(ae)[0];var ne=c(te);Z=Z.id(),W[Z]>W[U]+ne&&(W[Z]=W[U]+ne,H.nodes.indexOf(Z)<0?H.push(Z):H.updateItem(Z),V[Z]=0,q[Z]=[]),W[Z]==W[U]+ne&&(V[Z]=V[Z]+V[U],q[Z].push(U))}else for(var fe=0;fe<y[U].length;fe++){var he=y[U][fe].id();W[he]==1/0&&(H.push(he),W[he]=W[U]+1),W[he]==W[U]+1&&(V[he]=V[he]+V[U],q[he].push(U))}}for(var we={},de=0;de<v.length;de++)we[v[de].id()]=0;for(;G.length>0;){for(var ye=G.pop(),Te=0;Te<q[ye].length;Te++){var Oe=q[ye][Te];we[Oe]=we[Oe]+V[Oe]/V[ye]*(1+we[ye])}ye!=v[O].id()&&E.set(ye,E.get(ye)+we[ye])}},T=0;T<v.length;T++)A(T);var P={betweenness:function(O){var B=h.collection(O).id();return E.get(B)},betweennessNormalized:function(O){if(0==b)return 0;var B=h.collection(O).id();return E.get(B)/b}};return P.betweennessNormalised=P.betweennessNormalized,P}};tl.bc=tl.betweennessCentrality;var If=br({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(a){return 1}]}),Kd=function(r,o){for(var u=0,c=0;c<o.length;c++)u+=o[c](r);return u},dc=function(r,o){for(var u,c=0;c<o;c++){u=0;for(var d=0;d<o;d++)u+=r[d*o+c];for(var h=0;h<o;h++)r[h*o+c]=r[h*o+c]/u}},Fa=function(r,o,u){for(var c=new Array(u*u),d=0;d<u;d++){for(var h=0;h<u;h++)c[d*u+h]=0;for(var v=0;v<u;v++)for(var y=0;y<u;y++)c[d*u+y]+=r[d*u+v]*o[v*u+y]}return c},Qd=function(r,o,u){for(var c=r.slice(0),d=1;d<u;d++)r=Fa(r,c,o);return r},Ft=function(r,o,u){for(var c=new Array(o*o),d=0;d<o*o;d++)c[d]=Math.pow(r[d],u);return dc(c,o),c},hc=function(r,o,u,c){for(var d=0;d<u;d++)if(Math.round(r[d]*Math.pow(10,c))/Math.pow(10,c)!=Math.round(o[d]*Math.pow(10,c))/Math.pow(10,c))return!1;return!0},nl=function(r,o){for(var u=0;u<r.length;u++)if(!o[u]||r[u].id()!==o[u].id())return!1;return!0},Ys=function(r){for(var o=this.nodes(),u=this.edges(),c=this.cy(),d=function(r){return If(r)}(r),h={},v=0;v<o.length;v++)h[o[v].id()]=v;for(var E,y=o.length,m=y*y,b=new Array(m),_=0;_<m;_++)b[_]=0;for(var x=0;x<u.length;x++){var S=u[x],A=h[S.source().id()],T=h[S.target().id()],P=Kd(S,d.attributes);b[A*y+T]+=P,b[T*y+A]+=P}(function(r,o,u){for(var c=0;c<o;c++)r[c*o+c]=u})(b,y,d.multFactor),dc(b,y);for(var k=!0,O=0;k&&O<d.maxIterations;)k=!1,E=Qd(b,y,d.expandFactor),b=Ft(E,y,d.inflateFactor),hc(b,E,m,4)||(k=!0),O++;var B=function(r,o,u,c){for(var d=[],h=0;h<o;h++){for(var v=[],y=0;y<o;y++)Math.round(1e3*r[h*o+y])/1e3>0&&v.push(u[y]);0!==v.length&&d.push(c.collection(v))}return d}(b,y,o,c);return B=function(r){for(var o=0;o<r.length;o++)for(var u=0;u<r.length;u++)o!=u&&nl(r[o],r[u])&&r.splice(u,1);return r}(B),B},Lp={markovClustering:Ys,mcl:Ys},Bp=function(r){return r},Xd=function(r,o){return Math.abs(o-r)},Go=function(r,o,u){return r+Xd(o,u)},Wo=function(r,o,u){return r+Math.pow(u-o,2)},xo=function(r){return Math.sqrt(r)},qo=function(r,o,u){return Math.max(r,Xd(o,u))},rn=function(r,o,u,c,d){for(var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bp,v=c,b=0;b<r;b++)v=d(v,o(b),u(b));return h(v)},Zo={euclidean:function(r,o,u){return r>=2?rn(r,o,u,0,Wo,xo):rn(r,o,u,0,Go)},squaredEuclidean:function(r,o,u){return rn(r,o,u,0,Wo)},manhattan:function(r,o,u){return rn(r,o,u,0,Go)},max:function(r,o,u){return rn(r,o,u,-1/0,qo)}};function Wi(a,r,o,u,c,d){var h;return h=In(a)?a:Zo[a]||Zo.euclidean,0===r&&In(a)?h(c,d):h(r,o,u,c,d)}Zo["squared-euclidean"]=Zo.squaredEuclidean,Zo.squaredeuclidean=Zo.squaredEuclidean;var Ks=br({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),gc=function(r){return Ks(r)},ao=function(r,o,u,c,d){var v="kMedoids"!==d?function(E){return u[E]}:function(E){return c[E](u)};return Wi(r,c.length,v,function(_){return c[_](o)},u,o)},ls=function(r,o,u){for(var c=u.length,d=new Array(c),h=new Array(c),v=new Array(o),y=null,m=0;m<c;m++)d[m]=r.min(u[m]).value,h[m]=r.max(u[m]).value;for(var b=0;b<o;b++){y=[];for(var E=0;E<c;E++)y[E]=Math.random()*(h[E]-d[E])+d[E];v[b]=y}return v},La=function(r,o,u,c,d){for(var h=1/0,v=0,y=0;y<o.length;y++){var m=ao(u,r,o[y],c,d);m<h&&(h=m,v=y)}return v},qi=function(r,o,u){for(var c=[],d=null,h=0;h<o.length;h++)u[(d=o[h]).id()]===r&&c.push(d);return c},vc=function(r,o,u){return Math.abs(o-r)<=u},Jd=function(r,o,u){for(var c=0;c<r.length;c++)for(var d=0;d<r[c].length;d++)if(Math.abs(r[c][d]-o[c][d])>u)return!1;return!0},eh=function(r,o,u){for(var c=0;c<u;c++)if(r===o[c])return!0;return!1},Qs=function(r,o){var u=new Array(o);if(r.length<50)for(var c=0;c<o;c++){for(var d=r[Math.floor(Math.random()*r.length)];eh(d,u,c);)d=r[Math.floor(Math.random()*r.length)];u[c]=d}else for(var h=0;h<o;h++)u[h]=r[Math.floor(Math.random()*r.length)];return u},Tf=function(r,o,u){for(var c=0,d=0;d<o.length;d++)c+=ao("manhattan",o[d],r,u,"kMedoids");return c},oe=function(r,o,u,c,d){for(var h,v,y=0;y<o.length;y++)for(var m=0;m<r.length;m++)c[y][m]=Math.pow(u[y][m],d.m);for(var b=0;b<r.length;b++)for(var E=0;E<d.attributes.length;E++){h=0,v=0;for(var _=0;_<o.length;_++)h+=c[_][b]*d.attributes[E](o[_]),v+=c[_][b];r[b][E]=h/v}},_e=function(r,o,u,c,d){for(var h=0;h<r.length;h++)o[h]=r[h].slice();for(var v,y,m,b=2/(d.m-1),E=0;E<u.length;E++)for(var _=0;_<c.length;_++){v=0;for(var x=0;x<u.length;x++)y=ao(d.distance,c[_],u[E],d.attributes,"cmeans"),m=ao(d.distance,c[_],u[x],d.attributes,"cmeans"),v+=Math.pow(y/m,b);r[_][E]=1/v}},ot=function(r){var d,h,v,y,m,o=this.cy(),u=this.nodes(),c=gc(r);y=new Array(u.length);for(var b=0;b<u.length;b++)y[b]=new Array(c.k);v=new Array(u.length);for(var E=0;E<u.length;E++)v[E]=new Array(c.k);for(var _=0;_<u.length;_++){for(var x=0,S=0;S<c.k;S++)v[_][S]=Math.random(),x+=v[_][S];for(var A=0;A<c.k;A++)v[_][A]=v[_][A]/x}h=new Array(c.k);for(var T=0;T<c.k;T++)h[T]=new Array(c.attributes.length);m=new Array(u.length);for(var P=0;P<u.length;P++)m[P]=new Array(c.k);for(var k=!0,O=0;k&&O<c.maxIterations;)k=!1,oe(h,u,v,m,c),_e(v,y,h,u,c),Jd(v,y,c.sensitivityThreshold)||(k=!0),O++;return d=function(r,o,u,c){for(var d=new Array(u.k),h=0;h<d.length;h++)d[h]=[];for(var v,y,m=0;m<o.length;m++){v=-1/0,y=-1;for(var b=0;b<o[0].length;b++)o[m][b]>v&&(v=o[m][b],y=b);d[y].push(r[m])}for(var E=0;E<d.length;E++)d[E]=c.collection(d[E]);return d}(u,v,c,o),{clusters:d,degreeOfMembership:v}},Ht={kMeans:function(r){var y,o=this.cy(),u=this.nodes(),c=null,d=gc(r),h=new Array(d.k),v={};y=d.testMode?"number"==typeof d.testCentroids?ls(u,d.k,d.attributes):"object"===en(d.testCentroids)?d.testCentroids:ls(u,d.k,d.attributes):ls(u,d.k,d.attributes);for(var m=!0,b=0;m&&b<d.maxIterations;){for(var E=0;E<u.length;E++)v[(c=u[E]).id()]=La(c,y,d.distance,d.attributes,"kMeans");m=!1;for(var _=0;_<d.k;_++){var x=qi(_,u,v);if(0!==x.length){for(var S=d.attributes.length,A=y[_],T=new Array(S),P=new Array(S),k=0;k<S;k++){P[k]=0;for(var O=0;O<x.length;O++)P[k]+=d.attributes[k](c=x[O]);T[k]=P[k]/x.length,vc(T[k],A[k],d.sensitivityThreshold)||(m=!0)}y[_]=T,h[_]=o.collection(x)}}b++}return h},kMedoids:function(r){var v,m,o=this.cy(),u=this.nodes(),c=null,d=gc(r),h=new Array(d.k),y={},b=new Array(d.k);d.testMode?"number"==typeof d.testCentroids||(v="object"===en(d.testCentroids)?d.testCentroids:Qs(u,d.k)):v=Qs(u,d.k);for(var E=!0,_=0;E&&_<d.maxIterations;){for(var x=0;x<u.length;x++)y[(c=u[x]).id()]=La(c,v,d.distance,d.attributes,"kMedoids");E=!1;for(var S=0;S<v.length;S++){var A=qi(S,u,y);if(0!==A.length){b[S]=Tf(v[S],A,d.attributes);for(var T=0;T<A.length;T++)(m=Tf(A[T],A,d.attributes))<b[S]&&(b[S]=m,v[S]=A[T],E=!0);h[S]=o.collection(A)}}_++}return h},fuzzyCMeans:ot,fcm:ot},_n=br({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Or={single:"min",complete:"max"},yc=function(r,o,u,c,d){for(var y,h=0,v=1/0,m=d.attributes,b=function(H,K){return Wi(d.distance,m.length,function(Q){return m[Q](H)},function(Q){return m[Q](K)},H,K)},E=0;E<r.length;E++){var _=r[E].key,x=u[_][c[_]];x<v&&(h=_,v=x)}if("threshold"===d.mode&&v>=d.threshold||"dendrogram"===d.mode&&1===r.length)return!1;var T,S=o[h],A=o[c[h]];T="dendrogram"===d.mode?{left:S,right:A,key:S.key}:{value:S.value.concat(A.value),key:S.key},r[S.index]=T,r.splice(A.index,1),o[S.key]=T;for(var P=0;P<r.length;P++){var k=r[P];S.key===k.key?y=1/0:"min"===d.linkage?(y=u[S.key][k.key],u[S.key][k.key]>u[A.key][k.key]&&(y=u[A.key][k.key])):"max"===d.linkage?(y=u[S.key][k.key],u[S.key][k.key]<u[A.key][k.key]&&(y=u[A.key][k.key])):y="mean"===d.linkage?(u[S.key][k.key]*S.size+u[A.key][k.key]*A.size)/(S.size+A.size):"dendrogram"===d.mode?b(k.value,S.value):b(k.value[0],S.value[0]),u[S.key][k.key]=u[k.key][S.key]=y}for(var O=0;O<r.length;O++){var B=r[O].key;if(c[B]===S.key||c[B]===A.key){for(var G=B,q=0;q<r.length;q++){var V=r[q].key;u[B][V]<u[B][G]&&(G=V)}c[B]=G}r[O].index=O}return S.key=A.key=S.index=A.index=null,!0},wc=function a(r,o,u){r&&(r.value?o.push(r.value):(r.left&&a(r.left,o),r.right&&a(r.right,o)))},Zi=function a(r,o){if(!r)return"";if(r.left&&r.right){var u=a(r.left,o),c=a(r.right,o),d=o.add({group:"nodes",data:{id:u+","+c}});return o.add({group:"edges",data:{source:u,target:d.id()}}),o.add({group:"edges",data:{source:c,target:d.id()}}),d.id()}return r.value?r.value.id():void 0},bc=function a(r,o,u){if(!r)return[];var c=[],d=[],h=[];return 0===o?(r.left&&wc(r.left,c),r.right&&wc(r.right,d),h=c.concat(d),[u.collection(h)]):1===o?r.value?[u.collection(r.value)]:(r.left&&wc(r.left,c),r.right&&wc(r.right,d),[u.collection(c),u.collection(d)]):r.value?[u.collection(r.value)]:(r.left&&(c=a(r.left,o-1,u)),r.right&&(d=a(r.right,o-1,u)),c.concat(d))},nh=function(r){for(var o=this.cy(),u=this.nodes(),c=function(r){var o=_n(r),u=Or[o.linkage];return null!=u&&(o.linkage=u),o}(r),d=c.attributes,h=function(O,B){return Wi(c.distance,d.length,function(G){return d[G](O)},function(G){return d[G](B)},O,B)},v=[],y=[],m=[],b=[],E=0;E<u.length;E++){var _={value:"dendrogram"===c.mode?u[E]:[u[E]],key:E,index:E};v[E]=_,b[E]=_,y[E]=[],m[E]=0}for(var x=0;x<v.length;x++)for(var S=0;S<=x;S++){var A;A="dendrogram"===c.mode?x===S?1/0:h(v[x].value,v[S].value):x===S?1/0:h(v[x].value[0],v[S].value[0]),y[x][S]=A,y[S][x]=A,A<y[x][m[x]]&&(m[x]=S)}for(var T=yc(v,b,y,m,c);T;)T=yc(v,b,y,m,c);var P;return"dendrogram"===c.mode?(P=bc(v[0],c.dendrogramDepth,o),c.addDendrogram&&Zi(v[0],o)):(P=new Array(v.length),v.forEach(function(k,O){k.key=k.index=null,P[O]=o.collection(k.value)})),P},Xs={hierarchicalClustering:nh,hca:nh},rl=br({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Fn=function(r,o,u,c){var d=function(v,y){return c[y](v)};return-Wi(r,c.length,function(h){return d(o,h)},function(h){return d(u,h)},o,u)},il=function(r,o,u){for(var c=[],d=0;d<r;d++){for(var h=-1,v=-1/0,y=0;y<u.length;y++){var m=u[y];o[d*r+m]>v&&(h=m,v=o[d*r+m])}h>0&&c.push(h)}for(var b=0;b<u.length;b++)c[u[b]]=u[b];return c},Bt=function(r){for(var o=this.cy(),u=this.nodes(),c=function(r){var o=r.damping,u=r.preference;.5<=o&&o<1||Pn("Damping must range on [0.5, 1).  Got: ".concat(o));var c=["median","mean","min","max"];return c.some(function(d){return d===u})||nt(u)||Pn("Preference must be one of [".concat(c.map(function(d){return"'".concat(d,"'")}).join(", "),"] or a number.  Got: ").concat(u)),rl(r)}(r),d={},h=0;h<u.length;h++)d[u[h].id()]=h;var v,y,m,b,E,_,H;y=(v=u.length)*v,m=new Array(y);for(var x=0;x<y;x++)m[x]=-1/0;for(var S=0;S<v;S++)for(var A=0;A<v;A++)S!==A&&(m[S*v+A]=Fn(c.distance,u[S],u[A],c.attributes));b=function(r,o){var u;return u="median"===o?function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(u<r.length&&r.splice(u,r.length-u),o>0&&r.splice(0,o)):r=r.slice(o,u);for(var v=0,y=r.length-1;y>=0;y--)h?isFinite(r[y])||(r[y]=-1/0,v++):r.splice(y,1);d&&r.sort(function(_,x){return _-x});var b=r.length,E=Math.floor(b/2);return b%2!=0?r[E+1+v]:(r[E-1+v]+r[E+v])/2}(r):"mean"===o?function(r){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,c=0,d=0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<u;h++){var v=r[h];isFinite(v)&&(c+=v,d++)}return c/d}(r):"min"===o?function(r){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,c=1/0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d<u;d++){var h=r[d];isFinite(h)&&(c=Math.min(h,c))}return c}(r):"max"===o?function(r){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,c=-1/0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d<u;d++){var h=r[d];isFinite(h)&&(c=Math.max(h,c))}return c}(r):o,u}(m,c.preference);for(var T=0;T<v;T++)m[T*v+T]=b;E=new Array(y);for(var P=0;P<y;P++)E[P]=0;_=new Array(y);for(var k=0;k<y;k++)_[k]=0;for(var O=new Array(v),B=new Array(v),G=new Array(v),q=0;q<v;q++)O[q]=0,B[q]=0,G[q]=0;for(var V=new Array(v*c.minIterations),W=0;W<V.length;W++)V[W]=0;for(H=0;H<c.maxIterations;H++){for(var K=0;K<v;K++){for(var Q=-1/0,U=-1/0,ee=-1,Z=0,ae=0;ae<v;ae++)O[ae]=E[K*v+ae],(Z=_[K*v+ae]+m[K*v+ae])>=Q?(U=Q,Q=Z,ee=ae):Z>U&&(U=Z);for(var te=0;te<v;te++)E[K*v+te]=(1-c.damping)*(m[K*v+te]-Q)+c.damping*O[te];E[K*v+ee]=(1-c.damping)*(m[K*v+ee]-U)+c.damping*O[ee]}for(var ne=0;ne<v;ne++){for(var fe=0,he=0;he<v;he++)O[he]=_[he*v+ne],B[he]=Math.max(0,E[he*v+ne]),fe+=B[he];fe-=B[ne],B[ne]=E[ne*v+ne],fe+=B[ne];for(var we=0;we<v;we++)_[we*v+ne]=(1-c.damping)*Math.min(0,fe-B[we])+c.damping*O[we];_[ne*v+ne]=(1-c.damping)*(fe-B[ne])+c.damping*O[ne]}for(var de=0,ye=0;ye<v;ye++){var Te=_[ye*v+ye]+E[ye*v+ye]>0?1:0;V[H%c.minIterations*v+ye]=Te,de+=Te}if(de>0&&(H>=c.minIterations-1||H==c.maxIterations-1)){for(var Oe=0,xe=0;xe<v;xe++){G[xe]=0;for(var Me=0;Me<c.minIterations;Me++)G[xe]+=V[Me*v+xe];(0===G[xe]||G[xe]===c.minIterations)&&Oe++}if(Oe===v)break}}for(var le=function(r,o,u){for(var c=[],d=0;d<r;d++)o[d*r+d]+u[d*r+d]>0&&c.push(d);return c}(v,E,_),Ae=function(r,o,u){for(var c=il(r,o,u),d=0;d<u.length;d++){for(var h=[],v=0;v<c.length;v++)c[v]===u[d]&&h.push(v);for(var y=-1,m=-1/0,b=0;b<h.length;b++){for(var E=0,_=0;_<h.length;_++)E+=o[h[_]*r+h[b]];E>m&&(y=b,m=E)}u[d]=h[y]}return il(r,o,u)}(v,m,le),Re={},je=0;je<le.length;je++)Re[le[je]]=[];for(var Ke=0;Ke<u.length;Ke++){var Ut=Ae[d[u[Ke].id()]];null!=Ut&&Re[Ut].push(u[Ke])}for(var rt=new Array(le.length),We=0;We<le.length;We++)rt[We]=o.collection(Re[le[We]]);return rt},Ti={affinityPropagation:Bt,ap:Bt},sn=br({root:void 0,directed:!1}),nr={hierholzer:function(r){if(!mt(r)){var o=arguments;r={root:o[0],directed:o[1]}}var y,m,b,u=sn(r),c=u.root,d=u.directed,h=this,v=!1;c&&(b=Ye(c)?this.filter(c)[0].id():c[0].id());var E={},_={};h.forEach(d?function(k){var O=k.id();if(k.isNode()){var B=k.indegree(!0),G=k.outdegree(!0),q=B-G,V=G-B;1==q?y?v=!0:y=O:1==V?m?v=!0:m=O:(V>1||q>1)&&(v=!0),E[O]=[],k.outgoers().forEach(function(W){W.isEdge()&&E[O].push(W.id())})}else _[O]=[void 0,k.target().id()]}:function(k){var O=k.id();k.isNode()?(k.degree(!0)%2&&(y?m?v=!0:m=O:y=O),E[O]=[],k.connectedEdges().forEach(function(G){return E[O].push(G.id())})):_[O]=[k.source().id(),k.target().id()]});var x={found:!1,trail:void 0};if(v)return x;if(m&&y)if(d){if(b&&m!=b)return x;b=m}else{if(b&&m!=b&&y!=b)return x;b||(b=m)}else b||(b=h[0].id());var S=function(O){for(var q,V,W,B=O,G=[O];E[B].length;)q=E[B].shift(),V=_[q][0],B!=(W=_[q][1])?(E[W]=E[W].filter(function(H){return H!=q}),B=W):!d&&B!=V&&(E[V]=E[V].filter(function(H){return H!=q}),B=V),G.unshift(q),G.unshift(B);return G},A=[],T=[];for(T=S(b);1!=T.length;)0==E[T[0]].length?(A.unshift(h.getElementById(T.shift())),A.unshift(h.getElementById(T.shift()))):T=S(T.shift()).concat(T);for(var P in A.unshift(h.getElementById(T.shift())),E)if(E[P].length)return x;return x.found=!0,x.trail=this.spawn(A,!0),x}},yr=function(){var r=this,o={},u=0,c=0,d=[],h=[],v={},m=function E(_,x,S){_===S&&(c+=1),o[x]={id:u,low:u++,cutVertex:!1};var T,P,k,O,A=r.getElementById(x).connectedEdges().intersection(r);0===A.size()?d.push(r.spawn(r.getElementById(x))):A.forEach(function(B){T=B.source().id(),P=B.target().id(),(k=T===x?P:T)!==S&&(O=B.id(),v[O]||(v[O]=!0,h.push({x,y:k,edge:B})),k in o?o[x].low=Math.min(o[x].low,o[k].id):(E(_,k,x),o[x].low=Math.min(o[x].low,o[k].low),o[x].id<=o[k].low&&(o[x].cutVertex=!0,function(_,x){for(var S=h.length-1,A=[],T=r.spawn();h[S].x!=_||h[S].y!=x;)A.push(h.pop().edge),S--;A.push(h.pop().edge),A.forEach(function(P){var k=P.connectedNodes().intersection(r);T.merge(P),k.forEach(function(O){var B=O.id(),G=O.connectedEdges().intersection(r);T.merge(O),T.merge(o[B].cutVertex?G.filter(function(q){return q.isLoop()}):G)})}),d.push(T)}(x,k))))})};r.forEach(function(E){if(E.isNode()){var _=E.id();_ in o||(c=0,m(_,_),o[_].cutVertex=c>1)}});var b=Object.keys(o).filter(function(E){return o[E].cutVertex}).map(function(E){return r.getElementById(E)});return{cut:r.spawn(b),components:d}},Rr=function(){var r=this,o={},u=0,c=[],d=[],h=r.spawn(r),v=function y(m){if(d.push(m),o[m]={index:u,low:u++,explored:!1},r.getElementById(m).connectedEdges().intersection(r).forEach(function(A){var T=A.target().id();T!==m&&(T in o||y(T),o[T].explored||(o[m].low=Math.min(o[m].low,o[T].low)))}),o[m].index===o[m].low){for(var E=r.spawn();;){var _=d.pop();if(E.merge(r.getElementById(_)),o[_].low=o[m].index,o[_].explored=!0,_===m)break}var x=E.edgesWith(E),S=E.merge(x);c.push(S),h=h.difference(S)}};return r.forEach(function(y){if(y.isNode()){var m=y.id();m in o||v(m)}}),{cut:h,components:c}},Ec={};[Us,kp,Cf,Ud,jd,Gs,Vn,Fp,jo,va,tl,Lp,Ht,Xs,Ti,nr,{hopcroftTarjanBiconnected:yr,htbc:yr,htb:yr,hopcroftTarjanBiconnectedComponents:yr},{tarjanStronglyConnected:Rr,tsc:Rr,tscc:Rr,tarjanStronglyConnectedComponents:Rr}].forEach(function(a){yt(Ec,a)});var fn=function a(r){if(!(this instanceof a))return new a(r);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof r&&r.call(this,this.fulfill.bind(this),this.reject.bind(this))};fn.prototype={fulfill:function(r){return at(this,1,"fulfillValue",r)},reject:function(r){return at(this,2,"rejectReason",r)},then:function(r,o){var u=this,c=new fn;return u.onFulfilled.push(so(r,c,"fulfill")),u.onRejected.push(so(o,c,"reject")),zt(u),c.proxy}};var at=function(r,o,u,c){return 0===r.state&&(r.state=o,r[u]=c,zt(r)),r},zt=function(r){1===r.state?Xn(r,"onFulfilled",r.fulfillValue):2===r.state&&Xn(r,"onRejected",r.rejectReason)},Xn=function(r,o,u){if(0!==r[o].length){var c=r[o];r[o]=[];var d=function(){for(var v=0;v<c.length;v++)c[v](u)};"function"==typeof setImmediate?setImmediate(d):setTimeout(d,0)}},so=function(r,o,u){return function(c){if("function"!=typeof r)o[u].call(o,c);else{var d;try{d=r(c)}catch(h){return void o.reject(h)}Va(o,d)}}},Va=function a(r,o){if(r!==o&&r.proxy!==o){var u;if("object"===en(o)&&null!==o||"function"==typeof o)try{u=o.then}catch(d){return void r.reject(d)}if("function"!=typeof u)r.fulfill(o);else{var c=!1;try{u.call(o,function(d){c||(c=!0,d===o?r.reject(new TypeError("circular thenable chain")):a(r,d))},function(d){c||(c=!0,r.reject(d))})}catch(d){c||r.reject(d)}}}else r.reject(new TypeError("cannot resolve promise with itself"))};fn.all=function(a){return new fn(function(r,o){for(var u=new Array(a.length),c=0,d=function(y,m){u[y]=m,++c===a.length&&r(u)},h=0;h<a.length;h++)!function(v){var y=a[v];null!=y&&null!=y.then?y.then(function(E){d(v,E)},function(E){o(E)}):d(v,y)}(h)})},fn.resolve=function(a){return new fn(function(r,o){r(a)})},fn.reject=function(a){return new fn(function(r,o){o(a)})};var rr=typeof Promise<"u"?Promise:fn,Yo=function(r,o,u){var c=Mi(r),d=!c,h=this._private=yt({duration:1e3},o,u);if(h.target=r,h.style=h.style||h.css,h.started=!1,h.playing=!1,h.hooked=!1,h.applying=!1,h.progress=0,h.completes=[],h.frames=[],h.complete&&In(h.complete)&&h.completes.push(h.complete),d){var v=r.position();h.startPosition=h.startPosition||{x:v.x,y:v.y},h.startStyle=h.startStyle||r.cy().style().getAnimationStartStyle(r,h.style)}if(c){var y=r.pan();h.startPan={x:y.x,y:y.y},h.startZoom=r.zoom()}this.length=1,this[0]=this},jn=Yo.prototype;yt(jn,{instanceString:function(){return"animation"},hook:function(){var r=this._private;if(!r.hooked){var u=r.target._private.animation;(r.queue?u.queue:u.current).push(this),si(r.target)&&r.target.cy().addToAnimationPool(r.target),r.hooked=!0}return this},play:function(){var r=this._private;return 1===r.progress&&(r.progress=0),r.playing=!0,r.started=!1,r.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var r=this._private;return r.applying=!0,r.started=!1,r.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var r=this._private;return r.playing=!1,r.started=!1,this},stop:function(){var r=this._private;return r.playing=!1,r.started=!1,r.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(r){var o=this._private;return void 0===r?o.progress*o.duration:this.progress(r/o.duration)},progress:function(r){var o=this._private,u=o.playing;return void 0===r?o.progress:(u&&this.pause(),o.progress=r,o.started=!1,u&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var r=this._private,o=r.playing;o&&this.pause(),r.progress=1-r.progress,r.started=!1;var u=function(m,b){var E=r[m];null!=E&&(r[m]=r[b],r[b]=E)};if(u("zoom","startZoom"),u("pan","startPan"),u("position","startPosition"),r.style)for(var c=0;c<r.style.length;c++){var d=r.style[c],h=d.name,v=r.startStyle[h];r.startStyle[h]=d,r.style[c]=v}return o&&this.play(),this},promise:function(r){var u,o=this._private;return u="frame"===r?o.frames:o.completes,new rr(function(c,d){u.push(function(){c()})})}}),jn.complete=jn.completed,jn.run=jn.play,jn.running=jn.playing;var tu={data:function(r){return r=yt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(c){},beforeSet:function(c,d){},onSet:function(c){},canSet:function(c){return!0}},r),function(c,d){var h=r,v=this,y=void 0!==v.length,m=y?v:[v],b=y?v[0]:v;if(Ye(c)){var x,_=-1!==c.indexOf(".")&&En.default(c);if(h.allowGetting&&void 0===d)return b&&(h.beforeGet(b),x=_&&void 0===b._private[h.field][c]?dt.default(b._private[h.field],_):b._private[h.field][c]),x;if(h.allowSetting&&void 0!==d&&!h.immutableKeys[c]){var A=gn({},c,d);h.beforeSet(v,A);for(var T=0,P=m.length;T<P;T++){var k=m[T];h.canSet(k)&&(_&&void 0===b._private[h.field][c]?ht.default(k._private[h.field],_,d):k._private[h.field][c]=d)}h.updateStyle&&v.updateStyle(),h.onSet(v),h.settingTriggersEvent&&v[h.triggerFnName](h.settingEvent)}}else if(h.allowSetting&&mt(c)){var B,G,O=c,q=Object.keys(O);h.beforeSet(v,O);for(var V=0;V<q.length;V++)if(G=O[B=q[V]],!h.immutableKeys[B])for(var H=0;H<m.length;H++){var K=m[H];h.canSet(K)&&(K._private[h.field][B]=G)}h.updateStyle&&v.updateStyle(),h.onSet(v),h.settingTriggersEvent&&v[h.triggerFnName](h.settingEvent)}else if(h.allowBinding&&In(c))v.on(h.bindingEvent,c);else if(h.allowGetting&&void 0===c){var U;return b&&(h.beforeGet(b),U=b._private[h.field]),U}return v}},removeData:function(r){return r=yt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},r),function(c){var d=r,h=this,y=void 0!==h.length?h:[h];if(Ye(c)){for(var m=c.split(/\s+/),b=m.length,E=0;E<b;E++){var _=m[E];if(!Ii(_)&&!d.immutableKeys[_])for(var S=0,A=y.length;S<A;S++)y[S]._private[d.field][_]=void 0}d.triggerEvent&&h[d.triggerFnName](d.event)}else if(void 0===c){for(var T=0,P=y.length;T<P;T++)for(var k=y[T]._private[d.field],O=Object.keys(k),B=0;B<O.length;B++){var G=O[B];!d.immutableKeys[G]&&(k[G]=void 0)}d.triggerEvent&&h[d.triggerFnName](d.event)}return h}}},Vt={eventAliasesOn:function(r){var o=r;o.addListener=o.listen=o.bind=o.on,o.unlisten=o.unbind=o.off=o.removeListener,o.trigger=o.emit,o.pon=o.promiseOn=function(u,c){var d=this,h=Array.prototype.slice.call(arguments,0);return new rr(function(v,y){var b=h.concat([function(x){d.off.apply(d,E),v(x)}]),E=b.concat([]);d.on.apply(d,b)})}}},_t={};[{animated:function(){return function(){var o=this,c=void 0!==o.length?o:[o];if(!(this._private.cy||this).styleEnabled())return!1;var h=c[0];return h?h._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var o=this,c=void 0!==o.length?o:[o];if(!(this._private.cy||this).styleEnabled())return this;for(var h=0;h<c.length;h++)c[h]._private.animation.queue=[];return this}},delay:function(){return function(o,u){return(this._private.cy||this).styleEnabled()?this.animate({delay:o,duration:o,complete:u}):this}},delayAnimation:function(){return function(o,u){return(this._private.cy||this).styleEnabled()?this.animation({delay:o,duration:o,complete:u}):this}},animation:function(){return function(o,u){var c=this,d=void 0!==c.length,h=d?c:[c],v=this._private.cy||this,y=!d,m=!y;if(!v.styleEnabled())return this;var b=v.style();if(o=yt({},o,u),0===Object.keys(o).length)return new Yo(h[0],o);switch(void 0===o.duration&&(o.duration=400),o.duration){case"slow":o.duration=600;break;case"fast":o.duration=200}if(m&&(o.style=b.getPropsList(o.style||o.css),o.css=void 0),m&&null!=o.renderedPosition){var _=o.renderedPosition,x=v.pan(),S=v.zoom();o.position=Zu(_,S,x)}if(y&&null!=o.panBy){var A=o.panBy,T=v.pan();o.pan={x:T.x+A.x,y:T.y+A.y}}var P=o.center||o.centre;if(y&&null!=P){var k=v.getCenterPan(P.eles,o.zoom);null!=k&&(o.pan=k)}if(y&&null!=o.fit){var O=o.fit,B=v.getFitViewport(O.eles||O.boundingBox,O.padding);null!=B&&(o.pan=B.pan,o.zoom=B.zoom)}if(y&&mt(o.zoom)){var G=v.getZoomedViewport(o.zoom);null!=G?(G.zoomed&&(o.zoom=G.zoom),G.panned&&(o.pan=G.pan)):o.zoom=null}return new Yo(h[0],o)}},animate:function(){return function(o,u){var c=this,h=void 0!==c.length?c:[c];if(!(this._private.cy||this).styleEnabled())return this;u&&(o=yt({},o,u));for(var y=0;y<h.length;y++){var m=h[y],b=m.animated()&&(void 0===o.queue||o.queue);m.animation(o,b?{queue:!0}:void 0).play()}return this}},stop:function(){return function(o,u){var c=this,h=void 0!==c.length?c:[c],v=this._private.cy||this;if(!v.styleEnabled())return this;for(var y=0;y<h.length;y++){for(var b=h[y]._private,E=b.animation.current,_=0;_<E.length;_++)u&&(E[_]._private.duration=0);o&&(b.animation.queue=[]),u||(b.animation.current=[])}return v.notify("draw"),this}}},tu,Vt].forEach(function(a){yt(_t,a)});var Jr={animate:_t.animate(),animation:_t.animation(),animated:_t.animated(),clearQueue:_t.clearQueue(),delay:_t.delay(),delayAnimation:_t.delayAnimation(),stop:_t.stop()},wa={classes:function(r){var o=this;if(void 0===r){var u=[];return o[0]._private.classes.forEach(function(S){return u.push(S)}),u}dn(r)||(r=(r||"").match(/\S+/g)||[]);for(var c=[],d=new zs(r),h=0;h<o.length;h++){for(var v=o[h],y=v._private,m=y.classes,b=!1,E=0;E<r.length;E++)if(!m.has(r[E])){b=!0;break}b||(b=m.size!==r.length),b&&(y.classes=d,c.push(v))}return c.length>0&&this.spawn(c).updateStyle().emit("class"),o},addClass:function(r){return this.toggleClass(r,!0)},hasClass:function(r){var o=this[0];return null!=o&&o._private.classes.has(r)},toggleClass:function(r,o){dn(r)||(r=r.match(/\S+/g)||[]);for(var u=this,c=void 0===o,d=[],h=0,v=u.length;h<v;h++)for(var y=u[h],m=y._private.classes,b=!1,E=0;E<r.length;E++){var _=r[E],x=m.has(_),S=!1;o||c&&!x?(m.add(_),S=!0):(!o||c&&x)&&(m.delete(_),S=!0),!b&&S&&(d.push(y),b=!0)}return d.length>0&&this.spawn(d).updateStyle().emit("class"),u},removeClass:function(r){return this.toggleClass(r,!1)},flashClass:function(r,o){var u=this;if(null==o)o=250;else if(0===o)return u;return u.addClass(r),setTimeout(function(){u.removeClass(r)},o),u}};wa.className=wa.classNames=wa.classes;var Dt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Nr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Dt.variable="(?:[\\w-.]|(?:\\\\"+Dt.metaChar+"))+",Dt.className="(?:[\\w-]|(?:\\\\"+Dt.metaChar+"))+",Dt.value=Dt.string+"|"+Dt.number,Dt.id=Dt.variable,function(){var a,r,o;for(a=Dt.comparatorOp.split("|"),o=0;o<a.length;o++)Dt.comparatorOp+="|@"+(r=a[o]);for(a=Dt.comparatorOp.split("|"),o=0;o<a.length;o++)!((r=a[o]).indexOf("!")>=0)&&"="!==r&&(Dt.comparatorOp+="|\\!"+r)}();var Ai=[{selector:":selected",matches:function(r){return r.selected()}},{selector:":unselected",matches:function(r){return!r.selected()}},{selector:":selectable",matches:function(r){return r.selectable()}},{selector:":unselectable",matches:function(r){return!r.selectable()}},{selector:":locked",matches:function(r){return r.locked()}},{selector:":unlocked",matches:function(r){return!r.locked()}},{selector:":visible",matches:function(r){return r.visible()}},{selector:":hidden",matches:function(r){return!r.visible()}},{selector:":transparent",matches:function(r){return r.transparent()}},{selector:":grabbed",matches:function(r){return r.grabbed()}},{selector:":free",matches:function(r){return!r.grabbed()}},{selector:":removed",matches:function(r){return r.removed()}},{selector:":inside",matches:function(r){return!r.removed()}},{selector:":grabbable",matches:function(r){return r.grabbable()}},{selector:":ungrabbable",matches:function(r){return!r.grabbable()}},{selector:":animated",matches:function(r){return r.animated()}},{selector:":unanimated",matches:function(r){return!r.animated()}},{selector:":parent",matches:function(r){return r.isParent()}},{selector:":childless",matches:function(r){return r.isChildless()}},{selector:":child",matches:function(r){return r.isChild()}},{selector:":orphan",matches:function(r){return r.isOrphan()}},{selector:":nonorphan",matches:function(r){return r.isChild()}},{selector:":compound",matches:function(r){return r.isNode()?r.isParent():r.source().isParent()||r.target().isParent()}},{selector:":loop",matches:function(r){return r.isLoop()}},{selector:":simple",matches:function(r){return r.isSimple()}},{selector:":active",matches:function(r){return r.active()}},{selector:":inactive",matches:function(r){return!r.active()}},{selector:":backgrounding",matches:function(r){return r.backgrounding()}},{selector:":nonbackgrounding",matches:function(r){return!r.backgrounding()}}].sort(function(a,r){return function(r,o){return-1*is(r,o)}(a.selector,r.selector)}),ba=function(){for(var r,a={},o=0;o<Ai.length;o++)a[(r=Ai[o]).selector]=r.matches;return a}(),Yi="("+Ai.map(function(a){return a.selector}).join("|")+")",zr=function(r){return r.replace(new RegExp("\\\\("+Dt.metaChar+")","g"),function(o,u){return u})},ci=function(r,o,u){r[r.length-1]=u},Ko=[{name:"group",query:!0,regex:"("+Dt.group+")",populate:function(r,o,u){var d=Qt(u,1)[0];o.checks.push({type:0,value:"*"===d?d:d+"s"})}},{name:"state",query:!0,regex:Yi,populate:function(r,o,u){var c=Qt(u,1);o.checks.push({type:7,value:c[0]})}},{name:"id",query:!0,regex:"\\#("+Dt.id+")",populate:function(r,o,u){var c=Qt(u,1);o.checks.push({type:8,value:zr(c[0])})}},{name:"className",query:!0,regex:"\\.("+Dt.className+")",populate:function(r,o,u){var c=Qt(u,1);o.checks.push({type:9,value:zr(c[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Dt.variable+")\\s*\\]",populate:function(r,o,u){var c=Qt(u,1);o.checks.push({type:4,field:zr(c[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Dt.variable+")\\s*("+Dt.comparatorOp+")\\s*("+Dt.value+")\\s*\\]",populate:function(r,o,u){var c=Qt(u,3),d=c[0],h=c[1],v=c[2];v=null!=new RegExp("^"+Dt.string+"$").exec(v)?v.substring(1,v.length-1):parseFloat(v),o.checks.push({type:3,field:zr(d),operator:h,value:v})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Dt.boolOp+")\\s*("+Dt.variable+")\\s*\\]",populate:function(r,o,u){var c=Qt(u,2),d=c[0];o.checks.push({type:5,field:zr(c[1]),operator:d})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Dt.meta+")\\s*("+Dt.comparatorOp+")\\s*("+Dt.number+")\\s*\\]\\]",populate:function(r,o,u){var c=Qt(u,3),h=c[1],v=c[2];o.checks.push({type:6,field:zr(c[0]),operator:h,value:parseFloat(v)})}},{name:"nextQuery",separator:!0,regex:Dt.separator,populate:function(r,o){var u=r.currentSubject,c=r.edgeCount,d=r.compoundCount,h=r[r.length-1];return null!=u&&(h.subject=u,r.currentSubject=null),h.edgeCount=c,h.compoundCount=d,r.edgeCount=0,r.compoundCount=0,r[r.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Dt.directedEdge,populate:function(r,o){if(null==r.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:11,source:o,target:d}),ci(r,0,u),r.edgeCount++,d}var h={checks:[]},y={checks:[]};return h.checks.push({type:12,source:o,target:y}),ci(r,0,h),r.edgeCount++,y}},{name:"undirectedEdge",separator:!0,regex:Dt.undirectedEdge,populate:function(r,o){if(null==r.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:10,nodes:[o,d]}),ci(r,0,u),r.edgeCount++,d}var h={checks:[]},y={checks:[]};return h.checks.push({type:14,node:o,neighbor:y}),ci(r,0,h),y}},{name:"child",separator:!0,regex:Dt.child,populate:function(r,o){if(null==r.currentSubject){var u={checks:[]},c={checks:[]};return u.checks.push({type:15,parent:r[r.length-1],child:c}),ci(r,0,u),r.compoundCount++,c}if(r.currentSubject===o){var h={checks:[]},y={checks:[]},m={checks:[]},b={checks:[]},E={checks:[]};return h.checks.push({type:19,left:r[r.length-1],right:y,subject:m}),m.checks=o.checks,o.checks=[{type:20}],E.checks.push({type:20}),y.checks.push({type:17,parent:E,child:b}),ci(r,0,h),r.currentSubject=m,r.compoundCount++,b}var _={checks:[]},x={checks:[]},S=[{type:17,parent:_,child:x}];return _.checks=o.checks,o.checks=S,r.compoundCount++,x}},{name:"descendant",separator:!0,regex:Dt.descendant,populate:function(r,o){if(null==r.currentSubject){var u={checks:[]},c={checks:[]};return u.checks.push({type:16,ancestor:r[r.length-1],descendant:c}),ci(r,0,u),r.compoundCount++,c}if(r.currentSubject===o){var h={checks:[]},y={checks:[]},m={checks:[]},b={checks:[]},E={checks:[]};return h.checks.push({type:19,left:r[r.length-1],right:y,subject:m}),m.checks=o.checks,o.checks=[{type:20}],E.checks.push({type:20}),y.checks.push({type:18,ancestor:E,descendant:b}),ci(r,0,h),r.currentSubject=m,r.compoundCount++,b}var _={checks:[]},x={checks:[]},S=[{type:18,ancestor:_,descendant:x}];return _.checks=o.checks,o.checks=S,r.compoundCount++,x}},{name:"subject",modifier:!0,regex:Dt.subject,populate:function(r,o){if(null!=r.currentSubject&&r.currentSubject!==o)return Cn("Redefinition of subject in selector `"+r.toString()+"`"),!1;r.currentSubject=o;var c=r[r.length-1].checks[0],d=null==c?null:c.type;11===d?c.type=13:10===d&&(c.type=14,c.node=c.nodes[1],c.neighbor=c.nodes[0],c.nodes=null)}}];Ko.forEach(function(a){return a.regexObj=new RegExp("^"+a.regex)});var Wt=function(r){for(var o,u,c,d=0;d<Ko.length;d++){var h=Ko[d],v=h.name,y=r.match(h.regexObj);if(null!=y){u=y,o=h,c=v,r=r.substring(y[0].length);break}}return{expr:o,match:u,name:c,remaining:r}},Qo={parse:function(r){var o=this,u=o.inputText=r,c=o[0]={checks:[]};for(o.length=1,u=function(r){var o=r.match(/^\s+/);return o&&(r=r.substring(o[0].length)),r}(u);;){var d=Wt(u);if(null==d.expr)return Cn("The selector `"+r+"`is invalid"),!1;var h=d.match.slice(1),v=d.expr.populate(o,c,h);if(!1===v)return!1;if(null!=v&&(c=v),(u=d.remaining).match(/^\s*$/))break}var y=o[o.length-1];null!=o.currentSubject&&(y.subject=o.currentSubject),y.edgeCount=o.edgeCount,y.compoundCount=o.compoundCount;for(var m=0;m<o.length;m++){var b=o[m];if(b.compoundCount>0&&b.edgeCount>0)return Cn("The selector `"+r+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(b.edgeCount>1)return Cn("The selector `"+r+"` is invalid because it uses multiple edge selectors"),!1;1===b.edgeCount&&Cn("The selector `"+r+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var r=function(b){return b??""},o=function(b){return Ye(b)?'"'+b+'"':r(b)},u=function(b){return" "+b+" "},d=function(b,E){return b.checks.reduce(function(_,x,S){return _+(E===b&&0===S?"$":"")+function(b,E){var x=b.value;switch(b.type){case 0:var S=r(x);return S.substring(0,S.length-1);case 3:return"["+b.field+u(r(b.operator))+o(x)+"]";case 5:var k=b.field;return"["+r(b.operator)+k+"]";case 4:return"["+b.field+"]";case 6:return"[["+b.field+u(r(b.operator))+o(x)+"]]";case 7:return x;case 8:return"#"+x;case 9:return"."+x;case 17:case 15:return d(b.parent,E)+u(">")+d(b.child,E);case 18:case 16:return d(b.ancestor,E)+" "+d(b.descendant,E);case 19:var q=d(b.left,E),V=d(b.subject,E),W=d(b.right,E);return q+(q.length>0?" ":"")+V+W;case 20:return""}}(x,E)},"")},h="",v=0;v<this.length;v++){var y=this[v];h+=d(y,y.subject),this.length>1&&v<this.length-1&&(h+=", ")}return this.toStringCache=h,h}},ol=function(r,o,u){var c,y,m,d=Ye(r),h=nt(r),v=Ye(u),b=!1,E=!1,_=!1;switch(o.indexOf("!")>=0&&(o=o.replace("!",""),E=!0),o.indexOf("@")>=0&&(o=o.replace("@",""),b=!0),(d||v||b)&&(y=d||h?""+r:"",m=""+u),b&&(r=y=y.toLowerCase(),u=m=m.toLowerCase()),o){case"*=":c=y.indexOf(m)>=0;break;case"$=":c=y.indexOf(m,y.length-m.length)>=0;break;case"^=":c=0===y.indexOf(m);break;case"=":c=r===u;break;case">":_=!0,c=r>u;break;case">=":_=!0,c=r>=u;break;case"<":_=!0,c=r<u;break;case"<=":_=!0,c=r<=u;break;default:c=!1}return E&&(null!=r||!_)&&(c=!c),c},Dr=function(r,o){return r.data(o)},Xt=[],qt=function(r,o){return r.checks.every(function(u){return Xt[u.type](u,o)})};Xt[0]=function(a,r){var o=a.value;return"*"===o||o===r.group()},Xt[7]=function(a,r){return function(r,o){return ba[r](o)}(a.value,r)},Xt[8]=function(a,r){var o=a.value;return r.id()===o},Xt[9]=function(a,r){return r.hasClass(a.value)},Xt[6]=function(a,r){var u=a.operator,c=a.value;return ol(function(r,o){return r[o]()}(r,a.field),u,c)},Xt[3]=function(a,r){var u=a.operator,c=a.value;return ol(Dr(r,a.field),u,c)},Xt[5]=function(a,r){var u=a.operator;return function(r,o){switch(o){case"?":return!!r;case"!":return!r;case"^":return void 0===r}}(Dr(r,a.field),u)},Xt[4]=function(a,r){return function(r){return void 0!==r}(Dr(r,a.field))},Xt[10]=function(a,r){var o=a.nodes[0],u=a.nodes[1],c=r.source(),d=r.target();return qt(o,c)&&qt(u,d)||qt(u,c)&&qt(o,d)},Xt[14]=function(a,r){return qt(a.node,r)&&r.neighborhood().some(function(o){return o.isNode()&&qt(a.neighbor,o)})},Xt[11]=function(a,r){return qt(a.source,r.source())&&qt(a.target,r.target())},Xt[12]=function(a,r){return qt(a.source,r)&&r.outgoers().some(function(o){return o.isNode()&&qt(a.target,o)})},Xt[13]=function(a,r){return qt(a.target,r)&&r.incomers().some(function(o){return o.isNode()&&qt(a.source,o)})},Xt[15]=function(a,r){return qt(a.child,r)&&qt(a.parent,r.parent())},Xt[17]=function(a,r){return qt(a.parent,r)&&r.children().some(function(o){return qt(a.child,o)})},Xt[16]=function(a,r){return qt(a.descendant,r)&&r.ancestors().some(function(o){return qt(a.ancestor,o)})},Xt[18]=function(a,r){return qt(a.ancestor,r)&&r.descendants().some(function(o){return qt(a.descendant,o)})},Xt[19]=function(a,r){return qt(a.subject,r)&&qt(a.left,r)&&qt(a.right,r)},Xt[20]=function(){return!0},Xt[1]=function(a,r){return a.value.has(r)},Xt[2]=function(a,r){return(0,a.value)(r)};var _c={matches:function(r){for(var u=0;u<this.length;u++)if(qt(this[u],r))return!0;return!1},filter:function(r){var o=this;if(1===o.length&&1===o[0].checks.length&&8===o[0].checks[0].type)return r.getElementById(o[0].checks[0].value).collection();var u=function(d){for(var h=0;h<o.length;h++)if(qt(o[h],d))return!0;return!1};return null==o.text()&&(u=function(){return!0}),r.filter(u)}},Ur=function(r){this.inputText=r,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==r||Ye(r)&&r.match(/^\s*$/)||(si(r)?this.addQuery({checks:[{type:1,value:r.collection()}]}):In(r)?this.addQuery({checks:[{type:2,value:r}]}):Ye(r)?this.parse(r)||(this.invalid=!0):Pn("A selector must be created from a string; found "))},Xo=Ur.prototype;[Qo,_c].forEach(function(a){return yt(Xo,a)}),Xo.text=function(){return this.inputText},Xo.size=function(){return this.length},Xo.eq=function(a){return this[a]},Xo.sameText=function(a){return!this.invalid&&!a.invalid&&this.text()===a.text()},Xo.addQuery=function(a){this[this.length++]=a},Xo.selector=Xo.toString;var Pi={allAre:function(r){var o=new Ur(r);return this.every(function(u){return o.matches(u)})},is:function(r){var o=new Ur(r);return this.some(function(u){return o.matches(u)})},some:function(r,o){for(var u=0;u<this.length;u++)if(o?r.apply(o,[this[u],u,this]):r(this[u],u,this))return!0;return!1},every:function(r,o){for(var u=0;u<this.length;u++)if(!(o?r.apply(o,[this[u],u,this]):r(this[u],u,this)))return!1;return!0},same:function(r){if(this===r)return!0;r=this.cy().collection(r);var o=this.length;return o===r.length&&(1===o?this[0]===r[0]:this.every(function(c){return r.hasElementWithId(c.id())}))},anySame:function(r){return r=this.cy().collection(r),this.some(function(o){return r.hasElementWithId(o.id())})},allAreNeighbors:function(r){r=this.cy().collection(r);var o=this.neighborhood();return r.every(function(u){return o.hasElementWithId(u.id())})},contains:function(r){r=this.cy().collection(r);var o=this;return r.every(function(u){return o.hasElementWithId(u.id())})}};Pi.allAreNeighbours=Pi.allAreNeighbors,Pi.has=Pi.contains,Pi.equal=Pi.equals=Pi.same;var Sc,Hp,uo=function(r,o){return function(c,d,h,v){var b,y=c,m=this;if(null==y?b="":si(y)&&1===y.length&&(b=y.id()),1===m.length&&b){var E=m[0]._private,_=E.traversalCache=E.traversalCache||{},x=_[o]=_[o]||[],S=Ho(b);return x[S]||(x[S]=r.call(m,c,d,h,v))}return r.call(m,c,d,h,v)}},al={parent:function(r){var o=[];if(1===this.length){var u=this[0]._private.parent;if(u)return u}for(var c=0;c<this.length;c++){var h=this[c]._private.parent;h&&o.push(h)}return this.spawn(o,!0).filter(r)},parents:function(r){for(var o=[],u=this.parent();u.nonempty();){for(var c=0;c<u.length;c++)o.push(u[c]);u=u.parent()}return this.spawn(o,!0).filter(r)},commonAncestors:function(r){for(var o,u=0;u<this.length;u++){var d=this[u].parents();o=(o=o||d).intersect(d)}return o.filter(r)},orphans:function(r){return this.stdFilter(function(o){return o.isOrphan()}).filter(r)},nonorphans:function(r){return this.stdFilter(function(o){return o.isChild()}).filter(r)},children:uo(function(a){for(var r=[],o=0;o<this.length;o++)for(var c=this[o]._private.children,d=0;d<c.length;d++)r.push(c[d]);return this.spawn(r,!0).filter(a)},"children"),siblings:function(r){return this.parent().children().not(this).filter(r)},isParent:function(){var r=this[0];if(r)return r.isNode()&&0!==r._private.children.length},isChildless:function(){var r=this[0];if(r)return r.isNode()&&0===r._private.children.length},isChild:function(){var r=this[0];if(r)return r.isNode()&&null!=r._private.parent},isOrphan:function(){var r=this[0];if(r)return r.isNode()&&null==r._private.parent},descendants:function(r){var o=[];return function u(c){for(var d=0;d<c.length;d++){var h=c[d];o.push(h),h.children().nonempty()&&u(h.children())}}(this.children()),this.spawn(o,!0).filter(r)}};function kf(a,r,o,u){for(var c=[],d=new zs,v=a.cy().hasCompoundNodes(),y=0;y<a.length;y++){var m=a[y];o?c.push(m):v&&u(c,d,m)}for(;c.length>0;){var b=c.shift();r(b),d.add(b.id()),v&&u(c,d,b)}return a}function oh(a,r,o){if(o.isParent())for(var u=o._private.children,c=0;c<u.length;c++){var d=u[c];r.has(d.id())||a.push(d)}}function $p(a,r,o){if(o.isChild()){var u=o._private.parent;r.has(u.id())||a.push(u)}}function $a(a,r,o){$p(a,r,o),oh(a,r,o)}al.forEachDown=function(a){return kf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],oh)},al.forEachUp=function(a){return kf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],$p)},al.forEachUpAndDown=function(a){return kf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],$a)},al.ancestors=al.parents,Sc=Hp={data:_t.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:_t.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:_t.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:_t.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:_t.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:_t.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var r=this[0];if(r)return r._private.data.id}},Sc.attr=Sc.data,Sc.removeAttr=Sc.removeData;var yv=Hp,Of={};function ah(a){return function(r){var o=this;if(void 0===r&&(r=!0),0===o.length);else if(o.isNode()&&!o.removed()){for(var u=0,c=o[0],d=c._private.edges,h=0;h<d.length;h++){var v=d[h];!r&&v.isLoop()||(u+=a(c,v))}return u}}}function Ki(a,r){return function(o){for(var u,c=this.nodes(),d=0;d<c.length;d++){var v=c[d][a](o);void 0!==v&&(void 0===u||r(v,u))&&(u=v)}return u}}yt(Of,{degree:ah(function(a,r){return r.source().same(r.target())?2:1}),indegree:ah(function(a,r){return r.target().same(a)?1:0}),outdegree:ah(function(a,r){return r.source().same(a)?1:0})}),yt(Of,{minDegree:Ki("degree",function(a,r){return a<r}),maxDegree:Ki("degree",function(a,r){return a>r}),minIndegree:Ki("indegree",function(a,r){return a<r}),maxIndegree:Ki("indegree",function(a,r){return a>r}),minOutdegree:Ki("outdegree",function(a,r){return a<r}),maxOutdegree:Ki("outdegree",function(a,r){return a>r})}),yt(Of,{totalDegree:function(r){for(var o=0,u=this.nodes(),c=0;c<u.length;c++)o+=u[c].degree(r);return o}});var Jo,zp,Up=function(r,o,u){for(var c=0;c<r.length;c++){var d=r[c];if(!d.locked()){var h=d._private.position,v={x:null!=o.x?o.x-h.x:0,y:null!=o.y?o.y-h.y:0};d.isParent()&&!(0===v.x&&0===v.y)&&d.children().shift(v,u),d.dirtyBoundingBoxCache()}}},jp={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(r){r.updateCompoundBounds()},beforeSet:function(r,o){Up(r,o,!1)},onSet:function(r){r.dirtyCompoundBoundsCache()},canSet:function(r){return!r.locked()}};Jo=zp={position:_t.data(jp),silentPosition:_t.data(yt({},jp,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(r,o){Up(r,o,!0)},onSet:function(r){r.dirtyCompoundBoundsCache()}})),positions:function(r,o){if(mt(r))o?this.silentPosition(r):this.position(r);else if(In(r)){var u=r,c=this.cy();c.startBatch();for(var d=0;d<this.length;d++){var v,h=this[d];(v=u(h,d))&&(o?h.silentPosition(v):h.position(v))}c.endBatch()}return this},silentPositions:function(r){return this.positions(r,!0)},shift:function(r,o,u){var c;if(mt(r)?(c={x:nt(r.x)?r.x:0,y:nt(r.y)?r.y:0},u=o):Ye(r)&&nt(o)&&((c={x:0,y:0})[r]=o),null!=c){var d=this.cy();d.startBatch();for(var h=0;h<this.length;h++){var v=this[h];if(!(d.hasCompoundNodes()&&v.isChild()&&v.ancestors().anySame(this))){var y=v.position(),m={x:y.x+c.x,y:y.y+c.y};u?v.silentPosition(m):v.position(m)}}d.endBatch()}return this},silentShift:function(r,o){return mt(r)?this.shift(r,!0):Ye(r)&&nt(o)&&this.shift(r,o,!0),this},renderedPosition:function(r,o){var u=this[0],c=this.cy(),d=c.zoom(),h=c.pan(),v=mt(r)?r:void 0,y=void 0!==v||void 0!==o&&Ye(r);if(u&&u.isNode()){if(!y){var E=u.position();return v=as(E,d,h),void 0===r?v:v[r]}for(var m=0;m<this.length;m++){var b=this[m];void 0!==o?b.position(r,(o-h[r])/d):void 0!==v&&b.position(Zu(v,d,h))}}else if(!y)return;return this},relativePosition:function(r,o){var u=this[0],c=this.cy(),d=mt(r)?r:void 0,h=void 0!==d||void 0!==o&&Ye(r),v=c.hasCompoundNodes();if(u&&u.isNode()){if(!h){var S=u.position(),A=v?u.parent():null,T=A&&A.length>0;T&&(A=A[0]);var k=T?A.position():{x:0,y:0};return d={x:S.x-k.x,y:S.y-k.y},void 0===r?d:d[r]}for(var y=0;y<this.length;y++){var m=this[y],b=v?m.parent():null,E=b&&b.length>0;E&&(b=b[0]);var x=E?b.position():{x:0,y:0};void 0!==o?m.position(r,o+x[r]):void 0!==d&&m.position({x:d.x+x.x,y:d.y+x.y})}}else if(!h)return;return this}},Jo.modelPosition=Jo.point=Jo.position,Jo.modelPositions=Jo.points=Jo.positions,Jo.renderedPoint=Jo.renderedPosition,Jo.relativePoint=Jo.relativePosition;var Qi,cs,sh=zp;Qi=cs={},cs.renderedBoundingBox=function(a){var r=this.boundingBox(a),o=this.cy(),u=o.zoom(),c=o.pan(),d=r.x1*u+c.x,h=r.x2*u+c.x,v=r.y1*u+c.y,y=r.y2*u+c.y;return{x1:d,x2:h,y1:v,y2:y,w:h-d,h:y-v}},cs.dirtyCompoundBoundsCache=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.cy();return r.styleEnabled()&&r.hasCompoundNodes()?(this.forEachUp(function(o){if(o.isParent()){var u=o._private;u.compoundBoundsClean=!1,u.bbCache=null,a||o.emitAndNotify("bounds")}}),this):this},cs.updateCompoundBounds=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.cy();if(!r.styleEnabled()||!r.hasCompoundNodes())return this;if(!a&&r.batching())return this;function o(h){if(h.isParent()){var v=h._private,y=h.children(),m="include"===h.pstyle("compound-sizing-wrt-labels").value,b={width:{val:h.pstyle("min-width").pfValue,left:h.pstyle("min-width-bias-left"),right:h.pstyle("min-width-bias-right")},height:{val:h.pstyle("min-height").pfValue,top:h.pstyle("min-height-bias-top"),bottom:h.pstyle("min-height-bias-bottom")}},E=y.boundingBox({includeLabels:m,includeOverlays:!1,useCache:!1}),_=v.position;(0===E.w||0===E.h)&&((E={w:h.pstyle("width").pfValue,h:h.pstyle("height").pfValue}).x1=_.x-E.w/2,E.x2=_.x+E.w/2,E.y1=_.y-E.h/2,E.y2=_.y+E.h/2);var A=b.width.left.value;"px"===b.width.left.units&&b.width.val>0&&(A=100*A/b.width.val);var T=b.width.right.value;"px"===b.width.right.units&&b.width.val>0&&(T=100*T/b.width.val);var P=b.height.top.value;"px"===b.height.top.units&&b.height.val>0&&(P=100*P/b.height.val);var k=b.height.bottom.value;"px"===b.height.bottom.units&&b.height.val>0&&(k=100*k/b.height.val);var O=x(b.width.val-E.w,A,T),B=O.biasDiff,G=O.biasComplementDiff,q=x(b.height.val-E.h,P,k),V=q.biasDiff,W=q.biasComplementDiff;v.autoPadding=function S(H,K,Q,U){if("%"!==Q.units)return"px"===Q.units?Q.pfValue:0;switch(U){case"width":return H>0?Q.pfValue*H:0;case"height":return K>0?Q.pfValue*K:0;case"average":return H>0&&K>0?Q.pfValue*(H+K)/2:0;case"min":return H>0&&K>0?H>K?Q.pfValue*K:Q.pfValue*H:0;case"max":return H>0&&K>0?H>K?Q.pfValue*H:Q.pfValue*K:0;default:return 0}}(E.w,E.h,h.pstyle("padding"),h.pstyle("padding-relative-to").value),v.autoWidth=Math.max(E.w,b.width.val),_.x=(-B+E.x1+E.x2+G)/2,v.autoHeight=Math.max(E.h,b.height.val),_.y=(-V+E.y1+E.y2+W)/2}function x(H,K,Q){var U=0,ee=0,Z=K+Q;return H>0&&Z>0&&(U=K/Z*H,ee=Q/Z*H),{biasDiff:U,biasComplementDiff:ee}}}for(var u=0;u<this.length;u++){var c=this[u],d=c._private;(!d.compoundBoundsClean||a)&&(o(c),r.batching()||(d.compoundBoundsClean=!0))}return this};var Mo=function(r){return r===1/0||r===-1/0?0:r},Er=function(r,o,u,c,d){c-o==0||d-u==0||null==o||null==u||null==c||null==d||(r.x1=o<r.x1?o:r.x1,r.x2=c>r.x2?c:r.x2,r.y1=u<r.y1?u:r.y1,r.y2=d>r.y2?d:r.y2,r.w=r.x2-r.x1,r.h=r.y2-r.y1)},Xi=function(r,o){return null==o?r:Er(r,o.x1,o.y1,o.x2,o.y2)},lo=function(r,o,u){return zi(r,o,u)},Rf=function(r,o,u){if(!o.cy().headless()){var y,m,c=o._private,d=c.rstyle,h=d.arrowWidth/2;if("none"!==o.pstyle(u+"-arrow-shape").value){"source"===u?(y=d.srcX,m=d.srcY):"target"===u?(y=d.tgtX,m=d.tgtY):(y=d.midX,m=d.midY);var b=c.arrowBounds=c.arrowBounds||{},E=b[u]=b[u]||{};E.x1=y-h,E.y1=m-h,E.x2=y+h,E.y2=m+h,E.w=E.x2-E.x1,E.h=E.y2-E.y1,ac(E,1),Er(r,E.x1,E.y1,E.x2,E.y2)}}},uh=function(r,o,u){if(!o.cy().headless()){var c,d=o._private,h=d.rstyle;if(o.pstyle((c=u?u+"-":"")+"label").strValue){var Q,U,ee,Z,y=o.pstyle("text-halign"),m=o.pstyle("text-valign"),b=lo(h,"labelWidth",u),E=lo(h,"labelHeight",u),_=lo(h,"labelX",u),x=lo(h,"labelY",u),S=o.pstyle(c+"text-margin-x").pfValue,A=o.pstyle(c+"text-margin-y").pfValue,T=o.isEdge(),P=o.pstyle(c+"text-rotation"),k=o.pstyle("text-outline-width").pfValue,B=o.pstyle("text-border-width").pfValue/2,G=o.pstyle("text-background-padding").pfValue,V=E,W=b,H=W/2,K=V/2;if(T)Q=_-H,U=_+H,ee=x-K,Z=x+K;else{switch(y.value){case"left":Q=_-W,U=_;break;case"center":Q=_-H,U=_+H;break;case"right":Q=_,U=_+W}switch(m.value){case"top":ee=x-V,Z=x;break;case"center":ee=x-K,Z=x+K;break;case"bottom":ee=x,Z=x+V}}Q+=S-Math.max(k,B)-G-2,U+=S+Math.max(k,B)+G+2,ee+=A-Math.max(k,B)-G-2,Z+=A+Math.max(k,B)+G+2;var ae=u||"main",te=d.labelBounds,ne=te[ae]=te[ae]||{};ne.x1=Q,ne.y1=ee,ne.x2=U,ne.y2=Z,ne.w=U-Q,ne.h=Z-ee;var fe=T&&"autorotate"===P.strValue;if(fe||null!=P.pfValue&&0!==P.pfValue){var we=fe?lo(d.rstyle,"labelAngle",u):P.pfValue,de=Math.cos(we),ye=Math.sin(we),Te=(Q+U)/2,Oe=(ee+Z)/2;if(!T){switch(y.value){case"left":Te=U;break;case"right":Te=Q}switch(m.value){case"top":Oe=Z;break;case"bottom":Oe=ee}}var xe=function(Ut,rt){return{x:(Ut-=Te)*de-(rt-=Oe)*ye+Te,y:Ut*ye+rt*de+Oe}},Me=xe(Q,ee),le=xe(Q,Z),Ae=xe(U,ee),Re=xe(U,Z);Q=Math.min(Me.x,le.x,Ae.x,Re.x),U=Math.max(Me.x,le.x,Ae.x,Re.x),ee=Math.min(Me.y,le.y,Ae.y,Re.y),Z=Math.max(Me.y,le.y,Ae.y,Re.y)}var je=ae+"Rot",Ke=te[je]=te[je]||{};Ke.x1=Q,Ke.y1=ee,Ke.x2=U,Ke.y2=Z,Ke.w=U-Q,Ke.h=Z-ee,Er(r,Q,ee,U,Z),Er(d.labelBounds.all,Q,ee,U,Z)}return r}},nu=function(r){var o=0,u=function(h){return(h?1:0)<<o++},c=0;return c+=u(r.incudeNodes),c+=u(r.includeEdges),c+=u(r.includeLabels),c+=u(r.includeMainLabels),c+=u(r.includeSourceLabels),(c+=u(r.includeTargetLabels))+u(r.includeOverlays)},ki=function(r){if(r.isEdge()){var o=r.source().position(),u=r.target().position(),c=function(h){return Math.round(h)};return function(r,o){var u={value:0,done:!1},c=0,d=r.length;return vf({next:function(){return c<d?u.value=r[c++]:u.done=!0,u}},void 0)}([c(o.x),c(o.y),c(u.x),c(u.y)])}return 0},Ff=function(r,o){var c,u=r._private,d=r.isEdge(),v=(null==o?sl:nu(o))===sl,y=ki(r),m=u.bbCachePosKey===y,b=o.useCache&&m,E=function(A){return null==A._private.bbCache||A._private.styleDirty};if(!b||E(r)||d&&E(r.source())||E(r.target())?(m||r.recalculateRenderedStyle(b),c=function(r,o){var b,E,_,x,S,A,u=r._private.cy,c=u.styleEnabled(),d=u.headless(),h=Ui(),v=r._private,y=r.isNode(),m=r.isEdge(),T=v.rstyle,P=y&&c?r.pstyle("bounds-expansion").pfValue:[0],k=function($e){return"none"!==$e.pstyle("display").value},O=!c||k(r)&&(!m||k(r.source())&&k(r.target()));if(O){var G=0;c&&o.includeOverlays&&0!==r.pstyle("overlay-opacity").value&&(G=r.pstyle("overlay-padding").value);var V=0;c&&o.includeUnderlays&&0!==r.pstyle("underlay-opacity").value&&(V=r.pstyle("underlay-padding").value);var W=Math.max(G,V),K=0;if(c&&(K=r.pstyle("width").pfValue/2),y&&o.includeNodes){var Q=r.position();S=Q.x,A=Q.y;var ee=r.outerWidth()/2,ae=r.outerHeight()/2;Er(h,b=S-ee,_=A-ae,E=S+ee,x=A+ae)}else if(m&&o.includeEdges)if(c&&!d){var te=r.pstyle("curve-style").strValue;if(b=Math.min(T.srcX,T.midX,T.tgtX),E=Math.max(T.srcX,T.midX,T.tgtX),_=Math.min(T.srcY,T.midY,T.tgtY),x=Math.max(T.srcY,T.midY,T.tgtY),Er(h,b-=K,_-=K,E+=K,x+=K),"haystack"===te){var ne=T.haystackPts;if(ne&&2===ne.length){if((b=ne[0].x)>(E=ne[1].x)){var fe=b;b=E,E=fe}if((_=ne[0].y)>(x=ne[1].y)){var he=_;_=x,x=he}Er(h,b-K,_-K,E+K,x+K)}}else if("bezier"===te||"unbundled-bezier"===te||"segments"===te||"taxi"===te){var we;switch(te){case"bezier":case"unbundled-bezier":we=T.bezierPts;break;case"segments":case"taxi":we=T.linePts}if(null!=we)for(var de=0;de<we.length;de++){var ye=we[de];Er(h,b=ye.x-K,_=ye.y-K,E=ye.x+K,x=ye.y+K)}}}else{var Oe=r.source().position(),Me=r.target().position();if((b=Oe.x)>(E=Me.x)){var le=b;b=E,E=le}if((_=Oe.y)>(x=Me.y)){var Ae=_;_=x,x=Ae}Er(h,b-=K,_-=K,E+=K,x+=K)}if(c&&o.includeEdges&&m&&(Rf(h,r,"mid-source"),Rf(h,r,"mid-target"),Rf(h,r,"source"),Rf(h,r,"target")),c&&"yes"===r.pstyle("ghost").value){var je=r.pstyle("ghost-offset-x").pfValue,Ke=r.pstyle("ghost-offset-y").pfValue;Er(h,h.x1+je,h.y1+Ke,h.x2+je,h.y2+Ke)}var gt=v.bodyBounds=v.bodyBounds||{};ji(gt,h),Wd(gt,P),ac(gt,1),c&&Er(h,(b=h.x1)-W,(_=h.y1)-W,(E=h.x2)+W,(x=h.y2)+W);var Ut=v.overlayBounds=v.overlayBounds||{};ji(Ut,h),Wd(Ut,P),ac(Ut,1);var rt=v.labelBounds=v.labelBounds||{};null!=rt.all?function(r){r.x1=1/0,r.y1=1/0,r.x2=-1/0,r.y2=-1/0,r.w=0,r.h=0}(rt.all):rt.all=Ui(),c&&o.includeLabels&&(o.includeMainLabels&&uh(h,r,null),m&&(o.includeSourceLabels&&uh(h,r,"source"),o.includeTargetLabels&&uh(h,r,"target")))}return h.x1=Mo(h.x1),h.y1=Mo(h.y1),h.x2=Mo(h.x2),h.y2=Mo(h.y2),h.w=Mo(h.x2-h.x1),h.h=Mo(h.y2-h.y1),h.w>0&&h.h>0&&O&&(Wd(h,P),ac(h,1)),h}(r,ru),u.bbCache=c,u.bbCachePosKey=y):c=u.bbCache,!v){var x=r.isNode();c=Ui(),(o.includeNodes&&x||o.includeEdges&&!x)&&Xi(c,o.includeOverlays?u.overlayBounds:u.bodyBounds),o.includeLabels&&(o.includeMainLabels&&(!d||o.includeSourceLabels&&o.includeTargetLabels)?Xi(c,u.labelBounds.all):(o.includeMainLabels&&Xi(c,u.labelBounds.mainRot),o.includeSourceLabels&&Xi(c,u.labelBounds.sourceRot),o.includeTargetLabels&&Xi(c,u.labelBounds.targetRot))),c.w=c.x2-c.x1,c.h=c.y2-c.y1}return c},ru={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},sl=nu(ru),fs=br(ru);cs.boundingBox=function(a){var r;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==a&&void 0!==a.useCache&&!0!==a.useCache){r=Ui();var o=fs(a=a||ru),u=this;if(u.cy().styleEnabled())for(var h=0;h<u.length;h++){var v=u[h],y=v._private,m=ki(v);v.recalculateRenderedStyle(o.useCache&&y.bbCachePosKey===m&&!y.styleDirty)}this.updateCompoundBounds(!a.useCache);for(var _=0;_<u.length;_++)Xi(r,Ff(u[_],o))}else a=void 0===a?ru:fs(a),r=Ff(this[0],a);return r.x1=Mo(r.x1),r.y1=Mo(r.y1),r.x2=Mo(r.x2),r.y2=Mo(r.y2),r.w=Mo(r.x2-r.x1),r.h=Mo(r.y2-r.y1),r},cs.dirtyBoundingBoxCache=function(){for(var a=0;a<this.length;a++){var r=this[a]._private;r.bbCache=null,r.bbCachePosKey=null,r.bodyBounds=null,r.overlayBounds=null,r.labelBounds.all=null,r.labelBounds.source=null,r.labelBounds.target=null,r.labelBounds.main=null,r.labelBounds.sourceRot=null,r.labelBounds.targetRot=null,r.labelBounds.mainRot=null,r.arrowBounds.source=null,r.arrowBounds.target=null,r.arrowBounds["mid-source"]=null,r.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},cs.boundingBoxAt=function(a){var r=this.nodes(),o=this.cy(),u=o.hasCompoundNodes(),c=o.collection();if(u&&(c=r.filter(function(m){return m.isParent()}),r=r.not(c)),mt(a)){var d=a;a=function(){return d}}o.startBatch(),r.forEach(function(b,E){return b._private.bbAtOldPos=a(b,E)}).silentPositions(a),u&&(c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),c.updateCompoundBounds(!0));var y=function(r){return{x1:r.x1,x2:r.x2,w:r.w,y1:r.y1,y2:r.y2,h:r.h}}(this.boundingBox({useCache:!1}));return r.silentPositions(function(b){return b._private.bbAtOldPos}),u&&(c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),c.updateCompoundBounds(!0)),o.endBatch(),y},Qi.boundingbox=Qi.bb=Qi.boundingBox,Qi.renderedBoundingbox=Qi.renderedBoundingBox;var ou,Ha,iu=cs;ou=Ha={};var xc=function(r){r.uppercaseName=la(r.name),r.autoName="auto"+r.uppercaseName,r.labelName="label"+r.uppercaseName,r.outerName="outer"+r.uppercaseName,r.uppercaseOuterName=la(r.outerName),ou[r.name]=function(){var u=this[0],c=u._private;if(u){if(c.cy._private.styleEnabled){if(u.isParent())return u.updateCompoundBounds(),c[r.autoName]||0;var v=u.pstyle(r.name);return"label"===v.strValue?(u.recalculateRenderedStyle(),c.rstyle[r.labelName]||0):v.pfValue}return 1}},ou["outer"+r.uppercaseName]=function(){var u=this[0];if(u)return u._private.cy._private.styleEnabled?u[r.name]()+u.pstyle("border-width").pfValue+2*u.padding():1},ou["rendered"+r.uppercaseName]=function(){var u=this[0];if(u)return u[r.name]()*this.cy().zoom()},ou["rendered"+r.uppercaseOuterName]=function(){var u=this[0];if(u)return u[r.outerName]()*this.cy().zoom()}};xc({name:"width"}),xc({name:"height"}),Ha.padding=function(){var a=this[0],r=a._private;return a.isParent()?(a.updateCompoundBounds(),void 0!==r.autoPadding?r.autoPadding:a.pstyle("padding").pfValue):a.pstyle("padding").pfValue},Ha.paddedHeight=function(){var a=this[0];return a.height()+2*a.padding()},Ha.paddedWidth=function(){var a=this[0];return a.width()+2*a.padding()};var ea=Ha,lh={controlPoints:{get:function(r){return r.renderer().getControlPoints(r)},mult:!0},segmentPoints:{get:function(r){return r.renderer().getSegmentPoints(r)},mult:!0},sourceEndpoint:{get:function(r){return r.renderer().getSourceEndpoint(r)}},targetEndpoint:{get:function(r){return r.renderer().getTargetEndpoint(r)}},midpoint:{get:function(r){return r.renderer().getEdgeMidpoint(r)}}},Tc=Object.keys(lh).reduce(function(a,r){var o=lh[r],u=function(r){return"rendered"+r[0].toUpperCase()+r.substr(1)}(r);return a[r]=function(){return function(r,o){if(r.isEdge())return o(r)}(this,o.get)},a[u]=o.mult?function(){return function(r,o){if(r.isEdge()){var u=r.cy(),c=u.pan(),d=u.zoom();return o(r).map(function(h){return as(h,d,c)})}}(this,o.get)}:function(){return function(r,o){if(r.isEdge()){var u=r.cy();return as(o(r),u.zoom(),u.pan())}}(this,o.get)},a},{}),wv=yt({},sh,iu,ea,Tc),Ac=function(r,o){this.recycle(r,o)};function sr(){return!1}function au(){return!0}Ac.prototype={instanceString:function(){return"event"},recycle:function(r,o){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=sr,null!=r&&r.preventDefault?(this.type=r.type,this.isDefaultPrevented=r.defaultPrevented?au:sr):null!=r&&r.type?o=r:this.type=r,null!=o&&(this.originalEvent=o.originalEvent,this.type=null!=o.type?o.type:this.type,this.cy=o.cy,this.target=o.target,this.position=o.position,this.renderedPosition=o.renderedPosition,this.namespace=o.namespace,this.layout=o.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var u=this.position,c=this.cy.zoom(),d=this.cy.pan();this.renderedPosition={x:u.x*c+d.x,y:u.y*c+d.y}}this.timeStamp=r&&r.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=au;var r=this.originalEvent;r&&r.preventDefault&&r.preventDefault()},stopPropagation:function(){this.isPropagationStopped=au;var r=this.originalEvent;r&&r.stopPropagation&&r.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=au,this.stopPropagation()},isDefaultPrevented:sr,isPropagationStopped:sr,isImmediatePropagationStopped:sr};var ll=/^([^.]+)(\.(?:[^.]+))?$/,Bf={qualifierCompare:function(r,o){return r===o},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(r){return r},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},cl=Object.keys(Bf),Ua={};function su(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,r=arguments.length>1?arguments[1]:void 0,o=0;o<cl.length;o++){var u=cl[o];this[u]=a[u]||Bf[u]}this.context=r||this.context,this.listeners=[],this.emitting=0}var dr=su.prototype,Nc=function(r,o,u,c,d,h,v){In(c)&&(d=c,c=null),v&&(h=null==h?v:yt({},h,v));for(var y=dn(u)?u:u.split(/\s+/),m=0;m<y.length;m++){var b=y[m];if(!Ii(b)){var E=b.match(ll);if(E&&!1===o(r,b,E[1],E[2]?E[2]:null,c,d,h))break}}},ch=function(r,o){return r.addEventFields(r.context,o),new Ac(o.type,o)};dr.on=dr.addListener=function(a,r,o,u,c){return Nc(this,function(d,h,v,y,m,b,E){In(b)&&d.listeners.push({event:h,callback:b,type:v,namespace:y,qualifier:m,conf:E})},a,r,o,u,c),this},dr.one=function(a,r,o,u){return this.on(a,r,o,u,{one:!0})},dr.removeListener=dr.off=function(a,r,o,u){var c=this;0!==this.emitting&&(this.listeners=function(r){return r.slice()}(this.listeners));for(var d=this.listeners,h=function(m){var b=d[m];Nc(c,function(E,_,x,S,A,T){if((b.type===x||"*"===a)&&(!S&&".*"!==b.namespace||b.namespace===S)&&(!A||E.qualifierCompare(b.qualifier,A))&&(!T||b.callback===T))return d.splice(m,1),!1},a,r,o,u)},v=d.length-1;v>=0;v--)h(v);return this},dr.removeAllListeners=function(){return this.removeListener("*")},dr.emit=dr.trigger=function(a,r,o){var u=this.listeners,c=u.length;return this.emitting++,dn(r)||(r=[r]),function(r,o,u){if(function(r){return"event"===fr(r)}(u))o(r,u);else if(mt(u))o(r,ch(r,u));else for(var c=dn(u)?u:u.split(/\s+/),d=0;d<c.length;d++){var h=c[d];if(!Ii(h)){var v=h.match(ll);v&&o(r,ch(r,{type:v[1],namespace:v[2]?v[2]:null,target:r.context}))}}}(this,function(d,h){null!=o&&(c=(u=[{event:h.event,type:h.type,namespace:h.namespace,callback:o}]).length);for(var v=function(b){var E=u[b];if(E.type===h.type&&(!E.namespace||E.namespace===h.namespace||".*"===E.namespace)&&d.eventMatches(d.context,E,h)){var _=[h];null!=r&&function(r,o){for(var u=0;u<o.length;u++)r.push(o[u])}(_,r),d.beforeEmit(d.context,E,h),E.conf&&E.conf.one&&(d.listeners=d.listeners.filter(function(A){return A!==E}));var x=d.callbackContext(d.context,E,h),S=E.callback.apply(x,_);d.afterEmit(d.context,E,h),!1===S&&(h.stopPropagation(),h.preventDefault())}},y=0;y<c;y++)v(y);d.bubble(d.context)&&!h.isPropagationStopped()&&d.parent(d.context).emit(h,r)},a),this.emitting--,this};var Wp={qualifierCompare:function(r,o){return null==r||null==o?null==r&&null==o:r.sameText(o)},eventMatches:function(r,o,u){var c=o.qualifier;return null==c||r!==u.target&&Rs(u.target)&&c.matches(u.target)},addEventFields:function(r,o){o.cy=r.cy(),o.target=r},callbackContext:function(r,o,u){return null!=o.qualifier?u.target:r},beforeEmit:function(r,o){o.conf&&o.conf.once&&o.conf.onceCollection.removeListener(o.event,o.qualifier,o.callback)},bubble:function(){return!0},parent:function(r){return r.isChild()?r.parent():r.cy()}},ps=function(r){return Ye(r)?new Ur(r):r},dh={createEmitter:function(){for(var r=0;r<this.length;r++){var o=this[r],u=o._private;u.emitter||(u.emitter=new su(Wp,o))}return this},emitter:function(){return this._private.emitter},on:function(r,o,u){for(var c=ps(o),d=0;d<this.length;d++)this[d].emitter().on(r,c,u);return this},removeListener:function(r,o,u){for(var c=ps(o),d=0;d<this.length;d++)this[d].emitter().removeListener(r,c,u);return this},removeAllListeners:function(){for(var r=0;r<this.length;r++)this[r].emitter().removeAllListeners();return this},one:function(r,o,u){for(var c=ps(o),d=0;d<this.length;d++)this[d].emitter().one(r,c,u);return this},once:function(r,o,u){for(var c=ps(o),d=0;d<this.length;d++)this[d].emitter().on(r,c,u,{once:!0,onceCollection:this})},emit:function(r,o){for(var u=0;u<this.length;u++)this[u].emitter().emit(r,o);return this},emitAndNotify:function(r,o){if(0!==this.length)return this.cy().notify(r,this),this.emit(r,o),this}};_t.eventAliasesOn(dh);var fl={nodes:function(r){return this.filter(function(o){return o.isNode()}).filter(r)},edges:function(r){return this.filter(function(o){return o.isEdge()}).filter(r)},byGroup:function(){for(var r=this.spawn(),o=this.spawn(),u=0;u<this.length;u++){var c=this[u];c.isNode()?r.push(c):o.push(c)}return{nodes:r,edges:o}},filter:function(r,o){if(void 0===r)return this;if(Ye(r)||si(r))return new Ur(r).filter(this);if(In(r)){for(var u=this.spawn(),c=this,d=0;d<c.length;d++){var h=c[d];(o?r.apply(o,[h,d,c]):r(h,d,c))&&u.push(h)}return u}return this.spawn()},not:function(r){if(r){Ye(r)&&(r=this.filter(r));for(var o=this.spawn(),u=0;u<this.length;u++){var c=this[u];r.has(c)||o.push(c)}return o}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(r){if(Ye(r))return this.filter(r);for(var u=this.spawn(),h=this.length<r.length,v=h?this:r,y=h?r:this,m=0;m<v.length;m++){var b=v[m];y.has(b)&&u.push(b)}return u},xor:function(r){var o=this._private.cy;Ye(r)&&(r=o.$(r));var u=this.spawn(),d=r,h=function(y,m){for(var b=0;b<y.length;b++){var E=y[b];m.hasElementWithId(E._private.data.id)||u.push(E)}};return h(this,d),h(d,this),u},diff:function(r){var o=this._private.cy;Ye(r)&&(r=o.$(r));var u=this.spawn(),c=this.spawn(),d=this.spawn(),v=r,y=function(b,E,_){for(var x=0;x<b.length;x++){var S=b[x];E.hasElementWithId(S._private.data.id)?d.merge(S):_.push(S)}};return y(this,v,u),y(v,this,c),{left:u,right:c,both:d}},add:function(r){var o=this._private.cy;if(!r)return this;if(Ye(r)){var u=r;r=o.mutableElements().filter(u)}for(var c=this.spawnSelf(),d=0;d<r.length;d++){var h=r[d];!this.has(h)&&c.push(h)}return c},merge:function(r){var o=this._private,u=o.cy;if(!r)return this;if(r&&Ye(r)){var c=r;r=u.mutableElements().filter(c)}for(var d=o.map,h=0;h<r.length;h++){var v=r[h],y=v._private.data.id;if(!d.has(y)){var b=this.length++;this[b]=v,d.set(y,{ele:v,index:b})}}return this},unmergeAt:function(r){var u=this[r].id(),d=this._private.map;if(this[r]=void 0,d.delete(u),this.length>1&&r!==this.length-1){var v=this.length-1,y=this[v],m=y._private.data.id;this[v]=void 0,this[r]=y,d.set(m,{ele:y,index:r})}return this.length--,this},unmergeOne:function(r){var d=this._private.map.get((r=r[0])._private.data.id);return d?(this.unmergeAt(d.index),this):this},unmerge:function(r){var o=this._private.cy;if(!r)return this;if(r&&Ye(r)){var u=r;r=o.mutableElements().filter(u)}for(var c=0;c<r.length;c++)this.unmergeOne(r[c]);return this},unmergeBy:function(r){for(var o=this.length-1;o>=0;o--)r(this[o])&&this.unmergeAt(o);return this},map:function(r,o){for(var u=[],c=this,d=0;d<c.length;d++){var h=c[d],v=o?r.apply(o,[h,d,c]):r(h,d,c);u.push(v)}return u},reduce:function(r,o){for(var u=o,c=this,d=0;d<c.length;d++)u=r(u,c[d],d,c);return u},max:function(r,o){for(var c,u=-1/0,d=this,h=0;h<d.length;h++){var v=d[h],y=o?r.apply(o,[v,h,d]):r(v,h,d);y>u&&(u=y,c=v)}return{value:u,ele:c}},min:function(r,o){for(var c,u=1/0,d=this,h=0;h<d.length;h++){var v=d[h],y=o?r.apply(o,[v,h,d]):r(v,h,d);y<u&&(u=y,c=v)}return{value:u,ele:c}}},wn=fl;wn.u=wn["|"]=wn["+"]=wn.union=wn.or=wn.add,wn["\\"]=wn["!"]=wn["-"]=wn.difference=wn.relativeComplement=wn.subtract=wn.not,wn.n=wn["&"]=wn["."]=wn.and=wn.intersection=wn.intersect,wn["^"]=wn["(+)"]=wn["(-)"]=wn.symmetricDifference=wn.symdiff=wn.xor,wn.fnFilter=wn.filterFn=wn.stdFilter=wn.filter,wn.complement=wn.abscomp=wn.absoluteComplement;var r,Vf=function(r,o){var c=r.cy().hasCompoundNodes();function d(b){var E=b.pstyle("z-compound-depth");return"auto"===E.value?c?b.zDepth():0:"bottom"===E.value?-1:"top"===E.value?wf:0}var h=d(r)-d(o);if(0!==h)return h;function v(b){return"auto"===b.pstyle("z-index-compare").value&&b.isNode()?1:0}var y=v(r)-v(o);if(0!==y)return y;var m=r.pstyle("z-index").value-o.pstyle("z-index").value;return 0!==m?m:r.poolIndex()-o.poolIndex()},ja={forEach:function(r,o){if(In(r))for(var u=this.length,c=0;c<u;c++){var d=this[c];if(!1===(o?r.apply(o,[d,c,this]):r(d,c,this)))break}return this},toArray:function(){for(var r=[],o=0;o<this.length;o++)r.push(this[o]);return r},slice:function(r,o){var u=[],c=this.length;null==o&&(o=c),null==r&&(r=0),r<0&&(r=c+r),o<0&&(o=c+o);for(var d=r;d>=0&&d<o&&d<c;d++)u.push(this[d]);return this.spawn(u)},size:function(){return this.length},eq:function(r){return this[r]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(r){if(!In(r))return this;var o=this.toArray().sort(r);return this.spawn(o)},sortByZIndex:function(){return this.sort(Vf)},zDepth:function(){var r=this[0];if(r){var o=r._private;if("nodes"===o.group){var c=o.data.parent?r.parents().size():0;return r.isParent()?c:wf-1}var h=o.target,v=o.source.zDepth(),y=h.zDepth();return Math.max(v,y,0)}}};ja.each=ja.forEach,r="undefined",(typeof Symbol>"u"?"undefined":en(Symbol))!=r&&en(Symbol.iterator)!=r&&(ja[Symbol.iterator]=function(){var u=this,c={value:void 0,done:!1},d=0,h=this.length;return gn({next:function(){return d<h?c.value=u[d++]:(c.value=void 0,c.done=!0),c}},Symbol.iterator,function(){return this})});var hh=br({nodeDimensionsIncludeLabels:!1}),gs={layoutDimensions:function(r){var o;if(r=hh(r),this.takesUpSpace())if(r.nodeDimensionsIncludeLabels){var u=this.boundingBox();o={w:u.w,h:u.h}}else o={w:this.outerWidth(),h:this.outerHeight()};else o={w:0,h:0};return(0===o.w||0===o.h)&&(o.w=o.h=1),o},layoutPositions:function(r,o,u){var c=this.nodes().filter(function(G){return!G.isParent()}),d=this.cy(),h=o.eles,v=function(q){return q.id()},y=Ls(u,v);r.emit({type:"layoutstart",layout:r}),r.animations=[];var b=o.spacingFactor&&1!==o.spacingFactor,_=function(){if(!b)return null;for(var q=Ui(),V=0;V<c.length;V++){var H=y(c[V],V);Qn(q,H.x,H.y)}return q}(),x=Ls(function(G,q){var V=y(G,q);return b&&(V=function(q,V,W){var H_x=V.x1+V.w/2,H_y=V.y1+V.h/2;return{x:H_x+(W.x-H_x)*q,y:H_y+(W.y-H_y)*q}}(Math.abs(o.spacingFactor),_,V)),null!=o.transform&&(V=o.transform(G,V)),V},v);if(o.animate){for(var S=0;S<c.length;S++){var A=c[S],T=x(A,S);if(null==o.animateFilter||o.animateFilter(A,S)){var k=A.animation({position:T,duration:o.animationDuration,easing:o.animationEasing});r.animations.push(k)}else A.position(T)}if(o.fit){var O=d.animation({fit:{boundingBox:h.boundingBoxAt(x),padding:o.padding},duration:o.animationDuration,easing:o.animationEasing});r.animations.push(O)}else if(void 0!==o.zoom&&void 0!==o.pan){var B=d.animation({zoom:o.zoom,pan:o.pan,duration:o.animationDuration,easing:o.animationEasing});r.animations.push(B)}r.animations.forEach(function(G){return G.play()}),r.one("layoutready",o.ready),r.emit({type:"layoutready",layout:r}),rr.all(r.animations.map(function(G){return G.promise()})).then(function(){r.one("layoutstop",o.stop),r.emit({type:"layoutstop",layout:r})})}else c.positions(x),o.fit&&d.fit(o.eles,o.padding),null!=o.zoom&&d.zoom(o.zoom),o.pan&&d.pan(o.pan),r.one("layoutready",o.ready),r.emit({type:"layoutready",layout:r}),r.one("layoutstop",o.stop),r.emit({type:"layoutstop",layout:r});return this},layout:function(r){return this.cy().makeLayout(yt({},r,{eles:this}))}};function $f(a,r,o){var d,u=o._private,c=u.styleCache=u.styleCache||[];return null!=(d=c[a])||(d=c[a]=r(o)),d}function uu(a,r){return a=Ho(a),function(u){return $f(a,r,u)}}function Pc(a,r){a=Ho(a);var o=function(c){return r.call(c)};return function(){var c=this[0];if(c)return $f(a,o,c)}}gs.createLayout=gs.makeLayout=gs.layout;var Zn={recalculateRenderedStyle:function(r){var o=this.cy(),u=o.renderer(),c=o.styleEnabled();return u&&c&&u.recalculateRenderedStyle(this,r),this},dirtyStyleCache:function(){var u,r=this.cy(),o=function(d){return d._private.styleCache=null};return r.hasCompoundNodes()?((u=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(u.connectedEdges()),u.forEach(o)):this.forEach(function(c){o(c),c.connectedEdges().forEach(o)}),this},updateStyle:function(r){var o=this._private.cy;if(!o.styleEnabled())return this;if(o.batching())return o._private.batchStyleEles.merge(this),this;var d=this;r=!(!r&&void 0!==r),o.hasCompoundNodes()&&(d=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var h=d;return r?h.emitAndNotify("style"):h.emit("style"),d.forEach(function(v){return v._private.styleDirty=!0}),this},cleanStyle:function(){var r=this.cy();if(r.styleEnabled())for(var o=0;o<this.length;o++){var u=this[o];u._private.styleDirty&&(u._private.styleDirty=!1,r.style().apply(u))}},parsedStyle:function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this[0],c=u.cy();if(c.styleEnabled()&&u)return this.cleanStyle(),u._private.style[r]??(o?c.style().getDefaultProperty(r):null)},numericStyle:function(r){var o=this[0];if(o.cy().styleEnabled()&&o){var u=o.pstyle(r);return void 0!==u.pfValue?u.pfValue:u.value}},numericStyleUnits:function(r){var o=this[0];if(o.cy().styleEnabled()&&o)return o.pstyle(r).units},renderedStyle:function(r){var o=this.cy();if(!o.styleEnabled())return this;var u=this[0];return u?o.style().getRenderedStyle(u,r):void 0},style:function(r,o){var u=this.cy();if(!u.styleEnabled())return this;var d=u.style();if(mt(r))d.applyBypass(this,r,!1),this.emitAndNotify("style");else if(Ye(r)){if(void 0===o){var v=this[0];return v?d.getStylePropertyValue(v,r):void 0}d.applyBypass(this,r,o,!1),this.emitAndNotify("style")}else if(void 0===r){var y=this[0];return y?d.getRawStyle(y):void 0}return this},removeStyle:function(r){var o=this.cy();if(!o.styleEnabled())return this;var c=o.style(),d=this;if(void 0===r)for(var h=0;h<d.length;h++)c.removeAllBypasses(d[h],!1);else{r=r.split(/\s+/);for(var y=0;y<d.length;y++)c.removeBypasses(d[y],r,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var r=this.cy();if(!r.styleEnabled())return 1;var o=r.hasCompoundNodes(),u=this[0];if(u){var c=u._private,d=u.pstyle("opacity").value;if(!o)return d;var h=c.data.parent?u.parents():null;if(h)for(var v=0;v<h.length;v++)d*=h[v].pstyle("opacity").value;return d}},transparent:function(){if(!this.cy().styleEnabled())return!1;var o=this[0],u=o.cy().hasCompoundNodes();return o?u?0===o.effectiveOpacity():0===o.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function dl(a,r){var u=a._private.data.parent?a.parents():null;if(u)for(var c=0;c<u.length;c++)if(!r(u[c]))return!1;return!0}function lu(a){var r=a.ok,o=a.edgeOkViaNode||a.ok,u=a.parentOk||a.ok;return function(){var c=this.cy();if(!c.styleEnabled())return!0;var d=this[0],h=c.hasCompoundNodes();if(d){var v=d._private;if(!r(d))return!1;if(d.isNode())return!h||dl(d,u);var y=v.source,m=v.target;return o(y)&&(!h||dl(y,o))&&(y===m||o(m)&&(!h||dl(m,o)))}}}var An=uu("eleTakesUpSpace",function(a){return"element"===a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});Zn.takesUpSpace=Pc("takesUpSpace",lu({ok:An}));var hl=uu("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&An(a)}),pl=uu("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&An(a)});Zn.interactive=Pc("interactive",lu({ok:hl,parentOk:pl,edgeOkViaNode:An})),Zn.noninteractive=function(){var a=this[0];if(a)return!a.interactive()};var mi=uu("eleVisible",function(a){return"visible"===a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&An(a)});Zn.visible=Pc("visible",lu({ok:mi,edgeOkViaNode:An})),Zn.hidden=function(){var a=this[0];if(a)return!a.visible()},Zn.isBundledBezier=Pc("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Zn.bypass=Zn.css=Zn.style,Zn.renderedCss=Zn.renderedStyle,Zn.removeBypass=Zn.removeCss=Zn.removeStyle,Zn.pstyle=Zn.parsedStyle;var co={};function vs(a){return function(){var r=arguments,o=[];if(2===r.length)this.on(a.event,r[0],r[1]);else if(1===r.length&&In(r[0]))this.on(a.event,r[0]);else if(0===r.length||1===r.length&&dn(r[0])){for(var h=1===r.length?r[0]:null,v=0;v<this.length;v++){var y=this[v],m=!a.ableField||y._private[a.ableField],b=y._private[a.field]!=a.value;if(a.overrideAble){var E=a.overrideAble(y);if(void 0!==E&&(m=E,!E))return this}m&&(y._private[a.field]=a.value,b&&o.push(y))}var _=this.spawn(o);_.updateStyle(),_.emit(a.event),h&&_.emit(h)}return this}}function Fr(a){co[a.field]=function(){var r=this[0];if(r){if(a.overrideField){var o=a.overrideField(r);if(void 0!==o)return o}return r._private[a.field]}},co[a.on]=vs({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),co[a.off]=vs({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}Fr({field:"locked",overrideField:function(r){return!!r.cy().autolock()||void 0},on:"lock",off:"unlock"}),Fr({field:"grabbable",overrideField:function(r){return!r.cy().autoungrabify()&&!r.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Fr({field:"selected",ableField:"selectable",overrideAble:function(r){return!r.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Fr({field:"selectable",overrideField:function(r){return!r.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),co.deselect=co.unselect,co.grabbed=function(){var a=this[0];if(a)return a._private.grabbed},Fr({field:"active",on:"activate",off:"unactivate"}),Fr({field:"pannable",on:"panify",off:"unpanify"}),co.inactive=function(){var a=this[0];if(a)return!a._private.active};var ti={},gh=function(r){return function(u){for(var d=[],h=0;h<this.length;h++){var v=this[h];if(v.isNode()){for(var y=!1,m=v.connectedEdges(),b=0;b<m.length;b++){var E=m[b],_=E.source(),x=E.target();if(r.noIncomingEdges&&x===v&&_!==v||r.noOutgoingEdges&&_===v&&x!==v){y=!0;break}}y||d.push(v)}}return this.spawn(d,!0).filter(u)}},Hf=function(r){return function(o){for(var c=[],d=0;d<this.length;d++){var h=this[d];if(h.isNode())for(var v=h.connectedEdges(),y=0;y<v.length;y++){var m=v[y],b=m.source(),E=m.target();r.outgoing&&b===h?(c.push(m),c.push(E)):r.incoming&&E===h&&(c.push(m),c.push(b))}}return this.spawn(c,!0).filter(o)}},Sa=function(r){return function(o){for(var u=this,c=[],d={};;){var h=r.outgoing?u.outgoers():u.incomers();if(0===h.length)break;for(var v=!1,y=0;y<h.length;y++){var m=h[y],b=m.id();d[b]||(d[b]=!0,c.push(m),v=!0)}if(!v)break;u=h}return this.spawn(c,!0).filter(o)}};function gl(a){return function(o){for(var u=[],c=0;c<this.length;c++){var h=this[c]._private[a.attr];h&&u.push(h)}return this.spawn(u,!0).filter(o)}}function zf(a){return function(o){var u=[],c=this._private.cy,d=a||{};Ye(o)&&(o=c.$(o));for(var h=0;h<o.length;h++)for(var v=o[h]._private.edges,y=0;y<v.length;y++){var m=v[y],b=m._private.data,E=this.hasElementWithId(b.source)&&o.hasElementWithId(b.target),_=o.hasElementWithId(b.source)&&this.hasElementWithId(b.target);(E||_)&&((d.thisIsSrc||d.thisIsTgt)&&(d.thisIsSrc&&!E||d.thisIsTgt&&!_)||u.push(m))}return this.spawn(u,!0)}}function vl(a){return a=yt({},{codirected:!1},a),function(u){for(var c=[],d=this.edges(),h=a,v=0;v<d.length;v++)for(var m=d[v]._private,b=m.source,E=b._private.data.id,_=m.data.target,x=b._private.edges,S=0;S<x.length;S++){var A=x[S],T=A._private.data,P=T.target,k=T.source,O=P===_&&k===E;(h.codirected&&O||!h.codirected&&(O||E===P&&_===k))&&c.push(A)}return this.spawn(c,!0).filter(u)}}ti.clearTraversalCache=function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null},yt(ti,{roots:gh({noIncomingEdges:!0}),leaves:gh({noOutgoingEdges:!0}),outgoers:uo(Hf({outgoing:!0}),"outgoers"),successors:Sa({outgoing:!0}),incomers:uo(Hf({incoming:!0}),"incomers"),predecessors:Sa({incoming:!0})}),yt(ti,{neighborhood:uo(function(a){for(var r=[],o=this.nodes(),u=0;u<o.length;u++)for(var c=o[u],d=c.connectedEdges(),h=0;h<d.length;h++){var v=d[h],y=v.source(),m=v.target(),b=c===y?m:y;b.length>0&&r.push(b[0]),r.push(v[0])}return this.spawn(r,!0).filter(a)},"neighborhood"),closedNeighborhood:function(r){return this.neighborhood().add(this).filter(r)},openNeighborhood:function(r){return this.neighborhood(r)}}),ti.neighbourhood=ti.neighborhood,ti.closedNeighbourhood=ti.closedNeighborhood,ti.openNeighbourhood=ti.openNeighborhood,yt(ti,{source:uo(function(r){var u,o=this[0];return o&&(u=o._private.source||o.cy().collection()),u&&r?u.filter(r):u},"source"),target:uo(function(r){var u,o=this[0];return o&&(u=o._private.target||o.cy().collection()),u&&r?u.filter(r):u},"target"),sources:gl({attr:"source"}),targets:gl({attr:"target"})}),yt(ti,{edgesWith:uo(zf(),"edgesWith"),edgesTo:uo(zf({thisIsSrc:!0}),"edgesTo")}),yt(ti,{connectedEdges:uo(function(a){for(var r=[],u=0;u<this.length;u++){var c=this[u];if(c.isNode())for(var d=c._private.edges,h=0;h<d.length;h++)r.push(d[h])}return this.spawn(r,!0).filter(a)},"connectedEdges"),connectedNodes:uo(function(a){for(var r=[],u=0;u<this.length;u++){var c=this[u];c.isEdge()&&(r.push(c.source()[0]),r.push(c.target()[0]))}return this.spawn(r,!0).filter(a)},"connectedNodes"),parallelEdges:uo(vl(),"parallelEdges"),codirectedEdges:uo(vl({codirected:!0}),"codirectedEdges")}),yt(ti,{components:function(r){var o=this,u=o.cy(),c=u.collection(),d=null==r?o.nodes():r.nodes(),h=[];null!=r&&d.empty()&&(d=r.sources());var v=function(b,E){c.merge(b),d.unmerge(b),E.merge(b)};if(d.empty())return o.spawn();var y=function(){var b=u.collection();h.push(b);var E=d[0];v(E,b),o.bfs({directed:!1,roots:E,visit:function(x){return v(x,b)}}),b.forEach(function(_){_.connectedEdges().forEach(function(x){o.has(x)&&b.has(x.source())&&b.has(x.target())&&b.merge(x)})})};do{y()}while(d.length>0);return h},component:function(){var r=this[0];return r.cy().mutableElements().components(r)[0]}}),ti.componentsOf=ti.components;var jr=function(r,o){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==r){var d=new zo,h=!1;if(o){if(o.length>0&&mt(o[0])&&!Rs(o[0])){h=!0;for(var v=[],y=new zs,m=0,b=o.length;m<b;m++){var E=o[m];null==E.data&&(E.data={});var _=E.data;if(null==_.id)_.id=Vd();else if(r.hasElementWithId(_.id)||y.has(_.id))continue;var x=new Gu(r,E,!1);v.push(x),y.add(_.id)}o=v}}else o=[];this.length=0;for(var S=0,A=o.length;S<A;S++){var T=o[S][0];if(null!=T){var P=T._private.data.id;(!u||!d.has(P))&&(u&&d.set(P,{index:this.length,ele:T}),this[this.length]=T,this.length++)}}this._private={eles:this,cy:r,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(k){this.lazyMap=k},rebuildMap:function(){for(var O=this.lazyMap=new zo,B=this.eles,G=0;G<B.length;G++){var q=B[G];O.set(q.id(),{index:G,ele:q})}}},u&&(this._private.map=d),h&&!c&&this.restore()}else Pn("A collection must have a reference to the core")},Ln=Gu.prototype=jr.prototype=Object.create(Array.prototype);Ln.instanceString=function(){return"collection"},Ln.spawn=function(a,r){return new jr(this.cy(),a,r)},Ln.spawnSelf=function(){return this.spawn(this)},Ln.cy=function(){return this._private.cy},Ln.renderer=function(){return this._private.cy.renderer()},Ln.element=function(){return this[0]},Ln.collection=function(){return Od(this)?this:new jr(this._private.cy,[this])},Ln.unique=function(){return new jr(this._private.cy,this,!0)},Ln.hasElementWithId=function(a){return this._private.map.has(a=""+a)},Ln.getElementById=function(a){var r=this._private.cy,o=this._private.map.get(a=""+a);return o?o.ele:new jr(r)},Ln.$id=Ln.getElementById,Ln.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Ln.indexOf=function(a){return this._private.map.get(a[0]._private.data.id).index},Ln.indexOfId=function(a){return this._private.map.get(a=""+a).index},Ln.json=function(a){var r=this.element(),o=this.cy();if(null==r&&a)return this;if(null!=r){var u=r._private;if(mt(a)){if(o.startBatch(),a.data){r.data(a.data);var c=u.data;if(r.isEdge()){var d=!1,h={},v=a.data.source,y=a.data.target;null!=v&&v!=c.source&&(h.source=""+v,d=!0),null!=y&&y!=c.target&&(h.target=""+y,d=!0),d&&(r=r.move(h))}else{var b=a.data.parent;"parent"in a.data&&(null!=b||null!=c.parent)&&b!=c.parent&&(void 0===b&&(b=null),null!=b&&(b=""+b),r=r.move({parent:b}))}}a.position&&r.position(a.position);var E=function(A,T,P){var k=a[A];null!=k&&k!==u[A]&&(k?r[T]():r[P]())};return E("removed","remove","restore"),E("selected","select","unselect"),E("selectable","selectify","unselectify"),E("locked","lock","unlock"),E("grabbable","grabify","ungrabify"),E("pannable","panify","unpanify"),null!=a.classes&&r.classes(a.classes),o.endBatch(),this}if(void 0===a){var _={data:So(u.data),position:So(u.position),group:u.group,removed:u.removed,selected:u.selected,selectable:u.selectable,locked:u.locked,grabbable:u.grabbable,pannable:u.pannable,classes:""},x=0;return u.classes.forEach(function(S){return _.classes+=0==x++?S:" "+S}),_}}},Ln.jsons=function(){for(var a=[],r=0;r<this.length;r++){var u=this[r].json();a.push(u)}return a},Ln.clone=function(){for(var a=this.cy(),r=[],o=0;o<this.length;o++){var c=this[o].json(),d=new Gu(a,c,!1);r.push(d)}return new jr(a,r)},Ln.copy=Ln.clone,Ln.restore=function(){for(var v,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,u=o.cy(),c=u._private,d=[],h=[],y=0,m=o.length;y<m;y++){var b=o[y];r&&!b.removed()||(b.isNode()?d.push(b):h.push(b))}v=d.concat(h);var E,_=function(){v.splice(E,1),E--};for(E=0;E<v.length;E++){var x=v[E],S=x._private,A=S.data;if(x.clearTraversalCache(),r||S.removed)if(void 0===A.id)A.id=Vd();else if(nt(A.id))A.id=""+A.id;else{if(Ii(A.id)||!Ye(A.id)){Pn("Can not create element with invalid string ID `"+A.id+"`"),_();continue}if(u.hasElementWithId(A.id)){Pn("Can not create second element with ID `"+A.id+"`"),_();continue}}var T=A.id;if(x.isNode()){var P=S.position;null==P.x&&(P.x=0),null==P.y&&(P.y=0)}if(x.isEdge()){for(var k=x,O=["source","target"],B=O.length,G=!1,q=0;q<B;q++){var V=O[q],W=A[V];nt(W)&&(W=A[V]=""+A[V]),null==W||""===W?(Pn("Can not create edge `"+T+"` with unspecified "+V),G=!0):u.hasElementWithId(W)||(Pn("Can not create edge `"+T+"` with nonexistant "+V+" `"+W+"`"),G=!0)}if(G){_();continue}var H=u.getElementById(A.source),K=u.getElementById(A.target);H.same(K)?H._private.edges.push(k):(H._private.edges.push(k),K._private.edges.push(k)),k._private.source=H,k._private.target=K}S.map=new zo,S.map.set(T,{ele:x,index:0}),S.removed=!1,r&&u.addToPool(x)}for(var Q=0;Q<d.length;Q++){var U=d[Q],ee=U._private.data;nt(ee.parent)&&(ee.parent=""+ee.parent);var Z=ee.parent;if(null!=Z||U._private.parent){var te=U._private.parent?u.collection().merge(U._private.parent):u.getElementById(Z);if(te.empty())ee.parent=void 0;else if(te[0].removed())Cn("Node added with missing parent, reference to parent removed"),ee.parent=void 0,U._private.parent=null;else{for(var ne=!1,fe=te;!fe.empty();){if(U.same(fe)){ne=!0,ee.parent=void 0;break}fe=fe.parent()}ne||(te[0]._private.children.push(U),U._private.parent=te[0],c.hasCompoundNodes=!0)}}}if(v.length>0){for(var he=v.length===o.length?o:new jr(u,v),we=0;we<he.length;we++){var de=he[we];de.isNode()||(de.parallelEdges().clearTraversalCache(),de.source().clearTraversalCache(),de.target().clearTraversalCache())}(c.hasCompoundNodes?u.collection().merge(he).merge(he.connectedNodes()).merge(he.parent()):he).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(a),a?he.emitAndNotify("add"):r&&he.emit("add")}return o},Ln.removed=function(){var a=this[0];return a&&a._private.removed},Ln.inside=function(){var a=this[0];return a&&!a._private.removed},Ln.remove=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,u=[],c={},d=o._private.cy;function y(Z){var ae=c[Z.id()];r&&Z.removed()||ae||(c[Z.id()]=!0,Z.isNode()?(u.push(Z),function h(Z){for(var ae=Z._private.edges,te=0;te<ae.length;te++)y(ae[te])}(Z),function v(Z){for(var ae=Z._private.children,te=0;te<ae.length;te++)y(ae[te])}(Z)):u.unshift(Z))}for(var m=0,b=o.length;m<b;m++)y(o[m]);function _(Z,ae){da(Z._private.edges,ae),Z.clearTraversalCache()}var S=[];function A(Z,ae){ae=ae[0];var te=(Z=Z[0])._private.children,ne=Z.id();da(te,ae),ae._private.parent=null,S.ids[ne]||(S.ids[ne]=!0,S.push(Z))}S.ids={},o.dirtyCompoundBoundsCache(),r&&d.removeFromPool(u);for(var T=0;T<u.length;T++){var P=u[T];if(P.isEdge()){var k=P.source()[0],O=P.target()[0];_(k,P),_(O,P);for(var B=P.parallelEdges(),G=0;G<B.length;G++){var q=B[G];q.clearTraversalCache(),q.isBundledBezier()&&q.dirtyBoundingBoxCache()}}else{var V=P.parent();0!==V.length&&A(V,P)}r&&(P._private.removed=!0)}var W=d._private.elements;d._private.hasCompoundNodes=!1;for(var H=0;H<W.length;H++)if(W[H].isParent()){d._private.hasCompoundNodes=!0;break}var Q=new jr(this.cy(),u);Q.size()>0&&(a?Q.emitAndNotify("remove"):r&&Q.emit("remove"));for(var U=0;U<S.length;U++){var ee=S[U];(!r||!ee.removed())&&ee.updateStyle()}return Q},Ln.move=function(a){var r=this._private.cy,o=this,u=!1,c=!1,d=function(S){return null==S?S:""+S};if(void 0!==a.source||void 0!==a.target){var h=d(a.source),v=d(a.target),y=null!=h&&r.hasElementWithId(h),m=null!=v&&r.hasElementWithId(v);(y||m)&&(r.batch(function(){o.remove(u,c),o.emitAndNotify("moveout");for(var x=0;x<o.length;x++){var S=o[x],A=S._private.data;S.isEdge()&&(y&&(A.source=h),m&&(A.target=v))}o.restore(u,c)}),o.emitAndNotify("move"))}else if(void 0!==a.parent){var b=d(a.parent);if(null===b||r.hasElementWithId(b)){var _=null===b?void 0:b;r.batch(function(){var x=o.remove(u,c);x.emitAndNotify("moveout");for(var S=0;S<o.length;S++){var A=o[S],T=A._private.data;A.isNode()&&(T.parent=_)}x.restore(u,c)}),o.emitAndNotify("move")}}return this},[Ec,Jr,wa,Pi,al,yv,Of,wv,dh,fl,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var r=this[0];if(r)return r._private.group}},ja,gs,Zn,co,ti].forEach(function(a){yt(Ln,a)});var tn={add:function(r){var o,u=this;if(si(r)){var c=r;if(c._private.cy===u)o=c.restore();else{for(var d=[],h=0;h<c.length;h++)d.push(c[h].json());o=new jr(u,d)}}else if(dn(r))o=new jr(u,r);else if(mt(r)&&(dn(r.nodes)||dn(r.edges))){for(var m=r,b=[],E=["nodes","edges"],_=0,x=E.length;_<x;_++){var S=E[_],A=m[S];if(dn(A))for(var T=0,P=A.length;T<P;T++){var k=yt({group:S},A[T]);b.push(k)}}o=new jr(u,b)}else o=new Gu(u,r).collection();return o},remove:function(r){return si(r)||Ye(r)&&(r=this.$(r)),r.remove()}};function Tt(a,r,o,u){var m=.1,b=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var E=0;E<4;++E)if("number"!=typeof arguments[E]||isNaN(arguments[E])||!isFinite(arguments[E]))return!1;a=Math.min(a,1),o=Math.min(o,1),a=Math.max(a,0),o=Math.max(o,0);var _=b?new Float32Array(11):new Array(11);function x(K,Q){return 1-3*Q+3*K}function S(K,Q){return 3*Q-6*K}function A(K){return 3*K}function T(K,Q,U){return((x(Q,U)*K+S(Q,U))*K+A(Q))*K}function P(K,Q,U){return 3*x(Q,U)*K*K+2*S(Q,U)*K+A(Q)}var q=!1;var W=function(Q){return q||function V(){q=!0,(a!==r||o!==u)&&function O(){for(var K=0;K<11;++K)_[K]=T(K*m,a,o)}()}(),a===r&&o===u?Q:0===Q?0:1===Q?1:T(function G(K){for(var Q=0,U=1;10!==U&&_[U]<=K;++U)Q+=m;--U;var ae=Q+(K-_[U])/(_[U+1]-_[U])*m,te=P(ae,a,o);return te>=.001?function k(K,Q){for(var U=0;U<4;++U){var ee=P(Q,a,o);if(0===ee)return Q;Q-=(T(Q,a,o)-K)/ee}return Q}(K,ae):0===te?ae:function B(K,Q,U){var ee,Z,ae=0;do{(ee=T(Z=Q+(U-Q)/2,a,o)-K)>0?U=Z:Q=Z}while(Math.abs(ee)>1e-7&&++ae<10);return Z}(K,Q,Q+m)}(Q),r,u)};W.getControlPoints=function(){return[{x:a,y:r},{x:o,y:u}]};var H="generateBezier("+[a,r,o,u]+")";return W.toString=function(){return H},W}var vh=function(){function a(u){return-u.tension*u.x-u.friction*u.v}function r(u,c,d){var h={x:u.x+d.dx*c,v:u.v+d.dv*c,tension:u.tension,friction:u.friction};return{dx:h.v,dv:a(h)}}function o(u,c){var d={dx:u.v,dv:a(u)},h=r(u,.5*c,d),v=r(u,.5*c,h),y=r(u,c,v),b=1/6*(d.dv+2*(h.dv+v.dv)+y.dv);return u.x=u.x+1/6*(d.dx+2*(h.dx+v.dx)+y.dx)*c,u.v=u.v+b*c,u}return function u(c,d,h){var _,x,S,v={x:-1,v:0,tension:null,friction:null},y=[0],m=0,b=1e-4;for(c=parseFloat(c)||500,d=parseFloat(d)||20,h=h||null,v.tension=c,v.friction=d,x=(_=null!==h)?(m=u(c,d))/h*.016:.016;S=o(S||v,x),y.push(1+S.x),m+=16,Math.abs(S.x)>b&&Math.abs(S.v)>b;);return _?function(A){return y[A*(y.length-1)|0]}:m}}(),Bn=function(r,o,u,c){var d=Tt(r,o,u,c);return function(h,v,y){return h+(v-h)*d(y)}},ml={linear:function(r,o,u){return r+(o-r)*u},ease:Bn(.25,.1,.25,1),"ease-in":Bn(.42,0,1,1),"ease-out":Bn(0,0,.58,1),"ease-in-out":Bn(.42,0,.58,1),"ease-in-sine":Bn(.47,0,.745,.715),"ease-out-sine":Bn(.39,.575,.565,1),"ease-in-out-sine":Bn(.445,.05,.55,.95),"ease-in-quad":Bn(.55,.085,.68,.53),"ease-out-quad":Bn(.25,.46,.45,.94),"ease-in-out-quad":Bn(.455,.03,.515,.955),"ease-in-cubic":Bn(.55,.055,.675,.19),"ease-out-cubic":Bn(.215,.61,.355,1),"ease-in-out-cubic":Bn(.645,.045,.355,1),"ease-in-quart":Bn(.895,.03,.685,.22),"ease-out-quart":Bn(.165,.84,.44,1),"ease-in-out-quart":Bn(.77,0,.175,1),"ease-in-quint":Bn(.755,.05,.855,.06),"ease-out-quint":Bn(.23,1,.32,1),"ease-in-out-quint":Bn(.86,0,.07,1),"ease-in-expo":Bn(.95,.05,.795,.035),"ease-out-expo":Bn(.19,1,.22,1),"ease-in-out-expo":Bn(1,0,0,1),"ease-in-circ":Bn(.6,.04,.98,.335),"ease-out-circ":Bn(.075,.82,.165,1),"ease-in-out-circ":Bn(.785,.135,.15,.86),spring:function(r,o,u){if(0===u)return ml.linear;var c=vh(r,o,u);return function(d,h,v){return d+(h-d)*c(v)}},"cubic-bezier":Bn};function mh(a,r,o,u,c){if(1===u||r===o)return o;var d=c(r,o,u);return null==a||((a.roundValue||a.color)&&(d=Math.round(d)),void 0!==a.min&&(d=Math.max(d,a.min)),void 0!==a.max&&(d=Math.min(d,a.max))),d}function yh(a,r){return null!=a.pfValue||null!=a.value?null==a.pfValue||null!=r&&"%"===r.type.units?a.value:a.pfValue:a}function Gr(a,r,o,u,c){var d=null!=c?c.type:null;o<0?o=0:o>1&&(o=1);var h=yh(a,c),v=yh(r,c);if(nt(h)&&nt(v))return mh(d,h,v,o,u);if(dn(h)&&dn(v)){for(var y=[],m=0;m<v.length;m++){var b=h[m],E=v[m];if(null!=b&&null!=E){var _=mh(d,b,E,o,u);y.push(_)}else y.push(E)}return y}}function cu(a,r,o,u){var c=!u,d=a._private,h=r._private,v=h.easing,y=h.startTime,b=(u?a:a.cy()).style();if(!h.easingImpl)if(null==v)h.easingImpl=ml.linear;else{var E,x,S;E=Ye(v)?b.parse("transition-timing-function",v).value:v,Ye(E)?(x=E,S=[]):(x=E[1],S=E.slice(2).map(function(he){return+he})),S.length>0?("spring"===x&&S.push(h.duration),h.easingImpl=ml[x].apply(null,S)):h.easingImpl=ml[x]}var T,A=h.easingImpl;if(T=0===h.duration?1:(o-y)/h.duration,h.applying&&(T=h.progress),T<0?T=0:T>1&&(T=1),null==h.delay){var P=h.startPosition,k=h.position;if(k&&c&&!a.locked()){var O={};Ga(P.x,k.x)&&(O.x=Gr(P.x,k.x,T,A)),Ga(P.y,k.y)&&(O.y=Gr(P.y,k.y,T,A)),a.position(O)}var B=h.startPan,G=h.pan,q=d.pan,V=null!=G&&u;V&&(Ga(B.x,G.x)&&(q.x=Gr(B.x,G.x,T,A)),Ga(B.y,G.y)&&(q.y=Gr(B.y,G.y,T,A)),a.emit("pan"));var W=h.startZoom,H=h.zoom,K=null!=H&&u;K&&(Ga(W,H)&&(d.zoom=oc(d.minZoom,Gr(W,H,T,A),d.maxZoom)),a.emit("zoom")),(V||K)&&a.emit("viewport");var Q=h.style;if(Q&&Q.length>0&&c){for(var U=0;U<Q.length;U++){var ee=Q[U],Z=ee.name,te=h.startStyle[Z],fe=Gr(te,ee,T,A,b.properties[te.name]);b.overrideBypass(a,Z,fe)}a.emit("style")}}return h.progress=T,T}function Ga(a,r){return!!(null!=a&&null!=r&&(nt(a)&&nt(r)||a&&r))}function Uf(a,r,o,u){var c=r._private;c.started=!0,c.startTime=o-c.progress*c.duration}function jf(a,r){var o=r._private.aniEles,u=[];function c(b,E){var _=b._private,x=_.animation.current,S=_.animation.queue,A=!1;if(0===x.length){var T=S.shift();T&&x.push(T)}for(var P=function(q){for(var V=q.length-1;V>=0;V--)(0,q[V])();q.splice(0,q.length)},k=x.length-1;k>=0;k--){var O=x[k],B=O._private;B.stopped?(x.splice(k,1),B.hooked=!1,B.playing=!1,B.started=!1,P(B.frames)):!B.playing&&!B.applying||(B.playing&&B.applying&&(B.applying=!1),B.started||Uf(0,O,a),cu(b,O,a,E),B.applying&&(B.applying=!1),P(B.frames),null!=B.step&&B.step(a),O.completed()&&(x.splice(k,1),B.hooked=!1,B.playing=!1,B.started=!1,P(B.completes)),A=!0)}return!E&&0===x.length&&0===S.length&&u.push(b),A}for(var d=!1,h=0;h<o.length;h++){var y=c(o[h]);d=d||y}var m=c(r,!0);(d||m)&&(o.length>0?r.notify("draw",o):r.notify("draw")),o.unmerge(u),r.emit("step")}var wh={animate:_t.animate(),animation:_t.animation(),animated:_t.animated(),clearQueue:_t.clearQueue(),delay:_t.delay(),delayAnimation:_t.delayAnimation(),stop:_t.stop(),addToAnimationPool:function(r){this.styleEnabled()&&this._private.aniEles.merge(r)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var r=this;if(r._private.animationsRunning=!0,r.styleEnabled()){var u=r.renderer();u&&u.beforeRender?u.beforeRender(function(d,h){jf(h,r)},u.beforeRenderPriorities.animations):function o(){r._private.animationsRunning&&Ql(function(d){jf(d,r),o()})}()}}},Ji={qualifierCompare:function(r,o){return null==r||null==o?null==r&&null==o:r.sameText(o)},eventMatches:function(r,o,u){var c=o.qualifier;return null==c||r!==u.target&&Rs(u.target)&&c.matches(u.target)},addEventFields:function(r,o){o.cy=r,o.target=r},callbackContext:function(r,o,u){return null!=o.qualifier?u.target:r}},Ie=function(r){return Ye(r)?new Ur(r):r},un={createEmitter:function(){var r=this._private;return r.emitter||(r.emitter=new su(Ji,this)),this},emitter:function(){return this._private.emitter},on:function(r,o,u){return this.emitter().on(r,Ie(o),u),this},removeListener:function(r,o,u){return this.emitter().removeListener(r,Ie(o),u),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(r,o,u){return this.emitter().one(r,Ie(o),u),this},once:function(r,o,u){return this.emitter().one(r,Ie(o),u),this},emit:function(r,o){return this.emitter().emit(r,o),this},emitAndNotify:function(r,o){return this.emit(r),this.notify(r,o),this}};_t.eventAliasesOn(un);var kc={png:function(r){return this._private.renderer.png(r=r||{})},jpg:function(r){var o=this._private.renderer;return(r=r||{}).bg=r.bg||"#fff",o.jpg(r)}};kc.jpeg=kc.jpg;var ms={layout:function(r){var o=this;if(null!=r)if(null!=r.name){var d,u=r.name,c=o.extension("layout",u);if(null!=c)return d=Ye(r.eles)?o.$(r.eles):null!=r.eles?r.eles:o.$(),new c(yt({},r,{cy:o,eles:d}));Pn("No such layout `"+u+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Pn("A `name` must be specified to make a layout");else Pn("Layout options must be specified to make a layout")}};ms.createLayout=ms.makeLayout=ms.layout;var Wr={notify:function(r,o){var u=this._private;if(this.batching()){u.batchNotifications=u.batchNotifications||{};var c=u.batchNotifications[r]=u.batchNotifications[r]||this.collection();null!=o&&c.merge(o)}else if(u.notificationsEnabled){var d=this.renderer();this.destroyed()||!d||d.notify(r,o)}},notifications:function(r){var o=this._private;return void 0===r?o.notificationsEnabled:(o.notificationsEnabled=!!r,this)},noNotifications:function(r){this.notifications(!1),r(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var r=this._private;return null==r.batchCount&&(r.batchCount=0),0===r.batchCount&&(r.batchStyleEles=this.collection(),r.batchNotifications={}),r.batchCount++,this},endBatch:function(){var r=this._private;if(0===r.batchCount)return this;if(r.batchCount--,0===r.batchCount){r.batchStyleEles.updateStyle();var o=this.renderer();Object.keys(r.batchNotifications).forEach(function(u){var c=r.batchNotifications[u];c.empty()?o.notify(u):o.notify(u,c)})}return this},batch:function(r){return this.startBatch(),r(),this.endBatch(),this},batchData:function(r){var o=this;return this.batch(function(){for(var u=Object.keys(r),c=0;c<u.length;c++){var d=u[c],h=r[d];o.getElementById(d).data(h)}})}},Oc=br({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Wa={renderTo:function(r,o,u,c){return this._private.renderer.renderTo(r,o,u,c),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(r){var o=this,u=o.extension("renderer",r.name);if(null!=u){void 0!==r.wheelSensitivity&&Cn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var c=Oc(r);c.cy=o,o._private.renderer=new u(c),this.notify("init")}else Pn("Can not initialise: No such renderer `".concat(r.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var r=this;r.notify("destroy");var o=r.container();if(o)for(o._cyreg=null;o.childNodes.length>0;)o.removeChild(o.childNodes[0]);r._private.renderer=null,r.mutableElements().forEach(function(u){var c=u._private;c.rscratch={},c.rstyle={},c.animation.current=[],c.animation.queue=[]})},onRender:function(r){return this.on("render",r)},offRender:function(r){return this.off("render",r)}};Wa.invalidateDimensions=Wa.resize;var yi={collection:function(r,o){return Ye(r)?this.$(r):si(r)?r.collection():dn(r)?(o||(o={}),new jr(this,r,o.unique,o.removed)):new jr(this)},nodes:function(r){var o=this.$(function(u){return u.isNode()});return r?o.filter(r):o},edges:function(r){var o=this.$(function(u){return u.isEdge()});return r?o.filter(r):o},$:function(r){var o=this._private.elements;return r?o.filter(r):o.spawnSelf()},mutableElements:function(){return this._private.elements}};yi.elements=yi.filter=yi.$;var Cr={apply:function(a){for(var r=this,c=r._private.cy.collection(),d=0;d<a.length;d++){var h=a[d],v=r.getContextMeta(h);if(!v.empty){var y=r.getContextStyle(v),m=r.applyContextStyle(v,y,h);h._private.appliedInitStyle?r.updateTransitions(h,m.diffProps):h._private.appliedInitStyle=!0,r.updateStyleHints(h)&&c.push(h)}}return c},getPropertiesDiff:function(a,r){var o=this,u=o._private.propDiffs=o._private.propDiffs||{},c=a+"-"+r,d=u[c];if(d)return d;for(var h=[],v={},y=0;y<o.length;y++){var m=o[y],E="t"===r[y],_="t"===a[y]!==E,x=m.mappedProperties.length>0;if(_||E&&x){var S=void 0;_&&x||_?S=m.properties:x&&(S=m.mappedProperties);for(var A=0;A<S.length;A++){for(var T=S[A],P=T.name,k=!1,O=y+1;O<o.length&&("t"!==r[O]||!(k=null!=o[O].properties[T.name]));O++);!v[P]&&!k&&(v[P]=!0,h.push(P))}}}return u[c]=h,h},getContextMeta:function(a){for(var u,r=this,o="",c=a._private.styleCxtKey||"",d=0;d<r.length;d++){var h=r[d];o+=h.selector&&h.selector.matches(a)?"t":"f"}return u=r.getPropertiesDiff(c,o),a._private.styleCxtKey=o,{key:o,diffPropNames:u,empty:0===u.length}},getContextStyle:function(a){var r=a.key,u=this._private.contextStyles=this._private.contextStyles||{};if(u[r])return u[r];for(var c={_private:{key:r}},d=0;d<this.length;d++){var h=this[d];if("t"===r[d])for(var y=0;y<h.properties.length;y++){var m=h.properties[y];c[m.name]=m}}return u[r]=c,c},applyContextStyle:function(a,r,o){for(var c=a.diffPropNames,d={},h=this.types,v=0;v<c.length;v++){var y=c[v],m=r[y],b=o.pstyle(y);if(!m){if(!b)continue;m=b.bypass?{name:y,deleteBypassed:!0}:{name:y,delete:!0}}if(b!==m){if(m.mapped===h.fn&&null!=b&&null!=b.mapping&&b.mapping.value===m.value){var E=b.mapping;if((E.fnValue=m.value(o))===E.prevFnValue)continue}var x=d[y]={prev:b};this.applyParsedProperty(o,m),x.next=o.pstyle(y),x.next&&x.next.bypass&&(x.next=x.next.bypassed)}}return{diffProps:d}},updateStyleHints:function(a){var u,r=a._private,o=this,c=o.propertyGroupKeys,d=function(je,Ke,gt){return o.getPropertiesHash(je,Ke,gt)},h=r.styleKey;if(a.removed())return!1;var je,v="nodes"===r.group,y=a._private.style;u=Object.keys(y);for(var m=0;m<c.length;m++)r.styleKeys[c[m]]=[os,Xl];for(var E=function(je,Ke){return r.styleKeys[Ke][0]=$s(je,r.styleKeys[Ke][0])},_=function(je,Ke){return r.styleKeys[Ke][1]=Hs(je,r.styleKeys[Ke][1])},x=function(je,Ke){E(je,Ke),_(je,Ke)},S=function(je,Ke){for(var gt=0;gt<je.length;gt++){var Ut=je.charCodeAt(gt);E(Ut,Ke),_(Ut,Ke)}},P=0;P<u.length;P++){var k=u[P],O=y[k];if(null!=O){var B=this.properties[k],G=B.type,q=B.groupKey,V=void 0;null!=B.hashOverride?V=B.hashOverride(a,O):null!=O.pfValue&&(V=O.pfValue);var W=null==B.enums?O.value:null,H=null!=V,U=O.units;!G.number||!H&&null==W||G.multiple?S(O.strValue,q):(x(-128<(je=H?V:W)&&je<128&&Math.floor(je)!==je?2e9-(1024*je|0):je,q),!H&&null!=U&&S(U,q))}}for(var Z=[os,Xl],ae=0;ae<c.length;ae++){var ne=r.styleKeys[c[ae]];Z[0]=$s(ne[0],Z[0]),Z[1]=Hs(ne[1],Z[1])}r.styleKey=function(r,o){return 2097152*r+o}(Z[0],Z[1]);var fe=r.styleKeys;r.labelDimsKey=fa(fe.labelDimensions);var he=d(a,["label"],fe.labelDimensions);if(r.labelKey=fa(he),r.labelStyleKey=fa(Jl(fe.commonLabel,he)),!v){var we=d(a,["source-label"],fe.labelDimensions);r.sourceLabelKey=fa(we),r.sourceLabelStyleKey=fa(Jl(fe.commonLabel,we));var de=d(a,["target-label"],fe.labelDimensions);r.targetLabelKey=fa(de),r.targetLabelStyleKey=fa(Jl(fe.commonLabel,de))}if(v){var ye=r.styleKeys,le=ye.pie,Ae=[ye.nodeBody,ye.nodeBorder,ye.backgroundImage,ye.compound,le].filter(function(Re){return null!=Re}).reduce(Jl,[os,Xl]);r.nodeKey=fa(Ae),r.hasPie=null!=le&&le[0]!==os&&le[1]!==Xl}return h!==r.styleKey},clearStyleHints:function(a){var r=a._private;r.styleCxtKey="",r.styleKeys={},r.styleKey=null,r.labelKey=null,r.labelStyleKey=null,r.sourceLabelKey=null,r.sourceLabelStyleKey=null,r.targetLabelKey=null,r.targetLabelStyleKey=null,r.nodeKey=null,r.hasPie=null},applyParsedProperty:function(a,r){var d,o=this,u=r,c=a._private.style,h=o.types,v=o.properties[u.name].type,y=u.bypass,m=c[u.name],b=m&&m.bypass,E=a._private,_="mapping",x=function(Te){return null==Te?null:null!=Te.pfValue?Te.pfValue:Te.value},S=function(){var Te=x(m),Oe=x(u);o.checkTriggers(a,u.name,Te,Oe)};if(u&&"pie"===u.name.substr(0,3)&&Cn("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===r.name&&a.isEdge()&&("bezier"!==r.value&&a.isLoop()||"haystack"===r.value&&(a.source().isParent()||a.target().isParent()))&&(u=r=this.parse(r.name,"bezier",y)),u.delete)return c[u.name]=void 0,S(),!0;if(u.deleteBypassed)return m?!!m.bypass&&(m.bypassed=void 0,S(),!0):(S(),!0);if(u.deleteBypass)return m?!!m.bypass&&(c[u.name]=m.bypassed,S(),!0):(S(),!0);var A=function(){Cn("Do not assign mappings to elements without corresponding data (i.e. ele `"+a.id()+"` has no mapping for property `"+u.name+"` with data field `"+u.field+"`); try a `["+u.field+"]` selector to limit scope to elements with `"+u.field+"` defined")};switch(u.mapped){case h.mapData:for(var T=u.field.split("."),P=E.data,k=0;k<T.length&&P;k++)P=P[T[k]];if(null==P)return A(),!1;var B;if(!nt(P))return Cn("Do not use continuous mappers without specifying numeric data (i.e. `"+u.field+": "+P+"` for `"+a.id()+"` is non-numeric)"),!1;var G=u.fieldMax-u.fieldMin;if((B=0===G?0:(P-u.fieldMin)/G)<0?B=0:B>1&&(B=1),v.color){var q=u.valueMin[0],W=u.valueMin[1],H=u.valueMax[1],K=u.valueMin[2],Q=u.valueMax[2],U=null==u.valueMin[3]?1:u.valueMin[3],ee=null==u.valueMax[3]?1:u.valueMax[3],Z=[Math.round(q+(u.valueMax[0]-q)*B),Math.round(W+(H-W)*B),Math.round(K+(Q-K)*B),Math.round(U+(ee-U)*B)];d={bypass:u.bypass,name:u.name,value:Z,strValue:"rgb("+Z[0]+", "+Z[1]+", "+Z[2]+")"}}else{if(!v.number)return!1;d=this.parse(u.name,u.valueMin+(u.valueMax-u.valueMin)*B,u.bypass,_)}if(!d)return A(),!1;d.mapping=u,u=d;break;case h.data:for(var te=u.field.split("."),ne=E.data,fe=0;fe<te.length&&ne;fe++)ne=ne[te[fe]];if(null!=ne&&(d=this.parse(u.name,ne,u.bypass,_)),!d)return A(),!1;d.mapping=u,u=d;break;case h.fn:var de=null!=u.fnValue?u.fnValue:(0,u.value)(a);if(u.prevFnValue=de,null==de)return Cn("Custom function mappers may not return null (i.e. `"+u.name+"` for ele `"+a.id()+"` is null)"),!1;if(!(d=this.parse(u.name,de,u.bypass,_)))return Cn("Custom function mappers may not return invalid values for the property type (i.e. `"+u.name+"` for ele `"+a.id()+"` is invalid)"),!1;d.mapping=So(u),u=d;break;case void 0:break;default:return!1}return y?(u.bypassed=b?m.bypassed:m,c[u.name]=u):b?m.bypassed=u:c[u.name]=u,S(),!0},cleanElements:function(a,r){for(var o=0;o<a.length;o++){var u=a[o];if(this.clearStyleHints(u),u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),r)for(var c=u._private.style,d=Object.keys(c),h=0;h<d.length;h++){var v=d[h],y=c[v];null!=y&&(y.bypass?y.bypassed=null:c[v]=null)}else u._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(a,r){var o=this,u=a._private,c=a.pstyle("transition-property").value,d=a.pstyle("transition-duration").pfValue,h=a.pstyle("transition-delay").pfValue;if(c.length>0&&d>0){for(var v={},y=!1,m=0;m<c.length;m++){var b=c[m],E=a.pstyle(b),_=r[b];if(_){var S=_.prev,A=null!=_.next?_.next:E,T=!1,P=void 0,k=1e-6;S&&(nt(S.pfValue)&&nt(A.pfValue)?P=S.pfValue+k*(T=A.pfValue-S.pfValue):nt(S.value)&&nt(A.value)?P=S.value+k*(T=A.value-S.value):dn(S.value)&&dn(A.value)&&(T=S.value[0]!==A.value[0]||S.value[1]!==A.value[1]||S.value[2]!==A.value[2],P=S.strValue),T&&(v[b]=A.strValue,this.applyBypass(a,b,P),y=!0))}}if(!y)return;u.transitioning=!0,new rr(function(O){h>0?a.delayAnimation(h).play().promise().then(O):O()}).then(function(){return a.animation({style:v,duration:d,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){o.removeBypasses(a,c),a.emitAndNotify("style"),u.transitioning=!1})}else u.transitioning&&(this.removeBypasses(a,c),a.emitAndNotify("style"),u.transitioning=!1)},checkTrigger:function(a,r,o,u,c,d){var h=this.properties[r],v=c(h);null!=v&&v(o,u)&&d(h)},checkZOrderTrigger:function(a,r,o,u){var c=this;this.checkTrigger(a,r,o,u,function(d){return d.triggersZOrder},function(){c._private.cy.notify("zorder",a)})},checkBoundsTrigger:function(a,r,o,u){this.checkTrigger(a,r,o,u,function(c){return c.triggersBounds},function(c){a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),c.triggersBoundsOfParallelBeziers&&("curve-style"===r&&("bezier"===o||"bezier"===u)||"display"===r&&("none"===o||"none"===u))&&a.parallelEdges().forEach(function(d){d.isBundledBezier()&&d.dirtyBoundingBoxCache()})})},checkTriggers:function(a,r,o,u){a.dirtyStyleCache(),this.checkZOrderTrigger(a,r,o,u),this.checkBoundsTrigger(a,r,o,u)}},Io={applyBypass:function(a,r,o,u){var d=[];if("*"===r||"**"===r){if(void 0!==o)for(var v=0;v<this.properties.length;v++){var b=this.parse(this.properties[v].name,o,!0);b&&d.push(b)}}else if(Ye(r)){var E=this.parse(r,o,!0);E&&d.push(E)}else{if(!mt(r))return!1;var _=r;u=o;for(var x=Object.keys(_),S=0;S<x.length;S++){var A=x[S],T=_[A];if(void 0===T&&(T=_[ns(A)]),void 0!==T){var P=this.parse(A,T,!0);P&&d.push(P)}}}if(0===d.length)return!1;for(var k=!1,O=0;O<a.length;O++){for(var B=a[O],G={},q=void 0,V=0;V<d.length;V++){var W=d[V];if(u){var H=B.pstyle(W.name);q=G[W.name]={prev:H}}k=this.applyParsedProperty(B,So(W))||k,u&&(q.next=B.pstyle(W.name))}k&&this.updateStyleHints(B),u&&this.updateTransitions(B,G,!0)}return k},overrideBypass:function(a,r,o){r=Hi(r);for(var u=0;u<a.length;u++){var c=a[u],d=c._private.style[r],h=this.properties[r].type,v=h.color,y=h.mutiple,m=d?null!=d.pfValue?d.pfValue:d.value:null;d&&d.bypass?(d.value=o,null!=d.pfValue&&(d.pfValue=o),d.strValue=v?"rgb("+o.join(",")+")":y?o.join(" "):""+o,this.updateStyleHints(c)):this.applyBypass(c,r,o),this.checkTriggers(c,r,m,o)}},removeAllBypasses:function(a,r){return this.removeBypasses(a,this.propertyNames,r)},removeBypasses:function(a,r,o){for(var c=0;c<a.length;c++){for(var d=a[c],h={},v=0;v<r.length;v++){var y=r[v],m=this.properties[y],b=d.pstyle(m.name);if(b&&b.bypass){var _=this.parse(y,"",!0),x=h[m.name]={prev:b};this.applyParsedProperty(d,_),x.next=d.pstyle(m.name)}}this.updateStyleHints(d),o&&this.updateTransitions(d,h,!0)}}},yl={getEmSizeInPixels:function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},containerCss:function(a){var r=this._private.cy,o=r.container(),u=r.window();if(u&&o&&u.getComputedStyle)return u.getComputedStyle(o).getPropertyValue(a)}},Jn={getRenderedStyle:function(a,r){return r?this.getStylePropertyValue(a,r,!0):this.getRawStyle(a,!0)},getRawStyle:function(a,r){var o=this;if(a=a[0]){for(var u={},c=0;c<o.properties.length;c++){var d=o.properties[c],h=o.getStylePropertyValue(a,d.name,r);null!=h&&(u[d.name]=h,u[ns(d.name)]=h)}return u}},getIndexedStyle:function(a,r,o,u){return a.pstyle(r)[o][u]??a.cy().style().getDefaultProperty(r)[o][0]},getStylePropertyValue:function(a,r,o){if(a=a[0]){var c=this.properties[r];c.alias&&(c=c.pointsTo);var d=c.type,h=a.pstyle(c.name);if(h){var v=h.value,y=h.units,m=h.strValue;if(o&&d.number&&null!=v&&nt(v)){var b=a.cy().zoom(),E=function(T){return T*b},_=function(T,P){return E(T)+P},x=dn(v);return(x?y.every(function(A){return null!=A}):null!=y)?x?v.map(function(A,T){return _(A,y[T])}).join(" "):_(v,y):x?v.map(function(A){return Ye(A)?A:""+E(A)}).join(" "):""+E(v)}if(null!=m)return m}return null}},getAnimationStartStyle:function(a,r){for(var o={},u=0;u<r.length;u++){var d=r[u].name,h=a.pstyle(d);void 0!==h&&(h=mt(h)?this.parse(d,h.strValue):this.parse(d,h)),h&&(o[d]=h)}return o},getPropsList:function(a){var o=[],u=a,c=this.properties;if(u)for(var d=Object.keys(u),h=0;h<d.length;h++){var v=d[h],y=u[v],m=c[v]||c[Hi(v)],b=this.parse(m.name,y);b&&o.push(b)}return o},getNonDefaultPropertiesHash:function(a,r,o){var d,h,v,y,m,u=o.slice();for(y=0;y<r.length;y++)if(null!=(d=a.pstyle(r[y],!1)))if(null!=d.pfValue)u[0]=$s(v,u[0]),u[1]=Hs(v,u[1]);else for(h=d.strValue,m=0;m<h.length;m++)v=h.charCodeAt(m),u[0]=$s(v,u[0]),u[1]=Hs(v,u[1]);return u}};Jn.getPropertiesHash=Jn.getNonDefaultPropertiesHash;var Ri={appendFromJson:function(a){for(var r=this,o=0;o<a.length;o++){var u=a[o],c=u.selector,d=u.style||u.css,h=Object.keys(d);r.selector(c);for(var v=0;v<h.length;v++){var y=h[v];r.css(y,d[y])}}return r},fromJson:function(a){var r=this;return r.resetToDefault(),r.appendFromJson(a),r},json:function(){for(var a=[],r=this.defaultLength;r<this.length;r++){for(var o=this[r],u=o.selector,c=o.properties,d={},h=0;h<c.length;h++){var v=c[h];d[v.name]=v.strValue}a.push({selector:u?u.toString():"core",style:d})}return a}},Rc={appendFromString:function(a){var c,d,h,o=this,u=""+a;function v(){u=u.length>c.length?u.substr(c.length):""}function y(){d=d.length>h.length?d.substr(h.length):""}for(u=u.replace(/[/][*](\s|.)+?[*][/]/g,"");!u.match(/^\s*$/);){var b=u.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!b){Cn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+u);break}c=b[0];var E=b[1];if("core"!==E&&new Ur(E).invalid)Cn("Skipping parsing of block: Invalid selector found in string stylesheet: "+E),v();else{var x=b[2],S=!1;d=x;for(var A=[];!d.match(/^\s*$/);){var P=d.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!P){Cn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+x),S=!0;break}h=P[0];var k=P[1],O=P[2];this.properties[k]?o.parse(k,O)?(A.push({name:k,val:O}),y()):(Cn("Skipping property: Invalid property definition in: "+h),y()):(Cn("Skipping property: Invalid property name in: "+h),y())}if(S){v();break}o.selector(E);for(var q=0;q<A.length;q++){var V=A[q];o.css(V.name,V.val)}v()}}return o},fromString:function(a){var r=this;return r.resetToDefault(),r.appendFromString(a),r}},hr={};(function(){var a=Nr,r=Bs,o=rs,d=function(Ae){return"^"+Ae+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},h=function(Ae){var Re=a+"|\\w+|"+r+"|"+o+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Ae+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+Re+")\\s*\\,\\s*("+Re+")\\)$"},v=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];hr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:d("data")},layoutData:{mapping:!0,regex:d("layoutData")},scratch:{mapping:!0,regex:d("scratch")},mapData:{mapping:!0,regex:h("mapData")},mapLayoutData:{mapping:!0,regex:h("mapLayoutData")},mapScratch:{mapping:!0,regex:h("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:v,singleRegexMatchValue:!0},urls:{regexes:v,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ae,Re){switch(Ae.length){case 2:return"deg"!==Re[0]&&"rad"!==Re[0]&&"deg"!==Re[1]&&"rad"!==Re[1];case 1:return Ye(Ae[0])||"deg"===Re[0]||"rad"===Re[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ae){var Re=Ae.length;return 1===Re||2===Re||4===Re}}};var y={zeroNonZero:function(Ae,Re){return(null==Ae||null==Re)&&Ae!==Re||0==Ae&&0!=Re||0!=Ae&&0==Re},any:function(Ae,Re){return Ae!=Re},emptyNonEmpty:function(Ae,Re){var je=Ii(Ae),Ke=Ii(Re);return je&&!Ke||!je&&Ke}},m=hr.types,b=[{name:"label",type:m.text,triggersBounds:y.any,triggersZOrder:y.emptyNonEmpty},{name:"text-rotation",type:m.textRotation,triggersBounds:y.any},{name:"text-margin-x",type:m.bidirectionalSize,triggersBounds:y.any},{name:"text-margin-y",type:m.bidirectionalSize,triggersBounds:y.any}],E=[{name:"source-label",type:m.text,triggersBounds:y.any},{name:"source-text-rotation",type:m.textRotation,triggersBounds:y.any},{name:"source-text-margin-x",type:m.bidirectionalSize,triggersBounds:y.any},{name:"source-text-margin-y",type:m.bidirectionalSize,triggersBounds:y.any},{name:"source-text-offset",type:m.size,triggersBounds:y.any}],_=[{name:"target-label",type:m.text,triggersBounds:y.any},{name:"target-text-rotation",type:m.textRotation,triggersBounds:y.any},{name:"target-text-margin-x",type:m.bidirectionalSize,triggersBounds:y.any},{name:"target-text-margin-y",type:m.bidirectionalSize,triggersBounds:y.any},{name:"target-text-offset",type:m.size,triggersBounds:y.any}],x=[{name:"font-family",type:m.fontFamily,triggersBounds:y.any},{name:"font-style",type:m.fontStyle,triggersBounds:y.any},{name:"font-weight",type:m.fontWeight,triggersBounds:y.any},{name:"font-size",type:m.size,triggersBounds:y.any},{name:"text-transform",type:m.textTransform,triggersBounds:y.any},{name:"text-wrap",type:m.textWrap,triggersBounds:y.any},{name:"text-overflow-wrap",type:m.textOverflowWrap,triggersBounds:y.any},{name:"text-max-width",type:m.size,triggersBounds:y.any},{name:"text-outline-width",type:m.size,triggersBounds:y.any},{name:"line-height",type:m.positiveNumber,triggersBounds:y.any}],S=[{name:"text-valign",type:m.valign,triggersBounds:y.any},{name:"text-halign",type:m.halign,triggersBounds:y.any},{name:"color",type:m.color},{name:"text-outline-color",type:m.color},{name:"text-outline-opacity",type:m.zeroOneNumber},{name:"text-background-color",type:m.color},{name:"text-background-opacity",type:m.zeroOneNumber},{name:"text-background-padding",type:m.size,triggersBounds:y.any},{name:"text-border-opacity",type:m.zeroOneNumber},{name:"text-border-color",type:m.color},{name:"text-border-width",type:m.size,triggersBounds:y.any},{name:"text-border-style",type:m.borderStyle,triggersBounds:y.any},{name:"text-background-shape",type:m.textBackgroundShape,triggersBounds:y.any},{name:"text-justification",type:m.justification}],A=[{name:"events",type:m.bool,triggersZOrder:y.any},{name:"text-events",type:m.bool,triggersZOrder:y.any}],T=[{name:"display",type:m.display,triggersZOrder:y.any,triggersBounds:y.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:m.visibility,triggersZOrder:y.any},{name:"opacity",type:m.zeroOneNumber,triggersZOrder:y.zeroNonZero},{name:"text-opacity",type:m.zeroOneNumber},{name:"min-zoomed-font-size",type:m.size},{name:"z-compound-depth",type:m.zCompoundDepth,triggersZOrder:y.any},{name:"z-index-compare",type:m.zIndexCompare,triggersZOrder:y.any},{name:"z-index",type:m.number,triggersZOrder:y.any}],P=[{name:"overlay-padding",type:m.size,triggersBounds:y.any},{name:"overlay-color",type:m.color},{name:"overlay-opacity",type:m.zeroOneNumber,triggersBounds:y.zeroNonZero},{name:"overlay-shape",type:m.overlayShape,triggersBounds:y.any}],k=[{name:"underlay-padding",type:m.size,triggersBounds:y.any},{name:"underlay-color",type:m.color},{name:"underlay-opacity",type:m.zeroOneNumber,triggersBounds:y.zeroNonZero},{name:"underlay-shape",type:m.overlayShape,triggersBounds:y.any}],O=[{name:"transition-property",type:m.propList},{name:"transition-duration",type:m.time},{name:"transition-delay",type:m.time},{name:"transition-timing-function",type:m.easing}],B=function(Ae,Re){return"label"===Re.value?-Ae.poolIndex():Re.pfValue},G=[{name:"height",type:m.nodeSize,triggersBounds:y.any,hashOverride:B},{name:"width",type:m.nodeSize,triggersBounds:y.any,hashOverride:B},{name:"shape",type:m.nodeShape,triggersBounds:y.any},{name:"shape-polygon-points",type:m.polygonPointList,triggersBounds:y.any},{name:"background-color",type:m.color},{name:"background-fill",type:m.fill},{name:"background-opacity",type:m.zeroOneNumber},{name:"background-blacken",type:m.nOneOneNumber},{name:"background-gradient-stop-colors",type:m.colors},{name:"background-gradient-stop-positions",type:m.percentages},{name:"background-gradient-direction",type:m.gradientDirection},{name:"padding",type:m.sizeMaybePercent,triggersBounds:y.any},{name:"padding-relative-to",type:m.paddingRelativeTo,triggersBounds:y.any},{name:"bounds-expansion",type:m.boundsExpansion,triggersBounds:y.any}],q=[{name:"border-color",type:m.color},{name:"border-opacity",type:m.zeroOneNumber},{name:"border-width",type:m.size,triggersBounds:y.any},{name:"border-style",type:m.borderStyle}],V=[{name:"background-image",type:m.urls},{name:"background-image-crossorigin",type:m.bgCrossOrigin},{name:"background-image-opacity",type:m.zeroOneNumbers},{name:"background-image-containment",type:m.bgContainment},{name:"background-image-smoothing",type:m.bools},{name:"background-position-x",type:m.bgPos},{name:"background-position-y",type:m.bgPos},{name:"background-width-relative-to",type:m.bgRelativeTo},{name:"background-height-relative-to",type:m.bgRelativeTo},{name:"background-repeat",type:m.bgRepeat},{name:"background-fit",type:m.bgFit},{name:"background-clip",type:m.bgClip},{name:"background-width",type:m.bgWH},{name:"background-height",type:m.bgWH},{name:"background-offset-x",type:m.bgPos},{name:"background-offset-y",type:m.bgPos}],W=[{name:"position",type:m.position,triggersBounds:y.any},{name:"compound-sizing-wrt-labels",type:m.compoundIncludeLabels,triggersBounds:y.any},{name:"min-width",type:m.size,triggersBounds:y.any},{name:"min-width-bias-left",type:m.sizeMaybePercent,triggersBounds:y.any},{name:"min-width-bias-right",type:m.sizeMaybePercent,triggersBounds:y.any},{name:"min-height",type:m.size,triggersBounds:y.any},{name:"min-height-bias-top",type:m.sizeMaybePercent,triggersBounds:y.any},{name:"min-height-bias-bottom",type:m.sizeMaybePercent,triggersBounds:y.any}],H=[{name:"line-style",type:m.lineStyle},{name:"line-color",type:m.color},{name:"line-fill",type:m.fill},{name:"line-cap",type:m.lineCap},{name:"line-opacity",type:m.zeroOneNumber},{name:"line-dash-pattern",type:m.numbers},{name:"line-dash-offset",type:m.number},{name:"line-gradient-stop-colors",type:m.colors},{name:"line-gradient-stop-positions",type:m.percentages},{name:"curve-style",type:m.curveStyle,triggersBounds:y.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:m.zeroOneNumber,triggersBounds:y.any},{name:"source-endpoint",type:m.edgeEndpoint,triggersBounds:y.any},{name:"target-endpoint",type:m.edgeEndpoint,triggersBounds:y.any},{name:"control-point-step-size",type:m.size,triggersBounds:y.any},{name:"control-point-distances",type:m.bidirectionalSizes,triggersBounds:y.any},{name:"control-point-weights",type:m.numbers,triggersBounds:y.any},{name:"segment-distances",type:m.bidirectionalSizes,triggersBounds:y.any},{name:"segment-weights",type:m.numbers,triggersBounds:y.any},{name:"taxi-turn",type:m.bidirectionalSizeMaybePercent,triggersBounds:y.any},{name:"taxi-turn-min-distance",type:m.size,triggersBounds:y.any},{name:"taxi-direction",type:m.axisDirection,triggersBounds:y.any},{name:"edge-distances",type:m.edgeDistances,triggersBounds:y.any},{name:"arrow-scale",type:m.positiveNumber,triggersBounds:y.any},{name:"loop-direction",type:m.angle,triggersBounds:y.any},{name:"loop-sweep",type:m.angle,triggersBounds:y.any},{name:"source-distance-from-node",type:m.size,triggersBounds:y.any},{name:"target-distance-from-node",type:m.size,triggersBounds:y.any}],K=[{name:"ghost",type:m.bool,triggersBounds:y.any},{name:"ghost-offset-x",type:m.bidirectionalSize,triggersBounds:y.any},{name:"ghost-offset-y",type:m.bidirectionalSize,triggersBounds:y.any},{name:"ghost-opacity",type:m.zeroOneNumber}],Q=[{name:"selection-box-color",type:m.color},{name:"selection-box-opacity",type:m.zeroOneNumber},{name:"selection-box-border-color",type:m.color},{name:"selection-box-border-width",type:m.size},{name:"active-bg-color",type:m.color},{name:"active-bg-opacity",type:m.zeroOneNumber},{name:"active-bg-size",type:m.size},{name:"outside-texture-bg-color",type:m.color},{name:"outside-texture-bg-opacity",type:m.zeroOneNumber}],U=[];hr.pieBackgroundN=16,U.push({name:"pie-size",type:m.sizeMaybePercent});for(var ee=1;ee<=hr.pieBackgroundN;ee++)U.push({name:"pie-"+ee+"-background-color",type:m.color}),U.push({name:"pie-"+ee+"-background-size",type:m.percent}),U.push({name:"pie-"+ee+"-background-opacity",type:m.zeroOneNumber});var Z=[],ae=hr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:m.arrowShape,triggersBounds:y.any},{name:"arrow-color",type:m.color},{name:"arrow-fill",type:m.arrowFill}].forEach(function(le){ae.forEach(function(Ae){Z.push({name:Ae+"-"+le.name,type:le.type,triggersBounds:le.triggersBounds})})},{});var te=hr.properties=[].concat(A,O,T,P,k,K,S,x,b,E,_,G,q,V,U,W,H,Z,Q),ne=hr.propertyGroups={behavior:A,transition:O,visibility:T,overlay:P,underlay:k,ghost:K,commonLabel:S,labelDimensions:x,mainLabel:b,sourceLabel:E,targetLabel:_,nodeBody:G,nodeBorder:q,backgroundImage:V,pie:U,compound:W,edgeLine:H,edgeArrow:Z,core:Q},fe=hr.propertyGroupNames={};(hr.propertyGroupKeys=Object.keys(ne)).forEach(function(le){fe[le]=ne[le].map(function(Ae){return Ae.name}),ne[le].forEach(function(Ae){return Ae.groupKey=le})});var we=hr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];hr.propertyNames=te.map(function(le){return le.name});for(var de=0;de<te.length;de++){var ye=te[de];te[ye.name]=ye}for(var Te=0;Te<we.length;Te++){var Oe=we[Te],Me={name:Oe.name,alias:!0,pointsTo:te[Oe.pointsTo]};te.push(Me),te[Oe.name]=Me}})(),hr.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},hr.getDefaultProperties=function(){var a=this._private;if(null!=a.defaultProperties)return a.defaultProperties;for(var r=yt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(y,m){for(var b=1;b<=hr.pieBackgroundN;b++)y[m.name.replace("{{i}}",b)]=m.value;return y},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(y,m){return hr.arrowPrefixes.forEach(function(b){y[b+"-"+m.name]=m.value}),y},{})),o={},u=0;u<this.properties.length;u++){var c=this.properties[u];if(!c.pointsTo){var d=c.name,v=this.parse(d,r[d]);o[d]=v}}return a.defaultProperties=o,a.defaultProperties},hr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var fo={parse:function(a,r,o,u){var c=this;if(In(r))return c.parseImplWarn(a,r,o,u);var b,y=yf(a,""+r,o?"t":"f","mapping"===u||!0===u||!1===u||null==u?"dontcare":u),m=c.propCache=c.propCache||[];return(b=m[y])||(b=m[y]=c.parseImplWarn(a,r,o,u)),(o||"mapping"===u)&&(b=So(b))&&(b.value=So(b.value)),b},parseImplWarn:function(a,r,o,u){var c=this.parseImpl(a,r,o,u);return!c&&null!=r&&Cn("The style property `".concat(a,": ").concat(r,"` is invalid")),c&&("width"===c.name||"height"===c.name)&&"label"===r&&Cn("The style value of `label` is deprecated for `"+c.name+"`"),c}};fo.parseImpl=function(a,r,o,u){var c=this;a=Hi(a);var d=c.properties[a],h=r,v=c.types;if(!d||void 0===r)return null;d.alias&&(a=(d=d.pointsTo).name);var y=Ye(r);y&&(r=r.trim());var b,E,m=d.type;if(!m)return null;if(o&&(""===r||null===r))return{name:a,value:r,bypass:!0,deleteBypass:!0};if(In(r))return{name:a,value:r,strValue:"fn",mapped:v.fn,bypass:o};if(!(!y||u||r.length<7||"a"!==r[1])){if(r.length>=7&&"d"===r[0]&&(b=new RegExp(v.data.regex).exec(r)))return!o&&{name:a,value:b,strValue:""+r,mapped:v.data,field:b[1],bypass:o};if(r.length>=10&&"m"===r[0]&&(E=new RegExp(v.mapData.regex).exec(r))){if(o||m.multiple)return!1;var x=v.mapData;if(!m.color&&!m.number)return!1;var S=this.parse(a,E[4]);if(!S||S.mapped)return!1;var A=this.parse(a,E[5]);if(!A||A.mapped)return!1;if(S.pfValue===A.pfValue||S.strValue===A.strValue)return Cn("`"+a+": "+r+"` is not a valid mapper because the output range is zero; converting to `"+a+": "+S.strValue+"`"),this.parse(a,S.strValue);if(m.color){var T=S.value,P=A.value;if(!(T[0]!==P[0]||T[1]!==P[1]||T[2]!==P[2]||T[3]!==P[3]&&(null!=T[3]&&1!==T[3]||null!=P[3]&&1!==P[3])))return!1}return{name:a,value:E,strValue:""+r,mapped:x,field:E[1],fieldMin:parseFloat(E[2]),fieldMax:parseFloat(E[3]),valueMin:S.value,valueMax:A.value,bypass:o}}}if(m.multiple&&"multiple"!==u){var O;if(O=y?r.split(/\s+/):dn(r)?r:[r],m.evenMultiple&&O.length%2!=0)return null;for(var B=[],G=[],q=[],V="",W=!1,H=0;H<O.length;H++){var K=c.parse(a,O[H],o,"multiple");W=W||Ye(K.value),B.push(K.value),q.push(null!=K.pfValue?K.pfValue:K.value),G.push(K.units),V+=(H>0?" ":"")+K.strValue}return m.validate&&!m.validate(B,G)?null:m.singleEnum&&W?1===B.length&&Ye(B[0])?{name:a,value:B[0],strValue:B[0],bypass:o}:null:{name:a,value:B,pfValue:q,strValue:V,bypass:o,units:G}}var Q=function(){for(var Re=0;Re<m.enums.length;Re++)if(m.enums[Re]===r)return{name:a,value:r,strValue:""+r,bypass:o};return null};if(m.number){var U,ee="px";if(m.units&&(U=m.units),m.implicitUnits&&(ee=m.implicitUnits),!m.unitless)if(y){var Z="px|em"+(m.allowPercent?"|\\%":"");U&&(Z=U);var ae=r.match("^("+Nr+")("+Z+")?$");ae&&(r=ae[1],U=ae[2]||ee)}else(!U||m.implicitUnits)&&(U=ee);if(r=parseFloat(r),isNaN(r)&&void 0===m.enums)return null;if(isNaN(r)&&void 0!==m.enums)return r=h,Q();if(m.integer&&!function(r){return nt(r)&&Math.floor(r)===r}(r)||void 0!==m.min&&(r<m.min||m.strictMin&&r===m.min)||void 0!==m.max&&(r>m.max||m.strictMax&&r===m.max))return null;var te={name:a,value:r,strValue:""+r+(U||""),units:U,bypass:o};return te.pfValue=m.unitless||"px"!==U&&"em"!==U?r:"px"!==U&&U?this.getEmSizeInPixels()*r:r,("ms"===U||"s"===U)&&(te.pfValue="ms"===U?r:1e3*r),("deg"===U||"rad"===U)&&(te.pfValue="rad"===U?r:function(r){return Math.PI*r/180}(r)),"%"===U&&(te.pfValue=r/100),te}if(m.propList){var ne=[],fe=""+r;if("none"!==fe){for(var he=fe.split(/\s*,\s*|\s+/),we=0;we<he.length;we++){var de=he[we].trim();c.properties[de]?ne.push(de):Cn("`"+de+"` is not a valid property name")}if(0===ne.length)return null}return{name:a,value:ne,strValue:0===ne.length?"none":ne.join(" "),bypass:o}}if(m.color){var ye=function(r){return(dn(r)?r:null)||function(r){return pf[r.toLowerCase()]}(r)||function(r){if((4===r.length||7===r.length)&&"#"===r[0]){var u,c,d,h=16;return 4===r.length?(u=parseInt(r[1]+r[1],h),c=parseInt(r[2]+r[2],h),d=parseInt(r[3]+r[3],h)):(u=parseInt(r[1]+r[2],h),c=parseInt(r[3]+r[4],h),d=parseInt(r[5]+r[6],h)),[u,c,d]}}(r)||function(r){var o,u=new RegExp("^"+xp+"$").exec(r);if(u){o=[];for(var c=[],d=1;d<=3;d++){var h=u[d];if("%"===h[h.length-1]&&(c[d]=!0),h=parseFloat(h),c[d]&&(h=h/100*255),h<0||h>255)return;o.push(Math.floor(h))}if((c[1]||c[2]||c[3])&&!(c[1]&&c[2]&&c[3]))return;var m=u[4];if(void 0!==m){if((m=parseFloat(m))<0||m>1)return;o.push(m)}}return o}(r)||function(r){var o,u,c,d,h,v,y,m;function b(S,A,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?S+6*(A-S)*T:T<.5?A:T<2/3?S+(A-S)*(2/3-T)*6:S}var E=new RegExp("^"+Co+"$").exec(r);if(E){if((u=parseInt(E[1]))<0?u=(360- -1*u%360)%360:u>360&&(u%=360),u/=360,(c=parseFloat(E[2]))<0||c>100||(c/=100,(d=parseFloat(E[3]))<0||d>100)||(d/=100,void 0!==(h=E[4])&&((h=parseFloat(h))<0||h>1)))return;if(0===c)v=y=m=Math.round(255*d);else{var _=d<.5?d*(1+c):d+c-d*c,x=2*d-_;v=Math.round(255*b(x,_,u+1/3)),y=Math.round(255*b(x,_,u)),m=Math.round(255*b(x,_,u-1/3))}o=[v,y,m,h]}return o}(r)}(r);return ye?{name:a,value:ye,pfValue:ye,strValue:"rgb("+ye[0]+","+ye[1]+","+ye[2]+")",bypass:o}:null}if(m.regex||m.regexes){if(m.enums){var Te=Q();if(Te)return Te}for(var Oe=m.regexes?m.regexes:[m.regex],xe=0;xe<Oe.length;xe++){var le=new RegExp(Oe[xe]).exec(r);if(le)return{name:a,value:m.singleRegexMatchValue?le[1]:le,strValue:""+r,bypass:o}}return null}return m.string?{name:a,value:""+r,strValue:""+r,bypass:o}:m.enums?Q():null};var ni=function a(r){if(!(this instanceof a))return new a(r);Mi(r)?(this._private={cy:r,coreStyle:{}},this.length=0,this.resetToDefault()):Pn("A style must have a core reference")},qr=ni.prototype;qr.instanceString=function(){return"style"},qr.clear=function(){for(var a=this._private,o=a.cy.elements(),u=0;u<this.length;u++)this[u]=void 0;return this.length=0,a.contextStyles={},a.propDiffs={},this.cleanElements(o,!0),o.forEach(function(c){var d=c[0]._private;d.styleDirty=!0,d.appliedInitStyle=!1}),this},qr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},qr.core=function(a){return this._private.coreStyle[a]||this.getDefaultProperty(a)},qr.selector=function(a){var r="core"===a?null:new Ur(a),o=this.length++;return this[o]={selector:r,properties:[],mappedProperties:[],index:o},this},qr.css=function(){var r=arguments;if(1===r.length)for(var o=r[0],u=0;u<this.properties.length;u++){var c=this.properties[u],d=o[c.name];void 0===d&&(d=o[ns(c.name)]),void 0!==d&&this.cssRule(c.name,d)}else 2===r.length&&this.cssRule(r[0],r[1]);return this},qr.style=qr.css,qr.cssRule=function(a,r){var o=this.parse(a,r);if(o){var u=this.length-1;this[u].properties.push(o),this[u].properties[o.name]=o,o.name.match(/pie-(\d+)-background-size/)&&o.value&&(this._private.hasPie=!0),o.mapped&&this[u].mappedProperties.push(o),!this[u].selector&&(this._private.coreStyle[o.name]=o)}return this},qr.append=function(a){return ro(a)?a.appendToStyle(this):dn(a)?this.appendFromJson(a):Ye(a)&&this.appendFromString(a),this},ni.fromJson=function(a,r){var o=new ni(a);return o.fromJson(r),o},ni.fromString=function(a,r){return new ni(a).fromString(r)},[Cr,Io,yl,Jn,Ri,Rc,hr,fo].forEach(function(a){yt(qr,a)}),ni.types=qr.types,ni.properties=qr.properties,ni.propertyGroups=qr.propertyGroups,ni.propertyGroupNames=qr.propertyGroupNames,ni.propertyGroupKeys=qr.propertyGroupKeys;var Yp={style:function(r){return r&&this.setStyle(r).update(),this._private.style},setStyle:function(r){var o=this._private;return o.style=ro(r)?r.generateStyle(this):dn(r)?ni.fromJson(this,r):Ye(r)?ni.fromString(this,r):ni(this),o.style},updateStyle:function(){this.mutableElements().updateStyle()}},ta={autolock:function(r){return void 0===r?this._private.autolock:(this._private.autolock=!!r,this)},autoungrabify:function(r){return void 0===r?this._private.autoungrabify:(this._private.autoungrabify=!!r,this)},autounselectify:function(r){return void 0===r?this._private.autounselectify:(this._private.autounselectify=!!r,this)},selectionType:function(r){var o=this._private;return null==o.selectionType&&(o.selectionType="single"),void 0===r?o.selectionType:(("additive"===r||"single"===r)&&(o.selectionType=r),this)},panningEnabled:function(r){return void 0===r?this._private.panningEnabled:(this._private.panningEnabled=!!r,this)},userPanningEnabled:function(r){return void 0===r?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!r,this)},zoomingEnabled:function(r){return void 0===r?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!r,this)},userZoomingEnabled:function(r){return void 0===r?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!r,this)},boxSelectionEnabled:function(r){return void 0===r?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!r,this)},pan:function(){var u,c,d,h,v,r=arguments,o=this._private.pan;switch(r.length){case 0:return o;case 1:if(Ye(r[0]))return o[u=r[0]];if(mt(r[0])){if(!this._private.panningEnabled)return this;v=(d=r[0]).y,nt(h=d.x)&&(o.x=h),nt(v)&&(o.y=v),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;c=r[1],("x"===(u=r[0])||"y"===u)&&nt(c)&&(o[u]=c),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(r,o){var d,h,v,y,m,u=arguments,c=this._private.pan;if(!this._private.panningEnabled)return this;switch(u.length){case 1:mt(r)&&(m=(v=u[0]).y,nt(y=v.x)&&(c.x+=y),nt(m)&&(c.y+=m),this.emit("pan viewport"));break;case 2:h=o,("x"===(d=r)||"y"===d)&&nt(h)&&(c[d]+=h),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(r,o){var u=this.getFitViewport(r,o);if(u){var c=this._private;c.zoom=u.zoom,c.pan=u.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(r,o){var u;if((nt(r)&&void 0===o&&(o=r,r=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Ye(r)?r=this.$(r):!function(r){return mt(r)&&nt(r.x1)&&nt(r.x2)&&nt(r.y1)&&nt(r.y2)}(r)?si(r)||(r=this.mutableElements()):((u={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2}).w=u.x2-u.x1,u.h=u.y2-u.y1),!si(r)||!r.empty())){u=u||r.boundingBox();var y,h=this.width(),v=this.height();if(o=nt(o)?o:0,!isNaN(h)&&!isNaN(v)&&h>0&&v>0&&!isNaN(u.w)&&!isNaN(u.h)&&u.w>0&&u.h>0)return{zoom:y=(y=(y=Math.min((h-2*o)/u.w,(v-2*o)/u.h))>this._private.maxZoom?this._private.maxZoom:y)<this._private.minZoom?this._private.minZoom:y,pan:{x:(h-y*(u.x1+u.x2))/2,y:(v-y*(u.y1+u.y2))/2}}}},zoomRange:function(r,o){var u=this._private;if(null==o){var c=r;r=c.min,o=c.max}return nt(r)&&nt(o)&&r<=o?(u.minZoom=r,u.maxZoom=o):nt(r)&&void 0===o&&r<=u.maxZoom?u.minZoom=r:nt(o)&&void 0===r&&o>=u.minZoom&&(u.maxZoom=o),this},minZoom:function(r){return void 0===r?this._private.minZoom:this.zoomRange({min:r})},maxZoom:function(r){return void 0===r?this._private.maxZoom:this.zoomRange({max:r})},getZoomedViewport:function(r){var d,h,o=this._private,u=o.pan,c=o.zoom,v=!1;return o.zoomingEnabled||(v=!0),nt(r)?h=r:mt(r)&&(h=r.level,null!=r.position?d=as(r.position,c,u):null!=r.renderedPosition&&(d=r.renderedPosition),null!=d&&!o.panningEnabled&&(v=!0)),h=(h=h>o.maxZoom?o.maxZoom:h)<o.minZoom?o.minZoom:h,!v&&nt(h)&&h!==c&&(null==d||nt(d.x)&&nt(d.y))?null!=d?{zoomed:!0,panned:!0,zoom:h,pan:{x:-h/c*(d.x-u.x)+d.x,y:-h/c*(d.y-u.y)+d.y}}:{zoomed:!0,panned:!1,zoom:h,pan:u}:null},zoom:function(r){if(void 0===r)return this._private.zoom;var o=this.getZoomedViewport(r),u=this._private;return null!=o&&o.zoomed?(u.zoom=o.zoom,o.panned&&(u.pan.x=o.pan.x,u.pan.y=o.pan.y),this.emit("zoom"+(o.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(r){var o=this._private,u=!0,c=!0,d=[],h=!1,v=!1;if(!r)return this;if(nt(r.zoom)||(u=!1),mt(r.pan)||(c=!1),!u&&!c)return this;if(u){var y=r.zoom;y<o.minZoom||y>o.maxZoom||!o.zoomingEnabled?h=!0:(o.zoom=y,d.push("zoom"))}if(c&&(!h||!r.cancelOnFailedZoom)&&o.panningEnabled){var m=r.pan;nt(m.x)&&(o.pan.x=m.x,v=!1),nt(m.y)&&(o.pan.y=m.y,v=!1),v||d.push("pan")}return d.length>0&&(d.push("viewport"),this.emit(d.join(" ")),this.notify("viewport")),this},center:function(r){var o=this.getCenterPan(r);return o&&(this._private.pan=o,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(r,o){if(this._private.panningEnabled){if(Ye(r)){var u=r;r=this.mutableElements().filter(u)}else si(r)||(r=this.mutableElements());if(0!==r.length){var c=r.boundingBox(),d=this.width(),h=this.height();return{x:(d-(o=void 0===o?this._private.zoom:o)*(c.x1+c.x2))/2,y:(h-o*(c.y1+c.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var c,d,r=this._private,o=r.container;return r.sizeCache=r.sizeCache||(o?(c=this.window().getComputedStyle(o),{width:o.clientWidth-(d=function(v){return parseFloat(c.getPropertyValue(v))})("padding-left")-d("padding-right"),height:o.clientHeight-d("padding-top")-d("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var r=this._private.pan,o=this._private.zoom,u=this.renderedExtent(),c={x1:(u.x1-r.x)/o,x2:(u.x2-r.x)/o,y1:(u.y1-r.y)/o,y2:(u.y2-r.y)/o};return c.w=c.x2-c.x1,c.h=c.y2-c.y1,c},renderedExtent:function(){var r=this.width(),o=this.height();return{x1:0,y1:0,x2:r,y2:o,w:r,h:o}},multiClickDebounceTime:function(r){return r?(this._private.multiClickDebounceTime=r,this):this._private.multiClickDebounceTime}};ta.centre=ta.center,ta.autolockNodes=ta.autolock,ta.autoungrabifyNodes=ta.autoungrabify;var _r={data:_t.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:_t.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:_t.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:_t.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};_r.attr=_r.data,_r.removeAttr=_r.removeData;var wi=function(r){var o=this,u=(r=yt({},r)).container;u&&!$i(u)&&$i(u[0])&&(u=u[0]);var c=u?u._cyreg:null;(c=c||{})&&c.cy&&(c.cy.destroy(),c={});var d=c.readies=c.readies||[];u&&(u._cyreg=c),c.cy=o;var h=void 0!==bt&&void 0!==u&&!r.headless,v=r;v.layout=yt({name:h?"grid":"null"},v.layout),v.renderer=yt({name:h?"canvas":"null"},v.renderer);var y=function(S,A,T){return void 0!==A?A:void 0!==T?T:S},m=this._private={container:u,ready:!1,options:v,elements:new jr(this),listeners:[],aniEles:new jr(this),data:v.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:y(!0,v.zoomingEnabled),userZoomingEnabled:y(!0,v.userZoomingEnabled),panningEnabled:y(!0,v.panningEnabled),userPanningEnabled:y(!0,v.userPanningEnabled),boxSelectionEnabled:y(!0,v.boxSelectionEnabled),autolock:y(!1,v.autolock,v.autolockNodes),autoungrabify:y(!1,v.autoungrabify,v.autoungrabifyNodes),autounselectify:y(!1,v.autounselectify),styleEnabled:void 0===v.styleEnabled?h:v.styleEnabled,zoom:nt(v.zoom)?v.zoom:1,pan:{x:mt(v.pan)&&nt(v.pan.x)?v.pan.x:0,y:mt(v.pan)&&nt(v.pan.y)?v.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:y(250,v.multiClickDebounceTime)};this.createEmitter(),this.selectionType(v.selectionType),this.zoomRange({min:v.minZoom,max:v.maxZoom}),m.styleEnabled&&o.setStyle([]);var E=yt({},v,v.renderer);o.initRenderer(E),function(S,A){if(S.some(Fs))return rr.all(S).then(A);A(S)}([v.style,v.elements],function(x){var S=x[0],A=x[1];m.styleEnabled&&o.style().append(S),function(S,A,T){o.notifications(!1);var P=o.mutableElements();P.length>0&&P.remove(),null!=S&&(mt(S)||dn(S))&&o.add(S),o.one("layoutready",function(O){o.notifications(!0),o.emit(O),o.one("load",A),o.emitAndNotify("load")}).one("layoutstop",function(){o.one("done",T),o.emit("done")});var k=yt({},o._private.options.layout);k.eles=o.elements(),o.layout(k).run()}(A,function(){o.startAnimationLoop(),m.ready=!0,In(v.ready)&&o.on("ready",v.ready);for(var T=0;T<d.length;T++)o.on("ready",d[T]);c&&(c.readies=[]),o.emit("ready")},v.done)})},fu=wi.prototype;yt(fu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(r){return this.isReady()?this.emitter().emit("ready",[],r):this.on("ready",r),this},destroy:function(){var r=this;if(!r.destroyed())return r.stopAnimationLoop(),r.destroyRenderer(),this.emit("destroy"),r._private.destroyed=!0,r},hasElementWithId:function(r){return this._private.elements.hasElementWithId(r)},getElementById:function(r){return this._private.elements.getElementById(r)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(r){return this._private.elements.merge(r),this},removeFromPool:function(r){return this._private.elements.unmerge(r),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return bt;var o=this._private.container.ownerDocument;return void 0===o||null==o?bt:o.defaultView||bt},mount:function(r){if(null!=r){var o=this,u=o._private,c=u.options;return!$i(r)&&$i(r[0])&&(r=r[0]),o.stopAnimationLoop(),o.destroyRenderer(),u.container=r,u.styleEnabled=!0,o.invalidateSize(),o.initRenderer(yt({},c,c.renderer,{name:"null"===c.renderer.name?"canvas":c.renderer.name})),o.startAnimationLoop(),o.style(c.style),o.emit("mount"),o}},unmount:function(){var r=this;return r.stopAnimationLoop(),r.destroyRenderer(),r.initRenderer({name:"null"}),r.emit("unmount"),r},options:function(){return So(this._private.options)},json:function(r){var o=this,u=o._private,c=o.mutableElements();if(mt(r)){if(o.startBatch(),r.elements){var h={},v=function(B,G){for(var q=[],V=[],W=0;W<B.length;W++){var H=B[W];if(H.data.id){var K=""+H.data.id,Q=o.getElementById(K);h[K]=!0,0!==Q.length?V.push({ele:Q,json:H}):(G&&(H.group=G),q.push(H))}else Cn("cy.json() cannot handle elements without an ID attribute")}o.add(q);for(var U=0;U<V.length;U++){var ee=V[U];ee.ele.json(ee.json)}};if(dn(r.elements))v(r.elements);else for(var y=["nodes","edges"],m=0;m<y.length;m++){var b=y[m],E=r.elements[b];dn(E)&&v(E,b)}var _=o.collection();c.filter(function(O){return!h[O.id()]}).forEach(function(O){O.isParent()?_.merge(O):O.remove()}),_.forEach(function(O){return O.children().move({parent:null})}),_.forEach(function(O){return(B=O,o.getElementById(B.id())).remove();var B})}r.style&&o.style(r.style),null!=r.zoom&&r.zoom!==u.zoom&&o.zoom(r.zoom),r.pan&&(r.pan.x!==u.pan.x||r.pan.y!==u.pan.y)&&o.pan(r.pan),r.data&&o.data(r.data);for(var x=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],S=0;S<x.length;S++){var A=x[S];null!=r[A]&&o[A](r[A])}return o.endBatch(),this}var P={};r?P.elements=this.elements().map(function(O){return O.json()}):(P.elements={},c.forEach(function(O){var B=O.group();P.elements[B]||(P.elements[B]=[]),P.elements[B].push(O.json())})),this._private.styleEnabled&&(P.style=o.style().json()),P.data=So(o.data());var k=u.options;return P.zoomingEnabled=u.zoomingEnabled,P.userZoomingEnabled=u.userZoomingEnabled,P.zoom=u.zoom,P.minZoom=u.minZoom,P.maxZoom=u.maxZoom,P.panningEnabled=u.panningEnabled,P.userPanningEnabled=u.userPanningEnabled,P.pan=So(u.pan),P.boxSelectionEnabled=u.boxSelectionEnabled,P.renderer=So(k.renderer),P.hideEdgesOnViewport=k.hideEdgesOnViewport,P.textureOnViewport=k.textureOnViewport,P.wheelSensitivity=k.wheelSensitivity,P.motionBlur=k.motionBlur,P.multiClickDebounceTime=k.multiClickDebounceTime,P}}),fu.$id=fu.getElementById,[tn,wh,un,kc,ms,Wr,Wa,yi,Yp,ta,_r].forEach(function(a){yt(fu,a)});var Kp={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}},wl={maximal:!1,acyclic:!1},eo=function(r){return r.scratch("breadthfirst")},Fc=function(r,o){return r.scratch("breadthfirst",o)};function Lc(a){this.options=yt({},Kp,wl,a)}Lc.prototype.run=function(){var m,a=this.options,r=a,o=a.cy,u=r.eles,c=u.nodes().filter(function(rt){return!rt.isParent()}),d=u,h=r.directed,v=r.acyclic||r.maximal||r.maximalAdjustments>0,y=Ui(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});if(si(r.roots))m=r.roots;else if(dn(r.roots)){for(var b=[],E=0;E<r.roots.length;E++){var x=o.getElementById(r.roots[E]);b.push(x)}m=o.collection(b)}else if(Ye(r.roots))m=o.$(r.roots);else if(h)m=c.roots();else{var S=u.components();m=o.collection();for(var A=function(We){var $e=S[We],ft=$e.maxDegree(!1),Ge=$e.filter(function(Xe){return Xe.degree(!1)===ft});m=m.add(Ge)},T=0;T<S.length;T++)A(T)}var P=[],k={},O=function(We,$e){null==P[$e]&&(P[$e]=[]);var ft=P[$e].length;P[$e].push(We),Fc(We,{index:ft,depth:$e})};d.bfs({roots:m,directed:r.directed,visit:function(We,$e,ft,Ge,Xe){var nn=We[0],Pt=nn.id();O(nn,Xe),k[Pt]=!0}});for(var G=[],q=0;q<c.length;q++){var V=c[q];k[V.id()]||G.push(V)}var W=function(We){for(var $e=P[We],ft=0;ft<$e.length;ft++){var Ge=$e[ft];null!=Ge?Fc(Ge,{depth:We,index:ft}):($e.splice(ft,1),ft--)}},H=function(){for(var We=0;We<P.length;We++)W(We)},K=function(We,$e){for(var ft=eo(We),Ge=We.incomers().filter(function(j){return j.isNode()&&u.has(j)}),Xe=-1,nn=We.id(),Pt=0;Pt<Ge.length;Pt++){var Nn=eo(Ge[Pt]);Xe=Math.max(Xe,Nn.depth)}if(ft.depth<=Xe){if(!r.acyclic&&$e[nn])return null;var Fe=Xe+1;return function(We,$e){var ft=eo(We);P[ft.depth][ft.index]=null,O(We,$e)}(We,Fe),$e[nn]=Fe,!0}return!1};if(h&&v){var Q=[],U={},ee=function(We){return Q.push(We)};for(c.forEach(function(rt){return Q.push(rt)});Q.length>0;){var ae=Q.shift(),te=K(ae,U);if(te)ae.outgoers().filter(function(rt){return rt.isNode()&&u.has(rt)}).forEach(ee);else if(null===te){Cn("Detected double maximal shift for node `"+ae.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}H();var ne=0;if(r.avoidOverlap)for(var fe=0;fe<c.length;fe++){var we=c[fe].layoutDimensions(r);ne=Math.max(ne,we.w,we.h)}var Te={},Oe=function(We){if(Te[We.id()])return Te[We.id()];for(var $e=eo(We).depth,ft=We.neighborhood(),Ge=0,Xe=0,nn=0;nn<ft.length;nn++){var Pt=ft[nn];if(!Pt.isEdge()&&!Pt.isParent()&&c.has(Pt)){var Et=eo(Pt);if(null!=Et){var Nn=Et.index,Fe=Et.depth;null!=Nn&&null!=Fe&&Fe<$e&&(Ge+=Nn/P[Fe].length,Xe++)}}}return Ge/=Xe=Math.max(1,Xe),0===Xe&&(Ge=0),Te[We.id()]=Ge,Ge},xe=function(We,$e){var Xe=Oe(We)-Oe($e);return 0===Xe?is(We.id(),$e.id()):Xe};void 0!==r.depthSort&&(xe=r.depthSort);for(var Me=0;Me<P.length;Me++)P[Me].sort(xe),W(Me);for(var le=[],Ae=0;Ae<G.length;Ae++)le.push(G[Ae]);P.unshift(le),H();for(var Re=0,je=0;je<P.length;je++)Re=Math.max(P[je].length,Re);var Ke_x=y.x1+y.w/2,Ke_y=y.x1+y.h/2,gt=P.reduce(function(rt,We){return Math.max(rt,We.length)},0);return u.nodes().layoutPositions(this,r,function(We){var $e=eo(We),ft=$e.depth,Ge=$e.index,Xe=P[ft].length,nn=Math.max(y.w/((r.grid?gt:Xe)+1),ne),Pt=Math.max(y.h/(P.length+1),ne),Et=Math.min(y.w/2/P.length,y.h/2/P.length);if(Et=Math.max(Et,ne),r.circle){var Fe=Et*ft+Et-(P.length>0&&P[0].length<=3?Et/2:0),j=2*Math.PI/P[ft].length*Ge;return 0===ft&&1===P[0].length&&(Fe=1),{x:Ke_x+Fe*Math.cos(j),y:Ke_y+Fe*Math.sin(j)}}return{x:Ke_x+(Ge+1-(Xe+1)/2)*nn,y:(ft+1)*Pt}}),this};var Dh={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function Bc(a){this.options=yt({},Dh,a)}Bc.prototype.run=function(){var a=this.options,r=a,o=a.cy,u=r.eles,c=void 0!==r.counterclockwise?!r.counterclockwise:r.clockwise,d=u.nodes().not(":parent");r.sort&&(d=d.sort(r.sort));for(var b,h=Ui(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),v={x:h.x1+h.w/2,y:h.y1+h.h/2},m=(void 0===r.sweep?2*Math.PI-2*Math.PI/d.length:r.sweep)/Math.max(1,d.length-1),E=0,_=0;_<d.length;_++){var S=d[_].layoutDimensions(r);E=Math.max(E,S.w,S.h)}if(b=nt(r.radius)?r.radius:d.length<=1?0:Math.min(h.h,h.w)/2-E,d.length>1&&r.avoidOverlap){E*=1.75;var P=Math.cos(m)-Math.cos(0),k=Math.sin(m)-Math.sin(0),O=Math.sqrt(E*E/(P*P+k*k));b=Math.max(O,b)}return u.nodes().layoutPositions(this,r,function(q,V){var W=r.startAngle+V*m*(c?1:-1),H=b*Math.cos(W),K=b*Math.sin(W);return{x:v.x+H,y:v.y+K}}),this};var qa={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(r){return r.degree()},levelWidth:function(r){return r.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function du(a){this.options=yt({},qa,a)}du.prototype.run=function(){for(var a=this.options,r=a,o=void 0!==r.counterclockwise?!r.counterclockwise:r.clockwise,u=a.cy,c=r.eles,d=c.nodes().not(":parent"),h=Ui(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),v={x:h.x1+h.w/2,y:h.y1+h.h/2},y=[],m=0,b=0;b<d.length;b++){var _,E=d[b];_=r.concentric(E),y.push({value:_,node:E}),E._private.scratch.concentric=_}d.updateStyle();for(var x=0;x<d.length;x++){var A=d[x].layoutDimensions(r);m=Math.max(m,A.w,A.h)}y.sort(function(rt,We){return We.value-rt.value});for(var T=r.levelWidth(d),P=[[]],k=P[0],O=0;O<y.length;O++){var B=y[O];k.length>0&&Math.abs(k[0].value-B.value)>=T&&P.push(k=[]),k.push(B)}var q=m+r.minNodeSpacing;if(!r.avoidOverlap){var V=P.length>0&&P[0].length>1,W=Math.min(h.w,h.h)/2-q;q=Math.min(q,W/(P.length+V?1:0))}for(var K=0,Q=0;Q<P.length;Q++){var U=P[Q],ee=void 0===r.sweep?2*Math.PI-2*Math.PI/U.length:r.sweep,Z=U.dTheta=ee/Math.max(1,U.length-1);if(U.length>1&&r.avoidOverlap){var ae=Math.cos(Z)-Math.cos(0),te=Math.sin(Z)-Math.sin(0),ne=Math.sqrt(q*q/(ae*ae+te*te));K=Math.max(ne,K)}U.r=K,K+=q}if(r.equidistant){for(var fe=0,he=0,we=0;we<P.length;we++)fe=Math.max(fe,P[we].r-he);he=0;for(var Te=0;Te<P.length;Te++){var Oe=P[Te];0===Te&&(he=Oe.r),Oe.r=he,he+=fe}}for(var xe={},Me=0;Me<P.length;Me++)for(var le=P[Me],Ae=le.dTheta,Re=le.r,je=0;je<le.length;je++){var Ke=le[je],gt=r.startAngle+(o?1:-1)*Ae*je,Ut={x:v.x+Re*Math.cos(gt),y:v.y+Re*Math.sin(gt)};xe[Ke.node.id()]=Ut}return c.nodes().layoutPositions(this,r,function(rt){var We=rt.id();return xe[We]}),this};var Gf,fi={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(r,o){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(r){return 2048},nodeOverlap:4,idealEdgeLength:function(r){return 32},edgeElasticity:function(r){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function To(a){this.options=yt({},fi,a),this.options.layout=this;var r=this.options.eles.nodes(),u=this.options.eles.edges().filter(function(c){var d=c.source().data("id"),h=c.target().data("id"),v=r.some(function(m){return m.data("id")===d}),y=r.some(function(m){return m.data("id")===h});return!v||!y});this.options.eles=this.options.eles.not(u)}To.prototype.run=function(){var a=this.options,r=a.cy,o=this;o.stopped=!1,(!0===a.animate||!1===a.animate)&&o.emit({type:"layoutstart",layout:o}),Gf=!0===a.debug;var u=Yn(r,o,a);Gf&&(void 0)(u),a.randomize&&$c(u);var c=ca(),d=function(){Zf(u,r,a),!0===a.fit&&r.fit(a.padding)},h=function(_){return!(o.stopped||_>=a.numIter||(ys(u,a),u.temperature=u.temperature*a.coolingFactor,u.temperature<a.minTemp))},v=function(){if(!0===a.animate||!1===a.animate)d(),o.one("layoutstop",a.stop),o.emit({type:"layoutstop",layout:o});else{var _=a.eles.nodes(),x=qf(u,a,_);_.layoutPositions(o,a,x)}},y=0,m=!0;if(!0===a.animate)!function E(){for(var _=0;m&&_<a.refresh;)m=h(y),y++,_++;m?(ca()-c>=a.animationThreshold&&d(),Ql(E)):(na(u,a),v())}();else{for(;m;)m=h(y),y++;na(u,a),v()}return this},To.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},To.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Yn=function(r,o,u){for(var c=u.eles.edges(),d=u.eles.nodes(),h=Ui(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),v={isCompound:r.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:d.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:c.size(),temperature:u.initialTemp,clientWidth:h.w,clientHeight:h.h,boundingBox:h},y=u.eles.components(),m={},b=0;b<y.length;b++)for(var E=y[b],_=0;_<E.length;_++)m[E[_].id()]=b;for(b=0;b<v.nodeSize;b++){var A=(S=d[b]).layoutDimensions(u);(T={}).isLocked=S.locked(),T.id=S.data("id"),T.parentId=S.data("parent"),T.cmptId=m[S.id()],T.children=[],T.positionX=S.position("x"),T.positionY=S.position("y"),T.offsetX=0,T.offsetY=0,T.height=A.w,T.width=A.h,T.maxX=T.positionX+T.width/2,T.minX=T.positionX-T.width/2,T.maxY=T.positionY+T.height/2,T.minY=T.positionY-T.height/2,T.padLeft=parseFloat(S.style("padding")),T.padRight=parseFloat(S.style("padding")),T.padTop=parseFloat(S.style("padding")),T.padBottom=parseFloat(S.style("padding")),T.nodeRepulsion=In(u.nodeRepulsion)?u.nodeRepulsion(S):u.nodeRepulsion,v.layoutNodes.push(T),v.idToIndex[T.id]=b}var P=[],k=0,O=-1,B=[];for(b=0;b<v.nodeSize;b++){var S,G=(S=v.layoutNodes[b]).parentId;null!=G?v.layoutNodes[v.idToIndex[G]].children.push(S.id):(P[++O]=S.id,B.push(S.id))}for(v.graphSet.push(B);k<=O;){var q=P[k++],W=v.layoutNodes[v.idToIndex[q]].children;if(W.length>0)for(v.graphSet.push(W),b=0;b<W.length;b++)P[++O]=W[b]}for(b=0;b<v.graphSet.length;b++){var H=v.graphSet[b];for(_=0;_<H.length;_++)v.indexToGraph[v.idToIndex[H[_]]]=b}for(b=0;b<v.edgeSize;b++){var Q=c[b],U={};U.id=Q.data("id"),U.sourceId=Q.data("source"),U.targetId=Q.data("target");var ee=In(u.idealEdgeLength)?u.idealEdgeLength(Q):u.idealEdgeLength,Z=In(u.edgeElasticity)?u.edgeElasticity(Q):u.edgeElasticity,ae=v.idToIndex[U.sourceId],te=v.idToIndex[U.targetId];if(v.indexToGraph[ae]!=v.indexToGraph[te]){for(var he=Eh(U.sourceId,U.targetId,v),we=v.graphSet[he],de=0,T=v.layoutNodes[ae];-1===we.indexOf(T.id);)T=v.layoutNodes[v.idToIndex[T.parentId]],de++;for(T=v.layoutNodes[te];-1===we.indexOf(T.id);)T=v.layoutNodes[v.idToIndex[T.parentId]],de++;ee*=de*u.nestingFactor}U.idealLength=ee,U.elasticity=Z,v.layoutEdges.push(U)}return v},Eh=function(r,o,u){var c=Vc(r,o,0,u);return 2>c.count?0:c.graph},Vc=function a(r,o,u,c){var d=c.graphSet[u];if(-1<d.indexOf(r)&&-1<d.indexOf(o))return{count:2,graph:u};for(var h=0,v=0;v<d.length;v++){var b=c.layoutNodes[c.idToIndex[d[v]]].children;if(0!==b.length){var _=a(r,o,c.indexToGraph[c.idToIndex[b[0]]],c);if(0!==_.count){if(1!==_.count)return _;if(2==++h)break}}}return{count:h,graph:u}},$c=function(r,o){for(var u=r.clientWidth,c=r.clientHeight,d=0;d<r.nodeSize;d++){var h=r.layoutNodes[d];0===h.children.length&&!h.isLocked&&(h.positionX=Math.random()*u,h.positionY=Math.random()*c)}},qf=function(r,o,u){var c=r.boundingBox,d={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return o.boundingBox&&(u.forEach(function(h){var v=r.layoutNodes[r.idToIndex[h.data("id")]];d.x1=Math.min(d.x1,v.positionX),d.x2=Math.max(d.x2,v.positionX),d.y1=Math.min(d.y1,v.positionY),d.y2=Math.max(d.y2,v.positionY)}),d.w=d.x2-d.x1,d.h=d.y2-d.y1),function(h,v){var y=r.layoutNodes[r.idToIndex[h.data("id")]];return o.boundingBox?{x:c.x1+(y.positionX-d.x1)/d.w*c.w,y:c.y1+(y.positionY-d.y1)/d.h*c.h}:{x:y.positionX,y:y.positionY}}},Zf=function(r,o,u){var c=u.layout,d=u.eles.nodes(),h=qf(r,u,d);d.positions(h),!0!==r.ready&&(r.ready=!0,c.one("layoutready",u.ready),c.emit({type:"layoutready",layout:this}))},ys=function(r,o,u){xa(r,o),Uc(r),Yf(r,o),Ch(r),_h(r)},xa=function(r,o){for(var u=0;u<r.graphSet.length;u++)for(var c=r.graphSet[u],d=c.length,h=0;h<d;h++)for(var v=r.layoutNodes[r.idToIndex[c[h]]],y=h+1;y<d;y++)zc(v,r.layoutNodes[r.idToIndex[c[y]]],r,o)},Hc=function(r){return-r+2*r*Math.random()},zc=function(r,o,u,c){if(r.cmptId===o.cmptId||u.isCompound){var v=o.positionX-r.positionX,y=o.positionY-r.positionY;0===v&&0===y&&(v=Hc(1),y=Hc(1));var b=bl(r,o,v,y);if(b>0)var x=(E=c.nodeOverlap*b)*v/(_=Math.sqrt(v*v+y*y)),S=E*y/_;else{var E,A=bi(r,v,y),T=bi(o,-1*v,-1*y),P=T.x-A.x,k=T.y-A.y,O=P*P+k*k,_=Math.sqrt(O);x=(E=(r.nodeRepulsion+o.nodeRepulsion)/O)*P/_,S=E*k/_}r.isLocked||(r.offsetX-=x,r.offsetY-=S),o.isLocked||(o.offsetX+=x,o.offsetY+=S)}},bl=function(r,o,u,c){if(u>0)var d=r.maxX-o.minX;else d=o.maxX-r.minX;if(c>0)var h=r.maxY-o.minY;else h=o.maxY-r.minY;return d>=0&&h>=0?Math.sqrt(d*d+h*h):0},bi=function(r,o,u){var c=r.positionX,d=r.positionY,h=r.height||1,v=r.width||1,y=u/o,m=h/v,b={};return 0===o&&0<u||0===o&&0>u?(b.x=c,b.y=d+h/2,b):0<o&&-1*m<=y&&y<=m?(b.x=c+v/2,b.y=d+v*u/2/o,b):0>o&&-1*m<=y&&y<=m?(b.x=c-v/2,b.y=d-v*u/2/o,b):0<u&&(y<=-1*m||y>=m)?(b.x=c+h*o/2/u,b.y=d+h/2,b):(0>u&&(y<=-1*m||y>=m)&&(b.x=c-h*o/2/u,b.y=d-h/2),b)},Uc=function(r,o){for(var u=0;u<r.edgeSize;u++){var c=r.layoutEdges[u],h=r.layoutNodes[r.idToIndex[c.sourceId]],y=r.layoutNodes[r.idToIndex[c.targetId]],m=y.positionX-h.positionX,b=y.positionY-h.positionY;if(0!==m||0!==b){var E=bi(h,m,b),_=bi(y,-1*m,-1*b),x=_.x-E.x,S=_.y-E.y,A=Math.sqrt(x*x+S*S),T=Math.pow(c.idealLength-A,2)/c.elasticity;if(0!==A)var P=T*x/A,k=T*S/A;else P=0,k=0;h.isLocked||(h.offsetX+=P,h.offsetY+=k),y.isLocked||(y.offsetX-=P,y.offsetY-=k)}}},Yf=function(r,o){if(0!==o.gravity)for(var c=0;c<r.graphSet.length;c++){var d=r.graphSet[c],h=d.length;if(0===c)var v=r.clientHeight/2,y=r.clientWidth/2;else{var b=r.layoutNodes[r.idToIndex[r.layoutNodes[r.idToIndex[d[0]]].parentId]];v=b.positionX,y=b.positionY}for(var E=0;E<h;E++){var _=r.layoutNodes[r.idToIndex[d[E]]];if(!_.isLocked){var x=v-_.positionX,S=y-_.positionY,A=Math.sqrt(x*x+S*S);if(A>1){var P=o.gravity*S/A;_.offsetX+=o.gravity*x/A,_.offsetY+=P}}}}},Ch=function(r,o){var u=[],c=0,d=-1;for(u.push.apply(u,r.graphSet[0]),d+=r.graphSet[0].length;c<=d;){var h=u[c++],y=r.layoutNodes[r.idToIndex[h]],m=y.children;if(0<m.length&&!y.isLocked){for(var b=y.offsetX,E=y.offsetY,_=0;_<m.length;_++){var x=r.layoutNodes[r.idToIndex[m[_]]];x.offsetX+=b,x.offsetY+=E,u[++d]=m[_]}y.offsetX=0,y.offsetY=0}}},_h=function(r,o){for(var u=0;u<r.nodeSize;u++)0<(c=r.layoutNodes[u]).children.length&&(c.maxX=void 0,c.minX=void 0,c.maxY=void 0,c.minY=void 0);for(u=0;u<r.nodeSize;u++)if(!(0<(c=r.layoutNodes[u]).children.length||c.isLocked)){var d=hu(c.offsetX,c.offsetY,r.temperature);c.positionX+=d.x,c.positionY+=d.y,c.offsetX=0,c.offsetY=0,c.minX=c.positionX-c.width,c.maxX=c.positionX+c.width,c.minY=c.positionY-c.height,c.maxY=c.positionY+c.height,Dl(c,r)}for(u=0;u<r.nodeSize;u++){var c;0<(c=r.layoutNodes[u]).children.length&&!c.isLocked&&(c.positionX=(c.maxX+c.minX)/2,c.positionY=(c.maxY+c.minY)/2,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY)}},hu=function(r,o,u){var c=Math.sqrt(r*r+o*o);if(c>u)var d={x:u*r/c,y:u*o/c};else d={x:r,y:o};return d},Dl=function a(r,o){var u=r.parentId;if(null!=u){var c=o.layoutNodes[o.idToIndex[u]],d=!1;if((null==c.maxX||r.maxX+c.padRight>c.maxX)&&(c.maxX=r.maxX+c.padRight,d=!0),(null==c.minX||r.minX-c.padLeft<c.minX)&&(c.minX=r.minX-c.padLeft,d=!0),(null==c.maxY||r.maxY+c.padBottom>c.maxY)&&(c.maxY=r.maxY+c.padBottom,d=!0),(null==c.minY||r.minY-c.padTop<c.minY)&&(c.minY=r.minY-c.padTop,d=!0),d)return a(c,o)}},na=function(r,o){for(var u=r.layoutNodes,c=[],d=0;d<u.length;d++){var h=u[d],v=h.cmptId;(c[v]=c[v]||[]).push(h)}var m=0;for(d=0;d<c.length;d++)if(b=c[d]){b.x1=1/0,b.x2=-1/0,b.y1=1/0,b.y2=-1/0;for(var E=0;E<b.length;E++){var _=b[E];b.x1=Math.min(b.x1,_.positionX-_.width/2),b.x2=Math.max(b.x2,_.positionX+_.width/2),b.y1=Math.min(b.y1,_.positionY-_.height/2),b.y2=Math.max(b.y2,_.positionY+_.height/2)}b.w=b.x2-b.x1,b.h=b.y2-b.y1,m+=b.w*b.h}c.sort(function(k,O){return O.w*O.h-k.w*k.h});var x=0,S=0,A=0,T=0,P=Math.sqrt(m)*r.clientWidth/r.clientHeight;for(d=0;d<c.length;d++){var b;if(b=c[d]){for(E=0;E<b.length;E++)(_=b[E]).isLocked||(_.positionX+=x-b.x1,_.positionY+=S-b.y1);x+=b.w+o.componentSpacing,A+=b.w+o.componentSpacing,T=Math.max(T,b.h),A>P&&(S+=T+o.componentSpacing,x=0,A=0,T=0)}}},Sh={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(r){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function pu(a){this.options=yt({},Sh,a)}pu.prototype.run=function(){var a=this.options,r=a,o=a.cy,u=r.eles,c=u.nodes().not(":parent");r.sort&&(c=c.sort(r.sort));var d=Ui(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});if(0===d.h||0===d.w)u.nodes().layoutPositions(this,r,function(Te){return{x:d.x1,y:d.y1}});else{var h=c.size(),v=Math.sqrt(h*d.h/d.w),y=Math.round(v),m=Math.round(d.w/d.h*v),b=function(Oe){if(null==Oe)return Math.min(y,m);Math.min(y,m)==y?y=Oe:m=Oe},E=function(Oe){if(null==Oe)return Math.max(y,m);Math.max(y,m)==y?y=Oe:m=Oe},_=r.rows,x=null!=r.cols?r.cols:r.columns;if(null!=_&&null!=x)y=_,m=x;else if(null!=_&&null==x)y=_,m=Math.ceil(h/y);else if(null==_&&null!=x)m=x,y=Math.ceil(h/m);else if(m*y>h){var S=b(),A=E();(S-1)*A>=h?b(S-1):(A-1)*S>=h&&E(A-1)}else for(;m*y<h;){var T=b(),P=E();(P+1)*T>=h?E(P+1):b(T+1)}var k=d.w/m,O=d.h/y;if(r.condense&&(k=0,O=0),r.avoidOverlap)for(var B=0;B<c.length;B++){var G=c[B],q=G._private.position;(null==q.x||null==q.y)&&(q.x=0,q.y=0);var V=G.layoutDimensions(r),W=r.avoidOverlapPadding,K=V.h+W;k=Math.max(k,V.w+W),O=Math.max(O,K)}for(var Q={},U=function(Oe,xe){return!!Q["c-"+Oe+"-"+xe]},ee=function(Oe,xe){Q["c-"+Oe+"-"+xe]=!0},Z=0,ae=0,te=function(){++ae>=m&&(ae=0,Z++)},ne={},fe=0;fe<c.length;fe++){var he=c[fe],we=r.position(he);if(we&&(void 0!==we.row||void 0!==we.col)){var de={row:we.row,col:we.col};if(void 0===de.col)for(de.col=0;U(de.row,de.col);)de.col++;else if(void 0===de.row)for(de.row=0;U(de.row,de.col);)de.row++;ne[he.id()]=de,ee(de.row,de.col)}}c.layoutPositions(this,r,function(Oe,xe){var Me,le;if(Oe.locked()||Oe.isParent())return!1;var Ae=ne[Oe.id()];if(Ae)Me=Ae.col*k+k/2+d.x1,le=Ae.row*O+O/2+d.y1;else{for(;U(Z,ae);)te();Me=ae*k+k/2+d.x1,le=Z*O+O/2+d.y1,ee(Z,ae),te()}return{x:Me,y:le}})}return this};var xh={ready:function(){},stop:function(){}};function gu(a){this.options=yt({},xh,a)}gu.prototype.run=function(){var a=this.options,r=a.eles,o=this;return o.emit("layoutstart"),r.nodes().positions(function(){return{x:0,y:0}}),o.one("layoutready",a.ready),o.emit("layoutready"),o.one("layoutstop",a.stop),o.emit("layoutstop"),this},gu.prototype.stop=function(){return this};var vu={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function St(a){this.options=yt({},vu,a)}St.prototype.run=function(){var a=this.options,o=a.eles.nodes(),u=In(a.positions);return o.layoutPositions(this,a,function(d,h){var v=function c(d){return null==a.positions?function(r){return{x:r.x,y:r.y}}(d.position()):u?a.positions(d):a.positions[d._private.data.id]??null}(d);return!d.locked()&&null!=v&&v}),this};var Kf={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function mu(a){this.options=yt({},Kf,a)}mu.prototype.run=function(){var a=this.options,r=a.cy,o=a.eles,u=Ui(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});return o.nodes().layoutPositions(this,a,function(h,v){return{x:u.x1+Math.round(Math.random()*u.w),y:u.y1+Math.round(Math.random()*u.h)}}),this};var Ao=[{name:"breadthfirst",impl:Lc},{name:"circle",impl:Bc},{name:"concentric",impl:du},{name:"cose",impl:To},{name:"grid",impl:pu},{name:"null",impl:gu},{name:"preset",impl:St},{name:"random",impl:mu}];function Mh(a){this.options=a,this.notifications=0}var Za=function(){},El=function(){throw new Error("A headless instance can not render images")};Mh.prototype={recalculateRenderedStyle:Za,notify:function(){this.notifications++},init:Za,isHeadless:function(){return!0},png:El,jpg:El};var wr={arrowShapeWidth:.3,registerArrowShapes:function(){var a=this.arrowShapes={},r=this,o=function(m,b,E,_,x,S,A){return x.x-E/2-A<=m&&m<=x.x+E/2+A&&x.y-E/2-A<=b&&b<=x.y+E/2+A},u=function(m,b,E,_,x){var S=m*Math.cos(_)-b*Math.sin(_),A=m*Math.sin(_)+b*Math.cos(_);return{x:S*E+x.x,y:A*E+x.y}},c=function(m,b,E,_){for(var x=[],S=0;S<m.length;S+=2)x.push(u(m[S],m[S+1],b,E,_));return x},d=function(m){for(var b=[],E=0;E<m.length;E++){var _=m[E];b.push(_.x,_.y)}return b},h=function(m){return m.pstyle("width").pfValue*m.pstyle("arrow-scale").pfValue*2},v=function(m,b){Ye(b)&&(b=a[b]),a[m]=yt({name:m,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(_,x,S,A,T,P){var k=d(c(this.points,S+2*P,A,T));return Hr(_,x,k)},roughCollide:o,draw:function(_,x,S,A){var T=c(this.points,x,S,A);r.arrowShapeImpl("polygon")(_,T)},spacing:function(_){return 0},gap:h},b)};v("none",{collide:ju,roughCollide:ju,draw:bf,spacing:Ld,gap:Ld}),v("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),v("arrow","triangle"),v("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:o,draw:function(m,b,E,_,x){var S=c(this.points,b,E,_),A=this.controlPoint,T=u(A[0],A[1],b,E,_);r.arrowShapeImpl(this.name)(m,S,T)},gap:function(m){return.8*h(m)}}),v("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(m,b,E,_,x,S,A){var T=d(c(this.points,E+2*A,_,x)),P=d(c(this.pointsTee,E+2*A,_,x));return Hr(m,b,T)||Hr(m,b,P)},draw:function(m,b,E,_,x){var S=c(this.points,b,E,_),A=c(this.pointsTee,b,E,_);r.arrowShapeImpl(this.name)(m,S,A)}}),v("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(m,b,E,_,x,S,A){var T=x,P=Math.pow(T.x-m,2)+Math.pow(T.y-b,2)<=Math.pow((E+2*A)*this.radius,2),k=d(c(this.points,E+2*A,_,x));return Hr(m,b,k)||P},draw:function(m,b,E,_,x){var S=c(this.pointsTr,b,E,_);r.arrowShapeImpl(this.name)(m,S,_.x,_.y,this.radius*b)},spacing:function(m){return r.getArrowWidth(m.pstyle("width").pfValue,m.pstyle("arrow-scale").value)*this.radius}}),v("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(m,b){var E=this.baseCrossLinePts.slice(),_=b/m;return E[3]=E[3]-_,E[5]=E[5]-_,E},collide:function(m,b,E,_,x,S,A){var T=d(c(this.points,E+2*A,_,x)),P=d(c(this.crossLinePts(E,S),E+2*A,_,x));return Hr(m,b,T)||Hr(m,b,P)},draw:function(m,b,E,_,x){var S=c(this.points,b,E,_),A=c(this.crossLinePts(b,x),b,E,_);r.arrowShapeImpl(this.name)(m,S,A)}}),v("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(m){return.525*h(m)}}),v("circle",{radius:.15,collide:function(m,b,E,_,x,S,A){var T=x;return Math.pow(T.x-m,2)+Math.pow(T.y-b,2)<=Math.pow((E+2*A)*this.radius,2)},draw:function(m,b,E,_,x){r.arrowShapeImpl(this.name)(m,_.x,_.y,this.radius*b)},spacing:function(m){return r.getArrowWidth(m.pstyle("width").pfValue,m.pstyle("arrow-scale").value)*this.radius}}),v("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(m){return 1},gap:function(m){return 1}}),v("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),v("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(m){return m.pstyle("width").pfValue*m.pstyle("arrow-scale").value}}),v("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(m){return.95*m.pstyle("width").pfValue*m.pstyle("arrow-scale").value}})}},yu={projectIntoViewport:function(a,r){var o=this.cy,u=this.findContainerClientCoords(),c=u[0],d=u[1],h=u[4],v=o.pan(),y=o.zoom();return[((a-c)/h-v.x)/y,((r-d)/h-v.y)/y]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var a=this.container,r=a.getBoundingClientRect(),o=this.cy.window().getComputedStyle(a),u=function(P){return parseFloat(o.getPropertyValue(P))},c_left=u("padding-left"),c_right=u("padding-right"),c_top=u("padding-top"),c_bottom=u("padding-bottom"),d_left=u("border-left-width"),d_right=u("border-right-width"),d_top=u("border-top-width"),h=(u("border-bottom-width"),a.clientWidth);return this.containerBB=[r.left+c_left+d_left,r.top+c_top+d_top,h-(c_left+c_right),a.clientHeight-(c_top+c_bottom),r.width/(h+(d_left+d_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(a,r,o,u){return this.findNearestElements(a,r,o,u)[0]},findNearestElements:function(a,r,o,u){var S,A,c=this,d=this,h=d.getCachedZSortedEles(),v=[],y=d.cy.zoom(),m=d.cy.hasCompoundNodes(),b=(u?24:8)/y,E=(u?8:2)/y,_=(u?8:2)/y,x=1/0;function T(V,W){if(V.isNode()){if(A)return;A=V,v.push(V)}if(V.isEdge()&&(null==W||W<x))if(S){if(S.pstyle("z-compound-depth").value===V.pstyle("z-compound-depth").value&&S.pstyle("z-compound-depth").value===V.pstyle("z-compound-depth").value)for(var H=0;H<v.length;H++)if(v[H].isEdge()){v[H]=V,S=V,x=W??x;break}}else v.push(V),S=V,x=W??x}function P(V){var W=V.outerWidth()+2*E,H=V.outerHeight()+2*E,K=W/2,Q=H/2,U=V.position();if(U.x-K<=a&&a<=U.x+K&&U.y-Q<=r&&r<=U.y+Q&&d.nodeShapes[c.getNodeShape(V)].checkPoint(a,r,0,W,H,U.x,U.y))return T(V,0),!0}function k(V){var ae,W=V._private,H=W.rscratch,K=V.pstyle("width").pfValue,Q=V.pstyle("arrow-scale").value,U=K/2+b,ee=U*U,Z=2*U,fe=W.source,he=W.target;if("segments"===H.edgeType||"straight"===H.edgeType||"haystack"===H.edgeType){for(var te=H.allpts,ne=0;ne+3<te.length;ne+=2)if(ui(a,r,te[ne],te[ne+1],te[ne+2],te[ne+3],Z)&&ee>(ae=io(a,r,te[ne],te[ne+1],te[ne+2],te[ne+3])))return T(V,ae),!0}else if("bezier"===H.edgeType||"multibezier"===H.edgeType||"self"===H.edgeType||"compound"===H.edgeType)for(te=H.allpts,ne=0;ne+5<H.allpts.length;ne+=4)if(Uo(a,r,te[ne],te[ne+1],te[ne+2],te[ne+3],te[ne+4],te[ne+5],Z)&&ee>(ae=sc(a,r,te[ne],te[ne+1],te[ne+2],te[ne+3],te[ne+4],te[ne+5])))return T(V,ae),!0;fe=fe||W.source,he=he||W.target;var we=c.getArrowWidth(K,Q),de=[{name:"source",x:H.arrowStartX,y:H.arrowStartY,angle:H.srcArrowAngle},{name:"target",x:H.arrowEndX,y:H.arrowEndY,angle:H.tgtArrowAngle},{name:"mid-source",x:H.midX,y:H.midY,angle:H.midsrcArrowAngle},{name:"mid-target",x:H.midX,y:H.midY,angle:H.midtgtArrowAngle}];for(ne=0;ne<de.length;ne++){var ye=de[ne],Te=d.arrowShapes[V.pstyle(ye.name+"-arrow-shape").value],Oe=V.pstyle("width").pfValue;if(Te.roughCollide(a,r,we,ye.angle,{x:ye.x,y:ye.y},Oe,b)&&Te.collide(a,r,we,ye.angle,{x:ye.x,y:ye.y},Oe,b))return T(V),!0}m&&v.length>0&&(P(fe),P(he))}function O(V,W,H){return zi(V,W,H)}function B(V,W){var Q,H=V._private,K=_;Q=W?W+"-":"",V.boundingBox();var U=H.labelBounds[W||"main"],ee=V.pstyle(Q+"label").value;if("yes"===V.pstyle("text-events").strValue&&ee){var ae=O(H.rscratch,"labelX",W),te=O(H.rscratch,"labelY",W),ne=O(H.rscratch,"labelAngle",W),fe=V.pstyle(Q+"text-margin-x").pfValue,he=V.pstyle(Q+"text-margin-y").pfValue,we=U.x1-K-fe,de=U.x2+K-fe,ye=U.y1-K-he,Te=U.y2+K-he;if(ne){var Oe=Math.cos(ne),xe=Math.sin(ne),Me=function(Ut,rt){return{x:(Ut-=ae)*Oe-(rt-=te)*xe+ae,y:Ut*xe+rt*Oe+te}},le=Me(we,ye),Ae=Me(we,Te),Re=Me(de,ye),je=Me(de,Te);if(Hr(a,r,[le.x+fe,le.y+he,Re.x+fe,Re.y+he,je.x+fe,je.y+he,Ae.x+fe,Ae.y+he]))return T(V),!0}else if(Qu(U,a,r))return T(V),!0}}o&&(h=h.interactive);for(var G=h.length-1;G>=0;G--){var q=h[G];q.isNode()?P(q)||B(q):k(q)||B(q)||B(q,"source")||B(q,"target")}return v},getAllInBox:function(a,r,o,u){for(var c=this.getCachedZSortedEles().interactive,d=[],h=Math.min(a,o),v=Math.max(a,o),y=Math.min(r,u),m=Math.max(r,u),b=Ui({x1:a=h,y1:r=y,x2:o=v,y2:u=m}),E=0;E<c.length;E++){var _=c[E];if(_.isNode()){var x=_,S=x.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Mt(b,S)&&!qd(S,b)&&d.push(x)}else{var A=_,T=A._private,P=T.rscratch;if(null!=P.startX&&null!=P.startY&&!Qu(b,P.startX,P.startY)||null!=P.endX&&null!=P.endY&&!Qu(b,P.endX,P.endY))continue;if("bezier"===P.edgeType||"multibezier"===P.edgeType||"self"===P.edgeType||"compound"===P.edgeType||"segments"===P.edgeType||"haystack"===P.edgeType){for(var k=T.rstyle.bezierPts||T.rstyle.linePts||T.rstyle.haystackPts,O=!0,B=0;B<k.length;B++)if(!gv(b,k[B])){O=!1;break}O&&d.push(A)}else("haystack"===P.edgeType||"straight"===P.edgeType)&&d.push(A)}}return d}},Cl={calculateArrowAngles:function(a){var y,m,b,E,_,x,r=a._private.rscratch,o="haystack"===r.edgeType,u="bezier"===r.edgeType,c="multibezier"===r.edgeType,d="segments"===r.edgeType,h="compound"===r.edgeType,v="self"===r.edgeType;o?(b=r.haystackPts[0],E=r.haystackPts[1],_=r.haystackPts[2],x=r.haystackPts[3]):(b=r.arrowStartX,E=r.arrowStartY,_=r.arrowEndX,x=r.arrowEndY),P=r.midX,k=r.midY,d?(y=b-r.segpts[0],m=E-r.segpts[1]):c||h||v||u?(y=b-$r((S=r.allpts)[0],S[2],S[4],.1),m=E-$r(S[1],S[3],S[5],.1)):(y=b-P,m=E-k),r.srcArrowAngle=ic(y,m);var P=r.midX,k=r.midY;if(o&&(P=(b+_)/2,k=(E+x)/2),y=_-b,m=x-E,d)if((S=r.allpts).length/2%2==0)y=S[O=S.length/2]-S[B=O-2],m=S[O+1]-S[B+1];else{var O,B,G=2+(O=S.length/2-1);y=S[O]-S[B=O-2],m=S[O+1]-S[B+1]}else if(c||h||v){var V,W,H,K,U,Q,ee,S=r.allpts;r.ctrlpts.length/2%2==0?(V=$r(S[Q=S.length/2-1],S[U=Q+2],S[ee=U+2],0),W=$r(S[Q+1],S[U+1],S[ee+1],0),H=$r(S[Q],S[U],S[ee],1e-4),K=$r(S[Q+1],S[U+1],S[ee+1],1e-4)):(V=$r(S[Q=(U=S.length/2-1)-2],S[U],S[ee=U+2],.4999),W=$r(S[Q+1],S[U+1],S[ee+1],.4999),H=$r(S[Q],S[U],S[ee],.5),K=$r(S[Q+1],S[U+1],S[ee+1],.5)),y=H-V,m=K-W}if(r.midtgtArrowAngle=ic(y,m),r.midDispX=y,r.midDispY=m,y*=-1,m*=-1,d&&(S=r.allpts).length/2%2!=0&&(y=-(S[G=2+(O=S.length/2-1)]-S[O]),m=-(S[G+1]-S[O+1])),r.midsrcArrowAngle=ic(y,m),d)y=_-r.segpts[r.segpts.length-2],m=x-r.segpts[r.segpts.length-1];else if(c||h||v||u){var Z=(S=r.allpts).length;y=_-$r(S[Z-6],S[Z-4],S[Z-2],.9),m=x-$r(S[Z-5],S[Z-3],S[Z-1],.9)}else y=_-P,m=x-k;r.tgtArrowAngle=ic(y,m)}};Cl.getArrowWidth=Cl.getArrowHeight=function(a,r){var o=this.arrowWidthCache=this.arrowWidthCache||{},u=o[a+", "+r];return u||(u=Math.max(Math.pow(13.37*a,.9),29)*r,o[a+", "+r]=u,u)};var Zr={};function Ih(a){var r=[];if(null!=a){for(var o=0;o<a.length;o+=2)r.push({x:a[o],y:a[o+1]});return r}}Zr.findMidptPtsEtc=function(a,r){var d,H,K,Q,o=r.posPts,u=r.intersectionPts,c=r.vectorNormInverse,h=a.pstyle("source-endpoint"),v=a.pstyle("target-endpoint"),y=null!=h.units&&null!=v.units;switch(a.pstyle("edge-distances").value){case"node-position":d=o;break;case"intersection":d=u;break;case"endpoints":if(y){var _=Qt(this.manualEndptToPx(a.source()[0],h),2),x=_[0],S=_[1],T=Qt(this.manualEndptToPx(a.target()[0],v),2),P=T[0],k=T[1],O={x1:x,y1:S,x2:P,y2:k};K=P-x,c={x:-(H=k-S)/(Q=Math.sqrt(K*K+H*H)),y:K/Q},d=O}else Cn("Edge ".concat(a.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),d=u}return{midptPts:d,vectorNormInverse:c}},Zr.findHaystackPoints=function(a){for(var r=0;r<a.length;r++){var o=a[r],u=o._private,c=u.rscratch;if(!c.haystack){var d=2*Math.random()*Math.PI;c.source={x:Math.cos(d),y:Math.sin(d)},d=2*Math.random()*Math.PI,c.target={x:Math.cos(d),y:Math.sin(d)}}var h=u.source,v=u.target,y=h.position(),m=v.position(),b=h.width(),E=v.width(),_=h.height(),x=v.height(),A=o.pstyle("haystack-radius").value/2;c.haystackPts=c.allpts=[c.source.x*b*A+y.x,c.source.y*_*A+y.y,c.target.x*E*A+m.x,c.target.y*x*A+m.y],c.midX=(c.allpts[0]+c.allpts[2])/2,c.midY=(c.allpts[1]+c.allpts[3])/2,c.edgeType="haystack",c.haystack=!0,this.storeEdgeProjections(o),this.calculateArrowAngles(o),this.recalculateEdgeLabelProjections(o),this.calculateLabelAngles(o)}},Zr.findSegmentsPoints=function(a,r){var o=a._private.rscratch,u=a.pstyle("segment-weights"),c=a.pstyle("segment-distances"),d=Math.min(u.pfValue.length,c.pfValue.length);o.edgeType="segments",o.segpts=[];for(var h=0;h<d;h++){var v=u.pfValue[h],y=c.pfValue[h],m=1-v,b=v,E=this.findMidptPtsEtc(a,r),_=E.midptPts,x=E.vectorNormInverse,S={x:_.x1*m+_.x2*b,y:_.y1*m+_.y2*b};o.segpts.push(S.x+x.x*y,S.y+x.y*y)}},Zr.findLoopPoints=function(a,r,o,u){var c=a._private.rscratch,d=r.dirCounts,h=r.srcPos,v=a.pstyle("control-point-distances"),y=v?v.pfValue[0]:void 0,m=a.pstyle("loop-direction").pfValue,b=a.pstyle("loop-sweep").pfValue,E=a.pstyle("control-point-step-size").pfValue;c.edgeType="self";var _=o,x=E;u&&(_=0,x=y);var S=m-Math.PI/2,A=S-b/2,T=S+b/2,P=m+"_"+b;_=void 0===d[P]?d[P]=0:++d[P],c.ctrlpts=[h.x+1.4*Math.cos(A)*x*(_/3+1),h.y+1.4*Math.sin(A)*x*(_/3+1),h.x+1.4*Math.cos(T)*x*(_/3+1),h.y+1.4*Math.sin(T)*x*(_/3+1)]},Zr.findCompoundLoopPoints=function(a,r,o,u){var c=a._private.rscratch;c.edgeType="compound";var d=r.srcPos,h=r.tgtPos,v=r.srcW,y=r.srcH,m=r.tgtW,b=r.tgtH,E=a.pstyle("control-point-step-size").pfValue,_=a.pstyle("control-point-distances"),S=o,A=E;u&&(S=0,A=_?_.pfValue[0]:void 0);var P={x:d.x-v/2,y:d.y-y/2},k={x:h.x-m/2,y:h.y-b/2},O={x:Math.min(P.x,k.x),y:Math.min(P.y,k.y)},G=Math.max(.5,Math.log(.01*v)),q=Math.max(.5,Math.log(.01*m));c.ctrlpts=[O.x,O.y-(1+Math.pow(50,1.12)/100)*A*(S/3+1)*G,O.x-(1+Math.pow(50,1.12)/100)*A*(S/3+1)*q,O.y]},Zr.findStraightEdgePoints=function(a){a._private.rscratch.edgeType="straight"},Zr.findBezierPoints=function(a,r,o,u,c){var d=a._private.rscratch,h=a.pstyle("control-point-step-size").pfValue,v=a.pstyle("control-point-distances"),y=a.pstyle("control-point-weights"),m=v&&y?Math.min(v.value.length,y.value.length):1,b=v?v.pfValue[0]:void 0,E=y.value[0],_=u;d.edgeType=_?"multibezier":"bezier",d.ctrlpts=[];for(var x=0;x<m;x++){var A,S=(.5-r.eles.length/2+o)*h*(c?-1:1),T=Sf(S);_&&(b=v?v.pfValue[x]:h,E=y.value[x]);var P=void 0!==(A=u?b:void 0!==b?T*b:void 0)?A:S,k=1-E,O=E,B=this.findMidptPtsEtc(a,r),G=B.midptPts,q=B.vectorNormInverse,V={x:G.x1*k+G.x2*O,y:G.y1*k+G.y2*O};d.ctrlpts.push(V.x+q.x*P,V.y+q.y*P)}},Zr.findTaxiPoints=function(a,r){var o=a._private.rscratch;o.edgeType="segments";var u="vertical",c="horizontal",d="leftward",h="rightward",v="downward",y="upward",b=r.posPts,E=r.srcW,_=r.srcH,x=r.tgtW,S=r.tgtH,T="node-position"!==a.pstyle("edge-distances").value,P=a.pstyle("taxi-direction").value,k=P,O=a.pstyle("taxi-turn"),B="%"===O.units,G=O.pfValue,q=G<0,V=a.pstyle("taxi-turn-min-distance").pfValue,H=T?(_+S)/2:0,K=b.x2-b.x1,Q=b.y2-b.y1,U=function(Le,it){return Le>0?Math.max(Le-it,0):Math.min(Le+it,0)},ee=U(K,T?(E+x)/2:0),Z=U(Q,H),ae=!1;"auto"===k?P=Math.abs(ee)>Math.abs(Z)?c:u:k===y||k===v?(P=u,ae=!0):(k===d||k===h)&&(P=c,ae=!0);var de,te=P===u,ne=te?Z:ee,fe=te?Q:K,he=Sf(fe),we=!1;(!ae||!B&&!q)&&(k===v&&fe<0||k===y&&fe>0||k===d&&fe>0||k===h&&fe<0)&&(ne=(he*=-1)*Math.abs(ne),we=!0);var Oe=function(Le){return Math.abs(Le)<V||Math.abs(Le)>=Math.abs(ne)},xe=Oe(de=B?(G<0?1+G:G)*ne:(G<0?ne:0)+G*he),Me=Oe(Math.abs(ne)-Math.abs(de));if(!xe&&!Me||we)if(te){var Fe=b.y1+de+(T?_/2*he:0);o.segpts=[b.x1,Fe,b.x2,Fe]}else{var Ve=b.x1+de+(T?E/2*he:0);o.segpts=[Ve,b.y1,Ve,b.y2]}else if(te){var Ae=Math.abs(fe)<=_/2,Re=Math.abs(K)<=x/2;if(Ae){var je=(b.x1+b.x2)/2;o.segpts=[je,b.y1,je,b.y2]}else if(Re){var Ut=(b.y1+b.y2)/2;o.segpts=[b.x1,Ut,b.x2,Ut]}else o.segpts=[b.x1,b.y2]}else{var $e=Math.abs(fe)<=E/2,ft=Math.abs(Q)<=S/2;if($e){var Ge=(b.y1+b.y2)/2;o.segpts=[b.x1,Ge,b.x2,Ge]}else if(ft){var Pt=(b.x1+b.x2)/2;o.segpts=[Pt,b.y1,Pt,b.y2]}else o.segpts=[b.x2,b.y1]}},Zr.tryToCorrectInvalidPoints=function(a,r){var o=a._private.rscratch;if("bezier"===o.edgeType){var u=r.srcPos,c=r.tgtPos,d=r.srcW,h=r.srcH,v=r.tgtW,y=r.tgtH,m=r.srcShape,b=r.tgtShape,E=!nt(o.startX)||!nt(o.startY),_=!nt(o.arrowStartX)||!nt(o.arrowStartY),x=!nt(o.endX)||!nt(o.endY),S=!nt(o.arrowEndX)||!nt(o.arrowEndY),P=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,k=pa({x:o.ctrlpts[0],y:o.ctrlpts[1]},{x:o.startX,y:o.startY}),O=k<P,B=pa({x:o.ctrlpts[0],y:o.ctrlpts[1]},{x:o.endX,y:o.endY}),G=B<P,q=!1;if(E||_||O){q=!0;var V={x:o.ctrlpts[0]-u.x,y:o.ctrlpts[1]-u.y},W=Math.sqrt(V.x*V.x+V.y*V.y),H={x:V.x/W,y:V.y/W},K=Math.max(d,h),Q={x:o.ctrlpts[0]+2*H.x*K,y:o.ctrlpts[1]+2*H.y*K},U=m.intersectLine(u.x,u.y,d,h,Q.x,Q.y,0);O?(o.ctrlpts[0]=o.ctrlpts[0]+H.x*(P-k),o.ctrlpts[1]=o.ctrlpts[1]+H.y*(P-k)):(o.ctrlpts[0]=U[0]+H.x*P,o.ctrlpts[1]=U[1]+H.y*P)}if(x||S||G){q=!0;var ee={x:o.ctrlpts[0]-c.x,y:o.ctrlpts[1]-c.y},Z=Math.sqrt(ee.x*ee.x+ee.y*ee.y),ae={x:ee.x/Z,y:ee.y/Z},te=Math.max(d,h),ne={x:o.ctrlpts[0]+2*ae.x*te,y:o.ctrlpts[1]+2*ae.y*te},fe=b.intersectLine(c.x,c.y,v,y,ne.x,ne.y,0);G?(o.ctrlpts[0]=o.ctrlpts[0]+ae.x*(P-B),o.ctrlpts[1]=o.ctrlpts[1]+ae.y*(P-B)):(o.ctrlpts[0]=fe[0]+ae.x*P,o.ctrlpts[1]=fe[1]+ae.y*P)}q&&this.findEndpoints(a)}},Zr.storeAllpts=function(a){var r=a._private.rscratch;if("multibezier"===r.edgeType||"bezier"===r.edgeType||"self"===r.edgeType||"compound"===r.edgeType){r.allpts=[],r.allpts.push(r.startX,r.startY);for(var o=0;o+1<r.ctrlpts.length;o+=2)r.allpts.push(r.ctrlpts[o],r.ctrlpts[o+1]),o+3<r.ctrlpts.length&&r.allpts.push((r.ctrlpts[o]+r.ctrlpts[o+2])/2,(r.ctrlpts[o+1]+r.ctrlpts[o+3])/2);var u;r.allpts.push(r.endX,r.endY),r.ctrlpts.length/2%2==0?(r.midX=r.allpts[u=r.allpts.length/2-1],r.midY=r.allpts[u+1]):(r.midX=$r(r.allpts[u=r.allpts.length/2-3],r.allpts[u+2],r.allpts[u+4],.5),r.midY=$r(r.allpts[u+1],r.allpts[u+3],r.allpts[u+5],.5))}else if("straight"===r.edgeType)r.allpts=[r.startX,r.startY,r.endX,r.endY],r.midX=(r.startX+r.endX+r.arrowStartX+r.arrowEndX)/4,r.midY=(r.startY+r.endY+r.arrowStartY+r.arrowEndY)/4;else if("segments"===r.edgeType)if(r.allpts=[],r.allpts.push(r.startX,r.startY),r.allpts.push.apply(r.allpts,r.segpts),r.allpts.push(r.endX,r.endY),r.segpts.length%4==0){var d=r.segpts.length/2,h=d-2;r.midX=(r.segpts[h]+r.segpts[d])/2,r.midY=(r.segpts[h+1]+r.segpts[d+1])/2}else{var v=r.segpts.length/2-1;r.midX=r.segpts[v],r.midY=r.segpts[v+1]}},Zr.checkForInvalidEdgeWarning=function(a){var r=a[0]._private.rscratch;r.nodesOverlap||nt(r.startX)&&nt(r.startY)&&nt(r.endX)&&nt(r.endY)?r.loggedErr=!1:r.loggedErr||(r.loggedErr=!0,Cn("Edge `"+a.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Zr.findEdgeControlPoints=function(a){var r=this;if(a&&0!==a.length){for(var o=this,c=o.cy.hasCompoundNodes(),d={map:new zo,get:function(V){var W=this.map.get(V[0]);return null!=W?W.get(V[1]):null},set:function(V,W){var H=this.map.get(V[0]);null==H&&(H=new zo,this.map.set(V[0],H)),H.set(V[1],W)}},h=[],v=[],y=0;y<a.length;y++){var m=a[y],b=m._private,E=m.pstyle("curve-style").value;if(!m.removed()&&m.takesUpSpace()){if("haystack"===E){v.push(m);continue}var _="unbundled-bezier"===E||"segments"===E||"straight"===E||"straight-triangle"===E||"taxi"===E,x="unbundled-bezier"===E||"bezier"===E,A=b.target,k=[b.source.poolIndex(),A.poolIndex()].sort(),O=d.get(k);null==O&&(d.set(k,O={eles:[]}),h.push(k)),O.eles.push(m),_&&(O.hasUnbundled=!0),x&&(O.hasBezier=!0)}}for(var B=function(V){var H=d.get(h[V]),K=void 0;if(!H.hasUnbundled){var Q=H.eles[0].parallelEdges().filter(function(Nn){return Nn.isBundledBezier()});Df(H.eles),Q.forEach(function(Nn){return H.eles.push(Nn)}),H.eles.sort(function(Nn,Fe){return Nn.poolIndex()-Fe.poolIndex()})}var U=H.eles[0],ee=U.source(),Z=U.target();if(ee.poolIndex()>Z.poolIndex()){var ae=ee;ee=Z,Z=ae}var te=H.srcPos=ee.position(),ne=H.tgtPos=Z.position(),fe=H.srcW=ee.outerWidth(),he=H.srcH=ee.outerHeight(),we=H.tgtW=Z.outerWidth(),de=H.tgtH=Z.outerHeight(),ye=H.srcShape=o.nodeShapes[r.getNodeShape(ee)],Te=H.tgtShape=o.nodeShapes[r.getNodeShape(Z)];H.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Oe=0;Oe<H.eles.length;Oe++){var xe=H.eles[Oe],Me=xe[0]._private.rscratch,le=xe.pstyle("curve-style").value,Ae="unbundled-bezier"===le||"segments"===le||"taxi"===le,Re=!ee.same(xe.source());if(!H.calculatedIntersection&&ee!==Z&&(H.hasBezier||H.hasUnbundled)){H.calculatedIntersection=!0;var je=ye.intersectLine(te.x,te.y,fe,he,ne.x,ne.y,0),Ke=H.srcIntn=je,gt=Te.intersectLine(ne.x,ne.y,we,de,te.x,te.y,0),Ut=H.tgtIntn=gt,rt=H.intersectionPts={x1:je[0],x2:gt[0],y1:je[1],y2:gt[1]},We=H.posPts={x1:te.x,x2:ne.x,y1:te.y,y2:ne.y},$e=gt[1]-je[1],ft=gt[0]-je[0],Ge=Math.sqrt(ft*ft+$e*$e),Xe=H.vector={x:ft,y:$e},nn=H.vectorNorm={x:Xe.x/Ge,y:Xe.y/Ge},Pt={x:-nn.y,y:nn.x};H.nodesOverlap=!nt(Ge)||Te.checkPoint(je[0],je[1],0,we,de,ne.x,ne.y)||ye.checkPoint(gt[0],gt[1],0,fe,he,te.x,te.y),H.vectorNormInverse=Pt,K={nodesOverlap:H.nodesOverlap,dirCounts:H.dirCounts,calculatedIntersection:!0,hasBezier:H.hasBezier,hasUnbundled:H.hasUnbundled,eles:H.eles,srcPos:ne,tgtPos:te,srcW:we,srcH:de,tgtW:fe,tgtH:he,srcIntn:Ut,tgtIntn:Ke,srcShape:Te,tgtShape:ye,posPts:{x1:We.x2,y1:We.y2,x2:We.x1,y2:We.y1},intersectionPts:{x1:rt.x2,y1:rt.y2,x2:rt.x1,y2:rt.y1},vector:{x:-Xe.x,y:-Xe.y},vectorNorm:{x:-nn.x,y:-nn.y},vectorNormInverse:{x:-Pt.x,y:-Pt.y}}}var Et=Re?K:H;Me.nodesOverlap=Et.nodesOverlap,Me.srcIntn=Et.srcIntn,Me.tgtIntn=Et.tgtIntn,c&&(ee.isParent()||ee.isChild()||Z.isParent()||Z.isChild())&&(ee.parents().anySame(Z)||Z.parents().anySame(ee)||ee.same(Z)&&ee.isParent())?r.findCompoundLoopPoints(xe,Et,Oe,Ae):ee===Z?r.findLoopPoints(xe,Et,Oe,Ae):"segments"===le?r.findSegmentsPoints(xe,Et):"taxi"===le?r.findTaxiPoints(xe,Et):"straight"===le||!Ae&&H.eles.length%2==1&&Oe===Math.floor(H.eles.length/2)?r.findStraightEdgePoints(xe):r.findBezierPoints(xe,Et,Oe,Ae,Re),r.findEndpoints(xe),r.tryToCorrectInvalidPoints(xe,Et),r.checkForInvalidEdgeWarning(xe),r.storeAllpts(xe),r.storeEdgeProjections(xe),r.calculateArrowAngles(xe),r.recalculateEdgeLabelProjections(xe),r.calculateLabelAngles(xe)}},G=0;G<h.length;G++)B(G);this.findHaystackPoints(v)}},Zr.getSegmentPoints=function(a){var r=a[0]._private.rscratch;if("segments"===r.edgeType)return this.recalculateRenderedStyle(a),Ih(r.segpts)},Zr.getControlPoints=function(a){var r=a[0]._private.rscratch,o=r.edgeType;if("bezier"===o||"multibezier"===o||"self"===o||"compound"===o)return this.recalculateRenderedStyle(a),Ih(r.ctrlpts)},Zr.getEdgeMidpoint=function(a){var r=a[0]._private.rscratch;return this.recalculateRenderedStyle(a),{x:r.midX,y:r.midY}};var Di={manualEndptToPx:function(a,r){var u=a.position(),c=a.outerWidth(),d=a.outerHeight();if(2===r.value.length){var h=[r.pfValue[0],r.pfValue[1]];return"%"===r.units[0]&&(h[0]=h[0]*c),"%"===r.units[1]&&(h[1]=h[1]*d),h[0]+=u.x,h[1]+=u.y,h}var v=r.pfValue[0];v=-Math.PI/2+v;var y=2*Math.max(c,d),m=[u.x+Math.cos(v)*y,u.y+Math.sin(v)*y];return this.nodeShapes[this.getNodeShape(a)].intersectLine(u.x,u.y,c,d,m[0],m[1],0)},findEndpoints:function(a){var o,K,Q,U,ee,r=this,u=a.source()[0],c=a.target()[0],d=u.position(),h=c.position(),v=a.pstyle("target-arrow-shape").value,y=a.pstyle("source-arrow-shape").value,m=a.pstyle("target-distance-from-node").pfValue,b=a.pstyle("source-distance-from-node").pfValue,E=a.pstyle("curve-style").value,_=a._private.rscratch,x=_.edgeType,A="self"===x||"compound"===x,T="bezier"===x||"multibezier"===x||A,P="bezier"!==x,k="straight"===x||"segments"===x,O="segments"===x,B=T||P||k,G=A||"taxi"===E,q=a.pstyle("source-endpoint"),V=G?"outside-to-node":q.value,W=a.pstyle("target-endpoint"),H=G?"outside-to-node":W.value;if(_.srcManEndpt=q,_.tgtManEndpt=W,T){var Z=[_.ctrlpts[0],_.ctrlpts[1]];K=P?[_.ctrlpts[_.ctrlpts.length-2],_.ctrlpts[_.ctrlpts.length-1]]:Z,Q=Z}else if(k){var te=O?_.segpts.slice(0,2):[h.x,h.y];K=O?_.segpts.slice(_.segpts.length-2):[d.x,d.y],Q=te}if("inside-to-node"===H)o=[h.x,h.y];else if(W.units)o=this.manualEndptToPx(c,W);else if("outside-to-line"===H)o=_.tgtIntn;else if("outside-to-node"===H||"outside-to-node-or-label"===H?U=K:("outside-to-line"===H||"outside-to-line-or-label"===H)&&(U=[d.x,d.y]),o=r.nodeShapes[this.getNodeShape(c)].intersectLine(h.x,h.y,c.outerWidth(),c.outerHeight(),U[0],U[1],0),"outside-to-node-or-label"===H||"outside-to-line-or-label"===H){var fe=c._private.rscratch,de=fe.labelX,ye=fe.labelY,Te=fe.labelWidth/2,Oe=fe.labelHeight/2,xe=c.pstyle("text-valign").value;"top"===xe?ye-=Oe:"bottom"===xe&&(ye+=Oe);var Me=c.pstyle("text-halign").value;"left"===Me?de-=Te:"right"===Me&&(de+=Te);var le=Xu(U[0],U[1],[de-Te,ye-Oe,de+Te,ye-Oe,de+Te,ye+Oe,de-Te,ye+Oe],h.x,h.y);if(le.length>0){var Ae=d,Re=kr(Ae,Yu(o)),je=kr(Ae,Yu(le)),Ke=Re;je<Re&&(o=le,Ke=je),le.length>2&&kr(Ae,{x:le[2],y:le[3]})<Ke&&(o=[le[2],le[3]])}}var Ut=qs(o,K,r.arrowShapes[v].spacing(a)+m),rt=qs(o,K,r.arrowShapes[v].gap(a)+m);if(_.endX=rt[0],_.endY=rt[1],_.arrowEndX=Ut[0],_.arrowEndY=Ut[1],"inside-to-node"===V)o=[d.x,d.y];else if(q.units)o=this.manualEndptToPx(u,q);else if("outside-to-line"===V)o=_.srcIntn;else if("outside-to-node"===V||"outside-to-node-or-label"===V?ee=Q:("outside-to-line"===V||"outside-to-line-or-label"===V)&&(ee=[h.x,h.y]),o=r.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),ee[0],ee[1],0),"outside-to-node-or-label"===V||"outside-to-line-or-label"===V){var We=u._private.rscratch,Ge=We.labelX,Xe=We.labelY,nn=We.labelWidth/2,Pt=We.labelHeight/2,Et=u.pstyle("text-valign").value;"top"===Et?Xe-=Pt:"bottom"===Et&&(Xe+=Pt);var Nn=u.pstyle("text-halign").value;"left"===Nn?Ge-=nn:"right"===Nn&&(Ge+=nn);var Fe=Xu(ee[0],ee[1],[Ge-nn,Xe-Pt,Ge+nn,Xe-Pt,Ge+nn,Xe+Pt,Ge-nn,Xe+Pt],d.x,d.y);if(Fe.length>0){var j=h,ve=kr(j,Yu(o)),Ve=kr(j,Yu(Fe)),Ne=ve;Ve<ve&&(o=[Fe[0],Fe[1]],Ne=Ve),Fe.length>2&&kr(j,{x:Fe[2],y:Fe[3]})<Ne&&(o=[Fe[2],Fe[3]])}}var $t=qs(o,Q,r.arrowShapes[y].spacing(a)+b),Le=qs(o,Q,r.arrowShapes[y].gap(a)+b);_.startX=Le[0],_.startY=Le[1],_.arrowStartX=$t[0],_.arrowStartY=$t[1],B&&(_.badLine=!(nt(_.startX)&&nt(_.startY)&&nt(_.endX)&&nt(_.endY)))},getSourceEndpoint:function(a){var r=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),r.edgeType)?{x:r.haystackPts[0],y:r.haystackPts[1]}:{x:r.arrowStartX,y:r.arrowStartY}},getTargetEndpoint:function(a){var r=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),r.edgeType)?{x:r.haystackPts[2],y:r.haystackPts[3]}:{x:r.arrowEndX,y:r.arrowEndY}}},Qf={};function jc(a,r,o){for(var u=function(m,b,E,_){return $r(m,b,E,_)},d=r._private.rstyle.bezierPts,h=0;h<a.bezierProjPcts.length;h++){var v=a.bezierProjPcts[h];d.push({x:u(o[0],o[2],o[4],v),y:u(o[1],o[3],o[5],v)})}}Qf.storeEdgeProjections=function(a){var r=a._private,o=r.rscratch,u=o.edgeType;if(r.rstyle.bezierPts=null,r.rstyle.linePts=null,r.rstyle.haystackPts=null,"multibezier"===u||"bezier"===u||"self"===u||"compound"===u){r.rstyle.bezierPts=[];for(var c=0;c+5<o.allpts.length;c+=4)jc(this,a,o.allpts.slice(c,c+6))}else if("segments"===u){var d=r.rstyle.linePts=[];for(c=0;c+1<o.allpts.length;c+=2)d.push({x:o.allpts[c],y:o.allpts[c+1]})}else if("haystack"===u){var h=o.haystackPts;r.rstyle.haystackPts=[{x:h[0],y:h[1]},{x:h[2],y:h[3]}]}r.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth},Qf.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};var ho={recalculateNodeLabelProjection:function(a){var r=a.pstyle("label").strValue;if(!Ii(r)){var o,u,c=a._private,d=a.width(),h=a.height(),v=a.padding(),y=a.position(),m=a.pstyle("text-halign").strValue,b=a.pstyle("text-valign").strValue,E=c.rscratch,_=c.rstyle;switch(m){case"left":o=y.x-d/2-v;break;case"right":o=y.x+d/2+v;break;default:o=y.x}switch(b){case"top":u=y.y-h/2-v;break;case"bottom":u=y.y+h/2+v;break;default:u=y.y}E.labelX=o,E.labelY=u,_.labelX=o,_.labelY=u,this.calculateLabelAngles(a),this.applyLabelDimensions(a)}}},No=function(r,o){var u=Math.atan(o/r);return 0===r&&u<0&&(u*=-1),u},Lr=function(r,o){return No(o.x-r.x,o.y-r.y)};ho.recalculateEdgeLabelProjections=function(a){var r,o=a._private,u=o.rscratch,c=this,d={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(d.mid||d.source||d.target){var h=function(E,_,x){ha(o.rscratch,E,_,x),ha(o.rstyle,E,_,x)};h("labelX",null,(r={x:u.midX,y:u.midY}).x),h("labelY",null,r.y);var v=No(u.midDispX,u.midDispY);h("labelAutoAngle",null,v);var y=function b(){if(b.cache)return b.cache;for(var E=[],_=0;_+5<u.allpts.length;_+=4)E.push({p0:{x:u.allpts[_],y:u.allpts[_+1]},p1:{x:u.allpts[_+2],y:u.allpts[_+3]},p2:{x:u.allpts[_+4],y:u.allpts[_+5]},startDist:0,length:0,segments:[]});var T=o.rstyle.bezierPts,P=c.bezierProjPcts.length;function k(V,W,H,K,Q){var U=pa(W,H),ee=V.segments[V.segments.length-1];V.segments.push({p0:W,p1:H,t0:K,t1:Q,startDist:ee?ee.startDist+ee.length:0,length:U}),V.length+=U}for(var O=0;O<E.length;O++){var B=E[O],G=E[O-1];G&&(B.startDist=G.startDist+G.length),k(B,B.p0,T[O*P],0,c.bezierProjPcts[0]);for(var q=0;q<P-1;q++)k(B,T[O*P+q],T[O*P+q+1],c.bezierProjPcts[q],c.bezierProjPcts[q+1]);k(B,T[O*P+P-1],B.p2,c.bezierProjPcts[P-1],1)}return b.cache=E},m=function(E){var _,x="source"===E;if(d[E]){var S=a.pstyle(E+"-text-offset").pfValue;switch(u.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var T,A=y(),P=0,k=0,O=0;O<A.length;O++){for(var B=A[x?O:A.length-1-O],G=0;G<B.segments.length;G++){var q=B.segments[x?G:B.segments.length-1-G];if(P=k,(k+=q.length)>=S||O===A.length-1&&G===B.segments.length-1){T={cp:B,segment:q};break}}if(T)break}var W=T.cp,H=T.segment,K=(S-P)/H.length,Q=H.t1-H.t0,U=x?H.t0+Q*K:H.t1-Q*K;U=oc(0,U,1),r=ss(W.p0,W.p1,W.p2,U),_=function(r,o,u,c){var d=oc(0,c-.001,1),h=oc(0,c+.001,1),v=ss(r,o,u,d),y=ss(r,o,u,h);return Lr(v,y)}(W.p0,W.p1,W.p2,U);break;case"straight":case"segments":case"haystack":for(var Z,ae,te,ne,ee=0,fe=u.allpts.length,he=0;he+3<fe&&(x?(te={x:u.allpts[he],y:u.allpts[he+1]},ne={x:u.allpts[he+2],y:u.allpts[he+3]}):(te={x:u.allpts[fe-2-he],y:u.allpts[fe-1-he]},ne={x:u.allpts[fe-4-he],y:u.allpts[fe-3-he]}),ae=ee,!((ee+=Z=pa(te,ne))>=S));he+=2);var de=(S-ae)/Z;de=oc(0,de,1),r=function(r,o,u,c){var d_x=o.x-r.x,d_y=o.y-r.y,h=pa(r,o);return u=u??0,{x:r.x+d_x/h*(c=c??u*h),y:r.y+d_y/h*c}}(te,ne,de),_=Lr(te,ne)}h("labelX",E,r.x),h("labelY",E,r.y),h("labelAutoAngle",E,_)}};m("source"),m("target"),this.applyLabelDimensions(a)}},ho.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},ho.applyPrefixedLabelDimensions=function(a,r){var o=a._private,u=this.getLabelText(a,r),c=this.calculateLabelDimensions(a,u),d=a.pstyle("line-height").pfValue,h=a.pstyle("text-wrap").strValue,v=zi(o.rscratch,"labelWrapCachedLines",r)||[],y="wrap"!==h?1:Math.max(v.length,1),m=c.height/y,b=m*d,E=c.width,_=c.height+(y-1)*(d-1)*m;ha(o.rstyle,"labelWidth",r,E),ha(o.rscratch,"labelWidth",r,E),ha(o.rstyle,"labelHeight",r,_),ha(o.rscratch,"labelHeight",r,_),ha(o.rscratch,"labelLineHeight",r,b)},ho.getLabelText=function(a,r){var o=a._private,c=a.pstyle((r?r+"-":"")+"label").strValue,d=a.pstyle("text-transform").value,h=function(we,de){return de?(ha(o.rscratch,we,r,de),de):zi(o.rscratch,we,r)};if(!c)return"";"none"==d||("uppercase"==d?c=c.toUpperCase():"lowercase"==d&&(c=c.toLowerCase()));var v=a.pstyle("text-wrap").value;if("wrap"===v){var y=h("labelKey");if(null!=y&&h("labelWrapKey")===y)return h("labelWrapCachedText");for(var b=c.split("\n"),E=a.pstyle("text-max-width").pfValue,x="anywhere"===a.pstyle("text-overflow-wrap").value,S=[],A=/[\s\u200b]+/,T=x?"":" ",P=0;P<b.length;P++){var k=b[P],B=this.calculateLabelDimensions(a,k).width;if(x){var G=k.split("").join("\u200b");k=G}if(B>E){for(var q=k.split(A),V="",W=0;W<q.length;W++){var H=q[W];this.calculateLabelDimensions(a,0===V.length?H:V+T+H).width<=E?V+=H+T:(V&&S.push(V),V=H+T)}V.match(/^[\s\u200b]+$/)||S.push(V)}else S.push(k)}h("labelWrapCachedLines",S),c=h("labelWrapCachedText",S.join("\n")),h("labelWrapKey",y)}else if("ellipsis"===v){var ee=a.pstyle("text-max-width").pfValue,Z="",te=!1;if(this.calculateLabelDimensions(a,c).width<ee)return c;for(var ne=0;ne<c.length&&!(this.calculateLabelDimensions(a,Z+c[ne]+"\u2026").width>ee);ne++)Z+=c[ne],ne===c.length-1&&(te=!0);return te||(Z+="\u2026"),Z}return c},ho.getLabelJustification=function(a){var r=a.pstyle("text-justification").strValue,o=a.pstyle("text-halign").strValue;if("auto"!==r)return r;if(!a.isNode())return"center";switch(o){case"left":return"right";case"right":return"left";default:return"center"}},ho.calculateLabelDimensions=function(a,r){var u=Ho(r,a._private.labelDimsKey),c=this.labelDimCache||(this.labelDimCache=[]),d=c[u];if(null!=d)return d;var v=a.pstyle("font-style").strValue,y=a.pstyle("font-size").pfValue,m=a.pstyle("font-family").strValue,b=a.pstyle("font-weight").strValue,E=this.labelCalcCanvas,_=this.labelCalcCanvasContext;if(!E){E=this.labelCalcCanvas=document.createElement("canvas"),_=this.labelCalcCanvasContext=E.getContext("2d");var x=E.style;x.position="absolute",x.left="-9999px",x.top="-9999px",x.zIndex="-1",x.visibility="hidden",x.pointerEvents="none"}_.font="".concat(v," ").concat(b," ").concat(y,"px ").concat(m);for(var S=0,A=0,T=r.split("\n"),P=0;P<T.length;P++){var O=_.measureText(T[P]),B=Math.ceil(O.width),G=y;S=Math.max(B,S),A+=G}return c[u]={width:S+=0,height:A+=0}},ho.calculateLabelAngle=function(a,r){var u=a._private.rscratch,c=a.isEdge(),h=a.pstyle((r?r+"-":"")+"text-rotation"),v=h.strValue;return"none"===v?0:c&&"autorotate"===v?u.labelAutoAngle:"autorotate"===v?0:h.pfValue},ho.calculateLabelAngles=function(a){var r=this,o=a.isEdge(),c=a._private.rscratch;c.labelAngle=r.calculateLabelAngle(a),o&&(c.sourceLabelAngle=r.calculateLabelAngle(a,"source"),c.targetLabelAngle=r.calculateLabelAngle(a,"target"))};var Th={},Xf=!1;Th.getNodeShape=function(a){var o=a.pstyle("shape").value;if("cutrectangle"===o&&(a.width()<28||a.height()<28))return Xf||(Cn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Xf=!0),"rectangle";if(a.isParent())return"rectangle"===o||"roundrectangle"===o||"round-rectangle"===o||"cutrectangle"===o||"cut-rectangle"===o||"barrel"===o?o:"rectangle";if("polygon"===o){var u=a.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(u).name}return o};var Ma={updateCachedGrabbedEles:function(){var a=this.cachedZSortedEles;if(a){a.drag=[],a.nondrag=[];for(var r=[],o=0;o<a.length;o++){var c=(u=a[o])._private.rscratch;u.grabbed()&&!u.isParent()?r.push(u):c.inDragLayer?a.drag.push(u):a.nondrag.push(u)}for(o=0;o<r.length;o++){var u;a.drag.push(u=r[o])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(a){if(a||!this.cachedZSortedEles){var r=this.cy.mutableElements().toArray();r.sort(Vf),r.interactive=r.filter(function(o){return o.interactive()}),this.cachedZSortedEles=r,this.updateCachedGrabbedEles()}else r=this.cachedZSortedEles;return r}},Jf={};[yu,Cl,Zr,Di,Qf,ho,Th,{registerCalculationListeners:function(){var a=this.cy,r=a.collection(),o=this,u=function(h){var v=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(r.merge(h),v)for(var y=0;y<h.length;y++){var E=h[y]._private.rstyle;E.clean=!1,E.cleanConnected=!1}};o.binder(a).on("bounds.* dirty.*",function(h){u(h.target)}).on("style.* background.*",function(h){u(h.target,!1)});var c=function(h){if(h){var v=o.onUpdateEleCalcsFns;r.cleanStyle();for(var y=0;y<r.length;y++){var m=r[y],b=m._private.rstyle;m.isNode()&&!b.cleanConnected&&(u(m.connectedEdges()),b.cleanConnected=!0)}if(v)for(var E=0;E<v.length;E++)(0,v[E])(h,r);o.recalculateRenderedStyle(r),r=a.collection()}};o.flushRenderedStyleQueue=function(){c(!0)},o.beforeRender(c,o.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(a){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(a)},recalculateRenderedStyle:function(a,r){var o=function(B){return B._private.rstyle.cleanConnected},u=[],c=[];if(!this.destroyed){void 0===r&&(r=!0);for(var d=0;d<a.length;d++){var h=a[d],v=h._private,y=v.rstyle;h.isEdge()&&(!o(h.source())||!o(h.target()))&&(y.clean=!1),!(r&&y.clean||h.removed())&&"none"!==h.pstyle("display").value&&("nodes"===v.group?c.push(h):u.push(h),y.clean=!0)}for(var m=0;m<c.length;m++){var b=c[m],_=b._private.rstyle,x=b.position();this.recalculateNodeLabelProjection(b),_.nodeX=x.x,_.nodeY=x.y,_.nodeW=b.pstyle("width").pfValue,_.nodeH=b.pstyle("height").pfValue}this.recalculateEdgeProjections(u);for(var S=0;S<u.length;S++){var T=u[S]._private,P=T.rstyle,k=T.rscratch;P.srcX=k.arrowStartX,P.srcY=k.arrowStartY,P.tgtX=k.arrowEndX,P.tgtY=k.arrowEndY,P.midX=k.midX,P.midY=k.midY,P.labelAngle=k.labelAngle,P.sourceLabelAngle=k.sourceLabelAngle,P.targetLabelAngle=k.targetLabelAngle}}}},Ma].forEach(function(a){yt(Jf,a)});var wu={getCachedImage:function(a,r,o){var c=this.imageCache=this.imageCache||{},d=c[a];if(d)return d.image.complete||d.image.addEventListener("load",o),d.image;var h=(d=c[a]=c[a]||{}).image=new Image;h.addEventListener("load",o),h.addEventListener("error",function(){h.error=!0});return"data:"===a.substring(0,5).toLowerCase()||(h.crossOrigin=r="null"===r?null:r),h.src=a,h}},po={registerBinding:function(a,r,o,u){var c=Array.prototype.slice.apply(arguments,[1]),d=this.binder(a);return d.on.apply(d,c)},binder:function(a){var r=this,o=r.cy.window(),u=a===o||a===o.document||a===o.document.body||function(r){return!(typeof HTMLElement>"u")&&r instanceof HTMLElement}(a);if(null==r.supportsPassiveEvents){var c=!1;try{var d=Object.defineProperty({},"passive",{get:function(){return c=!0,!0}});o.addEventListener("test",null,d)}catch{}r.supportsPassiveEvents=c}var h=function(y,m,b){var E=Array.prototype.slice.call(arguments);return u&&r.supportsPassiveEvents&&(E[2]={capture:b??!1,passive:!1,once:!1}),r.bindings.push({target:a,args:E}),(a.addEventListener||a.on).apply(a,E),this};return{on:h,addEventListener:h,addListener:h,bind:h}},nodeIsDraggable:function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},nodeIsGrabbable:function(a){return this.nodeIsDraggable(a)&&a.interactive()}};po.load=function(){var a=this,r=a.cy.window(),o=function(j){return j.selected()},u=function(j,ve,Ve,Ne){null==j&&(j=a.cy);for(var be=0;be<ve.length;be++)j.emit({originalEvent:Ve,type:ve[be],position:Ne})},c=function(j){return j.shiftKey||j.metaKey||j.ctrlKey},d=function(j,ve){var Ve=!0;if(a.cy.hasCompoundNodes()&&j&&j.pannable()){for(var Ne=0;ve&&Ne<ve.length;Ne++)if((j=ve[Ne]).isNode()&&j.isParent()&&!j.pannable()){Ve=!1;break}}else Ve=!0;return Ve},y=function(j){j[0]._private.rscratch.inDragLayer=!0},b=function(j){j[0]._private.rscratch.isGrabTarget=!0},_=function(j,ve){var Ve=ve.addToList;!Ve.has(j)&&j.grabbable()&&!j.locked()&&(Ve.merge(j),function(j){j[0]._private.grabbed=!0}(j))},S=function(j,ve){ve=ve||{};var Ve=j.cy().hasCompoundNodes();ve.inDragLayer&&(j.forEach(y),j.neighborhood().stdFilter(function(Ne){return!Ve||Ne.isEdge()}).forEach(y)),ve.addToList&&j.forEach(function(Ne){_(Ne,ve)}),function(j,ve){if(j.cy().hasCompoundNodes()&&(null!=ve.inDragLayer||null!=ve.addToList)){var Ve=j.descendants();ve.inDragLayer&&(Ve.forEach(y),Ve.connectedEdges().forEach(y)),ve.addToList&&_(Ve,ve)}}(j,ve),P(j,{inDragLayer:ve.inDragLayer}),a.updateCachedGrabbedEles()},A=S,T=function(j){j&&(a.getCachedZSortedEles().forEach(function(ve){(function(j){j[0]._private.grabbed=!1})(ve),function(j){j[0]._private.rscratch.inDragLayer=!1}(ve),function(j){j[0]._private.rscratch.isGrabTarget=!1}(ve)}),a.updateCachedGrabbedEles())},P=function(j,ve){if((null!=ve.inDragLayer||null!=ve.addToList)&&j.cy().hasCompoundNodes()){var Ve=j.ancestors().orphans();if(!Ve.same(j)){var Ne=Ve.descendants().spawnSelf().merge(Ve).unmerge(j).unmerge(j.descendants()),be=Ne.connectedEdges();ve.inDragLayer&&(be.forEach(y),Ne.forEach(y)),ve.addToList&&Ne.forEach(function($t){_($t,ve)})}}},k=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},O=typeof MutationObserver<"u",B=typeof ResizeObserver<"u";O?(a.removeObserver=new MutationObserver(function(Fe){for(var j=0;j<Fe.length;j++){var Ve=Fe[j].removedNodes;if(Ve)for(var Ne=0;Ne<Ve.length;Ne++)if(Ve[Ne]===a.container){a.destroy();break}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(Fe){a.destroy()});var G=et.default(function(){a.cy.resize()},100);O&&(a.styleObserver=new MutationObserver(G),a.styleObserver.observe(a.container,{attributes:!0})),a.registerBinding(r,"resize",G),B&&(a.resizeObserver=new ResizeObserver(G),a.resizeObserver.observe(a.container));var V=function(){a.invalidateContainerClientCoordsCache()};(function(j,ve){for(;null!=j;)a.registerBinding(Fe=j,"transitionend",V),a.registerBinding(Fe,"animationend",V),a.registerBinding(Fe,"scroll",V),j=j.parentNode;var Fe})(a.container),a.registerBinding(a.container,"contextmenu",function(Fe){Fe.preventDefault()});var K,Q,U,H=function(j){for(var ve=a.findContainerClientCoords(),Ve=ve[0],Ne=ve[1],be=ve[2],$t=ve[3],Le=j.touches?j.touches:[j],it=!1,wt=0;wt<Le.length;wt++){var Sn=Le[wt];if(Ve<=Sn.clientX&&Sn.clientX<=Ve+be&&Ne<=Sn.clientY&&Sn.clientY<=Ne+$t){it=!0;break}}if(!it)return!1;for(var Yt=a.container,kt=j.target.parentNode,Kt=!1;kt;){if(kt===Yt){Kt=!0;break}kt=kt.parentNode}return!!Kt};a.registerBinding(a.container,"mousedown",function(j){if(H(j)){j.preventDefault(),k(),a.hoverData.capture=!0,a.hoverData.which=j.which;var ve=a.cy,Ve=[j.clientX,j.clientY],Ne=a.projectIntoViewport(Ve[0],Ve[1]),be=a.selection,$t=a.findNearestElements(Ne[0],Ne[1],!0,!1),Le=$t[0],it=a.dragData.possibleDragElements;if(a.hoverData.mdownPos=Ne,a.hoverData.mdownGPos=Ve,3==j.which){a.hoverData.cxtStarted=!0;var Sn={originalEvent:j,type:"cxttapstart",position:{x:Ne[0],y:Ne[1]}};Le?(Le.activate(),Le.emit(Sn),a.hoverData.down=Le):ve.emit(Sn),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1}else if(1==j.which){if(Le&&Le.activate(),null!=Le&&a.nodeIsGrabbable(Le)){var Yt=function(or){return{originalEvent:j,type:or,position:{x:Ne[0],y:Ne[1]}}};if(b(Le),Le.selected()){it=a.dragData.possibleDragElements=ve.collection();var kt=ve.$(function(Kt){return Kt.isNode()&&Kt.selected()&&a.nodeIsGrabbable(Kt)});S(kt,{addToList:it}),Le.emit(Yt("grabon")),kt.forEach(function(or){or.emit(Yt("grab"))})}else it=a.dragData.possibleDragElements=ve.collection(),A(Le,{addToList:it}),Le.emit(Yt("grabon")).emit(Yt("grab"));a.redrawHint("eles",!0),a.redrawHint("drag",!0)}a.hoverData.down=Le,a.hoverData.downs=$t,a.hoverData.downTime=(new Date).getTime(),u(Le,["mousedown","tapstart","vmousedown"],j,{x:Ne[0],y:Ne[1]}),null==Le?(be[4]=1,a.data.bgActivePosistion={x:Ne[0],y:Ne[1]},a.redrawHint("select",!0),a.redraw()):Le.pannable()&&(be[4]=1),a.hoverData.tapholdCancelled=!1,clearTimeout(a.hoverData.tapholdTimeout),a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var or=a.hoverData.down;or?or.emit({originalEvent:j,type:"taphold",position:{x:Ne[0],y:Ne[1]}}):ve.emit({originalEvent:j,type:"taphold",position:{x:Ne[0],y:Ne[1]}})}},a.tapholdDuration)}be[0]=be[2]=Ne[0],be[1]=be[3]=Ne[1]}},!1),a.registerBinding(r,"mousemove",function(j){var Oo;if(a.hoverData.capture||H(j)){var Ve=!1,Ne=a.cy,be=Ne.zoom(),$t=[j.clientX,j.clientY],Le=a.projectIntoViewport($t[0],$t[1]),it=a.hoverData.mdownPos,wt=a.hoverData.mdownGPos,Sn=a.selection,Yt=null;!a.hoverData.draggingEles&&!a.hoverData.dragging&&!a.hoverData.selecting&&(Yt=a.findNearestElement(Le[0],Le[1],!0,!1));var Mr,pn=a.hoverData.last,kt=a.hoverData.down,Kt=[Le[0]-Sn[2],Le[1]-Sn[3]],or=a.dragData.possibleDragElements;if(wt){var to=$t[0]-wt[0],ur=$t[1]-wt[1];a.hoverData.isOverThresholdDrag=Mr=to*to+ur*ur>=a.desktopTapThreshold2}var wo=c(j);Mr&&(a.hoverData.tapholdCancelled=!0),Ve=!0,u(Yt,["mousemove","vmousemove","tapdrag"],j,{x:Le[0],y:Le[1]});var ko=function(){a.data.bgActivePosistion=void 0,a.hoverData.selecting||Ne.emit({originalEvent:j,type:"boxstart",position:{x:Le[0],y:Le[1]}}),Sn[4]=1,a.hoverData.selecting=!0,a.redrawHint("select",!0),a.redraw()};if(3===a.hoverData.which){if(Mr){var Qa={originalEvent:j,type:"cxtdrag",position:{x:Le[0],y:Le[1]}};kt?kt.emit(Qa):Ne.emit(Qa),a.hoverData.cxtDragged=!0,(!a.hoverData.cxtOver||Yt!==a.hoverData.cxtOver)&&(a.hoverData.cxtOver&&a.hoverData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:Le[0],y:Le[1]}}),a.hoverData.cxtOver=Yt,Yt&&Yt.emit({originalEvent:j,type:"cxtdragover",position:{x:Le[0],y:Le[1]}}))}}else if(a.hoverData.dragging){if(Ve=!0,Ne.panningEnabled()&&Ne.userPanningEnabled()){var Cs;if(a.hoverData.justStartedPan){var _s=a.hoverData.mdownPos;Cs={x:(Le[0]-_s[0])*be,y:(Le[1]-_s[1])*be},a.hoverData.justStartedPan=!1}else Cs={x:Kt[0]*be,y:Kt[1]*be};Ne.panBy(Cs),Ne.emit("dragpan"),a.hoverData.dragged=!0}Le=a.projectIntoViewport(j.clientX,j.clientY)}else if(1!=Sn[4]||null!=kt&&!kt.pannable()){if(kt&&kt.pannable()&&kt.active()&&kt.unactivate(),(!kt||!kt.grabbed())&&Yt!=pn&&(pn&&u(pn,["mouseout","tapdragout"],j,{x:Le[0],y:Le[1]}),Yt&&u(Yt,["mouseover","tapdragover"],j,{x:Le[0],y:Le[1]}),a.hoverData.last=Yt),kt)if(Mr){if(Ne.boxSelectionEnabled()&&wo)kt&&kt.grabbed()&&(T(or),kt.emit("freeon"),or.emit("free"),a.dragData.didDrag&&(kt.emit("dragfreeon"),or.emit("dragfree"))),ko();else if(kt&&kt.grabbed()&&a.nodeIsDraggable(kt)){var Vr=!a.dragData.didDrag;Vr&&a.redrawHint("eles",!0),a.dragData.didDrag=!0,a.hoverData.draggingEles||S(or,{inDragLayer:!0});var oi={x:0,y:0};if(nt(Kt[0])&&nt(Kt[1])&&(oi.x+=Kt[0],oi.y+=Kt[1],Vr)){var pr=a.hoverData.dragDelta;pr&&nt(pr[0])&&nt(pr[1])&&(oi.x+=pr[0],oi.y+=pr[1])}a.hoverData.draggingEles=!0,or.silentShift(oi).emit("position drag"),a.redrawHint("drag",!0),a.redraw()}}else 0===(Oo=a.hoverData.dragDelta=a.hoverData.dragDelta||[]).length?(Oo.push(Kt[0]),Oo.push(Kt[1])):(Oo[0]+=Kt[0],Oo[1]+=Kt[1]);Ve=!0}else Mr&&(a.hoverData.dragging||!Ne.boxSelectionEnabled()||!wo&&Ne.panningEnabled()&&Ne.userPanningEnabled()?!a.hoverData.selecting&&Ne.panningEnabled()&&Ne.userPanningEnabled()&&d(kt,a.hoverData.downs)&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,Sn[4]=0,a.data.bgActivePosistion=Yu(it),a.redrawHint("select",!0),a.redraw()):ko(),kt&&kt.pannable()&&kt.active()&&kt.unactivate());if(Sn[2]=Le[0],Sn[3]=Le[1],Ve)return j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault(),!1}},!1),a.registerBinding(r,"mouseup",function(j){if(a.hoverData.capture){a.hoverData.capture=!1;var Ve=a.cy,Ne=a.projectIntoViewport(j.clientX,j.clientY),be=a.selection,$t=a.findNearestElement(Ne[0],Ne[1],!0,!1),Le=a.dragData.possibleDragElements,it=a.hoverData.down,wt=c(j);if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,it&&it.unactivate(),3===a.hoverData.which){var Sn={originalEvent:j,type:"cxttapend",position:{x:Ne[0],y:Ne[1]}};if(it?it.emit(Sn):Ve.emit(Sn),!a.hoverData.cxtDragged){var Yt={originalEvent:j,type:"cxttap",position:{x:Ne[0],y:Ne[1]}};it?it.emit(Yt):Ve.emit(Yt)}a.hoverData.cxtDragged=!1,a.hoverData.which=null}else if(1===a.hoverData.which){if(u($t,["mouseup","tapend","vmouseup"],j,{x:Ne[0],y:Ne[1]}),!a.dragData.didDrag&&!a.hoverData.dragged&&!a.hoverData.selecting&&!a.hoverData.isOverThresholdDrag&&(u(it,["click","tap","vclick"],j,{x:Ne[0],y:Ne[1]}),Q=!1,j.timeStamp-U<=Ve.multiClickDebounceTime()?(K&&clearTimeout(K),Q=!0,U=null,u(it,["dblclick","dbltap","vdblclick"],j,{x:Ne[0],y:Ne[1]})):(K=setTimeout(function(){Q||u(it,["oneclick","onetap","voneclick"],j,{x:Ne[0],y:Ne[1]})},Ve.multiClickDebounceTime()),U=j.timeStamp)),null==it&&!a.dragData.didDrag&&!a.hoverData.selecting&&!a.hoverData.dragged&&!c(j)&&(Ve.$(o).unselect(["tapunselect"]),Le.length>0&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=Le=Ve.collection()),$t==it&&!a.dragData.didDrag&&!a.hoverData.selecting&&null!=$t&&$t._private.selectable&&(a.hoverData.dragging||("additive"===Ve.selectionType()||wt?$t.selected()?$t.unselect(["tapunselect"]):$t.select(["tapselect"]):wt||(Ve.$(o).unmerge($t).unselect(["tapunselect"]),$t.select(["tapselect"]))),a.redrawHint("eles",!0)),a.hoverData.selecting){var pn=Ve.collection(a.getAllInBox(be[0],be[1],be[2],be[3]));a.redrawHint("select",!0),pn.length>0&&a.redrawHint("eles",!0),Ve.emit({type:"boxend",originalEvent:j,position:{x:Ne[0],y:Ne[1]}}),"additive"===Ve.selectionType()||wt||Ve.$(o).unmerge(pn).unselect(),pn.emit("box").stdFilter(function(Mr){return Mr.selectable()&&!Mr.selected()}).select().emit("boxselect"),a.redraw()}if(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),!be[4]){a.redrawHint("drag",!0),a.redrawHint("eles",!0);var Kt=it&&it.grabbed();T(Le),Kt&&(it.emit("freeon"),Le.emit("free"),a.dragData.didDrag&&(it.emit("dragfreeon"),Le.emit("dragfree")))}}be[4]=0,a.hoverData.down=null,a.hoverData.cxtStarted=!1,a.hoverData.draggingEles=!1,a.hoverData.selecting=!1,a.hoverData.isOverThresholdDrag=!1,a.dragData.didDrag=!1,a.hoverData.dragged=!1,a.hoverData.dragDelta=[],a.hoverData.mdownPos=null,a.hoverData.mdownGPos=null}},!1);var ee=function(j){if(!a.scrollingPage){var ve=a.cy,Ve=ve.zoom(),Ne=ve.pan(),be=a.projectIntoViewport(j.clientX,j.clientY),$t=[be[0]*Ve+Ne.x,be[1]*Ve+Ne.y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||0!==a.selection[4])return void j.preventDefault();if(ve.panningEnabled()&&ve.userPanningEnabled()&&ve.zoomingEnabled()&&ve.userZoomingEnabled()){var Le;j.preventDefault(),a.data.wheelZooming=!0,clearTimeout(a.data.wheelTimeout),a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1,a.redrawHint("eles",!0),a.redraw()},150),Le=null!=j.deltaY?j.deltaY/-250:null!=j.wheelDeltaY?j.wheelDeltaY/1e3:j.wheelDelta/1e3,Le*=a.wheelSensitivity,1===j.deltaMode&&(Le*=33);var wt=ve.zoom()*Math.pow(10,Le);"gesturechange"===j.type&&(wt=a.gestureStartZoom*j.scale),ve.zoom({level:wt,renderedPosition:{x:$t[0],y:$t[1]}}),ve.emit("gesturechange"===j.type?"pinchzoom":"scrollzoom")}}};a.registerBinding(a.container,"wheel",ee,!0),a.registerBinding(r,"scroll",function(j){a.scrollingPage=!0,clearTimeout(a.scrollingPageTimeout),a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0),a.registerBinding(a.container,"gesturestart",function(j){a.gestureStartZoom=a.cy.zoom(),a.hasTouchStarted||j.preventDefault()},!0),a.registerBinding(a.container,"gesturechange",function(Fe){a.hasTouchStarted||ee(Fe)},!0),a.registerBinding(a.container,"mouseout",function(j){var ve=a.projectIntoViewport(j.clientX,j.clientY);a.cy.emit({originalEvent:j,type:"mouseout",position:{x:ve[0],y:ve[1]}})},!1),a.registerBinding(a.container,"mouseover",function(j){var ve=a.projectIntoViewport(j.clientX,j.clientY);a.cy.emit({originalEvent:j,type:"mouseover",position:{x:ve[0],y:ve[1]}})},!1);var Z,ae,te,ne,fe,he,we,de,ye,Te,Oe,xe,Me,Re,je,Ke,gt,Ut,rt,We,le=function(j,ve,Ve,Ne){return Math.sqrt((Ve-j)*(Ve-j)+(Ne-ve)*(Ne-ve))},Ae=function(j,ve,Ve,Ne){return(Ve-j)*(Ve-j)+(Ne-ve)*(Ne-ve)};if(a.registerBinding(a.container,"touchstart",Re=function(j){if(a.hasTouchStarted=!0,H(j)){k(),a.touchData.capture=!0,a.data.bgActivePosistion=void 0;var ve=a.cy,Ve=a.touchData.now,Ne=a.touchData.earlier;if(j.touches[0]){var be=a.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);Ve[0]=be[0],Ve[1]=be[1]}if(j.touches[1]&&(be=a.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY),Ve[2]=be[0],Ve[3]=be[1]),j.touches[2]&&(be=a.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY),Ve[4]=be[0],Ve[5]=be[1]),j.touches[1]){a.touchData.singleTouchMoved=!0,T(a.dragData.touchDragEles);var $t=a.findContainerClientCoords();Oe=$t[2],xe=$t[3],ae=j.touches[0].clientY-(Te=$t[1]),te=j.touches[1].clientX-(ye=$t[0]),ne=j.touches[1].clientY-Te,Me=0<=(Z=j.touches[0].clientX-ye)&&Z<=Oe&&0<=te&&te<=Oe&&0<=ae&&ae<=xe&&0<=ne&&ne<=xe;var Le=ve.pan(),it=ve.zoom();if(fe=le(Z,ae,te,ne),he=Ae(Z,ae,te,ne),de=[((we=[(Z+te)/2,(ae+ne)/2])[0]-Le.x)/it,(we[1]-Le.y)/it],he<4e4&&!j.touches[2]){var Yt=a.findNearestElement(Ve[0],Ve[1],!0,!0),pn=a.findNearestElement(Ve[2],Ve[3],!0,!0);return Yt&&Yt.isNode()?(Yt.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:Ve[0],y:Ve[1]}}),a.touchData.start=Yt):pn&&pn.isNode()?(pn.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:Ve[0],y:Ve[1]}}),a.touchData.start=pn):ve.emit({originalEvent:j,type:"cxttapstart",position:{x:Ve[0],y:Ve[1]}}),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}}if(j.touches[2])ve.boxSelectionEnabled()&&j.preventDefault();else if(!j.touches[1]&&j.touches[0]){var kt=a.findNearestElements(Ve[0],Ve[1],!0,!0),Kt=kt[0];if(null!=Kt&&(Kt.activate(),a.touchData.start=Kt,a.touchData.starts=kt,a.nodeIsGrabbable(Kt))){var or=a.dragData.touchDragEles=ve.collection(),Mr=null;a.redrawHint("eles",!0),a.redrawHint("drag",!0),Kt.selected()?(Mr=ve.$(function(ii){return ii.selected()&&a.nodeIsGrabbable(ii)}),S(Mr,{addToList:or})):A(Kt,{addToList:or}),b(Kt);var to=function(wo){return{originalEvent:j,type:wo,position:{x:Ve[0],y:Ve[1]}}};Kt.emit(to("grabon")),Mr?Mr.forEach(function(ii){ii.emit(to("grab"))}):Kt.emit(to("grab"))}u(Kt,["touchstart","tapstart","vmousedown"],j,{x:Ve[0],y:Ve[1]}),null==Kt&&(a.data.bgActivePosistion={x:be[0],y:be[1]},a.redrawHint("select",!0),a.redraw()),a.touchData.singleTouchMoved=!1,a.touchData.singleTouchStartTime=+new Date,clearTimeout(a.touchData.tapholdTimeout),a.touchData.tapholdTimeout=setTimeout(function(){!1===a.touchData.singleTouchMoved&&!a.pinching&&!a.touchData.selecting&&u(a.touchData.start,["taphold"],j,{x:Ve[0],y:Ve[1]})},a.tapholdDuration)}if(j.touches.length>=1){for(var ri=a.touchData.startPosition=[null,null,null,null,null,null],ur=0;ur<Ve.length;ur++)ri[ur]=Ne[ur]=Ve[ur];var yo=j.touches[0];a.touchData.startGPosition=[yo.clientX,yo.clientY]}}},!1),a.registerBinding(window,"touchmove",je=function(j){var ve=a.touchData.capture;if(ve||H(j)){var Ve=a.selection,Ne=a.cy,be=a.touchData.now,$t=a.touchData.earlier,Le=Ne.zoom();if(j.touches[0]){var it=a.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);be[0]=it[0],be[1]=it[1]}j.touches[1]&&(it=a.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY),be[2]=it[0],be[3]=it[1]),j.touches[2]&&(it=a.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY),be[4]=it[0],be[5]=it[1]);var Sn,wt=a.touchData.startGPosition;if(ve&&j.touches[0]&&wt){for(var Yt=[],pn=0;pn<be.length;pn++)Yt[pn]=be[pn]-$t[pn];var kt=j.touches[0].clientX-wt[0],or=j.touches[0].clientY-wt[1];Sn=kt*kt+or*or>=a.touchTapThreshold2}if(ve&&a.touchData.cxt){j.preventDefault();var wo=Ae(ri=j.touches[0].clientX-ye,ur=j.touches[0].clientY-Te,yo=j.touches[1].clientX-ye,ii=j.touches[1].clientY-Te);if(wo/he>=2.25||wo>=22500){a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Aa={originalEvent:j,type:"cxttapend",position:{x:be[0],y:be[1]}};a.touchData.start?(a.touchData.start.unactivate().emit(Aa),a.touchData.start=null):Ne.emit(Aa)}}if(ve&&a.touchData.cxt){Aa={originalEvent:j,type:"cxtdrag",position:{x:be[0],y:be[1]}},a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.touchData.start?a.touchData.start.emit(Aa):Ne.emit(Aa),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxtDragged=!0;var Vr=a.findNearestElement(be[0],be[1],!0,!0);(!a.touchData.cxtOver||Vr!==a.touchData.cxtOver)&&(a.touchData.cxtOver&&a.touchData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:be[0],y:be[1]}}),a.touchData.cxtOver=Vr,Vr&&Vr.emit({originalEvent:j,type:"cxtdragover",position:{x:be[0],y:be[1]}}))}else if(ve&&j.touches[2]&&Ne.boxSelectionEnabled())j.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||Ne.emit({originalEvent:j,type:"boxstart",position:{x:be[0],y:be[1]}}),a.touchData.selecting=!0,a.touchData.didSelect=!0,Ve[4]=1,Ve&&0!==Ve.length&&void 0!==Ve[0]?(Ve[2]=(be[0]+be[2]+be[4])/3,Ve[3]=(be[1]+be[3]+be[5])/3):(Ve[0]=(be[0]+be[2]+be[4])/3,Ve[1]=(be[1]+be[3]+be[5])/3,Ve[2]=(be[0]+be[2]+be[4])/3+1,Ve[3]=(be[1]+be[3]+be[5])/3+1),a.redrawHint("select",!0),a.redraw();else if(ve&&j.touches[1]&&!a.touchData.didSelect&&Ne.zoomingEnabled()&&Ne.panningEnabled()&&Ne.userZoomingEnabled()&&Ne.userPanningEnabled()){if(j.preventDefault(),a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),oi=a.dragData.touchDragEles){a.redrawHint("drag",!0);for(var pr=0;pr<oi.length;pr++){var Gt=oi[pr]._private;Gt.grabbed=!1,Gt.rscratch.inDragLayer=!1}}var ri,ur,yo,ii,Oo=a.touchData.start,_i=le(ri=j.touches[0].clientX-ye,ur=j.touches[0].clientY-Te,yo=j.touches[1].clientX-ye,ii=j.touches[1].clientY-Te),Vh=_i/fe;if(Me){var Nl=(ri-Z+(yo-te))/2,$h=(ur-ae+(ii-ne))/2,Ru=Ne.zoom(),md=Ru*Vh,Qc=Ne.pan(),Hh=de[0]*Ru+Qc.x,zh=de[1]*Ru+Qc.y,gg={x:-md/Ru*(Hh-Qc.x-Nl)+Hh,y:-md/Ru*(zh-Qc.y-$h)+zh};Oo&&Oo.active()&&(T(oi=a.dragData.touchDragEles),a.redrawHint("drag",!0),a.redrawHint("eles",!0),Oo.unactivate().emit("freeon"),oi.emit("free"),a.dragData.didDrag&&(Oo.emit("dragfreeon"),oi.emit("dragfree"))),Ne.viewport({zoom:md,pan:gg,cancelOnFailedZoom:!0}),Ne.emit("pinchzoom"),fe=_i,Z=ri,ae=ur,te=yo,ne=ii,a.pinching=!0}j.touches[0]&&(it=a.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY),be[0]=it[0],be[1]=it[1]),j.touches[1]&&(it=a.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY),be[2]=it[0],be[3]=it[1]),j.touches[2]&&(it=a.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY),be[4]=it[0],be[5]=it[1])}else if(j.touches[0]&&!a.touchData.didSelect){var Kr=a.touchData.start,Ss=a.touchData.last;if(!a.hoverData.draggingEles&&!a.swipePanning&&(Vr=a.findNearestElement(be[0],be[1],!0,!0)),ve&&null!=Kr&&j.preventDefault(),ve&&null!=Kr&&a.nodeIsDraggable(Kr))if(Sn){var oi=a.dragData.touchDragEles,Uh=!a.dragData.didDrag;Uh&&S(oi,{inDragLayer:!0}),a.dragData.didDrag=!0;var Xc={x:0,y:0};nt(Yt[0])&&nt(Yt[1])&&(Xc.x+=Yt[0],Xc.y+=Yt[1],Uh)&&(a.redrawHint("eles",!0),(ia=a.touchData.dragDelta)&&nt(ia[0])&&nt(ia[1])&&(Xc.x+=ia[0],Xc.y+=ia[1])),a.hoverData.draggingEles=!0,oi.silentShift(Xc).emit("position drag"),a.redrawHint("drag",!0),a.touchData.startPosition[0]==$t[0]&&a.touchData.startPosition[1]==$t[1]&&a.redrawHint("eles",!0),a.redraw()}else{var ia;0===(ia=a.touchData.dragDelta=a.touchData.dragDelta||[]).length?(ia.push(Yt[0]),ia.push(Yt[1])):(ia[0]+=Yt[0],ia[1]+=Yt[1])}if(u(Kr||Vr,["touchmove","tapdrag","vmousemove"],j,{x:be[0],y:be[1]}),(!Kr||!Kr.grabbed())&&Vr!=Ss&&(Ss&&Ss.emit({originalEvent:j,type:"tapdragout",position:{x:be[0],y:be[1]}}),Vr&&Vr.emit({originalEvent:j,type:"tapdragover",position:{x:be[0],y:be[1]}})),a.touchData.last=Vr,ve)for(pr=0;pr<be.length;pr++)be[pr]&&a.touchData.startPosition[pr]&&Sn&&(a.touchData.singleTouchMoved=!0);ve&&(null==Kr||Kr.pannable())&&Ne.panningEnabled()&&Ne.userPanningEnabled()&&(d(Kr,a.touchData.starts)&&(j.preventDefault(),a.data.bgActivePosistion||(a.data.bgActivePosistion=Yu(a.touchData.startPosition)),a.swipePanning?(Ne.panBy({x:Yt[0]*Le,y:Yt[1]*Le}),Ne.emit("dragpan")):Sn&&(a.swipePanning=!0,Ne.panBy({x:kt*Le,y:or*Le}),Ne.emit("dragpan"),Kr&&(Kr.unactivate(),a.redrawHint("select",!0),a.touchData.start=null))),it=a.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY),be[0]=it[0],be[1]=it[1])}for(pn=0;pn<be.length;pn++)$t[pn]=be[pn];ve&&j.touches.length>0&&!a.hoverData.draggingEles&&!a.swipePanning&&null!=a.data.bgActivePosistion&&(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.redraw())}},!1),a.registerBinding(r,"touchcancel",Ke=function(j){var ve=a.touchData.start;a.touchData.capture=!1,ve&&ve.unactivate()}),a.registerBinding(r,"touchend",gt=function(j){var ve=a.touchData.start;if(a.touchData.capture){0===j.touches.length&&(a.touchData.capture=!1),j.preventDefault();var Ne=a.selection;a.swipePanning=!1,a.hoverData.draggingEles=!1;var Sn,be=a.cy,$t=be.zoom(),Le=a.touchData.now,it=a.touchData.earlier;if(j.touches[0]){var wt=a.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);Le[0]=wt[0],Le[1]=wt[1]}if(j.touches[1]&&(wt=a.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY),Le[2]=wt[0],Le[3]=wt[1]),j.touches[2]&&(wt=a.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY),Le[4]=wt[0],Le[5]=wt[1]),ve&&ve.unactivate(),a.touchData.cxt){if(Sn={originalEvent:j,type:"cxttapend",position:{x:Le[0],y:Le[1]}},ve?ve.emit(Sn):be.emit(Sn),!a.touchData.cxtDragged){var Yt={originalEvent:j,type:"cxttap",position:{x:Le[0],y:Le[1]}};ve?ve.emit(Yt):be.emit(Yt)}return a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw()}if(!j.touches[2]&&be.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;var pn=be.collection(a.getAllInBox(Ne[0],Ne[1],Ne[2],Ne[3]));Ne[0]=void 0,Ne[1]=void 0,Ne[2]=void 0,Ne[3]=void 0,Ne[4]=0,a.redrawHint("select",!0),be.emit({type:"boxend",originalEvent:j,position:{x:Le[0],y:Le[1]}}),pn.emit("box").stdFilter(function(Qa){return Qa.selectable()&&!Qa.selected()}).select().emit("boxselect"),pn.nonempty()&&a.redrawHint("eles",!0),a.redraw()}if(ve?.unactivate(),j.touches[2])a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);else if(!j.touches[1]&&!j.touches[0]&&!j.touches[0]){a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Kt=a.dragData.touchDragEles;if(null!=ve){var or=ve._private.grabbed;T(Kt),a.redrawHint("drag",!0),a.redrawHint("eles",!0),or&&(ve.emit("freeon"),Kt.emit("free"),a.dragData.didDrag&&(ve.emit("dragfreeon"),Kt.emit("dragfree"))),u(ve,["touchend","tapend","vmouseup","tapdragout"],j,{x:Le[0],y:Le[1]}),ve.unactivate(),a.touchData.start=null}else{var Mr=a.findNearestElement(Le[0],Le[1],!0,!0);u(Mr,["touchend","tapend","vmouseup","tapdragout"],j,{x:Le[0],y:Le[1]})}var to=a.touchData.startPosition[0]-Le[0],ur=a.touchData.startPosition[1]-Le[1],wo=(to*to+ur*ur)*$t*$t;a.touchData.singleTouchMoved||(ve||be.$(":selected").unselect(["tapunselect"]),u(ve,["tap","vclick"],j,{x:Le[0],y:Le[1]}),Ut=!1,j.timeStamp-We<=be.multiClickDebounceTime()?(rt&&clearTimeout(rt),Ut=!0,We=null,u(ve,["dbltap","vdblclick"],j,{x:Le[0],y:Le[1]})):(rt=setTimeout(function(){Ut||u(ve,["onetap","voneclick"],j,{x:Le[0],y:Le[1]})},be.multiClickDebounceTime()),We=j.timeStamp)),null!=ve&&!a.dragData.didDrag&&ve._private.selectable&&wo<a.touchTapThreshold2&&!a.pinching&&("single"===be.selectionType()?(be.$(o).unmerge(ve).unselect(["tapunselect"]),ve.select(["tapselect"])):ve.selected()?ve.unselect(["tapunselect"]):ve.select(["tapselect"]),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved=!0}for(var Ir=0;Ir<Le.length;Ir++)it[Ir]=Le[Ir];a.dragData.didDrag=!1,0===j.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=[null,null,null,null,null,null],a.touchData.startGPosition=null,a.touchData.didSelect=!1),j.touches.length<2&&(1===j.touches.length&&(a.touchData.startGPosition=[j.touches[0].clientX,j.touches[0].clientY]),a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),typeof TouchEvent>"u"){var $e=[],ft=function(j){return{clientX:j.clientX,clientY:j.clientY,force:1,identifier:j.pointerId,pageX:j.pageX,pageY:j.pageY,radiusX:j.width/2,radiusY:j.height/2,screenX:j.screenX,screenY:j.screenY,target:j.target}},nn=function(j){for(var ve=0;ve<$e.length;ve++)if($e[ve].event.pointerId===j.pointerId)return void $e.splice(ve,1)},Et=function(j){j.touches=$e.map(function(ve){return ve.touch})},Nn=function(j){return"mouse"===j.pointerType||4===j.pointerType};a.registerBinding(a.container,"pointerdown",function(Fe){Nn(Fe)||(Fe.preventDefault(),$e.push(function(j){return{event:j,touch:ft(j)}}(Fe)),Et(Fe),Re(Fe))}),a.registerBinding(a.container,"pointerup",function(Fe){Nn(Fe)||(nn(Fe),Et(Fe),gt(Fe))}),a.registerBinding(a.container,"pointercancel",function(Fe){Nn(Fe)||(nn(Fe),Et(Fe),Ke())}),a.registerBinding(a.container,"pointermove",function(Fe){var j,ve;Nn(Fe)||(Fe.preventDefault(),j=Fe,(ve=$e.filter(function(Ve){return Ve.event.pointerId===j.pointerId})[0]).event=j,ve.touch=ft(j),Et(Fe),je(Fe))})}};var Ia={generatePolygon:function(a,r){return this.nodeShapes[a]={renderer:this,name:a,points:r,draw:function(u,c,d,h,v){this.renderer.nodeShapeImpl("polygon",u,c,d,h,v,this.points)},intersectLine:function(u,c,d,h,v,y,m){return Xu(v,y,this.points,u,c,d/2,h/2,m)},checkPoint:function(u,c,d,h,v,y,m){return Gi(u,c,this.points,y,m,h,v,[0,-1],d)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},intersectLine:function(r,o,u,c,d,h,v){return function(r,o,u,c,d,h){var v=u-r,y=c-o;v/=d,y/=h;var m=Math.sqrt(v*v+y*y),b=m-1;if(b<0)return[];var E=b/m;return[(u-r)*E+r,(c-o)*E+o]}(d,h,r,o,u/2+v,c/2+v)},checkPoint:function(r,o,u,c,d,h,v){return mr(r,o,c,d,h,v,u)}}},generateRoundPolygon:function(a,r){for(var o=new Array(2*r.length),u=0;u<r.length/2;u++){var d,c=2*u;d=u<r.length/2-1?2*(u+1):0,o[4*u]=r[c],o[4*u+1]=r[c+1];var h=r[d]-r[c],v=r[d+1]-r[c+1],y=Math.sqrt(h*h+v*v);o[4*u+2]=h/y,o[4*u+3]=v/y}return this.nodeShapes[a]={renderer:this,name:a,points:o,draw:function(b,E,_,x,S){this.renderer.nodeShapeImpl("round-polygon",b,E,_,x,S,this.points)},intersectLine:function(b,E,_,x,S,A,T){return function(r,o,u,c,d,h,v,y){for(var b,m=[],E=new Array(u.length),_=h/2,x=v/2,S=Ju(h,v),A=0;A<u.length/4;A++){var P,T;T=0===A?u.length-2:4*A-2,P=4*A+2;var k=c+_*u[4*A],O=d+x*u[4*A+1],G=S/Math.tan(Math.acos(-u[T]*u[P]-u[T+1]*u[P+1])/2),q=k-G*u[T],V=O-G*u[T+1],W=k+G*u[P],H=O+G*u[P+1];0===A?(E[u.length-2]=q,E[u.length-1]=V):(E[4*A-2]=q,E[4*A-1]=V),E[4*A]=W,E[4*A+1]=H;var K=u[T+1],Q=-u[T];K*u[P]+Q*u[P+1]<0&&(K*=-1,Q*=-1),0!==(b=Ws(r,o,c,d,q+K*S,V+Q*S,S)).length&&m.push(b[0],b[1])}for(var ae=0;ae<E.length/4;ae++)0!==(b=ga(r,o,c,d,E[4*ae],E[4*ae+1],E[4*ae+2],E[4*ae+3],!1)).length&&m.push(b[0],b[1]);if(m.length>2){for(var te=[m[0],m[1]],ne=Math.pow(te[0]-r,2)+Math.pow(te[1]-o,2),fe=1;fe<m.length/2;fe++){var he=Math.pow(m[2*fe]-r,2)+Math.pow(m[2*fe+1]-o,2);he<=ne&&(te[0]=m[2*fe],te[1]=m[2*fe+1],ne=he)}return te}return m}(S,A,this.points,b,E,_,x)},checkPoint:function(b,E,_,x,S,A,T){return function(r,o,u,c,d,h,v){for(var y=new Array(u.length),m=h/2,b=v/2,E=Ju(h,v),_=E*E,x=0;x<u.length/4;x++){var A,S;S=0===x?u.length-2:4*x-2,A=4*x+2;var T=c+m*u[4*x],P=d+b*u[4*x+1],O=E/Math.tan(Math.acos(-u[S]*u[A]-u[S+1]*u[A+1])/2),B=T-O*u[S],G=P-O*u[S+1],q=T+O*u[A],V=P+O*u[A+1];y[4*x]=B,y[4*x+1]=G,y[4*x+2]=q,y[4*x+3]=V;var W=u[S+1],H=-u[S];W*u[A]+H*u[A+1]<0&&(W*=-1,H*=-1);var U=G+H*E;if(Math.pow(B+W*E-r,2)+Math.pow(U-o,2)<=_)return!0}return Hr(r,o,y)}(b,E,this.points,A,T,x,S)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:li(4,0),draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},intersectLine:function(r,o,u,c,d,h,v){return Rn(d,h,r,o,u,c,v)},checkPoint:function(r,o,u,c,d,h,v){var y=Oa(c,d),m=2*y;return!!(Gi(r,o,this.points,h,v,c,d-m,[0,-1],u)||Gi(r,o,this.points,h,v,c-m,d,[0,-1],u)||mr(r,o,m,m,h-c/2+y,v-d/2+y,u)||mr(r,o,m,m,h+c/2-y,v-d/2+y,u)||mr(r,o,m,m,h+c/2-y,v+d/2-y,u)||mr(r,o,m,m,h-c/2+y,v+d/2-y,u))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:li(4,0),draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},generateCutTrianglePts:function(r,o,u,c){var d=this.cornerLength,h=o/2,v=r/2,y=u-v,m=u+v,b=c-h,E=c+h;return{topLeft:[y,b+d,y+d,b,y+d,b+d],topRight:[m-d,b,m,b+d,m-d,b+d],bottomRight:[m,E-d,m-d,E,m-d,E-d],bottomLeft:[y+d,E,y,E-d,y+d,E-d]}},intersectLine:function(r,o,u,c,d,h,v){var y=this.generateCutTrianglePts(u+2*v,c+2*v,r,o),m=[].concat.apply([],[y.topLeft.splice(0,4),y.topRight.splice(0,4),y.bottomRight.splice(0,4),y.bottomLeft.splice(0,4)]);return Xu(d,h,m,r,o)},checkPoint:function(r,o,u,c,d,h,v){if(Gi(r,o,this.points,h,v,c,d-2*this.cornerLength,[0,-1],u)||Gi(r,o,this.points,h,v,c-2*this.cornerLength,d,[0,-1],u))return!0;var y=this.generateCutTrianglePts(c,d,h,v);return Hr(r,o,y.topLeft)||Hr(r,o,y.topRight)||Hr(r,o,y.bottomRight)||Hr(r,o,y.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:li(4,0),draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},intersectLine:function(r,o,u,c,d,h,v){var E=this.generateBarrelBezierPts(u+2*v,c+2*v,r,o),_=function(A){var T=ss({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.15),P=ss({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.5),k=ss({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.85);return[A[0],A[1],T.x,T.y,P.x,P.y,k.x,k.y,A[4],A[5]]},x=[].concat(_(E.topLeft),_(E.topRight),_(E.bottomRight),_(E.bottomLeft));return Xu(d,h,x,r,o)},generateBarrelBezierPts:function(r,o,u,c){var d=o/2,h=r/2,v=u-h,y=u+h,m=c-d,b=c+d,E=Zd(r,o),_=E.heightOffset,x=E.widthOffset,S=E.ctrlPtOffsetPct*r,A={topLeft:[v,m+_,v+S,m,v+x,m],topRight:[y-x,m,y-S,m,y,m+_],bottomRight:[y,b-_,y-S,b,y-x,b],bottomLeft:[v+x,b,v+S,b,v,b-_]};return A.topLeft.isTop=!0,A.topRight.isTop=!0,A.bottomLeft.isBottom=!0,A.bottomRight.isBottom=!0,A},checkPoint:function(r,o,u,c,d,h,v){var y=Zd(c,d),b=y.widthOffset;if(Gi(r,o,this.points,h,v,c,d-2*y.heightOffset,[0,-1],u)||Gi(r,o,this.points,h,v,c-2*b,d,[0,-1],u))return!0;for(var E=this.generateBarrelBezierPts(c,d,h,v),_=function(V,W,H){var K=H[4],Q=H[2],U=H[0],ee=H[5],Z=H[1],ae=Math.min(K,U),te=Math.max(K,U),ne=Math.min(ee,Z),fe=Math.max(ee,Z);if(ae<=V&&V<=te&&ne<=W&&W<=fe){var he=function(r,o,u){return[r-2*o+u,2*(o-r),r]}(K,Q,U),we=function(r,o,u,c){var d=o*o-4*r*(u-=c);if(d<0)return[];var h=Math.sqrt(d),v=2*r;return[(-o+h)/v,(-o-h)/v]}(he[0],he[1],he[2],V),de=we.filter(function(ye){return 0<=ye&&ye<=1});if(de.length>0)return de[0]}return null},x=Object.keys(E),S=0;S<x.length;S++){var T=E[x[S]],P=_(r,o,T);if(null!=P){var G=$r(T[5],T[3],T[1],P);if(T.isTop&&G<=o||T.isBottom&&o<=G)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:li(4,0),draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},intersectLine:function(r,o,u,c,d,h,v){var m=o-(c/2+v),_=ga(d,h,r,o,r-(u/2+v),m,r+(u/2+v),m,!1);return _.length>0?_:Rn(d,h,r,o,u,c,v)},checkPoint:function(r,o,u,c,d,h,v){var y=Oa(c,d),m=2*y;if(Gi(r,o,this.points,h,v,c,d-m,[0,-1],u)||Gi(r,o,this.points,h,v,c-m,d,[0,-1],u))return!0;var b=c/2+2*u,E=d/2+2*u;return!!(Hr(r,o,[h-b,v-E,h-b,v,h+b,v,h+b,v-E])||mr(r,o,m,m,h+c/2-y,v+d/2-y,u)||mr(r,o,m,m,h-c/2+y,v+d/2-y,u))}}},registerNodeShapes:function(){var a=this.nodeShapes={},r=this;this.generateEllipse(),this.generatePolygon("triangle",li(3,0)),this.generateRoundPolygon("round-triangle",li(3,0)),this.generatePolygon("rectangle",li(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var o=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",o),this.generateRoundPolygon("round-diamond",o),this.generatePolygon("pentagon",li(5,0)),this.generateRoundPolygon("round-pentagon",li(5,0)),this.generatePolygon("hexagon",li(6,0)),this.generateRoundPolygon("round-hexagon",li(6,0)),this.generatePolygon("heptagon",li(7,0)),this.generateRoundPolygon("round-heptagon",li(7,0)),this.generatePolygon("octagon",li(8,0)),this.generateRoundPolygon("round-octagon",li(8,0));var u=new Array(20),c=oo(5,0),d=oo(5,Math.PI/5),h=.5*(3-Math.sqrt(5));h*=1.57;for(var v=0;v<d.length/2;v++)d[2*v]*=h,d[2*v+1]*=h;for(v=0;v<5;v++)u[4*v]=c[2*v],u[4*v+1]=c[2*v+1],u[4*v+2]=d[2*v],u[4*v+3]=d[2*v+1];u=zn(u),this.generatePolygon("star",u),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var y=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",y),this.generateRoundPolygon("round-tag",y),a.makePolygon=function(m){var _,E="polygon-"+m.join("$");return(_=this[E])?_:r.generatePolygon(E,m)}}},bu={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(a){a=a||nc();var r=this;void 0===r.averageRedrawTime&&(r.averageRedrawTime=0),void 0===r.lastRedrawTime&&(r.lastRedrawTime=0),void 0===r.lastDrawTime&&(r.lastDrawTime=0),r.requestedFrame=!0,r.renderOptions=a},beforeRender:function(a,r){if(!this.destroyed){null==r&&Pn("Priority is not optional for beforeRender");var o=this.beforeRenderCallbacks;o.push({fn:a,priority:r}),o.sort(function(u,c){return c.priority-u.priority})}}},ed=function(r,o,u){for(var c=r.beforeRenderCallbacks,d=0;d<c.length;d++)c[d].fn(o,u)};bu.startRenderLoop=function(){var a=this,r=a.cy;a.renderLoopStarted||(a.renderLoopStarted=!0,Ql(function u(c){if(!a.destroyed){if(!r.batching())if(a.requestedFrame&&!a.skipFrame){ed(a,!0,c);var d=ca();a.render(a.renderOptions);var h=a.lastDrawTime=ca();void 0===a.averageRedrawTime&&(a.averageRedrawTime=h-d),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var v=h-d;a.redrawTotalTime+=v,a.lastRedrawTime=v,a.averageRedrawTime=a.averageRedrawTime/2+v/2,a.requestedFrame=!1}else ed(a,!1,c);a.skipFrame=!1,Ql(u)}}))};var td=function(r){this.init(r)},Sr=td.prototype;Sr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Sr.init=function(a){var r=this;r.options=a,r.cy=a.cy;var o=r.container=a.cy.container(),u=r.cy.window();if(u){var c=u.document,d=c.head,h="__________cytoscape_stylesheet",v="__________cytoscape_container",y=null!=c.getElementById(h);if(o.className.indexOf(v)<0&&(o.className=(o.className||"")+" "+v),!y){var m=c.createElement("style");m.id=h,m.textContent="."+v+" { position: relative; }",d.insertBefore(m,d.children[0])}"static"===u.getComputedStyle(o).getPropertyValue("position")&&Cn("A Cytoscape container has style position:static and so can not use UI extensions properly")}r.selection=[void 0,void 0,void 0,void 0,0],r.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],r.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},r.dragData={possibleDragElements:[]},r.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},r.redraws=0,r.showFps=a.showFps,r.debug=a.debug,r.hideEdgesOnViewport=a.hideEdgesOnViewport,r.textureOnViewport=a.textureOnViewport,r.wheelSensitivity=a.wheelSensitivity,r.motionBlurEnabled=a.motionBlur,r.forcedPixelRatio=nt(a.pixelRatio)?a.pixelRatio:null,r.motionBlur=a.motionBlur,r.motionBlurOpacity=a.motionBlurOpacity,r.motionBlurTransparency=1-r.motionBlurOpacity,r.motionBlurPxRatio=1,r.mbPxRBlurry=1,r.minMbLowQualFrames=4,r.fullQualityMb=!1,r.clearedForMotionBlur=[],r.desktopTapThreshold=a.desktopTapThreshold,r.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,r.touchTapThreshold=a.touchTapThreshold,r.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,r.tapholdDuration=500,r.bindings=[],r.beforeRenderCallbacks=[],r.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},r.registerNodeShapes(),r.registerArrowShapes(),r.registerCalculationListeners()},Sr.notify=function(a,r){var o=this,u=o.cy;if(!this.destroyed){if("init"===a)return void o.load();if("destroy"===a)return void o.destroy();("add"===a||"remove"===a||"move"===a&&u.hasCompoundNodes()||"load"===a||"zorder"===a||"mount"===a)&&o.invalidateCachedZSortedEles(),"viewport"===a&&o.redrawHint("select",!0),("load"===a||"resize"===a||"mount"===a)&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container)),o.redrawHint("eles",!0),o.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Sr.destroy=function(){var a=this;a.destroyed=!0,a.cy.stopAnimationLoop();for(var r=0;r<a.bindings.length;r++){var o=a.bindings[r],c=o.target;(c.off||c.removeEventListener).apply(c,o.args)}if(a.bindings=[],a.beforeRenderCallbacks=[],a.onUpdateEleCalcsFns=[],a.removeObserver&&a.removeObserver.disconnect(),a.styleObserver&&a.styleObserver.disconnect(),a.resizeObserver&&a.resizeObserver.disconnect(),a.labelCalcDiv)try{document.body.removeChild(a.labelCalcDiv)}catch{}},Sr.isHeadless=function(){return!1},[wr,Jf,wu,po,Ia,bu].forEach(function(a){yt(Sr,a)});var Ml=1e3/60,Yr_setupDequeueing=function(r){return function(){var u=this,c=this.renderer;if(!u.dequeueingSetup){u.dequeueingSetup=!0;var d=et.default(function(){c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},r.deqRedrawThreshold);c.beforeRender(function(m,b){var E=ca(),_=c.averageRedrawTime,x=c.lastRedrawTime,S=[],A=c.cy.extent(),T=c.getPixelRatio();for(m||c.flushRenderedStyleQueue();;){var P=ca(),k=P-E,O=P-b;if(x<Ml){if(O>=r.deqFastCost*(Ml-(m?_:0)))break}else if(m){if(k>=r.deqCost*x||k>=r.deqAvgCost*_)break}else if(O>=r.deqNoDrawCost*Ml)break;var G=r.deq(u,T,A);if(!(G.length>0))break;for(var q=0;q<G.length;q++)S.push(G[q])}S.length>0&&(r.onDeqd(u,S),!m&&r.shouldRedraw(u,S,T,A)&&d())},(r.priority||bf)(u))}}},ws=function(){function a(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ju;ar(this,a),this.idsByKey=new zo,this.keyForId=new zo,this.cachesByLvl=new zo,this.lvls=[],this.getKey=r,this.doesEleInvalidateKey=o}return Mn(a,[{key:"getIdsFor",value:function(o){null==o&&Pn("Can not get id list for null key");var u=this.idsByKey,c=this.idsByKey.get(o);return c||(c=new zs,u.set(o,c)),c}},{key:"addIdForKey",value:function(o,u){null!=o&&this.getIdsFor(o).add(u)}},{key:"deleteIdForKey",value:function(o,u){null!=o&&this.getIdsFor(o).delete(u)}},{key:"getNumberOfIdsForKey",value:function(o){return null==o?0:this.getIdsFor(o).size}},{key:"updateKeyMappingFor",value:function(o){var u=o.id(),c=this.keyForId.get(u),d=this.getKey(o);this.deleteIdForKey(c,u),this.addIdForKey(d,u),this.keyForId.set(u,d)}},{key:"deleteKeyMappingFor",value:function(o){var u=o.id(),c=this.keyForId.get(u);this.deleteIdForKey(c,u),this.keyForId.delete(u)}},{key:"keyHasChangedFor",value:function(o){var u=o.id();return this.keyForId.get(u)!==this.getKey(o)}},{key:"isInvalid",value:function(o){return this.keyHasChangedFor(o)||this.doesEleInvalidateKey(o)}},{key:"getCachesAt",value:function(o){var u=this.cachesByLvl,c=this.lvls,d=u.get(o);return d||(d=new zo,u.set(o,d),c.push(o)),d}},{key:"getCache",value:function(o,u){return this.getCachesAt(u).get(o)}},{key:"get",value:function(o,u){var c=this.getKey(o),d=this.getCache(c,u);return null!=d&&this.updateKeyMappingFor(o),d}},{key:"getForCachedKey",value:function(o,u){var c=this.keyForId.get(o.id());return this.getCache(c,u)}},{key:"hasCache",value:function(o,u){return this.getCachesAt(u).has(o)}},{key:"has",value:function(o,u){var c=this.getKey(o);return this.hasCache(c,u)}},{key:"setCache",value:function(o,u,c){c.key=o,this.getCachesAt(u).set(o,c)}},{key:"set",value:function(o,u,c){var d=this.getKey(o);this.setCache(d,u,c),this.updateKeyMappingFor(o)}},{key:"deleteCache",value:function(o,u){this.getCachesAt(u).delete(o)}},{key:"delete",value:function(o,u){var c=this.getKey(o);this.deleteCache(c,u)}},{key:"invalidateKey",value:function(o){var u=this;this.lvls.forEach(function(c){return u.deleteCache(o,c)})}},{key:"invalidate",value:function(o){var u=o.id(),c=this.keyForId.get(u);this.deleteKeyMappingFor(o);var d=this.doesEleInvalidateKey(o);return d&&this.invalidateKey(c),d||0===this.getNumberOfIdsForKey(c)}}]),a}(),_u={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Xp=br({getKey:null,doesEleInvalidateKey:ju,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Fd,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ir=function(r,o){var u=this;u.renderer=r,u.onDequeues=[];var c=Xp(o);yt(u,c),u.lookup=new ws(c.getKey,c.doesEleInvalidateKey),u.setupDequeueing()},xr=ir.prototype;xr.reasons=_u,xr.getTextureQueue=function(a){var r=this;return r.eleImgCaches=r.eleImgCaches||{},r.eleImgCaches[a]=r.eleImgCaches[a]||[]},xr.getRetiredTextureQueue=function(a){var o=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return o[a]=o[a]||[]},xr.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new ct.default(function(o,u){return u.reqs-o.reqs})},xr.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},xr.getElement=function(a,r,o,u,c){var d=this,h=this.renderer,v=h.cy.zoom(),y=this.lookup;if(!r||0===r.w||0===r.h||isNaN(r.w)||isNaN(r.h)||!a.visible()||a.removed()||!d.allowEdgeTxrCaching&&a.isEdge()||!d.allowParentTxrCaching&&a.isParent())return null;if(null==u&&(u=Math.ceil(Gd(v*o))),u<-4)u=-4;else if(v>=7.99||u>3)return null;var m=Math.pow(2,u),b=r.h*m,E=r.w*m,_=h.eleTextBiggerThanMin(a,m);if(!this.isVisible(a,_))return null;var S,x=y.get(a,u);if(x&&x.invalidated&&(x.invalidated=!1,x.texture.invalidatedWidth-=x.width),x)return x;if(S=b<=25?25:b<=50?50:50*Math.ceil(b/50),b>1024||E>1024)return null;var A=d.getTextureQueue(S),T=A[A.length-2],P=function(){return d.recycleTexture(S,E)||d.addTexture(S,E)};T||(T=A[A.length-1]),T||(T=P()),T.width-T.usedWidth<E&&(T=P());for(var q,k=function(te){return te&&te.scaledLabelShown===_},O=c&&c===_u.dequeue,B=c&&c===_u.highQuality,G=c&&c===_u.downscale,V=u+1;V<=3;V++){var W=y.get(a,V);if(W){q=W;break}}var H=q&&q.level===u+1?q:null,K=function(){T.context.drawImage(H.texture.canvas,H.x,0,H.width,H.height,T.usedWidth,0,E,b)};if(T.context.setTransform(1,0,0,1,0,0),T.context.clearRect(T.usedWidth,0,E,S),k(H))K();else if(k(q)){if(!B)return d.queueElement(a,q.level-1),q;for(var Q=q.level;Q>u;Q--)H=d.getElement(a,r,o,Q,_u.downscale);K()}else{var U;if(!O&&!B&&!G)for(var ee=u-1;ee>=-4;ee--){var Z=y.get(a,ee);if(Z){U=Z;break}}if(k(U))return d.queueElement(a,u),U;T.context.translate(T.usedWidth,0),T.context.scale(m,m),this.drawElement(T.context,a,r,_,!1),T.context.scale(1/m,1/m),T.context.translate(-T.usedWidth,0)}return x={x:T.usedWidth,texture:T,level:u,scale:m,width:E,height:b,scaledLabelShown:_},T.usedWidth+=Math.ceil(E+8),T.eleCaches.push(x),y.set(a,u,x),d.checkTextureFullness(T),x},xr.invalidateElements=function(a){for(var r=0;r<a.length;r++)this.invalidateElement(a[r])},xr.invalidateElement=function(a){var r=this,o=r.lookup,u=[];if(o.isInvalid(a)){for(var d=-4;d<=3;d++){var h=o.getForCachedKey(a,d);h&&u.push(h)}if(o.invalidate(a))for(var y=0;y<u.length;y++){var m=u[y],b=m.texture;b.invalidatedWidth+=m.width,m.invalidated=!0,r.checkTextureUtility(b)}r.removeFromQueue(a)}},xr.checkTextureUtility=function(a){a.invalidatedWidth>=.2*a.width&&this.retireTexture(a)},xr.checkTextureFullness=function(a){var o=this.getTextureQueue(a.height);a.usedWidth/a.width>.8&&a.fullnessChecks>=10?da(o,a):a.fullnessChecks++},xr.retireTexture=function(a){var o=a.height,u=this.getTextureQueue(o),c=this.lookup;da(u,a),a.retired=!0;for(var d=a.eleCaches,h=0;h<d.length;h++){var v=d[h];c.deleteCache(v.key,v.level)}Df(d),this.getRetiredTextureQueue(o).push(a)},xr.addTexture=function(a,r){var c={};return this.getTextureQueue(a).push(c),c.eleCaches=[],c.height=a,c.width=Math.max(1024,r),c.usedWidth=0,c.invalidatedWidth=0,c.fullnessChecks=0,c.canvas=this.renderer.makeOffscreenCanvas(c.width,c.height),c.context=c.canvas.getContext("2d"),c},xr.recycleTexture=function(a,r){for(var u=this.getTextureQueue(a),c=this.getRetiredTextureQueue(a),d=0;d<c.length;d++){var h=c[d];if(h.width>=r)return h.retired=!1,h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,Df(h.eleCaches),h.context.setTransform(1,0,0,1,0,0),h.context.clearRect(0,0,h.width,h.height),da(c,h),u.push(h),h}},xr.queueElement=function(a,r){var u=this.getElementQueue(),c=this.getElementKeyToQueue(),d=this.getKey(a),h=c[d];if(h)h.level=Math.max(h.level,r),h.eles.merge(a),h.reqs++,u.updateItem(h);else{var v={eles:a.spawn().merge(a),level:r,reqs:1,key:d};u.push(v),c[d]=v}},xr.dequeue=function(a){for(var r=this,o=r.getElementQueue(),u=r.getElementKeyToQueue(),c=[],d=r.lookup,h=0;h<1&&o.size()>0;h++){var v=o.pop(),y=v.key,m=v.eles[0],b=d.hasCache(m,v.level);if(u[y]=null,!b){c.push(v);var E=r.getBoundingBox(m);r.getElement(m,E,a,v.level,_u.dequeue)}}return c},xr.removeFromQueue=function(a){var o=this.getElementQueue(),u=this.getElementKeyToQueue(),c=this.getKey(a),d=u[c];null!=d&&(1===d.eles.length?(d.reqs=wf,o.updateItem(d),o.pop(),u[c]=null):d.eles.unmerge(a))},xr.onDequeue=function(a){this.onDequeues.push(a)},xr.offDequeue=function(a){da(this.onDequeues,a)},xr.setupDequeueing=Yr_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(r,o,u){return r.dequeue(o,u)},onDeqd:function(r,o){for(var u=0;u<r.onDequeues.length;u++)(0,r.onDequeues[u])(o)},shouldRedraw:function(r,o,u,c){for(var d=0;d<o.length;d++)for(var h=o[d].eles,v=0;v<h.length;v++){var y=h[v].boundingBox();if(Mt(y,c))return!0}return!1},priority:function(r){return r.renderer.beforeRenderPriorities.eleTxrDeq}});var tg=function(r){var o=this,u=o.renderer=r,c=u.cy;o.layersByLevel={},o.firstGet=!0,o.lastInvalidationTime=ca()-500,o.skipping=!1,o.eleTxrDeqs=c.collection(),o.scheduleElementRefinement=et.default(function(){o.refineElementTextures(o.eleTxrDeqs),o.eleTxrDeqs.unmerge(o.eleTxrDeqs)},50),u.beforeRender(function(h,v){o.skipping=v-o.lastInvalidationTime<=250},u.beforeRenderPriorities.lyrTxrSkip),o.layersQueue=new ct.default(function(v,y){return y.reqs-v.reqs}),o.setupDequeueing()},Br=tg.prototype,Ah=0,ng=Math.pow(2,53)-1;Br.makeLayer=function(a,r){var o=Math.pow(2,r),u=Math.ceil(a.w*o),c=Math.ceil(a.h*o),d=this.renderer.makeOffscreenCanvas(u,c),h={id:Ah=++Ah%ng,bb:a,level:r,width:u,height:c,canvas:d,context:d.getContext("2d"),eles:[],elesQueue:[],reqs:0},v=h.context,y=-h.bb.x1,m=-h.bb.y1;return v.scale(o,o),v.translate(y,m),h},Br.getLayers=function(a,r,o){var u=this,h=u.renderer.cy.zoom(),v=u.firstGet;if(u.firstGet=!1,null==o)if((o=Math.ceil(Gd(h*r)))<-4)o=-4;else if(h>=3.99||o>2)return null;u.validateLayersElesOrdering(o,a);var E,x,y=u.layersByLevel,m=Math.pow(2,o),b=y[o]=y[o]||[];if(u.levelIsComplete(o,a))return b;!function(){var K=function(ae){if(u.validateLayersElesOrdering(ae,a),u.levelIsComplete(ae,a))return x=y[ae],!0},Q=function(ae){if(!x)for(var te=o+ae;-4<=te&&te<=2&&!K(te);te+=ae);};Q(1),Q(-1);for(var U=b.length-1;U>=0;U--){var ee=b[U];ee.invalid&&da(b,ee)}}();var T=function(K){var Q=(K=K||{}).after;if(function(){if(!E){E=Ui();for(var K=0;K<a.length;K++)Kn(E,a[K].boundingBox())}}(),E.w*m*(E.h*m)>16e6)return null;var ee=u.makeLayer(E,o);if(null!=Q){var Z=b.indexOf(Q)+1;b.splice(Z,0,ee)}else(void 0===K.insert||K.insert)&&b.unshift(ee);return ee};if(u.skipping&&!v)return null;for(var P=null,k=a.length/1,O=!v,B=0;B<a.length;B++){var G=a[B],q=G._private.rscratch,V=q.imgLayerCaches=q.imgLayerCaches||{},W=V[o];if(W)P=W;else{if((!P||P.eles.length>=k||!qd(P.bb,G.boundingBox()))&&!(P=T({insert:!0,after:P})))return null;x||O?u.queueLayer(P,G):u.drawEleInLayer(P,G,o,r),P.eles.push(G),V[o]=P}}return x||(O?null:b)},Br.getEleLevelForLayerLevel=function(a,r){return a},Br.drawEleInLayer=function(a,r,o,u){var d=this.renderer,h=a.context,v=r.boundingBox();0===v.w||0===v.h||!r.visible()||(o=this.getEleLevelForLayerLevel(o,u),d.setImgSmoothing(h,!1),d.drawCachedElement(h,r,null,null,o,!0),d.setImgSmoothing(h,!0))},Br.levelIsComplete=function(a,r){var u=this.layersByLevel[a];if(!u||0===u.length)return!1;for(var c=0,d=0;d<u.length;d++){var h=u[d];if(h.reqs>0||h.invalid)return!1;c+=h.eles.length}return c===r.length},Br.validateLayersElesOrdering=function(a,r){var o=this.layersByLevel[a];if(o)for(var u=0;u<o.length;u++){for(var c=o[u],d=-1,h=0;h<r.length;h++)if(c.eles[0]===r[h]){d=h;break}if(d<0)this.invalidateLayer(c);else{var v=d;for(h=0;h<c.eles.length;h++)if(c.eles[h]!==r[v+h]){this.invalidateLayer(c);break}}}},Br.updateElementsInLayers=function(a,r){for(var u=Rs(a[0]),c=0;c<a.length;c++)for(var d=u?null:a[c],h=u?a[c]:a[c].ele,v=h._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},m=-4;m<=2;m++){var b=y[m];b&&(d&&this.getEleLevelForLayerLevel(b.level)!==d.level||r(b,h,d))}},Br.haveLayers=function(){for(var r=!1,o=-4;o<=2;o++){var u=this.layersByLevel[o];if(u&&u.length>0){r=!0;break}}return r},Br.invalidateElements=function(a){var r=this;0!==a.length&&(r.lastInvalidationTime=ca(),0!==a.length&&r.haveLayers()&&r.updateElementsInLayers(a,function(u,c,d){r.invalidateLayer(u)}))},Br.invalidateLayer=function(a){if(this.lastInvalidationTime=ca(),!a.invalid){var r=a.level,o=a.eles;da(this.layersByLevel[r],a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var c=0;c<o.length;c++){var d=o[c]._private.rscratch.imgLayerCaches;d&&(d[r]=null)}}},Br.refineElementTextures=function(a){var r=this;r.updateElementsInLayers(a,function(u,c,d){var h=u.replacement;if(h||((h=u.replacement=r.makeLayer(u.bb,u.level)).replaces=u,h.eles=u.eles),!h.reqs)for(var v=0;v<h.eles.length;v++)r.queueLayer(h,h.eles[v])})},Br.enqueueElementRefinement=function(a){this.eleTxrDeqs.merge(a),this.scheduleElementRefinement()},Br.queueLayer=function(a,r){var u=this.layersQueue,c=a.elesQueue,d=c.hasId=c.hasId||{};if(!a.replacement){if(r){if(d[r.id()])return;c.push(r),d[r.id()]=!0}a.reqs?(a.reqs++,u.updateItem(a)):(a.reqs=1,u.push(a))}},Br.dequeue=function(a){for(var r=this,o=r.layersQueue,u=[],c=0;c<1&&0!==o.size();){var d=o.peek();if(d.replacement)o.pop();else if(d.replaces&&d!==d.replaces.replacement)o.pop();else if(d.invalid)o.pop();else{var h=d.elesQueue.shift();h&&(r.drawEleInLayer(d,h,d.level,a),c++),0===u.length&&u.push(!0),0===d.elesQueue.length&&(o.pop(),d.reqs=0,d.replaces&&r.applyLayerReplacement(d),r.requestRedraw())}}return u},Br.applyLayerReplacement=function(a){var o=this.layersByLevel[a.level],u=a.replaces,c=o.indexOf(u);if(!(c<0||u.invalid)){o[c]=a;for(var d=0;d<a.eles.length;d++){var h=a.eles[d]._private,v=h.imgLayerCaches=h.imgLayerCaches||{};v&&(v[a.level]=a)}this.requestRedraw()}},Br.requestRedraw=et.default(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),Br.setupDequeueing=Yr_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(r,o){return r.dequeue(o)},onDeqd:bf,shouldRedraw:Fd,priority:function(r){return r.renderer.beforeRenderPriorities.lyrTxrDeq}});var Ph,Nh={};function od(a,r){for(var o=0;o<r.length;o++){var u=r[o];a.lineTo(u.x,u.y)}}function rg(a,r,o){for(var u,c=0;c<r.length;c++){var d=r[c];0===c&&(u=d),a.lineTo(d.x,d.y)}a.quadraticCurveTo(o.x,o.y,u.x,u.y)}function qc(a,r,o){a.beginPath&&a.beginPath();for(var u=r,c=0;c<u.length;c++)a.lineTo((d=u[c]).x,d.y);var h=o,v=o[0];for(a.moveTo(v.x,v.y),c=1;c<h.length;c++){var d;a.lineTo((d=h[c]).x,d.y)}a.closePath&&a.closePath()}function Zc(a,r,o,u,c){a.beginPath&&a.beginPath(),a.arc(o,u,c,0,2*Math.PI,!1);var d=r,h=d[0];a.moveTo(h.x,h.y);for(var v=0;v<d.length;v++){var y=d[v];a.lineTo(y.x,y.y)}a.closePath&&a.closePath()}function ig(a,r,o,u){a.arc(r,o,u,0,2*Math.PI,!1)}Nh.arrowShapeImpl=function(a){return(Ph||(Ph={polygon:od,"triangle-backcurve":rg,"triangle-tee":qc,"circle-triangle":Zc,"triangle-cross":qc,circle:ig}))[a]};var go={drawElement:function(a,r,o,u,c,d){r.isNode()?this.drawNode(a,r,o,u,c,d):this.drawEdge(a,r,o,u,c,d)},drawElementOverlay:function(a,r){r.isNode()?this.drawNodeOverlay(a,r):this.drawEdgeOverlay(a,r)},drawElementUnderlay:function(a,r){r.isNode()?this.drawNodeUnderlay(a,r):this.drawEdgeUnderlay(a,r)},drawCachedElementPortion:function(a,r,o,u,c,d,h,v){var y=this,m=o.getBoundingBox(r);if(0!==m.w&&0!==m.h){var b=o.getElement(r,m,u,c,d);if(null!=b){var E=v(y,r);if(0===E)return;var P,k,O,B,G,W,_=h(y,r),x=m.x1,S=m.y1,A=m.w,T=m.h;if(0!==_){var q=o.getRotationPoint(r);a.translate(O=q.x,B=q.y),a.rotate(_),(G=y.getImgSmoothing(a))||y.setImgSmoothing(a,!0);var V=o.getRotationOffset(r);P=V.x,k=V.y}else P=x,k=S;1!==E&&(a.globalAlpha=(W=a.globalAlpha)*E),a.drawImage(b.texture.canvas,b.x,0,b.width,b.height,P,k,A,T),1!==E&&(a.globalAlpha=W),0!==_&&(a.rotate(-_),a.translate(-O,-B),G||y.setImgSmoothing(a,!1))}else o.drawElement(a,r)}}},og=function(){return 0},ad=function(r,o){return r.getTextAngle(o,null)},ag=function(r,o){return r.getTextAngle(o,"source")},kh=function(r,o){return r.getTextAngle(o,"target")},sd=function(r,o){return o.effectiveOpacity()},Iu=function(r,o){return o.pstyle("text-opacity").pfValue*o.effectiveOpacity()};go.drawCachedElement=function(a,r,o,u,c,d){var h=this,v=h.data,y=v.eleTxrCache,m=v.lblTxrCache,b=v.slbTxrCache,E=v.tlbTxrCache,_=r.boundingBox(),x=!0===d?y.reasons.highQuality:null;if(0!==_.w&&0!==_.h&&r.visible()&&(!u||Mt(_,u))){var S=r.isEdge(),A=r.element()._private.rscratch.badLine;h.drawElementUnderlay(a,r),h.drawCachedElementPortion(a,r,y,o,c,x,og,sd),(!S||!A)&&h.drawCachedElementPortion(a,r,m,o,c,x,ad,Iu),S&&!A&&(h.drawCachedElementPortion(a,r,b,o,c,x,ag,Iu),h.drawCachedElementPortion(a,r,E,o,c,x,kh,Iu)),h.drawElementOverlay(a,r)}},go.drawElements=function(a,r){for(var u=0;u<r.length;u++)this.drawElement(a,r[u])},go.drawCachedElements=function(a,r,o,u){for(var d=0;d<r.length;d++)this.drawCachedElement(a,r[d],o,u)},go.drawCachedNodes=function(a,r,o,u){for(var d=0;d<r.length;d++){var h=r[d];h.isNode()&&this.drawCachedElement(a,h,o,u)}},go.drawLayeredElements=function(a,r,o,u){var d=this.data.lyrTxrCache.getLayers(r,o);if(d)for(var h=0;h<d.length;h++){var v=d[h],y=v.bb;0===y.w||0===y.h||a.drawImage(v.canvas,y.x1,y.y1,y.w,y.h)}else this.drawCachedElements(a,r,o,u)};var ra={drawEdge:function(a,r,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=this,v=r._private.rscratch;if((!d||r.visible())&&!v.badLine&&null!=v.allpts&&!isNaN(v.allpts[0])){var y;o&&a.translate(-(y=o).x1,-y.y1);var m=d?r.pstyle("opacity").value:1,b=d?r.pstyle("line-opacity").value:1,E=r.pstyle("curve-style").value,_=r.pstyle("line-style").value,x=r.pstyle("width").pfValue,S=r.pstyle("line-cap").value,A=m*b,T=m*b,P=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;"straight-triangle"===E?(h.eleStrokeStyle(a,r,U),h.drawEdgeTrianglePath(r,a,v.allpts)):(a.lineWidth=x,a.lineCap=S,h.eleStrokeStyle(a,r,U),h.drawEdgePath(r,a,v.allpts,_),a.lineCap="butt")},B=function(){h.drawArrowheads(a,r,arguments.length>0&&void 0!==arguments[0]?arguments[0]:T)};if(a.lineJoin="round","yes"===r.pstyle("ghost").value){var V=r.pstyle("ghost-offset-x").pfValue,W=r.pstyle("ghost-offset-y").pfValue,H=r.pstyle("ghost-opacity").value,K=A*H;a.translate(V,W),P(K),B(K),a.translate(-V,-W)}c&&h.drawEdgeUnderlay(a,r),P(),B(),c&&h.drawEdgeOverlay(a,r),h.drawElementText(a,r,null,u),o&&a.translate(y.x1,y.y1)}}},Oh=function(r){if(!["overlay","underlay"].includes(r))throw new Error("Invalid state");return function(o,u){if(u.visible()){var c=u.pstyle("".concat(r,"-opacity")).value;if(0!==c){var d=this,h=d.usePaths(),v=u._private.rscratch,m=2*u.pstyle("".concat(r,"-padding")).pfValue,b=u.pstyle("".concat(r,"-color")).value;o.lineWidth=m,o.lineCap="self"!==v.edgeType||h?"round":"butt",d.colorStrokeStyle(o,b[0],b[1],b[2],c),d.drawEdgePath(u,o,v.allpts,"solid")}}}};ra.drawEdgeOverlay=Oh("overlay"),ra.drawEdgeUnderlay=Oh("underlay"),ra.drawEdgePath=function(a,r,o,u){var h,c=a._private.rscratch,d=r,v=!1,y=this.usePaths(),m=a.pstyle("line-dash-pattern").pfValue,b=a.pstyle("line-dash-offset").pfValue;if(y){var E=o.join("$");c.pathCacheKey&&c.pathCacheKey===E?(h=r=c.pathCache,v=!0):(h=r=new Path2D,c.pathCacheKey=E,c.pathCache=h)}if(d.setLineDash)switch(u){case"dotted":d.setLineDash([1,1]);break;case"dashed":d.setLineDash(m),d.lineDashOffset=b;break;case"solid":d.setLineDash([])}if(!v&&!c.badLine)switch(r.beginPath&&r.beginPath(),r.moveTo(o[0],o[1]),c.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var x=2;x+3<o.length;x+=4)r.quadraticCurveTo(o[x],o[x+1],o[x+2],o[x+3]);break;case"straight":case"segments":case"haystack":for(var S=2;S+1<o.length;S+=2)r.lineTo(o[S],o[S+1])}r=d,y?r.stroke(h):r.stroke(),r.setLineDash&&r.setLineDash([])},ra.drawEdgeTrianglePath=function(a,r,o){r.fillStyle=r.strokeStyle;for(var u=a.pstyle("width").pfValue,c=0;c+1<o.length;c+=2){var d=[o[c+2]-o[c],o[c+3]-o[c+1]],h=Math.sqrt(d[0]*d[0]+d[1]*d[1]),v=[d[1]/h,-d[0]/h],y=[v[0]*u/2,v[1]*u/2];r.beginPath(),r.moveTo(o[c]-y[0],o[c+1]-y[1]),r.lineTo(o[c]+y[0],o[c+1]+y[1]),r.lineTo(o[c+2],o[c+3]),r.closePath(),r.fill()}},ra.drawArrowheads=function(a,r,o){var u=r._private.rscratch,c="haystack"===u.edgeType;c||this.drawArrowhead(a,r,"source",u.arrowStartX,u.arrowStartY,u.srcArrowAngle,o),this.drawArrowhead(a,r,"mid-target",u.midX,u.midY,u.midtgtArrowAngle,o),this.drawArrowhead(a,r,"mid-source",u.midX,u.midY,u.midsrcArrowAngle,o),c||this.drawArrowhead(a,r,"target",u.arrowEndX,u.arrowEndY,u.tgtArrowAngle,o)},ra.drawArrowhead=function(a,r,o,u,c,d,h){if(!(isNaN(u)||null==u||isNaN(c)||null==c||isNaN(d)||null==d)){var v=this,y=r.pstyle(o+"-arrow-shape").value;if("none"!==y){var m="hollow"===r.pstyle(o+"-arrow-fill").value?"both":"filled",b=r.pstyle(o+"-arrow-fill").value,E=r.pstyle("width").pfValue,_=r.pstyle("opacity").value;void 0===h&&(h=_);var x=a.globalCompositeOperation;(1!==h||"hollow"===b)&&(a.globalCompositeOperation="destination-out",v.colorFillStyle(a,255,255,255,1),v.colorStrokeStyle(a,255,255,255,1),v.drawArrowShape(r,a,m,E,y,u,c,d),a.globalCompositeOperation=x);var S=r.pstyle(o+"-arrow-color").value;v.colorFillStyle(a,S[0],S[1],S[2],h),v.colorStrokeStyle(a,S[0],S[1],S[2],h),v.drawArrowShape(r,a,b,E,y,u,c,d)}}},ra.drawArrowShape=function(a,r,o,u,c,d,h,v){var E,y=this,m=this.usePaths()&&"triangle-cross"!==c,b=!1,_=r,x={x:d,y:h},S=a.pstyle("arrow-scale").value,A=this.getArrowWidth(u,S),T=y.arrowShapes[c];if(m){var P=y.arrowPathCache=y.arrowPathCache||[],k=Ho(c),O=P[k];null!=O?(E=r=O,b=!0):(E=r=new Path2D,P[k]=E)}b||(r.beginPath&&r.beginPath(),m?T.draw(r,1,0,{x:0,y:0},1):T.draw(r,A,v,x,u),r.closePath&&r.closePath()),r=_,m&&(r.translate(d,h),r.rotate(v),r.scale(A,A)),("filled"===o||"both"===o)&&(m?r.fill(E):r.fill()),("hollow"===o||"both"===o)&&(r.lineWidth=(T.matchEdgeWidth?u:1)/(m?A:1),r.lineJoin="miter",m?r.stroke(E):r.stroke()),m&&(r.scale(1/A,1/A),r.rotate(-v),r.translate(-d,-h))};var ud={safeDrawImage:function(a,r,o,u,c,d,h,v,y,m){if(!(c<=0||d<=0||y<=0||m<=0))try{a.drawImage(r,o,u,c,d,h,v,y,m)}catch(b){Cn(b)}},drawInscribedImage:function(a,r,o,u,c){var d=this,h=o.position(),v=h.x,y=h.y,m=o.cy().style(),b=m.getIndexedStyle.bind(m),E=b(o,"background-fit","value",u),_=b(o,"background-repeat","value",u),x=o.width(),S=o.height(),A=2*o.padding(),T=x+("inner"===b(o,"background-width-relative-to","value",u)?0:A),P=S+("inner"===b(o,"background-height-relative-to","value",u)?0:A),k=o._private.rscratch,B="node"===b(o,"background-clip","value",u),G=b(o,"background-image-opacity","value",u)*c,q=b(o,"background-image-smoothing","value",u),V=r.width||r.cachedW,W=r.height||r.cachedH;(null==V||null==W)&&(document.body.appendChild(r),V=r.cachedW=r.width||r.offsetWidth,W=r.cachedH=r.height||r.offsetHeight,document.body.removeChild(r));var H=V,K=W;if("auto"!==b(o,"background-width","value",u)&&(H="%"===b(o,"background-width","units",u)?b(o,"background-width","pfValue",u)*T:b(o,"background-width","pfValue",u)),"auto"!==b(o,"background-height","value",u)&&(K="%"===b(o,"background-height","units",u)?b(o,"background-height","pfValue",u)*P:b(o,"background-height","pfValue",u)),0!==H&&0!==K){if("contain"===E)H*=Q=Math.min(T/H,P/K),K*=Q;else if("cover"===E){var Q;H*=Q=Math.max(T/H,P/K),K*=Q}var U=v-T/2,ee=b(o,"background-position-x","units",u),Z=b(o,"background-position-x","pfValue",u);U+="%"===ee?(T-H)*Z:Z;var ae=b(o,"background-offset-x","units",u),te=b(o,"background-offset-x","pfValue",u);U+="%"===ae?(T-H)*te:te;var ne=y-P/2,fe=b(o,"background-position-y","units",u),he=b(o,"background-position-y","pfValue",u);ne+="%"===fe?(P-K)*he:he;var we=b(o,"background-offset-y","units",u),de=b(o,"background-offset-y","pfValue",u);ne+="%"===we?(P-K)*de:de,k.pathCache&&(U-=v,ne-=y,v=0,y=0);var ye=a.globalAlpha;a.globalAlpha=G;var Te=d.getImgSmoothing(a),Oe=!1;if("no"===q&&Te?(d.setImgSmoothing(a,!1),Oe=!0):"yes"===q&&!Te&&(d.setImgSmoothing(a,!0),Oe=!0),"no-repeat"===_)B&&(a.save(),k.pathCache?a.clip(k.pathCache):(d.nodeShapes[d.getNodeShape(o)].draw(a,v,y,T,P),a.clip())),d.safeDrawImage(a,r,0,0,V,W,U,ne,H,K),B&&a.restore();else{var xe=a.createPattern(r,_);a.fillStyle=xe,d.nodeShapes[d.getNodeShape(o)].draw(a,v,y,T,P),a.translate(U,ne),a.fill(),a.translate(-U,-ne)}a.globalAlpha=ye,Oe&&d.setImgSmoothing(a,Te)}}},vo={eleTextBiggerThanMin:function(a,r){if(!r){var o=a.cy().zoom(),u=this.getPixelRatio(),c=Math.ceil(Gd(o*u));r=Math.pow(2,c)}return!(a.pstyle("font-size").pfValue*r<a.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(a,r,o,u,c){var d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=this;if(null==u){if(d&&!h.eleTextBiggerThanMin(r))return}else if(!1===u)return;if(r.isNode()){var v=r.pstyle("label");if(!v||!v.value)return;var y=h.getLabelJustification(r);a.textAlign=y,a.textBaseline="bottom"}else{var m=r.element()._private.rscratch.badLine,b=r.pstyle("label"),E=r.pstyle("source-label"),_=r.pstyle("target-label");if(m||(!b||!b.value)&&(!E||!E.value)&&(!_||!_.value))return;a.textAlign="center",a.textBaseline="bottom"}var S,x=!o;o&&a.translate(-(S=o).x1,-S.y1),null==c?(h.drawText(a,r,null,x,d),r.isEdge()&&(h.drawText(a,r,"source",x,d),h.drawText(a,r,"target",x,d))):h.drawText(a,r,c,x,d),o&&a.translate(S.x1,S.y1)},getFontCache:function(a){var r;this.fontCaches=this.fontCaches||[];for(var o=0;o<this.fontCaches.length;o++)if((r=this.fontCaches[o]).context===a)return r;return this.fontCaches.push(r={context:a}),r},setupTextStyle:function(a,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=r.pstyle("font-style").strValue,c=r.pstyle("font-size").pfValue+"px",d=r.pstyle("font-family").strValue,h=r.pstyle("font-weight").strValue,v=o?r.effectiveOpacity()*r.pstyle("text-opacity").value:1,y=r.pstyle("text-outline-opacity").value*v,m=r.pstyle("color").value,b=r.pstyle("text-outline-color").value;a.font=u+" "+h+" "+c+" "+d,a.lineJoin="round",this.colorFillStyle(a,m[0],m[1],m[2],v),this.colorStrokeStyle(a,b[0],b[1],b[2],y)},getTextAngle:function(a,r){var c=a._private.rscratch,h=a.pstyle((r?r+"-":"")+"text-rotation"),v=zi(c,"labelAngle",r);return"autorotate"===h.strValue?a.isEdge()?v:0:"none"===h.strValue?0:h.pfValue},drawText:function(a,r,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=r._private.rscratch,v=c?r.effectiveOpacity():1;if(!c||0!==v&&0!==r.pstyle("text-opacity").value){"main"===o&&(o=null);var b,E,y=zi(h,"labelX",o),m=zi(h,"labelY",o),_=this.getLabelText(r,o);if(null!=_&&""!==_&&!isNaN(y)&&!isNaN(m)){this.setupTextStyle(a,r,c);var G,x=o?o+"-":"",S=zi(h,"labelWidth",o),A=zi(h,"labelHeight",o),T=r.pstyle(x+"text-margin-x").pfValue,P=r.pstyle(x+"text-margin-y").pfValue,k=r.isEdge(),O=r.pstyle("text-halign").value,B=r.pstyle("text-valign").value;switch(k&&(O="center",B="center"),y+=T,m+=P,0!==(G=u?this.getTextAngle(r,o):0)&&(a.translate(b=y,E=m),a.rotate(G),y=0,m=0),B){case"top":break;case"center":m+=A/2;break;case"bottom":m+=A}var q=r.pstyle("text-background-opacity").value,V=r.pstyle("text-border-opacity").value,W=r.pstyle("text-border-width").pfValue,H=r.pstyle("text-background-padding").pfValue;if(q>0||W>0&&V>0){var K=y-H;switch(O){case"left":K-=S;break;case"center":K-=S/2}var Q=m-A-H,U=S+2*H,ee=A+2*H;if(q>0){var Z=a.fillStyle,ae=r.pstyle("text-background-color").value;a.fillStyle="rgba("+ae[0]+","+ae[1]+","+ae[2]+","+q*v+")",0===r.pstyle("text-background-shape").strValue.indexOf("round")?function Al(a,r,o,u,c){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;a.beginPath(),a.moveTo(r+d,o),a.lineTo(r+u-d,o),a.quadraticCurveTo(r+u,o,r+u,o+d),a.lineTo(r+u,o+c-d),a.quadraticCurveTo(r+u,o+c,r+u-d,o+c),a.lineTo(r+d,o+c),a.quadraticCurveTo(r,o+c,r,o+c-d),a.lineTo(r,o+d),a.quadraticCurveTo(r,o,r+d,o),a.closePath(),a.fill()}(a,K,Q,U,ee,2):a.fillRect(K,Q,U,ee),a.fillStyle=Z}if(W>0&&V>0){var ne=a.strokeStyle,fe=a.lineWidth,he=r.pstyle("text-border-color").value,we=r.pstyle("text-border-style").value;if(a.strokeStyle="rgba("+he[0]+","+he[1]+","+he[2]+","+V*v+")",a.lineWidth=W,a.setLineDash)switch(we){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=W/4,a.setLineDash([]);break;case"solid":a.setLineDash([])}if(a.strokeRect(K,Q,U,ee),"double"===we){var de=W/2;a.strokeRect(K+de,Q+de,U-2*de,ee-2*de)}a.setLineDash&&a.setLineDash([]),a.lineWidth=fe,a.strokeStyle=ne}}var ye=2*r.pstyle("text-outline-width").pfValue;if(ye>0&&(a.lineWidth=ye),"wrap"===r.pstyle("text-wrap").value){var Te=zi(h,"labelWrapCachedLines",o),Oe=zi(h,"labelLineHeight",o),xe=S/2,Me=this.getLabelJustification(r);switch("auto"===Me||("left"===O?"left"===Me?y+=-S:"center"===Me&&(y+=-xe):"center"===O?"left"===Me?y+=-xe:"right"===Me&&(y+=xe):"right"===O&&("center"===Me?y+=xe:"right"===Me&&(y+=S))),B){case"top":case"center":case"bottom":m-=(Te.length-1)*Oe}for(var le=0;le<Te.length;le++)ye>0&&a.strokeText(Te[le],y,m),a.fillText(Te[le],y,m),m+=Oe}else ye>0&&a.strokeText(_,y,m),a.fillText(_,y,m);0!==G&&(a.rotate(-G),a.translate(-b,-E))}}}},Tu={drawNode:function(a,r,o){var v,y,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=this,m=r._private,b=m.rscratch,E=r.position();if(nt(E.x)&&nt(E.y)&&(!d||r.visible())){var S,P,_=d?r.effectiveOpacity():1,x=h.usePaths(),A=!1,T=r.padding();v=r.width()+2*T,y=r.height()+2*T,o&&a.translate(-(P=o).x1,-P.y1);for(var O=r.pstyle("background-image").value,B=new Array(O.length),G=new Array(O.length),q=0,V=0;V<O.length;V++){var W=O[V];if(B[V]=null!=W&&"none"!==W){var K=r.cy().style().getIndexedStyle(r,"background-image-crossorigin","value",V);q++,G[V]=h.getCachedImage(W,K,function(){m.backgroundTimestamp=Date.now(),r.emitAndNotify("background")})}}var Q=r.pstyle("background-blacken").value,U=r.pstyle("border-width").pfValue,ee=r.pstyle("background-opacity").value*_,Z=r.pstyle("border-color").value,ae=r.pstyle("border-style").value,te=r.pstyle("border-opacity").value*_;a.lineJoin="miter";var ne=function(){h.eleFillStyle(a,r,arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee)},fe=function(){h.colorStrokeStyle(a,Z[0],Z[1],Z[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:te)},he=r.pstyle("shape").strValue,we=r.pstyle("shape-polygon-points").pfValue;if(x){a.translate(E.x,E.y);var de=h.nodePathCache=h.nodePathCache||[],ye=yf("polygon"===he?he+","+we.join(","):he,""+y,""+v),Te=de[ye];null!=Te?(A=!0,b.pathCache=S=Te):(S=new Path2D,de[ye]=b.pathCache=S)}var Oe=function(){if(!A){var Ge=E;x&&(Ge={x:0,y:0}),h.nodeShapes[h.getNodeShape(r)].draw(S||a,Ge.x,Ge.y,v,y)}x?a.fill(S):a.fill()},xe=function(){for(var Ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,Xe=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],nn=m.backgrounding,Pt=0,Et=0;Et<G.length;Et++){var Nn=r.cy().style().getIndexedStyle(r,"background-image-containment","value",Et);Xe&&"over"===Nn||!Xe&&"inside"===Nn?Pt++:B[Et]&&G[Et].complete&&!G[Et].error&&(Pt++,h.drawInscribedImage(a,G[Et],r,Et,Ge))}m.backgrounding=Pt!==q,nn!==m.backgrounding&&r.updateStyle(!1)},Me=function(){var Ge=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;h.hasPie(r)&&(h.drawPie(a,r,Xe),Ge&&(x||h.nodeShapes[h.getNodeShape(r)].draw(a,E.x,E.y,v,y)))},le=function(){var nn=Q>0?0:255;0!==Q&&(h.colorFillStyle(a,nn,nn,nn,(Q>0?Q:-Q)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_)),x?a.fill(S):a.fill())},Ae=function(){if(U>0){if(a.lineWidth=U,a.lineCap="butt",a.setLineDash)switch(ae){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}if(x?a.stroke(S):a.stroke(),"double"===ae){a.lineWidth=U/3;var Ge=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",x?a.stroke(S):a.stroke(),a.globalCompositeOperation=Ge}a.setLineDash&&a.setLineDash([])}};if("yes"===r.pstyle("ghost").value){var Ut=r.pstyle("ghost-offset-x").pfValue,rt=r.pstyle("ghost-offset-y").pfValue,We=r.pstyle("ghost-opacity").value,$e=We*_;a.translate(Ut,rt),ne(We*ee),Oe(),xe($e,!0),fe(We*te),Ae(),Me(0!==Q||0!==U),xe($e,!1),le($e),a.translate(-Ut,-rt)}x&&a.translate(-E.x,-E.y),c&&h.drawNodeUnderlay(a,r,E,v,y),x&&a.translate(E.x,E.y),ne(),Oe(),xe(_,!0),fe(),Ae(),Me(0!==Q||0!==U),xe(_,!1),le(),x&&a.translate(-E.x,-E.y),h.drawElementText(a,r,null,u),c&&h.drawNodeOverlay(a,r,E,v,y),o&&a.translate(P.x1,P.y1)}}},sg=function(r){if(!["overlay","underlay"].includes(r))throw new Error("Invalid state");return function(o,u,c,d,h){if(u.visible()){var y=u.pstyle("".concat(r,"-padding")).pfValue,m=u.pstyle("".concat(r,"-opacity")).value,b=u.pstyle("".concat(r,"-color")).value,E=u.pstyle("".concat(r,"-shape")).value;if(m>0){if(c=c||u.position(),null==d||null==h){var _=u.padding();d=u.width()+2*_,h=u.height()+2*_}this.colorFillStyle(o,b[0],b[1],b[2],m),this.nodeShapes[E].draw(o,c.x,c.y,d+2*y,h+2*y),o.fill()}}}};Tu.drawNodeOverlay=sg("overlay"),Tu.drawNodeUnderlay=sg("underlay"),Tu.hasPie=function(a){return(a=a[0])._private.hasPie},Tu.drawPie=function(a,r,o,u){r=r[0],u=u||r.position();var c=r.cy().style(),d=r.pstyle("pie-size"),h=u.x,v=u.y,y=r.width(),m=r.height(),b=Math.min(y,m)/2,E=0;this.usePaths()&&(h=0,v=0),"%"===d.units?b*=d.pfValue:void 0!==d.pfValue&&(b=d.pfValue/2);for(var x=1;x<=c.pieBackgroundN;x++){var S=r.pstyle("pie-"+x+"-background-size").value,A=r.pstyle("pie-"+x+"-background-color").value,T=r.pstyle("pie-"+x+"-background-opacity").value*o,P=S/100;P+E>1&&(P=1-E);var k=1.5*Math.PI+2*Math.PI*E,B=k+2*Math.PI*P;0===S||E>=1||E+P>1||(a.beginPath(),a.moveTo(h,v),a.arc(h,v,b,k,B),a.closePath(),this.colorFillStyle(a,A[0],A[1],A[2],T),a.fill(),E+=P)}};for(var Fi={getPixelRatio:function(){var a=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)},paintCache:function(a){for(var u,r=this.paintCaches=this.paintCaches||[],o=!0,c=0;c<r.length;c++)if((u=r[c]).context===a){o=!1;break}return o&&r.push(u={context:a}),u},createGradientStyleFor:function(a,r,o,u,c){var d,h=this.usePaths(),v=o.pstyle(r+"-gradient-stop-colors").value,y=o.pstyle(r+"-gradient-stop-positions").pfValue;if("radial-gradient"===u)if(o.isEdge()){var m=o.sourceEndpoint(),b=o.targetEndpoint(),E=o.midpoint(),_=pa(m,E),x=pa(b,E);d=a.createRadialGradient(E.x,E.y,0,E.x,E.y,Math.max(_,x))}else{var S=h?{x:0,y:0}:o.position(),A=o.paddedWidth(),T=o.paddedHeight();d=a.createRadialGradient(S.x,S.y,0,S.x,S.y,Math.max(A,T))}else if(o.isEdge()){var P=o.sourceEndpoint(),k=o.targetEndpoint();d=a.createLinearGradient(P.x,P.y,k.x,k.y)}else{var O=h?{x:0,y:0}:o.position(),q=o.paddedWidth()/2,V=o.paddedHeight()/2;switch(o.pstyle("background-gradient-direction").value){case"to-bottom":d=a.createLinearGradient(O.x,O.y-V,O.x,O.y+V);break;case"to-top":d=a.createLinearGradient(O.x,O.y+V,O.x,O.y-V);break;case"to-left":d=a.createLinearGradient(O.x+q,O.y,O.x-q,O.y);break;case"to-right":d=a.createLinearGradient(O.x-q,O.y,O.x+q,O.y);break;case"to-bottom-right":case"to-right-bottom":d=a.createLinearGradient(O.x-q,O.y-V,O.x+q,O.y+V);break;case"to-top-right":case"to-right-top":d=a.createLinearGradient(O.x-q,O.y+V,O.x+q,O.y-V);break;case"to-bottom-left":case"to-left-bottom":d=a.createLinearGradient(O.x+q,O.y-V,O.x-q,O.y+V);break;case"to-top-left":case"to-left-top":d=a.createLinearGradient(O.x+q,O.y+V,O.x-q,O.y-V)}}if(!d)return null;for(var H=y.length===v.length,K=v.length,Q=0;Q<K;Q++)d.addColorStop(H?y[Q]:Q/(K-1),"rgba("+v[Q][0]+","+v[Q][1]+","+v[Q][2]+","+c+")");return d},gradientFillStyle:function(a,r,o,u){var c=this.createGradientStyleFor(a,"background",r,o,u);if(!c)return null;a.fillStyle=c},colorFillStyle:function(a,r,o,u,c){a.fillStyle="rgba("+r+","+o+","+u+","+c+")"},eleFillStyle:function(a,r,o){var u=r.pstyle("background-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientFillStyle(a,r,u,o);else{var c=r.pstyle("background-color").value;this.colorFillStyle(a,c[0],c[1],c[2],o)}},gradientStrokeStyle:function(a,r,o,u){var c=this.createGradientStyleFor(a,"line",r,o,u);if(!c)return null;a.strokeStyle=c},colorStrokeStyle:function(a,r,o,u,c){a.strokeStyle="rgba("+r+","+o+","+u+","+c+")"},eleStrokeStyle:function(a,r,o){var u=r.pstyle("line-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientStrokeStyle(a,r,u,o);else{var c=r.pstyle("line-color").value;this.colorStrokeStyle(a,c[0],c[1],c[2],o)}},matchCanvasSize:function(a){var r=this,o=r.data,u=r.findContainerClientCoords(),c=u[2],d=u[3],h=r.getPixelRatio();(a===r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE]||a===r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG])&&(h=r.motionBlurPxRatio);var b,y=c*h,m=d*h;if(y!==r.canvasWidth||m!==r.canvasHeight){r.fontCaches=null;var E=o.canvasContainer;E.style.width=c+"px",E.style.height=d+"px";for(var _=0;_<r.CANVAS_LAYERS;_++)(b=o.canvases[_]).width=y,b.height=m,b.style.width=c+"px",b.style.height=d+"px";for(_=0;_<r.BUFFER_COUNT;_++)(b=o.bufferCanvases[_]).width=y,b.height=m,b.style.width=c+"px",b.style.height=d+"px";r.textureMult=1,h<=1&&(b=o.bufferCanvases[r.TEXTURE_BUFFER],r.textureMult=2,b.width=y*r.textureMult,b.height=m*r.textureMult),r.canvasWidth=y,r.canvasHeight=m}},renderTo:function(a,r,o,u){this.render({forcedContext:a,forcedZoom:r,forcedPan:o,drawAllLayers:!0,forcedPxRatio:u})},render:function(a){var r=(a=a||nc()).forcedContext,o=a.drawAllLayers,u=a.drawOnlyNodeLayer,c=a.forcedZoom,d=a.forcedPan,h=this,v=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,y=h.cy,m=h.data,b=m.canvasNeedsRedraw,E=h.textureOnViewport&&!r&&(h.pinching||h.hoverData.dragging||h.swipePanning||h.data.wheelZooming),_=void 0!==a.motionBlur?a.motionBlur:h.motionBlur,x=h.motionBlurPxRatio,S=y.hasCompoundNodes(),A=h.hoverData.draggingEles,P=_=_&&!r&&h.motionBlurEnabled&&!(h.hoverData.selecting||h.touchData.selecting);r||(h.prevPxRatio!==v&&(h.invalidateContainerClientCoordsCache(),h.matchCanvasSize(h.container),h.redrawHint("eles",!0),h.redrawHint("drag",!0)),h.prevPxRatio=v),!r&&h.motionBlurTimeout&&clearTimeout(h.motionBlurTimeout),_&&(null==h.mbFrames&&(h.mbFrames=0),h.mbFrames++,h.mbFrames<3&&(P=!1),h.mbFrames>h.minMbLowQualFrames&&(h.motionBlurPxRatio=h.mbPxRBlurry)),h.clearingMotionBlur&&(h.motionBlurPxRatio=1),h.textureDrawLastFrame&&!E&&(b[h.NODE]=!0,b[h.SELECT_BOX]=!0);var k=y.style(),O=y.zoom(),B=void 0!==c?c:O,G=y.pan(),q={x:G.x,y:G.y},V={zoom:O,pan:{x:G.x,y:G.y}},W=h.prevViewport;!(void 0===W||V.zoom!==W.zoom||V.pan.x!==W.pan.x||V.pan.y!==W.pan.y)&&!(A&&!S)&&(h.motionBlurPxRatio=1),d&&(q=d),B*=v,q.x*=v,q.y*=v;var K=h.getCachedZSortedEles();function Q(rt,We,$e,ft,Ge){var Xe=rt.globalCompositeOperation;rt.globalCompositeOperation="destination-out",h.colorFillStyle(rt,255,255,255,h.motionBlurTransparency),rt.fillRect(We,$e,ft,Ge),rt.globalCompositeOperation=Xe}function U(rt,We){var $e,ft,Ge,Xe;h.clearingMotionBlur||rt!==m.bufferContexts[h.MOTIONBLUR_BUFFER_NODE]&&rt!==m.bufferContexts[h.MOTIONBLUR_BUFFER_DRAG]?($e=q,ft=B,Ge=h.canvasWidth,Xe=h.canvasHeight):($e={x:G.x*x,y:G.y*x},ft=O*x,Ge=h.canvasWidth*x,Xe=h.canvasHeight*x),rt.setTransform(1,0,0,1,0,0),"motionBlur"===We?Q(rt,0,0,Ge,Xe):!r&&(void 0===We||We)&&rt.clearRect(0,0,Ge,Xe),o||(rt.translate($e.x,$e.y),rt.scale(ft,ft)),d&&rt.translate(d.x,d.y),c&&rt.scale(c,c)}if(E||(h.textureDrawLastFrame=!1),E){if(h.textureDrawLastFrame=!0,!h.textureCache){h.textureCache={},h.textureCache.bb=y.mutableElements().boundingBox(),h.textureCache.texture=h.data.bufferCanvases[h.TEXTURE_BUFFER];var ee=h.data.bufferContexts[h.TEXTURE_BUFFER];ee.setTransform(1,0,0,1,0,0),ee.clearRect(0,0,h.canvasWidth*h.textureMult,h.canvasHeight*h.textureMult),h.render({forcedContext:ee,drawOnlyNodeLayer:!0,forcedPxRatio:v*h.textureMult}),(V=h.textureCache.viewport={zoom:y.zoom(),pan:y.pan(),width:h.canvasWidth,height:h.canvasHeight}).mpan={x:(0-V.pan.x)/V.zoom,y:(0-V.pan.y)/V.zoom}}b[h.DRAG]=!1,b[h.NODE]=!1;var ae=h.textureCache.texture;V=h.textureCache.viewport,(Z=m.contexts[h.NODE]).setTransform(1,0,0,1,0,0),_?Q(Z,0,0,V.width,V.height):Z.clearRect(0,0,V.width,V.height);var te=k.core("outside-texture-bg-color").value,ne=k.core("outside-texture-bg-opacity").value;h.colorFillStyle(Z,te[0],te[1],te[2],ne),Z.fillRect(0,0,V.width,V.height),O=y.zoom(),U(Z,!1),Z.clearRect(V.mpan.x,V.mpan.y,V.width/V.zoom/v,V.height/V.zoom/v),Z.drawImage(ae,V.mpan.x,V.mpan.y,V.width/V.zoom/v,V.height/V.zoom/v)}else h.textureOnViewport&&!r&&(h.textureCache=null);var fe=y.extent(),he=h.pinching||h.hoverData.dragging||h.swipePanning||h.data.wheelZooming||h.hoverData.draggingEles||h.cy.animated(),we=h.hideEdgesOnViewport&&he,de=[];if(de[h.NODE]=!b[h.NODE]&&_&&!h.clearedForMotionBlur[h.NODE]||h.clearingMotionBlur,de[h.NODE]&&(h.clearedForMotionBlur[h.NODE]=!0),de[h.DRAG]=!b[h.DRAG]&&_&&!h.clearedForMotionBlur[h.DRAG]||h.clearingMotionBlur,de[h.DRAG]&&(h.clearedForMotionBlur[h.DRAG]=!0),b[h.NODE]||o||u||de[h.NODE]){var ye=_&&!de[h.NODE]&&1!==x;U(Z=r||(ye?h.data.bufferContexts[h.MOTIONBLUR_BUFFER_NODE]:m.contexts[h.NODE]),_&&!ye?"motionBlur":void 0),we?h.drawCachedNodes(Z,K.nondrag,v,fe):h.drawLayeredElements(Z,K.nondrag,v,fe),h.debug&&h.drawDebugPoints(Z,K.nondrag),!o&&!_&&(b[h.NODE]=!1)}if(!u&&(b[h.DRAG]||o||de[h.DRAG])&&(ye=_&&!de[h.DRAG]&&1!==x,U(Z=r||(ye?h.data.bufferContexts[h.MOTIONBLUR_BUFFER_DRAG]:m.contexts[h.DRAG]),_&&!ye?"motionBlur":void 0),we?h.drawCachedNodes(Z,K.drag,v,fe):h.drawCachedElements(Z,K.drag,v,fe),h.debug&&h.drawDebugPoints(Z,K.drag),!o&&!_&&(b[h.DRAG]=!1)),h.showFps||!u&&b[h.SELECT_BOX]&&!o){var Z;if(U(Z=r||m.contexts[h.SELECT_BOX]),1==h.selection[4]&&(h.hoverData.selecting||h.touchData.selecting)){O=h.cy.zoom();var Oe=k.core("selection-box-border-width").value/O;Z.lineWidth=Oe,Z.fillStyle="rgba("+k.core("selection-box-color").value[0]+","+k.core("selection-box-color").value[1]+","+k.core("selection-box-color").value[2]+","+k.core("selection-box-opacity").value+")",Z.fillRect(h.selection[0],h.selection[1],h.selection[2]-h.selection[0],h.selection[3]-h.selection[1]),Oe>0&&(Z.strokeStyle="rgba("+k.core("selection-box-border-color").value[0]+","+k.core("selection-box-border-color").value[1]+","+k.core("selection-box-border-color").value[2]+","+k.core("selection-box-opacity").value+")",Z.strokeRect(h.selection[0],h.selection[1],h.selection[2]-h.selection[0],h.selection[3]-h.selection[1]))}if(m.bgActivePosistion&&!h.hoverData.selecting){O=h.cy.zoom();var xe=m.bgActivePosistion;Z.fillStyle="rgba("+k.core("active-bg-color").value[0]+","+k.core("active-bg-color").value[1]+","+k.core("active-bg-color").value[2]+","+k.core("active-bg-opacity").value+")",Z.beginPath(),Z.arc(xe.x,xe.y,k.core("active-bg-size").pfValue/O,0,2*Math.PI),Z.fill()}var Me=h.lastRedrawTime;if(h.showFps&&Me){Me=Math.round(Me);var le=Math.round(1e3/Me);Z.setTransform(1,0,0,1,0,0),Z.fillStyle="rgba(255, 0, 0, 0.75)",Z.strokeStyle="rgba(255, 0, 0, 0.75)",Z.lineWidth=1,Z.fillText("1 frame = "+Me+" ms = "+le+" fps",0,20),Z.strokeRect(0,30,250,20),Z.fillRect(0,30,250*Math.min(le/60,1),20)}o||(b[h.SELECT_BOX]=!1)}if(_&&1!==x){var Ke=m.contexts[h.DRAG],gt=h.data.bufferCanvases[h.MOTIONBLUR_BUFFER_DRAG],Ut=function(We,$e,ft){We.setTransform(1,0,0,1,0,0),ft||!P?We.clearRect(0,0,h.canvasWidth,h.canvasHeight):Q(We,0,0,h.canvasWidth,h.canvasHeight),We.drawImage($e,0,0,h.canvasWidth*x,h.canvasHeight*x,0,0,h.canvasWidth,h.canvasHeight)};(b[h.NODE]||de[h.NODE])&&(Ut(m.contexts[h.NODE],h.data.bufferCanvases[h.MOTIONBLUR_BUFFER_NODE],de[h.NODE]),b[h.NODE]=!1),(b[h.DRAG]||de[h.DRAG])&&(Ut(Ke,gt,de[h.DRAG]),b[h.DRAG]=!1)}h.prevViewport=V,h.clearingMotionBlur&&(h.clearingMotionBlur=!1,h.motionBlurCleared=!0,h.motionBlur=!0),_&&(h.motionBlurTimeout=setTimeout(function(){h.motionBlurTimeout=null,h.clearedForMotionBlur[h.NODE]=!1,h.clearedForMotionBlur[h.DRAG]=!1,h.motionBlur=!1,h.clearingMotionBlur=!E,h.mbFrames=0,b[h.NODE]=!0,b[h.DRAG]=!0,h.redraw()},100)),r||y.emit("render")}},Ta={drawPolygonPath:function(a,r,o,u,c,d){var h=u/2,v=c/2;a.beginPath&&a.beginPath(),a.moveTo(r+h*d[0],o+v*d[1]);for(var y=1;y<d.length/2;y++)a.lineTo(r+h*d[2*y],o+v*d[2*y+1]);a.closePath()},drawRoundPolygonPath:function(a,r,o,u,c,d){var h=u/2,v=c/2,y=Ju(u,c);a.beginPath&&a.beginPath();for(var m=0;m<d.length/4;m++){var E,b;b=0===m?d.length-2:4*m-2,E=4*m+2;var _=r+h*d[4*m],x=o+v*d[4*m+1],A=y/Math.tan(Math.acos(-d[b]*d[E]-d[b+1]*d[E+1])/2),T=_-A*d[b],P=x-A*d[b+1],k=_+A*d[E],O=x+A*d[E+1];0===m?a.moveTo(T,P):a.lineTo(T,P),a.arcTo(_,x,k,O,y)}a.closePath()},drawRoundRectanglePath:function(a,r,o,u,c){var d=u/2,h=c/2,v=Oa(u,c);a.beginPath&&a.beginPath(),a.moveTo(r,o-h),a.arcTo(r+d,o-h,r+d,o,v),a.arcTo(r+d,o+h,r,o+h,v),a.arcTo(r-d,o+h,r-d,o,v),a.arcTo(r-d,o-h,r,o-h,v),a.lineTo(r,o-h),a.closePath()},drawBottomRoundRectanglePath:function(a,r,o,u,c){var d=u/2,h=c/2,v=Oa(u,c);a.beginPath&&a.beginPath(),a.moveTo(r,o-h),a.lineTo(r+d,o-h),a.lineTo(r+d,o),a.arcTo(r+d,o+h,r,o+h,v),a.arcTo(r-d,o+h,r-d,o,v),a.lineTo(r-d,o-h),a.lineTo(r,o-h),a.closePath()},drawCutRectanglePath:function(a,r,o,u,c){var d=u/2,h=c/2;a.beginPath&&a.beginPath(),a.moveTo(r-d+8,o-h),a.lineTo(r+d-8,o-h),a.lineTo(r+d,o-h+8),a.lineTo(r+d,o+h-8),a.lineTo(r+d-8,o+h),a.lineTo(r-d+8,o+h),a.lineTo(r-d,o+h-8),a.lineTo(r-d,o-h+8),a.closePath()},drawBarrelPath:function(a,r,o,u,c){var d=u/2,h=c/2,v=r-d,y=r+d,m=o-h,b=o+h,E=Zd(u,c),_=E.widthOffset,x=E.heightOffset,S=E.ctrlPtOffsetPct*_;a.beginPath&&a.beginPath(),a.moveTo(v,m+x),a.lineTo(v,b-x),a.quadraticCurveTo(v+S,b,v+_,b),a.lineTo(y-_,b),a.quadraticCurveTo(y-S,b,y,b-x),a.lineTo(y,m+x),a.quadraticCurveTo(y-S,m,y-_,m),a.lineTo(v+_,m),a.quadraticCurveTo(v+S,m,v,m+x),a.closePath()}},ld=Math.sin(0),Rh=Math.cos(0),cd={},Au={},fd=Math.PI/40,Nu=0*Math.PI;Nu<2*Math.PI;Nu+=fd)cd[Nu]=Math.sin(Nu),Au[Nu]=Math.cos(Nu);Ta.drawEllipsePath=function(a,r,o,u,c){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(r,o,u/2,c/2,0,0,2*Math.PI);else for(var d,h,v=u/2,y=c/2,m=0*Math.PI;m<2*Math.PI;m+=fd)d=r-v*cd[m]*ld+v*Au[m]*Rh,h=o+y*Au[m]*ld+y*cd[m]*Rh,0===m?a.moveTo(d,h):a.lineTo(d,h);a.closePath()};var Pu={};function dd(a){var r=a.indexOf(",");return a.substr(r+1)}function Fh(a,r,o){var u=function(){return r.toDataURL(o,a.quality)};switch(a.output){case"blob-promise":return new rr(function(c,d){try{r.toBlob(function(h){null!=h?c(h):d(new Error("`canvas.toBlob()` sent a null value in its callback"))},o,a.quality)}catch(h){d(h)}});case"blob":return function Tv(a,r){for(var o=atob(a),u=new ArrayBuffer(o.length),c=new Uint8Array(u),d=0;d<o.length;d++)c[d]=o.charCodeAt(d);return new Blob([u],{type:r})}(dd(u()),o);case"base64":return dd(u());default:return u()}}Pu.createBuffer=function(a,r){var o=document.createElement("canvas");return o.width=a,o.height=r,[o,o.getContext("2d")]},Pu.bufferCanvasImage=function(a){var r=this.cy,u=r.mutableElements().boundingBox(),c=this.findContainerClientCoords(),d=a.full?Math.ceil(u.w):c[2],h=a.full?Math.ceil(u.h):c[3],v=nt(a.maxWidth)||nt(a.maxHeight),y=this.getPixelRatio(),m=1;if(void 0!==a.scale)d*=a.scale,h*=a.scale,m=a.scale;else if(v){var b=1/0,E=1/0;nt(a.maxWidth)&&(b=m*a.maxWidth/d),nt(a.maxHeight)&&(E=m*a.maxHeight/h),d*=m=Math.min(b,E),h*=m}v||(d*=y,h*=y,m*=y);var _=document.createElement("canvas");_.width=d,_.height=h,_.style.width=d+"px",_.style.height=h+"px";var x=_.getContext("2d");if(d>0&&h>0){x.clearRect(0,0,d,h),x.globalCompositeOperation="source-over";var S=this.getCachedZSortedEles();if(a.full)x.translate(-u.x1*m,-u.y1*m),x.scale(m,m),this.drawElements(x,S),x.scale(1/m,1/m),x.translate(u.x1*m,u.y1*m);else{var A=r.pan(),T={x:A.x*m,y:A.y*m};m*=r.zoom(),x.translate(T.x,T.y),x.scale(m,m),this.drawElements(x,S),x.scale(1/m,1/m),x.translate(-T.x,-T.y)}a.bg&&(x.globalCompositeOperation="destination-over",x.fillStyle=a.bg,x.rect(0,0,d,h),x.fill())}return _},Pu.png=function(a){return Fh(a,this.bufferCanvasImage(a),"image/png")},Pu.jpg=function(a){return Fh(a,this.bufferCanvasImage(a),"image/jpeg")};var Yc=lg,hn=lg.prototype;function lg(a){var r=this;r.data={canvases:new Array(hn.CANVAS_LAYERS),contexts:new Array(hn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(hn.CANVAS_LAYERS),bufferCanvases:new Array(hn.BUFFER_COUNT),bufferContexts:new Array(hn.CANVAS_LAYERS)};var o="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";r.data.canvasContainer=document.createElement("div");var c=r.data.canvasContainer.style;r.data.canvasContainer.style[o]=u,c.position="relative",c.zIndex="0",c.overflow="hidden";var d=a.cy.container();d.appendChild(r.data.canvasContainer),d.style[o]=u;var h={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};an&&an.userAgent.match(/msie|trident|edge/i)&&(h["-ms-touch-action"]="none",h["touch-action"]="none");for(var v=0;v<hn.CANVAS_LAYERS;v++){var y=r.data.canvases[v]=document.createElement("canvas");r.data.contexts[v]=y.getContext("2d"),Object.keys(h).forEach(function(Me){y.style[Me]=h[Me]}),y.style.position="absolute",y.setAttribute("data-id","layer"+v),y.style.zIndex=String(hn.CANVAS_LAYERS-v),r.data.canvasContainer.appendChild(y),r.data.canvasNeedsRedraw[v]=!1}for(r.data.topCanvas=r.data.canvases[0],r.data.canvases[hn.NODE].setAttribute("data-id","layer"+hn.NODE+"-node"),r.data.canvases[hn.SELECT_BOX].setAttribute("data-id","layer"+hn.SELECT_BOX+"-selectbox"),r.data.canvases[hn.DRAG].setAttribute("data-id","layer"+hn.DRAG+"-drag"),v=0;v<hn.BUFFER_COUNT;v++)r.data.bufferCanvases[v]=document.createElement("canvas"),r.data.bufferContexts[v]=r.data.bufferCanvases[v].getContext("2d"),r.data.bufferCanvases[v].style.position="absolute",r.data.bufferCanvases[v].setAttribute("data-id","buffer"+v),r.data.bufferCanvases[v].style.zIndex=String(-v-1),r.data.bufferCanvases[v].style.visibility="hidden";r.pathsEnabled=!0;var m=Ui(),E=function(le){return{x:-le.w/2,y:-le.h/2}},G=function(le){return le.boundingBox(),le[0]._private.bodyBounds},q=function(le){return le.boundingBox(),le[0]._private.labelBounds.main||m},V=function(le){return le.boundingBox(),le[0]._private.labelBounds.source||m},W=function(le){return le.boundingBox(),le[0]._private.labelBounds.target||m},H=function(le,Ae){return Ae},Q=function(le,Ae,Re){var je=le?le+"-":"";return{x:Ae.x+Re.pstyle(je+"text-margin-x").pfValue,y:Ae.y+Re.pstyle(je+"text-margin-y").pfValue}},U=function(le,Ae,Re){var je=le[0]._private.rscratch;return{x:je[Ae],y:je[Re]}},we=r.data.eleTxrCache=new ir(r,{getKey:function(le){return le[0]._private.nodeKey},doesEleInvalidateKey:function(le){var Ae=le[0]._private;return!(Ae.oldBackgroundTimestamp===Ae.backgroundTimestamp)},drawElement:function(le,Ae,Re,je,Ke){return r.drawElement(le,Ae,Re,!1,!1,Ke)},getBoundingBox:G,getRotationPoint:function(le){return function(le){return{x:(le.x1+le.x2)/2,y:(le.y1+le.y2)/2}}(G(le))},getRotationOffset:function(le){return E(G(le))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),de=r.data.lblTxrCache=new ir(r,{getKey:function(le){return le[0]._private.labelStyleKey},drawElement:function(le,Ae,Re,je,Ke){return r.drawElementText(le,Ae,Re,je,"main",Ke)},getBoundingBox:q,getRotationPoint:function(le){return Q("",U(le,"labelX","labelY"),le)},getRotationOffset:function(le){var Ae=q(le),Re=E(q(le));if(le.isNode()){switch(le.pstyle("text-halign").value){case"left":Re.x=-Ae.w;break;case"right":Re.x=0}switch(le.pstyle("text-valign").value){case"top":Re.y=-Ae.h;break;case"bottom":Re.y=0}}return Re},isVisible:H}),ye=r.data.slbTxrCache=new ir(r,{getKey:function(le){return le[0]._private.sourceLabelStyleKey},drawElement:function(le,Ae,Re,je,Ke){return r.drawElementText(le,Ae,Re,je,"source",Ke)},getBoundingBox:V,getRotationPoint:function(le){return Q("source",U(le,"sourceLabelX","sourceLabelY"),le)},getRotationOffset:function(le){return E(V(le))},isVisible:H}),Te=r.data.tlbTxrCache=new ir(r,{getKey:function(le){return le[0]._private.targetLabelStyleKey},drawElement:function(le,Ae,Re,je,Ke){return r.drawElementText(le,Ae,Re,je,"target",Ke)},getBoundingBox:W,getRotationPoint:function(le){return Q("target",U(le,"targetLabelX","targetLabelY"),le)},getRotationOffset:function(le){return E(W(le))},isVisible:H}),Oe=r.data.lyrTxrCache=new tg(r);r.onUpdateEleCalcs(function(le,Ae){we.invalidateElements(Ae),de.invalidateElements(Ae),ye.invalidateElements(Ae),Te.invalidateElements(Ae),Oe.invalidateElements(Ae);for(var Re=0;Re<Ae.length;Re++){var je=Ae[Re]._private;je.oldBackgroundTimestamp=je.backgroundTimestamp}});var xe=function(le){for(var Ae=0;Ae<le.length;Ae++)Oe.enqueueElementRefinement(le[Ae].ele)};we.onDequeue(xe),de.onDequeue(xe),ye.onDequeue(xe),Te.onDequeue(xe)}hn.CANVAS_LAYERS=3,hn.SELECT_BOX=0,hn.DRAG=1,hn.NODE=2,hn.BUFFER_COUNT=3,hn.TEXTURE_BUFFER=0,hn.MOTIONBLUR_BUFFER_NODE=1,hn.MOTIONBLUR_BUFFER_DRAG=2,hn.redrawHint=function(a,r){var o=this;switch(a){case"eles":o.data.canvasNeedsRedraw[hn.NODE]=r;break;case"drag":o.data.canvasNeedsRedraw[hn.DRAG]=r;break;case"select":o.data.canvasNeedsRedraw[hn.SELECT_BOX]=r}};var Av=typeof Path2D<"u";hn.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a},hn.usePaths=function(){return Av&&this.pathsEnabled},hn.setImgSmoothing=function(a,r){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=r:(a.webkitImageSmoothingEnabled=r,a.mozImageSmoothingEnabled=r,a.msImageSmoothingEnabled=r)},hn.getImgSmoothing=function(a){return null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled:a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled},hn.makeOffscreenCanvas=function(a,r){var o;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":en(OffscreenCanvas))?o=new OffscreenCanvas(a,r):((o=document.createElement("canvas")).width=a,o.height=r),o},[Nh,go,ra,ud,vo,Tu,Fi,Ta,Pu,{nodeShapeImpl:function(a,r,o,u,c,d,h){switch(a){case"ellipse":return this.drawEllipsePath(r,o,u,c,d);case"polygon":return this.drawPolygonPath(r,o,u,c,d,h);case"round-polygon":return this.drawRoundPolygonPath(r,o,u,c,d,h);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(r,o,u,c,d);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(r,o,u,c,d);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(r,o,u,c,d);case"barrel":return this.drawBarrelPath(r,o,u,c,d)}}}].forEach(function(a){yt(hn,a)});var Nv=[{type:"layout",extensions:Ao},{type:"renderer",extensions:[{name:"null",impl:Mh},{name:"base",impl:td},{name:"canvas",impl:Yc}]}],cg={},fg={};function dg(a,r,o){var u=o,c=function(W){Cn("Can not register `"+r+"` for `"+a+"` since `"+W+"` already exists in the prototype and can not be overridden")};if("core"===a){if(wi.prototype[r])return c(r);wi.prototype[r]=o}else if("collection"===a){if(jr.prototype[r])return c(r);jr.prototype[r]=o}else if("layout"===a){for(var d=function(W){this.options=W,o.call(this,W),mt(this._private)||(this._private={}),this._private.cy=W.cy,this._private.listeners=[],this.createEmitter()},h=d.prototype=Object.create(o.prototype),v=[],y=0;y<v.length;y++){var m=v[y];h[m]=h[m]||function(){return this}}h.start&&!h.run?h.run=function(){return this.start(),this}:!h.start&&h.run&&(h.start=function(){return this.run(),this});var b=o.prototype.stop;h.stop=function(){var V=this.options;if(V&&V.animate){var W=this.animations;if(W)for(var H=0;H<W.length;H++)W[H].stop()}return b?b.call(this):this.emit("layoutstop"),this},h.destroy||(h.destroy=function(){return this}),h.cy=function(){return this._private.cy};var E=function(W){return W._private.cy},_={addEventFields:function(W,H){H.layout=W,H.cy=E(W),H.target=W},bubble:function(){return!0},parent:function(W){return E(W)}};yt(h,{createEmitter:function(){return this._private.emitter=new su(_,this),this},emitter:function(){return this._private.emitter},on:function(W,H){return this.emitter().on(W,H),this},one:function(W,H){return this.emitter().one(W,H),this},once:function(W,H){return this.emitter().one(W,H),this},removeListener:function(W,H){return this.emitter().removeListener(W,H),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(W,H){return this.emitter().emit(W,H),this}}),_t.eventAliasesOn(h),u=d}else if("renderer"===a&&"null"!==r&&"base"!==r){var x=hg("renderer","base"),S=x.prototype,A=o,T=o.prototype,P=function(){x.apply(this,arguments),A.apply(this,arguments)},k=P.prototype;for(var O in S){var B=S[O];if(null!=T[O])return c(O);k[O]=B}for(var q in T)k[q]=T[q];S.clientFunctions.forEach(function(V){k[V]=k[V]||function(){Pn("Renderer does not implement `renderer."+V+"()` on its prototype")}}),u=P}else if("__proto__"===a||"constructor"===a||"prototype"===a)return Pn(a+" is an illegal type to be registered, possibly lead to prototype pollutions");return Zl({map:cg,keys:[a,r],value:u})}function hg(a,r){return Yl({map:cg,keys:[a,r]})}function pg(a,r,o,u,c){return Zl({map:fg,keys:[a,r,o,u],value:c})}function Kc(a,r,o,u){return Yl({map:fg,keys:[a,r,o,u]})}var ku=function(){return 2===arguments.length?hg.apply(null,arguments):3===arguments.length?dg.apply(null,arguments):4===arguments.length?Kc.apply(null,arguments):5===arguments.length?pg.apply(null,arguments):void Pn("Invalid extension access syntax")};wi.prototype.extension=ku,Nv.forEach(function(a){a.extensions.forEach(function(r){dg(a.type,r.name,r.impl)})});var pd=function a(){if(!(this instanceof a))return new a;this.length=0},Ka=pd.prototype;Ka.instanceString=function(){return"stylesheet"},Ka.selector=function(a){return this[this.length++]={selector:a,properties:[]},this},Ka.css=function(a,r){var o=this.length-1;if(Ye(a))this[o].properties.push({name:a,value:r});else if(mt(a))for(var u=a,c=Object.keys(u),d=0;d<c.length;d++){var h=c[d],v=u[h];if(null!=v){var y=ni.properties[h]||ni.properties[ns(h)];null!=y&&this[o].properties.push({name:y.name,value:v})}}return this},Ka.style=Ka.css,Ka.generateStyle=function(a){var r=new ni(a);return this.appendToStyle(r)},Ka.appendToStyle=function(a){for(var r=0;r<this.length;r++){var o=this[r],c=o.properties;a.selector(o.selector);for(var d=0;d<c.length;d++){var h=c[d];a.css(h.name,h.value)}}return a};var mo=function(r){return void 0===r&&(r={}),mt(r)?new wi(r):Ye(r)?ku.apply(ku,arguments):void 0};mo.use=function(a){var r=Array.prototype.slice.call(arguments,1);return r.unshift(mo),a.apply(null,r),this},mo.warnings=function(a){return Bd(a)},mo.version="3.27.0",mo.stylesheet=mo.Stylesheet=pd,pe.exports=mo},7444:(pe,qe,ie)=>{pe.exports=ie(7253)},7253:function(pe,qe){var ie,ce,L;(function(){var Ee,De,Be,Ce,et,ct,dt,ht,En,en,ar,qn,Mn,gn,Qt;Be=Math.floor,en=Math.min,De=function(He,tt){return He<tt?-1:He>tt?1:0},En=function(He,tt,ut,pt,vn){var bt;if(null==ut&&(ut=0),null==vn&&(vn=De),ut<0)throw new Error("lo must be non-negative");for(null==pt&&(pt=He.length);ut<pt;)vn(tt,He[bt=Be((ut+pt)/2)])<0?pt=bt:ut=bt+1;return[].splice.apply(He,[ut,ut-ut].concat(tt)),tt},ct=function(He,tt,ut){return null==ut&&(ut=De),He.push(tt),gn(He,0,He.length-1,ut)},et=function(He,tt){var ut,pt;return null==tt&&(tt=De),ut=He.pop(),He.length?(pt=He[0],He[0]=ut,Qt(He,0,tt)):pt=ut,pt},ht=function(He,tt,ut){var pt;return null==ut&&(ut=De),pt=He[0],He[0]=tt,Qt(He,0,ut),pt},dt=function(He,tt,ut){var pt;return null==ut&&(ut=De),He.length&&ut(He[0],tt)<0&&(tt=(pt=[He[0],tt])[0],He[0]=pt[1],Qt(He,0,ut)),tt},Ce=function(He,tt){var pt,bt,$n,gi,no;for(null==tt&&(tt=De),gi=[],pt=0,bt=($n=function(){no=[];for(var Vi=0,fr=Be(He.length/2);0<=fr?Vi<fr:Vi>fr;0<=fr?Vi++:Vi--)no.push(Vi);return no}.apply(this).reverse()).length;pt<bt;pt++)gi.push(Qt(He,$n[pt],tt));return gi},Mn=function(He,tt,ut){var pt;if(null==ut&&(ut=De),-1!==(pt=He.indexOf(tt)))return gn(He,0,pt,ut),Qt(He,pt,ut)},ar=function(He,tt,ut){var vn,bt,an,$n;if(null==ut&&(ut=De),!(vn=He.slice(0,tt)).length)return vn;for(Ce(vn,ut),bt=0,an=($n=He.slice(tt)).length;bt<an;bt++)dt(vn,$n[bt],ut);return vn.sort(ut).reverse()},qn=function(He,tt,ut){var pt,bt,an,$n,gi,no,Vi,fr,Ye;if(null==ut&&(ut=De),10*tt<=He.length){if(!(an=He.slice(0,tt).sort(ut)).length)return an;for(bt=an[an.length-1],$n=0,no=(Vi=He.slice(tt)).length;$n<no;$n++)ut(pt=Vi[$n],bt)<0&&(En(an,pt,0,null,ut),an.pop(),bt=an[an.length-1]);return an}for(Ce(He,ut),Ye=[],gi=0,fr=en(tt,He.length);0<=fr?gi<fr:gi>fr;0<=fr?++gi:--gi)Ye.push(et(He,ut));return Ye},gn=function(He,tt,ut,pt){var vn,bt,an;for(null==pt&&(pt=De),vn=He[ut];ut>tt&&pt(vn,bt=He[an=ut-1>>1])<0;)He[ut]=bt,ut=an;return He[ut]=vn},Qt=function(He,tt,ut){var pt,vn,bt,an,$n;for(null==ut&&(ut=De),vn=He.length,$n=tt,bt=He[tt],pt=2*tt+1;pt<vn;)(an=pt+1)<vn&&!(ut(He[pt],He[an])<0)&&(pt=an),He[tt]=He[pt],pt=2*(tt=pt)+1;return He[tt]=bt,gn(He,$n,tt,ut)},Ee=function(){function He(tt){this.cmp=tt??De,this.nodes=[]}return He.push=ct,He.pop=et,He.replace=ht,He.pushpop=dt,He.heapify=Ce,He.updateItem=Mn,He.nlargest=ar,He.nsmallest=qn,He.prototype.push=function(tt){return ct(this.nodes,tt,this.cmp)},He.prototype.pop=function(){return et(this.nodes,this.cmp)},He.prototype.peek=function(){return this.nodes[0]},He.prototype.contains=function(tt){return-1!==this.nodes.indexOf(tt)},He.prototype.replace=function(tt){return ht(this.nodes,tt,this.cmp)},He.prototype.pushpop=function(tt){return dt(this.nodes,tt,this.cmp)},He.prototype.heapify=function(){return Ce(this.nodes,this.cmp)},He.prototype.updateItem=function(tt){return Mn(this.nodes,tt,this.cmp)},He.prototype.clear=function(){return this.nodes=[]},He.prototype.empty=function(){return 0===this.nodes.length},He.prototype.size=function(){return this.nodes.length},He.prototype.clone=function(){var tt;return(tt=new He).nodes=this.nodes.slice(0),tt},He.prototype.toArray=function(){return this.nodes.slice(0)},He.prototype.insert=He.prototype.push,He.prototype.top=He.prototype.peek,He.prototype.front=He.prototype.peek,He.prototype.has=He.prototype.contains,He.prototype.copy=He.prototype.clone,He}(),ce=[],void 0===(L="function"==typeof(ie=function(){return Ee})?ie.apply(qe,ce):ie)||(pe.exports=L)}).call(this)},9618:(pe,qe,ie)=>{var ce=ie(5602),L=ie(1499),Ee=ie(2990),De=ie(480),Be=ie(4469);function Ce(et){var ct=-1,dt=null==et?0:et.length;for(this.clear();++ct<dt;){var ht=et[ct];this.set(ht[0],ht[1])}}Ce.prototype.clear=ce,Ce.prototype.delete=L,Ce.prototype.get=Ee,Ce.prototype.has=De,Ce.prototype.set=Be,pe.exports=Ce},3597:(pe,qe,ie)=>{var ce=ie(9365),L=ie(9343),Ee=ie(4779),De=ie(1509),Be=ie(7137);function Ce(et){var ct=-1,dt=null==et?0:et.length;for(this.clear();++ct<dt;){var ht=et[ct];this.set(ht[0],ht[1])}}Ce.prototype.clear=ce,Ce.prototype.delete=L,Ce.prototype.get=Ee,Ce.prototype.has=De,Ce.prototype.set=Be,pe.exports=Ce},1136:(pe,qe,ie)=>{var Ee=ie(8745)(ie(8492),"Map");pe.exports=Ee},1811:(pe,qe,ie)=>{var ce=ie(3413),L=ie(5419),Ee=ie(7336),De=ie(1115),Be=ie(6648);function Ce(et){var ct=-1,dt=null==et?0:et.length;for(this.clear();++ct<dt;){var ht=et[ct];this.set(ht[0],ht[1])}}Ce.prototype.clear=ce,Ce.prototype.delete=L,Ce.prototype.get=Ee,Ce.prototype.has=De,Ce.prototype.set=Be,pe.exports=Ce},1763:(pe,qe,ie)=>{var ce=ie(8492);pe.exports=ce.Symbol},3880:pe=>{pe.exports=function qe(ie,ce){for(var L=-1,Ee=null==ie?0:ie.length,De=Array(Ee);++L<Ee;)De[L]=ce(ie[L],L,ie);return De}},9553:(pe,qe,ie)=>{var ce=ie(1741),L=ie(7826),De=Object.prototype.hasOwnProperty;pe.exports=function Be(Ce,et,ct){var dt=Ce[et];(!De.call(Ce,et)||!L(dt,ct)||void 0===ct&&!(et in Ce))&&ce(Ce,et,ct)}},4056:(pe,qe,ie)=>{var ce=ie(7826);pe.exports=function L(Ee,De){for(var Be=Ee.length;Be--;)if(ce(Ee[Be][0],De))return Be;return-1}},1741:(pe,qe,ie)=>{var ce=ie(9383);pe.exports=function L(Ee,De,Be){"__proto__"==De&&ce?ce(Ee,De,{configurable:!0,enumerable:!0,value:Be,writable:!0}):Ee[De]=Be}},2202:(pe,qe,ie)=>{var ce=ie(4826),L=ie(8916);pe.exports=function Ee(De,Be){for(var Ce=0,et=(Be=ce(Be,De)).length;null!=De&&Ce<et;)De=De[L(Be[Ce++])];return Ce&&Ce==et?De:void 0}},4590:(pe,qe,ie)=>{var ce=ie(1763),L=ie(5933),Ee=ie(9243),Ce=ce?ce.toStringTag:void 0;pe.exports=function et(ct){return null==ct?void 0===ct?"[object Undefined]":"[object Null]":Ce&&Ce in Object(ct)?L(ct):Ee(ct)}},1082:(pe,qe,ie)=>{var ce=ie(6861),L=ie(9950),Ee=ie(9794),De=ie(7075),Ce=/^\[object .+?Constructor\]$/,En=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");pe.exports=function en(ar){return!(!Ee(ar)||L(ar))&&(ce(ar)?En:Ce).test(De(ar))}},9478:(pe,qe,ie)=>{var ce=ie(9553),L=ie(4826),Ee=ie(5188),De=ie(9794),Be=ie(8916);pe.exports=function Ce(et,ct,dt,ht){if(!De(et))return et;for(var En=-1,en=(ct=L(ct,et)).length,ar=en-1,qn=et;null!=qn&&++En<en;){var Mn=Be(ct[En]),gn=dt;if("__proto__"===Mn||"constructor"===Mn||"prototype"===Mn)return et;if(En!=ar){var Qt=qn[Mn];void 0===(gn=ht?ht(Qt,Mn,qn):void 0)&&(gn=De(Qt)?Qt:Ee(ct[En+1])?[]:{})}ce(qn,Mn,gn),qn=qn[Mn]}return et}},7002:(pe,qe,ie)=>{var ce=ie(1763),L=ie(3880),Ee=ie(2261),De=ie(3423),Ce=ce?ce.prototype:void 0,et=Ce?Ce.toString:void 0;pe.exports=function ct(dt){if("string"==typeof dt)return dt;if(Ee(dt))return L(dt,ct)+"";if(De(dt))return et?et.call(dt):"";var ht=dt+"";return"0"==ht&&1/dt==-1/0?"-0":ht}},9484:(pe,qe,ie)=>{var ce=ie(1781),L=/^\s+/;pe.exports=function Ee(De){return De&&De.slice(0,ce(De)+1).replace(L,"")}},4826:(pe,qe,ie)=>{var ce=ie(2261),L=ie(6300),Ee=ie(163),De=ie(2674);pe.exports=function Be(Ce,et){return ce(Ce)?Ce:L(Ce,et)?[Ce]:Ee(De(Ce))}},4231:pe=>{pe.exports=function qe(ie,ce){var L=-1,Ee=ie.length;for(ce||(ce=Array(Ee));++L<Ee;)ce[L]=ie[L];return ce}},6189:(pe,qe,ie)=>{var ce=ie(8492);pe.exports=ce["__core-js_shared__"]},9383:(pe,qe,ie)=>{var ce=ie(8745),L=function(){try{var Ee=ce(Object,"defineProperty");return Ee({},"",{}),Ee}catch{}}();pe.exports=L},248:pe=>{var qe="object"==typeof global&&global&&global.Object===Object&&global;pe.exports=qe},4113:(pe,qe,ie)=>{var ce=ie(29);pe.exports=function L(Ee,De){var Be=Ee.__data__;return ce(De)?Be["string"==typeof De?"string":"hash"]:Be.map}},8745:(pe,qe,ie)=>{var ce=ie(1082),L=ie(1015);pe.exports=function Ee(De,Be){var Ce=L(De,Be);return ce(Ce)?Ce:void 0}},5933:(pe,qe,ie)=>{var ce=ie(1763),L=Object.prototype,Ee=L.hasOwnProperty,De=L.toString,Be=ce?ce.toStringTag:void 0;pe.exports=function Ce(et){var ct=Ee.call(et,Be),dt=et[Be];try{et[Be]=void 0;var ht=!0}catch{}var En=De.call(et);return ht&&(ct?et[Be]=dt:delete et[Be]),En}},1015:pe=>{pe.exports=function qe(ie,ce){return ie?.[ce]}},5602:(pe,qe,ie)=>{var ce=ie(893);pe.exports=function L(){this.__data__=ce?ce(null):{},this.size=0}},1499:pe=>{pe.exports=function qe(ie){var ce=this.has(ie)&&delete this.__data__[ie];return this.size-=ce?1:0,ce}},2990:(pe,qe,ie)=>{var ce=ie(893),De=Object.prototype.hasOwnProperty;pe.exports=function Be(Ce){var et=this.__data__;if(ce){var ct=et[Ce];return"__lodash_hash_undefined__"===ct?void 0:ct}return De.call(et,Ce)?et[Ce]:void 0}},480:(pe,qe,ie)=>{var ce=ie(893),Ee=Object.prototype.hasOwnProperty;pe.exports=function De(Be){var Ce=this.__data__;return ce?void 0!==Ce[Be]:Ee.call(Ce,Be)}},4469:(pe,qe,ie)=>{var ce=ie(893);pe.exports=function Ee(De,Be){var Ce=this.__data__;return this.size+=this.has(De)?0:1,Ce[De]=ce&&void 0===Be?"__lodash_hash_undefined__":Be,this}},5188:pe=>{var ie=/^(?:0|[1-9]\d*)$/;pe.exports=function ce(L,Ee){var De=typeof L;return!!(Ee=Ee??9007199254740991)&&("number"==De||"symbol"!=De&&ie.test(L))&&L>-1&&L%1==0&&L<Ee}},6300:(pe,qe,ie)=>{var ce=ie(2261),L=ie(3423),Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/;pe.exports=function Be(Ce,et){if(ce(Ce))return!1;var ct=typeof Ce;return!("number"!=ct&&"symbol"!=ct&&"boolean"!=ct&&null!=Ce&&!L(Ce))||De.test(Ce)||!Ee.test(Ce)||null!=et&&Ce in Object(et)}},29:pe=>{pe.exports=function qe(ie){var ce=typeof ie;return"string"==ce||"number"==ce||"symbol"==ce||"boolean"==ce?"__proto__"!==ie:null===ie}},9950:(pe,qe,ie)=>{var De,ce=ie(6189),L=(De=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+De:"";pe.exports=function Ee(De){return!!L&&L in De}},9365:pe=>{pe.exports=function qe(){this.__data__=[],this.size=0}},9343:(pe,qe,ie)=>{var ce=ie(4056),Ee=Array.prototype.splice;pe.exports=function De(Be){var Ce=this.__data__,et=ce(Ce,Be);return!(et<0||(et==Ce.length-1?Ce.pop():Ee.call(Ce,et,1),--this.size,0))}},4779:(pe,qe,ie)=>{var ce=ie(4056);pe.exports=function L(Ee){var De=this.__data__,Be=ce(De,Ee);return Be<0?void 0:De[Be][1]}},1509:(pe,qe,ie)=>{var ce=ie(4056);pe.exports=function L(Ee){return ce(this.__data__,Ee)>-1}},7137:(pe,qe,ie)=>{var ce=ie(4056);pe.exports=function L(Ee,De){var Be=this.__data__,Ce=ce(Be,Ee);return Ce<0?(++this.size,Be.push([Ee,De])):Be[Ce][1]=De,this}},3413:(pe,qe,ie)=>{var ce=ie(9618),L=ie(3597),Ee=ie(1136);pe.exports=function De(){this.size=0,this.__data__={hash:new ce,map:new(Ee||L),string:new ce}}},5419:(pe,qe,ie)=>{var ce=ie(4113);pe.exports=function L(Ee){var De=ce(this,Ee).delete(Ee);return this.size-=De?1:0,De}},7336:(pe,qe,ie)=>{var ce=ie(4113);pe.exports=function L(Ee){return ce(this,Ee).get(Ee)}},1115:(pe,qe,ie)=>{var ce=ie(4113);pe.exports=function L(Ee){return ce(this,Ee).has(Ee)}},6648:(pe,qe,ie)=>{var ce=ie(4113);pe.exports=function L(Ee,De){var Be=ce(this,Ee),Ce=Be.size;return Be.set(Ee,De),this.size+=Be.size==Ce?0:1,this}},7371:(pe,qe,ie)=>{var ce=ie(7659);pe.exports=function Ee(De){var Be=ce(De,function(et){return 500===Ce.size&&Ce.clear(),et}),Ce=Be.cache;return Be}},893:(pe,qe,ie)=>{var L=ie(8745)(Object,"create");pe.exports=L},9243:pe=>{var ie=Object.prototype.toString;pe.exports=function ce(L){return ie.call(L)}},8492:(pe,qe,ie)=>{var ce=ie(248),L="object"==typeof self&&self&&self.Object===Object&&self,Ee=ce||L||Function("return this")();pe.exports=Ee},163:(pe,qe,ie)=>{var ce=ie(7371),L=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/\\(\\)?/g,De=ce(function(Be){var Ce=[];return 46===Be.charCodeAt(0)&&Ce.push(""),Be.replace(L,function(et,ct,dt,ht){Ce.push(dt?ht.replace(Ee,"$1"):ct||et)}),Ce});pe.exports=De},8916:(pe,qe,ie)=>{var ce=ie(3423);pe.exports=function Ee(De){if("string"==typeof De||ce(De))return De;var Be=De+"";return"0"==Be&&1/De==-1/0?"-0":Be}},7075:pe=>{var ie=Function.prototype.toString;pe.exports=function ce(L){if(null!=L){try{return ie.call(L)}catch{}try{return L+""}catch{}}return""}},1781:pe=>{var qe=/\s/;pe.exports=function ie(ce){for(var L=ce.length;L--&&qe.test(ce.charAt(L)););return L}},4430:(pe,qe,ie)=>{var ce=ie(9794),L=ie(5533),Ee=ie(4282),Be=Math.max,Ce=Math.min;pe.exports=function et(ct,dt,ht){var En,en,ar,qn,Mn,gn,Qt=0,He=!1,tt=!1,ut=!0;if("function"!=typeof ct)throw new TypeError("Expected a function");function pt(Ye){var In=En,dn=en;return En=en=void 0,Qt=Ye,qn=ct.apply(dn,In)}function an(Ye){var In=Ye-gn;return void 0===gn||In>=dt||In<0||tt&&Ye-Qt>=ar}function $n(){var Ye=L();if(an(Ye))return gi(Ye);Mn=setTimeout($n,function bt(Ye){var mt=dt-(Ye-gn);return tt?Ce(mt,ar-(Ye-Qt)):mt}(Ye))}function gi(Ye){return Mn=void 0,ut&&En?pt(Ye):(En=en=void 0,qn)}function fr(){var Ye=L(),In=an(Ye);if(En=arguments,en=this,gn=Ye,In){if(void 0===Mn)return function vn(Ye){return Qt=Ye,Mn=setTimeout($n,dt),He?pt(Ye):qn}(gn);if(tt)return clearTimeout(Mn),Mn=setTimeout($n,dt),pt(gn)}return void 0===Mn&&(Mn=setTimeout($n,dt)),qn}return dt=Ee(dt)||0,ce(ht)&&(He=!!ht.leading,ar=(tt="maxWait"in ht)?Be(Ee(ht.maxWait)||0,dt):ar,ut="trailing"in ht?!!ht.trailing:ut),fr.cancel=function no(){void 0!==Mn&&clearTimeout(Mn),Qt=0,En=gn=en=Mn=void 0},fr.flush=function Vi(){return void 0===Mn?qn:gi(L())},fr}},7826:pe=>{pe.exports=function qe(ie,ce){return ie===ce||ie!=ie&&ce!=ce}},5440:(pe,qe,ie)=>{var ce=ie(2202);pe.exports=function L(Ee,De,Be){var Ce=null==Ee?void 0:ce(Ee,De);return void 0===Ce?Be:Ce}},2261:pe=>{pe.exports=Array.isArray},6861:(pe,qe,ie)=>{var ce=ie(4590),L=ie(9794);pe.exports=function et(ct){if(!L(ct))return!1;var dt=ce(ct);return"[object Function]"==dt||"[object GeneratorFunction]"==dt||"[object AsyncFunction]"==dt||"[object Proxy]"==dt}},9794:pe=>{pe.exports=function qe(ie){var ce=typeof ie;return null!=ie&&("object"==ce||"function"==ce)}},3714:pe=>{pe.exports=function qe(ie){return null!=ie&&"object"==typeof ie}},3423:(pe,qe,ie)=>{var ce=ie(4590),L=ie(3714);pe.exports=function De(Be){return"symbol"==typeof Be||L(Be)&&"[object Symbol]"==ce(Be)}},6990:function(pe,qe,ie){var ce;pe=ie.nmd(pe),function(){var L,Ce="Expected a function",ct="__lodash_hash_undefined__",ht="__lodash_placeholder__",mt=1/0,ua=9007199254740991,$i=4294967295,Od=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Mi="[object Arguments]",ro="[object Array]",Ii="[object Boolean]",ts="[object Date]",Fs="[object Error]",jl="[object Function]",Ls="[object GeneratorFunction]",Hi="[object Map]",ns="[object Number]",la="[object Object]",Nr="[object Promise]",Bs="[object RegExp]",Co="[object Set]",rs="[object String]",Gl="[object Symbol]",is="[object WeakMap]",yt="[object ArrayBuffer]",Vs="[object DataView]",$o="[object Float32Array]",Wl="[object Float64Array]",hf="[object Int8Array]",ql="[object Int16Array]",pf="[object Int32Array]",Zl="[object Uint8Array]",Yl="[object Uint8ClampedArray]",Uu="[object Uint16Array]",Kl="[object Uint32Array]",Ip=/\b__p \+= '';/g,Ql=/\b(__p \+=) '' \+/g,ca=/(__e\(.*?\)|\b__t\)) \+\n'';/g,os=/&(?:amp|lt|gt|quot|#39);/g,gf=/[&<>"']/g,Xl=RegExp(os.source),vf=RegExp(gf.source),$s=/<%-([\s\S]+?)%>/g,Hs=/<%([\s\S]+?)%>/g,mf=/<%=([\s\S]+?)%>/g,fa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jl=/^\w*$/,Rd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ho=/[\\^$.*+?()[\]{}|]/g,yf=RegExp(Ho.source),ec=/^\s+/,_o=/\s/,Tp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ap=/\{\n\/\* \[wrapped with (.+)\] \*/,wf=/,? & /,Fd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ju=/[()=,{}\[\]\/\s]/,Ld=/\\(\\)?/g,bf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pn=/\w*$/,Bd=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,Np=/^\[object .+?Constructor\]$/,So=/^0o[0-7]+$/i,fv=/^(?:0|[1-9]\d*)$/,Vd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tc=/($^)/,nc=/['\n\r\u2028\u2029\\]/g,br="\\ud800-\\udfff",zi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ha="\\u2700-\\u27bf",Hd="a-z\\xdf-\\xf6\\xf8-\\xff",Gu="A-Z\\xc0-\\xd6\\xd8-\\xde",Wu="\\ufe0e\\ufe0f",Us="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kp="["+br+"]",Cf="["+Us+"]",js="["+zi+"]",Ud="\\d+",Op="["+ha+"]",jd="["+Hd+"]",kn="[^"+br+Us+Ud+ha+Hd+Gu+"]",Gs="\\ud83c[\\udffb-\\udfff]",rc="[^"+br+"]",qu="(?:\\ud83c[\\udde6-\\uddff]){2}",Vn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="["+Gu+"]",Zu="(?:"+jd+"|"+kn+")",Yu="(?:"+Ct+"|"+kn+")",_f="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ze="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ku="(?:"+js+"|"+Gs+")?",Rt="["+Wu+"]?",Sf=Rt+Ku+"(?:\\u200d(?:"+[rc,qu,Vn].join("|")+")"+Rt+Ku+")*",pa="(?:"+[Op,qu,Vn].join("|")+")"+Sf,kr="(?:"+[rc+js+"?",js,qu,Vn,kp].join("|")+")",dv=RegExp("['\u2019]","g"),$r=RegExp(js,"g"),ss=RegExp(Gs+"(?="+Gs+")|"+kr+Sf,"g"),us=RegExp([Ct+"?"+jd+"+"+_f+"(?="+[Cf,Ct,"$"].join("|")+")",Yu+"+"+Ze+"(?="+[Cf,Ct+Zu,"$"].join("|")+")",Ct+"?"+Zu+"+"+_f,Ct+"+"+Ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ud,pa].join("|"),"g"),oc=RegExp("[\\u200d"+br+zi+Wu+"]"),Ui=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pv=-1,Kn={};Kn[$o]=Kn[Wl]=Kn[hf]=Kn[ql]=Kn[pf]=Kn[Zl]=Kn[Yl]=Kn[Uu]=Kn[Kl]=!0,Kn[Mi]=Kn[ro]=Kn[yt]=Kn[Ii]=Kn[Vs]=Kn[ts]=Kn[Fs]=Kn[jl]=Kn[Hi]=Kn[ns]=Kn[la]=Kn[Bs]=Kn[Co]=Kn[rs]=Kn[is]=!1;var Qn={};Qn[Mi]=Qn[ro]=Qn[yt]=Qn[Vs]=Qn[Ii]=Qn[ts]=Qn[$o]=Qn[Wl]=Qn[hf]=Qn[ql]=Qn[pf]=Qn[Hi]=Qn[ns]=Qn[la]=Qn[Bs]=Qn[Co]=Qn[rs]=Qn[Gl]=Qn[Zl]=Qn[Yl]=Qn[Uu]=Qn[Kl]=!0,Qn[Fs]=Qn[jl]=Qn[is]=!1;var Mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qu=parseFloat,gv=parseInt,qd="object"==typeof global&&global&&global.Object===Object&&global,Rn="object"==typeof self&&self&&self.Object===Object&&self,ui=qd||Rn||Function("return this")(),Uo=qe&&!qe.nodeType&&qe,ka=Uo&&pe&&!pe.nodeType&&pe,Rp=ka&&ka.exports===Uo,sc=Rp&&qd.process,io=function(){try{return ka&&ka.require&&ka.require("util").types||sc&&sc.binding&&sc.binding("util")}catch{}}(),Hr=io&&io.isArrayBuffer,Gi=io&&io.isDate,uc=io&&io.isMap,lc=io&&io.isRegExp,xf=io&&io.isSet,cn=io&&io.isTypedArray;function mr(oe,_e,ge){switch(ge.length){case 0:return oe.call(_e);case 1:return oe.call(_e,ge[0]);case 2:return oe.call(_e,ge[0],ge[1]);case 3:return oe.call(_e,ge[0],ge[1],ge[2])}return oe.apply(_e,ge)}function Ws(oe,_e,ge,ot){for(var Ht=-1,_n=null==oe?0:oe.length;++Ht<_n;){var Or=oe[Ht];_e(ot,Or,ge(Or),oe)}return ot}function Hn(oe,_e){for(var ge=-1,ot=null==oe?0:oe.length;++ge<ot&&!1!==_e(oe[ge],ge,oe););return oe}function ga(oe,_e){for(var ge=null==oe?0:oe.length;ge--&&!1!==_e(oe[ge],ge,oe););return oe}function Xu(oe,_e){for(var ge=-1,ot=null==oe?0:oe.length;++ge<ot;)if(!_e(oe[ge],ge,oe))return!1;return!0}function mn(oe,_e){for(var ge=-1,ot=null==oe?0:oe.length,Ht=0,_n=[];++ge<ot;){var Or=oe[ge];_e(Or,ge,oe)&&(_n[Ht++]=Or)}return _n}function qs(oe,_e){return!(null==oe||!oe.length)&&jo(oe,_e,0)>-1}function li(oe,_e,ge){for(var ot=-1,Ht=null==oe?0:oe.length;++ot<Ht;)if(ge(_e,oe[ot]))return!0;return!1}function zn(oe,_e){for(var ge=-1,ot=null==oe?0:oe.length,Ht=Array(ot);++ge<ot;)Ht[ge]=_e(oe[ge],ge,oe);return Ht}function oo(oe,_e){for(var ge=-1,ot=_e.length,Ht=oe.length;++ge<ot;)oe[Ht+ge]=_e[ge];return oe}function Oa(oe,_e,ge,ot){var Ht=-1,_n=null==oe?0:oe.length;for(ot&&_n&&(ge=oe[++Ht]);++Ht<_n;)ge=_e(ge,oe[Ht],Ht,oe);return ge}function Ju(oe,_e,ge,ot){var Ht=null==oe?0:oe.length;for(ot&&Ht&&(ge=oe[--Ht]);Ht--;)ge=_e(ge,oe[Ht],Ht,oe);return ge}function cc(oe,_e){for(var ge=-1,ot=null==oe?0:oe.length;++ge<ot;)if(_e(oe[ge],ge,oe))return!0;return!1}var Mf=tl("length");function Fp(oe,_e,ge){var ot;return ge(oe,function(Ht,_n,Or){if(_e(Ht,_n,Or))return ot=_n,!1}),ot}function fc(oe,_e,ge,ot){for(var Ht=oe.length,_n=ge+(ot?1:-1);ot?_n--:++_n<Ht;)if(_e(oe[_n],_n,oe))return _n;return-1}function jo(oe,_e,ge){return _e==_e?function ao(oe,_e,ge){for(var ot=ge-1,Ht=oe.length;++ot<Ht;)if(oe[ot]===_e)return ot;return-1}(oe,_e,ge):fc(oe,va,ge)}function Zs(oe,_e,ge,ot){for(var Ht=ge-1,_n=oe.length;++Ht<_n;)if(ot(oe[Ht],_e))return Ht;return-1}function va(oe){return oe!=oe}function el(oe,_e){var ge=null==oe?0:oe.length;return ge?Ra(oe,_e)/ge:NaN}function tl(oe){return function(_e){return null==_e?L:_e[oe]}}function If(oe){return function(_e){return null==oe?L:oe[_e]}}function Yd(oe,_e,ge,ot,Ht){return Ht(oe,function(_n,Or,Un){ge=ot?(ot=!1,_n):_e(ge,_n,Or,Un)}),ge}function Ra(oe,_e){for(var ge,ot=-1,Ht=oe.length;++ot<Ht;){var _n=_e(oe[ot]);_n!==L&&(ge=ge===L?_n:ge+_n)}return ge}function dc(oe,_e){for(var ge=-1,ot=Array(oe);++ge<oe;)ot[ge]=_e(ge);return ot}function Qd(oe){return oe&&oe.slice(0,vc(oe)+1).replace(ec,"")}function Ft(oe){return function(_e){return oe(_e)}}function hc(oe,_e){return zn(_e,function(ge){return oe[ge]})}function Tn(oe,_e){return oe.has(_e)}function nl(oe,_e){for(var ge=-1,ot=oe.length;++ge<ot&&jo(_e,oe[ge],0)>-1;);return ge}function pc(oe,_e){for(var ge=oe.length;ge--&&jo(_e,oe[ge],0)>-1;);return ge}var Lp=If({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Bp=If({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xd(oe){return"\\"+Mt[oe]}function Wo(oe){return oc.test(oe)}function rn(oe){var _e=-1,ge=Array(oe.size);return oe.forEach(function(ot,Ht){ge[++_e]=[Ht,ot]}),ge}function Zo(oe,_e){return function(ge){return oe(_e(ge))}}function Wi(oe,_e){for(var ge=-1,ot=oe.length,Ht=0,_n=[];++ge<ot;){var Or=oe[ge];(Or===_e||Or===ht)&&(oe[ge]=ht,_n[Ht++]=ge)}return _n}function Ks(oe){var _e=-1,ge=Array(oe.size);return oe.forEach(function(ot){ge[++_e]=ot}),ge}function La(oe){return Wo(oe)?function eh(oe){for(var _e=ss.lastIndex=0;ss.test(oe);)++_e;return _e}(oe):Mf(oe)}function qi(oe){return Wo(oe)?function Qs(oe){return oe.match(ss)||[]}(oe):function Zd(oe){return oe.split("")}(oe)}function vc(oe){for(var _e=oe.length;_e--&&_o.test(oe.charAt(_e)););return _e}var Jd=If({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),mc=function oe(_e){var l,ge=(_e=null==_e?ui:mc.defaults(ui.Object(),_e,mc.pick(ui,hv))).Array,ot=_e.Date,Ht=_e.Error,_n=_e.Function,Or=_e.Math,Un=_e.Object,yc=_e.RegExp,wc=_e.String,Zi=_e.TypeError,bc=ge.prototype,Xs=Un.prototype,rl=_e["__core-js_shared__"],Dc=_n.prototype.toString,Fn=Xs.hasOwnProperty,Vp=0,ma=(l=/[^.]+$/.exec(rl&&rl.keys&&rl.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",il=Xs.toString,rh=Dc.call(Un),Bt=ui._,Ti=yc("^"+Dc.call(Fn).replace(Ho,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sn=Rp?_e.Buffer:L,nr=_e.Symbol,yr=_e.Uint8Array,Js=sn?sn.allocUnsafe:L,Rr=Zo(Un.getPrototypeOf,Un),Af=Un.create,Ec=Xs.propertyIsEnumerable,Ba=bc.splice,Nf=nr?nr.isConcatSpreadable:L,eu=nr?nr.iterator:L,fn=nr?nr.toStringTag:L,at=function(){try{var l=Ao(Un,"defineProperty");return l({},"",{}),l}catch{}}(),zt=_e.clearTimeout!==ui.clearTimeout&&_e.clearTimeout,Xn=ot&&ot.now!==ui.Date.now&&ot.now,so=_e.setTimeout!==ui.setTimeout&&_e.setTimeout,Va=Or.ceil,rr=Or.floor,Yo=Un.getOwnPropertySymbols,jn=sn?sn.isBuffer:L,ya=_e.isFinite,tu=bc.join,Vt=Zo(Un.keys,Un),_t=Or.max,Jr=Or.min,wa=ot.now,Dt=_e.parseInt,yn=Or.random,lt=bc.reverse,Ai=Ao(_e,"DataView"),ba=Ao(_e,"Map"),Cc=Ao(_e,"Promise"),Yi=Ao(_e,"Set"),zr=Ao(_e,"WeakMap"),ci=Ao(Un,"create"),Ko=zr&&new zr,Wt={},mv=Ya(Ai),Pf=Ya(ba),ih=Ya(Cc),Qo=Ya(Yi),ol=Ya(zr),Da=nr?nr.prototype:L,Ea=Da?Da.valueOf:L,Dr=Da?Da.toString:L;function $(l){if(wt(l)&&!$e(l)&&!(l instanceof Zt)){if(l instanceof Ni)return l;if(Fn.call(l,"__wrapped__"))return Es(l)}return new Ni(l)}var Xt=function(){function l(){}return function(p){if(!it(p))return{};if(Af)return Af(p);l.prototype=p;var D=new l;return l.prototype=L,D}}();function qt(){}function Ni(l,p){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=L}function Zt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$i,this.__views__=[]}function Pi(l){var p=-1,D=null==l?0:l.length;for(this.clear();++p<D;){var I=l[p];this.set(I[0],I[1])}}function $a(l){var p=-1,D=null==l?0:l.length;for(this.clear();++p<D;){var I=l[p];this.set(I[0],I[1])}}function Ki(l){var p=-1,D=null==l?0:l.length;for(this.clear();++p<D;){var I=l[p];this.set(I[0],I[1])}}function Qi(l){var p=-1,D=null==l?0:l.length;for(this.__data__=new Ki;++p<D;)this.add(l[p])}function Er(l){var p=this.__data__=new $a(l);this.size=p.size}function nu(l,p){var D=$e(l),I=!D&&We(l),R=!D&&!I&&Pt(l),z=!D&&!I&&!R&&ko(l),J=D||I||R||z,re=J?dc(l.length,wc):[],se=re.length;for(var Pe in l)(p||Fn.call(l,Pe))&&(!J||!("length"==Pe||R&&("offset"==Pe||"parent"==Pe)||z&&("buffer"==Pe||"byteLength"==Pe||"byteOffset"==Pe)||No(Pe,se)))&&re.push(Pe);return re}function ki(l){var p=l.length;return p?l[vl(0,p-1)]:L}function Ff(l,p){return Po(_r(l),za(p,0,l.length))}function ru(l){return Po(_r(l))}function sl(l,p,D){(D!==L&&!gt(l[p],D)||D===L&&!(p in l))&&ea(l,p,D)}function fs(l,p,D){var I=l[p];(!Fn.call(l,p)||!gt(I,D)||D===L&&!(p in l))&&ea(l,p,D)}function iu(l,p){for(var D=l.length;D--;)if(gt(l[D][0],p))return D;return-1}function ou(l,p,D,I){return hs(l,function(R,z,J){p(I,R,D(R),J)}),I}function Ha(l,p){return l&&wi(p,di(p),l)}function ea(l,p,D){"__proto__"==p&&at?at(l,p,{configurable:!0,enumerable:!0,value:D,writable:!0}):l[p]=D}function Mc(l,p){for(var D=-1,I=p.length,R=ge(I),z=null==l;++D<I;)R[D]=z?L:kv(l,p[D]);return R}function za(l,p,D){return l==l&&(D!==L&&(l=l<=D?l:D),p!==L&&(l=l>=p?l:p)),l}function vi(l,p,D,I,R,z){var J,re=1&p,se=2&p,Pe=4&p;if(D&&(J=R?D(l,I,R,z):D(l)),J!==L)return J;if(!it(l))return l;var ke=$e(l);if(ke){if(J=function Ih(l){var p=l.length,D=new l.constructor(p);return p&&"string"==typeof l[0]&&Fn.call(l,"index")&&(D.index=l.index,D.input=l.input),D}(l),!re)return _r(l,J)}else{var ze=wr(l),st=ze==jl||ze==Ls;if(Pt(l))return Jn(l,re);if(ze==la||ze==Mi||st&&!R){if(J=se||st?{}:Di(l),!re)return se?function Kp(l,p){return wi(l,El(l),p)}(l,function xc(l,p){return l&&wi(p,Li(p),l)}(J,l)):function fu(l,p){return wi(l,Za(l),p)}(l,Ha(J,l))}else{if(!Qn[ze])return R?l:{};J=function Qf(l,p,D){var I=l.constructor;switch(p){case yt:return Ri(l);case Ii:case ts:return new I(+l);case Vs:return function Rc(l,p){var D=p?Ri(l.buffer):l.buffer;return new l.constructor(D,l.byteOffset,l.byteLength)}(l,D);case $o:case Wl:case hf:case ql:case pf:case Zl:case Yl:case Uu:case Kl:return ni(l,D);case Hi:return new I;case ns:case rs:return new I(l);case Bs:return function hr(l){var p=new l.constructor(l.source,Pn.exec(l));return p.lastIndex=l.lastIndex,p}(l);case Co:return new I;case Gl:return function fo(l){return Ea?Un(Ea.call(l)):{}}(l)}}(l,ze,re)}}z||(z=new Er);var vt=z.get(l);if(vt)return vt;z.set(l,J),ii(l)?l.forEach(function(Nt){J.add(vi(Nt,p,D,Nt,l,z))}):Sn(l)&&l.forEach(function(Nt,on){J.set(on,vi(Nt,p,D,on,l,z))});var ln=ke?L:(Pe?se?pu:Sh:se?Li:di)(l);return Hn(ln||l,function(Nt,on){ln&&(Nt=l[on=Nt]),fs(J,on,vi(Nt,p,D,on,l,z))}),J}function ds(l,p,D){var I=D.length;if(null==l)return!I;for(l=Un(l);I--;){var R=D[I],J=l[R];if(J===L&&!(R in l)||!(0,p[R])(J))return!1}return!0}function Lf(l,p,D){if("function"!=typeof l)throw new Zi(Ce);return ws(function(){l.apply(L,D)},p)}function Ic(l,p,D,I){var R=-1,z=qs,J=!0,re=l.length,se=[],Pe=p.length;if(!re)return se;D&&(p=zn(p,Ft(D))),I?(z=li,J=!1):p.length>=200&&(z=Tn,J=!1,p=new Qi(p));e:for(;++R<re;){var ke=l[R],ze=null==D?ke:D(ke);if(ke=I||0!==ke?ke:0,J&&ze==ze){for(var st=Pe;st--;)if(p[st]===ze)continue e;se.push(ke)}else z(p,ze,I)||se.push(ke)}return se}$.templateSettings={escape:$s,evaluate:Hs,interpolate:mf,variable:"",imports:{_:$}},($.prototype=qt.prototype).constructor=$,(Ni.prototype=Xt(qt.prototype)).constructor=Ni,(Zt.prototype=Xt(qt.prototype)).constructor=Zt,Pi.prototype.clear=function uo(){this.__data__=ci?ci(null):{},this.size=0},Pi.prototype.delete=function al(l){var p=this.has(l)&&delete this.__data__[l];return this.size-=p?1:0,p},Pi.prototype.get=function kf(l){var p=this.__data__;if(ci){var D=p[l];return D===ct?L:D}return Fn.call(p,l)?p[l]:L},Pi.prototype.has=function oh(l){var p=this.__data__;return ci?p[l]!==L:Fn.call(p,l)},Pi.prototype.set=function $p(l,p){var D=this.__data__;return this.size+=this.has(l)?0:1,D[l]=ci&&p===L?ct:p,this},$a.prototype.clear=function Sc(){this.__data__=[],this.size=0},$a.prototype.delete=function Hp(l){var p=this.__data__,D=iu(p,l);return!(D<0||(D==p.length-1?p.pop():Ba.call(p,D,1),--this.size,0))},$a.prototype.get=function yv(l){var p=this.__data__,D=iu(p,l);return D<0?L:p[D][1]},$a.prototype.has=function Of(l){return iu(this.__data__,l)>-1},$a.prototype.set=function ah(l,p){var D=this.__data__,I=iu(D,l);return I<0?(++this.size,D.push([l,p])):D[I][1]=p,this},Ki.prototype.clear=function Jo(){this.size=0,this.__data__={hash:new Pi,map:new(ba||$a),string:new Pi}},Ki.prototype.delete=function zp(l){var p=Kf(this,l).delete(l);return this.size-=p?1:0,p},Ki.prototype.get=function Up(l){return Kf(this,l).get(l)},Ki.prototype.has=function jp(l){return Kf(this,l).has(l)},Ki.prototype.set=function sh(l,p){var D=Kf(this,l),I=D.size;return D.set(l,p),this.size+=D.size==I?0:1,this},Qi.prototype.add=Qi.prototype.push=function cs(l){return this.__data__.set(l,ct),this},Qi.prototype.has=function Mo(l){return this.__data__.has(l)},Er.prototype.clear=function Xi(){this.__data__=new $a,this.size=0},Er.prototype.delete=function lo(l){var p=this.__data__,D=p.delete(l);return this.size=p.size,D},Er.prototype.get=function Rf(l){return this.__data__.get(l)},Er.prototype.has=function uh(l){return this.__data__.has(l)},Er.prototype.set=function ei(l,p){var D=this.__data__;if(D instanceof $a){var I=D.__data__;if(!ba||I.length<199)return I.push([l,p]),this.size=++D.size,this;D=this.__data__=new Ki(I)}return D.set(l,p),this.size=D.size,this};var hs=Fc(Ca),lh=Fc(Bf,!0);function Gp(l,p){var D=!0;return hs(l,function(I,R,z){return D=!!p(I,R,z)}),D}function Tc(l,p,D){for(var I=-1,R=l.length;++I<R;){var z=l[I],J=p(z);if(null!=J&&(re===L?J==J&&!Ir(J):D(J,re)))var re=J,se=z}return se}function Ac(l,p){var D=[];return hs(l,function(I,R,z){p(I,R,z)&&D.push(I)}),D}function sr(l,p,D,I,R){var z=-1,J=l.length;for(D||(D=ho),R||(R=[]);++z<J;){var re=l[z];p>0&&D(re)?p>1?sr(re,p-1,D,I,R):oo(R,re):I||(R[R.length]=re)}return R}var au=Lc(),ll=Lc(!0);function Ca(l,p){return l&&au(l,p,di)}function Bf(l,p){return l&&ll(l,p,di)}function cl(l,p){return mn(p,function(D){return be(l[D])})}function Ua(l,p){for(var D=0,I=(p=Oi(p,l)).length;null!=l&&D<I;)l=l[Ei(p[D++])];return D&&D==I?l:L}function su(l,p,D){var I=p(l);return $e(l)?I:oo(I,D(l))}function dr(l){return null==l?l===L?"[object Undefined]":"[object Null]":fn&&fn in Un(l)?function Mh(l){var p=Fn.call(l,fn),D=l[fn];try{l[fn]=L;var I=!0}catch{}var R=il.call(l);return I&&(p?l[fn]=D:delete l[fn]),R}(l):function ed(l){return il.call(l)}(l)}function Nc(l,p){return l>p}function ch(l,p){return null!=l&&Fn.call(l,p)}function fh(l,p){return null!=l&&p in Un(l)}function ps(l,p,D){for(var I=D?li:qs,R=l[0].length,z=l.length,J=z,re=ge(z),se=1/0,Pe=[];J--;){var ke=l[J];J&&p&&(ke=zn(ke,Ft(p))),se=Jr(ke.length,se),re[J]=!D&&(p||R>=120&&ke.length>=120)?new Qi(J&&ke):L}ke=l[0];var ze=-1,st=re[0];e:for(;++ze<R&&Pe.length<se;){var vt=ke[ze],It=p?p(vt):vt;if(vt=D||0!==vt?vt:0,!(st?Tn(st,It):I(Pe,It,D))){for(J=z;--J;){var ln=re[J];if(!(ln?Tn(ln,It):I(l[J],It,D)))continue e}st&&st.push(It),Pe.push(vt)}}return Pe}function fl(l,p,D){var I=null==(l=td(l,p=Oi(p,l)))?l:l[Ei(er(p))];return null==I?L:mr(I,l,D)}function wn(l){return wt(l)&&dr(l)==Mi}function ja(l,p,D,I,R){return l===p||(null==l||null==p||!wt(l)&&!wt(p)?l!=l&&p!=p:function qp(l,p,D,I,R,z){var J=$e(l),re=$e(p),se=J?ro:wr(l),Pe=re?ro:wr(p),ke=(se=se==Mi?la:se)==la,ze=(Pe=Pe==Mi?la:Pe)==la,st=se==Pe;if(st&&Pt(l)){if(!Pt(p))return!1;J=!0,ke=!1}if(st&&!ke)return z||(z=new Er),J||ko(l)?_h(l,p,D,I,R,z):function hu(l,p,D,I,R,z,J){switch(D){case Vs:if(l.byteLength!=p.byteLength||l.byteOffset!=p.byteOffset)return!1;l=l.buffer,p=p.buffer;case yt:return!(l.byteLength!=p.byteLength||!z(new yr(l),new yr(p)));case Ii:case ts:case ns:return gt(+l,+p);case Fs:return l.name==p.name&&l.message==p.message;case Bs:case rs:return l==p+"";case Hi:var re=rn;case Co:if(re||(re=Ks),l.size!=p.size&&!(1&I))return!1;var Pe=J.get(l);if(Pe)return Pe==p;I|=2,J.set(l,p);var ke=_h(re(l),re(p),I,R,z,J);return J.delete(l),ke;case Gl:if(Ea)return Ea.call(l)==Ea.call(p)}return!1}(l,p,se,D,I,R,z);if(!(1&D)){var vt=ke&&Fn.call(l,"__wrapped__"),It=ze&&Fn.call(p,"__wrapped__");if(vt||It){var ln=vt?l.value():l,Nt=It?p.value():p;return z||(z=new Er),R(ln,Nt,D,I,z)}}return!!st&&(z||(z=new Er),function Dl(l,p,D,I,R,z){var J=1&D,re=Sh(l),se=re.length;if(se!=Sh(p).length&&!J)return!1;for(var ze=se;ze--;){var st=re[ze];if(!(J?st in p:Fn.call(p,st)))return!1}var vt=z.get(l),It=z.get(p);if(vt&&It)return vt==p&&It==l;var ln=!0;z.set(l,p),z.set(p,l);for(var Nt=J;++ze<se;){var on=l[st=re[ze]],Dn=p[st];if(I)var hi=J?I(Dn,on,st,p,l,z):I(on,Dn,st,l,p,z);if(!(hi===L?on===Dn||R(on,Dn,D,I,z):hi)){ln=!1;break}Nt||(Nt="constructor"==st)}if(ln&&!Nt){var lr=l.constructor,Ro=p.constructor;lr!=Ro&&"constructor"in l&&"constructor"in p&&!("function"==typeof lr&&lr instanceof lr&&"function"==typeof Ro&&Ro instanceof Ro)&&(ln=!1)}return z.delete(l),z.delete(p),ln}(l,p,D,I,R,z))}(l,p,D,I,ja,R))}function gs(l,p,D,I){var R=D.length,z=R,J=!I;if(null==l)return!z;for(l=Un(l);R--;){var re=D[R];if(J&&re[2]?re[1]!==l[re[0]]:!(re[0]in l))return!1}for(;++R<z;){var se=(re=D[R])[0],Pe=l[se],ke=re[1];if(J&&re[2]){if(Pe===L&&!(se in l))return!1}else{var ze=new Er;if(I)var st=I(Pe,ke,se,l,p,ze);if(!(st===L?ja(ke,Pe,3,I,ze):st))return!1}}return!0}function $f(l){return!(!it(l)||function Xf(l){return!!ma&&ma in l}(l))&&(be(l)?Ti:Np).test(Ya(l))}function dl(l){return"function"==typeof l?l:null==l?Bi:"object"==typeof l?$e(l)?ph(l[0],l[1]):mi(l):Cy(l)}function lu(l){if(!Ma(l))return Vt(l);var p=[];for(var D in Un(l))Fn.call(l,D)&&"constructor"!=D&&p.push(D);return p}function hl(l,p){return l<p}function pl(l,p){var D=-1,I=Ge(l)?ge(l.length):[];return hs(l,function(R,z,J){I[++D]=p(R,z,J)}),I}function mi(l){var p=mu(l);return 1==p.length&&p[0][2]?wu(p[0][0],p[0][1]):function(D){return D===l||gs(D,l,p)}}function ph(l,p){return _l(l)&&Jf(p)?wu(Ei(l),p):function(D){var I=kv(D,l);return I===L&&I===p?jh(D,l):ja(p,I,3)}}function co(l,p,D,I,R){l!==p&&au(p,function(z,J){if(R||(R=new Er),it(z))!function vs(l,p,D,I,R,z,J){var re=Ml(l,D),se=Ml(p,D),Pe=J.get(se);if(Pe)sl(l,D,Pe);else{var ke=z?z(re,se,D+"",l,p,J):L,ze=ke===L;if(ze){var st=$e(se),vt=!st&&Pt(se),It=!st&&!vt&&ko(se);ke=se,st||vt||It?$e(re)?ke=re:Xe(re)?ke=_r(re):vt?(ze=!1,ke=Jn(se,!0)):It?(ze=!1,ke=ni(se,!0)):ke=[]:ri(se)||We(se)?(ke=re,We(re)?ke=Vh(re):(!it(re)||be(re))&&(ke=Di(se))):ze=!1}ze&&(J.set(se,ke),R(ke,se,I,z,J),J.delete(se)),sl(l,D,ke)}}(l,p,J,D,co,I,R);else{var re=I?I(Ml(l,J),z,J+"",l,p,R):L;re===L&&(re=z),sl(l,J,re)}},Li)}function Fr(l,p){var D=l.length;if(D)return No(p+=p<0?D:0,D)?l[p]:L}function ti(l,p,D){p=p.length?zn(p,function(z){return $e(z)?function(J){return Ua(J,1===z.length?z[0]:z)}:z}):[Bi];var I=-1;return p=zn(p,Ft(St())),function Kd(oe,_e){var ge=oe.length;for(oe.sort(_e);ge--;)oe[ge]=oe[ge].value;return oe}(pl(l,function(z,J,re){return{criteria:zn(p,function(Pe){return Pe(z)}),index:++I,value:z}}),function(z,J){return function Yp(l,p,D){for(var I=-1,R=l.criteria,z=p.criteria,J=R.length,re=D.length;++I<J;){var se=qr(R[I],z[I]);if(se)return I>=re?se:se*("desc"==D[I]?-1:1)}return l.index-p.index}(z,J,D)})}function Hf(l,p,D){for(var I=-1,R=p.length,z={};++I<R;){var J=p[I],re=Ua(l,J);D(re,J)&&Bn(z,Oi(J,l),re)}return z}function gl(l,p,D,I){var R=I?Zs:jo,z=-1,J=p.length,re=l;for(l===p&&(p=_r(p)),D&&(re=zn(l,Ft(D)));++z<J;)for(var se=0,Pe=p[z],ke=D?D(Pe):Pe;(se=R(re,ke,se,I))>-1;)re!==l&&Ba.call(re,se,1),Ba.call(l,se,1);return l}function zf(l,p){for(var D=l?p.length:0,I=D-1;D--;){var R=p[D];if(D==I||R!==z){var z=R;No(R)?Ba.call(l,R,1):un(l,R)}}return l}function vl(l,p){return l+rr(yn()*(p-l+1))}function Ln(l,p){var D="";if(!l||p<1||p>ua)return D;do{p%2&&(D+=l),(p=rr(p/2))&&(l+=l)}while(p);return D}function tn(l,p){return Gc(Du(l,p,Bi),l+"")}function Tt(l){return ki(Pl(l))}function vh(l,p){var D=Pl(l);return Po(D,za(p,0,D.length))}function Bn(l,p,D,I){if(!it(l))return l;for(var R=-1,z=(p=Oi(p,l)).length,J=z-1,re=l;null!=re&&++R<z;){var se=Ei(p[R]),Pe=D;if("__proto__"===se||"constructor"===se||"prototype"===se)return l;if(R!=J){var ke=re[se];(Pe=I?I(ke,se,re):L)===L&&(Pe=it(ke)?ke:No(p[R+1])?[]:{})}fs(re,se,Pe),re=re[se]}return l}var ml=Ko?function(l,p){return Ko.set(l,p),l}:Bi,mh=at?function(l,p){return at(l,"toString",{configurable:!0,enumerable:!1,value:bd(p),writable:!0})}:Bi;function yh(l){return Po(Pl(l))}function Gr(l,p,D){var I=-1,R=l.length;p<0&&(p=-p>R?0:R+p),(D=D>R?R:D)<0&&(D+=R),R=p>D?0:D-p>>>0,p>>>=0;for(var z=ge(R);++I<R;)z[I]=l[I+p];return z}function cu(l,p){var D;return hs(l,function(I,R,z){return!(D=p(I,R,z))}),!!D}function Ga(l,p,D){var I=0,R=null==l?I:l.length;if("number"==typeof p&&p==p&&R<=2147483647){for(;I<R;){var z=I+R>>>1,J=l[z];null!==J&&!Ir(J)&&(D?J<=p:J<p)?I=z+1:R=z}return R}return Uf(l,p,Bi,D)}function Uf(l,p,D,I){var R=0,z=null==l?0:l.length;if(0===z)return 0;for(var J=(p=D(p))!=p,re=null===p,se=Ir(p),Pe=p===L;R<z;){var ke=rr((R+z)/2),ze=D(l[ke]),st=ze!==L,vt=null===ze,It=ze==ze,ln=Ir(ze);if(J)var Nt=I||It;else Nt=Pe?It&&(I||st):re?It&&st&&(I||!vt):se?It&&st&&!vt&&(I||!ln):!vt&&!ln&&(I?ze<=p:ze<p);Nt?R=ke+1:z=ke}return Jr(z,4294967294)}function jf(l,p){for(var D=-1,I=l.length,R=0,z=[];++D<I;){var J=l[D],re=p?p(J):J;if(!D||!gt(re,se)){var se=re;z[R++]=0===J?0:J}}return z}function wh(l){return"number"==typeof l?l:Ir(l)?NaN:+l}function Ji(l){if("string"==typeof l)return l;if($e(l))return zn(l,Ji)+"";if(Ir(l))return Dr?Dr.call(l):"";var p=l+"";return"0"==p&&1/l==-mt?"-0":p}function Ie(l,p,D){var I=-1,R=qs,z=l.length,J=!0,re=[],se=re;if(D)J=!1,R=li;else if(z>=200){var Pe=p?null:zc(l);if(Pe)return Ks(Pe);J=!1,R=Tn,se=new Qi}else se=p?[]:re;e:for(;++I<z;){var ke=l[I],ze=p?p(ke):ke;if(ke=D||0!==ke?ke:0,J&&ze==ze){for(var st=se.length;st--;)if(se[st]===ze)continue e;p&&se.push(ze),re.push(ke)}else R(se,ze,D)||(se!==re&&se.push(ze),re.push(ke))}return re}function un(l,p){return null==(l=td(l,p=Oi(p,l)))||delete l[Ei(er(p))]}function kc(l,p,D,I){return Bn(l,p,D(Ua(l,p)),I)}function ms(l,p,D,I){for(var R=l.length,z=I?R:-1;(I?z--:++z<R)&&p(l[z],z,l););return D?Gr(l,I?0:z,I?z+1:R):Gr(l,I?z+1:0,I?R:z)}function Wr(l,p){var D=l;return D instanceof Zt&&(D=D.value()),Oa(p,function(I,R){return R.func.apply(R.thisArg,oo([I],R.args))},D)}function Oc(l,p,D){var I=l.length;if(I<2)return I?Ie(l[0]):[];for(var R=-1,z=ge(I);++R<I;)for(var J=l[R],re=-1;++re<I;)re!=R&&(z[R]=Ic(z[R]||J,l[re],p,D));return Ie(sr(z,1),p,D)}function Wa(l,p,D){for(var I=-1,R=l.length,z=p.length,J={};++I<R;)D(J,l[I],I<z?p[I]:L);return J}function yi(l){return Xe(l)?l:[]}function Cr(l){return"function"==typeof l?l:Bi}function Oi(l,p){return $e(l)?l:_l(l,p)?[l]:Ds(bn(l))}var Zp=tn;function Io(l,p,D){var I=l.length;return D=D===L?I:D,!p&&D>=I?l:Gr(l,p,D)}var yl=zt||function(l){return ui.clearTimeout(l)};function Jn(l,p){if(p)return l.slice();var D=l.length,I=Js?Js(D):new l.constructor(D);return l.copy(I),I}function Ri(l){var p=new l.constructor(l.byteLength);return new yr(p).set(new yr(l)),p}function ni(l,p){var D=p?Ri(l.buffer):l.buffer;return new l.constructor(D,l.byteOffset,l.length)}function qr(l,p){if(l!==p){var D=l!==L,I=null===l,R=l==l,z=Ir(l),J=p!==L,re=null===p,se=p==p,Pe=Ir(p);if(!re&&!Pe&&!z&&l>p||z&&J&&se&&!re&&!Pe||I&&J&&se||!D&&se||!R)return 1;if(!I&&!z&&!Pe&&l<p||Pe&&D&&R&&!I&&!z||re&&D&&R||!J&&R||!se)return-1}return 0}function bh(l,p,D,I){for(var R=-1,z=l.length,J=D.length,re=-1,se=p.length,Pe=_t(z-J,0),ke=ge(se+Pe),ze=!I;++re<se;)ke[re]=p[re];for(;++R<J;)(ze||R<z)&&(ke[D[R]]=l[R]);for(;Pe--;)ke[re++]=l[R++];return ke}function ta(l,p,D,I){for(var R=-1,z=l.length,J=-1,re=D.length,se=-1,Pe=p.length,ke=_t(z-re,0),ze=ge(ke+Pe),st=!I;++R<ke;)ze[R]=l[R];for(var vt=R;++se<Pe;)ze[vt+se]=p[se];for(;++J<re;)(st||R<z)&&(ze[vt+D[J]]=l[R++]);return ze}function _r(l,p){var D=-1,I=l.length;for(p||(p=ge(I));++D<I;)p[D]=l[D];return p}function wi(l,p,D,I){var R=!D;D||(D={});for(var z=-1,J=p.length;++z<J;){var re=p[z],se=I?I(D[re],l[re],re,D,l):L;se===L&&(se=l[re]),R?ea(D,re,se):fs(D,re,se)}return D}function wl(l,p){return function(D,I){var R=$e(D)?Ws:ou,z=p?p():{};return R(D,l,St(I,2),z)}}function eo(l){return tn(function(p,D){var I=-1,R=D.length,z=R>1?D[R-1]:L,J=R>2?D[2]:L;for(z=l.length>3&&"function"==typeof z?(R--,z):L,J&&Lr(D[0],D[1],J)&&(z=R<3?L:z,R=1),p=Un(p);++I<R;){var re=D[I];re&&l(p,re,I,z)}return p})}function Fc(l,p){return function(D,I){if(null==D)return D;if(!Ge(D))return l(D,I);for(var R=D.length,z=p?R:-1,J=Un(D);(p?z--:++z<R)&&!1!==I(J[z],z,J););return D}}function Lc(l){return function(p,D,I){for(var R=-1,z=Un(p),J=I(p),re=J.length;re--;){var se=J[l?re:++R];if(!1===D(z[se],se,z))break}return p}}function Bc(l){return function(p){var D=Wo(p=bn(p))?qi(p):L,I=D?D[0]:p.charAt(0),R=D?Io(D,1).join(""):p.slice(1);return I[l]()+R}}function qa(l){return function(p){return Oa(Fu(Lv(p).replace(dv,"")),l,"")}}function du(l){return function(){var p=arguments;switch(p.length){case 0:return new l;case 1:return new l(p[0]);case 2:return new l(p[0],p[1]);case 3:return new l(p[0],p[1],p[2]);case 4:return new l(p[0],p[1],p[2],p[3]);case 5:return new l(p[0],p[1],p[2],p[3],p[4]);case 6:return new l(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new l(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var D=Xt(l.prototype),I=l.apply(D,p);return it(I)?I:D}}function fi(l){return function(p,D,I){var R=Un(p);if(!Ge(p)){var z=St(D,3);p=di(p),D=function(re){return z(R[re],re,R)}}var J=l(p,D,I);return J>-1?R[z?p[J]:J]:L}}function To(l){return na(function(p){var D=p.length,I=D,R=Ni.prototype.thru;for(l&&p.reverse();I--;){var z=p[I];if("function"!=typeof z)throw new Zi(Ce);if(R&&!J&&"wrapper"==gu(z))var J=new Ni([],!0)}for(I=J?I:D;++I<D;){var re=gu(z=p[I]),se="wrapper"==re?xh(z):L;J=se&&Sl(se[0])&&424==se[1]&&!se[4].length&&1==se[9]?J[gu(se[0])].apply(J,se[3]):1==z.length&&Sl(z)?J[re]():J.thru(z)}return function(){var Pe=arguments,ke=Pe[0];if(J&&1==Pe.length&&$e(ke))return J.plant(ke).value();for(var ze=0,st=D?p[ze].apply(this,Pe):ke;++ze<D;)st=p[ze].call(this,st);return st}})}function Yn(l,p,D,I,R,z,J,re,se,Pe){var ke=128&p,ze=1&p,st=2&p,vt=24&p,It=512&p,ln=st?L:du(l);return function Nt(){for(var on=arguments.length,Dn=ge(on),hi=on;hi--;)Dn[hi]=arguments[hi];if(vt)var lr=vu(Nt),Ro=function Ys(oe,_e){for(var ge=oe.length,ot=0;ge--;)oe[ge]===_e&&++ot;return ot}(Dn,lr);if(I&&(Dn=bh(Dn,I,R,vt)),z&&(Dn=ta(Dn,z,J,vt)),on-=Ro,vt&&on<Pe){var Tr=Wi(Dn,lr);return xa(l,p,Yn,Nt.placeholder,D,Dn,Tr,re,se,Pe-on)}var Si=ze?D:this,Is=st?Si[l]:l;return on=Dn.length,re?Dn=function Sr(l,p){for(var D=l.length,I=Jr(p.length,D),R=_r(l);I--;){var z=p[I];l[I]=No(z,D)?R[z]:L}return l}(Dn,re):It&&on>1&&Dn.reverse(),ke&&se<on&&(Dn.length=se),this&&this!==ui&&this instanceof Nt&&(Is=ln||du(Is)),Is.apply(Si,Dn)}}function Eh(l,p){return function(D,I){return function dh(l,p,D,I){return Ca(l,function(R,z,J){p(I,D(R),z,J)}),I}(D,l,p(I),{})}}function Vc(l,p){return function(D,I){var R;if(D===L&&I===L)return p;if(D!==L&&(R=D),I!==L){if(R===L)return I;"string"==typeof D||"string"==typeof I?(D=Ji(D),I=Ji(I)):(D=wh(D),I=wh(I)),R=l(D,I)}return R}}function Wf(l){return na(function(p){return p=zn(p,Ft(St())),tn(function(D){var I=this;return l(p,function(R){return mr(R,I,D)})})})}function $c(l,p){var D=(p=p===L?" ":Ji(p)).length;if(D<2)return D?Ln(p,l):p;var I=Ln(p,Va(l/La(p)));return Wo(p)?Io(qi(I),0,l).join(""):I.slice(0,l)}function Zf(l){return function(p,D,I){return I&&"number"!=typeof I&&Lr(p,D,I)&&(D=I=L),p=pr(p),D===L?(D=p,p=0):D=pr(D),function jr(l,p,D,I){for(var R=-1,z=_t(Va((p-l)/(D||1)),0),J=ge(z);z--;)J[I?z:++R]=l,l+=D;return J}(p,D,I=I===L?p<D?1:-1:pr(I),l)}}function ys(l){return function(p,D){return"string"==typeof p&&"string"==typeof D||(p=_i(p),D=_i(D)),l(p,D)}}function xa(l,p,D,I,R,z,J,re,se,Pe){var ke=8&p;p|=ke?32:64,4&(p&=~(ke?64:32))||(p&=-4);var ln=[l,p,R,ke?z:L,ke?J:L,ke?L:z,ke?L:J,re,se,Pe],Nt=D.apply(L,ln);return Sl(l)&&Yr(Nt,ln),Nt.placeholder=I,Eu(Nt,l,p)}function Hc(l){var p=Or[l];return function(D,I){if(D=_i(D),(I=null==I?0:Jr(Gt(I),292))&&ya(D)){var R=(bn(D)+"e").split("e");return+((R=(bn(p(R[0]+"e"+(+R[1]+I)))+"e").split("e"))[0]+"e"+(+R[1]-I))}return p(D)}}var zc=Yi&&1/Ks(new Yi([,-0]))[1]==mt?function(l){return new Yi(l)}:Dd;function bl(l){return function(p){var D=wr(p);return D==Hi?rn(p):D==Co?function gc(oe){var _e=-1,ge=Array(oe.size);return oe.forEach(function(ot){ge[++_e]=[ot,ot]}),ge}(p):function Fa(oe,_e){return zn(_e,function(ge){return[ge,oe[ge]]})}(p,l(p))}}function bi(l,p,D,I,R,z,J,re){var se=2&p;if(!se&&"function"!=typeof l)throw new Zi(Ce);var Pe=I?I.length:0;if(Pe||(p&=-97,I=R=L),J=J===L?J:_t(Gt(J),0),re=re===L?re:Gt(re),Pe-=R?R.length:0,64&p){var ke=I,ze=R;I=R=L}var st=se?L:xh(l),vt=[l,p,D,I,R,ke,ze,z,J,re];if(st&&function Ia(l,p){var D=l[1],I=p[1],R=D|I;if(!(R<131)&&!(128==I&&8==D||128==I&&256==D&&l[7].length<=p[8]||384==I&&p[7].length<=p[8]&&8==D))return l;1&I&&(l[2]=p[2],R|=1&D?0:4);var re=p[3];if(re){var se=l[3];l[3]=se?bh(se,re,p[4]):re,l[4]=se?Wi(l[3],ht):p[4]}(re=p[5])&&(l[5]=(se=l[5])?ta(se,re,p[6]):re,l[6]=se?Wi(l[5],ht):p[6]),(re=p[7])&&(l[7]=re),128&I&&(l[8]=null==l[8]?p[8]:Jr(l[8],p[8])),null==l[9]&&(l[9]=p[9]),l[0]=p[0],l[1]=R}(vt,st),l=vt[0],p=vt[1],D=vt[2],I=vt[3],R=vt[4],!(re=vt[9]=vt[9]===L?se?0:l.length:_t(vt[9]-Pe,0))&&24&p&&(p&=-25),p&&1!=p)It=8==p||16==p?function Gf(l,p,D){var I=du(l);return function R(){for(var z=arguments.length,J=ge(z),re=z,se=vu(R);re--;)J[re]=arguments[re];var Pe=z<3&&J[0]!==se&&J[z-1]!==se?[]:Wi(J,se);return(z-=Pe.length)<D?xa(l,p,Yn,R.placeholder,L,J,Pe,L,L,D-z):mr(this&&this!==ui&&this instanceof R?I:l,this,J)}}(l,p,re):32!=p&&33!=p||R.length?Yn.apply(L,vt):function qf(l,p,D,I){var R=1&p,z=du(l);return function J(){for(var re=-1,se=arguments.length,Pe=-1,ke=I.length,ze=ge(ke+se),st=this&&this!==ui&&this instanceof J?z:l;++Pe<ke;)ze[Pe]=I[Pe];for(;se--;)ze[Pe++]=arguments[++re];return mr(st,R?D:this,ze)}}(l,p,D,I);else var It=function Dh(l,p,D){var I=1&p,R=du(l);return function z(){return(this&&this!==ui&&this instanceof z?R:l).apply(I?D:this,arguments)}}(l,p,D);return Eu((st?ml:Yr)(It,vt),l,p)}function Uc(l,p,D,I){return l===L||gt(l,Xs[D])&&!Fn.call(I,D)?p:l}function Yf(l,p,D,I,R,z){return it(l)&&it(p)&&(z.set(p,l),co(l,p,L,Yf,z),z.delete(p)),l}function Ch(l){return ri(l)?L:l}function _h(l,p,D,I,R,z){var J=1&D,re=l.length,se=p.length;if(re!=se&&!(J&&se>re))return!1;var Pe=z.get(l),ke=z.get(p);if(Pe&&ke)return Pe==p&&ke==l;var ze=-1,st=!0,vt=2&D?new Qi:L;for(z.set(l,p),z.set(p,l);++ze<re;){var It=l[ze],ln=p[ze];if(I)var Nt=J?I(ln,It,ze,p,l,z):I(It,ln,ze,l,p,z);if(Nt!==L){if(Nt)continue;st=!1;break}if(vt){if(!cc(p,function(on,Dn){if(!Tn(vt,Dn)&&(It===on||R(It,on,D,I,z)))return vt.push(Dn)})){st=!1;break}}else if(It!==ln&&!R(It,ln,D,I,z)){st=!1;break}}return z.delete(l),z.delete(p),st}function na(l){return Gc(Du(l,L,Su),l+"")}function Sh(l){return su(l,di,Za)}function pu(l){return su(l,Li,El)}var xh=Ko?function(l){return Ko.get(l)}:Dd;function gu(l){for(var p=l.name+"",D=Wt[p],I=Fn.call(Wt,p)?D.length:0;I--;){var R=D[I],z=R.func;if(null==z||z==l)return R.name}return p}function vu(l){return(Fn.call($,"placeholder")?$:l).placeholder}function St(){var l=$.iteratee||Sg;return l=l===Sg?dl:l,arguments.length?l(arguments[0],arguments[1]):l}function Kf(l,p){var D=l.__data__;return function Th(l){var p=typeof l;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==l:null===l}(p)?D["string"==typeof p?"string":"hash"]:D.map}function mu(l){for(var p=di(l),D=p.length;D--;){var I=p[D],R=l[I];p[D]=[I,R,Jf(R)]}return p}function Ao(l,p){var D=function Go(oe,_e){return null==oe?L:oe[_e]}(l,p);return $f(D)?D:L}var Za=Yo?function(l){return null==l?[]:(l=Un(l),mn(Yo(l),function(p){return Ec.call(l,p)}))}:Kv,El=Yo?function(l){for(var p=[];l;)oo(p,Za(l)),l=Rr(l);return p}:Kv,wr=dr;function Zr(l,p,D){for(var I=-1,R=(p=Oi(p,l)).length,z=!1;++I<R;){var J=Ei(p[I]);if(!(z=null!=l&&D(l,J)))break;l=l[J]}return z||++I!=R?z:!!(R=null==l?0:l.length)&&Le(R)&&No(J,R)&&($e(l)||We(l))}function Di(l){return"function"!=typeof l.constructor||Ma(l)?{}:Xt(Rr(l))}function ho(l){return $e(l)||We(l)||!!(Nf&&l&&l[Nf])}function No(l,p){var D=typeof l;return!!(p=p??ua)&&("number"==D||"symbol"!=D&&fv.test(l))&&l>-1&&l%1==0&&l<p}function Lr(l,p,D){if(!it(D))return!1;var I=typeof p;return!!("number"==I?Ge(D)&&No(p,D.length):"string"==I&&p in D)&&gt(D[p],l)}function _l(l,p){if($e(l))return!1;var D=typeof l;return!("number"!=D&&"symbol"!=D&&"boolean"!=D&&null!=l&&!Ir(l))||Jl.test(l)||!fa.test(l)||null!=p&&l in Un(p)}function Sl(l){var p=gu(l),D=$[p];if("function"!=typeof D||!(p in Zt.prototype))return!1;if(l===D)return!0;var I=xh(D);return!!I&&l===I[0]}(Ai&&wr(new Ai(new ArrayBuffer(1)))!=Vs||ba&&wr(new ba)!=Hi||Cc&&wr(Cc.resolve())!=Nr||Yi&&wr(new Yi)!=Co||zr&&wr(new zr)!=is)&&(wr=function(l){var p=dr(l),D=p==la?l.constructor:L,I=D?Ya(D):"";if(I)switch(I){case mv:return Vs;case Pf:return Hi;case ih:return Nr;case Qo:return Co;case ol:return is}return p});var xl=rl?be:Qv;function Ma(l){var p=l&&l.constructor;return l===("function"==typeof p&&p.prototype||Xs)}function Jf(l){return l==l&&!it(l)}function wu(l,p){return function(D){return null!=D&&D[l]===p&&(p!==L||l in Un(D))}}function Du(l,p,D){return p=_t(p===L?l.length-1:p,0),function(){for(var I=arguments,R=-1,z=_t(I.length-p,0),J=ge(z);++R<z;)J[R]=I[p+R];R=-1;for(var re=ge(p+1);++R<p;)re[R]=I[R];return re[p]=D(J),mr(l,this,re)}}function td(l,p){return p.length<2?l:Ua(l,Gr(p,0,-1))}function Ml(l,p){if(("constructor"!==p||"function"!=typeof l[p])&&"__proto__"!=p)return l[p]}var Yr=bs(ml),ws=so||function(l,p){return ui.setTimeout(l,p)},Gc=bs(mh);function Eu(l,p,D){var I=p+"";return Gc(l,function jc(l,p){var D=p.length;if(!D)return l;var I=D-1;return p[I]=(D>1?"& ":"")+p[I],p=p.join(D>2?", ":" "),l.replace(Tp,"{\n/* [wrapped with "+p+"] */\n")}(I,function nd(l,p){return Hn(Od,function(D){var I="_."+D[0];p&D[1]&&!qs(l,I)&&l.push(I)}),l.sort()}(function Cl(l){var p=l.match(Ap);return p?p[1].split(wf):[]}(I),D)))}function bs(l){var p=0,D=0;return function(){var I=wa(),R=16-(I-D);if(D=I,R>0){if(++p>=800)return arguments[0]}else p=0;return l.apply(L,arguments)}}function Po(l,p){var D=-1,I=l.length,R=I-1;for(p=p===L?I:p;++D<p;){var z=vl(D,R),J=l[z];l[z]=l[D],l[D]=J}return l.length=p,l}var Ds=function po(l){var p=Z(l,function(I){return 500===D.size&&D.clear(),I}),D=p.cache;return p}(function(l){var p=[];return 46===l.charCodeAt(0)&&p.push(""),l.replace(Rd,function(D,I,R,z){p.push(R?z.replace(Ld,"$1"):I||D)}),p});function Ei(l){if("string"==typeof l||Ir(l))return l;var p=l+"";return"0"==p&&1/l==-mt?"-0":p}function Ya(l){if(null!=l){try{return Dc.call(l)}catch{}try{return l+""}catch{}}return""}function Es(l){if(l instanceof Zt)return l.clone();var p=new Ni(l.__wrapped__,l.__chain__);return p.__actions__=_r(l.__actions__),p.__index__=l.__index__,p.__values__=l.__values__,p}var Ev=tn(function(l,p){return Xe(l)?Ic(l,sr(p,1,Xe,!0)):[]}),Cv=tn(function(l,p){var D=er(p);return Xe(D)&&(D=L),Xe(l)?Ic(l,sr(p,1,Xe,!0),St(D,2)):[]}),_v=tn(function(l,p){var D=er(p);return Xe(D)&&(D=L),Xe(l)?Ic(l,sr(p,1,Xe,!0),L,D):[]});function ir(l,p,D){var I=null==l?0:l.length;if(!I)return-1;var R=null==D?0:Gt(D);return R<0&&(R=_t(I+R,0)),fc(l,St(p,3),R)}function xr(l,p,D){var I=null==l?0:l.length;if(!I)return-1;var R=I-1;return D!==L&&(R=Gt(D),R=D<0?_t(I+R,0):Jr(R,I-1)),fc(l,St(p,3),R,!0)}function Su(l){return null!=l&&l.length?sr(l,1):[]}function rd(l){return l&&l.length?l[0]:L}var Jp=tn(function(l){var p=zn(l,yi);return p.length&&p[0]===l[0]?ps(p):[]}),Mv=tn(function(l){var p=er(l),D=zn(l,yi);return p===er(D)?p=L:D.pop(),D.length&&D[0]===l[0]?ps(D,St(p,2)):[]}),eg=tn(function(l){var p=er(l),D=zn(l,yi);return(p="function"==typeof p?p:L)&&D.pop(),D.length&&D[0]===l[0]?ps(D,L,p):[]});function er(l){var p=null==l?0:l.length;return p?l[p-1]:L}var tg=tn(Br);function Br(l,p){return l&&l.length&&p&&p.length?gl(l,p):l}var Nh=na(function(l,p){var D=null==l?0:l.length,I=Mc(l,p);return zf(l,zn(p,function(R){return No(R,D)?+R:R}).sort(qr)),I});function od(l){return null==l?l:lt.call(l)}var vo=tn(function(l){return Ie(sr(l,1,Xe,!0))}),Al=tn(function(l){var p=er(l);return Xe(p)&&(p=L),Ie(sr(l,1,Xe,!0),St(p,2))}),Tu=tn(function(l){var p=er(l);return p="function"==typeof p?p:L,Ie(sr(l,1,Xe,!0),L,p)});function Ta(l){if(!l||!l.length)return[];var p=0;return l=mn(l,function(D){if(Xe(D))return p=_t(D.length,p),!0}),dc(p,function(D){return zn(l,tl(D))})}function ld(l,p){if(!l||!l.length)return[];var D=Ta(l);return null==p?D:zn(D,function(I){return mr(p,L,I)})}var Rh=tn(function(l,p){return Xe(l)?Ic(l,p):[]}),cd=tn(function(l){return Oc(mn(l,Xe))}),Au=tn(function(l){var p=er(l);return Xe(p)&&(p=L),Oc(mn(l,Xe),St(p,2))}),fd=tn(function(l){var p=er(l);return p="function"==typeof p?p:L,Oc(mn(l,Xe),L,p)}),Nu=tn(Ta),dd=tn(function(l){var p=l.length,D=p>1?l[p-1]:L;return D="function"==typeof D?(l.pop(),D):L,ld(l,D)});function Fh(l){var p=$(l);return p.__chain__=!0,p}function Yc(l,p){return p(l)}var hn=na(function(l){var p=l.length,D=p?l[0]:0,I=this.__wrapped__,R=function(z){return Mc(z,l)};return!(p>1||this.__actions__.length)&&I instanceof Zt&&No(D)?((I=I.slice(D,+D+(p?1:0))).__actions__.push({func:Yc,args:[R],thisArg:L}),new Ni(I,this.__chain__).thru(function(z){return p&&!z.length&&z.push(L),z})):this.thru(R)}),hg=wl(function(l,p,D){Fn.call(l,D)?++l[D]:ea(l,D,1)}),ku=fi(ir),pd=fi(xr);function a(l,p){return($e(l)?Hn:hs)(l,St(p,3))}function r(l,p){return($e(l)?ga:lh)(l,St(p,3))}var o=wl(function(l,p,D){Fn.call(l,D)?l[D].push(p):ea(l,D,[p])}),c=tn(function(l,p,D){var I=-1,R="function"==typeof p,z=Ge(l)?ge(l.length):[];return hs(l,function(J){z[++I]=R?mr(p,J,D):fl(J,p,D)}),z}),d=wl(function(l,p,D){ea(l,D,p)});function h(l,p){return($e(l)?zn:pl)(l,St(p,3))}var y=wl(function(l,p,D){l[D?0:1].push(p)},function(){return[[],[]]}),P=tn(function(l,p){if(null==l)return[];var D=p.length;return D>1&&Lr(l,p[0],p[1])?p=[]:D>2&&Lr(p[0],p[1],p[2])&&(p=[p[0]]),ti(l,sr(p,1),[])}),k=Xn||function(){return ui.Date.now()};function B(l,p,D){return p=D?L:p,bi(l,128,L,L,L,L,p=l&&null==p?l.length:p)}function G(l,p){var D;if("function"!=typeof p)throw new Zi(Ce);return l=Gt(l),function(){return--l>0&&(D=p.apply(this,arguments)),l<=1&&(p=L),D}}var q=tn(function(l,p,D){var I=1;if(D.length){var R=Wi(D,vu(q));I|=32}return bi(l,I,p,D,R)}),V=tn(function(l,p,D){var I=3;if(D.length){var R=Wi(D,vu(V));I|=32}return bi(p,I,l,D,R)});function K(l,p,D){var I,R,z,J,re,se,Pe=0,ke=!1,ze=!1,st=!0;if("function"!=typeof l)throw new Zi(Ce);function vt(Tr){var Si=I,Is=R;return I=R=L,Pe=Tr,J=l.apply(Is,Si)}function Nt(Tr){var Si=Tr-se;return se===L||Si>=p||Si<0||ze&&Tr-Pe>=z}function on(){var Tr=k();if(Nt(Tr))return Dn(Tr);re=ws(on,function ln(Tr){var Jv=p-(Tr-se);return ze?Jr(Jv,z-(Tr-Pe)):Jv}(Tr))}function Dn(Tr){return re=L,st&&I?vt(Tr):(I=R=L,J)}function Ro(){var Tr=k(),Si=Nt(Tr);if(I=arguments,R=this,se=Tr,Si){if(re===L)return function It(Tr){return Pe=Tr,re=ws(on,p),ke?vt(Tr):J}(se);if(ze)return yl(re),re=ws(on,p),vt(se)}return re===L&&(re=ws(on,p)),J}return p=_i(p)||0,it(D)&&(ke=!!D.leading,z=(ze="maxWait"in D)?_t(_i(D.maxWait)||0,p):z,st="trailing"in D?!!D.trailing:st),Ro.cancel=function hi(){re!==L&&yl(re),Pe=0,I=se=R=re=L},Ro.flush=function lr(){return re===L?J:Dn(k())},Ro}var Q=tn(function(l,p){return Lf(l,1,p)}),U=tn(function(l,p,D){return Lf(l,_i(p)||0,D)});function Z(l,p){if("function"!=typeof l||null!=p&&"function"!=typeof p)throw new Zi(Ce);var D=function(){var I=arguments,R=p?p.apply(this,I):I[0],z=D.cache;if(z.has(R))return z.get(R);var J=l.apply(this,I);return D.cache=z.set(R,J)||z,J};return D.cache=new(Z.Cache||Ki),D}function ae(l){if("function"!=typeof l)throw new Zi(Ce);return function(){var p=arguments;switch(p.length){case 0:return!l.call(this);case 1:return!l.call(this,p[0]);case 2:return!l.call(this,p[0],p[1]);case 3:return!l.call(this,p[0],p[1],p[2])}return!l.apply(this,p)}}Z.Cache=Ki;var ne=Zp(function(l,p){var D=(p=1==p.length&&$e(p[0])?zn(p[0],Ft(St())):zn(sr(p,1),Ft(St()))).length;return tn(function(I){for(var R=-1,z=Jr(I.length,D);++R<z;)I[R]=p[R].call(this,I[R]);return mr(l,this,I)})}),fe=tn(function(l,p){var D=Wi(p,vu(fe));return bi(l,32,L,p,D)}),he=tn(function(l,p){var D=Wi(p,vu(he));return bi(l,64,L,p,D)}),we=na(function(l,p){return bi(l,256,L,L,L,p)});function gt(l,p){return l===p||l!=l&&p!=p}var Ut=ys(Nc),rt=ys(function(l,p){return l>=p}),We=wn(function(){return arguments}())?wn:function(l){return wt(l)&&Fn.call(l,"callee")&&!Ec.call(l,"callee")},$e=ge.isArray,ft=Hr?Ft(Hr):function _a(l){return wt(l)&&dr(l)==yt};function Ge(l){return null!=l&&Le(l.length)&&!be(l)}function Xe(l){return wt(l)&&Ge(l)}var Pt=jn||Qv,Et=Gi?Ft(Gi):function Vf(l){return wt(l)&&dr(l)==ts};function Ve(l){if(!wt(l))return!1;var p=dr(l);return p==Fs||"[object DOMException]"==p||"string"==typeof l.message&&"string"==typeof l.name&&!ri(l)}function be(l){if(!it(l))return!1;var p=dr(l);return p==jl||p==Ls||"[object AsyncFunction]"==p||"[object Proxy]"==p}function $t(l){return"number"==typeof l&&l==Gt(l)}function Le(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=ua}function it(l){var p=typeof l;return null!=l&&("object"==p||"function"==p)}function wt(l){return null!=l&&"object"==typeof l}var Sn=uc?Ft(uc):function hh(l){return wt(l)&&wr(l)==Hi};function to(l){return"number"==typeof l||wt(l)&&dr(l)==ns}function ri(l){if(!wt(l)||dr(l)!=la)return!1;var p=Rr(l);if(null===p)return!0;var D=Fn.call(p,"constructor")&&p.constructor;return"function"==typeof D&&D instanceof D&&Dc.call(D)==rh}var ur=lc?Ft(lc):function uu(l){return wt(l)&&dr(l)==Bs},ii=xf?Ft(xf):function Pc(l){return wt(l)&&wr(l)==Co};function wo(l){return"string"==typeof l||!$e(l)&&wt(l)&&dr(l)==rs}function Ir(l){return"symbol"==typeof l||wt(l)&&dr(l)==Gl}var ko=cn?Ft(cn):function Zn(l){return wt(l)&&Le(l.length)&&!!Kn[dr(l)]},Aa=ys(hl),Vr=ys(function(l,p){return l<=p});function oi(l){if(!l)return[];if(Ge(l))return wo(l)?qi(l):_r(l);if(eu&&l[eu])return function qo(oe){for(var _e,ge=[];!(_e=oe.next()).done;)ge.push(_e.value);return ge}(l[eu]());var p=wr(l);return(p==Hi?rn:p==Co?Ks:Pl)(l)}function pr(l){return l?(l=_i(l))===mt||l===-mt?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function Gt(l){var p=pr(l),D=p%1;return p==p?D?p-D:p:0}function Oo(l){return l?za(Gt(l),0,$i):0}function _i(l){if("number"==typeof l)return l;if(Ir(l))return NaN;if(it(l)){var p="function"==typeof l.valueOf?l.valueOf():l;l=it(p)?p+"":p}if("string"!=typeof l)return 0===l?l:+l;l=Qd(l);var D=Cn.test(l);return D||So.test(l)?gv(l.slice(2),D?2:8):Bd.test(l)?NaN:+l}function Vh(l){return wi(l,Li(l))}function bn(l){return null==l?"":Ji(l)}var gd=eo(function(l,p){if(Ma(p)||Ge(p))wi(p,di(p),l);else for(var D in p)Fn.call(p,D)&&fs(l,D,p[D])}),vd=eo(function(l,p){wi(p,Li(p),l)}),Nl=eo(function(l,p,D,I){wi(p,Li(p),l,I)}),$h=eo(function(l,p,D,I){wi(p,di(p),l,I)}),Ru=na(Mc),Qc=tn(function(l,p){l=Un(l);var D=-1,I=p.length,R=I>2?p[2]:L;for(R&&Lr(p[0],p[1],R)&&(I=1);++D<I;)for(var z=p[D],J=Li(z),re=-1,se=J.length;++re<se;){var Pe=J[re],ke=l[Pe];(ke===L||gt(ke,Xs[Pe])&&!Fn.call(l,Pe))&&(l[Pe]=z[Pe])}return l}),Hh=tn(function(l){return l.push(L,Yf),mr(vg,L,l)});function kv(l,p,D){var I=null==l?L:Ua(l,p);return I===L?D:I}function jh(l,p){return null!=l&&Zr(l,p,fh)}var ey=Eh(function(l,p,D){null!=p&&"function"!=typeof p.toString&&(p=il.call(p)),l[p]=D},bd(Bi)),ty=Eh(function(l,p,D){null!=p&&"function"!=typeof p.toString&&(p=il.call(p)),Fn.call(l,p)?l[p].push(D):l[p]=[D]},St),ny=tn(fl);function di(l){return Ge(l)?nu(l):lu(l)}function Li(l){return Ge(l)?nu(l,!0):function An(l){if(!it(l))return function bu(l){var p=[];if(null!=l)for(var D in Un(l))p.push(D);return p}(l);var p=Ma(l),D=[];for(var I in l)"constructor"==I&&(p||!Fn.call(l,I))||D.push(I);return D}(l)}var Ov=eo(function(l,p,D){co(l,p,D)}),vg=eo(function(l,p,D,I){co(l,p,D,I)}),Rv=na(function(l,p){var D={};if(null==l)return D;var I=!1;p=zn(p,function(z){return z=Oi(z,l),I||(I=z.length>1),z}),wi(l,pu(l),D),I&&(D=vi(D,7,Ch));for(var R=p.length;R--;)un(D,p[R]);return D}),zw=na(function(l,p){return null==l?{}:function gh(l,p){return Hf(l,p,function(D,I){return jh(l,I)})}(l,p)});function ry(l,p){if(null==l)return{};var D=zn(pu(l),function(I){return[I]});return p=St(p),Hf(l,D,function(I,R){return p(I,R[0])})}var iy=bl(di),wg=bl(Li);function Pl(l){return null==l?[]:hc(l,di(l))}var Jc=qa(function(l,p,D){return p=p.toLowerCase(),l+(D?Fv(p):p)});function Fv(l){return Zh(bn(l).toLowerCase())}function Lv(l){return(l=bn(l))&&l.replace(Vd,Lp).replace($r,"")}var dy=qa(function(l,p,D){return l+(D?"-":"")+p.toLowerCase()}),hy=qa(function(l,p,D){return l+(D?" ":"")+p.toLowerCase()}),py=Bc("toLowerCase"),$v=qa(function(l,p,D){return l+(D?"_":"")+p.toLowerCase()}),Dg=qa(function(l,p,D){return l+(D?" ":"")+Zh(p)}),Gv=qa(function(l,p,D){return l+(D?" ":"")+p.toUpperCase()}),Zh=Bc("toUpperCase");function Fu(l,p,D){return l=bn(l),(p=D?L:p)===L?function xo(oe){return Ui.test(oe)}(l)?function Tf(oe){return oe.match(us)||[]}(l):function vv(oe){return oe.match(Fd)||[]}(l):l.match(p)||[]}var Wv=tn(function(l,p){try{return mr(l,L,p)}catch(D){return Ve(D)?D:new Ht(D)}}),_g=na(function(l,p){return Hn(p,function(D){D=Ei(D),ea(l,D,q(l[D],l))}),l});function bd(l){return function(){return l}}var Ms=To(),Qh=To(!0);function Bi(l){return l}function Sg(l){return dl("function"==typeof l?l:vi(l,1))}var ef=tn(function(l,p){return function(D){return fl(D,l,p)}}),by=tn(function(l,p){return function(D){return fl(l,D,p)}});function xg(l,p,D){var I=di(p),R=cl(p,I);null==D&&(!it(p)||!R.length&&I.length)&&(D=p,p=l,l=this,R=cl(p,di(p)));var z=!(it(D)&&"chain"in D&&!D.chain),J=be(l);return Hn(R,function(re){var se=p[re];l[re]=se,J&&(l.prototype[re]=function(){var Pe=this.__chain__;if(z||Pe){var ke=l(this.__wrapped__);return(ke.__actions__=_r(this.__actions__)).push({func:se,args:arguments,thisArg:l}),ke.__chain__=Pe,ke}return se.apply(l,oo([this.value()],arguments))})}),l}function Dd(){}var Ey=Wf(zn),Zv=Wf(Xu),tf=Wf(cc);function Cy(l){return _l(l)?tl(Ei(l)):function Sa(l){return function(p){return Ua(p,l)}}(l)}var Yv=Zf(),_y=Zf(!0);function Kv(){return[]}function Qv(){return!1}var Ag=Vc(function(l,p){return l+p},0),Ed=Hc("ceil"),ep=Vc(function(l,p){return l/p},1),rf=Hc("floor"),xy=Vc(function(l,p){return l*p},1),Xv=Hc("round"),My=Vc(function(l,p){return l-p},0);return $.after=function O(l,p){if("function"!=typeof p)throw new Zi(Ce);return l=Gt(l),function(){if(--l<1)return p.apply(this,arguments)}},$.ary=B,$.assign=gd,$.assignIn=vd,$.assignInWith=Nl,$.assignWith=$h,$.at=Ru,$.before=G,$.bind=q,$.bindAll=_g,$.bindKey=V,$.castArray=function Me(){if(!arguments.length)return[];var l=arguments[0];return $e(l)?l:[l]},$.chain=Fh,$.chunk=function bv(l,p,D){p=(D?Lr(l,p,D):p===L)?1:_t(Gt(p),0);var I=null==l?0:l.length;if(!I||p<1)return[];for(var R=0,z=0,J=ge(Va(I/p));R<I;)J[z++]=Gr(l,R,R+=p);return J},$.compact=function Qp(l){for(var p=-1,D=null==l?0:l.length,I=0,R=[];++p<D;){var z=l[p];z&&(R[I++]=z)}return R},$.concat=function Dv(){var l=arguments.length;if(!l)return[];for(var p=ge(l-1),D=arguments[0],I=l;I--;)p[I-1]=arguments[I];return oo($e(D)?_r(D):[D],sr(p,1))},$.cond=function Yh(l){var p=null==l?0:l.length,D=St();return l=p?zn(l,function(I){if("function"!=typeof I[1])throw new Zi(Ce);return[D(I[0]),I[1]]}):[],tn(function(I){for(var R=-1;++R<p;){var z=l[R];if(mr(z[0],this,I))return mr(z[1],this,I)}})},$.conforms=function yy(l){return function ul(l){var p=di(l);return function(D){return ds(D,l,p)}}(vi(l,1))},$.constant=bd,$.countBy=hg,$.create=function md(l,p){var D=Xt(l);return null==p?D:Ha(D,p)},$.curry=function W(l,p,D){var I=bi(l,8,L,L,L,L,L,p=D?L:p);return I.placeholder=W.placeholder,I},$.curryRight=function H(l,p,D){var I=bi(l,16,L,L,L,L,L,p=D?L:p);return I.placeholder=H.placeholder,I},$.debounce=K,$.defaults=Qc,$.defaultsDeep=Hh,$.defer=Q,$.delay=U,$.difference=Ev,$.differenceBy=Cv,$.differenceWith=_v,$.drop=function Sv(l,p,D){var I=null==l?0:l.length;return I?Gr(l,(p=D||p===L?1:Gt(p))<0?0:p,I):[]},$.dropRight=function xv(l,p,D){var I=null==l?0:l.length;return I?Gr(l,0,(p=I-(p=D||p===L?1:Gt(p)))<0?0:p):[]},$.dropRightWhile=function Cu(l,p){return l&&l.length?ms(l,St(p,3),!0,!0):[]},$.dropWhile=function _u(l,p){return l&&l.length?ms(l,St(p,3),!0):[]},$.fill=function Xp(l,p,D,I){var R=null==l?0:l.length;return R?(D&&"number"!=typeof D&&Lr(l,p,D)&&(D=0,I=R),function wv(l,p,D,I){var R=l.length;for((D=Gt(D))<0&&(D=-D>R?0:R+D),(I=I===L||I>R?R:Gt(I))<0&&(I+=R),I=D>I?0:Oo(I);D<I;)l[D++]=p;return l}(l,p,D,I)):[]},$.filter=function Kc(l,p){return($e(l)?mn:Ac)(l,St(p,3))},$.flatMap=function Ka(l,p){return sr(h(l,p),1)},$.flatMapDeep=function Bh(l,p){return sr(h(l,p),mt)},$.flatMapDepth=function mo(l,p,D){return D=D===L?1:Gt(D),sr(h(l,p),D)},$.flatten=Su,$.flattenDeep=function Il(l){return null!=l&&l.length?sr(l,mt):[]},$.flattenDepth=function Ci(l,p){return null!=l&&l.length?sr(l,p=p===L?1:Gt(p)):[]},$.flip=function ee(l){return bi(l,512)},$.flow=Ms,$.flowRight=Qh,$.fromPairs=function xu(l){for(var p=-1,D=null==l?0:l.length,I={};++p<D;){var R=l[p];I[R[0]]=R[1]}return I},$.functions=function ia(l){return null==l?[]:cl(l,di(l))},$.functionsIn=function Pv(l){return null==l?[]:cl(l,Li(l))},$.groupBy=o,$.initial=function Tl(l){return null!=l&&l.length?Gr(l,0,-1):[]},$.intersection=Jp,$.intersectionBy=Mv,$.intersectionWith=eg,$.invert=ey,$.invertBy=ty,$.invokeMap=c,$.iteratee=Sg,$.keyBy=d,$.keys=di,$.keysIn=Li,$.map=h,$.mapKeys=function xs(l,p){var D={};return p=St(p,3),Ca(l,function(I,R,z){ea(D,p(I,R,z),I)}),D},$.mapValues=function yd(l,p){var D={};return p=St(p,3),Ca(l,function(I,R,z){ea(D,R,p(I,R,z))}),D},$.matches=function wy(l){return mi(vi(l,1))},$.matchesProperty=function qv(l,p){return ph(l,vi(p,1))},$.memoize=Z,$.merge=Ov,$.mergeWith=vg,$.method=ef,$.methodOf=by,$.mixin=xg,$.negate=ae,$.nthArg=function Xh(l){return l=Gt(l),tn(function(p){return Fr(p,l)})},$.omit=Rv,$.omitBy=function Hw(l,p){return ry(l,ae(St(p)))},$.once=function te(l){return G(2,l)},$.orderBy=function v(l,p,D,I){return null==l?[]:($e(p)||(p=null==p?[]:[p]),$e(D=I?L:D)||(D=null==D?[]:[D]),ti(l,p,D))},$.over=Ey,$.overArgs=ne,$.overEvery=Zv,$.overSome=tf,$.partial=fe,$.partialRight=he,$.partition=y,$.pick=zw,$.pickBy=ry,$.property=Cy,$.propertyOf=function qw(l){return function(p){return null==l?L:Ua(l,p)}},$.pull=tg,$.pullAll=Br,$.pullAllBy=function Ah(l,p,D){return l&&l.length&&p&&p.length?gl(l,p,St(D,2)):l},$.pullAllWith=function ng(l,p,D){return l&&l.length&&p&&p.length?gl(l,p,L,D):l},$.pullAt=Nh,$.range=Yv,$.rangeRight=_y,$.rearg=we,$.reject=function E(l,p){return($e(l)?mn:Ac)(l,ae(St(p,3)))},$.remove=function Ph(l,p){var D=[];if(!l||!l.length)return D;var I=-1,R=[],z=l.length;for(p=St(p,3);++I<z;){var J=l[I];p(J,I,l)&&(D.push(J),R.push(I))}return zf(l,R),D},$.rest=function de(l,p){if("function"!=typeof l)throw new Zi(Ce);return tn(l,p=p===L?p:Gt(p))},$.reverse=od,$.sampleSize=function x(l,p,D){return p=(D?Lr(l,p,D):p===L)?1:Gt(p),($e(l)?Ff:vh)(l,p)},$.set=function yg(l,p,D){return null==l?l:Bn(l,p,D)},$.setWith=function Uw(l,p,D,I){return I="function"==typeof I?I:L,null==l?l:Bn(l,p,D,I)},$.shuffle=function S(l){return($e(l)?ru:yh)(l)},$.slice=function rg(l,p,D){var I=null==l?0:l.length;return I?(D&&"number"!=typeof D&&Lr(l,p,D)?(p=0,D=I):(p=null==p?0:Gt(p),D=D===L?I:Gt(D)),Gr(l,p,D)):[]},$.sortBy=P,$.sortedUniq=function ag(l){return l&&l.length?jf(l):[]},$.sortedUniqBy=function kh(l,p){return l&&l.length?jf(l,St(p,2)):[]},$.split=function Hv(l,p,D){return D&&"number"!=typeof D&&Lr(l,p,D)&&(p=D=L),(D=D===L?$i:D>>>0)?(l=bn(l))&&("string"==typeof p||null!=p&&!ur(p))&&!(p=Ji(p))&&Wo(l)?Io(qi(l),0,D):l.split(p,D):[]},$.spread=function ye(l,p){if("function"!=typeof l)throw new Zi(Ce);return p=null==p?0:_t(Gt(p),0),tn(function(D){var I=D[p],R=Io(D,0,p);return I&&oo(R,I),mr(l,this,R)})},$.tail=function sd(l){var p=null==l?0:l.length;return p?Gr(l,1,p):[]},$.take=function Iu(l,p,D){return l&&l.length?Gr(l,0,(p=D||p===L?1:Gt(p))<0?0:p):[]},$.takeRight=function ra(l,p,D){var I=null==l?0:l.length;return I?Gr(l,(p=I-(p=D||p===L?1:Gt(p)))<0?0:p,I):[]},$.takeRightWhile=function Oh(l,p){return l&&l.length?ms(l,St(p,3),!1,!0):[]},$.takeWhile=function ud(l,p){return l&&l.length?ms(l,St(p,3)):[]},$.tap=function Lh(l,p){return p(l),l},$.throttle=function Te(l,p,D){var I=!0,R=!0;if("function"!=typeof l)throw new Zi(Ce);return it(D)&&(I="leading"in D?!!D.leading:I,R="trailing"in D?!!D.trailing:R),K(l,p,{leading:I,maxWait:p,trailing:R})},$.thru=Yc,$.toArray=oi,$.toPairs=iy,$.toPairsIn=wg,$.toPath=function nf(l){return $e(l)?zn(l,Ei):Ir(l)?[l]:_r(Ds(bn(l)))},$.toPlainObject=Vh,$.transform=function oy(l,p,D){var I=$e(l),R=I||Pt(l)||ko(l);if(p=St(p,4),null==D){var z=l&&l.constructor;D=R?I?new z:[]:it(l)&&be(z)?Xt(Rr(l)):{}}return(R?Hn:Ca)(l,function(J,re,se){return p(D,J,re,se)}),D},$.unary=function Oe(l){return B(l,1)},$.union=vo,$.unionBy=Al,$.unionWith=Tu,$.uniq=function sg(l){return l&&l.length?Ie(l):[]},$.uniqBy=function Fi(l,p){return l&&l.length?Ie(l,St(p,2)):[]},$.uniqWith=function ug(l,p){return p="function"==typeof p?p:L,l&&l.length?Ie(l,L,p):[]},$.unset=function ay(l,p){return null==l||un(l,p)},$.unzip=Ta,$.unzipWith=ld,$.update=function sy(l,p,D){return null==l?l:kc(l,p,Cr(D))},$.updateWith=function uy(l,p,D,I){return I="function"==typeof I?I:L,null==l?l:kc(l,p,Cr(D),I)},$.values=Pl,$.valuesIn=function Gh(l){return null==l?[]:hc(l,Li(l))},$.without=Rh,$.words=Fu,$.wrap=function xe(l,p){return fe(Cr(p),l)},$.xor=cd,$.xorBy=Au,$.xorWith=fd,$.zip=Nu,$.zipObject=function Pu(l,p){return Wa(l||[],p||[],fs)},$.zipObjectDeep=function Tv(l,p){return Wa(l||[],p||[],Bn)},$.zipWith=dd,$.entries=iy,$.entriesIn=wg,$.extend=vd,$.extendWith=Nl,xg($,$),$.add=Ag,$.attempt=Wv,$.camelCase=Jc,$.capitalize=Fv,$.ceil=Ed,$.clamp=function ly(l,p,D){return D===L&&(D=p,p=L),D!==L&&(D=(D=_i(D))==D?D:0),p!==L&&(p=(p=_i(p))==p?p:0),za(_i(l),p,D)},$.clone=function le(l){return vi(l,4)},$.cloneDeep=function Re(l){return vi(l,5)},$.cloneDeepWith=function je(l,p){return vi(l,5,p="function"==typeof p?p:L)},$.cloneWith=function Ae(l,p){return vi(l,4,p="function"==typeof p?p:L)},$.conformsTo=function Ke(l,p){return null==p||ds(l,p,di(p))},$.deburr=Lv,$.defaultTo=function Kh(l,p){return null==l||l!=l?p:l},$.divide=ep,$.endsWith=function Bv(l,p,D){l=bn(l),p=Ji(p);var I=l.length,R=D=D===L?I:za(Gt(D),0,I);return(D-=p.length)>=0&&l.slice(D,R)==p},$.eq=gt,$.escape=function Vv(l){return(l=bn(l))&&vf.test(l)?l.replace(gf,Bp):l},$.escapeRegExp=function fy(l){return(l=bn(l))&&yf.test(l)?l.replace(Ho,"\\$&"):l},$.every=function pg(l,p,D){var I=$e(l)?Xu:Gp;return D&&Lr(l,p,D)&&(p=L),I(l,St(p,3))},$.find=ku,$.findIndex=ir,$.findKey=function zh(l,p){return Fp(l,St(p,3),Ca)},$.findLast=pd,$.findLastIndex=xr,$.findLastKey=function gg(l,p){return Fp(l,St(p,3),Bf)},$.floor=rf,$.forEach=a,$.forEachRight=r,$.forIn=function Kr(l,p){return null==l?l:au(l,St(p,3),Li)},$.forInRight=function Ss(l,p){return null==l?l:ll(l,St(p,3),Li)},$.forOwn=function Uh(l,p){return l&&Ca(l,St(p,3))},$.forOwnRight=function Xc(l,p){return l&&Bf(l,St(p,3))},$.get=kv,$.gt=Ut,$.gte=rt,$.has=function $w(l,p){return null!=l&&Zr(l,p,ch)},$.hasIn=jh,$.head=rd,$.identity=Bi,$.includes=function u(l,p,D,I){l=Ge(l)?l:Pl(l),D=D&&!I?Gt(D):0;var R=l.length;return D<0&&(D=_t(R+D,0)),wo(l)?D<=R&&l.indexOf(p,D)>-1:!!R&&jo(l,p,D)>-1},$.indexOf=function Wc(l,p,D){var I=null==l?0:l.length;if(!I)return-1;var R=null==D?0:Gt(D);return R<0&&(R=_t(I+R,0)),jo(l,p,R)},$.inRange=function bg(l,p,D){return p=pr(p),D===L?(D=p,p=0):D=pr(D),function Wp(l,p,D){return l>=Jr(p,D)&&l<_t(p,D)}(l=_i(l),p,D)},$.invoke=ny,$.isArguments=We,$.isArray=$e,$.isArrayBuffer=ft,$.isArrayLike=Ge,$.isArrayLikeObject=Xe,$.isBoolean=function nn(l){return!0===l||!1===l||wt(l)&&dr(l)==Ii},$.isBuffer=Pt,$.isDate=Et,$.isElement=function Nn(l){return wt(l)&&1===l.nodeType&&!ri(l)},$.isEmpty=function Fe(l){if(null==l)return!0;if(Ge(l)&&($e(l)||"string"==typeof l||"function"==typeof l.splice||Pt(l)||ko(l)||We(l)))return!l.length;var p=wr(l);if(p==Hi||p==Co)return!l.size;if(Ma(l))return!lu(l).length;for(var D in l)if(Fn.call(l,D))return!1;return!0},$.isEqual=function j(l,p){return ja(l,p)},$.isEqualWith=function ve(l,p,D){var I=(D="function"==typeof D?D:L)?D(l,p):L;return I===L?ja(l,p,L,D):!!I},$.isError=Ve,$.isFinite=function Ne(l){return"number"==typeof l&&ya(l)},$.isFunction=be,$.isInteger=$t,$.isLength=Le,$.isMap=Sn,$.isMatch=function Yt(l,p){return l===p||gs(l,p,mu(p))},$.isMatchWith=function pn(l,p,D){return D="function"==typeof D?D:L,gs(l,p,mu(p),D)},$.isNaN=function kt(l){return to(l)&&l!=+l},$.isNative=function Kt(l){if(xl(l))throw new Ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $f(l)},$.isNil=function Mr(l){return null==l},$.isNull=function or(l){return null===l},$.isNumber=to,$.isObject=it,$.isObjectLike=wt,$.isPlainObject=ri,$.isRegExp=ur,$.isSafeInteger=function yo(l){return $t(l)&&l>=-ua&&l<=ua},$.isSet=ii,$.isString=wo,$.isSymbol=Ir,$.isTypedArray=ko,$.isUndefined=function Qa(l){return l===L},$.isWeakMap=function Cs(l){return wt(l)&&wr(l)==is},$.isWeakSet=function _s(l){return wt(l)&&"[object WeakSet]"==dr(l)},$.join=function Iv(l,p){return null==l?"":tu.call(l,p)},$.kebabCase=dy,$.last=er,$.lastIndexOf=function id(l,p,D){var I=null==l?0:l.length;if(!I)return-1;var R=I;return D!==L&&(R=(R=Gt(D))<0?_t(I+R,0):Jr(R,I-1)),p==p?function ls(oe,_e,ge){for(var ot=ge+1;ot--;)if(oe[ot]===_e)return ot;return ot}(l,p,R):fc(l,va,R,!0)},$.lowerCase=hy,$.lowerFirst=py,$.lt=Aa,$.lte=Vr,$.max=function Ng(l){return l&&l.length?Tc(l,Bi,Nc):L},$.maxBy=function Pg(l,p){return l&&l.length?Tc(l,St(p,2),Nc):L},$.mean=function tp(l){return el(l,Bi)},$.meanBy=function Zw(l,p){return el(l,St(p,2))},$.min=function kg(l){return l&&l.length?Tc(l,Bi,hl):L},$.minBy=function Cd(l,p){return l&&l.length?Tc(l,St(p,2),hl):L},$.stubArray=Kv,$.stubFalse=Qv,$.stubObject=function Jh(){return{}},$.stubString=function Sy(){return""},$.stubTrue=function Mg(){return!0},$.multiply=xy,$.nth=function Mu(l,p){return l&&l.length?Fr(l,Gt(p)):L},$.noConflict=function Dy(){return ui._===this&&(ui._=Bt),this},$.noop=Dd,$.now=k,$.pad=function gy(l,p,D){l=bn(l);var I=(p=Gt(p))?La(l):0;if(!p||I>=p)return l;var R=(p-I)/2;return $c(rr(R),D)+l+$c(Va(R),D)},$.padEnd=function jw(l,p,D){l=bn(l);var I=(p=Gt(p))?La(l):0;return p&&I<p?l+$c(p-I,D):l},$.padStart=function Gw(l,p,D){l=bn(l);var I=(p=Gt(p))?La(l):0;return p&&I<p?$c(p-I,D)+l:l},$.parseInt=function wd(l,p,D){return D||null==p?p=0:p&&(p=+p),Dt(bn(l).replace(ec,""),p||0)},$.random=function cy(l,p,D){if(D&&"boolean"!=typeof D&&Lr(l,p,D)&&(p=D=L),D===L&&("boolean"==typeof p?(D=p,p=L):"boolean"==typeof l&&(D=l,l=L)),l===L&&p===L?(l=0,p=1):(l=pr(l),p===L?(p=l,l=0):p=pr(p)),l>p){var I=l;l=p,p=I}if(D||l%1||p%1){var R=yn();return Jr(l+R*(p-l+Qu("1e-"+((R+"").length-1))),p)}return vl(l,p)},$.reduce=function m(l,p,D){var I=$e(l)?Oa:Yd,R=arguments.length<3;return I(l,St(p,4),D,R,hs)},$.reduceRight=function b(l,p,D){var I=$e(l)?Ju:Yd,R=arguments.length<3;return I(l,St(p,4),D,R,lh)},$.repeat=function At(l,p,D){return p=(D?Lr(l,p,D):p===L)?1:Gt(p),Ln(bn(l),p)},$.replace=function Wh(){var l=arguments,p=bn(l[0]);return l.length<3?p:p.replace(l[1],l[2])},$.result=function mg(l,p,D){var I=-1,R=(p=Oi(p,l)).length;for(R||(R=1,l=L);++I<R;){var z=null==l?L:l[Ei(p[I])];z===L&&(I=R,z=D),l=be(z)?z.call(l):z}return l},$.round=Xv,$.runInContext=oe,$.sample=function _(l){return($e(l)?ki:Tt)(l)},$.size=function A(l){if(null==l)return 0;if(Ge(l))return wo(l)?La(l):l.length;var p=wr(l);return p==Hi||p==Co?l.size:lu(l).length},$.snakeCase=$v,$.some=function T(l,p,D){var I=$e(l)?cc:cu;return D&&Lr(l,p,D)&&(p=L),I(l,St(p,3))},$.sortedIndex=function qc(l,p){return Ga(l,p)},$.sortedIndexBy=function Zc(l,p,D){return Uf(l,p,St(D,2))},$.sortedIndexOf=function ig(l,p){var D=null==l?0:l.length;if(D){var I=Ga(l,p);if(I<D&&gt(l[I],p))return I}return-1},$.sortedLastIndex=function go(l,p){return Ga(l,p,!0)},$.sortedLastIndexBy=function og(l,p,D){return Uf(l,p,St(D,2),!0)},$.sortedLastIndexOf=function ad(l,p){if(null!=l&&l.length){var I=Ga(l,p,!0)-1;if(gt(l[I],p))return I}return-1},$.startCase=Dg,$.startsWith=function zv(l,p,D){return l=bn(l),D=null==D?0:za(Gt(D),0,l.length),p=Ji(p),l.slice(D,D+p.length)==p},$.subtract=My,$.sum=function Iy(l){return l&&l.length?Ra(l,Bi):0},$.sumBy=function Og(l,p){return l&&l.length?Ra(l,St(p,2)):0},$.template=function vy(l,p,D){var I=$.templateSettings;D&&Lr(l,p,D)&&(p=L),l=bn(l),p=Nl({},p,I,Uc);var re,se,R=Nl({},p.imports,I.imports,Uc),z=di(R),J=hc(R,z),Pe=0,ke=p.interpolate||tc,ze="__p += '",st=yc((p.escape||tc).source+"|"+ke.source+"|"+(ke===mf?bf:tc).source+"|"+(p.evaluate||tc).source+"|$","g"),vt="//# sourceURL="+(Fn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pv+"]")+"\n";l.replace(st,function(Nt,on,Dn,hi,lr,Ro){return Dn||(Dn=hi),ze+=l.slice(Pe,Ro).replace(nc,Xd),on&&(re=!0,ze+="' +\n__e("+on+") +\n'"),lr&&(se=!0,ze+="';\n"+lr+";\n__p += '"),Dn&&(ze+="' +\n((__t = ("+Dn+")) == null ? '' : __t) +\n'"),Pe=Ro+Nt.length,Nt}),ze+="';\n";var It=Fn.call(p,"variable")&&p.variable;if(It){if(ju.test(It))throw new Ht("Invalid `variable` option passed into `_.template`")}else ze="with (obj) {\n"+ze+"\n}\n";ze=(se?ze.replace(Ip,""):ze).replace(Ql,"$1").replace(ca,"$1;"),ze="function("+(It||"obj")+") {\n"+(It?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(re?", __e = _.escape":"")+(se?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ze+"return __p\n}";var ln=Wv(function(){return _n(z,vt+"return "+ze).apply(L,J)});if(ln.source=ze,Ve(ln))throw ln;return ln},$.times=function Ig(l,p){if((l=Gt(l))<1||l>ua)return[];var D=$i,I=Jr(l,$i);p=St(p),l-=$i;for(var R=dc(I,p);++D<l;)p(D);return R},$.toFinite=pr,$.toInteger=Gt,$.toLength=Oo,$.toLower=function Uv(l){return bn(l).toLowerCase()},$.toNumber=_i,$.toSafeInteger=function Ou(l){return l?za(Gt(l),-ua,ua):0===l?l:0},$.toString=bn,$.toUpper=function jv(l){return bn(l).toUpperCase()},$.trim=function qh(l,p,D){if((l=bn(l))&&(D||p===L))return Qd(l);if(!l||!(p=Ji(p)))return l;var I=qi(l),R=qi(p);return Io(I,nl(I,R),pc(I,R)+1).join("")},$.trimEnd=function Ww(l,p,D){if((l=bn(l))&&(D||p===L))return l.slice(0,vc(l)+1);if(!l||!(p=Ji(p)))return l;var I=qi(l);return Io(I,0,pc(I,qi(p))+1).join("")},$.trimStart=function Eg(l,p,D){if((l=bn(l))&&(D||p===L))return l.replace(ec,"");if(!l||!(p=Ji(p)))return l;var I=qi(l);return Io(I,nl(I,qi(p))).join("")},$.truncate=function my(l,p){var D=30,I="...";if(it(p)){var R="separator"in p?p.separator:R;D="length"in p?Gt(p.length):D,I="omission"in p?Ji(p.omission):I}var z=(l=bn(l)).length;if(Wo(l)){var J=qi(l);z=J.length}if(D>=z)return l;var re=D-La(I);if(re<1)return I;var se=J?Io(J,0,re).join(""):l.slice(0,re);if(R===L)return se+I;if(J&&(re+=se.length-re),ur(R)){if(l.slice(re).search(R)){var Pe,ke=se;for(R.global||(R=yc(R.source,bn(Pn.exec(R))+"g")),R.lastIndex=0;Pe=R.exec(ke);)var ze=Pe.index;se=se.slice(0,ze===L?re:ze)}}else if(l.indexOf(Ji(R),re)!=re){var st=se.lastIndexOf(R);st>-1&&(se=se.slice(0,st))}return se+I},$.unescape=function Cg(l){return(l=bn(l))&&Xl.test(l)?l.replace(os,Jd):l},$.uniqueId=function Tg(l){var p=++Vp;return bn(l)+p},$.upperCase=Gv,$.upperFirst=Zh,$.each=a,$.eachRight=r,$.first=rd,xg($,function(){var l={};return Ca($,function(p,D){Fn.call($.prototype,D)||(l[D]=p)}),l}(),{chain:!1}),$.VERSION="4.17.21",Hn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){$[l].placeholder=$}),Hn(["drop","take"],function(l,p){Zt.prototype[l]=function(D){D=D===L?1:_t(Gt(D),0);var I=this.__filtered__&&!p?new Zt(this):this.clone();return I.__filtered__?I.__takeCount__=Jr(D,I.__takeCount__):I.__views__.push({size:Jr(D,$i),type:l+(I.__dir__<0?"Right":"")}),I},Zt.prototype[l+"Right"]=function(D){return this.reverse()[l](D).reverse()}}),Hn(["filter","map","takeWhile"],function(l,p){var D=p+1,I=1==D||3==D;Zt.prototype[l]=function(R){var z=this.clone();return z.__iteratees__.push({iteratee:St(R,3),type:D}),z.__filtered__=z.__filtered__||I,z}}),Hn(["head","last"],function(l,p){var D="take"+(p?"Right":"");Zt.prototype[l]=function(){return this[D](1).value()[0]}}),Hn(["initial","tail"],function(l,p){var D="drop"+(p?"":"Right");Zt.prototype[l]=function(){return this.__filtered__?new Zt(this):this[D](1)}}),Zt.prototype.compact=function(){return this.filter(Bi)},Zt.prototype.find=function(l){return this.filter(l).head()},Zt.prototype.findLast=function(l){return this.reverse().find(l)},Zt.prototype.invokeMap=tn(function(l,p){return"function"==typeof l?new Zt(this):this.map(function(D){return fl(D,l,p)})}),Zt.prototype.reject=function(l){return this.filter(ae(St(l)))},Zt.prototype.slice=function(l,p){l=Gt(l);var D=this;return D.__filtered__&&(l>0||p<0)?new Zt(D):(l<0?D=D.takeRight(-l):l&&(D=D.drop(l)),p!==L&&(D=(p=Gt(p))<0?D.dropRight(-p):D.take(p-l)),D)},Zt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Zt.prototype.toArray=function(){return this.take($i)},Ca(Zt.prototype,function(l,p){var D=/^(?:filter|find|map|reject)|While$/.test(p),I=/^(?:head|last)$/.test(p),R=$[I?"take"+("last"==p?"Right":""):p],z=I||/^find/.test(p);R&&($.prototype[p]=function(){var J=this.__wrapped__,re=I?[1]:arguments,se=J instanceof Zt,Pe=re[0],ke=se||$e(J),ze=function(on){var Dn=R.apply($,oo([on],re));return I&&st?Dn[0]:Dn};ke&&D&&"function"==typeof Pe&&1!=Pe.length&&(se=ke=!1);var st=this.__chain__,It=z&&!st,ln=se&&!this.__actions__.length;if(!z&&ke){J=ln?J:new Zt(this);var Nt=l.apply(J,re);return Nt.__actions__.push({func:Yc,args:[ze],thisArg:L}),new Ni(Nt,st)}return It&&ln?l.apply(this,re):(Nt=this.thru(ze),It?I?Nt.value()[0]:Nt.value():Nt)})}),Hn(["pop","push","shift","sort","splice","unshift"],function(l){var p=bc[l],D=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",I=/^(?:pop|shift)$/.test(l);$.prototype[l]=function(){var R=arguments;if(I&&!this.__chain__){var z=this.value();return p.apply($e(z)?z:[],R)}return this[D](function(J){return p.apply($e(J)?J:[],R)})}}),Ca(Zt.prototype,function(l,p){var D=$[p];if(D){var I=D.name+"";Fn.call(Wt,I)||(Wt[I]=[]),Wt[I].push({name:p,func:D})}}),Wt[Yn(L,2).name]=[{name:"wrapper",func:L}],Zt.prototype.clone=function _c(){var l=new Zt(this.__wrapped__);return l.__actions__=_r(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=_r(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=_r(this.__views__),l},Zt.prototype.reverse=function Ur(){if(this.__filtered__){var l=new Zt(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},Zt.prototype.value=function Xo(){var l=this.__wrapped__.value(),p=this.__dir__,D=$e(l),I=p<0,R=D?l.length:0,z=function yu(l,p,D){for(var I=-1,R=D.length;++I<R;){var z=D[I],J=z.size;switch(z.type){case"drop":l+=J;break;case"dropRight":p-=J;break;case"take":p=Jr(p,l+J);break;case"takeRight":l=_t(l,p-J)}}return{start:l,end:p}}(0,R,this.__views__),J=z.start,re=z.end,se=re-J,Pe=I?re:J-1,ke=this.__iteratees__,ze=ke.length,st=0,vt=Jr(se,this.__takeCount__);if(!D||!I&&R==se&&vt==se)return Wr(l,this.__actions__);var It=[];e:for(;se--&&st<vt;){for(var ln=-1,Nt=l[Pe+=p];++ln<ze;){var on=ke[ln],hi=on.type,lr=(0,on.iteratee)(Nt);if(2==hi)Nt=lr;else if(!lr){if(1==hi)continue e;break e}}It[st++]=Nt}return It},$.prototype.at=hn,$.prototype.chain=function lg(){return Fh(this)},$.prototype.commit=function Av(){return new Ni(this.value(),this.__chain__)},$.prototype.next=function hd(){this.__values__===L&&(this.__values__=oi(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?L:this.__values__[this.__index__++]}},$.prototype.plant=function cg(l){for(var p,D=this;D instanceof qt;){var I=Es(D);I.__index__=0,I.__values__=L,p?R.__wrapped__=I:p=I;var R=I;D=D.__wrapped__}return R.__wrapped__=l,p},$.prototype.reverse=function fg(){var l=this.__wrapped__;if(l instanceof Zt){var p=l;return this.__actions__.length&&(p=new Zt(this)),(p=p.reverse()).__actions__.push({func:Yc,args:[od],thisArg:L}),new Ni(p,this.__chain__)}return this.thru(od)},$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=function dg(){return Wr(this.__wrapped__,this.__actions__)},$.prototype.first=$.prototype.head,eu&&($.prototype[eu]=function Nv(){return this}),$}();ui._=mc,(ce=function(){return mc}.call(qe,ie,qe,pe))!==L&&(pe.exports=ce)}.call(this)},7659:(pe,qe,ie)=>{var ce=ie(1811);function Ee(De,Be){if("function"!=typeof De||null!=Be&&"function"!=typeof Be)throw new TypeError("Expected a function");var Ce=function(){var et=arguments,ct=Be?Be.apply(this,et):et[0],dt=Ce.cache;if(dt.has(ct))return dt.get(ct);var ht=De.apply(this,et);return Ce.cache=dt.set(ct,ht)||dt,ht};return Ce.cache=new(Ee.Cache||ce),Ce}Ee.Cache=ce,pe.exports=Ee},5533:(pe,qe,ie)=>{var ce=ie(8492);pe.exports=function(){return ce.Date.now()}},7939:(pe,qe,ie)=>{var ce=ie(9478);pe.exports=function L(Ee,De,Be){return null==Ee?Ee:ce(Ee,De,Be)}},4282:(pe,qe,ie)=>{var ce=ie(9484),L=ie(9794),Ee=ie(3423),Be=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,et=/^0o[0-7]+$/i,ct=parseInt;pe.exports=function dt(ht){if("number"==typeof ht)return ht;if(Ee(ht))return NaN;if(L(ht)){var En="function"==typeof ht.valueOf?ht.valueOf():ht;ht=L(En)?En+"":En}if("string"!=typeof ht)return 0===ht?ht:+ht;ht=ce(ht);var en=Ce.test(ht);return en||et.test(ht)?ct(ht.slice(2),en?2:8):Be.test(ht)?NaN:+ht}},9078:(pe,qe,ie)=>{var ce=ie(3880),L=ie(4231),Ee=ie(2261),De=ie(3423),Be=ie(163),Ce=ie(8916),et=ie(2674);pe.exports=function ct(dt){return Ee(dt)?ce(dt,Ce):De(dt)?[dt]:L(Be(et(dt)))}},2674:(pe,qe,ie)=>{var ce=ie(7002);pe.exports=function L(Ee){return null==Ee?"":ce(Ee)}}},pe=>{pe(pe.s=1620)}]);