{"version":3,"file":"main.js","mappings":"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","sources":["./projects/reactome-cytoscape-style/src/lib/model/reactome-event.model.ts","./projects/reactome-cytoscape-style/src/lib/properties-utils.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/diagram-iterator/diagram-iterator.component.ts","./src/app/diagram-iterator/diagram-iterator.component.html","./src/app/diagram/diagram.component.ts","./src/app/diagram/diagram.component.html","./src/app/guard/legacy.guard.ts","./src/app/interactors/common/overlay-resource.ts","./src/app/interactors/custom-interactor-dialog/custom-interactor-dialog.component.ts","./src/app/interactors/custom-interactor-dialog/custom-interactor-dialog.component.html","./src/app/interactors/layout/interactors-layout.ts","./src/app/interactors/model/interactor-entity.model.ts","./src/app/interactors/services/interactor.service.ts","./src/app/services/analysis.service.ts","./src/app/services/dark.service.ts","./src/app/services/diagram-state.service.ts","./src/app/services/diagram.service.ts","./src/app/services/utils.ts","./src/environments/environment.development.ts","./src/main.ts","./.yalc/cytoscape/dist/cytoscape.esm.js","./projects/reactome-cytoscape-style/src/lib/drawer/shape/gene-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/molecule-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/protein-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/rna-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/gee-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/complex-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/entity-sets-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/cell-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/interacting-pathway-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/disease-interactor-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/shape/sub-pathway-shape.ts","./projects/reactome-cytoscape-style/src/lib/drawer/image-builder.ts","./projects/reactome-cytoscape-style/src/lib/properties.ts","./projects/reactome-cytoscape-style/src/lib/interactivity.ts","./projects/reactome-cytoscape-style/src/lib/color.ts","./projects/reactome-cytoscape-style/src/lib/style.ts","./projects/reactome-cytoscape-style/src/public-api.ts","./projects/reactome-cytoscape-style/src/reactome-cytoscape-style.ts"],"sourcesContent":["import cytoscape from \"cytoscape\";\n\nexport interface ReactomeEventTarget {\n  reactomeId: string,\n  type: 'PhysicalEntity' | 'Pathway' | 'reaction' | 'Interactor' | 'Any',\n  element: cytoscape.NodeSingular,\n  cy: cytoscape.Core\n}\n\nexport enum ReactomeEventTypes {\n  hover = 'reactome::hover',\n  leave = 'reactome::leave',\n\n  select = 'reactome::select',\n  unselect = 'reactome::unselect',\n\n  open = 'reactome::open',\n  close = 'reactome::close',\n}\n\nexport class ReactomeEvent extends CustomEvent<ReactomeEventTarget> {\n  constructor(type: ReactomeEventTypes, target: ReactomeEventTarget) {\n    super(type, {detail: target});\n  }\n\n}\n","import {Properties} from \"./properties\";\n\nexport type Provider<T> = () => T;\n\nexport type Property<T> = T | Provider<T>;\n\n/**\n * This is a guard function to check if a property is a Provider function, or a direct value\n *\n * @param property The value to check\n * @return true if is a Provider function\n */\nexport function isProvider<T>(property: Property<T>): property is Provider<T> {\n  return (property as Provider<T>).apply !== undefined;\n}\n\n/**\n * This function extracts the value from a property, and if the property is a Provider<T>, it calls the property function to get the actual value.\n *\n * @param property A value of type Property<T>.\n */\nexport function extract<T>(property: Property<T>): T {\n  return isProvider(property) ? property() : property;\n}\n\nexport type PropertiesType = {\n  [k: string]: Property<any>\n}\n\nexport type Defaultable<T, K extends keyof T = never> = T & {\n  setDefault<KA extends keyof T, VA extends T[KA]>(key: KA, defaultValue: VA): Defaultable<T, K | KA>;\n} & {\n  [P in K]-?: T[P];\n}\n\n\nexport function defaultable<T>(object: T): Defaultable<T> {\n  const defaultable = (object) as Defaultable<T>;\n\n  defaultable.setDefault = function <K extends keyof T, KA extends keyof T, VA extends T[KA]>(this: Defaultable<T, K>, key: KA, defaultValue: VA): Defaultable<T, K | KA> {\n    if (!object[key]) object[key] = defaultValue;\n    return defaultable as Defaultable<T, K | KA>;\n  };\n\n  return defaultable;\n}\n\nexport const propertyExtractor = (properties: Properties) => <G extends keyof Properties, K extends keyof Properties[G]>(group: G, key: K) => properties[group][key]\nexport const propertyMapper = (properties: Properties) => <G extends keyof Properties, K extends keyof Properties[G], T extends Properties[G][K] extends Property<infer X> ? X : never, M extends (t: T) => any>(group: G, key: K, mapper: M) => mapper(extract(properties[group][key]))\n\n\n","import {RouterModule, Routes} from \"@angular/router\";\nimport {NgModule} from \"@angular/core\";\nimport {DiagramComponent} from \"./diagram/diagram.component\";\nimport {DiagramIteratorComponent} from \"./diagram-iterator/diagram-iterator.component\";\nimport {legacyGuard} from \"./guard/legacy.guard\";\n\nexport const routes: Routes = [\n  {path: 'iterate', component: DiagramIteratorComponent},\n  {path: 'iterate/:id', component: DiagramIteratorComponent},\n  {path: ':id', component: DiagramComponent},\n  {path: '**', component: DiagramComponent,  canActivate: [legacyGuard], runGuardsAndResolvers: 'always'}\n]\n\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {bindToComponentInputs: true})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'cr-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'PathwayBrowser'\n}\n","<router-outlet></router-outlet>\n","import {NgModule} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\n\nimport {AppComponent} from './app.component';\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {CommonModule} from \"@angular/common\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {DiagramComponent} from './diagram/diagram.component';\nimport {RouterOutlet} from \"@angular/router\";\nimport {AppRoutingModule} from \"./app-routing.module\";\nimport {BrowserAnimationsModule, NoopAnimationsModule} from '@angular/platform-browser/animations';\nimport {MatButtonModule} from \"@angular/material/button\";\nimport {MatSlideToggleModule} from \"@angular/material/slide-toggle\";\nimport {CdkDrag, CdkDragHandle} from \"@angular/cdk/drag-drop\";\nimport {DiagramIteratorComponent} from './diagram-iterator/diagram-iterator.component';\nimport {MatInputModule} from \"@angular/material/input\";\nimport {MatSelectModule} from \"@angular/material/select\";\nimport {MatProgressSpinnerModule} from \"@angular/material/progress-spinner\";\nimport {CustomInteractorDialogComponent } from './interactors/custom-interactor-dialog/custom-interactor-dialog.component';\nimport {MatDialogModule} from \"@angular/material/dialog\";\nimport {MatTabsModule} from \"@angular/material/tabs\";\nimport {MatCheckboxModule} from \"@angular/material/checkbox\";\nimport {MatRadioModule} from \"@angular/material/radio\";\nimport {NgxMatFileInputModule} from \"@angular-material-components/file-input\";\nimport {MatIconModule} from \"@angular/material/icon\";\nimport {MatListModule} from \"@angular/material/list\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DiagramComponent,\n    DiagramIteratorComponent,\n    CustomInteractorDialogComponent\n  ],\n    imports: [\n        BrowserModule,\n        FormsModule,\n        CommonModule,\n        HttpClientModule,\n        RouterOutlet,\n        AppRoutingModule,\n        // NoopAnimationsModule,\n        MatButtonModule,\n        MatSlideToggleModule,\n        CdkDragHandle,\n        CdkDrag,\n        MatInputModule,\n        MatSelectModule,\n        ReactiveFormsModule,\n        MatProgressSpinnerModule,\n        BrowserAnimationsModule,\n        MatDialogModule,\n        MatTabsModule,\n        MatCheckboxModule,\n        MatRadioModule,\n        NgxMatFileInputModule,\n        MatIconModule,\n        MatListModule\n    ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {AfterViewInit, Component, ViewChild} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {DiagramComponent} from \"../diagram/diagram.component\";\nimport {combineLatest} from \"rxjs\";\n\n@Component({\n  selector: 'cr-diagram-iterator',\n  templateUrl: './diagram-iterator.component.html',\n  styleUrls: ['./diagram-iterator.component.scss']\n})\nexport class DiagramIteratorComponent implements AfterViewInit {\n\n  @ViewChild('diagram')\n  diagram!: DiagramComponent;\n\n  diagramId: string = '';\n\n  diagramIndex: number = 0;\n  diagramIds: string[] = [];\n\n  constructor(private route: ActivatedRoute, private client: HttpClient, private router: Router) {\n  }\n\n  ngAfterViewInit(): void {\n    combineLatest([\n      this.route.params,\n      this.client.get('/assets/data/diagrams-dev-no-ehld.txt', {responseType: \"text\"})\n    ]).subscribe(([params, diagrams]) => {\n      this.diagramIds = diagrams.split('\\n').filter(s => s.length !== 0);\n      this.diagramId = this.diagramIds[0];\n    })\n  }\n\n  next() {\n    this.diagramIndex++;\n    if (this.diagramIndex > this.diagramIds.length - 1) this.diagramIndex = 0;\n    this.diagramId = this.diagramIds[this.diagramIndex];\n  }\n  previous() {\n    this.diagramIndex--;\n    if (this.diagramIndex < 0) this.diagramIndex = this.diagramIds.length - 1;\n    this.diagramId = this.diagramIds[this.diagramIndex];\n  }\n\n}\n","<div (keydown.arrowLeft)=\"previous()\" (keydown.arrowRight)=\"next()\">\n  <cr-diagram #diagram [id]=\"diagramId\"></cr-diagram>\n\n  <button mat-raised-button (click)=\"previous()\">Previous</button>\n  <mat-form-field>\n    <mat-label>Diagram ID</mat-label>\n    <input matInput placeholder=\"R-HSA-XXXXXXXX\" [(ngModel)]=\"diagramId\">\n  </mat-form-field>\n  <button mat-raised-button (click)=\"next()\">Next</button>\n\n</div>\n\n\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport {DiagramService} from \"../services/diagram.service\";\nimport cytoscape from \"cytoscape\";\n// @ts-ignore\nimport {Interactivity, ReactomeEvent, Style} from \"reactome-cytoscape-style\";\nimport {DarkService} from \"../services/dark.service\";\nimport {InteractorService} from \"../interactors/services/interactor.service\";\nimport {delay, distinctUntilChanged, filter, forkJoin, Observable, share, Subject, take} from \"rxjs\";\nimport {ReactomeEventTypes} from \"../../../projects/reactome-cytoscape-style/src/lib/model/reactome-event.model\";\nimport {PsicquicResource, Resource} from \"../interactors/model/interactor-entity.model\";\nimport {MatSelect} from \"@angular/material/select\";\nimport {FormControl} from \"@angular/forms\";\nimport {DiagramStateService} from \"../services/diagram-state.service\";\nimport {UntilDestroy} from \"@ngneat/until-destroy\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {\n  CustomInteractorDialogComponent\n} from \"../interactors/custom-interactor-dialog/custom-interactor-dialog.component\";\nimport {ResourceType} from \"../interactors/common/overlay-resource\";\nimport {extract} from \"../../../projects/reactome-cytoscape-style/src/lib/properties-utils\";\nimport {AnalysisService, Examples} from \"../services/analysis.service\";\nimport {Graph} from \"../model/graph.model\";\nimport {isDefined} from \"../services/utils\";\nimport {Analysis} from \"../model/analysis.model\";\nimport {Router} from \"@angular/router\";\n\n@UntilDestroy({checkProperties: true})\n@Component({\n  selector: 'cr-diagram',\n  templateUrl: './diagram.component.html',\n  styleUrls: ['./diagram.component.scss']\n})\nexport class DiagramComponent implements AfterViewInit, OnChanges {\n  title = 'pathway-browser';\n  @ViewChild('cytoscape') cytoscapeContainer?: ElementRef<HTMLDivElement>;\n  @ViewChild('cytoscapeCompare') compareContainer?: ElementRef<HTMLDivElement>;\n  @ViewChild('legend') legendContainer?: ElementRef<HTMLDivElement>;\n  @ViewChild('psicquicSelect') psicquicSelect?: MatSelect;\n\n  comparing: boolean = false;\n  fit = true;\n  psicquicResources: PsicquicResource[] = []\n  selectedPsicquicResource = new FormControl();\n  isDataFromPsicquicLoading: boolean = false;\n  resourceTokens: Resource[] = [];\n  readonly ResourceType = ResourceType;\n\n\n  constructor(private diagram: DiagramService,\n              public dark: DarkService,\n              private interactorsService: InteractorService,\n              private state: DiagramStateService,\n              public dialog: MatDialog,\n              private cdr: ChangeDetectorRef,\n              private analysis: AnalysisService,\n              private router: Router) {\n  }\n\n  cy!: cytoscape.Core;\n  reactomeStyle!: Style;\n  cyCompare!: cytoscape.Core;\n  reactomeStyleCompare!: Style;\n  legend!: cytoscape.Core;\n\n  cys: cytoscape.Core[] = [];\n\n\n  @Input('id') diagramId: string = '';\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['diagramId']) this.loadDiagram();\n  }\n\n\n  ngAfterViewInit(): void {\n    this.dark.$dark.subscribe(this.updateStyle.bind(this))\n\n    const container = this.cytoscapeContainer!.nativeElement;\n    const compareContainer = this.compareContainer!.nativeElement;\n    const legendContainer = this.legendContainer!.nativeElement;\n\n    Object.values(ReactomeEventTypes).forEach((type) => {\n      container.addEventListener(type, (e) => this._reactomeEvents$.next(e as ReactomeEvent))\n      compareContainer.addEventListener(type, (e) => this._reactomeEvents$.next(e as ReactomeEvent))\n      legendContainer.addEventListener(type, (e) => this._reactomeEvents$.next(e as ReactomeEvent))\n    })\n\n    this.reactomeStyle = new Style(container);\n\n    this.underlayPadding = extract(this.reactomeStyle.properties.shadow.padding)\n\n    this.diagram.getLegend()\n      .subscribe(legend => {\n        this.legend = cytoscape({\n          container: legendContainer,\n          elements: legend,\n          style: this.reactomeStyle?.getStyleSheet(),\n          layout: {name: \"preset\"},\n          boxSelectionEnabled: false\n        });\n        this.reactomeStyle?.bindToCytoscape(this.legend);\n\n        this.legend.zoomingEnabled(false);\n        this.legend.panningEnabled(false);\n        this.legend.minZoom(0)\n        const bb = this.legend.elements().boundingBox();\n        // this.ratio = bb.w / bb.h;\n      });\n\n    this.loadDiagram();\n\n    this.getPsicquicResources();\n  }\n\n  loadDiagram() {\n    if (!this.cytoscapeContainer) return;\n\n    const container = this.cytoscapeContainer!.nativeElement;\n\n    this.diagram.getDiagram(this.diagramId)\n      .subscribe(elements => {\n        this.comparing = elements.nodes.some(node => node.data['isFadeOut']) || elements.edges.some(edge => edge.data['isFadeOut'])\n        this.cy = cytoscape({\n          container: container,\n          elements: elements,\n          style: this.reactomeStyle?.getStyleSheet(),\n          layout: {name: \"preset\"},\n        });\n        this.cys[0] = this.cy;\n        this.reactomeStyle.bindToCytoscape(this.cy);\n        this.reactomeStyle.clearCache();\n        this.cy.on('dblclick', '.Pathway', (e) => this.router.navigate([e.target.data('graph.stId')], {queryParamsHandling: \"preserve\"}))\n\n        this.loadCompare(elements, container);\n\n        this.stateToDiagram();\n      })\n  }\n\n  private initialiseReplaceElements() {\n    if (this.comparing)\n      this.cy.batch(() => {\n        this.cy.elements('[!isBackground]').style('visibility', 'hidden')\n        this.cy.edges('.shadow').style('underlay-padding', 0)\n        this.lastIndex = 0;\n        this.updateReplacementVisibility();\n        this.cy.elements('.Compartment').style('visibility', 'visible')\n      })\n  }\n\n  private loadCompare(elements: cytoscape.ElementsDefinition, container: HTMLDivElement) {\n\n    const getPosition = (e: cytoscape.SingularElementArgument) => e.is('.Shadow') ? e.data('triggerPosition') : e.boundingBox().x1;\n    if (this.comparing) {\n      this.cy.elements('[!isBackground]').style('visibility', 'hidden')\n      this.replacedElements = this.cy!\n        .elements('[?replacedBy]')\n        .add('[?isCrossed]')\n        .sort((a, b) => getPosition(a) - getPosition(b))\n        .style('visibility', 'hidden')\n        .toArray();\n\n      this.replacedElementsPosition = this.replacedElements.map(getPosition);\n\n\n      this.cy.on('add', e => {\n        const addedElement = e.target;\n        if (addedElement.data('replacedBy') || addedElement.data('isCrossed')) {\n          const x = getPosition(addedElement);\n          let index = this.replacedElementsPosition.findIndex(x1 => x1 >= x);\n          if (index === -1) index = this.replacedElements.length;\n\n          this.replacedElements.splice(index, 0, addedElement);\n          this.replacedElementsPosition.splice(index, 0, x);\n          addedElement.style('visibility', 'hidden');\n        }\n      })\n\n      this.cy.on('remove', e => {\n        const removedElement = e.target;\n        const index = this.replacedElements.indexOf(removedElement);\n        if (index > -1) {\n          this.replacedElements.splice(index, 1);\n          this.replacedElementsPosition.splice(index, 1);\n        }\n      })\n\n      const compareContainer = this.compareContainer!.nativeElement;\n      this.cyCompare = cytoscape({\n        container: compareContainer,\n        elements: elements,\n        style: this.reactomeStyle?.getStyleSheet(),\n        layout: {name: \"preset\"},\n      });\n      this.cys[1] = this.cyCompare;\n\n\n      this.cyCompare.elements('[?isFadeOut]').remove();\n      this.cyCompare.elements('.Compartment').remove();\n      this.cy!.nodes('.crossed').removeClass('crossed');\n\n      this.cyCompare!.on('viewport', () => this.syncViewports(this.cyCompare, compareContainer, this.cy, container))\n      this.cy!.on('viewport', () => this.syncViewports(this.cy, container, this.cyCompare, compareContainer))\n\n      this.reactomeStyleCompare = new Style(compareContainer);\n      this.reactomeStyleCompare?.bindToCytoscape(this.cyCompare);\n      this.cyCompare.minZoom(this.cy!.minZoom())\n      this.cyCompare.maxZoom(this.cy!.maxZoom())\n\n      setTimeout(() => {\n        this.syncViewports(this.cy!, container, this.cyCompare, compareContainer)\n        this.initialiseReplaceElements();\n      })\n    }\n  }\n\n  readonly classRegex = /class:(\\w+)([!.]drug)?/\n\n  getElements(tokens: (string | number)[], cy: cytoscape.Core): cytoscape.CollectionArgument {\n    let elements: cytoscape.Collection;\n\n    elements = cy.collection()\n    tokens.forEach(token => {\n      if (typeof token === 'string') {\n        if (token.startsWith('R-')) {\n          elements = elements.or(`[graph.stId=\"${token}\"]`)\n        } else {\n          const matchArray = token.match(this.classRegex);\n          if (matchArray) {\n            const [_, clazz, drug] = matchArray;\n            if (drug === '.drug') { // Drug physical entity\n              elements = elements.or(`.${clazz}`).and('.drug');\n            } else if (drug === '!drug') { // Non drug physical entity\n              elements = elements.or(`.${clazz}`).not('.drug');\n            } else { // Reactions\n              elements = elements.or(`.${clazz}`);\n              elements = elements.or(elements.nodes('.reaction').connectedEdges());\n            }\n          } else {\n            elements = elements.or(`[acc=\"${token}\"]`)\n          }\n        }\n      } else {\n        elements = elements.or(`[acc=\"${token}\"]`).or(`[reactomeId=\"${token}\"]`)\n      }\n    });\n    return elements;\n  }\n\n  select(tokens: (string | number)[], cy: cytoscape.Core): cytoscape.CollectionArgument {\n    let selected = this.getElements(tokens, cy);\n    selected.select();\n    if (\"connectedNodes\" in selected) {\n      selected = selected.add(selected.connectedNodes());\n    }\n\n    if (this.fit) {\n      cy.fit(selected, 100)\n      this.fit = false;\n    }\n\n    return selected;\n  }\n\n  flag(accs: (string | number)[], cy: cytoscape.Core): cytoscape.CollectionArgument {\n    return this.flagElements(this.getElements(accs, cy), cy)\n  }\n\n  flagElements(toFlag: cytoscape.CollectionArgument, cy: cytoscape.Core): cytoscape.CollectionArgument {\n    const shadowNodes = cy.nodes('.Shadow');\n    const shadowEdges = cy.edges('[?color]');\n    const trivials = cy.elements('.trivial');\n\n    if (toFlag.nonempty()) {\n      cy.batch(() => {\n        this.setSubPathwayVisibility(false, cy);\n        cy.elements().removeClass('flag')\n        toFlag.addClass('flag')\n          .edges().style({'underlay-opacity': 1})\n      })\n\n      return toFlag\n    } else {\n      cy.batch(() => {\n        this.setSubPathwayVisibility(true, cy);\n        cy.elements().removeClass('flag');\n      })\n\n      return cy.collection()\n    }\n  }\n\n  setSubPathwayVisibility(visible: boolean, cy: cytoscape.Core) {\n    const shadowNodes = cy.nodes('.Shadow');\n    const shadowEdges = cy.edges('[?color]');\n    const trivials = cy.elements('.trivial');\n\n    if (visible) {\n      shadowNodes.style({opacity: 1})\n      trivials.style({opacity: 1})\n      shadowEdges.addClass('shadow')\n      cy.on('zoom', cy.data('reactome').interactivity.onZoom.shadow)\n      cy.data('reactome').interactivity.onZoom.shadow()\n    } else {\n      shadowNodes.style({opacity: 0})\n      shadowEdges.removeClass('shadow')\n      cy.off('zoom', cy.data('reactome').interactivity.onZoom.shadow)\n      trivials.style({opacity: 1})\n      cy.edges().style({'underlay-opacity': 0})\n    }\n  }\n\n\n  applyEvent(event: ReactomeEvent, affectedElements: cytoscape.NodeCollection | cytoscape.EdgeCollection) {\n    switch (event.type) {\n      case ReactomeEventTypes.hover:\n        affectedElements.addClass('hover');\n        break;\n      case ReactomeEventTypes.leave:\n        affectedElements.removeClass('hover');\n        break;\n      case ReactomeEventTypes.select:\n        affectedElements.select();\n        break;\n      case ReactomeEventTypes.unselect:\n        affectedElements.unselect();\n        break;\n    }\n  }\n\n\n  ratio = 0.384;\n\n  replacedElements!: cytoscape.SingularElementArgument[];\n  replacedElementsPosition: number[] = [];\n\n  lastIndex = 0;\n  underlayPadding = 0;\n\n  private updateReplacementVisibility() {\n\n    // // Calculate the position of the element that is to the right of the separation\n\n    const extent = this.cyCompare!.extent();\n    let limitIndex = this.replacedElementsPosition.findIndex(x1 => x1 >= extent.x1);\n    if (limitIndex === -1) limitIndex = this.replacedElements.length;\n\n    /// Alternative calculation. In theory more optimised, but seems worse when console is opened for some reason\n\n    // const currentPos = this.cyCompare!.extent().x1;\n    // let limitIndex = this.lastIndex;\n    // let i = this.lastIndex;\n    // if (currentPos > this.lastPosition) { // Dragging to the right\n    //   while (i >= 0 && this.replacedElementsPosition[i] < currentPos) i++;\n    //   limitIndex = i;\n    // } else if (currentPos < this.lastPosition) { // Dragging to the left\n    //   do i--;\n    //   while (i < this.replacedElementsPosition.length  && this.replacedElementsPosition[i] >= currentPos)\n    //   limitIndex = i+1;\n    // }\n    //\n    // this.lastPosition = currentPos;\n    // ---------\n\n    if (this.lastIndex !== limitIndex) {\n      // If at least one element is switched from left to right\n      if (limitIndex < this.lastIndex) this.replacedElements.slice(limitIndex, this.lastIndex)\n        .map(e => e.style('visibility', 'hidden')) // Hide the range of elements\n        .filter(e => e.is('.Shadow')) // And if it is an shadow\n        .forEach(shadow => shadow.data('edges').style('underlay-padding', 0)) // Hide as well the associated reaction underlay\n      // If at least one element is switched from right to left\n      if (limitIndex > this.lastIndex) this.replacedElements.slice(this.lastIndex, limitIndex)\n        .map(e => e.style('visibility', 'visible')) // Show the range of elements\n        .filter(e => e.is('.Shadow')) // And if it is an shadow\n        .forEach(shadow => shadow.data('edges').style('underlay-padding', this.underlayPadding)) // Show as well the associated reaction underlay\n    }\n    this.lastIndex = limitIndex\n  }\n\n  syncing = false;\n  syncViewports = (source: cytoscape.Core, sourceContainer: HTMLElement, target: cytoscape.Core, targetContainer: HTMLElement) => {\n    if (this.syncing) return;\n    this.syncing = true;\n    this.updateReplacementVisibility();\n\n    const position = {...source.pan()};\n    const sourceX = sourceContainer.getBoundingClientRect().x;\n    const targetX = targetContainer.getBoundingClientRect().x;\n    position.x += sourceX - targetX;\n    target.viewport({\n      zoom: source.zoom(),\n      pan: position,\n    })\n    this.syncing = false;\n  };\n\n\n  getInteractors(resource: string) {\n    const isCustom = this.interactorsService.isCustomResource(resource, this.psicquicResources)\n    const isPsicquic = this.psicquicResources.filter(pr => pr.name != ResourceType.STATIC).some(r => r.name === this.state.get('overlay'))\n    this.cys.forEach(cy => {\n      if (!resource) return;\n\n      if (!isPsicquic) {\n        this.selectedPsicquicResource.reset();\n      }\n\n      if (!isCustom) {\n        this.interactorsService.getInteractorData(cy, resource).subscribe(interactors => {\n          this.interactorsService.addInteractorOccurrenceNode(interactors, cy, resource);\n          this.initialiseReplaceElements(); // Avoid floating occurrence nodes when in compare mode\n        });\n      }\n      this.state.set('overlay', resource)\n    })\n  }\n\n  getPsicquicResources() {\n    this.interactorsService.getPsicquicResources().subscribe(resources => {\n      this.psicquicResources = resources;\n    });\n  }\n\n  onPsicquicResourceChange(selectedResource: string) {\n    this.isDataFromPsicquicLoading = true;\n    this.interactorsService.getInteractorData(this.cy, selectedResource).subscribe(interactors => {\n      this.interactorsService.addInteractorOccurrenceNode(interactors, this.cy, selectedResource)\n      this.isDataFromPsicquicLoading = false;\n      this.psicquicSelect?.close();\n      this.state.set('overlay', selectedResource)\n    })\n  }\n\n  openCustomInteractorDialog() {\n    const dialogRef = this.dialog.open(CustomInteractorDialogComponent, {\n      data: {cy: this.cy},\n      restoreFocus: false // Deselect button when closing\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      const resource = dialogRef.componentInstance.resource\n      if (resource.token) {\n        this.resourceTokens!.push(resource)\n        this.state.set('overlay', resource.token.summary.token)\n      }\n      this.cdr.detectChanges();\n    })\n  }\n\n  deleteResource(resource: Resource) {\n    const index = this.resourceTokens!.indexOf(resource);\n    if (index !== -1) {\n      this.resourceTokens!.splice(index, 1);\n      this.cy.elements(`[resource = '${resource.token?.summary.token}']`).remove();\n    }\n  }\n\n  onCustomResourceChange(resource: Resource) {\n    this.interactorsService.sendPostRequest(resource.token!, this.cy).subscribe((result) => {\n      this.cys.forEach(cy => {\n        this.interactorsService.addInteractorOccurrenceNode(result.interactors, cy, result.interactors.resource);\n        this.state.set('overlay', resource.token!.summary.token);\n      })\n    })\n  }\n\n  isSelected(resource: Resource): boolean {\n    return this.resourceTokens!.includes(resource);\n  }\n\n  private loadAnalysis(token: string | null) {\n    console.log(token, this.diagramId)\n    if (!token || !this.diagramId) {\n      this.cys.forEach(cy => {\n        cy.batch(() => {\n          cy.nodes().removeData('exp');\n          cy.edges('[?color]').style({\n            'underlay-padding': extract(this.reactomeStyle.properties.shadow.padding)\n          });\n          cy.nodes('.Shadow').style({\n            'font-size': extract(this.reactomeStyle.properties.shadow.fontSize),\n            'text-outline-width': extract(this.reactomeStyle.properties.shadow.fontPadding)\n          })\n        })\n      });\n      return\n    }\n\n    forkJoin({\n      entities: this.analysis.foundEntities(this.diagramId, token),\n      pathways: this.analysis.pathwaysResults(this.cy.nodes('.Pathway').map(p => p.data('reactomeId')), token),\n      result: this.analysis.result$.pipe(filter(isDefined), take(1))\n    }).subscribe(({entities, result, pathways}) => {\n      // TODO Make switching profile work without reloading whole data\n      const analysisProfile = this.state.get('analysisProfile');\n      let analysisIndex = analysisProfile ? entities.expNames.indexOf(analysisProfile) : 0;\n      if (analysisIndex === -1) analysisIndex = 0;\n\n      let analysisEntityMap = new Map<string, number>(entities.entities.flatMap(entity =>\n        entity.mapsTo\n          .flatMap(diagramEntity => diagramEntity.ids)\n          .map(id => [id, entity.exp[analysisIndex] || 1]))\n      )\n      console.log(analysisEntityMap)\n\n      let analysisPathwayMap = new Map<number, Analysis.Pathway['entities']>(pathways.map(p => [p.dbId, p.entities]));\n\n      console.log(analysisPathwayMap)\n\n      const normalize = (x: number, min: number, max: number) => (x - min) / (max - min)\n\n      this.cys.forEach(cy => {\n        cy.batch(() => {\n          const style: Style = cy.data('reactome');\n          const min = style.properties.analysis.min = result.expression.min || 0;\n          const max = style.properties.analysis.max = result.expression.max || 1;\n\n          const hasExpression = result.summary.type !== 'OVERREPRESENTATION';\n\n\n          cy.nodes('.PhysicalEntity').forEach(node => {\n            const leaves: Graph.Node[] = node.data('graph.leaves');\n            const exp = leaves\n              .map(leaf => analysisEntityMap.get(leaf.identifier))\n              .sort((a, b) => a !== undefined ? (b !== undefined ? a - b : -1) : 1)\n              .map(exp => exp !== undefined ? normalize(exp, min, max) : undefined);\n\n            console.log(node.data('reactomeId'), leaves, exp)\n\n            // if (hasExpression) exp = exp.map(e => e !== undefined ? 1 - e : undefined);\n            node.data('exp', exp);\n          })\n          cy.nodes('.Pathway').forEach(node => {\n            const dbId: number = node.data('reactomeId');\n            const pathwayData = analysisPathwayMap.get(dbId);\n            if (!pathwayData) {\n              node.data('exp', [undefined]);\n            }\n            else {\n              console.log(dbId, normalize(pathwayData.exp[analysisIndex] || 1 - pathwayData.pValue, min, max))\n              node.data('exp', [\n                [normalize(pathwayData.exp[analysisIndex] || 1 - pathwayData.pValue, min, max), pathwayData.found],\n                [undefined, pathwayData.total - pathwayData.found]\n              ])\n            }\n          })\n\n          cy.edges('[?color]').style({'underlay-padding': 8});\n          cy.nodes('.Shadow').style({\n            'font-size': extract(style.properties.shadow.fontSize) / 2,\n            'text-outline-width': extract(style.properties.shadow.fontPadding) / 2\n          })\n          this.reactomeStyle.loadAnalysis(cy, hasExpression ? 'bidirectional' : 'unidirectional');\n        })\n      })\n\n    })\n  }\n\n  updateStyle() {\n    this.cy ? setTimeout(() => this.reactomeStyle?.update(this.cy), 5) : null;\n    this.cyCompare ? setTimeout(() => this.reactomeStyle?.update(this.cyCompare), 5) : null;\n    this.legend ? setTimeout(() => this.reactomeStyle?.update(this.legend), 5) : null;\n  }\n\n  compareDragging = false;\n\n  dragStart() {\n    this.compareDragging = true;\n  }\n\n  dragEnd() {\n    this.compareDragging = false;\n  }\n\n  dragMove($event: MouseEvent, compareContainer: HTMLDivElement) {\n    if (!this.compareDragging) return;\n    compareContainer.style['left'] = $event.x + 'px';\n    this.cyCompare.resize()\n    this.syncViewports(this.cy!, this.cytoscapeContainer!.nativeElement, this.cyCompare!, this.compareContainer!.nativeElement);\n  }\n\n  updateLegend() {\n    this.legend.resize()\n    this.legend.panningEnabled(true)\n    this.legend.zoomingEnabled(true)\n    this.legend.fit(this.legend.elements(), 2)\n    this.legend.panningEnabled(false)\n    this.legend.zoomingEnabled(false)\n  }\n\n  // ----- Event Syncing -----\n  private _reactomeEvents$: Subject<ReactomeEvent> = new Subject<ReactomeEvent>();\n\n  private _ignore = false;\n\n  @Output()\n  public reactomeEvents$: Observable<ReactomeEvent> = this._reactomeEvents$.asObservable().pipe(\n    distinctUntilChanged((prev, current) => prev.type === current.type && prev.detail.reactomeId === current.detail.reactomeId),\n    // tap(e => console.log(e.type, e.detail, e.detail.element.data(), e.detail.cy.container()?.id)),\n    filter(() => !this._ignore),\n    share()\n  );\n\n  flagging = this.state.onChange.flag$.subscribe((value) => this.cys.forEach(cy => this.flag(value, cy)))\n  selecting = this.state.onChange.select$.subscribe((value) => this.cys.forEach(cy => this.select(value, cy)))\n  interactoring = this.state.onChange.overlay$.subscribe((value) => this.getInteractors(value));\n  analysing = this.state.onChange.analysis$.subscribe((value) => this.loadAnalysis(value));\n\n\n  // stateToDiagramSub = this.state.state$.subscribe(() => this.stateToDiagram());\n\n  private stateToDiagram() {\n    for (let cy of this.cys) {\n      this.flag(this.state.get('flag'), cy);\n      this.select(this.state.get(\"select\"), cy);\n    }\n    this.getInteractors(this.state.get(\"overlay\"));\n    this.loadAnalysis(this.state.get('analysis'))\n  }\n\n  compareBackgroundSync = this.reactomeEvents$.pipe(\n    filter(() => this.comparing),\n    filter((e) => e.detail.cy !== this.legend)\n  ).subscribe(event => {\n    const src = event.detail.cy;\n    const tgt = src === this.cy ? this.cyCompare : this.cy;\n\n    let replacedBy = event.detail.element.data('replacedBy');\n    replacedBy = replacedBy || event.detail.element.data('replacement');\n    replacedBy = replacedBy || (event.detail.element.data('isBackground') && !event.detail.element.data('isFadeOut') && event.detail.element.data('id'));\n\n    if (!replacedBy) return;\n\n    let replacements = tgt.getElementById(replacedBy);\n    if (event.detail.type === 'reaction') {\n      replacements = replacements.add(tgt.elements(`[reactionId=${replacedBy}]`))\n    }\n\n    this.applyEvent(event, replacements)\n  });\n\n\n  interactorOpeningHandling = this.reactomeEvents$\n    .pipe(\n      filter((e) => e.detail.cy !== this.legend),\n      filter(e => [ReactomeEventTypes.open, ReactomeEventTypes.close].includes(e.type as ReactomeEventTypes)),\n      filter(e => e.detail.type === 'Interactor'),\n    ).subscribe(e => {\n        [this.reactomeStyle, this.reactomeStyleCompare]\n          .filter(s => s !== undefined && e.detail.cy === s.cy)\n          .forEach(style => {\n              const occurrenceNode = e.detail.element.nodes()[0];\n\n              if (e.type === ReactomeEventTypes.open)\n                this.interactorsService.addInteractorNodes(occurrenceNode, style.cy!);\n              else\n                this.interactorsService.removeInteractorNodes(occurrenceNode);\n\n              style.interactivity.updateProteins();\n              style.interactivity.triggerZoom();\n            }\n          )\n\n        if (this.comparing) {\n          this.initialiseReplaceElements();\n        }\n      }\n    );\n\n  diagram2legend = this.reactomeEvents$.pipe(\n    filter((e) => e.detail.cy !== this.legend),\n  ).subscribe(event => {\n    const classes = event.detail.element.classes();\n    let matchingElement: cytoscape.NodeCollection | cytoscape.EdgeCollection = this.legend.elements(`.${classes[0]}`);\n\n    if (event.detail.type === 'PhysicalEntity') {\n      if (classes.includes('drug')) matchingElement = matchingElement.nodes('.drug')\n      else matchingElement = matchingElement.not('.drug')\n    } else if (event.detail.type === 'reaction') {\n      const reaction = event.detail.element.nodes('.reaction');\n      matchingElement = this.legend.nodes(`.${reaction.classes()[0]}`).first()\n      matchingElement = matchingElement.add(matchingElement.connectedEdges())\n    }\n\n    this._ignore = true;\n    this.applyEvent(event, matchingElement);\n    this._ignore = false;\n  });\n\n  diagramSelect2state = this.reactomeEvents$.pipe(\n    filter((e) => e.detail.cy !== this.legend),\n    delay(0)\n  ).subscribe(e => {\n      if (e.type !== ReactomeEventTypes.select) return;\n      let elements: cytoscape.NodeSingular = e.detail.element;\n      if (e.detail.type === 'reaction') {\n        elements = e.detail.cy.elements('node.reaction:selected')\n      }\n      const reactomeIds = elements.map(el => el.data('graph.stId'));\n      this.state.set('select', reactomeIds)\n    }\n  );\n\n  legend2state = this.reactomeEvents$.pipe(\n    filter((e) => e.detail.cy === this.legend),\n    filter(() => !this._ignore),\n  ).subscribe((e) => {\n    const event = e as ReactomeEvent;\n    const classes = event.detail.element.classes();\n    for (let cy of [this.cy, this.cyCompare].filter(isDefined)) {\n      let matchingElement: cytoscape.NodeCollection | cytoscape.EdgeCollection = cy.elements(`.${classes[0]}`);\n\n      // TODO move everything to use state\n\n      if (event.detail.type === 'PhysicalEntity' || event.detail.type === 'Pathway') {\n        if (classes.includes('drug')) matchingElement = matchingElement.nodes('.drug')\n        else matchingElement = matchingElement.not('.drug')\n      } else if (event.detail.type === 'reaction') {\n        const reaction = event.detail.element.nodes('.reaction');\n        matchingElement = this.cy.nodes(`.${reaction.classes()[0]}`)\n        matchingElement = matchingElement.add(matchingElement.connectedEdges())\n      }\n\n      switch (event.type) {\n        case ReactomeEventTypes.select:\n          this.state.set('flag', ['class:' + classes[0] + (event.detail.type === 'reaction' ? '' : ((classes.includes('drug') ? '.' : '!') + 'drug'))])\n          break;\n        case ReactomeEventTypes.unselect:\n          this.state.set('flag', []);\n          break;\n        case ReactomeEventTypes.hover:\n          matchingElement.addClass('hover')\n          break;\n        case ReactomeEventTypes.leave:\n          matchingElement.removeClass('hover')\n          break;\n      }\n    }\n  });\n\n  logProteins() {\n    console.debug(new Set(this.cy.nodes(\".Protein\").map(node => node.data(\"acc\") || node.data(\"iAcc\"))))\n  }\n\n  analyse(example: Examples) {\n    this.analysis.example(example).subscribe();\n  }\n}\n","<div class=\"variables\" [class.dark]=\"dark.isDark\" #container>\n\n  <div id=\"cytoscape\" #cytoscape></div>\n    <div id=\"disease-container\" class=\"drag-container\" #compareContainer [style.display]=\"comparing ? 'flex': 'none'\">\n      <div id=\"handle-limits\" (mouseup)=\"dragEnd()\" (mouseleave)=\"dragEnd()\"\n           (mousemove)=\"dragMove($event, compareContainer)\" [class.active]=\"compareDragging\">\n        <span id=\"disease-handle\" class=\"drag-handle\" (mousedown)=\"dragStart()\"></span>\n      </div>\n\n      <div id=\"cytoscape-compare\" #cytoscapeCompare class=\"drag-content\"></div>\n    </div>\n\n  <div id=\"legend-boundary\" [ngStyle]=\"{'--legend-width': ratio  * container.clientHeight + 'px'}\">\n    <div cdkDrag cdkDragLockAxis=\"x\" cdkDragBoundary=\"#legend-boundary\" id=\"legend-container\" (cdkDragMoved)=\"updateLegend()\"\n         [style.height]=\"container.clientHeight + 'px'\">\n      <button id=\"legend-handle\" cdkDragHandle>LEGEND</button>\n      <div id=\"legend\" #legend></div>\n    </div>\n  </div>\n\n\n  <form id=\"controls\">\n    <button mat-raised-button (click)=\"getInteractors(ResourceType.STATIC)\">IntAct</button>\n    <button mat-raised-button (click)=\"getInteractors(ResourceType.DISGENET)\">DisGeNet</button>\n    <button mat-raised-button (click)=\"updateStyle()\">Update Style</button>\n    <button mat-raised-button (click)=\"logProteins()\">Log Proteins</button>\n    <button mat-raised-button (click)=\"analyse('uniprot')\">Uniprot</button>\n    <button mat-raised-button (click)=\"analyse('microarray')\">Microarray</button>\n\n    <mat-form-field appearance=\"outline\">\n      <mat-label>PSICQUIC</mat-label>\n      <mat-select #psicquicSelect [formControl]=\"selectedPsicquicResource\" [hideSingleSelectionIndicator]=true (selectionChange)=\"onPsicquicResourceChange($event.value)\">\n        <mat-option *ngFor=\"let resource of psicquicResources\" [value]=\"resource.name\" [disabled]=\"!resource.active\" (click)=\"psicquicSelect.open()\">\n          <div class=\"option-content\">\n            <span><i>{{ resource.name }}</i></span>\n            <mat-spinner diameter=\"20\" *ngIf=\"isDataFromPsicquicLoading && selectedPsicquicResource.value === resource.name\"></mat-spinner>\n          </div>\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <button mat-raised-button (click)=\"openCustomInteractorDialog()\">Custom resource</button>\n\n    <mat-slide-toggle [(ngModel)]=\"dark.isDark\" name=\"dark\">Dark mode</mat-slide-toggle>\n    <span>{{(reactomeEvents$ | async)?.detail?.reactomeId}}</span>\n  </form>\n\n\n  <mat-selection-list style=\"width: 260px\" *ngIf=\"resourceTokens?.length != 0\" [multiple]=\"false\">\n    <mat-list-option color=\"primary\" *ngFor=\"let resourceToken of resourceTokens\" [value]=\"resourceToken\"\n                     [selected]=\"isSelected(resourceToken)\" (click)=\"onCustomResourceChange(resourceToken)\">\n      <div class=\"option-content\">\n        <div>{{ resourceToken.token?.summary?.name }}</div>\n        <button mat-icon-button color=\"primary\" (click)=\"deleteResource(resourceToken)\">\n          <mat-icon>delete</mat-icon>\n        </button>\n      </div>\n    </mat-list-option>\n  </mat-selection-list>\n\n</div>\n","import {CanActivateFn, Params, Router} from '@angular/router';\nimport {inject} from \"@angular/core\";\n\nconst URL_PATTERN = /\\/?(?<id>R-[A-Z]{3}-\\d+)&?(?<params>.*)/;\n\n\nexport const legacyGuard: CanActivateFn = (route, state) => {\n  const router: Router = inject(Router);\n  const {fragment, queryParams} = route;\n  let params = {...queryParams} as Params;\n  let id = 'R-HSA-453279'; // Default routing\n\n  if (fragment) {\n    const match = fragment.match(URL_PATTERN);\n    if (match && match.groups && match.groups['id']) {\n      if (match.groups['id']) {\n        id = match.groups['id'];\n      }\n      if (match.groups['params']) {\n        match.groups['params']\n          .split(\"&\")\n          .map(param => param.split(\"=\"))\n          .forEach(([key, value]) => {\n            params[key] = value || true;\n          })\n      }\n    }\n    return router.navigate([id], {fragment: undefined, queryParams: params})\n  }\n\n  return router.navigate([id]); // Default routing\n};\n","export enum ResourceType {\n  STATIC = 'IntAct',\n  DISGENET = 'DisGeNet',\n  PSICQUIC = 'PSICQUIC',\n  CUSTOM = 'custom'\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {\n  AbstractControl,\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  ValidationErrors,\n  ValidatorFn,\n  Validators\n} from \"@angular/forms\";\nimport {merge} from \"rxjs\";\nimport {takeUntilDestroyed} from \"@angular/core/rxjs-interop\";\nimport {MatTabChangeEvent} from \"@angular/material/tabs\";\nimport {MatRadioChange} from \"@angular/material/radio\";\nimport {InteractorService} from \"../services/interactor.service\";\nimport cytoscape from \"cytoscape\";\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {InputCategory, Resource} from \"../model/interactor-entity.model\";\n\n\n@Component({\n  selector: 'cr-custom-interactor-dialog',\n  templateUrl: './custom-interactor-dialog.component.html',\n  styleUrls: ['./custom-interactor-dialog.component.scss']\n})\nexport class CustomInteractorDialogComponent implements OnInit {\n\n  cy!: cytoscape.Core;\n  name = new FormControl('', [Validators.required, Validators.pattern(/^[a-zA-Z_]+[a-zA-Z0-9_]*$/)]);\n  resourceForm!: FormGroup;\n  errorMessage = '';\n  tabId = 'data'; // Default value\n  selectedValue = 'form'; // Default value\n  isDataLoading: boolean = false;\n  resource = new Resource();\n  items = [\n    {'name': 'form', 'content': 'File'},\n    {'name': 'content', 'content': 'Copy & Paste'},\n    {'name': 'url', 'content': 'URL'}]\n\n  constructor(private interactorService: InteractorService, private dialogRef: MatDialogRef<CustomInteractorDialogComponent>, private fb: FormBuilder, @Inject(MAT_DIALOG_DATA) public data: {\n    cy: cytoscape.Core\n  }) {\n    this.resourceForm = this.fb.group({\n      selectedValue: [''],\n      form: [''], // file uploader\n      content: [''],\n      url: [''],\n      psicquicUrl: ['']\n    }, {validators: this.formGroupValidator});\n\n    merge(this.name.statusChanges, this.name.valueChanges)\n      .pipe(takeUntilDestroyed())\n      .subscribe(() => this.updateErrorMessage());\n  }\n\n\n  ngOnInit() {\n    this.cy = this.data.cy;\n  }\n\n  formGroupValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n    const fileValue = control.value.form;\n    const contentValue = control.value.content;\n    const urlValue = control.value.url;\n    const psicquicUrlValue = control.value.psicquicUrl;\n    if (fileValue || contentValue || urlValue || psicquicUrlValue) {\n      return null\n    } else {\n      return {invalid: true};\n    }\n  };\n\n  updateErrorMessage() {\n    if (this.name.hasError('required')) {\n      this.errorMessage = 'You must enter a name';\n    } else if (this.name.hasError('pattern')) {\n      this.errorMessage = 'Name can only contain letters'\n    } else {\n      this.errorMessage = '';\n    }\n  }\n\n  onTabChange($event: MatTabChangeEvent) {\n    this.tabId = $event.tab.ariaLabelledby;\n  }\n\n  onItemChange($event: MatRadioChange) {\n    this.selectedValue = $event.value;\n  }\n\n  onFileChange($event: Event) {\n    const inputElement = $event.target as HTMLInputElement;\n    if (inputElement.files && inputElement.files.length) {\n      const file = inputElement.files[0]; // Single file upload\n      this.resourceForm.patchValue({form: file});\n    }\n  }\n\n  submit() {\n    this.isDataLoading = true;\n    const userInput = this.getInputs();\n    if (userInput) {\n      this.interactorService.getInteractorsFromToken(this.name.value!, userInput.url!, userInput.content!, this.cy).subscribe((result) => {\n        this.interactorService.addInteractorOccurrenceNode(result.interactors, this.cy, result.interactors.resource)\n        this.resource.token =result.token\n        this.isDataLoading = false;\n        this.dialogRef.close();\n      })\n    }\n  }\n\n  private getInputs(): InputCategory {\n    const input = new InputCategory();\n    const formValue = this.resourceForm.value;\n\n    if (this.tabId === 'data') {\n      input.url = this.interactorService.UPLOAD_URL + this.selectedValue;\n      input.content = formValue[this.selectedValue];\n      if (this.selectedValue === this.items[0].name) { // Prepare formdata when file is uploaded\n        input.content = this.prepareFormData(formValue.form)\n      }\n    }\n\n    if (this.tabId === 'psicquic') {\n      input.url = this.interactorService.UPLOAD_PSICQUIC_URL;\n      input.content = formValue.psicquicUrl;\n    }\n    return input\n  }\n\n  private prepareFormData(formControl: string | Blob): FormData {\n    const formData = new FormData();\n    formData.append(\"file\", formControl);\n    return formData;\n  }\n\n}\n","<h2 mat-dialog-title>Add a new resource</h2>\n<mat-dialog-content>\n  <form [formGroup]=\"resourceForm\">\n    <div>\n      <mat-form-field>\n        <mat-label>Name</mat-label>\n        <input matInput [formControl]=\"name\" (blur)=\"updateErrorMessage()\" required>\n        <mat-error *ngIf=\"resourceForm.get('name')?.invalid\">{{ errorMessage }}</mat-error>\n      </mat-form-field>\n    </div>\n    <mat-tab-group (selectedTabChange)=\"onTabChange($event)\">\n      <mat-tab label=\"Add your data\" aria-labelledby=\"data\">\n        <section>\n          <mat-radio-group (change)=\"onItemChange($event)\">\n            <mat-radio-button class=\"margin\" *ngFor=\"let item of items; let i = index\" [value]=\"item.name\"\n                              [checked]='i===0'>{{ item.content }}\n            </mat-radio-button>\n          </mat-radio-group>\n        </section>\n\n        <mat-form-field *ngIf=\"selectedValue === 'form'\" class=\"full-width\">\n          <ngx-mat-file-input formControlName=\"form\" (change)=\"onFileChange($event)\"  [multiple]=false>\n            <mat-icon ngxMatFileInputIcon>folder</mat-icon>\n          </ngx-mat-file-input>\n          <mat-hint><strong>Upload a file stored locally on your computer.</strong></mat-hint>\n        </mat-form-field>\n\n        <!--        <span>Upload a file stored locally on your computer. Upload a file stored locally on your computer.</span>-->\n        <!--        <div *ngIf=\"label === 'File'\" class=\"full-width\">-->\n        <!--          <button type=\"button\" mat-raised-button (click)=\"fileInput.click()\">Choose File</button>-->\n        <!--          <input hidden (change)=\"onFileSelected($event)\" #fileInput type=\"file\">-->\n        <!--          <span class=\"file-name\">{{ selectedFile?.name }}</span>-->\n        <!--        </div>-->\n\n        <mat-form-field *ngIf=\"selectedValue === 'content'\" class=\"full-width\">\n          <mat-label>Copy & paste your data here</mat-label>\n          <textarea matInput formControlName=\"content\"></textarea>\n          <mat-hint><strong>Copy and paste your data in columns.</strong></mat-hint>\n        </mat-form-field>\n\n        <mat-form-field *ngIf=\"selectedValue === 'url'\" class=\"full-width\">\n          <mat-label>URL</mat-label>\n          <input matInput formControlName='url'>\n          <mat-hint><strong>Upload a publicly accessible data though its URL.</strong></mat-hint>\n        </mat-form-field>\n\n      </mat-tab>\n      <mat-tab label=\"Add your PSICQUIC service\" aria-labelledby=\"psicquic\">\n        <mat-form-field class=\"full-width\">\n          <mat-label>URL</mat-label>\n          <input matInput formControlName=\"psicquicUrl\">\n          <mat-hint><strong>Add your custom PSICQUIC service through its URL.</strong></mat-hint>\n        </mat-form-field>\n      </mat-tab>\n    </mat-tab-group>\n    <mat-dialog-actions align=\"end\">\n      <button mat-flat-button color=\"primary\" mat-dialog-close>Close</button>\n      <button mat-flat-button color=\"primary\"\n              [disabled]=\"resourceForm.invalid && !resourceForm.get('name')?.invalid\"\n              type=\"submit\" (click)=\"submit()\">\n        <div class=\"button-row\">\n          Submit\n          <mat-spinner class=\"spinner-color\" diameter=\"20\" *ngIf=\"isDataLoading\"></mat-spinner>\n        </div>\n      </button>\n    </mat-dialog-actions>\n  </form>\n</mat-dialog-content>\n","\nimport {NodeSingular} from \"cytoscape\";\nimport {Interactor} from \"../model/interactor-entity.model\";\n\nexport interface Position {\n  x: number;\n  y: number;\n}\n\nexport interface Segment {\n  from: Position;\n  to: Position;\n}\n\n\nclass InteractorsLayout {\n\n  public static MAX_INTERACTORS = 18\n  public static BOX_WIDTH = 45;\n  public static BOX_HEIGHT = 20;\n  public static SEPARATION = Math.round(this.BOX_HEIGHT * 1.5);\n  public static MIN_HEIGHT = 2 * (2 * this.BOX_HEIGHT + this.SEPARATION);\n  public static MIN_WIDTH = 2 * (2 * this.BOX_WIDTH + this.SEPARATION);\n\n  constructor() {\n  }\n\n  public static getNumberOfInteractorsToDraw(interactors: Interactor[]) {\n    if (interactors == null) return 0;\n    return Math.min(interactors.length, InteractorsLayout.MAX_INTERACTORS);\n  }\n\n  public getSegmentOrigin(edgeIndex: number, center: Position, width: number, height: number): Position {\n    edgeIndex = edgeIndex % 4;\n    return {\n      x: center.x + (width / 2) * (edgeIndex === 1 || edgeIndex === 2 ? 1 : -1),\n      y: center.y + (height / 2) * (edgeIndex > 1 ? 1 : -1)\n    }\n  }\n\n  public getCentre(minX: number, maxX: number, minY: number, maxY: number): Position {\n    return {\n      x: minX + (maxX - minX) / 2.0,\n      y: minY + (maxY - minY) / 2.0\n    }\n  }\n\n  public interpolateInLayout(segment: Segment, pos: number, totalPositions: number): Position {\n    const r = pos / totalPositions;\n    return {\n      x: segment.from.x + r * (segment.to.x - segment.from.x),\n      y: segment.from.y + r * (segment.to.y - segment.from.y)\n    }\n  }\n\n  public getPosition(targetNode: NodeSingular, interactorIndex: number, numberToDraw: number) {\n\n    const centerPosition: { x: number, y: number } = targetNode.data('entity').position()\n    const lp = LayoutParameter.calculate(numberToDraw);\n\n    let edgeNodes = lp.nodeOnTop;\n    let nodeCount = 0;\n    let prevNodeCount = 0;\n    let edgeIndex;\n    const nodePerEdges = [lp.nodeOnTop, lp.nodeOnRight, lp.nodeOnBottom, lp.nodeOnLeft];\n\n    for (edgeIndex = 0; edgeIndex < nodePerEdges.length; edgeIndex++) {\n      edgeNodes = nodePerEdges[edgeIndex];\n      prevNodeCount = nodeCount;\n      nodeCount += edgeNodes - 1;\n      if (interactorIndex < nodeCount) {\n        break;\n      }\n    }\n\n    const edgePos = interactorIndex - prevNodeCount;\n    const pos = this.interpolateInLayout(\n      // new Segment(\n      {\n        from: this.getSegmentOrigin(edgeIndex, centerPosition, lp.width, lp.height),\n        to: this.getSegmentOrigin(edgeIndex + 1, centerPosition, lp.width, lp.height)\n      },\n      //  ),\n      edgePos,\n      edgeNodes - 1\n    );\n\n    const minX = pos.x - InteractorsLayout.BOX_WIDTH;\n    const maxX = pos.x + InteractorsLayout.BOX_WIDTH;\n    const minY = pos.y - InteractorsLayout.BOX_HEIGHT;\n    const maxY = pos.y + InteractorsLayout.BOX_HEIGHT;\n\n    return this.getCentre(minX, maxX, minY, maxY)\n  }\n}\n\nclass LayoutParameter {\n  constructor(\n    public nodeOnLeft: number,\n    public nodeOnRight: number,\n    public nodeOnTop: number,\n    public nodeOnBottom: number,\n    public width: number,\n    public height: number\n  ) {\n  }\n\n  static calculate(n: number): LayoutParameter {\n    const rationalNodePerEdge = n / 4 + 1;\n    const baseNodePerEdge = Math.floor(rationalNodePerEdge);\n    const remaining = Math.round((rationalNodePerEdge - baseNodePerEdge) * 4);\n\n    const nodeOnLeft = baseNodePerEdge + (remaining > 0 ? 1 : 0);\n    const nodeOnRight = baseNodePerEdge + (remaining > 1 ? 1 : 0);\n    const nodeOnTop = baseNodePerEdge + (remaining > 2 ? 1 : 0);\n    const nodeOnBottom = baseNodePerEdge;\n\n    const height = Math.max((2 * InteractorsLayout.BOX_HEIGHT + InteractorsLayout.SEPARATION) * (nodeOnLeft - 1), InteractorsLayout.MIN_HEIGHT);\n    const width = Math.max((2 * InteractorsLayout.BOX_WIDTH + InteractorsLayout.SEPARATION) * (nodeOnTop - 1), InteractorsLayout.MIN_WIDTH);\n\n    return new LayoutParameter(nodeOnLeft, nodeOnRight, nodeOnTop, nodeOnBottom, width, height);\n  }\n}\n\nexport default InteractorsLayout;\n","import cytoscape from \"cytoscape\";\n\nexport interface InteractorEntity {\n  acc: string;\n  count: number;\n  interactors: Interactor[] | null;\n}\n\nexport interface Interactor {\n  acc: string;\n  accURL: string;\n  alias: string;\n  evidences: number;\n  evidencesURL: string;\n  id: number;\n  score: number;\n  type: string;\n  existingNodes?: cytoscape.NodeCollection\n}\n\n\nexport interface Interactors {\n  entities: InteractorEntity[];\n  resource: string; //STATIC, DisGeNet PSICQUIC resource (e.g. IntAct, MINT, etc) or Custom resource\n}\n\nexport interface PsicquicResource{\n  name: string;\n  soapURL: string;\n  restURL: string;\n  active: boolean\n}\n\n\nexport interface InteractorToken{\n  summary: Summary;\n  warningMessage: string;\n}\n\ninterface Summary {\n  token:string;\n  interactors: number;\n  interactions: number;\n  fileName: string;\n  name: string\n}\n\nexport class InputCategory {\n  url: string | undefined\n  content: string | FormData | undefined\n}\n\nexport class Resource {\n  token: InteractorToken | undefined;\n}\n\n","import {Injectable} from \"@angular/core\";\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\nimport cytoscape, {NodeCollection, NodeSingular} from \"cytoscape\";\nimport {map, Observable, switchMap} from \"rxjs\";\nimport {Interactor, Interactors, InteractorToken, PsicquicResource} from \"../model/interactor-entity.model\";\n\n\nimport InteractorsLayout from \"../layout/interactors-layout\";\nimport {DiagramService} from \"../../services/diagram.service\";\nimport {ResourceType} from \"../common/overlay-resource\";\nimport {environment} from \"../../../environments/environment\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class InteractorService {\n\n  private PREFIX_INTERACTOR = `${environment.host}/ContentService/interactors/`;\n  private PREFIX_DISEASE = `${environment.host}/overlays/disgenet/`;\n\n  private STATIC_URL = this.PREFIX_INTERACTOR + 'static/molecules/details';\n  private PSICQUIC_RESOURCE_URL = this.PREFIX_INTERACTOR + 'psicquic/resources/'\n  private PSICQUIC_URL = this.PREFIX_INTERACTOR + 'psicquic/molecules/';\n  public UPLOAD_URL = this.PREFIX_INTERACTOR + 'upload/tuple/';\n  public UPLOAD_PSICQUIC_URL = this.PREFIX_INTERACTOR + 'upload/psicquic/url';\n  private TOKEN_URL = this.PREFIX_INTERACTOR + 'token/';\n\n  private DISGENET_URL = this.PREFIX_DISEASE + 'findByGenes';\n\n  private readonly DEFAULT_INTERACTOR_WIDTH = 100;\n  private readonly DEFAULT_DISGENET_WIDTH = 250\n  private readonly INTERACTOR_PADDING = 20;\n  private readonly CHAR_WIDTH = 10;\n  private readonly CHAR_HEIGHT = 12;\n  private readonly GENE_DECORATION_HEIGHT = 20;\n\n\n  identifiers: string = '';\n  cyToSelectedResource = new Map<cytoscape.Core, string>();\n\n\n  constructor(private http: HttpClient, private diagramService: DiagramService) {\n  }\n\n  private getAllIdentifiers(cy: cytoscape.Core): void {\n    this.identifiers = this.getIdentifiersFromGraph(cy);\n  }\n\n  private updateIdentifiersIfNeeded(cy: cytoscape.Core): void {\n    if (!this.identifiers) {\n      this.getAllIdentifiers(cy);\n    }\n  }\n\n  public getIdentifiersFromGraph(cy: cytoscape.Core) {\n    const graphNodes = cy?.nodes(`[graph]`);\n    const result: string[] = [];\n\n    graphNodes?.forEach(entity => {\n      const schemaClass = entity.data(\"graph\").schemaClass;\n      if (schemaClass === \"EntityWithAccessionedSequence\" || schemaClass === \"SimpleEntity\") {\n        result.push(entity.data(\"acc\"));\n      }\n    });\n\n    // Concatenate elements from the set values into a single string\n    return [...new Set(result)].join(',')\n\n  }\n\n  public getInteractorData(cy: cytoscape.Core, resource: string): Observable<Interactors> {\n    this.updateIdentifiersIfNeeded(cy);\n    let url;\n    if (resource === ResourceType.STATIC) {\n      url = this.STATIC_URL;\n    } else if (resource === ResourceType.DISGENET) {\n      url = this.DISGENET_URL;\n    } else {\n      url = this.PSICQUIC_URL + resource.toLowerCase() + '/details'\n    }\n\n    return this.http.post<Interactors>(url, this.identifiers, {\n      headers: new HttpHeaders({'Content-Type': 'text/plain'})\n    });\n  }\n\n\n  public addInteractorOccurrenceNode(interactors: Interactors, cy: cytoscape.Core, resource: string) {\n    if (this.cyToSelectedResource.has(cy) && this.cyToSelectedResource.get(cy) !== resource) {\n      const previousResource = this.cyToSelectedResource.get(cy);\n      cy.elements(`[resource='${previousResource}']`).remove();\n      this.createInteractorOccurrenceNode(interactors, cy, resource);\n      this.cyToSelectedResource.set(cy, resource);\n    } else if (!this.cyToSelectedResource.has(cy)) {\n      this.createInteractorOccurrenceNode(interactors, cy, resource);\n      this.cyToSelectedResource.set(cy, resource);\n    }\n  }\n\n  public createInteractorOccurrenceNode(interactors: Interactors, cy: cytoscape.Core, resource: string) {\n    const classes = resource === ResourceType.DISGENET ? ['InteractorOccurrences', 'disease'] : ['InteractorOccurrences'];\n\n    if (interactors.entities === undefined) return;\n\n    interactors.entities\n      .filter(interactorEntity => interactorEntity.count > 0)\n      .forEach(interactorEntity => {\n\n        const entities = cy?.nodes(`[acc = '${interactorEntity.acc}']`);\n        entities?.forEach(entityNode => {\n\n          const pos = {...entityNode.position()};\n          pos.x += entityNode.width() / 2;\n          pos.y -= entityNode.height() / 2;\n\n          const id = entityNode.id() + '-occ' + '-' + resource.toLowerCase();\n\n          if (!entityNode.classes().includes('Modification')) {\n            const occurrenceNode = cy?.add({\n              data: {\n                ...entityNode.data(),\n                id: id,\n                displayName: interactorEntity.count,\n                entity: entityNode,\n                interactors: interactorEntity.interactors,\n                resource: resource\n              },\n              classes: classes,\n              pannable: true,\n              grabbable: false,\n              position: pos\n            });\n\n            entityNode.data('occurrence', occurrenceNode);\n          }\n\n        });\n      });\n  }\n\n  public removeInteractorNodes(occurrenceNode: cytoscape.NodeSingular) {\n    const entityNode = occurrenceNode.data('entity');\n    const interactors = entityNode.closedNeighborhood('node.Interactor');\n\n    entityNode.connectedEdges('.Interactor').remove();\n    interactors.forEach((interactor: cytoscape.NodeSingular) => {\n      if (interactor.connectedEdges().empty()) {\n        interactor.remove()\n      }\n    })\n  }\n\n  public addInteractorNodes(occurrenceNode: cytoscape.NodeSingular, cy: cytoscape.Core) {\n    const interactorsData = occurrenceNode.data('interactors');\n    const resource = occurrenceNode.data('resource')\n    InteractorsLayout.BOX_WIDTH = resource === ResourceType.DISGENET ? this.DEFAULT_DISGENET_WIDTH / 2 : this.DEFAULT_INTERACTOR_WIDTH / 2;\n    const numberToAdd = InteractorsLayout.getNumberOfInteractorsToDraw(interactorsData)\n    const [dynamicInteractors, existingInteractors] = this.getAllInteractors(interactorsData, cy, numberToAdd);\n    const allNodes: Interactor[] = [...dynamicInteractors, ...existingInteractors];\n    cy.batch(() => {\n\n      const nodes = this.createInteractorNodes(dynamicInteractors, occurrenceNode, cy, dynamicInteractors.length, resource);\n      this.createInteractorEdges(allNodes, occurrenceNode, cy, resource);\n\n      this.displayInteractors(nodes, cy);\n    })\n  }\n\n  public getAllInteractors(interactorsData: Interactor[], cy: cytoscape.Core, numberToAdd: number) {\n    const dynamicInteractors = [];\n    const existingInteractors = [];\n    // get interactors to draw with a provided a number, collect existing interactors for creating edge\n    for (const interactor of interactorsData) {\n      const diagramNodes = cy?.nodes(`.PhysicalEntity[acc = '${interactor.acc}']`);\n\n      if (!diagramNodes || diagramNodes.length === 0) {\n        dynamicInteractors.push(interactor);\n      } else {\n        interactor.existingNodes = diagramNodes;\n        existingInteractors.push(interactor);\n      }\n    }\n\n    return [dynamicInteractors.slice(0, numberToAdd), existingInteractors];\n  }\n\n  public createInteractorNodes(interactorsData: Interactor[], targetNode: NodeSingular, cy: cytoscape.Core, numberToAdd: number, resource: string) {\n    const interactorNodes: cytoscape.NodeDefinition[] = [];\n    const interactorLayout = new InteractorsLayout();\n\n    interactorsData.forEach((interactor: Interactor, index: number) => {\n      const position = interactorLayout.getPosition(targetNode, index, numberToAdd)\n      const displayName = interactor.alias ? interactor.alias : interactor.acc;\n      const defaultType = ['Protein', 'PhysicalEntity'] // Default interactor type for custom resource when there is no type data provided\n      const classes = resource === ResourceType.DISGENET ? ['PhysicalEntity', 'Interactor', 'disease'] : [...this.diagramService.nodeTypeMap.get(interactor.type) || defaultType, 'Interactor'];\n      let width = resource === ResourceType.DISGENET ? this.DEFAULT_DISGENET_WIDTH : this.DEFAULT_INTERACTOR_WIDTH;\n      let height = this.CHAR_HEIGHT + 2 * this.INTERACTOR_PADDING;\n      if (interactor.type === 'Gene') height += this.GENE_DECORATION_HEIGHT;\n\n      const id = 'interactor-' + interactor.acc;\n      interactorNodes.push({\n        data: {\n          ...targetNode.data(),\n          id: id,\n          displayName: displayName.replace(/([/,:;-])/g, \"$1\\u200b\"),\n          html: this.diagramService.getStructureVideoHtml({id, type: interactor.type}, width, height, interactor.acc),\n          width: width,\n          height: height,\n          accURL: interactor.accURL,\n          score: interactor.score,\n          evidences: interactor.evidences,\n          evidenceURLs: interactor.evidencesURL,\n          resource: resource\n        },\n        classes: classes,\n        position: position,\n        selectable: false\n      })\n    })\n    return cy?.add(interactorNodes)\n  }\n\n\n  public createInteractorEdges(interactorsData: Interactor[], occurrenceNode: NodeSingular, cy: cytoscape.Core | undefined, resource: string) {\n    if (!cy) return\n\n    const resourceClass = resource === ResourceType.DISGENET ? ['Interactor', 'disease'] : ['Interactor'];\n\n    const interactorEdges: cytoscape.EdgeDefinition[] = [];\n    interactorsData.forEach((interactor: Interactor) => {\n      const entity = occurrenceNode.data('entity');\n      const targetNodes = interactor.existingNodes ? interactor.existingNodes : [cy.getElementById('interactor-' + interactor.acc)];\n      targetNodes.forEach(targetNode => {\n        interactorEdges.push({\n          data: {\n            ...targetNode.data(),\n            id: interactor.acc + '-' + entity.id(),\n            source: entity.id(),\n            target: targetNode.id(),\n            edgeToTarget: occurrenceNode.id(),\n            evidenceURLs: interactor.evidencesURL,\n            resource: resource\n          },\n          classes: resourceClass,\n          selectable: false\n        })\n      })\n\n    })\n    cy?.add(interactorEdges)\n  }\n\n  public displayInteractors(interactorsToDisplay: NodeCollection, cy: cytoscape.Core) {\n\n    let layoutOptions: cytoscape.LayoutOptions = {\n      name: 'preset',\n      fit: false\n    }\n    interactorsToDisplay.layout(layoutOptions).run();\n  }\n\n\n  public removeInteractorEdges(targetNode: cytoscape.NodeSingular, cy: cytoscape.Core) {\n    const edgesToRemove = cy.edges(`[edgeToTarget = '${targetNode.id()}']`);\n    edgesToRemove.remove();\n  }\n\n  public getPsicquicResources(): Observable<PsicquicResource[]> {\n    return this.http.get<PsicquicResource[]>(this.PSICQUIC_RESOURCE_URL, {\n      headers: new HttpHeaders({'Content-Type': 'application/json;charset=UTF-8'})\n    });\n  }\n\n  public getInteractorToken(name: string, url: string, body: string | FormData) {\n    return this.http.post<InteractorToken>(url, body, {\n      params: new HttpParams().set('name', name),\n    })\n  }\n\n\n  public getInteractorsWithToken(name: string, url: string, body: string | FormData, cy: cytoscape.Core): Observable<{\n    token: InteractorToken,\n    interactors: Interactors\n  }> {\n    this.updateIdentifiersIfNeeded(cy);\n    return this.getInteractorToken(name, url, body).pipe(\n      switchMap(token => {\n        return this.http.post<Interactors>(this.TOKEN_URL + token.summary.token, this.identifiers, {\n          headers: new HttpHeaders({'Content-Type': 'text/plain'})\n        }).pipe(\n          map((interactors) => ({token: token, interactors: interactors}))\n        );\n      })\n    );\n  }\n\n  public getInteractorsFromToken(name: string, url: string, body: string | FormData, cy: cytoscape.Core): Observable<{\n    token: InteractorToken,\n    interactors: Interactors\n  }> {\n    this.updateIdentifiersIfNeeded(cy);\n    return this.getInteractorToken(name, url, body).pipe(\n      switchMap(token => this.sendPostRequest(token, cy))\n    );\n  }\n\n  public sendPostRequest(token: InteractorToken, cy: cytoscape.Core): Observable<{\n    token: InteractorToken,\n    interactors: Interactors\n  }> {\n    this.updateIdentifiersIfNeeded(cy);\n    return this.http.post<Interactors>(this.TOKEN_URL + token.summary.token, this.identifiers, {\n      headers: new HttpHeaders({'Content-Type': 'text/plain'})\n    }).pipe(\n      map((interactors) => ({token: token, interactors: interactors}))\n    );\n  }\n\n  public isCustomResource(resource: string, psiResource: PsicquicResource[]) {\n    const isFromPSICQUIC = psiResource.filter(pr => pr.name != ResourceType.STATIC).some(r => r.name === resource)\n    return resource != ResourceType.STATIC && resource != ResourceType.DISGENET && !isFromPSICQUIC;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {catchError, distinctUntilChanged, map, Observable, of, switchMap, tap} from \"rxjs\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {environment} from \"../../environments/environment\";\nimport {Analysis} from \"../model/analysis.model\";\nimport {DiagramStateService} from \"./diagram-state.service\";\n\nexport type Examples = 'uniprot' | 'microarray';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnalysisService {\n\n  result?: Analysis.Result;\n\n  result$ = this.state.state$.pipe(\n    map(state => state.analysis.value),\n    distinctUntilChanged(),\n    switchMap(token =>\n      token !== null ?\n        (\n          token === this.result?.summary.token ?\n            of(this.result) : // Same token as cache => use cache\n            this.loadAnalysis(token) // Different token than cache => load result\n        ) :\n        of(undefined) // No tokens => No results\n    )\n  )\n\n  constructor(private http: HttpClient, private state: DiagramStateService) {\n  }\n\n  analyse(data: string, params?: Partial<Analysis.Parameters>): Observable<Analysis.Result> {\n    return this.http.post<Analysis.Result>(`${environment.host}/AnalysisService/identifiers/projection`, data, {params}).pipe(\n      tap(result => this.result = result),\n      tap(result => this.state.set('analysis', result.summary.token)),\n    )\n  }\n\n  loadAnalysis(token?: string, params?: Partial<Analysis.Parameters>): Observable<Analysis.Result> {\n    console.log('load analysis')\n    return this.http.get<Analysis.Result>(`${environment.host}/AnalysisService/token/${token || this.state.get('analysis')}`, {params}).pipe(\n      tap(result => this.result = result)\n    )\n  }\n\n  foundEntities(pathway: string, token?: string, resource: Analysis.Resource = 'TOTAL'): Observable<Analysis.FoundEntities> {\n    return this.http.get<Analysis.FoundEntities>(`${environment.host}/AnalysisService/token/${token || this.state.get('analysis')}/found/all/${pathway}`, {\n      params: {\n        resource\n      }\n    }).pipe(\n      catchError(() => of({\n        pathway,\n        foundEntities: 0,\n        foundInteractors:0,\n        expNames: [],\n        entities: [],\n        interactors:[],\n        resources: [resource]\n      }))\n    )\n  }\n\n  pathwaysResults(pathwayIds: number[], token?: string, resource: Analysis.Resource = 'TOTAL'): Observable<Analysis.Pathway[]> {\n    if (pathwayIds.length === 0) return of([]);\n    return this.http.post<Analysis.Pathway[]>(`${environment.host}/AnalysisService/token/${token || this.state.get('analysis')}/filter/pathways`, pathwayIds.join(','), {\n      params:{resource}\n    }).pipe(\n      catchError(() => of([]))\n    )\n  }\n\n  example(name: Examples): Observable<Analysis.Result> {\n    return this.http.get(`assets/data/analysis-examples/${name}.tsv`, {responseType: 'text'}).pipe(\n      switchMap(example => this.analyse(example))\n    )\n  }\n\n\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject} from \"rxjs\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DarkService {\n\n  private _body: HTMLBodyElement | null;\n  private _isDark: boolean = false;\n\n  private readonly $_dark = new BehaviorSubject(this._isDark);\n  public readonly $dark = this.$_dark.asObservable();\n\n  constructor() {\n    this._body = document.querySelector('body');\n\n    // Update theme if other tabs are changing it\n    // window.addEventListener('storage', (e) => {\n    //   if (e.key === 'is-dark') this.isDark = JSON.parse(e.newValue || 'false');\n    // });\n\n    const localValue = localStorage.getItem('is-dark');\n    if (localValue) this.isDark = JSON.parse(localValue);\n    else if (window.matchMedia('(prefers-color-scheme)').media !== 'not all') {\n      this.isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n    }\n  }\n\n  get isDark(): boolean {\n    return this._isDark;\n  }\n\n  set isDark(value: boolean) {\n    this._isDark = value;\n    localStorage.setItem('is-dark', JSON.stringify(value));\n    if (value) this._body?.classList.add('dark');\n    else this._body?.classList.remove('dark');\n    this.$_dark.next(this._isDark);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {BehaviorSubject, distinctUntilChanged, map, Observable, tap} from \"rxjs\";\nimport {isArray, isBoolean} from \"lodash\";\n\n\nexport interface UrlParam<T> {\n  value: T\n  otherTokens?: string[]\n}\n\nexport type State = {\n  [token: string]: UrlParam<any>\n  select: UrlParam<(string | number)[]>\n  flag: UrlParam<(string | number)[]>\n  flagInteractors: UrlParam<boolean>\n  overlay: UrlParam<string>\n  analysis: UrlParam<string | null>\n  analysisProfile: UrlParam<string | null>\n};\n\ntype ObservableState = { [K in keyof State as `${K & string}$`]: Observable<State[K]['value']> };\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DiagramStateService {\n\n  private propagate = false;\n\n\n  private state: State = {\n    select: {otherTokens: ['SEL'], value: []},\n    flag: {otherTokens: ['FLG'], value: []},\n    flagInteractors: {otherTokens: ['FLGINT'], value: false},\n    overlay: {value: ''},\n    analysis: {value: null, otherTokens: ['ANALYSIS']},\n    analysisProfile: {value: null},\n  };\n\n  private _state$ = new BehaviorSubject<State>(this.state);\n  public state$ = this._state$.asObservable();\n  public onChange: ObservableState = Object.keys(this.state)\n    .reduce((properties, prop: keyof State) => {\n      properties[`${prop}$`] = this.state$.pipe(\n        map(state => state[prop].value),\n        distinctUntilChanged((v1, v2) => v1?.toString() === v2?.toString()),\n        tap(v => console.log(`${prop} has been updated to ${v}`)),\n        // share()\n      )\n      return properties;\n    }, {} as ObservableState);\n\n  constructor(route: ActivatedRoute, private router: Router) {\n    route.queryParamMap.subscribe(params => {\n      for (const mainToken in this.state) {\n        const param = this.state[mainToken];\n        const tokens: string[] = [mainToken, ...param.otherTokens || []];\n        const token = tokens.find(token => params.has(token));\n        if (token) {\n          const formerValue = param.value;\n          if (isArray(param.value)) {\n            const rawValue = params.get(token)!;\n            param.value = rawValue.split(',').map(v => v.charAt(0).match(/d/) ? parseInt(v) : v);\n          } else if (isBoolean(param.value)) {\n            param.value = params.get(token) === 'true';\n          } else {\n            param.value = params.get(token)!;\n          }\n        }\n      }\n      if (this.propagate) this._state$.next(this.state);\n    })\n  }\n\n  get<T extends keyof State>(token: T): State[T]['value'] {\n    return this.state[token].value\n  }\n\n  set<T extends keyof State>(token: T, value: State[T][\"value\"], propagate = true): void {\n    this.state[token].value = value;\n    this.propagate = propagate;\n    this.onPropertyModified();\n  }\n\n  // TODO make unselect remove select from state\n  onPropertyModified() {\n    return this.router.navigate([], {\n      queryParams: {\n        ...Object.entries(this.state)\n          .filter(([token, param]) => param.value && param.value.length !== 0)\n          .reduce((acc, [token, param]) => ({\n            ...acc,\n            [token]: Array.isArray(param.value) ? param.value.join(',') : param.value\n          }), {})\n      }\n    })\n  }\n\n\n}\n","import {Injectable} from '@angular/core';\nimport {catchError, forkJoin, map, Observable, of, switchMap, tap} from \"rxjs\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Diagram, Edge, Node, NodeConnector, Position, Prop, Rectangle} from \"../model/diagram.model\";\nimport {Graph} from \"../model/graph.model\";\n// @ts-ignore\nimport Reactome, {Style} from \"reactome-cytoscape-style\";\nimport legend from \"../../assets/json/legend.json\"\nimport {array} from \"vectorious\";\n\nimport cytoscape from \"cytoscape\";\nimport cytoscapeFcose, {FcoseLayoutOptions} from \"cytoscape-fcose\";\nimport NodeDefinition = Reactome.Types.NodeDefinition;\nimport ReactionDefinition = Reactome.Types.ReactionDefinition;\nimport EdgeTypeDefinition = Reactome.Types.EdgeTypeDefinition;\nimport {environment} from \"../../environments/environment\";\n\ncytoscape.use(cytoscapeFcose)\n\n\ntype RelativePosition = { distances: number[], weights: number[] };\n\nconst posToStr = (edge: Edge, pos: Position) => `${edge.id}-${pos.x},${pos.y}`\n\nconst pointToStr = (point: Position) => `${point.x};${point.y}`;\n\nconst scale = <T extends Position | number>(pos: T, scale = 2): T => {\n  if (typeof pos === 'number') return pos * scale as T\n  return {\n    x: pos.x * scale,\n    y: pos.y * scale\n  } as T\n}\n\nconst equal = (pos1: Position, pos2: Position) => pos1.x === pos2.x && pos1.y === pos2.y;\n\nconst avg = (positions: Position[]): Position => {\n  const sum = {x: 0, y: 0};\n  positions.forEach(pos => {\n    sum.x += pos.x;\n    sum.y += pos.y;\n  });\n  sum.x /= positions.length;\n  sum.y /= positions.length;\n  return sum;\n}\nconst squaredDist = (pos1: Position, pos2: Position) => {\n  return Math.pow(pos2.x - pos1.x, 2) + Math.pow(pos2.y - pos1.y, 2)\n}\n\nconst dist = (pos1: Position, pos2: Position) => Math.sqrt(squaredDist(pos1, pos2))\n\nconst closestToAverage = (positions: Position[]): Position => {\n  const average = avg(positions);\n  let closest = positions[0];\n  let min = squaredDist(closest, average);\n  for (let i = 1; i < positions.length; i++) {\n    const pos = positions[i];\n    const dist = squaredDist(pos, average);\n    if (dist < min) {\n      min = dist;\n      closest = pos\n    }\n  }\n  return closest;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DiagramService {\n\n  extraLine: Map<string, Position> = new Map<string, Position>();\n  reverseExtraLine: Map<string, Position> = new Map<string, Position>();\n\n  constructor(private http: HttpClient) {\n  }\n\n  nodeTypeMap = new Map<string, NodeDefinition>([\n      ['Gene', ['Gene', 'PhysicalEntity']],\n      ['RNA', ['RNA', 'PhysicalEntity']],\n      ['Protein', ['Protein', 'PhysicalEntity']],\n      ['Entity', ['GenomeEncodedEntity', 'PhysicalEntity']],\n      ['Complex', ['Complex', 'PhysicalEntity']],\n      ['EntitySet', ['EntitySet', 'PhysicalEntity']],\n      ['Chemical', ['Molecule', 'PhysicalEntity']],\n      ['Cell', ['Cell', 'PhysicalEntity']],\n\n      ['ProteinDrug', ['Protein', 'PhysicalEntity', 'drug']],\n      ['ComplexDrug', ['Complex', 'PhysicalEntity', 'drug']],\n      ['ChemicalDrug', ['Molecule', 'PhysicalEntity', 'drug']],\n      ['EntitySetDrug', ['EntitySet', 'PhysicalEntity', 'drug']],\n\n      ['ProcessNode', ['SUB', 'Pathway']],\n      ['EncapsulatedNode', ['Interacting', 'Pathway']]\n    ]\n  )\n\n  reactionTypeMap = new Map<string | undefined, ReactionDefinition>([\n      [undefined, ['transition', 'reaction']],\n      ['transition', ['transition', 'reaction']],\n      ['Transition', ['transition', 'reaction']],\n      ['Process', ['transition', 'reaction']],\n\n      ['binding', ['association', 'reaction']],\n      ['Association', ['association', 'reaction']],\n\n      ['dissociation', ['dissociation', 'reaction']],\n      ['Dissociation', ['dissociation', 'reaction']],\n\n      ['omitted', ['omitted', 'reaction']],\n      ['Omitted Process', ['omitted', 'reaction']],\n\n      ['uncertain', ['uncertain', 'reaction']],\n      ['Uncertain Process', ['uncertain', 'reaction']],\n    ]\n  )\n\n  edgeTypeMap = new Map<string, EdgeTypeDefinition>([\n      ['INPUT', ['consumption', 'incoming', 'reaction']],\n      ['ACTIVATOR', ['positive-regulation', 'incoming', 'reaction']],\n      ['REQUIRED', ['positive-regulation', 'incoming', 'reaction']],\n      ['INHIBITOR', ['negative-regulation', 'incoming', 'reaction']],\n      ['CATALYST', ['catalysis', 'incoming', 'reaction']],\n      ['OUTPUT', ['production', 'outgoing', 'reaction']],\n    ]\n  )\n\n  edgeTypeToStr = new Map<string, string>([\n      ['INPUT', '-'],\n      ['ACTIVATOR', '+'],\n      ['REQUIRED', '+>'],\n      ['INHIBITOR', '|'],\n      ['CATALYST', 'o'],\n      ['OUTPUT', '>'],\n    ]\n  )\n\n\n  linkClassMap = new Map<string, EdgeTypeDefinition>([\n    ['EntitySetAndMemberLink', ['set-to-member', 'incoming']],\n    ['EntitySetAndEntitySetLink', ['set-to-member', 'incoming']],\n    ['Interaction', ['production', 'outgoing']],\n    ['FlowLine', ['production', 'outgoing']]\n  ])\n\n\n  random(min: number, max: number) {\n    return Math.floor((Math.random()) * (max - min + 1)) + min;\n  }\n\n  pick<T>(values: T[]): T {\n    return values[this.random(0, values.length - 1)];\n  }\n\n  private readonly COMPARTMENT_SHIFT = 35;\n\n  public getLegend(): Observable<cytoscape.ElementsDefinition> {\n    return of(legend)\n  }\n\n  public getNormalPathway(id: string): Observable<string> {\n    return this.http.get(`https://dev.reactome.org/ContentService/data/query/${id}/normalPathway`, {responseType: \"text\"}).pipe(\n      map(data => data.split('\\t')[0])\n    )\n  }\n\n  public getDiagram(id: number | string): Observable<cytoscape.ElementsDefinition> {\n    return forkJoin({\n      diagram: this.http.get<Diagram>(`${environment.host}/download/current/diagram/${id}.json`),\n      graph: this.http.get<Graph.Data>(`${environment.host}/download/current/diagram/${id}.graph.json`)\n    }).pipe(\n      tap(({diagram, graph}) => console.log('Normal diagram:', diagram, 'Normal graph', graph)),\n      switchMap(({diagram, graph}) => {\n        if (diagram.forNormalDraw !== undefined && !diagram.forNormalDraw) {\n          return this.getNormalPathway(diagram.stableId).pipe(\n            switchMap(normalPathwayId => forkJoin({\n              normalDiagram: this.http.get<Diagram>(`${environment.host}/download/current/diagram/${normalPathwayId}.json`),\n              normalGraph: this.http.get<Graph.Data>(`${environment.host}/download/current/diagram/${normalPathwayId}.graph.json`)\n            })),\n            tap(({\n                   normalGraph,\n                   normalDiagram\n                 }) => console.log('Normal diagram:', normalGraph, 'Normal graph', normalDiagram)),\n            map(({normalGraph, normalDiagram}) => {\n              graph.nodes.push(...normalGraph.nodes);\n              graph.edges.push(...normalGraph.edges);\n              if (normalDiagram.shadows) {\n                normalDiagram.shadows.forEach(shadow => shadow.isFadeOut = true);\n                diagram.shadows = diagram.shadows || [];\n                diagram.shadows.push(...normalDiagram.shadows);\n\n                graph.subpathways = graph.subpathways || [];\n                graph.subpathways.push(...normalGraph.subpathways);\n              }\n              return {diagram, graph};\n            }),\n            catchError(err => of({diagram, graph}))\n          )\n        } else {\n          return of({diagram, graph});\n        }\n      }),\n      tap((mergedResponse) => console.log('All responses:', mergedResponse)),\n      map(({diagram, graph}) => {\n\n        console.log(\"edge.reactionType\", new Set(diagram.edges.flatMap(edge => edge.reactionType)))\n        console.log(\"node.connectors.types\", new Set(diagram.nodes.flatMap(node => node.connectors.flatMap(con => con.type))))\n        console.log(\"node.renderableClass\", new Set(diagram.nodes.flatMap(node => node.renderableClass)))\n        console.log(\"links.renderableClass\", new Set(diagram.links.flatMap(link => link.renderableClass)))\n        console.log(\"shadow.renderableClass\", new Set(diagram.shadows.flatMap(shadow => shadow.renderableClass)))\n\n        const idToEdges = new Map<number, Edge>(diagram.edges.map(edge => [edge.id, edge]));\n        const idToNodes = new Map<number, Node>(diagram.nodes.map(node => [node.id, node]));\n        const reactomeIdToEdge = new Map<number, Edge>(\n          [\n            // ...diagram.nodes.map(node => [node.reactomeId, node]),\n            ...diagram.edges.map(edge => [edge.reactomeId, edge])\n          ] as [number, Edge][]\n        );\n\n        const edgeIds = new Map<string, number>();\n        const forwardArray = diagram.edges.flatMap(edge => edge.segments.map(segment => [posToStr(edge, scale(segment.from)), scale(segment.to)])) as [string, Position][];\n        this.extraLine = new Map<string, Position>(forwardArray);\n        console.assert(forwardArray.length === this.extraLine.size, \"Some edge diagram have been lost because 2 segments are starting from the same point\")\n\n        const backwardArray = diagram.edges.flatMap(edge => edge.segments.map(segment => [posToStr(edge, scale(segment.to)), scale(segment.from)])) as [string, Position][];\n        this.reverseExtraLine = new Map<string, Position>(backwardArray);\n        console.assert(backwardArray.length == this.reverseExtraLine.size, \"Some edge diagram have been lost because 2 segments are ending at the same point\")\n\n\n        const subpathwayIds = new Set<number>(diagram.shadows.map((shadow) => shadow.reactomeId))\n\n        const eventIdToSubPathwayId = new Map<number, number>(graph.subpathways?.flatMap(subpathway => subpathway.events\n          .map(event => [event, subpathway.dbId])\n          .filter(entry => subpathwayIds.has(entry[1]))) as [number, number][] || [])\n\n        const subpathwayIdToEventIds = new Map<number, number[]>(graph.subpathways?.map(subpathway => [subpathway.dbId, subpathway.events]));\n\n        // create a node id - graph node mapping\n        const dbIdToGraphNode = new Map<number, Graph.Node>(graph.nodes.map(node => ([node.dbId, node]) || []))\n        const mappingList: [number, Graph.Node][] = graph.nodes.flatMap(node => {\n          if (node.children && node.children.length === 1) { // Consider homomer complex like their constituents for interactors\n            return node.diagramIds?.map(id => [id, dbIdToGraphNode.get(node.children[0])])\n              .filter(entry => entry[1] !== undefined) as [number, Graph.Node][]\n          } else {\n            return node.diagramIds?.map(id => [id, node]) as [number, Graph.Node][]\n          }\n        }).filter(entry => entry !== undefined);\n\n        const idToGraphNodes = new Map([...mappingList]);\n        const idToGraphEdges = new Map(graph.edges.map(edge => [edge.dbId, edge]));\n\n        const getLeaves = (node: Graph.Node, leaves: Set<Graph.Node>) => {\n          if (node.leaves && node.leaves.length > 0) {\n            node.leaves.forEach(leave => leaves.add(leave));\n          } else {\n            if (node.children && node.children.length > 0)\n              node.children.forEach(child => getLeaves(dbIdToGraphNode.get(child)!, leaves))\n            else\n              leaves.add(node);\n          }\n        }\n\n        idToGraphNodes.forEach(node => {\n          let leaves = new Set<Graph.Node>();\n          getLeaves(node, leaves);\n          node.leaves = [...leaves];\n        })\n\n        const dbIdToGraphEdge = new Map<number, Graph.Edge>(graph.edges.map(edge => ([edge.dbId, edge]) || []))\n\n        const hasFadeOut = diagram.nodes.some(node => node.isFadeOut);\n        const normalNodes = diagram.nodes.filter(node => node.isFadeOut);\n        const specialNodes = diagram.nodes.filter(node => !node.isFadeOut);\n        const posToNormalNode = new Map(normalNodes.map(node => [pointToStr(node.position), node]));\n        const posToSpecialNode = new Map(specialNodes.map(node => [pointToStr(node.position), node]));\n\n        const normalEdges = diagram.edges.filter(edge => edge.isFadeOut);\n        const specialEdges = diagram.edges.filter(edge => !edge.isFadeOut);\n        const posToNormalEdge = new Map(normalEdges.map(edge => [pointToStr(edge.position), edge]));\n        const posToSpecialEdge = new Map(specialEdges.map(edge => [pointToStr(edge.position), edge]));\n\n        //compartment nodes\n        const compartmentNodes: cytoscape.NodeDefinition[] = diagram?.compartments.flatMap(item => {\n          const propToRects = (prop: Prop): { [p: string]: number } => ({\n            left: scale(prop.x),\n            top: scale(prop.y),\n            right: scale(prop.x + prop.width),\n            bottom: scale(prop.x + prop.height),\n          })\n\n          let innerCR = 10;\n          let outerCR\n          if (item.insets) {\n            const rects = [propToRects(item.prop), propToRects(item.insets)]\n            outerCR = Object.keys(rects[0]).reduce((smallest, key) => Math.min(smallest, Math.abs(rects[0][key] - rects[1][key])), Number.MAX_SAFE_INTEGER);\n            outerCR = innerCR + Math.min(outerCR, 100)\n          }\n\n          const layers: cytoscape.NodeDefinition[] = [\n            {\n              data: {\n                id: item.id + '-outer',\n                displayName: item.displayName,\n                textX: scale(item.textPosition.x - (item.prop.x + item.prop.width)) + this.COMPARTMENT_SHIFT,\n                textY: scale(item.textPosition.y - (item.prop.y + item.prop.height)) + this.COMPARTMENT_SHIFT,\n                width: scale(item.prop.width),\n                height: scale(item.prop.height),\n                radius: outerCR\n              },\n              classes: ['Compartment', 'outer'],\n              position: scale(item.position),\n              selectable: false,\n            }\n          ];\n\n          if (item.insets) {\n            layers.push({\n              data: {\n                id: item.id + '-inner',\n                width: scale(item.insets.width),\n                height: scale(item.insets.height),\n                radius: innerCR\n              },\n              classes: ['Compartment', 'inner'],\n              position: scale({x: item.insets.x + item.insets.width / 2, y: item.insets.y + item.insets.height / 2}),\n              selectable: false,\n            })\n          }\n          return layers;\n        });\n\n        const replacementMap = new Map<string, string>();\n\n        //reaction nodes\n        const reactionNodes: cytoscape.NodeDefinition[] = diagram?.edges.map(item => {\n          let replacement, replacedBy;\n          if (item.isFadeOut) {\n            replacedBy = posToSpecialEdge.get(pointToStr(item.position))?.id.toString() || specialEdges.find(edge => squaredDist(scale(edge.position), scale(item.position)) < 5 ** 2)?.id.toString();\n            if (replacedBy) {\n              replacementMap.set(item.id.toString(), replacedBy)\n              replacementMap.set(replacedBy, item.id.toString())\n            }\n          }\n          if (!item.isFadeOut) {\n            replacement = posToNormalEdge.get(pointToStr(item.position))?.id.toString() || normalEdges.find(edge => squaredDist(scale(edge.position), scale(item.position)) < 5 ** 2)?.id.toString();\n          }\n          return ({\n            data: {\n              id: item.id + '',\n              // displayName: item.displayName,\n              inputs: item.inputs,\n              output: item.outputs,\n              isFadeOut: item.isFadeOut,\n              isBackground: item.isFadeOut,\n              reactomeId: item.reactomeId,\n              reactionId: item.id,\n              graph: idToGraphEdges.get(item.reactomeId),\n              replacement, replacedBy\n            },\n            classes: this.reactionTypeMap.get(item.reactionType),\n            position: scale(item.position)\n          });\n        });\n\n\n        //entity nodes\n        const entityNodes: cytoscape.NodeDefinition[] = diagram?.nodes.flatMap(item => {\n          const classes = [...this.nodeTypeMap.get(item.renderableClass)!] || [item.renderableClass.toLowerCase()];\n          let replacedBy: string | undefined;\n          let replacement: string | undefined;\n          if (item.isDisease) classes.push('disease');\n          if (item.isCrossed) classes.push('crossed');\n          if (item.trivial) classes.push('trivial');\n          if (item.needDashedBorder) classes.push('loss-of-function');\n          if (item.isFadeOut) {\n            replacedBy = posToSpecialNode.get(pointToStr(item.position))?.id.toString()\n            if (!replacedBy) {\n              replacedBy = specialNodes.find(node => overlapLimited(item, node, 0.8))?.id.toString();\n            }\n            if (replacedBy) {\n              replacementMap.set(item.id.toString(), replacedBy)\n              replacementMap.set(replacedBy, item.id.toString())\n            }\n          }\n          if (!item.isFadeOut) replacement = posToNormalNode.get(pointToStr(item.position))?.id.toString() //|| normalNodes.find(node => overlap(item, node))?.id.toString();\n          if (classes.some(clazz => clazz === 'RNA')) item.prop.height -= 10;\n          if (classes.some(clazz => clazz === 'Cell')) item.prop.height /= 2;\n\n          const isBackground = item.isFadeOut || classes.some(clazz => clazz === 'Pathway') || item.connectors.some(connector => connector.isFadeOut);\n          item.isBackground = isBackground;\n          let html = undefined;\n          let width = scale(item.prop.width);\n          let height = scale(item.prop.height);\n          let preferredId = idToGraphNodes.get(item.id)?.identifier;\n          if (classes.some(clazz => clazz === 'Protein')) {\n            html = this.getStructureVideoHtml({...item, type: 'Protein'}, width, height, preferredId);\n          } else if (classes.some(clazz => clazz === 'Molecule')) {\n            html = `<img src=\"https://www.ebi.ac.uk/chebi/displayImage.do?defaultImage=true&chebiId=${preferredId}&dimensions=1080&transbg=true\" style=\"max-width: ${width / 2 - 4}px; max-height:${height}px\" alt=\"\">`;\n          }\n          if (isBackground && !item.isFadeOut) {\n            replacementMap.set(item.id.toString(), item.id.toString())\n          }\n          const isFadeOut = !item.isCrossed && item.isFadeOut;\n          const nodes: cytoscape.NodeDefinition[] = [\n            {\n              data: {\n                id: item.id + '',\n                reactomeId: item.reactomeId,\n                displayName: item.displayName.replace(/([/,:;-])/g, \"$1\\u200b\"),\n                height: height,\n                width: width,\n                graph: idToGraphNodes.get(item.id),\n                acc: preferredId,\n                html,\n                isFadeOut,\n                isBackground,\n                replacement,\n                replacedBy\n              },\n              classes: classes,\n              position: scale(item.position)\n            }\n          ];\n          if (item.nodeAttachments) {\n            nodes.push(...item.nodeAttachments.map(ptm => ({\n              data: {\n                id: item.id + '-' + ptm.reactomeId,\n                reactomeId: ptm.reactomeId,\n                nodeId: item.id,\n                nodeReactomeId: item.reactomeId,\n                displayName: ptm.label,\n                height: scale(ptm.shape.b.y - ptm.shape.a.y),\n                width: scale(ptm.shape.b.x - ptm.shape.a.x),\n                isFadeOut,\n                isBackground,\n                replacement,\n                replacedBy\n              },\n              classes: \"Modification\",\n              position: scale(ptm.shape.centre)\n            })))\n          }\n          return nodes\n        });\n\n        //sub pathways\n        const shadowNodes: cytoscape.NodeDefinition[] = diagram?.shadows.map(item => {\n          return {\n            data: {\n              id: item.id + '',\n              displayName: item.displayName,\n              height: scale(item.prop.height),\n              width: scale(item.prop.width),\n              reactomeId: item.reactomeId,\n              isFadeOut: item.isFadeOut,\n              replacedBy: item.isFadeOut,\n              triggerPosition: scale(item.maxX)\n            },\n            classes: ['Shadow'],\n            position: closestToAverage(subpathwayIdToEventIds.get(item.reactomeId)!.map(reactionId => reactomeIdToEdge.get(reactionId)!).map(edge => scale(edge!.position)))\n          }\n        });\n\n        avoidOverlap(shadowNodes);\n\n        const T = 4;\n        const ARROW_MULT = 1.5;\n        const EDGE_MARGIN = 6;\n        const REACTION_RADIUS = 3 * T;\n        const MIN_DIST = EDGE_MARGIN;\n\n\n        /**\n         * iterate nodes connectors to get all edges information based on the connector type.\n         *\n         */\n        const edges: cytoscape.EdgeDefinition[] =\n          diagram.nodes.flatMap(node => {\n              return node.connectors.map(connector => {\n                const reaction = idToEdges.get(connector.edgeId)!;\n\n                const reactionP = scale(reaction.position);\n                const nodeP = scale(node.position);\n\n                const [source, target] = connector.type !== 'OUTPUT' ?\n                  [node, reaction] :\n                  [reaction, node];\n\n                const sourceP = scale(source.position);\n                const targetP = scale(target.position);\n\n                let points = connector.segments\n                  .flatMap((segment, i) => i === 0 ? [segment.from, segment.to] : [segment.to])\n                  .map(pos => scale(pos));\n                if (connector.type === 'OUTPUT') points.reverse();\n                if (points.length === 0) points.push(reactionP);\n\n                this.addEdgeInfo(reaction, points, 'backward', sourceP);\n                this.addEdgeInfo(reaction, points, 'forward', targetP);\n\n                let [from, to] = [points.shift()!, points.pop()!]\n                from = from ?? nodeP; // Quick fix to avoid problem with reaction without visible outputs like R-HSA-2424252 in R-HSA-1474244\n                to = to ?? reactionP; // Quick fix to avoid problem with reaction without visible outputs like R-HSA-2424252 in R-HSA-1474244\n                if (connector.type === 'CATALYST') {\n                  to = scale(connector.endShape.centre);\n                }\n\n                // points = addRoundness(from, to, points);\n                const relatives = this.absoluteToRelative(from, to, points);\n\n                const classes = [...this.edgeTypeMap.get(connector.type)!];\n                if (reaction.isDisease) classes.push('disease');\n                if (node.trivial) classes.push('trivial');\n                if (eventIdToSubPathwayId.has(reaction.reactomeId)) classes.push('shadow');\n\n                let d = dist(from, to);\n                if (equal(from, reactionP) || equal(to, reactionP)) d -= REACTION_RADIUS;\n                if (classes.includes('positive-regulation') || classes.includes('catalysis') || classes.includes('production')) d -= ARROW_MULT * T;\n                // console.assert(d > MIN_DIST, `The edge between reaction: R-HSA-${reaction.reactomeId} and entity: R-HSA-${node.reactomeId} in pathway ${id} has a visible length of ${d} which is shorter than ${MIN_DIST}`)\n                console.assert(d > MIN_DIST, `${id}\\t${diagram.displayName}\\t${hasFadeOut}\\tR-HSA-${reaction.reactomeId}\\tR-HSA-${node.reactomeId}\\thttps://release.reactome.org/PathwayBrowser/#/${id}&SEL=R-HSA-${reaction.reactomeId}&FLG=R-HSA-${node.reactomeId}\\thttps://reactome-pwp.github.io/PathwayBrowser/${id}?select=${reaction.reactomeId}&flag=${node.reactomeId}`)\n\n                let replacement, replacedBy;\n                if (connector.isFadeOut) {\n                  // First case: same node is used both special and normal context\n                  // replacedBy = node.connectors.find(otherConnector => otherConnector !== connector && !otherConnector.isFadeOut && samePoint(idToEdges.get(otherConnector.edgeId)!.position, reaction.position))?.edgeId;\n                  // Second case: different nodes are used between special and normal context\n                  // replacedBy = replacedBy || (posToSpecialNode.get(pointToStr(node.position)) && posToSpecialEdge.get(pointToStr(reaction.position)))?.id;\n\n                  replacedBy = replacementMap.get(node.id.toString()) && replacementMap.get(reaction.id.toString())\n                }\n                if (!connector.isFadeOut) {\n                  // First case: same node is used both special and normal context\n                  replacement = node.connectors.find(otherConnector => otherConnector !== connector && otherConnector.isFadeOut && samePoint(idToEdges.get(otherConnector.edgeId)!.position, reaction.position))?.edgeId;\n                  // console.log(\"Reaction edge\", replacement)\n\n                  // Second case: different nodes are used between special and normal context\n                  replacement = replacement || (posToNormalNode.get(pointToStr(node.position)) && posToNormalEdge.get(pointToStr(reaction.position)))?.id;\n                  // console.log(\"Reaction edge\", replacement)\n\n                }\n                const edge: cytoscape.EdgeDefinition = {\n                  data: {\n                    id: this.getEdgeId(source, connector, target, edgeIds),\n                    graph: dbIdToGraphEdge.get(reaction.reactomeId),\n                    source: source.id + '',\n                    target: target.id + '',\n                    stoichiometry: connector.stoichiometry.value,\n                    weights: relatives.weights.join(\" \"),\n                    distances: relatives.distances.join(\" \"),\n                    sourceEndpoint: this.endpoint(sourceP, from),\n                    targetEndpoint: this.endpoint(targetP, to),\n                    pathway: eventIdToSubPathwayId.get(reaction.reactomeId),\n                    reactomeId: reaction.reactomeId,\n                    reactionId: reaction.id,\n                    isFadeOut: reaction.isFadeOut,\n                    isBackground: reaction.isFadeOut,\n                    replacedBy, replacement\n                  },\n                  classes: classes\n                };\n                return edge\n              });\n            }\n          );\n\n        const linkEdges: cytoscape.EdgeDefinition[] = diagram.links\n          ?.filter(link => !link.renderableClass.includes('EntitySet') || link.inputs[0].id !== link.outputs[0].id)\n          ?.map(link => {\n              const source = idToNodes.get(link.inputs[0].id)!;\n              const target = idToNodes.get(link.outputs[0].id)!;\n\n              const sourceP = scale(source.position);\n              const targetP = scale(target.position);\n\n              let points = link.segments\n                .flatMap((segment, i) => i === 0 ? [segment.from, segment.to] : [segment.to])\n                .map(pos => scale(pos));\n\n              let [from, to] = [points.shift()!, points.pop()!]\n              from = from ?? sourceP; // Quick fix to avoid problem with reaction without visible outputs like R-HSA-2424252 in R-HSA-1474244\n              to = to ?? targetP; // Quick fix to avoid problem with reaction without visible outputs like R-HSA-2424252 in R-HSA-1474244\n\n              // points = addRoundness(from, to, points);\n              const relatives = this.absoluteToRelative(from, to, points);\n\n              const classes = [...this.linkClassMap.get(link.renderableClass)!];\n              if (link.isDisease) classes.push('disease');\n              const isBackground = link.isFadeOut ||\n                idToNodes.get(link.inputs[0].id)?.isBackground &&\n                idToNodes.get(link.outputs[0].id)?.isBackground;\n\n              return {\n                data: {\n                  id: link.id + '',\n                  source: link.inputs[0].id + '',\n                  target: link.outputs[0].id + '',\n                  weights: relatives.weights.join(\" \"),\n                  distances: relatives.distances.join(\" \"),\n                  sourceEndpoint: this.endpoint(sourceP, from),\n                  targetEndpoint: this.endpoint(targetP, to),\n                  isFadeOut: link.isFadeOut,\n                  isBackground: isBackground\n                },\n                classes: classes,\n                selectable: false\n              }\n            }\n          )\n\n        return {\n          nodes: [...compartmentNodes, ...reactionNodes, ...entityNodes, ...shadowNodes],\n          edges: [...edges, ...linkEdges]\n        };\n      }),\n      tap((output) => console.log('Output:', output)),\n    )\n\n  }\n\n  getStructureVideoHtml(item: {\n    id: string | number,\n    type: string\n  }, width: number, height: number, uniprotId: string | undefined) {\n    if (item.type === 'Protein')\n      return `<video loop id=\"video-${item.id}\" width=\"${width + 10}\" height=\"${height + 10}\"  preload=\"none\">\n                <source src=\"${environment.s3}/structures/${uniprotId}.mov\" type=\"video/quicktime\">\n                <source src=\"${environment.s3}/structures/${uniprotId}.webm\" type=\"video/webm\">\n              </video>`;\n    return undefined;\n  }\n\n  private getEdgeId(source: Edge | Node, connector: NodeConnector, target: Edge | Node, edgeIds: Map<string, number>) {\n    let edgeId = `${source.id} --${this.edgeTypeToStr.get(connector.type)} ${target.id}`;\n\n    if (edgeIds.has(edgeId)) {\n      let count = edgeIds.get(edgeId)!;\n      edgeIds.set(edgeId, count++);\n      edgeId += ` (${count})`;\n      console.warn('Conflicting edge id: ', edgeId)\n    } else {\n      edgeIds.set(edgeId, 0)\n    }\n    return edgeId;\n  }\n\n  private addEdgeInfo(edge: Edge, points: Position[], direction: 'forward' | 'backward', stop: Position) {\n    const stopPos = posToStr(edge, stop);\n    if (direction === 'forward') {\n      const map = this.extraLine;\n      let pos = posToStr(edge, points.at(-1)!)\n      while (map.has(pos) && pos !== stopPos) {\n        points.push(map.get(pos)!)\n        pos = posToStr(edge, points.at(-1)!)\n      }\n    } else {\n      const map = this.reverseExtraLine;\n      let pos = posToStr(edge, points.at(0)!)\n      while (map.has(pos) && pos !== stopPos) {\n        points.unshift(map.get(pos)!)\n        pos = posToStr(edge, points.at(0)!)\n      }\n    }\n  }\n\n  private endpoint(source: Position, point: Position): string {\n    return `${point.x - source.x} ${point.y - source.y}`\n  }\n\n\n  /**\n   * Use Matrix power to convert points from an absolute coordinate system to an edge relative system\n   *\n   * Visually explained by https://youtu.be/kYB8IZa5AuE?si=vJKi-MUv2dCRQ5oA<br>\n   * Short version ==> https://math.stackexchange.com/q/1855051/683621\n   * @param source Position position of the edge source:  {x:number, y:number}\n   * @param target Position position of the edge target:  {x:number, y:number}\n   * @param toConvert Array of Position to convert to the edge-relative system\n   * @return The points converted to relative coordinates {distances: number[], weights: number[]}\n   */\n  private absoluteToRelative(source: Position, target: Position, toConvert: Position[]): RelativePosition {\n    const relatives: RelativePosition = {distances: [], weights: []};\n    if (toConvert.length === 0) return relatives;\n\n    const mainVector = array([target.x - source.x, target.y - source.y]); // Edge vector\n    const orthoVector = array([-mainVector.y, mainVector.x]) // Perpendicular vector\n      .normalize(); //Normalized to have the distance expressed in pixels https://math.stackexchange.com/a/413235/683621\n    let transform = array([\n      [mainVector.x, mainVector.y],\n      [orthoVector.x, orthoVector.y],\n    ]).inv(); // Should always be invertible if the ortho vector is indeed perpendicular\n\n    for (let coord of toConvert) {\n      const absolute = array([[coord.x - source.x, coord.y - source.y]]);\n      const relative = absolute.multiply(transform);\n      relatives.weights.push(relative.get(0, 0))\n      relatives.distances.push(relative.get(0, 1))\n    }\n    return relatives;\n  }\n\n  public randomNetwork(): Observable<cytoscape.ElementsDefinition> {\n    const amount = 100;\n    const peTypes = ['Protein', 'EntitySet', 'GenomeEncodedEntity', 'RNA', 'Gene', 'Complex', 'Molecule'];\n    // const peTypes = ['Gene'];\n    const reactionTypes = ['association', 'dissociation', 'transition', 'uncertain', 'omitted'];\n\n    const physicalEntities: cytoscape.NodeDefinition[] = Array.from({length: amount}, (x, i) => {\n      const clazz = this.pick(peTypes);\n      return {\n        group: 'nodes',\n        data: {\n          id: i.toString(),\n          width: this.random(150, 300),\n          height: this.random(50, 150),\n          displayName: clazz,\n          parent: 'Compartment'\n        },\n        classes: [clazz, \"PhysicalEntity\", this.pick([\"drug\", \"\", \"\"])]\n      };\n    });\n\n    const reactions: cytoscape.NodeDefinition[] = physicalEntities.map((node, i) =>\n      ({\n        group: 'nodes',\n        data: {\n          id: `${i}-react`,\n          parent: 'Compartment'\n        },\n        classes: [this.pick(reactionTypes), 'reaction']\n      })\n    );\n\n    const nodes: cytoscape.NodeDefinition[] = physicalEntities.flatMap((node, i) =>\n      [node, reactions[i]]\n    );\n\n\n    const inOut: cytoscape.EdgeDefinition[] = physicalEntities.flatMap((node, i) => [\n      {\n        group: 'edges',\n        data: {\n          source: `${i}`,\n          target: `${i}-react`,\n          stoichiometry: this.pick([undefined, -1, 0, 1, 2])\n        },\n        classes: ['consumption']\n      },\n      {\n        group: 'edges',\n        data: {\n          source: `${i}-react`,\n          target: `${(i + 1) % amount}`,\n          stoichiometry: this.pick([undefined, -1, 0, 1, 2])\n        },\n\n        classes: ['production']\n      },\n    ])\n\n    const additionalIn: cytoscape.EdgeDefinition[] = Array.from({length: amount / 4}).map(() => ({\n      group: 'edges',\n      data: {\n        source: this.pick(physicalEntities).data.id!,\n        target: this.pick(reactions).data.id!,\n      },\n      classes: this.pick(['catalysis', 'positive-regulation', 'negative-regulation', 'set-to-member'])\n    }));\n\n\n    const edges: cytoscape.EdgeDefinition[] = [...inOut, ...additionalIn];\n\n    return of({ // list of graph elements to start with\n      nodes: [\n        {\n          data: {id: 'Compartment'},\n          classes: ['Compartment'],\n          pannable: true,\n          grabbable: false,\n          selectable: false\n        },\n        ...nodes\n      ]\n      , edges\n    })\n  }\n}\n\nfunction samePoint(p1: Position, p2: Position) {\n  return p1.x === p2.x && p1.y === p2.y\n}\n\nfunction overlapLimited(nodeA: Node, nodeB: Node, limit: number = 0.8): boolean {\n  if (nodeA.position.x === nodeB.position.x && nodeA.position.y === nodeB.position.y) return true;\n  const rectA = getRect(nodeA), rectB = getRect(nodeB);\n  const o: Rectangle = {\n    left: Math.max(rectA.left, rectB.left),\n    right: Math.min(rectA.right, rectB.right),\n    top: Math.max(rectA.top, rectB.top),\n    bottom: Math.min(rectA.bottom, rectB.bottom)\n  }\n  return (o.left < o.right && o.top < o.bottom) && ((area(o) / area(rectA)) > limit);\n}\n\nfunction overlap(nodeA: Node, nodeB: Node): boolean {\n  if (nodeA.position.x === nodeB.position.x && nodeA.position.y === nodeB.position.y) return true;\n  const rectA = getRect(nodeA), rectB = getRect(nodeB);\n  return Math.max(rectA.left, rectB.left) < Math.min(rectA.right, rectB.right)\n    && Math.max(rectA.top, rectB.top) < Math.min(rectA.bottom, rectB.bottom);\n}\n\nfunction area(rect: Rectangle) {\n  return (rect.right - rect.left) * (rect.bottom - rect.top)\n}\n\nfunction getRect(node: Node): Rectangle {\n  if (node.rect) return node.rect\n  const halfWidth = node.prop.width / 2;\n  const halfHeight = node.prop.height / 2;\n  node.rect = {\n    left: node.position.x - halfWidth,\n    right: node.position.x + halfWidth,\n    top: node.position.y - halfHeight,\n    bottom: node.position.y + halfHeight,\n  }\n  return node.rect;\n}\n\n/**\n * Create a temporary cytoscape session to apply a layout to the nodes in order to avoid them to overlap each others\n */\nfunction avoidOverlap(definitions: cytoscape.NodeDefinition[]) {\n  const container = document.createElement(\"div\");\n\n  const style = new Style(container, {});\n  const cy = cytoscape({\n    container: container,\n    style: style.getStyleSheet(),\n    elements: definitions,\n    layout: {name: 'preset'}\n  });\n\n  const nodes = cy.nodes();\n  nodes.forEach(node => {\n    const bb = node.boundingBox({includeLabels: true, includeNodes: false});\n    node.style({width: bb.w, height: bb.h})\n  })\n\n  const layout = nodes.layout({\n    name: 'fcose',\n    nodeRepulsion: 15,\n    animate: false,\n    fit: true,\n    packComponents: false,\n    randomize: false,\n    tile: false,\n  } as FcoseLayoutOptions);\n  layout.run()\n\n  definitions.forEach(def => def.position = cy.getElementById(def.data.id!).position());\n\n  cy.destroy()\n  container.remove()\n}\n","export function isDefined<T>(value: T | undefined | null): value is T {\n  return value !== undefined && value !== null\n}\n","export const environment = {\n  production: false,\n  host: \"https://dev.reactome.org\",\n  s3: \"https://s3.amazonaws.com/download.reactome.org\"\n};\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/**\n * Copyright (c) 2016-2024, The Cytoscape Consortium.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the “Software”), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n * of the Software, and to permit persons to whom the Software is furnished to do\n * so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar _window = typeof window === 'undefined' ? null : window; // eslint-disable-line no-undef\n\nvar navigator = _window ? _window.navigator : null;\n_window ? _window.document : null;\nvar typeofstr = _typeof('');\nvar typeofobj = _typeof({});\nvar typeoffn = _typeof(function () {});\nvar typeofhtmlele = typeof HTMLElement === \"undefined\" ? \"undefined\" : _typeof(HTMLElement);\nvar instanceStr = function instanceStr(obj) {\n  return obj && obj.instanceString && fn$6(obj.instanceString) ? obj.instanceString() : null;\n};\n\nvar string = function string(obj) {\n  return obj != null && _typeof(obj) == typeofstr;\n};\nvar fn$6 = function fn(obj) {\n  return obj != null && _typeof(obj) === typeoffn;\n};\nvar array = function array(obj) {\n  return !elementOrCollection(obj) && (Array.isArray ? Array.isArray(obj) : obj != null && obj instanceof Array);\n};\nvar plainObject = function plainObject(obj) {\n  return obj != null && _typeof(obj) === typeofobj && !array(obj) && obj.constructor === Object;\n};\nvar object = function object(obj) {\n  return obj != null && _typeof(obj) === typeofobj;\n};\nvar number$1 = function number(obj) {\n  return obj != null && _typeof(obj) === _typeof(1) && !isNaN(obj);\n};\nvar integer = function integer(obj) {\n  return number$1(obj) && Math.floor(obj) === obj;\n};\nvar htmlElement = function htmlElement(obj) {\n  if ('undefined' === typeofhtmlele) {\n    return undefined;\n  } else {\n    return null != obj && obj instanceof HTMLElement;\n  }\n};\nvar elementOrCollection = function elementOrCollection(obj) {\n  return element(obj) || collection(obj);\n};\nvar element = function element(obj) {\n  return instanceStr(obj) === 'collection' && obj._private.single;\n};\nvar collection = function collection(obj) {\n  return instanceStr(obj) === 'collection' && !obj._private.single;\n};\nvar core = function core(obj) {\n  return instanceStr(obj) === 'core';\n};\nvar stylesheet = function stylesheet(obj) {\n  return instanceStr(obj) === 'stylesheet';\n};\nvar event = function event(obj) {\n  return instanceStr(obj) === 'event';\n};\nvar emptyString = function emptyString(obj) {\n  if (obj === undefined || obj === null) {\n    // null is empty\n    return true;\n  } else if (obj === '' || obj.match(/^\\s+$/)) {\n    return true; // empty string is empty\n  }\n\n  return false; // otherwise, we don't know what we've got\n};\nvar domElement = function domElement(obj) {\n  if (typeof HTMLElement === 'undefined') {\n    return false; // we're not in a browser so it doesn't matter\n  } else {\n    return obj instanceof HTMLElement;\n  }\n};\nvar boundingBox = function boundingBox(obj) {\n  return plainObject(obj) && number$1(obj.x1) && number$1(obj.x2) && number$1(obj.y1) && number$1(obj.y2);\n};\nvar promise = function promise(obj) {\n  return object(obj) && fn$6(obj.then);\n};\nvar ms = function ms() {\n  return navigator && navigator.userAgent.match(/msie|trident|edge/i);\n}; // probably a better way to detect this...\n\nvar memoize$1 = function memoize(fn, keyFn) {\n  if (!keyFn) {\n    keyFn = function keyFn() {\n      if (arguments.length === 1) {\n        return arguments[0];\n      } else if (arguments.length === 0) {\n        return 'undefined';\n      }\n      var args = [];\n      for (var i = 0; i < arguments.length; i++) {\n        args.push(arguments[i]);\n      }\n      return args.join('$');\n    };\n  }\n  var memoizedFn = function memoizedFn() {\n    var self = this;\n    var args = arguments;\n    var ret;\n    var k = keyFn.apply(self, args);\n    var cache = memoizedFn.cache;\n    if (!(ret = cache[k])) {\n      ret = cache[k] = fn.apply(self, args);\n    }\n    return ret;\n  };\n  memoizedFn.cache = {};\n  return memoizedFn;\n};\n\nvar camel2dash = memoize$1(function (str) {\n  return str.replace(/([A-Z])/g, function (v) {\n    return '-' + v.toLowerCase();\n  });\n});\nvar dash2camel = memoize$1(function (str) {\n  return str.replace(/(-\\w)/g, function (v) {\n    return v[1].toUpperCase();\n  });\n});\nvar prependCamel = memoize$1(function (prefix, str) {\n  return prefix + str[0].toUpperCase() + str.substring(1);\n}, function (prefix, str) {\n  return prefix + '$' + str;\n});\nvar capitalize = function capitalize(str) {\n  if (emptyString(str)) {\n    return str;\n  }\n  return str.charAt(0).toUpperCase() + str.substring(1);\n};\n\nvar number = '(?:[-+]?(?:(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:[Ee][+-]?\\\\d+)?))';\nvar rgba = 'rgb[a]?\\\\((' + number + '[%]?)\\\\s*,\\\\s*(' + number + '[%]?)\\\\s*,\\\\s*(' + number + '[%]?)(?:\\\\s*,\\\\s*(' + number + '))?\\\\)';\nvar rgbaNoBackRefs = 'rgb[a]?\\\\((?:' + number + '[%]?)\\\\s*,\\\\s*(?:' + number + '[%]?)\\\\s*,\\\\s*(?:' + number + '[%]?)(?:\\\\s*,\\\\s*(?:' + number + '))?\\\\)';\nvar hsla = 'hsl[a]?\\\\((' + number + ')\\\\s*,\\\\s*(' + number + '[%])\\\\s*,\\\\s*(' + number + '[%])(?:\\\\s*,\\\\s*(' + number + '))?\\\\)';\nvar hslaNoBackRefs = 'hsl[a]?\\\\((?:' + number + ')\\\\s*,\\\\s*(?:' + number + '[%])\\\\s*,\\\\s*(?:' + number + '[%])(?:\\\\s*,\\\\s*(?:' + number + '))?\\\\)';\nvar hex3 = '\\\\#[0-9a-fA-F]{3}';\nvar hex6 = '\\\\#[0-9a-fA-F]{6}';\n\nvar ascending = function ascending(a, b) {\n  if (a < b) {\n    return -1;\n  } else if (a > b) {\n    return 1;\n  } else {\n    return 0;\n  }\n};\nvar descending = function descending(a, b) {\n  return -1 * ascending(a, b);\n};\n\nvar extend = Object.assign != null ? Object.assign.bind(Object) : function (tgt) {\n  var args = arguments;\n  for (var i = 1; i < args.length; i++) {\n    var obj = args[i];\n    if (obj == null) {\n      continue;\n    }\n    var keys = Object.keys(obj);\n    for (var j = 0; j < keys.length; j++) {\n      var k = keys[j];\n      tgt[k] = obj[k];\n    }\n  }\n  return tgt;\n};\n\n// get [r, g, b] from #abc or #aabbcc\nvar hex2tuple = function hex2tuple(hex) {\n  if (!(hex.length === 4 || hex.length === 7) || hex[0] !== '#') {\n    return;\n  }\n  var shortHex = hex.length === 4;\n  var r, g, b;\n  var base = 16;\n  if (shortHex) {\n    r = parseInt(hex[1] + hex[1], base);\n    g = parseInt(hex[2] + hex[2], base);\n    b = parseInt(hex[3] + hex[3], base);\n  } else {\n    r = parseInt(hex[1] + hex[2], base);\n    g = parseInt(hex[3] + hex[4], base);\n    b = parseInt(hex[5] + hex[6], base);\n  }\n  return [r, g, b];\n};\n\n// get [r, g, b, a] from hsl(0, 0, 0) or hsla(0, 0, 0, 0)\nvar hsl2tuple = function hsl2tuple(hsl) {\n  var ret;\n  var h, s, l, a, r, g, b;\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n  var m = new RegExp('^' + hsla + '$').exec(hsl);\n  if (m) {\n    // get hue\n    h = parseInt(m[1]);\n    if (h < 0) {\n      h = (360 - -1 * h % 360) % 360;\n    } else if (h > 360) {\n      h = h % 360;\n    }\n    h /= 360; // normalise on [0, 1]\n\n    s = parseFloat(m[2]);\n    if (s < 0 || s > 100) {\n      return;\n    } // saturation is [0, 100]\n    s = s / 100; // normalise on [0, 1]\n\n    l = parseFloat(m[3]);\n    if (l < 0 || l > 100) {\n      return;\n    } // lightness is [0, 100]\n    l = l / 100; // normalise on [0, 1]\n\n    a = m[4];\n    if (a !== undefined) {\n      a = parseFloat(a);\n      if (a < 0 || a > 1) {\n        return;\n      } // alpha is [0, 1]\n    }\n\n    // now, convert to rgb\n    // code from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\n    if (s === 0) {\n      r = g = b = Math.round(l * 255); // achromatic\n    } else {\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n      r = Math.round(255 * hue2rgb(p, q, h + 1 / 3));\n      g = Math.round(255 * hue2rgb(p, q, h));\n      b = Math.round(255 * hue2rgb(p, q, h - 1 / 3));\n    }\n    ret = [r, g, b, a];\n  }\n  return ret;\n};\n\n// get [r, g, b, a] from rgb(0, 0, 0) or rgba(0, 0, 0, 0)\nvar rgb2tuple = function rgb2tuple(rgb) {\n  var ret;\n  var m = new RegExp('^' + rgba + '$').exec(rgb);\n  if (m) {\n    ret = [];\n    var isPct = [];\n    for (var i = 1; i <= 3; i++) {\n      var channel = m[i];\n      if (channel[channel.length - 1] === '%') {\n        isPct[i] = true;\n      }\n      channel = parseFloat(channel);\n      if (isPct[i]) {\n        channel = channel / 100 * 255; // normalise to [0, 255]\n      }\n\n      if (channel < 0 || channel > 255) {\n        return;\n      } // invalid channel value\n\n      ret.push(Math.floor(channel));\n    }\n    var atLeastOneIsPct = isPct[1] || isPct[2] || isPct[3];\n    var allArePct = isPct[1] && isPct[2] && isPct[3];\n    if (atLeastOneIsPct && !allArePct) {\n      return;\n    } // must all be percent values if one is\n\n    var alpha = m[4];\n    if (alpha !== undefined) {\n      alpha = parseFloat(alpha);\n      if (alpha < 0 || alpha > 1) {\n        return;\n      } // invalid alpha value\n\n      ret.push(alpha);\n    }\n  }\n  return ret;\n};\nvar colorname2tuple = function colorname2tuple(color) {\n  return colors[color.toLowerCase()];\n};\nvar color2tuple = function color2tuple(color) {\n  return (array(color) ? color : null) || colorname2tuple(color) || hex2tuple(color) || rgb2tuple(color) || hsl2tuple(color);\n};\nvar colors = {\n  // special colour names\n  transparent: [0, 0, 0, 0],\n  // NB alpha === 0\n\n  // regular colours\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 134, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 250, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  grey: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 221],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [112, 128, 144],\n  slategrey: [112, 128, 144],\n  snow: [255, 250, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 50]\n};\n\n// sets the value in a map (map may not be built)\nvar setMap = function setMap(options) {\n  var obj = options.map;\n  var keys = options.keys;\n  var l = keys.length;\n  for (var i = 0; i < l; i++) {\n    var key = keys[i];\n    if (plainObject(key)) {\n      throw Error('Tried to set map with object key');\n    }\n    if (i < keys.length - 1) {\n      // extend the map if necessary\n      if (obj[key] == null) {\n        obj[key] = {};\n      }\n      obj = obj[key];\n    } else {\n      // set the value\n      obj[key] = options.value;\n    }\n  }\n};\n\n// gets the value in a map even if it's not built in places\nvar getMap = function getMap(options) {\n  var obj = options.map;\n  var keys = options.keys;\n  var l = keys.length;\n  for (var i = 0; i < l; i++) {\n    var key = keys[i];\n    if (plainObject(key)) {\n      throw Error('Tried to get map with object key');\n    }\n    obj = obj[key];\n    if (obj == null) {\n      return obj;\n    }\n  }\n  return obj;\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root.Date.now();\n};\n\nvar now_1 = now;\n\n/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nvar _trimmedEndIndex = trimmedEndIndex;\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, _trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nvar _baseTrim = baseTrim;\n\n/** Built-in value references. */\nvar Symbol$1 = _root.Symbol;\n\nvar _Symbol = Symbol$1;\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$4 = objectProto$5.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$5.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty$4.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString$1.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto$4.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nvar _objectToString = objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);\n}\n\nvar isSymbol_1 = isSymbol;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = _baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n  wait = toNumber_1(wait) || 0;\n  if (isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now_1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce;\n\nvar performance = _window ? _window.performance : null;\nvar pnow = performance && performance.now ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nvar raf = function () {\n  if (_window) {\n    if (_window.requestAnimationFrame) {\n      return function (fn) {\n        _window.requestAnimationFrame(fn);\n      };\n    } else if (_window.mozRequestAnimationFrame) {\n      return function (fn) {\n        _window.mozRequestAnimationFrame(fn);\n      };\n    } else if (_window.webkitRequestAnimationFrame) {\n      return function (fn) {\n        _window.webkitRequestAnimationFrame(fn);\n      };\n    } else if (_window.msRequestAnimationFrame) {\n      return function (fn) {\n        _window.msRequestAnimationFrame(fn);\n      };\n    }\n  }\n  return function (fn) {\n    if (fn) {\n      setTimeout(function () {\n        fn(pnow());\n      }, 1000 / 60);\n    }\n  };\n}();\nvar requestAnimationFrame = function requestAnimationFrame(fn) {\n  return raf(fn);\n};\nvar performanceNow = pnow;\n\nvar DEFAULT_HASH_SEED = 9261;\nvar K = 65599; // 37 also works pretty well\nvar DEFAULT_HASH_SEED_ALT = 5381;\nvar hashIterableInts = function hashIterableInts(iterator) {\n  var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_HASH_SEED;\n  // sdbm/string-hash\n  var hash = seed;\n  var entry;\n  for (;;) {\n    entry = iterator.next();\n    if (entry.done) {\n      break;\n    }\n    hash = hash * K + entry.value | 0;\n  }\n  return hash;\n};\nvar hashInt = function hashInt(num) {\n  var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_HASH_SEED;\n  // sdbm/string-hash\n  return seed * K + num | 0;\n};\nvar hashIntAlt = function hashIntAlt(num) {\n  var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_HASH_SEED_ALT;\n  // djb2/string-hash\n  return (seed << 5) + seed + num | 0;\n};\nvar combineHashes = function combineHashes(hash1, hash2) {\n  return hash1 * 0x200000 + hash2;\n};\nvar combineHashesArray = function combineHashesArray(hashes) {\n  return hashes[0] * 0x200000 + hashes[1];\n};\nvar hashArrays = function hashArrays(hashes1, hashes2) {\n  return [hashInt(hashes1[0], hashes2[0]), hashIntAlt(hashes1[1], hashes2[1])];\n};\nvar hashIntsArray = function hashIntsArray(ints, seed) {\n  var entry = {\n    value: 0,\n    done: false\n  };\n  var i = 0;\n  var length = ints.length;\n  var iterator = {\n    next: function next() {\n      if (i < length) {\n        entry.value = ints[i++];\n      } else {\n        entry.done = true;\n      }\n      return entry;\n    }\n  };\n  return hashIterableInts(iterator, seed);\n};\nvar hashString = function hashString(str, seed) {\n  var entry = {\n    value: 0,\n    done: false\n  };\n  var i = 0;\n  var length = str.length;\n  var iterator = {\n    next: function next() {\n      if (i < length) {\n        entry.value = str.charCodeAt(i++);\n      } else {\n        entry.done = true;\n      }\n      return entry;\n    }\n  };\n  return hashIterableInts(iterator, seed);\n};\nvar hashStrings = function hashStrings() {\n  return hashStringsArray(arguments);\n};\nvar hashStringsArray = function hashStringsArray(strs) {\n  var hash;\n  for (var i = 0; i < strs.length; i++) {\n    var str = strs[i];\n    if (i === 0) {\n      hash = hashString(str);\n    } else {\n      hash = hashString(str, hash);\n    }\n  }\n  return hash;\n};\n\n/*global console */\nvar warningsEnabled = true;\nvar warnSupported = console.warn != null; // eslint-disable-line no-console\nvar traceSupported = console.trace != null; // eslint-disable-line no-console\n\nvar MAX_INT$1 = Number.MAX_SAFE_INTEGER || 9007199254740991;\nvar trueify = function trueify() {\n  return true;\n};\nvar falsify = function falsify() {\n  return false;\n};\nvar zeroify = function zeroify() {\n  return 0;\n};\nvar noop$1 = function noop() {};\nvar error = function error(msg) {\n  throw new Error(msg);\n};\nvar warnings = function warnings(enabled) {\n  if (enabled !== undefined) {\n    warningsEnabled = !!enabled;\n  } else {\n    return warningsEnabled;\n  }\n};\nvar warn = function warn(msg) {\n  /* eslint-disable no-console */\n  if (!warnings()) {\n    return;\n  }\n  if (warnSupported) {\n    console.warn(msg);\n  } else {\n    console.log(msg);\n    if (traceSupported) {\n      console.trace();\n    }\n  }\n}; /* eslint-enable */\n\nvar clone = function clone(obj) {\n  return extend({}, obj);\n};\n\n// gets a shallow copy of the argument\nvar copy = function copy(obj) {\n  if (obj == null) {\n    return obj;\n  }\n  if (array(obj)) {\n    return obj.slice();\n  } else if (plainObject(obj)) {\n    return clone(obj);\n  } else {\n    return obj;\n  }\n};\nvar copyArray$1 = function copyArray(arr) {\n  return arr.slice();\n};\nvar uuid = function uuid(a, b /* placeholders */) {\n  for (\n  // loop :)\n  b = a = '';\n  // b - result , a - numeric letiable\n  a++ < 36;\n  //\n  b += a * 51 & 52 // if \"a\" is not 9 or 14 or 19 or 24\n  ?\n  //  return a random number or 4\n  (a ^ 15 // if \"a\" is not 15\n  ?\n  // generate a random number from 0 to 15\n  8 ^ Math.random() * (a ^ 20 ? 16 : 4) // unless \"a\" is 20, in which case a random number from 8 to 11\n  : 4 //  otherwise 4\n  ).toString(16) : '-' //  in other cases (if \"a\" is 9,14,19,24) insert \"-\"\n  ) {\n  }\n  return b;\n};\nvar _staticEmptyObject = {};\nvar staticEmptyObject = function staticEmptyObject() {\n  return _staticEmptyObject;\n};\nvar defaults$g = function defaults(_defaults) {\n  var keys = Object.keys(_defaults);\n  return function (opts) {\n    var filledOpts = {};\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var optVal = opts == null ? undefined : opts[key];\n      filledOpts[key] = optVal === undefined ? _defaults[key] : optVal;\n    }\n    return filledOpts;\n  };\n};\nvar removeFromArray = function removeFromArray(arr, ele, oneCopy) {\n  for (var i = arr.length - 1; i >= 0; i--) {\n    if (arr[i] === ele) {\n      arr.splice(i, 1);\n      if (oneCopy) {\n        break;\n      }\n    }\n  }\n};\nvar clearArray = function clearArray(arr) {\n  arr.splice(0, arr.length);\n};\nvar push = function push(arr, otherArr) {\n  for (var i = 0; i < otherArr.length; i++) {\n    var el = otherArr[i];\n    arr.push(el);\n  }\n};\nvar getPrefixedProperty = function getPrefixedProperty(obj, propName, prefix) {\n  if (prefix) {\n    propName = prependCamel(prefix, propName); // e.g. (labelWidth, source) => sourceLabelWidth\n  }\n\n  return obj[propName];\n};\nvar setPrefixedProperty = function setPrefixedProperty(obj, propName, prefix, value) {\n  if (prefix) {\n    propName = prependCamel(prefix, propName); // e.g. (labelWidth, source) => sourceLabelWidth\n  }\n\n  obj[propName] = value;\n};\n\n/* global Map */\nvar ObjectMap = /*#__PURE__*/function () {\n  function ObjectMap() {\n    _classCallCheck(this, ObjectMap);\n    this._obj = {};\n  }\n  _createClass(ObjectMap, [{\n    key: \"set\",\n    value: function set(key, val) {\n      this._obj[key] = val;\n      return this;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      this._obj[key] = undefined;\n      return this;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._obj = {};\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this._obj[key] !== undefined;\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this._obj[key];\n    }\n  }]);\n  return ObjectMap;\n}();\nvar Map$2 = typeof Map !== 'undefined' ? Map : ObjectMap;\n\n/* global Set */\n\nvar undef = \"undefined\" ;\nvar ObjectSet = /*#__PURE__*/function () {\n  function ObjectSet(arrayOrObjectSet) {\n    _classCallCheck(this, ObjectSet);\n    this._obj = Object.create(null);\n    this.size = 0;\n    if (arrayOrObjectSet != null) {\n      var arr;\n      if (arrayOrObjectSet.instanceString != null && arrayOrObjectSet.instanceString() === this.instanceString()) {\n        arr = arrayOrObjectSet.toArray();\n      } else {\n        arr = arrayOrObjectSet;\n      }\n      for (var i = 0; i < arr.length; i++) {\n        this.add(arr[i]);\n      }\n    }\n  }\n  _createClass(ObjectSet, [{\n    key: \"instanceString\",\n    value: function instanceString() {\n      return 'set';\n    }\n  }, {\n    key: \"add\",\n    value: function add(val) {\n      var o = this._obj;\n      if (o[val] !== 1) {\n        o[val] = 1;\n        this.size++;\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(val) {\n      var o = this._obj;\n      if (o[val] === 1) {\n        o[val] = 0;\n        this.size--;\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._obj = Object.create(null);\n    }\n  }, {\n    key: \"has\",\n    value: function has(val) {\n      return this._obj[val] === 1;\n    }\n  }, {\n    key: \"toArray\",\n    value: function toArray() {\n      var _this = this;\n      return Object.keys(this._obj).filter(function (key) {\n        return _this.has(key);\n      });\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(callback, thisArg) {\n      return this.toArray().forEach(callback, thisArg);\n    }\n  }]);\n  return ObjectSet;\n}();\nvar Set$1 = (typeof Set === \"undefined\" ? \"undefined\" : _typeof(Set)) !== undef ? Set : ObjectSet;\n\n// represents a node or an edge\nvar Element = function Element(cy, params) {\n  var restore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  if (cy === undefined || params === undefined || !core(cy)) {\n    error('An element must have a core reference and parameters set');\n    return;\n  }\n  var group = params.group;\n\n  // try to automatically infer the group if unspecified\n  if (group == null) {\n    if (params.data && params.data.source != null && params.data.target != null) {\n      group = 'edges';\n    } else {\n      group = 'nodes';\n    }\n  }\n\n  // validate group\n  if (group !== 'nodes' && group !== 'edges') {\n    error('An element must be of type `nodes` or `edges`; you specified `' + group + '`');\n    return;\n  }\n\n  // make the element array-like, just like a collection\n  this.length = 1;\n  this[0] = this;\n\n  // NOTE: when something is added here, add also to ele.json()\n  var _p = this._private = {\n    cy: cy,\n    single: true,\n    // indicates this is an element\n    data: params.data || {},\n    // data object\n    position: params.position || {\n      x: 0,\n      y: 0\n    },\n    // (x, y) position pair\n    autoWidth: undefined,\n    // width and height of nodes calculated by the renderer when set to special 'auto' value\n    autoHeight: undefined,\n    autoPadding: undefined,\n    compoundBoundsClean: false,\n    // whether the compound dimensions need to be recalculated the next time dimensions are read\n    listeners: [],\n    // array of bound listeners\n    group: group,\n    // string; 'nodes' or 'edges'\n    style: {},\n    // properties as set by the style\n    rstyle: {},\n    // properties for style sent from the renderer to the core\n    styleCxts: [],\n    // applied style contexts from the styler\n    styleKeys: {},\n    // per-group keys of style property values\n    removed: true,\n    // whether it's inside the vis; true if removed (set true here since we call restore)\n    selected: params.selected ? true : false,\n    // whether it's selected\n    selectable: params.selectable === undefined ? true : params.selectable ? true : false,\n    // whether it's selectable\n    locked: params.locked ? true : false,\n    // whether the element is locked (cannot be moved)\n    grabbed: false,\n    // whether the element is grabbed by the mouse; renderer sets this privately\n    grabbable: params.grabbable === undefined ? true : params.grabbable ? true : false,\n    // whether the element can be grabbed\n    pannable: params.pannable === undefined ? group === 'edges' ? true : false : params.pannable ? true : false,\n    // whether the element has passthrough panning enabled\n    active: false,\n    // whether the element is active from user interaction\n    classes: new Set$1(),\n    // map ( className => true )\n    animation: {\n      // object for currently-running animations\n      current: [],\n      queue: []\n    },\n    rscratch: {},\n    // object in which the renderer can store information\n    scratch: params.scratch || {},\n    // scratch objects\n    edges: [],\n    // array of connected edges\n    children: [],\n    // array of children\n    parent: params.parent && params.parent.isNode() ? params.parent : null,\n    // parent ref\n    traversalCache: {},\n    // cache of output of traversal functions\n    backgrounding: false,\n    // whether background images are loading\n    bbCache: null,\n    // cache of the current bounding box\n    bbCacheShift: {\n      x: 0,\n      y: 0\n    },\n    // shift applied to cached bb to be applied on next get\n    bodyBounds: null,\n    // bounds cache of element body, w/o overlay\n    overlayBounds: null,\n    // bounds cache of element body, including overlay\n    labelBounds: {\n      // bounds cache of labels\n      all: null,\n      source: null,\n      target: null,\n      main: null\n    },\n    arrowBounds: {\n      // bounds cache of edge arrows\n      source: null,\n      target: null,\n      'mid-source': null,\n      'mid-target': null\n    }\n  };\n  if (_p.position.x == null) {\n    _p.position.x = 0;\n  }\n  if (_p.position.y == null) {\n    _p.position.y = 0;\n  }\n\n  // renderedPosition overrides if specified\n  if (params.renderedPosition) {\n    var rpos = params.renderedPosition;\n    var pan = cy.pan();\n    var zoom = cy.zoom();\n    _p.position = {\n      x: (rpos.x - pan.x) / zoom,\n      y: (rpos.y - pan.y) / zoom\n    };\n  }\n  var classes = [];\n  if (array(params.classes)) {\n    classes = params.classes;\n  } else if (string(params.classes)) {\n    classes = params.classes.split(/\\s+/);\n  }\n  for (var i = 0, l = classes.length; i < l; i++) {\n    var cls = classes[i];\n    if (!cls || cls === '') {\n      continue;\n    }\n    _p.classes.add(cls);\n  }\n  this.createEmitter();\n  var bypass = params.style || params.css;\n  if (bypass) {\n    warn('Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead.');\n    this.style(bypass);\n  }\n  if (restore === undefined || restore) {\n    this.restore();\n  }\n};\n\nvar defineSearch = function defineSearch(params) {\n  params = {\n    bfs: params.bfs || !params.dfs,\n    dfs: params.dfs || !params.bfs\n  };\n\n  // from pseudocode on wikipedia\n  return function searchFn(roots, fn, directed) {\n    var options;\n    if (plainObject(roots) && !elementOrCollection(roots)) {\n      options = roots;\n      roots = options.roots || options.root;\n      fn = options.visit;\n      directed = options.directed;\n    }\n    directed = arguments.length === 2 && !fn$6(fn) ? fn : directed;\n    fn = fn$6(fn) ? fn : function () {};\n    var cy = this._private.cy;\n    var v = roots = string(roots) ? this.filter(roots) : roots;\n    var Q = [];\n    var connectedNodes = [];\n    var connectedBy = {};\n    var id2depth = {};\n    var V = {};\n    var j = 0;\n    var found;\n    var _this$byGroup = this.byGroup(),\n      nodes = _this$byGroup.nodes,\n      edges = _this$byGroup.edges;\n\n    // enqueue v\n    for (var i = 0; i < v.length; i++) {\n      var vi = v[i];\n      var viId = vi.id();\n      if (vi.isNode()) {\n        Q.unshift(vi);\n        if (params.bfs) {\n          V[viId] = true;\n          connectedNodes.push(vi);\n        }\n        id2depth[viId] = 0;\n      }\n    }\n    var _loop = function _loop() {\n      var v = params.bfs ? Q.shift() : Q.pop();\n      var vId = v.id();\n      if (params.dfs) {\n        if (V[vId]) {\n          return \"continue\";\n        }\n        V[vId] = true;\n        connectedNodes.push(v);\n      }\n      var depth = id2depth[vId];\n      var prevEdge = connectedBy[vId];\n      var src = prevEdge != null ? prevEdge.source() : null;\n      var tgt = prevEdge != null ? prevEdge.target() : null;\n      var prevNode = prevEdge == null ? undefined : v.same(src) ? tgt[0] : src[0];\n      var ret = void 0;\n      ret = fn(v, prevEdge, prevNode, j++, depth);\n      if (ret === true) {\n        found = v;\n        return \"break\";\n      }\n      if (ret === false) {\n        return \"break\";\n      }\n      var vwEdges = v.connectedEdges().filter(function (e) {\n        return (!directed || e.source().same(v)) && edges.has(e);\n      });\n      for (var _i2 = 0; _i2 < vwEdges.length; _i2++) {\n        var e = vwEdges[_i2];\n        var w = e.connectedNodes().filter(function (n) {\n          return !n.same(v) && nodes.has(n);\n        });\n        var wId = w.id();\n        if (w.length !== 0 && !V[wId]) {\n          w = w[0];\n          Q.push(w);\n          if (params.bfs) {\n            V[wId] = true;\n            connectedNodes.push(w);\n          }\n          connectedBy[wId] = e;\n          id2depth[wId] = id2depth[vId] + 1;\n        }\n      }\n    };\n    while (Q.length !== 0) {\n      var _ret = _loop();\n      if (_ret === \"continue\") continue;\n      if (_ret === \"break\") break;\n    }\n    var connectedEles = cy.collection();\n    for (var _i = 0; _i < connectedNodes.length; _i++) {\n      var node = connectedNodes[_i];\n      var edge = connectedBy[node.id()];\n      if (edge != null) {\n        connectedEles.push(edge);\n      }\n      connectedEles.push(node);\n    }\n    return {\n      path: cy.collection(connectedEles),\n      found: cy.collection(found)\n    };\n  };\n};\n\n// search, spanning trees, etc\nvar elesfn$v = {\n  breadthFirstSearch: defineSearch({\n    bfs: true\n  }),\n  depthFirstSearch: defineSearch({\n    dfs: true\n  })\n};\n\n// nice, short mathematical alias\nelesfn$v.bfs = elesfn$v.breadthFirstSearch;\nelesfn$v.dfs = elesfn$v.depthFirstSearch;\n\nvar heap$1 = createCommonjsModule(function (module, exports) {\n// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _len, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (_j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  (function(root, factory) {\n    {\n      return module.exports = factory();\n    }\n  })(this, function() {\n    return Heap;\n  });\n\n}).call(commonjsGlobal);\n});\n\nvar heap = heap$1;\n\nvar dijkstraDefaults = defaults$g({\n  root: null,\n  weight: function weight(edge) {\n    return 1;\n  },\n  directed: false\n});\nvar elesfn$u = {\n  dijkstra: function dijkstra(options) {\n    if (!plainObject(options)) {\n      var args = arguments;\n      options = {\n        root: args[0],\n        weight: args[1],\n        directed: args[2]\n      };\n    }\n    var _dijkstraDefaults = dijkstraDefaults(options),\n      root = _dijkstraDefaults.root,\n      weight = _dijkstraDefaults.weight,\n      directed = _dijkstraDefaults.directed;\n    var eles = this;\n    var weightFn = weight;\n    var source = string(root) ? this.filter(root)[0] : root[0];\n    var dist = {};\n    var prev = {};\n    var knownDist = {};\n    var _this$byGroup = this.byGroup(),\n      nodes = _this$byGroup.nodes,\n      edges = _this$byGroup.edges;\n    edges.unmergeBy(function (ele) {\n      return ele.isLoop();\n    });\n    var getDist = function getDist(node) {\n      return dist[node.id()];\n    };\n    var setDist = function setDist(node, d) {\n      dist[node.id()] = d;\n      Q.updateItem(node);\n    };\n    var Q = new heap(function (a, b) {\n      return getDist(a) - getDist(b);\n    });\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      dist[node.id()] = node.same(source) ? 0 : Infinity;\n      Q.push(node);\n    }\n    var distBetween = function distBetween(u, v) {\n      var uvs = (directed ? u.edgesTo(v) : u.edgesWith(v)).intersect(edges);\n      var smallestDistance = Infinity;\n      var smallestEdge;\n      for (var _i = 0; _i < uvs.length; _i++) {\n        var edge = uvs[_i];\n        var _weight = weightFn(edge);\n        if (_weight < smallestDistance || !smallestEdge) {\n          smallestDistance = _weight;\n          smallestEdge = edge;\n        }\n      }\n      return {\n        edge: smallestEdge,\n        dist: smallestDistance\n      };\n    };\n    while (Q.size() > 0) {\n      var u = Q.pop();\n      var smalletsDist = getDist(u);\n      var uid = u.id();\n      knownDist[uid] = smalletsDist;\n      if (smalletsDist === Infinity) {\n        continue;\n      }\n      var neighbors = u.neighborhood().intersect(nodes);\n      for (var _i2 = 0; _i2 < neighbors.length; _i2++) {\n        var v = neighbors[_i2];\n        var vid = v.id();\n        var vDist = distBetween(u, v);\n        var alt = smalletsDist + vDist.dist;\n        if (alt < getDist(v)) {\n          setDist(v, alt);\n          prev[vid] = {\n            node: u,\n            edge: vDist.edge\n          };\n        }\n      } // for\n    } // while\n\n    return {\n      distanceTo: function distanceTo(node) {\n        var target = string(node) ? nodes.filter(node)[0] : node[0];\n        return knownDist[target.id()];\n      },\n      pathTo: function pathTo(node) {\n        var target = string(node) ? nodes.filter(node)[0] : node[0];\n        var S = [];\n        var u = target;\n        var uid = u.id();\n        if (target.length > 0) {\n          S.unshift(target);\n          while (prev[uid]) {\n            var p = prev[uid];\n            S.unshift(p.edge);\n            S.unshift(p.node);\n            u = p.node;\n            uid = u.id();\n          }\n        }\n        return eles.spawn(S);\n      }\n    };\n  }\n};\n\nvar elesfn$t = {\n  // kruskal's algorithm (finds min spanning tree, assuming undirected graph)\n  // implemented from pseudocode from wikipedia\n  kruskal: function kruskal(weightFn) {\n    weightFn = weightFn || function (edge) {\n      return 1;\n    };\n    var _this$byGroup = this.byGroup(),\n      nodes = _this$byGroup.nodes,\n      edges = _this$byGroup.edges;\n    var numNodes = nodes.length;\n    var forest = new Array(numNodes);\n    var A = nodes; // assumes byGroup() creates new collections that can be safely mutated\n\n    var findSetIndex = function findSetIndex(ele) {\n      for (var i = 0; i < forest.length; i++) {\n        var eles = forest[i];\n        if (eles.has(ele)) {\n          return i;\n        }\n      }\n    };\n\n    // start with one forest per node\n    for (var i = 0; i < numNodes; i++) {\n      forest[i] = this.spawn(nodes[i]);\n    }\n    var S = edges.sort(function (a, b) {\n      return weightFn(a) - weightFn(b);\n    });\n    for (var _i = 0; _i < S.length; _i++) {\n      var edge = S[_i];\n      var u = edge.source()[0];\n      var v = edge.target()[0];\n      var setUIndex = findSetIndex(u);\n      var setVIndex = findSetIndex(v);\n      var setU = forest[setUIndex];\n      var setV = forest[setVIndex];\n      if (setUIndex !== setVIndex) {\n        A.merge(edge);\n\n        // combine forests for u and v\n        setU.merge(setV);\n        forest.splice(setVIndex, 1);\n      }\n    }\n    return A;\n  }\n};\n\nvar aStarDefaults = defaults$g({\n  root: null,\n  goal: null,\n  weight: function weight(edge) {\n    return 1;\n  },\n  heuristic: function heuristic(edge) {\n    return 0;\n  },\n  directed: false\n});\nvar elesfn$s = {\n  // Implemented from pseudocode from wikipedia\n  aStar: function aStar(options) {\n    var cy = this.cy();\n    var _aStarDefaults = aStarDefaults(options),\n      root = _aStarDefaults.root,\n      goal = _aStarDefaults.goal,\n      heuristic = _aStarDefaults.heuristic,\n      directed = _aStarDefaults.directed,\n      weight = _aStarDefaults.weight;\n    root = cy.collection(root)[0];\n    goal = cy.collection(goal)[0];\n    var sid = root.id();\n    var tid = goal.id();\n    var gScore = {};\n    var fScore = {};\n    var closedSetIds = {};\n    var openSet = new heap(function (a, b) {\n      return fScore[a.id()] - fScore[b.id()];\n    });\n    var openSetIds = new Set$1();\n    var cameFrom = {};\n    var cameFromEdge = {};\n    var addToOpenSet = function addToOpenSet(ele, id) {\n      openSet.push(ele);\n      openSetIds.add(id);\n    };\n    var cMin, cMinId;\n    var popFromOpenSet = function popFromOpenSet() {\n      cMin = openSet.pop();\n      cMinId = cMin.id();\n      openSetIds[\"delete\"](cMinId);\n    };\n    var isInOpenSet = function isInOpenSet(id) {\n      return openSetIds.has(id);\n    };\n    addToOpenSet(root, sid);\n    gScore[sid] = 0;\n    fScore[sid] = heuristic(root);\n\n    // Counter\n    var steps = 0;\n\n    // Main loop\n    while (openSet.size() > 0) {\n      popFromOpenSet();\n      steps++;\n\n      // If we've found our goal, then we are done\n      if (cMinId === tid) {\n        var path = [];\n        var pathNode = goal;\n        var pathNodeId = tid;\n        var pathEdge = cameFromEdge[pathNodeId];\n        for (;;) {\n          path.unshift(pathNode);\n          if (pathEdge != null) {\n            path.unshift(pathEdge);\n          }\n          pathNode = cameFrom[pathNodeId];\n          if (pathNode == null) {\n            break;\n          }\n          pathNodeId = pathNode.id();\n          pathEdge = cameFromEdge[pathNodeId];\n        }\n        return {\n          found: true,\n          distance: gScore[cMinId],\n          path: this.spawn(path),\n          steps: steps\n        };\n      }\n\n      // Add cMin to processed nodes\n      closedSetIds[cMinId] = true;\n\n      // Update scores for neighbors of cMin\n      // Take into account if graph is directed or not\n      var vwEdges = cMin._private.edges;\n      for (var i = 0; i < vwEdges.length; i++) {\n        var e = vwEdges[i];\n\n        // edge must be in set of calling eles\n        if (!this.hasElementWithId(e.id())) {\n          continue;\n        }\n\n        // cMin must be the source of edge if directed\n        if (directed && e.data('source') !== cMinId) {\n          continue;\n        }\n        var wSrc = e.source();\n        var wTgt = e.target();\n        var w = wSrc.id() !== cMinId ? wSrc : wTgt;\n        var wid = w.id();\n\n        // node must be in set of calling eles\n        if (!this.hasElementWithId(wid)) {\n          continue;\n        }\n\n        // if node is in closedSet, ignore it\n        if (closedSetIds[wid]) {\n          continue;\n        }\n\n        // New tentative score for node w\n        var tempScore = gScore[cMinId] + weight(e);\n\n        // Update gScore for node w if:\n        //   w not present in openSet\n        // OR\n        //   tentative gScore is less than previous value\n\n        // w not in openSet\n        if (!isInOpenSet(wid)) {\n          gScore[wid] = tempScore;\n          fScore[wid] = tempScore + heuristic(w);\n          addToOpenSet(w, wid);\n          cameFrom[wid] = cMin;\n          cameFromEdge[wid] = e;\n          continue;\n        }\n\n        // w already in openSet, but with greater gScore\n        if (tempScore < gScore[wid]) {\n          gScore[wid] = tempScore;\n          fScore[wid] = tempScore + heuristic(w);\n          cameFrom[wid] = cMin;\n          cameFromEdge[wid] = e;\n        }\n      } // End of neighbors update\n    } // End of main loop\n\n    // If we've reached here, then we've not reached our goal\n    return {\n      found: false,\n      distance: undefined,\n      path: undefined,\n      steps: steps\n    };\n  }\n}; // elesfn\n\nvar floydWarshallDefaults = defaults$g({\n  weight: function weight(edge) {\n    return 1;\n  },\n  directed: false\n});\nvar elesfn$r = {\n  // Implemented from pseudocode from wikipedia\n  floydWarshall: function floydWarshall(options) {\n    var cy = this.cy();\n    var _floydWarshallDefault = floydWarshallDefaults(options),\n      weight = _floydWarshallDefault.weight,\n      directed = _floydWarshallDefault.directed;\n    var weightFn = weight;\n    var _this$byGroup = this.byGroup(),\n      nodes = _this$byGroup.nodes,\n      edges = _this$byGroup.edges;\n    var N = nodes.length;\n    var Nsq = N * N;\n    var indexOf = function indexOf(node) {\n      return nodes.indexOf(node);\n    };\n    var atIndex = function atIndex(i) {\n      return nodes[i];\n    };\n\n    // Initialize distance matrix\n    var dist = new Array(Nsq);\n    for (var n = 0; n < Nsq; n++) {\n      var j = n % N;\n      var i = (n - j) / N;\n      if (i === j) {\n        dist[n] = 0;\n      } else {\n        dist[n] = Infinity;\n      }\n    }\n\n    // Initialize matrix used for path reconstruction\n    // Initialize distance matrix\n    var next = new Array(Nsq);\n    var edgeNext = new Array(Nsq);\n\n    // Process edges\n    for (var _i = 0; _i < edges.length; _i++) {\n      var edge = edges[_i];\n      var src = edge.source()[0];\n      var tgt = edge.target()[0];\n      if (src === tgt) {\n        continue;\n      } // exclude loops\n\n      var s = indexOf(src);\n      var t = indexOf(tgt);\n      var st = s * N + t; // source to target index\n      var _weight = weightFn(edge);\n\n      // Check if already process another edge between same 2 nodes\n      if (dist[st] > _weight) {\n        dist[st] = _weight;\n        next[st] = t;\n        edgeNext[st] = edge;\n      }\n\n      // If undirected graph, process 'reversed' edge\n      if (!directed) {\n        var ts = t * N + s; // target to source index\n\n        if (!directed && dist[ts] > _weight) {\n          dist[ts] = _weight;\n          next[ts] = s;\n          edgeNext[ts] = edge;\n        }\n      }\n    }\n\n    // Main loop\n    for (var k = 0; k < N; k++) {\n      for (var _i2 = 0; _i2 < N; _i2++) {\n        var ik = _i2 * N + k;\n        for (var _j = 0; _j < N; _j++) {\n          var ij = _i2 * N + _j;\n          var kj = k * N + _j;\n          if (dist[ik] + dist[kj] < dist[ij]) {\n            dist[ij] = dist[ik] + dist[kj];\n            next[ij] = next[ik];\n          }\n        }\n      }\n    }\n    var getArgEle = function getArgEle(ele) {\n      return (string(ele) ? cy.filter(ele) : ele)[0];\n    };\n    var indexOfArgEle = function indexOfArgEle(ele) {\n      return indexOf(getArgEle(ele));\n    };\n    var res = {\n      distance: function distance(from, to) {\n        var i = indexOfArgEle(from);\n        var j = indexOfArgEle(to);\n        return dist[i * N + j];\n      },\n      path: function path(from, to) {\n        var i = indexOfArgEle(from);\n        var j = indexOfArgEle(to);\n        var fromNode = atIndex(i);\n        if (i === j) {\n          return fromNode.collection();\n        }\n        if (next[i * N + j] == null) {\n          return cy.collection();\n        }\n        var path = cy.collection();\n        var prev = i;\n        var edge;\n        path.merge(fromNode);\n        while (i !== j) {\n          prev = i;\n          i = next[i * N + j];\n          edge = edgeNext[prev * N + i];\n          path.merge(edge);\n          path.merge(atIndex(i));\n        }\n        return path;\n      }\n    };\n    return res;\n  } // floydWarshall\n}; // elesfn\n\nvar bellmanFordDefaults = defaults$g({\n  weight: function weight(edge) {\n    return 1;\n  },\n  directed: false,\n  root: null\n});\nvar elesfn$q = {\n  // Implemented from pseudocode from wikipedia\n  bellmanFord: function bellmanFord(options) {\n    var _this = this;\n    var _bellmanFordDefaults = bellmanFordDefaults(options),\n      weight = _bellmanFordDefaults.weight,\n      directed = _bellmanFordDefaults.directed,\n      root = _bellmanFordDefaults.root;\n    var weightFn = weight;\n    var eles = this;\n    var cy = this.cy();\n    var _this$byGroup = this.byGroup(),\n      edges = _this$byGroup.edges,\n      nodes = _this$byGroup.nodes;\n    var numNodes = nodes.length;\n    var infoMap = new Map$2();\n    var hasNegativeWeightCycle = false;\n    var negativeWeightCycles = [];\n    root = cy.collection(root)[0]; // in case selector passed\n\n    edges.unmergeBy(function (edge) {\n      return edge.isLoop();\n    });\n    var numEdges = edges.length;\n    var getInfo = function getInfo(node) {\n      var obj = infoMap.get(node.id());\n      if (!obj) {\n        obj = {};\n        infoMap.set(node.id(), obj);\n      }\n      return obj;\n    };\n    var getNodeFromTo = function getNodeFromTo(to) {\n      return (string(to) ? cy.$(to) : to)[0];\n    };\n    var distanceTo = function distanceTo(to) {\n      return getInfo(getNodeFromTo(to)).dist;\n    };\n    var pathTo = function pathTo(to) {\n      var thisStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : root;\n      var end = getNodeFromTo(to);\n      var path = [];\n      var node = end;\n      for (;;) {\n        if (node == null) {\n          return _this.spawn();\n        }\n        var _getInfo = getInfo(node),\n          edge = _getInfo.edge,\n          pred = _getInfo.pred;\n        path.unshift(node[0]);\n        if (node.same(thisStart) && path.length > 0) {\n          break;\n        }\n        if (edge != null) {\n          path.unshift(edge);\n        }\n        node = pred;\n      }\n      return eles.spawn(path);\n    };\n\n    // Initializations { dist, pred, edge }\n    for (var i = 0; i < numNodes; i++) {\n      var node = nodes[i];\n      var info = getInfo(node);\n      if (node.same(root)) {\n        info.dist = 0;\n      } else {\n        info.dist = Infinity;\n      }\n      info.pred = null;\n      info.edge = null;\n    }\n\n    // Edges relaxation\n    var replacedEdge = false;\n    var checkForEdgeReplacement = function checkForEdgeReplacement(node1, node2, edge, info1, info2, weight) {\n      var dist = info1.dist + weight;\n      if (dist < info2.dist && !edge.same(info1.edge)) {\n        info2.dist = dist;\n        info2.pred = node1;\n        info2.edge = edge;\n        replacedEdge = true;\n      }\n    };\n    for (var _i = 1; _i < numNodes; _i++) {\n      replacedEdge = false;\n      for (var e = 0; e < numEdges; e++) {\n        var edge = edges[e];\n        var src = edge.source();\n        var tgt = edge.target();\n        var _weight = weightFn(edge);\n        var srcInfo = getInfo(src);\n        var tgtInfo = getInfo(tgt);\n        checkForEdgeReplacement(src, tgt, edge, srcInfo, tgtInfo, _weight);\n\n        // If undirected graph, we need to take into account the 'reverse' edge\n        if (!directed) {\n          checkForEdgeReplacement(tgt, src, edge, tgtInfo, srcInfo, _weight);\n        }\n      }\n      if (!replacedEdge) {\n        break;\n      }\n    }\n    if (replacedEdge) {\n      // Check for negative weight cycles\n      var negativeWeightCycleIds = [];\n      for (var _e = 0; _e < numEdges; _e++) {\n        var _edge = edges[_e];\n        var _src = _edge.source();\n        var _tgt = _edge.target();\n        var _weight2 = weightFn(_edge);\n        var srcDist = getInfo(_src).dist;\n        var tgtDist = getInfo(_tgt).dist;\n        if (srcDist + _weight2 < tgtDist || !directed && tgtDist + _weight2 < srcDist) {\n          if (!hasNegativeWeightCycle) {\n            warn('Graph contains a negative weight cycle for Bellman-Ford');\n            hasNegativeWeightCycle = true;\n          }\n          if (options.findNegativeWeightCycles !== false) {\n            var negativeNodes = [];\n            if (srcDist + _weight2 < tgtDist) {\n              negativeNodes.push(_src);\n            }\n            if (!directed && tgtDist + _weight2 < srcDist) {\n              negativeNodes.push(_tgt);\n            }\n            var numNegativeNodes = negativeNodes.length;\n            for (var n = 0; n < numNegativeNodes; n++) {\n              var start = negativeNodes[n];\n              var cycle = [start];\n              cycle.push(getInfo(start).edge);\n              var _node = getInfo(start).pred;\n              while (cycle.indexOf(_node) === -1) {\n                cycle.push(_node);\n                cycle.push(getInfo(_node).edge);\n                _node = getInfo(_node).pred;\n              }\n              cycle = cycle.slice(cycle.indexOf(_node));\n              var smallestId = cycle[0].id();\n              var smallestIndex = 0;\n              for (var c = 2; c < cycle.length; c += 2) {\n                if (cycle[c].id() < smallestId) {\n                  smallestId = cycle[c].id();\n                  smallestIndex = c;\n                }\n              }\n              cycle = cycle.slice(smallestIndex).concat(cycle.slice(0, smallestIndex));\n              cycle.push(cycle[0]);\n              var cycleId = cycle.map(function (el) {\n                return el.id();\n              }).join(\",\");\n              if (negativeWeightCycleIds.indexOf(cycleId) === -1) {\n                negativeWeightCycles.push(eles.spawn(cycle));\n                negativeWeightCycleIds.push(cycleId);\n              }\n            }\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    return {\n      distanceTo: distanceTo,\n      pathTo: pathTo,\n      hasNegativeWeightCycle: hasNegativeWeightCycle,\n      negativeWeightCycles: negativeWeightCycles\n    };\n  } // bellmanFord\n}; // elesfn\n\nvar sqrt2 = Math.sqrt(2);\n\n// Function which colapses 2 (meta) nodes into one\n// Updates the remaining edge lists\n// Receives as a paramater the edge which causes the collapse\nvar collapse = function collapse(edgeIndex, nodeMap, remainingEdges) {\n  if (remainingEdges.length === 0) {\n    error(\"Karger-Stein must be run on a connected (sub)graph\");\n  }\n  var edgeInfo = remainingEdges[edgeIndex];\n  var sourceIn = edgeInfo[1];\n  var targetIn = edgeInfo[2];\n  var partition1 = nodeMap[sourceIn];\n  var partition2 = nodeMap[targetIn];\n  var newEdges = remainingEdges; // re-use array\n\n  // Delete all edges between partition1 and partition2\n  for (var i = newEdges.length - 1; i >= 0; i--) {\n    var edge = newEdges[i];\n    var src = edge[1];\n    var tgt = edge[2];\n    if (nodeMap[src] === partition1 && nodeMap[tgt] === partition2 || nodeMap[src] === partition2 && nodeMap[tgt] === partition1) {\n      newEdges.splice(i, 1);\n    }\n  }\n\n  // All edges pointing to partition2 should now point to partition1\n  for (var _i = 0; _i < newEdges.length; _i++) {\n    var _edge = newEdges[_i];\n    if (_edge[1] === partition2) {\n      // Check source\n      newEdges[_i] = _edge.slice(); // copy\n      newEdges[_i][1] = partition1;\n    } else if (_edge[2] === partition2) {\n      // Check target\n      newEdges[_i] = _edge.slice(); // copy\n      newEdges[_i][2] = partition1;\n    }\n  }\n\n  // Move all nodes from partition2 to partition1\n  for (var _i2 = 0; _i2 < nodeMap.length; _i2++) {\n    if (nodeMap[_i2] === partition2) {\n      nodeMap[_i2] = partition1;\n    }\n  }\n  return newEdges;\n};\n\n// Contracts a graph until we reach a certain number of meta nodes\nvar contractUntil = function contractUntil(metaNodeMap, remainingEdges, size, sizeLimit) {\n  while (size > sizeLimit) {\n    // Choose an edge randomly\n    var edgeIndex = Math.floor(Math.random() * remainingEdges.length);\n\n    // Collapse graph based on edge\n    remainingEdges = collapse(edgeIndex, metaNodeMap, remainingEdges);\n    size--;\n  }\n  return remainingEdges;\n};\nvar elesfn$p = {\n  // Computes the minimum cut of an undirected graph\n  // Returns the correct answer with high probability\n  kargerStein: function kargerStein() {\n    var _this = this;\n    var _this$byGroup = this.byGroup(),\n      nodes = _this$byGroup.nodes,\n      edges = _this$byGroup.edges;\n    edges.unmergeBy(function (edge) {\n      return edge.isLoop();\n    });\n    var numNodes = nodes.length;\n    var numEdges = edges.length;\n    var numIter = Math.ceil(Math.pow(Math.log(numNodes) / Math.LN2, 2));\n    var stopSize = Math.floor(numNodes / sqrt2);\n    if (numNodes < 2) {\n      error('At least 2 nodes are required for Karger-Stein algorithm');\n      return undefined;\n    }\n\n    // Now store edge destination as indexes\n    // Format for each edge (edge index, source node index, target node index)\n    var edgeIndexes = [];\n    for (var i = 0; i < numEdges; i++) {\n      var e = edges[i];\n      edgeIndexes.push([i, nodes.indexOf(e.source()), nodes.indexOf(e.target())]);\n    }\n\n    // We will store the best cut found here\n    var minCutSize = Infinity;\n    var minCutEdgeIndexes = [];\n    var minCutNodeMap = new Array(numNodes);\n\n    // Initial meta node partition\n    var metaNodeMap = new Array(numNodes);\n    var metaNodeMap2 = new Array(numNodes);\n    var copyNodesMap = function copyNodesMap(from, to) {\n      for (var _i3 = 0; _i3 < numNodes; _i3++) {\n        to[_i3] = from[_i3];\n      }\n    };\n\n    // Main loop\n    for (var iter = 0; iter <= numIter; iter++) {\n      // Reset meta node partition\n      for (var _i4 = 0; _i4 < numNodes; _i4++) {\n        metaNodeMap[_i4] = _i4;\n      }\n\n      // Contract until stop point (stopSize nodes)\n      var edgesState = contractUntil(metaNodeMap, edgeIndexes.slice(), numNodes, stopSize);\n      var edgesState2 = edgesState.slice(); // copy\n\n      // Create a copy of the colapsed nodes state\n      copyNodesMap(metaNodeMap, metaNodeMap2);\n\n      // Run 2 iterations starting in the stop state\n      var res1 = contractUntil(metaNodeMap, edgesState, stopSize, 2);\n      var res2 = contractUntil(metaNodeMap2, edgesState2, stopSize, 2);\n\n      // Is any of the 2 results the best cut so far?\n      if (res1.length <= res2.length && res1.length < minCutSize) {\n        minCutSize = res1.length;\n        minCutEdgeIndexes = res1;\n        copyNodesMap(metaNodeMap, minCutNodeMap);\n      } else if (res2.length <= res1.length && res2.length < minCutSize) {\n        minCutSize = res2.length;\n        minCutEdgeIndexes = res2;\n        copyNodesMap(metaNodeMap2, minCutNodeMap);\n      }\n    } // end of main loop\n\n    // Construct result\n    var cut = this.spawn(minCutEdgeIndexes.map(function (e) {\n      return edges[e[0]];\n    }));\n    var partition1 = this.spawn();\n    var partition2 = this.spawn();\n\n    // traverse metaNodeMap for best cut\n    var witnessNodePartition = minCutNodeMap[0];\n    for (var _i5 = 0; _i5 < minCutNodeMap.length; _i5++) {\n      var partitionId = minCutNodeMap[_i5];\n      var node = nodes[_i5];\n      if (partitionId === witnessNodePartition) {\n        partition1.merge(node);\n      } else {\n        partition2.merge(node);\n      }\n    }\n\n    // construct components corresponding to each disjoint subset of nodes\n    var constructComponent = function constructComponent(subset) {\n      var component = _this.spawn();\n      subset.forEach(function (node) {\n        component.merge(node);\n        node.connectedEdges().forEach(function (edge) {\n          // ensure edge is within calling collection and edge is not in cut\n          if (_this.contains(edge) && !cut.contains(edge)) {\n            component.merge(edge);\n          }\n        });\n      });\n      return component;\n    };\n    var components = [constructComponent(partition1), constructComponent(partition2)];\n    var ret = {\n      cut: cut,\n      components: components,\n      // n.b. partitions are included to be compatible with the old api spec\n      // (could be removed in a future major version)\n      partition1: partition1,\n      partition2: partition2\n    };\n    return ret;\n  }\n}; // elesfn\n\nvar copyPosition = function copyPosition(p) {\n  return {\n    x: p.x,\n    y: p.y\n  };\n};\nvar modelToRenderedPosition = function modelToRenderedPosition(p, zoom, pan) {\n  return {\n    x: p.x * zoom + pan.x,\n    y: p.y * zoom + pan.y\n  };\n};\nvar renderedToModelPosition = function renderedToModelPosition(p, zoom, pan) {\n  return {\n    x: (p.x - pan.x) / zoom,\n    y: (p.y - pan.y) / zoom\n  };\n};\nvar array2point = function array2point(arr) {\n  return {\n    x: arr[0],\n    y: arr[1]\n  };\n};\nvar min = function min(arr) {\n  var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n  var min = Infinity;\n  for (var i = begin; i < end; i++) {\n    var val = arr[i];\n    if (isFinite(val)) {\n      min = Math.min(val, min);\n    }\n  }\n  return min;\n};\nvar max = function max(arr) {\n  var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n  var max = -Infinity;\n  for (var i = begin; i < end; i++) {\n    var val = arr[i];\n    if (isFinite(val)) {\n      max = Math.max(val, max);\n    }\n  }\n  return max;\n};\nvar mean = function mean(arr) {\n  var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n  var total = 0;\n  var n = 0;\n  for (var i = begin; i < end; i++) {\n    var val = arr[i];\n    if (isFinite(val)) {\n      total += val;\n      n++;\n    }\n  }\n  return total / n;\n};\nvar median = function median(arr) {\n  var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n  var copy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var sort = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var includeHoles = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  if (copy) {\n    arr = arr.slice(begin, end);\n  } else {\n    if (end < arr.length) {\n      arr.splice(end, arr.length - end);\n    }\n    if (begin > 0) {\n      arr.splice(0, begin);\n    }\n  }\n\n  // all non finite (e.g. Infinity, NaN) elements must be -Infinity so they go to the start\n  var off = 0; // offset from non-finite values\n  for (var i = arr.length - 1; i >= 0; i--) {\n    var v = arr[i];\n    if (includeHoles) {\n      if (!isFinite(v)) {\n        arr[i] = -Infinity;\n        off++;\n      }\n    } else {\n      // just remove it if we don't want to consider holes\n      arr.splice(i, 1);\n    }\n  }\n  if (sort) {\n    arr.sort(function (a, b) {\n      return a - b;\n    }); // requires copy = true if you don't want to change the orig\n  }\n\n  var len = arr.length;\n  var mid = Math.floor(len / 2);\n  if (len % 2 !== 0) {\n    return arr[mid + 1 + off];\n  } else {\n    return (arr[mid - 1 + off] + arr[mid + off]) / 2;\n  }\n};\nvar deg2rad = function deg2rad(deg) {\n  return Math.PI * deg / 180;\n};\nvar getAngleFromDisp = function getAngleFromDisp(dispX, dispY) {\n  return Math.atan2(dispY, dispX) - Math.PI / 2;\n};\nvar log2 = Math.log2 || function (n) {\n  return Math.log(n) / Math.log(2);\n};\nvar signum = function signum(x) {\n  if (x > 0) {\n    return 1;\n  } else if (x < 0) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\nvar dist = function dist(p1, p2) {\n  return Math.sqrt(sqdist(p1, p2));\n};\nvar sqdist = function sqdist(p1, p2) {\n  var dx = p2.x - p1.x;\n  var dy = p2.y - p1.y;\n  return dx * dx + dy * dy;\n};\nvar inPlaceSumNormalize = function inPlaceSumNormalize(v) {\n  var length = v.length;\n\n  // First, get sum of all elements\n  var total = 0;\n  for (var i = 0; i < length; i++) {\n    total += v[i];\n  }\n\n  // Now, divide each by the sum of all elements\n  for (var _i = 0; _i < length; _i++) {\n    v[_i] = v[_i] / total;\n  }\n  return v;\n};\n\n// from http://en.wikipedia.org/wiki/Bézier_curve#Quadratic_curves\nvar qbezierAt = function qbezierAt(p0, p1, p2, t) {\n  return (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + t * t * p2;\n};\nvar qbezierPtAt = function qbezierPtAt(p0, p1, p2, t) {\n  return {\n    x: qbezierAt(p0.x, p1.x, p2.x, t),\n    y: qbezierAt(p0.y, p1.y, p2.y, t)\n  };\n};\nvar lineAt = function lineAt(p0, p1, t, d) {\n  var vec = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var vecDist = dist(p0, p1);\n  var normVec = {\n    x: vec.x / vecDist,\n    y: vec.y / vecDist\n  };\n  t = t == null ? 0 : t;\n  d = d != null ? d : t * vecDist;\n  return {\n    x: p0.x + normVec.x * d,\n    y: p0.y + normVec.y * d\n  };\n};\nvar bound = function bound(min, val, max) {\n  return Math.max(min, Math.min(max, val));\n};\n\n// makes a full bb (x1, y1, x2, y2, w, h) from implicit params\nvar makeBoundingBox = function makeBoundingBox(bb) {\n  if (bb == null) {\n    return {\n      x1: Infinity,\n      y1: Infinity,\n      x2: -Infinity,\n      y2: -Infinity,\n      w: 0,\n      h: 0\n    };\n  } else if (bb.x1 != null && bb.y1 != null) {\n    if (bb.x2 != null && bb.y2 != null && bb.x2 >= bb.x1 && bb.y2 >= bb.y1) {\n      return {\n        x1: bb.x1,\n        y1: bb.y1,\n        x2: bb.x2,\n        y2: bb.y2,\n        w: bb.x2 - bb.x1,\n        h: bb.y2 - bb.y1\n      };\n    } else if (bb.w != null && bb.h != null && bb.w >= 0 && bb.h >= 0) {\n      return {\n        x1: bb.x1,\n        y1: bb.y1,\n        x2: bb.x1 + bb.w,\n        y2: bb.y1 + bb.h,\n        w: bb.w,\n        h: bb.h\n      };\n    }\n  }\n};\nvar copyBoundingBox = function copyBoundingBox(bb) {\n  return {\n    x1: bb.x1,\n    x2: bb.x2,\n    w: bb.w,\n    y1: bb.y1,\n    y2: bb.y2,\n    h: bb.h\n  };\n};\nvar clearBoundingBox = function clearBoundingBox(bb) {\n  bb.x1 = Infinity;\n  bb.y1 = Infinity;\n  bb.x2 = -Infinity;\n  bb.y2 = -Infinity;\n  bb.w = 0;\n  bb.h = 0;\n};\nvar shiftBoundingBox = function shiftBoundingBox(bb, dx, dy) {\n  return {\n    x1: bb.x1 + dx,\n    x2: bb.x2 + dx,\n    y1: bb.y1 + dy,\n    y2: bb.y2 + dy,\n    w: bb.w,\n    h: bb.h\n  };\n};\nvar updateBoundingBox = function updateBoundingBox(bb1, bb2) {\n  // update bb1 with bb2 bounds\n\n  bb1.x1 = Math.min(bb1.x1, bb2.x1);\n  bb1.x2 = Math.max(bb1.x2, bb2.x2);\n  bb1.w = bb1.x2 - bb1.x1;\n  bb1.y1 = Math.min(bb1.y1, bb2.y1);\n  bb1.y2 = Math.max(bb1.y2, bb2.y2);\n  bb1.h = bb1.y2 - bb1.y1;\n};\nvar expandBoundingBoxByPoint = function expandBoundingBoxByPoint(bb, x, y) {\n  bb.x1 = Math.min(bb.x1, x);\n  bb.x2 = Math.max(bb.x2, x);\n  bb.w = bb.x2 - bb.x1;\n  bb.y1 = Math.min(bb.y1, y);\n  bb.y2 = Math.max(bb.y2, y);\n  bb.h = bb.y2 - bb.y1;\n};\nvar expandBoundingBox = function expandBoundingBox(bb) {\n  var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  bb.x1 -= padding;\n  bb.x2 += padding;\n  bb.y1 -= padding;\n  bb.y2 += padding;\n  bb.w = bb.x2 - bb.x1;\n  bb.h = bb.y2 - bb.y1;\n  return bb;\n};\nvar expandBoundingBoxSides = function expandBoundingBoxSides(bb) {\n  var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0];\n  var top, right, bottom, left;\n  if (padding.length === 1) {\n    top = right = bottom = left = padding[0];\n  } else if (padding.length === 2) {\n    top = bottom = padding[0];\n    left = right = padding[1];\n  } else if (padding.length === 4) {\n    var _padding = _slicedToArray(padding, 4);\n    top = _padding[0];\n    right = _padding[1];\n    bottom = _padding[2];\n    left = _padding[3];\n  }\n  bb.x1 -= left;\n  bb.x2 += right;\n  bb.y1 -= top;\n  bb.y2 += bottom;\n  bb.w = bb.x2 - bb.x1;\n  bb.h = bb.y2 - bb.y1;\n  return bb;\n};\n\n// assign the values of bb2 into bb1\nvar assignBoundingBox = function assignBoundingBox(bb1, bb2) {\n  bb1.x1 = bb2.x1;\n  bb1.y1 = bb2.y1;\n  bb1.x2 = bb2.x2;\n  bb1.y2 = bb2.y2;\n  bb1.w = bb1.x2 - bb1.x1;\n  bb1.h = bb1.y2 - bb1.y1;\n};\nvar boundingBoxesIntersect = function boundingBoxesIntersect(bb1, bb2) {\n  // case: one bb to right of other\n  if (bb1.x1 > bb2.x2) {\n    return false;\n  }\n  if (bb2.x1 > bb1.x2) {\n    return false;\n  }\n\n  // case: one bb to left of other\n  if (bb1.x2 < bb2.x1) {\n    return false;\n  }\n  if (bb2.x2 < bb1.x1) {\n    return false;\n  }\n\n  // case: one bb above other\n  if (bb1.y2 < bb2.y1) {\n    return false;\n  }\n  if (bb2.y2 < bb1.y1) {\n    return false;\n  }\n\n  // case: one bb below other\n  if (bb1.y1 > bb2.y2) {\n    return false;\n  }\n  if (bb2.y1 > bb1.y2) {\n    return false;\n  }\n\n  // otherwise, must have some overlap\n  return true;\n};\nvar inBoundingBox = function inBoundingBox(bb, x, y) {\n  return bb.x1 <= x && x <= bb.x2 && bb.y1 <= y && y <= bb.y2;\n};\nvar pointInBoundingBox = function pointInBoundingBox(bb, pt) {\n  return inBoundingBox(bb, pt.x, pt.y);\n};\nvar boundingBoxInBoundingBox = function boundingBoxInBoundingBox(bb1, bb2) {\n  return inBoundingBox(bb1, bb2.x1, bb2.y1) && inBoundingBox(bb1, bb2.x2, bb2.y2);\n};\nvar roundRectangleIntersectLine = function roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding) {\n  var radius = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 'auto';\n  var cornerRadius = radius === 'auto' ? getRoundRectangleRadius(width, height) : radius;\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  cornerRadius = Math.min(cornerRadius, halfWidth, halfHeight);\n  var doWidth = cornerRadius !== halfWidth,\n    doHeight = cornerRadius !== halfHeight;\n\n  // Check intersections with straight line segments\n  var straightLineIntersections;\n\n  // Top segment, left to right\n  if (doWidth) {\n    var topStartX = nodeX - halfWidth + cornerRadius - padding;\n    var topStartY = nodeY - halfHeight - padding;\n    var topEndX = nodeX + halfWidth - cornerRadius + padding;\n    var topEndY = topStartY;\n    straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, topStartX, topStartY, topEndX, topEndY, false);\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  }\n\n  // Right segment, top to bottom\n  if (doHeight) {\n    var rightStartX = nodeX + halfWidth + padding;\n    var rightStartY = nodeY - halfHeight + cornerRadius - padding;\n    var rightEndX = rightStartX;\n    var rightEndY = nodeY + halfHeight - cornerRadius + padding;\n    straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, rightStartX, rightStartY, rightEndX, rightEndY, false);\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  }\n\n  // Bottom segment, left to right\n  if (doWidth) {\n    var bottomStartX = nodeX - halfWidth + cornerRadius - padding;\n    var bottomStartY = nodeY + halfHeight + padding;\n    var bottomEndX = nodeX + halfWidth - cornerRadius + padding;\n    var bottomEndY = bottomStartY;\n    straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, bottomStartX, bottomStartY, bottomEndX, bottomEndY, false);\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  }\n\n  // Left segment, top to bottom\n  if (doHeight) {\n    var leftStartX = nodeX - halfWidth - padding;\n    var leftStartY = nodeY - halfHeight + cornerRadius - padding;\n    var leftEndX = leftStartX;\n    var leftEndY = nodeY + halfHeight - cornerRadius + padding;\n    straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, leftStartX, leftStartY, leftEndX, leftEndY, false);\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  }\n\n  // Check intersections with arc segments\n  var arcIntersections;\n\n  // Top Left\n  {\n    var topLeftCenterX = nodeX - halfWidth + cornerRadius;\n    var topLeftCenterY = nodeY - halfHeight + cornerRadius;\n    arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, topLeftCenterX, topLeftCenterY, cornerRadius + padding);\n\n    // Ensure the intersection is on the desired quarter of the circle\n    if (arcIntersections.length > 0 && arcIntersections[0] <= topLeftCenterX && arcIntersections[1] <= topLeftCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n\n  // Top Right\n  {\n    var topRightCenterX = nodeX + halfWidth - cornerRadius;\n    var topRightCenterY = nodeY - halfHeight + cornerRadius;\n    arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, topRightCenterX, topRightCenterY, cornerRadius + padding);\n\n    // Ensure the intersection is on the desired quarter of the circle\n    if (arcIntersections.length > 0 && arcIntersections[0] >= topRightCenterX && arcIntersections[1] <= topRightCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n\n  // Bottom Right\n  {\n    var bottomRightCenterX = nodeX + halfWidth - cornerRadius;\n    var bottomRightCenterY = nodeY + halfHeight - cornerRadius;\n    arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, bottomRightCenterX, bottomRightCenterY, cornerRadius + padding);\n\n    // Ensure the intersection is on the desired quarter of the circle\n    if (arcIntersections.length > 0 && arcIntersections[0] >= bottomRightCenterX && arcIntersections[1] >= bottomRightCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n\n  // Bottom Left\n  {\n    var bottomLeftCenterX = nodeX - halfWidth + cornerRadius;\n    var bottomLeftCenterY = nodeY + halfHeight - cornerRadius;\n    arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, bottomLeftCenterX, bottomLeftCenterY, cornerRadius + padding);\n\n    // Ensure the intersection is on the desired quarter of the circle\n    if (arcIntersections.length > 0 && arcIntersections[0] <= bottomLeftCenterX && arcIntersections[1] >= bottomLeftCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n  return []; // if nothing\n};\n\nvar inLineVicinity = function inLineVicinity(x, y, lx1, ly1, lx2, ly2, tolerance) {\n  var t = tolerance;\n  var x1 = Math.min(lx1, lx2);\n  var x2 = Math.max(lx1, lx2);\n  var y1 = Math.min(ly1, ly2);\n  var y2 = Math.max(ly1, ly2);\n  return x1 - t <= x && x <= x2 + t && y1 - t <= y && y <= y2 + t;\n};\nvar inBezierVicinity = function inBezierVicinity(x, y, x1, y1, x2, y2, x3, y3, tolerance) {\n  var bb = {\n    x1: Math.min(x1, x3, x2) - tolerance,\n    x2: Math.max(x1, x3, x2) + tolerance,\n    y1: Math.min(y1, y3, y2) - tolerance,\n    y2: Math.max(y1, y3, y2) + tolerance\n  };\n\n  // if outside the rough bounding box for the bezier, then it can't be a hit\n  if (x < bb.x1 || x > bb.x2 || y < bb.y1 || y > bb.y2) {\n    // console.log('bezier out of rough bb')\n    return false;\n  } else {\n    // console.log('do more expensive check');\n    return true;\n  }\n};\nvar solveQuadratic = function solveQuadratic(a, b, c, val) {\n  c -= val;\n  var r = b * b - 4 * a * c;\n  if (r < 0) {\n    return [];\n  }\n  var sqrtR = Math.sqrt(r);\n  var denom = 2 * a;\n  var root1 = (-b + sqrtR) / denom;\n  var root2 = (-b - sqrtR) / denom;\n  return [root1, root2];\n};\nvar solveCubic = function solveCubic(a, b, c, d, result) {\n  // Solves a cubic function, returns root in form [r1, i1, r2, i2, r3, i3], where\n  // r is the real component, i is the imaginary component\n\n  // An implementation of the Cardano method from the year 1545\n  // http://en.wikipedia.org/wiki/Cubic_function#The_nature_of_the_roots\n\n  var epsilon = 0.00001;\n\n  // avoid division by zero while keeping the overall expression close in value\n  if (a === 0) {\n    a = epsilon;\n  }\n  b /= a;\n  c /= a;\n  d /= a;\n  var discriminant, q, r, dum1, s, t, term1, r13;\n  q = (3.0 * c - b * b) / 9.0;\n  r = -(27.0 * d) + b * (9.0 * c - 2.0 * (b * b));\n  r /= 54.0;\n  discriminant = q * q * q + r * r;\n  result[1] = 0;\n  term1 = b / 3.0;\n  if (discriminant > 0) {\n    s = r + Math.sqrt(discriminant);\n    s = s < 0 ? -Math.pow(-s, 1.0 / 3.0) : Math.pow(s, 1.0 / 3.0);\n    t = r - Math.sqrt(discriminant);\n    t = t < 0 ? -Math.pow(-t, 1.0 / 3.0) : Math.pow(t, 1.0 / 3.0);\n    result[0] = -term1 + s + t;\n    term1 += (s + t) / 2.0;\n    result[4] = result[2] = -term1;\n    term1 = Math.sqrt(3.0) * (-t + s) / 2;\n    result[3] = term1;\n    result[5] = -term1;\n    return;\n  }\n  result[5] = result[3] = 0;\n  if (discriminant === 0) {\n    r13 = r < 0 ? -Math.pow(-r, 1.0 / 3.0) : Math.pow(r, 1.0 / 3.0);\n    result[0] = -term1 + 2.0 * r13;\n    result[4] = result[2] = -(r13 + term1);\n    return;\n  }\n  q = -q;\n  dum1 = q * q * q;\n  dum1 = Math.acos(r / Math.sqrt(dum1));\n  r13 = 2.0 * Math.sqrt(q);\n  result[0] = -term1 + r13 * Math.cos(dum1 / 3.0);\n  result[2] = -term1 + r13 * Math.cos((dum1 + 2.0 * Math.PI) / 3.0);\n  result[4] = -term1 + r13 * Math.cos((dum1 + 4.0 * Math.PI) / 3.0);\n  return;\n};\nvar sqdistToQuadraticBezier = function sqdistToQuadraticBezier(x, y, x1, y1, x2, y2, x3, y3) {\n  // Find minimum distance by using the minimum of the distance\n  // function between the given point and the curve\n\n  // This gives the coefficients of the resulting cubic equation\n  // whose roots tell us where a possible minimum is\n  // (Coefficients are divided by 4)\n\n  var a = 1.0 * x1 * x1 - 4 * x1 * x2 + 2 * x1 * x3 + 4 * x2 * x2 - 4 * x2 * x3 + x3 * x3 + y1 * y1 - 4 * y1 * y2 + 2 * y1 * y3 + 4 * y2 * y2 - 4 * y2 * y3 + y3 * y3;\n  var b = 1.0 * 9 * x1 * x2 - 3 * x1 * x1 - 3 * x1 * x3 - 6 * x2 * x2 + 3 * x2 * x3 + 9 * y1 * y2 - 3 * y1 * y1 - 3 * y1 * y3 - 6 * y2 * y2 + 3 * y2 * y3;\n  var c = 1.0 * 3 * x1 * x1 - 6 * x1 * x2 + x1 * x3 - x1 * x + 2 * x2 * x2 + 2 * x2 * x - x3 * x + 3 * y1 * y1 - 6 * y1 * y2 + y1 * y3 - y1 * y + 2 * y2 * y2 + 2 * y2 * y - y3 * y;\n  var d = 1.0 * x1 * x2 - x1 * x1 + x1 * x - x2 * x + y1 * y2 - y1 * y1 + y1 * y - y2 * y;\n\n  // debug(\"coefficients: \" + a / a + \", \" + b / a + \", \" + c / a + \", \" + d / a);\n\n  var roots = [];\n\n  // Use the cubic solving algorithm\n  solveCubic(a, b, c, d, roots);\n  var zeroThreshold = 0.0000001;\n  var params = [];\n  for (var index = 0; index < 6; index += 2) {\n    if (Math.abs(roots[index + 1]) < zeroThreshold && roots[index] >= 0 && roots[index] <= 1.0) {\n      params.push(roots[index]);\n    }\n  }\n  params.push(1.0);\n  params.push(0.0);\n  var minDistanceSquared = -1;\n  var curX, curY, distSquared;\n  for (var i = 0; i < params.length; i++) {\n    curX = Math.pow(1.0 - params[i], 2.0) * x1 + 2.0 * (1 - params[i]) * params[i] * x2 + params[i] * params[i] * x3;\n    curY = Math.pow(1 - params[i], 2.0) * y1 + 2 * (1.0 - params[i]) * params[i] * y2 + params[i] * params[i] * y3;\n    distSquared = Math.pow(curX - x, 2) + Math.pow(curY - y, 2);\n    // debug('distance for param ' + params[i] + \": \" + Math.sqrt(distSquared));\n    if (minDistanceSquared >= 0) {\n      if (distSquared < minDistanceSquared) {\n        minDistanceSquared = distSquared;\n      }\n    } else {\n      minDistanceSquared = distSquared;\n    }\n  }\n  return minDistanceSquared;\n};\nvar sqdistToFiniteLine = function sqdistToFiniteLine(x, y, x1, y1, x2, y2) {\n  var offset = [x - x1, y - y1];\n  var line = [x2 - x1, y2 - y1];\n  var lineSq = line[0] * line[0] + line[1] * line[1];\n  var hypSq = offset[0] * offset[0] + offset[1] * offset[1];\n  var dotProduct = offset[0] * line[0] + offset[1] * line[1];\n  var adjSq = dotProduct * dotProduct / lineSq;\n  if (dotProduct < 0) {\n    return hypSq;\n  }\n  if (adjSq > lineSq) {\n    return (x - x2) * (x - x2) + (y - y2) * (y - y2);\n  }\n  return hypSq - adjSq;\n};\nvar pointInsidePolygonPoints = function pointInsidePolygonPoints(x, y, points) {\n  var x1, y1, x2, y2;\n  var y3;\n\n  // Intersect with vertical line through (x, y)\n  var up = 0;\n  // let down = 0;\n  for (var i = 0; i < points.length / 2; i++) {\n    x1 = points[i * 2];\n    y1 = points[i * 2 + 1];\n    if (i + 1 < points.length / 2) {\n      x2 = points[(i + 1) * 2];\n      y2 = points[(i + 1) * 2 + 1];\n    } else {\n      x2 = points[(i + 1 - points.length / 2) * 2];\n      y2 = points[(i + 1 - points.length / 2) * 2 + 1];\n    }\n    if (x1 == x && x2 == x) ; else if (x1 >= x && x >= x2 || x1 <= x && x <= x2) {\n      y3 = (x - x1) / (x2 - x1) * (y2 - y1) + y1;\n      if (y3 > y) {\n        up++;\n      }\n\n      // if( y3 < y ){\n      // down++;\n      // }\n    } else {\n      continue;\n    }\n  }\n  if (up % 2 === 0) {\n    return false;\n  } else {\n    return true;\n  }\n};\nvar pointInsidePolygon = function pointInsidePolygon(x, y, basePoints, centerX, centerY, width, height, direction, padding) {\n  var transformedPoints = new Array(basePoints.length);\n\n  // Gives negative angle\n  var angle;\n  if (direction[0] != null) {\n    angle = Math.atan(direction[1] / direction[0]);\n    if (direction[0] < 0) {\n      angle = angle + Math.PI / 2;\n    } else {\n      angle = -angle - Math.PI / 2;\n    }\n  } else {\n    angle = direction;\n  }\n  var cos = Math.cos(-angle);\n  var sin = Math.sin(-angle);\n\n  //    console.log(\"base: \" + basePoints);\n  for (var i = 0; i < transformedPoints.length / 2; i++) {\n    transformedPoints[i * 2] = width / 2 * (basePoints[i * 2] * cos - basePoints[i * 2 + 1] * sin);\n    transformedPoints[i * 2 + 1] = height / 2 * (basePoints[i * 2 + 1] * cos + basePoints[i * 2] * sin);\n    transformedPoints[i * 2] += centerX;\n    transformedPoints[i * 2 + 1] += centerY;\n  }\n  var points;\n  if (padding > 0) {\n    var expandedLineSet = expandPolygon(transformedPoints, -padding);\n    points = joinLines(expandedLineSet);\n  } else {\n    points = transformedPoints;\n  }\n  return pointInsidePolygonPoints(x, y, points);\n};\nvar pointInsideRoundPolygon = function pointInsideRoundPolygon(x, y, basePoints, centerX, centerY, width, height, corners) {\n  var cutPolygonPoints = new Array(basePoints.length * 2);\n  for (var i = 0; i < corners.length; i++) {\n    var corner = corners[i];\n    cutPolygonPoints[i * 4 + 0] = corner.startX;\n    cutPolygonPoints[i * 4 + 1] = corner.startY;\n    cutPolygonPoints[i * 4 + 2] = corner.stopX;\n    cutPolygonPoints[i * 4 + 3] = corner.stopY;\n    var squaredDistance = Math.pow(corner.cx - x, 2) + Math.pow(corner.cy - y, 2);\n    if (squaredDistance <= Math.pow(corner.radius, 2)) {\n      return true;\n    }\n  }\n  return pointInsidePolygonPoints(x, y, cutPolygonPoints);\n};\nvar joinLines = function joinLines(lineSet) {\n  var vertices = new Array(lineSet.length / 2);\n  var currentLineStartX, currentLineStartY, currentLineEndX, currentLineEndY;\n  var nextLineStartX, nextLineStartY, nextLineEndX, nextLineEndY;\n  for (var i = 0; i < lineSet.length / 4; i++) {\n    currentLineStartX = lineSet[i * 4];\n    currentLineStartY = lineSet[i * 4 + 1];\n    currentLineEndX = lineSet[i * 4 + 2];\n    currentLineEndY = lineSet[i * 4 + 3];\n    if (i < lineSet.length / 4 - 1) {\n      nextLineStartX = lineSet[(i + 1) * 4];\n      nextLineStartY = lineSet[(i + 1) * 4 + 1];\n      nextLineEndX = lineSet[(i + 1) * 4 + 2];\n      nextLineEndY = lineSet[(i + 1) * 4 + 3];\n    } else {\n      nextLineStartX = lineSet[0];\n      nextLineStartY = lineSet[1];\n      nextLineEndX = lineSet[2];\n      nextLineEndY = lineSet[3];\n    }\n    var intersection = finiteLinesIntersect(currentLineStartX, currentLineStartY, currentLineEndX, currentLineEndY, nextLineStartX, nextLineStartY, nextLineEndX, nextLineEndY, true);\n    vertices[i * 2] = intersection[0];\n    vertices[i * 2 + 1] = intersection[1];\n  }\n  return vertices;\n};\nvar expandPolygon = function expandPolygon(points, pad) {\n  var expandedLineSet = new Array(points.length * 2);\n  var currentPointX, currentPointY, nextPointX, nextPointY;\n  for (var i = 0; i < points.length / 2; i++) {\n    currentPointX = points[i * 2];\n    currentPointY = points[i * 2 + 1];\n    if (i < points.length / 2 - 1) {\n      nextPointX = points[(i + 1) * 2];\n      nextPointY = points[(i + 1) * 2 + 1];\n    } else {\n      nextPointX = points[0];\n      nextPointY = points[1];\n    }\n\n    // Current line: [currentPointX, currentPointY] to [nextPointX, nextPointY]\n\n    // Assume CCW polygon winding\n\n    var offsetX = nextPointY - currentPointY;\n    var offsetY = -(nextPointX - currentPointX);\n\n    // Normalize\n    var offsetLength = Math.sqrt(offsetX * offsetX + offsetY * offsetY);\n    var normalizedOffsetX = offsetX / offsetLength;\n    var normalizedOffsetY = offsetY / offsetLength;\n    expandedLineSet[i * 4] = currentPointX + normalizedOffsetX * pad;\n    expandedLineSet[i * 4 + 1] = currentPointY + normalizedOffsetY * pad;\n    expandedLineSet[i * 4 + 2] = nextPointX + normalizedOffsetX * pad;\n    expandedLineSet[i * 4 + 3] = nextPointY + normalizedOffsetY * pad;\n  }\n  return expandedLineSet;\n};\nvar intersectLineEllipse = function intersectLineEllipse(x, y, centerX, centerY, ellipseWradius, ellipseHradius) {\n  var dispX = centerX - x;\n  var dispY = centerY - y;\n  dispX /= ellipseWradius;\n  dispY /= ellipseHradius;\n  var len = Math.sqrt(dispX * dispX + dispY * dispY);\n  var newLength = len - 1;\n  if (newLength < 0) {\n    return [];\n  }\n  var lenProportion = newLength / len;\n  return [(centerX - x) * lenProportion + x, (centerY - y) * lenProportion + y];\n};\nvar checkInEllipse = function checkInEllipse(x, y, width, height, centerX, centerY, padding) {\n  x -= centerX;\n  y -= centerY;\n  x /= width / 2 + padding;\n  y /= height / 2 + padding;\n  return x * x + y * y <= 1;\n};\n\n// Returns intersections of increasing distance from line's start point\nvar intersectLineCircle = function intersectLineCircle(x1, y1, x2, y2, centerX, centerY, radius) {\n  // Calculate d, direction vector of line\n  var d = [x2 - x1, y2 - y1]; // Direction vector of line\n  var f = [x1 - centerX, y1 - centerY];\n  var a = d[0] * d[0] + d[1] * d[1];\n  var b = 2 * (f[0] * d[0] + f[1] * d[1]);\n  var c = f[0] * f[0] + f[1] * f[1] - radius * radius;\n  var discriminant = b * b - 4 * a * c;\n  if (discriminant < 0) {\n    return [];\n  }\n  var t1 = (-b + Math.sqrt(discriminant)) / (2 * a);\n  var t2 = (-b - Math.sqrt(discriminant)) / (2 * a);\n  var tMin = Math.min(t1, t2);\n  var tMax = Math.max(t1, t2);\n  var inRangeParams = [];\n  if (tMin >= 0 && tMin <= 1) {\n    inRangeParams.push(tMin);\n  }\n  if (tMax >= 0 && tMax <= 1) {\n    inRangeParams.push(tMax);\n  }\n  if (inRangeParams.length === 0) {\n    return [];\n  }\n  var nearIntersectionX = inRangeParams[0] * d[0] + x1;\n  var nearIntersectionY = inRangeParams[0] * d[1] + y1;\n  if (inRangeParams.length > 1) {\n    if (inRangeParams[0] == inRangeParams[1]) {\n      return [nearIntersectionX, nearIntersectionY];\n    } else {\n      var farIntersectionX = inRangeParams[1] * d[0] + x1;\n      var farIntersectionY = inRangeParams[1] * d[1] + y1;\n      return [nearIntersectionX, nearIntersectionY, farIntersectionX, farIntersectionY];\n    }\n  } else {\n    return [nearIntersectionX, nearIntersectionY];\n  }\n};\nvar midOfThree = function midOfThree(a, b, c) {\n  if (b <= a && a <= c || c <= a && a <= b) {\n    return a;\n  } else if (a <= b && b <= c || c <= b && b <= a) {\n    return b;\n  } else {\n    return c;\n  }\n};\n\n// (x1,y1)=>(x2,y2) intersect with (x3,y3)=>(x4,y4)\nvar finiteLinesIntersect = function finiteLinesIntersect(x1, y1, x2, y2, x3, y3, x4, y4, infiniteLines) {\n  var dx13 = x1 - x3;\n  var dx21 = x2 - x1;\n  var dx43 = x4 - x3;\n  var dy13 = y1 - y3;\n  var dy21 = y2 - y1;\n  var dy43 = y4 - y3;\n  var ua_t = dx43 * dy13 - dy43 * dx13;\n  var ub_t = dx21 * dy13 - dy21 * dx13;\n  var u_b = dy43 * dx21 - dx43 * dy21;\n  if (u_b !== 0) {\n    var ua = ua_t / u_b;\n    var ub = ub_t / u_b;\n    var flptThreshold = 0.001;\n    var _min = 0 - flptThreshold;\n    var _max = 1 + flptThreshold;\n    if (_min <= ua && ua <= _max && _min <= ub && ub <= _max) {\n      return [x1 + ua * dx21, y1 + ua * dy21];\n    } else {\n      if (!infiniteLines) {\n        return [];\n      } else {\n        return [x1 + ua * dx21, y1 + ua * dy21];\n      }\n    }\n  } else {\n    if (ua_t === 0 || ub_t === 0) {\n      // Parallel, coincident lines. Check if overlap\n\n      // Check endpoint of second line\n      if (midOfThree(x1, x2, x4) === x4) {\n        return [x4, y4];\n      }\n\n      // Check start point of second line\n      if (midOfThree(x1, x2, x3) === x3) {\n        return [x3, y3];\n      }\n\n      // Endpoint of first line\n      if (midOfThree(x3, x4, x2) === x2) {\n        return [x2, y2];\n      }\n      return [];\n    } else {\n      // Parallel, non-coincident\n      return [];\n    }\n  }\n};\n\n// math.polygonIntersectLine( x, y, basePoints, centerX, centerY, width, height, padding )\n// intersect a node polygon (pts transformed)\n//\n// math.polygonIntersectLine( x, y, basePoints, centerX, centerY )\n// intersect the points (no transform)\nvar polygonIntersectLine = function polygonIntersectLine(x, y, basePoints, centerX, centerY, width, height, padding) {\n  var intersections = [];\n  var intersection;\n  var transformedPoints = new Array(basePoints.length);\n  var doTransform = true;\n  if (width == null) {\n    doTransform = false;\n  }\n  var points;\n  if (doTransform) {\n    for (var i = 0; i < transformedPoints.length / 2; i++) {\n      transformedPoints[i * 2] = basePoints[i * 2] * width + centerX;\n      transformedPoints[i * 2 + 1] = basePoints[i * 2 + 1] * height + centerY;\n    }\n    if (padding > 0) {\n      var expandedLineSet = expandPolygon(transformedPoints, -padding);\n      points = joinLines(expandedLineSet);\n    } else {\n      points = transformedPoints;\n    }\n  } else {\n    points = basePoints;\n  }\n  var currentX, currentY, nextX, nextY;\n  for (var _i2 = 0; _i2 < points.length / 2; _i2++) {\n    currentX = points[_i2 * 2];\n    currentY = points[_i2 * 2 + 1];\n    if (_i2 < points.length / 2 - 1) {\n      nextX = points[(_i2 + 1) * 2];\n      nextY = points[(_i2 + 1) * 2 + 1];\n    } else {\n      nextX = points[0];\n      nextY = points[1];\n    }\n    intersection = finiteLinesIntersect(x, y, centerX, centerY, currentX, currentY, nextX, nextY);\n    if (intersection.length !== 0) {\n      intersections.push(intersection[0], intersection[1]);\n    }\n  }\n  return intersections;\n};\nvar roundPolygonIntersectLine = function roundPolygonIntersectLine(x, y, basePoints, centerX, centerY, width, height, padding, corners) {\n  var intersections = [];\n  var intersection;\n  var lines = new Array(basePoints.length * 2);\n  corners.forEach(function (corner, i) {\n    if (i === 0) {\n      lines[lines.length - 2] = corner.startX;\n      lines[lines.length - 1] = corner.startY;\n    } else {\n      lines[i * 4 - 2] = corner.startX;\n      lines[i * 4 - 1] = corner.startY;\n    }\n    lines[i * 4] = corner.stopX;\n    lines[i * 4 + 1] = corner.stopY;\n    intersection = intersectLineCircle(x, y, centerX, centerY, corner.cx, corner.cy, corner.radius);\n    if (intersection.length !== 0) {\n      intersections.push(intersection[0], intersection[1]);\n    }\n  });\n  for (var i = 0; i < lines.length / 4; i++) {\n    intersection = finiteLinesIntersect(x, y, centerX, centerY, lines[i * 4], lines[i * 4 + 1], lines[i * 4 + 2], lines[i * 4 + 3], false);\n    if (intersection.length !== 0) {\n      intersections.push(intersection[0], intersection[1]);\n    }\n  }\n  if (intersections.length > 2) {\n    var lowestIntersection = [intersections[0], intersections[1]];\n    var lowestSquaredDistance = Math.pow(lowestIntersection[0] - x, 2) + Math.pow(lowestIntersection[1] - y, 2);\n    for (var _i3 = 1; _i3 < intersections.length / 2; _i3++) {\n      var squaredDistance = Math.pow(intersections[_i3 * 2] - x, 2) + Math.pow(intersections[_i3 * 2 + 1] - y, 2);\n      if (squaredDistance <= lowestSquaredDistance) {\n        lowestIntersection[0] = intersections[_i3 * 2];\n        lowestIntersection[1] = intersections[_i3 * 2 + 1];\n        lowestSquaredDistance = squaredDistance;\n      }\n    }\n    return lowestIntersection;\n  }\n  return intersections;\n};\nvar shortenIntersection = function shortenIntersection(intersection, offset, amount) {\n  var disp = [intersection[0] - offset[0], intersection[1] - offset[1]];\n  var length = Math.sqrt(disp[0] * disp[0] + disp[1] * disp[1]);\n  var lenRatio = (length - amount) / length;\n  if (lenRatio < 0) {\n    lenRatio = 0.00001;\n  }\n  return [offset[0] + lenRatio * disp[0], offset[1] + lenRatio * disp[1]];\n};\nvar generateUnitNgonPointsFitToSquare = function generateUnitNgonPointsFitToSquare(sides, rotationRadians) {\n  var points = generateUnitNgonPoints(sides, rotationRadians);\n  points = fitPolygonToSquare(points);\n  return points;\n};\nvar fitPolygonToSquare = function fitPolygonToSquare(points) {\n  var x, y;\n  var sides = points.length / 2;\n  var minX = Infinity,\n    minY = Infinity,\n    maxX = -Infinity,\n    maxY = -Infinity;\n  for (var i = 0; i < sides; i++) {\n    x = points[2 * i];\n    y = points[2 * i + 1];\n    minX = Math.min(minX, x);\n    maxX = Math.max(maxX, x);\n    minY = Math.min(minY, y);\n    maxY = Math.max(maxY, y);\n  }\n\n  // stretch factors\n  var sx = 2 / (maxX - minX);\n  var sy = 2 / (maxY - minY);\n  for (var _i4 = 0; _i4 < sides; _i4++) {\n    x = points[2 * _i4] = points[2 * _i4] * sx;\n    y = points[2 * _i4 + 1] = points[2 * _i4 + 1] * sy;\n    minX = Math.min(minX, x);\n    maxX = Math.max(maxX, x);\n    minY = Math.min(minY, y);\n    maxY = Math.max(maxY, y);\n  }\n  if (minY < -1) {\n    for (var _i5 = 0; _i5 < sides; _i5++) {\n      y = points[2 * _i5 + 1] = points[2 * _i5 + 1] + (-1 - minY);\n    }\n  }\n  return points;\n};\nvar generateUnitNgonPoints = function generateUnitNgonPoints(sides, rotationRadians) {\n  var increment = 1.0 / sides * 2 * Math.PI;\n  var startAngle = sides % 2 === 0 ? Math.PI / 2.0 + increment / 2.0 : Math.PI / 2.0;\n  startAngle += rotationRadians;\n  var points = new Array(sides * 2);\n  var currentAngle;\n  for (var i = 0; i < sides; i++) {\n    currentAngle = i * increment + startAngle;\n    points[2 * i] = Math.cos(currentAngle); // x\n    points[2 * i + 1] = Math.sin(-currentAngle); // y\n  }\n\n  return points;\n};\n\n// Set the default radius, unless half of width or height is smaller than default\nvar getRoundRectangleRadius = function getRoundRectangleRadius(width, height) {\n  return Math.min(width / 4, height / 4, 8);\n};\n\n// Set the default radius\nvar getRoundPolygonRadius = function getRoundPolygonRadius(width, height) {\n  return Math.min(width / 10, height / 10, 8);\n};\nvar getCutRectangleCornerLength = function getCutRectangleCornerLength() {\n  return 8;\n};\nvar bezierPtsToQuadCoeff = function bezierPtsToQuadCoeff(p0, p1, p2) {\n  return [p0 - 2 * p1 + p2, 2 * (p1 - p0), p0];\n};\n\n// get curve width, height, and control point position offsets as a percentage of node height / width\nvar getBarrelCurveConstants = function getBarrelCurveConstants(width, height) {\n  return {\n    heightOffset: Math.min(15, 0.05 * height),\n    widthOffset: Math.min(100, 0.25 * width),\n    ctrlPtOffsetPct: 0.05\n  };\n};\n\nvar pageRankDefaults = defaults$g({\n  dampingFactor: 0.8,\n  precision: 0.000001,\n  iterations: 200,\n  weight: function weight(edge) {\n    return 1;\n  }\n});\nvar elesfn$o = {\n  pageRank: function pageRank(options) {\n    var _pageRankDefaults = pageRankDefaults(options),\n      dampingFactor = _pageRankDefaults.dampingFactor,\n      precision = _pageRankDefaults.precision,\n      iterations = _pageRankDefaults.iterations,\n      weight = _pageRankDefaults.weight;\n    var cy = this._private.cy;\n    var _this$byGroup = this.byGroup(),\n      nodes = _this$byGroup.nodes,\n      edges = _this$byGroup.edges;\n    var numNodes = nodes.length;\n    var numNodesSqd = numNodes * numNodes;\n    var numEdges = edges.length;\n\n    // Construct transposed adjacency matrix\n    // First lets have a zeroed matrix of the right size\n    // We'll also keep track of the sum of each column\n    var matrix = new Array(numNodesSqd);\n    var columnSum = new Array(numNodes);\n    var additionalProb = (1 - dampingFactor) / numNodes;\n\n    // Create null matrix\n    for (var i = 0; i < numNodes; i++) {\n      for (var j = 0; j < numNodes; j++) {\n        var n = i * numNodes + j;\n        matrix[n] = 0;\n      }\n      columnSum[i] = 0;\n    }\n\n    // Now, process edges\n    for (var _i = 0; _i < numEdges; _i++) {\n      var edge = edges[_i];\n      var srcId = edge.data('source');\n      var tgtId = edge.data('target');\n\n      // Don't include loops in the matrix\n      if (srcId === tgtId) {\n        continue;\n      }\n      var s = nodes.indexOfId(srcId);\n      var t = nodes.indexOfId(tgtId);\n      var w = weight(edge);\n      var _n = t * numNodes + s;\n\n      // Update matrix\n      matrix[_n] += w;\n\n      // Update column sum\n      columnSum[s] += w;\n    }\n\n    // Add additional probability based on damping factor\n    // Also, take into account columns that have sum = 0\n    var p = 1.0 / numNodes + additionalProb; // Shorthand\n\n    // Traverse matrix, column by column\n    for (var _j = 0; _j < numNodes; _j++) {\n      if (columnSum[_j] === 0) {\n        // No 'links' out from node jth, assume equal probability for each possible node\n        for (var _i2 = 0; _i2 < numNodes; _i2++) {\n          var _n2 = _i2 * numNodes + _j;\n          matrix[_n2] = p;\n        }\n      } else {\n        // Node jth has outgoing link, compute normalized probabilities\n        for (var _i3 = 0; _i3 < numNodes; _i3++) {\n          var _n3 = _i3 * numNodes + _j;\n          matrix[_n3] = matrix[_n3] / columnSum[_j] + additionalProb;\n        }\n      }\n    }\n\n    // Compute dominant eigenvector using power method\n    var eigenvector = new Array(numNodes);\n    var temp = new Array(numNodes);\n    var previous;\n\n    // Start with a vector of all 1's\n    // Also, initialize a null vector which will be used as shorthand\n    for (var _i4 = 0; _i4 < numNodes; _i4++) {\n      eigenvector[_i4] = 1;\n    }\n    for (var iter = 0; iter < iterations; iter++) {\n      // Temp array with all 0's\n      for (var _i5 = 0; _i5 < numNodes; _i5++) {\n        temp[_i5] = 0;\n      }\n\n      // Multiply matrix with previous result\n      for (var _i6 = 0; _i6 < numNodes; _i6++) {\n        for (var _j2 = 0; _j2 < numNodes; _j2++) {\n          var _n4 = _i6 * numNodes + _j2;\n          temp[_i6] += matrix[_n4] * eigenvector[_j2];\n        }\n      }\n      inPlaceSumNormalize(temp);\n      previous = eigenvector;\n      eigenvector = temp;\n      temp = previous;\n      var diff = 0;\n      // Compute difference (squared module) of both vectors\n      for (var _i7 = 0; _i7 < numNodes; _i7++) {\n        var delta = previous[_i7] - eigenvector[_i7];\n        diff += delta * delta;\n      }\n\n      // If difference is less than the desired threshold, stop iterating\n      if (diff < precision) {\n        break;\n      }\n    }\n\n    // Construct result\n    var res = {\n      rank: function rank(node) {\n        node = cy.collection(node)[0];\n        return eigenvector[nodes.indexOf(node)];\n      }\n    };\n    return res;\n  } // pageRank\n}; // elesfn\n\nvar defaults$f = defaults$g({\n  root: null,\n  weight: function weight(edge) {\n    return 1;\n  },\n  directed: false,\n  alpha: 0\n});\nvar elesfn$n = {\n  degreeCentralityNormalized: function degreeCentralityNormalized(options) {\n    options = defaults$f(options);\n    var cy = this.cy();\n    var nodes = this.nodes();\n    var numNodes = nodes.length;\n    if (!options.directed) {\n      var degrees = {};\n      var maxDegree = 0;\n      for (var i = 0; i < numNodes; i++) {\n        var node = nodes[i];\n\n        // add current node to the current options object and call degreeCentrality\n        options.root = node;\n        var currDegree = this.degreeCentrality(options);\n        if (maxDegree < currDegree.degree) {\n          maxDegree = currDegree.degree;\n        }\n        degrees[node.id()] = currDegree.degree;\n      }\n      return {\n        degree: function degree(node) {\n          if (maxDegree === 0) {\n            return 0;\n          }\n          if (string(node)) {\n            // from is a selector string\n            node = cy.filter(node);\n          }\n          return degrees[node.id()] / maxDegree;\n        }\n      };\n    } else {\n      var indegrees = {};\n      var outdegrees = {};\n      var maxIndegree = 0;\n      var maxOutdegree = 0;\n      for (var _i = 0; _i < numNodes; _i++) {\n        var _node = nodes[_i];\n        var id = _node.id();\n\n        // add current node to the current options object and call degreeCentrality\n        options.root = _node;\n        var _currDegree = this.degreeCentrality(options);\n        if (maxIndegree < _currDegree.indegree) maxIndegree = _currDegree.indegree;\n        if (maxOutdegree < _currDegree.outdegree) maxOutdegree = _currDegree.outdegree;\n        indegrees[id] = _currDegree.indegree;\n        outdegrees[id] = _currDegree.outdegree;\n      }\n      return {\n        indegree: function indegree(node) {\n          if (maxIndegree == 0) {\n            return 0;\n          }\n          if (string(node)) {\n            // from is a selector string\n            node = cy.filter(node);\n          }\n          return indegrees[node.id()] / maxIndegree;\n        },\n        outdegree: function outdegree(node) {\n          if (maxOutdegree === 0) {\n            return 0;\n          }\n          if (string(node)) {\n            // from is a selector string\n            node = cy.filter(node);\n          }\n          return outdegrees[node.id()] / maxOutdegree;\n        }\n      };\n    }\n  },\n  // degreeCentralityNormalized\n\n  // Implemented from the algorithm in Opsahl's paper\n  // \"Node centrality in weighted networks: Generalizing degree and shortest paths\"\n  // check the heading 2 \"Degree\"\n  degreeCentrality: function degreeCentrality(options) {\n    options = defaults$f(options);\n    var cy = this.cy();\n    var callingEles = this;\n    var _options = options,\n      root = _options.root,\n      weight = _options.weight,\n      directed = _options.directed,\n      alpha = _options.alpha;\n    root = cy.collection(root)[0];\n    if (!directed) {\n      var connEdges = root.connectedEdges().intersection(callingEles);\n      var k = connEdges.length;\n      var s = 0;\n\n      // Now, sum edge weights\n      for (var i = 0; i < connEdges.length; i++) {\n        s += weight(connEdges[i]);\n      }\n      return {\n        degree: Math.pow(k, 1 - alpha) * Math.pow(s, alpha)\n      };\n    } else {\n      var edges = root.connectedEdges();\n      var incoming = edges.filter(function (edge) {\n        return edge.target().same(root) && callingEles.has(edge);\n      });\n      var outgoing = edges.filter(function (edge) {\n        return edge.source().same(root) && callingEles.has(edge);\n      });\n      var k_in = incoming.length;\n      var k_out = outgoing.length;\n      var s_in = 0;\n      var s_out = 0;\n\n      // Now, sum incoming edge weights\n      for (var _i2 = 0; _i2 < incoming.length; _i2++) {\n        s_in += weight(incoming[_i2]);\n      }\n\n      // Now, sum outgoing edge weights\n      for (var _i3 = 0; _i3 < outgoing.length; _i3++) {\n        s_out += weight(outgoing[_i3]);\n      }\n      return {\n        indegree: Math.pow(k_in, 1 - alpha) * Math.pow(s_in, alpha),\n        outdegree: Math.pow(k_out, 1 - alpha) * Math.pow(s_out, alpha)\n      };\n    }\n  } // degreeCentrality\n}; // elesfn\n\n// nice, short mathematical alias\nelesfn$n.dc = elesfn$n.degreeCentrality;\nelesfn$n.dcn = elesfn$n.degreeCentralityNormalised = elesfn$n.degreeCentralityNormalized;\n\nvar defaults$e = defaults$g({\n  harmonic: true,\n  weight: function weight() {\n    return 1;\n  },\n  directed: false,\n  root: null\n});\nvar elesfn$m = {\n  closenessCentralityNormalized: function closenessCentralityNormalized(options) {\n    var _defaults = defaults$e(options),\n      harmonic = _defaults.harmonic,\n      weight = _defaults.weight,\n      directed = _defaults.directed;\n    var cy = this.cy();\n    var closenesses = {};\n    var maxCloseness = 0;\n    var nodes = this.nodes();\n    var fw = this.floydWarshall({\n      weight: weight,\n      directed: directed\n    });\n\n    // Compute closeness for every node and find the maximum closeness\n    for (var i = 0; i < nodes.length; i++) {\n      var currCloseness = 0;\n      var node_i = nodes[i];\n      for (var j = 0; j < nodes.length; j++) {\n        if (i !== j) {\n          var d = fw.distance(node_i, nodes[j]);\n          if (harmonic) {\n            currCloseness += 1 / d;\n          } else {\n            currCloseness += d;\n          }\n        }\n      }\n      if (!harmonic) {\n        currCloseness = 1 / currCloseness;\n      }\n      if (maxCloseness < currCloseness) {\n        maxCloseness = currCloseness;\n      }\n      closenesses[node_i.id()] = currCloseness;\n    }\n    return {\n      closeness: function closeness(node) {\n        if (maxCloseness == 0) {\n          return 0;\n        }\n        if (string(node)) {\n          // from is a selector string\n          node = cy.filter(node)[0].id();\n        } else {\n          // from is a node\n          node = node.id();\n        }\n        return closenesses[node] / maxCloseness;\n      }\n    };\n  },\n  // Implemented from pseudocode from wikipedia\n  closenessCentrality: function closenessCentrality(options) {\n    var _defaults2 = defaults$e(options),\n      root = _defaults2.root,\n      weight = _defaults2.weight,\n      directed = _defaults2.directed,\n      harmonic = _defaults2.harmonic;\n    root = this.filter(root)[0];\n\n    // we need distance from this node to every other node\n    var dijkstra = this.dijkstra({\n      root: root,\n      weight: weight,\n      directed: directed\n    });\n    var totalDistance = 0;\n    var nodes = this.nodes();\n    for (var i = 0; i < nodes.length; i++) {\n      var n = nodes[i];\n      if (!n.same(root)) {\n        var d = dijkstra.distanceTo(n);\n        if (harmonic) {\n          totalDistance += 1 / d;\n        } else {\n          totalDistance += d;\n        }\n      }\n    }\n    return harmonic ? totalDistance : 1 / totalDistance;\n  } // closenessCentrality\n}; // elesfn\n\n// nice, short mathematical alias\nelesfn$m.cc = elesfn$m.closenessCentrality;\nelesfn$m.ccn = elesfn$m.closenessCentralityNormalised = elesfn$m.closenessCentralityNormalized;\n\nvar defaults$d = defaults$g({\n  weight: null,\n  directed: false\n});\nvar elesfn$l = {\n  // Implemented from the algorithm in the paper \"On Variants of Shortest-Path Betweenness Centrality and their Generic Computation\" by Ulrik Brandes\n  betweennessCentrality: function betweennessCentrality(options) {\n    var _defaults = defaults$d(options),\n      directed = _defaults.directed,\n      weight = _defaults.weight;\n    var weighted = weight != null;\n    var cy = this.cy();\n\n    // starting\n    var V = this.nodes();\n    var A = {};\n    var _C = {};\n    var max = 0;\n    var C = {\n      set: function set(key, val) {\n        _C[key] = val;\n        if (val > max) {\n          max = val;\n        }\n      },\n      get: function get(key) {\n        return _C[key];\n      }\n    };\n\n    // A contains the neighborhoods of every node\n    for (var i = 0; i < V.length; i++) {\n      var v = V[i];\n      var vid = v.id();\n      if (directed) {\n        A[vid] = v.outgoers().nodes(); // get outgoers of every node\n      } else {\n        A[vid] = v.openNeighborhood().nodes(); // get neighbors of every node\n      }\n\n      C.set(vid, 0);\n    }\n    var _loop = function _loop(s) {\n      var sid = V[s].id();\n      var S = []; // stack\n      var P = {};\n      var g = {};\n      var d = {};\n      var Q = new heap(function (a, b) {\n        return d[a] - d[b];\n      }); // queue\n\n      // init dictionaries\n      for (var _i = 0; _i < V.length; _i++) {\n        var _vid = V[_i].id();\n        P[_vid] = [];\n        g[_vid] = 0;\n        d[_vid] = Infinity;\n      }\n      g[sid] = 1; // sigma\n      d[sid] = 0; // distance to s\n\n      Q.push(sid);\n      while (!Q.empty()) {\n        var _v = Q.pop();\n        S.push(_v);\n        if (weighted) {\n          for (var j = 0; j < A[_v].length; j++) {\n            var w = A[_v][j];\n            var vEle = cy.getElementById(_v);\n            var edge = void 0;\n            if (vEle.edgesTo(w).length > 0) {\n              edge = vEle.edgesTo(w)[0];\n            } else {\n              edge = w.edgesTo(vEle)[0];\n            }\n            var edgeWeight = weight(edge);\n            w = w.id();\n            if (d[w] > d[_v] + edgeWeight) {\n              d[w] = d[_v] + edgeWeight;\n              if (Q.nodes.indexOf(w) < 0) {\n                //if w is not in Q\n                Q.push(w);\n              } else {\n                // update position if w is in Q\n                Q.updateItem(w);\n              }\n              g[w] = 0;\n              P[w] = [];\n            }\n            if (d[w] == d[_v] + edgeWeight) {\n              g[w] = g[w] + g[_v];\n              P[w].push(_v);\n            }\n          }\n        } else {\n          for (var _j = 0; _j < A[_v].length; _j++) {\n            var _w = A[_v][_j].id();\n            if (d[_w] == Infinity) {\n              Q.push(_w);\n              d[_w] = d[_v] + 1;\n            }\n            if (d[_w] == d[_v] + 1) {\n              g[_w] = g[_w] + g[_v];\n              P[_w].push(_v);\n            }\n          }\n        }\n      }\n      var e = {};\n      for (var _i2 = 0; _i2 < V.length; _i2++) {\n        e[V[_i2].id()] = 0;\n      }\n      while (S.length > 0) {\n        var _w2 = S.pop();\n        for (var _j2 = 0; _j2 < P[_w2].length; _j2++) {\n          var _v2 = P[_w2][_j2];\n          e[_v2] = e[_v2] + g[_v2] / g[_w2] * (1 + e[_w2]);\n        }\n        if (_w2 != V[s].id()) {\n          C.set(_w2, C.get(_w2) + e[_w2]);\n        }\n      }\n    };\n    for (var s = 0; s < V.length; s++) {\n      _loop(s);\n    }\n    var ret = {\n      betweenness: function betweenness(node) {\n        var id = cy.collection(node).id();\n        return C.get(id);\n      },\n      betweennessNormalized: function betweennessNormalized(node) {\n        if (max == 0) {\n          return 0;\n        }\n        var id = cy.collection(node).id();\n        return C.get(id) / max;\n      }\n    };\n\n    // alias\n    ret.betweennessNormalised = ret.betweennessNormalized;\n    return ret;\n  } // betweennessCentrality\n}; // elesfn\n\n// nice, short mathematical alias\nelesfn$l.bc = elesfn$l.betweennessCentrality;\n\n// Implemented by Zoe Xi @zoexi for GSOC 2016\n\n/* eslint-disable no-unused-vars */\nvar defaults$c = defaults$g({\n  expandFactor: 2,\n  // affects time of computation and cluster granularity to some extent: M * M\n  inflateFactor: 2,\n  // affects cluster granularity (the greater the value, the more clusters): M(i,j) / E(j)\n  multFactor: 1,\n  // optional self loops for each node. Use a neutral value to improve cluster computations.\n  maxIterations: 20,\n  // maximum number of iterations of the MCL algorithm in a single run\n  attributes: [\n  // attributes/features used to group nodes, ie. similarity values between nodes\n  function (edge) {\n    return 1;\n  }]\n});\n/* eslint-enable */\n\nvar setOptions$3 = function setOptions(options) {\n  return defaults$c(options);\n};\n/* eslint-enable */\n\nvar getSimilarity$1 = function getSimilarity(edge, attributes) {\n  var total = 0;\n  for (var i = 0; i < attributes.length; i++) {\n    total += attributes[i](edge);\n  }\n  return total;\n};\nvar addLoops = function addLoops(M, n, val) {\n  for (var i = 0; i < n; i++) {\n    M[i * n + i] = val;\n  }\n};\nvar normalize = function normalize(M, n) {\n  var sum;\n  for (var col = 0; col < n; col++) {\n    sum = 0;\n    for (var row = 0; row < n; row++) {\n      sum += M[row * n + col];\n    }\n    for (var _row = 0; _row < n; _row++) {\n      M[_row * n + col] = M[_row * n + col] / sum;\n    }\n  }\n};\n\n// TODO: blocked matrix multiplication?\nvar mmult = function mmult(A, B, n) {\n  var C = new Array(n * n);\n  for (var i = 0; i < n; i++) {\n    for (var j = 0; j < n; j++) {\n      C[i * n + j] = 0;\n    }\n    for (var k = 0; k < n; k++) {\n      for (var _j = 0; _j < n; _j++) {\n        C[i * n + _j] += A[i * n + k] * B[k * n + _j];\n      }\n    }\n  }\n  return C;\n};\nvar expand = function expand(M, n, expandFactor /** power **/) {\n  var _M = M.slice(0);\n  for (var p = 1; p < expandFactor; p++) {\n    M = mmult(M, _M, n);\n  }\n  return M;\n};\nvar inflate = function inflate(M, n, inflateFactor /** r **/) {\n  var _M = new Array(n * n);\n\n  // M(i,j) ^ inflatePower\n  for (var i = 0; i < n * n; i++) {\n    _M[i] = Math.pow(M[i], inflateFactor);\n  }\n  normalize(_M, n);\n  return _M;\n};\nvar hasConverged = function hasConverged(M, _M, n2, roundFactor) {\n  // Check that both matrices have the same elements (i,j)\n  for (var i = 0; i < n2; i++) {\n    var v1 = Math.round(M[i] * Math.pow(10, roundFactor)) / Math.pow(10, roundFactor); // truncate to 'roundFactor' decimal places\n    var v2 = Math.round(_M[i] * Math.pow(10, roundFactor)) / Math.pow(10, roundFactor);\n    if (v1 !== v2) {\n      return false;\n    }\n  }\n  return true;\n};\nvar assign$2 = function assign(M, n, nodes, cy) {\n  var clusters = [];\n  for (var i = 0; i < n; i++) {\n    var cluster = [];\n    for (var j = 0; j < n; j++) {\n      // Row-wise attractors and elements that they attract belong in same cluster\n      if (Math.round(M[i * n + j] * 1000) / 1000 > 0) {\n        cluster.push(nodes[j]);\n      }\n    }\n    if (cluster.length !== 0) {\n      clusters.push(cy.collection(cluster));\n    }\n  }\n  return clusters;\n};\nvar isDuplicate = function isDuplicate(c1, c2) {\n  for (var i = 0; i < c1.length; i++) {\n    if (!c2[i] || c1[i].id() !== c2[i].id()) {\n      return false;\n    }\n  }\n  return true;\n};\nvar removeDuplicates = function removeDuplicates(clusters) {\n  for (var i = 0; i < clusters.length; i++) {\n    for (var j = 0; j < clusters.length; j++) {\n      if (i != j && isDuplicate(clusters[i], clusters[j])) {\n        clusters.splice(j, 1);\n      }\n    }\n  }\n  return clusters;\n};\nvar markovClustering = function markovClustering(options) {\n  var nodes = this.nodes();\n  var edges = this.edges();\n  var cy = this.cy();\n\n  // Set parameters of algorithm:\n  var opts = setOptions$3(options);\n\n  // Map each node to its position in node array\n  var id2position = {};\n  for (var i = 0; i < nodes.length; i++) {\n    id2position[nodes[i].id()] = i;\n  }\n\n  // Generate stochastic matrix M from input graph G (should be symmetric/undirected)\n  var n = nodes.length,\n    n2 = n * n;\n  var M = new Array(n2),\n    _M;\n  for (var _i = 0; _i < n2; _i++) {\n    M[_i] = 0;\n  }\n  for (var e = 0; e < edges.length; e++) {\n    var edge = edges[e];\n    var _i2 = id2position[edge.source().id()];\n    var j = id2position[edge.target().id()];\n    var sim = getSimilarity$1(edge, opts.attributes);\n    M[_i2 * n + j] += sim; // G should be symmetric and undirected\n    M[j * n + _i2] += sim;\n  }\n\n  // Begin Markov cluster algorithm\n\n  // Step 1: Add self loops to each node, ie. add multFactor to matrix diagonal\n  addLoops(M, n, opts.multFactor);\n\n  // Step 2: M = normalize( M );\n  normalize(M, n);\n  var isStillMoving = true;\n  var iterations = 0;\n  while (isStillMoving && iterations < opts.maxIterations) {\n    isStillMoving = false;\n\n    // Step 3:\n    _M = expand(M, n, opts.expandFactor);\n\n    // Step 4:\n    M = inflate(_M, n, opts.inflateFactor);\n\n    // Step 5: check to see if ~steady state has been reached\n    if (!hasConverged(M, _M, n2, 4)) {\n      isStillMoving = true;\n    }\n    iterations++;\n  }\n\n  // Build clusters from matrix\n  var clusters = assign$2(M, n, nodes, cy);\n\n  // Remove duplicate clusters due to symmetry of graph and M matrix\n  clusters = removeDuplicates(clusters);\n  return clusters;\n};\nvar markovClustering$1 = {\n  markovClustering: markovClustering,\n  mcl: markovClustering\n};\n\n// Common distance metrics for clustering algorithms\nvar identity = function identity(x) {\n  return x;\n};\nvar absDiff = function absDiff(p, q) {\n  return Math.abs(q - p);\n};\nvar addAbsDiff = function addAbsDiff(total, p, q) {\n  return total + absDiff(p, q);\n};\nvar addSquaredDiff = function addSquaredDiff(total, p, q) {\n  return total + Math.pow(q - p, 2);\n};\nvar sqrt = function sqrt(x) {\n  return Math.sqrt(x);\n};\nvar maxAbsDiff = function maxAbsDiff(currentMax, p, q) {\n  return Math.max(currentMax, absDiff(p, q));\n};\nvar getDistance = function getDistance(length, getP, getQ, init, visit) {\n  var post = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : identity;\n  var ret = init;\n  var p, q;\n  for (var dim = 0; dim < length; dim++) {\n    p = getP(dim);\n    q = getQ(dim);\n    ret = visit(ret, p, q);\n  }\n  return post(ret);\n};\nvar distances = {\n  euclidean: function euclidean(length, getP, getQ) {\n    if (length >= 2) {\n      return getDistance(length, getP, getQ, 0, addSquaredDiff, sqrt);\n    } else {\n      // for single attr case, more efficient to avoid sqrt\n      return getDistance(length, getP, getQ, 0, addAbsDiff);\n    }\n  },\n  squaredEuclidean: function squaredEuclidean(length, getP, getQ) {\n    return getDistance(length, getP, getQ, 0, addSquaredDiff);\n  },\n  manhattan: function manhattan(length, getP, getQ) {\n    return getDistance(length, getP, getQ, 0, addAbsDiff);\n  },\n  max: function max(length, getP, getQ) {\n    return getDistance(length, getP, getQ, -Infinity, maxAbsDiff);\n  }\n};\n\n// in case the user accidentally doesn't use camel case\ndistances['squared-euclidean'] = distances['squaredEuclidean'];\ndistances['squaredeuclidean'] = distances['squaredEuclidean'];\nfunction clusteringDistance (method, length, getP, getQ, nodeP, nodeQ) {\n  var impl;\n  if (fn$6(method)) {\n    impl = method;\n  } else {\n    impl = distances[method] || distances.euclidean;\n  }\n  if (length === 0 && fn$6(method)) {\n    return impl(nodeP, nodeQ);\n  } else {\n    return impl(length, getP, getQ, nodeP, nodeQ);\n  }\n}\n\nvar defaults$b = defaults$g({\n  k: 2,\n  m: 2,\n  sensitivityThreshold: 0.0001,\n  distance: 'euclidean',\n  maxIterations: 10,\n  attributes: [],\n  testMode: false,\n  testCentroids: null\n});\nvar setOptions$2 = function setOptions(options) {\n  return defaults$b(options);\n};\n\nvar getDist = function getDist(type, node, centroid, attributes, mode) {\n  var noNodeP = mode !== 'kMedoids';\n  var getP = noNodeP ? function (i) {\n    return centroid[i];\n  } : function (i) {\n    return attributes[i](centroid);\n  };\n  var getQ = function getQ(i) {\n    return attributes[i](node);\n  };\n  var nodeP = centroid;\n  var nodeQ = node;\n  return clusteringDistance(type, attributes.length, getP, getQ, nodeP, nodeQ);\n};\nvar randomCentroids = function randomCentroids(nodes, k, attributes) {\n  var ndim = attributes.length;\n  var min = new Array(ndim);\n  var max = new Array(ndim);\n  var centroids = new Array(k);\n  var centroid = null;\n\n  // Find min, max values for each attribute dimension\n  for (var i = 0; i < ndim; i++) {\n    min[i] = nodes.min(attributes[i]).value;\n    max[i] = nodes.max(attributes[i]).value;\n  }\n\n  // Build k centroids, each represented as an n-dim feature vector\n  for (var c = 0; c < k; c++) {\n    centroid = [];\n    for (var _i = 0; _i < ndim; _i++) {\n      centroid[_i] = Math.random() * (max[_i] - min[_i]) + min[_i]; // random initial value\n    }\n\n    centroids[c] = centroid;\n  }\n  return centroids;\n};\nvar classify = function classify(node, centroids, distance, attributes, type) {\n  var min = Infinity;\n  var index = 0;\n  for (var i = 0; i < centroids.length; i++) {\n    var dist = getDist(distance, node, centroids[i], attributes, type);\n    if (dist < min) {\n      min = dist;\n      index = i;\n    }\n  }\n  return index;\n};\nvar buildCluster = function buildCluster(centroid, nodes, assignment) {\n  var cluster = [];\n  var node = null;\n  for (var n = 0; n < nodes.length; n++) {\n    node = nodes[n];\n    if (assignment[node.id()] === centroid) {\n      //console.log(\"Node \" + node.id() + \" is associated with medoid #: \" + m);\n      cluster.push(node);\n    }\n  }\n  return cluster;\n};\nvar haveValuesConverged = function haveValuesConverged(v1, v2, sensitivityThreshold) {\n  return Math.abs(v2 - v1) <= sensitivityThreshold;\n};\nvar haveMatricesConverged = function haveMatricesConverged(v1, v2, sensitivityThreshold) {\n  for (var i = 0; i < v1.length; i++) {\n    for (var j = 0; j < v1[i].length; j++) {\n      var diff = Math.abs(v1[i][j] - v2[i][j]);\n      if (diff > sensitivityThreshold) {\n        return false;\n      }\n    }\n  }\n  return true;\n};\nvar seenBefore = function seenBefore(node, medoids, n) {\n  for (var i = 0; i < n; i++) {\n    if (node === medoids[i]) return true;\n  }\n  return false;\n};\nvar randomMedoids = function randomMedoids(nodes, k) {\n  var medoids = new Array(k);\n\n  // For small data sets, the probability of medoid conflict is greater,\n  // so we need to check to see if we've already seen or chose this node before.\n  if (nodes.length < 50) {\n    // Randomly select k medoids from the n nodes\n    for (var i = 0; i < k; i++) {\n      var node = nodes[Math.floor(Math.random() * nodes.length)];\n\n      // If we've already chosen this node to be a medoid, don't choose it again (for small data sets).\n      // Instead choose a different random node.\n      while (seenBefore(node, medoids, i)) {\n        node = nodes[Math.floor(Math.random() * nodes.length)];\n      }\n      medoids[i] = node;\n    }\n  } else {\n    // Relatively large data set, so pretty safe to not check and just select random nodes\n    for (var _i2 = 0; _i2 < k; _i2++) {\n      medoids[_i2] = nodes[Math.floor(Math.random() * nodes.length)];\n    }\n  }\n  return medoids;\n};\nvar findCost = function findCost(potentialNewMedoid, cluster, attributes) {\n  var cost = 0;\n  for (var n = 0; n < cluster.length; n++) {\n    cost += getDist('manhattan', cluster[n], potentialNewMedoid, attributes, 'kMedoids');\n  }\n  return cost;\n};\nvar kMeans = function kMeans(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n  var node = null;\n\n  // Set parameters of algorithm: # of clusters, distance metric, etc.\n  var opts = setOptions$2(options);\n\n  // Begin k-means algorithm\n  var clusters = new Array(opts.k);\n  var assignment = {};\n  var centroids;\n\n  // Step 1: Initialize centroid positions\n  if (opts.testMode) {\n    if (typeof opts.testCentroids === 'number') {\n      // TODO: implement a seeded random number generator.\n      opts.testCentroids;\n      centroids = randomCentroids(nodes, opts.k, opts.attributes);\n    } else if (_typeof(opts.testCentroids) === 'object') {\n      centroids = opts.testCentroids;\n    } else {\n      centroids = randomCentroids(nodes, opts.k, opts.attributes);\n    }\n  } else {\n    centroids = randomCentroids(nodes, opts.k, opts.attributes);\n  }\n  var isStillMoving = true;\n  var iterations = 0;\n  while (isStillMoving && iterations < opts.maxIterations) {\n    // Step 2: Assign nodes to the nearest centroid\n    for (var n = 0; n < nodes.length; n++) {\n      node = nodes[n];\n      // Determine which cluster this node belongs to: node id => cluster #\n      assignment[node.id()] = classify(node, centroids, opts.distance, opts.attributes, 'kMeans');\n    }\n\n    // Step 3: For each of the k clusters, update its centroid\n    isStillMoving = false;\n    for (var c = 0; c < opts.k; c++) {\n      // Get all nodes that belong to this cluster\n      var cluster = buildCluster(c, nodes, assignment);\n      if (cluster.length === 0) {\n        // If cluster is empty, break out early & move to next cluster\n        continue;\n      }\n\n      // Update centroids by calculating avg of all nodes within the cluster.\n      var ndim = opts.attributes.length;\n      var centroid = centroids[c]; // [ dim_1, dim_2, dim_3, ... , dim_n ]\n      var newCentroid = new Array(ndim);\n      var sum = new Array(ndim);\n      for (var d = 0; d < ndim; d++) {\n        sum[d] = 0.0;\n        for (var i = 0; i < cluster.length; i++) {\n          node = cluster[i];\n          sum[d] += opts.attributes[d](node);\n        }\n        newCentroid[d] = sum[d] / cluster.length;\n\n        // Check to see if algorithm has converged, i.e. when centroids no longer change\n        if (!haveValuesConverged(newCentroid[d], centroid[d], opts.sensitivityThreshold)) {\n          isStillMoving = true;\n        }\n      }\n      centroids[c] = newCentroid;\n      clusters[c] = cy.collection(cluster);\n    }\n    iterations++;\n  }\n  return clusters;\n};\nvar kMedoids = function kMedoids(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n  var node = null;\n  var opts = setOptions$2(options);\n\n  // Begin k-medoids algorithm\n  var clusters = new Array(opts.k);\n  var medoids;\n  var assignment = {};\n  var curCost;\n  var minCosts = new Array(opts.k); // minimum cost configuration for each cluster\n\n  // Step 1: Initialize k medoids\n  if (opts.testMode) {\n    if (typeof opts.testCentroids === 'number') ; else if (_typeof(opts.testCentroids) === 'object') {\n      medoids = opts.testCentroids;\n    } else {\n      medoids = randomMedoids(nodes, opts.k);\n    }\n  } else {\n    medoids = randomMedoids(nodes, opts.k);\n  }\n  var isStillMoving = true;\n  var iterations = 0;\n  while (isStillMoving && iterations < opts.maxIterations) {\n    // Step 2: Assign nodes to the nearest medoid\n    for (var n = 0; n < nodes.length; n++) {\n      node = nodes[n];\n      // Determine which cluster this node belongs to: node id => cluster #\n      assignment[node.id()] = classify(node, medoids, opts.distance, opts.attributes, 'kMedoids');\n    }\n    isStillMoving = false;\n    // Step 3: For each medoid m, and for each node associated with mediod m,\n    // select the node with the lowest configuration cost as new medoid.\n    for (var m = 0; m < medoids.length; m++) {\n      // Get all nodes that belong to this medoid\n      var cluster = buildCluster(m, nodes, assignment);\n      if (cluster.length === 0) {\n        // If cluster is empty, break out early & move to next cluster\n        continue;\n      }\n      minCosts[m] = findCost(medoids[m], cluster, opts.attributes); // original cost\n\n      // Select different medoid if its configuration has the lowest cost\n      for (var _n = 0; _n < cluster.length; _n++) {\n        curCost = findCost(cluster[_n], cluster, opts.attributes);\n        if (curCost < minCosts[m]) {\n          minCosts[m] = curCost;\n          medoids[m] = cluster[_n];\n          isStillMoving = true;\n        }\n      }\n      clusters[m] = cy.collection(cluster);\n    }\n    iterations++;\n  }\n  return clusters;\n};\nvar updateCentroids = function updateCentroids(centroids, nodes, U, weight, opts) {\n  var numerator, denominator;\n  for (var n = 0; n < nodes.length; n++) {\n    for (var c = 0; c < centroids.length; c++) {\n      weight[n][c] = Math.pow(U[n][c], opts.m);\n    }\n  }\n  for (var _c = 0; _c < centroids.length; _c++) {\n    for (var dim = 0; dim < opts.attributes.length; dim++) {\n      numerator = 0;\n      denominator = 0;\n      for (var _n2 = 0; _n2 < nodes.length; _n2++) {\n        numerator += weight[_n2][_c] * opts.attributes[dim](nodes[_n2]);\n        denominator += weight[_n2][_c];\n      }\n      centroids[_c][dim] = numerator / denominator;\n    }\n  }\n};\nvar updateMembership = function updateMembership(U, _U, centroids, nodes, opts) {\n  // Save previous step\n  for (var i = 0; i < U.length; i++) {\n    _U[i] = U[i].slice();\n  }\n  var sum, numerator, denominator;\n  var pow = 2 / (opts.m - 1);\n  for (var c = 0; c < centroids.length; c++) {\n    for (var n = 0; n < nodes.length; n++) {\n      sum = 0;\n      for (var k = 0; k < centroids.length; k++) {\n        // against all other centroids\n        numerator = getDist(opts.distance, nodes[n], centroids[c], opts.attributes, 'cmeans');\n        denominator = getDist(opts.distance, nodes[n], centroids[k], opts.attributes, 'cmeans');\n        sum += Math.pow(numerator / denominator, pow);\n      }\n      U[n][c] = 1 / sum;\n    }\n  }\n};\nvar assign$1 = function assign(nodes, U, opts, cy) {\n  var clusters = new Array(opts.k);\n  for (var c = 0; c < clusters.length; c++) {\n    clusters[c] = [];\n  }\n  var max;\n  var index;\n  for (var n = 0; n < U.length; n++) {\n    // for each node (U is N x C matrix)\n    max = -Infinity;\n    index = -1;\n    // Determine which cluster the node is most likely to belong in\n    for (var _c2 = 0; _c2 < U[0].length; _c2++) {\n      if (U[n][_c2] > max) {\n        max = U[n][_c2];\n        index = _c2;\n      }\n    }\n    clusters[index].push(nodes[n]);\n  }\n\n  // Turn every array into a collection of nodes\n  for (var _c3 = 0; _c3 < clusters.length; _c3++) {\n    clusters[_c3] = cy.collection(clusters[_c3]);\n  }\n  return clusters;\n};\nvar fuzzyCMeans = function fuzzyCMeans(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n  var opts = setOptions$2(options);\n\n  // Begin fuzzy c-means algorithm\n  var clusters;\n  var centroids;\n  var U;\n  var _U;\n  var weight;\n\n  // Step 1: Initialize letiables.\n  _U = new Array(nodes.length);\n  for (var i = 0; i < nodes.length; i++) {\n    // N x C matrix\n    _U[i] = new Array(opts.k);\n  }\n  U = new Array(nodes.length);\n  for (var _i3 = 0; _i3 < nodes.length; _i3++) {\n    // N x C matrix\n    U[_i3] = new Array(opts.k);\n  }\n  for (var _i4 = 0; _i4 < nodes.length; _i4++) {\n    var total = 0;\n    for (var j = 0; j < opts.k; j++) {\n      U[_i4][j] = Math.random();\n      total += U[_i4][j];\n    }\n    for (var _j = 0; _j < opts.k; _j++) {\n      U[_i4][_j] = U[_i4][_j] / total;\n    }\n  }\n  centroids = new Array(opts.k);\n  for (var _i5 = 0; _i5 < opts.k; _i5++) {\n    centroids[_i5] = new Array(opts.attributes.length);\n  }\n  weight = new Array(nodes.length);\n  for (var _i6 = 0; _i6 < nodes.length; _i6++) {\n    // N x C matrix\n    weight[_i6] = new Array(opts.k);\n  }\n  // end init FCM\n\n  var isStillMoving = true;\n  var iterations = 0;\n  while (isStillMoving && iterations < opts.maxIterations) {\n    isStillMoving = false;\n\n    // Step 2: Calculate the centroids for each step.\n    updateCentroids(centroids, nodes, U, weight, opts);\n\n    // Step 3: Update the partition matrix U.\n    updateMembership(U, _U, centroids, nodes, opts);\n\n    // Step 4: Check for convergence.\n    if (!haveMatricesConverged(U, _U, opts.sensitivityThreshold)) {\n      isStillMoving = true;\n    }\n    iterations++;\n  }\n\n  // Assign nodes to clusters with highest probability.\n  clusters = assign$1(nodes, U, opts, cy);\n  return {\n    clusters: clusters,\n    degreeOfMembership: U\n  };\n};\nvar kClustering = {\n  kMeans: kMeans,\n  kMedoids: kMedoids,\n  fuzzyCMeans: fuzzyCMeans,\n  fcm: fuzzyCMeans\n};\n\n// Implemented by Zoe Xi @zoexi for GSOC 2016\nvar defaults$a = defaults$g({\n  distance: 'euclidean',\n  // distance metric to compare nodes\n  linkage: 'min',\n  // linkage criterion : how to determine the distance between clusters of nodes\n  mode: 'threshold',\n  // mode:'threshold' => clusters must be threshold distance apart\n  threshold: Infinity,\n  // the distance threshold\n  // mode:'dendrogram' => the nodes are organised as leaves in a tree (siblings are close), merging makes clusters\n  addDendrogram: false,\n  // whether to add the dendrogram to the graph for viz\n  dendrogramDepth: 0,\n  // depth at which dendrogram branches are merged into the returned clusters\n  attributes: [] // array of attr functions\n});\n\nvar linkageAliases = {\n  'single': 'min',\n  'complete': 'max'\n};\nvar setOptions$1 = function setOptions(options) {\n  var opts = defaults$a(options);\n  var preferredAlias = linkageAliases[opts.linkage];\n  if (preferredAlias != null) {\n    opts.linkage = preferredAlias;\n  }\n  return opts;\n};\nvar mergeClosest = function mergeClosest(clusters, index, dists, mins, opts) {\n  // Find two closest clusters from cached mins\n  var minKey = 0;\n  var min = Infinity;\n  var dist;\n  var attrs = opts.attributes;\n  var getDist = function getDist(n1, n2) {\n    return clusteringDistance(opts.distance, attrs.length, function (i) {\n      return attrs[i](n1);\n    }, function (i) {\n      return attrs[i](n2);\n    }, n1, n2);\n  };\n  for (var i = 0; i < clusters.length; i++) {\n    var key = clusters[i].key;\n    var _dist = dists[key][mins[key]];\n    if (_dist < min) {\n      minKey = key;\n      min = _dist;\n    }\n  }\n  if (opts.mode === 'threshold' && min >= opts.threshold || opts.mode === 'dendrogram' && clusters.length === 1) {\n    return false;\n  }\n  var c1 = index[minKey];\n  var c2 = index[mins[minKey]];\n  var merged;\n\n  // Merge two closest clusters\n  if (opts.mode === 'dendrogram') {\n    merged = {\n      left: c1,\n      right: c2,\n      key: c1.key\n    };\n  } else {\n    merged = {\n      value: c1.value.concat(c2.value),\n      key: c1.key\n    };\n  }\n  clusters[c1.index] = merged;\n  clusters.splice(c2.index, 1);\n  index[c1.key] = merged;\n\n  // Update distances with new merged cluster\n  for (var _i = 0; _i < clusters.length; _i++) {\n    var cur = clusters[_i];\n    if (c1.key === cur.key) {\n      dist = Infinity;\n    } else if (opts.linkage === 'min') {\n      dist = dists[c1.key][cur.key];\n      if (dists[c1.key][cur.key] > dists[c2.key][cur.key]) {\n        dist = dists[c2.key][cur.key];\n      }\n    } else if (opts.linkage === 'max') {\n      dist = dists[c1.key][cur.key];\n      if (dists[c1.key][cur.key] < dists[c2.key][cur.key]) {\n        dist = dists[c2.key][cur.key];\n      }\n    } else if (opts.linkage === 'mean') {\n      dist = (dists[c1.key][cur.key] * c1.size + dists[c2.key][cur.key] * c2.size) / (c1.size + c2.size);\n    } else {\n      if (opts.mode === 'dendrogram') dist = getDist(cur.value, c1.value);else dist = getDist(cur.value[0], c1.value[0]);\n    }\n    dists[c1.key][cur.key] = dists[cur.key][c1.key] = dist; // distance matrix is symmetric\n  }\n\n  // Update cached mins\n  for (var _i2 = 0; _i2 < clusters.length; _i2++) {\n    var key1 = clusters[_i2].key;\n    if (mins[key1] === c1.key || mins[key1] === c2.key) {\n      var _min = key1;\n      for (var j = 0; j < clusters.length; j++) {\n        var key2 = clusters[j].key;\n        if (dists[key1][key2] < dists[key1][_min]) {\n          _min = key2;\n        }\n      }\n      mins[key1] = _min;\n    }\n    clusters[_i2].index = _i2;\n  }\n\n  // Clean up meta data used for clustering\n  c1.key = c2.key = c1.index = c2.index = null;\n  return true;\n};\nvar getAllChildren = function getAllChildren(root, arr, cy) {\n  if (!root) return;\n  if (root.value) {\n    arr.push(root.value);\n  } else {\n    if (root.left) getAllChildren(root.left, arr);\n    if (root.right) getAllChildren(root.right, arr);\n  }\n};\nvar buildDendrogram = function buildDendrogram(root, cy) {\n  if (!root) return '';\n  if (root.left && root.right) {\n    var leftStr = buildDendrogram(root.left, cy);\n    var rightStr = buildDendrogram(root.right, cy);\n    var node = cy.add({\n      group: 'nodes',\n      data: {\n        id: leftStr + ',' + rightStr\n      }\n    });\n    cy.add({\n      group: 'edges',\n      data: {\n        source: leftStr,\n        target: node.id()\n      }\n    });\n    cy.add({\n      group: 'edges',\n      data: {\n        source: rightStr,\n        target: node.id()\n      }\n    });\n    return node.id();\n  } else if (root.value) {\n    return root.value.id();\n  }\n};\nvar buildClustersFromTree = function buildClustersFromTree(root, k, cy) {\n  if (!root) return [];\n  var left = [],\n    right = [],\n    leaves = [];\n  if (k === 0) {\n    // don't cut tree, simply return all nodes as 1 single cluster\n    if (root.left) getAllChildren(root.left, left);\n    if (root.right) getAllChildren(root.right, right);\n    leaves = left.concat(right);\n    return [cy.collection(leaves)];\n  } else if (k === 1) {\n    // cut at root\n\n    if (root.value) {\n      // leaf node\n      return [cy.collection(root.value)];\n    } else {\n      if (root.left) getAllChildren(root.left, left);\n      if (root.right) getAllChildren(root.right, right);\n      return [cy.collection(left), cy.collection(right)];\n    }\n  } else {\n    if (root.value) {\n      return [cy.collection(root.value)];\n    } else {\n      if (root.left) left = buildClustersFromTree(root.left, k - 1, cy);\n      if (root.right) right = buildClustersFromTree(root.right, k - 1, cy);\n      return left.concat(right);\n    }\n  }\n};\n\nvar hierarchicalClustering = function hierarchicalClustering(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n\n  // Set parameters of algorithm: linkage type, distance metric, etc.\n  var opts = setOptions$1(options);\n  var attrs = opts.attributes;\n  var getDist = function getDist(n1, n2) {\n    return clusteringDistance(opts.distance, attrs.length, function (i) {\n      return attrs[i](n1);\n    }, function (i) {\n      return attrs[i](n2);\n    }, n1, n2);\n  };\n\n  // Begin hierarchical algorithm\n  var clusters = [];\n  var dists = []; // distances between each pair of clusters\n  var mins = []; // closest cluster for each cluster\n  var index = []; // hash of all clusters by key\n\n  // In agglomerative (bottom-up) clustering, each node starts as its own cluster\n  for (var n = 0; n < nodes.length; n++) {\n    var cluster = {\n      value: opts.mode === 'dendrogram' ? nodes[n] : [nodes[n]],\n      key: n,\n      index: n\n    };\n    clusters[n] = cluster;\n    index[n] = cluster;\n    dists[n] = [];\n    mins[n] = 0;\n  }\n\n  // Calculate the distance between each pair of clusters\n  for (var i = 0; i < clusters.length; i++) {\n    for (var j = 0; j <= i; j++) {\n      var dist = void 0;\n      if (opts.mode === 'dendrogram') {\n        // modes store cluster values differently\n        dist = i === j ? Infinity : getDist(clusters[i].value, clusters[j].value);\n      } else {\n        dist = i === j ? Infinity : getDist(clusters[i].value[0], clusters[j].value[0]);\n      }\n      dists[i][j] = dist;\n      dists[j][i] = dist;\n      if (dist < dists[i][mins[i]]) {\n        mins[i] = j; // Cache mins: closest cluster to cluster i is cluster j\n      }\n    }\n  }\n\n  // Find the closest pair of clusters and merge them into a single cluster.\n  // Update distances between new cluster and each of the old clusters, and loop until threshold reached.\n  var merged = mergeClosest(clusters, index, dists, mins, opts);\n  while (merged) {\n    merged = mergeClosest(clusters, index, dists, mins, opts);\n  }\n  var retClusters;\n\n  // Dendrogram mode builds the hierarchy and adds intermediary nodes + edges\n  // in addition to returning the clusters.\n  if (opts.mode === 'dendrogram') {\n    retClusters = buildClustersFromTree(clusters[0], opts.dendrogramDepth, cy);\n    if (opts.addDendrogram) buildDendrogram(clusters[0], cy);\n  } else {\n    // Regular mode simply returns the clusters\n\n    retClusters = new Array(clusters.length);\n    clusters.forEach(function (cluster, i) {\n      // Clean up meta data used for clustering\n      cluster.key = cluster.index = null;\n      retClusters[i] = cy.collection(cluster.value);\n    });\n  }\n  return retClusters;\n};\nvar hierarchicalClustering$1 = {\n  hierarchicalClustering: hierarchicalClustering,\n  hca: hierarchicalClustering\n};\n\n// Implemented by Zoe Xi @zoexi for GSOC 2016\nvar defaults$9 = defaults$g({\n  distance: 'euclidean',\n  // distance metric to compare attributes between two nodes\n  preference: 'median',\n  // suitability of a data point to serve as an exemplar\n  damping: 0.8,\n  // damping factor between [0.5, 1)\n  maxIterations: 1000,\n  // max number of iterations to run\n  minIterations: 100,\n  // min number of iterations to run in order for clustering to stop\n  attributes: [// functions to quantify the similarity between any two points\n    // e.g. node => node.data('weight')\n  ]\n});\nvar setOptions = function setOptions(options) {\n  var dmp = options.damping;\n  var pref = options.preference;\n  if (!(0.5 <= dmp && dmp < 1)) {\n    error(\"Damping must range on [0.5, 1).  Got: \".concat(dmp));\n  }\n  var validPrefs = ['median', 'mean', 'min', 'max'];\n  if (!(validPrefs.some(function (v) {\n    return v === pref;\n  }) || number$1(pref))) {\n    error(\"Preference must be one of [\".concat(validPrefs.map(function (p) {\n      return \"'\".concat(p, \"'\");\n    }).join(', '), \"] or a number.  Got: \").concat(pref));\n  }\n  return defaults$9(options);\n};\n\nvar getSimilarity = function getSimilarity(type, n1, n2, attributes) {\n  var attr = function attr(n, i) {\n    return attributes[i](n);\n  };\n\n  // nb negative because similarity should have an inverse relationship to distance\n  return -clusteringDistance(type, attributes.length, function (i) {\n    return attr(n1, i);\n  }, function (i) {\n    return attr(n2, i);\n  }, n1, n2);\n};\nvar getPreference = function getPreference(S, preference) {\n  // larger preference = greater # of clusters\n  var p = null;\n  if (preference === 'median') {\n    p = median(S);\n  } else if (preference === 'mean') {\n    p = mean(S);\n  } else if (preference === 'min') {\n    p = min(S);\n  } else if (preference === 'max') {\n    p = max(S);\n  } else {\n    // Custom preference number, as set by user\n    p = preference;\n  }\n  return p;\n};\nvar findExemplars = function findExemplars(n, R, A) {\n  var indices = [];\n  for (var i = 0; i < n; i++) {\n    if (R[i * n + i] + A[i * n + i] > 0) {\n      indices.push(i);\n    }\n  }\n  return indices;\n};\nvar assignClusters = function assignClusters(n, S, exemplars) {\n  var clusters = [];\n  for (var i = 0; i < n; i++) {\n    var index = -1;\n    var max = -Infinity;\n    for (var ei = 0; ei < exemplars.length; ei++) {\n      var e = exemplars[ei];\n      if (S[i * n + e] > max) {\n        index = e;\n        max = S[i * n + e];\n      }\n    }\n    if (index > 0) {\n      clusters.push(index);\n    }\n  }\n  for (var _ei = 0; _ei < exemplars.length; _ei++) {\n    clusters[exemplars[_ei]] = exemplars[_ei];\n  }\n  return clusters;\n};\nvar assign = function assign(n, S, exemplars) {\n  var clusters = assignClusters(n, S, exemplars);\n  for (var ei = 0; ei < exemplars.length; ei++) {\n    var ii = [];\n    for (var c = 0; c < clusters.length; c++) {\n      if (clusters[c] === exemplars[ei]) {\n        ii.push(c);\n      }\n    }\n    var maxI = -1;\n    var maxSum = -Infinity;\n    for (var i = 0; i < ii.length; i++) {\n      var sum = 0;\n      for (var j = 0; j < ii.length; j++) {\n        sum += S[ii[j] * n + ii[i]];\n      }\n      if (sum > maxSum) {\n        maxI = i;\n        maxSum = sum;\n      }\n    }\n    exemplars[ei] = ii[maxI];\n  }\n  clusters = assignClusters(n, S, exemplars);\n  return clusters;\n};\nvar affinityPropagation = function affinityPropagation(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n  var opts = setOptions(options);\n\n  // Map each node to its position in node array\n  var id2position = {};\n  for (var i = 0; i < nodes.length; i++) {\n    id2position[nodes[i].id()] = i;\n  }\n\n  // Begin affinity propagation algorithm\n\n  var n; // number of data points\n  var n2; // size of matrices\n  var S; // similarity matrix (1D array)\n  var p; // preference/suitability of a data point to serve as an exemplar\n  var R; // responsibility matrix (1D array)\n  var A; // availability matrix (1D array)\n\n  n = nodes.length;\n  n2 = n * n;\n\n  // Initialize and build S similarity matrix\n  S = new Array(n2);\n  for (var _i = 0; _i < n2; _i++) {\n    S[_i] = -Infinity; // for cases where two data points shouldn't be linked together\n  }\n\n  for (var _i2 = 0; _i2 < n; _i2++) {\n    for (var j = 0; j < n; j++) {\n      if (_i2 !== j) {\n        S[_i2 * n + j] = getSimilarity(opts.distance, nodes[_i2], nodes[j], opts.attributes);\n      }\n    }\n  }\n\n  // Place preferences on the diagonal of S\n  p = getPreference(S, opts.preference);\n  for (var _i3 = 0; _i3 < n; _i3++) {\n    S[_i3 * n + _i3] = p;\n  }\n\n  // Initialize R responsibility matrix\n  R = new Array(n2);\n  for (var _i4 = 0; _i4 < n2; _i4++) {\n    R[_i4] = 0.0;\n  }\n\n  // Initialize A availability matrix\n  A = new Array(n2);\n  for (var _i5 = 0; _i5 < n2; _i5++) {\n    A[_i5] = 0.0;\n  }\n  var old = new Array(n);\n  var Rp = new Array(n);\n  var se = new Array(n);\n  for (var _i6 = 0; _i6 < n; _i6++) {\n    old[_i6] = 0.0;\n    Rp[_i6] = 0.0;\n    se[_i6] = 0;\n  }\n  var e = new Array(n * opts.minIterations);\n  for (var _i7 = 0; _i7 < e.length; _i7++) {\n    e[_i7] = 0;\n  }\n  var iter;\n  for (iter = 0; iter < opts.maxIterations; iter++) {\n    // main algorithmic loop\n\n    // Update R responsibility matrix\n    for (var _i8 = 0; _i8 < n; _i8++) {\n      var max = -Infinity,\n        max2 = -Infinity,\n        maxI = -1,\n        AS = 0.0;\n      for (var _j = 0; _j < n; _j++) {\n        old[_j] = R[_i8 * n + _j];\n        AS = A[_i8 * n + _j] + S[_i8 * n + _j];\n        if (AS >= max) {\n          max2 = max;\n          max = AS;\n          maxI = _j;\n        } else if (AS > max2) {\n          max2 = AS;\n        }\n      }\n      for (var _j2 = 0; _j2 < n; _j2++) {\n        R[_i8 * n + _j2] = (1 - opts.damping) * (S[_i8 * n + _j2] - max) + opts.damping * old[_j2];\n      }\n      R[_i8 * n + maxI] = (1 - opts.damping) * (S[_i8 * n + maxI] - max2) + opts.damping * old[maxI];\n    }\n\n    // Update A availability matrix\n    for (var _i9 = 0; _i9 < n; _i9++) {\n      var sum = 0;\n      for (var _j3 = 0; _j3 < n; _j3++) {\n        old[_j3] = A[_j3 * n + _i9];\n        Rp[_j3] = Math.max(0, R[_j3 * n + _i9]);\n        sum += Rp[_j3];\n      }\n      sum -= Rp[_i9];\n      Rp[_i9] = R[_i9 * n + _i9];\n      sum += Rp[_i9];\n      for (var _j4 = 0; _j4 < n; _j4++) {\n        A[_j4 * n + _i9] = (1 - opts.damping) * Math.min(0, sum - Rp[_j4]) + opts.damping * old[_j4];\n      }\n      A[_i9 * n + _i9] = (1 - opts.damping) * (sum - Rp[_i9]) + opts.damping * old[_i9];\n    }\n\n    // Check for convergence\n    var K = 0;\n    for (var _i10 = 0; _i10 < n; _i10++) {\n      var E = A[_i10 * n + _i10] + R[_i10 * n + _i10] > 0 ? 1 : 0;\n      e[iter % opts.minIterations * n + _i10] = E;\n      K += E;\n    }\n    if (K > 0 && (iter >= opts.minIterations - 1 || iter == opts.maxIterations - 1)) {\n      var _sum = 0;\n      for (var _i11 = 0; _i11 < n; _i11++) {\n        se[_i11] = 0;\n        for (var _j5 = 0; _j5 < opts.minIterations; _j5++) {\n          se[_i11] += e[_j5 * n + _i11];\n        }\n        if (se[_i11] === 0 || se[_i11] === opts.minIterations) {\n          _sum++;\n        }\n      }\n      if (_sum === n) {\n        // then we have convergence\n        break;\n      }\n    }\n  }\n\n  // Identify exemplars (cluster centers)\n  var exemplarsIndices = findExemplars(n, R, A);\n\n  // Assign nodes to clusters\n  var clusterIndices = assign(n, S, exemplarsIndices);\n  var clusters = {};\n  for (var c = 0; c < exemplarsIndices.length; c++) {\n    clusters[exemplarsIndices[c]] = [];\n  }\n  for (var _i12 = 0; _i12 < nodes.length; _i12++) {\n    var pos = id2position[nodes[_i12].id()];\n    var clusterIndex = clusterIndices[pos];\n    if (clusterIndex != null) {\n      // the node may have not been assigned a cluster if no valid attributes were specified\n      clusters[clusterIndex].push(nodes[_i12]);\n    }\n  }\n  var retClusters = new Array(exemplarsIndices.length);\n  for (var _c = 0; _c < exemplarsIndices.length; _c++) {\n    retClusters[_c] = cy.collection(clusters[exemplarsIndices[_c]]);\n  }\n  return retClusters;\n};\nvar affinityPropagation$1 = {\n  affinityPropagation: affinityPropagation,\n  ap: affinityPropagation\n};\n\nvar hierholzerDefaults = defaults$g({\n  root: undefined,\n  directed: false\n});\nvar elesfn$k = {\n  hierholzer: function hierholzer(options) {\n    if (!plainObject(options)) {\n      var args = arguments;\n      options = {\n        root: args[0],\n        directed: args[1]\n      };\n    }\n    var _hierholzerDefaults = hierholzerDefaults(options),\n      root = _hierholzerDefaults.root,\n      directed = _hierholzerDefaults.directed;\n    var eles = this;\n    var dflag = false;\n    var oddIn;\n    var oddOut;\n    var startVertex;\n    if (root) startVertex = string(root) ? this.filter(root)[0].id() : root[0].id();\n    var nodes = {};\n    var edges = {};\n    if (directed) {\n      eles.forEach(function (ele) {\n        var id = ele.id();\n        if (ele.isNode()) {\n          var ind = ele.indegree(true);\n          var outd = ele.outdegree(true);\n          var d1 = ind - outd;\n          var d2 = outd - ind;\n          if (d1 == 1) {\n            if (oddIn) dflag = true;else oddIn = id;\n          } else if (d2 == 1) {\n            if (oddOut) dflag = true;else oddOut = id;\n          } else if (d2 > 1 || d1 > 1) {\n            dflag = true;\n          }\n          nodes[id] = [];\n          ele.outgoers().forEach(function (e) {\n            if (e.isEdge()) nodes[id].push(e.id());\n          });\n        } else {\n          edges[id] = [undefined, ele.target().id()];\n        }\n      });\n    } else {\n      eles.forEach(function (ele) {\n        var id = ele.id();\n        if (ele.isNode()) {\n          var d = ele.degree(true);\n          if (d % 2) {\n            if (!oddIn) oddIn = id;else if (!oddOut) oddOut = id;else dflag = true;\n          }\n          nodes[id] = [];\n          ele.connectedEdges().forEach(function (e) {\n            return nodes[id].push(e.id());\n          });\n        } else {\n          edges[id] = [ele.source().id(), ele.target().id()];\n        }\n      });\n    }\n    var result = {\n      found: false,\n      trail: undefined\n    };\n    if (dflag) return result;else if (oddOut && oddIn) {\n      if (directed) {\n        if (startVertex && oddOut != startVertex) {\n          return result;\n        }\n        startVertex = oddOut;\n      } else {\n        if (startVertex && oddOut != startVertex && oddIn != startVertex) {\n          return result;\n        } else if (!startVertex) {\n          startVertex = oddOut;\n        }\n      }\n    } else {\n      if (!startVertex) startVertex = eles[0].id();\n    }\n    var walk = function walk(v) {\n      var currentNode = v;\n      var subtour = [v];\n      var adj, adjTail, adjHead;\n      while (nodes[currentNode].length) {\n        adj = nodes[currentNode].shift();\n        adjTail = edges[adj][0];\n        adjHead = edges[adj][1];\n        if (currentNode != adjHead) {\n          nodes[adjHead] = nodes[adjHead].filter(function (e) {\n            return e != adj;\n          });\n          currentNode = adjHead;\n        } else if (!directed && currentNode != adjTail) {\n          nodes[adjTail] = nodes[adjTail].filter(function (e) {\n            return e != adj;\n          });\n          currentNode = adjTail;\n        }\n        subtour.unshift(adj);\n        subtour.unshift(currentNode);\n      }\n      return subtour;\n    };\n    var trail = [];\n    var subtour = [];\n    subtour = walk(startVertex);\n    while (subtour.length != 1) {\n      if (nodes[subtour[0]].length == 0) {\n        trail.unshift(eles.getElementById(subtour.shift()));\n        trail.unshift(eles.getElementById(subtour.shift()));\n      } else {\n        subtour = walk(subtour.shift()).concat(subtour);\n      }\n    }\n    trail.unshift(eles.getElementById(subtour.shift())); // final node\n\n    for (var d in nodes) {\n      if (nodes[d].length) {\n        return result;\n      }\n    }\n    result.found = true;\n    result.trail = this.spawn(trail, true);\n    return result;\n  }\n};\n\nvar hopcroftTarjanBiconnected = function hopcroftTarjanBiconnected() {\n  var eles = this;\n  var nodes = {};\n  var id = 0;\n  var edgeCount = 0;\n  var components = [];\n  var stack = [];\n  var visitedEdges = {};\n  var buildComponent = function buildComponent(x, y) {\n    var i = stack.length - 1;\n    var cutset = [];\n    var component = eles.spawn();\n    while (stack[i].x != x || stack[i].y != y) {\n      cutset.push(stack.pop().edge);\n      i--;\n    }\n    cutset.push(stack.pop().edge);\n    cutset.forEach(function (edge) {\n      var connectedNodes = edge.connectedNodes().intersection(eles);\n      component.merge(edge);\n      connectedNodes.forEach(function (node) {\n        var nodeId = node.id();\n        var connectedEdges = node.connectedEdges().intersection(eles);\n        component.merge(node);\n        if (!nodes[nodeId].cutVertex) {\n          component.merge(connectedEdges);\n        } else {\n          component.merge(connectedEdges.filter(function (edge) {\n            return edge.isLoop();\n          }));\n        }\n      });\n    });\n    components.push(component);\n  };\n  var biconnectedSearch = function biconnectedSearch(root, currentNode, parent) {\n    if (root === parent) edgeCount += 1;\n    nodes[currentNode] = {\n      id: id,\n      low: id++,\n      cutVertex: false\n    };\n    var edges = eles.getElementById(currentNode).connectedEdges().intersection(eles);\n    if (edges.size() === 0) {\n      components.push(eles.spawn(eles.getElementById(currentNode)));\n    } else {\n      var sourceId, targetId, otherNodeId, edgeId;\n      edges.forEach(function (edge) {\n        sourceId = edge.source().id();\n        targetId = edge.target().id();\n        otherNodeId = sourceId === currentNode ? targetId : sourceId;\n        if (otherNodeId !== parent) {\n          edgeId = edge.id();\n          if (!visitedEdges[edgeId]) {\n            visitedEdges[edgeId] = true;\n            stack.push({\n              x: currentNode,\n              y: otherNodeId,\n              edge: edge\n            });\n          }\n          if (!(otherNodeId in nodes)) {\n            biconnectedSearch(root, otherNodeId, currentNode);\n            nodes[currentNode].low = Math.min(nodes[currentNode].low, nodes[otherNodeId].low);\n            if (nodes[currentNode].id <= nodes[otherNodeId].low) {\n              nodes[currentNode].cutVertex = true;\n              buildComponent(currentNode, otherNodeId);\n            }\n          } else {\n            nodes[currentNode].low = Math.min(nodes[currentNode].low, nodes[otherNodeId].id);\n          }\n        }\n      });\n    }\n  };\n  eles.forEach(function (ele) {\n    if (ele.isNode()) {\n      var nodeId = ele.id();\n      if (!(nodeId in nodes)) {\n        edgeCount = 0;\n        biconnectedSearch(nodeId, nodeId);\n        nodes[nodeId].cutVertex = edgeCount > 1;\n      }\n    }\n  });\n  var cutVertices = Object.keys(nodes).filter(function (id) {\n    return nodes[id].cutVertex;\n  }).map(function (id) {\n    return eles.getElementById(id);\n  });\n  return {\n    cut: eles.spawn(cutVertices),\n    components: components\n  };\n};\nvar hopcroftTarjanBiconnected$1 = {\n  hopcroftTarjanBiconnected: hopcroftTarjanBiconnected,\n  htbc: hopcroftTarjanBiconnected,\n  htb: hopcroftTarjanBiconnected,\n  hopcroftTarjanBiconnectedComponents: hopcroftTarjanBiconnected\n};\n\nvar tarjanStronglyConnected = function tarjanStronglyConnected() {\n  var eles = this;\n  var nodes = {};\n  var index = 0;\n  var components = [];\n  var stack = [];\n  var cut = eles.spawn(eles);\n  var stronglyConnectedSearch = function stronglyConnectedSearch(sourceNodeId) {\n    stack.push(sourceNodeId);\n    nodes[sourceNodeId] = {\n      index: index,\n      low: index++,\n      explored: false\n    };\n    var connectedEdges = eles.getElementById(sourceNodeId).connectedEdges().intersection(eles);\n    connectedEdges.forEach(function (edge) {\n      var targetNodeId = edge.target().id();\n      if (targetNodeId !== sourceNodeId) {\n        if (!(targetNodeId in nodes)) {\n          stronglyConnectedSearch(targetNodeId);\n        }\n        if (!nodes[targetNodeId].explored) {\n          nodes[sourceNodeId].low = Math.min(nodes[sourceNodeId].low, nodes[targetNodeId].low);\n        }\n      }\n    });\n    if (nodes[sourceNodeId].index === nodes[sourceNodeId].low) {\n      var componentNodes = eles.spawn();\n      for (;;) {\n        var nodeId = stack.pop();\n        componentNodes.merge(eles.getElementById(nodeId));\n        nodes[nodeId].low = nodes[sourceNodeId].index;\n        nodes[nodeId].explored = true;\n        if (nodeId === sourceNodeId) {\n          break;\n        }\n      }\n      var componentEdges = componentNodes.edgesWith(componentNodes);\n      var component = componentNodes.merge(componentEdges);\n      components.push(component);\n      cut = cut.difference(component);\n    }\n  };\n  eles.forEach(function (ele) {\n    if (ele.isNode()) {\n      var nodeId = ele.id();\n      if (!(nodeId in nodes)) {\n        stronglyConnectedSearch(nodeId);\n      }\n    }\n  });\n  return {\n    cut: cut,\n    components: components\n  };\n};\nvar tarjanStronglyConnected$1 = {\n  tarjanStronglyConnected: tarjanStronglyConnected,\n  tsc: tarjanStronglyConnected,\n  tscc: tarjanStronglyConnected,\n  tarjanStronglyConnectedComponents: tarjanStronglyConnected\n};\n\nvar elesfn$j = {};\n[elesfn$v, elesfn$u, elesfn$t, elesfn$s, elesfn$r, elesfn$q, elesfn$p, elesfn$o, elesfn$n, elesfn$m, elesfn$l, markovClustering$1, kClustering, hierarchicalClustering$1, affinityPropagation$1, elesfn$k, hopcroftTarjanBiconnected$1, tarjanStronglyConnected$1].forEach(function (props) {\n  extend(elesfn$j, props);\n});\n\n/*!\nEmbeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\nCopyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)\nLicensed under The MIT License (http://opensource.org/licenses/MIT)\n*/\n\n/*  promise states [Promises/A+ 2.1]  */\nvar STATE_PENDING = 0; /*  [Promises/A+ 2.1.1]  */\nvar STATE_FULFILLED = 1; /*  [Promises/A+ 2.1.2]  */\nvar STATE_REJECTED = 2; /*  [Promises/A+ 2.1.3]  */\n\n/*  promise object constructor  */\nvar api = function api(executor) {\n  /*  optionally support non-constructor/plain-function call  */\n  if (!(this instanceof api)) return new api(executor);\n\n  /*  initialize object  */\n  this.id = 'Thenable/1.0.7';\n  this.state = STATE_PENDING; /*  initial state  */\n  this.fulfillValue = undefined; /*  initial value  */ /*  [Promises/A+ 1.3, 2.1.2.2]  */\n  this.rejectReason = undefined; /*  initial reason */ /*  [Promises/A+ 1.5, 2.1.3.2]  */\n  this.onFulfilled = []; /*  initial handlers  */\n  this.onRejected = []; /*  initial handlers  */\n\n  /*  provide optional information-hiding proxy  */\n  this.proxy = {\n    then: this.then.bind(this)\n  };\n\n  /*  support optional executor function  */\n  if (typeof executor === 'function') executor.call(this, this.fulfill.bind(this), this.reject.bind(this));\n};\n\n/*  promise API methods  */\napi.prototype = {\n  /*  promise resolving methods  */\n  fulfill: function fulfill(value) {\n    return deliver(this, STATE_FULFILLED, 'fulfillValue', value);\n  },\n  reject: function reject(value) {\n    return deliver(this, STATE_REJECTED, 'rejectReason', value);\n  },\n  /*  \"The then Method\" [Promises/A+ 1.1, 1.2, 2.2]  */\n  then: function then(onFulfilled, onRejected) {\n    var curr = this;\n    var next = new api(); /*  [Promises/A+ 2.2.7]  */\n    curr.onFulfilled.push(resolver(onFulfilled, next, 'fulfill')); /*  [Promises/A+ 2.2.2/2.2.6]  */\n    curr.onRejected.push(resolver(onRejected, next, 'reject')); /*  [Promises/A+ 2.2.3/2.2.6]  */\n    execute(curr);\n    return next.proxy; /*  [Promises/A+ 2.2.7, 3.3]  */\n  }\n};\n\n/*  deliver an action  */\nvar deliver = function deliver(curr, state, name, value) {\n  if (curr.state === STATE_PENDING) {\n    curr.state = state; /*  [Promises/A+ 2.1.2.1, 2.1.3.1]  */\n    curr[name] = value; /*  [Promises/A+ 2.1.2.2, 2.1.3.2]  */\n    execute(curr);\n  }\n  return curr;\n};\n\n/*  execute all handlers  */\nvar execute = function execute(curr) {\n  if (curr.state === STATE_FULFILLED) execute_handlers(curr, 'onFulfilled', curr.fulfillValue);else if (curr.state === STATE_REJECTED) execute_handlers(curr, 'onRejected', curr.rejectReason);\n};\n\n/*  execute particular set of handlers  */\nvar execute_handlers = function execute_handlers(curr, name, value) {\n  /* global setImmediate: true */\n  /* global setTimeout: true */\n\n  /*  short-circuit processing  */\n  if (curr[name].length === 0) return;\n\n  /*  iterate over all handlers, exactly once  */\n  var handlers = curr[name];\n  curr[name] = []; /*  [Promises/A+ 2.2.2.3, 2.2.3.3]  */\n  var func = function func() {\n    for (var i = 0; i < handlers.length; i++) {\n      handlers[i](value);\n    } /*  [Promises/A+ 2.2.5]  */\n  };\n\n  /*  execute procedure asynchronously  */ /*  [Promises/A+ 2.2.4, 3.1]  */\n  if (typeof setImmediate === 'function') setImmediate(func);else setTimeout(func, 0);\n};\n\n/*  generate a resolver function  */\nvar resolver = function resolver(cb, next, method) {\n  return function (value) {\n    if (typeof cb !== 'function') /*  [Promises/A+ 2.2.1, 2.2.7.3, 2.2.7.4]  */\n      next[method].call(next, value); /*  [Promises/A+ 2.2.7.3, 2.2.7.4]  */else {\n      var result;\n      try {\n        result = cb(value);\n      } /*  [Promises/A+ 2.2.2.1, 2.2.3.1, 2.2.5, 3.2]  */ catch (e) {\n        next.reject(e); /*  [Promises/A+ 2.2.7.2]  */\n        return;\n      }\n      resolve(next, result); /*  [Promises/A+ 2.2.7.1]  */\n    }\n  };\n};\n\n/*  \"Promise Resolution Procedure\"  */ /*  [Promises/A+ 2.3]  */\nvar resolve = function resolve(promise, x) {\n  /*  sanity check arguments  */ /*  [Promises/A+ 2.3.1]  */\n  if (promise === x || promise.proxy === x) {\n    promise.reject(new TypeError('cannot resolve promise with itself'));\n    return;\n  }\n\n  /*  surgically check for a \"then\" method\n    (mainly to just call the \"getter\" of \"then\" only once)  */\n  var then;\n  if (_typeof(x) === 'object' && x !== null || typeof x === 'function') {\n    try {\n      then = x.then;\n    } /*  [Promises/A+ 2.3.3.1, 3.5]  */ catch (e) {\n      promise.reject(e); /*  [Promises/A+ 2.3.3.2]  */\n      return;\n    }\n  }\n\n  /*  handle own Thenables    [Promises/A+ 2.3.2]\n    and similar \"thenables\" [Promises/A+ 2.3.3]  */\n  if (typeof then === 'function') {\n    var resolved = false;\n    try {\n      /*  call retrieved \"then\" method */ /*  [Promises/A+ 2.3.3.3]  */\n      then.call(x, /*  resolvePromise  */ /*  [Promises/A+ 2.3.3.3.1]  */\n      function (y) {\n        if (resolved) return;\n        resolved = true; /*  [Promises/A+ 2.3.3.3.3]  */\n        if (y === x) /*  [Promises/A+ 3.6]  */\n          promise.reject(new TypeError('circular thenable chain'));else resolve(promise, y);\n      }, /*  rejectPromise  */ /*  [Promises/A+ 2.3.3.3.2]  */\n      function (r) {\n        if (resolved) return;\n        resolved = true; /*  [Promises/A+ 2.3.3.3.3]  */\n        promise.reject(r);\n      });\n    } catch (e) {\n      if (!resolved) /*  [Promises/A+ 2.3.3.3.3]  */\n        promise.reject(e); /*  [Promises/A+ 2.3.3.3.4]  */\n    }\n\n    return;\n  }\n\n  /*  handle other values  */\n  promise.fulfill(x); /*  [Promises/A+ 2.3.4, 2.3.3.4]  */\n};\n\n// so we always have Promise.all()\napi.all = function (ps) {\n  return new api(function (resolveAll, rejectAll) {\n    var vals = new Array(ps.length);\n    var doneCount = 0;\n    var fulfill = function fulfill(i, val) {\n      vals[i] = val;\n      doneCount++;\n      if (doneCount === ps.length) {\n        resolveAll(vals);\n      }\n    };\n    for (var i = 0; i < ps.length; i++) {\n      (function (i) {\n        var p = ps[i];\n        var isPromise = p != null && p.then != null;\n        if (isPromise) {\n          p.then(function (val) {\n            fulfill(i, val);\n          }, function (err) {\n            rejectAll(err);\n          });\n        } else {\n          var val = p;\n          fulfill(i, val);\n        }\n      })(i);\n    }\n  });\n};\napi.resolve = function (val) {\n  return new api(function (resolve, reject) {\n    resolve(val);\n  });\n};\napi.reject = function (val) {\n  return new api(function (resolve, reject) {\n    reject(val);\n  });\n};\nvar Promise$1 = typeof Promise !== 'undefined' ? Promise : api; // eslint-disable-line no-undef\n\nvar Animation = function Animation(target, opts, opts2) {\n  var isCore = core(target);\n  var isEle = !isCore;\n  var _p = this._private = extend({\n    duration: 1000\n  }, opts, opts2);\n  _p.target = target;\n  _p.style = _p.style || _p.css;\n  _p.started = false;\n  _p.playing = false;\n  _p.hooked = false;\n  _p.applying = false;\n  _p.progress = 0;\n  _p.completes = [];\n  _p.frames = [];\n  if (_p.complete && fn$6(_p.complete)) {\n    _p.completes.push(_p.complete);\n  }\n  if (isEle) {\n    var pos = target.position();\n    _p.startPosition = _p.startPosition || {\n      x: pos.x,\n      y: pos.y\n    };\n    _p.startStyle = _p.startStyle || target.cy().style().getAnimationStartStyle(target, _p.style);\n  }\n  if (isCore) {\n    var pan = target.pan();\n    _p.startPan = {\n      x: pan.x,\n      y: pan.y\n    };\n    _p.startZoom = target.zoom();\n  }\n\n  // for future timeline/animations impl\n  this.length = 1;\n  this[0] = this;\n};\nvar anifn = Animation.prototype;\nextend(anifn, {\n  instanceString: function instanceString() {\n    return 'animation';\n  },\n  hook: function hook() {\n    var _p = this._private;\n    if (!_p.hooked) {\n      // add to target's animation queue\n      var q;\n      var tAni = _p.target._private.animation;\n      if (_p.queue) {\n        q = tAni.queue;\n      } else {\n        q = tAni.current;\n      }\n      q.push(this);\n\n      // add to the animation loop pool\n      if (elementOrCollection(_p.target)) {\n        _p.target.cy().addToAnimationPool(_p.target);\n      }\n      _p.hooked = true;\n    }\n    return this;\n  },\n  play: function play() {\n    var _p = this._private;\n\n    // autorewind\n    if (_p.progress === 1) {\n      _p.progress = 0;\n    }\n    _p.playing = true;\n    _p.started = false; // needs to be started by animation loop\n    _p.stopped = false;\n    this.hook();\n\n    // the animation loop will start the animation...\n\n    return this;\n  },\n  playing: function playing() {\n    return this._private.playing;\n  },\n  apply: function apply() {\n    var _p = this._private;\n    _p.applying = true;\n    _p.started = false; // needs to be started by animation loop\n    _p.stopped = false;\n    this.hook();\n\n    // the animation loop will apply the animation at this progress\n\n    return this;\n  },\n  applying: function applying() {\n    return this._private.applying;\n  },\n  pause: function pause() {\n    var _p = this._private;\n    _p.playing = false;\n    _p.started = false;\n    return this;\n  },\n  stop: function stop() {\n    var _p = this._private;\n    _p.playing = false;\n    _p.started = false;\n    _p.stopped = true; // to be removed from animation queues\n\n    return this;\n  },\n  rewind: function rewind() {\n    return this.progress(0);\n  },\n  fastforward: function fastforward() {\n    return this.progress(1);\n  },\n  time: function time(t) {\n    var _p = this._private;\n    if (t === undefined) {\n      return _p.progress * _p.duration;\n    } else {\n      return this.progress(t / _p.duration);\n    }\n  },\n  progress: function progress(p) {\n    var _p = this._private;\n    var wasPlaying = _p.playing;\n    if (p === undefined) {\n      return _p.progress;\n    } else {\n      if (wasPlaying) {\n        this.pause();\n      }\n      _p.progress = p;\n      _p.started = false;\n      if (wasPlaying) {\n        this.play();\n      }\n    }\n    return this;\n  },\n  completed: function completed() {\n    return this._private.progress === 1;\n  },\n  reverse: function reverse() {\n    var _p = this._private;\n    var wasPlaying = _p.playing;\n    if (wasPlaying) {\n      this.pause();\n    }\n    _p.progress = 1 - _p.progress;\n    _p.started = false;\n    var swap = function swap(a, b) {\n      var _pa = _p[a];\n      if (_pa == null) {\n        return;\n      }\n      _p[a] = _p[b];\n      _p[b] = _pa;\n    };\n    swap('zoom', 'startZoom');\n    swap('pan', 'startPan');\n    swap('position', 'startPosition');\n\n    // swap styles\n    if (_p.style) {\n      for (var i = 0; i < _p.style.length; i++) {\n        var prop = _p.style[i];\n        var name = prop.name;\n        var startStyleProp = _p.startStyle[name];\n        _p.startStyle[name] = prop;\n        _p.style[i] = startStyleProp;\n      }\n    }\n    if (wasPlaying) {\n      this.play();\n    }\n    return this;\n  },\n  promise: function promise(type) {\n    var _p = this._private;\n    var arr;\n    switch (type) {\n      case 'frame':\n        arr = _p.frames;\n        break;\n      default:\n      case 'complete':\n      case 'completed':\n        arr = _p.completes;\n    }\n    return new Promise$1(function (resolve, reject) {\n      arr.push(function () {\n        resolve();\n      });\n    });\n  }\n});\nanifn.complete = anifn.completed;\nanifn.run = anifn.play;\nanifn.running = anifn.playing;\n\nvar define$3 = {\n  animated: function animated() {\n    return function animatedImpl() {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n      if (!cy.styleEnabled()) {\n        return false;\n      }\n      var ele = all[0];\n      if (ele) {\n        return ele._private.animation.current.length > 0;\n      }\n    };\n  },\n  // animated\n\n  clearQueue: function clearQueue() {\n    return function clearQueueImpl() {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        ele._private.animation.queue = [];\n      }\n      return this;\n    };\n  },\n  // clearQueue\n\n  delay: function delay() {\n    return function delayImpl(time, complete) {\n      var cy = this._private.cy || this;\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      return this.animate({\n        delay: time,\n        duration: time,\n        complete: complete\n      });\n    };\n  },\n  // delay\n\n  delayAnimation: function delayAnimation() {\n    return function delayAnimationImpl(time, complete) {\n      var cy = this._private.cy || this;\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      return this.animation({\n        delay: time,\n        duration: time,\n        complete: complete\n      });\n    };\n  },\n  // delay\n\n  animation: function animation() {\n    return function animationImpl(properties, params) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n      var isCore = !selfIsArrayLike;\n      var isEles = !isCore;\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      var style = cy.style();\n      properties = extend({}, properties, params);\n      var propertiesEmpty = Object.keys(properties).length === 0;\n      if (propertiesEmpty) {\n        return new Animation(all[0], properties); // nothing to animate\n      }\n\n      if (properties.duration === undefined) {\n        properties.duration = 400;\n      }\n      switch (properties.duration) {\n        case 'slow':\n          properties.duration = 600;\n          break;\n        case 'fast':\n          properties.duration = 200;\n          break;\n      }\n      if (isEles) {\n        properties.style = style.getPropsList(properties.style || properties.css);\n        properties.css = undefined;\n      }\n      if (isEles && properties.renderedPosition != null) {\n        var rpos = properties.renderedPosition;\n        var pan = cy.pan();\n        var zoom = cy.zoom();\n        properties.position = renderedToModelPosition(rpos, zoom, pan);\n      }\n\n      // override pan w/ panBy if set\n      if (isCore && properties.panBy != null) {\n        var panBy = properties.panBy;\n        var cyPan = cy.pan();\n        properties.pan = {\n          x: cyPan.x + panBy.x,\n          y: cyPan.y + panBy.y\n        };\n      }\n\n      // override pan w/ center if set\n      var center = properties.center || properties.centre;\n      if (isCore && center != null) {\n        var centerPan = cy.getCenterPan(center.eles, properties.zoom);\n        if (centerPan != null) {\n          properties.pan = centerPan;\n        }\n      }\n\n      // override pan & zoom w/ fit if set\n      if (isCore && properties.fit != null) {\n        var fit = properties.fit;\n        var fitVp = cy.getFitViewport(fit.eles || fit.boundingBox, fit.padding);\n        if (fitVp != null) {\n          properties.pan = fitVp.pan;\n          properties.zoom = fitVp.zoom;\n        }\n      }\n\n      // override zoom (& potentially pan) w/ zoom obj if set\n      if (isCore && plainObject(properties.zoom)) {\n        var vp = cy.getZoomedViewport(properties.zoom);\n        if (vp != null) {\n          if (vp.zoomed) {\n            properties.zoom = vp.zoom;\n          }\n          if (vp.panned) {\n            properties.pan = vp.pan;\n          }\n        } else {\n          properties.zoom = null; // an inavalid zoom (e.g. no delta) gets automatically destroyed\n        }\n      }\n\n      return new Animation(all[0], properties);\n    };\n  },\n  // animate\n\n  animate: function animate() {\n    return function animateImpl(properties, params) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      if (params) {\n        properties = extend({}, properties, params);\n      }\n\n      // manually hook and run the animation\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        var queue = ele.animated() && (properties.queue === undefined || properties.queue);\n        var ani = ele.animation(properties, queue ? {\n          queue: true\n        } : undefined);\n        ani.play();\n      }\n      return this; // chaining\n    };\n  },\n\n  // animate\n\n  stop: function stop() {\n    return function stopImpl(clearQueue, jumpToEnd) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        var _p = ele._private;\n        var anis = _p.animation.current;\n        for (var j = 0; j < anis.length; j++) {\n          var ani = anis[j];\n          var ani_p = ani._private;\n          if (jumpToEnd) {\n            // next iteration of the animation loop, the animation\n            // will go straight to the end and be removed\n            ani_p.duration = 0;\n          }\n        }\n\n        // clear the queue of future animations\n        if (clearQueue) {\n          _p.animation.queue = [];\n        }\n        if (!jumpToEnd) {\n          _p.animation.current = [];\n        }\n      }\n\n      // we have to notify (the animation loop doesn't do it for us on `stop`)\n      cy.notify('draw');\n      return this;\n    };\n  } // stop\n}; // define\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nvar isArray_1 = isArray;\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray_1(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol_1(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nvar _isKey = isKey;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = _baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = _root['__core-js_shared__'];\n\nvar _coreJsData = coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString$1.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto$3 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$3.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty$3).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue$1(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue$1;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$2.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED$1 ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$1.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$1.call(data, key);\n}\n\nvar _hashHas = hashHas;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\n\nvar _Hash = Hash;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\n\nvar _ListCache = ListCache;\n\n/* Built-in method references that are verified to be native. */\nvar Map$1 = _getNative(_root, 'Map');\n\nvar _Map = Map$1;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash,\n    'map': new (_Map || _ListCache),\n    'string': new _Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\n\nvar _MapCache = MapCache;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || _MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = _MapCache;\n\nvar memoize_1 = memoize;\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize_1(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nvar _memoizeCapped = memoizeCapped;\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = _memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nvar _stringToPath = stringToPath;\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nvar _arrayMap = arrayMap;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$1 = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = _Symbol ? _Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray_1(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return _arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol_1(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;\n}\n\nvar _baseToString = baseToString;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString$1(value) {\n  return value == null ? '' : _baseToString(value);\n}\n\nvar toString_1 = toString$1;\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray_1(value)) {\n    return value;\n  }\n  return _isKey(value, object) ? [value] : _stringToPath(toString_1(value));\n}\n\nvar _castPath = castPath;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol_1(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nvar _toKey = toKey;\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = _castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[_toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nvar _baseGet = baseGet;\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : _baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nvar get_1 = get;\n\nvar defineProperty = (function() {\n  try {\n    var func = _getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nvar _defineProperty = defineProperty;\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && _defineProperty) {\n    _defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nvar _baseAssignValue = baseAssignValue;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq_1(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    _baseAssignValue(object, key, value);\n  }\n}\n\nvar _assignValue = assignValue;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nvar _isIndex = isIndex;\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject_1(object)) {\n    return object;\n  }\n  path = _castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = _toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject_1(objValue)\n          ? objValue\n          : (_isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    _assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nvar _baseSet = baseSet;\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : _baseSet(object, path, value);\n}\n\nvar set_1 = set;\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nvar _copyArray = copyArray;\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray_1(value)) {\n    return _arrayMap(value, _toKey);\n  }\n  return isSymbol_1(value) ? [value] : _copyArray(_stringToPath(toString_1(value)));\n}\n\nvar toPath_1 = toPath;\n\nvar define$2 = {\n  // access data field\n  data: function data(params) {\n    var defaults = {\n      field: 'data',\n      bindingEvent: 'data',\n      allowBinding: false,\n      allowSetting: false,\n      allowGetting: false,\n      settingEvent: 'data',\n      settingTriggersEvent: false,\n      triggerFnName: 'trigger',\n      immutableKeys: {},\n      // key => true if immutable\n      updateStyle: false,\n      beforeGet: function beforeGet(self) {},\n      beforeSet: function beforeSet(self, obj) {},\n      onSet: function onSet(self) {},\n      canSet: function canSet(self) {\n        return true;\n      }\n    };\n    params = extend({}, defaults, params);\n    return function dataImpl(name, value) {\n      var p = params;\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var single = selfIsArrayLike ? self[0] : self;\n\n      // .data('foo', ...)\n      if (string(name)) {\n        // set or get property\n        var isPathLike = name.indexOf('.') !== -1; // there might be a normal field with a dot \n        var path = isPathLike && toPath_1(name);\n\n        // .data('foo')\n        if (p.allowGetting && value === undefined) {\n          // get\n\n          var ret;\n          if (single) {\n            p.beforeGet(single);\n\n            // check if it's path and a field with the same name doesn't exist\n            if (path && single._private[p.field][name] === undefined) {\n              ret = get_1(single._private[p.field], path);\n            } else {\n              ret = single._private[p.field][name];\n            }\n          }\n          return ret;\n\n          // .data('foo', 'bar')\n        } else if (p.allowSetting && value !== undefined) {\n          // set\n          var valid = !p.immutableKeys[name];\n          if (valid) {\n            var change = _defineProperty$1({}, name, value);\n            p.beforeSet(self, change);\n            for (var i = 0, l = all.length; i < l; i++) {\n              var ele = all[i];\n              if (p.canSet(ele)) {\n                if (path && single._private[p.field][name] === undefined) {\n                  set_1(ele._private[p.field], path, value);\n                } else {\n                  ele._private[p.field][name] = value;\n                }\n              }\n            }\n\n            // update mappers if asked\n            if (p.updateStyle) {\n              self.updateStyle();\n            }\n\n            // call onSet callback\n            p.onSet(self);\n            if (p.settingTriggersEvent) {\n              self[p.triggerFnName](p.settingEvent);\n            }\n          }\n        }\n\n        // .data({ 'foo': 'bar' })\n      } else if (p.allowSetting && plainObject(name)) {\n        // extend\n        var obj = name;\n        var k, v;\n        var keys = Object.keys(obj);\n        p.beforeSet(self, obj);\n        for (var _i = 0; _i < keys.length; _i++) {\n          k = keys[_i];\n          v = obj[k];\n          var _valid = !p.immutableKeys[k];\n          if (_valid) {\n            for (var j = 0; j < all.length; j++) {\n              var _ele = all[j];\n              if (p.canSet(_ele)) {\n                _ele._private[p.field][k] = v;\n              }\n            }\n          }\n        }\n\n        // update mappers if asked\n        if (p.updateStyle) {\n          self.updateStyle();\n        }\n\n        // call onSet callback\n        p.onSet(self);\n        if (p.settingTriggersEvent) {\n          self[p.triggerFnName](p.settingEvent);\n        }\n\n        // .data(function(){ ... })\n      } else if (p.allowBinding && fn$6(name)) {\n        // bind to event\n        var fn = name;\n        self.on(p.bindingEvent, fn);\n\n        // .data()\n      } else if (p.allowGetting && name === undefined) {\n        // get whole object\n        var _ret;\n        if (single) {\n          p.beforeGet(single);\n          _ret = single._private[p.field];\n        }\n        return _ret;\n      }\n      return self; // maintain chainability\n    }; // function\n  },\n\n  // data\n\n  // remove data field\n  removeData: function removeData(params) {\n    var defaults = {\n      field: 'data',\n      event: 'data',\n      triggerFnName: 'trigger',\n      triggerEvent: false,\n      immutableKeys: {} // key => true if immutable\n    };\n\n    params = extend({}, defaults, params);\n    return function removeDataImpl(names) {\n      var p = params;\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n      // .removeData('foo bar')\n      if (string(names)) {\n        // then get the list of keys, and delete them\n        var keys = names.split(/\\s+/);\n        var l = keys.length;\n        for (var i = 0; i < l; i++) {\n          // delete each non-empty key\n          var key = keys[i];\n          if (emptyString(key)) {\n            continue;\n          }\n          var valid = !p.immutableKeys[key]; // not valid if immutable\n          if (valid) {\n            for (var i_a = 0, l_a = all.length; i_a < l_a; i_a++) {\n              all[i_a]._private[p.field][key] = undefined;\n            }\n          }\n        }\n        if (p.triggerEvent) {\n          self[p.triggerFnName](p.event);\n        }\n\n        // .removeData()\n      } else if (names === undefined) {\n        // then delete all keys\n\n        for (var _i_a = 0, _l_a = all.length; _i_a < _l_a; _i_a++) {\n          var _privateFields = all[_i_a]._private[p.field];\n          var _keys = Object.keys(_privateFields);\n          for (var _i2 = 0; _i2 < _keys.length; _i2++) {\n            var _key = _keys[_i2];\n            var validKeyToDelete = !p.immutableKeys[_key];\n            if (validKeyToDelete) {\n              _privateFields[_key] = undefined;\n            }\n          }\n        }\n        if (p.triggerEvent) {\n          self[p.triggerFnName](p.event);\n        }\n      }\n      return self; // maintain chaining\n    }; // function\n  } // removeData\n}; // define\n\nvar define$1 = {\n  eventAliasesOn: function eventAliasesOn(proto) {\n    var p = proto;\n    p.addListener = p.listen = p.bind = p.on;\n    p.unlisten = p.unbind = p.off = p.removeListener;\n    p.trigger = p.emit;\n\n    // this is just a wrapper alias of .on()\n    p.pon = p.promiseOn = function (events, selector) {\n      var self = this;\n      var args = Array.prototype.slice.call(arguments, 0);\n      return new Promise$1(function (resolve, reject) {\n        var callback = function callback(e) {\n          self.off.apply(self, offArgs);\n          resolve(e);\n        };\n        var onArgs = args.concat([callback]);\n        var offArgs = onArgs.concat([]);\n        self.on.apply(self, onArgs);\n      });\n    };\n  }\n}; // define\n\n// use this module to cherry pick functions into your prototype\nvar define = {};\n[define$3, define$2, define$1].forEach(function (m) {\n  extend(define, m);\n});\n\nvar elesfn$i = {\n  animate: define.animate(),\n  animation: define.animation(),\n  animated: define.animated(),\n  clearQueue: define.clearQueue(),\n  delay: define.delay(),\n  delayAnimation: define.delayAnimation(),\n  stop: define.stop()\n};\n\nvar elesfn$h = {\n  classes: function classes(_classes) {\n    var self = this;\n    if (_classes === undefined) {\n      var ret = [];\n      self[0]._private.classes.forEach(function (cls) {\n        return ret.push(cls);\n      });\n      return ret;\n    } else if (!array(_classes)) {\n      // extract classes from string\n      _classes = (_classes || '').match(/\\S+/g) || [];\n    }\n    var changed = [];\n    var classesSet = new Set$1(_classes);\n\n    // check and update each ele\n    for (var j = 0; j < self.length; j++) {\n      var ele = self[j];\n      var _p = ele._private;\n      var eleClasses = _p.classes;\n      var changedEle = false;\n\n      // check if ele has all of the passed classes\n      for (var i = 0; i < _classes.length; i++) {\n        var cls = _classes[i];\n        var eleHasClass = eleClasses.has(cls);\n        if (!eleHasClass) {\n          changedEle = true;\n          break;\n        }\n      }\n\n      // check if ele has classes outside of those passed\n      if (!changedEle) {\n        changedEle = eleClasses.size !== _classes.length;\n      }\n      if (changedEle) {\n        _p.classes = classesSet;\n        changed.push(ele);\n      }\n    }\n\n    // trigger update style on those eles that had class changes\n    if (changed.length > 0) {\n      this.spawn(changed).updateStyle().emit('class');\n    }\n    return self;\n  },\n  addClass: function addClass(classes) {\n    return this.toggleClass(classes, true);\n  },\n  hasClass: function hasClass(className) {\n    var ele = this[0];\n    return ele != null && ele._private.classes.has(className);\n  },\n  toggleClass: function toggleClass(classes, toggle) {\n    if (!array(classes)) {\n      // extract classes from string\n      classes = classes.match(/\\S+/g) || [];\n    }\n    var self = this;\n    var toggleUndefd = toggle === undefined;\n    var changed = []; // eles who had classes changed\n\n    for (var i = 0, il = self.length; i < il; i++) {\n      var ele = self[i];\n      var eleClasses = ele._private.classes;\n      var changedEle = false;\n      for (var j = 0; j < classes.length; j++) {\n        var cls = classes[j];\n        var hasClass = eleClasses.has(cls);\n        var changedNow = false;\n        if (toggle || toggleUndefd && !hasClass) {\n          eleClasses.add(cls);\n          changedNow = true;\n        } else if (!toggle || toggleUndefd && hasClass) {\n          eleClasses[\"delete\"](cls);\n          changedNow = true;\n        }\n        if (!changedEle && changedNow) {\n          changed.push(ele);\n          changedEle = true;\n        }\n      } // for j classes\n    } // for i eles\n\n    // trigger update style on those eles that had class changes\n    if (changed.length > 0) {\n      this.spawn(changed).updateStyle().emit('class');\n    }\n    return self;\n  },\n  removeClass: function removeClass(classes) {\n    return this.toggleClass(classes, false);\n  },\n  flashClass: function flashClass(classes, duration) {\n    var self = this;\n    if (duration == null) {\n      duration = 250;\n    } else if (duration === 0) {\n      return self; // nothing to do really\n    }\n\n    self.addClass(classes);\n    setTimeout(function () {\n      self.removeClass(classes);\n    }, duration);\n    return self;\n  }\n};\nelesfn$h.className = elesfn$h.classNames = elesfn$h.classes;\n\n// tokens in the query language\nvar tokens = {\n  metaChar: '[\\\\!\\\\\"\\\\#\\\\$\\\\%\\\\&\\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\.\\\\/\\\\:\\\\;\\\\<\\\\=\\\\>\\\\?\\\\@\\\\[\\\\]\\\\^\\\\`\\\\{\\\\|\\\\}\\\\~]',\n  // chars we need to escape in let names, etc\n  comparatorOp: '=|\\\\!=|>|>=|<|<=|\\\\$=|\\\\^=|\\\\*=',\n  // binary comparison op (used in data selectors)\n  boolOp: '\\\\?|\\\\!|\\\\^',\n  // boolean (unary) operators (used in data selectors)\n  string: '\"(?:\\\\\\\\\"|[^\"])*\"' + '|' + \"'(?:\\\\\\\\'|[^'])*'\",\n  // string literals (used in data selectors) -- doublequotes | singlequotes\n  number: number,\n  // number literal (used in data selectors) --- e.g. 0.1234, 1234, 12e123\n  meta: 'degree|indegree|outdegree',\n  // allowed metadata fields (i.e. allowed functions to use from Collection)\n  separator: '\\\\s*,\\\\s*',\n  // queries are separated by commas, e.g. edge[foo = 'bar'], node.someClass\n  descendant: '\\\\s+',\n  child: '\\\\s+>\\\\s+',\n  subject: '\\\\$',\n  group: 'node|edge|\\\\*',\n  directedEdge: '\\\\s+->\\\\s+',\n  undirectedEdge: '\\\\s+<->\\\\s+'\n};\ntokens.variable = '(?:[\\\\w-.]|(?:\\\\\\\\' + tokens.metaChar + '))+'; // a variable name can have letters, numbers, dashes, and periods\ntokens.className = '(?:[\\\\w-]|(?:\\\\\\\\' + tokens.metaChar + '))+'; // a class name has the same rules as a variable except it can't have a '.' in the name\ntokens.value = tokens.string + '|' + tokens.number; // a value literal, either a string or number\ntokens.id = tokens.variable; // an element id (follows variable conventions)\n\n(function () {\n  var ops, op, i;\n\n  // add @ variants to comparatorOp\n  ops = tokens.comparatorOp.split('|');\n  for (i = 0; i < ops.length; i++) {\n    op = ops[i];\n    tokens.comparatorOp += '|@' + op;\n  }\n\n  // add ! variants to comparatorOp\n  ops = tokens.comparatorOp.split('|');\n  for (i = 0; i < ops.length; i++) {\n    op = ops[i];\n    if (op.indexOf('!') >= 0) {\n      continue;\n    } // skip ops that explicitly contain !\n    if (op === '=') {\n      continue;\n    } // skip = b/c != is explicitly defined\n\n    tokens.comparatorOp += '|\\\\!' + op;\n  }\n})();\n\n/**\n * Make a new query object\n *\n * @prop type {Type} The type enum (int) of the query\n * @prop checks List of checks to make against an ele to test for a match\n */\nvar newQuery = function newQuery() {\n  return {\n    checks: []\n  };\n};\n\n/**\n * A check type enum-like object.  Uses integer values for fast match() lookup.\n * The ordering does not matter as long as the ints are unique.\n */\nvar Type = {\n  /** E.g. node */\n  GROUP: 0,\n  /** A collection of elements */\n  COLLECTION: 1,\n  /** A filter(ele) function */\n  FILTER: 2,\n  /** E.g. [foo > 1] */\n  DATA_COMPARE: 3,\n  /** E.g. [foo] */\n  DATA_EXIST: 4,\n  /** E.g. [?foo] */\n  DATA_BOOL: 5,\n  /** E.g. [[degree > 2]] */\n  META_COMPARE: 6,\n  /** E.g. :selected */\n  STATE: 7,\n  /** E.g. #foo */\n  ID: 8,\n  /** E.g. .foo */\n  CLASS: 9,\n  /** E.g. #foo <-> #bar */\n  UNDIRECTED_EDGE: 10,\n  /** E.g. #foo -> #bar */\n  DIRECTED_EDGE: 11,\n  /** E.g. $#foo -> #bar */\n  NODE_SOURCE: 12,\n  /** E.g. #foo -> $#bar */\n  NODE_TARGET: 13,\n  /** E.g. $#foo <-> #bar */\n  NODE_NEIGHBOR: 14,\n  /** E.g. #foo > #bar */\n  CHILD: 15,\n  /** E.g. #foo #bar */\n  DESCENDANT: 16,\n  /** E.g. $#foo > #bar */\n  PARENT: 17,\n  /** E.g. $#foo #bar */\n  ANCESTOR: 18,\n  /** E.g. #foo > $bar > #baz */\n  COMPOUND_SPLIT: 19,\n  /** Always matches, useful placeholder for subject in `COMPOUND_SPLIT` */\n  TRUE: 20\n};\n\nvar stateSelectors = [{\n  selector: ':selected',\n  matches: function matches(ele) {\n    return ele.selected();\n  }\n}, {\n  selector: ':unselected',\n  matches: function matches(ele) {\n    return !ele.selected();\n  }\n}, {\n  selector: ':selectable',\n  matches: function matches(ele) {\n    return ele.selectable();\n  }\n}, {\n  selector: ':unselectable',\n  matches: function matches(ele) {\n    return !ele.selectable();\n  }\n}, {\n  selector: ':locked',\n  matches: function matches(ele) {\n    return ele.locked();\n  }\n}, {\n  selector: ':unlocked',\n  matches: function matches(ele) {\n    return !ele.locked();\n  }\n}, {\n  selector: ':visible',\n  matches: function matches(ele) {\n    return ele.visible();\n  }\n}, {\n  selector: ':hidden',\n  matches: function matches(ele) {\n    return !ele.visible();\n  }\n}, {\n  selector: ':transparent',\n  matches: function matches(ele) {\n    return ele.transparent();\n  }\n}, {\n  selector: ':grabbed',\n  matches: function matches(ele) {\n    return ele.grabbed();\n  }\n}, {\n  selector: ':free',\n  matches: function matches(ele) {\n    return !ele.grabbed();\n  }\n}, {\n  selector: ':removed',\n  matches: function matches(ele) {\n    return ele.removed();\n  }\n}, {\n  selector: ':inside',\n  matches: function matches(ele) {\n    return !ele.removed();\n  }\n}, {\n  selector: ':grabbable',\n  matches: function matches(ele) {\n    return ele.grabbable();\n  }\n}, {\n  selector: ':ungrabbable',\n  matches: function matches(ele) {\n    return !ele.grabbable();\n  }\n}, {\n  selector: ':animated',\n  matches: function matches(ele) {\n    return ele.animated();\n  }\n}, {\n  selector: ':unanimated',\n  matches: function matches(ele) {\n    return !ele.animated();\n  }\n}, {\n  selector: ':parent',\n  matches: function matches(ele) {\n    return ele.isParent();\n  }\n}, {\n  selector: ':childless',\n  matches: function matches(ele) {\n    return ele.isChildless();\n  }\n}, {\n  selector: ':child',\n  matches: function matches(ele) {\n    return ele.isChild();\n  }\n}, {\n  selector: ':orphan',\n  matches: function matches(ele) {\n    return ele.isOrphan();\n  }\n}, {\n  selector: ':nonorphan',\n  matches: function matches(ele) {\n    return ele.isChild();\n  }\n}, {\n  selector: ':compound',\n  matches: function matches(ele) {\n    if (ele.isNode()) {\n      return ele.isParent();\n    } else {\n      return ele.source().isParent() || ele.target().isParent();\n    }\n  }\n}, {\n  selector: ':loop',\n  matches: function matches(ele) {\n    return ele.isLoop();\n  }\n}, {\n  selector: ':simple',\n  matches: function matches(ele) {\n    return ele.isSimple();\n  }\n}, {\n  selector: ':active',\n  matches: function matches(ele) {\n    return ele.active();\n  }\n}, {\n  selector: ':inactive',\n  matches: function matches(ele) {\n    return !ele.active();\n  }\n}, {\n  selector: ':backgrounding',\n  matches: function matches(ele) {\n    return ele.backgrounding();\n  }\n}, {\n  selector: ':nonbackgrounding',\n  matches: function matches(ele) {\n    return !ele.backgrounding();\n  }\n}].sort(function (a, b) {\n  // n.b. selectors that are starting substrings of others must have the longer ones first\n  return descending(a.selector, b.selector);\n});\nvar lookup = function () {\n  var selToFn = {};\n  var s;\n  for (var i = 0; i < stateSelectors.length; i++) {\n    s = stateSelectors[i];\n    selToFn[s.selector] = s.matches;\n  }\n  return selToFn;\n}();\nvar stateSelectorMatches = function stateSelectorMatches(sel, ele) {\n  return lookup[sel](ele);\n};\nvar stateSelectorRegex = '(' + stateSelectors.map(function (s) {\n  return s.selector;\n}).join('|') + ')';\n\n// when a token like a variable has escaped meta characters, we need to clean the backslashes out\n// so that values get compared properly in Selector.filter()\nvar cleanMetaChars = function cleanMetaChars(str) {\n  return str.replace(new RegExp('\\\\\\\\(' + tokens.metaChar + ')', 'g'), function (match, $1) {\n    return $1;\n  });\n};\nvar replaceLastQuery = function replaceLastQuery(selector, examiningQuery, replacementQuery) {\n  selector[selector.length - 1] = replacementQuery;\n};\n\n// NOTE: add new expression syntax here to have it recognised by the parser;\n// - a query contains all adjacent (i.e. no separator in between) expressions;\n// - the current query is stored in selector[i]\n// - you need to check the query objects in match() for it actually filter properly, but that's pretty straight forward\nvar exprs = [{\n  name: 'group',\n  // just used for identifying when debugging\n  query: true,\n  regex: '(' + tokens.group + ')',\n  populate: function populate(selector, query, _ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n      group = _ref2[0];\n    query.checks.push({\n      type: Type.GROUP,\n      value: group === '*' ? group : group + 's'\n    });\n  }\n}, {\n  name: 'state',\n  query: true,\n  regex: stateSelectorRegex,\n  populate: function populate(selector, query, _ref3) {\n    var _ref4 = _slicedToArray(_ref3, 1),\n      state = _ref4[0];\n    query.checks.push({\n      type: Type.STATE,\n      value: state\n    });\n  }\n}, {\n  name: 'id',\n  query: true,\n  regex: '\\\\#(' + tokens.id + ')',\n  populate: function populate(selector, query, _ref5) {\n    var _ref6 = _slicedToArray(_ref5, 1),\n      id = _ref6[0];\n    query.checks.push({\n      type: Type.ID,\n      value: cleanMetaChars(id)\n    });\n  }\n}, {\n  name: 'className',\n  query: true,\n  regex: '\\\\.(' + tokens.className + ')',\n  populate: function populate(selector, query, _ref7) {\n    var _ref8 = _slicedToArray(_ref7, 1),\n      className = _ref8[0];\n    query.checks.push({\n      type: Type.CLASS,\n      value: cleanMetaChars(className)\n    });\n  }\n}, {\n  name: 'dataExists',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.variable + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref9) {\n    var _ref10 = _slicedToArray(_ref9, 1),\n      variable = _ref10[0];\n    query.checks.push({\n      type: Type.DATA_EXIST,\n      field: cleanMetaChars(variable)\n    });\n  }\n}, {\n  name: 'dataCompare',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.variable + ')\\\\s*(' + tokens.comparatorOp + ')\\\\s*(' + tokens.value + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref11) {\n    var _ref12 = _slicedToArray(_ref11, 3),\n      variable = _ref12[0],\n      comparatorOp = _ref12[1],\n      value = _ref12[2];\n    var valueIsString = new RegExp('^' + tokens.string + '$').exec(value) != null;\n    if (valueIsString) {\n      value = value.substring(1, value.length - 1);\n    } else {\n      value = parseFloat(value);\n    }\n    query.checks.push({\n      type: Type.DATA_COMPARE,\n      field: cleanMetaChars(variable),\n      operator: comparatorOp,\n      value: value\n    });\n  }\n}, {\n  name: 'dataBool',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.boolOp + ')\\\\s*(' + tokens.variable + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref13) {\n    var _ref14 = _slicedToArray(_ref13, 2),\n      boolOp = _ref14[0],\n      variable = _ref14[1];\n    query.checks.push({\n      type: Type.DATA_BOOL,\n      field: cleanMetaChars(variable),\n      operator: boolOp\n    });\n  }\n}, {\n  name: 'metaCompare',\n  query: true,\n  regex: '\\\\[\\\\[\\\\s*(' + tokens.meta + ')\\\\s*(' + tokens.comparatorOp + ')\\\\s*(' + tokens.number + ')\\\\s*\\\\]\\\\]',\n  populate: function populate(selector, query, _ref15) {\n    var _ref16 = _slicedToArray(_ref15, 3),\n      meta = _ref16[0],\n      comparatorOp = _ref16[1],\n      number = _ref16[2];\n    query.checks.push({\n      type: Type.META_COMPARE,\n      field: cleanMetaChars(meta),\n      operator: comparatorOp,\n      value: parseFloat(number)\n    });\n  }\n}, {\n  name: 'nextQuery',\n  separator: true,\n  regex: tokens.separator,\n  populate: function populate(selector, query) {\n    var currentSubject = selector.currentSubject;\n    var edgeCount = selector.edgeCount;\n    var compoundCount = selector.compoundCount;\n    var lastQ = selector[selector.length - 1];\n    if (currentSubject != null) {\n      lastQ.subject = currentSubject;\n      selector.currentSubject = null;\n    }\n    lastQ.edgeCount = edgeCount;\n    lastQ.compoundCount = compoundCount;\n    selector.edgeCount = 0;\n    selector.compoundCount = 0;\n\n    // go on to next query\n    var nextQuery = selector[selector.length++] = newQuery();\n    return nextQuery; // this is the new query to be filled by the following exprs\n  }\n}, {\n  name: 'directedEdge',\n  separator: true,\n  regex: tokens.directedEdge,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject == null) {\n      // undirected edge\n      var edgeQuery = newQuery();\n      var source = query;\n      var target = newQuery();\n      edgeQuery.checks.push({\n        type: Type.DIRECTED_EDGE,\n        source: source,\n        target: target\n      });\n\n      // the query in the selector should be the edge rather than the source\n      replaceLastQuery(selector, query, edgeQuery);\n      selector.edgeCount++;\n\n      // we're now populating the target query with expressions that follow\n      return target;\n    } else {\n      // source/target\n      var srcTgtQ = newQuery();\n      var _source = query;\n      var _target = newQuery();\n      srcTgtQ.checks.push({\n        type: Type.NODE_SOURCE,\n        source: _source,\n        target: _target\n      });\n\n      // the query in the selector should be the neighbourhood rather than the node\n      replaceLastQuery(selector, query, srcTgtQ);\n      selector.edgeCount++;\n      return _target; // now populating the target with the following expressions\n    }\n  }\n}, {\n  name: 'undirectedEdge',\n  separator: true,\n  regex: tokens.undirectedEdge,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject == null) {\n      // undirected edge\n      var edgeQuery = newQuery();\n      var source = query;\n      var target = newQuery();\n      edgeQuery.checks.push({\n        type: Type.UNDIRECTED_EDGE,\n        nodes: [source, target]\n      });\n\n      // the query in the selector should be the edge rather than the source\n      replaceLastQuery(selector, query, edgeQuery);\n      selector.edgeCount++;\n\n      // we're now populating the target query with expressions that follow\n      return target;\n    } else {\n      // neighbourhood\n      var nhoodQ = newQuery();\n      var node = query;\n      var neighbor = newQuery();\n      nhoodQ.checks.push({\n        type: Type.NODE_NEIGHBOR,\n        node: node,\n        neighbor: neighbor\n      });\n\n      // the query in the selector should be the neighbourhood rather than the node\n      replaceLastQuery(selector, query, nhoodQ);\n      return neighbor; // now populating the neighbor with following expressions\n    }\n  }\n}, {\n  name: 'child',\n  separator: true,\n  regex: tokens.child,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject == null) {\n      // default: child query\n      var parentChildQuery = newQuery();\n      var child = newQuery();\n      var parent = selector[selector.length - 1];\n      parentChildQuery.checks.push({\n        type: Type.CHILD,\n        parent: parent,\n        child: child\n      });\n\n      // the query in the selector should be the '>' itself\n      replaceLastQuery(selector, query, parentChildQuery);\n      selector.compoundCount++;\n\n      // we're now populating the child query with expressions that follow\n      return child;\n    } else if (selector.currentSubject === query) {\n      // compound split query\n      var compound = newQuery();\n      var left = selector[selector.length - 1];\n      var right = newQuery();\n      var subject = newQuery();\n      var _child = newQuery();\n      var _parent = newQuery();\n\n      // set up the root compound q\n      compound.checks.push({\n        type: Type.COMPOUND_SPLIT,\n        left: left,\n        right: right,\n        subject: subject\n      });\n\n      // populate the subject and replace the q at the old spot (within left) with TRUE\n      subject.checks = query.checks; // take the checks from the left\n      query.checks = [{\n        type: Type.TRUE\n      }]; // checks under left refs the subject implicitly\n\n      // set up the right q\n      _parent.checks.push({\n        type: Type.TRUE\n      }); // parent implicitly refs the subject\n      right.checks.push({\n        type: Type.PARENT,\n        // type is swapped on right side queries\n        parent: _parent,\n        child: _child // empty for now\n      });\n\n      replaceLastQuery(selector, left, compound);\n\n      // update the ref since we moved things around for `query`\n      selector.currentSubject = subject;\n      selector.compoundCount++;\n      return _child; // now populating the right side's child\n    } else {\n      // parent query\n      // info for parent query\n      var _parent2 = newQuery();\n      var _child2 = newQuery();\n      var pcQChecks = [{\n        type: Type.PARENT,\n        parent: _parent2,\n        child: _child2\n      }];\n\n      // the parent-child query takes the place of the query previously being populated\n      _parent2.checks = query.checks; // the previous query contains the checks for the parent\n      query.checks = pcQChecks; // pc query takes over\n\n      selector.compoundCount++;\n      return _child2; // we're now populating the child\n    }\n  }\n}, {\n  name: 'descendant',\n  separator: true,\n  regex: tokens.descendant,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject == null) {\n      // default: descendant query\n      var ancChQuery = newQuery();\n      var descendant = newQuery();\n      var ancestor = selector[selector.length - 1];\n      ancChQuery.checks.push({\n        type: Type.DESCENDANT,\n        ancestor: ancestor,\n        descendant: descendant\n      });\n\n      // the query in the selector should be the '>' itself\n      replaceLastQuery(selector, query, ancChQuery);\n      selector.compoundCount++;\n\n      // we're now populating the descendant query with expressions that follow\n      return descendant;\n    } else if (selector.currentSubject === query) {\n      // compound split query\n      var compound = newQuery();\n      var left = selector[selector.length - 1];\n      var right = newQuery();\n      var subject = newQuery();\n      var _descendant = newQuery();\n      var _ancestor = newQuery();\n\n      // set up the root compound q\n      compound.checks.push({\n        type: Type.COMPOUND_SPLIT,\n        left: left,\n        right: right,\n        subject: subject\n      });\n\n      // populate the subject and replace the q at the old spot (within left) with TRUE\n      subject.checks = query.checks; // take the checks from the left\n      query.checks = [{\n        type: Type.TRUE\n      }]; // checks under left refs the subject implicitly\n\n      // set up the right q\n      _ancestor.checks.push({\n        type: Type.TRUE\n      }); // ancestor implicitly refs the subject\n      right.checks.push({\n        type: Type.ANCESTOR,\n        // type is swapped on right side queries\n        ancestor: _ancestor,\n        descendant: _descendant // empty for now\n      });\n\n      replaceLastQuery(selector, left, compound);\n\n      // update the ref since we moved things around for `query`\n      selector.currentSubject = subject;\n      selector.compoundCount++;\n      return _descendant; // now populating the right side's descendant\n    } else {\n      // ancestor query\n      // info for parent query\n      var _ancestor2 = newQuery();\n      var _descendant2 = newQuery();\n      var adQChecks = [{\n        type: Type.ANCESTOR,\n        ancestor: _ancestor2,\n        descendant: _descendant2\n      }];\n\n      // the parent-child query takes the place of the query previously being populated\n      _ancestor2.checks = query.checks; // the previous query contains the checks for the parent\n      query.checks = adQChecks; // pc query takes over\n\n      selector.compoundCount++;\n      return _descendant2; // we're now populating the child\n    }\n  }\n}, {\n  name: 'subject',\n  modifier: true,\n  regex: tokens.subject,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject != null && selector.currentSubject !== query) {\n      warn('Redefinition of subject in selector `' + selector.toString() + '`');\n      return false;\n    }\n    selector.currentSubject = query;\n    var topQ = selector[selector.length - 1];\n    var topChk = topQ.checks[0];\n    var topType = topChk == null ? null : topChk.type;\n    if (topType === Type.DIRECTED_EDGE) {\n      // directed edge with subject on the target\n\n      // change to target node check\n      topChk.type = Type.NODE_TARGET;\n    } else if (topType === Type.UNDIRECTED_EDGE) {\n      // undirected edge with subject on the second node\n\n      // change to neighbor check\n      topChk.type = Type.NODE_NEIGHBOR;\n      topChk.node = topChk.nodes[1]; // second node is subject\n      topChk.neighbor = topChk.nodes[0];\n\n      // clean up unused fields for new type\n      topChk.nodes = null;\n    }\n  }\n}];\nexprs.forEach(function (e) {\n  return e.regexObj = new RegExp('^' + e.regex);\n});\n\n/**\n * Of all the expressions, find the first match in the remaining text.\n * @param {string} remaining The remaining text to parse\n * @returns The matched expression and the newly remaining text `{ expr, match, name, remaining }`\n */\nvar consumeExpr = function consumeExpr(remaining) {\n  var expr;\n  var match;\n  var name;\n  for (var j = 0; j < exprs.length; j++) {\n    var e = exprs[j];\n    var n = e.name;\n    var m = remaining.match(e.regexObj);\n    if (m != null) {\n      match = m;\n      expr = e;\n      name = n;\n      var consumed = m[0];\n      remaining = remaining.substring(consumed.length);\n      break; // we've consumed one expr, so we can return now\n    }\n  }\n\n  return {\n    expr: expr,\n    match: match,\n    name: name,\n    remaining: remaining\n  };\n};\n\n/**\n * Consume all the leading whitespace\n * @param {string} remaining The text to consume\n * @returns The text with the leading whitespace removed\n */\nvar consumeWhitespace = function consumeWhitespace(remaining) {\n  var match = remaining.match(/^\\s+/);\n  if (match) {\n    var consumed = match[0];\n    remaining = remaining.substring(consumed.length);\n  }\n  return remaining;\n};\n\n/**\n * Parse the string and store the parsed representation in the Selector.\n * @param {string} selector The selector string\n * @returns `true` if the selector was successfully parsed, `false` otherwise\n */\nvar parse = function parse(selector) {\n  var self = this;\n  var remaining = self.inputText = selector;\n  var currentQuery = self[0] = newQuery();\n  self.length = 1;\n  remaining = consumeWhitespace(remaining); // get rid of leading whitespace\n\n  for (;;) {\n    var exprInfo = consumeExpr(remaining);\n    if (exprInfo.expr == null) {\n      warn('The selector `' + selector + '`is invalid');\n      return false;\n    } else {\n      var args = exprInfo.match.slice(1);\n\n      // let the token populate the selector object in currentQuery\n      var ret = exprInfo.expr.populate(self, currentQuery, args);\n      if (ret === false) {\n        return false; // exit if population failed\n      } else if (ret != null) {\n        currentQuery = ret; // change the current query to be filled if the expr specifies\n      }\n    }\n\n    remaining = exprInfo.remaining;\n\n    // we're done when there's nothing left to parse\n    if (remaining.match(/^\\s*$/)) {\n      break;\n    }\n  }\n  var lastQ = self[self.length - 1];\n  if (self.currentSubject != null) {\n    lastQ.subject = self.currentSubject;\n  }\n  lastQ.edgeCount = self.edgeCount;\n  lastQ.compoundCount = self.compoundCount;\n  for (var i = 0; i < self.length; i++) {\n    var q = self[i];\n\n    // in future, this could potentially be allowed if there were operator precedence and detection of invalid combinations\n    if (q.compoundCount > 0 && q.edgeCount > 0) {\n      warn('The selector `' + selector + '` is invalid because it uses both a compound selector and an edge selector');\n      return false;\n    }\n    if (q.edgeCount > 1) {\n      warn('The selector `' + selector + '` is invalid because it uses multiple edge selectors');\n      return false;\n    } else if (q.edgeCount === 1) {\n      warn('The selector `' + selector + '` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.');\n    }\n  }\n  return true; // success\n};\n\n/**\n * Get the selector represented as a string.  This value uses default formatting,\n * so things like spacing may differ from the input text passed to the constructor.\n * @returns {string} The selector string\n */\nvar toString = function toString() {\n  if (this.toStringCache != null) {\n    return this.toStringCache;\n  }\n  var clean = function clean(obj) {\n    if (obj == null) {\n      return '';\n    } else {\n      return obj;\n    }\n  };\n  var cleanVal = function cleanVal(val) {\n    if (string(val)) {\n      return '\"' + val + '\"';\n    } else {\n      return clean(val);\n    }\n  };\n  var space = function space(val) {\n    return ' ' + val + ' ';\n  };\n  var checkToString = function checkToString(check, subject) {\n    var type = check.type,\n      value = check.value;\n    switch (type) {\n      case Type.GROUP:\n        {\n          var group = clean(value);\n          return group.substring(0, group.length - 1);\n        }\n      case Type.DATA_COMPARE:\n        {\n          var field = check.field,\n            operator = check.operator;\n          return '[' + field + space(clean(operator)) + cleanVal(value) + ']';\n        }\n      case Type.DATA_BOOL:\n        {\n          var _operator = check.operator,\n            _field = check.field;\n          return '[' + clean(_operator) + _field + ']';\n        }\n      case Type.DATA_EXIST:\n        {\n          var _field2 = check.field;\n          return '[' + _field2 + ']';\n        }\n      case Type.META_COMPARE:\n        {\n          var _operator2 = check.operator,\n            _field3 = check.field;\n          return '[[' + _field3 + space(clean(_operator2)) + cleanVal(value) + ']]';\n        }\n      case Type.STATE:\n        {\n          return value;\n        }\n      case Type.ID:\n        {\n          return '#' + value;\n        }\n      case Type.CLASS:\n        {\n          return '.' + value;\n        }\n      case Type.PARENT:\n      case Type.CHILD:\n        {\n          return queryToString(check.parent, subject) + space('>') + queryToString(check.child, subject);\n        }\n      case Type.ANCESTOR:\n      case Type.DESCENDANT:\n        {\n          return queryToString(check.ancestor, subject) + ' ' + queryToString(check.descendant, subject);\n        }\n      case Type.COMPOUND_SPLIT:\n        {\n          var lhs = queryToString(check.left, subject);\n          var sub = queryToString(check.subject, subject);\n          var rhs = queryToString(check.right, subject);\n          return lhs + (lhs.length > 0 ? ' ' : '') + sub + rhs;\n        }\n      case Type.TRUE:\n        {\n          return '';\n        }\n    }\n  };\n  var queryToString = function queryToString(query, subject) {\n    return query.checks.reduce(function (str, chk, i) {\n      return str + (subject === query && i === 0 ? '$' : '') + checkToString(chk, subject);\n    }, '');\n  };\n  var str = '';\n  for (var i = 0; i < this.length; i++) {\n    var query = this[i];\n    str += queryToString(query, query.subject);\n    if (this.length > 1 && i < this.length - 1) {\n      str += ', ';\n    }\n  }\n  this.toStringCache = str;\n  return str;\n};\nvar parse$1 = {\n  parse: parse,\n  toString: toString\n};\n\nvar valCmp = function valCmp(fieldVal, operator, value) {\n  var matches;\n  var isFieldStr = string(fieldVal);\n  var isFieldNum = number$1(fieldVal);\n  var isValStr = string(value);\n  var fieldStr, valStr;\n  var caseInsensitive = false;\n  var notExpr = false;\n  var isIneqCmp = false;\n  if (operator.indexOf('!') >= 0) {\n    operator = operator.replace('!', '');\n    notExpr = true;\n  }\n  if (operator.indexOf('@') >= 0) {\n    operator = operator.replace('@', '');\n    caseInsensitive = true;\n  }\n  if (isFieldStr || isValStr || caseInsensitive) {\n    fieldStr = !isFieldStr && !isFieldNum ? '' : '' + fieldVal;\n    valStr = '' + value;\n  }\n\n  // if we're doing a case insensitive comparison, then we're using a STRING comparison\n  // even if we're comparing numbers\n  if (caseInsensitive) {\n    fieldVal = fieldStr = fieldStr.toLowerCase();\n    value = valStr = valStr.toLowerCase();\n  }\n  switch (operator) {\n    case '*=':\n      matches = fieldStr.indexOf(valStr) >= 0;\n      break;\n    case '$=':\n      matches = fieldStr.indexOf(valStr, fieldStr.length - valStr.length) >= 0;\n      break;\n    case '^=':\n      matches = fieldStr.indexOf(valStr) === 0;\n      break;\n    case '=':\n      matches = fieldVal === value;\n      break;\n    case '>':\n      isIneqCmp = true;\n      matches = fieldVal > value;\n      break;\n    case '>=':\n      isIneqCmp = true;\n      matches = fieldVal >= value;\n      break;\n    case '<':\n      isIneqCmp = true;\n      matches = fieldVal < value;\n      break;\n    case '<=':\n      isIneqCmp = true;\n      matches = fieldVal <= value;\n      break;\n    default:\n      matches = false;\n      break;\n  }\n\n  // apply the not op, but null vals for inequalities should always stay non-matching\n  if (notExpr && (fieldVal != null || !isIneqCmp)) {\n    matches = !matches;\n  }\n  return matches;\n};\nvar boolCmp = function boolCmp(fieldVal, operator) {\n  switch (operator) {\n    case '?':\n      return fieldVal ? true : false;\n    case '!':\n      return fieldVal ? false : true;\n    case '^':\n      return fieldVal === undefined;\n  }\n};\nvar existCmp = function existCmp(fieldVal) {\n  return fieldVal !== undefined;\n};\nvar data$1 = function data(ele, field) {\n  return ele.data(field);\n};\nvar meta = function meta(ele, field) {\n  return ele[field]();\n};\n\n/** A lookup of `match(check, ele)` functions by `Type` int */\nvar match = [];\n\n/**\n * Returns whether the query matches for the element\n * @param query The `{ type, value, ... }` query object\n * @param ele The element to compare against\n*/\nvar matches$1 = function matches(query, ele) {\n  return query.checks.every(function (chk) {\n    return match[chk.type](chk, ele);\n  });\n};\nmatch[Type.GROUP] = function (check, ele) {\n  var group = check.value;\n  return group === '*' || group === ele.group();\n};\nmatch[Type.STATE] = function (check, ele) {\n  var stateSelector = check.value;\n  return stateSelectorMatches(stateSelector, ele);\n};\nmatch[Type.ID] = function (check, ele) {\n  var id = check.value;\n  return ele.id() === id;\n};\nmatch[Type.CLASS] = function (check, ele) {\n  var cls = check.value;\n  return ele.hasClass(cls);\n};\nmatch[Type.META_COMPARE] = function (check, ele) {\n  var field = check.field,\n    operator = check.operator,\n    value = check.value;\n  return valCmp(meta(ele, field), operator, value);\n};\nmatch[Type.DATA_COMPARE] = function (check, ele) {\n  var field = check.field,\n    operator = check.operator,\n    value = check.value;\n  return valCmp(data$1(ele, field), operator, value);\n};\nmatch[Type.DATA_BOOL] = function (check, ele) {\n  var field = check.field,\n    operator = check.operator;\n  return boolCmp(data$1(ele, field), operator);\n};\nmatch[Type.DATA_EXIST] = function (check, ele) {\n  var field = check.field;\n    check.operator;\n  return existCmp(data$1(ele, field));\n};\nmatch[Type.UNDIRECTED_EDGE] = function (check, ele) {\n  var qA = check.nodes[0];\n  var qB = check.nodes[1];\n  var src = ele.source();\n  var tgt = ele.target();\n  return matches$1(qA, src) && matches$1(qB, tgt) || matches$1(qB, src) && matches$1(qA, tgt);\n};\nmatch[Type.NODE_NEIGHBOR] = function (check, ele) {\n  return matches$1(check.node, ele) && ele.neighborhood().some(function (n) {\n    return n.isNode() && matches$1(check.neighbor, n);\n  });\n};\nmatch[Type.DIRECTED_EDGE] = function (check, ele) {\n  return matches$1(check.source, ele.source()) && matches$1(check.target, ele.target());\n};\nmatch[Type.NODE_SOURCE] = function (check, ele) {\n  return matches$1(check.source, ele) && ele.outgoers().some(function (n) {\n    return n.isNode() && matches$1(check.target, n);\n  });\n};\nmatch[Type.NODE_TARGET] = function (check, ele) {\n  return matches$1(check.target, ele) && ele.incomers().some(function (n) {\n    return n.isNode() && matches$1(check.source, n);\n  });\n};\nmatch[Type.CHILD] = function (check, ele) {\n  return matches$1(check.child, ele) && matches$1(check.parent, ele.parent());\n};\nmatch[Type.PARENT] = function (check, ele) {\n  return matches$1(check.parent, ele) && ele.children().some(function (c) {\n    return matches$1(check.child, c);\n  });\n};\nmatch[Type.DESCENDANT] = function (check, ele) {\n  return matches$1(check.descendant, ele) && ele.ancestors().some(function (a) {\n    return matches$1(check.ancestor, a);\n  });\n};\nmatch[Type.ANCESTOR] = function (check, ele) {\n  return matches$1(check.ancestor, ele) && ele.descendants().some(function (d) {\n    return matches$1(check.descendant, d);\n  });\n};\nmatch[Type.COMPOUND_SPLIT] = function (check, ele) {\n  return matches$1(check.subject, ele) && matches$1(check.left, ele) && matches$1(check.right, ele);\n};\nmatch[Type.TRUE] = function () {\n  return true;\n};\nmatch[Type.COLLECTION] = function (check, ele) {\n  var collection = check.value;\n  return collection.has(ele);\n};\nmatch[Type.FILTER] = function (check, ele) {\n  var filter = check.value;\n  return filter(ele);\n};\n\n// filter an existing collection\nvar filter = function filter(collection) {\n  var self = this;\n\n  // for 1 id #foo queries, just get the element\n  if (self.length === 1 && self[0].checks.length === 1 && self[0].checks[0].type === Type.ID) {\n    return collection.getElementById(self[0].checks[0].value).collection();\n  }\n  var selectorFunction = function selectorFunction(element) {\n    for (var j = 0; j < self.length; j++) {\n      var query = self[j];\n      if (matches$1(query, element)) {\n        return true;\n      }\n    }\n    return false;\n  };\n  if (self.text() == null) {\n    selectorFunction = function selectorFunction() {\n      return true;\n    };\n  }\n  return collection.filter(selectorFunction);\n}; // filter\n\n// does selector match a single element?\nvar matches = function matches(ele) {\n  var self = this;\n  for (var j = 0; j < self.length; j++) {\n    var query = self[j];\n    if (matches$1(query, ele)) {\n      return true;\n    }\n  }\n  return false;\n}; // matches\n\nvar matching = {\n  matches: matches,\n  filter: filter\n};\n\nvar Selector = function Selector(selector) {\n  this.inputText = selector;\n  this.currentSubject = null;\n  this.compoundCount = 0;\n  this.edgeCount = 0;\n  this.length = 0;\n  if (selector == null || string(selector) && selector.match(/^\\s*$/)) ; else if (elementOrCollection(selector)) {\n    this.addQuery({\n      checks: [{\n        type: Type.COLLECTION,\n        value: selector.collection()\n      }]\n    });\n  } else if (fn$6(selector)) {\n    this.addQuery({\n      checks: [{\n        type: Type.FILTER,\n        value: selector\n      }]\n    });\n  } else if (string(selector)) {\n    if (!this.parse(selector)) {\n      this.invalid = true;\n    }\n  } else {\n    error('A selector must be created from a string; found ');\n  }\n};\nvar selfn = Selector.prototype;\n[parse$1, matching].forEach(function (p) {\n  return extend(selfn, p);\n});\nselfn.text = function () {\n  return this.inputText;\n};\nselfn.size = function () {\n  return this.length;\n};\nselfn.eq = function (i) {\n  return this[i];\n};\nselfn.sameText = function (otherSel) {\n  return !this.invalid && !otherSel.invalid && this.text() === otherSel.text();\n};\nselfn.addQuery = function (q) {\n  this[this.length++] = q;\n};\nselfn.selector = selfn.toString;\n\nvar elesfn$g = {\n  allAre: function allAre(selector) {\n    var selObj = new Selector(selector);\n    return this.every(function (ele) {\n      return selObj.matches(ele);\n    });\n  },\n  is: function is(selector) {\n    var selObj = new Selector(selector);\n    return this.some(function (ele) {\n      return selObj.matches(ele);\n    });\n  },\n  some: function some(fn, thisArg) {\n    for (var i = 0; i < this.length; i++) {\n      var ret = !thisArg ? fn(this[i], i, this) : fn.apply(thisArg, [this[i], i, this]);\n      if (ret) {\n        return true;\n      }\n    }\n    return false;\n  },\n  every: function every(fn, thisArg) {\n    for (var i = 0; i < this.length; i++) {\n      var ret = !thisArg ? fn(this[i], i, this) : fn.apply(thisArg, [this[i], i, this]);\n      if (!ret) {\n        return false;\n      }\n    }\n    return true;\n  },\n  same: function same(collection) {\n    // cheap collection ref check\n    if (this === collection) {\n      return true;\n    }\n    collection = this.cy().collection(collection);\n    var thisLength = this.length;\n    var collectionLength = collection.length;\n\n    // cheap length check\n    if (thisLength !== collectionLength) {\n      return false;\n    }\n\n    // cheap element ref check\n    if (thisLength === 1) {\n      return this[0] === collection[0];\n    }\n    return this.every(function (ele) {\n      return collection.hasElementWithId(ele.id());\n    });\n  },\n  anySame: function anySame(collection) {\n    collection = this.cy().collection(collection);\n    return this.some(function (ele) {\n      return collection.hasElementWithId(ele.id());\n    });\n  },\n  allAreNeighbors: function allAreNeighbors(collection) {\n    collection = this.cy().collection(collection);\n    var nhood = this.neighborhood();\n    return collection.every(function (ele) {\n      return nhood.hasElementWithId(ele.id());\n    });\n  },\n  contains: function contains(collection) {\n    collection = this.cy().collection(collection);\n    var self = this;\n    return collection.every(function (ele) {\n      return self.hasElementWithId(ele.id());\n    });\n  }\n};\nelesfn$g.allAreNeighbours = elesfn$g.allAreNeighbors;\nelesfn$g.has = elesfn$g.contains;\nelesfn$g.equal = elesfn$g.equals = elesfn$g.same;\n\nvar cache = function cache(fn, name) {\n  return function traversalCache(arg1, arg2, arg3, arg4) {\n    var selectorOrEles = arg1;\n    var eles = this;\n    var key;\n    if (selectorOrEles == null) {\n      key = '';\n    } else if (elementOrCollection(selectorOrEles) && selectorOrEles.length === 1) {\n      key = selectorOrEles.id();\n    }\n    if (eles.length === 1 && key) {\n      var _p = eles[0]._private;\n      var tch = _p.traversalCache = _p.traversalCache || {};\n      var ch = tch[name] = tch[name] || [];\n      var hash = hashString(key);\n      var cacheHit = ch[hash];\n      if (cacheHit) {\n        return cacheHit;\n      } else {\n        return ch[hash] = fn.call(eles, arg1, arg2, arg3, arg4);\n      }\n    } else {\n      return fn.call(eles, arg1, arg2, arg3, arg4);\n    }\n  };\n};\n\nvar elesfn$f = {\n  parent: function parent(selector) {\n    var parents = [];\n\n    // optimisation for single ele call\n    if (this.length === 1) {\n      var parent = this[0]._private.parent;\n      if (parent) {\n        return parent;\n      }\n    }\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var _parent = ele._private.parent;\n      if (_parent) {\n        parents.push(_parent);\n      }\n    }\n    return this.spawn(parents, true).filter(selector);\n  },\n  parents: function parents(selector) {\n    var parents = [];\n    var eles = this.parent();\n    while (eles.nonempty()) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        parents.push(ele);\n      }\n      eles = eles.parent();\n    }\n    return this.spawn(parents, true).filter(selector);\n  },\n  commonAncestors: function commonAncestors(selector) {\n    var ancestors;\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var parents = ele.parents();\n      ancestors = ancestors || parents;\n      ancestors = ancestors.intersect(parents); // current list must be common with current ele parents set\n    }\n\n    return ancestors.filter(selector);\n  },\n  orphans: function orphans(selector) {\n    return this.stdFilter(function (ele) {\n      return ele.isOrphan();\n    }).filter(selector);\n  },\n  nonorphans: function nonorphans(selector) {\n    return this.stdFilter(function (ele) {\n      return ele.isChild();\n    }).filter(selector);\n  },\n  children: cache(function (selector) {\n    var children = [];\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var eleChildren = ele._private.children;\n      for (var j = 0; j < eleChildren.length; j++) {\n        children.push(eleChildren[j]);\n      }\n    }\n    return this.spawn(children, true).filter(selector);\n  }, 'children'),\n  siblings: function siblings(selector) {\n    return this.parent().children().not(this).filter(selector);\n  },\n  isParent: function isParent() {\n    var ele = this[0];\n    if (ele) {\n      return ele.isNode() && ele._private.children.length !== 0;\n    }\n  },\n  isChildless: function isChildless() {\n    var ele = this[0];\n    if (ele) {\n      return ele.isNode() && ele._private.children.length === 0;\n    }\n  },\n  isChild: function isChild() {\n    var ele = this[0];\n    if (ele) {\n      return ele.isNode() && ele._private.parent != null;\n    }\n  },\n  isOrphan: function isOrphan() {\n    var ele = this[0];\n    if (ele) {\n      return ele.isNode() && ele._private.parent == null;\n    }\n  },\n  descendants: function descendants(selector) {\n    var elements = [];\n    function add(eles) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        elements.push(ele);\n        if (ele.children().nonempty()) {\n          add(ele.children());\n        }\n      }\n    }\n    add(this.children());\n    return this.spawn(elements, true).filter(selector);\n  }\n};\nfunction forEachCompound(eles, fn, includeSelf, recursiveStep) {\n  var q = [];\n  var did = new Set$1();\n  var cy = eles.cy();\n  var hasCompounds = cy.hasCompoundNodes();\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    if (includeSelf) {\n      q.push(ele);\n    } else if (hasCompounds) {\n      recursiveStep(q, did, ele);\n    }\n  }\n  while (q.length > 0) {\n    var _ele = q.shift();\n    fn(_ele);\n    did.add(_ele.id());\n    if (hasCompounds) {\n      recursiveStep(q, did, _ele);\n    }\n  }\n  return eles;\n}\nfunction addChildren(q, did, ele) {\n  if (ele.isParent()) {\n    var children = ele._private.children;\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      if (!did.has(child.id())) {\n        q.push(child);\n      }\n    }\n  }\n}\n\n// very efficient version of eles.add( eles.descendants() ).forEach()\n// for internal use\nelesfn$f.forEachDown = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return forEachCompound(this, fn, includeSelf, addChildren);\n};\nfunction addParent(q, did, ele) {\n  if (ele.isChild()) {\n    var parent = ele._private.parent;\n    if (!did.has(parent.id())) {\n      q.push(parent);\n    }\n  }\n}\nelesfn$f.forEachUp = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return forEachCompound(this, fn, includeSelf, addParent);\n};\nfunction addParentAndChildren(q, did, ele) {\n  addParent(q, did, ele);\n  addChildren(q, did, ele);\n}\nelesfn$f.forEachUpAndDown = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return forEachCompound(this, fn, includeSelf, addParentAndChildren);\n};\n\n// aliases\nelesfn$f.ancestors = elesfn$f.parents;\n\nvar fn$5, elesfn$e;\nfn$5 = elesfn$e = {\n  data: define.data({\n    field: 'data',\n    bindingEvent: 'data',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'data',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true,\n    immutableKeys: {\n      'id': true,\n      'source': true,\n      'target': true,\n      'parent': true\n    },\n    updateStyle: true\n  }),\n  removeData: define.removeData({\n    field: 'data',\n    event: 'data',\n    triggerFnName: 'trigger',\n    triggerEvent: true,\n    immutableKeys: {\n      'id': true,\n      'source': true,\n      'target': true,\n      'parent': true\n    },\n    updateStyle: true\n  }),\n  scratch: define.data({\n    field: 'scratch',\n    bindingEvent: 'scratch',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'scratch',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true,\n    updateStyle: true\n  }),\n  removeScratch: define.removeData({\n    field: 'scratch',\n    event: 'scratch',\n    triggerFnName: 'trigger',\n    triggerEvent: true,\n    updateStyle: true\n  }),\n  rscratch: define.data({\n    field: 'rscratch',\n    allowBinding: false,\n    allowSetting: true,\n    settingTriggersEvent: false,\n    allowGetting: true\n  }),\n  removeRscratch: define.removeData({\n    field: 'rscratch',\n    triggerEvent: false\n  }),\n  id: function id() {\n    var ele = this[0];\n    if (ele) {\n      return ele._private.data.id;\n    }\n  }\n};\n\n// aliases\nfn$5.attr = fn$5.data;\nfn$5.removeAttr = fn$5.removeData;\nvar data = elesfn$e;\n\nvar elesfn$d = {};\nfunction defineDegreeFunction(callback) {\n  return function (includeLoops) {\n    var self = this;\n    if (includeLoops === undefined) {\n      includeLoops = true;\n    }\n    if (self.length === 0) {\n      return;\n    }\n    if (self.isNode() && !self.removed()) {\n      var degree = 0;\n      var node = self[0];\n      var connectedEdges = node._private.edges;\n      for (var i = 0; i < connectedEdges.length; i++) {\n        var edge = connectedEdges[i];\n        if (!includeLoops && edge.isLoop()) {\n          continue;\n        }\n        degree += callback(node, edge);\n      }\n      return degree;\n    } else {\n      return;\n    }\n  };\n}\nextend(elesfn$d, {\n  degree: defineDegreeFunction(function (node, edge) {\n    if (edge.source().same(edge.target())) {\n      return 2;\n    } else {\n      return 1;\n    }\n  }),\n  indegree: defineDegreeFunction(function (node, edge) {\n    if (edge.target().same(node)) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }),\n  outdegree: defineDegreeFunction(function (node, edge) {\n    if (edge.source().same(node)) {\n      return 1;\n    } else {\n      return 0;\n    }\n  })\n});\nfunction defineDegreeBoundsFunction(degreeFn, callback) {\n  return function (includeLoops) {\n    var ret;\n    var nodes = this.nodes();\n    for (var i = 0; i < nodes.length; i++) {\n      var ele = nodes[i];\n      var degree = ele[degreeFn](includeLoops);\n      if (degree !== undefined && (ret === undefined || callback(degree, ret))) {\n        ret = degree;\n      }\n    }\n    return ret;\n  };\n}\nextend(elesfn$d, {\n  minDegree: defineDegreeBoundsFunction('degree', function (degree, min) {\n    return degree < min;\n  }),\n  maxDegree: defineDegreeBoundsFunction('degree', function (degree, max) {\n    return degree > max;\n  }),\n  minIndegree: defineDegreeBoundsFunction('indegree', function (degree, min) {\n    return degree < min;\n  }),\n  maxIndegree: defineDegreeBoundsFunction('indegree', function (degree, max) {\n    return degree > max;\n  }),\n  minOutdegree: defineDegreeBoundsFunction('outdegree', function (degree, min) {\n    return degree < min;\n  }),\n  maxOutdegree: defineDegreeBoundsFunction('outdegree', function (degree, max) {\n    return degree > max;\n  })\n});\nextend(elesfn$d, {\n  totalDegree: function totalDegree(includeLoops) {\n    var total = 0;\n    var nodes = this.nodes();\n    for (var i = 0; i < nodes.length; i++) {\n      total += nodes[i].degree(includeLoops);\n    }\n    return total;\n  }\n});\n\nvar fn$4, elesfn$c;\nvar beforePositionSet = function beforePositionSet(eles, newPos, silent) {\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    if (!ele.locked()) {\n      var oldPos = ele._private.position;\n      var delta = {\n        x: newPos.x != null ? newPos.x - oldPos.x : 0,\n        y: newPos.y != null ? newPos.y - oldPos.y : 0\n      };\n      if (ele.isParent() && !(delta.x === 0 && delta.y === 0)) {\n        ele.children().shift(delta, silent);\n      }\n      ele.dirtyBoundingBoxCache();\n    }\n  }\n};\nvar positionDef = {\n  field: 'position',\n  bindingEvent: 'position',\n  allowBinding: true,\n  allowSetting: true,\n  settingEvent: 'position',\n  settingTriggersEvent: true,\n  triggerFnName: 'emitAndNotify',\n  allowGetting: true,\n  validKeys: ['x', 'y'],\n  beforeGet: function beforeGet(ele) {\n    ele.updateCompoundBounds();\n  },\n  beforeSet: function beforeSet(eles, newPos) {\n    beforePositionSet(eles, newPos, false);\n  },\n  onSet: function onSet(eles) {\n    eles.dirtyCompoundBoundsCache();\n  },\n  canSet: function canSet(ele) {\n    return !ele.locked();\n  }\n};\nfn$4 = elesfn$c = {\n  position: define.data(positionDef),\n  // position but no notification to renderer\n  silentPosition: define.data(extend({}, positionDef, {\n    allowBinding: false,\n    allowSetting: true,\n    settingTriggersEvent: false,\n    allowGetting: false,\n    beforeSet: function beforeSet(eles, newPos) {\n      beforePositionSet(eles, newPos, true);\n    },\n    onSet: function onSet(eles) {\n      eles.dirtyCompoundBoundsCache();\n    }\n  })),\n  positions: function positions(pos, silent) {\n    if (plainObject(pos)) {\n      if (silent) {\n        this.silentPosition(pos);\n      } else {\n        this.position(pos);\n      }\n    } else if (fn$6(pos)) {\n      var _fn = pos;\n      var cy = this.cy();\n      cy.startBatch();\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var _pos = void 0;\n        if (_pos = _fn(ele, i)) {\n          if (silent) {\n            ele.silentPosition(_pos);\n          } else {\n            ele.position(_pos);\n          }\n        }\n      }\n      cy.endBatch();\n    }\n    return this; // chaining\n  },\n\n  silentPositions: function silentPositions(pos) {\n    return this.positions(pos, true);\n  },\n  shift: function shift(dim, val, silent) {\n    var delta;\n    if (plainObject(dim)) {\n      delta = {\n        x: number$1(dim.x) ? dim.x : 0,\n        y: number$1(dim.y) ? dim.y : 0\n      };\n      silent = val;\n    } else if (string(dim) && number$1(val)) {\n      delta = {\n        x: 0,\n        y: 0\n      };\n      delta[dim] = val;\n    }\n    if (delta != null) {\n      var cy = this.cy();\n      cy.startBatch();\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n\n        // exclude any node that is a descendant of the calling collection\n        if (cy.hasCompoundNodes() && ele.isChild() && ele.ancestors().anySame(this)) {\n          continue;\n        }\n        var pos = ele.position();\n        var newPos = {\n          x: pos.x + delta.x,\n          y: pos.y + delta.y\n        };\n        if (silent) {\n          ele.silentPosition(newPos);\n        } else {\n          ele.position(newPos);\n        }\n      }\n      cy.endBatch();\n    }\n    return this;\n  },\n  silentShift: function silentShift(dim, val) {\n    if (plainObject(dim)) {\n      this.shift(dim, true);\n    } else if (string(dim) && number$1(val)) {\n      this.shift(dim, val, true);\n    }\n    return this;\n  },\n  // get/set the rendered (i.e. on screen) positon of the element\n  renderedPosition: function renderedPosition(dim, val) {\n    var ele = this[0];\n    var cy = this.cy();\n    var zoom = cy.zoom();\n    var pan = cy.pan();\n    var rpos = plainObject(dim) ? dim : undefined;\n    var setting = rpos !== undefined || val !== undefined && string(dim);\n    if (ele && ele.isNode()) {\n      // must have an element and must be a node to return position\n      if (setting) {\n        for (var i = 0; i < this.length; i++) {\n          var _ele = this[i];\n          if (val !== undefined) {\n            // set one dimension\n            _ele.position(dim, (val - pan[dim]) / zoom);\n          } else if (rpos !== undefined) {\n            // set whole position\n            _ele.position(renderedToModelPosition(rpos, zoom, pan));\n          }\n        }\n      } else {\n        // getting\n        var pos = ele.position();\n        rpos = modelToRenderedPosition(pos, zoom, pan);\n        if (dim === undefined) {\n          // then return the whole rendered position\n          return rpos;\n        } else {\n          // then return the specified dimension\n          return rpos[dim];\n        }\n      }\n    } else if (!setting) {\n      return undefined; // for empty collection case\n    }\n\n    return this; // chaining\n  },\n\n  // get/set the position relative to the parent\n  relativePosition: function relativePosition(dim, val) {\n    var ele = this[0];\n    var cy = this.cy();\n    var ppos = plainObject(dim) ? dim : undefined;\n    var setting = ppos !== undefined || val !== undefined && string(dim);\n    var hasCompoundNodes = cy.hasCompoundNodes();\n    if (ele && ele.isNode()) {\n      // must have an element and must be a node to return position\n      if (setting) {\n        for (var i = 0; i < this.length; i++) {\n          var _ele2 = this[i];\n          var parent = hasCompoundNodes ? _ele2.parent() : null;\n          var hasParent = parent && parent.length > 0;\n          var relativeToParent = hasParent;\n          if (hasParent) {\n            parent = parent[0];\n          }\n          var origin = relativeToParent ? parent.position() : {\n            x: 0,\n            y: 0\n          };\n          if (val !== undefined) {\n            // set one dimension\n            _ele2.position(dim, val + origin[dim]);\n          } else if (ppos !== undefined) {\n            // set whole position\n            _ele2.position({\n              x: ppos.x + origin.x,\n              y: ppos.y + origin.y\n            });\n          }\n        }\n      } else {\n        // getting\n        var pos = ele.position();\n        var _parent = hasCompoundNodes ? ele.parent() : null;\n        var _hasParent = _parent && _parent.length > 0;\n        var _relativeToParent = _hasParent;\n        if (_hasParent) {\n          _parent = _parent[0];\n        }\n        var _origin = _relativeToParent ? _parent.position() : {\n          x: 0,\n          y: 0\n        };\n        ppos = {\n          x: pos.x - _origin.x,\n          y: pos.y - _origin.y\n        };\n        if (dim === undefined) {\n          // then return the whole rendered position\n          return ppos;\n        } else {\n          // then return the specified dimension\n          return ppos[dim];\n        }\n      }\n    } else if (!setting) {\n      return undefined; // for empty collection case\n    }\n\n    return this; // chaining\n  }\n};\n\n// aliases\nfn$4.modelPosition = fn$4.point = fn$4.position;\nfn$4.modelPositions = fn$4.points = fn$4.positions;\nfn$4.renderedPoint = fn$4.renderedPosition;\nfn$4.relativePoint = fn$4.relativePosition;\nvar position = elesfn$c;\n\nvar fn$3, elesfn$b;\nfn$3 = elesfn$b = {};\nelesfn$b.renderedBoundingBox = function (options) {\n  var bb = this.boundingBox(options);\n  var cy = this.cy();\n  var zoom = cy.zoom();\n  var pan = cy.pan();\n  var x1 = bb.x1 * zoom + pan.x;\n  var x2 = bb.x2 * zoom + pan.x;\n  var y1 = bb.y1 * zoom + pan.y;\n  var y2 = bb.y2 * zoom + pan.y;\n  return {\n    x1: x1,\n    x2: x2,\n    y1: y1,\n    y2: y2,\n    w: x2 - x1,\n    h: y2 - y1\n  };\n};\nelesfn$b.dirtyCompoundBoundsCache = function () {\n  var silent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var cy = this.cy();\n  if (!cy.styleEnabled() || !cy.hasCompoundNodes()) {\n    return this;\n  }\n  this.forEachUp(function (ele) {\n    if (ele.isParent()) {\n      var _p = ele._private;\n      _p.compoundBoundsClean = false;\n      _p.bbCache = null;\n      if (!silent) {\n        ele.emitAndNotify('bounds');\n      }\n    }\n  });\n  return this;\n};\nelesfn$b.updateCompoundBounds = function () {\n  var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var cy = this.cy();\n\n  // not possible to do on non-compound graphs or with the style disabled\n  if (!cy.styleEnabled() || !cy.hasCompoundNodes()) {\n    return this;\n  }\n\n  // save cycles when batching -- but bounds will be stale (or not exist yet)\n  if (!force && cy.batching()) {\n    return this;\n  }\n  function update(parent) {\n    if (!parent.isParent()) {\n      return;\n    }\n    var _p = parent._private;\n    var children = parent.children();\n    var includeLabels = parent.pstyle('compound-sizing-wrt-labels').value === 'include';\n    var min = {\n      width: {\n        val: parent.pstyle('min-width').pfValue,\n        left: parent.pstyle('min-width-bias-left'),\n        right: parent.pstyle('min-width-bias-right')\n      },\n      height: {\n        val: parent.pstyle('min-height').pfValue,\n        top: parent.pstyle('min-height-bias-top'),\n        bottom: parent.pstyle('min-height-bias-bottom')\n      }\n    };\n    var bb = children.boundingBox({\n      includeLabels: includeLabels,\n      includeOverlays: false,\n      // updating the compound bounds happens outside of the regular\n      // cache cycle (i.e. before fired events)\n      useCache: false\n    });\n    var pos = _p.position;\n\n    // if children take up zero area then keep position and fall back on stylesheet w/h\n    if (bb.w === 0 || bb.h === 0) {\n      bb = {\n        w: parent.pstyle('width').pfValue,\n        h: parent.pstyle('height').pfValue\n      };\n      bb.x1 = pos.x - bb.w / 2;\n      bb.x2 = pos.x + bb.w / 2;\n      bb.y1 = pos.y - bb.h / 2;\n      bb.y2 = pos.y + bb.h / 2;\n    }\n    function computeBiasValues(propDiff, propBias, propBiasComplement) {\n      var biasDiff = 0;\n      var biasComplementDiff = 0;\n      var biasTotal = propBias + propBiasComplement;\n      if (propDiff > 0 && biasTotal > 0) {\n        biasDiff = propBias / biasTotal * propDiff;\n        biasComplementDiff = propBiasComplement / biasTotal * propDiff;\n      }\n      return {\n        biasDiff: biasDiff,\n        biasComplementDiff: biasComplementDiff\n      };\n    }\n    function computePaddingValues(width, height, paddingObject, relativeTo) {\n      // Assuming percentage is number from 0 to 1\n      if (paddingObject.units === '%') {\n        switch (relativeTo) {\n          case 'width':\n            return width > 0 ? paddingObject.pfValue * width : 0;\n          case 'height':\n            return height > 0 ? paddingObject.pfValue * height : 0;\n          case 'average':\n            return width > 0 && height > 0 ? paddingObject.pfValue * (width + height) / 2 : 0;\n          case 'min':\n            return width > 0 && height > 0 ? width > height ? paddingObject.pfValue * height : paddingObject.pfValue * width : 0;\n          case 'max':\n            return width > 0 && height > 0 ? width > height ? paddingObject.pfValue * width : paddingObject.pfValue * height : 0;\n          default:\n            return 0;\n        }\n      } else if (paddingObject.units === 'px') {\n        return paddingObject.pfValue;\n      } else {\n        return 0;\n      }\n    }\n    var leftVal = min.width.left.value;\n    if (min.width.left.units === 'px' && min.width.val > 0) {\n      leftVal = leftVal * 100 / min.width.val;\n    }\n    var rightVal = min.width.right.value;\n    if (min.width.right.units === 'px' && min.width.val > 0) {\n      rightVal = rightVal * 100 / min.width.val;\n    }\n    var topVal = min.height.top.value;\n    if (min.height.top.units === 'px' && min.height.val > 0) {\n      topVal = topVal * 100 / min.height.val;\n    }\n    var bottomVal = min.height.bottom.value;\n    if (min.height.bottom.units === 'px' && min.height.val > 0) {\n      bottomVal = bottomVal * 100 / min.height.val;\n    }\n    var widthBiasDiffs = computeBiasValues(min.width.val - bb.w, leftVal, rightVal);\n    var diffLeft = widthBiasDiffs.biasDiff;\n    var diffRight = widthBiasDiffs.biasComplementDiff;\n    var heightBiasDiffs = computeBiasValues(min.height.val - bb.h, topVal, bottomVal);\n    var diffTop = heightBiasDiffs.biasDiff;\n    var diffBottom = heightBiasDiffs.biasComplementDiff;\n    _p.autoPadding = computePaddingValues(bb.w, bb.h, parent.pstyle('padding'), parent.pstyle('padding-relative-to').value);\n    _p.autoWidth = Math.max(bb.w, min.width.val);\n    pos.x = (-diffLeft + bb.x1 + bb.x2 + diffRight) / 2;\n    _p.autoHeight = Math.max(bb.h, min.height.val);\n    pos.y = (-diffTop + bb.y1 + bb.y2 + diffBottom) / 2;\n  }\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var _p = ele._private;\n    if (!_p.compoundBoundsClean || force) {\n      update(ele);\n      if (!cy.batching()) {\n        _p.compoundBoundsClean = true;\n      }\n    }\n  }\n  return this;\n};\nvar noninf = function noninf(x) {\n  if (x === Infinity || x === -Infinity) {\n    return 0;\n  }\n  return x;\n};\nvar updateBounds = function updateBounds(b, x1, y1, x2, y2) {\n  // don't update with zero area boxes\n  if (x2 - x1 === 0 || y2 - y1 === 0) {\n    return;\n  }\n\n  // don't update with null dim\n  if (x1 == null || y1 == null || x2 == null || y2 == null) {\n    return;\n  }\n  b.x1 = x1 < b.x1 ? x1 : b.x1;\n  b.x2 = x2 > b.x2 ? x2 : b.x2;\n  b.y1 = y1 < b.y1 ? y1 : b.y1;\n  b.y2 = y2 > b.y2 ? y2 : b.y2;\n  b.w = b.x2 - b.x1;\n  b.h = b.y2 - b.y1;\n};\nvar updateBoundsFromBox = function updateBoundsFromBox(b, b2) {\n  if (b2 == null) {\n    return b;\n  }\n  return updateBounds(b, b2.x1, b2.y1, b2.x2, b2.y2);\n};\nvar prefixedProperty = function prefixedProperty(obj, field, prefix) {\n  return getPrefixedProperty(obj, field, prefix);\n};\nvar updateBoundsFromArrow = function updateBoundsFromArrow(bounds, ele, prefix) {\n  if (ele.cy().headless()) {\n    return;\n  }\n  var _p = ele._private;\n  var rstyle = _p.rstyle;\n  var halfArW = rstyle.arrowWidth / 2;\n  var arrowType = ele.pstyle(prefix + '-arrow-shape').value;\n  var x;\n  var y;\n  if (arrowType !== 'none') {\n    if (prefix === 'source') {\n      x = rstyle.srcX;\n      y = rstyle.srcY;\n    } else if (prefix === 'target') {\n      x = rstyle.tgtX;\n      y = rstyle.tgtY;\n    } else {\n      x = rstyle.midX;\n      y = rstyle.midY;\n    }\n\n    // always store the individual arrow bounds\n    var bbs = _p.arrowBounds = _p.arrowBounds || {};\n    var bb = bbs[prefix] = bbs[prefix] || {};\n    bb.x1 = x - halfArW;\n    bb.y1 = y - halfArW;\n    bb.x2 = x + halfArW;\n    bb.y2 = y + halfArW;\n    bb.w = bb.x2 - bb.x1;\n    bb.h = bb.y2 - bb.y1;\n    expandBoundingBox(bb, 1);\n    updateBounds(bounds, bb.x1, bb.y1, bb.x2, bb.y2);\n  }\n};\nvar updateBoundsFromLabel = function updateBoundsFromLabel(bounds, ele, prefix) {\n  if (ele.cy().headless()) {\n    return;\n  }\n  var prefixDash;\n  if (prefix) {\n    prefixDash = prefix + '-';\n  } else {\n    prefixDash = '';\n  }\n  var _p = ele._private;\n  var rstyle = _p.rstyle;\n  var label = ele.pstyle(prefixDash + 'label').strValue;\n  if (label) {\n    var halign = ele.pstyle('text-halign');\n    var valign = ele.pstyle('text-valign');\n    var labelWidth = prefixedProperty(rstyle, 'labelWidth', prefix);\n    var labelHeight = prefixedProperty(rstyle, 'labelHeight', prefix);\n    var labelX = prefixedProperty(rstyle, 'labelX', prefix);\n    var labelY = prefixedProperty(rstyle, 'labelY', prefix);\n    var marginX = ele.pstyle(prefixDash + 'text-margin-x').pfValue;\n    var marginY = ele.pstyle(prefixDash + 'text-margin-y').pfValue;\n    var isEdge = ele.isEdge();\n    var rotation = ele.pstyle(prefixDash + 'text-rotation');\n    var outlineWidth = ele.pstyle('text-outline-width').pfValue;\n    var borderWidth = ele.pstyle('text-border-width').pfValue;\n    var halfBorderWidth = borderWidth / 2;\n    var padding = ele.pstyle('text-background-padding').pfValue;\n    var marginOfError = 2; // expand to work around browser dimension inaccuracies\n\n    var lh = labelHeight;\n    var lw = labelWidth;\n    var lw_2 = lw / 2;\n    var lh_2 = lh / 2;\n    var lx1, lx2, ly1, ly2;\n    if (isEdge) {\n      lx1 = labelX - lw_2;\n      lx2 = labelX + lw_2;\n      ly1 = labelY - lh_2;\n      ly2 = labelY + lh_2;\n    } else {\n      switch (halign.value) {\n        case 'left':\n          lx1 = labelX - lw;\n          lx2 = labelX;\n          break;\n        case 'center':\n          lx1 = labelX - lw_2;\n          lx2 = labelX + lw_2;\n          break;\n        case 'right':\n          lx1 = labelX;\n          lx2 = labelX + lw;\n          break;\n      }\n      switch (valign.value) {\n        case 'top':\n          ly1 = labelY - lh;\n          ly2 = labelY;\n          break;\n        case 'center':\n          ly1 = labelY - lh_2;\n          ly2 = labelY + lh_2;\n          break;\n        case 'bottom':\n          ly1 = labelY;\n          ly2 = labelY + lh;\n          break;\n      }\n    }\n\n    // shift by margin and expand by outline and border\n    lx1 += marginX - Math.max(outlineWidth, halfBorderWidth) - padding - marginOfError;\n    lx2 += marginX + Math.max(outlineWidth, halfBorderWidth) + padding + marginOfError;\n    ly1 += marginY - Math.max(outlineWidth, halfBorderWidth) - padding - marginOfError;\n    ly2 += marginY + Math.max(outlineWidth, halfBorderWidth) + padding + marginOfError;\n\n    // always store the unrotated label bounds separately\n    var bbPrefix = prefix || 'main';\n    var bbs = _p.labelBounds;\n    var bb = bbs[bbPrefix] = bbs[bbPrefix] || {};\n    bb.x1 = lx1;\n    bb.y1 = ly1;\n    bb.x2 = lx2;\n    bb.y2 = ly2;\n    bb.w = lx2 - lx1;\n    bb.h = ly2 - ly1;\n    var isAutorotate = isEdge && rotation.strValue === 'autorotate';\n    var isPfValue = rotation.pfValue != null && rotation.pfValue !== 0;\n    if (isAutorotate || isPfValue) {\n      var theta = isAutorotate ? prefixedProperty(_p.rstyle, 'labelAngle', prefix) : rotation.pfValue;\n      var cos = Math.cos(theta);\n      var sin = Math.sin(theta);\n\n      // rotation point (default value for center-center)\n      var xo = (lx1 + lx2) / 2;\n      var yo = (ly1 + ly2) / 2;\n      if (!isEdge) {\n        switch (halign.value) {\n          case 'left':\n            xo = lx2;\n            break;\n          case 'right':\n            xo = lx1;\n            break;\n        }\n        switch (valign.value) {\n          case 'top':\n            yo = ly2;\n            break;\n          case 'bottom':\n            yo = ly1;\n            break;\n        }\n      }\n      var rotate = function rotate(x, y) {\n        x = x - xo;\n        y = y - yo;\n        return {\n          x: x * cos - y * sin + xo,\n          y: x * sin + y * cos + yo\n        };\n      };\n      var px1y1 = rotate(lx1, ly1);\n      var px1y2 = rotate(lx1, ly2);\n      var px2y1 = rotate(lx2, ly1);\n      var px2y2 = rotate(lx2, ly2);\n      lx1 = Math.min(px1y1.x, px1y2.x, px2y1.x, px2y2.x);\n      lx2 = Math.max(px1y1.x, px1y2.x, px2y1.x, px2y2.x);\n      ly1 = Math.min(px1y1.y, px1y2.y, px2y1.y, px2y2.y);\n      ly2 = Math.max(px1y1.y, px1y2.y, px2y1.y, px2y2.y);\n    }\n    var bbPrefixRot = bbPrefix + 'Rot';\n    var bbRot = bbs[bbPrefixRot] = bbs[bbPrefixRot] || {};\n    bbRot.x1 = lx1;\n    bbRot.y1 = ly1;\n    bbRot.x2 = lx2;\n    bbRot.y2 = ly2;\n    bbRot.w = lx2 - lx1;\n    bbRot.h = ly2 - ly1;\n    updateBounds(bounds, lx1, ly1, lx2, ly2);\n    updateBounds(_p.labelBounds.all, lx1, ly1, lx2, ly2);\n  }\n  return bounds;\n};\nvar updateBoundsFromOutline = function updateBoundsFromOutline(bounds, ele) {\n  if (ele.cy().headless()) {\n    return;\n  }\n  var outlineOpacity = ele.pstyle('outline-opacity').value;\n  var outlineWidth = ele.pstyle('outline-width').value;\n  if (outlineOpacity > 0 && outlineWidth > 0) {\n    var outlineOffset = ele.pstyle('outline-offset').value;\n    var nodeShape = ele.pstyle('shape').value;\n    var outlineSize = outlineWidth + outlineOffset;\n    var scaleX = (bounds.w + outlineSize * 2) / bounds.w;\n    var scaleY = (bounds.h + outlineSize * 2) / bounds.h;\n    var xOffset = 0;\n    var yOffset = 0;\n    if ([\"diamond\", \"pentagon\", \"round-triangle\"].includes(nodeShape)) {\n      scaleX = (bounds.w + outlineSize * 2.4) / bounds.w;\n      yOffset = -outlineSize / 3.6;\n    } else if ([\"concave-hexagon\", \"rhomboid\", \"right-rhomboid\"].includes(nodeShape)) {\n      scaleX = (bounds.w + outlineSize * 2.4) / bounds.w;\n    } else if (nodeShape === \"star\") {\n      scaleX = (bounds.w + outlineSize * 2.8) / bounds.w;\n      scaleY = (bounds.h + outlineSize * 2.6) / bounds.h;\n      yOffset = -outlineSize / 3.8;\n    } else if (nodeShape === \"triangle\") {\n      scaleX = (bounds.w + outlineSize * 2.8) / bounds.w;\n      scaleY = (bounds.h + outlineSize * 2.4) / bounds.h;\n      yOffset = -outlineSize / 1.4;\n    } else if (nodeShape === \"vee\") {\n      scaleX = (bounds.w + outlineSize * 4.4) / bounds.w;\n      scaleY = (bounds.h + outlineSize * 3.8) / bounds.h;\n      yOffset = -outlineSize * .5;\n    }\n    var hDelta = bounds.h * scaleY - bounds.h;\n    var wDelta = bounds.w * scaleX - bounds.w;\n    expandBoundingBoxSides(bounds, [Math.ceil(hDelta / 2), Math.ceil(wDelta / 2)]);\n    if (xOffset != 0 || yOffset !== 0) {\n      var oBounds = shiftBoundingBox(bounds, xOffset, yOffset);\n      updateBoundingBox(bounds, oBounds);\n    }\n  }\n};\n\n// get the bounding box of the elements (in raw model position)\nvar boundingBoxImpl = function boundingBoxImpl(ele, options) {\n  var cy = ele._private.cy;\n  var styleEnabled = cy.styleEnabled();\n  var headless = cy.headless();\n  var bounds = makeBoundingBox();\n  var _p = ele._private;\n  var isNode = ele.isNode();\n  var isEdge = ele.isEdge();\n  var ex1, ex2, ey1, ey2; // extrema of body / lines\n  var x, y; // node pos\n  var rstyle = _p.rstyle;\n  var manualExpansion = isNode && styleEnabled ? ele.pstyle('bounds-expansion').pfValue : [0];\n\n  // must use `display` prop only, as reading `compound.width()` causes recursion\n  // (other factors like width values will be considered later in this function anyway)\n  var isDisplayed = function isDisplayed(ele) {\n    return ele.pstyle('display').value !== 'none';\n  };\n  var displayed = !styleEnabled || isDisplayed(ele)\n\n  // must take into account connected nodes b/c of implicit edge hiding on display:none node\n  && (!isEdge || isDisplayed(ele.source()) && isDisplayed(ele.target()));\n  if (displayed) {\n    // displayed suffices, since we will find zero area eles anyway\n    var overlayOpacity = 0;\n    var overlayPadding = 0;\n    if (styleEnabled && options.includeOverlays) {\n      overlayOpacity = ele.pstyle('overlay-opacity').value;\n      if (overlayOpacity !== 0) {\n        overlayPadding = ele.pstyle('overlay-padding').value;\n      }\n    }\n    var underlayOpacity = 0;\n    var underlayPadding = 0;\n    if (styleEnabled && options.includeUnderlays) {\n      underlayOpacity = ele.pstyle('underlay-opacity').value;\n      if (underlayOpacity !== 0) {\n        underlayPadding = ele.pstyle('underlay-padding').value;\n      }\n    }\n    var padding = Math.max(overlayPadding, underlayPadding);\n    var w = 0;\n    var wHalf = 0;\n    if (styleEnabled) {\n      w = ele.pstyle('width').pfValue;\n      wHalf = w / 2;\n    }\n    if (isNode && options.includeNodes) {\n      var pos = ele.position();\n      x = pos.x;\n      y = pos.y;\n      var _w = ele.outerWidth();\n      var halfW = _w / 2;\n      var h = ele.outerHeight();\n      var halfH = h / 2;\n\n      // handle node dimensions\n      /////////////////////////\n\n      ex1 = x - halfW;\n      ex2 = x + halfW;\n      ey1 = y - halfH;\n      ey2 = y + halfH;\n      updateBounds(bounds, ex1, ey1, ex2, ey2);\n      if (styleEnabled && options.includeOutlines) {\n        updateBoundsFromOutline(bounds, ele);\n      }\n    } else if (isEdge && options.includeEdges) {\n      if (styleEnabled && !headless) {\n        var curveStyle = ele.pstyle('curve-style').strValue;\n\n        // handle edge dimensions (rough box estimate)\n        //////////////////////////////////////////////\n\n        ex1 = Math.min(rstyle.srcX, rstyle.midX, rstyle.tgtX);\n        ex2 = Math.max(rstyle.srcX, rstyle.midX, rstyle.tgtX);\n        ey1 = Math.min(rstyle.srcY, rstyle.midY, rstyle.tgtY);\n        ey2 = Math.max(rstyle.srcY, rstyle.midY, rstyle.tgtY);\n\n        // take into account edge width\n        ex1 -= wHalf;\n        ex2 += wHalf;\n        ey1 -= wHalf;\n        ey2 += wHalf;\n        updateBounds(bounds, ex1, ey1, ex2, ey2);\n\n        // precise edges\n        ////////////////\n\n        if (curveStyle === 'haystack') {\n          var hpts = rstyle.haystackPts;\n          if (hpts && hpts.length === 2) {\n            ex1 = hpts[0].x;\n            ey1 = hpts[0].y;\n            ex2 = hpts[1].x;\n            ey2 = hpts[1].y;\n            if (ex1 > ex2) {\n              var temp = ex1;\n              ex1 = ex2;\n              ex2 = temp;\n            }\n            if (ey1 > ey2) {\n              var _temp = ey1;\n              ey1 = ey2;\n              ey2 = _temp;\n            }\n            updateBounds(bounds, ex1 - wHalf, ey1 - wHalf, ex2 + wHalf, ey2 + wHalf);\n          }\n        } else if (curveStyle === 'bezier' || curveStyle === 'unbundled-bezier' || curveStyle.endsWith('segments') || curveStyle.endsWith('taxi')) {\n          var pts;\n          switch (curveStyle) {\n            case 'bezier':\n            case 'unbundled-bezier':\n              pts = rstyle.bezierPts;\n              break;\n            case 'segments':\n            case 'taxi':\n            case 'round-segments':\n            case 'round-taxi':\n              pts = rstyle.linePts;\n              break;\n          }\n          if (pts != null) {\n            for (var j = 0; j < pts.length; j++) {\n              var pt = pts[j];\n              ex1 = pt.x - wHalf;\n              ex2 = pt.x + wHalf;\n              ey1 = pt.y - wHalf;\n              ey2 = pt.y + wHalf;\n              updateBounds(bounds, ex1, ey1, ex2, ey2);\n            }\n          }\n        } // bezier-like or segment-like edge\n      } else {\n        // headless or style disabled\n\n        // fallback on source and target positions\n        //////////////////////////////////////////\n\n        var n1 = ele.source();\n        var n1pos = n1.position();\n        var n2 = ele.target();\n        var n2pos = n2.position();\n        ex1 = n1pos.x;\n        ex2 = n2pos.x;\n        ey1 = n1pos.y;\n        ey2 = n2pos.y;\n        if (ex1 > ex2) {\n          var _temp2 = ex1;\n          ex1 = ex2;\n          ex2 = _temp2;\n        }\n        if (ey1 > ey2) {\n          var _temp3 = ey1;\n          ey1 = ey2;\n          ey2 = _temp3;\n        }\n\n        // take into account edge width\n        ex1 -= wHalf;\n        ex2 += wHalf;\n        ey1 -= wHalf;\n        ey2 += wHalf;\n        updateBounds(bounds, ex1, ey1, ex2, ey2);\n      } // headless or style disabled\n    } // edges\n\n    // handle edge arrow size\n    /////////////////////////\n\n    if (styleEnabled && options.includeEdges && isEdge) {\n      updateBoundsFromArrow(bounds, ele, 'mid-source');\n      updateBoundsFromArrow(bounds, ele, 'mid-target');\n      updateBoundsFromArrow(bounds, ele, 'source');\n      updateBoundsFromArrow(bounds, ele, 'target');\n    }\n\n    // ghost\n    ////////\n\n    if (styleEnabled) {\n      var ghost = ele.pstyle('ghost').value === 'yes';\n      if (ghost) {\n        var gx = ele.pstyle('ghost-offset-x').pfValue;\n        var gy = ele.pstyle('ghost-offset-y').pfValue;\n        updateBounds(bounds, bounds.x1 + gx, bounds.y1 + gy, bounds.x2 + gx, bounds.y2 + gy);\n      }\n    }\n\n    // always store the body bounds separately from the labels\n    var bbBody = _p.bodyBounds = _p.bodyBounds || {};\n    assignBoundingBox(bbBody, bounds);\n    expandBoundingBoxSides(bbBody, manualExpansion);\n    expandBoundingBox(bbBody, 1); // expand to work around browser dimension inaccuracies\n\n    // overlay\n    //////////\n\n    if (styleEnabled) {\n      ex1 = bounds.x1;\n      ex2 = bounds.x2;\n      ey1 = bounds.y1;\n      ey2 = bounds.y2;\n      updateBounds(bounds, ex1 - padding, ey1 - padding, ex2 + padding, ey2 + padding);\n    }\n\n    // always store the body bounds separately from the labels\n    var bbOverlay = _p.overlayBounds = _p.overlayBounds || {};\n    assignBoundingBox(bbOverlay, bounds);\n    expandBoundingBoxSides(bbOverlay, manualExpansion);\n    expandBoundingBox(bbOverlay, 1); // expand to work around browser dimension inaccuracies\n\n    // handle label dimensions\n    //////////////////////////\n\n    var bbLabels = _p.labelBounds = _p.labelBounds || {};\n    if (bbLabels.all != null) {\n      clearBoundingBox(bbLabels.all);\n    } else {\n      bbLabels.all = makeBoundingBox();\n    }\n    if (styleEnabled && options.includeLabels) {\n      if (options.includeMainLabels) {\n        updateBoundsFromLabel(bounds, ele, null);\n      }\n      if (isEdge) {\n        if (options.includeSourceLabels) {\n          updateBoundsFromLabel(bounds, ele, 'source');\n        }\n        if (options.includeTargetLabels) {\n          updateBoundsFromLabel(bounds, ele, 'target');\n        }\n      }\n    } // style enabled for labels\n  } // if displayed\n\n  bounds.x1 = noninf(bounds.x1);\n  bounds.y1 = noninf(bounds.y1);\n  bounds.x2 = noninf(bounds.x2);\n  bounds.y2 = noninf(bounds.y2);\n  bounds.w = noninf(bounds.x2 - bounds.x1);\n  bounds.h = noninf(bounds.y2 - bounds.y1);\n  if (bounds.w > 0 && bounds.h > 0 && displayed) {\n    expandBoundingBoxSides(bounds, manualExpansion);\n\n    // expand bounds by 1 because antialiasing can increase the visual/effective size by 1 on all sides\n    expandBoundingBox(bounds, 1);\n  }\n  return bounds;\n};\nvar getKey = function getKey(opts) {\n  var i = 0;\n  var tf = function tf(val) {\n    return (val ? 1 : 0) << i++;\n  };\n  var key = 0;\n  key += tf(opts.incudeNodes);\n  key += tf(opts.includeEdges);\n  key += tf(opts.includeLabels);\n  key += tf(opts.includeMainLabels);\n  key += tf(opts.includeSourceLabels);\n  key += tf(opts.includeTargetLabels);\n  key += tf(opts.includeOverlays);\n  key += tf(opts.includeOutlines);\n  return key;\n};\nvar getBoundingBoxPosKey = function getBoundingBoxPosKey(ele) {\n  if (ele.isEdge()) {\n    var p1 = ele.source().position();\n    var p2 = ele.target().position();\n    var r = function r(x) {\n      return Math.round(x);\n    };\n    return hashIntsArray([r(p1.x), r(p1.y), r(p2.x), r(p2.y)]);\n  } else {\n    return 0;\n  }\n};\nvar cachedBoundingBoxImpl = function cachedBoundingBoxImpl(ele, opts) {\n  var _p = ele._private;\n  var bb;\n  var isEdge = ele.isEdge();\n  var key = opts == null ? defBbOptsKey : getKey(opts);\n  var usingDefOpts = key === defBbOptsKey;\n  var currPosKey = getBoundingBoxPosKey(ele);\n  var isPosKeySame = _p.bbCachePosKey === currPosKey;\n  var useCache = opts.useCache && isPosKeySame;\n  var isDirty = function isDirty(ele) {\n    return ele._private.bbCache == null || ele._private.styleDirty;\n  };\n  var needRecalc = !useCache || isDirty(ele) || isEdge && isDirty(ele.source()) || isDirty(ele.target());\n  if (needRecalc) {\n    if (!isPosKeySame) {\n      ele.recalculateRenderedStyle(useCache);\n    }\n    bb = boundingBoxImpl(ele, defBbOpts);\n    _p.bbCache = bb;\n    _p.bbCachePosKey = currPosKey;\n  } else {\n    bb = _p.bbCache;\n  }\n\n  // not using def opts => need to build up bb from combination of sub bbs\n  if (!usingDefOpts) {\n    var isNode = ele.isNode();\n    bb = makeBoundingBox();\n    if (opts.includeNodes && isNode || opts.includeEdges && !isNode) {\n      if (opts.includeOverlays) {\n        updateBoundsFromBox(bb, _p.overlayBounds);\n      } else {\n        updateBoundsFromBox(bb, _p.bodyBounds);\n      }\n    }\n    if (opts.includeLabels) {\n      if (opts.includeMainLabels && (!isEdge || opts.includeSourceLabels && opts.includeTargetLabels)) {\n        updateBoundsFromBox(bb, _p.labelBounds.all);\n      } else {\n        if (opts.includeMainLabels) {\n          updateBoundsFromBox(bb, _p.labelBounds.mainRot);\n        }\n        if (opts.includeSourceLabels) {\n          updateBoundsFromBox(bb, _p.labelBounds.sourceRot);\n        }\n        if (opts.includeTargetLabels) {\n          updateBoundsFromBox(bb, _p.labelBounds.targetRot);\n        }\n      }\n    }\n    bb.w = bb.x2 - bb.x1;\n    bb.h = bb.y2 - bb.y1;\n  }\n  return bb;\n};\nvar defBbOpts = {\n  includeNodes: true,\n  includeEdges: true,\n  includeLabels: true,\n  includeMainLabels: true,\n  includeSourceLabels: true,\n  includeTargetLabels: true,\n  includeOverlays: true,\n  includeUnderlays: true,\n  includeOutlines: true,\n  useCache: true\n};\nvar defBbOptsKey = getKey(defBbOpts);\nvar filledBbOpts = defaults$g(defBbOpts);\nelesfn$b.boundingBox = function (options) {\n  var bounds;\n\n  // the main usecase is ele.boundingBox() for a single element with no/def options\n  // specified s.t. the cache is used, so check for this case to make it faster by\n  // avoiding the overhead of the rest of the function\n  if (this.length === 1 && this[0]._private.bbCache != null && !this[0]._private.styleDirty && (options === undefined || options.useCache === undefined || options.useCache === true)) {\n    if (options === undefined) {\n      options = defBbOpts;\n    } else {\n      options = filledBbOpts(options);\n    }\n    bounds = cachedBoundingBoxImpl(this[0], options);\n  } else {\n    bounds = makeBoundingBox();\n    options = options || defBbOpts;\n    var opts = filledBbOpts(options);\n    var eles = this;\n    var cy = eles.cy();\n    var styleEnabled = cy.styleEnabled();\n    if (styleEnabled) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var _p = ele._private;\n        var currPosKey = getBoundingBoxPosKey(ele);\n        var isPosKeySame = _p.bbCachePosKey === currPosKey;\n        var useCache = opts.useCache && isPosKeySame && !_p.styleDirty;\n        ele.recalculateRenderedStyle(useCache);\n      }\n    }\n    this.updateCompoundBounds(!options.useCache);\n    for (var _i = 0; _i < eles.length; _i++) {\n      var _ele = eles[_i];\n      updateBoundsFromBox(bounds, cachedBoundingBoxImpl(_ele, opts));\n    }\n  }\n  bounds.x1 = noninf(bounds.x1);\n  bounds.y1 = noninf(bounds.y1);\n  bounds.x2 = noninf(bounds.x2);\n  bounds.y2 = noninf(bounds.y2);\n  bounds.w = noninf(bounds.x2 - bounds.x1);\n  bounds.h = noninf(bounds.y2 - bounds.y1);\n  return bounds;\n};\nelesfn$b.dirtyBoundingBoxCache = function () {\n  for (var i = 0; i < this.length; i++) {\n    var _p = this[i]._private;\n    _p.bbCache = null;\n    _p.bbCachePosKey = null;\n    _p.bodyBounds = null;\n    _p.overlayBounds = null;\n    _p.labelBounds.all = null;\n    _p.labelBounds.source = null;\n    _p.labelBounds.target = null;\n    _p.labelBounds.main = null;\n    _p.labelBounds.sourceRot = null;\n    _p.labelBounds.targetRot = null;\n    _p.labelBounds.mainRot = null;\n    _p.arrowBounds.source = null;\n    _p.arrowBounds.target = null;\n    _p.arrowBounds['mid-source'] = null;\n    _p.arrowBounds['mid-target'] = null;\n  }\n  this.emitAndNotify('bounds');\n  return this;\n};\n\n// private helper to get bounding box for custom node positions\n// - good for perf in certain cases but currently requires dirtying the rendered style\n// - would be better to not modify the nodes but the nodes are read directly everywhere in the renderer...\n// - try to use for only things like discrete layouts where the node position would change anyway\nelesfn$b.boundingBoxAt = function (fn) {\n  var nodes = this.nodes();\n  var cy = this.cy();\n  var hasCompoundNodes = cy.hasCompoundNodes();\n  var parents = cy.collection();\n  if (hasCompoundNodes) {\n    parents = nodes.filter(function (node) {\n      return node.isParent();\n    });\n    nodes = nodes.not(parents);\n  }\n  if (plainObject(fn)) {\n    var obj = fn;\n    fn = function fn() {\n      return obj;\n    };\n  }\n  var storeOldPos = function storeOldPos(node, i) {\n    return node._private.bbAtOldPos = fn(node, i);\n  };\n  var getOldPos = function getOldPos(node) {\n    return node._private.bbAtOldPos;\n  };\n  cy.startBatch();\n  nodes.forEach(storeOldPos).silentPositions(fn);\n  if (hasCompoundNodes) {\n    parents.dirtyCompoundBoundsCache();\n    parents.dirtyBoundingBoxCache();\n    parents.updateCompoundBounds(true); // force update b/c we're inside a batch cycle\n  }\n\n  var bb = copyBoundingBox(this.boundingBox({\n    useCache: false\n  }));\n  nodes.silentPositions(getOldPos);\n  if (hasCompoundNodes) {\n    parents.dirtyCompoundBoundsCache();\n    parents.dirtyBoundingBoxCache();\n    parents.updateCompoundBounds(true); // force update b/c we're inside a batch cycle\n  }\n\n  cy.endBatch();\n  return bb;\n};\nfn$3.boundingbox = fn$3.bb = fn$3.boundingBox;\nfn$3.renderedBoundingbox = fn$3.renderedBoundingBox;\nvar bounds = elesfn$b;\n\nvar fn$2, elesfn$a;\nfn$2 = elesfn$a = {};\nvar defineDimFns = function defineDimFns(opts) {\n  opts.uppercaseName = capitalize(opts.name);\n  opts.autoName = 'auto' + opts.uppercaseName;\n  opts.labelName = 'label' + opts.uppercaseName;\n  opts.outerName = 'outer' + opts.uppercaseName;\n  opts.uppercaseOuterName = capitalize(opts.outerName);\n  fn$2[opts.name] = function dimImpl() {\n    var ele = this[0];\n    var _p = ele._private;\n    var cy = _p.cy;\n    var styleEnabled = cy._private.styleEnabled;\n    if (ele) {\n      if (styleEnabled) {\n        if (ele.isParent()) {\n          ele.updateCompoundBounds();\n          return _p[opts.autoName] || 0;\n        }\n        var d = ele.pstyle(opts.name);\n        switch (d.strValue) {\n          case 'label':\n            ele.recalculateRenderedStyle();\n            return _p.rstyle[opts.labelName] || 0;\n          default:\n            return d.pfValue;\n        }\n      } else {\n        return 1;\n      }\n    }\n  };\n  fn$2['outer' + opts.uppercaseName] = function outerDimImpl() {\n    var ele = this[0];\n    var _p = ele._private;\n    var cy = _p.cy;\n    var styleEnabled = cy._private.styleEnabled;\n    if (ele) {\n      if (styleEnabled) {\n        var dim = ele[opts.name]();\n        var border = ele.pstyle('border-width').pfValue; // n.b. 1/2 each side\n        var padding = 2 * ele.padding();\n        return dim + border + padding;\n      } else {\n        return 1;\n      }\n    }\n  };\n  fn$2['rendered' + opts.uppercaseName] = function renderedDimImpl() {\n    var ele = this[0];\n    if (ele) {\n      var d = ele[opts.name]();\n      return d * this.cy().zoom();\n    }\n  };\n  fn$2['rendered' + opts.uppercaseOuterName] = function renderedOuterDimImpl() {\n    var ele = this[0];\n    if (ele) {\n      var od = ele[opts.outerName]();\n      return od * this.cy().zoom();\n    }\n  };\n};\ndefineDimFns({\n  name: 'width'\n});\ndefineDimFns({\n  name: 'height'\n});\nelesfn$a.padding = function () {\n  var ele = this[0];\n  var _p = ele._private;\n  if (ele.isParent()) {\n    ele.updateCompoundBounds();\n    if (_p.autoPadding !== undefined) {\n      return _p.autoPadding;\n    } else {\n      return ele.pstyle('padding').pfValue;\n    }\n  } else {\n    return ele.pstyle('padding').pfValue;\n  }\n};\nelesfn$a.paddedHeight = function () {\n  var ele = this[0];\n  return ele.height() + 2 * ele.padding();\n};\nelesfn$a.paddedWidth = function () {\n  var ele = this[0];\n  return ele.width() + 2 * ele.padding();\n};\nvar widthHeight = elesfn$a;\n\nvar ifEdge = function ifEdge(ele, getValue) {\n  if (ele.isEdge()) {\n    return getValue(ele);\n  }\n};\nvar ifEdgeRenderedPosition = function ifEdgeRenderedPosition(ele, getPoint) {\n  if (ele.isEdge()) {\n    var cy = ele.cy();\n    return modelToRenderedPosition(getPoint(ele), cy.zoom(), cy.pan());\n  }\n};\nvar ifEdgeRenderedPositions = function ifEdgeRenderedPositions(ele, getPoints) {\n  if (ele.isEdge()) {\n    var cy = ele.cy();\n    var pan = cy.pan();\n    var zoom = cy.zoom();\n    return getPoints(ele).map(function (p) {\n      return modelToRenderedPosition(p, zoom, pan);\n    });\n  }\n};\nvar controlPoints = function controlPoints(ele) {\n  return ele.renderer().getControlPoints(ele);\n};\nvar segmentPoints = function segmentPoints(ele) {\n  return ele.renderer().getSegmentPoints(ele);\n};\nvar sourceEndpoint = function sourceEndpoint(ele) {\n  return ele.renderer().getSourceEndpoint(ele);\n};\nvar targetEndpoint = function targetEndpoint(ele) {\n  return ele.renderer().getTargetEndpoint(ele);\n};\nvar midpoint = function midpoint(ele) {\n  return ele.renderer().getEdgeMidpoint(ele);\n};\nvar pts = {\n  controlPoints: {\n    get: controlPoints,\n    mult: true\n  },\n  segmentPoints: {\n    get: segmentPoints,\n    mult: true\n  },\n  sourceEndpoint: {\n    get: sourceEndpoint\n  },\n  targetEndpoint: {\n    get: targetEndpoint\n  },\n  midpoint: {\n    get: midpoint\n  }\n};\nvar renderedName = function renderedName(name) {\n  return 'rendered' + name[0].toUpperCase() + name.substr(1);\n};\nvar edgePoints = Object.keys(pts).reduce(function (obj, name) {\n  var spec = pts[name];\n  var rName = renderedName(name);\n  obj[name] = function () {\n    return ifEdge(this, spec.get);\n  };\n  if (spec.mult) {\n    obj[rName] = function () {\n      return ifEdgeRenderedPositions(this, spec.get);\n    };\n  } else {\n    obj[rName] = function () {\n      return ifEdgeRenderedPosition(this, spec.get);\n    };\n  }\n  return obj;\n}, {});\n\nvar dimensions = extend({}, position, bounds, widthHeight, edgePoints);\n\n/*!\nEvent object based on jQuery events, MIT license\n\nhttps://jquery.org/license/\nhttps://tldrlegal.com/license/mit-license\nhttps://github.com/jquery/jquery/blob/master/src/event.js\n*/\n\nvar Event = function Event(src, props) {\n  this.recycle(src, props);\n};\nfunction returnFalse() {\n  return false;\n}\nfunction returnTrue() {\n  return true;\n}\n\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\nEvent.prototype = {\n  instanceString: function instanceString() {\n    return 'event';\n  },\n  recycle: function recycle(src, props) {\n    this.isImmediatePropagationStopped = this.isPropagationStopped = this.isDefaultPrevented = returnFalse;\n    if (src != null && src.preventDefault) {\n      // Browser Event object\n      this.type = src.type;\n\n      // Events bubbling up the document may have been marked as prevented\n      // by a handler lower down the tree; reflect the correct value.\n      this.isDefaultPrevented = src.defaultPrevented ? returnTrue : returnFalse;\n    } else if (src != null && src.type) {\n      // Plain object containing all event details\n      props = src;\n    } else {\n      // Event string\n      this.type = src;\n    }\n\n    // Put explicitly provided properties onto the event object\n    if (props != null) {\n      // more efficient to manually copy fields we use\n      this.originalEvent = props.originalEvent;\n      this.type = props.type != null ? props.type : this.type;\n      this.cy = props.cy;\n      this.target = props.target;\n      this.position = props.position;\n      this.renderedPosition = props.renderedPosition;\n      this.namespace = props.namespace;\n      this.layout = props.layout;\n    }\n    if (this.cy != null && this.position != null && this.renderedPosition == null) {\n      // create a rendered position based on the passed position\n      var pos = this.position;\n      var zoom = this.cy.zoom();\n      var pan = this.cy.pan();\n      this.renderedPosition = {\n        x: pos.x * zoom + pan.x,\n        y: pos.y * zoom + pan.y\n      };\n    }\n\n    // Create a timestamp if incoming event doesn't have one\n    this.timeStamp = src && src.timeStamp || Date.now();\n  },\n  preventDefault: function preventDefault() {\n    this.isDefaultPrevented = returnTrue;\n    var e = this.originalEvent;\n    if (!e) {\n      return;\n    }\n\n    // if preventDefault exists run it on the original event\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n  },\n  stopPropagation: function stopPropagation() {\n    this.isPropagationStopped = returnTrue;\n    var e = this.originalEvent;\n    if (!e) {\n      return;\n    }\n\n    // if stopPropagation exists run it on the original event\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n  },\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    this.isImmediatePropagationStopped = returnTrue;\n    this.stopPropagation();\n  },\n  isDefaultPrevented: returnFalse,\n  isPropagationStopped: returnFalse,\n  isImmediatePropagationStopped: returnFalse\n};\n\nvar eventRegex = /^([^.]+)(\\.(?:[^.]+))?$/; // regex for matching event strings (e.g. \"click.namespace\")\nvar universalNamespace = '.*'; // matches as if no namespace specified and prevents users from unbinding accidentally\n\nvar defaults$8 = {\n  qualifierCompare: function qualifierCompare(q1, q2) {\n    return q1 === q2;\n  },\n  eventMatches: function eventMatches( /*context, listener, eventObj*/\n  ) {\n    return true;\n  },\n  addEventFields: function addEventFields( /*context, evt*/\n  ) {},\n  callbackContext: function callbackContext(context /*, listener, eventObj*/) {\n    return context;\n  },\n  beforeEmit: function beforeEmit( /* context, listener, eventObj */\n  ) {},\n  afterEmit: function afterEmit( /* context, listener, eventObj */\n  ) {},\n  bubble: function bubble( /*context*/\n  ) {\n    return false;\n  },\n  parent: function parent( /*context*/\n  ) {\n    return null;\n  },\n  context: null\n};\nvar defaultsKeys = Object.keys(defaults$8);\nvar emptyOpts = {};\nfunction Emitter() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : emptyOpts;\n  var context = arguments.length > 1 ? arguments[1] : undefined;\n  // micro-optimisation vs Object.assign() -- reduces Element instantiation time\n  for (var i = 0; i < defaultsKeys.length; i++) {\n    var key = defaultsKeys[i];\n    this[key] = opts[key] || defaults$8[key];\n  }\n  this.context = context || this.context;\n  this.listeners = [];\n  this.emitting = 0;\n}\nvar p = Emitter.prototype;\nvar forEachEvent = function forEachEvent(self, handler, events, qualifier, callback, conf, confOverrides) {\n  if (fn$6(qualifier)) {\n    callback = qualifier;\n    qualifier = null;\n  }\n  if (confOverrides) {\n    if (conf == null) {\n      conf = confOverrides;\n    } else {\n      conf = extend({}, conf, confOverrides);\n    }\n  }\n  var eventList = array(events) ? events : events.split(/\\s+/);\n  for (var i = 0; i < eventList.length; i++) {\n    var evt = eventList[i];\n    if (emptyString(evt)) {\n      continue;\n    }\n    var match = evt.match(eventRegex); // type[.namespace]\n\n    if (match) {\n      var type = match[1];\n      var namespace = match[2] ? match[2] : null;\n      var ret = handler(self, evt, type, namespace, qualifier, callback, conf);\n      if (ret === false) {\n        break;\n      } // allow exiting early\n    }\n  }\n};\n\nvar makeEventObj = function makeEventObj(self, obj) {\n  self.addEventFields(self.context, obj);\n  return new Event(obj.type, obj);\n};\nvar forEachEventObj = function forEachEventObj(self, handler, events) {\n  if (event(events)) {\n    handler(self, events);\n    return;\n  } else if (plainObject(events)) {\n    handler(self, makeEventObj(self, events));\n    return;\n  }\n  var eventList = array(events) ? events : events.split(/\\s+/);\n  for (var i = 0; i < eventList.length; i++) {\n    var evt = eventList[i];\n    if (emptyString(evt)) {\n      continue;\n    }\n    var match = evt.match(eventRegex); // type[.namespace]\n\n    if (match) {\n      var type = match[1];\n      var namespace = match[2] ? match[2] : null;\n      var eventObj = makeEventObj(self, {\n        type: type,\n        namespace: namespace,\n        target: self.context\n      });\n      handler(self, eventObj);\n    }\n  }\n};\np.on = p.addListener = function (events, qualifier, callback, conf, confOverrides) {\n  forEachEvent(this, function (self, event, type, namespace, qualifier, callback, conf) {\n    if (fn$6(callback)) {\n      self.listeners.push({\n        event: event,\n        // full event string\n        callback: callback,\n        // callback to run\n        type: type,\n        // the event type (e.g. 'click')\n        namespace: namespace,\n        // the event namespace (e.g. \".foo\")\n        qualifier: qualifier,\n        // a restriction on whether to match this emitter\n        conf: conf // additional configuration\n      });\n    }\n  }, events, qualifier, callback, conf, confOverrides);\n  return this;\n};\np.one = function (events, qualifier, callback, conf) {\n  return this.on(events, qualifier, callback, conf, {\n    one: true\n  });\n};\np.removeListener = p.off = function (events, qualifier, callback, conf) {\n  var _this = this;\n  if (this.emitting !== 0) {\n    this.listeners = copyArray$1(this.listeners);\n  }\n  var listeners = this.listeners;\n  var _loop = function _loop(i) {\n    var listener = listeners[i];\n    forEachEvent(_this, function (self, event, type, namespace, qualifier, callback /*, conf*/) {\n      if ((listener.type === type || events === '*') && (!namespace && listener.namespace !== '.*' || listener.namespace === namespace) && (!qualifier || self.qualifierCompare(listener.qualifier, qualifier)) && (!callback || listener.callback === callback)) {\n        listeners.splice(i, 1);\n        return false;\n      }\n    }, events, qualifier, callback, conf);\n  };\n  for (var i = listeners.length - 1; i >= 0; i--) {\n    _loop(i);\n  }\n  return this;\n};\np.removeAllListeners = function () {\n  return this.removeListener('*');\n};\np.emit = p.trigger = function (events, extraParams, manualCallback) {\n  var listeners = this.listeners;\n  var numListenersBeforeEmit = listeners.length;\n  this.emitting++;\n  if (!array(extraParams)) {\n    extraParams = [extraParams];\n  }\n  forEachEventObj(this, function (self, eventObj) {\n    if (manualCallback != null) {\n      listeners = [{\n        event: eventObj.event,\n        type: eventObj.type,\n        namespace: eventObj.namespace,\n        callback: manualCallback\n      }];\n      numListenersBeforeEmit = listeners.length;\n    }\n    var _loop2 = function _loop2(i) {\n      var listener = listeners[i];\n      if (listener.type === eventObj.type && (!listener.namespace || listener.namespace === eventObj.namespace || listener.namespace === universalNamespace) && self.eventMatches(self.context, listener, eventObj)) {\n        var args = [eventObj];\n        if (extraParams != null) {\n          push(args, extraParams);\n        }\n        self.beforeEmit(self.context, listener, eventObj);\n        if (listener.conf && listener.conf.one) {\n          self.listeners = self.listeners.filter(function (l) {\n            return l !== listener;\n          });\n        }\n        var context = self.callbackContext(self.context, listener, eventObj);\n        var ret = listener.callback.apply(context, args);\n        self.afterEmit(self.context, listener, eventObj);\n        if (ret === false) {\n          eventObj.stopPropagation();\n          eventObj.preventDefault();\n        }\n      } // if listener matches\n    };\n    for (var i = 0; i < numListenersBeforeEmit; i++) {\n      _loop2(i);\n    } // for listener\n\n    if (self.bubble(self.context) && !eventObj.isPropagationStopped()) {\n      self.parent(self.context).emit(eventObj, extraParams);\n    }\n  }, events);\n  this.emitting--;\n  return this;\n};\n\nvar emitterOptions$1 = {\n  qualifierCompare: function qualifierCompare(selector1, selector2) {\n    if (selector1 == null || selector2 == null) {\n      return selector1 == null && selector2 == null;\n    } else {\n      return selector1.sameText(selector2);\n    }\n  },\n  eventMatches: function eventMatches(ele, listener, eventObj) {\n    var selector = listener.qualifier;\n    if (selector != null) {\n      return ele !== eventObj.target && element(eventObj.target) && selector.matches(eventObj.target);\n    }\n    return true;\n  },\n  addEventFields: function addEventFields(ele, evt) {\n    evt.cy = ele.cy();\n    evt.target = ele;\n  },\n  callbackContext: function callbackContext(ele, listener, eventObj) {\n    return listener.qualifier != null ? eventObj.target : ele;\n  },\n  beforeEmit: function beforeEmit(context, listener /*, eventObj*/) {\n    if (listener.conf && listener.conf.once) {\n      listener.conf.onceCollection.removeListener(listener.event, listener.qualifier, listener.callback);\n    }\n  },\n  bubble: function bubble() {\n    return true;\n  },\n  parent: function parent(ele) {\n    return ele.isChild() ? ele.parent() : ele.cy();\n  }\n};\nvar argSelector$1 = function argSelector(arg) {\n  if (string(arg)) {\n    return new Selector(arg);\n  } else {\n    return arg;\n  }\n};\nvar elesfn$9 = {\n  createEmitter: function createEmitter() {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var _p = ele._private;\n      if (!_p.emitter) {\n        _p.emitter = new Emitter(emitterOptions$1, ele);\n      }\n    }\n    return this;\n  },\n  emitter: function emitter() {\n    return this._private.emitter;\n  },\n  on: function on(events, selector, callback) {\n    var argSel = argSelector$1(selector);\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().on(events, argSel, callback);\n    }\n    return this;\n  },\n  removeListener: function removeListener(events, selector, callback) {\n    var argSel = argSelector$1(selector);\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().removeListener(events, argSel, callback);\n    }\n    return this;\n  },\n  removeAllListeners: function removeAllListeners() {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().removeAllListeners();\n    }\n    return this;\n  },\n  one: function one(events, selector, callback) {\n    var argSel = argSelector$1(selector);\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().one(events, argSel, callback);\n    }\n    return this;\n  },\n  once: function once(events, selector, callback) {\n    var argSel = argSelector$1(selector);\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().on(events, argSel, callback, {\n        once: true,\n        onceCollection: this\n      });\n    }\n  },\n  emit: function emit(events, extraParams) {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().emit(events, extraParams);\n    }\n    return this;\n  },\n  emitAndNotify: function emitAndNotify(event, extraParams) {\n    // for internal use only\n    if (this.length === 0) {\n      return;\n    } // empty collections don't need to notify anything\n\n    // notify renderer\n    this.cy().notify(event, this);\n    this.emit(event, extraParams);\n    return this;\n  }\n};\ndefine.eventAliasesOn(elesfn$9);\n\nvar elesfn$8 = {\n  nodes: function nodes(selector) {\n    return this.filter(function (ele) {\n      return ele.isNode();\n    }).filter(selector);\n  },\n  edges: function edges(selector) {\n    return this.filter(function (ele) {\n      return ele.isEdge();\n    }).filter(selector);\n  },\n  // internal helper to get nodes and edges as separate collections with single iteration over elements\n  byGroup: function byGroup() {\n    var nodes = this.spawn();\n    var edges = this.spawn();\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      if (ele.isNode()) {\n        nodes.push(ele);\n      } else {\n        edges.push(ele);\n      }\n    }\n    return {\n      nodes: nodes,\n      edges: edges\n    };\n  },\n  filter: function filter(_filter, thisArg) {\n    if (_filter === undefined) {\n      // check this first b/c it's the most common/performant case\n      return this;\n    } else if (string(_filter) || elementOrCollection(_filter)) {\n      return new Selector(_filter).filter(this);\n    } else if (fn$6(_filter)) {\n      var filterEles = this.spawn();\n      var eles = this;\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var include = thisArg ? _filter.apply(thisArg, [ele, i, eles]) : _filter(ele, i, eles);\n        if (include) {\n          filterEles.push(ele);\n        }\n      }\n      return filterEles;\n    }\n    return this.spawn(); // if not handled by above, give 'em an empty collection\n  },\n\n  not: function not(toRemove) {\n    if (!toRemove) {\n      return this;\n    } else {\n      if (string(toRemove)) {\n        toRemove = this.filter(toRemove);\n      }\n      var elements = this.spawn();\n      for (var i = 0; i < this.length; i++) {\n        var element = this[i];\n        var remove = toRemove.has(element);\n        if (!remove) {\n          elements.push(element);\n        }\n      }\n      return elements;\n    }\n  },\n  absoluteComplement: function absoluteComplement() {\n    var cy = this.cy();\n    return cy.mutableElements().not(this);\n  },\n  intersect: function intersect(other) {\n    // if a selector is specified, then filter by it instead\n    if (string(other)) {\n      var selector = other;\n      return this.filter(selector);\n    }\n    var elements = this.spawn();\n    var col1 = this;\n    var col2 = other;\n    var col1Smaller = this.length < other.length;\n    var colS = col1Smaller ? col1 : col2;\n    var colL = col1Smaller ? col2 : col1;\n    for (var i = 0; i < colS.length; i++) {\n      var ele = colS[i];\n      if (colL.has(ele)) {\n        elements.push(ele);\n      }\n    }\n    return elements;\n  },\n  xor: function xor(other) {\n    var cy = this._private.cy;\n    if (string(other)) {\n      other = cy.$(other);\n    }\n    var elements = this.spawn();\n    var col1 = this;\n    var col2 = other;\n    var add = function add(col, other) {\n      for (var i = 0; i < col.length; i++) {\n        var ele = col[i];\n        var id = ele._private.data.id;\n        var inOther = other.hasElementWithId(id);\n        if (!inOther) {\n          elements.push(ele);\n        }\n      }\n    };\n    add(col1, col2);\n    add(col2, col1);\n    return elements;\n  },\n  diff: function diff(other) {\n    var cy = this._private.cy;\n    if (string(other)) {\n      other = cy.$(other);\n    }\n    var left = this.spawn();\n    var right = this.spawn();\n    var both = this.spawn();\n    var col1 = this;\n    var col2 = other;\n    var add = function add(col, other, retEles) {\n      for (var i = 0; i < col.length; i++) {\n        var ele = col[i];\n        var id = ele._private.data.id;\n        var inOther = other.hasElementWithId(id);\n        if (inOther) {\n          both.merge(ele);\n        } else {\n          retEles.push(ele);\n        }\n      }\n    };\n    add(col1, col2, left);\n    add(col2, col1, right);\n    return {\n      left: left,\n      right: right,\n      both: both\n    };\n  },\n  add: function add(toAdd) {\n    var cy = this._private.cy;\n    if (!toAdd) {\n      return this;\n    }\n    if (string(toAdd)) {\n      var selector = toAdd;\n      toAdd = cy.mutableElements().filter(selector);\n    }\n    var elements = this.spawnSelf();\n    for (var i = 0; i < toAdd.length; i++) {\n      var ele = toAdd[i];\n      var add = !this.has(ele);\n      if (add) {\n        elements.push(ele);\n      }\n    }\n    return elements;\n  },\n  // in place merge on calling collection\n  merge: function merge(toAdd) {\n    var _p = this._private;\n    var cy = _p.cy;\n    if (!toAdd) {\n      return this;\n    }\n    if (toAdd && string(toAdd)) {\n      var selector = toAdd;\n      toAdd = cy.mutableElements().filter(selector);\n    }\n    var map = _p.map;\n    for (var i = 0; i < toAdd.length; i++) {\n      var toAddEle = toAdd[i];\n      var id = toAddEle._private.data.id;\n      var add = !map.has(id);\n      if (add) {\n        var index = this.length++;\n        this[index] = toAddEle;\n        map.set(id, {\n          ele: toAddEle,\n          index: index\n        });\n      }\n    }\n    return this; // chaining\n  },\n\n  unmergeAt: function unmergeAt(i) {\n    var ele = this[i];\n    var id = ele.id();\n    var _p = this._private;\n    var map = _p.map;\n\n    // remove ele\n    this[i] = undefined;\n    map[\"delete\"](id);\n    var unmergedLastEle = i === this.length - 1;\n\n    // replace empty spot with last ele in collection\n    if (this.length > 1 && !unmergedLastEle) {\n      var lastEleI = this.length - 1;\n      var lastEle = this[lastEleI];\n      var lastEleId = lastEle._private.data.id;\n      this[lastEleI] = undefined;\n      this[i] = lastEle;\n      map.set(lastEleId, {\n        ele: lastEle,\n        index: i\n      });\n    }\n\n    // the collection is now 1 ele smaller\n    this.length--;\n    return this;\n  },\n  // remove single ele in place in calling collection\n  unmergeOne: function unmergeOne(ele) {\n    ele = ele[0];\n    var _p = this._private;\n    var id = ele._private.data.id;\n    var map = _p.map;\n    var entry = map.get(id);\n    if (!entry) {\n      return this; // no need to remove\n    }\n\n    var i = entry.index;\n    this.unmergeAt(i);\n    return this;\n  },\n  // remove eles in place on calling collection\n  unmerge: function unmerge(toRemove) {\n    var cy = this._private.cy;\n    if (!toRemove) {\n      return this;\n    }\n    if (toRemove && string(toRemove)) {\n      var selector = toRemove;\n      toRemove = cy.mutableElements().filter(selector);\n    }\n    for (var i = 0; i < toRemove.length; i++) {\n      this.unmergeOne(toRemove[i]);\n    }\n    return this; // chaining\n  },\n\n  unmergeBy: function unmergeBy(toRmFn) {\n    for (var i = this.length - 1; i >= 0; i--) {\n      var ele = this[i];\n      if (toRmFn(ele)) {\n        this.unmergeAt(i);\n      }\n    }\n    return this;\n  },\n  map: function map(mapFn, thisArg) {\n    var arr = [];\n    var eles = this;\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var ret = thisArg ? mapFn.apply(thisArg, [ele, i, eles]) : mapFn(ele, i, eles);\n      arr.push(ret);\n    }\n    return arr;\n  },\n  reduce: function reduce(fn, initialValue) {\n    var val = initialValue;\n    var eles = this;\n    for (var i = 0; i < eles.length; i++) {\n      val = fn(val, eles[i], i, eles);\n    }\n    return val;\n  },\n  max: function max(valFn, thisArg) {\n    var max = -Infinity;\n    var maxEle;\n    var eles = this;\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var val = thisArg ? valFn.apply(thisArg, [ele, i, eles]) : valFn(ele, i, eles);\n      if (val > max) {\n        max = val;\n        maxEle = ele;\n      }\n    }\n    return {\n      value: max,\n      ele: maxEle\n    };\n  },\n  min: function min(valFn, thisArg) {\n    var min = Infinity;\n    var minEle;\n    var eles = this;\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var val = thisArg ? valFn.apply(thisArg, [ele, i, eles]) : valFn(ele, i, eles);\n      if (val < min) {\n        min = val;\n        minEle = ele;\n      }\n    }\n    return {\n      value: min,\n      ele: minEle\n    };\n  }\n};\n\n// aliases\nvar fn$1 = elesfn$8;\nfn$1['u'] = fn$1['|'] = fn$1['+'] = fn$1.union = fn$1.or = fn$1.add;\nfn$1['\\\\'] = fn$1['!'] = fn$1['-'] = fn$1.difference = fn$1.relativeComplement = fn$1.subtract = fn$1.not;\nfn$1['n'] = fn$1['&'] = fn$1['.'] = fn$1.and = fn$1.intersection = fn$1.intersect;\nfn$1['^'] = fn$1['(+)'] = fn$1['(-)'] = fn$1.symmetricDifference = fn$1.symdiff = fn$1.xor;\nfn$1.fnFilter = fn$1.filterFn = fn$1.stdFilter = fn$1.filter;\nfn$1.complement = fn$1.abscomp = fn$1.absoluteComplement;\n\nvar elesfn$7 = {\n  isNode: function isNode() {\n    return this.group() === 'nodes';\n  },\n  isEdge: function isEdge() {\n    return this.group() === 'edges';\n  },\n  isLoop: function isLoop() {\n    return this.isEdge() && this.source()[0] === this.target()[0];\n  },\n  isSimple: function isSimple() {\n    return this.isEdge() && this.source()[0] !== this.target()[0];\n  },\n  group: function group() {\n    var ele = this[0];\n    if (ele) {\n      return ele._private.group;\n    }\n  }\n};\n\n/**\n *  Elements are drawn in a specific order based on compound depth (low to high), the element type (nodes above edges),\n *  and z-index (low to high).  These styles affect how this applies:\n *\n *  z-compound-depth: May be `bottom | orphan | auto | top`.  The first drawn is `bottom`, then `orphan` which is the\n *      same depth as the root of the compound graph, followed by the default value `auto` which draws in order from\n *      root to leaves of the compound graph.  The last drawn is `top`.\n *  z-index-compare: May be `auto | manual`.  The default value is `auto` which always draws edges under nodes.\n *      `manual` ignores this convention and draws based on the `z-index` value setting.\n *  z-index: An integer value that affects the relative draw order of elements.  In general, an element with a higher\n *      `z-index` will be drawn on top of an element with a lower `z-index`.\n */\nvar zIndexSort = function zIndexSort(a, b) {\n  var cy = a.cy();\n  var hasCompoundNodes = cy.hasCompoundNodes();\n  function getDepth(ele) {\n    var style = ele.pstyle('z-compound-depth');\n    if (style.value === 'auto') {\n      return hasCompoundNodes ? ele.zDepth() : 0;\n    } else if (style.value === 'bottom') {\n      return -1;\n    } else if (style.value === 'top') {\n      return MAX_INT$1;\n    }\n    // 'orphan'\n    return 0;\n  }\n  var depthDiff = getDepth(a) - getDepth(b);\n  if (depthDiff !== 0) {\n    return depthDiff;\n  }\n  function getEleDepth(ele) {\n    var style = ele.pstyle('z-index-compare');\n    if (style.value === 'auto') {\n      return ele.isNode() ? 1 : 0;\n    }\n    // 'manual'\n    return 0;\n  }\n  var eleDiff = getEleDepth(a) - getEleDepth(b);\n  if (eleDiff !== 0) {\n    return eleDiff;\n  }\n  var zDiff = a.pstyle('z-index').value - b.pstyle('z-index').value;\n  if (zDiff !== 0) {\n    return zDiff;\n  }\n  // compare indices in the core (order added to graph w/ last on top)\n  return a.poolIndex() - b.poolIndex();\n};\n\nvar elesfn$6 = {\n  forEach: function forEach(fn, thisArg) {\n    if (fn$6(fn)) {\n      var N = this.length;\n      for (var i = 0; i < N; i++) {\n        var ele = this[i];\n        var ret = thisArg ? fn.apply(thisArg, [ele, i, this]) : fn(ele, i, this);\n        if (ret === false) {\n          break;\n        } // exit each early on return false\n      }\n    }\n\n    return this;\n  },\n  toArray: function toArray() {\n    var array = [];\n    for (var i = 0; i < this.length; i++) {\n      array.push(this[i]);\n    }\n    return array;\n  },\n  slice: function slice(start, end) {\n    var array = [];\n    var thisSize = this.length;\n    if (end == null) {\n      end = thisSize;\n    }\n    if (start == null) {\n      start = 0;\n    }\n    if (start < 0) {\n      start = thisSize + start;\n    }\n    if (end < 0) {\n      end = thisSize + end;\n    }\n    for (var i = start; i >= 0 && i < end && i < thisSize; i++) {\n      array.push(this[i]);\n    }\n    return this.spawn(array);\n  },\n  size: function size() {\n    return this.length;\n  },\n  eq: function eq(i) {\n    return this[i] || this.spawn();\n  },\n  first: function first() {\n    return this[0] || this.spawn();\n  },\n  last: function last() {\n    return this[this.length - 1] || this.spawn();\n  },\n  empty: function empty() {\n    return this.length === 0;\n  },\n  nonempty: function nonempty() {\n    return !this.empty();\n  },\n  sort: function sort(sortFn) {\n    if (!fn$6(sortFn)) {\n      return this;\n    }\n    var sorted = this.toArray().sort(sortFn);\n    return this.spawn(sorted);\n  },\n  sortByZIndex: function sortByZIndex() {\n    return this.sort(zIndexSort);\n  },\n  zDepth: function zDepth() {\n    var ele = this[0];\n    if (!ele) {\n      return undefined;\n    }\n\n    // let cy = ele.cy();\n    var _p = ele._private;\n    var group = _p.group;\n    if (group === 'nodes') {\n      var depth = _p.data.parent ? ele.parents().size() : 0;\n      if (!ele.isParent()) {\n        return MAX_INT$1 - 1; // childless nodes always on top\n      }\n\n      return depth;\n    } else {\n      var src = _p.source;\n      var tgt = _p.target;\n      var srcDepth = src.zDepth();\n      var tgtDepth = tgt.zDepth();\n      return Math.max(srcDepth, tgtDepth, 0); // depth of deepest parent\n    }\n  }\n};\n\nelesfn$6.each = elesfn$6.forEach;\nvar defineSymbolIterator = function defineSymbolIterator() {\n  var typeofUndef = \"undefined\" ;\n  var isIteratorSupported = (typeof Symbol === \"undefined\" ? \"undefined\" : _typeof(Symbol)) != typeofUndef && _typeof(Symbol.iterator) != typeofUndef; // eslint-disable-line no-undef\n\n  if (isIteratorSupported) {\n    elesfn$6[Symbol.iterator] = function () {\n      var _this = this;\n      // eslint-disable-line no-undef\n      var entry = {\n        value: undefined,\n        done: false\n      };\n      var i = 0;\n      var length = this.length;\n      return _defineProperty$1({\n        next: function next() {\n          if (i < length) {\n            entry.value = _this[i++];\n          } else {\n            entry.value = undefined;\n            entry.done = true;\n          }\n          return entry;\n        }\n      }, Symbol.iterator, function () {\n        // eslint-disable-line no-undef\n        return this;\n      });\n    };\n  }\n};\ndefineSymbolIterator();\n\nvar getLayoutDimensionOptions = defaults$g({\n  nodeDimensionsIncludeLabels: false\n});\nvar elesfn$5 = {\n  // Calculates and returns node dimensions { x, y } based on options given\n  layoutDimensions: function layoutDimensions(options) {\n    options = getLayoutDimensionOptions(options);\n    var dims;\n    if (!this.takesUpSpace()) {\n      dims = {\n        w: 0,\n        h: 0\n      };\n    } else if (options.nodeDimensionsIncludeLabels) {\n      var bbDim = this.boundingBox();\n      dims = {\n        w: bbDim.w,\n        h: bbDim.h\n      };\n    } else {\n      dims = {\n        w: this.outerWidth(),\n        h: this.outerHeight()\n      };\n    }\n\n    // sanitise the dimensions for external layouts (avoid division by zero)\n    if (dims.w === 0 || dims.h === 0) {\n      dims.w = dims.h = 1;\n    }\n    return dims;\n  },\n  // using standard layout options, apply position function (w/ or w/o animation)\n  layoutPositions: function layoutPositions(layout, options, fn) {\n    var nodes = this.nodes().filter(function (n) {\n      return !n.isParent();\n    });\n    var cy = this.cy();\n    var layoutEles = options.eles; // nodes & edges\n    var getMemoizeKey = function getMemoizeKey(node) {\n      return node.id();\n    };\n    var fnMem = memoize$1(fn, getMemoizeKey); // memoized version of position function\n\n    layout.emit({\n      type: 'layoutstart',\n      layout: layout\n    });\n    layout.animations = [];\n    var calculateSpacing = function calculateSpacing(spacing, nodesBb, pos) {\n      var center = {\n        x: nodesBb.x1 + nodesBb.w / 2,\n        y: nodesBb.y1 + nodesBb.h / 2\n      };\n      var spacingVector = {\n        // scale from center of bounding box (not necessarily 0,0)\n        x: (pos.x - center.x) * spacing,\n        y: (pos.y - center.y) * spacing\n      };\n      return {\n        x: center.x + spacingVector.x,\n        y: center.y + spacingVector.y\n      };\n    };\n    var useSpacingFactor = options.spacingFactor && options.spacingFactor !== 1;\n    var spacingBb = function spacingBb() {\n      if (!useSpacingFactor) {\n        return null;\n      }\n      var bb = makeBoundingBox();\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var pos = fnMem(node, i);\n        expandBoundingBoxByPoint(bb, pos.x, pos.y);\n      }\n      return bb;\n    };\n    var bb = spacingBb();\n    var getFinalPos = memoize$1(function (node, i) {\n      var newPos = fnMem(node, i);\n      if (useSpacingFactor) {\n        var spacing = Math.abs(options.spacingFactor);\n        newPos = calculateSpacing(spacing, bb, newPos);\n      }\n      if (options.transform != null) {\n        newPos = options.transform(node, newPos);\n      }\n      return newPos;\n    }, getMemoizeKey);\n    if (options.animate) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var newPos = getFinalPos(node, i);\n        var animateNode = options.animateFilter == null || options.animateFilter(node, i);\n        if (animateNode) {\n          var ani = node.animation({\n            position: newPos,\n            duration: options.animationDuration,\n            easing: options.animationEasing\n          });\n          layout.animations.push(ani);\n        } else {\n          node.position(newPos);\n        }\n      }\n      if (options.fit) {\n        var fitAni = cy.animation({\n          fit: {\n            boundingBox: layoutEles.boundingBoxAt(getFinalPos),\n            padding: options.padding\n          },\n          duration: options.animationDuration,\n          easing: options.animationEasing\n        });\n        layout.animations.push(fitAni);\n      } else if (options.zoom !== undefined && options.pan !== undefined) {\n        var zoomPanAni = cy.animation({\n          zoom: options.zoom,\n          pan: options.pan,\n          duration: options.animationDuration,\n          easing: options.animationEasing\n        });\n        layout.animations.push(zoomPanAni);\n      }\n      layout.animations.forEach(function (ani) {\n        return ani.play();\n      });\n      layout.one('layoutready', options.ready);\n      layout.emit({\n        type: 'layoutready',\n        layout: layout\n      });\n      Promise$1.all(layout.animations.map(function (ani) {\n        return ani.promise();\n      })).then(function () {\n        layout.one('layoutstop', options.stop);\n        layout.emit({\n          type: 'layoutstop',\n          layout: layout\n        });\n      });\n    } else {\n      nodes.positions(getFinalPos);\n      if (options.fit) {\n        cy.fit(options.eles, options.padding);\n      }\n      if (options.zoom != null) {\n        cy.zoom(options.zoom);\n      }\n      if (options.pan) {\n        cy.pan(options.pan);\n      }\n      layout.one('layoutready', options.ready);\n      layout.emit({\n        type: 'layoutready',\n        layout: layout\n      });\n      layout.one('layoutstop', options.stop);\n      layout.emit({\n        type: 'layoutstop',\n        layout: layout\n      });\n    }\n    return this; // chaining\n  },\n\n  layout: function layout(options) {\n    var cy = this.cy();\n    return cy.makeLayout(extend({}, options, {\n      eles: this\n    }));\n  }\n};\n\n// aliases:\nelesfn$5.createLayout = elesfn$5.makeLayout = elesfn$5.layout;\n\nfunction styleCache(key, fn, ele) {\n  var _p = ele._private;\n  var cache = _p.styleCache = _p.styleCache || [];\n  var val;\n  if ((val = cache[key]) != null) {\n    return val;\n  } else {\n    val = cache[key] = fn(ele);\n    return val;\n  }\n}\nfunction cacheStyleFunction(key, fn) {\n  key = hashString(key);\n  return function cachedStyleFunction(ele) {\n    return styleCache(key, fn, ele);\n  };\n}\nfunction cachePrototypeStyleFunction(key, fn) {\n  key = hashString(key);\n  var selfFn = function selfFn(ele) {\n    return fn.call(ele);\n  };\n  return function cachedPrototypeStyleFunction() {\n    var ele = this[0];\n    if (ele) {\n      return styleCache(key, selfFn, ele);\n    }\n  };\n}\nvar elesfn$4 = {\n  recalculateRenderedStyle: function recalculateRenderedStyle(useCache) {\n    var cy = this.cy();\n    var renderer = cy.renderer();\n    var styleEnabled = cy.styleEnabled();\n    if (renderer && styleEnabled) {\n      renderer.recalculateRenderedStyle(this, useCache);\n    }\n    return this;\n  },\n  dirtyStyleCache: function dirtyStyleCache() {\n    var cy = this.cy();\n    var dirty = function dirty(ele) {\n      return ele._private.styleCache = null;\n    };\n    if (cy.hasCompoundNodes()) {\n      var eles;\n      eles = this.spawnSelf().merge(this.descendants()).merge(this.parents());\n      eles.merge(eles.connectedEdges());\n      eles.forEach(dirty);\n    } else {\n      this.forEach(function (ele) {\n        dirty(ele);\n        ele.connectedEdges().forEach(dirty);\n      });\n    }\n    return this;\n  },\n  // fully updates (recalculates) the style for the elements\n  updateStyle: function updateStyle(notifyRenderer) {\n    var cy = this._private.cy;\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n    if (cy.batching()) {\n      var bEles = cy._private.batchStyleEles;\n      bEles.merge(this);\n      return this; // chaining and exit early when batching\n    }\n\n    var hasCompounds = cy.hasCompoundNodes();\n    var updatedEles = this;\n    notifyRenderer = notifyRenderer || notifyRenderer === undefined ? true : false;\n    if (hasCompounds) {\n      // then add everything up and down for compound selector checks\n      updatedEles = this.spawnSelf().merge(this.descendants()).merge(this.parents());\n    }\n\n    // let changedEles = style.apply( updatedEles );\n    var changedEles = updatedEles;\n    if (notifyRenderer) {\n      changedEles.emitAndNotify('style'); // let renderer know we changed style\n    } else {\n      changedEles.emit('style'); // just fire the event\n    }\n\n    updatedEles.forEach(function (ele) {\n      return ele._private.styleDirty = true;\n    });\n    return this; // chaining\n  },\n\n  // private: clears dirty flag and recalculates style\n  cleanStyle: function cleanStyle() {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return;\n    }\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      if (ele._private.styleDirty) {\n        // n.b. this flag should be set before apply() to avoid potential infinite recursion\n        ele._private.styleDirty = false;\n        cy.style().apply(ele);\n      }\n    }\n  },\n  // get the internal parsed style object for the specified property\n  parsedStyle: function parsedStyle(property) {\n    var includeNonDefault = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var ele = this[0];\n    var cy = ele.cy();\n    if (!cy.styleEnabled()) {\n      return;\n    }\n    if (ele) {\n      this.cleanStyle();\n      var overriddenStyle = ele._private.style[property];\n      if (overriddenStyle != null) {\n        return overriddenStyle;\n      } else if (includeNonDefault) {\n        return cy.style().getDefaultProperty(property);\n      } else {\n        return null;\n      }\n    }\n  },\n  numericStyle: function numericStyle(property) {\n    var ele = this[0];\n    if (!ele.cy().styleEnabled()) {\n      return;\n    }\n    if (ele) {\n      var pstyle = ele.pstyle(property);\n      return pstyle.pfValue !== undefined ? pstyle.pfValue : pstyle.value;\n    }\n  },\n  numericStyleUnits: function numericStyleUnits(property) {\n    var ele = this[0];\n    if (!ele.cy().styleEnabled()) {\n      return;\n    }\n    if (ele) {\n      return ele.pstyle(property).units;\n    }\n  },\n  // get the specified css property as a rendered value (i.e. on-screen value)\n  // or get the whole rendered style if no property specified (NB doesn't allow setting)\n  renderedStyle: function renderedStyle(property) {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n    var ele = this[0];\n    if (ele) {\n      return cy.style().getRenderedStyle(ele, property);\n    }\n  },\n  // read the calculated css style of the element or override the style (via a bypass)\n  style: function style(name, value) {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n    var updateTransitions = false;\n    var style = cy.style();\n    if (plainObject(name)) {\n      // then extend the bypass\n      var props = name;\n      style.applyBypass(this, props, updateTransitions);\n      this.emitAndNotify('style'); // let the renderer know we've updated style\n    } else if (string(name)) {\n      if (value === undefined) {\n        // then get the property from the style\n        var ele = this[0];\n        if (ele) {\n          return style.getStylePropertyValue(ele, name);\n        } else {\n          // empty collection => can't get any value\n          return;\n        }\n      } else {\n        // then set the bypass with the property value\n        style.applyBypass(this, name, value, updateTransitions);\n        this.emitAndNotify('style'); // let the renderer know we've updated style\n      }\n    } else if (name === undefined) {\n      var _ele = this[0];\n      if (_ele) {\n        return style.getRawStyle(_ele);\n      } else {\n        // empty collection => can't get any value\n        return;\n      }\n    }\n    return this; // chaining\n  },\n\n  removeStyle: function removeStyle(names) {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n    var updateTransitions = false;\n    var style = cy.style();\n    var eles = this;\n    if (names === undefined) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        style.removeAllBypasses(ele, updateTransitions);\n      }\n    } else {\n      names = names.split(/\\s+/);\n      for (var _i = 0; _i < eles.length; _i++) {\n        var _ele2 = eles[_i];\n        style.removeBypasses(_ele2, names, updateTransitions);\n      }\n    }\n    this.emitAndNotify('style'); // let the renderer know we've updated style\n\n    return this; // chaining\n  },\n\n  show: function show() {\n    this.css('display', 'element');\n    return this; // chaining\n  },\n\n  hide: function hide() {\n    this.css('display', 'none');\n    return this; // chaining\n  },\n\n  effectiveOpacity: function effectiveOpacity() {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return 1;\n    }\n    var hasCompoundNodes = cy.hasCompoundNodes();\n    var ele = this[0];\n    if (ele) {\n      var _p = ele._private;\n      var parentOpacity = ele.pstyle('opacity').value;\n      if (!hasCompoundNodes) {\n        return parentOpacity;\n      }\n      var parents = !_p.data.parent ? null : ele.parents();\n      if (parents) {\n        for (var i = 0; i < parents.length; i++) {\n          var parent = parents[i];\n          var opacity = parent.pstyle('opacity').value;\n          parentOpacity = opacity * parentOpacity;\n        }\n      }\n      return parentOpacity;\n    }\n  },\n  transparent: function transparent() {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return false;\n    }\n    var ele = this[0];\n    var hasCompoundNodes = ele.cy().hasCompoundNodes();\n    if (ele) {\n      if (!hasCompoundNodes) {\n        return ele.pstyle('opacity').value === 0;\n      } else {\n        return ele.effectiveOpacity() === 0;\n      }\n    }\n  },\n  backgrounding: function backgrounding() {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return false;\n    }\n    var ele = this[0];\n    return ele._private.backgrounding ? true : false;\n  }\n};\nfunction checkCompound(ele, parentOk) {\n  var _p = ele._private;\n  var parents = _p.data.parent ? ele.parents() : null;\n  if (parents) {\n    for (var i = 0; i < parents.length; i++) {\n      var parent = parents[i];\n      if (!parentOk(parent)) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\nfunction defineDerivedStateFunction(specs) {\n  var ok = specs.ok;\n  var edgeOkViaNode = specs.edgeOkViaNode || specs.ok;\n  var parentOk = specs.parentOk || specs.ok;\n  return function () {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return true;\n    }\n    var ele = this[0];\n    var hasCompoundNodes = cy.hasCompoundNodes();\n    if (ele) {\n      var _p = ele._private;\n      if (!ok(ele)) {\n        return false;\n      }\n      if (ele.isNode()) {\n        return !hasCompoundNodes || checkCompound(ele, parentOk);\n      } else {\n        var src = _p.source;\n        var tgt = _p.target;\n        return edgeOkViaNode(src) && (!hasCompoundNodes || checkCompound(src, edgeOkViaNode)) && (src === tgt || edgeOkViaNode(tgt) && (!hasCompoundNodes || checkCompound(tgt, edgeOkViaNode)));\n      }\n    }\n  };\n}\nvar eleTakesUpSpace = cacheStyleFunction('eleTakesUpSpace', function (ele) {\n  return ele.pstyle('display').value === 'element' && ele.width() !== 0 && (ele.isNode() ? ele.height() !== 0 : true);\n});\nelesfn$4.takesUpSpace = cachePrototypeStyleFunction('takesUpSpace', defineDerivedStateFunction({\n  ok: eleTakesUpSpace\n}));\nvar eleInteractive = cacheStyleFunction('eleInteractive', function (ele) {\n  return ele.pstyle('events').value === 'yes' && ele.pstyle('visibility').value === 'visible' && eleTakesUpSpace(ele);\n});\nvar parentInteractive = cacheStyleFunction('parentInteractive', function (parent) {\n  return parent.pstyle('visibility').value === 'visible' && eleTakesUpSpace(parent);\n});\nelesfn$4.interactive = cachePrototypeStyleFunction('interactive', defineDerivedStateFunction({\n  ok: eleInteractive,\n  parentOk: parentInteractive,\n  edgeOkViaNode: eleTakesUpSpace\n}));\nelesfn$4.noninteractive = function () {\n  var ele = this[0];\n  if (ele) {\n    return !ele.interactive();\n  }\n};\nvar eleVisible = cacheStyleFunction('eleVisible', function (ele) {\n  return ele.pstyle('visibility').value === 'visible' && ele.pstyle('opacity').pfValue !== 0 && eleTakesUpSpace(ele);\n});\nvar edgeVisibleViaNode = eleTakesUpSpace;\nelesfn$4.visible = cachePrototypeStyleFunction('visible', defineDerivedStateFunction({\n  ok: eleVisible,\n  edgeOkViaNode: edgeVisibleViaNode\n}));\nelesfn$4.hidden = function () {\n  var ele = this[0];\n  if (ele) {\n    return !ele.visible();\n  }\n};\nelesfn$4.isBundledBezier = cachePrototypeStyleFunction('isBundledBezier', function () {\n  if (!this.cy().styleEnabled()) {\n    return false;\n  }\n  return !this.removed() && this.pstyle('curve-style').value === 'bezier' && this.takesUpSpace();\n});\nelesfn$4.bypass = elesfn$4.css = elesfn$4.style;\nelesfn$4.renderedCss = elesfn$4.renderedStyle;\nelesfn$4.removeBypass = elesfn$4.removeCss = elesfn$4.removeStyle;\nelesfn$4.pstyle = elesfn$4.parsedStyle;\n\nvar elesfn$3 = {};\nfunction defineSwitchFunction(params) {\n  return function () {\n    var args = arguments;\n    var changedEles = [];\n\n    // e.g. cy.nodes().select( data, handler )\n    if (args.length === 2) {\n      var data = args[0];\n      var handler = args[1];\n      this.on(params.event, data, handler);\n    }\n\n    // e.g. cy.nodes().select( handler )\n    else if (args.length === 1 && fn$6(args[0])) {\n      var _handler = args[0];\n      this.on(params.event, _handler);\n    }\n\n    // e.g. cy.nodes().select()\n    // e.g. (private) cy.nodes().select(['tapselect'])\n    else if (args.length === 0 || args.length === 1 && array(args[0])) {\n      var addlEvents = args.length === 1 ? args[0] : null;\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var able = !params.ableField || ele._private[params.ableField];\n        var changed = ele._private[params.field] != params.value;\n        if (params.overrideAble) {\n          var overrideAble = params.overrideAble(ele);\n          if (overrideAble !== undefined) {\n            able = overrideAble;\n            if (!overrideAble) {\n              return this;\n            } // to save cycles assume not able for all on override\n          }\n        }\n\n        if (able) {\n          ele._private[params.field] = params.value;\n          if (changed) {\n            changedEles.push(ele);\n          }\n        }\n      }\n      var changedColl = this.spawn(changedEles);\n      changedColl.updateStyle(); // change of state => possible change of style\n      changedColl.emit(params.event);\n      if (addlEvents) {\n        changedColl.emit(addlEvents);\n      }\n    }\n    return this;\n  };\n}\nfunction defineSwitchSet(params) {\n  elesfn$3[params.field] = function () {\n    var ele = this[0];\n    if (ele) {\n      if (params.overrideField) {\n        var val = params.overrideField(ele);\n        if (val !== undefined) {\n          return val;\n        }\n      }\n      return ele._private[params.field];\n    }\n  };\n  elesfn$3[params.on] = defineSwitchFunction({\n    event: params.on,\n    field: params.field,\n    ableField: params.ableField,\n    overrideAble: params.overrideAble,\n    value: true\n  });\n  elesfn$3[params.off] = defineSwitchFunction({\n    event: params.off,\n    field: params.field,\n    ableField: params.ableField,\n    overrideAble: params.overrideAble,\n    value: false\n  });\n}\ndefineSwitchSet({\n  field: 'locked',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autolock() ? true : undefined;\n  },\n  on: 'lock',\n  off: 'unlock'\n});\ndefineSwitchSet({\n  field: 'grabbable',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autoungrabify() || ele.pannable() ? false : undefined;\n  },\n  on: 'grabify',\n  off: 'ungrabify'\n});\ndefineSwitchSet({\n  field: 'selected',\n  ableField: 'selectable',\n  overrideAble: function overrideAble(ele) {\n    return ele.cy().autounselectify() ? false : undefined;\n  },\n  on: 'select',\n  off: 'unselect'\n});\ndefineSwitchSet({\n  field: 'selectable',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autounselectify() ? false : undefined;\n  },\n  on: 'selectify',\n  off: 'unselectify'\n});\nelesfn$3.deselect = elesfn$3.unselect;\nelesfn$3.grabbed = function () {\n  var ele = this[0];\n  if (ele) {\n    return ele._private.grabbed;\n  }\n};\ndefineSwitchSet({\n  field: 'active',\n  on: 'activate',\n  off: 'unactivate'\n});\ndefineSwitchSet({\n  field: 'pannable',\n  on: 'panify',\n  off: 'unpanify'\n});\nelesfn$3.inactive = function () {\n  var ele = this[0];\n  if (ele) {\n    return !ele._private.active;\n  }\n};\n\nvar elesfn$2 = {};\n\n// DAG functions\n////////////////\n\nvar defineDagExtremity = function defineDagExtremity(params) {\n  return function dagExtremityImpl(selector) {\n    var eles = this;\n    var ret = [];\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      if (!ele.isNode()) {\n        continue;\n      }\n      var disqualified = false;\n      var edges = ele.connectedEdges();\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n        if (params.noIncomingEdges && tgt === ele && src !== ele || params.noOutgoingEdges && src === ele && tgt !== ele) {\n          disqualified = true;\n          break;\n        }\n      }\n      if (!disqualified) {\n        ret.push(ele);\n      }\n    }\n    return this.spawn(ret, true).filter(selector);\n  };\n};\nvar defineDagOneHop = function defineDagOneHop(params) {\n  return function (selector) {\n    var eles = this;\n    var oEles = [];\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      if (!ele.isNode()) {\n        continue;\n      }\n      var edges = ele.connectedEdges();\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n        if (params.outgoing && src === ele) {\n          oEles.push(edge);\n          oEles.push(tgt);\n        } else if (params.incoming && tgt === ele) {\n          oEles.push(edge);\n          oEles.push(src);\n        }\n      }\n    }\n    return this.spawn(oEles, true).filter(selector);\n  };\n};\nvar defineDagAllHops = function defineDagAllHops(params) {\n  return function (selector) {\n    var eles = this;\n    var sEles = [];\n    var sElesIds = {};\n    for (;;) {\n      var next = params.outgoing ? eles.outgoers() : eles.incomers();\n      if (next.length === 0) {\n        break;\n      } // done if none left\n\n      var newNext = false;\n      for (var i = 0; i < next.length; i++) {\n        var n = next[i];\n        var nid = n.id();\n        if (!sElesIds[nid]) {\n          sElesIds[nid] = true;\n          sEles.push(n);\n          newNext = true;\n        }\n      }\n      if (!newNext) {\n        break;\n      } // done if touched all outgoers already\n\n      eles = next;\n    }\n    return this.spawn(sEles, true).filter(selector);\n  };\n};\nelesfn$2.clearTraversalCache = function () {\n  for (var i = 0; i < this.length; i++) {\n    this[i]._private.traversalCache = null;\n  }\n};\nextend(elesfn$2, {\n  // get the root nodes in the DAG\n  roots: defineDagExtremity({\n    noIncomingEdges: true\n  }),\n  // get the leaf nodes in the DAG\n  leaves: defineDagExtremity({\n    noOutgoingEdges: true\n  }),\n  // normally called children in graph theory\n  // these nodes =edges=> outgoing nodes\n  outgoers: cache(defineDagOneHop({\n    outgoing: true\n  }), 'outgoers'),\n  // aka DAG descendants\n  successors: defineDagAllHops({\n    outgoing: true\n  }),\n  // normally called parents in graph theory\n  // these nodes <=edges= incoming nodes\n  incomers: cache(defineDagOneHop({\n    incoming: true\n  }), 'incomers'),\n  // aka DAG ancestors\n  predecessors: defineDagAllHops({\n    incoming: true\n  })\n});\n\n// Neighbourhood functions\n//////////////////////////\n\nextend(elesfn$2, {\n  neighborhood: cache(function (selector) {\n    var elements = [];\n    var nodes = this.nodes();\n    for (var i = 0; i < nodes.length; i++) {\n      // for all nodes\n      var node = nodes[i];\n      var connectedEdges = node.connectedEdges();\n\n      // for each connected edge, add the edge and the other node\n      for (var j = 0; j < connectedEdges.length; j++) {\n        var edge = connectedEdges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n        var otherNode = node === src ? tgt : src;\n\n        // need check in case of loop\n        if (otherNode.length > 0) {\n          elements.push(otherNode[0]); // add node 1 hop away\n        }\n\n        // add connected edge\n        elements.push(edge[0]);\n      }\n    }\n    return this.spawn(elements, true).filter(selector);\n  }, 'neighborhood'),\n  closedNeighborhood: function closedNeighborhood(selector) {\n    return this.neighborhood().add(this).filter(selector);\n  },\n  openNeighborhood: function openNeighborhood(selector) {\n    return this.neighborhood(selector);\n  }\n});\n\n// aliases\nelesfn$2.neighbourhood = elesfn$2.neighborhood;\nelesfn$2.closedNeighbourhood = elesfn$2.closedNeighborhood;\nelesfn$2.openNeighbourhood = elesfn$2.openNeighborhood;\n\n// Edge functions\n/////////////////\n\nextend(elesfn$2, {\n  source: cache(function sourceImpl(selector) {\n    var ele = this[0];\n    var src;\n    if (ele) {\n      src = ele._private.source || ele.cy().collection();\n    }\n    return src && selector ? src.filter(selector) : src;\n  }, 'source'),\n  target: cache(function targetImpl(selector) {\n    var ele = this[0];\n    var tgt;\n    if (ele) {\n      tgt = ele._private.target || ele.cy().collection();\n    }\n    return tgt && selector ? tgt.filter(selector) : tgt;\n  }, 'target'),\n  sources: defineSourceFunction({\n    attr: 'source'\n  }),\n  targets: defineSourceFunction({\n    attr: 'target'\n  })\n});\nfunction defineSourceFunction(params) {\n  return function sourceImpl(selector) {\n    var sources = [];\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var src = ele._private[params.attr];\n      if (src) {\n        sources.push(src);\n      }\n    }\n    return this.spawn(sources, true).filter(selector);\n  };\n}\nextend(elesfn$2, {\n  edgesWith: cache(defineEdgesWithFunction(), 'edgesWith'),\n  edgesTo: cache(defineEdgesWithFunction({\n    thisIsSrc: true\n  }), 'edgesTo')\n});\nfunction defineEdgesWithFunction(params) {\n  return function edgesWithImpl(otherNodes) {\n    var elements = [];\n    var cy = this._private.cy;\n    var p = params || {};\n\n    // get elements if a selector is specified\n    if (string(otherNodes)) {\n      otherNodes = cy.$(otherNodes);\n    }\n    for (var h = 0; h < otherNodes.length; h++) {\n      var edges = otherNodes[h]._private.edges;\n      for (var i = 0; i < edges.length; i++) {\n        var edge = edges[i];\n        var edgeData = edge._private.data;\n        var thisToOther = this.hasElementWithId(edgeData.source) && otherNodes.hasElementWithId(edgeData.target);\n        var otherToThis = otherNodes.hasElementWithId(edgeData.source) && this.hasElementWithId(edgeData.target);\n        var edgeConnectsThisAndOther = thisToOther || otherToThis;\n        if (!edgeConnectsThisAndOther) {\n          continue;\n        }\n        if (p.thisIsSrc || p.thisIsTgt) {\n          if (p.thisIsSrc && !thisToOther) {\n            continue;\n          }\n          if (p.thisIsTgt && !otherToThis) {\n            continue;\n          }\n        }\n        elements.push(edge);\n      }\n    }\n    return this.spawn(elements, true);\n  };\n}\nextend(elesfn$2, {\n  connectedEdges: cache(function (selector) {\n    var retEles = [];\n    var eles = this;\n    for (var i = 0; i < eles.length; i++) {\n      var node = eles[i];\n      if (!node.isNode()) {\n        continue;\n      }\n      var edges = node._private.edges;\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        retEles.push(edge);\n      }\n    }\n    return this.spawn(retEles, true).filter(selector);\n  }, 'connectedEdges'),\n  connectedNodes: cache(function (selector) {\n    var retEles = [];\n    var eles = this;\n    for (var i = 0; i < eles.length; i++) {\n      var edge = eles[i];\n      if (!edge.isEdge()) {\n        continue;\n      }\n      retEles.push(edge.source()[0]);\n      retEles.push(edge.target()[0]);\n    }\n    return this.spawn(retEles, true).filter(selector);\n  }, 'connectedNodes'),\n  parallelEdges: cache(defineParallelEdgesFunction(), 'parallelEdges'),\n  codirectedEdges: cache(defineParallelEdgesFunction({\n    codirected: true\n  }), 'codirectedEdges')\n});\nfunction defineParallelEdgesFunction(params) {\n  var defaults = {\n    codirected: false\n  };\n  params = extend({}, defaults, params);\n  return function parallelEdgesImpl(selector) {\n    // micro-optimised for renderer\n    var elements = [];\n    var edges = this.edges();\n    var p = params;\n\n    // look at all the edges in the collection\n    for (var i = 0; i < edges.length; i++) {\n      var edge1 = edges[i];\n      var edge1_p = edge1._private;\n      var src1 = edge1_p.source;\n      var srcid1 = src1._private.data.id;\n      var tgtid1 = edge1_p.data.target;\n      var srcEdges1 = src1._private.edges;\n\n      // look at edges connected to the src node of this edge\n      for (var j = 0; j < srcEdges1.length; j++) {\n        var edge2 = srcEdges1[j];\n        var edge2data = edge2._private.data;\n        var tgtid2 = edge2data.target;\n        var srcid2 = edge2data.source;\n        var codirected = tgtid2 === tgtid1 && srcid2 === srcid1;\n        var oppdirected = srcid1 === tgtid2 && tgtid1 === srcid2;\n        if (p.codirected && codirected || !p.codirected && (codirected || oppdirected)) {\n          elements.push(edge2);\n        }\n      }\n    }\n    return this.spawn(elements, true).filter(selector);\n  };\n}\n\n// Misc functions\n/////////////////\n\nextend(elesfn$2, {\n  components: function components(root) {\n    var self = this;\n    var cy = self.cy();\n    var visited = cy.collection();\n    var unvisited = root == null ? self.nodes() : root.nodes();\n    var components = [];\n    if (root != null && unvisited.empty()) {\n      // root may contain only edges\n      unvisited = root.sources(); // doesn't matter which node to use (undirected), so just use the source sides\n    }\n\n    var visitInComponent = function visitInComponent(node, component) {\n      visited.merge(node);\n      unvisited.unmerge(node);\n      component.merge(node);\n    };\n    if (unvisited.empty()) {\n      return self.spawn();\n    }\n    var _loop = function _loop() {\n      // each iteration yields a component\n      var cmpt = cy.collection();\n      components.push(cmpt);\n      var root = unvisited[0];\n      visitInComponent(root, cmpt);\n      self.bfs({\n        directed: false,\n        roots: root,\n        visit: function visit(v) {\n          return visitInComponent(v, cmpt);\n        }\n      });\n      cmpt.forEach(function (node) {\n        node.connectedEdges().forEach(function (e) {\n          // connectedEdges() usually cached\n          if (self.has(e) && cmpt.has(e.source()) && cmpt.has(e.target())) {\n            // has() is cheap\n            cmpt.merge(e); // forEach() only considers nodes -- sets N at call time\n          }\n        });\n      });\n    };\n    do {\n      _loop();\n    } while (unvisited.length > 0);\n    return components;\n  },\n  component: function component() {\n    var ele = this[0];\n    return ele.cy().mutableElements().components(ele)[0];\n  }\n});\nelesfn$2.componentsOf = elesfn$2.components;\n\n// represents a set of nodes, edges, or both together\nvar Collection = function Collection(cy, elements) {\n  var unique = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var removed = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  if (cy === undefined) {\n    error('A collection must have a reference to the core');\n    return;\n  }\n  var map = new Map$2();\n  var createdElements = false;\n  if (!elements) {\n    elements = [];\n  } else if (elements.length > 0 && plainObject(elements[0]) && !element(elements[0])) {\n    createdElements = true;\n\n    // make elements from json and restore all at once later\n    var eles = [];\n    var elesIds = new Set$1();\n    for (var i = 0, l = elements.length; i < l; i++) {\n      var json = elements[i];\n      if (json.data == null) {\n        json.data = {};\n      }\n      var _data = json.data;\n\n      // make sure newly created elements have valid ids\n      if (_data.id == null) {\n        _data.id = uuid();\n      } else if (cy.hasElementWithId(_data.id) || elesIds.has(_data.id)) {\n        continue; // can't create element if prior id already exists\n      }\n\n      var ele = new Element(cy, json, false);\n      eles.push(ele);\n      elesIds.add(_data.id);\n    }\n    elements = eles;\n  }\n  this.length = 0;\n  for (var _i = 0, _l = elements.length; _i < _l; _i++) {\n    var element$1 = elements[_i][0]; // [0] in case elements is an array of collections, rather than array of elements\n    if (element$1 == null) {\n      continue;\n    }\n    var id = element$1._private.data.id;\n    if (!unique || !map.has(id)) {\n      if (unique) {\n        map.set(id, {\n          index: this.length,\n          ele: element$1\n        });\n      }\n      this[this.length] = element$1;\n      this.length++;\n    }\n  }\n  this._private = {\n    eles: this,\n    cy: cy,\n    get map() {\n      if (this.lazyMap == null) {\n        this.rebuildMap();\n      }\n      return this.lazyMap;\n    },\n    set map(m) {\n      this.lazyMap = m;\n    },\n    rebuildMap: function rebuildMap() {\n      var m = this.lazyMap = new Map$2();\n      var eles = this.eles;\n      for (var _i2 = 0; _i2 < eles.length; _i2++) {\n        var _ele = eles[_i2];\n        m.set(_ele.id(), {\n          index: _i2,\n          ele: _ele\n        });\n      }\n    }\n  };\n  if (unique) {\n    this._private.map = map;\n  }\n\n  // restore the elements if we created them from json\n  if (createdElements && !removed) {\n    this.restore();\n  }\n};\n\n// Functions\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// keep the prototypes in sync (an element has the same functions as a collection)\n// and use elefn and elesfn as shorthands to the prototypes\nvar elesfn$1 = Element.prototype = Collection.prototype = Object.create(Array.prototype);\nelesfn$1.instanceString = function () {\n  return 'collection';\n};\nelesfn$1.spawn = function (eles, unique) {\n  return new Collection(this.cy(), eles, unique);\n};\nelesfn$1.spawnSelf = function () {\n  return this.spawn(this);\n};\nelesfn$1.cy = function () {\n  return this._private.cy;\n};\nelesfn$1.renderer = function () {\n  return this._private.cy.renderer();\n};\nelesfn$1.element = function () {\n  return this[0];\n};\nelesfn$1.collection = function () {\n  if (collection(this)) {\n    return this;\n  } else {\n    // an element\n    return new Collection(this._private.cy, [this]);\n  }\n};\nelesfn$1.unique = function () {\n  return new Collection(this._private.cy, this, true);\n};\nelesfn$1.hasElementWithId = function (id) {\n  id = '' + id; // id must be string\n\n  return this._private.map.has(id);\n};\nelesfn$1.getElementById = function (id) {\n  id = '' + id; // id must be string\n\n  var cy = this._private.cy;\n  var entry = this._private.map.get(id);\n  return entry ? entry.ele : new Collection(cy); // get ele or empty collection\n};\n\nelesfn$1.$id = elesfn$1.getElementById;\nelesfn$1.poolIndex = function () {\n  var cy = this._private.cy;\n  var eles = cy._private.elements;\n  var id = this[0]._private.data.id;\n  return eles._private.map.get(id).index;\n};\nelesfn$1.indexOf = function (ele) {\n  var id = ele[0]._private.data.id;\n  return this._private.map.get(id).index;\n};\nelesfn$1.indexOfId = function (id) {\n  id = '' + id; // id must be string\n\n  return this._private.map.get(id).index;\n};\nelesfn$1.json = function (obj) {\n  var ele = this.element();\n  var cy = this.cy();\n  if (ele == null && obj) {\n    return this;\n  } // can't set to no eles\n\n  if (ele == null) {\n    return undefined;\n  } // can't get from no eles\n\n  var p = ele._private;\n  if (plainObject(obj)) {\n    // set\n\n    cy.startBatch();\n    if (obj.data) {\n      ele.data(obj.data);\n      var _data2 = p.data;\n      if (ele.isEdge()) {\n        // source and target are immutable via data()\n        var move = false;\n        var spec = {};\n        var src = obj.data.source;\n        var tgt = obj.data.target;\n        if (src != null && src != _data2.source) {\n          spec.source = '' + src; // id must be string\n          move = true;\n        }\n        if (tgt != null && tgt != _data2.target) {\n          spec.target = '' + tgt; // id must be string\n          move = true;\n        }\n        if (move) {\n          ele = ele.move(spec);\n        }\n      } else {\n        // parent is immutable via data()\n        var newParentValSpecd = ('parent' in obj.data);\n        var parent = obj.data.parent;\n        if (newParentValSpecd && (parent != null || _data2.parent != null) && parent != _data2.parent) {\n          if (parent === undefined) {\n            // can't set undefined imperatively, so use null\n            parent = null;\n          }\n          if (parent != null) {\n            parent = '' + parent; // id must be string\n          }\n\n          ele = ele.move({\n            parent: parent\n          });\n        }\n      }\n    }\n    if (obj.position) {\n      ele.position(obj.position);\n    }\n\n    // ignore group -- immutable\n\n    var checkSwitch = function checkSwitch(k, trueFnName, falseFnName) {\n      var obj_k = obj[k];\n      if (obj_k != null && obj_k !== p[k]) {\n        if (obj_k) {\n          ele[trueFnName]();\n        } else {\n          ele[falseFnName]();\n        }\n      }\n    };\n    checkSwitch('removed', 'remove', 'restore');\n    checkSwitch('selected', 'select', 'unselect');\n    checkSwitch('selectable', 'selectify', 'unselectify');\n    checkSwitch('locked', 'lock', 'unlock');\n    checkSwitch('grabbable', 'grabify', 'ungrabify');\n    checkSwitch('pannable', 'panify', 'unpanify');\n    if (obj.classes != null) {\n      ele.classes(obj.classes);\n    }\n    cy.endBatch();\n    return this;\n  } else if (obj === undefined) {\n    // get\n\n    var json = {\n      data: copy(p.data),\n      position: copy(p.position),\n      group: p.group,\n      removed: p.removed,\n      selected: p.selected,\n      selectable: p.selectable,\n      locked: p.locked,\n      grabbable: p.grabbable,\n      pannable: p.pannable,\n      classes: null\n    };\n    json.classes = '';\n    var i = 0;\n    p.classes.forEach(function (cls) {\n      return json.classes += i++ === 0 ? cls : ' ' + cls;\n    });\n    return json;\n  }\n};\nelesfn$1.jsons = function () {\n  var jsons = [];\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var json = ele.json();\n    jsons.push(json);\n  }\n  return jsons;\n};\nelesfn$1.clone = function () {\n  var cy = this.cy();\n  var elesArr = [];\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var json = ele.json();\n    var clone = new Element(cy, json, false); // NB no restore\n\n    elesArr.push(clone);\n  }\n  return new Collection(cy, elesArr);\n};\nelesfn$1.copy = elesfn$1.clone;\nelesfn$1.restore = function () {\n  var notifyRenderer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var addToPool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var self = this;\n  var cy = self.cy();\n  var cy_p = cy._private;\n\n  // create arrays of nodes and edges, since we need to\n  // restore the nodes first\n  var nodes = [];\n  var edges = [];\n  var elements;\n  for (var _i3 = 0, l = self.length; _i3 < l; _i3++) {\n    var ele = self[_i3];\n    if (addToPool && !ele.removed()) {\n      // don't need to handle this ele\n      continue;\n    }\n\n    // keep nodes first in the array and edges after\n    if (ele.isNode()) {\n      // put to front of array if node\n      nodes.push(ele);\n    } else {\n      // put to end of array if edge\n      edges.push(ele);\n    }\n  }\n  elements = nodes.concat(edges);\n  var i;\n  var removeFromElements = function removeFromElements() {\n    elements.splice(i, 1);\n    i--;\n  };\n\n  // now, restore each element\n  for (i = 0; i < elements.length; i++) {\n    var _ele2 = elements[i];\n    var _private = _ele2._private;\n    var _data3 = _private.data;\n\n    // the traversal cache should start fresh when ele is added\n    _ele2.clearTraversalCache();\n\n    // set id and validate\n    if (!addToPool && !_private.removed) ; else if (_data3.id === undefined) {\n      _data3.id = uuid();\n    } else if (number$1(_data3.id)) {\n      _data3.id = '' + _data3.id; // now it's a string\n    } else if (emptyString(_data3.id) || !string(_data3.id)) {\n      error('Can not create element with invalid string ID `' + _data3.id + '`');\n\n      // can't create element if it has empty string as id or non-string id\n      removeFromElements();\n      continue;\n    } else if (cy.hasElementWithId(_data3.id)) {\n      error('Can not create second element with ID `' + _data3.id + '`');\n\n      // can't create element if one already has that id\n      removeFromElements();\n      continue;\n    }\n    var id = _data3.id; // id is finalised, now let's keep a ref\n\n    if (_ele2.isNode()) {\n      // extra checks for nodes\n      var pos = _private.position;\n\n      // make sure the nodes have a defined position\n\n      if (pos.x == null) {\n        pos.x = 0;\n      }\n      if (pos.y == null) {\n        pos.y = 0;\n      }\n    }\n    if (_ele2.isEdge()) {\n      // extra checks for edges\n\n      var edge = _ele2;\n      var fields = ['source', 'target'];\n      var fieldsLength = fields.length;\n      var badSourceOrTarget = false;\n      for (var j = 0; j < fieldsLength; j++) {\n        var field = fields[j];\n        var val = _data3[field];\n        if (number$1(val)) {\n          val = _data3[field] = '' + _data3[field]; // now string\n        }\n\n        if (val == null || val === '') {\n          // can't create if source or target is not defined properly\n          error('Can not create edge `' + id + '` with unspecified ' + field);\n          badSourceOrTarget = true;\n        } else if (!cy.hasElementWithId(val)) {\n          // can't create edge if one of its nodes doesn't exist\n          error('Can not create edge `' + id + '` with nonexistant ' + field + ' `' + val + '`');\n          badSourceOrTarget = true;\n        }\n      }\n      if (badSourceOrTarget) {\n        removeFromElements();\n        continue;\n      } // can't create this\n\n      var src = cy.getElementById(_data3.source);\n      var tgt = cy.getElementById(_data3.target);\n\n      // only one edge in node if loop\n      if (src.same(tgt)) {\n        src._private.edges.push(edge);\n      } else {\n        src._private.edges.push(edge);\n        tgt._private.edges.push(edge);\n      }\n      edge._private.source = src;\n      edge._private.target = tgt;\n    } // if is edge\n\n    // create mock ids / indexes maps for element so it can be used like collections\n    _private.map = new Map$2();\n    _private.map.set(id, {\n      ele: _ele2,\n      index: 0\n    });\n    _private.removed = false;\n    if (addToPool) {\n      cy.addToPool(_ele2);\n    }\n  } // for each element\n\n  // do compound node sanity checks\n  for (var _i4 = 0; _i4 < nodes.length; _i4++) {\n    // each node\n    var node = nodes[_i4];\n    var _data4 = node._private.data;\n    if (number$1(_data4.parent)) {\n      // then automake string\n      _data4.parent = '' + _data4.parent;\n    }\n    var parentId = _data4.parent;\n    var specifiedParent = parentId != null;\n    if (specifiedParent || node._private.parent) {\n      var parent = node._private.parent ? cy.collection().merge(node._private.parent) : cy.getElementById(parentId);\n      if (parent.empty()) {\n        // non-existant parent; just remove it\n        _data4.parent = undefined;\n      } else if (parent[0].removed()) {\n        warn('Node added with missing parent, reference to parent removed');\n        _data4.parent = undefined;\n        node._private.parent = null;\n      } else {\n        var selfAsParent = false;\n        var ancestor = parent;\n        while (!ancestor.empty()) {\n          if (node.same(ancestor)) {\n            // mark self as parent and remove from data\n            selfAsParent = true;\n            _data4.parent = undefined; // remove parent reference\n\n            // exit or we loop forever\n            break;\n          }\n          ancestor = ancestor.parent();\n        }\n        if (!selfAsParent) {\n          // connect with children\n          parent[0]._private.children.push(node);\n          node._private.parent = parent[0];\n\n          // let the core know we have a compound graph\n          cy_p.hasCompoundNodes = true;\n        }\n      } // else\n    } // if specified parent\n  } // for each node\n\n  if (elements.length > 0) {\n    var restored = elements.length === self.length ? self : new Collection(cy, elements);\n    for (var _i5 = 0; _i5 < restored.length; _i5++) {\n      var _ele3 = restored[_i5];\n      if (_ele3.isNode()) {\n        continue;\n      }\n\n      // adding an edge invalidates the traversal caches for the parallel edges\n      _ele3.parallelEdges().clearTraversalCache();\n\n      // adding an edge invalidates the traversal cache for the connected nodes\n      _ele3.source().clearTraversalCache();\n      _ele3.target().clearTraversalCache();\n    }\n    var toUpdateStyle;\n    if (cy_p.hasCompoundNodes) {\n      toUpdateStyle = cy.collection().merge(restored).merge(restored.connectedNodes()).merge(restored.parent());\n    } else {\n      toUpdateStyle = restored;\n    }\n    toUpdateStyle.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(notifyRenderer);\n    if (notifyRenderer) {\n      restored.emitAndNotify('add');\n    } else if (addToPool) {\n      restored.emit('add');\n    }\n  }\n  return self; // chainability\n};\n\nelesfn$1.removed = function () {\n  var ele = this[0];\n  return ele && ele._private.removed;\n};\nelesfn$1.inside = function () {\n  var ele = this[0];\n  return ele && !ele._private.removed;\n};\nelesfn$1.remove = function () {\n  var notifyRenderer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var removeFromPool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var self = this;\n  var elesToRemove = [];\n  var elesToRemoveIds = {};\n  var cy = self._private.cy;\n\n  // add connected edges\n  function addConnectedEdges(node) {\n    var edges = node._private.edges;\n    for (var i = 0; i < edges.length; i++) {\n      add(edges[i]);\n    }\n  }\n\n  // add descendant nodes\n  function addChildren(node) {\n    var children = node._private.children;\n    for (var i = 0; i < children.length; i++) {\n      add(children[i]);\n    }\n  }\n  function add(ele) {\n    var alreadyAdded = elesToRemoveIds[ele.id()];\n    if (removeFromPool && ele.removed() || alreadyAdded) {\n      return;\n    } else {\n      elesToRemoveIds[ele.id()] = true;\n    }\n    if (ele.isNode()) {\n      elesToRemove.push(ele); // nodes are removed last\n\n      addConnectedEdges(ele);\n      addChildren(ele);\n    } else {\n      elesToRemove.unshift(ele); // edges are removed first\n    }\n  }\n\n  // make the list of elements to remove\n  // (may be removing more than specified due to connected edges etc)\n\n  for (var i = 0, l = self.length; i < l; i++) {\n    var ele = self[i];\n    add(ele);\n  }\n  function removeEdgeRef(node, edge) {\n    var connectedEdges = node._private.edges;\n    removeFromArray(connectedEdges, edge);\n\n    // removing an edges invalidates the traversal cache for its nodes\n    node.clearTraversalCache();\n  }\n  function removeParallelRef(pllEdge) {\n    // removing an edge invalidates the traversal caches for the parallel edges\n    pllEdge.clearTraversalCache();\n  }\n  var alteredParents = [];\n  alteredParents.ids = {};\n  function removeChildRef(parent, ele) {\n    ele = ele[0];\n    parent = parent[0];\n    var children = parent._private.children;\n    var pid = parent.id();\n    removeFromArray(children, ele); // remove parent => child ref\n\n    ele._private.parent = null; // remove child => parent ref\n\n    if (!alteredParents.ids[pid]) {\n      alteredParents.ids[pid] = true;\n      alteredParents.push(parent);\n    }\n  }\n  self.dirtyCompoundBoundsCache();\n  if (removeFromPool) {\n    cy.removeFromPool(elesToRemove); // remove from core pool\n  }\n\n  for (var _i6 = 0; _i6 < elesToRemove.length; _i6++) {\n    var _ele4 = elesToRemove[_i6];\n    if (_ele4.isEdge()) {\n      // remove references to this edge in its connected nodes\n      var src = _ele4.source()[0];\n      var tgt = _ele4.target()[0];\n      removeEdgeRef(src, _ele4);\n      removeEdgeRef(tgt, _ele4);\n      var pllEdges = _ele4.parallelEdges();\n      for (var j = 0; j < pllEdges.length; j++) {\n        var pllEdge = pllEdges[j];\n        removeParallelRef(pllEdge);\n        if (pllEdge.isBundledBezier()) {\n          pllEdge.dirtyBoundingBoxCache();\n        }\n      }\n    } else {\n      // remove reference to parent\n      var parent = _ele4.parent();\n      if (parent.length !== 0) {\n        removeChildRef(parent, _ele4);\n      }\n    }\n    if (removeFromPool) {\n      // mark as removed\n      _ele4._private.removed = true;\n    }\n  }\n\n  // check to see if we have a compound graph or not\n  var elesStillInside = cy._private.elements;\n  cy._private.hasCompoundNodes = false;\n  for (var _i7 = 0; _i7 < elesStillInside.length; _i7++) {\n    var _ele5 = elesStillInside[_i7];\n    if (_ele5.isParent()) {\n      cy._private.hasCompoundNodes = true;\n      break;\n    }\n  }\n  var removedElements = new Collection(this.cy(), elesToRemove);\n  if (removedElements.size() > 0) {\n    // must manually notify since trigger won't do this automatically once removed\n\n    if (notifyRenderer) {\n      removedElements.emitAndNotify('remove');\n    } else if (removeFromPool) {\n      removedElements.emit('remove');\n    }\n  }\n\n  // the parents who were modified by the removal need their style updated\n  for (var _i8 = 0; _i8 < alteredParents.length; _i8++) {\n    var _ele6 = alteredParents[_i8];\n    if (!removeFromPool || !_ele6.removed()) {\n      _ele6.updateStyle();\n    }\n  }\n  return removedElements;\n};\nelesfn$1.move = function (struct) {\n  var cy = this._private.cy;\n  var eles = this;\n\n  // just clean up refs, caches, etc. in the same way as when removing and then restoring\n  // (our calls to remove/restore do not remove from the graph or make events)\n  var notifyRenderer = false;\n  var modifyPool = false;\n  var toString = function toString(id) {\n    return id == null ? id : '' + id;\n  }; // id must be string\n\n  if (struct.source !== undefined || struct.target !== undefined) {\n    var srcId = toString(struct.source);\n    var tgtId = toString(struct.target);\n    var srcExists = srcId != null && cy.hasElementWithId(srcId);\n    var tgtExists = tgtId != null && cy.hasElementWithId(tgtId);\n    if (srcExists || tgtExists) {\n      cy.batch(function () {\n        // avoid duplicate style updates\n        eles.remove(notifyRenderer, modifyPool); // clean up refs etc.\n        eles.emitAndNotify('moveout');\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          var _data5 = ele._private.data;\n          if (ele.isEdge()) {\n            if (srcExists) {\n              _data5.source = srcId;\n            }\n            if (tgtExists) {\n              _data5.target = tgtId;\n            }\n          }\n        }\n        eles.restore(notifyRenderer, modifyPool); // make new refs, style, etc.\n      });\n\n      eles.emitAndNotify('move');\n    }\n  } else if (struct.parent !== undefined) {\n    // move node to new parent\n    var parentId = toString(struct.parent);\n    var parentExists = parentId === null || cy.hasElementWithId(parentId);\n    if (parentExists) {\n      var pidToAssign = parentId === null ? undefined : parentId;\n      cy.batch(function () {\n        // avoid duplicate style updates\n        var updated = eles.remove(notifyRenderer, modifyPool); // clean up refs etc.\n        updated.emitAndNotify('moveout');\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          var _data6 = ele._private.data;\n          if (ele.isNode()) {\n            _data6.parent = pidToAssign;\n          }\n        }\n        updated.restore(notifyRenderer, modifyPool); // make new refs, style, etc.\n      });\n\n      eles.emitAndNotify('move');\n    }\n  }\n  return this;\n};\n[elesfn$j, elesfn$i, elesfn$h, elesfn$g, elesfn$f, data, elesfn$d, dimensions, elesfn$9, elesfn$8, elesfn$7, elesfn$6, elesfn$5, elesfn$4, elesfn$3, elesfn$2].forEach(function (props) {\n  extend(elesfn$1, props);\n});\n\nvar corefn$9 = {\n  add: function add(opts) {\n    var elements;\n    var cy = this;\n\n    // add the elements\n    if (elementOrCollection(opts)) {\n      var eles = opts;\n      if (eles._private.cy === cy) {\n        // same instance => just restore\n        elements = eles.restore();\n      } else {\n        // otherwise, copy from json\n        var jsons = [];\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          jsons.push(ele.json());\n        }\n        elements = new Collection(cy, jsons);\n      }\n    }\n\n    // specify an array of options\n    else if (array(opts)) {\n      var _jsons = opts;\n      elements = new Collection(cy, _jsons);\n    }\n\n    // specify via opts.nodes and opts.edges\n    else if (plainObject(opts) && (array(opts.nodes) || array(opts.edges))) {\n      var elesByGroup = opts;\n      var _jsons2 = [];\n      var grs = ['nodes', 'edges'];\n      for (var _i = 0, il = grs.length; _i < il; _i++) {\n        var group = grs[_i];\n        var elesArray = elesByGroup[group];\n        if (array(elesArray)) {\n          for (var j = 0, jl = elesArray.length; j < jl; j++) {\n            var json = extend({\n              group: group\n            }, elesArray[j]);\n            _jsons2.push(json);\n          }\n        }\n      }\n      elements = new Collection(cy, _jsons2);\n    }\n\n    // specify options for one element\n    else {\n      var _json = opts;\n      elements = new Element(cy, _json).collection();\n    }\n    return elements;\n  },\n  remove: function remove(collection) {\n    if (elementOrCollection(collection)) ; else if (string(collection)) {\n      var selector = collection;\n      collection = this.$(selector);\n    }\n    return collection.remove();\n  }\n};\n\n/* global Float32Array */\n\n/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */\nfunction generateCubicBezier(mX1, mY1, mX2, mY2) {\n  var NEWTON_ITERATIONS = 4,\n    NEWTON_MIN_SLOPE = 0.001,\n    SUBDIVISION_PRECISION = 0.0000001,\n    SUBDIVISION_MAX_ITERATIONS = 10,\n    kSplineTableSize = 11,\n    kSampleStepSize = 1.0 / (kSplineTableSize - 1.0),\n    float32ArraySupported = typeof Float32Array !== 'undefined';\n\n  /* Must contain four arguments. */\n  if (arguments.length !== 4) {\n    return false;\n  }\n\n  /* Arguments must be numbers. */\n  for (var i = 0; i < 4; ++i) {\n    if (typeof arguments[i] !== \"number\" || isNaN(arguments[i]) || !isFinite(arguments[i])) {\n      return false;\n    }\n  }\n\n  /* X values must be in the [0, 1] range. */\n  mX1 = Math.min(mX1, 1);\n  mX2 = Math.min(mX2, 1);\n  mX1 = Math.max(mX1, 0);\n  mX2 = Math.max(mX2, 0);\n  var mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  function A(aA1, aA2) {\n    return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n  }\n  function B(aA1, aA2) {\n    return 3.0 * aA2 - 6.0 * aA1;\n  }\n  function C(aA1) {\n    return 3.0 * aA1;\n  }\n  function calcBezier(aT, aA1, aA2) {\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n  }\n  function getSlope(aT, aA1, aA2) {\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n  }\n  function newtonRaphsonIterate(aX, aGuessT) {\n    for (var _i = 0; _i < NEWTON_ITERATIONS; ++_i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) {\n        return aGuessT;\n      }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n  function calcSampleValues() {\n    for (var _i2 = 0; _i2 < kSplineTableSize; ++_i2) {\n      mSampleValues[_i2] = calcBezier(_i2 * kSampleStepSize, mX1, mX2);\n    }\n  }\n  function binarySubdivide(aX, aA, aB) {\n    var currentX,\n      currentT,\n      i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) {\n        aB = currentT;\n      } else {\n        aA = currentT;\n      }\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n    return currentT;\n  }\n  function getTForX(aX) {\n    var intervalStart = 0.0,\n      currentSample = 1,\n      lastSample = kSplineTableSize - 1;\n    for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n    var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]),\n      guessForT = intervalStart + dist * kSampleStepSize,\n      initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);\n    }\n  }\n  var _precomputed = false;\n  function precompute() {\n    _precomputed = true;\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      calcSampleValues();\n    }\n  }\n  var f = function f(aX) {\n    if (!_precomputed) {\n      precompute();\n    }\n    if (mX1 === mY1 && mX2 === mY2) {\n      return aX;\n    }\n    if (aX === 0) {\n      return 0;\n    }\n    if (aX === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(aX), mY1, mY2);\n  };\n  f.getControlPoints = function () {\n    return [{\n      x: mX1,\n      y: mY1\n    }, {\n      x: mX2,\n      y: mY2\n    }];\n  };\n  var str = \"generateBezier(\" + [mX1, mY1, mX2, mY2] + \")\";\n  f.toString = function () {\n    return str;\n  };\n  return f;\n}\n\n/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */\n/* Given a tension, friction, and duration, a simulation at 60FPS will first run without a defined duration in order to calculate the full path. A second pass\n   then adjusts the time delta -- using the relation between actual time and duration -- to calculate the path for the duration-constrained animation. */\nvar generateSpringRK4 = function () {\n  function springAccelerationForState(state) {\n    return -state.tension * state.x - state.friction * state.v;\n  }\n  function springEvaluateStateWithDerivative(initialState, dt, derivative) {\n    var state = {\n      x: initialState.x + derivative.dx * dt,\n      v: initialState.v + derivative.dv * dt,\n      tension: initialState.tension,\n      friction: initialState.friction\n    };\n    return {\n      dx: state.v,\n      dv: springAccelerationForState(state)\n    };\n  }\n  function springIntegrateState(state, dt) {\n    var a = {\n        dx: state.v,\n        dv: springAccelerationForState(state)\n      },\n      b = springEvaluateStateWithDerivative(state, dt * 0.5, a),\n      c = springEvaluateStateWithDerivative(state, dt * 0.5, b),\n      d = springEvaluateStateWithDerivative(state, dt, c),\n      dxdt = 1.0 / 6.0 * (a.dx + 2.0 * (b.dx + c.dx) + d.dx),\n      dvdt = 1.0 / 6.0 * (a.dv + 2.0 * (b.dv + c.dv) + d.dv);\n    state.x = state.x + dxdt * dt;\n    state.v = state.v + dvdt * dt;\n    return state;\n  }\n  return function springRK4Factory(tension, friction, duration) {\n    var initState = {\n        x: -1,\n        v: 0,\n        tension: null,\n        friction: null\n      },\n      path = [0],\n      time_lapsed = 0,\n      tolerance = 1 / 10000,\n      DT = 16 / 1000,\n      have_duration,\n      dt,\n      last_state;\n    tension = parseFloat(tension) || 500;\n    friction = parseFloat(friction) || 20;\n    duration = duration || null;\n    initState.tension = tension;\n    initState.friction = friction;\n    have_duration = duration !== null;\n\n    /* Calculate the actual time it takes for this animation to complete with the provided conditions. */\n    if (have_duration) {\n      /* Run the simulation without a duration. */\n      time_lapsed = springRK4Factory(tension, friction);\n      /* Compute the adjusted time delta. */\n      dt = time_lapsed / duration * DT;\n    } else {\n      dt = DT;\n    }\n    for (;;) {\n      /* Next/step function .*/\n      last_state = springIntegrateState(last_state || initState, dt);\n      /* Store the position. */\n      path.push(1 + last_state.x);\n      time_lapsed += 16;\n      /* If the change threshold is reached, break. */\n      if (!(Math.abs(last_state.x) > tolerance && Math.abs(last_state.v) > tolerance)) {\n        break;\n      }\n    }\n\n    /* If duration is not defined, return the actual time required for completing this animation. Otherwise, return a closure that holds the\n       computed path and returns a snapshot of the position according to a given percentComplete. */\n    return !have_duration ? time_lapsed : function (percentComplete) {\n      return path[percentComplete * (path.length - 1) | 0];\n    };\n  };\n}();\n\nvar cubicBezier = function cubicBezier(t1, p1, t2, p2) {\n  var bezier = generateCubicBezier(t1, p1, t2, p2);\n  return function (start, end, percent) {\n    return start + (end - start) * bezier(percent);\n  };\n};\nvar easings = {\n  'linear': function linear(start, end, percent) {\n    return start + (end - start) * percent;\n  },\n  // default easings\n  'ease': cubicBezier(0.25, 0.1, 0.25, 1),\n  'ease-in': cubicBezier(0.42, 0, 1, 1),\n  'ease-out': cubicBezier(0, 0, 0.58, 1),\n  'ease-in-out': cubicBezier(0.42, 0, 0.58, 1),\n  // sine\n  'ease-in-sine': cubicBezier(0.47, 0, 0.745, 0.715),\n  'ease-out-sine': cubicBezier(0.39, 0.575, 0.565, 1),\n  'ease-in-out-sine': cubicBezier(0.445, 0.05, 0.55, 0.95),\n  // quad\n  'ease-in-quad': cubicBezier(0.55, 0.085, 0.68, 0.53),\n  'ease-out-quad': cubicBezier(0.25, 0.46, 0.45, 0.94),\n  'ease-in-out-quad': cubicBezier(0.455, 0.03, 0.515, 0.955),\n  // cubic\n  'ease-in-cubic': cubicBezier(0.55, 0.055, 0.675, 0.19),\n  'ease-out-cubic': cubicBezier(0.215, 0.61, 0.355, 1),\n  'ease-in-out-cubic': cubicBezier(0.645, 0.045, 0.355, 1),\n  // quart\n  'ease-in-quart': cubicBezier(0.895, 0.03, 0.685, 0.22),\n  'ease-out-quart': cubicBezier(0.165, 0.84, 0.44, 1),\n  'ease-in-out-quart': cubicBezier(0.77, 0, 0.175, 1),\n  // quint\n  'ease-in-quint': cubicBezier(0.755, 0.05, 0.855, 0.06),\n  'ease-out-quint': cubicBezier(0.23, 1, 0.32, 1),\n  'ease-in-out-quint': cubicBezier(0.86, 0, 0.07, 1),\n  // expo\n  'ease-in-expo': cubicBezier(0.95, 0.05, 0.795, 0.035),\n  'ease-out-expo': cubicBezier(0.19, 1, 0.22, 1),\n  'ease-in-out-expo': cubicBezier(1, 0, 0, 1),\n  // circ\n  'ease-in-circ': cubicBezier(0.6, 0.04, 0.98, 0.335),\n  'ease-out-circ': cubicBezier(0.075, 0.82, 0.165, 1),\n  'ease-in-out-circ': cubicBezier(0.785, 0.135, 0.15, 0.86),\n  // user param easings...\n\n  'spring': function spring(tension, friction, duration) {\n    if (duration === 0) {\n      // can't get a spring w/ duration 0\n      return easings.linear; // duration 0 => jump to end so impl doesn't matter\n    }\n\n    var spring = generateSpringRK4(tension, friction, duration);\n    return function (start, end, percent) {\n      return start + (end - start) * spring(percent);\n    };\n  },\n  'cubic-bezier': cubicBezier\n};\n\nfunction getEasedValue(type, start, end, percent, easingFn) {\n  if (percent === 1) {\n    return end;\n  }\n  if (start === end) {\n    return end;\n  }\n  var val = easingFn(start, end, percent);\n  if (type == null) {\n    return val;\n  }\n  if (type.roundValue || type.color) {\n    val = Math.round(val);\n  }\n  if (type.min !== undefined) {\n    val = Math.max(val, type.min);\n  }\n  if (type.max !== undefined) {\n    val = Math.min(val, type.max);\n  }\n  return val;\n}\nfunction getValue(prop, spec) {\n  if (prop.pfValue != null || prop.value != null) {\n    if (prop.pfValue != null && (spec == null || spec.type.units !== '%')) {\n      return prop.pfValue;\n    } else {\n      return prop.value;\n    }\n  } else {\n    return prop;\n  }\n}\nfunction ease(startProp, endProp, percent, easingFn, propSpec) {\n  var type = propSpec != null ? propSpec.type : null;\n  if (percent < 0) {\n    percent = 0;\n  } else if (percent > 1) {\n    percent = 1;\n  }\n  var start = getValue(startProp, propSpec);\n  var end = getValue(endProp, propSpec);\n  if (number$1(start) && number$1(end)) {\n    return getEasedValue(type, start, end, percent, easingFn);\n  } else if (array(start) && array(end)) {\n    var easedArr = [];\n    for (var i = 0; i < end.length; i++) {\n      var si = start[i];\n      var ei = end[i];\n      if (si != null && ei != null) {\n        var val = getEasedValue(type, si, ei, percent, easingFn);\n        easedArr.push(val);\n      } else {\n        easedArr.push(ei);\n      }\n    }\n    return easedArr;\n  }\n  return undefined;\n}\n\nfunction step$1(self, ani, now, isCore) {\n  var isEles = !isCore;\n  var _p = self._private;\n  var ani_p = ani._private;\n  var pEasing = ani_p.easing;\n  var startTime = ani_p.startTime;\n  var cy = isCore ? self : self.cy();\n  var style = cy.style();\n  if (!ani_p.easingImpl) {\n    if (pEasing == null) {\n      // use default\n      ani_p.easingImpl = easings['linear'];\n    } else {\n      // then define w/ name\n      var easingVals;\n      if (string(pEasing)) {\n        var easingProp = style.parse('transition-timing-function', pEasing);\n        easingVals = easingProp.value;\n      } else {\n        // then assume preparsed array\n        easingVals = pEasing;\n      }\n      var name, args;\n      if (string(easingVals)) {\n        name = easingVals;\n        args = [];\n      } else {\n        name = easingVals[1];\n        args = easingVals.slice(2).map(function (n) {\n          return +n;\n        });\n      }\n      if (args.length > 0) {\n        // create with args\n        if (name === 'spring') {\n          args.push(ani_p.duration); // need duration to generate spring\n        }\n\n        ani_p.easingImpl = easings[name].apply(null, args);\n      } else {\n        // static impl by name\n        ani_p.easingImpl = easings[name];\n      }\n    }\n  }\n  var easing = ani_p.easingImpl;\n  var percent;\n  if (ani_p.duration === 0) {\n    percent = 1;\n  } else {\n    percent = (now - startTime) / ani_p.duration;\n  }\n  if (ani_p.applying) {\n    percent = ani_p.progress;\n  }\n  if (percent < 0) {\n    percent = 0;\n  } else if (percent > 1) {\n    percent = 1;\n  }\n  if (ani_p.delay == null) {\n    // then update\n\n    var startPos = ani_p.startPosition;\n    var endPos = ani_p.position;\n    if (endPos && isEles && !self.locked()) {\n      var newPos = {};\n      if (valid(startPos.x, endPos.x)) {\n        newPos.x = ease(startPos.x, endPos.x, percent, easing);\n      }\n      if (valid(startPos.y, endPos.y)) {\n        newPos.y = ease(startPos.y, endPos.y, percent, easing);\n      }\n      self.position(newPos);\n    }\n    var startPan = ani_p.startPan;\n    var endPan = ani_p.pan;\n    var pan = _p.pan;\n    var animatingPan = endPan != null && isCore;\n    if (animatingPan) {\n      if (valid(startPan.x, endPan.x)) {\n        pan.x = ease(startPan.x, endPan.x, percent, easing);\n      }\n      if (valid(startPan.y, endPan.y)) {\n        pan.y = ease(startPan.y, endPan.y, percent, easing);\n      }\n      self.emit('pan');\n    }\n    var startZoom = ani_p.startZoom;\n    var endZoom = ani_p.zoom;\n    var animatingZoom = endZoom != null && isCore;\n    if (animatingZoom) {\n      if (valid(startZoom, endZoom)) {\n        _p.zoom = bound(_p.minZoom, ease(startZoom, endZoom, percent, easing), _p.maxZoom);\n      }\n      self.emit('zoom');\n    }\n    if (animatingPan || animatingZoom) {\n      self.emit('viewport');\n    }\n    var props = ani_p.style;\n    if (props && props.length > 0 && isEles) {\n      for (var i = 0; i < props.length; i++) {\n        var prop = props[i];\n        var _name = prop.name;\n        var end = prop;\n        var start = ani_p.startStyle[_name];\n        var propSpec = style.properties[start.name];\n        var easedVal = ease(start, end, percent, easing, propSpec);\n        style.overrideBypass(self, _name, easedVal);\n      } // for props\n\n      self.emit('style');\n    } // if\n  }\n\n  ani_p.progress = percent;\n  return percent;\n}\nfunction valid(start, end) {\n  if (start == null || end == null) {\n    return false;\n  }\n  if (number$1(start) && number$1(end)) {\n    return true;\n  } else if (start && end) {\n    return true;\n  }\n  return false;\n}\n\nfunction startAnimation(self, ani, now, isCore) {\n  var ani_p = ani._private;\n  ani_p.started = true;\n  ani_p.startTime = now - ani_p.progress * ani_p.duration;\n}\n\nfunction stepAll(now, cy) {\n  var eles = cy._private.aniEles;\n  var doneEles = [];\n  function stepOne(ele, isCore) {\n    var _p = ele._private;\n    var current = _p.animation.current;\n    var queue = _p.animation.queue;\n    var ranAnis = false;\n\n    // if nothing currently animating, get something from the queue\n    if (current.length === 0) {\n      var next = queue.shift();\n      if (next) {\n        current.push(next);\n      }\n    }\n    var callbacks = function callbacks(_callbacks) {\n      for (var j = _callbacks.length - 1; j >= 0; j--) {\n        var cb = _callbacks[j];\n        cb();\n      }\n      _callbacks.splice(0, _callbacks.length);\n    };\n\n    // step and remove if done\n    for (var i = current.length - 1; i >= 0; i--) {\n      var ani = current[i];\n      var ani_p = ani._private;\n      if (ani_p.stopped) {\n        current.splice(i, 1);\n        ani_p.hooked = false;\n        ani_p.playing = false;\n        ani_p.started = false;\n        callbacks(ani_p.frames);\n        continue;\n      }\n      if (!ani_p.playing && !ani_p.applying) {\n        continue;\n      }\n\n      // an apply() while playing shouldn't do anything\n      if (ani_p.playing && ani_p.applying) {\n        ani_p.applying = false;\n      }\n      if (!ani_p.started) {\n        startAnimation(ele, ani, now);\n      }\n      step$1(ele, ani, now, isCore);\n      if (ani_p.applying) {\n        ani_p.applying = false;\n      }\n      callbacks(ani_p.frames);\n      if (ani_p.step != null) {\n        ani_p.step(now);\n      }\n      if (ani.completed()) {\n        current.splice(i, 1);\n        ani_p.hooked = false;\n        ani_p.playing = false;\n        ani_p.started = false;\n        callbacks(ani_p.completes);\n      }\n      ranAnis = true;\n    }\n    if (!isCore && current.length === 0 && queue.length === 0) {\n      doneEles.push(ele);\n    }\n    return ranAnis;\n  } // stepElement\n\n  // handle all eles\n  var ranEleAni = false;\n  for (var e = 0; e < eles.length; e++) {\n    var ele = eles[e];\n    var handledThisEle = stepOne(ele);\n    ranEleAni = ranEleAni || handledThisEle;\n  } // each element\n\n  var ranCoreAni = stepOne(cy, true);\n\n  // notify renderer\n  if (ranEleAni || ranCoreAni) {\n    if (eles.length > 0) {\n      cy.notify('draw', eles);\n    } else {\n      cy.notify('draw');\n    }\n  }\n\n  // remove elements from list of currently animating if its queues are empty\n  eles.unmerge(doneEles);\n  cy.emit('step');\n} // stepAll\n\nvar corefn$8 = {\n  // pull in animation functions\n  animate: define.animate(),\n  animation: define.animation(),\n  animated: define.animated(),\n  clearQueue: define.clearQueue(),\n  delay: define.delay(),\n  delayAnimation: define.delayAnimation(),\n  stop: define.stop(),\n  addToAnimationPool: function addToAnimationPool(eles) {\n    var cy = this;\n    if (!cy.styleEnabled()) {\n      return;\n    } // save cycles when no style used\n\n    cy._private.aniEles.merge(eles);\n  },\n  stopAnimationLoop: function stopAnimationLoop() {\n    this._private.animationsRunning = false;\n  },\n  startAnimationLoop: function startAnimationLoop() {\n    var cy = this;\n    cy._private.animationsRunning = true;\n    if (!cy.styleEnabled()) {\n      return;\n    } // save cycles when no style used\n\n    // NB the animation loop will exec in headless environments if style enabled\n    // and explicit cy.destroy() is necessary to stop the loop\n\n    function headlessStep() {\n      if (!cy._private.animationsRunning) {\n        return;\n      }\n      requestAnimationFrame(function animationStep(now) {\n        stepAll(now, cy);\n        headlessStep();\n      });\n    }\n    var renderer = cy.renderer();\n    if (renderer && renderer.beforeRender) {\n      // let the renderer schedule animations\n      renderer.beforeRender(function rendererAnimationStep(willDraw, now) {\n        stepAll(now, cy);\n      }, renderer.beforeRenderPriorities.animations);\n    } else {\n      // manage the animation loop ourselves\n      headlessStep(); // first call\n    }\n  }\n};\n\nvar emitterOptions = {\n  qualifierCompare: function qualifierCompare(selector1, selector2) {\n    if (selector1 == null || selector2 == null) {\n      return selector1 == null && selector2 == null;\n    } else {\n      return selector1.sameText(selector2);\n    }\n  },\n  eventMatches: function eventMatches(cy, listener, eventObj) {\n    var selector = listener.qualifier;\n    if (selector != null) {\n      return cy !== eventObj.target && element(eventObj.target) && selector.matches(eventObj.target);\n    }\n    return true;\n  },\n  addEventFields: function addEventFields(cy, evt) {\n    evt.cy = cy;\n    evt.target = cy;\n  },\n  callbackContext: function callbackContext(cy, listener, eventObj) {\n    return listener.qualifier != null ? eventObj.target : cy;\n  }\n};\nvar argSelector = function argSelector(arg) {\n  if (string(arg)) {\n    return new Selector(arg);\n  } else {\n    return arg;\n  }\n};\nvar elesfn = {\n  createEmitter: function createEmitter() {\n    var _p = this._private;\n    if (!_p.emitter) {\n      _p.emitter = new Emitter(emitterOptions, this);\n    }\n    return this;\n  },\n  emitter: function emitter() {\n    return this._private.emitter;\n  },\n  on: function on(events, selector, callback) {\n    this.emitter().on(events, argSelector(selector), callback);\n    return this;\n  },\n  removeListener: function removeListener(events, selector, callback) {\n    this.emitter().removeListener(events, argSelector(selector), callback);\n    return this;\n  },\n  removeAllListeners: function removeAllListeners() {\n    this.emitter().removeAllListeners();\n    return this;\n  },\n  one: function one(events, selector, callback) {\n    this.emitter().one(events, argSelector(selector), callback);\n    return this;\n  },\n  once: function once(events, selector, callback) {\n    this.emitter().one(events, argSelector(selector), callback);\n    return this;\n  },\n  emit: function emit(events, extraParams) {\n    this.emitter().emit(events, extraParams);\n    return this;\n  },\n  emitAndNotify: function emitAndNotify(event, eles) {\n    this.emit(event);\n    this.notify(event, eles);\n    return this;\n  }\n};\ndefine.eventAliasesOn(elesfn);\n\nvar corefn$7 = {\n  png: function png(options) {\n    var renderer = this._private.renderer;\n    options = options || {};\n    return renderer.png(options);\n  },\n  jpg: function jpg(options) {\n    var renderer = this._private.renderer;\n    options = options || {};\n    options.bg = options.bg || '#fff';\n    return renderer.jpg(options);\n  }\n};\ncorefn$7.jpeg = corefn$7.jpg;\n\nvar corefn$6 = {\n  layout: function layout(options) {\n    var cy = this;\n    if (options == null) {\n      error('Layout options must be specified to make a layout');\n      return;\n    }\n    if (options.name == null) {\n      error('A `name` must be specified to make a layout');\n      return;\n    }\n    var name = options.name;\n    var Layout = cy.extension('layout', name);\n    if (Layout == null) {\n      error('No such layout `' + name + '` found.  Did you forget to import it and `cytoscape.use()` it?');\n      return;\n    }\n    var eles;\n    if (string(options.eles)) {\n      eles = cy.$(options.eles);\n    } else {\n      eles = options.eles != null ? options.eles : cy.$();\n    }\n    var layout = new Layout(extend({}, options, {\n      cy: cy,\n      eles: eles\n    }));\n    return layout;\n  }\n};\ncorefn$6.createLayout = corefn$6.makeLayout = corefn$6.layout;\n\nvar corefn$5 = {\n  notify: function notify(eventName, eventEles) {\n    var _p = this._private;\n    if (this.batching()) {\n      _p.batchNotifications = _p.batchNotifications || {};\n      var eles = _p.batchNotifications[eventName] = _p.batchNotifications[eventName] || this.collection();\n      if (eventEles != null) {\n        eles.merge(eventEles);\n      }\n      return; // notifications are disabled during batching\n    }\n\n    if (!_p.notificationsEnabled) {\n      return;\n    } // exit on disabled\n\n    var renderer = this.renderer();\n\n    // exit if destroy() called on core or renderer in between frames #1499 #1528\n    if (this.destroyed() || !renderer) {\n      return;\n    }\n    renderer.notify(eventName, eventEles);\n  },\n  notifications: function notifications(bool) {\n    var p = this._private;\n    if (bool === undefined) {\n      return p.notificationsEnabled;\n    } else {\n      p.notificationsEnabled = bool ? true : false;\n    }\n    return this;\n  },\n  noNotifications: function noNotifications(callback) {\n    this.notifications(false);\n    callback();\n    this.notifications(true);\n  },\n  batching: function batching() {\n    return this._private.batchCount > 0;\n  },\n  startBatch: function startBatch() {\n    var _p = this._private;\n    if (_p.batchCount == null) {\n      _p.batchCount = 0;\n    }\n    if (_p.batchCount === 0) {\n      _p.batchStyleEles = this.collection();\n      _p.batchNotifications = {};\n    }\n    _p.batchCount++;\n    return this;\n  },\n  endBatch: function endBatch() {\n    var _p = this._private;\n    if (_p.batchCount === 0) {\n      return this;\n    }\n    _p.batchCount--;\n    if (_p.batchCount === 0) {\n      // update style for dirty eles\n      _p.batchStyleEles.updateStyle();\n      var renderer = this.renderer();\n\n      // notify the renderer of queued eles and event types\n      Object.keys(_p.batchNotifications).forEach(function (eventName) {\n        var eles = _p.batchNotifications[eventName];\n        if (eles.empty()) {\n          renderer.notify(eventName);\n        } else {\n          renderer.notify(eventName, eles);\n        }\n      });\n    }\n    return this;\n  },\n  batch: function batch(callback) {\n    this.startBatch();\n    callback();\n    this.endBatch();\n    return this;\n  },\n  // for backwards compatibility\n  batchData: function batchData(map) {\n    var cy = this;\n    return this.batch(function () {\n      var ids = Object.keys(map);\n      for (var i = 0; i < ids.length; i++) {\n        var id = ids[i];\n        var data = map[id];\n        var ele = cy.getElementById(id);\n        ele.data(data);\n      }\n    });\n  }\n};\n\nvar rendererDefaults = defaults$g({\n  hideEdgesOnViewport: false,\n  textureOnViewport: false,\n  motionBlur: false,\n  motionBlurOpacity: 0.05,\n  pixelRatio: undefined,\n  desktopTapThreshold: 4,\n  touchTapThreshold: 8,\n  wheelSensitivity: 1,\n  debug: false,\n  showFps: false\n});\nvar corefn$4 = {\n  renderTo: function renderTo(context, zoom, pan, pxRatio) {\n    var r = this._private.renderer;\n    r.renderTo(context, zoom, pan, pxRatio);\n    return this;\n  },\n  renderer: function renderer() {\n    return this._private.renderer;\n  },\n  forceRender: function forceRender() {\n    this.notify('draw');\n    return this;\n  },\n  resize: function resize() {\n    this.invalidateSize();\n    this.emitAndNotify('resize');\n    return this;\n  },\n  initRenderer: function initRenderer(options) {\n    var cy = this;\n    var RendererProto = cy.extension('renderer', options.name);\n    if (RendererProto == null) {\n      error(\"Can not initialise: No such renderer `\".concat(options.name, \"` found. Did you forget to import it and `cytoscape.use()` it?\"));\n      return;\n    }\n    if (options.wheelSensitivity !== undefined) {\n      warn(\"You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.\");\n    }\n    var rOpts = rendererDefaults(options);\n    rOpts.cy = cy;\n    cy._private.renderer = new RendererProto(rOpts);\n    this.notify('init');\n  },\n  destroyRenderer: function destroyRenderer() {\n    var cy = this;\n    cy.notify('destroy'); // destroy the renderer\n\n    var domEle = cy.container();\n    if (domEle) {\n      domEle._cyreg = null;\n      while (domEle.childNodes.length > 0) {\n        domEle.removeChild(domEle.childNodes[0]);\n      }\n    }\n    cy._private.renderer = null; // to be extra safe, remove the ref\n    cy.mutableElements().forEach(function (ele) {\n      var _p = ele._private;\n      _p.rscratch = {};\n      _p.rstyle = {};\n      _p.animation.current = [];\n      _p.animation.queue = [];\n    });\n  },\n  onRender: function onRender(fn) {\n    return this.on('render', fn);\n  },\n  offRender: function offRender(fn) {\n    return this.off('render', fn);\n  }\n};\ncorefn$4.invalidateDimensions = corefn$4.resize;\n\nvar corefn$3 = {\n  // get a collection\n  // - empty collection on no args\n  // - collection of elements in the graph on selector arg\n  // - guarantee a returned collection when elements or collection specified\n  collection: function collection(eles, opts) {\n    if (string(eles)) {\n      return this.$(eles);\n    } else if (elementOrCollection(eles)) {\n      return eles.collection();\n    } else if (array(eles)) {\n      if (!opts) {\n        opts = {};\n      }\n      return new Collection(this, eles, opts.unique, opts.removed);\n    }\n    return new Collection(this);\n  },\n  nodes: function nodes(selector) {\n    var nodes = this.$(function (ele) {\n      return ele.isNode();\n    });\n    if (selector) {\n      return nodes.filter(selector);\n    }\n    return nodes;\n  },\n  edges: function edges(selector) {\n    var edges = this.$(function (ele) {\n      return ele.isEdge();\n    });\n    if (selector) {\n      return edges.filter(selector);\n    }\n    return edges;\n  },\n  // search the graph like jQuery\n  $: function $(selector) {\n    var eles = this._private.elements;\n    if (selector) {\n      return eles.filter(selector);\n    } else {\n      return eles.spawnSelf();\n    }\n  },\n  mutableElements: function mutableElements() {\n    return this._private.elements;\n  }\n};\n\n// aliases\ncorefn$3.elements = corefn$3.filter = corefn$3.$;\n\nvar styfn$8 = {};\n\n// keys for style blocks, e.g. ttfftt\nvar TRUE = 't';\nvar FALSE = 'f';\n\n// (potentially expensive calculation)\n// apply the style to the element based on\n// - its bypass\n// - what selectors match it\nstyfn$8.apply = function (eles) {\n  var self = this;\n  var _p = self._private;\n  var cy = _p.cy;\n  var updatedEles = cy.collection();\n  for (var ie = 0; ie < eles.length; ie++) {\n    var ele = eles[ie];\n    var cxtMeta = self.getContextMeta(ele);\n    if (cxtMeta.empty) {\n      continue;\n    }\n    var cxtStyle = self.getContextStyle(cxtMeta);\n    var app = self.applyContextStyle(cxtMeta, cxtStyle, ele);\n    if (ele._private.appliedInitStyle) {\n      self.updateTransitions(ele, app.diffProps);\n    } else {\n      ele._private.appliedInitStyle = true;\n    }\n    var hintsDiff = self.updateStyleHints(ele);\n    if (hintsDiff) {\n      updatedEles.push(ele);\n    }\n  } // for elements\n\n  return updatedEles;\n};\nstyfn$8.getPropertiesDiff = function (oldCxtKey, newCxtKey) {\n  var self = this;\n  var cache = self._private.propDiffs = self._private.propDiffs || {};\n  var dualCxtKey = oldCxtKey + '-' + newCxtKey;\n  var cachedVal = cache[dualCxtKey];\n  if (cachedVal) {\n    return cachedVal;\n  }\n  var diffProps = [];\n  var addedProp = {};\n  for (var i = 0; i < self.length; i++) {\n    var cxt = self[i];\n    var oldHasCxt = oldCxtKey[i] === TRUE;\n    var newHasCxt = newCxtKey[i] === TRUE;\n    var cxtHasDiffed = oldHasCxt !== newHasCxt;\n    var cxtHasMappedProps = cxt.mappedProperties.length > 0;\n    if (cxtHasDiffed || newHasCxt && cxtHasMappedProps) {\n      var props = void 0;\n      if (cxtHasDiffed && cxtHasMappedProps) {\n        props = cxt.properties; // suffices b/c mappedProperties is a subset of properties\n      } else if (cxtHasDiffed) {\n        props = cxt.properties; // need to check them all\n      } else if (cxtHasMappedProps) {\n        props = cxt.mappedProperties; // only need to check mapped\n      }\n\n      for (var j = 0; j < props.length; j++) {\n        var prop = props[j];\n        var name = prop.name;\n\n        // if a later context overrides this property, then the fact that this context has switched/diffed doesn't matter\n        // (semi expensive check since it makes this function O(n^2) on context length, but worth it since overall result\n        // is cached)\n        var laterCxtOverrides = false;\n        for (var k = i + 1; k < self.length; k++) {\n          var laterCxt = self[k];\n          var hasLaterCxt = newCxtKey[k] === TRUE;\n          if (!hasLaterCxt) {\n            continue;\n          } // can't override unless the context is active\n\n          laterCxtOverrides = laterCxt.properties[prop.name] != null;\n          if (laterCxtOverrides) {\n            break;\n          } // exit early as long as one later context overrides\n        }\n\n        if (!addedProp[name] && !laterCxtOverrides) {\n          addedProp[name] = true;\n          diffProps.push(name);\n        }\n      } // for props\n    } // if\n  } // for contexts\n\n  cache[dualCxtKey] = diffProps;\n  return diffProps;\n};\nstyfn$8.getContextMeta = function (ele) {\n  var self = this;\n  var cxtKey = '';\n  var diffProps;\n  var prevKey = ele._private.styleCxtKey || '';\n\n  // get the cxt key\n  for (var i = 0; i < self.length; i++) {\n    var context = self[i];\n    var contextSelectorMatches = context.selector && context.selector.matches(ele); // NB: context.selector may be null for 'core'\n\n    if (contextSelectorMatches) {\n      cxtKey += TRUE;\n    } else {\n      cxtKey += FALSE;\n    }\n  } // for context\n\n  diffProps = self.getPropertiesDiff(prevKey, cxtKey);\n  ele._private.styleCxtKey = cxtKey;\n  return {\n    key: cxtKey,\n    diffPropNames: diffProps,\n    empty: diffProps.length === 0\n  };\n};\n\n// gets a computed ele style object based on matched contexts\nstyfn$8.getContextStyle = function (cxtMeta) {\n  var cxtKey = cxtMeta.key;\n  var self = this;\n  var cxtStyles = this._private.contextStyles = this._private.contextStyles || {};\n\n  // if already computed style, returned cached copy\n  if (cxtStyles[cxtKey]) {\n    return cxtStyles[cxtKey];\n  }\n  var style = {\n    _private: {\n      key: cxtKey\n    }\n  };\n  for (var i = 0; i < self.length; i++) {\n    var cxt = self[i];\n    var hasCxt = cxtKey[i] === TRUE;\n    if (!hasCxt) {\n      continue;\n    }\n    for (var j = 0; j < cxt.properties.length; j++) {\n      var prop = cxt.properties[j];\n      style[prop.name] = prop;\n    }\n  }\n  cxtStyles[cxtKey] = style;\n  return style;\n};\nstyfn$8.applyContextStyle = function (cxtMeta, cxtStyle, ele) {\n  var self = this;\n  var diffProps = cxtMeta.diffPropNames;\n  var retDiffProps = {};\n  var types = self.types;\n  for (var i = 0; i < diffProps.length; i++) {\n    var diffPropName = diffProps[i];\n    var cxtProp = cxtStyle[diffPropName];\n    var eleProp = ele.pstyle(diffPropName);\n    if (!cxtProp) {\n      // no context prop means delete\n      if (!eleProp) {\n        continue; // no existing prop means nothing needs to be removed\n        // nb affects initial application on mapped values like control-point-distances\n      } else if (eleProp.bypass) {\n        cxtProp = {\n          name: diffPropName,\n          deleteBypassed: true\n        };\n      } else {\n        cxtProp = {\n          name: diffPropName,\n          \"delete\": true\n        };\n      }\n    }\n\n    // save cycles when the context prop doesn't need to be applied\n    if (eleProp === cxtProp) {\n      continue;\n    }\n\n    // save cycles when a mapped context prop doesn't need to be applied\n    if (cxtProp.mapped === types.fn // context prop is function mapper\n    && eleProp != null // some props can be null even by default (e.g. a prop that overrides another one)\n    && eleProp.mapping != null // ele prop is a concrete value from from a mapper\n    && eleProp.mapping.value === cxtProp.value // the current prop on the ele is a flat prop value for the function mapper\n    ) {\n      // NB don't write to cxtProp, as it's shared among eles (stored in stylesheet)\n      var mapping = eleProp.mapping; // can write to mapping, as it's a per-ele copy\n      var fnValue = mapping.fnValue = cxtProp.value(ele); // temporarily cache the value in case of a miss\n\n      if (fnValue === mapping.prevFnValue) {\n        continue;\n      }\n    }\n    var retDiffProp = retDiffProps[diffPropName] = {\n      prev: eleProp\n    };\n    self.applyParsedProperty(ele, cxtProp);\n    retDiffProp.next = ele.pstyle(diffPropName);\n    if (retDiffProp.next && retDiffProp.next.bypass) {\n      retDiffProp.next = retDiffProp.next.bypassed;\n    }\n  }\n  return {\n    diffProps: retDiffProps\n  };\n};\nstyfn$8.updateStyleHints = function (ele) {\n  var _p = ele._private;\n  var self = this;\n  var propNames = self.propertyGroupNames;\n  var propGrKeys = self.propertyGroupKeys;\n  var propHash = function propHash(ele, propNames, seedKey) {\n    return self.getPropertiesHash(ele, propNames, seedKey);\n  };\n  var oldStyleKey = _p.styleKey;\n  if (ele.removed()) {\n    return false;\n  }\n  var isNode = _p.group === 'nodes';\n\n  // get the style key hashes per prop group\n  // but lazily -- only use non-default prop values to reduce the number of hashes\n  //\n\n  var overriddenStyles = ele._private.style;\n  propNames = Object.keys(overriddenStyles);\n  for (var i = 0; i < propGrKeys.length; i++) {\n    var grKey = propGrKeys[i];\n    _p.styleKeys[grKey] = [DEFAULT_HASH_SEED, DEFAULT_HASH_SEED_ALT];\n  }\n  var updateGrKey1 = function updateGrKey1(val, grKey) {\n    return _p.styleKeys[grKey][0] = hashInt(val, _p.styleKeys[grKey][0]);\n  };\n  var updateGrKey2 = function updateGrKey2(val, grKey) {\n    return _p.styleKeys[grKey][1] = hashIntAlt(val, _p.styleKeys[grKey][1]);\n  };\n  var updateGrKey = function updateGrKey(val, grKey) {\n    updateGrKey1(val, grKey);\n    updateGrKey2(val, grKey);\n  };\n  var updateGrKeyWStr = function updateGrKeyWStr(strVal, grKey) {\n    for (var j = 0; j < strVal.length; j++) {\n      var ch = strVal.charCodeAt(j);\n      updateGrKey1(ch, grKey);\n      updateGrKey2(ch, grKey);\n    }\n  };\n\n  // - hashing works on 32 bit ints b/c we use bitwise ops\n  // - small numbers get cut off (e.g. 0.123 is seen as 0 by the hashing function)\n  // - raise up small numbers so more significant digits are seen by hashing\n  // - make small numbers larger than a normal value to avoid collisions\n  // - works in practice and it's relatively cheap\n  var N = 2000000000;\n  var cleanNum = function cleanNum(val) {\n    return -128 < val && val < 128 && Math.floor(val) !== val ? N - (val * 1024 | 0) : val;\n  };\n  for (var _i = 0; _i < propNames.length; _i++) {\n    var name = propNames[_i];\n    var parsedProp = overriddenStyles[name];\n    if (parsedProp == null) {\n      continue;\n    }\n    var propInfo = this.properties[name];\n    var type = propInfo.type;\n    var _grKey = propInfo.groupKey;\n    var normalizedNumberVal = void 0;\n    if (propInfo.hashOverride != null) {\n      normalizedNumberVal = propInfo.hashOverride(ele, parsedProp);\n    } else if (parsedProp.pfValue != null) {\n      normalizedNumberVal = parsedProp.pfValue;\n    }\n\n    // might not be a number if it allows enums\n    var numberVal = propInfo.enums == null ? parsedProp.value : null;\n    var haveNormNum = normalizedNumberVal != null;\n    var haveUnitedNum = numberVal != null;\n    var haveNum = haveNormNum || haveUnitedNum;\n    var units = parsedProp.units;\n\n    // numbers are cheaper to hash than strings\n    // 1 hash op vs n hash ops (for length n string)\n    if (type.number && haveNum && !type.multiple) {\n      var v = haveNormNum ? normalizedNumberVal : numberVal;\n      updateGrKey(cleanNum(v), _grKey);\n      if (!haveNormNum && units != null) {\n        updateGrKeyWStr(units, _grKey);\n      }\n    } else {\n      updateGrKeyWStr(parsedProp.strValue, _grKey);\n    }\n  }\n\n  // overall style key\n  //\n\n  var hash = [DEFAULT_HASH_SEED, DEFAULT_HASH_SEED_ALT];\n  for (var _i2 = 0; _i2 < propGrKeys.length; _i2++) {\n    var _grKey2 = propGrKeys[_i2];\n    var grHash = _p.styleKeys[_grKey2];\n    hash[0] = hashInt(grHash[0], hash[0]);\n    hash[1] = hashIntAlt(grHash[1], hash[1]);\n  }\n  _p.styleKey = combineHashes(hash[0], hash[1]);\n\n  // label dims\n  //\n\n  var sk = _p.styleKeys;\n  _p.labelDimsKey = combineHashesArray(sk.labelDimensions);\n  var labelKeys = propHash(ele, ['label'], sk.labelDimensions);\n  _p.labelKey = combineHashesArray(labelKeys);\n  _p.labelStyleKey = combineHashesArray(hashArrays(sk.commonLabel, labelKeys));\n  if (!isNode) {\n    var sourceLabelKeys = propHash(ele, ['source-label'], sk.labelDimensions);\n    _p.sourceLabelKey = combineHashesArray(sourceLabelKeys);\n    _p.sourceLabelStyleKey = combineHashesArray(hashArrays(sk.commonLabel, sourceLabelKeys));\n    var targetLabelKeys = propHash(ele, ['target-label'], sk.labelDimensions);\n    _p.targetLabelKey = combineHashesArray(targetLabelKeys);\n    _p.targetLabelStyleKey = combineHashesArray(hashArrays(sk.commonLabel, targetLabelKeys));\n  }\n\n  // node\n  //\n\n  if (isNode) {\n    var _p$styleKeys = _p.styleKeys,\n      nodeBody = _p$styleKeys.nodeBody,\n      nodeBorder = _p$styleKeys.nodeBorder,\n      nodeOutline = _p$styleKeys.nodeOutline,\n      backgroundImage = _p$styleKeys.backgroundImage,\n      compound = _p$styleKeys.compound,\n      pie = _p$styleKeys.pie;\n    var nodeKeys = [nodeBody, nodeBorder, nodeOutline, backgroundImage, compound, pie].filter(function (k) {\n      return k != null;\n    }).reduce(hashArrays, [DEFAULT_HASH_SEED, DEFAULT_HASH_SEED_ALT]);\n    _p.nodeKey = combineHashesArray(nodeKeys);\n    _p.hasPie = pie != null && pie[0] !== DEFAULT_HASH_SEED && pie[1] !== DEFAULT_HASH_SEED_ALT;\n  }\n  return oldStyleKey !== _p.styleKey;\n};\nstyfn$8.clearStyleHints = function (ele) {\n  var _p = ele._private;\n  _p.styleCxtKey = '';\n  _p.styleKeys = {};\n  _p.styleKey = null;\n  _p.labelKey = null;\n  _p.labelStyleKey = null;\n  _p.sourceLabelKey = null;\n  _p.sourceLabelStyleKey = null;\n  _p.targetLabelKey = null;\n  _p.targetLabelStyleKey = null;\n  _p.nodeKey = null;\n  _p.hasPie = null;\n};\n\n// apply a property to the style (for internal use)\n// returns whether application was successful\n//\n// now, this function flattens the property, and here's how:\n//\n// for parsedProp:{ bypass: true, deleteBypass: true }\n// no property is generated, instead the bypass property in the\n// element's style is replaced by what's pointed to by the `bypassed`\n// field in the bypass property (i.e. restoring the property the\n// bypass was overriding)\n//\n// for parsedProp:{ mapped: truthy }\n// the generated flattenedProp:{ mapping: prop }\n//\n// for parsedProp:{ bypass: true }\n// the generated flattenedProp:{ bypassed: parsedProp }\nstyfn$8.applyParsedProperty = function (ele, parsedProp) {\n  var self = this;\n  var prop = parsedProp;\n  var style = ele._private.style;\n  var flatProp;\n  var types = self.types;\n  var type = self.properties[prop.name].type;\n  var propIsBypass = prop.bypass;\n  var origProp = style[prop.name];\n  var origPropIsBypass = origProp && origProp.bypass;\n  var _p = ele._private;\n  var flatPropMapping = 'mapping';\n  var getVal = function getVal(p) {\n    if (p == null) {\n      return null;\n    } else if (p.pfValue != null) {\n      return p.pfValue;\n    } else {\n      return p.value;\n    }\n  };\n  var checkTriggers = function checkTriggers() {\n    var fromVal = getVal(origProp);\n    var toVal = getVal(prop);\n    self.checkTriggers(ele, prop.name, fromVal, toVal);\n  };\n\n  // edge sanity checks to prevent the client from making serious mistakes\n  if (parsedProp.name === 'curve-style' && ele.isEdge() && (\n  // loops must be bundled beziers\n  parsedProp.value !== 'bezier' && ele.isLoop() ||\n  // edges connected to compound nodes can not be haystacks\n  parsedProp.value === 'haystack' && (ele.source().isParent() || ele.target().isParent()))) {\n    prop = parsedProp = this.parse(parsedProp.name, 'bezier', propIsBypass);\n  }\n  if (prop[\"delete\"]) {\n    // delete the property and use the default value on falsey value\n    style[prop.name] = undefined;\n    checkTriggers();\n    return true;\n  }\n  if (prop.deleteBypassed) {\n    // delete the property that the\n    if (!origProp) {\n      checkTriggers();\n      return true; // can't delete if no prop\n    } else if (origProp.bypass) {\n      // delete bypassed\n      origProp.bypassed = undefined;\n      checkTriggers();\n      return true;\n    } else {\n      return false; // we're unsuccessful deleting the bypassed\n    }\n  }\n\n  // check if we need to delete the current bypass\n  if (prop.deleteBypass) {\n    // then this property is just here to indicate we need to delete\n    if (!origProp) {\n      checkTriggers();\n      return true; // property is already not defined\n    } else if (origProp.bypass) {\n      // then replace the bypass property with the original\n      // because the bypassed property was already applied (and therefore parsed), we can just replace it (no reapplying necessary)\n      style[prop.name] = origProp.bypassed;\n      checkTriggers();\n      return true;\n    } else {\n      return false; // we're unsuccessful deleting the bypass\n    }\n  }\n\n  var printMappingErr = function printMappingErr() {\n    warn('Do not assign mappings to elements without corresponding data (i.e. ele `' + ele.id() + '` has no mapping for property `' + prop.name + '` with data field `' + prop.field + '`); try a `[' + prop.field + ']` selector to limit scope to elements with `' + prop.field + '` defined');\n  };\n\n  // put the property in the style objects\n  switch (prop.mapped) {\n    // flatten the property if mapped\n    case types.mapData:\n      {\n        // flatten the field (e.g. data.foo.bar)\n        var fields = prop.field.split('.');\n        var fieldVal = _p.data;\n        for (var i = 0; i < fields.length && fieldVal; i++) {\n          var field = fields[i];\n          fieldVal = fieldVal[field];\n        }\n        if (fieldVal == null) {\n          printMappingErr();\n          return false;\n        }\n        var percent;\n        if (!number$1(fieldVal)) {\n          // then don't apply and fall back on the existing style\n          warn('Do not use continuous mappers without specifying numeric data (i.e. `' + prop.field + ': ' + fieldVal + '` for `' + ele.id() + '` is non-numeric)');\n          return false;\n        } else {\n          var fieldWidth = prop.fieldMax - prop.fieldMin;\n          if (fieldWidth === 0) {\n            // safety check -- not strictly necessary as no props of zero range should be passed here\n            percent = 0;\n          } else {\n            percent = (fieldVal - prop.fieldMin) / fieldWidth;\n          }\n        }\n\n        // make sure to bound percent value\n        if (percent < 0) {\n          percent = 0;\n        } else if (percent > 1) {\n          percent = 1;\n        }\n        if (type.color) {\n          var r1 = prop.valueMin[0];\n          var r2 = prop.valueMax[0];\n          var g1 = prop.valueMin[1];\n          var g2 = prop.valueMax[1];\n          var b1 = prop.valueMin[2];\n          var b2 = prop.valueMax[2];\n          var a1 = prop.valueMin[3] == null ? 1 : prop.valueMin[3];\n          var a2 = prop.valueMax[3] == null ? 1 : prop.valueMax[3];\n          var clr = [Math.round(r1 + (r2 - r1) * percent), Math.round(g1 + (g2 - g1) * percent), Math.round(b1 + (b2 - b1) * percent), Math.round(a1 + (a2 - a1) * percent)];\n          flatProp = {\n            // colours are simple, so just create the flat property instead of expensive string parsing\n            bypass: prop.bypass,\n            // we're a bypass if the mapping property is a bypass\n            name: prop.name,\n            value: clr,\n            strValue: 'rgb(' + clr[0] + ', ' + clr[1] + ', ' + clr[2] + ')'\n          };\n        } else if (type.number) {\n          var calcValue = prop.valueMin + (prop.valueMax - prop.valueMin) * percent;\n          flatProp = this.parse(prop.name, calcValue, prop.bypass, flatPropMapping);\n        } else {\n          return false; // can only map to colours and numbers\n        }\n\n        if (!flatProp) {\n          // if we can't flatten the property, then don't apply the property and fall back on the existing style\n          printMappingErr();\n          return false;\n        }\n        flatProp.mapping = prop; // keep a reference to the mapping\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n\n    // direct mapping\n    case types.data:\n      {\n        // flatten the field (e.g. data.foo.bar)\n        var _fields = prop.field.split('.');\n        var _fieldVal = _p.data;\n        for (var _i3 = 0; _i3 < _fields.length && _fieldVal; _i3++) {\n          var _field = _fields[_i3];\n          _fieldVal = _fieldVal[_field];\n        }\n        if (_fieldVal != null) {\n          flatProp = this.parse(prop.name, _fieldVal, prop.bypass, flatPropMapping);\n        }\n        if (!flatProp) {\n          // if we can't flatten the property, then don't apply and fall back on the existing style\n          printMappingErr();\n          return false;\n        }\n        flatProp.mapping = prop; // keep a reference to the mapping\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n    case types.fn:\n      {\n        var fn = prop.value;\n        var fnRetVal = prop.fnValue != null ? prop.fnValue : fn(ele); // check for cached value before calling function\n\n        prop.prevFnValue = fnRetVal;\n        if (fnRetVal == null) {\n          warn('Custom function mappers may not return null (i.e. `' + prop.name + '` for ele `' + ele.id() + '` is null)');\n          return false;\n        }\n        flatProp = this.parse(prop.name, fnRetVal, prop.bypass, flatPropMapping);\n        if (!flatProp) {\n          warn('Custom function mappers may not return invalid values for the property type (i.e. `' + prop.name + '` for ele `' + ele.id() + '` is invalid)');\n          return false;\n        }\n        flatProp.mapping = copy(prop); // keep a reference to the mapping\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n    case undefined:\n      break;\n    // just set the property\n\n    default:\n      return false;\n    // not a valid mapping\n  }\n\n  // if the property is a bypass property, then link the resultant property to the original one\n  if (propIsBypass) {\n    if (origPropIsBypass) {\n      // then this bypass overrides the existing one\n      prop.bypassed = origProp.bypassed; // steal bypassed prop from old bypass\n    } else {\n      // then link the orig prop to the new bypass\n      prop.bypassed = origProp;\n    }\n    style[prop.name] = prop; // and set\n  } else {\n    // prop is not bypass\n    if (origPropIsBypass) {\n      // then keep the orig prop (since it's a bypass) and link to the new prop\n      origProp.bypassed = prop;\n    } else {\n      // then just replace the old prop with the new one\n      style[prop.name] = prop;\n    }\n  }\n  checkTriggers();\n  return true;\n};\nstyfn$8.cleanElements = function (eles, keepBypasses) {\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    this.clearStyleHints(ele);\n    ele.dirtyCompoundBoundsCache();\n    ele.dirtyBoundingBoxCache();\n    if (!keepBypasses) {\n      ele._private.style = {};\n    } else {\n      var style = ele._private.style;\n      var propNames = Object.keys(style);\n      for (var j = 0; j < propNames.length; j++) {\n        var propName = propNames[j];\n        var eleProp = style[propName];\n        if (eleProp != null) {\n          if (eleProp.bypass) {\n            eleProp.bypassed = null;\n          } else {\n            style[propName] = null;\n          }\n        }\n      }\n    }\n  }\n};\n\n// updates the visual style for all elements (useful for manual style modification after init)\nstyfn$8.update = function () {\n  var cy = this._private.cy;\n  var eles = cy.mutableElements();\n  eles.updateStyle();\n};\n\n// diffProps : { name => { prev, next } }\nstyfn$8.updateTransitions = function (ele, diffProps) {\n  var self = this;\n  var _p = ele._private;\n  var props = ele.pstyle('transition-property').value;\n  var duration = ele.pstyle('transition-duration').pfValue;\n  var delay = ele.pstyle('transition-delay').pfValue;\n  if (props.length > 0 && duration > 0) {\n    var style = {};\n\n    // build up the style to animate towards\n    var anyPrev = false;\n    for (var i = 0; i < props.length; i++) {\n      var prop = props[i];\n      var styProp = ele.pstyle(prop);\n      var diffProp = diffProps[prop];\n      if (!diffProp) {\n        continue;\n      }\n      var prevProp = diffProp.prev;\n      var fromProp = prevProp;\n      var toProp = diffProp.next != null ? diffProp.next : styProp;\n      var diff = false;\n      var initVal = void 0;\n      var initDt = 0.000001; // delta time % value for initVal (allows animating out of init zero opacity)\n\n      if (!fromProp) {\n        continue;\n      }\n\n      // consider px values\n      if (number$1(fromProp.pfValue) && number$1(toProp.pfValue)) {\n        diff = toProp.pfValue - fromProp.pfValue; // nonzero is truthy\n        initVal = fromProp.pfValue + initDt * diff;\n\n        // consider numerical values\n      } else if (number$1(fromProp.value) && number$1(toProp.value)) {\n        diff = toProp.value - fromProp.value; // nonzero is truthy\n        initVal = fromProp.value + initDt * diff;\n\n        // consider colour values\n      } else if (array(fromProp.value) && array(toProp.value)) {\n        diff = fromProp.value[0] !== toProp.value[0] || fromProp.value[1] !== toProp.value[1] || fromProp.value[2] !== toProp.value[2];\n        initVal = fromProp.strValue;\n      }\n\n      // the previous value is good for an animation only if it's different\n      if (diff) {\n        style[prop] = toProp.strValue; // to val\n        this.applyBypass(ele, prop, initVal); // from val\n        anyPrev = true;\n      }\n    } // end if props allow ani\n\n    // can't transition if there's nothing previous to transition from\n    if (!anyPrev) {\n      return;\n    }\n    _p.transitioning = true;\n    new Promise$1(function (resolve) {\n      if (delay > 0) {\n        ele.delayAnimation(delay).play().promise().then(resolve);\n      } else {\n        resolve();\n      }\n    }).then(function () {\n      return ele.animation({\n        style: style,\n        duration: duration,\n        easing: ele.pstyle('transition-timing-function').value,\n        queue: false\n      }).play().promise();\n    }).then(function () {\n      // if( !isBypass ){\n      self.removeBypasses(ele, props);\n      ele.emitAndNotify('style');\n      // }\n\n      _p.transitioning = false;\n    });\n  } else if (_p.transitioning) {\n    this.removeBypasses(ele, props);\n    ele.emitAndNotify('style');\n    _p.transitioning = false;\n  }\n};\nstyfn$8.checkTrigger = function (ele, name, fromValue, toValue, getTrigger, onTrigger) {\n  var prop = this.properties[name];\n  var triggerCheck = getTrigger(prop);\n  if (triggerCheck != null && triggerCheck(fromValue, toValue)) {\n    onTrigger(prop);\n  }\n};\nstyfn$8.checkZOrderTrigger = function (ele, name, fromValue, toValue) {\n  var _this = this;\n  this.checkTrigger(ele, name, fromValue, toValue, function (prop) {\n    return prop.triggersZOrder;\n  }, function () {\n    _this._private.cy.notify('zorder', ele);\n  });\n};\nstyfn$8.checkBoundsTrigger = function (ele, name, fromValue, toValue) {\n  this.checkTrigger(ele, name, fromValue, toValue, function (prop) {\n    return prop.triggersBounds;\n  }, function (prop) {\n    ele.dirtyCompoundBoundsCache();\n    ele.dirtyBoundingBoxCache();\n\n    // if the prop change makes the bb of pll bezier edges invalid,\n    // then dirty the pll edge bb cache as well\n    if (\n    // only for beziers -- so performance of other edges isn't affected\n    prop.triggersBoundsOfParallelBeziers && name === 'curve-style' && (fromValue === 'bezier' || toValue === 'bezier')) {\n      ele.parallelEdges().forEach(function (pllEdge) {\n        if (pllEdge.isBundledBezier()) {\n          pllEdge.dirtyBoundingBoxCache();\n        }\n      });\n    }\n    if (prop.triggersBoundsOfConnectedEdges && name === 'display' && (fromValue === 'none' || toValue === 'none')) {\n      ele.connectedEdges().forEach(function (edge) {\n        edge.dirtyBoundingBoxCache();\n      });\n    }\n  });\n};\nstyfn$8.checkTriggers = function (ele, name, fromValue, toValue) {\n  ele.dirtyStyleCache();\n  this.checkZOrderTrigger(ele, name, fromValue, toValue);\n  this.checkBoundsTrigger(ele, name, fromValue, toValue);\n};\n\nvar styfn$7 = {};\n\n// bypasses are applied to an existing style on an element, and just tacked on temporarily\n// returns true iff application was successful for at least 1 specified property\nstyfn$7.applyBypass = function (eles, name, value, updateTransitions) {\n  var self = this;\n  var props = [];\n  var isBypass = true;\n\n  // put all the properties (can specify one or many) in an array after parsing them\n  if (name === '*' || name === '**') {\n    // apply to all property names\n\n    if (value !== undefined) {\n      for (var i = 0; i < self.properties.length; i++) {\n        var prop = self.properties[i];\n        var _name = prop.name;\n        var parsedProp = this.parse(_name, value, true);\n        if (parsedProp) {\n          props.push(parsedProp);\n        }\n      }\n    }\n  } else if (string(name)) {\n    // then parse the single property\n    var _parsedProp = this.parse(name, value, true);\n    if (_parsedProp) {\n      props.push(_parsedProp);\n    }\n  } else if (plainObject(name)) {\n    // then parse each property\n    var specifiedProps = name;\n    updateTransitions = value;\n    var names = Object.keys(specifiedProps);\n    for (var _i = 0; _i < names.length; _i++) {\n      var _name2 = names[_i];\n      var _value = specifiedProps[_name2];\n      if (_value === undefined) {\n        // try camel case name too\n        _value = specifiedProps[dash2camel(_name2)];\n      }\n      if (_value !== undefined) {\n        var _parsedProp2 = this.parse(_name2, _value, true);\n        if (_parsedProp2) {\n          props.push(_parsedProp2);\n        }\n      }\n    }\n  } else {\n    // can't do anything without well defined properties\n    return false;\n  }\n\n  // we've failed if there are no valid properties\n  if (props.length === 0) {\n    return false;\n  }\n\n  // now, apply the bypass properties on the elements\n  var ret = false; // return true if at least one succesful bypass applied\n  for (var _i2 = 0; _i2 < eles.length; _i2++) {\n    // for each ele\n    var ele = eles[_i2];\n    var diffProps = {};\n    var diffProp = void 0;\n    for (var j = 0; j < props.length; j++) {\n      // for each prop\n      var _prop = props[j];\n      if (updateTransitions) {\n        var prevProp = ele.pstyle(_prop.name);\n        diffProp = diffProps[_prop.name] = {\n          prev: prevProp\n        };\n      }\n      ret = this.applyParsedProperty(ele, copy(_prop)) || ret;\n      if (updateTransitions) {\n        diffProp.next = ele.pstyle(_prop.name);\n      }\n    } // for props\n\n    if (ret) {\n      this.updateStyleHints(ele);\n    }\n    if (updateTransitions) {\n      this.updateTransitions(ele, diffProps, isBypass);\n    }\n  } // for eles\n\n  return ret;\n};\n\n// only useful in specific cases like animation\nstyfn$7.overrideBypass = function (eles, name, value) {\n  name = camel2dash(name);\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var prop = ele._private.style[name];\n    var type = this.properties[name].type;\n    var isColor = type.color;\n    var isMulti = type.mutiple;\n    var oldValue = !prop ? null : prop.pfValue != null ? prop.pfValue : prop.value;\n    if (!prop || !prop.bypass) {\n      // need a bypass if one doesn't exist\n      this.applyBypass(ele, name, value);\n    } else {\n      prop.value = value;\n      if (prop.pfValue != null) {\n        prop.pfValue = value;\n      }\n      if (isColor) {\n        prop.strValue = 'rgb(' + value.join(',') + ')';\n      } else if (isMulti) {\n        prop.strValue = value.join(' ');\n      } else {\n        prop.strValue = '' + value;\n      }\n      this.updateStyleHints(ele);\n    }\n    this.checkTriggers(ele, name, oldValue, value);\n  }\n};\nstyfn$7.removeAllBypasses = function (eles, updateTransitions) {\n  return this.removeBypasses(eles, this.propertyNames, updateTransitions);\n};\nstyfn$7.removeBypasses = function (eles, props, updateTransitions) {\n  var isBypass = true;\n  for (var j = 0; j < eles.length; j++) {\n    var ele = eles[j];\n    var diffProps = {};\n    for (var i = 0; i < props.length; i++) {\n      var name = props[i];\n      var prop = this.properties[name];\n      var prevProp = ele.pstyle(prop.name);\n      if (!prevProp || !prevProp.bypass) {\n        // if a bypass doesn't exist for the prop, nothing needs to be removed\n        continue;\n      }\n      var value = ''; // empty => remove bypass\n      var parsedProp = this.parse(name, value, true);\n      var diffProp = diffProps[prop.name] = {\n        prev: prevProp\n      };\n      this.applyParsedProperty(ele, parsedProp);\n      diffProp.next = ele.pstyle(prop.name);\n    } // for props\n\n    this.updateStyleHints(ele);\n    if (updateTransitions) {\n      this.updateTransitions(ele, diffProps, isBypass);\n    }\n  } // for eles\n};\n\nvar styfn$6 = {};\n\n// gets what an em size corresponds to in pixels relative to a dom element\nstyfn$6.getEmSizeInPixels = function () {\n  var px = this.containerCss('font-size');\n  if (px != null) {\n    return parseFloat(px);\n  } else {\n    return 1; // for headless\n  }\n};\n\n// gets css property from the core container\nstyfn$6.containerCss = function (propName) {\n  var cy = this._private.cy;\n  var domElement = cy.container();\n  var containerWindow = cy.window();\n  if (containerWindow && domElement && containerWindow.getComputedStyle) {\n    return containerWindow.getComputedStyle(domElement).getPropertyValue(propName);\n  }\n};\n\nvar styfn$5 = {};\n\n// gets the rendered style for an element\nstyfn$5.getRenderedStyle = function (ele, prop) {\n  if (prop) {\n    return this.getStylePropertyValue(ele, prop, true);\n  } else {\n    return this.getRawStyle(ele, true);\n  }\n};\n\n// gets the raw style for an element\nstyfn$5.getRawStyle = function (ele, isRenderedVal) {\n  var self = this;\n  ele = ele[0]; // insure it's an element\n\n  if (ele) {\n    var rstyle = {};\n    for (var i = 0; i < self.properties.length; i++) {\n      var prop = self.properties[i];\n      var val = self.getStylePropertyValue(ele, prop.name, isRenderedVal);\n      if (val != null) {\n        rstyle[prop.name] = val;\n        rstyle[dash2camel(prop.name)] = val;\n      }\n    }\n    return rstyle;\n  }\n};\nstyfn$5.getIndexedStyle = function (ele, property, subproperty, index) {\n  var pstyle = ele.pstyle(property)[subproperty][index];\n  return pstyle != null ? pstyle : ele.cy().style().getDefaultProperty(property)[subproperty][0];\n};\nstyfn$5.getStylePropertyValue = function (ele, propName, isRenderedVal) {\n  var self = this;\n  ele = ele[0]; // insure it's an element\n\n  if (ele) {\n    var prop = self.properties[propName];\n    if (prop.alias) {\n      prop = prop.pointsTo;\n    }\n    var type = prop.type;\n    var styleProp = ele.pstyle(prop.name);\n    if (styleProp) {\n      var value = styleProp.value,\n        units = styleProp.units,\n        strValue = styleProp.strValue;\n      if (isRenderedVal && type.number && value != null && number$1(value)) {\n        var zoom = ele.cy().zoom();\n        var getRenderedValue = function getRenderedValue(val) {\n          return val * zoom;\n        };\n        var getValueStringWithUnits = function getValueStringWithUnits(val, units) {\n          return getRenderedValue(val) + units;\n        };\n        var isArrayValue = array(value);\n        var haveUnits = isArrayValue ? units.every(function (u) {\n          return u != null;\n        }) : units != null;\n        if (haveUnits) {\n          if (isArrayValue) {\n            return value.map(function (v, i) {\n              return getValueStringWithUnits(v, units[i]);\n            }).join(' ');\n          } else {\n            return getValueStringWithUnits(value, units);\n          }\n        } else {\n          if (isArrayValue) {\n            return value.map(function (v) {\n              return string(v) ? v : '' + getRenderedValue(v);\n            }).join(' ');\n          } else {\n            return '' + getRenderedValue(value);\n          }\n        }\n      } else if (strValue != null) {\n        return strValue;\n      }\n    }\n    return null;\n  }\n};\nstyfn$5.getAnimationStartStyle = function (ele, aniProps) {\n  var rstyle = {};\n  for (var i = 0; i < aniProps.length; i++) {\n    var aniProp = aniProps[i];\n    var name = aniProp.name;\n    var styleProp = ele.pstyle(name);\n    if (styleProp !== undefined) {\n      // then make a prop of it\n      if (plainObject(styleProp)) {\n        styleProp = this.parse(name, styleProp.strValue);\n      } else {\n        styleProp = this.parse(name, styleProp);\n      }\n    }\n    if (styleProp) {\n      rstyle[name] = styleProp;\n    }\n  }\n  return rstyle;\n};\nstyfn$5.getPropsList = function (propsObj) {\n  var self = this;\n  var rstyle = [];\n  var style = propsObj;\n  var props = self.properties;\n  if (style) {\n    var names = Object.keys(style);\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      var val = style[name];\n      var prop = props[name] || props[camel2dash(name)];\n      var styleProp = this.parse(prop.name, val);\n      if (styleProp) {\n        rstyle.push(styleProp);\n      }\n    }\n  }\n  return rstyle;\n};\nstyfn$5.getNonDefaultPropertiesHash = function (ele, propNames, seed) {\n  var hash = seed.slice();\n  var name, val, strVal, chVal;\n  var i, j;\n  for (i = 0; i < propNames.length; i++) {\n    name = propNames[i];\n    val = ele.pstyle(name, false);\n    if (val == null) {\n      continue;\n    } else if (val.pfValue != null) {\n      hash[0] = hashInt(chVal, hash[0]);\n      hash[1] = hashIntAlt(chVal, hash[1]);\n    } else {\n      strVal = val.strValue;\n      for (j = 0; j < strVal.length; j++) {\n        chVal = strVal.charCodeAt(j);\n        hash[0] = hashInt(chVal, hash[0]);\n        hash[1] = hashIntAlt(chVal, hash[1]);\n      }\n    }\n  }\n  return hash;\n};\nstyfn$5.getPropertiesHash = styfn$5.getNonDefaultPropertiesHash;\n\nvar styfn$4 = {};\nstyfn$4.appendFromJson = function (json) {\n  var style = this;\n  for (var i = 0; i < json.length; i++) {\n    var context = json[i];\n    var selector = context.selector;\n    var props = context.style || context.css;\n    var names = Object.keys(props);\n    style.selector(selector); // apply selector\n\n    for (var j = 0; j < names.length; j++) {\n      var name = names[j];\n      var value = props[name];\n      style.css(name, value); // apply property\n    }\n  }\n\n  return style;\n};\n\n// accessible cy.style() function\nstyfn$4.fromJson = function (json) {\n  var style = this;\n  style.resetToDefault();\n  style.appendFromJson(json);\n  return style;\n};\n\n// get json from cy.style() api\nstyfn$4.json = function () {\n  var json = [];\n  for (var i = this.defaultLength; i < this.length; i++) {\n    var cxt = this[i];\n    var selector = cxt.selector;\n    var props = cxt.properties;\n    var css = {};\n    for (var j = 0; j < props.length; j++) {\n      var prop = props[j];\n      css[prop.name] = prop.strValue;\n    }\n    json.push({\n      selector: !selector ? 'core' : selector.toString(),\n      style: css\n    });\n  }\n  return json;\n};\n\nvar styfn$3 = {};\nstyfn$3.appendFromString = function (string) {\n  var self = this;\n  var style = this;\n  var remaining = '' + string;\n  var selAndBlockStr;\n  var blockRem;\n  var propAndValStr;\n\n  // remove comments from the style string\n  remaining = remaining.replace(/[/][*](\\s|.)+?[*][/]/g, '');\n  function removeSelAndBlockFromRemaining() {\n    // remove the parsed selector and block from the remaining text to parse\n    if (remaining.length > selAndBlockStr.length) {\n      remaining = remaining.substr(selAndBlockStr.length);\n    } else {\n      remaining = '';\n    }\n  }\n  function removePropAndValFromRem() {\n    // remove the parsed property and value from the remaining block text to parse\n    if (blockRem.length > propAndValStr.length) {\n      blockRem = blockRem.substr(propAndValStr.length);\n    } else {\n      blockRem = '';\n    }\n  }\n  for (;;) {\n    var nothingLeftToParse = remaining.match(/^\\s*$/);\n    if (nothingLeftToParse) {\n      break;\n    }\n    var selAndBlock = remaining.match(/^\\s*((?:.|\\s)+?)\\s*\\{((?:.|\\s)+?)\\}/);\n    if (!selAndBlock) {\n      warn('Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: ' + remaining);\n      break;\n    }\n    selAndBlockStr = selAndBlock[0];\n\n    // parse the selector\n    var selectorStr = selAndBlock[1];\n    if (selectorStr !== 'core') {\n      var selector = new Selector(selectorStr);\n      if (selector.invalid) {\n        warn('Skipping parsing of block: Invalid selector found in string stylesheet: ' + selectorStr);\n\n        // skip this selector and block\n        removeSelAndBlockFromRemaining();\n        continue;\n      }\n    }\n\n    // parse the block of properties and values\n    var blockStr = selAndBlock[2];\n    var invalidBlock = false;\n    blockRem = blockStr;\n    var props = [];\n    for (;;) {\n      var _nothingLeftToParse = blockRem.match(/^\\s*$/);\n      if (_nothingLeftToParse) {\n        break;\n      }\n      var propAndVal = blockRem.match(/^\\s*(.+?)\\s*:\\s*(.+?)(?:\\s*;|\\s*$)/);\n      if (!propAndVal) {\n        warn('Skipping parsing of block: Invalid formatting of style property and value definitions found in:' + blockStr);\n        invalidBlock = true;\n        break;\n      }\n      propAndValStr = propAndVal[0];\n      var propStr = propAndVal[1];\n      var valStr = propAndVal[2];\n      var prop = self.properties[propStr];\n      if (!prop) {\n        warn('Skipping property: Invalid property name in: ' + propAndValStr);\n\n        // skip this property in the block\n        removePropAndValFromRem();\n        continue;\n      }\n      var parsedProp = style.parse(propStr, valStr);\n      if (!parsedProp) {\n        warn('Skipping property: Invalid property definition in: ' + propAndValStr);\n\n        // skip this property in the block\n        removePropAndValFromRem();\n        continue;\n      }\n      props.push({\n        name: propStr,\n        val: valStr\n      });\n      removePropAndValFromRem();\n    }\n    if (invalidBlock) {\n      removeSelAndBlockFromRemaining();\n      break;\n    }\n\n    // put the parsed block in the style\n    style.selector(selectorStr);\n    for (var i = 0; i < props.length; i++) {\n      var _prop = props[i];\n      style.css(_prop.name, _prop.val);\n    }\n    removeSelAndBlockFromRemaining();\n  }\n  return style;\n};\nstyfn$3.fromString = function (string) {\n  var style = this;\n  style.resetToDefault();\n  style.appendFromString(string);\n  return style;\n};\n\nvar styfn$2 = {};\n(function () {\n  var number$1 = number;\n  var rgba = rgbaNoBackRefs;\n  var hsla = hslaNoBackRefs;\n  var hex3$1 = hex3;\n  var hex6$1 = hex6;\n  var data = function data(prefix) {\n    return '^' + prefix + '\\\\s*\\\\(\\\\s*([\\\\w\\\\.]+)\\\\s*\\\\)$';\n  };\n  var mapData = function mapData(prefix) {\n    var mapArg = number$1 + '|\\\\w+|' + rgba + '|' + hsla + '|' + hex3$1 + '|' + hex6$1;\n    return '^' + prefix + '\\\\s*\\\\(([\\\\w\\\\.]+)\\\\s*\\\\,\\\\s*(' + number$1 + ')\\\\s*\\\\,\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + mapArg + ')\\\\s*\\\\,\\\\s*(' + mapArg + ')\\\\)$';\n  };\n  var urlRegexes = ['^url\\\\s*\\\\(\\\\s*[\\'\"]?(.+?)[\\'\"]?\\\\s*\\\\)$', '^(none)$', '^(.+)$'];\n\n  // each visual style property has a type and needs to be validated according to it\n  styfn$2.types = {\n    time: {\n      number: true,\n      min: 0,\n      units: 's|ms',\n      implicitUnits: 'ms'\n    },\n    percent: {\n      number: true,\n      min: 0,\n      max: 100,\n      units: '%',\n      implicitUnits: '%'\n    },\n    percentages: {\n      number: true,\n      min: 0,\n      max: 100,\n      units: '%',\n      implicitUnits: '%',\n      multiple: true\n    },\n    zeroOneNumber: {\n      number: true,\n      min: 0,\n      max: 1,\n      unitless: true\n    },\n    zeroOneNumbers: {\n      number: true,\n      min: 0,\n      max: 1,\n      unitless: true,\n      multiple: true\n    },\n    nOneOneNumber: {\n      number: true,\n      min: -1,\n      max: 1,\n      unitless: true\n    },\n    nonNegativeInt: {\n      number: true,\n      min: 0,\n      integer: true,\n      unitless: true\n    },\n    nonNegativeNumber: {\n      number: true,\n      min: 0,\n      unitless: true\n    },\n    position: {\n      enums: ['parent', 'origin']\n    },\n    nodeSize: {\n      number: true,\n      min: 0,\n      enums: ['label']\n    },\n    number: {\n      number: true,\n      unitless: true\n    },\n    numbers: {\n      number: true,\n      unitless: true,\n      multiple: true\n    },\n    positiveNumber: {\n      number: true,\n      unitless: true,\n      min: 0,\n      strictMin: true\n    },\n    size: {\n      number: true,\n      min: 0\n    },\n    bidirectionalSize: {\n      number: true\n    },\n    // allows negative\n    bidirectionalSizeMaybePercent: {\n      number: true,\n      allowPercent: true\n    },\n    // allows negative\n    bidirectionalSizes: {\n      number: true,\n      multiple: true\n    },\n    // allows negative\n    sizeMaybePercent: {\n      number: true,\n      min: 0,\n      allowPercent: true\n    },\n    axisDirection: {\n      enums: ['horizontal', 'leftward', 'rightward', 'vertical', 'upward', 'downward', 'auto']\n    },\n    paddingRelativeTo: {\n      enums: ['width', 'height', 'average', 'min', 'max']\n    },\n    bgWH: {\n      number: true,\n      min: 0,\n      allowPercent: true,\n      enums: ['auto'],\n      multiple: true\n    },\n    bgPos: {\n      number: true,\n      allowPercent: true,\n      multiple: true\n    },\n    bgRelativeTo: {\n      enums: ['inner', 'include-padding'],\n      multiple: true\n    },\n    bgRepeat: {\n      enums: ['repeat', 'repeat-x', 'repeat-y', 'no-repeat'],\n      multiple: true\n    },\n    bgFit: {\n      enums: ['none', 'contain', 'cover'],\n      multiple: true\n    },\n    bgCrossOrigin: {\n      enums: ['anonymous', 'use-credentials', 'null'],\n      multiple: true\n    },\n    bgClip: {\n      enums: ['none', 'node'],\n      multiple: true\n    },\n    bgContainment: {\n      enums: ['inside', 'over'],\n      multiple: true\n    },\n    color: {\n      color: true\n    },\n    colors: {\n      color: true,\n      multiple: true\n    },\n    fill: {\n      enums: ['solid', 'linear-gradient', 'radial-gradient']\n    },\n    bool: {\n      enums: ['yes', 'no']\n    },\n    bools: {\n      enums: ['yes', 'no'],\n      multiple: true\n    },\n    lineStyle: {\n      enums: ['solid', 'dotted', 'dashed']\n    },\n    lineCap: {\n      enums: ['butt', 'round', 'square']\n    },\n    linePosition: {\n      enums: ['center', 'inside', 'outside']\n    },\n    lineJoin: {\n      enums: ['round', 'bevel', 'miter']\n    },\n    borderStyle: {\n      enums: ['solid', 'dotted', 'dashed', 'double']\n    },\n    curveStyle: {\n      enums: ['bezier', 'unbundled-bezier', 'haystack', 'segments', 'straight', 'straight-triangle', 'taxi', 'round-segments', 'round-taxi']\n    },\n    radiusType: {\n      enums: ['arc-radius', 'influence-radius'],\n      multiple: true\n    },\n    fontFamily: {\n      regex: '^([\\\\w- \\\\\"]+(?:\\\\s*,\\\\s*[\\\\w- \\\\\"]+)*)$'\n    },\n    fontStyle: {\n      enums: ['italic', 'normal', 'oblique']\n    },\n    fontWeight: {\n      enums: ['normal', 'bold', 'bolder', 'lighter', '100', '200', '300', '400', '500', '600', '800', '900', 100, 200, 300, 400, 500, 600, 700, 800, 900]\n    },\n    textDecoration: {\n      enums: ['none', 'underline', 'overline', 'line-through']\n    },\n    textTransform: {\n      enums: ['none', 'uppercase', 'lowercase']\n    },\n    textWrap: {\n      enums: ['none', 'wrap', 'ellipsis']\n    },\n    textOverflowWrap: {\n      enums: ['whitespace', 'anywhere']\n    },\n    textBackgroundShape: {\n      enums: ['rectangle', 'roundrectangle', 'round-rectangle']\n    },\n    nodeShape: {\n      enums: ['rectangle', 'roundrectangle', 'round-rectangle', 'cutrectangle', 'cut-rectangle', 'bottomroundrectangle', 'bottom-round-rectangle', 'barrel', 'ellipse', 'triangle', 'round-triangle', 'square', 'pentagon', 'round-pentagon', 'hexagon', 'round-hexagon', 'concavehexagon', 'concave-hexagon', 'heptagon', 'round-heptagon', 'octagon', 'round-octagon', 'tag', 'round-tag', 'star', 'diamond', 'round-diamond', 'vee', 'rhomboid', 'right-rhomboid', 'polygon']\n    },\n    overlayShape: {\n      enums: ['roundrectangle', 'round-rectangle', 'ellipse']\n    },\n    cornerRadius: {\n      number: true,\n      min: 0,\n      units: 'px|em',\n      implicitUnits: 'px',\n      enums: ['auto']\n    },\n    compoundIncludeLabels: {\n      enums: ['include', 'exclude']\n    },\n    arrowShape: {\n      enums: ['tee', 'triangle', 'triangle-tee', 'circle-triangle', 'triangle-cross', 'triangle-backcurve', 'vee', 'square', 'circle', 'diamond', 'chevron', 'none']\n    },\n    arrowFill: {\n      enums: ['filled', 'hollow']\n    },\n    arrowWidth: {\n      number: true,\n      units: '%|px|em',\n      implicitUnits: 'px',\n      enums: ['match-line']\n    },\n    display: {\n      enums: ['element', 'none']\n    },\n    visibility: {\n      enums: ['hidden', 'visible']\n    },\n    zCompoundDepth: {\n      enums: ['bottom', 'orphan', 'auto', 'top']\n    },\n    zIndexCompare: {\n      enums: ['auto', 'manual']\n    },\n    valign: {\n      enums: ['top', 'center', 'bottom']\n    },\n    halign: {\n      enums: ['left', 'center', 'right']\n    },\n    justification: {\n      enums: ['left', 'center', 'right', 'auto']\n    },\n    text: {\n      string: true\n    },\n    data: {\n      mapping: true,\n      regex: data('data')\n    },\n    layoutData: {\n      mapping: true,\n      regex: data('layoutData')\n    },\n    scratch: {\n      mapping: true,\n      regex: data('scratch')\n    },\n    mapData: {\n      mapping: true,\n      regex: mapData('mapData')\n    },\n    mapLayoutData: {\n      mapping: true,\n      regex: mapData('mapLayoutData')\n    },\n    mapScratch: {\n      mapping: true,\n      regex: mapData('mapScratch')\n    },\n    fn: {\n      mapping: true,\n      fn: true\n    },\n    url: {\n      regexes: urlRegexes,\n      singleRegexMatchValue: true\n    },\n    urls: {\n      regexes: urlRegexes,\n      singleRegexMatchValue: true,\n      multiple: true\n    },\n    propList: {\n      propList: true\n    },\n    angle: {\n      number: true,\n      units: 'deg|rad',\n      implicitUnits: 'rad'\n    },\n    textRotation: {\n      number: true,\n      units: 'deg|rad',\n      implicitUnits: 'rad',\n      enums: ['none', 'autorotate']\n    },\n    polygonPointList: {\n      number: true,\n      multiple: true,\n      evenMultiple: true,\n      min: -1,\n      max: 1,\n      unitless: true\n    },\n    edgeDistances: {\n      enums: ['intersection', 'node-position', 'endpoints']\n    },\n    edgeEndpoint: {\n      number: true,\n      multiple: true,\n      units: '%|px|em|deg|rad',\n      implicitUnits: 'px',\n      enums: ['inside-to-node', 'outside-to-node', 'outside-to-node-or-label', 'outside-to-line', 'outside-to-line-or-label'],\n      singleEnum: true,\n      validate: function validate(valArr, unitsArr) {\n        switch (valArr.length) {\n          case 2:\n            // can be % or px only\n            return unitsArr[0] !== 'deg' && unitsArr[0] !== 'rad' && unitsArr[1] !== 'deg' && unitsArr[1] !== 'rad';\n          case 1:\n            // can be enum, deg, or rad only\n            return string(valArr[0]) || unitsArr[0] === 'deg' || unitsArr[0] === 'rad';\n          default:\n            return false;\n        }\n      }\n    },\n    easing: {\n      regexes: ['^(spring)\\\\s*\\\\(\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + ')\\\\s*\\\\)$', '^(cubic-bezier)\\\\s*\\\\(\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + ')\\\\s*\\\\)$'],\n      enums: ['linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out', 'ease-in-sine', 'ease-out-sine', 'ease-in-out-sine', 'ease-in-quad', 'ease-out-quad', 'ease-in-out-quad', 'ease-in-cubic', 'ease-out-cubic', 'ease-in-out-cubic', 'ease-in-quart', 'ease-out-quart', 'ease-in-out-quart', 'ease-in-quint', 'ease-out-quint', 'ease-in-out-quint', 'ease-in-expo', 'ease-out-expo', 'ease-in-out-expo', 'ease-in-circ', 'ease-out-circ', 'ease-in-out-circ']\n    },\n    gradientDirection: {\n      enums: ['to-bottom', 'to-top', 'to-left', 'to-right', 'to-bottom-right', 'to-bottom-left', 'to-top-right', 'to-top-left', 'to-right-bottom', 'to-left-bottom', 'to-right-top', 'to-left-top' // different order\n      ]\n    },\n\n    boundsExpansion: {\n      number: true,\n      multiple: true,\n      min: 0,\n      validate: function validate(valArr) {\n        var length = valArr.length;\n        return length === 1 || length === 2 || length === 4;\n      }\n    }\n  };\n  var diff = {\n    zeroNonZero: function zeroNonZero(val1, val2) {\n      if ((val1 == null || val2 == null) && val1 !== val2) {\n        return true; // null cases could represent any value\n      }\n      if (val1 == 0 && val2 != 0) {\n        return true;\n      } else if (val1 != 0 && val2 == 0) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    any: function any(val1, val2) {\n      return val1 != val2;\n    },\n    emptyNonEmpty: function emptyNonEmpty(str1, str2) {\n      var empty1 = emptyString(str1);\n      var empty2 = emptyString(str2);\n      return empty1 && !empty2 || !empty1 && empty2;\n    }\n  };\n\n  // define visual style properties\n  //\n  // - n.b. adding a new group of props may require updates to updateStyleHints()\n  // - adding new props to an existing group gets handled automatically\n\n  var t = styfn$2.types;\n  var mainLabel = [{\n    name: 'label',\n    type: t.text,\n    triggersBounds: diff.any,\n    triggersZOrder: diff.emptyNonEmpty\n  }, {\n    name: 'text-rotation',\n    type: t.textRotation,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-margin-x',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-margin-y',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }];\n  var sourceLabel = [{\n    name: 'source-label',\n    type: t.text,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-text-rotation',\n    type: t.textRotation,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-text-margin-x',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-text-margin-y',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-text-offset',\n    type: t.size,\n    triggersBounds: diff.any\n  }];\n  var targetLabel = [{\n    name: 'target-label',\n    type: t.text,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-text-rotation',\n    type: t.textRotation,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-text-margin-x',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-text-margin-y',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-text-offset',\n    type: t.size,\n    triggersBounds: diff.any\n  }];\n  var labelDimensions = [{\n    name: 'font-family',\n    type: t.fontFamily,\n    triggersBounds: diff.any\n  }, {\n    name: 'font-style',\n    type: t.fontStyle,\n    triggersBounds: diff.any\n  }, {\n    name: 'font-weight',\n    type: t.fontWeight,\n    triggersBounds: diff.any\n  }, {\n    name: 'font-size',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-transform',\n    type: t.textTransform,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-wrap',\n    type: t.textWrap,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-overflow-wrap',\n    type: t.textOverflowWrap,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-max-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-outline-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'line-height',\n    type: t.positiveNumber,\n    triggersBounds: diff.any\n  }];\n  var commonLabel = [{\n    name: 'text-valign',\n    type: t.valign,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-halign',\n    type: t.halign,\n    triggersBounds: diff.any\n  }, {\n    name: 'color',\n    type: t.color\n  }, {\n    name: 'text-outline-color',\n    type: t.color\n  }, {\n    name: 'text-outline-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'text-background-color',\n    type: t.color\n  }, {\n    name: 'text-background-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'text-background-padding',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-border-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'text-border-color',\n    type: t.color\n  }, {\n    name: 'text-border-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-border-style',\n    type: t.borderStyle,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-background-shape',\n    type: t.textBackgroundShape,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-justification',\n    type: t.justification\n  }];\n  var behavior = [{\n    name: 'events',\n    type: t.bool,\n    triggersZOrder: diff.any\n  }, {\n    name: 'text-events',\n    type: t.bool,\n    triggersZOrder: diff.any\n  }];\n  var visibility = [{\n    name: 'display',\n    type: t.display,\n    triggersZOrder: diff.any,\n    triggersBounds: diff.any,\n    triggersBoundsOfConnectedEdges: true\n  }, {\n    name: 'visibility',\n    type: t.visibility,\n    triggersZOrder: diff.any\n  }, {\n    name: 'opacity',\n    type: t.zeroOneNumber,\n    triggersZOrder: diff.zeroNonZero\n  }, {\n    name: 'text-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'min-zoomed-font-size',\n    type: t.size\n  }, {\n    name: 'z-compound-depth',\n    type: t.zCompoundDepth,\n    triggersZOrder: diff.any\n  }, {\n    name: 'z-index-compare',\n    type: t.zIndexCompare,\n    triggersZOrder: diff.any\n  }, {\n    name: 'z-index',\n    type: t.number,\n    triggersZOrder: diff.any\n  }];\n  var overlay = [{\n    name: 'overlay-padding',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'overlay-color',\n    type: t.color\n  }, {\n    name: 'overlay-opacity',\n    type: t.zeroOneNumber,\n    triggersBounds: diff.zeroNonZero\n  }, {\n    name: 'overlay-shape',\n    type: t.overlayShape,\n    triggersBounds: diff.any\n  }, {\n    name: 'overlay-corner-radius',\n    type: t.cornerRadius\n  }];\n  var underlay = [{\n    name: 'underlay-padding',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'underlay-color',\n    type: t.color\n  }, {\n    name: 'underlay-opacity',\n    type: t.zeroOneNumber,\n    triggersBounds: diff.zeroNonZero\n  }, {\n    name: 'underlay-shape',\n    type: t.overlayShape,\n    triggersBounds: diff.any\n  }, {\n    name: 'underlay-corner-radius',\n    type: t.cornerRadius\n  }];\n  var transition = [{\n    name: 'transition-property',\n    type: t.propList\n  }, {\n    name: 'transition-duration',\n    type: t.time\n  }, {\n    name: 'transition-delay',\n    type: t.time\n  }, {\n    name: 'transition-timing-function',\n    type: t.easing\n  }];\n  var nodeSizeHashOverride = function nodeSizeHashOverride(ele, parsedProp) {\n    if (parsedProp.value === 'label') {\n      return -ele.poolIndex(); // no hash key hits is using label size (hitrate for perf probably low anyway)\n    } else {\n      return parsedProp.pfValue;\n    }\n  };\n  var nodeBody = [{\n    name: 'height',\n    type: t.nodeSize,\n    triggersBounds: diff.any,\n    hashOverride: nodeSizeHashOverride\n  }, {\n    name: 'width',\n    type: t.nodeSize,\n    triggersBounds: diff.any,\n    hashOverride: nodeSizeHashOverride\n  }, {\n    name: 'shape',\n    type: t.nodeShape,\n    triggersBounds: diff.any\n  }, {\n    name: 'shape-polygon-points',\n    type: t.polygonPointList,\n    triggersBounds: diff.any\n  }, {\n    name: 'corner-radius',\n    type: t.cornerRadius\n  }, {\n    name: 'background-color',\n    type: t.color\n  }, {\n    name: 'background-fill',\n    type: t.fill\n  }, {\n    name: 'background-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'background-blacken',\n    type: t.nOneOneNumber\n  }, {\n    name: 'background-gradient-stop-colors',\n    type: t.colors\n  }, {\n    name: 'background-gradient-stop-positions',\n    type: t.percentages\n  }, {\n    name: 'background-gradient-direction',\n    type: t.gradientDirection\n  }, {\n    name: 'padding',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'padding-relative-to',\n    type: t.paddingRelativeTo,\n    triggersBounds: diff.any\n  }, {\n    name: 'bounds-expansion',\n    type: t.boundsExpansion,\n    triggersBounds: diff.any\n  }];\n  var nodeBorder = [{\n    name: 'border-color',\n    type: t.color\n  }, {\n    name: 'border-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'border-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'border-style',\n    type: t.borderStyle\n  }, {\n    name: 'border-cap',\n    type: t.lineCap\n  }, {\n    name: 'border-join',\n    type: t.lineJoin\n  }, {\n    name: 'border-dash-pattern',\n    type: t.numbers\n  }, {\n    name: 'border-dash-offset',\n    type: t.number\n  }, {\n    name: 'border-position',\n    type: t.linePosition\n  }];\n  var nodeOutline = [{\n    name: 'outline-color',\n    type: t.color\n  }, {\n    name: 'outline-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'outline-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'outline-style',\n    type: t.borderStyle\n  }, {\n    name: 'outline-offset',\n    type: t.size,\n    triggersBounds: diff.any\n  }];\n  var backgroundImage = [{\n    name: 'background-image',\n    type: t.urls\n  }, {\n    name: 'background-image-crossorigin',\n    type: t.bgCrossOrigin\n  }, {\n    name: 'background-image-opacity',\n    type: t.zeroOneNumbers\n  }, {\n    name: 'background-image-containment',\n    type: t.bgContainment\n  }, {\n    name: 'background-image-smoothing',\n    type: t.bools\n  }, {\n    name: 'background-position-x',\n    type: t.bgPos\n  }, {\n    name: 'background-position-y',\n    type: t.bgPos\n  }, {\n    name: 'background-width-relative-to',\n    type: t.bgRelativeTo\n  }, {\n    name: 'background-height-relative-to',\n    type: t.bgRelativeTo\n  }, {\n    name: 'background-repeat',\n    type: t.bgRepeat\n  }, {\n    name: 'background-fit',\n    type: t.bgFit\n  }, {\n    name: 'background-clip',\n    type: t.bgClip\n  }, {\n    name: 'background-width',\n    type: t.bgWH\n  }, {\n    name: 'background-height',\n    type: t.bgWH\n  }, {\n    name: 'background-offset-x',\n    type: t.bgPos\n  }, {\n    name: 'background-offset-y',\n    type: t.bgPos\n  }];\n  var compound = [{\n    name: 'position',\n    type: t.position,\n    triggersBounds: diff.any\n  }, {\n    name: 'compound-sizing-wrt-labels',\n    type: t.compoundIncludeLabels,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-width-bias-left',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-width-bias-right',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-height',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-height-bias-top',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-height-bias-bottom',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }];\n  var edgeLine = [{\n    name: 'line-style',\n    type: t.lineStyle\n  }, {\n    name: 'line-color',\n    type: t.color\n  }, {\n    name: 'line-fill',\n    type: t.fill\n  }, {\n    name: 'line-cap',\n    type: t.lineCap\n  }, {\n    name: 'line-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'line-dash-pattern',\n    type: t.numbers\n  }, {\n    name: 'line-dash-offset',\n    type: t.number\n  }, {\n    name: 'line-gradient-stop-colors',\n    type: t.colors\n  }, {\n    name: 'line-gradient-stop-positions',\n    type: t.percentages\n  }, {\n    name: 'curve-style',\n    type: t.curveStyle,\n    triggersBounds: diff.any,\n    triggersBoundsOfParallelBeziers: true\n  }, {\n    name: 'haystack-radius',\n    type: t.zeroOneNumber,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-endpoint',\n    type: t.edgeEndpoint,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-endpoint',\n    type: t.edgeEndpoint,\n    triggersBounds: diff.any\n  }, {\n    name: 'control-point-step-size',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'control-point-distances',\n    type: t.bidirectionalSizes,\n    triggersBounds: diff.any\n  }, {\n    name: 'control-point-weights',\n    type: t.numbers,\n    triggersBounds: diff.any\n  }, {\n    name: 'segment-distances',\n    type: t.bidirectionalSizes,\n    triggersBounds: diff.any\n  }, {\n    name: 'segment-weights',\n    type: t.numbers,\n    triggersBounds: diff.any\n  }, {\n    name: 'segment-radii',\n    type: t.numbers,\n    triggersBounds: diff.any\n  }, {\n    name: 'radius-type',\n    type: t.radiusType,\n    triggersBounds: diff.any\n  }, {\n    name: 'taxi-turn',\n    type: t.bidirectionalSizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'taxi-turn-min-distance',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'taxi-direction',\n    type: t.axisDirection,\n    triggersBounds: diff.any\n  }, {\n    name: 'taxi-radius',\n    type: t.number,\n    triggersBounds: diff.any\n  }, {\n    name: 'edge-distances',\n    type: t.edgeDistances,\n    triggersBounds: diff.any\n  }, {\n    name: 'arrow-scale',\n    type: t.positiveNumber,\n    triggersBounds: diff.any\n  }, {\n    name: 'loop-direction',\n    type: t.angle,\n    triggersBounds: diff.any\n  }, {\n    name: 'loop-sweep',\n    type: t.angle,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-distance-from-node',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-distance-from-node',\n    type: t.size,\n    triggersBounds: diff.any\n  }];\n  var ghost = [{\n    name: 'ghost',\n    type: t.bool,\n    triggersBounds: diff.any\n  }, {\n    name: 'ghost-offset-x',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'ghost-offset-y',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'ghost-opacity',\n    type: t.zeroOneNumber\n  }];\n  var core = [{\n    name: 'selection-box-color',\n    type: t.color\n  }, {\n    name: 'selection-box-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'selection-box-border-color',\n    type: t.color\n  }, {\n    name: 'selection-box-border-width',\n    type: t.size\n  }, {\n    name: 'active-bg-color',\n    type: t.color\n  }, {\n    name: 'active-bg-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'active-bg-size',\n    type: t.size\n  }, {\n    name: 'outside-texture-bg-color',\n    type: t.color\n  }, {\n    name: 'outside-texture-bg-opacity',\n    type: t.zeroOneNumber\n  }];\n\n  // pie backgrounds for nodes\n  var pie = [];\n  styfn$2.pieBackgroundN = 16; // because the pie properties are numbered, give access to a constant N (for renderer use)\n  pie.push({\n    name: 'pie-size',\n    type: t.sizeMaybePercent\n  });\n  for (var i = 1; i <= styfn$2.pieBackgroundN; i++) {\n    pie.push({\n      name: 'pie-' + i + '-background-color',\n      type: t.color\n    });\n    pie.push({\n      name: 'pie-' + i + '-background-size',\n      type: t.percent\n    });\n    pie.push({\n      name: 'pie-' + i + '-background-opacity',\n      type: t.zeroOneNumber\n    });\n  }\n\n  // edge arrows\n  var edgeArrow = [];\n  var arrowPrefixes = styfn$2.arrowPrefixes = ['source', 'mid-source', 'target', 'mid-target'];\n  [{\n    name: 'arrow-shape',\n    type: t.arrowShape,\n    triggersBounds: diff.any\n  }, {\n    name: 'arrow-color',\n    type: t.color\n  }, {\n    name: 'arrow-fill',\n    type: t.arrowFill\n  }, {\n    name: 'arrow-width',\n    type: t.arrowWidth\n  }].forEach(function (prop) {\n    arrowPrefixes.forEach(function (prefix) {\n      var name = prefix + '-' + prop.name;\n      var type = prop.type,\n        triggersBounds = prop.triggersBounds;\n      edgeArrow.push({\n        name: name,\n        type: type,\n        triggersBounds: triggersBounds\n      });\n    });\n  }, {});\n  var props = styfn$2.properties = [].concat(behavior, transition, visibility, overlay, underlay, ghost, commonLabel, labelDimensions, mainLabel, sourceLabel, targetLabel, nodeBody, nodeBorder, nodeOutline, backgroundImage, pie, compound, edgeLine, edgeArrow, core);\n  var propGroups = styfn$2.propertyGroups = {\n    // common to all eles\n    behavior: behavior,\n    transition: transition,\n    visibility: visibility,\n    overlay: overlay,\n    underlay: underlay,\n    ghost: ghost,\n    // labels\n    commonLabel: commonLabel,\n    labelDimensions: labelDimensions,\n    mainLabel: mainLabel,\n    sourceLabel: sourceLabel,\n    targetLabel: targetLabel,\n    // node props\n    nodeBody: nodeBody,\n    nodeBorder: nodeBorder,\n    nodeOutline: nodeOutline,\n    backgroundImage: backgroundImage,\n    pie: pie,\n    compound: compound,\n    // edge props\n    edgeLine: edgeLine,\n    edgeArrow: edgeArrow,\n    core: core\n  };\n  var propGroupNames = styfn$2.propertyGroupNames = {};\n  var propGroupKeys = styfn$2.propertyGroupKeys = Object.keys(propGroups);\n  propGroupKeys.forEach(function (key) {\n    propGroupNames[key] = propGroups[key].map(function (prop) {\n      return prop.name;\n    });\n    propGroups[key].forEach(function (prop) {\n      return prop.groupKey = key;\n    });\n  });\n\n  // define aliases\n  var aliases = styfn$2.aliases = [{\n    name: 'content',\n    pointsTo: 'label'\n  }, {\n    name: 'control-point-distance',\n    pointsTo: 'control-point-distances'\n  }, {\n    name: 'control-point-weight',\n    pointsTo: 'control-point-weights'\n  }, {\n    name: 'segment-distance',\n    pointsTo: 'segment-distances'\n  }, {\n    name: 'segment-weight',\n    pointsTo: 'segment-weights'\n  }, {\n    name: 'segment-radius',\n    pointsTo: 'segment-radii'\n  }, {\n    name: 'edge-text-rotation',\n    pointsTo: 'text-rotation'\n  }, {\n    name: 'padding-left',\n    pointsTo: 'padding'\n  }, {\n    name: 'padding-right',\n    pointsTo: 'padding'\n  }, {\n    name: 'padding-top',\n    pointsTo: 'padding'\n  }, {\n    name: 'padding-bottom',\n    pointsTo: 'padding'\n  }];\n\n  // list of property names\n  styfn$2.propertyNames = props.map(function (p) {\n    return p.name;\n  });\n\n  // allow access of properties by name ( e.g. style.properties.height )\n  for (var _i = 0; _i < props.length; _i++) {\n    var prop = props[_i];\n    props[prop.name] = prop; // allow lookup by name\n  }\n\n  // map aliases\n  for (var _i2 = 0; _i2 < aliases.length; _i2++) {\n    var alias = aliases[_i2];\n    var pointsToProp = props[alias.pointsTo];\n    var aliasProp = {\n      name: alias.name,\n      alias: true,\n      pointsTo: pointsToProp\n    };\n\n    // add alias prop for parsing\n    props.push(aliasProp);\n    props[alias.name] = aliasProp; // allow lookup by name\n  }\n})();\n\nstyfn$2.getDefaultProperty = function (name) {\n  return this.getDefaultProperties()[name];\n};\nstyfn$2.getDefaultProperties = function () {\n  var _p = this._private;\n  if (_p.defaultProperties != null) {\n    return _p.defaultProperties;\n  }\n  var rawProps = extend({\n    // core props\n    'selection-box-color': '#ddd',\n    'selection-box-opacity': 0.65,\n    'selection-box-border-color': '#aaa',\n    'selection-box-border-width': 1,\n    'active-bg-color': 'black',\n    'active-bg-opacity': 0.15,\n    'active-bg-size': 30,\n    'outside-texture-bg-color': '#000',\n    'outside-texture-bg-opacity': 0.125,\n    // common node/edge props\n    'events': 'yes',\n    'text-events': 'no',\n    'text-valign': 'top',\n    'text-halign': 'center',\n    'text-justification': 'auto',\n    'line-height': 1,\n    'color': '#000',\n    'text-outline-color': '#000',\n    'text-outline-width': 0,\n    'text-outline-opacity': 1,\n    'text-opacity': 1,\n    'text-decoration': 'none',\n    'text-transform': 'none',\n    'text-wrap': 'none',\n    'text-overflow-wrap': 'whitespace',\n    'text-max-width': 9999,\n    'text-background-color': '#000',\n    'text-background-opacity': 0,\n    'text-background-shape': 'rectangle',\n    'text-background-padding': 0,\n    'text-border-opacity': 0,\n    'text-border-width': 0,\n    'text-border-style': 'solid',\n    'text-border-color': '#000',\n    'font-family': 'Helvetica Neue, Helvetica, sans-serif',\n    'font-style': 'normal',\n    'font-weight': 'normal',\n    'font-size': 16,\n    'min-zoomed-font-size': 0,\n    'text-rotation': 'none',\n    'source-text-rotation': 'none',\n    'target-text-rotation': 'none',\n    'visibility': 'visible',\n    'display': 'element',\n    'opacity': 1,\n    'z-compound-depth': 'auto',\n    'z-index-compare': 'auto',\n    'z-index': 0,\n    'label': '',\n    'text-margin-x': 0,\n    'text-margin-y': 0,\n    'source-label': '',\n    'source-text-offset': 0,\n    'source-text-margin-x': 0,\n    'source-text-margin-y': 0,\n    'target-label': '',\n    'target-text-offset': 0,\n    'target-text-margin-x': 0,\n    'target-text-margin-y': 0,\n    'overlay-opacity': 0,\n    'overlay-color': '#000',\n    'overlay-padding': 10,\n    'overlay-shape': 'round-rectangle',\n    'overlay-corner-radius': 'auto',\n    'underlay-opacity': 0,\n    'underlay-color': '#000',\n    'underlay-padding': 10,\n    'underlay-shape': 'round-rectangle',\n    'underlay-corner-radius': 'auto',\n    'transition-property': 'none',\n    'transition-duration': 0,\n    'transition-delay': 0,\n    'transition-timing-function': 'linear',\n    // node props\n    'background-blacken': 0,\n    'background-color': '#999',\n    'background-fill': 'solid',\n    'background-opacity': 1,\n    'background-image': 'none',\n    'background-image-crossorigin': 'anonymous',\n    'background-image-opacity': 1,\n    'background-image-containment': 'inside',\n    'background-image-smoothing': 'yes',\n    'background-position-x': '50%',\n    'background-position-y': '50%',\n    'background-offset-x': 0,\n    'background-offset-y': 0,\n    'background-width-relative-to': 'include-padding',\n    'background-height-relative-to': 'include-padding',\n    'background-repeat': 'no-repeat',\n    'background-fit': 'none',\n    'background-clip': 'node',\n    'background-width': 'auto',\n    'background-height': 'auto',\n    'border-color': '#000',\n    'border-opacity': 1,\n    'border-width': 0,\n    'border-style': 'solid',\n    'border-dash-pattern': [4, 2],\n    'border-dash-offset': 0,\n    'border-cap': 'butt',\n    'border-join': 'miter',\n    'border-position': 'center',\n    'outline-color': '#999',\n    'outline-opacity': 1,\n    'outline-width': 0,\n    'outline-offset': 0,\n    'outline-style': 'solid',\n    'height': 30,\n    'width': 30,\n    'shape': 'ellipse',\n    'shape-polygon-points': '-1, -1,   1, -1,   1, 1,   -1, 1',\n    'corner-radius': 'auto',\n    'bounds-expansion': 0,\n    // node gradient\n    'background-gradient-direction': 'to-bottom',\n    'background-gradient-stop-colors': '#999',\n    'background-gradient-stop-positions': '0%',\n    // ghost props\n    'ghost': 'no',\n    'ghost-offset-y': 0,\n    'ghost-offset-x': 0,\n    'ghost-opacity': 0,\n    // compound props\n    'padding': 0,\n    'padding-relative-to': 'width',\n    'position': 'origin',\n    'compound-sizing-wrt-labels': 'include',\n    'min-width': 0,\n    'min-width-bias-left': 0,\n    'min-width-bias-right': 0,\n    'min-height': 0,\n    'min-height-bias-top': 0,\n    'min-height-bias-bottom': 0\n  }, {\n    // node pie bg\n    'pie-size': '100%'\n  }, [{\n    name: 'pie-{{i}}-background-color',\n    value: 'black'\n  }, {\n    name: 'pie-{{i}}-background-size',\n    value: '0%'\n  }, {\n    name: 'pie-{{i}}-background-opacity',\n    value: 1\n  }].reduce(function (css, prop) {\n    for (var i = 1; i <= styfn$2.pieBackgroundN; i++) {\n      var name = prop.name.replace('{{i}}', i);\n      var val = prop.value;\n      css[name] = val;\n    }\n    return css;\n  }, {}), {\n    // edge props\n    'line-style': 'solid',\n    'line-color': '#999',\n    'line-fill': 'solid',\n    'line-cap': 'butt',\n    'line-opacity': 1,\n    'line-gradient-stop-colors': '#999',\n    'line-gradient-stop-positions': '0%',\n    'control-point-step-size': 40,\n    'control-point-weights': 0.5,\n    'segment-weights': 0.5,\n    'segment-distances': 20,\n    'segment-radii': 15,\n    'radius-type': 'arc-radius',\n    'taxi-turn': '50%',\n    'taxi-radius': 15,\n    'taxi-turn-min-distance': 10,\n    'taxi-direction': 'auto',\n    'edge-distances': 'intersection',\n    'curve-style': 'haystack',\n    'haystack-radius': 0,\n    'arrow-scale': 1,\n    'loop-direction': '-45deg',\n    'loop-sweep': '-90deg',\n    'source-distance-from-node': 0,\n    'target-distance-from-node': 0,\n    'source-endpoint': 'outside-to-node',\n    'target-endpoint': 'outside-to-node',\n    'line-dash-pattern': [6, 3],\n    'line-dash-offset': 0\n  }, [{\n    name: 'arrow-shape',\n    value: 'none'\n  }, {\n    name: 'arrow-color',\n    value: '#999'\n  }, {\n    name: 'arrow-fill',\n    value: 'filled'\n  }, {\n    name: 'arrow-width',\n    value: 1\n  }].reduce(function (css, prop) {\n    styfn$2.arrowPrefixes.forEach(function (prefix) {\n      var name = prefix + '-' + prop.name;\n      var val = prop.value;\n      css[name] = val;\n    });\n    return css;\n  }, {}));\n  var parsedProps = {};\n  for (var i = 0; i < this.properties.length; i++) {\n    var prop = this.properties[i];\n    if (prop.pointsTo) {\n      continue;\n    }\n    var name = prop.name;\n    var val = rawProps[name];\n    var parsedProp = this.parse(name, val);\n    parsedProps[name] = parsedProp;\n  }\n  _p.defaultProperties = parsedProps;\n  return _p.defaultProperties;\n};\nstyfn$2.addDefaultStylesheet = function () {\n  this.selector(':parent').css({\n    'shape': 'rectangle',\n    'padding': 10,\n    'background-color': '#eee',\n    'border-color': '#ccc',\n    'border-width': 1\n  }).selector('edge').css({\n    'width': 3\n  }).selector(':loop').css({\n    'curve-style': 'bezier'\n  }).selector('edge:compound').css({\n    'curve-style': 'bezier',\n    'source-endpoint': 'outside-to-line',\n    'target-endpoint': 'outside-to-line'\n  }).selector(':selected').css({\n    'background-color': '#0169D9',\n    'line-color': '#0169D9',\n    'source-arrow-color': '#0169D9',\n    'target-arrow-color': '#0169D9',\n    'mid-source-arrow-color': '#0169D9',\n    'mid-target-arrow-color': '#0169D9'\n  }).selector(':parent:selected').css({\n    'background-color': '#CCE1F9',\n    'border-color': '#aec8e5'\n  }).selector(':active').css({\n    'overlay-color': 'black',\n    'overlay-padding': 10,\n    'overlay-opacity': 0.25\n  });\n  this.defaultLength = this.length;\n};\n\nvar styfn$1 = {};\n\n// a caching layer for property parsing\nstyfn$1.parse = function (name, value, propIsBypass, propIsFlat) {\n  var self = this;\n\n  // function values can't be cached in all cases, and there isn't much benefit of caching them anyway\n  if (fn$6(value)) {\n    return self.parseImplWarn(name, value, propIsBypass, propIsFlat);\n  }\n  var flatKey = propIsFlat === 'mapping' || propIsFlat === true || propIsFlat === false || propIsFlat == null ? 'dontcare' : propIsFlat;\n  var bypassKey = propIsBypass ? 't' : 'f';\n  var valueKey = '' + value;\n  var argHash = hashStrings(name, valueKey, bypassKey, flatKey);\n  var propCache = self.propCache = self.propCache || [];\n  var ret;\n  if (!(ret = propCache[argHash])) {\n    ret = propCache[argHash] = self.parseImplWarn(name, value, propIsBypass, propIsFlat);\n  }\n\n  // - bypasses can't be shared b/c the value can be changed by animations or otherwise overridden\n  // - mappings can't be shared b/c mappings are per-element\n  if (propIsBypass || propIsFlat === 'mapping') {\n    // need a copy since props are mutated later in their lifecycles\n    ret = copy(ret);\n    if (ret) {\n      ret.value = copy(ret.value); // because it could be an array, e.g. colour\n    }\n  }\n\n  return ret;\n};\nstyfn$1.parseImplWarn = function (name, value, propIsBypass, propIsFlat) {\n  var prop = this.parseImpl(name, value, propIsBypass, propIsFlat);\n  if (!prop && value != null) {\n    warn(\"The style property `\".concat(name, \": \").concat(value, \"` is invalid\"));\n  }\n  if (prop && (prop.name === 'width' || prop.name === 'height') && value === 'label') {\n    warn('The style value of `label` is deprecated for `' + prop.name + '`');\n  }\n  return prop;\n};\n\n// parse a property; return null on invalid; return parsed property otherwise\n// fields :\n// - name : the name of the property\n// - value : the parsed, native-typed value of the property\n// - strValue : a string value that represents the property value in valid css\n// - bypass : true iff the property is a bypass property\nstyfn$1.parseImpl = function (name, value, propIsBypass, propIsFlat) {\n  var self = this;\n  name = camel2dash(name); // make sure the property name is in dash form (e.g. 'property-name' not 'propertyName')\n\n  var property = self.properties[name];\n  var passedValue = value;\n  var types = self.types;\n  if (!property) {\n    return null;\n  } // return null on property of unknown name\n  if (value === undefined) {\n    return null;\n  } // can't assign undefined\n\n  // the property may be an alias\n  if (property.alias) {\n    property = property.pointsTo;\n    name = property.name;\n  }\n  var valueIsString = string(value);\n  if (valueIsString) {\n    // trim the value to make parsing easier\n    value = value.trim();\n  }\n  var type = property.type;\n  if (!type) {\n    return null;\n  } // no type, no luck\n\n  // check if bypass is null or empty string (i.e. indication to delete bypass property)\n  if (propIsBypass && (value === '' || value === null)) {\n    return {\n      name: name,\n      value: value,\n      bypass: true,\n      deleteBypass: true\n    };\n  }\n\n  // check if value is a function used as a mapper\n  if (fn$6(value)) {\n    return {\n      name: name,\n      value: value,\n      strValue: 'fn',\n      mapped: types.fn,\n      bypass: propIsBypass\n    };\n  }\n\n  // check if value is mapped\n  var data, mapData;\n  if (!valueIsString || propIsFlat || value.length < 7 || value[1] !== 'a') ; else if (value.length >= 7 && value[0] === 'd' && (data = new RegExp(types.data.regex).exec(value))) {\n    if (propIsBypass) {\n      return false;\n    } // mappers not allowed in bypass\n\n    var mapped = types.data;\n    return {\n      name: name,\n      value: data,\n      strValue: '' + value,\n      mapped: mapped,\n      field: data[1],\n      bypass: propIsBypass\n    };\n  } else if (value.length >= 10 && value[0] === 'm' && (mapData = new RegExp(types.mapData.regex).exec(value))) {\n    if (propIsBypass) {\n      return false;\n    } // mappers not allowed in bypass\n    if (type.multiple) {\n      return false;\n    } // impossible to map to num\n\n    var _mapped = types.mapData;\n\n    // we can map only if the type is a colour or a number\n    if (!(type.color || type.number)) {\n      return false;\n    }\n    var valueMin = this.parse(name, mapData[4]); // parse to validate\n    if (!valueMin || valueMin.mapped) {\n      return false;\n    } // can't be invalid or mapped\n\n    var valueMax = this.parse(name, mapData[5]); // parse to validate\n    if (!valueMax || valueMax.mapped) {\n      return false;\n    } // can't be invalid or mapped\n\n    // check if valueMin and valueMax are the same\n    if (valueMin.pfValue === valueMax.pfValue || valueMin.strValue === valueMax.strValue) {\n      warn('`' + name + ': ' + value + '` is not a valid mapper because the output range is zero; converting to `' + name + ': ' + valueMin.strValue + '`');\n      return this.parse(name, valueMin.strValue); // can't make much of a mapper without a range\n    } else if (type.color) {\n      var c1 = valueMin.value;\n      var c2 = valueMax.value;\n      var same = c1[0] === c2[0] // red\n      && c1[1] === c2[1] // green\n      && c1[2] === c2[2] // blue\n      && (\n      // optional alpha\n      c1[3] === c2[3] // same alpha outright\n      || (c1[3] == null || c1[3] === 1 // full opacity for colour 1?\n      ) && (c2[3] == null || c2[3] === 1) // full opacity for colour 2?\n      );\n\n      if (same) {\n        return false;\n      } // can't make a mapper without a range\n    }\n\n    return {\n      name: name,\n      value: mapData,\n      strValue: '' + value,\n      mapped: _mapped,\n      field: mapData[1],\n      fieldMin: parseFloat(mapData[2]),\n      // min & max are numeric\n      fieldMax: parseFloat(mapData[3]),\n      valueMin: valueMin.value,\n      valueMax: valueMax.value,\n      bypass: propIsBypass\n    };\n  }\n  if (type.multiple && propIsFlat !== 'multiple') {\n    var vals;\n    if (valueIsString) {\n      vals = value.split(/\\s+/);\n    } else if (array(value)) {\n      vals = value;\n    } else {\n      vals = [value];\n    }\n    if (type.evenMultiple && vals.length % 2 !== 0) {\n      return null;\n    }\n    var valArr = [];\n    var unitsArr = [];\n    var pfValArr = [];\n    var strVal = '';\n    var hasEnum = false;\n    for (var i = 0; i < vals.length; i++) {\n      var p = self.parse(name, vals[i], propIsBypass, 'multiple');\n      hasEnum = hasEnum || string(p.value);\n      valArr.push(p.value);\n      pfValArr.push(p.pfValue != null ? p.pfValue : p.value);\n      unitsArr.push(p.units);\n      strVal += (i > 0 ? ' ' : '') + p.strValue;\n    }\n    if (type.validate && !type.validate(valArr, unitsArr)) {\n      return null;\n    }\n    if (type.singleEnum && hasEnum) {\n      if (valArr.length === 1 && string(valArr[0])) {\n        return {\n          name: name,\n          value: valArr[0],\n          strValue: valArr[0],\n          bypass: propIsBypass\n        };\n      } else {\n        return null;\n      }\n    }\n    return {\n      name: name,\n      value: valArr,\n      pfValue: pfValArr,\n      strValue: strVal,\n      bypass: propIsBypass,\n      units: unitsArr\n    };\n  }\n\n  // several types also allow enums\n  var checkEnums = function checkEnums() {\n    for (var _i = 0; _i < type.enums.length; _i++) {\n      var en = type.enums[_i];\n      if (en === value) {\n        return {\n          name: name,\n          value: value,\n          strValue: '' + value,\n          bypass: propIsBypass\n        };\n      }\n    }\n    return null;\n  };\n\n  // check the type and return the appropriate object\n  if (type.number) {\n    var units;\n    var implicitUnits = 'px'; // not set => px\n\n    if (type.units) {\n      // use specified units if set\n      units = type.units;\n    }\n    if (type.implicitUnits) {\n      implicitUnits = type.implicitUnits;\n    }\n    if (!type.unitless) {\n      if (valueIsString) {\n        var unitsRegex = 'px|em' + (type.allowPercent ? '|\\\\%' : '');\n        if (units) {\n          unitsRegex = units;\n        } // only allow explicit units if so set\n        var match = value.match('^(' + number + ')(' + unitsRegex + ')?' + '$');\n        if (match) {\n          value = match[1];\n          units = match[2] || implicitUnits;\n        }\n      } else if (!units || type.implicitUnits) {\n        units = implicitUnits; // implicitly px if unspecified\n      }\n    }\n\n    value = parseFloat(value);\n\n    // if not a number and enums not allowed, then the value is invalid\n    if (isNaN(value) && type.enums === undefined) {\n      return null;\n    }\n\n    // check if this number type also accepts special keywords in place of numbers\n    // (i.e. `left`, `auto`, etc)\n    if (isNaN(value) && type.enums !== undefined) {\n      value = passedValue;\n      return checkEnums();\n    }\n\n    // check if value must be an integer\n    if (type.integer && !integer(value)) {\n      return null;\n    }\n\n    // check value is within range\n    if (type.min !== undefined && (value < type.min || type.strictMin && value === type.min) || type.max !== undefined && (value > type.max || type.strictMax && value === type.max)) {\n      return null;\n    }\n    var ret = {\n      name: name,\n      value: value,\n      strValue: '' + value + (units ? units : ''),\n      units: units,\n      bypass: propIsBypass\n    };\n\n    // normalise value in pixels\n    if (type.unitless || units !== 'px' && units !== 'em') {\n      ret.pfValue = value;\n    } else {\n      ret.pfValue = units === 'px' || !units ? value : this.getEmSizeInPixels() * value;\n    }\n\n    // normalise value in ms\n    if (units === 'ms' || units === 's') {\n      ret.pfValue = units === 'ms' ? value : 1000 * value;\n    }\n\n    // normalise value in rad\n    if (units === 'deg' || units === 'rad') {\n      ret.pfValue = units === 'rad' ? value : deg2rad(value);\n    }\n\n    // normalize value in %\n    if (units === '%') {\n      ret.pfValue = value / 100;\n    }\n    return ret;\n  } else if (type.propList) {\n    var props = [];\n    var propsStr = '' + value;\n    if (propsStr === 'none') ; else {\n      // go over each prop\n\n      var propsSplit = propsStr.split(/\\s*,\\s*|\\s+/);\n      for (var _i2 = 0; _i2 < propsSplit.length; _i2++) {\n        var propName = propsSplit[_i2].trim();\n        if (self.properties[propName]) {\n          props.push(propName);\n        } else {\n          warn('`' + propName + '` is not a valid property name');\n        }\n      }\n      if (props.length === 0) {\n        return null;\n      }\n    }\n    return {\n      name: name,\n      value: props,\n      strValue: props.length === 0 ? 'none' : props.join(' '),\n      bypass: propIsBypass\n    };\n  } else if (type.color) {\n    var tuple = color2tuple(value);\n    if (!tuple) {\n      return null;\n    }\n    return {\n      name: name,\n      value: tuple,\n      pfValue: tuple,\n      strValue: 'rgb(' + tuple[0] + ',' + tuple[1] + ',' + tuple[2] + ')',\n      // n.b. no spaces b/c of multiple support\n      bypass: propIsBypass\n    };\n  } else if (type.regex || type.regexes) {\n    // first check enums\n    if (type.enums) {\n      var enumProp = checkEnums();\n      if (enumProp) {\n        return enumProp;\n      }\n    }\n    var regexes = type.regexes ? type.regexes : [type.regex];\n    for (var _i3 = 0; _i3 < regexes.length; _i3++) {\n      var regex = new RegExp(regexes[_i3]); // make a regex from the type string\n      var m = regex.exec(value);\n      if (m) {\n        // regex matches\n        return {\n          name: name,\n          value: type.singleRegexMatchValue ? m[1] : m,\n          strValue: '' + value,\n          bypass: propIsBypass\n        };\n      }\n    }\n    return null; // didn't match any\n  } else if (type.string) {\n    // just return\n    return {\n      name: name,\n      value: '' + value,\n      strValue: '' + value,\n      bypass: propIsBypass\n    };\n  } else if (type.enums) {\n    // check enums last because it's a combo type in others\n    return checkEnums();\n  } else {\n    return null; // not a type we can handle\n  }\n};\n\nvar Style = function Style(cy) {\n  if (!(this instanceof Style)) {\n    return new Style(cy);\n  }\n  if (!core(cy)) {\n    error('A style must have a core reference');\n    return;\n  }\n  this._private = {\n    cy: cy,\n    coreStyle: {}\n  };\n  this.length = 0;\n  this.resetToDefault();\n};\nvar styfn = Style.prototype;\nstyfn.instanceString = function () {\n  return 'style';\n};\n\n// remove all contexts\nstyfn.clear = function () {\n  var _p = this._private;\n  var cy = _p.cy;\n  var eles = cy.elements();\n  for (var i = 0; i < this.length; i++) {\n    this[i] = undefined;\n  }\n  this.length = 0;\n  _p.contextStyles = {};\n  _p.propDiffs = {};\n  this.cleanElements(eles, true);\n  eles.forEach(function (ele) {\n    var ele_p = ele[0]._private;\n    ele_p.styleDirty = true;\n    ele_p.appliedInitStyle = false;\n  });\n  return this; // chaining\n};\n\nstyfn.resetToDefault = function () {\n  this.clear();\n  this.addDefaultStylesheet();\n  return this;\n};\n\n// builds a style object for the 'core' selector\nstyfn.core = function (propName) {\n  return this._private.coreStyle[propName] || this.getDefaultProperty(propName);\n};\n\n// create a new context from the specified selector string and switch to that context\nstyfn.selector = function (selectorStr) {\n  // 'core' is a special case and does not need a selector\n  var selector = selectorStr === 'core' ? null : new Selector(selectorStr);\n  var i = this.length++; // new context means new index\n  this[i] = {\n    selector: selector,\n    properties: [],\n    mappedProperties: [],\n    index: i\n  };\n  return this; // chaining\n};\n\n// add one or many css rules to the current context\nstyfn.css = function () {\n  var self = this;\n  var args = arguments;\n  if (args.length === 1) {\n    var map = args[0];\n    for (var i = 0; i < self.properties.length; i++) {\n      var prop = self.properties[i];\n      var mapVal = map[prop.name];\n      if (mapVal === undefined) {\n        mapVal = map[dash2camel(prop.name)];\n      }\n      if (mapVal !== undefined) {\n        this.cssRule(prop.name, mapVal);\n      }\n    }\n  } else if (args.length === 2) {\n    this.cssRule(args[0], args[1]);\n  }\n\n  // do nothing if args are invalid\n\n  return this; // chaining\n};\n\nstyfn.style = styfn.css;\n\n// add a single css rule to the current context\nstyfn.cssRule = function (name, value) {\n  // name-value pair\n  var property = this.parse(name, value);\n\n  // add property to current context if valid\n  if (property) {\n    var i = this.length - 1;\n    this[i].properties.push(property);\n    this[i].properties[property.name] = property; // allow access by name as well\n\n    if (property.name.match(/pie-(\\d+)-background-size/) && property.value) {\n      this._private.hasPie = true;\n    }\n    if (property.mapped) {\n      this[i].mappedProperties.push(property);\n    }\n\n    // add to core style if necessary\n    var currentSelectorIsCore = !this[i].selector;\n    if (currentSelectorIsCore) {\n      this._private.coreStyle[property.name] = property;\n    }\n  }\n  return this; // chaining\n};\n\nstyfn.append = function (style) {\n  if (stylesheet(style)) {\n    style.appendToStyle(this);\n  } else if (array(style)) {\n    this.appendFromJson(style);\n  } else if (string(style)) {\n    this.appendFromString(style);\n  } // you probably wouldn't want to append a Style, since you'd duplicate the default parts\n\n  return this;\n};\n\n// static function\nStyle.fromJson = function (cy, json) {\n  var style = new Style(cy);\n  style.fromJson(json);\n  return style;\n};\nStyle.fromString = function (cy, string) {\n  return new Style(cy).fromString(string);\n};\n[styfn$8, styfn$7, styfn$6, styfn$5, styfn$4, styfn$3, styfn$2, styfn$1].forEach(function (props) {\n  extend(styfn, props);\n});\nStyle.types = styfn.types;\nStyle.properties = styfn.properties;\nStyle.propertyGroups = styfn.propertyGroups;\nStyle.propertyGroupNames = styfn.propertyGroupNames;\nStyle.propertyGroupKeys = styfn.propertyGroupKeys;\n\nvar corefn$2 = {\n  style: function style(newStyle) {\n    if (newStyle) {\n      var s = this.setStyle(newStyle);\n      s.update();\n    }\n    return this._private.style;\n  },\n  setStyle: function setStyle(style) {\n    var _p = this._private;\n    if (stylesheet(style)) {\n      _p.style = style.generateStyle(this);\n    } else if (array(style)) {\n      _p.style = Style.fromJson(this, style);\n    } else if (string(style)) {\n      _p.style = Style.fromString(this, style);\n    } else {\n      _p.style = Style(this);\n    }\n    return _p.style;\n  },\n  // e.g. cy.data() changed => recalc ele mappers\n  updateStyle: function updateStyle() {\n    this.mutableElements().updateStyle(); // just send to all eles\n  }\n};\n\nvar defaultSelectionType = 'single';\nvar corefn$1 = {\n  autolock: function autolock(bool) {\n    if (bool !== undefined) {\n      this._private.autolock = bool ? true : false;\n    } else {\n      return this._private.autolock;\n    }\n    return this; // chaining\n  },\n\n  autoungrabify: function autoungrabify(bool) {\n    if (bool !== undefined) {\n      this._private.autoungrabify = bool ? true : false;\n    } else {\n      return this._private.autoungrabify;\n    }\n    return this; // chaining\n  },\n\n  autounselectify: function autounselectify(bool) {\n    if (bool !== undefined) {\n      this._private.autounselectify = bool ? true : false;\n    } else {\n      return this._private.autounselectify;\n    }\n    return this; // chaining\n  },\n\n  selectionType: function selectionType(selType) {\n    var _p = this._private;\n    if (_p.selectionType == null) {\n      _p.selectionType = defaultSelectionType;\n    }\n    if (selType !== undefined) {\n      if (selType === 'additive' || selType === 'single') {\n        _p.selectionType = selType;\n      }\n    } else {\n      return _p.selectionType;\n    }\n    return this;\n  },\n  panningEnabled: function panningEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.panningEnabled = bool ? true : false;\n    } else {\n      return this._private.panningEnabled;\n    }\n    return this; // chaining\n  },\n\n  userPanningEnabled: function userPanningEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.userPanningEnabled = bool ? true : false;\n    } else {\n      return this._private.userPanningEnabled;\n    }\n    return this; // chaining\n  },\n\n  zoomingEnabled: function zoomingEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.zoomingEnabled = bool ? true : false;\n    } else {\n      return this._private.zoomingEnabled;\n    }\n    return this; // chaining\n  },\n\n  userZoomingEnabled: function userZoomingEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.userZoomingEnabled = bool ? true : false;\n    } else {\n      return this._private.userZoomingEnabled;\n    }\n    return this; // chaining\n  },\n\n  boxSelectionEnabled: function boxSelectionEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.boxSelectionEnabled = bool ? true : false;\n    } else {\n      return this._private.boxSelectionEnabled;\n    }\n    return this; // chaining\n  },\n\n  pan: function pan() {\n    var args = arguments;\n    var pan = this._private.pan;\n    var dim, val, dims, x, y;\n    switch (args.length) {\n      case 0:\n        // .pan()\n        return pan;\n      case 1:\n        if (string(args[0])) {\n          // .pan('x')\n          dim = args[0];\n          return pan[dim];\n        } else if (plainObject(args[0])) {\n          // .pan({ x: 0, y: 100 })\n          if (!this._private.panningEnabled) {\n            return this;\n          }\n          dims = args[0];\n          x = dims.x;\n          y = dims.y;\n          if (number$1(x)) {\n            pan.x = x;\n          }\n          if (number$1(y)) {\n            pan.y = y;\n          }\n          this.emit('pan viewport');\n        }\n        break;\n      case 2:\n        // .pan('x', 100)\n        if (!this._private.panningEnabled) {\n          return this;\n        }\n        dim = args[0];\n        val = args[1];\n        if ((dim === 'x' || dim === 'y') && number$1(val)) {\n          pan[dim] = val;\n        }\n        this.emit('pan viewport');\n        break;\n      // invalid\n    }\n\n    this.notify('viewport');\n    return this; // chaining\n  },\n\n  panBy: function panBy(arg0, arg1) {\n    var args = arguments;\n    var pan = this._private.pan;\n    var dim, val, dims, x, y;\n    if (!this._private.panningEnabled) {\n      return this;\n    }\n    switch (args.length) {\n      case 1:\n        if (plainObject(arg0)) {\n          // .panBy({ x: 0, y: 100 })\n          dims = args[0];\n          x = dims.x;\n          y = dims.y;\n          if (number$1(x)) {\n            pan.x += x;\n          }\n          if (number$1(y)) {\n            pan.y += y;\n          }\n          this.emit('pan viewport');\n        }\n        break;\n      case 2:\n        // .panBy('x', 100)\n        dim = arg0;\n        val = arg1;\n        if ((dim === 'x' || dim === 'y') && number$1(val)) {\n          pan[dim] += val;\n        }\n        this.emit('pan viewport');\n        break;\n      // invalid\n    }\n\n    this.notify('viewport');\n    return this; // chaining\n  },\n\n  fit: function fit(elements, padding) {\n    var viewportState = this.getFitViewport(elements, padding);\n    if (viewportState) {\n      var _p = this._private;\n      _p.zoom = viewportState.zoom;\n      _p.pan = viewportState.pan;\n      this.emit('pan zoom viewport');\n      this.notify('viewport');\n    }\n    return this; // chaining\n  },\n\n  getFitViewport: function getFitViewport(elements, padding) {\n    if (number$1(elements) && padding === undefined) {\n      // elements is optional\n      padding = elements;\n      elements = undefined;\n    }\n    if (!this._private.panningEnabled || !this._private.zoomingEnabled) {\n      return;\n    }\n    var bb;\n    if (string(elements)) {\n      var sel = elements;\n      elements = this.$(sel);\n    } else if (boundingBox(elements)) {\n      // assume bb\n      var bbe = elements;\n      bb = {\n        x1: bbe.x1,\n        y1: bbe.y1,\n        x2: bbe.x2,\n        y2: bbe.y2\n      };\n      bb.w = bb.x2 - bb.x1;\n      bb.h = bb.y2 - bb.y1;\n    } else if (!elementOrCollection(elements)) {\n      elements = this.mutableElements();\n    }\n    if (elementOrCollection(elements) && elements.empty()) {\n      return;\n    } // can't fit to nothing\n\n    bb = bb || elements.boundingBox();\n    var w = this.width();\n    var h = this.height();\n    var zoom;\n    padding = number$1(padding) ? padding : 0;\n    if (!isNaN(w) && !isNaN(h) && w > 0 && h > 0 && !isNaN(bb.w) && !isNaN(bb.h) && bb.w > 0 && bb.h > 0) {\n      zoom = Math.min((w - 2 * padding) / bb.w, (h - 2 * padding) / bb.h);\n\n      // crop zoom\n      zoom = zoom > this._private.maxZoom ? this._private.maxZoom : zoom;\n      zoom = zoom < this._private.minZoom ? this._private.minZoom : zoom;\n      var pan = {\n        // now pan to middle\n        x: (w - zoom * (bb.x1 + bb.x2)) / 2,\n        y: (h - zoom * (bb.y1 + bb.y2)) / 2\n      };\n      return {\n        zoom: zoom,\n        pan: pan\n      };\n    }\n    return;\n  },\n  zoomRange: function zoomRange(min, max) {\n    var _p = this._private;\n    if (max == null) {\n      var opts = min;\n      min = opts.min;\n      max = opts.max;\n    }\n    if (number$1(min) && number$1(max) && min <= max) {\n      _p.minZoom = min;\n      _p.maxZoom = max;\n    } else if (number$1(min) && max === undefined && min <= _p.maxZoom) {\n      _p.minZoom = min;\n    } else if (number$1(max) && min === undefined && max >= _p.minZoom) {\n      _p.maxZoom = max;\n    }\n    return this;\n  },\n  minZoom: function minZoom(zoom) {\n    if (zoom === undefined) {\n      return this._private.minZoom;\n    } else {\n      return this.zoomRange({\n        min: zoom\n      });\n    }\n  },\n  maxZoom: function maxZoom(zoom) {\n    if (zoom === undefined) {\n      return this._private.maxZoom;\n    } else {\n      return this.zoomRange({\n        max: zoom\n      });\n    }\n  },\n  getZoomedViewport: function getZoomedViewport(params) {\n    var _p = this._private;\n    var currentPan = _p.pan;\n    var currentZoom = _p.zoom;\n    var pos; // in rendered px\n    var zoom;\n    var bail = false;\n    if (!_p.zoomingEnabled) {\n      // zooming disabled\n      bail = true;\n    }\n    if (number$1(params)) {\n      // then set the zoom\n      zoom = params;\n    } else if (plainObject(params)) {\n      // then zoom about a point\n      zoom = params.level;\n      if (params.position != null) {\n        pos = modelToRenderedPosition(params.position, currentZoom, currentPan);\n      } else if (params.renderedPosition != null) {\n        pos = params.renderedPosition;\n      }\n      if (pos != null && !_p.panningEnabled) {\n        // panning disabled\n        bail = true;\n      }\n    }\n\n    // crop zoom\n    zoom = zoom > _p.maxZoom ? _p.maxZoom : zoom;\n    zoom = zoom < _p.minZoom ? _p.minZoom : zoom;\n\n    // can't zoom with invalid params\n    if (bail || !number$1(zoom) || zoom === currentZoom || pos != null && (!number$1(pos.x) || !number$1(pos.y))) {\n      return null;\n    }\n    if (pos != null) {\n      // set zoom about position\n      var pan1 = currentPan;\n      var zoom1 = currentZoom;\n      var zoom2 = zoom;\n      var pan2 = {\n        x: -zoom2 / zoom1 * (pos.x - pan1.x) + pos.x,\n        y: -zoom2 / zoom1 * (pos.y - pan1.y) + pos.y\n      };\n      return {\n        zoomed: true,\n        panned: true,\n        zoom: zoom2,\n        pan: pan2\n      };\n    } else {\n      // just set the zoom\n      return {\n        zoomed: true,\n        panned: false,\n        zoom: zoom,\n        pan: currentPan\n      };\n    }\n  },\n  zoom: function zoom(params) {\n    if (params === undefined) {\n      // get\n      return this._private.zoom;\n    } else {\n      // set\n      var vp = this.getZoomedViewport(params);\n      var _p = this._private;\n      if (vp == null || !vp.zoomed) {\n        return this;\n      }\n      _p.zoom = vp.zoom;\n      if (vp.panned) {\n        _p.pan.x = vp.pan.x;\n        _p.pan.y = vp.pan.y;\n      }\n      this.emit('zoom' + (vp.panned ? ' pan' : '') + ' viewport');\n      this.notify('viewport');\n      return this; // chaining\n    }\n  },\n\n  viewport: function viewport(opts) {\n    var _p = this._private;\n    var zoomDefd = true;\n    var panDefd = true;\n    var events = []; // to trigger\n    var zoomFailed = false;\n    var panFailed = false;\n    if (!opts) {\n      return this;\n    }\n    if (!number$1(opts.zoom)) {\n      zoomDefd = false;\n    }\n    if (!plainObject(opts.pan)) {\n      panDefd = false;\n    }\n    if (!zoomDefd && !panDefd) {\n      return this;\n    }\n    if (zoomDefd) {\n      var z = opts.zoom;\n      if (z < _p.minZoom || z > _p.maxZoom || !_p.zoomingEnabled) {\n        zoomFailed = true;\n      } else {\n        _p.zoom = z;\n        events.push('zoom');\n      }\n    }\n    if (panDefd && (!zoomFailed || !opts.cancelOnFailedZoom) && _p.panningEnabled) {\n      var p = opts.pan;\n      if (number$1(p.x)) {\n        _p.pan.x = p.x;\n        panFailed = false;\n      }\n      if (number$1(p.y)) {\n        _p.pan.y = p.y;\n        panFailed = false;\n      }\n      if (!panFailed) {\n        events.push('pan');\n      }\n    }\n    if (events.length > 0) {\n      events.push('viewport');\n      this.emit(events.join(' '));\n      this.notify('viewport');\n    }\n    return this; // chaining\n  },\n\n  center: function center(elements) {\n    var pan = this.getCenterPan(elements);\n    if (pan) {\n      this._private.pan = pan;\n      this.emit('pan viewport');\n      this.notify('viewport');\n    }\n    return this; // chaining\n  },\n\n  getCenterPan: function getCenterPan(elements, zoom) {\n    if (!this._private.panningEnabled) {\n      return;\n    }\n    if (string(elements)) {\n      var selector = elements;\n      elements = this.mutableElements().filter(selector);\n    } else if (!elementOrCollection(elements)) {\n      elements = this.mutableElements();\n    }\n    if (elements.length === 0) {\n      return;\n    } // can't centre pan to nothing\n\n    var bb = elements.boundingBox();\n    var w = this.width();\n    var h = this.height();\n    zoom = zoom === undefined ? this._private.zoom : zoom;\n    var pan = {\n      // middle\n      x: (w - zoom * (bb.x1 + bb.x2)) / 2,\n      y: (h - zoom * (bb.y1 + bb.y2)) / 2\n    };\n    return pan;\n  },\n  reset: function reset() {\n    if (!this._private.panningEnabled || !this._private.zoomingEnabled) {\n      return this;\n    }\n    this.viewport({\n      pan: {\n        x: 0,\n        y: 0\n      },\n      zoom: 1\n    });\n    return this; // chaining\n  },\n\n  invalidateSize: function invalidateSize() {\n    this._private.sizeCache = null;\n  },\n  size: function size() {\n    var _p = this._private;\n    var container = _p.container;\n    var cy = this;\n    return _p.sizeCache = _p.sizeCache || (container ? function () {\n      var style = cy.window().getComputedStyle(container);\n      var val = function val(name) {\n        return parseFloat(style.getPropertyValue(name));\n      };\n      return {\n        width: container.clientWidth - val('padding-left') - val('padding-right'),\n        height: container.clientHeight - val('padding-top') - val('padding-bottom')\n      };\n    }() : {\n      // fallback if no container (not 0 b/c can be used for dividing etc)\n      width: 1,\n      height: 1\n    });\n  },\n  width: function width() {\n    return this.size().width;\n  },\n  height: function height() {\n    return this.size().height;\n  },\n  extent: function extent() {\n    var pan = this._private.pan;\n    var zoom = this._private.zoom;\n    var rb = this.renderedExtent();\n    var b = {\n      x1: (rb.x1 - pan.x) / zoom,\n      x2: (rb.x2 - pan.x) / zoom,\n      y1: (rb.y1 - pan.y) / zoom,\n      y2: (rb.y2 - pan.y) / zoom\n    };\n    b.w = b.x2 - b.x1;\n    b.h = b.y2 - b.y1;\n    return b;\n  },\n  renderedExtent: function renderedExtent() {\n    var width = this.width();\n    var height = this.height();\n    return {\n      x1: 0,\n      y1: 0,\n      x2: width,\n      y2: height,\n      w: width,\n      h: height\n    };\n  },\n  multiClickDebounceTime: function multiClickDebounceTime(_int) {\n    if (_int) this._private.multiClickDebounceTime = _int;else return this._private.multiClickDebounceTime;\n    return this; // chaining\n  }\n};\n\n// aliases\ncorefn$1.centre = corefn$1.center;\n\n// backwards compatibility\ncorefn$1.autolockNodes = corefn$1.autolock;\ncorefn$1.autoungrabifyNodes = corefn$1.autoungrabify;\n\nvar fn = {\n  data: define.data({\n    field: 'data',\n    bindingEvent: 'data',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'data',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true,\n    updateStyle: true\n  }),\n  removeData: define.removeData({\n    field: 'data',\n    event: 'data',\n    triggerFnName: 'trigger',\n    triggerEvent: true,\n    updateStyle: true\n  }),\n  scratch: define.data({\n    field: 'scratch',\n    bindingEvent: 'scratch',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'scratch',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true,\n    updateStyle: true\n  }),\n  removeScratch: define.removeData({\n    field: 'scratch',\n    event: 'scratch',\n    triggerFnName: 'trigger',\n    triggerEvent: true,\n    updateStyle: true\n  })\n};\n\n// aliases\nfn.attr = fn.data;\nfn.removeAttr = fn.removeData;\n\nvar Core = function Core(opts) {\n  var cy = this;\n  opts = extend({}, opts);\n  var container = opts.container;\n\n  // allow for passing a wrapped jquery object\n  // e.g. cytoscape({ container: $('#cy') })\n  if (container && !htmlElement(container) && htmlElement(container[0])) {\n    container = container[0];\n  }\n  var reg = container ? container._cyreg : null; // e.g. already registered some info (e.g. readies) via jquery\n  reg = reg || {};\n  if (reg && reg.cy) {\n    reg.cy.destroy();\n    reg = {}; // old instance => replace reg completely\n  }\n\n  var readies = reg.readies = reg.readies || [];\n  if (container) {\n    container._cyreg = reg;\n  } // make sure container assoc'd reg points to this cy\n  reg.cy = cy;\n  var head = _window !== undefined && container !== undefined && !opts.headless;\n  var options = opts;\n  options.layout = extend({\n    name: head ? 'grid' : 'null'\n  }, options.layout);\n  options.renderer = extend({\n    name: head ? 'canvas' : 'null'\n  }, options.renderer);\n  var defVal = function defVal(def, val, altVal) {\n    if (val !== undefined) {\n      return val;\n    } else if (altVal !== undefined) {\n      return altVal;\n    } else {\n      return def;\n    }\n  };\n  var _p = this._private = {\n    container: container,\n    // html dom ele container\n    ready: false,\n    // whether ready has been triggered\n    options: options,\n    // cached options\n    elements: new Collection(this),\n    // elements in the graph\n    listeners: [],\n    // list of listeners\n    aniEles: new Collection(this),\n    // elements being animated\n    data: options.data || {},\n    // data for the core\n    scratch: {},\n    // scratch object for core\n    layout: null,\n    renderer: null,\n    destroyed: false,\n    // whether destroy was called\n    notificationsEnabled: true,\n    // whether notifications are sent to the renderer\n    minZoom: 1e-50,\n    maxZoom: 1e50,\n    zoomingEnabled: defVal(true, options.zoomingEnabled),\n    userZoomingEnabled: defVal(true, options.userZoomingEnabled),\n    panningEnabled: defVal(true, options.panningEnabled),\n    userPanningEnabled: defVal(true, options.userPanningEnabled),\n    boxSelectionEnabled: defVal(true, options.boxSelectionEnabled),\n    autolock: defVal(false, options.autolock, options.autolockNodes),\n    autoungrabify: defVal(false, options.autoungrabify, options.autoungrabifyNodes),\n    autounselectify: defVal(false, options.autounselectify),\n    styleEnabled: options.styleEnabled === undefined ? head : options.styleEnabled,\n    zoom: number$1(options.zoom) ? options.zoom : 1,\n    pan: {\n      x: plainObject(options.pan) && number$1(options.pan.x) ? options.pan.x : 0,\n      y: plainObject(options.pan) && number$1(options.pan.y) ? options.pan.y : 0\n    },\n    animation: {\n      // object for currently-running animations\n      current: [],\n      queue: []\n    },\n    hasCompoundNodes: false,\n    multiClickDebounceTime: defVal(250, options.multiClickDebounceTime)\n  };\n  this.createEmitter();\n\n  // set selection type\n  this.selectionType(options.selectionType);\n\n  // init zoom bounds\n  this.zoomRange({\n    min: options.minZoom,\n    max: options.maxZoom\n  });\n  var loadExtData = function loadExtData(extData, next) {\n    var anyIsPromise = extData.some(promise);\n    if (anyIsPromise) {\n      return Promise$1.all(extData).then(next); // load all data asynchronously, then exec rest of init\n    } else {\n      next(extData); // exec synchronously for convenience\n    }\n  };\n\n  // start with the default stylesheet so we have something before loading an external stylesheet\n  if (_p.styleEnabled) {\n    cy.setStyle([]);\n  }\n\n  // create the renderer\n  var rendererOptions = extend({}, options, options.renderer); // allow rendering hints in top level options\n  cy.initRenderer(rendererOptions);\n  var setElesAndLayout = function setElesAndLayout(elements, onload, ondone) {\n    cy.notifications(false);\n\n    // remove old elements\n    var oldEles = cy.mutableElements();\n    if (oldEles.length > 0) {\n      oldEles.remove();\n    }\n    if (elements != null) {\n      if (plainObject(elements) || array(elements)) {\n        cy.add(elements);\n      }\n    }\n    cy.one('layoutready', function (e) {\n      cy.notifications(true);\n      cy.emit(e); // we missed this event by turning notifications off, so pass it on\n\n      cy.one('load', onload);\n      cy.emitAndNotify('load');\n    }).one('layoutstop', function () {\n      cy.one('done', ondone);\n      cy.emit('done');\n    });\n    var layoutOpts = extend({}, cy._private.options.layout);\n    layoutOpts.eles = cy.elements();\n    cy.layout(layoutOpts).run();\n  };\n  loadExtData([options.style, options.elements], function (thens) {\n    var initStyle = thens[0];\n    var initEles = thens[1];\n\n    // init style\n    if (_p.styleEnabled) {\n      cy.style().append(initStyle);\n    }\n\n    // initial load\n    setElesAndLayout(initEles, function () {\n      // onready\n      cy.startAnimationLoop();\n      _p.ready = true;\n\n      // if a ready callback is specified as an option, the bind it\n      if (fn$6(options.ready)) {\n        cy.on('ready', options.ready);\n      }\n\n      // bind all the ready handlers registered before creating this instance\n      for (var i = 0; i < readies.length; i++) {\n        var fn = readies[i];\n        cy.on('ready', fn);\n      }\n      if (reg) {\n        reg.readies = [];\n      } // clear b/c we've bound them all and don't want to keep it around in case a new core uses the same div etc\n\n      cy.emit('ready');\n    }, options.done);\n  });\n};\nvar corefn = Core.prototype; // short alias\n\nextend(corefn, {\n  instanceString: function instanceString() {\n    return 'core';\n  },\n  isReady: function isReady() {\n    return this._private.ready;\n  },\n  destroyed: function destroyed() {\n    return this._private.destroyed;\n  },\n  ready: function ready(fn) {\n    if (this.isReady()) {\n      this.emitter().emit('ready', [], fn); // just calls fn as though triggered via ready event\n    } else {\n      this.on('ready', fn);\n    }\n    return this;\n  },\n  destroy: function destroy() {\n    var cy = this;\n    if (cy.destroyed()) return;\n    cy.stopAnimationLoop();\n    cy.destroyRenderer();\n    this.emit('destroy');\n    cy._private.destroyed = true;\n    return cy;\n  },\n  hasElementWithId: function hasElementWithId(id) {\n    return this._private.elements.hasElementWithId(id);\n  },\n  getElementById: function getElementById(id) {\n    return this._private.elements.getElementById(id);\n  },\n  hasCompoundNodes: function hasCompoundNodes() {\n    return this._private.hasCompoundNodes;\n  },\n  headless: function headless() {\n    return this._private.renderer.isHeadless();\n  },\n  styleEnabled: function styleEnabled() {\n    return this._private.styleEnabled;\n  },\n  addToPool: function addToPool(eles) {\n    this._private.elements.merge(eles);\n    return this; // chaining\n  },\n\n  removeFromPool: function removeFromPool(eles) {\n    this._private.elements.unmerge(eles);\n    return this;\n  },\n  container: function container() {\n    return this._private.container || null;\n  },\n  window: function window() {\n    var container = this._private.container;\n    if (container == null) return _window;\n    var ownerDocument = this._private.container.ownerDocument;\n    if (ownerDocument === undefined || ownerDocument == null) {\n      return _window;\n    }\n    return ownerDocument.defaultView || _window;\n  },\n  mount: function mount(container) {\n    if (container == null) {\n      return;\n    }\n    var cy = this;\n    var _p = cy._private;\n    var options = _p.options;\n    if (!htmlElement(container) && htmlElement(container[0])) {\n      container = container[0];\n    }\n    cy.stopAnimationLoop();\n    cy.destroyRenderer();\n    _p.container = container;\n    _p.styleEnabled = true;\n    cy.invalidateSize();\n    cy.initRenderer(extend({}, options, options.renderer, {\n      // allow custom renderer name to be re-used, otherwise use canvas\n      name: options.renderer.name === 'null' ? 'canvas' : options.renderer.name\n    }));\n    cy.startAnimationLoop();\n    cy.style(options.style);\n    cy.emit('mount');\n    return cy;\n  },\n  unmount: function unmount() {\n    var cy = this;\n    cy.stopAnimationLoop();\n    cy.destroyRenderer();\n    cy.initRenderer({\n      name: 'null'\n    });\n    cy.emit('unmount');\n    return cy;\n  },\n  options: function options() {\n    return copy(this._private.options);\n  },\n  json: function json(obj) {\n    var cy = this;\n    var _p = cy._private;\n    var eles = cy.mutableElements();\n    var getFreshRef = function getFreshRef(ele) {\n      return cy.getElementById(ele.id());\n    };\n    if (plainObject(obj)) {\n      // set\n\n      cy.startBatch();\n      if (obj.elements) {\n        var idInJson = {};\n        var updateEles = function updateEles(jsons, gr) {\n          var toAdd = [];\n          var toMod = [];\n          for (var i = 0; i < jsons.length; i++) {\n            var json = jsons[i];\n            if (!json.data.id) {\n              warn('cy.json() cannot handle elements without an ID attribute');\n              continue;\n            }\n            var id = '' + json.data.id; // id must be string\n            var ele = cy.getElementById(id);\n            idInJson[id] = true;\n            if (ele.length !== 0) {\n              // existing element should be updated\n              toMod.push({\n                ele: ele,\n                json: json\n              });\n            } else {\n              // otherwise should be added\n              if (gr) {\n                json.group = gr;\n                toAdd.push(json);\n              } else {\n                toAdd.push(json);\n              }\n            }\n          }\n          cy.add(toAdd);\n          for (var _i = 0; _i < toMod.length; _i++) {\n            var _toMod$_i = toMod[_i],\n              _ele = _toMod$_i.ele,\n              _json = _toMod$_i.json;\n            _ele.json(_json);\n          }\n        };\n        if (array(obj.elements)) {\n          // elements: []\n          updateEles(obj.elements);\n        } else {\n          // elements: { nodes: [], edges: [] }\n          var grs = ['nodes', 'edges'];\n          for (var i = 0; i < grs.length; i++) {\n            var gr = grs[i];\n            var elements = obj.elements[gr];\n            if (array(elements)) {\n              updateEles(elements, gr);\n            }\n          }\n        }\n        var parentsToRemove = cy.collection();\n        eles.filter(function (ele) {\n          return !idInJson[ele.id()];\n        }).forEach(function (ele) {\n          if (ele.isParent()) {\n            parentsToRemove.merge(ele);\n          } else {\n            ele.remove();\n          }\n        });\n\n        // so that children are not removed w/parent\n        parentsToRemove.forEach(function (ele) {\n          return ele.children().move({\n            parent: null\n          });\n        });\n\n        // intermediate parents may be moved by prior line, so make sure we remove by fresh refs\n        parentsToRemove.forEach(function (ele) {\n          return getFreshRef(ele).remove();\n        });\n      }\n      if (obj.style) {\n        cy.style(obj.style);\n      }\n      if (obj.zoom != null && obj.zoom !== _p.zoom) {\n        cy.zoom(obj.zoom);\n      }\n      if (obj.pan) {\n        if (obj.pan.x !== _p.pan.x || obj.pan.y !== _p.pan.y) {\n          cy.pan(obj.pan);\n        }\n      }\n      if (obj.data) {\n        cy.data(obj.data);\n      }\n      var fields = ['minZoom', 'maxZoom', 'zoomingEnabled', 'userZoomingEnabled', 'panningEnabled', 'userPanningEnabled', 'boxSelectionEnabled', 'autolock', 'autoungrabify', 'autounselectify', 'multiClickDebounceTime'];\n      for (var _i2 = 0; _i2 < fields.length; _i2++) {\n        var f = fields[_i2];\n        if (obj[f] != null) {\n          cy[f](obj[f]);\n        }\n      }\n      cy.endBatch();\n      return this; // chaining\n    } else {\n      // get\n      var flat = !!obj;\n      var json = {};\n      if (flat) {\n        json.elements = this.elements().map(function (ele) {\n          return ele.json();\n        });\n      } else {\n        json.elements = {};\n        eles.forEach(function (ele) {\n          var group = ele.group();\n          if (!json.elements[group]) {\n            json.elements[group] = [];\n          }\n          json.elements[group].push(ele.json());\n        });\n      }\n      if (this._private.styleEnabled) {\n        json.style = cy.style().json();\n      }\n      json.data = copy(cy.data());\n      var options = _p.options;\n      json.zoomingEnabled = _p.zoomingEnabled;\n      json.userZoomingEnabled = _p.userZoomingEnabled;\n      json.zoom = _p.zoom;\n      json.minZoom = _p.minZoom;\n      json.maxZoom = _p.maxZoom;\n      json.panningEnabled = _p.panningEnabled;\n      json.userPanningEnabled = _p.userPanningEnabled;\n      json.pan = copy(_p.pan);\n      json.boxSelectionEnabled = _p.boxSelectionEnabled;\n      json.renderer = copy(options.renderer);\n      json.hideEdgesOnViewport = options.hideEdgesOnViewport;\n      json.textureOnViewport = options.textureOnViewport;\n      json.wheelSensitivity = options.wheelSensitivity;\n      json.motionBlur = options.motionBlur;\n      json.multiClickDebounceTime = options.multiClickDebounceTime;\n      return json;\n    }\n  }\n});\ncorefn.$id = corefn.getElementById;\n[corefn$9, corefn$8, elesfn, corefn$7, corefn$6, corefn$5, corefn$4, corefn$3, corefn$2, corefn$1, fn].forEach(function (props) {\n  extend(corefn, props);\n});\n\n/* eslint-disable no-unused-vars */\nvar defaults$7 = {\n  fit: true,\n  // whether to fit the viewport to the graph\n  directed: false,\n  // whether the tree is directed downwards (or edges can point in any direction if false)\n  padding: 30,\n  // padding on fit\n  circle: false,\n  // put depths in concentric circles if true, put depths top down if false\n  grid: false,\n  // whether to create an even grid into which the DAG is placed (circle:false only)\n  spacingFactor: 1.75,\n  // positive spacing factor, larger => more space between nodes (N.B. n/a if causes overlap)\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true,\n  // prevents node overlap, may overflow boundingBox if not enough space\n  nodeDimensionsIncludeLabels: false,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  roots: undefined,\n  // the roots of the trees\n  depthSort: undefined,\n  // a sorting function to order nodes at equal depth. e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled,\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts\n};\n\nvar deprecatedOptionDefaults = {\n  maximal: false,\n  // whether to shift nodes down their natural BFS depths in order to avoid upwards edges (DAGS only); setting acyclic to true sets maximal to true also\n  acyclic: false // whether the tree is acyclic and thus a node could be shifted (due to the maximal option) multiple times without causing an infinite loop; setting to true sets maximal to true also; if you are uncertain whether a tree is acyclic, set to false to avoid potential infinite loops\n};\n\n/* eslint-enable */\n\nvar getInfo = function getInfo(ele) {\n  return ele.scratch('breadthfirst');\n};\nvar setInfo = function setInfo(ele, obj) {\n  return ele.scratch('breadthfirst', obj);\n};\nfunction BreadthFirstLayout(options) {\n  this.options = extend({}, defaults$7, deprecatedOptionDefaults, options);\n}\nBreadthFirstLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n  var cy = params.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().filter(function (n) {\n    return !n.isParent();\n  });\n  var graph = eles;\n  var directed = options.directed;\n  var maximal = options.acyclic || options.maximal || options.maximalAdjustments > 0; // maximalAdjustments for compat. w/ old code; also, setting acyclic to true sets maximal to true\n\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  var roots;\n  if (elementOrCollection(options.roots)) {\n    roots = options.roots;\n  } else if (array(options.roots)) {\n    var rootsArray = [];\n    for (var i = 0; i < options.roots.length; i++) {\n      var id = options.roots[i];\n      var ele = cy.getElementById(id);\n      rootsArray.push(ele);\n    }\n    roots = cy.collection(rootsArray);\n  } else if (string(options.roots)) {\n    roots = cy.$(options.roots);\n  } else {\n    if (directed) {\n      roots = nodes.roots();\n    } else {\n      var components = eles.components();\n      roots = cy.collection();\n      var _loop = function _loop(_i) {\n        var comp = components[_i];\n        var maxDegree = comp.maxDegree(false);\n        var compRoots = comp.filter(function (ele) {\n          return ele.degree(false) === maxDegree;\n        });\n        roots = roots.add(compRoots);\n      };\n      for (var _i = 0; _i < components.length; _i++) {\n        _loop(_i);\n      }\n    }\n  }\n  var depths = [];\n  var foundByBfs = {};\n  var addToDepth = function addToDepth(ele, d) {\n    if (depths[d] == null) {\n      depths[d] = [];\n    }\n    var i = depths[d].length;\n    depths[d].push(ele);\n    setInfo(ele, {\n      index: i,\n      depth: d\n    });\n  };\n  var changeDepth = function changeDepth(ele, newDepth) {\n    var _getInfo = getInfo(ele),\n      depth = _getInfo.depth,\n      index = _getInfo.index;\n    depths[depth][index] = null;\n    addToDepth(ele, newDepth);\n  };\n\n  // find the depths of the nodes\n  graph.bfs({\n    roots: roots,\n    directed: options.directed,\n    visit: function visit(node, edge, pNode, i, depth) {\n      var ele = node[0];\n      var id = ele.id();\n      addToDepth(ele, depth);\n      foundByBfs[id] = true;\n    }\n  });\n\n  // check for nodes not found by bfs\n  var orphanNodes = [];\n  for (var _i2 = 0; _i2 < nodes.length; _i2++) {\n    var _ele = nodes[_i2];\n    if (foundByBfs[_ele.id()]) {\n      continue;\n    } else {\n      orphanNodes.push(_ele);\n    }\n  }\n\n  // assign the nodes a depth and index\n\n  var assignDepthsAt = function assignDepthsAt(i) {\n    var eles = depths[i];\n    for (var j = 0; j < eles.length; j++) {\n      var _ele2 = eles[j];\n      if (_ele2 == null) {\n        eles.splice(j, 1);\n        j--;\n        continue;\n      }\n      setInfo(_ele2, {\n        depth: i,\n        index: j\n      });\n    }\n  };\n  var assignDepths = function assignDepths() {\n    for (var _i3 = 0; _i3 < depths.length; _i3++) {\n      assignDepthsAt(_i3);\n    }\n  };\n  var adjustMaximally = function adjustMaximally(ele, shifted) {\n    var eInfo = getInfo(ele);\n    var incomers = ele.incomers().filter(function (el) {\n      return el.isNode() && eles.has(el);\n    });\n    var maxDepth = -1;\n    var id = ele.id();\n    for (var k = 0; k < incomers.length; k++) {\n      var incmr = incomers[k];\n      var iInfo = getInfo(incmr);\n      maxDepth = Math.max(maxDepth, iInfo.depth);\n    }\n    if (eInfo.depth <= maxDepth) {\n      if (!options.acyclic && shifted[id]) {\n        return null;\n      }\n      var newDepth = maxDepth + 1;\n      changeDepth(ele, newDepth);\n      shifted[id] = newDepth;\n      return true;\n    }\n    return false;\n  };\n\n  // for the directed case, try to make the edges all go down (i.e. depth i => depth i + 1)\n  if (directed && maximal) {\n    var Q = [];\n    var shifted = {};\n    var enqueue = function enqueue(n) {\n      return Q.push(n);\n    };\n    var dequeue = function dequeue() {\n      return Q.shift();\n    };\n    nodes.forEach(function (n) {\n      return Q.push(n);\n    });\n    while (Q.length > 0) {\n      var _ele3 = dequeue();\n      var didShift = adjustMaximally(_ele3, shifted);\n      if (didShift) {\n        _ele3.outgoers().filter(function (el) {\n          return el.isNode() && eles.has(el);\n        }).forEach(enqueue);\n      } else if (didShift === null) {\n        warn('Detected double maximal shift for node `' + _ele3.id() + '`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.');\n        break; // exit on failure\n      }\n    }\n  }\n\n  assignDepths(); // clear holes\n\n  // find min distance we need to leave between nodes\n  var minDistance = 0;\n  if (options.avoidOverlap) {\n    for (var _i4 = 0; _i4 < nodes.length; _i4++) {\n      var n = nodes[_i4];\n      var nbb = n.layoutDimensions(options);\n      var w = nbb.w;\n      var h = nbb.h;\n      minDistance = Math.max(minDistance, w, h);\n    }\n  }\n\n  // get the weighted percent for an element based on its connectivity to other levels\n  var cachedWeightedPercent = {};\n  var getWeightedPercent = function getWeightedPercent(ele) {\n    if (cachedWeightedPercent[ele.id()]) {\n      return cachedWeightedPercent[ele.id()];\n    }\n    var eleDepth = getInfo(ele).depth;\n    var neighbors = ele.neighborhood();\n    var percent = 0;\n    var samples = 0;\n    for (var _i5 = 0; _i5 < neighbors.length; _i5++) {\n      var neighbor = neighbors[_i5];\n      if (neighbor.isEdge() || neighbor.isParent() || !nodes.has(neighbor)) {\n        continue;\n      }\n      var bf = getInfo(neighbor);\n      if (bf == null) {\n        continue;\n      }\n      var index = bf.index;\n      var depth = bf.depth;\n\n      // unassigned neighbours shouldn't affect the ordering\n      if (index == null || depth == null) {\n        continue;\n      }\n      var nDepth = depths[depth].length;\n      if (depth < eleDepth) {\n        // only get influenced by elements above\n        percent += index / nDepth;\n        samples++;\n      }\n    }\n    samples = Math.max(1, samples);\n    percent = percent / samples;\n    if (samples === 0) {\n      // put lone nodes at the start\n      percent = 0;\n    }\n    cachedWeightedPercent[ele.id()] = percent;\n    return percent;\n  };\n\n  // rearrange the indices in each depth level based on connectivity\n\n  var sortFn = function sortFn(a, b) {\n    var apct = getWeightedPercent(a);\n    var bpct = getWeightedPercent(b);\n    var diff = apct - bpct;\n    if (diff === 0) {\n      return ascending(a.id(), b.id()); // make sure sort doesn't have don't-care comparisons\n    } else {\n      return diff;\n    }\n  };\n  if (options.depthSort !== undefined) {\n    sortFn = options.depthSort;\n  }\n\n  // sort each level to make connected nodes closer\n  for (var _i6 = 0; _i6 < depths.length; _i6++) {\n    depths[_i6].sort(sortFn);\n    assignDepthsAt(_i6);\n  }\n\n  // assign orphan nodes to a new top-level depth\n  var orphanDepth = [];\n  for (var _i7 = 0; _i7 < orphanNodes.length; _i7++) {\n    orphanDepth.push(orphanNodes[_i7]);\n  }\n  depths.unshift(orphanDepth);\n  assignDepths();\n  var biggestDepthSize = 0;\n  for (var _i8 = 0; _i8 < depths.length; _i8++) {\n    biggestDepthSize = Math.max(depths[_i8].length, biggestDepthSize);\n  }\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.x1 + bb.h / 2\n  };\n  var maxDepthSize = depths.reduce(function (max, eles) {\n    return Math.max(max, eles.length);\n  }, 0);\n  var getPosition = function getPosition(ele) {\n    var _getInfo2 = getInfo(ele),\n      depth = _getInfo2.depth,\n      index = _getInfo2.index;\n    var depthSize = depths[depth].length;\n    var distanceX = Math.max(bb.w / ((options.grid ? maxDepthSize : depthSize) + 1), minDistance);\n    var distanceY = Math.max(bb.h / (depths.length + 1), minDistance);\n    var radiusStepSize = Math.min(bb.w / 2 / depths.length, bb.h / 2 / depths.length);\n    radiusStepSize = Math.max(radiusStepSize, minDistance);\n    if (!options.circle) {\n      var epos = {\n        x: center.x + (index + 1 - (depthSize + 1) / 2) * distanceX,\n        y: (depth + 1) * distanceY\n      };\n      return epos;\n    } else {\n      var radius = radiusStepSize * depth + radiusStepSize - (depths.length > 0 && depths[0].length <= 3 ? radiusStepSize / 2 : 0);\n      var theta = 2 * Math.PI / depths[depth].length * index;\n      if (depth === 0 && depths[0].length === 1) {\n        radius = 1;\n      }\n      return {\n        x: center.x + radius * Math.cos(theta),\n        y: center.y + radius * Math.sin(theta)\n      };\n    }\n  };\n  eles.nodes().layoutPositions(this, options, getPosition);\n  return this; // chaining\n};\n\nvar defaults$6 = {\n  fit: true,\n  // whether to fit the viewport to the graph\n  padding: 30,\n  // the padding on fit\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true,\n  // prevents node overlap, may overflow boundingBox and radius if not enough space\n  nodeDimensionsIncludeLabels: false,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  spacingFactor: undefined,\n  // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  radius: undefined,\n  // the radius of the circle\n  startAngle: 3 / 2 * Math.PI,\n  // where nodes start in radians\n  sweep: undefined,\n  // how many radians should be between the first and last node (defaults to full circle)\n  clockwise: true,\n  // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n  sort: undefined,\n  // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n};\n\nfunction CircleLayout(options) {\n  this.options = extend({}, defaults$6, options);\n}\nCircleLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n  var cy = params.cy;\n  var eles = options.eles;\n  var clockwise = options.counterclockwise !== undefined ? !options.counterclockwise : options.clockwise;\n  var nodes = eles.nodes().not(':parent');\n  if (options.sort) {\n    nodes = nodes.sort(options.sort);\n  }\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.y1 + bb.h / 2\n  };\n  var sweep = options.sweep === undefined ? 2 * Math.PI - 2 * Math.PI / nodes.length : options.sweep;\n  var dTheta = sweep / Math.max(1, nodes.length - 1);\n  var r;\n  var minDistance = 0;\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n    var nbb = n.layoutDimensions(options);\n    var w = nbb.w;\n    var h = nbb.h;\n    minDistance = Math.max(minDistance, w, h);\n  }\n  if (number$1(options.radius)) {\n    r = options.radius;\n  } else if (nodes.length <= 1) {\n    r = 0;\n  } else {\n    r = Math.min(bb.h, bb.w) / 2 - minDistance;\n  }\n\n  // calculate the radius\n  if (nodes.length > 1 && options.avoidOverlap) {\n    // but only if more than one node (can't overlap)\n    minDistance *= 1.75; // just to have some nice spacing\n\n    var dcos = Math.cos(dTheta) - Math.cos(0);\n    var dsin = Math.sin(dTheta) - Math.sin(0);\n    var rMin = Math.sqrt(minDistance * minDistance / (dcos * dcos + dsin * dsin)); // s.t. no nodes overlapping\n    r = Math.max(rMin, r);\n  }\n  var getPos = function getPos(ele, i) {\n    var theta = options.startAngle + i * dTheta * (clockwise ? 1 : -1);\n    var rx = r * Math.cos(theta);\n    var ry = r * Math.sin(theta);\n    var pos = {\n      x: center.x + rx,\n      y: center.y + ry\n    };\n    return pos;\n  };\n  eles.nodes().layoutPositions(this, options, getPos);\n  return this; // chaining\n};\n\nvar defaults$5 = {\n  fit: true,\n  // whether to fit the viewport to the graph\n  padding: 30,\n  // the padding on fit\n  startAngle: 3 / 2 * Math.PI,\n  // where nodes start in radians\n  sweep: undefined,\n  // how many radians should be between the first and last node (defaults to full circle)\n  clockwise: true,\n  // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n  equidistant: false,\n  // whether levels have an equal radial distance betwen them, may cause bounding box overflow\n  minNodeSpacing: 10,\n  // min spacing between outside of nodes (used for radius adjustment)\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true,\n  // prevents node overlap, may overflow boundingBox if not enough space\n  nodeDimensionsIncludeLabels: false,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  height: undefined,\n  // height of layout area (overrides container height)\n  width: undefined,\n  // width of layout area (overrides container width)\n  spacingFactor: undefined,\n  // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  concentric: function concentric(node) {\n    // returns numeric value for each node, placing higher nodes in levels towards the centre\n    return node.degree();\n  },\n  levelWidth: function levelWidth(nodes) {\n    // the variation of concentric values in each level\n    return nodes.maxDegree() / 4;\n  },\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts\n};\n\nfunction ConcentricLayout(options) {\n  this.options = extend({}, defaults$5, options);\n}\nConcentricLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n  var clockwise = options.counterclockwise !== undefined ? !options.counterclockwise : options.clockwise;\n  var cy = params.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.y1 + bb.h / 2\n  };\n  var nodeValues = []; // { node, value }\n  var maxNodeSize = 0;\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    var value = void 0;\n\n    // calculate the node value\n    value = options.concentric(node);\n    nodeValues.push({\n      value: value,\n      node: node\n    });\n\n    // for style mapping\n    node._private.scratch.concentric = value;\n  }\n\n  // in case we used the `concentric` in style\n  nodes.updateStyle();\n\n  // calculate max size now based on potentially updated mappers\n  for (var _i = 0; _i < nodes.length; _i++) {\n    var _node = nodes[_i];\n    var nbb = _node.layoutDimensions(options);\n    maxNodeSize = Math.max(maxNodeSize, nbb.w, nbb.h);\n  }\n\n  // sort node values in descreasing order\n  nodeValues.sort(function (a, b) {\n    return b.value - a.value;\n  });\n  var levelWidth = options.levelWidth(nodes);\n\n  // put the values into levels\n  var levels = [[]];\n  var currentLevel = levels[0];\n  for (var _i2 = 0; _i2 < nodeValues.length; _i2++) {\n    var val = nodeValues[_i2];\n    if (currentLevel.length > 0) {\n      var diff = Math.abs(currentLevel[0].value - val.value);\n      if (diff >= levelWidth) {\n        currentLevel = [];\n        levels.push(currentLevel);\n      }\n    }\n    currentLevel.push(val);\n  }\n\n  // create positions from levels\n\n  var minDist = maxNodeSize + options.minNodeSpacing; // min dist between nodes\n\n  if (!options.avoidOverlap) {\n    // then strictly constrain to bb\n    var firstLvlHasMulti = levels.length > 0 && levels[0].length > 1;\n    var maxR = Math.min(bb.w, bb.h) / 2 - minDist;\n    var rStep = maxR / (levels.length + firstLvlHasMulti ? 1 : 0);\n    minDist = Math.min(minDist, rStep);\n  }\n\n  // find the metrics for each level\n  var r = 0;\n  for (var _i3 = 0; _i3 < levels.length; _i3++) {\n    var level = levels[_i3];\n    var sweep = options.sweep === undefined ? 2 * Math.PI - 2 * Math.PI / level.length : options.sweep;\n    var dTheta = level.dTheta = sweep / Math.max(1, level.length - 1);\n\n    // calculate the radius\n    if (level.length > 1 && options.avoidOverlap) {\n      // but only if more than one node (can't overlap)\n      var dcos = Math.cos(dTheta) - Math.cos(0);\n      var dsin = Math.sin(dTheta) - Math.sin(0);\n      var rMin = Math.sqrt(minDist * minDist / (dcos * dcos + dsin * dsin)); // s.t. no nodes overlapping\n\n      r = Math.max(rMin, r);\n    }\n    level.r = r;\n    r += minDist;\n  }\n  if (options.equidistant) {\n    var rDeltaMax = 0;\n    var _r = 0;\n    for (var _i4 = 0; _i4 < levels.length; _i4++) {\n      var _level = levels[_i4];\n      var rDelta = _level.r - _r;\n      rDeltaMax = Math.max(rDeltaMax, rDelta);\n    }\n    _r = 0;\n    for (var _i5 = 0; _i5 < levels.length; _i5++) {\n      var _level2 = levels[_i5];\n      if (_i5 === 0) {\n        _r = _level2.r;\n      }\n      _level2.r = _r;\n      _r += rDeltaMax;\n    }\n  }\n\n  // calculate the node positions\n  var pos = {}; // id => position\n  for (var _i6 = 0; _i6 < levels.length; _i6++) {\n    var _level3 = levels[_i6];\n    var _dTheta = _level3.dTheta;\n    var _r2 = _level3.r;\n    for (var j = 0; j < _level3.length; j++) {\n      var _val = _level3[j];\n      var theta = options.startAngle + (clockwise ? 1 : -1) * _dTheta * j;\n      var p = {\n        x: center.x + _r2 * Math.cos(theta),\n        y: center.y + _r2 * Math.sin(theta)\n      };\n      pos[_val.node.id()] = p;\n    }\n  }\n\n  // position the nodes\n  eles.nodes().layoutPositions(this, options, function (ele) {\n    var id = ele.id();\n    return pos[id];\n  });\n  return this; // chaining\n};\n\n/*\nThe CoSE layout was written by Gerardo Huck.\nhttps://www.linkedin.com/in/gerardohuck/\n\nBased on the following article:\nhttp://dl.acm.org/citation.cfm?id=1498047\n\nModifications tracked on Github.\n*/\nvar DEBUG;\n\n/**\n * @brief :  default layout options\n */\nvar defaults$4 = {\n  // Called on `layoutready`\n  ready: function ready() {},\n  // Called on `layoutstop`\n  stop: function stop() {},\n  // Whether to animate while running the layout\n  // true : Animate continuously as the layout is running\n  // false : Just show the end result\n  // 'end' : Animate with the end result, from the initial positions to the end positions\n  animate: true,\n  // Easing of the animation for animate:'end'\n  animationEasing: undefined,\n  // The duration of the animation for animate:'end'\n  animationDuration: undefined,\n  // A function that determines whether the node should be animated\n  // All nodes animated by default on animate enabled\n  // Non-animated nodes are positioned immediately when the layout starts\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // The layout animates only after this many milliseconds for animate:true\n  // (prevents flashing on fast runs)\n  animationThreshold: 250,\n  // Number of iterations between consecutive screen positions update\n  refresh: 20,\n  // Whether to fit the network view after when done\n  fit: true,\n  // Padding on fit\n  padding: 30,\n  // Constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  boundingBox: undefined,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  nodeDimensionsIncludeLabels: false,\n  // Randomize the initial positions of the nodes (true) or use existing positions (false)\n  randomize: false,\n  // Extra spacing between components in non-compound graphs\n  componentSpacing: 40,\n  // Node repulsion (non overlapping) multiplier\n  nodeRepulsion: function nodeRepulsion(node) {\n    return 2048;\n  },\n  // Node repulsion (overlapping) multiplier\n  nodeOverlap: 4,\n  // Ideal edge (non nested) length\n  idealEdgeLength: function idealEdgeLength(edge) {\n    return 32;\n  },\n  // Divisor to compute edge forces\n  edgeElasticity: function edgeElasticity(edge) {\n    return 32;\n  },\n  // Nesting factor (multiplier) to compute ideal edge length for nested edges\n  nestingFactor: 1.2,\n  // Gravity force (constant)\n  gravity: 1,\n  // Maximum number of iterations to perform\n  numIter: 1000,\n  // Initial temperature (maximum node displacement)\n  initialTemp: 1000,\n  // Cooling factor (how the temperature is reduced between consecutive iterations\n  coolingFactor: 0.99,\n  // Lower temperature threshold (below this point the layout will end)\n  minTemp: 1.0\n};\n\n/**\n * @brief       : constructor\n * @arg options : object containing layout options\n */\nfunction CoseLayout(options) {\n  this.options = extend({}, defaults$4, options);\n  this.options.layout = this;\n\n  // Exclude any edge that has a source or target node that is not in the set of passed-in nodes\n  var nodes = this.options.eles.nodes();\n  var edges = this.options.eles.edges();\n  var notEdges = edges.filter(function (e) {\n    var sourceId = e.source().data('id');\n    var targetId = e.target().data('id');\n    var hasSource = nodes.some(function (n) {\n      return n.data('id') === sourceId;\n    });\n    var hasTarget = nodes.some(function (n) {\n      return n.data('id') === targetId;\n    });\n    return !hasSource || !hasTarget;\n  });\n  this.options.eles = this.options.eles.not(notEdges);\n}\n\n/**\n * @brief : runs the layout\n */\nCoseLayout.prototype.run = function () {\n  var options = this.options;\n  var cy = options.cy;\n  var layout = this;\n  layout.stopped = false;\n  if (options.animate === true || options.animate === false) {\n    layout.emit({\n      type: 'layoutstart',\n      layout: layout\n    });\n  }\n\n  // Set DEBUG - Global variable\n  if (true === options.debug) {\n    DEBUG = true;\n  } else {\n    DEBUG = false;\n  }\n\n  // Initialize layout info\n  var layoutInfo = createLayoutInfo(cy, layout, options);\n\n  // Show LayoutInfo contents if debugging\n  if (DEBUG) {\n    printLayoutInfo(layoutInfo);\n  }\n\n  // If required, randomize node positions\n  if (options.randomize) {\n    randomizePositions(layoutInfo);\n  }\n  var startTime = performanceNow();\n  var refresh = function refresh() {\n    refreshPositions(layoutInfo, cy, options);\n\n    // Fit the graph if necessary\n    if (true === options.fit) {\n      cy.fit(options.padding);\n    }\n  };\n  var mainLoop = function mainLoop(i) {\n    if (layout.stopped || i >= options.numIter) {\n      // logDebug(\"Layout manually stopped. Stopping computation in step \" + i);\n      return false;\n    }\n\n    // Do one step in the phisical simulation\n    step(layoutInfo, options);\n\n    // Update temperature\n    layoutInfo.temperature = layoutInfo.temperature * options.coolingFactor;\n    // logDebug(\"New temperature: \" + layoutInfo.temperature);\n\n    if (layoutInfo.temperature < options.minTemp) {\n      // logDebug(\"Temperature drop below minimum threshold. Stopping computation in step \" + i);\n      return false;\n    }\n    return true;\n  };\n  var done = function done() {\n    if (options.animate === true || options.animate === false) {\n      refresh();\n\n      // Layout has finished\n      layout.one('layoutstop', options.stop);\n      layout.emit({\n        type: 'layoutstop',\n        layout: layout\n      });\n    } else {\n      var nodes = options.eles.nodes();\n      var getScaledPos = getScaleInBoundsFn(layoutInfo, options, nodes);\n      nodes.layoutPositions(layout, options, getScaledPos);\n    }\n  };\n  var i = 0;\n  var loopRet = true;\n  if (options.animate === true) {\n    var frame = function frame() {\n      var f = 0;\n      while (loopRet && f < options.refresh) {\n        loopRet = mainLoop(i);\n        i++;\n        f++;\n      }\n      if (!loopRet) {\n        // it's done\n        separateComponents(layoutInfo, options);\n        done();\n      } else {\n        var now = performanceNow();\n        if (now - startTime >= options.animationThreshold) {\n          refresh();\n        }\n        requestAnimationFrame(frame);\n      }\n    };\n    frame();\n  } else {\n    while (loopRet) {\n      loopRet = mainLoop(i);\n      i++;\n    }\n    separateComponents(layoutInfo, options);\n    done();\n  }\n  return this; // chaining\n};\n\n/**\n * @brief : called on continuous layouts to stop them before they finish\n */\nCoseLayout.prototype.stop = function () {\n  this.stopped = true;\n  if (this.thread) {\n    this.thread.stop();\n  }\n  this.emit('layoutstop');\n  return this; // chaining\n};\n\nCoseLayout.prototype.destroy = function () {\n  if (this.thread) {\n    this.thread.stop();\n  }\n  return this; // chaining\n};\n\n/**\n * @brief     : Creates an object which is contains all the data\n *              used in the layout process\n * @arg cy    : cytoscape.js object\n * @return    : layoutInfo object initialized\n */\nvar createLayoutInfo = function createLayoutInfo(cy, layout, options) {\n  // Shortcut\n  var edges = options.eles.edges();\n  var nodes = options.eles.nodes();\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  var layoutInfo = {\n    isCompound: cy.hasCompoundNodes(),\n    layoutNodes: [],\n    idToIndex: {},\n    nodeSize: nodes.size(),\n    graphSet: [],\n    indexToGraph: [],\n    layoutEdges: [],\n    edgeSize: edges.size(),\n    temperature: options.initialTemp,\n    clientWidth: bb.w,\n    clientHeight: bb.h,\n    boundingBox: bb\n  };\n  var components = options.eles.components();\n  var id2cmptId = {};\n  for (var i = 0; i < components.length; i++) {\n    var component = components[i];\n    for (var j = 0; j < component.length; j++) {\n      var node = component[j];\n      id2cmptId[node.id()] = i;\n    }\n  }\n\n  // Iterate over all nodes, creating layout nodes\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = nodes[i];\n    var nbb = n.layoutDimensions(options);\n    var tempNode = {};\n    tempNode.isLocked = n.locked();\n    tempNode.id = n.data('id');\n    tempNode.parentId = n.data('parent');\n    tempNode.cmptId = id2cmptId[n.id()];\n    tempNode.children = [];\n    tempNode.positionX = n.position('x');\n    tempNode.positionY = n.position('y');\n    tempNode.offsetX = 0;\n    tempNode.offsetY = 0;\n    tempNode.height = nbb.w;\n    tempNode.width = nbb.h;\n    tempNode.maxX = tempNode.positionX + tempNode.width / 2;\n    tempNode.minX = tempNode.positionX - tempNode.width / 2;\n    tempNode.maxY = tempNode.positionY + tempNode.height / 2;\n    tempNode.minY = tempNode.positionY - tempNode.height / 2;\n    tempNode.padLeft = parseFloat(n.style('padding'));\n    tempNode.padRight = parseFloat(n.style('padding'));\n    tempNode.padTop = parseFloat(n.style('padding'));\n    tempNode.padBottom = parseFloat(n.style('padding'));\n\n    // forces\n    tempNode.nodeRepulsion = fn$6(options.nodeRepulsion) ? options.nodeRepulsion(n) : options.nodeRepulsion;\n\n    // Add new node\n    layoutInfo.layoutNodes.push(tempNode);\n    // Add entry to id-index map\n    layoutInfo.idToIndex[tempNode.id] = i;\n  }\n\n  // Inline implementation of a queue, used for traversing the graph in BFS order\n  var queue = [];\n  var start = 0; // Points to the start the queue\n  var end = -1; // Points to the end of the queue\n\n  var tempGraph = [];\n\n  // Second pass to add child information and\n  // initialize queue for hierarchical traversal\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n    var p_id = n.parentId;\n    // Check if node n has a parent node\n    if (null != p_id) {\n      // Add node Id to parent's list of children\n      layoutInfo.layoutNodes[layoutInfo.idToIndex[p_id]].children.push(n.id);\n    } else {\n      // If a node doesn't have a parent, then it's in the root graph\n      queue[++end] = n.id;\n      tempGraph.push(n.id);\n    }\n  }\n\n  // Add root graph to graphSet\n  layoutInfo.graphSet.push(tempGraph);\n\n  // Traverse the graph, level by level,\n  while (start <= end) {\n    // Get the node to visit and remove it from queue\n    var node_id = queue[start++];\n    var node_ix = layoutInfo.idToIndex[node_id];\n    var node = layoutInfo.layoutNodes[node_ix];\n    var children = node.children;\n    if (children.length > 0) {\n      // Add children nodes as a new graph to graph set\n      layoutInfo.graphSet.push(children);\n      // Add children to que queue to be visited\n      for (var i = 0; i < children.length; i++) {\n        queue[++end] = children[i];\n      }\n    }\n  }\n\n  // Create indexToGraph map\n  for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n    var graph = layoutInfo.graphSet[i];\n    for (var j = 0; j < graph.length; j++) {\n      var index = layoutInfo.idToIndex[graph[j]];\n      layoutInfo.indexToGraph[index] = i;\n    }\n  }\n\n  // Iterate over all edges, creating Layout Edges\n  for (var i = 0; i < layoutInfo.edgeSize; i++) {\n    var e = edges[i];\n    var tempEdge = {};\n    tempEdge.id = e.data('id');\n    tempEdge.sourceId = e.data('source');\n    tempEdge.targetId = e.data('target');\n\n    // Compute ideal length\n    var idealLength = fn$6(options.idealEdgeLength) ? options.idealEdgeLength(e) : options.idealEdgeLength;\n    var elasticity = fn$6(options.edgeElasticity) ? options.edgeElasticity(e) : options.edgeElasticity;\n\n    // Check if it's an inter graph edge\n    var sourceIx = layoutInfo.idToIndex[tempEdge.sourceId];\n    var targetIx = layoutInfo.idToIndex[tempEdge.targetId];\n    var sourceGraph = layoutInfo.indexToGraph[sourceIx];\n    var targetGraph = layoutInfo.indexToGraph[targetIx];\n    if (sourceGraph != targetGraph) {\n      // Find lowest common graph ancestor\n      var lca = findLCA(tempEdge.sourceId, tempEdge.targetId, layoutInfo);\n\n      // Compute sum of node depths, relative to lca graph\n      var lcaGraph = layoutInfo.graphSet[lca];\n      var depth = 0;\n\n      // Source depth\n      var tempNode = layoutInfo.layoutNodes[sourceIx];\n      while (-1 === lcaGraph.indexOf(tempNode.id)) {\n        tempNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];\n        depth++;\n      }\n\n      // Target depth\n      tempNode = layoutInfo.layoutNodes[targetIx];\n      while (-1 === lcaGraph.indexOf(tempNode.id)) {\n        tempNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];\n        depth++;\n      }\n\n      // logDebug('LCA of nodes ' + tempEdge.sourceId + ' and ' + tempEdge.targetId +\n      //  \". Index: \" + lca + \" Contents: \" + lcaGraph.toString() +\n      //  \". Depth: \" + depth);\n\n      // Update idealLength\n      idealLength *= depth * options.nestingFactor;\n    }\n    tempEdge.idealLength = idealLength;\n    tempEdge.elasticity = elasticity;\n    layoutInfo.layoutEdges.push(tempEdge);\n  }\n\n  // Finally, return layoutInfo object\n  return layoutInfo;\n};\n\n/**\n * @brief : This function finds the index of the lowest common\n *          graph ancestor between 2 nodes in the subtree\n *          (from the graph hierarchy induced tree) whose\n *          root is graphIx\n *\n * @arg node1: node1's ID\n * @arg node2: node2's ID\n * @arg layoutInfo: layoutInfo object\n *\n */\nvar findLCA = function findLCA(node1, node2, layoutInfo) {\n  // Find their common ancester, starting from the root graph\n  var res = findLCA_aux(node1, node2, 0, layoutInfo);\n  if (2 > res.count) {\n    // If aux function couldn't find the common ancester,\n    // then it is the root graph\n    return 0;\n  } else {\n    return res.graph;\n  }\n};\n\n/**\n * @brief          : Auxiliary function used for LCA computation\n *\n * @arg node1      : node1's ID\n * @arg node2      : node2's ID\n * @arg graphIx    : subgraph index\n * @arg layoutInfo : layoutInfo object\n *\n * @return         : object of the form {count: X, graph: Y}, where:\n *                   X is the number of ancestors (max: 2) found in\n *                   graphIx (and it's subgraphs),\n *                   Y is the graph index of the lowest graph containing\n *                   all X nodes\n */\nvar findLCA_aux = function findLCA_aux(node1, node2, graphIx, layoutInfo) {\n  var graph = layoutInfo.graphSet[graphIx];\n  // If both nodes belongs to graphIx\n  if (-1 < graph.indexOf(node1) && -1 < graph.indexOf(node2)) {\n    return {\n      count: 2,\n      graph: graphIx\n    };\n  }\n\n  // Make recursive calls for all subgraphs\n  var c = 0;\n  for (var i = 0; i < graph.length; i++) {\n    var nodeId = graph[i];\n    var nodeIx = layoutInfo.idToIndex[nodeId];\n    var children = layoutInfo.layoutNodes[nodeIx].children;\n\n    // If the node has no child, skip it\n    if (0 === children.length) {\n      continue;\n    }\n    var childGraphIx = layoutInfo.indexToGraph[layoutInfo.idToIndex[children[0]]];\n    var result = findLCA_aux(node1, node2, childGraphIx, layoutInfo);\n    if (0 === result.count) {\n      // Neither node1 nor node2 are present in this subgraph\n      continue;\n    } else if (1 === result.count) {\n      // One of (node1, node2) is present in this subgraph\n      c++;\n      if (2 === c) {\n        // We've already found both nodes, no need to keep searching\n        break;\n      }\n    } else {\n      // Both nodes are present in this subgraph\n      return result;\n    }\n  }\n  return {\n    count: c,\n    graph: graphIx\n  };\n};\n\n/**\n * @brief: printsLayoutInfo into js console\n *         Only used for debbuging\n */\nvar printLayoutInfo; \n\n/**\n * @brief : Randomizes the position of all nodes\n */\nvar randomizePositions = function randomizePositions(layoutInfo, cy) {\n  var width = layoutInfo.clientWidth;\n  var height = layoutInfo.clientHeight;\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n\n    // No need to randomize compound nodes or locked nodes\n    if (0 === n.children.length && !n.isLocked) {\n      n.positionX = Math.random() * width;\n      n.positionY = Math.random() * height;\n    }\n  }\n};\nvar getScaleInBoundsFn = function getScaleInBoundsFn(layoutInfo, options, nodes) {\n  var bb = layoutInfo.boundingBox;\n  var coseBB = {\n    x1: Infinity,\n    x2: -Infinity,\n    y1: Infinity,\n    y2: -Infinity\n  };\n  if (options.boundingBox) {\n    nodes.forEach(function (node) {\n      var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[node.data('id')]];\n      coseBB.x1 = Math.min(coseBB.x1, lnode.positionX);\n      coseBB.x2 = Math.max(coseBB.x2, lnode.positionX);\n      coseBB.y1 = Math.min(coseBB.y1, lnode.positionY);\n      coseBB.y2 = Math.max(coseBB.y2, lnode.positionY);\n    });\n    coseBB.w = coseBB.x2 - coseBB.x1;\n    coseBB.h = coseBB.y2 - coseBB.y1;\n  }\n  return function (ele, i) {\n    var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[ele.data('id')]];\n    if (options.boundingBox) {\n      // then add extra bounding box constraint\n      var pctX = (lnode.positionX - coseBB.x1) / coseBB.w;\n      var pctY = (lnode.positionY - coseBB.y1) / coseBB.h;\n      return {\n        x: bb.x1 + pctX * bb.w,\n        y: bb.y1 + pctY * bb.h\n      };\n    } else {\n      return {\n        x: lnode.positionX,\n        y: lnode.positionY\n      };\n    }\n  };\n};\n\n/**\n * @brief          : Updates the positions of nodes in the network\n * @arg layoutInfo : LayoutInfo object\n * @arg cy         : Cytoscape object\n * @arg options    : Layout options\n */\nvar refreshPositions = function refreshPositions(layoutInfo, cy, options) {\n  // var s = 'Refreshing positions';\n  // logDebug(s);\n\n  var layout = options.layout;\n  var nodes = options.eles.nodes();\n  var getScaledPos = getScaleInBoundsFn(layoutInfo, options, nodes);\n  nodes.positions(getScaledPos);\n\n  // Trigger layoutReady only on first call\n  if (true !== layoutInfo.ready) {\n    // s = 'Triggering layoutready';\n    // logDebug(s);\n    layoutInfo.ready = true;\n    layout.one('layoutready', options.ready);\n    layout.emit({\n      type: 'layoutready',\n      layout: this\n    });\n  }\n};\n\n/**\n * @brief : Logs a debug message in JS console, if DEBUG is ON\n */\n// var logDebug = function(text) {\n//   if (DEBUG) {\n//     console.debug(text);\n//   }\n// };\n\n/**\n * @brief          : Performs one iteration of the physical simulation\n * @arg layoutInfo : LayoutInfo object already initialized\n * @arg cy         : Cytoscape object\n * @arg options    : Layout options\n */\nvar step = function step(layoutInfo, options, _step) {\n  // var s = \"\\n\\n###############################\";\n  // s += \"\\nSTEP: \" + step;\n  // s += \"\\n###############################\\n\";\n  // logDebug(s);\n\n  // Calculate node repulsions\n  calculateNodeForces(layoutInfo, options);\n  // Calculate edge forces\n  calculateEdgeForces(layoutInfo);\n  // Calculate gravity forces\n  calculateGravityForces(layoutInfo, options);\n  // Propagate forces from parent to child\n  propagateForces(layoutInfo);\n  // Update positions based on calculated forces\n  updatePositions(layoutInfo);\n};\n\n/**\n * @brief : Computes the node repulsion forces\n */\nvar calculateNodeForces = function calculateNodeForces(layoutInfo, options) {\n  // Go through each of the graphs in graphSet\n  // Nodes only repel each other if they belong to the same graph\n  // var s = 'calculateNodeForces';\n  // logDebug(s);\n  for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n    var graph = layoutInfo.graphSet[i];\n    var numNodes = graph.length;\n\n    // s = \"Set: \" + graph.toString();\n    // logDebug(s);\n\n    // Now get all the pairs of nodes\n    // Only get each pair once, (A, B) = (B, A)\n    for (var j = 0; j < numNodes; j++) {\n      var node1 = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];\n      for (var k = j + 1; k < numNodes; k++) {\n        var node2 = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[k]]];\n        nodeRepulsion(node1, node2, layoutInfo, options);\n      }\n    }\n  }\n};\nvar randomDistance = function randomDistance(max) {\n  return -max + 2 * max * Math.random();\n};\n\n/**\n * @brief : Compute the node repulsion forces between a pair of nodes\n */\nvar nodeRepulsion = function nodeRepulsion(node1, node2, layoutInfo, options) {\n  // var s = \"Node repulsion. Node1: \" + node1.id + \" Node2: \" + node2.id;\n\n  var cmptId1 = node1.cmptId;\n  var cmptId2 = node2.cmptId;\n  if (cmptId1 !== cmptId2 && !layoutInfo.isCompound) {\n    return;\n  }\n\n  // Get direction of line connecting both node centers\n  var directionX = node2.positionX - node1.positionX;\n  var directionY = node2.positionY - node1.positionY;\n  var maxRandDist = 1;\n  // s += \"\\ndirectionX: \" + directionX + \", directionY: \" + directionY;\n\n  // If both centers are the same, apply a random force\n  if (0 === directionX && 0 === directionY) {\n    directionX = randomDistance(maxRandDist);\n    directionY = randomDistance(maxRandDist);\n  }\n  var overlap = nodesOverlap(node1, node2, directionX, directionY);\n  if (overlap > 0) {\n    // s += \"\\nNodes DO overlap.\";\n    // s += \"\\nOverlap: \" + overlap;\n    // If nodes overlap, repulsion force is proportional\n    // to the overlap\n    var force = options.nodeOverlap * overlap;\n\n    // Compute the module and components of the force vector\n    var distance = Math.sqrt(directionX * directionX + directionY * directionY);\n    // s += \"\\nDistance: \" + distance;\n    var forceX = force * directionX / distance;\n    var forceY = force * directionY / distance;\n  } else {\n    // s += \"\\nNodes do NOT overlap.\";\n    // If there's no overlap, force is inversely proportional\n    // to squared distance\n\n    // Get clipping points for both nodes\n    var point1 = findClippingPoint(node1, directionX, directionY);\n    var point2 = findClippingPoint(node2, -1 * directionX, -1 * directionY);\n\n    // Use clipping points to compute distance\n    var distanceX = point2.x - point1.x;\n    var distanceY = point2.y - point1.y;\n    var distanceSqr = distanceX * distanceX + distanceY * distanceY;\n    var distance = Math.sqrt(distanceSqr);\n    // s += \"\\nDistance: \" + distance;\n\n    // Compute the module and components of the force vector\n    var force = (node1.nodeRepulsion + node2.nodeRepulsion) / distanceSqr;\n    var forceX = force * distanceX / distance;\n    var forceY = force * distanceY / distance;\n  }\n\n  // Apply force\n  if (!node1.isLocked) {\n    node1.offsetX -= forceX;\n    node1.offsetY -= forceY;\n  }\n  if (!node2.isLocked) {\n    node2.offsetX += forceX;\n    node2.offsetY += forceY;\n  }\n\n  // s += \"\\nForceX: \" + forceX + \" ForceY: \" + forceY;\n  // logDebug(s);\n\n  return;\n};\n\n/**\n * @brief  : Determines whether two nodes overlap or not\n * @return : Amount of overlapping (0 => no overlap)\n */\nvar nodesOverlap = function nodesOverlap(node1, node2, dX, dY) {\n  if (dX > 0) {\n    var overlapX = node1.maxX - node2.minX;\n  } else {\n    var overlapX = node2.maxX - node1.minX;\n  }\n  if (dY > 0) {\n    var overlapY = node1.maxY - node2.minY;\n  } else {\n    var overlapY = node2.maxY - node1.minY;\n  }\n  if (overlapX >= 0 && overlapY >= 0) {\n    return Math.sqrt(overlapX * overlapX + overlapY * overlapY);\n  } else {\n    return 0;\n  }\n};\n\n/**\n * @brief : Finds the point in which an edge (direction dX, dY) intersects\n *          the rectangular bounding box of it's source/target node\n */\nvar findClippingPoint = function findClippingPoint(node, dX, dY) {\n  // Shorcuts\n  var X = node.positionX;\n  var Y = node.positionY;\n  var H = node.height || 1;\n  var W = node.width || 1;\n  var dirSlope = dY / dX;\n  var nodeSlope = H / W;\n\n  // var s = 'Computing clipping point of node ' + node.id +\n  //   \" . Height:  \" + H + \", Width: \" + W +\n  //   \"\\nDirection \" + dX + \", \" + dY;\n  //\n  // Compute intersection\n  var res = {};\n\n  // Case: Vertical direction (up)\n  if (0 === dX && 0 < dY) {\n    res.x = X;\n    // s += \"\\nUp direction\";\n    res.y = Y + H / 2;\n    return res;\n  }\n\n  // Case: Vertical direction (down)\n  if (0 === dX && 0 > dY) {\n    res.x = X;\n    res.y = Y + H / 2;\n    // s += \"\\nDown direction\";\n\n    return res;\n  }\n\n  // Case: Intersects the right border\n  if (0 < dX && -1 * nodeSlope <= dirSlope && dirSlope <= nodeSlope) {\n    res.x = X + W / 2;\n    res.y = Y + W * dY / 2 / dX;\n    // s += \"\\nRightborder\";\n\n    return res;\n  }\n\n  // Case: Intersects the left border\n  if (0 > dX && -1 * nodeSlope <= dirSlope && dirSlope <= nodeSlope) {\n    res.x = X - W / 2;\n    res.y = Y - W * dY / 2 / dX;\n    // s += \"\\nLeftborder\";\n\n    return res;\n  }\n\n  // Case: Intersects the top border\n  if (0 < dY && (dirSlope <= -1 * nodeSlope || dirSlope >= nodeSlope)) {\n    res.x = X + H * dX / 2 / dY;\n    res.y = Y + H / 2;\n    // s += \"\\nTop border\";\n\n    return res;\n  }\n\n  // Case: Intersects the bottom border\n  if (0 > dY && (dirSlope <= -1 * nodeSlope || dirSlope >= nodeSlope)) {\n    res.x = X - H * dX / 2 / dY;\n    res.y = Y - H / 2;\n    // s += \"\\nBottom border\";\n\n    return res;\n  }\n\n  // s += \"\\nClipping point found at \" + res.x + \", \" + res.y;\n  // logDebug(s);\n  return res;\n};\n\n/**\n * @brief : Calculates all edge forces\n */\nvar calculateEdgeForces = function calculateEdgeForces(layoutInfo, options) {\n  // Iterate over all edges\n  for (var i = 0; i < layoutInfo.edgeSize; i++) {\n    // Get edge, source & target nodes\n    var edge = layoutInfo.layoutEdges[i];\n    var sourceIx = layoutInfo.idToIndex[edge.sourceId];\n    var source = layoutInfo.layoutNodes[sourceIx];\n    var targetIx = layoutInfo.idToIndex[edge.targetId];\n    var target = layoutInfo.layoutNodes[targetIx];\n\n    // Get direction of line connecting both node centers\n    var directionX = target.positionX - source.positionX;\n    var directionY = target.positionY - source.positionY;\n\n    // If both centers are the same, do nothing.\n    // A random force has already been applied as node repulsion\n    if (0 === directionX && 0 === directionY) {\n      continue;\n    }\n\n    // Get clipping points for both nodes\n    var point1 = findClippingPoint(source, directionX, directionY);\n    var point2 = findClippingPoint(target, -1 * directionX, -1 * directionY);\n    var lx = point2.x - point1.x;\n    var ly = point2.y - point1.y;\n    var l = Math.sqrt(lx * lx + ly * ly);\n    var force = Math.pow(edge.idealLength - l, 2) / edge.elasticity;\n    if (0 !== l) {\n      var forceX = force * lx / l;\n      var forceY = force * ly / l;\n    } else {\n      var forceX = 0;\n      var forceY = 0;\n    }\n\n    // Add this force to target and source nodes\n    if (!source.isLocked) {\n      source.offsetX += forceX;\n      source.offsetY += forceY;\n    }\n    if (!target.isLocked) {\n      target.offsetX -= forceX;\n      target.offsetY -= forceY;\n    }\n\n    // var s = 'Edge force between nodes ' + source.id + ' and ' + target.id;\n    // s += \"\\nDistance: \" + l + \" Force: (\" + forceX + \", \" + forceY + \")\";\n    // logDebug(s);\n  }\n};\n\n/**\n * @brief : Computes gravity forces for all nodes\n */\nvar calculateGravityForces = function calculateGravityForces(layoutInfo, options) {\n  if (options.gravity === 0) {\n    return;\n  }\n  var distThreshold = 1;\n\n  // var s = 'calculateGravityForces';\n  // logDebug(s);\n  for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n    var graph = layoutInfo.graphSet[i];\n    var numNodes = graph.length;\n\n    // s = \"Set: \" + graph.toString();\n    // logDebug(s);\n\n    // Compute graph center\n    if (0 === i) {\n      var centerX = layoutInfo.clientHeight / 2;\n      var centerY = layoutInfo.clientWidth / 2;\n    } else {\n      // Get Parent node for this graph, and use its position as center\n      var temp = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[0]]];\n      var parent = layoutInfo.layoutNodes[layoutInfo.idToIndex[temp.parentId]];\n      var centerX = parent.positionX;\n      var centerY = parent.positionY;\n    }\n    // s = \"Center found at: \" + centerX + \", \" + centerY;\n    // logDebug(s);\n\n    // Apply force to all nodes in graph\n    for (var j = 0; j < numNodes; j++) {\n      var node = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];\n      // s = \"Node: \" + node.id;\n\n      if (node.isLocked) {\n        continue;\n      }\n      var dx = centerX - node.positionX;\n      var dy = centerY - node.positionY;\n      var d = Math.sqrt(dx * dx + dy * dy);\n      if (d > distThreshold) {\n        var fx = options.gravity * dx / d;\n        var fy = options.gravity * dy / d;\n        node.offsetX += fx;\n        node.offsetY += fy;\n        // s += \": Applied force: \" + fx + \", \" + fy;\n      }\n      // logDebug(s);\n    }\n  }\n};\n\n/**\n * @brief          : This function propagates the existing offsets from\n *                   parent nodes to its descendents.\n * @arg layoutInfo : layoutInfo Object\n * @arg cy         : cytoscape Object\n * @arg options    : Layout options\n */\nvar propagateForces = function propagateForces(layoutInfo, options) {\n  // Inline implementation of a queue, used for traversing the graph in BFS order\n  var queue = [];\n  var start = 0; // Points to the start the queue\n  var end = -1; // Points to the end of the queue\n\n  // logDebug('propagateForces');\n\n  // Start by visiting the nodes in the root graph\n  queue.push.apply(queue, layoutInfo.graphSet[0]);\n  end += layoutInfo.graphSet[0].length;\n\n  // Traverse the graph, level by level,\n  while (start <= end) {\n    // Get the node to visit and remove it from queue\n    var nodeId = queue[start++];\n    var nodeIndex = layoutInfo.idToIndex[nodeId];\n    var node = layoutInfo.layoutNodes[nodeIndex];\n    var children = node.children;\n\n    // We only need to process the node if it's compound\n    if (0 < children.length && !node.isLocked) {\n      var offX = node.offsetX;\n      var offY = node.offsetY;\n\n      // var s = \"Propagating offset from parent node : \" + node.id +\n      //   \". OffsetX: \" + offX + \". OffsetY: \" + offY;\n      // s += \"\\n Children: \" + children.toString();\n      // logDebug(s);\n\n      for (var i = 0; i < children.length; i++) {\n        var childNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[children[i]]];\n        // Propagate offset\n        childNode.offsetX += offX;\n        childNode.offsetY += offY;\n        // Add children to queue to be visited\n        queue[++end] = children[i];\n      }\n\n      // Reset parent offsets\n      node.offsetX = 0;\n      node.offsetY = 0;\n    }\n  }\n};\n\n/**\n * @brief : Updates the layout model positions, based on\n *          the accumulated forces\n */\nvar updatePositions = function updatePositions(layoutInfo, options) {\n  // var s = 'Updating positions';\n  // logDebug(s);\n\n  // Reset boundaries for compound nodes\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n    if (0 < n.children.length) {\n      // logDebug(\"Resetting boundaries of compound node: \" + n.id);\n      n.maxX = undefined;\n      n.minX = undefined;\n      n.maxY = undefined;\n      n.minY = undefined;\n    }\n  }\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n    if (0 < n.children.length || n.isLocked) {\n      // No need to set compound or locked node position\n      // logDebug(\"Skipping position update of node: \" + n.id);\n      continue;\n    }\n    // s = \"Node: \" + n.id + \" Previous position: (\" +\n    // n.positionX + \", \" + n.positionY + \").\";\n\n    // Limit displacement in order to improve stability\n    var tempForce = limitForce(n.offsetX, n.offsetY, layoutInfo.temperature);\n    n.positionX += tempForce.x;\n    n.positionY += tempForce.y;\n    n.offsetX = 0;\n    n.offsetY = 0;\n    n.minX = n.positionX - n.width;\n    n.maxX = n.positionX + n.width;\n    n.minY = n.positionY - n.height;\n    n.maxY = n.positionY + n.height;\n    // s += \" New Position: (\" + n.positionX + \", \" + n.positionY + \").\";\n    // logDebug(s);\n\n    // Update ancestry boudaries\n    updateAncestryBoundaries(n, layoutInfo);\n  }\n\n  // Update size, position of compund nodes\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n    if (0 < n.children.length && !n.isLocked) {\n      n.positionX = (n.maxX + n.minX) / 2;\n      n.positionY = (n.maxY + n.minY) / 2;\n      n.width = n.maxX - n.minX;\n      n.height = n.maxY - n.minY;\n      // s = \"Updating position, size of compound node \" + n.id;\n      // s += \"\\nPositionX: \" + n.positionX + \", PositionY: \" + n.positionY;\n      // s += \"\\nWidth: \" + n.width + \", Height: \" + n.height;\n      // logDebug(s);\n    }\n  }\n};\n\n/**\n * @brief : Limits a force (forceX, forceY) to be not\n *          greater (in modulo) than max.\n 8          Preserves force direction.\n  */\nvar limitForce = function limitForce(forceX, forceY, max) {\n  // var s = \"Limiting force: (\" + forceX + \", \" + forceY + \"). Max: \" + max;\n  var force = Math.sqrt(forceX * forceX + forceY * forceY);\n  if (force > max) {\n    var res = {\n      x: max * forceX / force,\n      y: max * forceY / force\n    };\n  } else {\n    var res = {\n      x: forceX,\n      y: forceY\n    };\n  }\n\n  // s += \".\\nResult: (\" + res.x + \", \" + res.y + \")\";\n  // logDebug(s);\n\n  return res;\n};\n\n/**\n * @brief : Function used for keeping track of compound node\n *          sizes, since they should bound all their subnodes.\n */\nvar updateAncestryBoundaries = function updateAncestryBoundaries(node, layoutInfo) {\n  // var s = \"Propagating new position/size of node \" + node.id;\n  var parentId = node.parentId;\n  if (null == parentId) {\n    // If there's no parent, we are done\n    // s += \". No parent node.\";\n    // logDebug(s);\n    return;\n  }\n\n  // Get Parent Node\n  var p = layoutInfo.layoutNodes[layoutInfo.idToIndex[parentId]];\n  var flag = false;\n\n  // MaxX\n  if (null == p.maxX || node.maxX + p.padRight > p.maxX) {\n    p.maxX = node.maxX + p.padRight;\n    flag = true;\n    // s += \"\\nNew maxX for parent node \" + p.id + \": \" + p.maxX;\n  }\n\n  // MinX\n  if (null == p.minX || node.minX - p.padLeft < p.minX) {\n    p.minX = node.minX - p.padLeft;\n    flag = true;\n    // s += \"\\nNew minX for parent node \" + p.id + \": \" + p.minX;\n  }\n\n  // MaxY\n  if (null == p.maxY || node.maxY + p.padBottom > p.maxY) {\n    p.maxY = node.maxY + p.padBottom;\n    flag = true;\n    // s += \"\\nNew maxY for parent node \" + p.id + \": \" + p.maxY;\n  }\n\n  // MinY\n  if (null == p.minY || node.minY - p.padTop < p.minY) {\n    p.minY = node.minY - p.padTop;\n    flag = true;\n    // s += \"\\nNew minY for parent node \" + p.id + \": \" + p.minY;\n  }\n\n  // If updated boundaries, propagate changes upward\n  if (flag) {\n    // logDebug(s);\n    return updateAncestryBoundaries(p, layoutInfo);\n  }\n\n  // s += \". No changes in boundaries/position of parent node \" + p.id;\n  // logDebug(s);\n  return;\n};\nvar separateComponents = function separateComponents(layoutInfo, options) {\n  var nodes = layoutInfo.layoutNodes;\n  var components = [];\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    var cid = node.cmptId;\n    var component = components[cid] = components[cid] || [];\n    component.push(node);\n  }\n  var totalA = 0;\n  for (var i = 0; i < components.length; i++) {\n    var c = components[i];\n    if (!c) {\n      continue;\n    }\n    c.x1 = Infinity;\n    c.x2 = -Infinity;\n    c.y1 = Infinity;\n    c.y2 = -Infinity;\n    for (var j = 0; j < c.length; j++) {\n      var n = c[j];\n      c.x1 = Math.min(c.x1, n.positionX - n.width / 2);\n      c.x2 = Math.max(c.x2, n.positionX + n.width / 2);\n      c.y1 = Math.min(c.y1, n.positionY - n.height / 2);\n      c.y2 = Math.max(c.y2, n.positionY + n.height / 2);\n    }\n    c.w = c.x2 - c.x1;\n    c.h = c.y2 - c.y1;\n    totalA += c.w * c.h;\n  }\n  components.sort(function (c1, c2) {\n    return c2.w * c2.h - c1.w * c1.h;\n  });\n  var x = 0;\n  var y = 0;\n  var usedW = 0;\n  var rowH = 0;\n  var maxRowW = Math.sqrt(totalA) * layoutInfo.clientWidth / layoutInfo.clientHeight;\n  for (var i = 0; i < components.length; i++) {\n    var c = components[i];\n    if (!c) {\n      continue;\n    }\n    for (var j = 0; j < c.length; j++) {\n      var n = c[j];\n      if (!n.isLocked) {\n        n.positionX += x - c.x1;\n        n.positionY += y - c.y1;\n      }\n    }\n    x += c.w + options.componentSpacing;\n    usedW += c.w + options.componentSpacing;\n    rowH = Math.max(rowH, c.h);\n    if (usedW > maxRowW) {\n      y += rowH + options.componentSpacing;\n      x = 0;\n      usedW = 0;\n      rowH = 0;\n    }\n  }\n};\n\nvar defaults$3 = {\n  fit: true,\n  // whether to fit the viewport to the graph\n  padding: 30,\n  // padding used on fit\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true,\n  // prevents node overlap, may overflow boundingBox if not enough space\n  avoidOverlapPadding: 10,\n  // extra spacing around nodes when avoidOverlap: true\n  nodeDimensionsIncludeLabels: false,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  spacingFactor: undefined,\n  // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  condense: false,\n  // uses all available space on false, uses minimal space on true\n  rows: undefined,\n  // force num of rows in the grid\n  cols: undefined,\n  // force num of columns in the grid\n  position: function position(node) {},\n  // returns { row, col } for element\n  sort: undefined,\n  // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n};\n\nfunction GridLayout(options) {\n  this.options = extend({}, defaults$3, options);\n}\nGridLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n  var cy = params.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n  if (options.sort) {\n    nodes = nodes.sort(options.sort);\n  }\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  if (bb.h === 0 || bb.w === 0) {\n    eles.nodes().layoutPositions(this, options, function (ele) {\n      return {\n        x: bb.x1,\n        y: bb.y1\n      };\n    });\n  } else {\n    // width/height * splits^2 = cells where splits is number of times to split width\n    var cells = nodes.size();\n    var splits = Math.sqrt(cells * bb.h / bb.w);\n    var rows = Math.round(splits);\n    var cols = Math.round(bb.w / bb.h * splits);\n    var small = function small(val) {\n      if (val == null) {\n        return Math.min(rows, cols);\n      } else {\n        var min = Math.min(rows, cols);\n        if (min == rows) {\n          rows = val;\n        } else {\n          cols = val;\n        }\n      }\n    };\n    var large = function large(val) {\n      if (val == null) {\n        return Math.max(rows, cols);\n      } else {\n        var max = Math.max(rows, cols);\n        if (max == rows) {\n          rows = val;\n        } else {\n          cols = val;\n        }\n      }\n    };\n    var oRows = options.rows;\n    var oCols = options.cols != null ? options.cols : options.columns;\n\n    // if rows or columns were set in options, use those values\n    if (oRows != null && oCols != null) {\n      rows = oRows;\n      cols = oCols;\n    } else if (oRows != null && oCols == null) {\n      rows = oRows;\n      cols = Math.ceil(cells / rows);\n    } else if (oRows == null && oCols != null) {\n      cols = oCols;\n      rows = Math.ceil(cells / cols);\n    }\n\n    // otherwise use the automatic values and adjust accordingly\n\n    // if rounding was up, see if we can reduce rows or columns\n    else if (cols * rows > cells) {\n      var sm = small();\n      var lg = large();\n\n      // reducing the small side takes away the most cells, so try it first\n      if ((sm - 1) * lg >= cells) {\n        small(sm - 1);\n      } else if ((lg - 1) * sm >= cells) {\n        large(lg - 1);\n      }\n    } else {\n      // if rounding was too low, add rows or columns\n      while (cols * rows < cells) {\n        var _sm = small();\n        var _lg = large();\n\n        // try to add to larger side first (adds less in multiplication)\n        if ((_lg + 1) * _sm >= cells) {\n          large(_lg + 1);\n        } else {\n          small(_sm + 1);\n        }\n      }\n    }\n    var cellWidth = bb.w / cols;\n    var cellHeight = bb.h / rows;\n    if (options.condense) {\n      cellWidth = 0;\n      cellHeight = 0;\n    }\n    if (options.avoidOverlap) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var pos = node._private.position;\n        if (pos.x == null || pos.y == null) {\n          // for bb\n          pos.x = 0;\n          pos.y = 0;\n        }\n        var nbb = node.layoutDimensions(options);\n        var p = options.avoidOverlapPadding;\n        var w = nbb.w + p;\n        var h = nbb.h + p;\n        cellWidth = Math.max(cellWidth, w);\n        cellHeight = Math.max(cellHeight, h);\n      }\n    }\n    var cellUsed = {}; // e.g. 'c-0-2' => true\n\n    var used = function used(row, col) {\n      return cellUsed['c-' + row + '-' + col] ? true : false;\n    };\n    var use = function use(row, col) {\n      cellUsed['c-' + row + '-' + col] = true;\n    };\n\n    // to keep track of current cell position\n    var row = 0;\n    var col = 0;\n    var moveToNextCell = function moveToNextCell() {\n      col++;\n      if (col >= cols) {\n        col = 0;\n        row++;\n      }\n    };\n\n    // get a cache of all the manual positions\n    var id2manPos = {};\n    for (var _i = 0; _i < nodes.length; _i++) {\n      var _node = nodes[_i];\n      var rcPos = options.position(_node);\n      if (rcPos && (rcPos.row !== undefined || rcPos.col !== undefined)) {\n        // must have at least row or col def'd\n        var _pos = {\n          row: rcPos.row,\n          col: rcPos.col\n        };\n        if (_pos.col === undefined) {\n          // find unused col\n          _pos.col = 0;\n          while (used(_pos.row, _pos.col)) {\n            _pos.col++;\n          }\n        } else if (_pos.row === undefined) {\n          // find unused row\n          _pos.row = 0;\n          while (used(_pos.row, _pos.col)) {\n            _pos.row++;\n          }\n        }\n        id2manPos[_node.id()] = _pos;\n        use(_pos.row, _pos.col);\n      }\n    }\n    var getPos = function getPos(element, i) {\n      var x, y;\n      if (element.locked() || element.isParent()) {\n        return false;\n      }\n\n      // see if we have a manual position set\n      var rcPos = id2manPos[element.id()];\n      if (rcPos) {\n        x = rcPos.col * cellWidth + cellWidth / 2 + bb.x1;\n        y = rcPos.row * cellHeight + cellHeight / 2 + bb.y1;\n      } else {\n        // otherwise set automatically\n\n        while (used(row, col)) {\n          moveToNextCell();\n        }\n        x = col * cellWidth + cellWidth / 2 + bb.x1;\n        y = row * cellHeight + cellHeight / 2 + bb.y1;\n        use(row, col);\n        moveToNextCell();\n      }\n      return {\n        x: x,\n        y: y\n      };\n    };\n    nodes.layoutPositions(this, options, getPos);\n  }\n  return this; // chaining\n};\n\n// default layout options\nvar defaults$2 = {\n  ready: function ready() {},\n  // on layoutready\n  stop: function stop() {} // on layoutstop\n};\n\n// constructor\n// options : object containing layout options\nfunction NullLayout(options) {\n  this.options = extend({}, defaults$2, options);\n}\n\n// runs the layout\nNullLayout.prototype.run = function () {\n  var options = this.options;\n  var eles = options.eles; // elements to consider in the layout\n  var layout = this;\n\n  // cy is automatically populated for us in the constructor\n  // (disable eslint for next line as this serves as example layout code to external developers)\n  // eslint-disable-next-line no-unused-vars\n  options.cy;\n  layout.emit('layoutstart');\n\n  // puts all nodes at (0, 0)\n  // n.b. most layouts would use layoutPositions(), instead of positions() and manual events\n  eles.nodes().positions(function () {\n    return {\n      x: 0,\n      y: 0\n    };\n  });\n\n  // trigger layoutready when each node has had its position set at least once\n  layout.one('layoutready', options.ready);\n  layout.emit('layoutready');\n\n  // trigger layoutstop when the layout stops (e.g. finishes)\n  layout.one('layoutstop', options.stop);\n  layout.emit('layoutstop');\n  return this; // chaining\n};\n\n// called on continuous layouts to stop them before they finish\nNullLayout.prototype.stop = function () {\n  return this; // chaining\n};\n\nvar defaults$1 = {\n  positions: undefined,\n  // map of (node id) => (position obj); or function(node){ return somPos; }\n  zoom: undefined,\n  // the zoom level to set (prob want fit = false if set)\n  pan: undefined,\n  // the pan level to set (prob want fit = false if set)\n  fit: true,\n  // whether to fit to viewport\n  padding: 30,\n  // padding on fit\n  spacingFactor: undefined,\n  // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts\n};\n\nfunction PresetLayout(options) {\n  this.options = extend({}, defaults$1, options);\n}\nPresetLayout.prototype.run = function () {\n  var options = this.options;\n  var eles = options.eles;\n  var nodes = eles.nodes();\n  var posIsFn = fn$6(options.positions);\n  function getPosition(node) {\n    if (options.positions == null) {\n      return copyPosition(node.position());\n    }\n    if (posIsFn) {\n      return options.positions(node);\n    }\n    var pos = options.positions[node._private.data.id];\n    if (pos == null) {\n      return null;\n    }\n    return pos;\n  }\n  nodes.layoutPositions(this, options, function (node, i) {\n    var position = getPosition(node);\n    if (node.locked() || position == null) {\n      return false;\n    }\n    return position;\n  });\n  return this; // chaining\n};\n\nvar defaults = {\n  fit: true,\n  // whether to fit to viewport\n  padding: 30,\n  // fit padding\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n};\n\nfunction RandomLayout(options) {\n  this.options = extend({}, defaults, options);\n}\nRandomLayout.prototype.run = function () {\n  var options = this.options;\n  var cy = options.cy;\n  var eles = options.eles;\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  var getPos = function getPos(node, i) {\n    return {\n      x: bb.x1 + Math.round(Math.random() * bb.w),\n      y: bb.y1 + Math.round(Math.random() * bb.h)\n    };\n  };\n  eles.nodes().layoutPositions(this, options, getPos);\n  return this; // chaining\n};\n\nvar layout = [{\n  name: 'breadthfirst',\n  impl: BreadthFirstLayout\n}, {\n  name: 'circle',\n  impl: CircleLayout\n}, {\n  name: 'concentric',\n  impl: ConcentricLayout\n}, {\n  name: 'cose',\n  impl: CoseLayout\n}, {\n  name: 'grid',\n  impl: GridLayout\n}, {\n  name: 'null',\n  impl: NullLayout\n}, {\n  name: 'preset',\n  impl: PresetLayout\n}, {\n  name: 'random',\n  impl: RandomLayout\n}];\n\nfunction NullRenderer(options) {\n  this.options = options;\n  this.notifications = 0; // for testing\n}\n\nvar noop = function noop() {};\nvar throwImgErr = function throwImgErr() {\n  throw new Error('A headless instance can not render images');\n};\nNullRenderer.prototype = {\n  recalculateRenderedStyle: noop,\n  notify: function notify() {\n    this.notifications++;\n  },\n  init: noop,\n  isHeadless: function isHeadless() {\n    return true;\n  },\n  png: throwImgErr,\n  jpg: throwImgErr\n};\n\nvar BRp$f = {};\nBRp$f.arrowShapeWidth = 0.3;\nBRp$f.registerArrowShapes = function () {\n  var arrowShapes = this.arrowShapes = {};\n  var renderer = this;\n\n  // Contract for arrow shapes:\n  // 0, 0 is arrow tip\n  // (0, 1) is direction towards node\n  // (1, 0) is right\n  //\n  // functional api:\n  // collide: check x, y in shape\n  // roughCollide: called before collide, no false negatives\n  // draw: draw\n  // spacing: dist(arrowTip, nodeBoundary)\n  // gap: dist(edgeTip, nodeBoundary), edgeTip may != arrowTip\n\n  var bbCollide = function bbCollide(x, y, size, angle, translation, edgeWidth, padding) {\n    var x1 = translation.x - size / 2 - padding;\n    var x2 = translation.x + size / 2 + padding;\n    var y1 = translation.y - size / 2 - padding;\n    var y2 = translation.y + size / 2 + padding;\n    var inside = x1 <= x && x <= x2 && y1 <= y && y <= y2;\n    return inside;\n  };\n  var transform = function transform(x, y, size, angle, translation) {\n    var xRotated = x * Math.cos(angle) - y * Math.sin(angle);\n    var yRotated = x * Math.sin(angle) + y * Math.cos(angle);\n    var xScaled = xRotated * size;\n    var yScaled = yRotated * size;\n    var xTranslated = xScaled + translation.x;\n    var yTranslated = yScaled + translation.y;\n    return {\n      x: xTranslated,\n      y: yTranslated\n    };\n  };\n  var transformPoints = function transformPoints(pts, size, angle, translation) {\n    var retPts = [];\n    for (var i = 0; i < pts.length; i += 2) {\n      var x = pts[i];\n      var y = pts[i + 1];\n      retPts.push(transform(x, y, size, angle, translation));\n    }\n    return retPts;\n  };\n  var pointsToArr = function pointsToArr(pts) {\n    var ret = [];\n    for (var i = 0; i < pts.length; i++) {\n      var p = pts[i];\n      ret.push(p.x, p.y);\n    }\n    return ret;\n  };\n  var standardGap = function standardGap(edge) {\n    return edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').pfValue * 2;\n  };\n  var defineArrowShape = function defineArrowShape(name, defn) {\n    if (string(defn)) {\n      defn = arrowShapes[defn];\n    }\n    arrowShapes[name] = extend({\n      name: name,\n      points: [-0.15, -0.3, 0.15, -0.3, 0.15, 0.3, -0.15, 0.3],\n      collide: function collide(x, y, size, angle, translation, padding) {\n        var points = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n        var inside = pointInsidePolygonPoints(x, y, points);\n        return inside;\n      },\n      roughCollide: bbCollide,\n      draw: function draw(context, size, angle, translation) {\n        var points = transformPoints(this.points, size, angle, translation);\n        renderer.arrowShapeImpl('polygon')(context, points);\n      },\n      spacing: function spacing(edge) {\n        return 0;\n      },\n      gap: standardGap\n    }, defn);\n  };\n  defineArrowShape('none', {\n    collide: falsify,\n    roughCollide: falsify,\n    draw: noop$1,\n    spacing: zeroify,\n    gap: zeroify\n  });\n  defineArrowShape('triangle', {\n    points: [-0.15, -0.3, 0, 0, 0.15, -0.3]\n  });\n  defineArrowShape('arrow', 'triangle');\n  defineArrowShape('triangle-backcurve', {\n    points: arrowShapes['triangle'].points,\n    controlPoint: [0, -0.15],\n    roughCollide: bbCollide,\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var ptsTrans = transformPoints(this.points, size, angle, translation);\n      var ctrlPt = this.controlPoint;\n      var ctrlPtTrans = transform(ctrlPt[0], ctrlPt[1], size, angle, translation);\n      renderer.arrowShapeImpl(this.name)(context, ptsTrans, ctrlPtTrans);\n    },\n    gap: function gap(edge) {\n      return standardGap(edge) * 0.8;\n    }\n  });\n  defineArrowShape('triangle-tee', {\n    points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0],\n    pointsTee: [-0.15, -0.4, -0.15, -0.5, 0.15, -0.5, 0.15, -0.4],\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n      var teePts = pointsToArr(transformPoints(this.pointsTee, size + 2 * padding, angle, translation));\n      var inside = pointInsidePolygonPoints(x, y, triPts) || pointInsidePolygonPoints(x, y, teePts);\n      return inside;\n    },\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var triPts = transformPoints(this.points, size, angle, translation);\n      var teePts = transformPoints(this.pointsTee, size, angle, translation);\n      renderer.arrowShapeImpl(this.name)(context, triPts, teePts);\n    }\n  });\n  defineArrowShape('circle-triangle', {\n    radius: 0.15,\n    pointsTr: [0, -0.15, 0.15, -0.45, -0.15, -0.45, 0, -0.15],\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var t = translation;\n      var circleInside = Math.pow(t.x - x, 2) + Math.pow(t.y - y, 2) <= Math.pow((size + 2 * padding) * this.radius, 2);\n      var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n      return pointInsidePolygonPoints(x, y, triPts) || circleInside;\n    },\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var triPts = transformPoints(this.pointsTr, size, angle, translation);\n      renderer.arrowShapeImpl(this.name)(context, triPts, translation.x, translation.y, this.radius * size);\n    },\n    spacing: function spacing(edge) {\n      return renderer.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.radius;\n    }\n  });\n  defineArrowShape('triangle-cross', {\n    points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0],\n    baseCrossLinePts: [-0.15, -0.4,\n    // first half of the rectangle\n    -0.15, -0.4, 0.15, -0.4,\n    // second half of the rectangle\n    0.15, -0.4],\n    crossLinePts: function crossLinePts(size, edgeWidth) {\n      // shift points so that the distance between the cross points matches edge width\n      var p = this.baseCrossLinePts.slice();\n      var shiftFactor = edgeWidth / size;\n      var y0 = 3;\n      var y1 = 5;\n      p[y0] = p[y0] - shiftFactor;\n      p[y1] = p[y1] - shiftFactor;\n      return p;\n    },\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n      var teePts = pointsToArr(transformPoints(this.crossLinePts(size, edgeWidth), size + 2 * padding, angle, translation));\n      var inside = pointInsidePolygonPoints(x, y, triPts) || pointInsidePolygonPoints(x, y, teePts);\n      return inside;\n    },\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var triPts = transformPoints(this.points, size, angle, translation);\n      var crossLinePts = transformPoints(this.crossLinePts(size, edgeWidth), size, angle, translation);\n      renderer.arrowShapeImpl(this.name)(context, triPts, crossLinePts);\n    }\n  });\n  defineArrowShape('vee', {\n    points: [-0.15, -0.3, 0, 0, 0.15, -0.3, 0, -0.15],\n    gap: function gap(edge) {\n      return standardGap(edge) * 0.525;\n    }\n  });\n  defineArrowShape('circle', {\n    radius: 0.15,\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var t = translation;\n      var inside = Math.pow(t.x - x, 2) + Math.pow(t.y - y, 2) <= Math.pow((size + 2 * padding) * this.radius, 2);\n      return inside;\n    },\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      renderer.arrowShapeImpl(this.name)(context, translation.x, translation.y, this.radius * size);\n    },\n    spacing: function spacing(edge) {\n      return renderer.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.radius;\n    }\n  });\n  defineArrowShape('tee', {\n    points: [-0.15, 0, -0.15, -0.1, 0.15, -0.1, 0.15, 0],\n    spacing: function spacing(edge) {\n      return 1;\n    },\n    gap: function gap(edge) {\n      return 1;\n    }\n  });\n  defineArrowShape('square', {\n    points: [-0.15, 0.00, 0.15, 0.00, 0.15, -0.3, -0.15, -0.3]\n  });\n  defineArrowShape('diamond', {\n    points: [-0.15, -0.15, 0, -0.3, 0.15, -0.15, 0, 0],\n    gap: function gap(edge) {\n      return edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').value;\n    }\n  });\n  defineArrowShape('chevron', {\n    points: [0, 0, -0.15, -0.15, -0.1, -0.2, 0, -0.1, 0.1, -0.2, 0.15, -0.15],\n    gap: function gap(edge) {\n      return 0.95 * edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').value;\n    }\n  });\n};\n\nvar BRp$e = {};\n\n// Project mouse\nBRp$e.projectIntoViewport = function (clientX, clientY) {\n  var cy = this.cy;\n  var offsets = this.findContainerClientCoords();\n  var offsetLeft = offsets[0];\n  var offsetTop = offsets[1];\n  var scale = offsets[4];\n  var pan = cy.pan();\n  var zoom = cy.zoom();\n  var x = ((clientX - offsetLeft) / scale - pan.x) / zoom;\n  var y = ((clientY - offsetTop) / scale - pan.y) / zoom;\n  return [x, y];\n};\nBRp$e.findContainerClientCoords = function () {\n  if (this.containerBB) {\n    return this.containerBB;\n  }\n  var container = this.container;\n  var rect = container.getBoundingClientRect();\n  var style = this.cy.window().getComputedStyle(container);\n  var styleValue = function styleValue(name) {\n    return parseFloat(style.getPropertyValue(name));\n  };\n  var padding = {\n    left: styleValue('padding-left'),\n    right: styleValue('padding-right'),\n    top: styleValue('padding-top'),\n    bottom: styleValue('padding-bottom')\n  };\n  var border = {\n    left: styleValue('border-left-width'),\n    right: styleValue('border-right-width'),\n    top: styleValue('border-top-width'),\n    bottom: styleValue('border-bottom-width')\n  };\n  var clientWidth = container.clientWidth;\n  var clientHeight = container.clientHeight;\n  var paddingHor = padding.left + padding.right;\n  var paddingVer = padding.top + padding.bottom;\n  var borderHor = border.left + border.right;\n  var scale = rect.width / (clientWidth + borderHor);\n  var unscaledW = clientWidth - paddingHor;\n  var unscaledH = clientHeight - paddingVer;\n  var left = rect.left + padding.left + border.left;\n  var top = rect.top + padding.top + border.top;\n  return this.containerBB = [left, top, unscaledW, unscaledH, scale];\n};\nBRp$e.invalidateContainerClientCoordsCache = function () {\n  this.containerBB = null;\n};\nBRp$e.findNearestElement = function (x, y, interactiveElementsOnly, isTouch) {\n  return this.findNearestElements(x, y, interactiveElementsOnly, isTouch)[0];\n};\nBRp$e.findNearestElements = function (x, y, interactiveElementsOnly, isTouch) {\n  var self = this;\n  var r = this;\n  var eles = r.getCachedZSortedEles();\n  var near = []; // 1 node max, 1 edge max\n  var zoom = r.cy.zoom();\n  var hasCompounds = r.cy.hasCompoundNodes();\n  var edgeThreshold = (isTouch ? 24 : 8) / zoom;\n  var nodeThreshold = (isTouch ? 8 : 2) / zoom;\n  var labelThreshold = (isTouch ? 8 : 2) / zoom;\n  var minSqDist = Infinity;\n  var nearEdge;\n  var nearNode;\n  if (interactiveElementsOnly) {\n    eles = eles.interactive;\n  }\n  function addEle(ele, sqDist) {\n    if (ele.isNode()) {\n      if (nearNode) {\n        return; // can't replace node\n      } else {\n        nearNode = ele;\n        near.push(ele);\n      }\n    }\n    if (ele.isEdge() && (sqDist == null || sqDist < minSqDist)) {\n      if (nearEdge) {\n        // then replace existing edge\n        // can replace only if same z-index\n        if (nearEdge.pstyle('z-compound-depth').value === ele.pstyle('z-compound-depth').value && nearEdge.pstyle('z-compound-depth').value === ele.pstyle('z-compound-depth').value) {\n          for (var i = 0; i < near.length; i++) {\n            if (near[i].isEdge()) {\n              near[i] = ele;\n              nearEdge = ele;\n              minSqDist = sqDist != null ? sqDist : minSqDist;\n              break;\n            }\n          }\n        }\n      } else {\n        near.push(ele);\n        nearEdge = ele;\n        minSqDist = sqDist != null ? sqDist : minSqDist;\n      }\n    }\n  }\n  function checkNode(node) {\n    var width = node.outerWidth() + 2 * nodeThreshold;\n    var height = node.outerHeight() + 2 * nodeThreshold;\n    var hw = width / 2;\n    var hh = height / 2;\n    var pos = node.position();\n    var cornerRadius = node.pstyle('corner-radius').value === 'auto' ? 'auto' : node.pstyle('corner-radius').pfValue;\n    var rs = node._private.rscratch;\n    if (pos.x - hw <= x && x <= pos.x + hw // bb check x\n    && pos.y - hh <= y && y <= pos.y + hh // bb check y\n    ) {\n      var shape = r.nodeShapes[self.getNodeShape(node)];\n      if (shape.checkPoint(x, y, 0, width, height, pos.x, pos.y, cornerRadius, rs)) {\n        addEle(node, 0);\n        return true;\n      }\n    }\n  }\n  function checkEdge(edge) {\n    var _p = edge._private;\n    var rs = _p.rscratch;\n    var styleWidth = edge.pstyle('width').pfValue;\n    var scale = edge.pstyle('arrow-scale').value;\n    var width = styleWidth / 2 + edgeThreshold; // more like a distance radius from centre\n    var widthSq = width * width;\n    var width2 = width * 2;\n    var src = _p.source;\n    var tgt = _p.target;\n    var sqDist;\n    if (rs.edgeType === 'segments' || rs.edgeType === 'straight' || rs.edgeType === 'haystack') {\n      var pts = rs.allpts;\n      for (var i = 0; i + 3 < pts.length; i += 2) {\n        if (inLineVicinity(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], width2) && widthSq > (sqDist = sqdistToFiniteLine(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3]))) {\n          addEle(edge, sqDist);\n          return true;\n        }\n      }\n    } else if (rs.edgeType === 'bezier' || rs.edgeType === 'multibezier' || rs.edgeType === 'self' || rs.edgeType === 'compound') {\n      var pts = rs.allpts;\n      for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n        if (inBezierVicinity(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], pts[i + 4], pts[i + 5], width2) && widthSq > (sqDist = sqdistToQuadraticBezier(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], pts[i + 4], pts[i + 5]))) {\n          addEle(edge, sqDist);\n          return true;\n        }\n      }\n    }\n\n    // if we're close to the edge but didn't hit it, maybe we hit its arrows\n\n    var src = src || _p.source;\n    var tgt = tgt || _p.target;\n    var arSize = self.getArrowWidth(styleWidth, scale);\n    var arrows = [{\n      name: 'source',\n      x: rs.arrowStartX,\n      y: rs.arrowStartY,\n      angle: rs.srcArrowAngle\n    }, {\n      name: 'target',\n      x: rs.arrowEndX,\n      y: rs.arrowEndY,\n      angle: rs.tgtArrowAngle\n    }, {\n      name: 'mid-source',\n      x: rs.midX,\n      y: rs.midY,\n      angle: rs.midsrcArrowAngle\n    }, {\n      name: 'mid-target',\n      x: rs.midX,\n      y: rs.midY,\n      angle: rs.midtgtArrowAngle\n    }];\n    for (var i = 0; i < arrows.length; i++) {\n      var ar = arrows[i];\n      var shape = r.arrowShapes[edge.pstyle(ar.name + '-arrow-shape').value];\n      var edgeWidth = edge.pstyle('width').pfValue;\n      if (shape.roughCollide(x, y, arSize, ar.angle, {\n        x: ar.x,\n        y: ar.y\n      }, edgeWidth, edgeThreshold) && shape.collide(x, y, arSize, ar.angle, {\n        x: ar.x,\n        y: ar.y\n      }, edgeWidth, edgeThreshold)) {\n        addEle(edge);\n        return true;\n      }\n    }\n\n    // for compound graphs, hitting edge may actually want a connected node instead (b/c edge may have greater z-index precedence)\n    if (hasCompounds && near.length > 0) {\n      checkNode(src);\n      checkNode(tgt);\n    }\n  }\n  function preprop(obj, name, pre) {\n    return getPrefixedProperty(obj, name, pre);\n  }\n  function checkLabel(ele, prefix) {\n    var _p = ele._private;\n    var th = labelThreshold;\n    var prefixDash;\n    if (prefix) {\n      prefixDash = prefix + '-';\n    } else {\n      prefixDash = '';\n    }\n    ele.boundingBox();\n    var bb = _p.labelBounds[prefix || 'main'];\n    var text = ele.pstyle(prefixDash + 'label').value;\n    var eventsEnabled = ele.pstyle('text-events').strValue === 'yes';\n    if (!eventsEnabled || !text) {\n      return;\n    }\n    var lx = preprop(_p.rscratch, 'labelX', prefix);\n    var ly = preprop(_p.rscratch, 'labelY', prefix);\n    var theta = preprop(_p.rscratch, 'labelAngle', prefix);\n    var ox = ele.pstyle(prefixDash + 'text-margin-x').pfValue;\n    var oy = ele.pstyle(prefixDash + 'text-margin-y').pfValue;\n    var lx1 = bb.x1 - th - ox; // (-ox, -oy) as bb already includes margin\n    var lx2 = bb.x2 + th - ox; // and rotation is about (lx, ly)\n    var ly1 = bb.y1 - th - oy;\n    var ly2 = bb.y2 + th - oy;\n    if (theta) {\n      var cos = Math.cos(theta);\n      var sin = Math.sin(theta);\n      var rotate = function rotate(x, y) {\n        x = x - lx;\n        y = y - ly;\n        return {\n          x: x * cos - y * sin + lx,\n          y: x * sin + y * cos + ly\n        };\n      };\n      var px1y1 = rotate(lx1, ly1);\n      var px1y2 = rotate(lx1, ly2);\n      var px2y1 = rotate(lx2, ly1);\n      var px2y2 = rotate(lx2, ly2);\n      var points = [\n      // with the margin added after the rotation is applied\n      px1y1.x + ox, px1y1.y + oy, px2y1.x + ox, px2y1.y + oy, px2y2.x + ox, px2y2.y + oy, px1y2.x + ox, px1y2.y + oy];\n      if (pointInsidePolygonPoints(x, y, points)) {\n        addEle(ele);\n        return true;\n      }\n    } else {\n      // do a cheaper bb check\n      if (inBoundingBox(bb, x, y)) {\n        addEle(ele);\n        return true;\n      }\n    }\n  }\n  for (var i = eles.length - 1; i >= 0; i--) {\n    // reverse order for precedence\n    var ele = eles[i];\n    if (ele.isNode()) {\n      checkNode(ele) || checkLabel(ele);\n    } else {\n      // then edge\n      checkEdge(ele) || checkLabel(ele) || checkLabel(ele, 'source') || checkLabel(ele, 'target');\n    }\n  }\n  return near;\n};\n\n// 'Give me everything from this box'\nBRp$e.getAllInBox = function (x1, y1, x2, y2) {\n  var eles = this.getCachedZSortedEles().interactive;\n  var box = [];\n  var x1c = Math.min(x1, x2);\n  var x2c = Math.max(x1, x2);\n  var y1c = Math.min(y1, y2);\n  var y2c = Math.max(y1, y2);\n  x1 = x1c;\n  x2 = x2c;\n  y1 = y1c;\n  y2 = y2c;\n  var boxBb = makeBoundingBox({\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2\n  });\n  for (var e = 0; e < eles.length; e++) {\n    var ele = eles[e];\n    if (ele.isNode()) {\n      var node = ele;\n      var nodeBb = node.boundingBox({\n        includeNodes: true,\n        includeEdges: false,\n        includeLabels: false\n      });\n      if (boundingBoxesIntersect(boxBb, nodeBb) && !boundingBoxInBoundingBox(nodeBb, boxBb)) {\n        box.push(node);\n      }\n    } else {\n      var edge = ele;\n      var _p = edge._private;\n      var rs = _p.rscratch;\n      if (rs.startX != null && rs.startY != null && !inBoundingBox(boxBb, rs.startX, rs.startY)) {\n        continue;\n      }\n      if (rs.endX != null && rs.endY != null && !inBoundingBox(boxBb, rs.endX, rs.endY)) {\n        continue;\n      }\n      if (rs.edgeType === 'bezier' || rs.edgeType === 'multibezier' || rs.edgeType === 'self' || rs.edgeType === 'compound' || rs.edgeType === 'segments' || rs.edgeType === 'haystack') {\n        var pts = _p.rstyle.bezierPts || _p.rstyle.linePts || _p.rstyle.haystackPts;\n        var allInside = true;\n        for (var i = 0; i < pts.length; i++) {\n          if (!pointInBoundingBox(boxBb, pts[i])) {\n            allInside = false;\n            break;\n          }\n        }\n        if (allInside) {\n          box.push(edge);\n        }\n      } else if (rs.edgeType === 'haystack' || rs.edgeType === 'straight') {\n        box.push(edge);\n      }\n    }\n  }\n  return box;\n};\n\nvar BRp$d = {};\nBRp$d.calculateArrowAngles = function (edge) {\n  var rs = edge._private.rscratch;\n  var isHaystack = rs.edgeType === 'haystack';\n  var isBezier = rs.edgeType === 'bezier';\n  var isMultibezier = rs.edgeType === 'multibezier';\n  var isSegments = rs.edgeType === 'segments';\n  var isCompound = rs.edgeType === 'compound';\n  var isSelf = rs.edgeType === 'self';\n\n  // Displacement gives direction for arrowhead orientation\n  var dispX, dispY;\n  var startX, startY, endX, endY, midX, midY;\n  if (isHaystack) {\n    startX = rs.haystackPts[0];\n    startY = rs.haystackPts[1];\n    endX = rs.haystackPts[2];\n    endY = rs.haystackPts[3];\n  } else {\n    startX = rs.arrowStartX;\n    startY = rs.arrowStartY;\n    endX = rs.arrowEndX;\n    endY = rs.arrowEndY;\n  }\n  midX = rs.midX;\n  midY = rs.midY;\n\n  // source\n  //\n\n  if (isSegments) {\n    dispX = startX - rs.segpts[0];\n    dispY = startY - rs.segpts[1];\n  } else if (isMultibezier || isCompound || isSelf || isBezier) {\n    var pts = rs.allpts;\n    var bX = qbezierAt(pts[0], pts[2], pts[4], 0.1);\n    var bY = qbezierAt(pts[1], pts[3], pts[5], 0.1);\n    dispX = startX - bX;\n    dispY = startY - bY;\n  } else {\n    dispX = startX - midX;\n    dispY = startY - midY;\n  }\n  rs.srcArrowAngle = getAngleFromDisp(dispX, dispY);\n\n  // mid target\n  //\n\n  var midX = rs.midX;\n  var midY = rs.midY;\n  if (isHaystack) {\n    midX = (startX + endX) / 2;\n    midY = (startY + endY) / 2;\n  }\n  dispX = endX - startX;\n  dispY = endY - startY;\n  if (isSegments) {\n    var pts = rs.allpts;\n    if (pts.length / 2 % 2 === 0) {\n      var i2 = pts.length / 2;\n      var i1 = i2 - 2;\n      dispX = pts[i2] - pts[i1];\n      dispY = pts[i2 + 1] - pts[i1 + 1];\n    } else if (rs.isRound) {\n      dispX = rs.midVector[1];\n      dispY = -rs.midVector[0];\n    } else {\n      var i2 = pts.length / 2 - 1;\n      var i1 = i2 - 2;\n      dispX = pts[i2] - pts[i1];\n      dispY = pts[i2 + 1] - pts[i1 + 1];\n    }\n  } else if (isMultibezier || isCompound || isSelf) {\n    var pts = rs.allpts;\n    var cpts = rs.ctrlpts;\n    var bp0x, bp0y;\n    var bp1x, bp1y;\n    if (cpts.length / 2 % 2 === 0) {\n      var p0 = pts.length / 2 - 1; // startpt\n      var ic = p0 + 2;\n      var p1 = ic + 2;\n      bp0x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.0);\n      bp0y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.0);\n      bp1x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.0001);\n      bp1y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.0001);\n    } else {\n      var ic = pts.length / 2 - 1; // ctrpt\n      var p0 = ic - 2; // startpt\n      var p1 = ic + 2; // endpt\n\n      bp0x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.4999);\n      bp0y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.4999);\n      bp1x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.5);\n      bp1y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.5);\n    }\n    dispX = bp1x - bp0x;\n    dispY = bp1y - bp0y;\n  }\n  rs.midtgtArrowAngle = getAngleFromDisp(dispX, dispY);\n  rs.midDispX = dispX;\n  rs.midDispY = dispY;\n\n  // mid source\n  //\n\n  dispX *= -1;\n  dispY *= -1;\n  if (isSegments) {\n    var pts = rs.allpts;\n    if (pts.length / 2 % 2 === 0) ; else if (!rs.isRound) {\n      var i2 = pts.length / 2 - 1;\n      var i3 = i2 + 2;\n      dispX = -(pts[i3] - pts[i2]);\n      dispY = -(pts[i3 + 1] - pts[i2 + 1]);\n    }\n  }\n  rs.midsrcArrowAngle = getAngleFromDisp(dispX, dispY);\n\n  // target\n  //\n\n  if (isSegments) {\n    dispX = endX - rs.segpts[rs.segpts.length - 2];\n    dispY = endY - rs.segpts[rs.segpts.length - 1];\n  } else if (isMultibezier || isCompound || isSelf || isBezier) {\n    var pts = rs.allpts;\n    var l = pts.length;\n    var bX = qbezierAt(pts[l - 6], pts[l - 4], pts[l - 2], 0.9);\n    var bY = qbezierAt(pts[l - 5], pts[l - 3], pts[l - 1], 0.9);\n    dispX = endX - bX;\n    dispY = endY - bY;\n  } else {\n    dispX = endX - midX;\n    dispY = endY - midY;\n  }\n  rs.tgtArrowAngle = getAngleFromDisp(dispX, dispY);\n};\nBRp$d.getArrowWidth = BRp$d.getArrowHeight = function (edgeWidth, scale) {\n  var cache = this.arrowWidthCache = this.arrowWidthCache || {};\n  var cachedVal = cache[edgeWidth + ', ' + scale];\n  if (cachedVal) {\n    return cachedVal;\n  }\n  cachedVal = Math.max(Math.pow(edgeWidth * 13.37, 0.9), 29) * scale;\n  cache[edgeWidth + ', ' + scale] = cachedVal;\n  return cachedVal;\n};\n\n/**\n * Explained by Blindman67 at https://stackoverflow.com/a/44856925/11028828\n */\n\n// Declare reused variable to avoid reallocating variables every time the function is called\nvar x,\n  y,\n  v1 = {},\n  v2 = {},\n  sinA,\n  sinA90,\n  radDirection,\n  drawDirection,\n  angle,\n  halfAngle,\n  cRadius,\n  lenOut,\n  radius,\n  limit;\nvar startX, startY, stopX, stopY;\nvar lastPoint;\n\n// convert 2 points into vector form, polar form, and normalised\nvar asVec = function asVec(p, pp, v) {\n  v.x = pp.x - p.x;\n  v.y = pp.y - p.y;\n  v.len = Math.sqrt(v.x * v.x + v.y * v.y);\n  v.nx = v.x / v.len;\n  v.ny = v.y / v.len;\n  v.ang = Math.atan2(v.ny, v.nx);\n};\nvar invertVec = function invertVec(originalV, invertedV) {\n  invertedV.x = originalV.x * -1;\n  invertedV.y = originalV.y * -1;\n  invertedV.nx = originalV.nx * -1;\n  invertedV.ny = originalV.ny * -1;\n  invertedV.ang = originalV.ang > 0 ? -(Math.PI - originalV.ang) : Math.PI + originalV.ang;\n};\nvar calcCornerArc = function calcCornerArc(previousPoint, currentPoint, nextPoint, radiusMax, isArcRadius) {\n  //-----------------------------------------\n  // Part 1\n  previousPoint !== lastPoint ? asVec(currentPoint, previousPoint, v1) : invertVec(v2, v1); // Avoid recalculating vec if it is the invert of the last one calculated\n  asVec(currentPoint, nextPoint, v2);\n  sinA = v1.nx * v2.ny - v1.ny * v2.nx;\n  sinA90 = v1.nx * v2.nx - v1.ny * -v2.ny;\n  angle = Math.asin(Math.max(-1, Math.min(1, sinA)));\n  if (Math.abs(angle) < 1e-6) {\n    x = currentPoint.x;\n    y = currentPoint.y;\n    cRadius = radius = 0;\n    return;\n  }\n  //-----------------------------------------\n  radDirection = 1;\n  drawDirection = false;\n  if (sinA90 < 0) {\n    if (angle < 0) {\n      angle = Math.PI + angle;\n    } else {\n      angle = Math.PI - angle;\n      radDirection = -1;\n      drawDirection = true;\n    }\n  } else {\n    if (angle > 0) {\n      radDirection = -1;\n      drawDirection = true;\n    }\n  }\n  if (currentPoint.radius !== undefined) {\n    radius = currentPoint.radius;\n  } else {\n    radius = radiusMax;\n  }\n  //-----------------------------------------\n  // Part 2\n  halfAngle = angle / 2;\n  //-----------------------------------------\n\n  limit = Math.min(v1.len / 2, v2.len / 2);\n  if (isArcRadius) {\n    //-----------------------------------------\n    // Part 3\n    lenOut = Math.abs(Math.cos(halfAngle) * radius / Math.sin(halfAngle));\n\n    //-----------------------------------------\n    // Special part A\n    if (lenOut > limit) {\n      lenOut = limit;\n      cRadius = Math.abs(lenOut * Math.sin(halfAngle) / Math.cos(halfAngle));\n    } else {\n      cRadius = radius;\n    }\n  } else {\n    lenOut = Math.min(limit, radius);\n    cRadius = Math.abs(lenOut * Math.sin(halfAngle) / Math.cos(halfAngle));\n  }\n  //-----------------------------------------\n\n  //-----------------------------------------\n  // Part 4\n  stopX = currentPoint.x + v2.nx * lenOut;\n  stopY = currentPoint.y + v2.ny * lenOut;\n  //-----------------------------------------\n  // Part 5\n  x = stopX - v2.ny * cRadius * radDirection;\n  y = stopY + v2.nx * cRadius * radDirection;\n  //-----------------------------------------\n  // Additional Part : calculate start point E\n  startX = currentPoint.x + v1.nx * lenOut;\n  startY = currentPoint.y + v1.ny * lenOut;\n\n  // Save last point to avoid recalculating vector when not needed\n  lastPoint = currentPoint;\n};\n\n/**\n * Draw corner provided by {@link getRoundCorner}\n *\n * @param ctx :CanvasRenderingContext2D\n * @param roundCorner {{cx:number, cy:number, radius:number, endAngle: number, startAngle: number, counterClockwise: boolean}}\n */\nfunction drawPreparedRoundCorner(ctx, roundCorner) {\n  if (roundCorner.radius === 0) ctx.lineTo(roundCorner.cx, roundCorner.cy);else ctx.arc(roundCorner.cx, roundCorner.cy, roundCorner.radius, roundCorner.startAngle, roundCorner.endAngle, roundCorner.counterClockwise);\n}\n\n/**\n * Get round corner from a point and its previous and next neighbours in a path\n *\n * @param previousPoint {{x: number, y:number, radius: number?}}\n * @param currentPoint {{x: number, y:number, radius: number?}}\n * @param nextPoint {{x: number, y:number, radius: number?}}\n * @param radiusMax :number\n * @param isArcRadius :boolean\n * @return {{\n * cx:number, cy:number, radius:number,\n * startX:number, startY:number,\n * stopX:number, stopY: number,\n * endAngle: number, startAngle: number, counterClockwise: boolean\n * }}\n */\nfunction getRoundCorner(previousPoint, currentPoint, nextPoint, radiusMax) {\n  var isArcRadius = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  if (radiusMax === 0 || currentPoint.radius === 0) return {\n    cx: currentPoint.x,\n    cy: currentPoint.y,\n    radius: 0,\n    startX: currentPoint.x,\n    startY: currentPoint.y,\n    stopX: currentPoint.x,\n    stopY: currentPoint.y,\n    startAngle: undefined,\n    endAngle: undefined,\n    counterClockwise: undefined\n  };\n  calcCornerArc(previousPoint, currentPoint, nextPoint, radiusMax, isArcRadius);\n  return {\n    cx: x,\n    cy: y,\n    radius: cRadius,\n    startX: startX,\n    startY: startY,\n    stopX: stopX,\n    stopY: stopY,\n    startAngle: v1.ang + Math.PI / 2 * radDirection,\n    endAngle: v2.ang - Math.PI / 2 * radDirection,\n    counterClockwise: drawDirection\n  };\n}\n\nvar BRp$c = {};\nBRp$c.findMidptPtsEtc = function (edge, pairInfo) {\n  var posPts = pairInfo.posPts,\n    intersectionPts = pairInfo.intersectionPts,\n    vectorNormInverse = pairInfo.vectorNormInverse;\n  var midptPts;\n\n  // n.b. assumes all edges in bezier bundle have same endpoints specified\n  var srcManEndpt = edge.pstyle('source-endpoint');\n  var tgtManEndpt = edge.pstyle('target-endpoint');\n  var haveManualEndPts = srcManEndpt.units != null && tgtManEndpt.units != null;\n  var recalcVectorNormInverse = function recalcVectorNormInverse(x1, y1, x2, y2) {\n    var dy = y2 - y1;\n    var dx = x2 - x1;\n    var l = Math.sqrt(dx * dx + dy * dy);\n    return {\n      x: -dy / l,\n      y: dx / l\n    };\n  };\n  var edgeDistances = edge.pstyle('edge-distances').value;\n  switch (edgeDistances) {\n    case 'node-position':\n      midptPts = posPts;\n      break;\n    case 'intersection':\n      midptPts = intersectionPts;\n      break;\n    case 'endpoints':\n      {\n        if (haveManualEndPts) {\n          var _this$manualEndptToPx = this.manualEndptToPx(edge.source()[0], srcManEndpt),\n            _this$manualEndptToPx2 = _slicedToArray(_this$manualEndptToPx, 2),\n            x1 = _this$manualEndptToPx2[0],\n            y1 = _this$manualEndptToPx2[1];\n          var _this$manualEndptToPx3 = this.manualEndptToPx(edge.target()[0], tgtManEndpt),\n            _this$manualEndptToPx4 = _slicedToArray(_this$manualEndptToPx3, 2),\n            x2 = _this$manualEndptToPx4[0],\n            y2 = _this$manualEndptToPx4[1];\n          var endPts = {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2\n          };\n          vectorNormInverse = recalcVectorNormInverse(x1, y1, x2, y2);\n          midptPts = endPts;\n        } else {\n          warn(\"Edge \".concat(edge.id(), \" has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).\"));\n          midptPts = intersectionPts; // back to default\n        }\n\n        break;\n      }\n  }\n  return {\n    midptPts: midptPts,\n    vectorNormInverse: vectorNormInverse\n  };\n};\nBRp$c.findHaystackPoints = function (edges) {\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    var _p = edge._private;\n    var rs = _p.rscratch;\n    if (!rs.haystack) {\n      var angle = Math.random() * 2 * Math.PI;\n      rs.source = {\n        x: Math.cos(angle),\n        y: Math.sin(angle)\n      };\n      angle = Math.random() * 2 * Math.PI;\n      rs.target = {\n        x: Math.cos(angle),\n        y: Math.sin(angle)\n      };\n    }\n    var src = _p.source;\n    var tgt = _p.target;\n    var srcPos = src.position();\n    var tgtPos = tgt.position();\n    var srcW = src.width();\n    var tgtW = tgt.width();\n    var srcH = src.height();\n    var tgtH = tgt.height();\n    var radius = edge.pstyle('haystack-radius').value;\n    var halfRadius = radius / 2; // b/c have to half width/height\n\n    rs.haystackPts = rs.allpts = [rs.source.x * srcW * halfRadius + srcPos.x, rs.source.y * srcH * halfRadius + srcPos.y, rs.target.x * tgtW * halfRadius + tgtPos.x, rs.target.y * tgtH * halfRadius + tgtPos.y];\n    rs.midX = (rs.allpts[0] + rs.allpts[2]) / 2;\n    rs.midY = (rs.allpts[1] + rs.allpts[3]) / 2;\n\n    // always override as haystack in case set to different type previously\n    rs.edgeType = 'haystack';\n    rs.haystack = true;\n    this.storeEdgeProjections(edge);\n    this.calculateArrowAngles(edge);\n    this.recalculateEdgeLabelProjections(edge);\n    this.calculateLabelAngles(edge);\n  }\n};\nBRp$c.findSegmentsPoints = function (edge, pairInfo) {\n  // Segments (multiple straight lines)\n\n  var rs = edge._private.rscratch;\n  var segmentWs = edge.pstyle('segment-weights');\n  var segmentDs = edge.pstyle('segment-distances');\n  var segmentRs = edge.pstyle('segment-radii');\n  var segmentTs = edge.pstyle('radius-type');\n  var segmentsN = Math.min(segmentWs.pfValue.length, segmentDs.pfValue.length);\n  var lastRadius = segmentRs.pfValue[segmentRs.pfValue.length - 1];\n  var lastRadiusType = segmentTs.pfValue[segmentTs.pfValue.length - 1];\n  rs.edgeType = 'segments';\n  rs.segpts = [];\n  rs.radii = [];\n  rs.isArcRadius = [];\n  for (var s = 0; s < segmentsN; s++) {\n    var w = segmentWs.pfValue[s];\n    var d = segmentDs.pfValue[s];\n    var w1 = 1 - w;\n    var w2 = w;\n    var _this$findMidptPtsEtc = this.findMidptPtsEtc(edge, pairInfo),\n      midptPts = _this$findMidptPtsEtc.midptPts,\n      vectorNormInverse = _this$findMidptPtsEtc.vectorNormInverse;\n    var adjustedMidpt = {\n      x: midptPts.x1 * w1 + midptPts.x2 * w2,\n      y: midptPts.y1 * w1 + midptPts.y2 * w2\n    };\n    rs.segpts.push(adjustedMidpt.x + vectorNormInverse.x * d, adjustedMidpt.y + vectorNormInverse.y * d);\n    rs.radii.push(segmentRs.pfValue[s] !== undefined ? segmentRs.pfValue[s] : lastRadius);\n    rs.isArcRadius.push((segmentTs.pfValue[s] !== undefined ? segmentTs.pfValue[s] : lastRadiusType) === 'arc-radius');\n  }\n};\nBRp$c.findLoopPoints = function (edge, pairInfo, i, edgeIsUnbundled) {\n  // Self-edge\n\n  var rs = edge._private.rscratch;\n  var dirCounts = pairInfo.dirCounts,\n    srcPos = pairInfo.srcPos;\n  var ctrlptDists = edge.pstyle('control-point-distances');\n  var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n  var loopDir = edge.pstyle('loop-direction').pfValue;\n  var loopSwp = edge.pstyle('loop-sweep').pfValue;\n  var stepSize = edge.pstyle('control-point-step-size').pfValue;\n  rs.edgeType = 'self';\n  var j = i;\n  var loopDist = stepSize;\n  if (edgeIsUnbundled) {\n    j = 0;\n    loopDist = ctrlptDist;\n  }\n  var loopAngle = loopDir - Math.PI / 2;\n  var outAngle = loopAngle - loopSwp / 2;\n  var inAngle = loopAngle + loopSwp / 2;\n\n  // increase by step size for overlapping loops, keyed on direction and sweep values\n  var dc = String(loopDir + '_' + loopSwp);\n  j = dirCounts[dc] === undefined ? dirCounts[dc] = 0 : ++dirCounts[dc];\n  rs.ctrlpts = [srcPos.x + Math.cos(outAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.y + Math.sin(outAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.x + Math.cos(inAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.y + Math.sin(inAngle) * 1.4 * loopDist * (j / 3 + 1)];\n};\nBRp$c.findCompoundLoopPoints = function (edge, pairInfo, i, edgeIsUnbundled) {\n  // Compound edge\n\n  var rs = edge._private.rscratch;\n  rs.edgeType = 'compound';\n  var srcPos = pairInfo.srcPos,\n    tgtPos = pairInfo.tgtPos,\n    srcW = pairInfo.srcW,\n    srcH = pairInfo.srcH,\n    tgtW = pairInfo.tgtW,\n    tgtH = pairInfo.tgtH;\n  var stepSize = edge.pstyle('control-point-step-size').pfValue;\n  var ctrlptDists = edge.pstyle('control-point-distances');\n  var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n  var j = i;\n  var loopDist = stepSize;\n  if (edgeIsUnbundled) {\n    j = 0;\n    loopDist = ctrlptDist;\n  }\n  var loopW = 50;\n  var loopaPos = {\n    x: srcPos.x - srcW / 2,\n    y: srcPos.y - srcH / 2\n  };\n  var loopbPos = {\n    x: tgtPos.x - tgtW / 2,\n    y: tgtPos.y - tgtH / 2\n  };\n  var loopPos = {\n    x: Math.min(loopaPos.x, loopbPos.x),\n    y: Math.min(loopaPos.y, loopbPos.y)\n  };\n\n  // avoids cases with impossible beziers\n  var minCompoundStretch = 0.5;\n  var compoundStretchA = Math.max(minCompoundStretch, Math.log(srcW * 0.01));\n  var compoundStretchB = Math.max(minCompoundStretch, Math.log(tgtW * 0.01));\n  rs.ctrlpts = [loopPos.x, loopPos.y - (1 + Math.pow(loopW, 1.12) / 100) * loopDist * (j / 3 + 1) * compoundStretchA, loopPos.x - (1 + Math.pow(loopW, 1.12) / 100) * loopDist * (j / 3 + 1) * compoundStretchB, loopPos.y];\n};\nBRp$c.findStraightEdgePoints = function (edge) {\n  // Straight edge within bundle\n\n  edge._private.rscratch.edgeType = 'straight';\n};\nBRp$c.findBezierPoints = function (edge, pairInfo, i, edgeIsUnbundled, edgeIsSwapped) {\n  var rs = edge._private.rscratch;\n  var stepSize = edge.pstyle('control-point-step-size').pfValue;\n  var ctrlptDists = edge.pstyle('control-point-distances');\n  var ctrlptWs = edge.pstyle('control-point-weights');\n  var bezierN = ctrlptDists && ctrlptWs ? Math.min(ctrlptDists.value.length, ctrlptWs.value.length) : 1;\n  var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n  var ctrlptWeight = ctrlptWs.value[0];\n\n  // (Multi)bezier\n\n  var multi = edgeIsUnbundled;\n  rs.edgeType = multi ? 'multibezier' : 'bezier';\n  rs.ctrlpts = [];\n  for (var b = 0; b < bezierN; b++) {\n    var normctrlptDist = (0.5 - pairInfo.eles.length / 2 + i) * stepSize * (edgeIsSwapped ? -1 : 1);\n    var manctrlptDist = void 0;\n    var sign = signum(normctrlptDist);\n    if (multi) {\n      ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[b] : stepSize; // fall back on step size\n      ctrlptWeight = ctrlptWs.value[b];\n    }\n    if (edgeIsUnbundled) {\n      // multi or single unbundled\n      manctrlptDist = ctrlptDist;\n    } else {\n      manctrlptDist = ctrlptDist !== undefined ? sign * ctrlptDist : undefined;\n    }\n    var distanceFromMidpoint = manctrlptDist !== undefined ? manctrlptDist : normctrlptDist;\n    var w1 = 1 - ctrlptWeight;\n    var w2 = ctrlptWeight;\n    var _this$findMidptPtsEtc2 = this.findMidptPtsEtc(edge, pairInfo),\n      midptPts = _this$findMidptPtsEtc2.midptPts,\n      vectorNormInverse = _this$findMidptPtsEtc2.vectorNormInverse;\n    var adjustedMidpt = {\n      x: midptPts.x1 * w1 + midptPts.x2 * w2,\n      y: midptPts.y1 * w1 + midptPts.y2 * w2\n    };\n    rs.ctrlpts.push(adjustedMidpt.x + vectorNormInverse.x * distanceFromMidpoint, adjustedMidpt.y + vectorNormInverse.y * distanceFromMidpoint);\n  }\n};\nBRp$c.findTaxiPoints = function (edge, pairInfo) {\n  // Taxicab geometry with two turns maximum\n\n  var rs = edge._private.rscratch;\n  rs.edgeType = 'segments';\n  var VERTICAL = 'vertical';\n  var HORIZONTAL = 'horizontal';\n  var LEFTWARD = 'leftward';\n  var RIGHTWARD = 'rightward';\n  var DOWNWARD = 'downward';\n  var UPWARD = 'upward';\n  var AUTO = 'auto';\n  var posPts = pairInfo.posPts,\n    srcW = pairInfo.srcW,\n    srcH = pairInfo.srcH,\n    tgtW = pairInfo.tgtW,\n    tgtH = pairInfo.tgtH;\n  var edgeDistances = edge.pstyle('edge-distances').value;\n  var dIncludesNodeBody = edgeDistances !== 'node-position';\n  var taxiDir = edge.pstyle('taxi-direction').value;\n  var rawTaxiDir = taxiDir; // unprocessed value\n  var taxiTurn = edge.pstyle('taxi-turn');\n  var turnIsPercent = taxiTurn.units === '%';\n  var taxiTurnPfVal = taxiTurn.pfValue;\n  var turnIsNegative = taxiTurnPfVal < 0; // i.e. from target side\n  var minD = edge.pstyle('taxi-turn-min-distance').pfValue;\n  var dw = dIncludesNodeBody ? (srcW + tgtW) / 2 : 0;\n  var dh = dIncludesNodeBody ? (srcH + tgtH) / 2 : 0;\n  var pdx = posPts.x2 - posPts.x1;\n  var pdy = posPts.y2 - posPts.y1;\n\n  // take away the effective w/h from the magnitude of the delta value\n  var subDWH = function subDWH(dxy, dwh) {\n    if (dxy > 0) {\n      return Math.max(dxy - dwh, 0);\n    } else {\n      return Math.min(dxy + dwh, 0);\n    }\n  };\n  var dx = subDWH(pdx, dw);\n  var dy = subDWH(pdy, dh);\n  var isExplicitDir = false;\n  if (rawTaxiDir === AUTO) {\n    taxiDir = Math.abs(dx) > Math.abs(dy) ? HORIZONTAL : VERTICAL;\n  } else if (rawTaxiDir === UPWARD || rawTaxiDir === DOWNWARD) {\n    taxiDir = VERTICAL;\n    isExplicitDir = true;\n  } else if (rawTaxiDir === LEFTWARD || rawTaxiDir === RIGHTWARD) {\n    taxiDir = HORIZONTAL;\n    isExplicitDir = true;\n  }\n  var isVert = taxiDir === VERTICAL;\n  var l = isVert ? dy : dx;\n  var pl = isVert ? pdy : pdx;\n  var sgnL = signum(pl);\n  var forcedDir = false;\n  if (!(isExplicitDir && (turnIsPercent || turnIsNegative)) // forcing in this case would cause weird growing in the opposite direction\n  && (rawTaxiDir === DOWNWARD && pl < 0 || rawTaxiDir === UPWARD && pl > 0 || rawTaxiDir === LEFTWARD && pl > 0 || rawTaxiDir === RIGHTWARD && pl < 0)) {\n    sgnL *= -1;\n    l = sgnL * Math.abs(l);\n    forcedDir = true;\n  }\n  var d;\n  if (turnIsPercent) {\n    var p = taxiTurnPfVal < 0 ? 1 + taxiTurnPfVal : taxiTurnPfVal;\n    d = p * l;\n  } else {\n    var k = taxiTurnPfVal < 0 ? l : 0;\n    d = k + taxiTurnPfVal * sgnL;\n  }\n  var getIsTooClose = function getIsTooClose(d) {\n    return Math.abs(d) < minD || Math.abs(d) >= Math.abs(l);\n  };\n  var isTooCloseSrc = getIsTooClose(d);\n  var isTooCloseTgt = getIsTooClose(Math.abs(l) - Math.abs(d));\n  var isTooClose = isTooCloseSrc || isTooCloseTgt;\n  if (isTooClose && !forcedDir) {\n    // non-ideal routing\n    if (isVert) {\n      // vertical fallbacks\n      var lShapeInsideSrc = Math.abs(pl) <= srcH / 2;\n      var lShapeInsideTgt = Math.abs(pdx) <= tgtW / 2;\n      if (lShapeInsideSrc) {\n        // horizontal Z-shape (direction not respected)\n        var x = (posPts.x1 + posPts.x2) / 2;\n        var y1 = posPts.y1,\n          y2 = posPts.y2;\n        rs.segpts = [x, y1, x, y2];\n      } else if (lShapeInsideTgt) {\n        // vertical Z-shape (distance not respected)\n        var y = (posPts.y1 + posPts.y2) / 2;\n        var x1 = posPts.x1,\n          x2 = posPts.x2;\n        rs.segpts = [x1, y, x2, y];\n      } else {\n        // L-shape fallback (turn distance not respected, but works well with tree siblings)\n        rs.segpts = [posPts.x1, posPts.y2];\n      }\n    } else {\n      // horizontal fallbacks\n      var _lShapeInsideSrc = Math.abs(pl) <= srcW / 2;\n      var _lShapeInsideTgt = Math.abs(pdy) <= tgtH / 2;\n      if (_lShapeInsideSrc) {\n        // vertical Z-shape (direction not respected)\n        var _y = (posPts.y1 + posPts.y2) / 2;\n        var _x = posPts.x1,\n          _x2 = posPts.x2;\n        rs.segpts = [_x, _y, _x2, _y];\n      } else if (_lShapeInsideTgt) {\n        // horizontal Z-shape (turn distance not respected)\n        var _x3 = (posPts.x1 + posPts.x2) / 2;\n        var _y2 = posPts.y1,\n          _y3 = posPts.y2;\n        rs.segpts = [_x3, _y2, _x3, _y3];\n      } else {\n        // L-shape (turn distance not respected, but works well for tree siblings)\n        rs.segpts = [posPts.x2, posPts.y1];\n      }\n    }\n  } else {\n    // ideal routing\n    if (isVert) {\n      var _y4 = posPts.y1 + d + (dIncludesNodeBody ? srcH / 2 * sgnL : 0);\n      var _x4 = posPts.x1,\n        _x5 = posPts.x2;\n      rs.segpts = [_x4, _y4, _x5, _y4];\n    } else {\n      // horizontal\n      var _x6 = posPts.x1 + d + (dIncludesNodeBody ? srcW / 2 * sgnL : 0);\n      var _y5 = posPts.y1,\n        _y6 = posPts.y2;\n      rs.segpts = [_x6, _y5, _x6, _y6];\n    }\n  }\n  if (rs.isRound) {\n    var radius = edge.pstyle('taxi-radius').value;\n    var isArcRadius = edge.pstyle('radius-type').value[0] === 'arc-radius';\n    rs.radii = new Array(rs.segpts.length / 2).fill(radius);\n    rs.isArcRadius = new Array(rs.segpts.length / 2).fill(isArcRadius);\n  }\n};\nBRp$c.tryToCorrectInvalidPoints = function (edge, pairInfo) {\n  var rs = edge._private.rscratch;\n\n  // can only correct beziers for now...\n  if (rs.edgeType === 'bezier') {\n    var srcPos = pairInfo.srcPos,\n      tgtPos = pairInfo.tgtPos,\n      srcW = pairInfo.srcW,\n      srcH = pairInfo.srcH,\n      tgtW = pairInfo.tgtW,\n      tgtH = pairInfo.tgtH,\n      srcShape = pairInfo.srcShape,\n      tgtShape = pairInfo.tgtShape,\n      srcCornerRadius = pairInfo.srcCornerRadius,\n      tgtCornerRadius = pairInfo.tgtCornerRadius,\n      srcRs = pairInfo.srcRs,\n      tgtRs = pairInfo.tgtRs;\n    var badStart = !number$1(rs.startX) || !number$1(rs.startY);\n    var badAStart = !number$1(rs.arrowStartX) || !number$1(rs.arrowStartY);\n    var badEnd = !number$1(rs.endX) || !number$1(rs.endY);\n    var badAEnd = !number$1(rs.arrowEndX) || !number$1(rs.arrowEndY);\n    var minCpADistFactor = 3;\n    var arrowW = this.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.arrowShapeWidth;\n    var minCpADist = minCpADistFactor * arrowW;\n    var startACpDist = dist({\n      x: rs.ctrlpts[0],\n      y: rs.ctrlpts[1]\n    }, {\n      x: rs.startX,\n      y: rs.startY\n    });\n    var closeStartACp = startACpDist < minCpADist;\n    var endACpDist = dist({\n      x: rs.ctrlpts[0],\n      y: rs.ctrlpts[1]\n    }, {\n      x: rs.endX,\n      y: rs.endY\n    });\n    var closeEndACp = endACpDist < minCpADist;\n    var overlapping = false;\n    if (badStart || badAStart || closeStartACp) {\n      overlapping = true;\n\n      // project control point along line from src centre to outside the src shape\n      // (otherwise intersection will yield nothing)\n      var cpD = {\n        // delta\n        x: rs.ctrlpts[0] - srcPos.x,\n        y: rs.ctrlpts[1] - srcPos.y\n      };\n      var cpL = Math.sqrt(cpD.x * cpD.x + cpD.y * cpD.y); // length of line\n      var cpM = {\n        // normalised delta\n        x: cpD.x / cpL,\n        y: cpD.y / cpL\n      };\n      var radius = Math.max(srcW, srcH);\n      var cpProj = {\n        // *2 radius guarantees outside shape\n        x: rs.ctrlpts[0] + cpM.x * 2 * radius,\n        y: rs.ctrlpts[1] + cpM.y * 2 * radius\n      };\n      var srcCtrlPtIntn = srcShape.intersectLine(srcPos.x, srcPos.y, srcW, srcH, cpProj.x, cpProj.y, 0, srcCornerRadius, srcRs);\n      if (closeStartACp) {\n        rs.ctrlpts[0] = rs.ctrlpts[0] + cpM.x * (minCpADist - startACpDist);\n        rs.ctrlpts[1] = rs.ctrlpts[1] + cpM.y * (minCpADist - startACpDist);\n      } else {\n        rs.ctrlpts[0] = srcCtrlPtIntn[0] + cpM.x * minCpADist;\n        rs.ctrlpts[1] = srcCtrlPtIntn[1] + cpM.y * minCpADist;\n      }\n    }\n    if (badEnd || badAEnd || closeEndACp) {\n      overlapping = true;\n\n      // project control point along line from tgt centre to outside the tgt shape\n      // (otherwise intersection will yield nothing)\n      var _cpD = {\n        // delta\n        x: rs.ctrlpts[0] - tgtPos.x,\n        y: rs.ctrlpts[1] - tgtPos.y\n      };\n      var _cpL = Math.sqrt(_cpD.x * _cpD.x + _cpD.y * _cpD.y); // length of line\n      var _cpM = {\n        // normalised delta\n        x: _cpD.x / _cpL,\n        y: _cpD.y / _cpL\n      };\n      var _radius = Math.max(srcW, srcH);\n      var _cpProj = {\n        // *2 radius guarantees outside shape\n        x: rs.ctrlpts[0] + _cpM.x * 2 * _radius,\n        y: rs.ctrlpts[1] + _cpM.y * 2 * _radius\n      };\n      var tgtCtrlPtIntn = tgtShape.intersectLine(tgtPos.x, tgtPos.y, tgtW, tgtH, _cpProj.x, _cpProj.y, 0, tgtCornerRadius, tgtRs);\n      if (closeEndACp) {\n        rs.ctrlpts[0] = rs.ctrlpts[0] + _cpM.x * (minCpADist - endACpDist);\n        rs.ctrlpts[1] = rs.ctrlpts[1] + _cpM.y * (minCpADist - endACpDist);\n      } else {\n        rs.ctrlpts[0] = tgtCtrlPtIntn[0] + _cpM.x * minCpADist;\n        rs.ctrlpts[1] = tgtCtrlPtIntn[1] + _cpM.y * minCpADist;\n      }\n    }\n    if (overlapping) {\n      // recalc endpts\n      this.findEndpoints(edge);\n    }\n  }\n};\nBRp$c.storeAllpts = function (edge) {\n  var rs = edge._private.rscratch;\n  if (rs.edgeType === 'multibezier' || rs.edgeType === 'bezier' || rs.edgeType === 'self' || rs.edgeType === 'compound') {\n    rs.allpts = [];\n    rs.allpts.push(rs.startX, rs.startY);\n    for (var b = 0; b + 1 < rs.ctrlpts.length; b += 2) {\n      // ctrl pt itself\n      rs.allpts.push(rs.ctrlpts[b], rs.ctrlpts[b + 1]);\n\n      // the midpt between ctrlpts as intermediate destination pts\n      if (b + 3 < rs.ctrlpts.length) {\n        rs.allpts.push((rs.ctrlpts[b] + rs.ctrlpts[b + 2]) / 2, (rs.ctrlpts[b + 1] + rs.ctrlpts[b + 3]) / 2);\n      }\n    }\n    rs.allpts.push(rs.endX, rs.endY);\n    var m, mt;\n    if (rs.ctrlpts.length / 2 % 2 === 0) {\n      m = rs.allpts.length / 2 - 1;\n      rs.midX = rs.allpts[m];\n      rs.midY = rs.allpts[m + 1];\n    } else {\n      m = rs.allpts.length / 2 - 3;\n      mt = 0.5;\n      rs.midX = qbezierAt(rs.allpts[m], rs.allpts[m + 2], rs.allpts[m + 4], mt);\n      rs.midY = qbezierAt(rs.allpts[m + 1], rs.allpts[m + 3], rs.allpts[m + 5], mt);\n    }\n  } else if (rs.edgeType === 'straight') {\n    // need to calc these after endpts\n    rs.allpts = [rs.startX, rs.startY, rs.endX, rs.endY];\n\n    // default midpt for labels etc\n    rs.midX = (rs.startX + rs.endX + rs.arrowStartX + rs.arrowEndX) / 4;\n    rs.midY = (rs.startY + rs.endY + rs.arrowStartY + rs.arrowEndY) / 4;\n  } else if (rs.edgeType === 'segments') {\n    rs.allpts = [];\n    rs.allpts.push(rs.startX, rs.startY);\n    rs.allpts.push.apply(rs.allpts, rs.segpts);\n    rs.allpts.push(rs.endX, rs.endY);\n    if (rs.isRound) {\n      rs.roundCorners = [];\n      for (var i = 2; i + 3 < rs.allpts.length; i += 2) {\n        var radius = rs.radii[i / 2 - 1];\n        var isArcRadius = rs.isArcRadius[i / 2 - 1];\n        rs.roundCorners.push(getRoundCorner({\n          x: rs.allpts[i - 2],\n          y: rs.allpts[i - 1]\n        }, {\n          x: rs.allpts[i],\n          y: rs.allpts[i + 1],\n          radius: radius\n        }, {\n          x: rs.allpts[i + 2],\n          y: rs.allpts[i + 3]\n        }, radius, isArcRadius));\n      }\n    }\n    if (rs.segpts.length % 4 === 0) {\n      var i2 = rs.segpts.length / 2;\n      var i1 = i2 - 2;\n      rs.midX = (rs.segpts[i1] + rs.segpts[i2]) / 2;\n      rs.midY = (rs.segpts[i1 + 1] + rs.segpts[i2 + 1]) / 2;\n    } else {\n      var _i = rs.segpts.length / 2 - 1;\n      if (!rs.isRound) {\n        rs.midX = rs.segpts[_i];\n        rs.midY = rs.segpts[_i + 1];\n      } else {\n        var point = {\n          x: rs.segpts[_i],\n          y: rs.segpts[_i + 1]\n        };\n        var corner = rs.roundCorners[_i / 2];\n        var v = [point.x - corner.cx, point.y - corner.cy];\n        var factor = corner.radius / Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n        v = v.map(function (c) {\n          return c * factor;\n        });\n        rs.midX = corner.cx + v[0];\n        rs.midY = corner.cy + v[1];\n        rs.midVector = v;\n      }\n    }\n  }\n};\nBRp$c.checkForInvalidEdgeWarning = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  if (rs.nodesOverlap || number$1(rs.startX) && number$1(rs.startY) && number$1(rs.endX) && number$1(rs.endY)) {\n    rs.loggedErr = false;\n  } else {\n    if (!rs.loggedErr) {\n      rs.loggedErr = true;\n      warn('Edge `' + edge.id() + '` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.');\n    }\n  }\n};\nBRp$c.findEdgeControlPoints = function (edges) {\n  var _this = this;\n  if (!edges || edges.length === 0) {\n    return;\n  }\n  var r = this;\n  var cy = r.cy;\n  var hasCompounds = cy.hasCompoundNodes();\n  var hashTable = {\n    map: new Map$2(),\n    get: function get(pairId) {\n      var map2 = this.map.get(pairId[0]);\n      if (map2 != null) {\n        return map2.get(pairId[1]);\n      } else {\n        return null;\n      }\n    },\n    set: function set(pairId, val) {\n      var map2 = this.map.get(pairId[0]);\n      if (map2 == null) {\n        map2 = new Map$2();\n        this.map.set(pairId[0], map2);\n      }\n      map2.set(pairId[1], val);\n    }\n  };\n  var pairIds = [];\n  var haystackEdges = [];\n\n  // create a table of edge (src, tgt) => list of edges between them\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    var _p = edge._private;\n    var curveStyle = edge.pstyle('curve-style').value;\n\n    // ignore edges who are not to be displayed\n    // they shouldn't take up space\n    if (edge.removed() || !edge.takesUpSpace()) {\n      continue;\n    }\n    if (curveStyle === 'haystack') {\n      haystackEdges.push(edge);\n      continue;\n    }\n    var edgeIsUnbundled = curveStyle === 'unbundled-bezier' || curveStyle.endsWith('segments') || curveStyle === 'straight' || curveStyle === 'straight-triangle' || curveStyle.endsWith('taxi');\n    var edgeIsBezier = curveStyle === 'unbundled-bezier' || curveStyle === 'bezier';\n    var src = _p.source;\n    var tgt = _p.target;\n    var srcIndex = src.poolIndex();\n    var tgtIndex = tgt.poolIndex();\n    var pairId = [srcIndex, tgtIndex].sort();\n    var tableEntry = hashTable.get(pairId);\n    if (tableEntry == null) {\n      tableEntry = {\n        eles: []\n      };\n      hashTable.set(pairId, tableEntry);\n      pairIds.push(pairId);\n    }\n    tableEntry.eles.push(edge);\n    if (edgeIsUnbundled) {\n      tableEntry.hasUnbundled = true;\n    }\n    if (edgeIsBezier) {\n      tableEntry.hasBezier = true;\n    }\n  }\n\n  // for each pair (src, tgt), create the ctrl pts\n  // Nested for loop is OK; total number of iterations for both loops = edgeCount\n  var _loop = function _loop(p) {\n    var pairId = pairIds[p];\n    var pairInfo = hashTable.get(pairId);\n    var swappedpairInfo = void 0;\n    if (!pairInfo.hasUnbundled) {\n      var pllEdges = pairInfo.eles[0].parallelEdges().filter(function (e) {\n        return e.isBundledBezier();\n      });\n      clearArray(pairInfo.eles);\n      pllEdges.forEach(function (edge) {\n        return pairInfo.eles.push(edge);\n      });\n\n      // for each pair id, the edges should be sorted by index\n      pairInfo.eles.sort(function (edge1, edge2) {\n        return edge1.poolIndex() - edge2.poolIndex();\n      });\n    }\n    var firstEdge = pairInfo.eles[0];\n    var src = firstEdge.source();\n    var tgt = firstEdge.target();\n\n    // make sure src/tgt distinction is consistent w.r.t. pairId\n    if (src.poolIndex() > tgt.poolIndex()) {\n      var temp = src;\n      src = tgt;\n      tgt = temp;\n    }\n    var srcPos = pairInfo.srcPos = src.position();\n    var tgtPos = pairInfo.tgtPos = tgt.position();\n    var srcW = pairInfo.srcW = src.outerWidth();\n    var srcH = pairInfo.srcH = src.outerHeight();\n    var tgtW = pairInfo.tgtW = tgt.outerWidth();\n    var tgtH = pairInfo.tgtH = tgt.outerHeight();\n    var srcShape = pairInfo.srcShape = r.nodeShapes[_this.getNodeShape(src)];\n    var tgtShape = pairInfo.tgtShape = r.nodeShapes[_this.getNodeShape(tgt)];\n    var srcCornerRadius = pairInfo.srcCornerRadius = src.pstyle('corner-radius').value === 'auto' ? 'auto' : src.pstyle('corner-radius').pfValue;\n    var tgtCornerRadius = pairInfo.tgtCornerRadius = tgt.pstyle('corner-radius').value === 'auto' ? 'auto' : tgt.pstyle('corner-radius').pfValue;\n    var tgtRs = pairInfo.tgtRs = tgt._private.rscratch;\n    var srcRs = pairInfo.srcRs = src._private.rscratch;\n    pairInfo.dirCounts = {\n      'north': 0,\n      'west': 0,\n      'south': 0,\n      'east': 0,\n      'northwest': 0,\n      'southwest': 0,\n      'northeast': 0,\n      'southeast': 0\n    };\n    for (var _i2 = 0; _i2 < pairInfo.eles.length; _i2++) {\n      var _edge = pairInfo.eles[_i2];\n      var rs = _edge[0]._private.rscratch;\n      var _curveStyle = _edge.pstyle('curve-style').value;\n      var _edgeIsUnbundled = _curveStyle === 'unbundled-bezier' || _curveStyle.endsWith('segments') || _curveStyle.endsWith('taxi');\n\n      // whether the normalised pair order is the reverse of the edge's src-tgt order\n      var edgeIsSwapped = !src.same(_edge.source());\n      if (!pairInfo.calculatedIntersection && src !== tgt && (pairInfo.hasBezier || pairInfo.hasUnbundled)) {\n        pairInfo.calculatedIntersection = true;\n\n        // pt outside src shape to calc distance/displacement from src to tgt\n        var srcOutside = srcShape.intersectLine(srcPos.x, srcPos.y, srcW, srcH, tgtPos.x, tgtPos.y, 0, srcCornerRadius, srcRs);\n        var srcIntn = pairInfo.srcIntn = srcOutside;\n\n        // pt outside tgt shape to calc distance/displacement from src to tgt\n        var tgtOutside = tgtShape.intersectLine(tgtPos.x, tgtPos.y, tgtW, tgtH, srcPos.x, srcPos.y, 0, tgtCornerRadius, tgtRs);\n        var tgtIntn = pairInfo.tgtIntn = tgtOutside;\n        var intersectionPts = pairInfo.intersectionPts = {\n          x1: srcOutside[0],\n          x2: tgtOutside[0],\n          y1: srcOutside[1],\n          y2: tgtOutside[1]\n        };\n        var posPts = pairInfo.posPts = {\n          x1: srcPos.x,\n          x2: tgtPos.x,\n          y1: srcPos.y,\n          y2: tgtPos.y\n        };\n        var dy = tgtOutside[1] - srcOutside[1];\n        var dx = tgtOutside[0] - srcOutside[0];\n        var l = Math.sqrt(dx * dx + dy * dy);\n        var vector = pairInfo.vector = {\n          x: dx,\n          y: dy\n        };\n        var vectorNorm = pairInfo.vectorNorm = {\n          x: vector.x / l,\n          y: vector.y / l\n        };\n        var vectorNormInverse = {\n          x: -vectorNorm.y,\n          y: vectorNorm.x\n        };\n\n        // if node shapes overlap, then no ctrl pts to draw\n        pairInfo.nodesOverlap = !number$1(l) || tgtShape.checkPoint(srcOutside[0], srcOutside[1], 0, tgtW, tgtH, tgtPos.x, tgtPos.y, tgtCornerRadius, tgtRs) || srcShape.checkPoint(tgtOutside[0], tgtOutside[1], 0, srcW, srcH, srcPos.x, srcPos.y, srcCornerRadius, srcRs);\n        pairInfo.vectorNormInverse = vectorNormInverse;\n        swappedpairInfo = {\n          nodesOverlap: pairInfo.nodesOverlap,\n          dirCounts: pairInfo.dirCounts,\n          calculatedIntersection: true,\n          hasBezier: pairInfo.hasBezier,\n          hasUnbundled: pairInfo.hasUnbundled,\n          eles: pairInfo.eles,\n          srcPos: tgtPos,\n          tgtPos: srcPos,\n          srcW: tgtW,\n          srcH: tgtH,\n          tgtW: srcW,\n          tgtH: srcH,\n          srcIntn: tgtIntn,\n          tgtIntn: srcIntn,\n          srcShape: tgtShape,\n          tgtShape: srcShape,\n          posPts: {\n            x1: posPts.x2,\n            y1: posPts.y2,\n            x2: posPts.x1,\n            y2: posPts.y1\n          },\n          intersectionPts: {\n            x1: intersectionPts.x2,\n            y1: intersectionPts.y2,\n            x2: intersectionPts.x1,\n            y2: intersectionPts.y1\n          },\n          vector: {\n            x: -vector.x,\n            y: -vector.y\n          },\n          vectorNorm: {\n            x: -vectorNorm.x,\n            y: -vectorNorm.y\n          },\n          vectorNormInverse: {\n            x: -vectorNormInverse.x,\n            y: -vectorNormInverse.y\n          }\n        };\n      }\n      var passedPairInfo = edgeIsSwapped ? swappedpairInfo : pairInfo;\n      rs.nodesOverlap = passedPairInfo.nodesOverlap;\n      rs.srcIntn = passedPairInfo.srcIntn;\n      rs.tgtIntn = passedPairInfo.tgtIntn;\n      rs.isRound = _curveStyle.startsWith('round');\n      if (hasCompounds && (src.isParent() || src.isChild() || tgt.isParent() || tgt.isChild()) && (src.parents().anySame(tgt) || tgt.parents().anySame(src) || src.same(tgt) && src.isParent())) {\n        _this.findCompoundLoopPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled);\n      } else if (src === tgt) {\n        _this.findLoopPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled);\n      } else if (_curveStyle.endsWith('segments')) {\n        _this.findSegmentsPoints(_edge, passedPairInfo);\n      } else if (_curveStyle.endsWith('taxi')) {\n        _this.findTaxiPoints(_edge, passedPairInfo);\n      } else if (_curveStyle === 'straight' || !_edgeIsUnbundled && pairInfo.eles.length % 2 === 1 && _i2 === Math.floor(pairInfo.eles.length / 2)) {\n        _this.findStraightEdgePoints(_edge);\n      } else {\n        _this.findBezierPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled, edgeIsSwapped);\n      }\n      _this.findEndpoints(_edge);\n      _this.tryToCorrectInvalidPoints(_edge, passedPairInfo);\n      _this.checkForInvalidEdgeWarning(_edge);\n      _this.storeAllpts(_edge);\n      _this.storeEdgeProjections(_edge);\n      _this.calculateArrowAngles(_edge);\n      _this.recalculateEdgeLabelProjections(_edge);\n      _this.calculateLabelAngles(_edge);\n    } // for pair edges\n  };\n  for (var p = 0; p < pairIds.length; p++) {\n    _loop(p);\n  } // for pair ids\n\n  // haystacks avoid the expense of pairInfo stuff (intersections etc.)\n  this.findHaystackPoints(haystackEdges);\n};\nfunction getPts(pts) {\n  var retPts = [];\n  if (pts == null) {\n    return;\n  }\n  for (var i = 0; i < pts.length; i += 2) {\n    var x = pts[i];\n    var y = pts[i + 1];\n    retPts.push({\n      x: x,\n      y: y\n    });\n  }\n  return retPts;\n}\nBRp$c.getSegmentPoints = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  var type = rs.edgeType;\n  if (type === 'segments') {\n    this.recalculateRenderedStyle(edge);\n    return getPts(rs.segpts);\n  }\n};\nBRp$c.getControlPoints = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  var type = rs.edgeType;\n  if (type === 'bezier' || type === 'multibezier' || type === 'self' || type === 'compound') {\n    this.recalculateRenderedStyle(edge);\n    return getPts(rs.ctrlpts);\n  }\n};\nBRp$c.getEdgeMidpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  this.recalculateRenderedStyle(edge);\n  return {\n    x: rs.midX,\n    y: rs.midY\n  };\n};\n\nvar BRp$b = {};\nBRp$b.manualEndptToPx = function (node, prop) {\n  var r = this;\n  var npos = node.position();\n  var w = node.outerWidth();\n  var h = node.outerHeight();\n  var rs = node._private.rscratch;\n  if (prop.value.length === 2) {\n    var p = [prop.pfValue[0], prop.pfValue[1]];\n    if (prop.units[0] === '%') {\n      p[0] = p[0] * w;\n    }\n    if (prop.units[1] === '%') {\n      p[1] = p[1] * h;\n    }\n    p[0] += npos.x;\n    p[1] += npos.y;\n    return p;\n  } else {\n    var angle = prop.pfValue[0];\n    angle = -Math.PI / 2 + angle; // start at 12 o'clock\n\n    var l = 2 * Math.max(w, h);\n    var _p = [npos.x + Math.cos(angle) * l, npos.y + Math.sin(angle) * l];\n    return r.nodeShapes[this.getNodeShape(node)].intersectLine(npos.x, npos.y, w, h, _p[0], _p[1], 0, node.pstyle('corner-radius').value === 'auto' ? 'auto' : node.pstyle('corner-radius').pfValue, rs);\n  }\n};\nBRp$b.findEndpoints = function (edge) {\n  var r = this;\n  var intersect;\n  var source = edge.source()[0];\n  var target = edge.target()[0];\n  var srcPos = source.position();\n  var tgtPos = target.position();\n  var tgtArShape = edge.pstyle('target-arrow-shape').value;\n  var srcArShape = edge.pstyle('source-arrow-shape').value;\n  var tgtDist = edge.pstyle('target-distance-from-node').pfValue;\n  var srcDist = edge.pstyle('source-distance-from-node').pfValue;\n  var srcRs = source._private.rscratch;\n  var tgtRs = target._private.rscratch;\n  var curveStyle = edge.pstyle('curve-style').value;\n  var rs = edge._private.rscratch;\n  var et = rs.edgeType;\n  var taxi = curveStyle === 'taxi';\n  var self = et === 'self' || et === 'compound';\n  var bezier = et === 'bezier' || et === 'multibezier' || self;\n  var multi = et !== 'bezier';\n  var lines = et === 'straight' || et === 'segments';\n  var segments = et === 'segments';\n  var hasEndpts = bezier || multi || lines;\n  var overrideEndpts = self || taxi;\n  var srcManEndpt = edge.pstyle('source-endpoint');\n  var srcManEndptVal = overrideEndpts ? 'outside-to-node' : srcManEndpt.value;\n  var srcCornerRadius = source.pstyle('corner-radius').value === 'auto' ? 'auto' : source.pstyle('corner-radius').pfValue;\n  var tgtManEndpt = edge.pstyle('target-endpoint');\n  var tgtManEndptVal = overrideEndpts ? 'outside-to-node' : tgtManEndpt.value;\n  var tgtCornerRadius = target.pstyle('corner-radius').value === 'auto' ? 'auto' : target.pstyle('corner-radius').pfValue;\n  rs.srcManEndpt = srcManEndpt;\n  rs.tgtManEndpt = tgtManEndpt;\n  var p1; // last known point of edge on target side\n  var p2; // last known point of edge on source side\n\n  var p1_i; // point to intersect with target shape\n  var p2_i; // point to intersect with source shape\n\n  if (bezier) {\n    var cpStart = [rs.ctrlpts[0], rs.ctrlpts[1]];\n    var cpEnd = multi ? [rs.ctrlpts[rs.ctrlpts.length - 2], rs.ctrlpts[rs.ctrlpts.length - 1]] : cpStart;\n    p1 = cpEnd;\n    p2 = cpStart;\n  } else if (lines) {\n    var srcArrowFromPt = !segments ? [tgtPos.x, tgtPos.y] : rs.segpts.slice(0, 2);\n    var tgtArrowFromPt = !segments ? [srcPos.x, srcPos.y] : rs.segpts.slice(rs.segpts.length - 2);\n    p1 = tgtArrowFromPt;\n    p2 = srcArrowFromPt;\n  }\n  if (tgtManEndptVal === 'inside-to-node') {\n    intersect = [tgtPos.x, tgtPos.y];\n  } else if (tgtManEndpt.units) {\n    intersect = this.manualEndptToPx(target, tgtManEndpt);\n  } else if (tgtManEndptVal === 'outside-to-line') {\n    intersect = rs.tgtIntn; // use cached value from ctrlpt calc\n  } else {\n    if (tgtManEndptVal === 'outside-to-node' || tgtManEndptVal === 'outside-to-node-or-label') {\n      p1_i = p1;\n    } else if (tgtManEndptVal === 'outside-to-line' || tgtManEndptVal === 'outside-to-line-or-label') {\n      p1_i = [srcPos.x, srcPos.y];\n    }\n    intersect = r.nodeShapes[this.getNodeShape(target)].intersectLine(tgtPos.x, tgtPos.y, target.outerWidth(), target.outerHeight(), p1_i[0], p1_i[1], 0, tgtCornerRadius, tgtRs);\n    if (tgtManEndptVal === 'outside-to-node-or-label' || tgtManEndptVal === 'outside-to-line-or-label') {\n      var trs = target._private.rscratch;\n      var lw = trs.labelWidth;\n      var lh = trs.labelHeight;\n      var lx = trs.labelX;\n      var ly = trs.labelY;\n      var lw2 = lw / 2;\n      var lh2 = lh / 2;\n      var va = target.pstyle('text-valign').value;\n      if (va === 'top') {\n        ly -= lh2;\n      } else if (va === 'bottom') {\n        ly += lh2;\n      }\n      var ha = target.pstyle('text-halign').value;\n      if (ha === 'left') {\n        lx -= lw2;\n      } else if (ha === 'right') {\n        lx += lw2;\n      }\n      var labelIntersect = polygonIntersectLine(p1_i[0], p1_i[1], [lx - lw2, ly - lh2, lx + lw2, ly - lh2, lx + lw2, ly + lh2, lx - lw2, ly + lh2], tgtPos.x, tgtPos.y);\n      if (labelIntersect.length > 0) {\n        var refPt = srcPos;\n        var intSqdist = sqdist(refPt, array2point(intersect));\n        var labIntSqdist = sqdist(refPt, array2point(labelIntersect));\n        var minSqDist = intSqdist;\n        if (labIntSqdist < intSqdist) {\n          intersect = labelIntersect;\n          minSqDist = labIntSqdist;\n        }\n        if (labelIntersect.length > 2) {\n          var labInt2SqDist = sqdist(refPt, {\n            x: labelIntersect[2],\n            y: labelIntersect[3]\n          });\n          if (labInt2SqDist < minSqDist) {\n            intersect = [labelIntersect[2], labelIntersect[3]];\n          }\n        }\n      }\n    }\n  }\n  var arrowEnd = shortenIntersection(intersect, p1, r.arrowShapes[tgtArShape].spacing(edge) + tgtDist);\n  var edgeEnd = shortenIntersection(intersect, p1, r.arrowShapes[tgtArShape].gap(edge) + tgtDist);\n  rs.endX = edgeEnd[0];\n  rs.endY = edgeEnd[1];\n  rs.arrowEndX = arrowEnd[0];\n  rs.arrowEndY = arrowEnd[1];\n  if (srcManEndptVal === 'inside-to-node') {\n    intersect = [srcPos.x, srcPos.y];\n  } else if (srcManEndpt.units) {\n    intersect = this.manualEndptToPx(source, srcManEndpt);\n  } else if (srcManEndptVal === 'outside-to-line') {\n    intersect = rs.srcIntn; // use cached value from ctrlpt calc\n  } else {\n    if (srcManEndptVal === 'outside-to-node' || srcManEndptVal === 'outside-to-node-or-label') {\n      p2_i = p2;\n    } else if (srcManEndptVal === 'outside-to-line' || srcManEndptVal === 'outside-to-line-or-label') {\n      p2_i = [tgtPos.x, tgtPos.y];\n    }\n    intersect = r.nodeShapes[this.getNodeShape(source)].intersectLine(srcPos.x, srcPos.y, source.outerWidth(), source.outerHeight(), p2_i[0], p2_i[1], 0, srcCornerRadius, srcRs);\n    if (srcManEndptVal === 'outside-to-node-or-label' || srcManEndptVal === 'outside-to-line-or-label') {\n      var srs = source._private.rscratch;\n      var _lw = srs.labelWidth;\n      var _lh = srs.labelHeight;\n      var _lx = srs.labelX;\n      var _ly = srs.labelY;\n      var _lw2 = _lw / 2;\n      var _lh2 = _lh / 2;\n      var _va = source.pstyle('text-valign').value;\n      if (_va === 'top') {\n        _ly -= _lh2;\n      } else if (_va === 'bottom') {\n        _ly += _lh2;\n      }\n      var _ha = source.pstyle('text-halign').value;\n      if (_ha === 'left') {\n        _lx -= _lw2;\n      } else if (_ha === 'right') {\n        _lx += _lw2;\n      }\n      var _labelIntersect = polygonIntersectLine(p2_i[0], p2_i[1], [_lx - _lw2, _ly - _lh2, _lx + _lw2, _ly - _lh2, _lx + _lw2, _ly + _lh2, _lx - _lw2, _ly + _lh2], srcPos.x, srcPos.y);\n      if (_labelIntersect.length > 0) {\n        var _refPt = tgtPos;\n        var _intSqdist = sqdist(_refPt, array2point(intersect));\n        var _labIntSqdist = sqdist(_refPt, array2point(_labelIntersect));\n        var _minSqDist = _intSqdist;\n        if (_labIntSqdist < _intSqdist) {\n          intersect = [_labelIntersect[0], _labelIntersect[1]];\n          _minSqDist = _labIntSqdist;\n        }\n        if (_labelIntersect.length > 2) {\n          var _labInt2SqDist = sqdist(_refPt, {\n            x: _labelIntersect[2],\n            y: _labelIntersect[3]\n          });\n          if (_labInt2SqDist < _minSqDist) {\n            intersect = [_labelIntersect[2], _labelIntersect[3]];\n          }\n        }\n      }\n    }\n  }\n  var arrowStart = shortenIntersection(intersect, p2, r.arrowShapes[srcArShape].spacing(edge) + srcDist);\n  var edgeStart = shortenIntersection(intersect, p2, r.arrowShapes[srcArShape].gap(edge) + srcDist);\n  rs.startX = edgeStart[0];\n  rs.startY = edgeStart[1];\n  rs.arrowStartX = arrowStart[0];\n  rs.arrowStartY = arrowStart[1];\n  if (hasEndpts) {\n    if (!number$1(rs.startX) || !number$1(rs.startY) || !number$1(rs.endX) || !number$1(rs.endY)) {\n      rs.badLine = true;\n    } else {\n      rs.badLine = false;\n    }\n  }\n};\nBRp$b.getSourceEndpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  this.recalculateRenderedStyle(edge);\n  switch (rs.edgeType) {\n    case 'haystack':\n      return {\n        x: rs.haystackPts[0],\n        y: rs.haystackPts[1]\n      };\n    default:\n      return {\n        x: rs.arrowStartX,\n        y: rs.arrowStartY\n      };\n  }\n};\nBRp$b.getTargetEndpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  this.recalculateRenderedStyle(edge);\n  switch (rs.edgeType) {\n    case 'haystack':\n      return {\n        x: rs.haystackPts[2],\n        y: rs.haystackPts[3]\n      };\n    default:\n      return {\n        x: rs.arrowEndX,\n        y: rs.arrowEndY\n      };\n  }\n};\n\nvar BRp$a = {};\nfunction pushBezierPts(r, edge, pts) {\n  var qbezierAt$1 = function qbezierAt$1(p1, p2, p3, t) {\n    return qbezierAt(p1, p2, p3, t);\n  };\n  var _p = edge._private;\n  var bpts = _p.rstyle.bezierPts;\n  for (var i = 0; i < r.bezierProjPcts.length; i++) {\n    var p = r.bezierProjPcts[i];\n    bpts.push({\n      x: qbezierAt$1(pts[0], pts[2], pts[4], p),\n      y: qbezierAt$1(pts[1], pts[3], pts[5], p)\n    });\n  }\n}\nBRp$a.storeEdgeProjections = function (edge) {\n  var _p = edge._private;\n  var rs = _p.rscratch;\n  var et = rs.edgeType;\n\n  // clear the cached points state\n  _p.rstyle.bezierPts = null;\n  _p.rstyle.linePts = null;\n  _p.rstyle.haystackPts = null;\n  if (et === 'multibezier' || et === 'bezier' || et === 'self' || et === 'compound') {\n    _p.rstyle.bezierPts = [];\n    for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n      pushBezierPts(this, edge, rs.allpts.slice(i, i + 6));\n    }\n  } else if (et === 'segments') {\n    var lpts = _p.rstyle.linePts = [];\n    for (var i = 0; i + 1 < rs.allpts.length; i += 2) {\n      lpts.push({\n        x: rs.allpts[i],\n        y: rs.allpts[i + 1]\n      });\n    }\n  } else if (et === 'haystack') {\n    var hpts = rs.haystackPts;\n    _p.rstyle.haystackPts = [{\n      x: hpts[0],\n      y: hpts[1]\n    }, {\n      x: hpts[2],\n      y: hpts[3]\n    }];\n  }\n  _p.rstyle.arrowWidth = this.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.arrowShapeWidth;\n};\nBRp$a.recalculateEdgeProjections = function (edges) {\n  this.findEdgeControlPoints(edges);\n};\n\n/* global document */\n\nvar BRp$9 = {};\nBRp$9.recalculateNodeLabelProjection = function (node) {\n  var content = node.pstyle('label').strValue;\n  if (emptyString(content)) {\n    return;\n  }\n  var textX, textY;\n  var _p = node._private;\n  var nodeWidth = node.width();\n  var nodeHeight = node.height();\n  var padding = node.padding();\n  var nodePos = node.position();\n  var textHalign = node.pstyle('text-halign').strValue;\n  var textValign = node.pstyle('text-valign').strValue;\n  var rs = _p.rscratch;\n  var rstyle = _p.rstyle;\n  switch (textHalign) {\n    case 'left':\n      textX = nodePos.x - nodeWidth / 2 - padding;\n      break;\n    case 'right':\n      textX = nodePos.x + nodeWidth / 2 + padding;\n      break;\n    default:\n      // e.g. center\n      textX = nodePos.x;\n  }\n  switch (textValign) {\n    case 'top':\n      textY = nodePos.y - nodeHeight / 2 - padding;\n      break;\n    case 'bottom':\n      textY = nodePos.y + nodeHeight / 2 + padding;\n      break;\n    default:\n      // e.g. middle\n      textY = nodePos.y;\n  }\n  rs.labelX = textX;\n  rs.labelY = textY;\n  rstyle.labelX = textX;\n  rstyle.labelY = textY;\n  this.calculateLabelAngles(node);\n  this.applyLabelDimensions(node);\n};\nvar lineAngleFromDelta = function lineAngleFromDelta(dx, dy) {\n  var angle = Math.atan(dy / dx);\n  if (dx === 0 && angle < 0) {\n    angle = angle * -1;\n  }\n  return angle;\n};\nvar lineAngle = function lineAngle(p0, p1) {\n  var dx = p1.x - p0.x;\n  var dy = p1.y - p0.y;\n  return lineAngleFromDelta(dx, dy);\n};\nvar bezierAngle = function bezierAngle(p0, p1, p2, t) {\n  var t0 = bound(0, t - 0.001, 1);\n  var t1 = bound(0, t + 0.001, 1);\n  var lp0 = qbezierPtAt(p0, p1, p2, t0);\n  var lp1 = qbezierPtAt(p0, p1, p2, t1);\n  return lineAngle(lp0, lp1);\n};\nBRp$9.recalculateEdgeLabelProjections = function (edge) {\n  var p;\n  var _p = edge._private;\n  var rs = _p.rscratch;\n  var r = this;\n  var content = {\n    mid: edge.pstyle('label').strValue,\n    source: edge.pstyle('source-label').strValue,\n    target: edge.pstyle('target-label').strValue\n  };\n  if (content.mid || content.source || content.target) ; else {\n    return; // no labels => no calcs\n  }\n\n  // add center point to style so bounding box calculations can use it\n  //\n  p = {\n    x: rs.midX,\n    y: rs.midY\n  };\n  var setRs = function setRs(propName, prefix, value) {\n    setPrefixedProperty(_p.rscratch, propName, prefix, value);\n    setPrefixedProperty(_p.rstyle, propName, prefix, value);\n  };\n  setRs('labelX', null, p.x);\n  setRs('labelY', null, p.y);\n  var midAngle = lineAngleFromDelta(rs.midDispX, rs.midDispY);\n  setRs('labelAutoAngle', null, midAngle);\n  var createControlPointInfo = function createControlPointInfo() {\n    if (createControlPointInfo.cache) {\n      return createControlPointInfo.cache;\n    } // use cache so only 1x per edge\n\n    var ctrlpts = [];\n\n    // store each ctrlpt info init\n    for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n      var p0 = {\n        x: rs.allpts[i],\n        y: rs.allpts[i + 1]\n      };\n      var p1 = {\n        x: rs.allpts[i + 2],\n        y: rs.allpts[i + 3]\n      }; // ctrlpt\n      var p2 = {\n        x: rs.allpts[i + 4],\n        y: rs.allpts[i + 5]\n      };\n      ctrlpts.push({\n        p0: p0,\n        p1: p1,\n        p2: p2,\n        startDist: 0,\n        length: 0,\n        segments: []\n      });\n    }\n    var bpts = _p.rstyle.bezierPts;\n    var nProjs = r.bezierProjPcts.length;\n    function addSegment(cp, p0, p1, t0, t1) {\n      var length = dist(p0, p1);\n      var prevSegment = cp.segments[cp.segments.length - 1];\n      var segment = {\n        p0: p0,\n        p1: p1,\n        t0: t0,\n        t1: t1,\n        startDist: prevSegment ? prevSegment.startDist + prevSegment.length : 0,\n        length: length\n      };\n      cp.segments.push(segment);\n      cp.length += length;\n    }\n\n    // update each ctrlpt with segment info\n    for (var _i = 0; _i < ctrlpts.length; _i++) {\n      var cp = ctrlpts[_i];\n      var prevCp = ctrlpts[_i - 1];\n      if (prevCp) {\n        cp.startDist = prevCp.startDist + prevCp.length;\n      }\n      addSegment(cp, cp.p0, bpts[_i * nProjs], 0, r.bezierProjPcts[0]); // first\n\n      for (var j = 0; j < nProjs - 1; j++) {\n        addSegment(cp, bpts[_i * nProjs + j], bpts[_i * nProjs + j + 1], r.bezierProjPcts[j], r.bezierProjPcts[j + 1]);\n      }\n      addSegment(cp, bpts[_i * nProjs + nProjs - 1], cp.p2, r.bezierProjPcts[nProjs - 1], 1); // last\n    }\n\n    return createControlPointInfo.cache = ctrlpts;\n  };\n  var calculateEndProjection = function calculateEndProjection(prefix) {\n    var angle;\n    var isSrc = prefix === 'source';\n    if (!content[prefix]) {\n      return;\n    }\n    var offset = edge.pstyle(prefix + '-text-offset').pfValue;\n    switch (rs.edgeType) {\n      case 'self':\n      case 'compound':\n      case 'bezier':\n      case 'multibezier':\n        {\n          var cps = createControlPointInfo();\n          var selected;\n          var startDist = 0;\n          var totalDist = 0;\n\n          // find the segment we're on\n          for (var i = 0; i < cps.length; i++) {\n            var _cp = cps[isSrc ? i : cps.length - 1 - i];\n            for (var j = 0; j < _cp.segments.length; j++) {\n              var _seg = _cp.segments[isSrc ? j : _cp.segments.length - 1 - j];\n              var lastSeg = i === cps.length - 1 && j === _cp.segments.length - 1;\n              startDist = totalDist;\n              totalDist += _seg.length;\n              if (totalDist >= offset || lastSeg) {\n                selected = {\n                  cp: _cp,\n                  segment: _seg\n                };\n                break;\n              }\n            }\n            if (selected) {\n              break;\n            }\n          }\n          var cp = selected.cp;\n          var seg = selected.segment;\n          var tSegment = (offset - startDist) / seg.length;\n          var segDt = seg.t1 - seg.t0;\n          var t = isSrc ? seg.t0 + segDt * tSegment : seg.t1 - segDt * tSegment;\n          t = bound(0, t, 1);\n          p = qbezierPtAt(cp.p0, cp.p1, cp.p2, t);\n          angle = bezierAngle(cp.p0, cp.p1, cp.p2, t);\n          break;\n        }\n      case 'straight':\n      case 'segments':\n      case 'haystack':\n        {\n          var d = 0,\n            di,\n            d0;\n          var p0, p1;\n          var l = rs.allpts.length;\n          for (var _i2 = 0; _i2 + 3 < l; _i2 += 2) {\n            if (isSrc) {\n              p0 = {\n                x: rs.allpts[_i2],\n                y: rs.allpts[_i2 + 1]\n              };\n              p1 = {\n                x: rs.allpts[_i2 + 2],\n                y: rs.allpts[_i2 + 3]\n              };\n            } else {\n              p0 = {\n                x: rs.allpts[l - 2 - _i2],\n                y: rs.allpts[l - 1 - _i2]\n              };\n              p1 = {\n                x: rs.allpts[l - 4 - _i2],\n                y: rs.allpts[l - 3 - _i2]\n              };\n            }\n            di = dist(p0, p1);\n            d0 = d;\n            d += di;\n            if (d >= offset) {\n              break;\n            }\n          }\n          var pD = offset - d0;\n          var _t = pD / di;\n          _t = bound(0, _t, 1);\n          p = lineAt(p0, p1, _t);\n          angle = lineAngle(p0, p1);\n          break;\n        }\n    }\n    setRs('labelX', prefix, p.x);\n    setRs('labelY', prefix, p.y);\n    setRs('labelAutoAngle', prefix, angle);\n  };\n  calculateEndProjection('source');\n  calculateEndProjection('target');\n  this.applyLabelDimensions(edge);\n};\nBRp$9.applyLabelDimensions = function (ele) {\n  this.applyPrefixedLabelDimensions(ele);\n  if (ele.isEdge()) {\n    this.applyPrefixedLabelDimensions(ele, 'source');\n    this.applyPrefixedLabelDimensions(ele, 'target');\n  }\n};\nBRp$9.applyPrefixedLabelDimensions = function (ele, prefix) {\n  var _p = ele._private;\n  var text = this.getLabelText(ele, prefix);\n  var labelDims = this.calculateLabelDimensions(ele, text);\n  var lineHeight = ele.pstyle('line-height').pfValue;\n  var textWrap = ele.pstyle('text-wrap').strValue;\n  var lines = getPrefixedProperty(_p.rscratch, 'labelWrapCachedLines', prefix) || [];\n  var numLines = textWrap !== 'wrap' ? 1 : Math.max(lines.length, 1);\n  var normPerLineHeight = labelDims.height / numLines;\n  var labelLineHeight = normPerLineHeight * lineHeight;\n  var width = labelDims.width;\n  var height = labelDims.height + (numLines - 1) * (lineHeight - 1) * normPerLineHeight;\n  setPrefixedProperty(_p.rstyle, 'labelWidth', prefix, width);\n  setPrefixedProperty(_p.rscratch, 'labelWidth', prefix, width);\n  setPrefixedProperty(_p.rstyle, 'labelHeight', prefix, height);\n  setPrefixedProperty(_p.rscratch, 'labelHeight', prefix, height);\n  setPrefixedProperty(_p.rscratch, 'labelLineHeight', prefix, labelLineHeight);\n};\nBRp$9.getLabelText = function (ele, prefix) {\n  var _p = ele._private;\n  var pfd = prefix ? prefix + '-' : '';\n  var text = ele.pstyle(pfd + 'label').strValue;\n  var textTransform = ele.pstyle('text-transform').value;\n  var rscratch = function rscratch(propName, value) {\n    if (value) {\n      setPrefixedProperty(_p.rscratch, propName, prefix, value);\n      return value;\n    } else {\n      return getPrefixedProperty(_p.rscratch, propName, prefix);\n    }\n  };\n\n  // for empty text, skip all processing\n  if (!text) {\n    return '';\n  }\n  if (textTransform == 'none') ; else if (textTransform == 'uppercase') {\n    text = text.toUpperCase();\n  } else if (textTransform == 'lowercase') {\n    text = text.toLowerCase();\n  }\n  var wrapStyle = ele.pstyle('text-wrap').value;\n  if (wrapStyle === 'wrap') {\n    var labelKey = rscratch('labelKey');\n\n    // save recalc if the label is the same as before\n    if (labelKey != null && rscratch('labelWrapKey') === labelKey) {\n      return rscratch('labelWrapCachedText');\n    }\n    var zwsp = \"\\u200B\";\n    var lines = text.split('\\n');\n    var maxW = ele.pstyle('text-max-width').pfValue;\n    var overflow = ele.pstyle('text-overflow-wrap').value;\n    var overflowAny = overflow === 'anywhere';\n    var wrappedLines = [];\n    var separatorRegex = /[\\s\\u200b]+|$/g; // Include end of string to add last word\n\n    for (var l = 0; l < lines.length; l++) {\n      var line = lines[l];\n      var lineDims = this.calculateLabelDimensions(ele, line);\n      var lineW = lineDims.width;\n      if (overflowAny) {\n        var processedLine = line.split('').join(zwsp);\n        line = processedLine;\n      }\n      if (lineW > maxW) {\n        // line is too long\n        var separatorMatches = line.matchAll(separatorRegex);\n        var subline = '';\n        var previousIndex = 0;\n        // Add fake match\n        var _iterator = _createForOfIteratorHelper(separatorMatches),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var separatorMatch = _step.value;\n            var wordSeparator = separatorMatch[0];\n            var word = line.substring(previousIndex, separatorMatch.index);\n            previousIndex = separatorMatch.index + wordSeparator.length;\n            var testLine = subline.length === 0 ? word : subline + word + wordSeparator;\n            var testDims = this.calculateLabelDimensions(ele, testLine);\n            var testW = testDims.width;\n            if (testW <= maxW) {\n              // word fits on current line\n              subline += word + wordSeparator;\n            } else {\n              // word starts new line\n              if (subline) {\n                wrappedLines.push(subline);\n              }\n              subline = word + wordSeparator;\n            }\n          }\n\n          // if there's remaining text, put it in a wrapped line\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        if (!subline.match(/^[\\s\\u200b]+$/)) {\n          wrappedLines.push(subline);\n        }\n      } else {\n        // line is already short enough\n        wrappedLines.push(line);\n      }\n    } // for\n\n    rscratch('labelWrapCachedLines', wrappedLines);\n    text = rscratch('labelWrapCachedText', wrappedLines.join('\\n'));\n    rscratch('labelWrapKey', labelKey);\n  } else if (wrapStyle === 'ellipsis') {\n    var _maxW = ele.pstyle('text-max-width').pfValue;\n    var ellipsized = '';\n    var ellipsis = \"\\u2026\";\n    var incLastCh = false;\n    if (this.calculateLabelDimensions(ele, text).width < _maxW) {\n      // the label already fits\n      return text;\n    }\n    for (var i = 0; i < text.length; i++) {\n      var widthWithNextCh = this.calculateLabelDimensions(ele, ellipsized + text[i] + ellipsis).width;\n      if (widthWithNextCh > _maxW) {\n        break;\n      }\n      ellipsized += text[i];\n      if (i === text.length - 1) {\n        incLastCh = true;\n      }\n    }\n    if (!incLastCh) {\n      ellipsized += ellipsis;\n    }\n    return ellipsized;\n  } // if ellipsize\n\n  return text;\n};\nBRp$9.getLabelJustification = function (ele) {\n  var justification = ele.pstyle('text-justification').strValue;\n  var textHalign = ele.pstyle('text-halign').strValue;\n  if (justification === 'auto') {\n    if (ele.isNode()) {\n      switch (textHalign) {\n        case 'left':\n          return 'right';\n        case 'right':\n          return 'left';\n        default:\n          return 'center';\n      }\n    } else {\n      return 'center';\n    }\n  } else {\n    return justification;\n  }\n};\nBRp$9.calculateLabelDimensions = function (ele, text) {\n  var r = this;\n  var cacheKey = hashString(text, ele._private.labelDimsKey);\n  var cache = r.labelDimCache || (r.labelDimCache = []);\n  var existingVal = cache[cacheKey];\n  if (existingVal != null) {\n    return existingVal;\n  }\n  var padding = 0; // add padding around text dims, as the measurement isn't that accurate\n  var fStyle = ele.pstyle('font-style').strValue;\n  var size = ele.pstyle('font-size').pfValue;\n  var family = ele.pstyle('font-family').strValue;\n  var weight = ele.pstyle('font-weight').strValue;\n  var canvas = this.labelCalcCanvas;\n  var c2d = this.labelCalcCanvasContext;\n  if (!canvas) {\n    canvas = this.labelCalcCanvas = document.createElement('canvas');\n    c2d = this.labelCalcCanvasContext = canvas.getContext('2d');\n    var ds = canvas.style;\n    ds.position = 'absolute';\n    ds.left = '-9999px';\n    ds.top = '-9999px';\n    ds.zIndex = '-1';\n    ds.visibility = 'hidden';\n    ds.pointerEvents = 'none';\n  }\n  c2d.font = \"\".concat(fStyle, \" \").concat(weight, \" \").concat(size, \"px \").concat(family);\n  var width = 0;\n  var height = 0;\n  var lines = text.split('\\n');\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var metrics = c2d.measureText(line);\n    var w = Math.ceil(metrics.width);\n    var h = size;\n    width = Math.max(w, width);\n    height += h;\n  }\n  width += padding;\n  height += padding;\n  return cache[cacheKey] = {\n    width: width,\n    height: height\n  };\n};\nBRp$9.calculateLabelAngle = function (ele, prefix) {\n  var _p = ele._private;\n  var rs = _p.rscratch;\n  var isEdge = ele.isEdge();\n  var prefixDash = prefix ? prefix + '-' : '';\n  var rot = ele.pstyle(prefixDash + 'text-rotation');\n  var rotStr = rot.strValue;\n  if (rotStr === 'none') {\n    return 0;\n  } else if (isEdge && rotStr === 'autorotate') {\n    return rs.labelAutoAngle;\n  } else if (rotStr === 'autorotate') {\n    return 0;\n  } else {\n    return rot.pfValue;\n  }\n};\nBRp$9.calculateLabelAngles = function (ele) {\n  var r = this;\n  var isEdge = ele.isEdge();\n  var _p = ele._private;\n  var rs = _p.rscratch;\n  rs.labelAngle = r.calculateLabelAngle(ele);\n  if (isEdge) {\n    rs.sourceLabelAngle = r.calculateLabelAngle(ele, 'source');\n    rs.targetLabelAngle = r.calculateLabelAngle(ele, 'target');\n  }\n};\n\nvar BRp$8 = {};\nvar TOO_SMALL_CUT_RECT = 28;\nvar warnedCutRect = false;\nBRp$8.getNodeShape = function (node) {\n  var r = this;\n  var shape = node.pstyle('shape').value;\n  if (shape === 'cutrectangle' && (node.width() < TOO_SMALL_CUT_RECT || node.height() < TOO_SMALL_CUT_RECT)) {\n    if (!warnedCutRect) {\n      warn('The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead');\n      warnedCutRect = true;\n    }\n    return 'rectangle';\n  }\n  if (node.isParent()) {\n    if (shape === 'rectangle' || shape === 'roundrectangle' || shape === 'round-rectangle' || shape === 'cutrectangle' || shape === 'cut-rectangle' || shape === 'barrel') {\n      return shape;\n    } else {\n      return 'rectangle';\n    }\n  }\n  if (shape === 'polygon') {\n    var points = node.pstyle('shape-polygon-points').value;\n    return r.nodeShapes.makePolygon(points).name;\n  }\n  return shape;\n};\n\nvar BRp$7 = {};\nBRp$7.registerCalculationListeners = function () {\n  var cy = this.cy;\n  var elesToUpdate = cy.collection();\n  var r = this;\n  var enqueue = function enqueue(eles) {\n    var dirtyStyleCaches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    elesToUpdate.merge(eles);\n    if (dirtyStyleCaches) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var _p = ele._private;\n        var rstyle = _p.rstyle;\n        rstyle.clean = false;\n        rstyle.cleanConnected = false;\n      }\n    }\n  };\n  r.binder(cy).on('bounds.* dirty.*', function onDirtyBounds(e) {\n    var ele = e.target;\n    enqueue(ele);\n  }).on('style.* background.*', function onDirtyStyle(e) {\n    var ele = e.target;\n    enqueue(ele, false);\n  });\n  var updateEleCalcs = function updateEleCalcs(willDraw) {\n    if (willDraw) {\n      var fns = r.onUpdateEleCalcsFns;\n\n      // because we need to have up-to-date style (e.g. stylesheet mappers)\n      // before calculating rendered style (and pstyle might not be called yet)\n      elesToUpdate.cleanStyle();\n      for (var i = 0; i < elesToUpdate.length; i++) {\n        var ele = elesToUpdate[i];\n        var rstyle = ele._private.rstyle;\n        if (ele.isNode() && !rstyle.cleanConnected) {\n          enqueue(ele.connectedEdges());\n          rstyle.cleanConnected = true;\n        }\n      }\n      if (fns) {\n        for (var _i = 0; _i < fns.length; _i++) {\n          var fn = fns[_i];\n          fn(willDraw, elesToUpdate);\n        }\n      }\n      r.recalculateRenderedStyle(elesToUpdate);\n      elesToUpdate = cy.collection();\n    }\n  };\n  r.flushRenderedStyleQueue = function () {\n    updateEleCalcs(true);\n  };\n  r.beforeRender(updateEleCalcs, r.beforeRenderPriorities.eleCalcs);\n};\nBRp$7.onUpdateEleCalcs = function (fn) {\n  var fns = this.onUpdateEleCalcsFns = this.onUpdateEleCalcsFns || [];\n  fns.push(fn);\n};\nBRp$7.recalculateRenderedStyle = function (eles, useCache) {\n  var isCleanConnected = function isCleanConnected(ele) {\n    return ele._private.rstyle.cleanConnected;\n  };\n  var edges = [];\n  var nodes = [];\n\n  // the renderer can't be used for calcs when destroyed, e.g. ele.boundingBox()\n  if (this.destroyed) {\n    return;\n  }\n\n  // use cache by default for perf\n  if (useCache === undefined) {\n    useCache = true;\n  }\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var _p = ele._private;\n    var rstyle = _p.rstyle;\n\n    // an edge may be implicitly dirty b/c of one of its connected nodes\n    // (and a request for recalc may come in between frames)\n    if (ele.isEdge() && (!isCleanConnected(ele.source()) || !isCleanConnected(ele.target()))) {\n      rstyle.clean = false;\n    }\n\n    // only update if dirty and in graph\n    if (useCache && rstyle.clean || ele.removed()) {\n      continue;\n    }\n\n    // only update if not display: none\n    if (ele.pstyle('display').value === 'none') {\n      continue;\n    }\n    if (_p.group === 'nodes') {\n      nodes.push(ele);\n    } else {\n      // edges\n      edges.push(ele);\n    }\n    rstyle.clean = true;\n  }\n\n  // update node data from projections\n  for (var _i2 = 0; _i2 < nodes.length; _i2++) {\n    var _ele = nodes[_i2];\n    var _p2 = _ele._private;\n    var _rstyle = _p2.rstyle;\n    var pos = _ele.position();\n    this.recalculateNodeLabelProjection(_ele);\n    _rstyle.nodeX = pos.x;\n    _rstyle.nodeY = pos.y;\n    _rstyle.nodeW = _ele.pstyle('width').pfValue;\n    _rstyle.nodeH = _ele.pstyle('height').pfValue;\n  }\n  this.recalculateEdgeProjections(edges);\n\n  // update edge data from projections\n  for (var _i3 = 0; _i3 < edges.length; _i3++) {\n    var _ele2 = edges[_i3];\n    var _p3 = _ele2._private;\n    var _rstyle2 = _p3.rstyle;\n    var rs = _p3.rscratch;\n\n    // update rstyle positions\n    _rstyle2.srcX = rs.arrowStartX;\n    _rstyle2.srcY = rs.arrowStartY;\n    _rstyle2.tgtX = rs.arrowEndX;\n    _rstyle2.tgtY = rs.arrowEndY;\n    _rstyle2.midX = rs.midX;\n    _rstyle2.midY = rs.midY;\n    _rstyle2.labelAngle = rs.labelAngle;\n    _rstyle2.sourceLabelAngle = rs.sourceLabelAngle;\n    _rstyle2.targetLabelAngle = rs.targetLabelAngle;\n  }\n};\n\nvar BRp$6 = {};\nBRp$6.updateCachedGrabbedEles = function () {\n  var eles = this.cachedZSortedEles;\n  if (!eles) {\n    // just let this be recalculated on the next z sort tick\n    return;\n  }\n  eles.drag = [];\n  eles.nondrag = [];\n  var grabTargets = [];\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var rs = ele._private.rscratch;\n    if (ele.grabbed() && !ele.isParent()) {\n      grabTargets.push(ele);\n    } else if (rs.inDragLayer) {\n      eles.drag.push(ele);\n    } else {\n      eles.nondrag.push(ele);\n    }\n  }\n\n  // put the grab target nodes last so it's on top of its neighbourhood\n  for (var i = 0; i < grabTargets.length; i++) {\n    var ele = grabTargets[i];\n    eles.drag.push(ele);\n  }\n};\nBRp$6.invalidateCachedZSortedEles = function () {\n  this.cachedZSortedEles = null;\n};\nBRp$6.getCachedZSortedEles = function (forceRecalc) {\n  if (forceRecalc || !this.cachedZSortedEles) {\n    var eles = this.cy.mutableElements().toArray();\n    eles.sort(zIndexSort);\n    eles.interactive = eles.filter(function (ele) {\n      return ele.interactive();\n    });\n    this.cachedZSortedEles = eles;\n    this.updateCachedGrabbedEles();\n  } else {\n    eles = this.cachedZSortedEles;\n  }\n  return eles;\n};\n\nvar BRp$5 = {};\n[BRp$e, BRp$d, BRp$c, BRp$b, BRp$a, BRp$9, BRp$8, BRp$7, BRp$6].forEach(function (props) {\n  extend(BRp$5, props);\n});\n\nvar BRp$4 = {};\nBRp$4.getCachedImage = function (url, crossOrigin, onLoad) {\n  var r = this;\n  var imageCache = r.imageCache = r.imageCache || {};\n  var cache = imageCache[url];\n  if (cache) {\n    if (!cache.image.complete) {\n      cache.image.addEventListener('load', onLoad);\n    }\n    return cache.image;\n  } else {\n    cache = imageCache[url] = imageCache[url] || {};\n    var image = cache.image = new Image(); // eslint-disable-line no-undef\n\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', function () {\n      image.error = true;\n    });\n\n    // #1582 safari doesn't load data uris with crossOrigin properly\n    // https://bugs.webkit.org/show_bug.cgi?id=123978\n    var dataUriPrefix = 'data:';\n    var isDataUri = url.substring(0, dataUriPrefix.length).toLowerCase() === dataUriPrefix;\n    if (!isDataUri) {\n      // if crossorigin is 'null'(stringified), then manually set it to null \n      crossOrigin = crossOrigin === 'null' ? null : crossOrigin;\n      image.crossOrigin = crossOrigin; // prevent tainted canvas\n    }\n\n    image.src = url;\n    return image;\n  }\n};\n\nvar BRp$3 = {};\n\n/* global document, window, ResizeObserver, MutationObserver */\n\nBRp$3.registerBinding = function (target, event, handler, useCapture) {\n  // eslint-disable-line no-unused-vars\n  var args = Array.prototype.slice.apply(arguments, [1]); // copy\n  var b = this.binder(target);\n  return b.on.apply(b, args);\n};\nBRp$3.binder = function (tgt) {\n  var r = this;\n  var containerWindow = r.cy.window();\n  var tgtIsDom = tgt === containerWindow || tgt === containerWindow.document || tgt === containerWindow.document.body || domElement(tgt);\n  if (r.supportsPassiveEvents == null) {\n    // from https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n    var supportsPassive = false;\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supportsPassive = true;\n          return true;\n        }\n      });\n      containerWindow.addEventListener('test', null, opts);\n    } catch (err) {\n      // not supported\n    }\n    r.supportsPassiveEvents = supportsPassive;\n  }\n  var on = function on(event, handler, useCapture) {\n    var args = Array.prototype.slice.call(arguments);\n    if (tgtIsDom && r.supportsPassiveEvents) {\n      // replace useCapture w/ opts obj\n      args[2] = {\n        capture: useCapture != null ? useCapture : false,\n        passive: false,\n        once: false\n      };\n    }\n    r.bindings.push({\n      target: tgt,\n      args: args\n    });\n    (tgt.addEventListener || tgt.on).apply(tgt, args);\n    return this;\n  };\n  return {\n    on: on,\n    addEventListener: on,\n    addListener: on,\n    bind: on\n  };\n};\nBRp$3.nodeIsDraggable = function (node) {\n  return node && node.isNode() && !node.locked() && node.grabbable();\n};\nBRp$3.nodeIsGrabbable = function (node) {\n  return this.nodeIsDraggable(node) && node.interactive();\n};\nBRp$3.load = function () {\n  var r = this;\n  var containerWindow = r.cy.window();\n  var isSelected = function isSelected(ele) {\n    return ele.selected();\n  };\n  var triggerEvents = function triggerEvents(target, names, e, position) {\n    if (target == null) {\n      target = r.cy;\n    }\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      target.emit({\n        originalEvent: e,\n        type: name,\n        position: position\n      });\n    }\n  };\n  var isMultSelKeyDown = function isMultSelKeyDown(e) {\n    return e.shiftKey || e.metaKey || e.ctrlKey; // maybe e.altKey\n  };\n\n  var allowPanningPassthrough = function allowPanningPassthrough(down, downs) {\n    var allowPassthrough = true;\n    if (r.cy.hasCompoundNodes() && down && down.pannable()) {\n      // a grabbable compound node below the ele => no passthrough panning\n      for (var i = 0; downs && i < downs.length; i++) {\n        var down = downs[i];\n\n        //if any parent node in event hierarchy isn't pannable, reject passthrough\n        if (down.isNode() && down.isParent() && !down.pannable()) {\n          allowPassthrough = false;\n          break;\n        }\n      }\n    } else {\n      allowPassthrough = true;\n    }\n    return allowPassthrough;\n  };\n  var setGrabbed = function setGrabbed(ele) {\n    ele[0]._private.grabbed = true;\n  };\n  var setFreed = function setFreed(ele) {\n    ele[0]._private.grabbed = false;\n  };\n  var setInDragLayer = function setInDragLayer(ele) {\n    ele[0]._private.rscratch.inDragLayer = true;\n  };\n  var setOutDragLayer = function setOutDragLayer(ele) {\n    ele[0]._private.rscratch.inDragLayer = false;\n  };\n  var setGrabTarget = function setGrabTarget(ele) {\n    ele[0]._private.rscratch.isGrabTarget = true;\n  };\n  var removeGrabTarget = function removeGrabTarget(ele) {\n    ele[0]._private.rscratch.isGrabTarget = false;\n  };\n  var addToDragList = function addToDragList(ele, opts) {\n    var list = opts.addToList;\n    var listHasEle = list.has(ele);\n    if (!listHasEle && ele.grabbable() && !ele.locked()) {\n      list.merge(ele);\n      setGrabbed(ele);\n    }\n  };\n\n  // helper function to determine which child nodes and inner edges\n  // of a compound node to be dragged as well as the grabbed and selected nodes\n  var addDescendantsToDrag = function addDescendantsToDrag(node, opts) {\n    if (!node.cy().hasCompoundNodes()) {\n      return;\n    }\n    if (opts.inDragLayer == null && opts.addToList == null) {\n      return;\n    } // nothing to do\n\n    var innerNodes = node.descendants();\n    if (opts.inDragLayer) {\n      innerNodes.forEach(setInDragLayer);\n      innerNodes.connectedEdges().forEach(setInDragLayer);\n    }\n    if (opts.addToList) {\n      addToDragList(innerNodes, opts);\n    }\n  };\n\n  // adds the given nodes and its neighbourhood to the drag layer\n  var addNodesToDrag = function addNodesToDrag(nodes, opts) {\n    opts = opts || {};\n    var hasCompoundNodes = nodes.cy().hasCompoundNodes();\n    if (opts.inDragLayer) {\n      nodes.forEach(setInDragLayer);\n      nodes.neighborhood().stdFilter(function (ele) {\n        return !hasCompoundNodes || ele.isEdge();\n      }).forEach(setInDragLayer);\n    }\n    if (opts.addToList) {\n      nodes.forEach(function (ele) {\n        addToDragList(ele, opts);\n      });\n    }\n    addDescendantsToDrag(nodes, opts); // always add to drag\n\n    // also add nodes and edges related to the topmost ancestor\n    updateAncestorsInDragLayer(nodes, {\n      inDragLayer: opts.inDragLayer\n    });\n    r.updateCachedGrabbedEles();\n  };\n  var addNodeToDrag = addNodesToDrag;\n  var freeDraggedElements = function freeDraggedElements(grabbedEles) {\n    if (!grabbedEles) {\n      return;\n    }\n\n    // just go over all elements rather than doing a bunch of (possibly expensive) traversals\n    r.getCachedZSortedEles().forEach(function (ele) {\n      setFreed(ele);\n      setOutDragLayer(ele);\n      removeGrabTarget(ele);\n    });\n    r.updateCachedGrabbedEles();\n  };\n\n  // helper function to determine which ancestor nodes and edges should go\n  // to the drag layer (or should be removed from drag layer).\n  var updateAncestorsInDragLayer = function updateAncestorsInDragLayer(node, opts) {\n    if (opts.inDragLayer == null && opts.addToList == null) {\n      return;\n    } // nothing to do\n\n    if (!node.cy().hasCompoundNodes()) {\n      return;\n    }\n\n    // find top-level parent\n    var parent = node.ancestors().orphans();\n\n    // no parent node: no nodes to add to the drag layer\n    if (parent.same(node)) {\n      return;\n    }\n    var nodes = parent.descendants().spawnSelf().merge(parent).unmerge(node).unmerge(node.descendants());\n    var edges = nodes.connectedEdges();\n    if (opts.inDragLayer) {\n      edges.forEach(setInDragLayer);\n      nodes.forEach(setInDragLayer);\n    }\n    if (opts.addToList) {\n      nodes.forEach(function (ele) {\n        addToDragList(ele, opts);\n      });\n    }\n  };\n  var blurActiveDomElement = function blurActiveDomElement() {\n    if (document.activeElement != null && document.activeElement.blur != null) {\n      document.activeElement.blur();\n    }\n  };\n  var haveMutationsApi = typeof MutationObserver !== 'undefined';\n  var haveResizeObserverApi = typeof ResizeObserver !== 'undefined';\n\n  // watch for when the cy container is removed from the dom\n  if (haveMutationsApi) {\n    r.removeObserver = new MutationObserver(function (mutns) {\n      // eslint-disable-line no-undef\n      for (var i = 0; i < mutns.length; i++) {\n        var mutn = mutns[i];\n        var rNodes = mutn.removedNodes;\n        if (rNodes) {\n          for (var j = 0; j < rNodes.length; j++) {\n            var rNode = rNodes[j];\n            if (rNode === r.container) {\n              r.destroy();\n              break;\n            }\n          }\n        }\n      }\n    });\n    if (r.container.parentNode) {\n      r.removeObserver.observe(r.container.parentNode, {\n        childList: true\n      });\n    }\n  } else {\n    r.registerBinding(r.container, 'DOMNodeRemoved', function (e) {\n      // eslint-disable-line no-unused-vars\n      r.destroy();\n    });\n  }\n  var onResize = debounce_1(function () {\n    r.cy.resize();\n  }, 100);\n  if (haveMutationsApi) {\n    r.styleObserver = new MutationObserver(onResize); // eslint-disable-line no-undef\n\n    r.styleObserver.observe(r.container, {\n      attributes: true\n    });\n  }\n\n  // auto resize\n  r.registerBinding(containerWindow, 'resize', onResize); // eslint-disable-line no-undef\n\n  if (haveResizeObserverApi) {\n    r.resizeObserver = new ResizeObserver(onResize); // eslint-disable-line no-undef\n\n    r.resizeObserver.observe(r.container);\n  }\n  var forEachUp = function forEachUp(domEle, fn) {\n    while (domEle != null) {\n      fn(domEle);\n      domEle = domEle.parentNode;\n    }\n  };\n  var invalidateCoords = function invalidateCoords() {\n    r.invalidateContainerClientCoordsCache();\n  };\n  forEachUp(r.container, function (domEle) {\n    r.registerBinding(domEle, 'transitionend', invalidateCoords);\n    r.registerBinding(domEle, 'animationend', invalidateCoords);\n    r.registerBinding(domEle, 'scroll', invalidateCoords);\n  });\n\n  // stop right click menu from appearing on cy\n  r.registerBinding(r.container, 'contextmenu', function (e) {\n    e.preventDefault();\n  });\n  var inBoxSelection = function inBoxSelection() {\n    return r.selection[4] !== 0;\n  };\n  var eventInContainer = function eventInContainer(e) {\n    // save cycles if mouse events aren't to be captured\n    var containerPageCoords = r.findContainerClientCoords();\n    var x = containerPageCoords[0];\n    var y = containerPageCoords[1];\n    var width = containerPageCoords[2];\n    var height = containerPageCoords[3];\n    var positions = e.touches ? e.touches : [e];\n    var atLeastOnePosInside = false;\n    for (var i = 0; i < positions.length; i++) {\n      var p = positions[i];\n      if (x <= p.clientX && p.clientX <= x + width && y <= p.clientY && p.clientY <= y + height) {\n        atLeastOnePosInside = true;\n        break;\n      }\n    }\n    if (!atLeastOnePosInside) {\n      return false;\n    }\n    var container = r.container;\n    var target = e.target;\n    var tParent = target.parentNode;\n    var containerIsTarget = false;\n    while (tParent) {\n      if (tParent === container) {\n        containerIsTarget = true;\n        break;\n      }\n      tParent = tParent.parentNode;\n    }\n    if (!containerIsTarget) {\n      return false;\n    } // if target is outisde cy container, then this event is not for us\n\n    return true;\n  };\n\n  // Primary key\n  r.registerBinding(r.container, 'mousedown', function mousedownHandler(e) {\n    if (!eventInContainer(e)) {\n      return;\n    }\n    e.preventDefault();\n    blurActiveDomElement();\n    r.hoverData.capture = true;\n    r.hoverData.which = e.which;\n    var cy = r.cy;\n    var gpos = [e.clientX, e.clientY];\n    var pos = r.projectIntoViewport(gpos[0], gpos[1]);\n    var select = r.selection;\n    var nears = r.findNearestElements(pos[0], pos[1], true, false);\n    var near = nears[0];\n    var draggedElements = r.dragData.possibleDragElements;\n    r.hoverData.mdownPos = pos;\n    r.hoverData.mdownGPos = gpos;\n    var checkForTaphold = function checkForTaphold() {\n      r.hoverData.tapholdCancelled = false;\n      clearTimeout(r.hoverData.tapholdTimeout);\n      r.hoverData.tapholdTimeout = setTimeout(function () {\n        if (r.hoverData.tapholdCancelled) {\n          return;\n        } else {\n          var ele = r.hoverData.down;\n          if (ele) {\n            ele.emit({\n              originalEvent: e,\n              type: 'taphold',\n              position: {\n                x: pos[0],\n                y: pos[1]\n              }\n            });\n          } else {\n            cy.emit({\n              originalEvent: e,\n              type: 'taphold',\n              position: {\n                x: pos[0],\n                y: pos[1]\n              }\n            });\n          }\n        }\n      }, r.tapholdDuration);\n    };\n\n    // Right click button\n    if (e.which == 3) {\n      r.hoverData.cxtStarted = true;\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxttapstart',\n        position: {\n          x: pos[0],\n          y: pos[1]\n        }\n      };\n      if (near) {\n        near.activate();\n        near.emit(cxtEvt);\n        r.hoverData.down = near;\n      } else {\n        cy.emit(cxtEvt);\n      }\n      r.hoverData.downTime = new Date().getTime();\n      r.hoverData.cxtDragged = false;\n\n      // Primary button\n    } else if (e.which == 1) {\n      if (near) {\n        near.activate();\n      }\n\n      // Element dragging\n      {\n        // If something is under the cursor and it is draggable, prepare to grab it\n        if (near != null) {\n          if (r.nodeIsGrabbable(near)) {\n            var makeEvent = function makeEvent(type) {\n              return {\n                originalEvent: e,\n                type: type,\n                position: {\n                  x: pos[0],\n                  y: pos[1]\n                }\n              };\n            };\n            var triggerGrab = function triggerGrab(ele) {\n              ele.emit(makeEvent('grab'));\n            };\n            setGrabTarget(near);\n            if (!near.selected()) {\n              draggedElements = r.dragData.possibleDragElements = cy.collection();\n              addNodeToDrag(near, {\n                addToList: draggedElements\n              });\n              near.emit(makeEvent('grabon')).emit(makeEvent('grab'));\n            } else {\n              draggedElements = r.dragData.possibleDragElements = cy.collection();\n              var selectedNodes = cy.$(function (ele) {\n                return ele.isNode() && ele.selected() && r.nodeIsGrabbable(ele);\n              });\n              addNodesToDrag(selectedNodes, {\n                addToList: draggedElements\n              });\n              near.emit(makeEvent('grabon'));\n              selectedNodes.forEach(triggerGrab);\n            }\n            r.redrawHint('eles', true);\n            r.redrawHint('drag', true);\n          }\n        }\n        r.hoverData.down = near;\n        r.hoverData.downs = nears;\n        r.hoverData.downTime = new Date().getTime();\n      }\n      triggerEvents(near, ['mousedown', 'tapstart', 'vmousedown'], e, {\n        x: pos[0],\n        y: pos[1]\n      });\n      if (near == null) {\n        select[4] = 1;\n        r.data.bgActivePosistion = {\n          x: pos[0],\n          y: pos[1]\n        };\n        r.redrawHint('select', true);\n        r.redraw();\n      } else if (near.pannable()) {\n        select[4] = 1; // for future pan\n      }\n\n      checkForTaphold();\n    }\n\n    // Initialize selection box coordinates\n    select[0] = select[2] = pos[0];\n    select[1] = select[3] = pos[1];\n  }, false);\n  r.registerBinding(containerWindow, 'mousemove', function mousemoveHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.hoverData.capture;\n    if (!capture && !eventInContainer(e)) {\n      return;\n    }\n    var preventDefault = false;\n    var cy = r.cy;\n    var zoom = cy.zoom();\n    var gpos = [e.clientX, e.clientY];\n    var pos = r.projectIntoViewport(gpos[0], gpos[1]);\n    var mdownPos = r.hoverData.mdownPos;\n    var mdownGPos = r.hoverData.mdownGPos;\n    var select = r.selection;\n    var near = null;\n    if (!r.hoverData.draggingEles && !r.hoverData.dragging && !r.hoverData.selecting) {\n      near = r.findNearestElement(pos[0], pos[1], true, false);\n    }\n    var last = r.hoverData.last;\n    var down = r.hoverData.down;\n    var disp = [pos[0] - select[2], pos[1] - select[3]];\n    var draggedElements = r.dragData.possibleDragElements;\n    var isOverThresholdDrag;\n    if (mdownGPos) {\n      var dx = gpos[0] - mdownGPos[0];\n      var dx2 = dx * dx;\n      var dy = gpos[1] - mdownGPos[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n      r.hoverData.isOverThresholdDrag = isOverThresholdDrag = dist2 >= r.desktopTapThreshold2;\n    }\n    var multSelKeyDown = isMultSelKeyDown(e);\n    if (isOverThresholdDrag) {\n      r.hoverData.tapholdCancelled = true;\n    }\n    var updateDragDelta = function updateDragDelta() {\n      var dragDelta = r.hoverData.dragDelta = r.hoverData.dragDelta || [];\n      if (dragDelta.length === 0) {\n        dragDelta.push(disp[0]);\n        dragDelta.push(disp[1]);\n      } else {\n        dragDelta[0] += disp[0];\n        dragDelta[1] += disp[1];\n      }\n    };\n    preventDefault = true;\n    triggerEvents(near, ['mousemove', 'vmousemove', 'tapdrag'], e, {\n      x: pos[0],\n      y: pos[1]\n    });\n    var goIntoBoxMode = function goIntoBoxMode() {\n      r.data.bgActivePosistion = undefined;\n      if (!r.hoverData.selecting) {\n        cy.emit({\n          originalEvent: e,\n          type: 'boxstart',\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        });\n      }\n      select[4] = 1;\n      r.hoverData.selecting = true;\n      r.redrawHint('select', true);\n      r.redraw();\n    };\n\n    // trigger context drag if rmouse down\n    if (r.hoverData.which === 3) {\n      // but only if over threshold\n      if (isOverThresholdDrag) {\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxtdrag',\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        };\n        if (down) {\n          down.emit(cxtEvt);\n        } else {\n          cy.emit(cxtEvt);\n        }\n        r.hoverData.cxtDragged = true;\n        if (!r.hoverData.cxtOver || near !== r.hoverData.cxtOver) {\n          if (r.hoverData.cxtOver) {\n            r.hoverData.cxtOver.emit({\n              originalEvent: e,\n              type: 'cxtdragout',\n              position: {\n                x: pos[0],\n                y: pos[1]\n              }\n            });\n          }\n          r.hoverData.cxtOver = near;\n          if (near) {\n            near.emit({\n              originalEvent: e,\n              type: 'cxtdragover',\n              position: {\n                x: pos[0],\n                y: pos[1]\n              }\n            });\n          }\n        }\n      }\n\n      // Check if we are drag panning the entire graph\n    } else if (r.hoverData.dragging) {\n      preventDefault = true;\n      if (cy.panningEnabled() && cy.userPanningEnabled()) {\n        var deltaP;\n        if (r.hoverData.justStartedPan) {\n          var mdPos = r.hoverData.mdownPos;\n          deltaP = {\n            x: (pos[0] - mdPos[0]) * zoom,\n            y: (pos[1] - mdPos[1]) * zoom\n          };\n          r.hoverData.justStartedPan = false;\n        } else {\n          deltaP = {\n            x: disp[0] * zoom,\n            y: disp[1] * zoom\n          };\n        }\n        cy.panBy(deltaP);\n        cy.emit('dragpan');\n        r.hoverData.dragged = true;\n      }\n\n      // Needs reproject due to pan changing viewport\n      pos = r.projectIntoViewport(e.clientX, e.clientY);\n\n      // Checks primary button down & out of time & mouse not moved much\n    } else if (select[4] == 1 && (down == null || down.pannable())) {\n      if (isOverThresholdDrag) {\n        if (!r.hoverData.dragging && cy.boxSelectionEnabled() && (multSelKeyDown || !cy.panningEnabled() || !cy.userPanningEnabled())) {\n          goIntoBoxMode();\n        } else if (!r.hoverData.selecting && cy.panningEnabled() && cy.userPanningEnabled()) {\n          var allowPassthrough = allowPanningPassthrough(down, r.hoverData.downs);\n          if (allowPassthrough) {\n            r.hoverData.dragging = true;\n            r.hoverData.justStartedPan = true;\n            select[4] = 0;\n            r.data.bgActivePosistion = array2point(mdownPos);\n            r.redrawHint('select', true);\n            r.redraw();\n          }\n        }\n        if (down && down.pannable() && down.active()) {\n          down.unactivate();\n        }\n      }\n    } else {\n      if (down && down.pannable() && down.active()) {\n        down.unactivate();\n      }\n      if ((!down || !down.grabbed()) && near != last) {\n        if (last) {\n          triggerEvents(last, ['mouseout', 'tapdragout'], e, {\n            x: pos[0],\n            y: pos[1]\n          });\n        }\n        if (near) {\n          triggerEvents(near, ['mouseover', 'tapdragover'], e, {\n            x: pos[0],\n            y: pos[1]\n          });\n        }\n        r.hoverData.last = near;\n      }\n      if (down) {\n        if (isOverThresholdDrag) {\n          // then we can take action\n\n          if (cy.boxSelectionEnabled() && multSelKeyDown) {\n            // then selection overrides\n            if (down && down.grabbed()) {\n              freeDraggedElements(draggedElements);\n              down.emit('freeon');\n              draggedElements.emit('free');\n              if (r.dragData.didDrag) {\n                down.emit('dragfreeon');\n                draggedElements.emit('dragfree');\n              }\n            }\n            goIntoBoxMode();\n          } else if (down && down.grabbed() && r.nodeIsDraggable(down)) {\n            // drag node\n            var justStartedDrag = !r.dragData.didDrag;\n            if (justStartedDrag) {\n              r.redrawHint('eles', true);\n            }\n            r.dragData.didDrag = true; // indicate that we actually did drag the node\n\n            // now, add the elements to the drag layer if not done already\n            if (!r.hoverData.draggingEles) {\n              addNodesToDrag(draggedElements, {\n                inDragLayer: true\n              });\n            }\n            var totalShift = {\n              x: 0,\n              y: 0\n            };\n            if (number$1(disp[0]) && number$1(disp[1])) {\n              totalShift.x += disp[0];\n              totalShift.y += disp[1];\n              if (justStartedDrag) {\n                var dragDelta = r.hoverData.dragDelta;\n                if (dragDelta && number$1(dragDelta[0]) && number$1(dragDelta[1])) {\n                  totalShift.x += dragDelta[0];\n                  totalShift.y += dragDelta[1];\n                }\n              }\n            }\n            r.hoverData.draggingEles = true;\n            draggedElements.silentShift(totalShift).emit('position drag');\n            r.redrawHint('drag', true);\n            r.redraw();\n          }\n        } else {\n          // otherwise save drag delta for when we actually start dragging so the relative grab pos is constant\n          updateDragDelta();\n        }\n      }\n\n      // prevent the dragging from triggering text selection on the page\n      preventDefault = true;\n    }\n    select[2] = pos[0];\n    select[3] = pos[1];\n    if (preventDefault) {\n      if (e.stopPropagation) e.stopPropagation();\n      if (e.preventDefault) e.preventDefault();\n      return false;\n    }\n  }, false);\n  var clickTimeout, didDoubleClick, prevClickTimeStamp;\n  r.registerBinding(containerWindow, 'mouseup', function mouseupHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.hoverData.capture;\n    if (!capture) {\n      return;\n    }\n    r.hoverData.capture = false;\n    var cy = r.cy;\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    var select = r.selection;\n    var near = r.findNearestElement(pos[0], pos[1], true, false);\n    var draggedElements = r.dragData.possibleDragElements;\n    var down = r.hoverData.down;\n    var multSelKeyDown = isMultSelKeyDown(e);\n    if (r.data.bgActivePosistion) {\n      r.redrawHint('select', true);\n      r.redraw();\n    }\n    r.hoverData.tapholdCancelled = true;\n    r.data.bgActivePosistion = undefined; // not active bg now\n\n    if (down) {\n      down.unactivate();\n    }\n    if (r.hoverData.which === 3) {\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxttapend',\n        position: {\n          x: pos[0],\n          y: pos[1]\n        }\n      };\n      if (down) {\n        down.emit(cxtEvt);\n      } else {\n        cy.emit(cxtEvt);\n      }\n      if (!r.hoverData.cxtDragged) {\n        var cxtTap = {\n          originalEvent: e,\n          type: 'cxttap',\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        };\n        if (down) {\n          down.emit(cxtTap);\n        } else {\n          cy.emit(cxtTap);\n        }\n      }\n      r.hoverData.cxtDragged = false;\n      r.hoverData.which = null;\n    } else if (r.hoverData.which === 1) {\n      triggerEvents(near, ['mouseup', 'tapend', 'vmouseup'], e, {\n        x: pos[0],\n        y: pos[1]\n      });\n      if (!r.dragData.didDrag &&\n      // didn't move a node around\n      !r.hoverData.dragged &&\n      // didn't pan\n      !r.hoverData.selecting &&\n      // not box selection\n      !r.hoverData.isOverThresholdDrag // didn't move too much\n      ) {\n        triggerEvents(down, [\"click\", \"tap\", \"vclick\"], e, {\n          x: pos[0],\n          y: pos[1]\n        });\n        didDoubleClick = false;\n        if (e.timeStamp - prevClickTimeStamp <= cy.multiClickDebounceTime()) {\n          clickTimeout && clearTimeout(clickTimeout);\n          didDoubleClick = true;\n          prevClickTimeStamp = null;\n          triggerEvents(down, [\"dblclick\", \"dbltap\", \"vdblclick\"], e, {\n            x: pos[0],\n            y: pos[1]\n          });\n        } else {\n          clickTimeout = setTimeout(function () {\n            if (didDoubleClick) return;\n            triggerEvents(down, [\"oneclick\", \"onetap\", \"voneclick\"], e, {\n              x: pos[0],\n              y: pos[1]\n            });\n          }, cy.multiClickDebounceTime());\n          prevClickTimeStamp = e.timeStamp;\n        }\n      }\n\n      // Deselect all elements if nothing is currently under the mouse cursor and we aren't dragging something\n      if (down == null // not mousedown on node\n      && !r.dragData.didDrag // didn't move the node around\n      && !r.hoverData.selecting // not box selection\n      && !r.hoverData.dragged // didn't pan\n      && !isMultSelKeyDown(e)) {\n        cy.$(isSelected).unselect(['tapunselect']);\n        if (draggedElements.length > 0) {\n          r.redrawHint('eles', true);\n        }\n        r.dragData.possibleDragElements = draggedElements = cy.collection();\n      }\n\n      // Single selection\n      if (near == down && !r.dragData.didDrag && !r.hoverData.selecting) {\n        if (near != null && near._private.selectable) {\n          if (r.hoverData.dragging) ; else if (cy.selectionType() === 'additive' || multSelKeyDown) {\n            if (near.selected()) {\n              near.unselect(['tapunselect']);\n            } else {\n              near.select(['tapselect']);\n            }\n          } else {\n            if (!multSelKeyDown) {\n              cy.$(isSelected).unmerge(near).unselect(['tapunselect']);\n              near.select(['tapselect']);\n            }\n          }\n          r.redrawHint('eles', true);\n        }\n      }\n      if (r.hoverData.selecting) {\n        var box = cy.collection(r.getAllInBox(select[0], select[1], select[2], select[3]));\n        r.redrawHint('select', true);\n        if (box.length > 0) {\n          r.redrawHint('eles', true);\n        }\n        cy.emit({\n          type: 'boxend',\n          originalEvent: e,\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        });\n        var eleWouldBeSelected = function eleWouldBeSelected(ele) {\n          return ele.selectable() && !ele.selected();\n        };\n        if (cy.selectionType() === 'additive') {\n          box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n        } else {\n          if (!multSelKeyDown) {\n            cy.$(isSelected).unmerge(box).unselect();\n          }\n          box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n        }\n\n        // always need redraw in case eles unselectable\n        r.redraw();\n      }\n\n      // Cancel drag pan\n      if (r.hoverData.dragging) {\n        r.hoverData.dragging = false;\n        r.redrawHint('select', true);\n        r.redrawHint('eles', true);\n        r.redraw();\n      }\n      if (!select[4]) {\n        r.redrawHint('drag', true);\n        r.redrawHint('eles', true);\n        var downWasGrabbed = down && down.grabbed();\n        freeDraggedElements(draggedElements);\n        if (downWasGrabbed) {\n          down.emit('freeon');\n          draggedElements.emit('free');\n          if (r.dragData.didDrag) {\n            down.emit('dragfreeon');\n            draggedElements.emit('dragfree');\n          }\n        }\n      }\n    } // else not right mouse\n\n    select[4] = 0;\n    r.hoverData.down = null;\n    r.hoverData.cxtStarted = false;\n    r.hoverData.draggingEles = false;\n    r.hoverData.selecting = false;\n    r.hoverData.isOverThresholdDrag = false;\n    r.dragData.didDrag = false;\n    r.hoverData.dragged = false;\n    r.hoverData.dragDelta = [];\n    r.hoverData.mdownPos = null;\n    r.hoverData.mdownGPos = null;\n  }, false);\n  var wheelHandler = function wheelHandler(e) {\n    if (r.scrollingPage) {\n      return;\n    } // while scrolling, ignore wheel-to-zoom\n\n    var cy = r.cy;\n    var zoom = cy.zoom();\n    var pan = cy.pan();\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    var rpos = [pos[0] * zoom + pan.x, pos[1] * zoom + pan.y];\n    if (r.hoverData.draggingEles || r.hoverData.dragging || r.hoverData.cxtStarted || inBoxSelection()) {\n      // if pan dragging or cxt dragging, wheel movements make no zoom\n      e.preventDefault();\n      return;\n    }\n    if (cy.panningEnabled() && cy.userPanningEnabled() && cy.zoomingEnabled() && cy.userZoomingEnabled()) {\n      e.preventDefault();\n      r.data.wheelZooming = true;\n      clearTimeout(r.data.wheelTimeout);\n      r.data.wheelTimeout = setTimeout(function () {\n        r.data.wheelZooming = false;\n        r.redrawHint('eles', true);\n        r.redraw();\n      }, 150);\n      var diff;\n      if (e.deltaY != null) {\n        diff = e.deltaY / -250;\n      } else if (e.wheelDeltaY != null) {\n        diff = e.wheelDeltaY / 1000;\n      } else {\n        diff = e.wheelDelta / 1000;\n      }\n      diff = diff * r.wheelSensitivity;\n      var needsWheelFix = e.deltaMode === 1;\n      if (needsWheelFix) {\n        // fixes slow wheel events on ff/linux and ff/windows\n        diff *= 33;\n      }\n      var newZoom = cy.zoom() * Math.pow(10, diff);\n      if (e.type === 'gesturechange') {\n        newZoom = r.gestureStartZoom * e.scale;\n      }\n      cy.zoom({\n        level: newZoom,\n        renderedPosition: {\n          x: rpos[0],\n          y: rpos[1]\n        }\n      });\n      cy.emit(e.type === 'gesturechange' ? 'pinchzoom' : 'scrollzoom');\n    }\n  };\n\n  // Functions to help with whether mouse wheel should trigger zooming\n  // --\n  r.registerBinding(r.container, 'wheel', wheelHandler, true);\n\n  // disable nonstandard wheel events\n  // r.registerBinding(r.container, 'mousewheel', wheelHandler, true);\n  // r.registerBinding(r.container, 'DOMMouseScroll', wheelHandler, true);\n  // r.registerBinding(r.container, 'MozMousePixelScroll', wheelHandler, true); // older firefox\n\n  r.registerBinding(containerWindow, 'scroll', function scrollHandler(e) {\n    // eslint-disable-line no-unused-vars\n    r.scrollingPage = true;\n    clearTimeout(r.scrollingPageTimeout);\n    r.scrollingPageTimeout = setTimeout(function () {\n      r.scrollingPage = false;\n    }, 250);\n  }, true);\n\n  // desktop safari pinch to zoom start\n  r.registerBinding(r.container, 'gesturestart', function gestureStartHandler(e) {\n    r.gestureStartZoom = r.cy.zoom();\n    if (!r.hasTouchStarted) {\n      // don't affect touch devices like iphone\n      e.preventDefault();\n    }\n  }, true);\n  r.registerBinding(r.container, 'gesturechange', function (e) {\n    if (!r.hasTouchStarted) {\n      // don't affect touch devices like iphone\n      wheelHandler(e);\n    }\n  }, true);\n\n  // Functions to help with handling mouseout/mouseover on the Cytoscape container\n  // Handle mouseout on Cytoscape container\n  r.registerBinding(r.container, 'mouseout', function mouseOutHandler(e) {\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    r.cy.emit({\n      originalEvent: e,\n      type: 'mouseout',\n      position: {\n        x: pos[0],\n        y: pos[1]\n      }\n    });\n  }, false);\n  r.registerBinding(r.container, 'mouseover', function mouseOverHandler(e) {\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    r.cy.emit({\n      originalEvent: e,\n      type: 'mouseover',\n      position: {\n        x: pos[0],\n        y: pos[1]\n      }\n    });\n  }, false);\n  var f1x1, f1y1, f2x1, f2y1; // starting points for pinch-to-zoom\n  var distance1, distance1Sq; // initial distance between finger 1 and finger 2 for pinch-to-zoom\n  var center1, modelCenter1; // center point on start pinch to zoom\n  var offsetLeft, offsetTop;\n  var containerWidth, containerHeight;\n  var twoFingersStartInside;\n  var distance = function distance(x1, y1, x2, y2) {\n    return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n  };\n  var distanceSq = function distanceSq(x1, y1, x2, y2) {\n    return (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n  };\n  var touchstartHandler;\n  r.registerBinding(r.container, 'touchstart', touchstartHandler = function touchstartHandler(e) {\n    r.hasTouchStarted = true;\n    if (!eventInContainer(e)) {\n      return;\n    }\n    blurActiveDomElement();\n    r.touchData.capture = true;\n    r.data.bgActivePosistion = undefined;\n    var cy = r.cy;\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n      now[0] = pos[0];\n      now[1] = pos[1];\n    }\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n      now[2] = pos[0];\n      now[3] = pos[1];\n    }\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n      now[4] = pos[0];\n      now[5] = pos[1];\n    }\n\n    // record starting points for pinch-to-zoom\n    if (e.touches[1]) {\n      r.touchData.singleTouchMoved = true;\n      freeDraggedElements(r.dragData.touchDragEles);\n      var offsets = r.findContainerClientCoords();\n      offsetLeft = offsets[0];\n      offsetTop = offsets[1];\n      containerWidth = offsets[2];\n      containerHeight = offsets[3];\n      f1x1 = e.touches[0].clientX - offsetLeft;\n      f1y1 = e.touches[0].clientY - offsetTop;\n      f2x1 = e.touches[1].clientX - offsetLeft;\n      f2y1 = e.touches[1].clientY - offsetTop;\n      twoFingersStartInside = 0 <= f1x1 && f1x1 <= containerWidth && 0 <= f2x1 && f2x1 <= containerWidth && 0 <= f1y1 && f1y1 <= containerHeight && 0 <= f2y1 && f2y1 <= containerHeight;\n      var pan = cy.pan();\n      var zoom = cy.zoom();\n      distance1 = distance(f1x1, f1y1, f2x1, f2y1);\n      distance1Sq = distanceSq(f1x1, f1y1, f2x1, f2y1);\n      center1 = [(f1x1 + f2x1) / 2, (f1y1 + f2y1) / 2];\n      modelCenter1 = [(center1[0] - pan.x) / zoom, (center1[1] - pan.y) / zoom];\n\n      // consider context tap\n      var cxtDistThreshold = 200;\n      var cxtDistThresholdSq = cxtDistThreshold * cxtDistThreshold;\n      if (distance1Sq < cxtDistThresholdSq && !e.touches[2]) {\n        var near1 = r.findNearestElement(now[0], now[1], true, true);\n        var near2 = r.findNearestElement(now[2], now[3], true, true);\n        if (near1 && near1.isNode()) {\n          near1.activate().emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n          r.touchData.start = near1;\n        } else if (near2 && near2.isNode()) {\n          near2.activate().emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n          r.touchData.start = near2;\n        } else {\n          cy.emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n        }\n        if (r.touchData.start) {\n          r.touchData.start._private.grabbed = false;\n        }\n        r.touchData.cxt = true;\n        r.touchData.cxtDragged = false;\n        r.data.bgActivePosistion = undefined;\n        r.redraw();\n        return;\n      }\n    }\n    if (e.touches[2]) {\n      // ignore\n\n      // safari on ios pans the page otherwise (normally you should be able to preventdefault on touchmove...)\n      if (cy.boxSelectionEnabled()) {\n        e.preventDefault();\n      }\n    } else if (e.touches[1]) ; else if (e.touches[0]) {\n      var nears = r.findNearestElements(now[0], now[1], true, true);\n      var near = nears[0];\n      if (near != null) {\n        near.activate();\n        r.touchData.start = near;\n        r.touchData.starts = nears;\n        if (r.nodeIsGrabbable(near)) {\n          var draggedEles = r.dragData.touchDragEles = cy.collection();\n          var selectedNodes = null;\n          r.redrawHint('eles', true);\n          r.redrawHint('drag', true);\n          if (near.selected()) {\n            // reset drag elements, since near will be added again\n\n            selectedNodes = cy.$(function (ele) {\n              return ele.selected() && r.nodeIsGrabbable(ele);\n            });\n            addNodesToDrag(selectedNodes, {\n              addToList: draggedEles\n            });\n          } else {\n            addNodeToDrag(near, {\n              addToList: draggedEles\n            });\n          }\n          setGrabTarget(near);\n          var makeEvent = function makeEvent(type) {\n            return {\n              originalEvent: e,\n              type: type,\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            };\n          };\n          near.emit(makeEvent('grabon'));\n          if (selectedNodes) {\n            selectedNodes.forEach(function (n) {\n              n.emit(makeEvent('grab'));\n            });\n          } else {\n            near.emit(makeEvent('grab'));\n          }\n        }\n      }\n      triggerEvents(near, ['touchstart', 'tapstart', 'vmousedown'], e, {\n        x: now[0],\n        y: now[1]\n      });\n      if (near == null) {\n        r.data.bgActivePosistion = {\n          x: pos[0],\n          y: pos[1]\n        };\n        r.redrawHint('select', true);\n        r.redraw();\n      }\n\n      // Tap, taphold\n      // -----\n\n      r.touchData.singleTouchMoved = false;\n      r.touchData.singleTouchStartTime = +new Date();\n      clearTimeout(r.touchData.tapholdTimeout);\n      r.touchData.tapholdTimeout = setTimeout(function () {\n        if (r.touchData.singleTouchMoved === false && !r.pinching // if pinching, then taphold unselect shouldn't take effect\n        && !r.touchData.selecting // box selection shouldn't allow taphold through\n        ) {\n          triggerEvents(r.touchData.start, ['taphold'], e, {\n            x: now[0],\n            y: now[1]\n          });\n        }\n      }, r.tapholdDuration);\n    }\n    if (e.touches.length >= 1) {\n      var sPos = r.touchData.startPosition = [null, null, null, null, null, null];\n      for (var i = 0; i < now.length; i++) {\n        sPos[i] = earlier[i] = now[i];\n      }\n      var touch0 = e.touches[0];\n      r.touchData.startGPosition = [touch0.clientX, touch0.clientY];\n    }\n  }, false);\n  var touchmoveHandler;\n  r.registerBinding(window, 'touchmove', touchmoveHandler = function touchmoveHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.touchData.capture;\n    if (!capture && !eventInContainer(e)) {\n      return;\n    }\n    var select = r.selection;\n    var cy = r.cy;\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n    var zoom = cy.zoom();\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n      now[0] = pos[0];\n      now[1] = pos[1];\n    }\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n      now[2] = pos[0];\n      now[3] = pos[1];\n    }\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n      now[4] = pos[0];\n      now[5] = pos[1];\n    }\n    var startGPos = r.touchData.startGPosition;\n    var isOverThresholdDrag;\n    if (capture && e.touches[0] && startGPos) {\n      var disp = [];\n      for (var j = 0; j < now.length; j++) {\n        disp[j] = now[j] - earlier[j];\n      }\n      var dx = e.touches[0].clientX - startGPos[0];\n      var dx2 = dx * dx;\n      var dy = e.touches[0].clientY - startGPos[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n      isOverThresholdDrag = dist2 >= r.touchTapThreshold2;\n    }\n\n    // context swipe cancelling\n    if (capture && r.touchData.cxt) {\n      e.preventDefault();\n      var f1x2 = e.touches[0].clientX - offsetLeft,\n        f1y2 = e.touches[0].clientY - offsetTop;\n      var f2x2 = e.touches[1].clientX - offsetLeft,\n        f2y2 = e.touches[1].clientY - offsetTop;\n      // var distance2 = distance( f1x2, f1y2, f2x2, f2y2 );\n      var distance2Sq = distanceSq(f1x2, f1y2, f2x2, f2y2);\n      var factorSq = distance2Sq / distance1Sq;\n      var distThreshold = 150;\n      var distThresholdSq = distThreshold * distThreshold;\n      var factorThreshold = 1.5;\n      var factorThresholdSq = factorThreshold * factorThreshold;\n\n      // cancel ctx gestures if the distance b/t the fingers increases\n      if (factorSq >= factorThresholdSq || distance2Sq >= distThresholdSq) {\n        r.touchData.cxt = false;\n        r.data.bgActivePosistion = undefined;\n        r.redrawHint('select', true);\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxttapend',\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        };\n        if (r.touchData.start) {\n          r.touchData.start.unactivate().emit(cxtEvt);\n          r.touchData.start = null;\n        } else {\n          cy.emit(cxtEvt);\n        }\n      }\n    }\n\n    // context swipe\n    if (capture && r.touchData.cxt) {\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxtdrag',\n        position: {\n          x: now[0],\n          y: now[1]\n        }\n      };\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n      if (r.touchData.start) {\n        r.touchData.start.emit(cxtEvt);\n      } else {\n        cy.emit(cxtEvt);\n      }\n      if (r.touchData.start) {\n        r.touchData.start._private.grabbed = false;\n      }\n      r.touchData.cxtDragged = true;\n      var near = r.findNearestElement(now[0], now[1], true, true);\n      if (!r.touchData.cxtOver || near !== r.touchData.cxtOver) {\n        if (r.touchData.cxtOver) {\n          r.touchData.cxtOver.emit({\n            originalEvent: e,\n            type: 'cxtdragout',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n        }\n        r.touchData.cxtOver = near;\n        if (near) {\n          near.emit({\n            originalEvent: e,\n            type: 'cxtdragover',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n        }\n      }\n\n      // box selection\n    } else if (capture && e.touches[2] && cy.boxSelectionEnabled()) {\n      e.preventDefault();\n      r.data.bgActivePosistion = undefined;\n      this.lastThreeTouch = +new Date();\n      if (!r.touchData.selecting) {\n        cy.emit({\n          originalEvent: e,\n          type: 'boxstart',\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        });\n      }\n      r.touchData.selecting = true;\n      r.touchData.didSelect = true;\n      select[4] = 1;\n      if (!select || select.length === 0 || select[0] === undefined) {\n        select[0] = (now[0] + now[2] + now[4]) / 3;\n        select[1] = (now[1] + now[3] + now[5]) / 3;\n        select[2] = (now[0] + now[2] + now[4]) / 3 + 1;\n        select[3] = (now[1] + now[3] + now[5]) / 3 + 1;\n      } else {\n        select[2] = (now[0] + now[2] + now[4]) / 3;\n        select[3] = (now[1] + now[3] + now[5]) / 3;\n      }\n      r.redrawHint('select', true);\n      r.redraw();\n\n      // pinch to zoom\n    } else if (capture && e.touches[1] && !r.touchData.didSelect // don't allow box selection to degrade to pinch-to-zoom\n    && cy.zoomingEnabled() && cy.panningEnabled() && cy.userZoomingEnabled() && cy.userPanningEnabled()) {\n      // two fingers => pinch to zoom\n      e.preventDefault();\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n      var draggedEles = r.dragData.touchDragEles;\n      if (draggedEles) {\n        r.redrawHint('drag', true);\n        for (var i = 0; i < draggedEles.length; i++) {\n          var de_p = draggedEles[i]._private;\n          de_p.grabbed = false;\n          de_p.rscratch.inDragLayer = false;\n        }\n      }\n      var _start = r.touchData.start;\n\n      // (x2, y2) for fingers 1 and 2\n      var f1x2 = e.touches[0].clientX - offsetLeft,\n        f1y2 = e.touches[0].clientY - offsetTop;\n      var f2x2 = e.touches[1].clientX - offsetLeft,\n        f2y2 = e.touches[1].clientY - offsetTop;\n      var distance2 = distance(f1x2, f1y2, f2x2, f2y2);\n      // var distance2Sq = distanceSq( f1x2, f1y2, f2x2, f2y2 );\n      // var factor = Math.sqrt( distance2Sq ) / Math.sqrt( distance1Sq );\n      var factor = distance2 / distance1;\n      if (twoFingersStartInside) {\n        // delta finger1\n        var df1x = f1x2 - f1x1;\n        var df1y = f1y2 - f1y1;\n\n        // delta finger 2\n        var df2x = f2x2 - f2x1;\n        var df2y = f2y2 - f2y1;\n\n        // translation is the normalised vector of the two fingers movement\n        // i.e. so pinching cancels out and moving together pans\n        var tx = (df1x + df2x) / 2;\n        var ty = (df1y + df2y) / 2;\n\n        // now calculate the zoom\n        var zoom1 = cy.zoom();\n        var zoom2 = zoom1 * factor;\n        var pan1 = cy.pan();\n\n        // the model center point converted to the current rendered pos\n        var ctrx = modelCenter1[0] * zoom1 + pan1.x;\n        var ctry = modelCenter1[1] * zoom1 + pan1.y;\n        var pan2 = {\n          x: -zoom2 / zoom1 * (ctrx - pan1.x - tx) + ctrx,\n          y: -zoom2 / zoom1 * (ctry - pan1.y - ty) + ctry\n        };\n\n        // remove dragged eles\n        if (_start && _start.active()) {\n          var draggedEles = r.dragData.touchDragEles;\n          freeDraggedElements(draggedEles);\n          r.redrawHint('drag', true);\n          r.redrawHint('eles', true);\n          _start.unactivate().emit('freeon');\n          draggedEles.emit('free');\n          if (r.dragData.didDrag) {\n            _start.emit('dragfreeon');\n            draggedEles.emit('dragfree');\n          }\n        }\n        cy.viewport({\n          zoom: zoom2,\n          pan: pan2,\n          cancelOnFailedZoom: true\n        });\n        cy.emit('pinchzoom');\n        distance1 = distance2;\n        f1x1 = f1x2;\n        f1y1 = f1y2;\n        f2x1 = f2x2;\n        f2y1 = f2y2;\n        r.pinching = true;\n      }\n\n      // Re-project\n      if (e.touches[0]) {\n        var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n        now[0] = pos[0];\n        now[1] = pos[1];\n      }\n      if (e.touches[1]) {\n        var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n        now[2] = pos[0];\n        now[3] = pos[1];\n      }\n      if (e.touches[2]) {\n        var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n        now[4] = pos[0];\n        now[5] = pos[1];\n      }\n    } else if (e.touches[0] && !r.touchData.didSelect // don't allow box selection to degrade to single finger events like panning\n    ) {\n      var start = r.touchData.start;\n      var last = r.touchData.last;\n      var near;\n      if (!r.hoverData.draggingEles && !r.swipePanning) {\n        near = r.findNearestElement(now[0], now[1], true, true);\n      }\n      if (capture && start != null) {\n        e.preventDefault();\n      }\n\n      // dragging nodes\n      if (capture && start != null && r.nodeIsDraggable(start)) {\n        if (isOverThresholdDrag) {\n          // then dragging can happen\n          var draggedEles = r.dragData.touchDragEles;\n          var justStartedDrag = !r.dragData.didDrag;\n          if (justStartedDrag) {\n            addNodesToDrag(draggedEles, {\n              inDragLayer: true\n            });\n          }\n          r.dragData.didDrag = true;\n          var totalShift = {\n            x: 0,\n            y: 0\n          };\n          if (number$1(disp[0]) && number$1(disp[1])) {\n            totalShift.x += disp[0];\n            totalShift.y += disp[1];\n            if (justStartedDrag) {\n              r.redrawHint('eles', true);\n              var dragDelta = r.touchData.dragDelta;\n              if (dragDelta && number$1(dragDelta[0]) && number$1(dragDelta[1])) {\n                totalShift.x += dragDelta[0];\n                totalShift.y += dragDelta[1];\n              }\n            }\n          }\n          r.hoverData.draggingEles = true;\n          draggedEles.silentShift(totalShift).emit('position drag');\n          r.redrawHint('drag', true);\n          if (r.touchData.startPosition[0] == earlier[0] && r.touchData.startPosition[1] == earlier[1]) {\n            r.redrawHint('eles', true);\n          }\n          r.redraw();\n        } else {\n          // otherwise keep track of drag delta for later\n          var dragDelta = r.touchData.dragDelta = r.touchData.dragDelta || [];\n          if (dragDelta.length === 0) {\n            dragDelta.push(disp[0]);\n            dragDelta.push(disp[1]);\n          } else {\n            dragDelta[0] += disp[0];\n            dragDelta[1] += disp[1];\n          }\n        }\n      }\n\n      // touchmove\n      {\n        triggerEvents(start || near, ['touchmove', 'tapdrag', 'vmousemove'], e, {\n          x: now[0],\n          y: now[1]\n        });\n        if ((!start || !start.grabbed()) && near != last) {\n          if (last) {\n            last.emit({\n              originalEvent: e,\n              type: 'tapdragout',\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            });\n          }\n          if (near) {\n            near.emit({\n              originalEvent: e,\n              type: 'tapdragover',\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            });\n          }\n        }\n        r.touchData.last = near;\n      }\n\n      // check to cancel taphold\n      if (capture) {\n        for (var i = 0; i < now.length; i++) {\n          if (now[i] && r.touchData.startPosition[i] && isOverThresholdDrag) {\n            r.touchData.singleTouchMoved = true;\n          }\n        }\n      }\n\n      // panning\n      if (capture && (start == null || start.pannable()) && cy.panningEnabled() && cy.userPanningEnabled()) {\n        var allowPassthrough = allowPanningPassthrough(start, r.touchData.starts);\n        if (allowPassthrough) {\n          e.preventDefault();\n          if (!r.data.bgActivePosistion) {\n            r.data.bgActivePosistion = array2point(r.touchData.startPosition);\n          }\n          if (r.swipePanning) {\n            cy.panBy({\n              x: disp[0] * zoom,\n              y: disp[1] * zoom\n            });\n            cy.emit('dragpan');\n          } else if (isOverThresholdDrag) {\n            r.swipePanning = true;\n            cy.panBy({\n              x: dx * zoom,\n              y: dy * zoom\n            });\n            cy.emit('dragpan');\n            if (start) {\n              start.unactivate();\n              r.redrawHint('select', true);\n              r.touchData.start = null;\n            }\n          }\n        }\n\n        // Re-project\n        var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n        now[0] = pos[0];\n        now[1] = pos[1];\n      }\n    }\n    for (var j = 0; j < now.length; j++) {\n      earlier[j] = now[j];\n    }\n\n    // the active bg indicator should be removed when making a swipe that is neither for dragging nodes or panning\n    if (capture && e.touches.length > 0 && !r.hoverData.draggingEles && !r.swipePanning && r.data.bgActivePosistion != null) {\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n      r.redraw();\n    }\n  }, false);\n  var touchcancelHandler;\n  r.registerBinding(containerWindow, 'touchcancel', touchcancelHandler = function touchcancelHandler(e) {\n    // eslint-disable-line no-unused-vars\n    var start = r.touchData.start;\n    r.touchData.capture = false;\n    if (start) {\n      start.unactivate();\n    }\n  });\n  var touchendHandler, didDoubleTouch, touchTimeout, prevTouchTimeStamp;\n  r.registerBinding(containerWindow, 'touchend', touchendHandler = function touchendHandler(e) {\n    // eslint-disable-line no-unused-vars\n    var start = r.touchData.start;\n    var capture = r.touchData.capture;\n    if (capture) {\n      if (e.touches.length === 0) {\n        r.touchData.capture = false;\n      }\n      e.preventDefault();\n    } else {\n      return;\n    }\n    var select = r.selection;\n    r.swipePanning = false;\n    r.hoverData.draggingEles = false;\n    var cy = r.cy;\n    var zoom = cy.zoom();\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n      now[0] = pos[0];\n      now[1] = pos[1];\n    }\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n      now[2] = pos[0];\n      now[3] = pos[1];\n    }\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n      now[4] = pos[0];\n      now[5] = pos[1];\n    }\n    if (start) {\n      start.unactivate();\n    }\n    var ctxTapend;\n    if (r.touchData.cxt) {\n      ctxTapend = {\n        originalEvent: e,\n        type: 'cxttapend',\n        position: {\n          x: now[0],\n          y: now[1]\n        }\n      };\n      if (start) {\n        start.emit(ctxTapend);\n      } else {\n        cy.emit(ctxTapend);\n      }\n      if (!r.touchData.cxtDragged) {\n        var ctxTap = {\n          originalEvent: e,\n          type: 'cxttap',\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        };\n        if (start) {\n          start.emit(ctxTap);\n        } else {\n          cy.emit(ctxTap);\n        }\n      }\n      if (r.touchData.start) {\n        r.touchData.start._private.grabbed = false;\n      }\n      r.touchData.cxt = false;\n      r.touchData.start = null;\n      r.redraw();\n      return;\n    }\n\n    // no more box selection if we don't have three fingers\n    if (!e.touches[2] && cy.boxSelectionEnabled() && r.touchData.selecting) {\n      r.touchData.selecting = false;\n      var box = cy.collection(r.getAllInBox(select[0], select[1], select[2], select[3]));\n      select[0] = undefined;\n      select[1] = undefined;\n      select[2] = undefined;\n      select[3] = undefined;\n      select[4] = 0;\n      r.redrawHint('select', true);\n      cy.emit({\n        type: 'boxend',\n        originalEvent: e,\n        position: {\n          x: now[0],\n          y: now[1]\n        }\n      });\n      var eleWouldBeSelected = function eleWouldBeSelected(ele) {\n        return ele.selectable() && !ele.selected();\n      };\n      box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n      if (box.nonempty()) {\n        r.redrawHint('eles', true);\n      }\n      r.redraw();\n    }\n    if (start != null) {\n      start.unactivate();\n    }\n    if (e.touches[2]) {\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n    } else if (e.touches[1]) ; else if (e.touches[0]) ; else if (!e.touches[0]) {\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n      var draggedEles = r.dragData.touchDragEles;\n      if (start != null) {\n        var startWasGrabbed = start._private.grabbed;\n        freeDraggedElements(draggedEles);\n        r.redrawHint('drag', true);\n        r.redrawHint('eles', true);\n        if (startWasGrabbed) {\n          start.emit('freeon');\n          draggedEles.emit('free');\n          if (r.dragData.didDrag) {\n            start.emit('dragfreeon');\n            draggedEles.emit('dragfree');\n          }\n        }\n        triggerEvents(start, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], e, {\n          x: now[0],\n          y: now[1]\n        });\n        start.unactivate();\n        r.touchData.start = null;\n      } else {\n        var near = r.findNearestElement(now[0], now[1], true, true);\n        triggerEvents(near, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], e, {\n          x: now[0],\n          y: now[1]\n        });\n      }\n      var dx = r.touchData.startPosition[0] - now[0];\n      var dx2 = dx * dx;\n      var dy = r.touchData.startPosition[1] - now[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n      var rdist2 = dist2 * zoom * zoom;\n\n      // Tap event, roughly same as mouse click event for touch\n      if (!r.touchData.singleTouchMoved) {\n        if (!start) {\n          cy.$(':selected').unselect(['tapunselect']);\n        }\n        triggerEvents(start, ['tap', 'vclick'], e, {\n          x: now[0],\n          y: now[1]\n        });\n        didDoubleTouch = false;\n        if (e.timeStamp - prevTouchTimeStamp <= cy.multiClickDebounceTime()) {\n          touchTimeout && clearTimeout(touchTimeout);\n          didDoubleTouch = true;\n          prevTouchTimeStamp = null;\n          triggerEvents(start, ['dbltap', 'vdblclick'], e, {\n            x: now[0],\n            y: now[1]\n          });\n        } else {\n          touchTimeout = setTimeout(function () {\n            if (didDoubleTouch) return;\n            triggerEvents(start, ['onetap', 'voneclick'], e, {\n              x: now[0],\n              y: now[1]\n            });\n          }, cy.multiClickDebounceTime());\n          prevTouchTimeStamp = e.timeStamp;\n        }\n      }\n\n      // Prepare to select the currently touched node, only if it hasn't been dragged past a certain distance\n      if (start != null && !r.dragData.didDrag // didn't drag nodes around\n      && start._private.selectable && rdist2 < r.touchTapThreshold2 && !r.pinching // pinch to zoom should not affect selection\n      ) {\n        if (cy.selectionType() === 'single') {\n          cy.$(isSelected).unmerge(start).unselect(['tapunselect']);\n          start.select(['tapselect']);\n        } else {\n          if (start.selected()) {\n            start.unselect(['tapunselect']);\n          } else {\n            start.select(['tapselect']);\n          }\n        }\n        r.redrawHint('eles', true);\n      }\n      r.touchData.singleTouchMoved = true;\n    }\n    for (var j = 0; j < now.length; j++) {\n      earlier[j] = now[j];\n    }\n    r.dragData.didDrag = false; // reset for next touchstart\n\n    if (e.touches.length === 0) {\n      r.touchData.dragDelta = [];\n      r.touchData.startPosition = [null, null, null, null, null, null];\n      r.touchData.startGPosition = null;\n      r.touchData.didSelect = false;\n    }\n    if (e.touches.length < 2) {\n      if (e.touches.length === 1) {\n        // the old start global pos'n may not be the same finger that remains\n        r.touchData.startGPosition = [e.touches[0].clientX, e.touches[0].clientY];\n      }\n      r.pinching = false;\n      r.redrawHint('eles', true);\n      r.redraw();\n    }\n\n    //r.redraw();\n  }, false);\n\n  // fallback compatibility layer for ms pointer events\n  if (typeof TouchEvent === 'undefined') {\n    var pointers = [];\n    var makeTouch = function makeTouch(e) {\n      return {\n        clientX: e.clientX,\n        clientY: e.clientY,\n        force: 1,\n        identifier: e.pointerId,\n        pageX: e.pageX,\n        pageY: e.pageY,\n        radiusX: e.width / 2,\n        radiusY: e.height / 2,\n        screenX: e.screenX,\n        screenY: e.screenY,\n        target: e.target\n      };\n    };\n    var makePointer = function makePointer(e) {\n      return {\n        event: e,\n        touch: makeTouch(e)\n      };\n    };\n    var addPointer = function addPointer(e) {\n      pointers.push(makePointer(e));\n    };\n    var removePointer = function removePointer(e) {\n      for (var i = 0; i < pointers.length; i++) {\n        var p = pointers[i];\n        if (p.event.pointerId === e.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    };\n    var updatePointer = function updatePointer(e) {\n      var p = pointers.filter(function (p) {\n        return p.event.pointerId === e.pointerId;\n      })[0];\n      p.event = e;\n      p.touch = makeTouch(e);\n    };\n    var addTouchesToEvent = function addTouchesToEvent(e) {\n      e.touches = pointers.map(function (p) {\n        return p.touch;\n      });\n    };\n    var pointerIsMouse = function pointerIsMouse(e) {\n      return e.pointerType === 'mouse' || e.pointerType === 4;\n    };\n    r.registerBinding(r.container, 'pointerdown', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n      e.preventDefault();\n      addPointer(e);\n      addTouchesToEvent(e);\n      touchstartHandler(e);\n    });\n    r.registerBinding(r.container, 'pointerup', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n      removePointer(e);\n      addTouchesToEvent(e);\n      touchendHandler(e);\n    });\n    r.registerBinding(r.container, 'pointercancel', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n      removePointer(e);\n      addTouchesToEvent(e);\n      touchcancelHandler(e);\n    });\n    r.registerBinding(r.container, 'pointermove', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n      e.preventDefault();\n      updatePointer(e);\n      addTouchesToEvent(e);\n      touchmoveHandler(e);\n    });\n  }\n};\n\nvar BRp$2 = {};\nBRp$2.generatePolygon = function (name, points) {\n  return this.nodeShapes[name] = {\n    renderer: this,\n    name: name,\n    points: points,\n    draw: function draw(context, centerX, centerY, width, height, cornerRadius) {\n      this.renderer.nodeShapeImpl('polygon', context, centerX, centerY, width, height, this.points);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding, cornerRadius) {\n      return polygonIntersectLine(x, y, this.points, nodeX, nodeY, width / 2, height / 2, padding);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY, cornerRadius) {\n      return pointInsidePolygon(x, y, this.points, centerX, centerY, width, height, [0, -1], padding);\n    }\n  };\n};\nBRp$2.generateEllipse = function () {\n  return this.nodeShapes['ellipse'] = {\n    renderer: this,\n    name: 'ellipse',\n    draw: function draw(context, centerX, centerY, width, height, cornerRadius) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding, cornerRadius) {\n      return intersectLineEllipse(x, y, nodeX, nodeY, width / 2 + padding, height / 2 + padding);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY, cornerRadius) {\n      return checkInEllipse(x, y, width, height, centerX, centerY, padding);\n    }\n  };\n};\nBRp$2.generateRoundPolygon = function (name, points) {\n  return this.nodeShapes[name] = {\n    renderer: this,\n    name: name,\n    points: points,\n    getOrCreateCorners: function getOrCreateCorners(centerX, centerY, width, height, cornerRadius, rs, field) {\n      if (rs[field] !== undefined && rs[field + '-cx'] === centerX && rs[field + '-cy'] === centerY) {\n        return rs[field];\n      }\n      rs[field] = new Array(points.length / 2);\n      rs[field + '-cx'] = centerX;\n      rs[field + '-cy'] = centerY;\n      var halfW = width / 2;\n      var halfH = height / 2;\n      cornerRadius = cornerRadius === 'auto' ? getRoundPolygonRadius(width, height) : cornerRadius;\n      var p = new Array(points.length / 2);\n      for (var _i = 0; _i < points.length / 2; _i++) {\n        p[_i] = {\n          x: centerX + halfW * points[_i * 2],\n          y: centerY + halfH * points[_i * 2 + 1]\n        };\n      }\n      var i,\n        p1,\n        p2,\n        p3,\n        len = p.length;\n      p1 = p[len - 1];\n      // for each point\n      for (i = 0; i < len; i++) {\n        p2 = p[i % len];\n        p3 = p[(i + 1) % len];\n        rs[field][i] = getRoundCorner(p1, p2, p3, cornerRadius);\n        p1 = p2;\n        p2 = p3;\n      }\n      return rs[field];\n    },\n    draw: function draw(context, centerX, centerY, width, height, cornerRadius, rs) {\n      this.renderer.nodeShapeImpl('round-polygon', context, centerX, centerY, width, height, this.points, this.getOrCreateCorners(centerX, centerY, width, height, cornerRadius, rs, 'drawCorners'));\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding, cornerRadius, rs) {\n      return roundPolygonIntersectLine(x, y, this.points, nodeX, nodeY, width, height, padding, this.getOrCreateCorners(nodeX, nodeY, width, height, cornerRadius, rs, 'corners'));\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY, cornerRadius, rs) {\n      return pointInsideRoundPolygon(x, y, this.points, centerX, centerY, width, height, this.getOrCreateCorners(centerX, centerY, width, height, cornerRadius, rs, 'corners'));\n    }\n  };\n};\nBRp$2.generateRoundRectangle = function () {\n  return this.nodeShapes['round-rectangle'] = this.nodeShapes['roundrectangle'] = {\n    renderer: this,\n    name: 'round-rectangle',\n    points: generateUnitNgonPointsFitToSquare(4, 0),\n    draw: function draw(context, centerX, centerY, width, height, cornerRadius) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height, this.points, cornerRadius);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding, cornerRadius) {\n      return roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding, cornerRadius);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY, cornerRadius) {\n      var halfWidth = width / 2;\n      var halfHeight = height / 2;\n      cornerRadius = cornerRadius === 'auto' ? getRoundRectangleRadius(width, height) : cornerRadius;\n      cornerRadius = Math.min(halfWidth, halfHeight, cornerRadius);\n      var diam = cornerRadius * 2;\n\n      // Check hBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - diam, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check vBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - diam, height, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check top left quarter circle\n      if (checkInEllipse(x, y, diam, diam, centerX - halfWidth + cornerRadius, centerY - halfHeight + cornerRadius, padding)) {\n        return true;\n      }\n\n      // Check top right quarter circle\n      if (checkInEllipse(x, y, diam, diam, centerX + halfWidth - cornerRadius, centerY - halfHeight + cornerRadius, padding)) {\n        return true;\n      }\n\n      // Check bottom right quarter circle\n      if (checkInEllipse(x, y, diam, diam, centerX + halfWidth - cornerRadius, centerY + halfHeight - cornerRadius, padding)) {\n        return true;\n      }\n\n      // Check bottom left quarter circle\n      if (checkInEllipse(x, y, diam, diam, centerX - halfWidth + cornerRadius, centerY + halfHeight - cornerRadius, padding)) {\n        return true;\n      }\n      return false;\n    }\n  };\n};\nBRp$2.generateCutRectangle = function () {\n  return this.nodeShapes['cut-rectangle'] = this.nodeShapes['cutrectangle'] = {\n    renderer: this,\n    name: 'cut-rectangle',\n    cornerLength: getCutRectangleCornerLength(),\n    points: generateUnitNgonPointsFitToSquare(4, 0),\n    draw: function draw(context, centerX, centerY, width, height, cornerRadius) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height, null, cornerRadius);\n    },\n    generateCutTrianglePts: function generateCutTrianglePts(width, height, centerX, centerY, cornerRadius) {\n      var cl = cornerRadius === 'auto' ? this.cornerLength : cornerRadius;\n      var hh = height / 2;\n      var hw = width / 2;\n      var xBegin = centerX - hw;\n      var xEnd = centerX + hw;\n      var yBegin = centerY - hh;\n      var yEnd = centerY + hh;\n\n      // points are in clockwise order, inner (imaginary) triangle pt on [4, 5]\n      return {\n        topLeft: [xBegin, yBegin + cl, xBegin + cl, yBegin, xBegin + cl, yBegin + cl],\n        topRight: [xEnd - cl, yBegin, xEnd, yBegin + cl, xEnd - cl, yBegin + cl],\n        bottomRight: [xEnd, yEnd - cl, xEnd - cl, yEnd, xEnd - cl, yEnd - cl],\n        bottomLeft: [xBegin + cl, yEnd, xBegin, yEnd - cl, xBegin + cl, yEnd - cl]\n      };\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding, cornerRadius) {\n      var cPts = this.generateCutTrianglePts(width + 2 * padding, height + 2 * padding, nodeX, nodeY, cornerRadius);\n      var pts = [].concat.apply([], [cPts.topLeft.splice(0, 4), cPts.topRight.splice(0, 4), cPts.bottomRight.splice(0, 4), cPts.bottomLeft.splice(0, 4)]);\n      return polygonIntersectLine(x, y, pts, nodeX, nodeY);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY, cornerRadius) {\n      var cl = cornerRadius === 'auto' ? this.cornerLength : cornerRadius;\n      // Check hBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - 2 * cl, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check vBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - 2 * cl, height, [0, -1], padding)) {\n        return true;\n      }\n      var cutTrianglePts = this.generateCutTrianglePts(width, height, centerX, centerY);\n      return pointInsidePolygonPoints(x, y, cutTrianglePts.topLeft) || pointInsidePolygonPoints(x, y, cutTrianglePts.topRight) || pointInsidePolygonPoints(x, y, cutTrianglePts.bottomRight) || pointInsidePolygonPoints(x, y, cutTrianglePts.bottomLeft);\n    }\n  };\n};\nBRp$2.generateBarrel = function () {\n  return this.nodeShapes['barrel'] = {\n    renderer: this,\n    name: 'barrel',\n    points: generateUnitNgonPointsFitToSquare(4, 0),\n    draw: function draw(context, centerX, centerY, width, height, cornerRadius) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding, cornerRadius) {\n      // use two fixed t values for the bezier curve approximation\n\n      var t0 = 0.15;\n      var t1 = 0.5;\n      var t2 = 0.85;\n      var bPts = this.generateBarrelBezierPts(width + 2 * padding, height + 2 * padding, nodeX, nodeY);\n      var approximateBarrelCurvePts = function approximateBarrelCurvePts(pts) {\n        // approximate curve pts based on the two t values\n        var m0 = qbezierPtAt({\n          x: pts[0],\n          y: pts[1]\n        }, {\n          x: pts[2],\n          y: pts[3]\n        }, {\n          x: pts[4],\n          y: pts[5]\n        }, t0);\n        var m1 = qbezierPtAt({\n          x: pts[0],\n          y: pts[1]\n        }, {\n          x: pts[2],\n          y: pts[3]\n        }, {\n          x: pts[4],\n          y: pts[5]\n        }, t1);\n        var m2 = qbezierPtAt({\n          x: pts[0],\n          y: pts[1]\n        }, {\n          x: pts[2],\n          y: pts[3]\n        }, {\n          x: pts[4],\n          y: pts[5]\n        }, t2);\n        return [pts[0], pts[1], m0.x, m0.y, m1.x, m1.y, m2.x, m2.y, pts[4], pts[5]];\n      };\n      var pts = [].concat(approximateBarrelCurvePts(bPts.topLeft), approximateBarrelCurvePts(bPts.topRight), approximateBarrelCurvePts(bPts.bottomRight), approximateBarrelCurvePts(bPts.bottomLeft));\n      return polygonIntersectLine(x, y, pts, nodeX, nodeY);\n    },\n    generateBarrelBezierPts: function generateBarrelBezierPts(width, height, centerX, centerY) {\n      var hh = height / 2;\n      var hw = width / 2;\n      var xBegin = centerX - hw;\n      var xEnd = centerX + hw;\n      var yBegin = centerY - hh;\n      var yEnd = centerY + hh;\n      var curveConstants = getBarrelCurveConstants(width, height);\n      var hOffset = curveConstants.heightOffset;\n      var wOffset = curveConstants.widthOffset;\n      var ctrlPtXOffset = curveConstants.ctrlPtOffsetPct * width;\n\n      // points are in clockwise order, inner (imaginary) control pt on [4, 5]\n      var pts = {\n        topLeft: [xBegin, yBegin + hOffset, xBegin + ctrlPtXOffset, yBegin, xBegin + wOffset, yBegin],\n        topRight: [xEnd - wOffset, yBegin, xEnd - ctrlPtXOffset, yBegin, xEnd, yBegin + hOffset],\n        bottomRight: [xEnd, yEnd - hOffset, xEnd - ctrlPtXOffset, yEnd, xEnd - wOffset, yEnd],\n        bottomLeft: [xBegin + wOffset, yEnd, xBegin + ctrlPtXOffset, yEnd, xBegin, yEnd - hOffset]\n      };\n      pts.topLeft.isTop = true;\n      pts.topRight.isTop = true;\n      pts.bottomLeft.isBottom = true;\n      pts.bottomRight.isBottom = true;\n      return pts;\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY, cornerRadius) {\n      var curveConstants = getBarrelCurveConstants(width, height);\n      var hOffset = curveConstants.heightOffset;\n      var wOffset = curveConstants.widthOffset;\n\n      // Check hBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - 2 * hOffset, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check vBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - 2 * wOffset, height, [0, -1], padding)) {\n        return true;\n      }\n      var barrelCurvePts = this.generateBarrelBezierPts(width, height, centerX, centerY);\n      var getCurveT = function getCurveT(x, y, curvePts) {\n        var x0 = curvePts[4];\n        var x1 = curvePts[2];\n        var x2 = curvePts[0];\n        var y0 = curvePts[5];\n        // var y1 = curvePts[ 3 ];\n        var y2 = curvePts[1];\n        var xMin = Math.min(x0, x2);\n        var xMax = Math.max(x0, x2);\n        var yMin = Math.min(y0, y2);\n        var yMax = Math.max(y0, y2);\n        if (xMin <= x && x <= xMax && yMin <= y && y <= yMax) {\n          var coeff = bezierPtsToQuadCoeff(x0, x1, x2);\n          var roots = solveQuadratic(coeff[0], coeff[1], coeff[2], x);\n          var validRoots = roots.filter(function (r) {\n            return 0 <= r && r <= 1;\n          });\n          if (validRoots.length > 0) {\n            return validRoots[0];\n          }\n        }\n        return null;\n      };\n      var curveRegions = Object.keys(barrelCurvePts);\n      for (var i = 0; i < curveRegions.length; i++) {\n        var corner = curveRegions[i];\n        var cornerPts = barrelCurvePts[corner];\n        var t = getCurveT(x, y, cornerPts);\n        if (t == null) {\n          continue;\n        }\n        var y0 = cornerPts[5];\n        var y1 = cornerPts[3];\n        var y2 = cornerPts[1];\n        var bezY = qbezierAt(y0, y1, y2, t);\n        if (cornerPts.isTop && bezY <= y) {\n          return true;\n        }\n        if (cornerPts.isBottom && y <= bezY) {\n          return true;\n        }\n      }\n      return false;\n    }\n  };\n};\nBRp$2.generateBottomRoundrectangle = function () {\n  return this.nodeShapes['bottom-round-rectangle'] = this.nodeShapes['bottomroundrectangle'] = {\n    renderer: this,\n    name: 'bottom-round-rectangle',\n    points: generateUnitNgonPointsFitToSquare(4, 0),\n    draw: function draw(context, centerX, centerY, width, height, cornerRadius) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height, this.points, cornerRadius);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding, cornerRadius) {\n      var topStartX = nodeX - (width / 2 + padding);\n      var topStartY = nodeY - (height / 2 + padding);\n      var topEndY = topStartY;\n      var topEndX = nodeX + (width / 2 + padding);\n      var topIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, topStartX, topStartY, topEndX, topEndY, false);\n      if (topIntersections.length > 0) {\n        return topIntersections;\n      }\n      return roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding, cornerRadius);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY, cornerRadius) {\n      cornerRadius = cornerRadius === 'auto' ? getRoundRectangleRadius(width, height) : cornerRadius;\n      var diam = 2 * cornerRadius;\n\n      // Check hBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - diam, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check vBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - diam, height, [0, -1], padding)) {\n        return true;\n      }\n\n      // check non-rounded top side\n      var outerWidth = width / 2 + 2 * padding;\n      var outerHeight = height / 2 + 2 * padding;\n      var points = [centerX - outerWidth, centerY - outerHeight, centerX - outerWidth, centerY, centerX + outerWidth, centerY, centerX + outerWidth, centerY - outerHeight];\n      if (pointInsidePolygonPoints(x, y, points)) {\n        return true;\n      }\n\n      // Check bottom right quarter circle\n      if (checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n        return true;\n      }\n\n      // Check bottom left quarter circle\n      if (checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n        return true;\n      }\n      return false;\n    }\n  };\n};\nBRp$2.registerNodeShapes = function () {\n  var nodeShapes = this.nodeShapes = {};\n  var renderer = this;\n  this.generateEllipse();\n  this.generatePolygon('triangle', generateUnitNgonPointsFitToSquare(3, 0));\n  this.generateRoundPolygon('round-triangle', generateUnitNgonPointsFitToSquare(3, 0));\n  this.generatePolygon('rectangle', generateUnitNgonPointsFitToSquare(4, 0));\n  nodeShapes['square'] = nodeShapes['rectangle'];\n  this.generateRoundRectangle();\n  this.generateCutRectangle();\n  this.generateBarrel();\n  this.generateBottomRoundrectangle();\n  {\n    var diamondPoints = [0, 1, 1, 0, 0, -1, -1, 0];\n    this.generatePolygon('diamond', diamondPoints);\n    this.generateRoundPolygon('round-diamond', diamondPoints);\n  }\n  this.generatePolygon('pentagon', generateUnitNgonPointsFitToSquare(5, 0));\n  this.generateRoundPolygon('round-pentagon', generateUnitNgonPointsFitToSquare(5, 0));\n  this.generatePolygon('hexagon', generateUnitNgonPointsFitToSquare(6, 0));\n  this.generateRoundPolygon('round-hexagon', generateUnitNgonPointsFitToSquare(6, 0));\n  this.generatePolygon('heptagon', generateUnitNgonPointsFitToSquare(7, 0));\n  this.generateRoundPolygon('round-heptagon', generateUnitNgonPointsFitToSquare(7, 0));\n  this.generatePolygon('octagon', generateUnitNgonPointsFitToSquare(8, 0));\n  this.generateRoundPolygon('round-octagon', generateUnitNgonPointsFitToSquare(8, 0));\n  var star5Points = new Array(20);\n  {\n    var outerPoints = generateUnitNgonPoints(5, 0);\n    var innerPoints = generateUnitNgonPoints(5, Math.PI / 5);\n\n    // Outer radius is 1; inner radius of star is smaller\n    var innerRadius = 0.5 * (3 - Math.sqrt(5));\n    innerRadius *= 1.57;\n    for (var i = 0; i < innerPoints.length / 2; i++) {\n      innerPoints[i * 2] *= innerRadius;\n      innerPoints[i * 2 + 1] *= innerRadius;\n    }\n    for (var i = 0; i < 20 / 4; i++) {\n      star5Points[i * 4] = outerPoints[i * 2];\n      star5Points[i * 4 + 1] = outerPoints[i * 2 + 1];\n      star5Points[i * 4 + 2] = innerPoints[i * 2];\n      star5Points[i * 4 + 3] = innerPoints[i * 2 + 1];\n    }\n  }\n  star5Points = fitPolygonToSquare(star5Points);\n  this.generatePolygon('star', star5Points);\n  this.generatePolygon('vee', [-1, -1, 0, -0.333, 1, -1, 0, 1]);\n  this.generatePolygon('rhomboid', [-1, -1, 0.333, -1, 1, 1, -0.333, 1]);\n  this.generatePolygon('right-rhomboid', [-0.333, -1, 1, -1, 0.333, 1, -1, 1]);\n  this.nodeShapes['concavehexagon'] = this.generatePolygon('concave-hexagon', [-1, -0.95, -0.75, 0, -1, 0.95, 1, 0.95, 0.75, 0, 1, -0.95]);\n  {\n    var tagPoints = [-1, -1, 0.25, -1, 1, 0, 0.25, 1, -1, 1];\n    this.generatePolygon('tag', tagPoints);\n    this.generateRoundPolygon('round-tag', tagPoints);\n  }\n  nodeShapes.makePolygon = function (points) {\n    // use caching on user-specified polygons so they are as fast as native shapes\n\n    var key = points.join('$');\n    var name = 'polygon-' + key;\n    var shape;\n    if (shape = this[name]) {\n      // got cached shape\n      return shape;\n    }\n\n    // create and cache new shape\n    return renderer.generatePolygon(name, points);\n  };\n};\n\nvar BRp$1 = {};\nBRp$1.timeToRender = function () {\n  return this.redrawTotalTime / this.redrawCount;\n};\nBRp$1.redraw = function (options) {\n  options = options || staticEmptyObject();\n  var r = this;\n  if (r.averageRedrawTime === undefined) {\n    r.averageRedrawTime = 0;\n  }\n  if (r.lastRedrawTime === undefined) {\n    r.lastRedrawTime = 0;\n  }\n  if (r.lastDrawTime === undefined) {\n    r.lastDrawTime = 0;\n  }\n  r.requestedFrame = true;\n  r.renderOptions = options;\n};\nBRp$1.beforeRender = function (fn, priority) {\n  // the renderer can't add tick callbacks when destroyed\n  if (this.destroyed) {\n    return;\n  }\n  if (priority == null) {\n    error('Priority is not optional for beforeRender');\n  }\n  var cbs = this.beforeRenderCallbacks;\n  cbs.push({\n    fn: fn,\n    priority: priority\n  });\n\n  // higher priority callbacks executed first\n  cbs.sort(function (a, b) {\n    return b.priority - a.priority;\n  });\n};\nvar beforeRenderCallbacks = function beforeRenderCallbacks(r, willDraw, startTime) {\n  var cbs = r.beforeRenderCallbacks;\n  for (var i = 0; i < cbs.length; i++) {\n    cbs[i].fn(willDraw, startTime);\n  }\n};\nBRp$1.startRenderLoop = function () {\n  var r = this;\n  var cy = r.cy;\n  if (r.renderLoopStarted) {\n    return;\n  } else {\n    r.renderLoopStarted = true;\n  }\n  var renderFn = function renderFn(requestTime) {\n    if (r.destroyed) {\n      return;\n    }\n    if (cy.batching()) ; else if (r.requestedFrame && !r.skipFrame) {\n      beforeRenderCallbacks(r, true, requestTime);\n      var startTime = performanceNow();\n      r.render(r.renderOptions);\n      var endTime = r.lastDrawTime = performanceNow();\n      if (r.averageRedrawTime === undefined) {\n        r.averageRedrawTime = endTime - startTime;\n      }\n      if (r.redrawCount === undefined) {\n        r.redrawCount = 0;\n      }\n      r.redrawCount++;\n      if (r.redrawTotalTime === undefined) {\n        r.redrawTotalTime = 0;\n      }\n      var duration = endTime - startTime;\n      r.redrawTotalTime += duration;\n      r.lastRedrawTime = duration;\n\n      // use a weighted average with a bias from the previous average so we don't spike so easily\n      r.averageRedrawTime = r.averageRedrawTime / 2 + duration / 2;\n      r.requestedFrame = false;\n    } else {\n      beforeRenderCallbacks(r, false, requestTime);\n    }\n    r.skipFrame = false;\n    requestAnimationFrame(renderFn);\n  };\n  requestAnimationFrame(renderFn);\n};\n\nvar BaseRenderer = function BaseRenderer(options) {\n  this.init(options);\n};\nvar BR = BaseRenderer;\nvar BRp = BR.prototype;\nBRp.clientFunctions = ['redrawHint', 'render', 'renderTo', 'matchCanvasSize', 'nodeShapeImpl', 'arrowShapeImpl'];\nBRp.init = function (options) {\n  var r = this;\n  r.options = options;\n  r.cy = options.cy;\n  var ctr = r.container = options.cy.container();\n  var containerWindow = r.cy.window();\n\n  // prepend a stylesheet in the head such that\n  if (containerWindow) {\n    var document = containerWindow.document;\n    var head = document.head;\n    var stylesheetId = '__________cytoscape_stylesheet';\n    var className = '__________cytoscape_container';\n    var stylesheetAlreadyExists = document.getElementById(stylesheetId) != null;\n    if (ctr.className.indexOf(className) < 0) {\n      ctr.className = (ctr.className || '') + ' ' + className;\n    }\n    if (!stylesheetAlreadyExists) {\n      var stylesheet = document.createElement('style');\n      stylesheet.id = stylesheetId;\n      stylesheet.textContent = '.' + className + ' { position: relative; }';\n      head.insertBefore(stylesheet, head.children[0]); // first so lowest priority\n    }\n\n    var computedStyle = containerWindow.getComputedStyle(ctr);\n    var position = computedStyle.getPropertyValue('position');\n    if (position === 'static') {\n      warn('A Cytoscape container has style position:static and so can not use UI extensions properly');\n    }\n  }\n  r.selection = [undefined, undefined, undefined, undefined, 0]; // Coordinates for selection box, plus enabled flag\n\n  r.bezierProjPcts = [0.05, 0.225, 0.4, 0.5, 0.6, 0.775, 0.95];\n\n  //--Pointer-related data\n  r.hoverData = {\n    down: null,\n    last: null,\n    downTime: null,\n    triggerMode: null,\n    dragging: false,\n    initialPan: [null, null],\n    capture: false\n  };\n  r.dragData = {\n    possibleDragElements: []\n  };\n  r.touchData = {\n    start: null,\n    capture: false,\n    // These 3 fields related to tap, taphold events\n    startPosition: [null, null, null, null, null, null],\n    singleTouchStartTime: null,\n    singleTouchMoved: true,\n    now: [null, null, null, null, null, null],\n    earlier: [null, null, null, null, null, null]\n  };\n  r.redraws = 0;\n  r.showFps = options.showFps;\n  r.debug = options.debug;\n  r.hideEdgesOnViewport = options.hideEdgesOnViewport;\n  r.textureOnViewport = options.textureOnViewport;\n  r.wheelSensitivity = options.wheelSensitivity;\n  r.motionBlurEnabled = options.motionBlur; // on by default\n  r.forcedPixelRatio = number$1(options.pixelRatio) ? options.pixelRatio : null;\n  r.motionBlur = options.motionBlur; // for initial kick off\n  r.motionBlurOpacity = options.motionBlurOpacity;\n  r.motionBlurTransparency = 1 - r.motionBlurOpacity;\n  r.motionBlurPxRatio = 1;\n  r.mbPxRBlurry = 1; //0.8;\n  r.minMbLowQualFrames = 4;\n  r.fullQualityMb = false;\n  r.clearedForMotionBlur = [];\n  r.desktopTapThreshold = options.desktopTapThreshold;\n  r.desktopTapThreshold2 = options.desktopTapThreshold * options.desktopTapThreshold;\n  r.touchTapThreshold = options.touchTapThreshold;\n  r.touchTapThreshold2 = options.touchTapThreshold * options.touchTapThreshold;\n  r.tapholdDuration = 500;\n  r.bindings = [];\n  r.beforeRenderCallbacks = [];\n  r.beforeRenderPriorities = {\n    // higher priority execs before lower one\n    animations: 400,\n    eleCalcs: 300,\n    eleTxrDeq: 200,\n    lyrTxrDeq: 150,\n    lyrTxrSkip: 100\n  };\n  r.registerNodeShapes();\n  r.registerArrowShapes();\n  r.registerCalculationListeners();\n};\nBRp.notify = function (eventName, eles) {\n  var r = this;\n  var cy = r.cy;\n\n  // the renderer can't be notified after it's destroyed\n  if (this.destroyed) {\n    return;\n  }\n  if (eventName === 'init') {\n    r.load();\n    return;\n  }\n  if (eventName === 'destroy') {\n    r.destroy();\n    return;\n  }\n  if (eventName === 'add' || eventName === 'remove' || eventName === 'move' && cy.hasCompoundNodes() || eventName === 'load' || eventName === 'zorder' || eventName === 'mount') {\n    r.invalidateCachedZSortedEles();\n  }\n  if (eventName === 'viewport') {\n    r.redrawHint('select', true);\n  }\n  if (eventName === 'load' || eventName === 'resize' || eventName === 'mount') {\n    r.invalidateContainerClientCoordsCache();\n    r.matchCanvasSize(r.container);\n  }\n  r.redrawHint('eles', true);\n  r.redrawHint('drag', true);\n  this.startRenderLoop();\n  this.redraw();\n};\nBRp.destroy = function () {\n  var r = this;\n  r.destroyed = true;\n  r.cy.stopAnimationLoop();\n  for (var i = 0; i < r.bindings.length; i++) {\n    var binding = r.bindings[i];\n    var b = binding;\n    var tgt = b.target;\n    (tgt.off || tgt.removeEventListener).apply(tgt, b.args);\n  }\n  r.bindings = [];\n  r.beforeRenderCallbacks = [];\n  r.onUpdateEleCalcsFns = [];\n  if (r.removeObserver) {\n    r.removeObserver.disconnect();\n  }\n  if (r.styleObserver) {\n    r.styleObserver.disconnect();\n  }\n  if (r.resizeObserver) {\n    r.resizeObserver.disconnect();\n  }\n  if (r.labelCalcDiv) {\n    try {\n      document.body.removeChild(r.labelCalcDiv); // eslint-disable-line no-undef\n    } catch (e) {\n      // ie10 issue #1014\n    }\n  }\n};\nBRp.isHeadless = function () {\n  return false;\n};\n[BRp$f, BRp$5, BRp$4, BRp$3, BRp$2, BRp$1].forEach(function (props) {\n  extend(BRp, props);\n});\n\nvar fullFpsTime = 1000 / 60; // assume 60 frames per second\n\nvar defs = {\n  setupDequeueing: function setupDequeueing(opts) {\n    return function setupDequeueingImpl() {\n      var self = this;\n      var r = this.renderer;\n      if (self.dequeueingSetup) {\n        return;\n      } else {\n        self.dequeueingSetup = true;\n      }\n      var queueRedraw = debounce_1(function () {\n        r.redrawHint('eles', true);\n        r.redrawHint('drag', true);\n        r.redraw();\n      }, opts.deqRedrawThreshold);\n      var dequeue = function dequeue(willDraw, frameStartTime) {\n        var startTime = performanceNow();\n        var avgRenderTime = r.averageRedrawTime;\n        var renderTime = r.lastRedrawTime;\n        var deqd = [];\n        var extent = r.cy.extent();\n        var pixelRatio = r.getPixelRatio();\n\n        // if we aren't in a tick that causes a draw, then the rendered style\n        // queue won't automatically be flushed before dequeueing starts\n        if (!willDraw) {\n          r.flushRenderedStyleQueue();\n        }\n        while (true) {\n          // eslint-disable-line no-constant-condition\n          var now = performanceNow();\n          var duration = now - startTime;\n          var frameDuration = now - frameStartTime;\n          if (renderTime < fullFpsTime) {\n            // if we're rendering faster than the ideal fps, then do dequeueing\n            // during all of the remaining frame time\n\n            var timeAvailable = fullFpsTime - (willDraw ? avgRenderTime : 0);\n            if (frameDuration >= opts.deqFastCost * timeAvailable) {\n              break;\n            }\n          } else {\n            if (willDraw) {\n              if (duration >= opts.deqCost * renderTime || duration >= opts.deqAvgCost * avgRenderTime) {\n                break;\n              }\n            } else if (frameDuration >= opts.deqNoDrawCost * fullFpsTime) {\n              break;\n            }\n          }\n          var thisDeqd = opts.deq(self, pixelRatio, extent);\n          if (thisDeqd.length > 0) {\n            for (var i = 0; i < thisDeqd.length; i++) {\n              deqd.push(thisDeqd[i]);\n            }\n          } else {\n            break;\n          }\n        }\n\n        // callbacks on dequeue\n        if (deqd.length > 0) {\n          opts.onDeqd(self, deqd);\n          if (!willDraw && opts.shouldRedraw(self, deqd, pixelRatio, extent)) {\n            queueRedraw();\n          }\n        }\n      };\n      var priority = opts.priority || noop$1;\n      r.beforeRender(dequeue, priority(self));\n    };\n  }\n};\n\n// Allows lookups for (ele, lvl) => cache.\n// Uses keys so elements may share the same cache.\nvar ElementTextureCacheLookup = /*#__PURE__*/function () {\n  function ElementTextureCacheLookup(getKey) {\n    var doesEleInvalidateKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : falsify;\n    _classCallCheck(this, ElementTextureCacheLookup);\n    this.idsByKey = new Map$2();\n    this.keyForId = new Map$2();\n    this.cachesByLvl = new Map$2();\n    this.lvls = [];\n    this.getKey = getKey;\n    this.doesEleInvalidateKey = doesEleInvalidateKey;\n  }\n  _createClass(ElementTextureCacheLookup, [{\n    key: \"getIdsFor\",\n    value: function getIdsFor(key) {\n      if (key == null) {\n        error(\"Can not get id list for null key\");\n      }\n      var idsByKey = this.idsByKey;\n      var ids = this.idsByKey.get(key);\n      if (!ids) {\n        ids = new Set$1();\n        idsByKey.set(key, ids);\n      }\n      return ids;\n    }\n  }, {\n    key: \"addIdForKey\",\n    value: function addIdForKey(key, id) {\n      if (key != null) {\n        this.getIdsFor(key).add(id);\n      }\n    }\n  }, {\n    key: \"deleteIdForKey\",\n    value: function deleteIdForKey(key, id) {\n      if (key != null) {\n        this.getIdsFor(key)[\"delete\"](id);\n      }\n    }\n  }, {\n    key: \"getNumberOfIdsForKey\",\n    value: function getNumberOfIdsForKey(key) {\n      if (key == null) {\n        return 0;\n      } else {\n        return this.getIdsFor(key).size;\n      }\n    }\n  }, {\n    key: \"updateKeyMappingFor\",\n    value: function updateKeyMappingFor(ele) {\n      var id = ele.id();\n      var prevKey = this.keyForId.get(id);\n      var currKey = this.getKey(ele);\n      this.deleteIdForKey(prevKey, id);\n      this.addIdForKey(currKey, id);\n      this.keyForId.set(id, currKey);\n    }\n  }, {\n    key: \"deleteKeyMappingFor\",\n    value: function deleteKeyMappingFor(ele) {\n      var id = ele.id();\n      var prevKey = this.keyForId.get(id);\n      this.deleteIdForKey(prevKey, id);\n      this.keyForId[\"delete\"](id);\n    }\n  }, {\n    key: \"keyHasChangedFor\",\n    value: function keyHasChangedFor(ele) {\n      var id = ele.id();\n      var prevKey = this.keyForId.get(id);\n      var newKey = this.getKey(ele);\n      return prevKey !== newKey;\n    }\n  }, {\n    key: \"isInvalid\",\n    value: function isInvalid(ele) {\n      return this.keyHasChangedFor(ele) || this.doesEleInvalidateKey(ele);\n    }\n  }, {\n    key: \"getCachesAt\",\n    value: function getCachesAt(lvl) {\n      var cachesByLvl = this.cachesByLvl,\n        lvls = this.lvls;\n      var caches = cachesByLvl.get(lvl);\n      if (!caches) {\n        caches = new Map$2();\n        cachesByLvl.set(lvl, caches);\n        lvls.push(lvl);\n      }\n      return caches;\n    }\n  }, {\n    key: \"getCache\",\n    value: function getCache(key, lvl) {\n      return this.getCachesAt(lvl).get(key);\n    }\n  }, {\n    key: \"get\",\n    value: function get(ele, lvl) {\n      var key = this.getKey(ele);\n      var cache = this.getCache(key, lvl);\n\n      // getting for an element may need to add to the id list b/c eles can share keys\n      if (cache != null) {\n        this.updateKeyMappingFor(ele);\n      }\n      return cache;\n    }\n  }, {\n    key: \"getForCachedKey\",\n    value: function getForCachedKey(ele, lvl) {\n      var key = this.keyForId.get(ele.id()); // n.b. use cached key, not newly computed key\n      var cache = this.getCache(key, lvl);\n      return cache;\n    }\n  }, {\n    key: \"hasCache\",\n    value: function hasCache(key, lvl) {\n      return this.getCachesAt(lvl).has(key);\n    }\n  }, {\n    key: \"has\",\n    value: function has(ele, lvl) {\n      var key = this.getKey(ele);\n      return this.hasCache(key, lvl);\n    }\n  }, {\n    key: \"setCache\",\n    value: function setCache(key, lvl, cache) {\n      cache.key = key;\n      this.getCachesAt(lvl).set(key, cache);\n    }\n  }, {\n    key: \"set\",\n    value: function set(ele, lvl, cache) {\n      var key = this.getKey(ele);\n      this.setCache(key, lvl, cache);\n      this.updateKeyMappingFor(ele);\n    }\n  }, {\n    key: \"deleteCache\",\n    value: function deleteCache(key, lvl) {\n      this.getCachesAt(lvl)[\"delete\"](key);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(ele, lvl) {\n      var key = this.getKey(ele);\n      this.deleteCache(key, lvl);\n    }\n  }, {\n    key: \"invalidateKey\",\n    value: function invalidateKey(key) {\n      var _this = this;\n      this.lvls.forEach(function (lvl) {\n        return _this.deleteCache(key, lvl);\n      });\n    }\n\n    // returns true if no other eles reference the invalidated cache (n.b. other eles may need the cache with the same key)\n  }, {\n    key: \"invalidate\",\n    value: function invalidate(ele) {\n      var id = ele.id();\n      var key = this.keyForId.get(id); // n.b. use stored key rather than current (potential key)\n\n      this.deleteKeyMappingFor(ele);\n      var entireKeyInvalidated = this.doesEleInvalidateKey(ele);\n      if (entireKeyInvalidated) {\n        // clear mapping for current key\n        this.invalidateKey(key);\n      }\n      return entireKeyInvalidated || this.getNumberOfIdsForKey(key) === 0;\n    }\n  }]);\n  return ElementTextureCacheLookup;\n}();\n\nvar minTxrH = 25; // the size of the texture cache for small height eles (special case)\nvar txrStepH = 50; // the min size of the regular cache, and the size it increases with each step up\nvar minLvl$1 = -4; // when scaling smaller than that we don't need to re-render\nvar maxLvl$1 = 3; // when larger than this scale just render directly (caching is not helpful)\nvar maxZoom$1 = 7.99; // beyond this zoom level, layered textures are not used\nvar eleTxrSpacing = 8; // spacing between elements on textures to avoid blitting overlaps\nvar defTxrWidth = 1024; // default/minimum texture width\nvar maxTxrW = 1024; // the maximum width of a texture\nvar maxTxrH = 1024; // the maximum height of a texture\nvar minUtility = 0.2; // if usage of texture is less than this, it is retired\nvar maxFullness = 0.8; // fullness of texture after which queue removal is checked\nvar maxFullnessChecks = 10; // dequeued after this many checks\nvar deqCost$1 = 0.15; // % of add'l rendering cost allowed for dequeuing ele caches each frame\nvar deqAvgCost$1 = 0.1; // % of add'l rendering cost compared to average overall redraw time\nvar deqNoDrawCost$1 = 0.9; // % of avg frame time that can be used for dequeueing when not drawing\nvar deqFastCost$1 = 0.9; // % of frame time to be used when >60fps\nvar deqRedrawThreshold$1 = 100; // time to batch redraws together from dequeueing to allow more dequeueing calcs to happen in the meanwhile\nvar maxDeqSize$1 = 1; // number of eles to dequeue and render at higher texture in each batch\n\nvar getTxrReasons = {\n  dequeue: 'dequeue',\n  downscale: 'downscale',\n  highQuality: 'highQuality'\n};\nvar initDefaults = defaults$g({\n  getKey: null,\n  doesEleInvalidateKey: falsify,\n  drawElement: null,\n  getBoundingBox: null,\n  getRotationPoint: null,\n  getRotationOffset: null,\n  isVisible: trueify,\n  allowEdgeTxrCaching: true,\n  allowParentTxrCaching: true\n});\nvar ElementTextureCache = function ElementTextureCache(renderer, initOptions) {\n  var self = this;\n  self.renderer = renderer;\n  self.onDequeues = [];\n  var opts = initDefaults(initOptions);\n  extend(self, opts);\n  self.lookup = new ElementTextureCacheLookup(opts.getKey, opts.doesEleInvalidateKey);\n  self.setupDequeueing();\n};\nvar ETCp = ElementTextureCache.prototype;\nETCp.reasons = getTxrReasons;\n\n// the list of textures in which new subtextures for elements can be placed\nETCp.getTextureQueue = function (txrH) {\n  var self = this;\n  self.eleImgCaches = self.eleImgCaches || {};\n  return self.eleImgCaches[txrH] = self.eleImgCaches[txrH] || [];\n};\n\n// the list of usused textures which can be recycled (in use in texture queue)\nETCp.getRetiredTextureQueue = function (txrH) {\n  var self = this;\n  var rtxtrQs = self.eleImgCaches.retired = self.eleImgCaches.retired || {};\n  var rtxtrQ = rtxtrQs[txrH] = rtxtrQs[txrH] || [];\n  return rtxtrQ;\n};\n\n// queue of element draw requests at different scale levels\nETCp.getElementQueue = function () {\n  var self = this;\n  var q = self.eleCacheQueue = self.eleCacheQueue || new heap(function (a, b) {\n    return b.reqs - a.reqs;\n  });\n  return q;\n};\n\n// queue of element draw requests at different scale levels (element id lookup)\nETCp.getElementKeyToQueue = function () {\n  var self = this;\n  var k2q = self.eleKeyToCacheQueue = self.eleKeyToCacheQueue || {};\n  return k2q;\n};\nETCp.getElement = function (ele, bb, pxRatio, lvl, reason) {\n  var self = this;\n  var r = this.renderer;\n  var zoom = r.cy.zoom();\n  var lookup = this.lookup;\n  if (!bb || bb.w === 0 || bb.h === 0 || isNaN(bb.w) || isNaN(bb.h) || !ele.visible() || ele.removed()) {\n    return null;\n  }\n  if (!self.allowEdgeTxrCaching && ele.isEdge() || !self.allowParentTxrCaching && ele.isParent()) {\n    return null;\n  }\n  if (lvl == null) {\n    lvl = Math.ceil(log2(zoom * pxRatio));\n  }\n  if (lvl < minLvl$1) {\n    lvl = minLvl$1;\n  } else if (zoom >= maxZoom$1 || lvl > maxLvl$1) {\n    return null;\n  }\n  var scale = Math.pow(2, lvl);\n  var eleScaledH = bb.h * scale;\n  var eleScaledW = bb.w * scale;\n  var scaledLabelShown = r.eleTextBiggerThanMin(ele, scale);\n  if (!this.isVisible(ele, scaledLabelShown)) {\n    return null;\n  }\n  var eleCache = lookup.get(ele, lvl);\n\n  // if this get was on an unused/invalidated cache, then restore the texture usage metric\n  if (eleCache && eleCache.invalidated) {\n    eleCache.invalidated = false;\n    eleCache.texture.invalidatedWidth -= eleCache.width;\n  }\n  if (eleCache) {\n    return eleCache;\n  }\n  var txrH; // which texture height this ele belongs to\n\n  if (eleScaledH <= minTxrH) {\n    txrH = minTxrH;\n  } else if (eleScaledH <= txrStepH) {\n    txrH = txrStepH;\n  } else {\n    txrH = Math.ceil(eleScaledH / txrStepH) * txrStepH;\n  }\n  if (eleScaledH > maxTxrH || eleScaledW > maxTxrW) {\n    return null; // caching large elements is not efficient\n  }\n\n  var txrQ = self.getTextureQueue(txrH);\n\n  // first try the second last one in case it has space at the end\n  var txr = txrQ[txrQ.length - 2];\n  var addNewTxr = function addNewTxr() {\n    return self.recycleTexture(txrH, eleScaledW) || self.addTexture(txrH, eleScaledW);\n  };\n\n  // try the last one if there is no second last one\n  if (!txr) {\n    txr = txrQ[txrQ.length - 1];\n  }\n\n  // if the last one doesn't exist, we need a first one\n  if (!txr) {\n    txr = addNewTxr();\n  }\n\n  // if there's no room in the current texture, we need a new one\n  if (txr.width - txr.usedWidth < eleScaledW) {\n    txr = addNewTxr();\n  }\n  var scalableFrom = function scalableFrom(otherCache) {\n    return otherCache && otherCache.scaledLabelShown === scaledLabelShown;\n  };\n  var deqing = reason && reason === getTxrReasons.dequeue;\n  var highQualityReq = reason && reason === getTxrReasons.highQuality;\n  var downscaleReq = reason && reason === getTxrReasons.downscale;\n  var higherCache; // the nearest cache with a higher level\n  for (var l = lvl + 1; l <= maxLvl$1; l++) {\n    var c = lookup.get(ele, l);\n    if (c) {\n      higherCache = c;\n      break;\n    }\n  }\n  var oneUpCache = higherCache && higherCache.level === lvl + 1 ? higherCache : null;\n  var downscale = function downscale() {\n    txr.context.drawImage(oneUpCache.texture.canvas, oneUpCache.x, 0, oneUpCache.width, oneUpCache.height, txr.usedWidth, 0, eleScaledW, eleScaledH);\n  };\n\n  // reset ele area in texture\n  txr.context.setTransform(1, 0, 0, 1, 0, 0);\n  txr.context.clearRect(txr.usedWidth, 0, eleScaledW, txrH);\n  if (scalableFrom(oneUpCache)) {\n    // then we can relatively cheaply rescale the existing image w/o rerendering\n    downscale();\n  } else if (scalableFrom(higherCache)) {\n    // then use the higher cache for now and queue the next level down\n    // to cheaply scale towards the smaller level\n\n    if (highQualityReq) {\n      for (var _l = higherCache.level; _l > lvl; _l--) {\n        oneUpCache = self.getElement(ele, bb, pxRatio, _l, getTxrReasons.downscale);\n      }\n      downscale();\n    } else {\n      self.queueElement(ele, higherCache.level - 1);\n      return higherCache;\n    }\n  } else {\n    var lowerCache; // the nearest cache with a lower level\n    if (!deqing && !highQualityReq && !downscaleReq) {\n      for (var _l2 = lvl - 1; _l2 >= minLvl$1; _l2--) {\n        var _c = lookup.get(ele, _l2);\n        if (_c) {\n          lowerCache = _c;\n          break;\n        }\n      }\n    }\n    if (scalableFrom(lowerCache)) {\n      // then use the lower quality cache for now and queue the better one for later\n\n      self.queueElement(ele, lvl);\n      return lowerCache;\n    }\n    txr.context.translate(txr.usedWidth, 0);\n    txr.context.scale(scale, scale);\n    this.drawElement(txr.context, ele, bb, scaledLabelShown, false);\n    txr.context.scale(1 / scale, 1 / scale);\n    txr.context.translate(-txr.usedWidth, 0);\n  }\n  eleCache = {\n    x: txr.usedWidth,\n    texture: txr,\n    level: lvl,\n    scale: scale,\n    width: eleScaledW,\n    height: eleScaledH,\n    scaledLabelShown: scaledLabelShown\n  };\n  txr.usedWidth += Math.ceil(eleScaledW + eleTxrSpacing);\n  txr.eleCaches.push(eleCache);\n  lookup.set(ele, lvl, eleCache);\n  self.checkTextureFullness(txr);\n  return eleCache;\n};\nETCp.invalidateElements = function (eles) {\n  for (var i = 0; i < eles.length; i++) {\n    this.invalidateElement(eles[i]);\n  }\n};\nETCp.invalidateElement = function (ele) {\n  var self = this;\n  var lookup = self.lookup;\n  var caches = [];\n  var invalid = lookup.isInvalid(ele);\n  if (!invalid) {\n    return; // override the invalidation request if the element key has not changed\n  }\n\n  for (var lvl = minLvl$1; lvl <= maxLvl$1; lvl++) {\n    var cache = lookup.getForCachedKey(ele, lvl);\n    if (cache) {\n      caches.push(cache);\n    }\n  }\n  var noOtherElesUseCache = lookup.invalidate(ele);\n  if (noOtherElesUseCache) {\n    for (var i = 0; i < caches.length; i++) {\n      var _cache = caches[i];\n      var txr = _cache.texture;\n\n      // remove space from the texture it belongs to\n      txr.invalidatedWidth += _cache.width;\n\n      // mark the cache as invalidated\n      _cache.invalidated = true;\n\n      // retire the texture if its utility is low\n      self.checkTextureUtility(txr);\n    }\n  }\n\n  // remove from queue since the old req was for the old state\n  self.removeFromQueue(ele);\n};\nETCp.checkTextureUtility = function (txr) {\n  // invalidate all entries in the cache if the cache size is small\n  if (txr.invalidatedWidth >= minUtility * txr.width) {\n    this.retireTexture(txr);\n  }\n};\nETCp.checkTextureFullness = function (txr) {\n  // if texture has been mostly filled and passed over several times, remove\n  // it from the queue so we don't need to waste time looking at it to put new things\n\n  var self = this;\n  var txrQ = self.getTextureQueue(txr.height);\n  if (txr.usedWidth / txr.width > maxFullness && txr.fullnessChecks >= maxFullnessChecks) {\n    removeFromArray(txrQ, txr);\n  } else {\n    txr.fullnessChecks++;\n  }\n};\nETCp.retireTexture = function (txr) {\n  var self = this;\n  var txrH = txr.height;\n  var txrQ = self.getTextureQueue(txrH);\n  var lookup = this.lookup;\n\n  // retire the texture from the active / searchable queue:\n\n  removeFromArray(txrQ, txr);\n  txr.retired = true;\n\n  // remove the refs from the eles to the caches:\n\n  var eleCaches = txr.eleCaches;\n  for (var i = 0; i < eleCaches.length; i++) {\n    var eleCache = eleCaches[i];\n    lookup.deleteCache(eleCache.key, eleCache.level);\n  }\n  clearArray(eleCaches);\n\n  // add the texture to a retired queue so it can be recycled in future:\n\n  var rtxtrQ = self.getRetiredTextureQueue(txrH);\n  rtxtrQ.push(txr);\n};\nETCp.addTexture = function (txrH, minW) {\n  var self = this;\n  var txrQ = self.getTextureQueue(txrH);\n  var txr = {};\n  txrQ.push(txr);\n  txr.eleCaches = [];\n  txr.height = txrH;\n  txr.width = Math.max(defTxrWidth, minW);\n  txr.usedWidth = 0;\n  txr.invalidatedWidth = 0;\n  txr.fullnessChecks = 0;\n  txr.canvas = self.renderer.makeOffscreenCanvas(txr.width, txr.height);\n  txr.context = txr.canvas.getContext('2d');\n  return txr;\n};\nETCp.recycleTexture = function (txrH, minW) {\n  var self = this;\n  var txrQ = self.getTextureQueue(txrH);\n  var rtxtrQ = self.getRetiredTextureQueue(txrH);\n  for (var i = 0; i < rtxtrQ.length; i++) {\n    var txr = rtxtrQ[i];\n    if (txr.width >= minW) {\n      txr.retired = false;\n      txr.usedWidth = 0;\n      txr.invalidatedWidth = 0;\n      txr.fullnessChecks = 0;\n      clearArray(txr.eleCaches);\n      txr.context.setTransform(1, 0, 0, 1, 0, 0);\n      txr.context.clearRect(0, 0, txr.width, txr.height);\n      removeFromArray(rtxtrQ, txr);\n      txrQ.push(txr);\n      return txr;\n    }\n  }\n};\nETCp.queueElement = function (ele, lvl) {\n  var self = this;\n  var q = self.getElementQueue();\n  var k2q = self.getElementKeyToQueue();\n  var key = this.getKey(ele);\n  var existingReq = k2q[key];\n  if (existingReq) {\n    // use the max lvl b/c in between lvls are cheap to make\n    existingReq.level = Math.max(existingReq.level, lvl);\n    existingReq.eles.merge(ele);\n    existingReq.reqs++;\n    q.updateItem(existingReq);\n  } else {\n    var req = {\n      eles: ele.spawn().merge(ele),\n      level: lvl,\n      reqs: 1,\n      key: key\n    };\n    q.push(req);\n    k2q[key] = req;\n  }\n};\nETCp.dequeue = function (pxRatio /*, extent*/) {\n  var self = this;\n  var q = self.getElementQueue();\n  var k2q = self.getElementKeyToQueue();\n  var dequeued = [];\n  var lookup = self.lookup;\n  for (var i = 0; i < maxDeqSize$1; i++) {\n    if (q.size() > 0) {\n      var req = q.pop();\n      var key = req.key;\n      var ele = req.eles[0]; // all eles have the same key\n      var cacheExists = lookup.hasCache(ele, req.level);\n\n      // clear out the key to req lookup\n      k2q[key] = null;\n\n      // dequeueing isn't necessary with an existing cache\n      if (cacheExists) {\n        continue;\n      }\n      dequeued.push(req);\n      var bb = self.getBoundingBox(ele);\n      self.getElement(ele, bb, pxRatio, req.level, getTxrReasons.dequeue);\n    } else {\n      break;\n    }\n  }\n  return dequeued;\n};\nETCp.removeFromQueue = function (ele) {\n  var self = this;\n  var q = self.getElementQueue();\n  var k2q = self.getElementKeyToQueue();\n  var key = this.getKey(ele);\n  var req = k2q[key];\n  if (req != null) {\n    if (req.eles.length === 1) {\n      // remove if last ele in the req\n      // bring to front of queue\n      req.reqs = MAX_INT$1;\n      q.updateItem(req);\n      q.pop(); // remove from queue\n\n      k2q[key] = null; // remove from lookup map\n    } else {\n      // otherwise just remove ele from req\n      req.eles.unmerge(ele);\n    }\n  }\n};\nETCp.onDequeue = function (fn) {\n  this.onDequeues.push(fn);\n};\nETCp.offDequeue = function (fn) {\n  removeFromArray(this.onDequeues, fn);\n};\nETCp.setupDequeueing = defs.setupDequeueing({\n  deqRedrawThreshold: deqRedrawThreshold$1,\n  deqCost: deqCost$1,\n  deqAvgCost: deqAvgCost$1,\n  deqNoDrawCost: deqNoDrawCost$1,\n  deqFastCost: deqFastCost$1,\n  deq: function deq(self, pxRatio, extent) {\n    return self.dequeue(pxRatio, extent);\n  },\n  onDeqd: function onDeqd(self, deqd) {\n    for (var i = 0; i < self.onDequeues.length; i++) {\n      var fn = self.onDequeues[i];\n      fn(deqd);\n    }\n  },\n  shouldRedraw: function shouldRedraw(self, deqd, pxRatio, extent) {\n    for (var i = 0; i < deqd.length; i++) {\n      var eles = deqd[i].eles;\n      for (var j = 0; j < eles.length; j++) {\n        var bb = eles[j].boundingBox();\n        if (boundingBoxesIntersect(bb, extent)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  },\n  priority: function priority(self) {\n    return self.renderer.beforeRenderPriorities.eleTxrDeq;\n  }\n});\n\nvar defNumLayers = 1; // default number of layers to use\nvar minLvl = -4; // when scaling smaller than that we don't need to re-render\nvar maxLvl = 2; // when larger than this scale just render directly (caching is not helpful)\nvar maxZoom = 3.99; // beyond this zoom level, layered textures are not used\nvar deqRedrawThreshold = 50; // time to batch redraws together from dequeueing to allow more dequeueing calcs to happen in the meanwhile\nvar refineEleDebounceTime = 50; // time to debounce sharper ele texture updates\nvar deqCost = 0.15; // % of add'l rendering cost allowed for dequeuing ele caches each frame\nvar deqAvgCost = 0.1; // % of add'l rendering cost compared to average overall redraw time\nvar deqNoDrawCost = 0.9; // % of avg frame time that can be used for dequeueing when not drawing\nvar deqFastCost = 0.9; // % of frame time to be used when >60fps\nvar maxDeqSize = 1; // number of eles to dequeue and render at higher texture in each batch\nvar invalidThreshold = 250; // time threshold for disabling b/c of invalidations\nvar maxLayerArea = 4000 * 4000; // layers can't be bigger than this\nvar useHighQualityEleTxrReqs = true; // whether to use high quality ele txr requests (generally faster and cheaper in the longterm)\n\n// var log = function(){ console.log.apply( console, arguments ); };\n\nvar LayeredTextureCache = function LayeredTextureCache(renderer) {\n  var self = this;\n  var r = self.renderer = renderer;\n  var cy = r.cy;\n  self.layersByLevel = {}; // e.g. 2 => [ layer1, layer2, ..., layerN ]\n\n  self.firstGet = true;\n  self.lastInvalidationTime = performanceNow() - 2 * invalidThreshold;\n  self.skipping = false;\n  self.eleTxrDeqs = cy.collection();\n  self.scheduleElementRefinement = debounce_1(function () {\n    self.refineElementTextures(self.eleTxrDeqs);\n    self.eleTxrDeqs.unmerge(self.eleTxrDeqs);\n  }, refineEleDebounceTime);\n  r.beforeRender(function (willDraw, now) {\n    if (now - self.lastInvalidationTime <= invalidThreshold) {\n      self.skipping = true;\n    } else {\n      self.skipping = false;\n    }\n  }, r.beforeRenderPriorities.lyrTxrSkip);\n  var qSort = function qSort(a, b) {\n    return b.reqs - a.reqs;\n  };\n  self.layersQueue = new heap(qSort);\n  self.setupDequeueing();\n};\nvar LTCp = LayeredTextureCache.prototype;\nvar layerIdPool = 0;\nvar MAX_INT = Math.pow(2, 53) - 1;\nLTCp.makeLayer = function (bb, lvl) {\n  var scale = Math.pow(2, lvl);\n  var w = Math.ceil(bb.w * scale);\n  var h = Math.ceil(bb.h * scale);\n  var canvas = this.renderer.makeOffscreenCanvas(w, h);\n  var layer = {\n    id: layerIdPool = ++layerIdPool % MAX_INT,\n    bb: bb,\n    level: lvl,\n    width: w,\n    height: h,\n    canvas: canvas,\n    context: canvas.getContext('2d'),\n    eles: [],\n    elesQueue: [],\n    reqs: 0\n  };\n\n  // log('make layer %s with w %s and h %s and lvl %s', layer.id, layer.width, layer.height, layer.level);\n\n  var cxt = layer.context;\n  var dx = -layer.bb.x1;\n  var dy = -layer.bb.y1;\n\n  // do the transform on creation to save cycles (it's the same for all eles)\n  cxt.scale(scale, scale);\n  cxt.translate(dx, dy);\n  return layer;\n};\nLTCp.getLayers = function (eles, pxRatio, lvl) {\n  var self = this;\n  var r = self.renderer;\n  var cy = r.cy;\n  var zoom = cy.zoom();\n  var firstGet = self.firstGet;\n  self.firstGet = false;\n\n  // log('--\\nget layers with %s eles', eles.length);\n  //log eles.map(function(ele){ return ele.id() }) );\n\n  if (lvl == null) {\n    lvl = Math.ceil(log2(zoom * pxRatio));\n    if (lvl < minLvl) {\n      lvl = minLvl;\n    } else if (zoom >= maxZoom || lvl > maxLvl) {\n      return null;\n    }\n  }\n  self.validateLayersElesOrdering(lvl, eles);\n  var layersByLvl = self.layersByLevel;\n  var scale = Math.pow(2, lvl);\n  var layers = layersByLvl[lvl] = layersByLvl[lvl] || [];\n  var bb;\n  var lvlComplete = self.levelIsComplete(lvl, eles);\n  var tmpLayers;\n  var checkTempLevels = function checkTempLevels() {\n    var canUseAsTmpLvl = function canUseAsTmpLvl(l) {\n      self.validateLayersElesOrdering(l, eles);\n      if (self.levelIsComplete(l, eles)) {\n        tmpLayers = layersByLvl[l];\n        return true;\n      }\n    };\n    var checkLvls = function checkLvls(dir) {\n      if (tmpLayers) {\n        return;\n      }\n      for (var l = lvl + dir; minLvl <= l && l <= maxLvl; l += dir) {\n        if (canUseAsTmpLvl(l)) {\n          break;\n        }\n      }\n    };\n    checkLvls(+1);\n    checkLvls(-1);\n\n    // remove the invalid layers; they will be replaced as needed later in this function\n    for (var i = layers.length - 1; i >= 0; i--) {\n      var layer = layers[i];\n      if (layer.invalid) {\n        removeFromArray(layers, layer);\n      }\n    }\n  };\n  if (!lvlComplete) {\n    // if the current level is incomplete, then use the closest, best quality layerset temporarily\n    // and later queue the current layerset so we can get the proper quality level soon\n\n    checkTempLevels();\n  } else {\n    // log('level complete, using existing layers\\n--');\n    return layers;\n  }\n  var getBb = function getBb() {\n    if (!bb) {\n      bb = makeBoundingBox();\n      for (var i = 0; i < eles.length; i++) {\n        updateBoundingBox(bb, eles[i].boundingBox());\n      }\n    }\n    return bb;\n  };\n  var makeLayer = function makeLayer(opts) {\n    opts = opts || {};\n    var after = opts.after;\n    getBb();\n    var area = bb.w * scale * (bb.h * scale);\n    if (area > maxLayerArea) {\n      return null;\n    }\n    var layer = self.makeLayer(bb, lvl);\n    if (after != null) {\n      var index = layers.indexOf(after) + 1;\n      layers.splice(index, 0, layer);\n    } else if (opts.insert === undefined || opts.insert) {\n      // no after specified => first layer made so put at start\n      layers.unshift(layer);\n    }\n\n    // if( tmpLayers ){\n    //self.queueLayer( layer );\n    // }\n\n    return layer;\n  };\n  if (self.skipping && !firstGet) {\n    // log('skip layers');\n    return null;\n  }\n\n  // log('do layers');\n\n  var layer = null;\n  var maxElesPerLayer = eles.length / defNumLayers;\n  var allowLazyQueueing = !firstGet;\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var rs = ele._private.rscratch;\n    var caches = rs.imgLayerCaches = rs.imgLayerCaches || {};\n\n    // log('look at ele', ele.id());\n\n    var existingLayer = caches[lvl];\n    if (existingLayer) {\n      // reuse layer for later eles\n      // log('reuse layer for', ele.id());\n      layer = existingLayer;\n      continue;\n    }\n    if (!layer || layer.eles.length >= maxElesPerLayer || !boundingBoxInBoundingBox(layer.bb, ele.boundingBox())) {\n      // log('make new layer for ele %s', ele.id());\n\n      layer = makeLayer({\n        insert: true,\n        after: layer\n      });\n\n      // if now layer can be built then we can't use layers at this level\n      if (!layer) {\n        return null;\n      }\n\n      // log('new layer with id %s', layer.id);\n    }\n\n    if (tmpLayers || allowLazyQueueing) {\n      // log('queue ele %s in layer %s', ele.id(), layer.id);\n      self.queueLayer(layer, ele);\n    } else {\n      // log('draw ele %s in layer %s', ele.id(), layer.id);\n      self.drawEleInLayer(layer, ele, lvl, pxRatio);\n    }\n    layer.eles.push(ele);\n    caches[lvl] = layer;\n  }\n\n  // log('--');\n\n  if (tmpLayers) {\n    // then we only queued the current layerset and can't draw it yet\n    return tmpLayers;\n  }\n  if (allowLazyQueueing) {\n    // log('lazy queue level', lvl);\n    return null;\n  }\n  return layers;\n};\n\n// a layer may want to use an ele cache of a higher level to avoid blurriness\n// so the layer level might not equal the ele level\nLTCp.getEleLevelForLayerLevel = function (lvl, pxRatio) {\n  return lvl;\n};\nLTCp.drawEleInLayer = function (layer, ele, lvl, pxRatio) {\n  var self = this;\n  var r = this.renderer;\n  var context = layer.context;\n  var bb = ele.boundingBox();\n  if (bb.w === 0 || bb.h === 0 || !ele.visible()) {\n    return;\n  }\n  lvl = self.getEleLevelForLayerLevel(lvl, pxRatio);\n  {\n    r.setImgSmoothing(context, false);\n  }\n  {\n    r.drawCachedElement(context, ele, null, null, lvl, useHighQualityEleTxrReqs);\n  }\n  {\n    r.setImgSmoothing(context, true);\n  }\n};\nLTCp.levelIsComplete = function (lvl, eles) {\n  var self = this;\n  var layers = self.layersByLevel[lvl];\n  if (!layers || layers.length === 0) {\n    return false;\n  }\n  var numElesInLayers = 0;\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n\n    // if there are any eles needed to be drawn yet, the level is not complete\n    if (layer.reqs > 0) {\n      return false;\n    }\n\n    // if the layer is invalid, the level is not complete\n    if (layer.invalid) {\n      return false;\n    }\n    numElesInLayers += layer.eles.length;\n  }\n\n  // we should have exactly the number of eles passed in to be complete\n  if (numElesInLayers !== eles.length) {\n    return false;\n  }\n  return true;\n};\nLTCp.validateLayersElesOrdering = function (lvl, eles) {\n  var layers = this.layersByLevel[lvl];\n  if (!layers) {\n    return;\n  }\n\n  // if in a layer the eles are not in the same order, then the layer is invalid\n  // (i.e. there is an ele in between the eles in the layer)\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    var offset = -1;\n\n    // find the offset\n    for (var j = 0; j < eles.length; j++) {\n      if (layer.eles[0] === eles[j]) {\n        offset = j;\n        break;\n      }\n    }\n    if (offset < 0) {\n      // then the layer has nonexistent elements and is invalid\n      this.invalidateLayer(layer);\n      continue;\n    }\n\n    // the eles in the layer must be in the same continuous order, else the layer is invalid\n\n    var o = offset;\n    for (var j = 0; j < layer.eles.length; j++) {\n      if (layer.eles[j] !== eles[o + j]) {\n        // log('invalidate based on ordering', layer.id);\n\n        this.invalidateLayer(layer);\n        break;\n      }\n    }\n  }\n};\nLTCp.updateElementsInLayers = function (eles, update) {\n  var self = this;\n  var isEles = element(eles[0]);\n\n  // collect udpated elements (cascaded from the layers) and update each\n  // layer itself along the way\n  for (var i = 0; i < eles.length; i++) {\n    var req = isEles ? null : eles[i];\n    var ele = isEles ? eles[i] : eles[i].ele;\n    var rs = ele._private.rscratch;\n    var caches = rs.imgLayerCaches = rs.imgLayerCaches || {};\n    for (var l = minLvl; l <= maxLvl; l++) {\n      var layer = caches[l];\n      if (!layer) {\n        continue;\n      }\n\n      // if update is a request from the ele cache, then it affects only\n      // the matching level\n      if (req && self.getEleLevelForLayerLevel(layer.level) !== req.level) {\n        continue;\n      }\n      update(layer, ele, req);\n    }\n  }\n};\nLTCp.haveLayers = function () {\n  var self = this;\n  var haveLayers = false;\n  for (var l = minLvl; l <= maxLvl; l++) {\n    var layers = self.layersByLevel[l];\n    if (layers && layers.length > 0) {\n      haveLayers = true;\n      break;\n    }\n  }\n  return haveLayers;\n};\nLTCp.invalidateElements = function (eles) {\n  var self = this;\n  if (eles.length === 0) {\n    return;\n  }\n  self.lastInvalidationTime = performanceNow();\n\n  // log('update invalidate layer time from eles');\n\n  if (eles.length === 0 || !self.haveLayers()) {\n    return;\n  }\n  self.updateElementsInLayers(eles, function invalAssocLayers(layer, ele, req) {\n    self.invalidateLayer(layer);\n  });\n};\nLTCp.invalidateLayer = function (layer) {\n  // log('update invalidate layer time');\n\n  this.lastInvalidationTime = performanceNow();\n  if (layer.invalid) {\n    return;\n  } // save cycles\n\n  var lvl = layer.level;\n  var eles = layer.eles;\n  var layers = this.layersByLevel[lvl];\n\n  // log('invalidate layer', layer.id );\n\n  removeFromArray(layers, layer);\n  // layer.eles = [];\n\n  layer.elesQueue = [];\n  layer.invalid = true;\n  if (layer.replacement) {\n    layer.replacement.invalid = true;\n  }\n  for (var i = 0; i < eles.length; i++) {\n    var caches = eles[i]._private.rscratch.imgLayerCaches;\n    if (caches) {\n      caches[lvl] = null;\n    }\n  }\n};\nLTCp.refineElementTextures = function (eles) {\n  var self = this;\n\n  // log('refine', eles.length);\n\n  self.updateElementsInLayers(eles, function refineEachEle(layer, ele, req) {\n    var rLyr = layer.replacement;\n    if (!rLyr) {\n      rLyr = layer.replacement = self.makeLayer(layer.bb, layer.level);\n      rLyr.replaces = layer;\n      rLyr.eles = layer.eles;\n\n      // log('make replacement layer %s for %s with level %s', rLyr.id, layer.id, rLyr.level);\n    }\n\n    if (!rLyr.reqs) {\n      for (var i = 0; i < rLyr.eles.length; i++) {\n        self.queueLayer(rLyr, rLyr.eles[i]);\n      }\n\n      // log('queue replacement layer refinement', rLyr.id);\n    }\n  });\n};\n\nLTCp.enqueueElementRefinement = function (ele) {\n  this.eleTxrDeqs.merge(ele);\n  this.scheduleElementRefinement();\n};\nLTCp.queueLayer = function (layer, ele) {\n  var self = this;\n  var q = self.layersQueue;\n  var elesQ = layer.elesQueue;\n  var hasId = elesQ.hasId = elesQ.hasId || {};\n\n  // if a layer is going to be replaced, queuing is a waste of time\n  if (layer.replacement) {\n    return;\n  }\n  if (ele) {\n    if (hasId[ele.id()]) {\n      return;\n    }\n    elesQ.push(ele);\n    hasId[ele.id()] = true;\n  }\n  if (layer.reqs) {\n    layer.reqs++;\n    q.updateItem(layer);\n  } else {\n    layer.reqs = 1;\n    q.push(layer);\n  }\n};\nLTCp.dequeue = function (pxRatio) {\n  var self = this;\n  var q = self.layersQueue;\n  var deqd = [];\n  var eleDeqs = 0;\n  while (eleDeqs < maxDeqSize) {\n    if (q.size() === 0) {\n      break;\n    }\n    var layer = q.peek();\n\n    // if a layer has been or will be replaced, then don't waste time with it\n    if (layer.replacement) {\n      // log('layer %s in queue skipped b/c it already has a replacement', layer.id);\n      q.pop();\n      continue;\n    }\n\n    // if this is a replacement layer that has been superceded, then forget it\n    if (layer.replaces && layer !== layer.replaces.replacement) {\n      // log('layer is no longer the most uptodate replacement; dequeued', layer.id)\n      q.pop();\n      continue;\n    }\n    if (layer.invalid) {\n      // log('replacement layer %s is invalid; dequeued', layer.id);\n      q.pop();\n      continue;\n    }\n    var ele = layer.elesQueue.shift();\n    if (ele) {\n      // log('dequeue layer %s', layer.id);\n\n      self.drawEleInLayer(layer, ele, layer.level, pxRatio);\n      eleDeqs++;\n    }\n    if (deqd.length === 0) {\n      // we need only one entry in deqd to queue redrawing etc\n      deqd.push(true);\n    }\n\n    // if the layer has all its eles done, then remove from the queue\n    if (layer.elesQueue.length === 0) {\n      q.pop();\n      layer.reqs = 0;\n\n      // log('dequeue of layer %s complete', layer.id);\n\n      // when a replacement layer is dequeued, it replaces the old layer in the level\n      if (layer.replaces) {\n        self.applyLayerReplacement(layer);\n      }\n      self.requestRedraw();\n    }\n  }\n  return deqd;\n};\nLTCp.applyLayerReplacement = function (layer) {\n  var self = this;\n  var layersInLevel = self.layersByLevel[layer.level];\n  var replaced = layer.replaces;\n  var index = layersInLevel.indexOf(replaced);\n\n  // if the replaced layer is not in the active list for the level, then replacing\n  // refs would be a mistake (i.e. overwriting the true active layer)\n  if (index < 0 || replaced.invalid) {\n    // log('replacement layer would have no effect', layer.id);\n    return;\n  }\n  layersInLevel[index] = layer; // replace level ref\n\n  // replace refs in eles\n  for (var i = 0; i < layer.eles.length; i++) {\n    var _p = layer.eles[i]._private;\n    var cache = _p.imgLayerCaches = _p.imgLayerCaches || {};\n    if (cache) {\n      cache[layer.level] = layer;\n    }\n  }\n\n  // log('apply replacement layer %s over %s', layer.id, replaced.id);\n\n  self.requestRedraw();\n};\nLTCp.requestRedraw = debounce_1(function () {\n  var r = this.renderer;\n  r.redrawHint('eles', true);\n  r.redrawHint('drag', true);\n  r.redraw();\n}, 100);\nLTCp.setupDequeueing = defs.setupDequeueing({\n  deqRedrawThreshold: deqRedrawThreshold,\n  deqCost: deqCost,\n  deqAvgCost: deqAvgCost,\n  deqNoDrawCost: deqNoDrawCost,\n  deqFastCost: deqFastCost,\n  deq: function deq(self, pxRatio) {\n    return self.dequeue(pxRatio);\n  },\n  onDeqd: noop$1,\n  shouldRedraw: trueify,\n  priority: function priority(self) {\n    return self.renderer.beforeRenderPriorities.lyrTxrDeq;\n  }\n});\n\nvar CRp$a = {};\nvar impl;\nfunction polygon(context, points) {\n  for (var i = 0; i < points.length; i++) {\n    var pt = points[i];\n    context.lineTo(pt.x, pt.y);\n  }\n}\nfunction triangleBackcurve(context, points, controlPoint) {\n  var firstPt;\n  for (var i = 0; i < points.length; i++) {\n    var pt = points[i];\n    if (i === 0) {\n      firstPt = pt;\n    }\n    context.lineTo(pt.x, pt.y);\n  }\n  context.quadraticCurveTo(controlPoint.x, controlPoint.y, firstPt.x, firstPt.y);\n}\nfunction triangleTee(context, trianglePoints, teePoints) {\n  if (context.beginPath) {\n    context.beginPath();\n  }\n  var triPts = trianglePoints;\n  for (var i = 0; i < triPts.length; i++) {\n    var pt = triPts[i];\n    context.lineTo(pt.x, pt.y);\n  }\n  var teePts = teePoints;\n  var firstTeePt = teePoints[0];\n  context.moveTo(firstTeePt.x, firstTeePt.y);\n  for (var i = 1; i < teePts.length; i++) {\n    var pt = teePts[i];\n    context.lineTo(pt.x, pt.y);\n  }\n  if (context.closePath) {\n    context.closePath();\n  }\n}\nfunction circleTriangle(context, trianglePoints, rx, ry, r) {\n  if (context.beginPath) {\n    context.beginPath();\n  }\n  context.arc(rx, ry, r, 0, Math.PI * 2, false);\n  var triPts = trianglePoints;\n  var firstTrPt = triPts[0];\n  context.moveTo(firstTrPt.x, firstTrPt.y);\n  for (var i = 0; i < triPts.length; i++) {\n    var pt = triPts[i];\n    context.lineTo(pt.x, pt.y);\n  }\n  if (context.closePath) {\n    context.closePath();\n  }\n}\nfunction circle(context, rx, ry, r) {\n  context.arc(rx, ry, r, 0, Math.PI * 2, false);\n}\nCRp$a.arrowShapeImpl = function (name) {\n  return (impl || (impl = {\n    'polygon': polygon,\n    'triangle-backcurve': triangleBackcurve,\n    'triangle-tee': triangleTee,\n    'circle-triangle': circleTriangle,\n    'triangle-cross': triangleTee,\n    'circle': circle\n  }))[name];\n};\n\nvar CRp$9 = {};\nCRp$9.drawElement = function (context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity) {\n  var r = this;\n  if (ele.isNode()) {\n    r.drawNode(context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity);\n  } else {\n    r.drawEdge(context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity);\n  }\n};\nCRp$9.drawElementOverlay = function (context, ele) {\n  var r = this;\n  if (ele.isNode()) {\n    r.drawNodeOverlay(context, ele);\n  } else {\n    r.drawEdgeOverlay(context, ele);\n  }\n};\nCRp$9.drawElementUnderlay = function (context, ele) {\n  var r = this;\n  if (ele.isNode()) {\n    r.drawNodeUnderlay(context, ele);\n  } else {\n    r.drawEdgeUnderlay(context, ele);\n  }\n};\nCRp$9.drawCachedElementPortion = function (context, ele, eleTxrCache, pxRatio, lvl, reason, getRotation, getOpacity) {\n  var r = this;\n  var bb = eleTxrCache.getBoundingBox(ele);\n  if (bb.w === 0 || bb.h === 0) {\n    return;\n  } // ignore zero size case\n\n  var eleCache = eleTxrCache.getElement(ele, bb, pxRatio, lvl, reason);\n  if (eleCache != null) {\n    var opacity = getOpacity(r, ele);\n    if (opacity === 0) {\n      return;\n    }\n    var theta = getRotation(r, ele);\n    var x1 = bb.x1,\n      y1 = bb.y1,\n      w = bb.w,\n      h = bb.h;\n    var x, y, sx, sy, smooth;\n    if (theta !== 0) {\n      var rotPt = eleTxrCache.getRotationPoint(ele);\n      sx = rotPt.x;\n      sy = rotPt.y;\n      context.translate(sx, sy);\n      context.rotate(theta);\n      smooth = r.getImgSmoothing(context);\n      if (!smooth) {\n        r.setImgSmoothing(context, true);\n      }\n      var off = eleTxrCache.getRotationOffset(ele);\n      x = off.x;\n      y = off.y;\n    } else {\n      x = x1;\n      y = y1;\n    }\n    var oldGlobalAlpha;\n    if (opacity !== 1) {\n      oldGlobalAlpha = context.globalAlpha;\n      context.globalAlpha = oldGlobalAlpha * opacity;\n    }\n    context.drawImage(eleCache.texture.canvas, eleCache.x, 0, eleCache.width, eleCache.height, x, y, w, h);\n    if (opacity !== 1) {\n      context.globalAlpha = oldGlobalAlpha;\n    }\n    if (theta !== 0) {\n      context.rotate(-theta);\n      context.translate(-sx, -sy);\n      if (!smooth) {\n        r.setImgSmoothing(context, false);\n      }\n    }\n  } else {\n    eleTxrCache.drawElement(context, ele); // direct draw fallback\n  }\n};\n\nvar getZeroRotation = function getZeroRotation() {\n  return 0;\n};\nvar getLabelRotation = function getLabelRotation(r, ele) {\n  return r.getTextAngle(ele, null);\n};\nvar getSourceLabelRotation = function getSourceLabelRotation(r, ele) {\n  return r.getTextAngle(ele, 'source');\n};\nvar getTargetLabelRotation = function getTargetLabelRotation(r, ele) {\n  return r.getTextAngle(ele, 'target');\n};\nvar getOpacity = function getOpacity(r, ele) {\n  return ele.effectiveOpacity();\n};\nvar getTextOpacity = function getTextOpacity(e, ele) {\n  return ele.pstyle('text-opacity').pfValue * ele.effectiveOpacity();\n};\nCRp$9.drawCachedElement = function (context, ele, pxRatio, extent, lvl, requestHighQuality) {\n  var r = this;\n  var _r$data = r.data,\n    eleTxrCache = _r$data.eleTxrCache,\n    lblTxrCache = _r$data.lblTxrCache,\n    slbTxrCache = _r$data.slbTxrCache,\n    tlbTxrCache = _r$data.tlbTxrCache;\n  var bb = ele.boundingBox();\n  var reason = requestHighQuality === true ? eleTxrCache.reasons.highQuality : null;\n  if (bb.w === 0 || bb.h === 0 || !ele.visible()) {\n    return;\n  }\n  if (!extent || boundingBoxesIntersect(bb, extent)) {\n    var isEdge = ele.isEdge();\n    var badLine = ele.element()._private.rscratch.badLine;\n    r.drawElementUnderlay(context, ele);\n    r.drawCachedElementPortion(context, ele, eleTxrCache, pxRatio, lvl, reason, getZeroRotation, getOpacity);\n    if (!isEdge || !badLine) {\n      r.drawCachedElementPortion(context, ele, lblTxrCache, pxRatio, lvl, reason, getLabelRotation, getTextOpacity);\n    }\n    if (isEdge && !badLine) {\n      r.drawCachedElementPortion(context, ele, slbTxrCache, pxRatio, lvl, reason, getSourceLabelRotation, getTextOpacity);\n      r.drawCachedElementPortion(context, ele, tlbTxrCache, pxRatio, lvl, reason, getTargetLabelRotation, getTextOpacity);\n    }\n    r.drawElementOverlay(context, ele);\n  }\n};\nCRp$9.drawElements = function (context, eles) {\n  var r = this;\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    r.drawElement(context, ele);\n  }\n};\nCRp$9.drawCachedElements = function (context, eles, pxRatio, extent) {\n  var r = this;\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    r.drawCachedElement(context, ele, pxRatio, extent);\n  }\n};\nCRp$9.drawCachedNodes = function (context, eles, pxRatio, extent) {\n  var r = this;\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    if (!ele.isNode()) {\n      continue;\n    }\n    r.drawCachedElement(context, ele, pxRatio, extent);\n  }\n};\nCRp$9.drawLayeredElements = function (context, eles, pxRatio, extent) {\n  var r = this;\n  var layers = r.data.lyrTxrCache.getLayers(eles, pxRatio);\n  if (layers) {\n    for (var i = 0; i < layers.length; i++) {\n      var layer = layers[i];\n      var bb = layer.bb;\n      if (bb.w === 0 || bb.h === 0) {\n        continue;\n      }\n      context.drawImage(layer.canvas, bb.x1, bb.y1, bb.w, bb.h);\n    }\n  } else {\n    // fall back on plain caching if no layers\n    r.drawCachedElements(context, eles, pxRatio, extent);\n  }\n};\n\nvar CRp$8 = {};\nCRp$8.drawEdge = function (context, edge, shiftToOriginWithBb) {\n  var drawLabel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var shouldDrawOverlay = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var shouldDrawOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var r = this;\n  var rs = edge._private.rscratch;\n  if (shouldDrawOpacity && !edge.visible()) {\n    return;\n  }\n\n  // if bezier ctrl pts can not be calculated, then die\n  if (rs.badLine || rs.allpts == null || isNaN(rs.allpts[0])) {\n    // isNaN in case edge is impossible and browser bugs (e.g. safari)\n    return;\n  }\n  var bb;\n  if (shiftToOriginWithBb) {\n    bb = shiftToOriginWithBb;\n    context.translate(-bb.x1, -bb.y1);\n  }\n  var opacity = shouldDrawOpacity ? edge.pstyle('opacity').value : 1;\n  var lineOpacity = shouldDrawOpacity ? edge.pstyle('line-opacity').value : 1;\n  var curveStyle = edge.pstyle('curve-style').value;\n  var lineStyle = edge.pstyle('line-style').value;\n  var edgeWidth = edge.pstyle('width').pfValue;\n  var lineCap = edge.pstyle('line-cap').value;\n  var effectiveLineOpacity = opacity * lineOpacity;\n  // separate arrow opacity would require arrow-opacity property\n  var effectiveArrowOpacity = opacity * lineOpacity;\n  var drawLine = function drawLine() {\n    var strokeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : effectiveLineOpacity;\n    if (curveStyle === 'straight-triangle') {\n      r.eleStrokeStyle(context, edge, strokeOpacity);\n      r.drawEdgeTrianglePath(edge, context, rs.allpts);\n    } else {\n      context.lineWidth = edgeWidth;\n      context.lineCap = lineCap;\n      r.eleStrokeStyle(context, edge, strokeOpacity);\n      r.drawEdgePath(edge, context, rs.allpts, lineStyle);\n      context.lineCap = 'butt'; // reset for other drawing functions\n    }\n  };\n\n  var drawOverlay = function drawOverlay() {\n    if (!shouldDrawOverlay) {\n      return;\n    }\n    r.drawEdgeOverlay(context, edge);\n  };\n  var drawUnderlay = function drawUnderlay() {\n    if (!shouldDrawOverlay) {\n      return;\n    }\n    r.drawEdgeUnderlay(context, edge);\n  };\n  var drawArrows = function drawArrows() {\n    var arrowOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : effectiveArrowOpacity;\n    r.drawArrowheads(context, edge, arrowOpacity);\n  };\n  var drawText = function drawText() {\n    r.drawElementText(context, edge, null, drawLabel);\n  };\n  context.lineJoin = 'round';\n  var ghost = edge.pstyle('ghost').value === 'yes';\n  if (ghost) {\n    var gx = edge.pstyle('ghost-offset-x').pfValue;\n    var gy = edge.pstyle('ghost-offset-y').pfValue;\n    var ghostOpacity = edge.pstyle('ghost-opacity').value;\n    var effectiveGhostOpacity = effectiveLineOpacity * ghostOpacity;\n    context.translate(gx, gy);\n    drawLine(effectiveGhostOpacity);\n    drawArrows(effectiveGhostOpacity);\n    context.translate(-gx, -gy);\n  }\n  drawUnderlay();\n  drawLine();\n  drawArrows();\n  drawOverlay();\n  drawText();\n  if (shiftToOriginWithBb) {\n    context.translate(bb.x1, bb.y1);\n  }\n};\nvar drawEdgeOverlayUnderlay = function drawEdgeOverlayUnderlay(overlayOrUnderlay) {\n  if (!['overlay', 'underlay'].includes(overlayOrUnderlay)) {\n    throw new Error('Invalid state');\n  }\n  return function (context, edge) {\n    if (!edge.visible()) {\n      return;\n    }\n    var opacity = edge.pstyle(\"\".concat(overlayOrUnderlay, \"-opacity\")).value;\n    if (opacity === 0) {\n      return;\n    }\n    var r = this;\n    var usePaths = r.usePaths();\n    var rs = edge._private.rscratch;\n    var padding = edge.pstyle(\"\".concat(overlayOrUnderlay, \"-padding\")).pfValue;\n    var width = 2 * padding;\n    var color = edge.pstyle(\"\".concat(overlayOrUnderlay, \"-color\")).value;\n    context.lineWidth = width;\n    if (rs.edgeType === 'self' && !usePaths) {\n      context.lineCap = 'butt';\n    } else {\n      context.lineCap = 'round';\n    }\n    r.colorStrokeStyle(context, color[0], color[1], color[2], opacity);\n    r.drawEdgePath(edge, context, rs.allpts, 'solid');\n  };\n};\nCRp$8.drawEdgeOverlay = drawEdgeOverlayUnderlay('overlay');\nCRp$8.drawEdgeUnderlay = drawEdgeOverlayUnderlay('underlay');\nCRp$8.drawEdgePath = function (edge, context, pts, type) {\n  var rs = edge._private.rscratch;\n  var canvasCxt = context;\n  var path;\n  var pathCacheHit = false;\n  var usePaths = this.usePaths();\n  var lineDashPattern = edge.pstyle('line-dash-pattern').pfValue;\n  var lineDashOffset = edge.pstyle('line-dash-offset').pfValue;\n  if (usePaths) {\n    var pathCacheKey = pts.join('$');\n    var keyMatches = rs.pathCacheKey && rs.pathCacheKey === pathCacheKey;\n    if (keyMatches) {\n      path = context = rs.pathCache;\n      pathCacheHit = true;\n    } else {\n      path = context = new Path2D();\n      rs.pathCacheKey = pathCacheKey;\n      rs.pathCache = path;\n    }\n  }\n  if (canvasCxt.setLineDash) {\n    // for very outofdate browsers\n    switch (type) {\n      case 'dotted':\n        canvasCxt.setLineDash([1, 1]);\n        break;\n      case 'dashed':\n        canvasCxt.setLineDash(lineDashPattern);\n        canvasCxt.lineDashOffset = lineDashOffset;\n        break;\n      case 'solid':\n        canvasCxt.setLineDash([]);\n        break;\n    }\n  }\n  if (!pathCacheHit && !rs.badLine) {\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    context.moveTo(pts[0], pts[1]);\n    switch (rs.edgeType) {\n      case 'bezier':\n      case 'self':\n      case 'compound':\n      case 'multibezier':\n        for (var i = 2; i + 3 < pts.length; i += 4) {\n          context.quadraticCurveTo(pts[i], pts[i + 1], pts[i + 2], pts[i + 3]);\n        }\n        break;\n      case 'straight':\n      case 'haystack':\n        for (var _i = 2; _i + 1 < pts.length; _i += 2) {\n          context.lineTo(pts[_i], pts[_i + 1]);\n        }\n        break;\n      case 'segments':\n        if (rs.isRound) {\n          var _iterator = _createForOfIteratorHelper(rs.roundCorners),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var corner = _step.value;\n              drawPreparedRoundCorner(context, corner);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          context.lineTo(pts[pts.length - 2], pts[pts.length - 1]);\n        } else {\n          for (var _i2 = 2; _i2 + 1 < pts.length; _i2 += 2) {\n            context.lineTo(pts[_i2], pts[_i2 + 1]);\n          }\n        }\n        break;\n    }\n  }\n  context = canvasCxt;\n  if (usePaths) {\n    context.stroke(path);\n  } else {\n    context.stroke();\n  }\n\n  // reset any line dashes\n  if (context.setLineDash) {\n    // for very outofdate browsers\n    context.setLineDash([]);\n  }\n};\nCRp$8.drawEdgeTrianglePath = function (edge, context, pts) {\n  // use line stroke style for triangle fill style\n  context.fillStyle = context.strokeStyle;\n  var edgeWidth = edge.pstyle('width').pfValue;\n  for (var i = 0; i + 1 < pts.length; i += 2) {\n    var vector = [pts[i + 2] - pts[i], pts[i + 3] - pts[i + 1]];\n    var length = Math.sqrt(vector[0] * vector[0] + vector[1] * vector[1]);\n    var normal = [vector[1] / length, -vector[0] / length];\n    var triangleHead = [normal[0] * edgeWidth / 2, normal[1] * edgeWidth / 2];\n    context.beginPath();\n    context.moveTo(pts[i] - triangleHead[0], pts[i + 1] - triangleHead[1]);\n    context.lineTo(pts[i] + triangleHead[0], pts[i + 1] + triangleHead[1]);\n    context.lineTo(pts[i + 2], pts[i + 3]);\n    context.closePath();\n    context.fill();\n  }\n};\nCRp$8.drawArrowheads = function (context, edge, opacity) {\n  var rs = edge._private.rscratch;\n  var isHaystack = rs.edgeType === 'haystack';\n  if (!isHaystack) {\n    this.drawArrowhead(context, edge, 'source', rs.arrowStartX, rs.arrowStartY, rs.srcArrowAngle, opacity);\n  }\n  this.drawArrowhead(context, edge, 'mid-target', rs.midX, rs.midY, rs.midtgtArrowAngle, opacity);\n  this.drawArrowhead(context, edge, 'mid-source', rs.midX, rs.midY, rs.midsrcArrowAngle, opacity);\n  if (!isHaystack) {\n    this.drawArrowhead(context, edge, 'target', rs.arrowEndX, rs.arrowEndY, rs.tgtArrowAngle, opacity);\n  }\n};\nCRp$8.drawArrowhead = function (context, edge, prefix, x, y, angle, opacity) {\n  if (isNaN(x) || x == null || isNaN(y) || y == null || isNaN(angle) || angle == null) {\n    return;\n  }\n  var self = this;\n  var arrowShape = edge.pstyle(prefix + '-arrow-shape').value;\n  if (arrowShape === 'none') {\n    return;\n  }\n  var arrowClearFill = edge.pstyle(prefix + '-arrow-fill').value === 'hollow' ? 'both' : 'filled';\n  var arrowFill = edge.pstyle(prefix + '-arrow-fill').value;\n  var edgeWidth = edge.pstyle('width').pfValue;\n  var pArrowWidth = edge.pstyle(prefix + '-arrow-width');\n  var arrowWidth = pArrowWidth.value === 'match-line' ? edgeWidth : pArrowWidth.pfValue;\n  if (pArrowWidth.units === '%') arrowWidth *= edgeWidth;\n  var edgeOpacity = edge.pstyle('opacity').value;\n  if (opacity === undefined) {\n    opacity = edgeOpacity;\n  }\n  var gco = context.globalCompositeOperation;\n  if (opacity !== 1 || arrowFill === 'hollow') {\n    // then extra clear is needed\n    context.globalCompositeOperation = 'destination-out';\n    self.colorFillStyle(context, 255, 255, 255, 1);\n    self.colorStrokeStyle(context, 255, 255, 255, 1);\n    self.drawArrowShape(edge, context, arrowClearFill, edgeWidth, arrowShape, arrowWidth, x, y, angle);\n    context.globalCompositeOperation = gco;\n  } // otherwise, the opaque arrow clears it for free :)\n\n  var color = edge.pstyle(prefix + '-arrow-color').value;\n  self.colorFillStyle(context, color[0], color[1], color[2], opacity);\n  self.colorStrokeStyle(context, color[0], color[1], color[2], opacity);\n  self.drawArrowShape(edge, context, arrowFill, edgeWidth, arrowShape, arrowWidth, x, y, angle);\n};\nCRp$8.drawArrowShape = function (edge, context, fill, edgeWidth, shape, shapeWidth, x, y, angle) {\n  var r = this;\n  var usePaths = this.usePaths() && shape !== 'triangle-cross';\n  var pathCacheHit = false;\n  var path;\n  var canvasContext = context;\n  var translation = {\n    x: x,\n    y: y\n  };\n  var scale = edge.pstyle('arrow-scale').value;\n  var size = this.getArrowWidth(edgeWidth, scale);\n  var shapeImpl = r.arrowShapes[shape];\n  if (usePaths) {\n    var cache = r.arrowPathCache = r.arrowPathCache || [];\n    var key = hashString(shape);\n    var cachedPath = cache[key];\n    if (cachedPath != null) {\n      path = context = cachedPath;\n      pathCacheHit = true;\n    } else {\n      path = context = new Path2D();\n      cache[key] = path;\n    }\n  }\n  if (!pathCacheHit) {\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    if (usePaths) {\n      // store in the path cache with values easily manipulated later\n      shapeImpl.draw(context, 1, 0, {\n        x: 0,\n        y: 0\n      }, 1);\n    } else {\n      shapeImpl.draw(context, size, angle, translation, edgeWidth);\n    }\n    if (context.closePath) {\n      context.closePath();\n    }\n  }\n  context = canvasContext;\n  if (usePaths) {\n    // set transform to arrow position/orientation\n    context.translate(x, y);\n    context.rotate(angle);\n    context.scale(size, size);\n  }\n  if (fill === 'filled' || fill === 'both') {\n    if (usePaths) {\n      context.fill(path);\n    } else {\n      context.fill();\n    }\n  }\n  if (fill === 'hollow' || fill === 'both') {\n    context.lineWidth = shapeWidth / (usePaths ? size : 1);\n    context.lineJoin = 'miter';\n    if (usePaths) {\n      context.stroke(path);\n    } else {\n      context.stroke();\n    }\n  }\n  if (usePaths) {\n    // reset transform by applying inverse\n    context.scale(1 / size, 1 / size);\n    context.rotate(-angle);\n    context.translate(-x, -y);\n  }\n};\n\nvar CRp$7 = {};\nCRp$7.safeDrawImage = function (context, img, ix, iy, iw, ih, x, y, w, h) {\n  // detect problematic cases for old browsers with bad images (cheaper than try-catch)\n  if (iw <= 0 || ih <= 0 || w <= 0 || h <= 0) {\n    return;\n  }\n  try {\n    context.drawImage(img, ix, iy, iw, ih, x, y, w, h);\n  } catch (e) {\n    warn(e);\n  }\n};\nCRp$7.drawInscribedImage = function (context, img, node, index, nodeOpacity) {\n  var r = this;\n  var pos = node.position();\n  var nodeX = pos.x;\n  var nodeY = pos.y;\n  var styleObj = node.cy().style();\n  var getIndexedStyle = styleObj.getIndexedStyle.bind(styleObj);\n  var fit = getIndexedStyle(node, 'background-fit', 'value', index);\n  var repeat = getIndexedStyle(node, 'background-repeat', 'value', index);\n  var nodeW = node.width();\n  var nodeH = node.height();\n  var paddingX2 = node.padding() * 2;\n  var nodeTW = nodeW + (getIndexedStyle(node, 'background-width-relative-to', 'value', index) === 'inner' ? 0 : paddingX2);\n  var nodeTH = nodeH + (getIndexedStyle(node, 'background-height-relative-to', 'value', index) === 'inner' ? 0 : paddingX2);\n  var rs = node._private.rscratch;\n  var clip = getIndexedStyle(node, 'background-clip', 'value', index);\n  var shouldClip = clip === 'node';\n  var imgOpacity = getIndexedStyle(node, 'background-image-opacity', 'value', index) * nodeOpacity;\n  var smooth = getIndexedStyle(node, 'background-image-smoothing', 'value', index);\n  var cornerRadius = node.pstyle('corner-radius').value;\n  if (cornerRadius !== 'auto') cornerRadius = node.pstyle('corner-radius').pfValue;\n  var imgW = img.width || img.cachedW;\n  var imgH = img.height || img.cachedH;\n\n  // workaround for broken browsers like ie\n  if (null == imgW || null == imgH) {\n    document.body.appendChild(img); // eslint-disable-line no-undef\n\n    imgW = img.cachedW = img.width || img.offsetWidth;\n    imgH = img.cachedH = img.height || img.offsetHeight;\n    document.body.removeChild(img); // eslint-disable-line no-undef\n  }\n\n  var w = imgW;\n  var h = imgH;\n  if (getIndexedStyle(node, 'background-width', 'value', index) !== 'auto') {\n    if (getIndexedStyle(node, 'background-width', 'units', index) === '%') {\n      w = getIndexedStyle(node, 'background-width', 'pfValue', index) * nodeTW;\n    } else {\n      w = getIndexedStyle(node, 'background-width', 'pfValue', index);\n    }\n  }\n  if (getIndexedStyle(node, 'background-height', 'value', index) !== 'auto') {\n    if (getIndexedStyle(node, 'background-height', 'units', index) === '%') {\n      h = getIndexedStyle(node, 'background-height', 'pfValue', index) * nodeTH;\n    } else {\n      h = getIndexedStyle(node, 'background-height', 'pfValue', index);\n    }\n  }\n  if (w === 0 || h === 0) {\n    return; // no point in drawing empty image (and chrome is broken in this case)\n  }\n\n  if (fit === 'contain') {\n    var scale = Math.min(nodeTW / w, nodeTH / h);\n    w *= scale;\n    h *= scale;\n  } else if (fit === 'cover') {\n    var scale = Math.max(nodeTW / w, nodeTH / h);\n    w *= scale;\n    h *= scale;\n  }\n  var x = nodeX - nodeTW / 2; // left\n  var posXUnits = getIndexedStyle(node, 'background-position-x', 'units', index);\n  var posXPfVal = getIndexedStyle(node, 'background-position-x', 'pfValue', index);\n  if (posXUnits === '%') {\n    x += (nodeTW - w) * posXPfVal;\n  } else {\n    x += posXPfVal;\n  }\n  var offXUnits = getIndexedStyle(node, 'background-offset-x', 'units', index);\n  var offXPfVal = getIndexedStyle(node, 'background-offset-x', 'pfValue', index);\n  if (offXUnits === '%') {\n    x += (nodeTW - w) * offXPfVal;\n  } else {\n    x += offXPfVal;\n  }\n  var y = nodeY - nodeTH / 2; // top\n  var posYUnits = getIndexedStyle(node, 'background-position-y', 'units', index);\n  var posYPfVal = getIndexedStyle(node, 'background-position-y', 'pfValue', index);\n  if (posYUnits === '%') {\n    y += (nodeTH - h) * posYPfVal;\n  } else {\n    y += posYPfVal;\n  }\n  var offYUnits = getIndexedStyle(node, 'background-offset-y', 'units', index);\n  var offYPfVal = getIndexedStyle(node, 'background-offset-y', 'pfValue', index);\n  if (offYUnits === '%') {\n    y += (nodeTH - h) * offYPfVal;\n  } else {\n    y += offYPfVal;\n  }\n  if (rs.pathCache) {\n    x -= nodeX;\n    y -= nodeY;\n    nodeX = 0;\n    nodeY = 0;\n  }\n  var gAlpha = context.globalAlpha;\n  context.globalAlpha = imgOpacity;\n  var smoothingEnabled = r.getImgSmoothing(context);\n  var isSmoothingSwitched = false;\n  if (smooth === 'no' && smoothingEnabled) {\n    r.setImgSmoothing(context, false);\n    isSmoothingSwitched = true;\n  } else if (smooth === 'yes' && !smoothingEnabled) {\n    r.setImgSmoothing(context, true);\n    isSmoothingSwitched = true;\n  }\n  if (repeat === 'no-repeat') {\n    if (shouldClip) {\n      context.save();\n      if (rs.pathCache) {\n        context.clip(rs.pathCache);\n      } else {\n        r.nodeShapes[r.getNodeShape(node)].draw(context, nodeX, nodeY, nodeTW, nodeTH, cornerRadius, rs);\n        context.clip();\n      }\n    }\n    r.safeDrawImage(context, img, 0, 0, imgW, imgH, x, y, w, h);\n    if (shouldClip) {\n      context.restore();\n    }\n  } else {\n    var pattern = context.createPattern(img, repeat);\n    context.fillStyle = pattern;\n    r.nodeShapes[r.getNodeShape(node)].draw(context, nodeX, nodeY, nodeTW, nodeTH, cornerRadius, rs);\n    context.translate(x, y);\n    context.fill();\n    context.translate(-x, -y);\n  }\n  context.globalAlpha = gAlpha;\n  if (isSmoothingSwitched) {\n    r.setImgSmoothing(context, smoothingEnabled);\n  }\n};\n\nvar CRp$6 = {};\nCRp$6.eleTextBiggerThanMin = function (ele, scale) {\n  if (!scale) {\n    var zoom = ele.cy().zoom();\n    var pxRatio = this.getPixelRatio();\n    var lvl = Math.ceil(log2(zoom * pxRatio)); // the effective texture level\n\n    scale = Math.pow(2, lvl);\n  }\n  var computedSize = ele.pstyle('font-size').pfValue * scale;\n  var minSize = ele.pstyle('min-zoomed-font-size').pfValue;\n  if (computedSize < minSize) {\n    return false;\n  }\n  return true;\n};\nCRp$6.drawElementText = function (context, ele, shiftToOriginWithBb, force, prefix) {\n  var useEleOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var r = this;\n  if (force == null) {\n    if (useEleOpacity && !r.eleTextBiggerThanMin(ele)) {\n      return;\n    }\n  } else if (force === false) {\n    return;\n  }\n  if (ele.isNode()) {\n    var label = ele.pstyle('label');\n    if (!label || !label.value) {\n      return;\n    }\n    var justification = r.getLabelJustification(ele);\n    context.textAlign = justification;\n    context.textBaseline = 'bottom';\n  } else {\n    var badLine = ele.element()._private.rscratch.badLine;\n    var _label = ele.pstyle('label');\n    var srcLabel = ele.pstyle('source-label');\n    var tgtLabel = ele.pstyle('target-label');\n    if (badLine || (!_label || !_label.value) && (!srcLabel || !srcLabel.value) && (!tgtLabel || !tgtLabel.value)) {\n      return;\n    }\n    context.textAlign = 'center';\n    context.textBaseline = 'bottom';\n  }\n  var applyRotation = !shiftToOriginWithBb;\n  var bb;\n  if (shiftToOriginWithBb) {\n    bb = shiftToOriginWithBb;\n    context.translate(-bb.x1, -bb.y1);\n  }\n  if (prefix == null) {\n    r.drawText(context, ele, null, applyRotation, useEleOpacity);\n    if (ele.isEdge()) {\n      r.drawText(context, ele, 'source', applyRotation, useEleOpacity);\n      r.drawText(context, ele, 'target', applyRotation, useEleOpacity);\n    }\n  } else {\n    r.drawText(context, ele, prefix, applyRotation, useEleOpacity);\n  }\n  if (shiftToOriginWithBb) {\n    context.translate(bb.x1, bb.y1);\n  }\n};\nCRp$6.getFontCache = function (context) {\n  var cache;\n  this.fontCaches = this.fontCaches || [];\n  for (var i = 0; i < this.fontCaches.length; i++) {\n    cache = this.fontCaches[i];\n    if (cache.context === context) {\n      return cache;\n    }\n  }\n  cache = {\n    context: context\n  };\n  this.fontCaches.push(cache);\n  return cache;\n};\n\n// set up canvas context with font\n// returns transformed text string\nCRp$6.setupTextStyle = function (context, ele) {\n  var useEleOpacity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  // Font style\n  var labelStyle = ele.pstyle('font-style').strValue;\n  var labelSize = ele.pstyle('font-size').pfValue + 'px';\n  var labelFamily = ele.pstyle('font-family').strValue;\n  var labelWeight = ele.pstyle('font-weight').strValue;\n  var opacity = useEleOpacity ? ele.effectiveOpacity() * ele.pstyle('text-opacity').value : 1;\n  var outlineOpacity = ele.pstyle('text-outline-opacity').value * opacity;\n  var color = ele.pstyle('color').value;\n  var outlineColor = ele.pstyle('text-outline-color').value;\n  context.font = labelStyle + ' ' + labelWeight + ' ' + labelSize + ' ' + labelFamily;\n  context.lineJoin = 'round'; // so text outlines aren't jagged\n\n  this.colorFillStyle(context, color[0], color[1], color[2], opacity);\n  this.colorStrokeStyle(context, outlineColor[0], outlineColor[1], outlineColor[2], outlineOpacity);\n};\n\n// TODO ensure re-used\nfunction roundRect(ctx, x, y, width, height) {\n  var radius = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 5;\n  var stroke = arguments.length > 6 ? arguments[6] : undefined;\n  ctx.beginPath();\n  ctx.moveTo(x + radius, y);\n  ctx.lineTo(x + width - radius, y);\n  ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n  ctx.lineTo(x + width, y + height - radius);\n  ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n  ctx.lineTo(x + radius, y + height);\n  ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n  ctx.lineTo(x, y + radius);\n  ctx.quadraticCurveTo(x, y, x + radius, y);\n  ctx.closePath();\n  if (stroke) ctx.stroke();else ctx.fill();\n}\nCRp$6.getTextAngle = function (ele, prefix) {\n  var theta;\n  var _p = ele._private;\n  var rscratch = _p.rscratch;\n  var pdash = prefix ? prefix + '-' : '';\n  var rotation = ele.pstyle(pdash + 'text-rotation');\n  var textAngle = getPrefixedProperty(rscratch, 'labelAngle', prefix);\n  if (rotation.strValue === 'autorotate') {\n    theta = ele.isEdge() ? textAngle : 0;\n  } else if (rotation.strValue === 'none') {\n    theta = 0;\n  } else {\n    theta = rotation.pfValue;\n  }\n  return theta;\n};\nCRp$6.drawText = function (context, ele, prefix) {\n  var applyRotation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var useEleOpacity = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var _p = ele._private;\n  var rscratch = _p.rscratch;\n  var parentOpacity = useEleOpacity ? ele.effectiveOpacity() : 1;\n  if (useEleOpacity && (parentOpacity === 0 || ele.pstyle('text-opacity').value === 0)) {\n    return;\n  }\n\n  // use 'main' as an alias for the main label (i.e. null prefix)\n  if (prefix === 'main') {\n    prefix = null;\n  }\n  var textX = getPrefixedProperty(rscratch, 'labelX', prefix);\n  var textY = getPrefixedProperty(rscratch, 'labelY', prefix);\n  var orgTextX, orgTextY; // used for rotation\n  var text = this.getLabelText(ele, prefix);\n  if (text != null && text !== '' && !isNaN(textX) && !isNaN(textY)) {\n    this.setupTextStyle(context, ele, useEleOpacity);\n    var pdash = prefix ? prefix + '-' : '';\n    var textW = getPrefixedProperty(rscratch, 'labelWidth', prefix);\n    var textH = getPrefixedProperty(rscratch, 'labelHeight', prefix);\n    var marginX = ele.pstyle(pdash + 'text-margin-x').pfValue;\n    var marginY = ele.pstyle(pdash + 'text-margin-y').pfValue;\n    var isEdge = ele.isEdge();\n    var halign = ele.pstyle('text-halign').value;\n    var valign = ele.pstyle('text-valign').value;\n    if (isEdge) {\n      halign = 'center';\n      valign = 'center';\n    }\n    textX += marginX;\n    textY += marginY;\n    var theta;\n    if (!applyRotation) {\n      theta = 0;\n    } else {\n      theta = this.getTextAngle(ele, prefix);\n    }\n    if (theta !== 0) {\n      orgTextX = textX;\n      orgTextY = textY;\n      context.translate(orgTextX, orgTextY);\n      context.rotate(theta);\n      textX = 0;\n      textY = 0;\n    }\n    switch (valign) {\n      case 'top':\n        break;\n      case 'center':\n        textY += textH / 2;\n        break;\n      case 'bottom':\n        textY += textH;\n        break;\n    }\n    var backgroundOpacity = ele.pstyle('text-background-opacity').value;\n    var borderOpacity = ele.pstyle('text-border-opacity').value;\n    var textBorderWidth = ele.pstyle('text-border-width').pfValue;\n    var backgroundPadding = ele.pstyle('text-background-padding').pfValue;\n    var styleShape = ele.pstyle('text-background-shape').strValue;\n    var rounded = styleShape.indexOf('round') === 0;\n    var roundRadius = 2;\n    if (backgroundOpacity > 0 || textBorderWidth > 0 && borderOpacity > 0) {\n      var bgX = textX - backgroundPadding;\n      switch (halign) {\n        case 'left':\n          bgX -= textW;\n          break;\n        case 'center':\n          bgX -= textW / 2;\n          break;\n      }\n      var bgY = textY - textH - backgroundPadding;\n      var bgW = textW + 2 * backgroundPadding;\n      var bgH = textH + 2 * backgroundPadding;\n      if (backgroundOpacity > 0) {\n        var textFill = context.fillStyle;\n        var textBackgroundColor = ele.pstyle('text-background-color').value;\n        context.fillStyle = 'rgba(' + textBackgroundColor[0] + ',' + textBackgroundColor[1] + ',' + textBackgroundColor[2] + ',' + backgroundOpacity * parentOpacity + ')';\n        if (rounded) {\n          roundRect(context, bgX, bgY, bgW, bgH, roundRadius);\n        } else {\n          context.fillRect(bgX, bgY, bgW, bgH);\n        }\n        context.fillStyle = textFill;\n      }\n      if (textBorderWidth > 0 && borderOpacity > 0) {\n        var textStroke = context.strokeStyle;\n        var textLineWidth = context.lineWidth;\n        var textBorderColor = ele.pstyle('text-border-color').value;\n        var textBorderStyle = ele.pstyle('text-border-style').value;\n        context.strokeStyle = 'rgba(' + textBorderColor[0] + ',' + textBorderColor[1] + ',' + textBorderColor[2] + ',' + borderOpacity * parentOpacity + ')';\n        context.lineWidth = textBorderWidth;\n        if (context.setLineDash) {\n          // for very outofdate browsers\n          switch (textBorderStyle) {\n            case 'dotted':\n              context.setLineDash([1, 1]);\n              break;\n            case 'dashed':\n              context.setLineDash([4, 2]);\n              break;\n            case 'double':\n              context.lineWidth = textBorderWidth / 4; // 50% reserved for white between the two borders\n              context.setLineDash([]);\n              break;\n            case 'solid':\n              context.setLineDash([]);\n              break;\n          }\n        }\n        if (rounded) {\n          roundRect(context, bgX, bgY, bgW, bgH, roundRadius, 'stroke');\n        } else {\n          context.strokeRect(bgX, bgY, bgW, bgH);\n        }\n        if (textBorderStyle === 'double') {\n          var whiteWidth = textBorderWidth / 2;\n          if (rounded) {\n            roundRect(context, bgX + whiteWidth, bgY + whiteWidth, bgW - whiteWidth * 2, bgH - whiteWidth * 2, roundRadius, 'stroke');\n          } else {\n            context.strokeRect(bgX + whiteWidth, bgY + whiteWidth, bgW - whiteWidth * 2, bgH - whiteWidth * 2);\n          }\n        }\n        if (context.setLineDash) {\n          // for very outofdate browsers\n          context.setLineDash([]);\n        }\n        context.lineWidth = textLineWidth;\n        context.strokeStyle = textStroke;\n      }\n    }\n    var lineWidth = 2 * ele.pstyle('text-outline-width').pfValue; // *2 b/c the stroke is drawn centred on the middle\n\n    if (lineWidth > 0) {\n      context.lineWidth = lineWidth;\n    }\n    if (ele.pstyle('text-wrap').value === 'wrap') {\n      var lines = getPrefixedProperty(rscratch, 'labelWrapCachedLines', prefix);\n      var lineHeight = getPrefixedProperty(rscratch, 'labelLineHeight', prefix);\n      var halfTextW = textW / 2;\n      var justification = this.getLabelJustification(ele);\n      if (justification === 'auto') ; else if (halign === 'left') {\n        // auto justification : right\n        if (justification === 'left') {\n          textX += -textW;\n        } else if (justification === 'center') {\n          textX += -halfTextW;\n        } // else same as auto\n      } else if (halign === 'center') {\n        // auto justfication : center\n        if (justification === 'left') {\n          textX += -halfTextW;\n        } else if (justification === 'right') {\n          textX += halfTextW;\n        } // else same as auto\n      } else if (halign === 'right') {\n        // auto justification : left\n        if (justification === 'center') {\n          textX += halfTextW;\n        } else if (justification === 'right') {\n          textX += textW;\n        } // else same as auto\n      }\n\n      switch (valign) {\n        case 'top':\n          textY -= (lines.length - 1) * lineHeight;\n          break;\n        case 'center':\n        case 'bottom':\n          textY -= (lines.length - 1) * lineHeight;\n          break;\n      }\n      for (var l = 0; l < lines.length; l++) {\n        if (lineWidth > 0) {\n          context.strokeText(lines[l], textX, textY);\n        }\n        context.fillText(lines[l], textX, textY);\n        textY += lineHeight;\n      }\n    } else {\n      if (lineWidth > 0) {\n        context.strokeText(text, textX, textY);\n      }\n      context.fillText(text, textX, textY);\n    }\n    if (theta !== 0) {\n      context.rotate(-theta);\n      context.translate(-orgTextX, -orgTextY);\n    }\n  }\n};\n\n/* global Path2D */\nvar CRp$5 = {};\nCRp$5.drawNode = function (context, node, shiftToOriginWithBb) {\n  var drawLabel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var shouldDrawOverlay = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var shouldDrawOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var r = this;\n  var nodeWidth, nodeHeight;\n  var _p = node._private;\n  var rs = _p.rscratch;\n  var pos = node.position();\n  if (!number$1(pos.x) || !number$1(pos.y)) {\n    return; // can't draw node with undefined position\n  }\n\n  if (shouldDrawOpacity && !node.visible()) {\n    return;\n  }\n  var eleOpacity = shouldDrawOpacity ? node.effectiveOpacity() : 1;\n  var usePaths = r.usePaths();\n  var path;\n  var pathCacheHit = false;\n  var padding = node.padding();\n  nodeWidth = node.width() + 2 * padding;\n  nodeHeight = node.height() + 2 * padding;\n\n  //\n  // setup shift\n\n  var bb;\n  if (shiftToOriginWithBb) {\n    bb = shiftToOriginWithBb;\n    context.translate(-bb.x1, -bb.y1);\n  }\n\n  //\n  // load bg image\n\n  var bgImgProp = node.pstyle('background-image');\n  var urls = bgImgProp.value;\n  var urlDefined = new Array(urls.length);\n  var image = new Array(urls.length);\n  var numImages = 0;\n  for (var i = 0; i < urls.length; i++) {\n    var url = urls[i];\n    var defd = urlDefined[i] = url != null && url !== 'none';\n    if (defd) {\n      var bgImgCrossOrigin = node.cy().style().getIndexedStyle(node, 'background-image-crossorigin', 'value', i);\n      numImages++;\n\n      // get image, and if not loaded then ask to redraw when later loaded\n      image[i] = r.getCachedImage(url, bgImgCrossOrigin, function () {\n        _p.backgroundTimestamp = Date.now();\n        node.emitAndNotify('background');\n      });\n    }\n  }\n\n  //\n  // setup styles\n\n  var darkness = node.pstyle('background-blacken').value;\n  var borderWidth = node.pstyle('border-width').pfValue;\n  var bgOpacity = node.pstyle('background-opacity').value * eleOpacity;\n  var borderColor = node.pstyle('border-color').value;\n  var borderStyle = node.pstyle('border-style').value;\n  var borderJoin = node.pstyle('border-join').value;\n  var borderCap = node.pstyle('border-cap').value;\n  var borderPosition = node.pstyle('border-position').value;\n  var borderPattern = node.pstyle('border-dash-pattern').pfValue;\n  var borderOffset = node.pstyle('border-dash-offset').pfValue;\n  var borderOpacity = node.pstyle('border-opacity').value * eleOpacity;\n  var outlineWidth = node.pstyle('outline-width').pfValue;\n  var outlineColor = node.pstyle('outline-color').value;\n  var outlineStyle = node.pstyle('outline-style').value;\n  var outlineOpacity = node.pstyle('outline-opacity').value * eleOpacity;\n  var outlineOffset = node.pstyle('outline-offset').value;\n  var cornerRadius = node.pstyle('corner-radius').value;\n  if (cornerRadius !== 'auto') cornerRadius = node.pstyle('corner-radius').pfValue;\n  var setupShapeColor = function setupShapeColor() {\n    var bgOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : bgOpacity;\n    r.eleFillStyle(context, node, bgOpy);\n  };\n  var setupBorderColor = function setupBorderColor() {\n    var bdrOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : borderOpacity;\n    r.colorStrokeStyle(context, borderColor[0], borderColor[1], borderColor[2], bdrOpy);\n  };\n  var setupOutlineColor = function setupOutlineColor() {\n    var otlnOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : outlineOpacity;\n    r.colorStrokeStyle(context, outlineColor[0], outlineColor[1], outlineColor[2], otlnOpy);\n  };\n\n  //\n  // setup shape\n\n  var getPath = function getPath(width, height, shape, points) {\n    var pathCache = r.nodePathCache = r.nodePathCache || [];\n    var key = hashStrings(shape === 'polygon' ? shape + ',' + points.join(',') : shape, '' + height, '' + width, '' + cornerRadius);\n    var cachedPath = pathCache[key];\n    var path;\n    var cacheHit = false;\n    if (cachedPath != null) {\n      path = cachedPath;\n      cacheHit = true;\n      rs.pathCache = path;\n    } else {\n      path = new Path2D();\n      pathCache[key] = rs.pathCache = path;\n    }\n    return {\n      path: path,\n      cacheHit: cacheHit\n    };\n  };\n  var styleShape = node.pstyle('shape').strValue;\n  var shapePts = node.pstyle('shape-polygon-points').pfValue;\n  if (usePaths) {\n    context.translate(pos.x, pos.y);\n    var shapePath = getPath(nodeWidth, nodeHeight, styleShape, shapePts);\n    path = shapePath.path;\n    pathCacheHit = shapePath.cacheHit;\n  }\n  var drawShape = function drawShape() {\n    if (!pathCacheHit) {\n      var npos = pos;\n      if (usePaths) {\n        npos = {\n          x: 0,\n          y: 0\n        };\n      }\n      r.nodeShapes[r.getNodeShape(node)].draw(path || context, npos.x, npos.y, nodeWidth, nodeHeight, cornerRadius, rs);\n    }\n    if (usePaths) {\n      context.fill(path);\n    } else {\n      context.fill();\n    }\n  };\n  var drawImages = function drawImages() {\n    var nodeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : eleOpacity;\n    var inside = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var prevBging = _p.backgrounding;\n    var totalCompleted = 0;\n    for (var _i = 0; _i < image.length; _i++) {\n      var bgContainment = node.cy().style().getIndexedStyle(node, 'background-image-containment', 'value', _i);\n      if (inside && bgContainment === 'over' || !inside && bgContainment === 'inside') {\n        totalCompleted++;\n        continue;\n      }\n      if (urlDefined[_i] && image[_i].complete && !image[_i].error) {\n        totalCompleted++;\n        r.drawInscribedImage(context, image[_i], node, _i, nodeOpacity);\n      }\n    }\n    _p.backgrounding = !(totalCompleted === numImages);\n    if (prevBging !== _p.backgrounding) {\n      // update style b/c :backgrounding state changed\n      node.updateStyle(false);\n    }\n  };\n  var drawPie = function drawPie() {\n    var redrawShape = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var pieOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : eleOpacity;\n    if (r.hasPie(node)) {\n      r.drawPie(context, node, pieOpacity);\n\n      // redraw/restore path if steps after pie need it\n      if (redrawShape) {\n        if (!usePaths) {\n          r.nodeShapes[r.getNodeShape(node)].draw(context, pos.x, pos.y, nodeWidth, nodeHeight, cornerRadius, rs);\n        }\n      }\n    }\n  };\n  var darken = function darken() {\n    var darkenOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : eleOpacity;\n    var opacity = (darkness > 0 ? darkness : -darkness) * darkenOpacity;\n    var c = darkness > 0 ? 0 : 255;\n    if (darkness !== 0) {\n      r.colorFillStyle(context, c, c, c, opacity);\n      if (usePaths) {\n        context.fill(path);\n      } else {\n        context.fill();\n      }\n    }\n  };\n  var drawBorder = function drawBorder() {\n    if (borderWidth > 0) {\n      context.lineWidth = borderWidth;\n      context.lineCap = borderCap;\n      context.lineJoin = borderJoin;\n      if (context.setLineDash) {\n        // for very outofdate browsers\n        switch (borderStyle) {\n          case 'dotted':\n            context.setLineDash([1, 1]);\n            break;\n          case 'dashed':\n            context.setLineDash(borderPattern);\n            context.lineDashOffset = borderOffset;\n            break;\n          case 'solid':\n          case 'double':\n            context.setLineDash([]);\n            break;\n        }\n      }\n      if (borderPosition !== 'center') {\n        context.save();\n        context.lineWidth *= 2;\n        if (borderPosition === 'inside') {\n          usePaths ? context.clip(path) : context.clip();\n        } else {\n          var region = new Path2D();\n          region.rect(-nodeWidth / 2 - borderWidth, -nodeHeight / 2 - borderWidth, nodeWidth + 2 * borderWidth, nodeHeight + 2 * borderWidth);\n          region.addPath(path);\n          context.clip(region, 'evenodd');\n        }\n        usePaths ? context.stroke(path) : context.stroke();\n        context.restore();\n      } else {\n        usePaths ? context.stroke(path) : context.stroke();\n      }\n      if (borderStyle === 'double') {\n        context.lineWidth = borderWidth / 3;\n        var gco = context.globalCompositeOperation;\n        context.globalCompositeOperation = 'destination-out';\n        if (usePaths) {\n          context.stroke(path);\n        } else {\n          context.stroke();\n        }\n        context.globalCompositeOperation = gco;\n      }\n\n      // reset in case we changed the border style\n      if (context.setLineDash) {\n        // for very outofdate browsers\n        context.setLineDash([]);\n      }\n    }\n  };\n  var drawOutline = function drawOutline() {\n    if (outlineWidth > 0) {\n      context.lineWidth = outlineWidth;\n      context.lineCap = 'butt';\n      if (context.setLineDash) {\n        // for very outofdate browsers\n        switch (outlineStyle) {\n          case 'dotted':\n            context.setLineDash([1, 1]);\n            break;\n          case 'dashed':\n            context.setLineDash([4, 2]);\n            break;\n          case 'solid':\n          case 'double':\n            context.setLineDash([]);\n            break;\n        }\n      }\n      var npos = pos;\n      if (usePaths) {\n        npos = {\n          x: 0,\n          y: 0\n        };\n      }\n      var shape = r.getNodeShape(node);\n      var bWidth = borderWidth;\n      if (borderPosition === 'inside') bWidth = 0;\n      if (borderPosition === 'outside') bWidth *= 2;\n      var scaleX = (nodeWidth + bWidth + (outlineWidth + outlineOffset)) / nodeWidth;\n      var scaleY = (nodeHeight + bWidth + (outlineWidth + outlineOffset)) / nodeHeight;\n      var sWidth = nodeWidth * scaleX;\n      var sHeight = nodeHeight * scaleY;\n      var points = r.nodeShapes[shape].points;\n      var _path;\n      if (usePaths) {\n        var outlinePath = getPath(sWidth, sHeight, shape, points);\n        _path = outlinePath.path;\n      }\n\n      // draw the outline path, either by using expanded points or by scaling \n      // the dimensions, depending on shape\n      if (shape === \"ellipse\") {\n        r.drawEllipsePath(_path || context, npos.x, npos.y, sWidth, sHeight);\n      } else if (['round-diamond', 'round-heptagon', 'round-hexagon', 'round-octagon', 'round-pentagon', 'round-polygon', 'round-triangle', 'round-tag'].includes(shape)) {\n        var sMult = 0;\n        var offsetX = 0;\n        var offsetY = 0;\n        if (shape === 'round-diamond') {\n          sMult = (bWidth + outlineOffset + outlineWidth) * 1.4;\n        } else if (shape === 'round-heptagon') {\n          sMult = (bWidth + outlineOffset + outlineWidth) * 1.075;\n          offsetY = -(bWidth / 2 + outlineOffset + outlineWidth) / 35;\n        } else if (shape === 'round-hexagon') {\n          sMult = (bWidth + outlineOffset + outlineWidth) * 1.12;\n        } else if (shape === 'round-pentagon') {\n          sMult = (bWidth + outlineOffset + outlineWidth) * 1.13;\n          offsetY = -(bWidth / 2 + outlineOffset + outlineWidth) / 15;\n        } else if (shape === 'round-tag') {\n          sMult = (bWidth + outlineOffset + outlineWidth) * 1.12;\n          offsetX = (bWidth / 2 + outlineWidth + outlineOffset) * .07;\n        } else if (shape === 'round-triangle') {\n          sMult = (bWidth + outlineOffset + outlineWidth) * (Math.PI / 2);\n          offsetY = -(bWidth + outlineOffset / 2 + outlineWidth) / Math.PI;\n        }\n        if (sMult !== 0) {\n          scaleX = (nodeWidth + sMult) / nodeWidth;\n          sWidth = nodeWidth * scaleX;\n          if (!['round-hexagon', 'round-tag'].includes(shape)) {\n            scaleY = (nodeHeight + sMult) / nodeHeight;\n            sHeight = nodeHeight * scaleY;\n          }\n        }\n        cornerRadius = cornerRadius === 'auto' ? getRoundPolygonRadius(sWidth, sHeight) : cornerRadius;\n        var halfW = sWidth / 2;\n        var halfH = sHeight / 2;\n        var radius = cornerRadius + (bWidth + outlineWidth + outlineOffset) / 2;\n        var p = new Array(points.length / 2);\n        var corners = new Array(points.length / 2);\n        for (var _i3 = 0; _i3 < points.length / 2; _i3++) {\n          p[_i3] = {\n            x: npos.x + offsetX + halfW * points[_i3 * 2],\n            y: npos.y + offsetY + halfH * points[_i3 * 2 + 1]\n          };\n        }\n        var _i2,\n          p1,\n          p2,\n          p3,\n          len = p.length;\n        p1 = p[len - 1];\n        // for each point\n        for (_i2 = 0; _i2 < len; _i2++) {\n          p2 = p[_i2 % len];\n          p3 = p[(_i2 + 1) % len];\n          corners[_i2] = getRoundCorner(p1, p2, p3, radius);\n          p1 = p2;\n          p2 = p3;\n        }\n        r.drawRoundPolygonPath(_path || context, npos.x + offsetX, npos.y + offsetY, nodeWidth * scaleX, nodeHeight * scaleY, points, corners);\n      } else if (['roundrectangle', 'round-rectangle'].includes(shape)) {\n        cornerRadius = cornerRadius === 'auto' ? getRoundRectangleRadius(sWidth, sHeight) : cornerRadius;\n        r.drawRoundRectanglePath(_path || context, npos.x, npos.y, sWidth, sHeight, cornerRadius + (bWidth + outlineWidth + outlineOffset) / 2);\n      } else if (['cutrectangle', 'cut-rectangle'].includes(shape)) {\n        cornerRadius = cornerRadius === 'auto' ? getCutRectangleCornerLength() : cornerRadius;\n        r.drawCutRectanglePath(_path || context, npos.x, npos.y, sWidth, sHeight, null, cornerRadius + (bWidth + outlineWidth + outlineOffset) / 4);\n      } else if (['bottomroundrectangle', 'bottom-round-rectangle'].includes(shape)) {\n        cornerRadius = cornerRadius === 'auto' ? getRoundRectangleRadius(sWidth, sHeight) : cornerRadius;\n        r.drawBottomRoundRectanglePath(_path || context, npos.x, npos.y, sWidth, sHeight, cornerRadius + (bWidth + outlineWidth + outlineOffset) / 2);\n      } else if (shape === \"barrel\") {\n        r.drawBarrelPath(_path || context, npos.x, npos.y, sWidth, sHeight);\n      } else if (shape.startsWith(\"polygon\") || ['rhomboid', 'right-rhomboid', 'round-tag', 'tag', 'vee'].includes(shape)) {\n        var pad = (bWidth + outlineWidth + outlineOffset) / nodeWidth;\n        points = joinLines(expandPolygon(points, pad));\n        r.drawPolygonPath(_path || context, npos.x, npos.y, nodeWidth, nodeHeight, points);\n      } else {\n        var _pad = (bWidth + outlineWidth + outlineOffset) / nodeWidth;\n        points = joinLines(expandPolygon(points, -_pad));\n        r.drawPolygonPath(_path || context, npos.x, npos.y, nodeWidth, nodeHeight, points);\n      }\n      if (usePaths) {\n        context.stroke(_path);\n      } else {\n        context.stroke();\n      }\n      if (outlineStyle === 'double') {\n        context.lineWidth = bWidth / 3;\n        var gco = context.globalCompositeOperation;\n        context.globalCompositeOperation = 'destination-out';\n        if (usePaths) {\n          context.stroke(_path);\n        } else {\n          context.stroke();\n        }\n        context.globalCompositeOperation = gco;\n      }\n\n      // reset in case we changed the border style\n      if (context.setLineDash) {\n        // for very outofdate browsers\n        context.setLineDash([]);\n      }\n    }\n  };\n  var drawOverlay = function drawOverlay() {\n    if (shouldDrawOverlay) {\n      r.drawNodeOverlay(context, node, pos, nodeWidth, nodeHeight);\n    }\n  };\n  var drawUnderlay = function drawUnderlay() {\n    if (shouldDrawOverlay) {\n      r.drawNodeUnderlay(context, node, pos, nodeWidth, nodeHeight);\n    }\n  };\n  var drawText = function drawText() {\n    r.drawElementText(context, node, null, drawLabel);\n  };\n  var ghost = node.pstyle('ghost').value === 'yes';\n  if (ghost) {\n    var gx = node.pstyle('ghost-offset-x').pfValue;\n    var gy = node.pstyle('ghost-offset-y').pfValue;\n    var ghostOpacity = node.pstyle('ghost-opacity').value;\n    var effGhostOpacity = ghostOpacity * eleOpacity;\n    context.translate(gx, gy);\n    setupOutlineColor();\n    drawOutline();\n    setupShapeColor(ghostOpacity * bgOpacity);\n    drawShape();\n    drawImages(effGhostOpacity, true);\n    setupBorderColor(ghostOpacity * borderOpacity);\n    drawBorder();\n    drawPie(darkness !== 0 || borderWidth !== 0);\n    drawImages(effGhostOpacity, false);\n    darken(effGhostOpacity);\n    context.translate(-gx, -gy);\n  }\n  if (usePaths) {\n    context.translate(-pos.x, -pos.y);\n  }\n  drawUnderlay();\n  if (usePaths) {\n    context.translate(pos.x, pos.y);\n  }\n  setupOutlineColor();\n  drawOutline();\n  setupShapeColor();\n  drawShape();\n  drawImages(eleOpacity, true);\n  setupBorderColor();\n  drawBorder();\n  drawPie(darkness !== 0 || borderWidth !== 0);\n  drawImages(eleOpacity, false);\n  darken();\n  if (usePaths) {\n    context.translate(-pos.x, -pos.y);\n  }\n  drawText();\n  drawOverlay();\n\n  //\n  // clean up shift\n\n  if (shiftToOriginWithBb) {\n    context.translate(bb.x1, bb.y1);\n  }\n};\nvar drawNodeOverlayUnderlay = function drawNodeOverlayUnderlay(overlayOrUnderlay) {\n  if (!['overlay', 'underlay'].includes(overlayOrUnderlay)) {\n    throw new Error('Invalid state');\n  }\n  return function (context, node, pos, nodeWidth, nodeHeight) {\n    var r = this;\n    if (!node.visible()) {\n      return;\n    }\n    var padding = node.pstyle(\"\".concat(overlayOrUnderlay, \"-padding\")).pfValue;\n    var opacity = node.pstyle(\"\".concat(overlayOrUnderlay, \"-opacity\")).value;\n    var color = node.pstyle(\"\".concat(overlayOrUnderlay, \"-color\")).value;\n    var shape = node.pstyle(\"\".concat(overlayOrUnderlay, \"-shape\")).value;\n    var radius = node.pstyle(\"\".concat(overlayOrUnderlay, \"-corner-radius\")).value;\n    if (opacity > 0) {\n      pos = pos || node.position();\n      if (nodeWidth == null || nodeHeight == null) {\n        var _padding = node.padding();\n        nodeWidth = node.width() + 2 * _padding;\n        nodeHeight = node.height() + 2 * _padding;\n      }\n      r.colorFillStyle(context, color[0], color[1], color[2], opacity);\n      r.nodeShapes[shape].draw(context, pos.x, pos.y, nodeWidth + padding * 2, nodeHeight + padding * 2, radius);\n      context.fill();\n    }\n  };\n};\nCRp$5.drawNodeOverlay = drawNodeOverlayUnderlay('overlay');\nCRp$5.drawNodeUnderlay = drawNodeOverlayUnderlay('underlay');\n\n// does the node have at least one pie piece?\nCRp$5.hasPie = function (node) {\n  node = node[0]; // ensure ele ref\n\n  return node._private.hasPie;\n};\nCRp$5.drawPie = function (context, node, nodeOpacity, pos) {\n  node = node[0]; // ensure ele ref\n  pos = pos || node.position();\n  var cyStyle = node.cy().style();\n  var pieSize = node.pstyle('pie-size');\n  var x = pos.x;\n  var y = pos.y;\n  var nodeW = node.width();\n  var nodeH = node.height();\n  var radius = Math.min(nodeW, nodeH) / 2; // must fit in node\n  var lastPercent = 0; // what % to continue drawing pie slices from on [0, 1]\n  var usePaths = this.usePaths();\n  if (usePaths) {\n    x = 0;\n    y = 0;\n  }\n  if (pieSize.units === '%') {\n    radius = radius * pieSize.pfValue;\n  } else if (pieSize.pfValue !== undefined) {\n    radius = pieSize.pfValue / 2;\n  }\n  for (var i = 1; i <= cyStyle.pieBackgroundN; i++) {\n    // 1..N\n    var size = node.pstyle('pie-' + i + '-background-size').value;\n    var color = node.pstyle('pie-' + i + '-background-color').value;\n    var opacity = node.pstyle('pie-' + i + '-background-opacity').value * nodeOpacity;\n    var percent = size / 100; // map integer range [0, 100] to [0, 1]\n\n    // percent can't push beyond 1\n    if (percent + lastPercent > 1) {\n      percent = 1 - lastPercent;\n    }\n    var angleStart = 1.5 * Math.PI + 2 * Math.PI * lastPercent; // start at 12 o'clock and go clockwise\n    var angleDelta = 2 * Math.PI * percent;\n    var angleEnd = angleStart + angleDelta;\n\n    // ignore if\n    // - zero size\n    // - we're already beyond the full circle\n    // - adding the current slice would go beyond the full circle\n    if (size === 0 || lastPercent >= 1 || lastPercent + percent > 1) {\n      continue;\n    }\n    context.beginPath();\n    context.moveTo(x, y);\n    context.arc(x, y, radius, angleStart, angleEnd);\n    context.closePath();\n    this.colorFillStyle(context, color[0], color[1], color[2], opacity);\n    context.fill();\n    lastPercent += percent;\n  }\n};\n\nvar CRp$4 = {};\nvar motionBlurDelay = 100;\n\n// var isFirefox = typeof InstallTrigger !== 'undefined';\n\nCRp$4.getPixelRatio = function () {\n  var context = this.data.contexts[0];\n  if (this.forcedPixelRatio != null) {\n    return this.forcedPixelRatio;\n  }\n  var backingStore = context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n  return (window.devicePixelRatio || 1) / backingStore; // eslint-disable-line no-undef\n};\n\nCRp$4.paintCache = function (context) {\n  var caches = this.paintCaches = this.paintCaches || [];\n  var needToCreateCache = true;\n  var cache;\n  for (var i = 0; i < caches.length; i++) {\n    cache = caches[i];\n    if (cache.context === context) {\n      needToCreateCache = false;\n      break;\n    }\n  }\n  if (needToCreateCache) {\n    cache = {\n      context: context\n    };\n    caches.push(cache);\n  }\n  return cache;\n};\nCRp$4.createGradientStyleFor = function (context, shapeStyleName, ele, fill, opacity) {\n  var gradientStyle;\n  var usePaths = this.usePaths();\n  var colors = ele.pstyle(shapeStyleName + '-gradient-stop-colors').value,\n    positions = ele.pstyle(shapeStyleName + '-gradient-stop-positions').pfValue;\n  if (fill === 'radial-gradient') {\n    if (ele.isEdge()) {\n      var start = ele.sourceEndpoint(),\n        end = ele.targetEndpoint(),\n        mid = ele.midpoint();\n      var d1 = dist(start, mid);\n      var d2 = dist(end, mid);\n      gradientStyle = context.createRadialGradient(mid.x, mid.y, 0, mid.x, mid.y, Math.max(d1, d2));\n    } else {\n      var pos = usePaths ? {\n          x: 0,\n          y: 0\n        } : ele.position(),\n        width = ele.paddedWidth(),\n        height = ele.paddedHeight();\n      gradientStyle = context.createRadialGradient(pos.x, pos.y, 0, pos.x, pos.y, Math.max(width, height));\n    }\n  } else {\n    if (ele.isEdge()) {\n      var _start = ele.sourceEndpoint(),\n        _end = ele.targetEndpoint();\n      gradientStyle = context.createLinearGradient(_start.x, _start.y, _end.x, _end.y);\n    } else {\n      var _pos = usePaths ? {\n          x: 0,\n          y: 0\n        } : ele.position(),\n        _width = ele.paddedWidth(),\n        _height = ele.paddedHeight(),\n        halfWidth = _width / 2,\n        halfHeight = _height / 2;\n      var direction = ele.pstyle('background-gradient-direction').value;\n      switch (direction) {\n        case 'to-bottom':\n          gradientStyle = context.createLinearGradient(_pos.x, _pos.y - halfHeight, _pos.x, _pos.y + halfHeight);\n          break;\n        case 'to-top':\n          gradientStyle = context.createLinearGradient(_pos.x, _pos.y + halfHeight, _pos.x, _pos.y - halfHeight);\n          break;\n        case 'to-left':\n          gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y, _pos.x - halfWidth, _pos.y);\n          break;\n        case 'to-right':\n          gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y, _pos.x + halfWidth, _pos.y);\n          break;\n        case 'to-bottom-right':\n        case 'to-right-bottom':\n          gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y - halfHeight, _pos.x + halfWidth, _pos.y + halfHeight);\n          break;\n        case 'to-top-right':\n        case 'to-right-top':\n          gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y + halfHeight, _pos.x + halfWidth, _pos.y - halfHeight);\n          break;\n        case 'to-bottom-left':\n        case 'to-left-bottom':\n          gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y - halfHeight, _pos.x - halfWidth, _pos.y + halfHeight);\n          break;\n        case 'to-top-left':\n        case 'to-left-top':\n          gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y + halfHeight, _pos.x - halfWidth, _pos.y - halfHeight);\n          break;\n      }\n    }\n  }\n  if (!gradientStyle) return null; // invalid gradient style\n\n  var hasPositions = positions.length === colors.length;\n  var length = colors.length;\n  for (var i = 0; i < length; i++) {\n    gradientStyle.addColorStop(hasPositions ? positions[i] : i / (length - 1), 'rgba(' + colors[i][0] + ',' + colors[i][1] + ',' + colors[i][2] + ',' + opacity + ')');\n  }\n  return gradientStyle;\n};\nCRp$4.gradientFillStyle = function (context, ele, fill, opacity) {\n  var gradientStyle = this.createGradientStyleFor(context, 'background', ele, fill, opacity);\n  if (!gradientStyle) return null; // error\n  context.fillStyle = gradientStyle;\n};\nCRp$4.colorFillStyle = function (context, r, g, b, a) {\n  context.fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  // turn off for now, seems context does its own caching\n\n  // var cache = this.paintCache(context);\n\n  // var fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n  // if( cache.fillStyle !== fillStyle ){\n  //   context.fillStyle = cache.fillStyle = fillStyle;\n  // }\n};\n\nCRp$4.eleFillStyle = function (context, ele, opacity) {\n  var backgroundFill = ele.pstyle('background-fill').value;\n  if (backgroundFill === 'linear-gradient' || backgroundFill === 'radial-gradient') {\n    this.gradientFillStyle(context, ele, backgroundFill, opacity);\n  } else {\n    var backgroundColor = ele.pstyle('background-color').value;\n    this.colorFillStyle(context, backgroundColor[0], backgroundColor[1], backgroundColor[2], opacity);\n  }\n};\nCRp$4.gradientStrokeStyle = function (context, ele, fill, opacity) {\n  var gradientStyle = this.createGradientStyleFor(context, 'line', ele, fill, opacity);\n  if (!gradientStyle) return null; // error\n  context.strokeStyle = gradientStyle;\n};\nCRp$4.colorStrokeStyle = function (context, r, g, b, a) {\n  context.strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  // turn off for now, seems context does its own caching\n\n  // var cache = this.paintCache(context);\n\n  // var strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n  // if( cache.strokeStyle !== strokeStyle ){\n  //   context.strokeStyle = cache.strokeStyle = strokeStyle;\n  // }\n};\n\nCRp$4.eleStrokeStyle = function (context, ele, opacity) {\n  var lineFill = ele.pstyle('line-fill').value;\n  if (lineFill === 'linear-gradient' || lineFill === 'radial-gradient') {\n    this.gradientStrokeStyle(context, ele, lineFill, opacity);\n  } else {\n    var lineColor = ele.pstyle('line-color').value;\n    this.colorStrokeStyle(context, lineColor[0], lineColor[1], lineColor[2], opacity);\n  }\n};\n\n// Resize canvas\nCRp$4.matchCanvasSize = function (container) {\n  var r = this;\n  var data = r.data;\n  var bb = r.findContainerClientCoords();\n  var width = bb[2];\n  var height = bb[3];\n  var pixelRatio = r.getPixelRatio();\n  var mbPxRatio = r.motionBlurPxRatio;\n  if (container === r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE] || container === r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG]) {\n    pixelRatio = mbPxRatio;\n  }\n  var canvasWidth = width * pixelRatio;\n  var canvasHeight = height * pixelRatio;\n  var canvas;\n  if (canvasWidth === r.canvasWidth && canvasHeight === r.canvasHeight) {\n    return; // save cycles if same\n  }\n\n  r.fontCaches = null; // resizing resets the style\n\n  var canvasContainer = data.canvasContainer;\n  canvasContainer.style.width = width + 'px';\n  canvasContainer.style.height = height + 'px';\n  for (var i = 0; i < r.CANVAS_LAYERS; i++) {\n    canvas = data.canvases[i];\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n  }\n  for (var i = 0; i < r.BUFFER_COUNT; i++) {\n    canvas = data.bufferCanvases[i];\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n  }\n  r.textureMult = 1;\n  if (pixelRatio <= 1) {\n    canvas = data.bufferCanvases[r.TEXTURE_BUFFER];\n    r.textureMult = 2;\n    canvas.width = canvasWidth * r.textureMult;\n    canvas.height = canvasHeight * r.textureMult;\n  }\n  r.canvasWidth = canvasWidth;\n  r.canvasHeight = canvasHeight;\n};\nCRp$4.renderTo = function (cxt, zoom, pan, pxRatio) {\n  this.render({\n    forcedContext: cxt,\n    forcedZoom: zoom,\n    forcedPan: pan,\n    drawAllLayers: true,\n    forcedPxRatio: pxRatio\n  });\n};\nCRp$4.render = function (options) {\n  options = options || staticEmptyObject();\n  var forcedContext = options.forcedContext;\n  var drawAllLayers = options.drawAllLayers;\n  var drawOnlyNodeLayer = options.drawOnlyNodeLayer;\n  var forcedZoom = options.forcedZoom;\n  var forcedPan = options.forcedPan;\n  var r = this;\n  var pixelRatio = options.forcedPxRatio === undefined ? this.getPixelRatio() : options.forcedPxRatio;\n  var cy = r.cy;\n  var data = r.data;\n  var needDraw = data.canvasNeedsRedraw;\n  var textureDraw = r.textureOnViewport && !forcedContext && (r.pinching || r.hoverData.dragging || r.swipePanning || r.data.wheelZooming);\n  var motionBlur = options.motionBlur !== undefined ? options.motionBlur : r.motionBlur;\n  var mbPxRatio = r.motionBlurPxRatio;\n  var hasCompoundNodes = cy.hasCompoundNodes();\n  var inNodeDragGesture = r.hoverData.draggingEles;\n  var inBoxSelection = r.hoverData.selecting || r.touchData.selecting ? true : false;\n  motionBlur = motionBlur && !forcedContext && r.motionBlurEnabled && !inBoxSelection;\n  var motionBlurFadeEffect = motionBlur;\n  if (!forcedContext) {\n    if (r.prevPxRatio !== pixelRatio) {\n      r.invalidateContainerClientCoordsCache();\n      r.matchCanvasSize(r.container);\n      r.redrawHint('eles', true);\n      r.redrawHint('drag', true);\n    }\n    r.prevPxRatio = pixelRatio;\n  }\n  if (!forcedContext && r.motionBlurTimeout) {\n    clearTimeout(r.motionBlurTimeout);\n  }\n  if (motionBlur) {\n    if (r.mbFrames == null) {\n      r.mbFrames = 0;\n    }\n    r.mbFrames++;\n    if (r.mbFrames < 3) {\n      // need several frames before even high quality motionblur\n      motionBlurFadeEffect = false;\n    }\n\n    // go to lower quality blurry frames when several m/b frames have been rendered (avoids flashing)\n    if (r.mbFrames > r.minMbLowQualFrames) {\n      //r.fullQualityMb = false;\n      r.motionBlurPxRatio = r.mbPxRBlurry;\n    }\n  }\n  if (r.clearingMotionBlur) {\n    r.motionBlurPxRatio = 1;\n  }\n\n  // b/c drawToContext() may be async w.r.t. redraw(), keep track of last texture frame\n  // because a rogue async texture frame would clear needDraw\n  if (r.textureDrawLastFrame && !textureDraw) {\n    needDraw[r.NODE] = true;\n    needDraw[r.SELECT_BOX] = true;\n  }\n  var style = cy.style();\n  var zoom = cy.zoom();\n  var effectiveZoom = forcedZoom !== undefined ? forcedZoom : zoom;\n  var pan = cy.pan();\n  var effectivePan = {\n    x: pan.x,\n    y: pan.y\n  };\n  var vp = {\n    zoom: zoom,\n    pan: {\n      x: pan.x,\n      y: pan.y\n    }\n  };\n  var prevVp = r.prevViewport;\n  var viewportIsDiff = prevVp === undefined || vp.zoom !== prevVp.zoom || vp.pan.x !== prevVp.pan.x || vp.pan.y !== prevVp.pan.y;\n\n  // we want the low quality motionblur only when the viewport is being manipulated etc (where it's not noticed)\n  if (!viewportIsDiff && !(inNodeDragGesture && !hasCompoundNodes)) {\n    r.motionBlurPxRatio = 1;\n  }\n  if (forcedPan) {\n    effectivePan = forcedPan;\n  }\n\n  // apply pixel ratio\n\n  effectiveZoom *= pixelRatio;\n  effectivePan.x *= pixelRatio;\n  effectivePan.y *= pixelRatio;\n  var eles = r.getCachedZSortedEles();\n  function mbclear(context, x, y, w, h) {\n    var gco = context.globalCompositeOperation;\n    context.globalCompositeOperation = 'destination-out';\n    r.colorFillStyle(context, 255, 255, 255, r.motionBlurTransparency);\n    context.fillRect(x, y, w, h);\n    context.globalCompositeOperation = gco;\n  }\n  function setContextTransform(context, clear) {\n    var ePan, eZoom, w, h;\n    if (!r.clearingMotionBlur && (context === data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE] || context === data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG])) {\n      ePan = {\n        x: pan.x * mbPxRatio,\n        y: pan.y * mbPxRatio\n      };\n      eZoom = zoom * mbPxRatio;\n      w = r.canvasWidth * mbPxRatio;\n      h = r.canvasHeight * mbPxRatio;\n    } else {\n      ePan = effectivePan;\n      eZoom = effectiveZoom;\n      w = r.canvasWidth;\n      h = r.canvasHeight;\n    }\n    context.setTransform(1, 0, 0, 1, 0, 0);\n    if (clear === 'motionBlur') {\n      mbclear(context, 0, 0, w, h);\n    } else if (!forcedContext && (clear === undefined || clear)) {\n      context.clearRect(0, 0, w, h);\n    }\n    if (!drawAllLayers) {\n      context.translate(ePan.x, ePan.y);\n      context.scale(eZoom, eZoom);\n    }\n    if (forcedPan) {\n      context.translate(forcedPan.x, forcedPan.y);\n    }\n    if (forcedZoom) {\n      context.scale(forcedZoom, forcedZoom);\n    }\n  }\n  if (!textureDraw) {\n    r.textureDrawLastFrame = false;\n  }\n  if (textureDraw) {\n    r.textureDrawLastFrame = true;\n    if (!r.textureCache) {\n      r.textureCache = {};\n      r.textureCache.bb = cy.mutableElements().boundingBox();\n      r.textureCache.texture = r.data.bufferCanvases[r.TEXTURE_BUFFER];\n      var cxt = r.data.bufferContexts[r.TEXTURE_BUFFER];\n      cxt.setTransform(1, 0, 0, 1, 0, 0);\n      cxt.clearRect(0, 0, r.canvasWidth * r.textureMult, r.canvasHeight * r.textureMult);\n      r.render({\n        forcedContext: cxt,\n        drawOnlyNodeLayer: true,\n        forcedPxRatio: pixelRatio * r.textureMult\n      });\n      var vp = r.textureCache.viewport = {\n        zoom: cy.zoom(),\n        pan: cy.pan(),\n        width: r.canvasWidth,\n        height: r.canvasHeight\n      };\n      vp.mpan = {\n        x: (0 - vp.pan.x) / vp.zoom,\n        y: (0 - vp.pan.y) / vp.zoom\n      };\n    }\n    needDraw[r.DRAG] = false;\n    needDraw[r.NODE] = false;\n    var context = data.contexts[r.NODE];\n    var texture = r.textureCache.texture;\n    var vp = r.textureCache.viewport;\n    context.setTransform(1, 0, 0, 1, 0, 0);\n    if (motionBlur) {\n      mbclear(context, 0, 0, vp.width, vp.height);\n    } else {\n      context.clearRect(0, 0, vp.width, vp.height);\n    }\n    var outsideBgColor = style.core('outside-texture-bg-color').value;\n    var outsideBgOpacity = style.core('outside-texture-bg-opacity').value;\n    r.colorFillStyle(context, outsideBgColor[0], outsideBgColor[1], outsideBgColor[2], outsideBgOpacity);\n    context.fillRect(0, 0, vp.width, vp.height);\n    var zoom = cy.zoom();\n    setContextTransform(context, false);\n    context.clearRect(vp.mpan.x, vp.mpan.y, vp.width / vp.zoom / pixelRatio, vp.height / vp.zoom / pixelRatio);\n    context.drawImage(texture, vp.mpan.x, vp.mpan.y, vp.width / vp.zoom / pixelRatio, vp.height / vp.zoom / pixelRatio);\n  } else if (r.textureOnViewport && !forcedContext) {\n    // clear the cache since we don't need it\n    r.textureCache = null;\n  }\n  var extent = cy.extent();\n  var vpManip = r.pinching || r.hoverData.dragging || r.swipePanning || r.data.wheelZooming || r.hoverData.draggingEles || r.cy.animated();\n  var hideEdges = r.hideEdgesOnViewport && vpManip;\n  var needMbClear = [];\n  needMbClear[r.NODE] = !needDraw[r.NODE] && motionBlur && !r.clearedForMotionBlur[r.NODE] || r.clearingMotionBlur;\n  if (needMbClear[r.NODE]) {\n    r.clearedForMotionBlur[r.NODE] = true;\n  }\n  needMbClear[r.DRAG] = !needDraw[r.DRAG] && motionBlur && !r.clearedForMotionBlur[r.DRAG] || r.clearingMotionBlur;\n  if (needMbClear[r.DRAG]) {\n    r.clearedForMotionBlur[r.DRAG] = true;\n  }\n  if (needDraw[r.NODE] || drawAllLayers || drawOnlyNodeLayer || needMbClear[r.NODE]) {\n    var useBuffer = motionBlur && !needMbClear[r.NODE] && mbPxRatio !== 1;\n    var context = forcedContext || (useBuffer ? r.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE] : data.contexts[r.NODE]);\n    var clear = motionBlur && !useBuffer ? 'motionBlur' : undefined;\n    setContextTransform(context, clear);\n    if (hideEdges) {\n      r.drawCachedNodes(context, eles.nondrag, pixelRatio, extent);\n    } else {\n      r.drawLayeredElements(context, eles.nondrag, pixelRatio, extent);\n    }\n    if (r.debug) {\n      r.drawDebugPoints(context, eles.nondrag);\n    }\n    if (!drawAllLayers && !motionBlur) {\n      needDraw[r.NODE] = false;\n    }\n  }\n  if (!drawOnlyNodeLayer && (needDraw[r.DRAG] || drawAllLayers || needMbClear[r.DRAG])) {\n    var useBuffer = motionBlur && !needMbClear[r.DRAG] && mbPxRatio !== 1;\n    var context = forcedContext || (useBuffer ? r.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG] : data.contexts[r.DRAG]);\n    setContextTransform(context, motionBlur && !useBuffer ? 'motionBlur' : undefined);\n    if (hideEdges) {\n      r.drawCachedNodes(context, eles.drag, pixelRatio, extent);\n    } else {\n      r.drawCachedElements(context, eles.drag, pixelRatio, extent);\n    }\n    if (r.debug) {\n      r.drawDebugPoints(context, eles.drag);\n    }\n    if (!drawAllLayers && !motionBlur) {\n      needDraw[r.DRAG] = false;\n    }\n  }\n  if (r.showFps || !drawOnlyNodeLayer && needDraw[r.SELECT_BOX] && !drawAllLayers) {\n    var context = forcedContext || data.contexts[r.SELECT_BOX];\n    setContextTransform(context);\n    if (r.selection[4] == 1 && (r.hoverData.selecting || r.touchData.selecting)) {\n      var zoom = r.cy.zoom();\n      var borderWidth = style.core('selection-box-border-width').value / zoom;\n      context.lineWidth = borderWidth;\n      context.fillStyle = 'rgba(' + style.core('selection-box-color').value[0] + ',' + style.core('selection-box-color').value[1] + ',' + style.core('selection-box-color').value[2] + ',' + style.core('selection-box-opacity').value + ')';\n      context.fillRect(r.selection[0], r.selection[1], r.selection[2] - r.selection[0], r.selection[3] - r.selection[1]);\n      if (borderWidth > 0) {\n        context.strokeStyle = 'rgba(' + style.core('selection-box-border-color').value[0] + ',' + style.core('selection-box-border-color').value[1] + ',' + style.core('selection-box-border-color').value[2] + ',' + style.core('selection-box-opacity').value + ')';\n        context.strokeRect(r.selection[0], r.selection[1], r.selection[2] - r.selection[0], r.selection[3] - r.selection[1]);\n      }\n    }\n    if (data.bgActivePosistion && !r.hoverData.selecting) {\n      var zoom = r.cy.zoom();\n      var pos = data.bgActivePosistion;\n      context.fillStyle = 'rgba(' + style.core('active-bg-color').value[0] + ',' + style.core('active-bg-color').value[1] + ',' + style.core('active-bg-color').value[2] + ',' + style.core('active-bg-opacity').value + ')';\n      context.beginPath();\n      context.arc(pos.x, pos.y, style.core('active-bg-size').pfValue / zoom, 0, 2 * Math.PI);\n      context.fill();\n    }\n    var timeToRender = r.lastRedrawTime;\n    if (r.showFps && timeToRender) {\n      timeToRender = Math.round(timeToRender);\n      var fps = Math.round(1000 / timeToRender);\n      context.setTransform(1, 0, 0, 1, 0, 0);\n      context.fillStyle = 'rgba(255, 0, 0, 0.75)';\n      context.strokeStyle = 'rgba(255, 0, 0, 0.75)';\n      context.lineWidth = 1;\n      context.fillText('1 frame = ' + timeToRender + ' ms = ' + fps + ' fps', 0, 20);\n      var maxFps = 60;\n      context.strokeRect(0, 30, 250, 20);\n      context.fillRect(0, 30, 250 * Math.min(fps / maxFps, 1), 20);\n    }\n    if (!drawAllLayers) {\n      needDraw[r.SELECT_BOX] = false;\n    }\n  }\n\n  // motionblur: blit rendered blurry frames\n  if (motionBlur && mbPxRatio !== 1) {\n    var cxtNode = data.contexts[r.NODE];\n    var txtNode = r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE];\n    var cxtDrag = data.contexts[r.DRAG];\n    var txtDrag = r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG];\n    var drawMotionBlur = function drawMotionBlur(cxt, txt, needClear) {\n      cxt.setTransform(1, 0, 0, 1, 0, 0);\n      if (needClear || !motionBlurFadeEffect) {\n        cxt.clearRect(0, 0, r.canvasWidth, r.canvasHeight);\n      } else {\n        mbclear(cxt, 0, 0, r.canvasWidth, r.canvasHeight);\n      }\n      var pxr = mbPxRatio;\n      cxt.drawImage(txt,\n      // img\n      0, 0,\n      // sx, sy\n      r.canvasWidth * pxr, r.canvasHeight * pxr,\n      // sw, sh\n      0, 0,\n      // x, y\n      r.canvasWidth, r.canvasHeight // w, h\n      );\n    };\n\n    if (needDraw[r.NODE] || needMbClear[r.NODE]) {\n      drawMotionBlur(cxtNode, txtNode, needMbClear[r.NODE]);\n      needDraw[r.NODE] = false;\n    }\n    if (needDraw[r.DRAG] || needMbClear[r.DRAG]) {\n      drawMotionBlur(cxtDrag, txtDrag, needMbClear[r.DRAG]);\n      needDraw[r.DRAG] = false;\n    }\n  }\n  r.prevViewport = vp;\n  if (r.clearingMotionBlur) {\n    r.clearingMotionBlur = false;\n    r.motionBlurCleared = true;\n    r.motionBlur = true;\n  }\n  if (motionBlur) {\n    r.motionBlurTimeout = setTimeout(function () {\n      r.motionBlurTimeout = null;\n      r.clearedForMotionBlur[r.NODE] = false;\n      r.clearedForMotionBlur[r.DRAG] = false;\n      r.motionBlur = false;\n      r.clearingMotionBlur = !textureDraw;\n      r.mbFrames = 0;\n      needDraw[r.NODE] = true;\n      needDraw[r.DRAG] = true;\n      r.redraw();\n    }, motionBlurDelay);\n  }\n  if (!forcedContext) {\n    cy.emit('render');\n  }\n};\n\nvar CRp$3 = {};\n\n// @O Polygon drawing\nCRp$3.drawPolygonPath = function (context, x, y, width, height, points) {\n  var halfW = width / 2;\n  var halfH = height / 2;\n  if (context.beginPath) {\n    context.beginPath();\n  }\n  context.moveTo(x + halfW * points[0], y + halfH * points[1]);\n  for (var i = 1; i < points.length / 2; i++) {\n    context.lineTo(x + halfW * points[i * 2], y + halfH * points[i * 2 + 1]);\n  }\n  context.closePath();\n};\nCRp$3.drawRoundPolygonPath = function (context, x, y, width, height, points, corners) {\n  corners.forEach(function (corner) {\n    return drawPreparedRoundCorner(context, corner);\n  });\n  context.closePath();\n};\n\n// Round rectangle drawing\nCRp$3.drawRoundRectanglePath = function (context, x, y, width, height, radius) {\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerRadius = radius === 'auto' ? getRoundRectangleRadius(width, height) : Math.min(radius, halfHeight, halfWidth);\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  // Start at top middle\n  context.moveTo(x, y - halfHeight);\n  // Arc from middle top to right side\n  context.arcTo(x + halfWidth, y - halfHeight, x + halfWidth, y, cornerRadius);\n  // Arc from right side to bottom\n  context.arcTo(x + halfWidth, y + halfHeight, x, y + halfHeight, cornerRadius);\n  // Arc from bottom to left side\n  context.arcTo(x - halfWidth, y + halfHeight, x - halfWidth, y, cornerRadius);\n  // Arc from left side to topBorder\n  context.arcTo(x - halfWidth, y - halfHeight, x, y - halfHeight, cornerRadius);\n  // Join line\n  context.lineTo(x, y - halfHeight);\n  context.closePath();\n};\nCRp$3.drawBottomRoundRectanglePath = function (context, x, y, width, height, radius) {\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerRadius = radius === 'auto' ? getRoundRectangleRadius(width, height) : radius;\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  // Start at top middle\n  context.moveTo(x, y - halfHeight);\n  context.lineTo(x + halfWidth, y - halfHeight);\n  context.lineTo(x + halfWidth, y);\n  context.arcTo(x + halfWidth, y + halfHeight, x, y + halfHeight, cornerRadius);\n  context.arcTo(x - halfWidth, y + halfHeight, x - halfWidth, y, cornerRadius);\n  context.lineTo(x - halfWidth, y - halfHeight);\n  context.lineTo(x, y - halfHeight);\n  context.closePath();\n};\nCRp$3.drawCutRectanglePath = function (context, x, y, width, height, points, corners) {\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerLength = corners === 'auto' ? getCutRectangleCornerLength() : corners;\n  if (context.beginPath) {\n    context.beginPath();\n  }\n  context.moveTo(x - halfWidth + cornerLength, y - halfHeight);\n  context.lineTo(x + halfWidth - cornerLength, y - halfHeight);\n  context.lineTo(x + halfWidth, y - halfHeight + cornerLength);\n  context.lineTo(x + halfWidth, y + halfHeight - cornerLength);\n  context.lineTo(x + halfWidth - cornerLength, y + halfHeight);\n  context.lineTo(x - halfWidth + cornerLength, y + halfHeight);\n  context.lineTo(x - halfWidth, y + halfHeight - cornerLength);\n  context.lineTo(x - halfWidth, y - halfHeight + cornerLength);\n  context.closePath();\n};\nCRp$3.drawBarrelPath = function (context, x, y, width, height) {\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var xBegin = x - halfWidth;\n  var xEnd = x + halfWidth;\n  var yBegin = y - halfHeight;\n  var yEnd = y + halfHeight;\n  var barrelCurveConstants = getBarrelCurveConstants(width, height);\n  var wOffset = barrelCurveConstants.widthOffset;\n  var hOffset = barrelCurveConstants.heightOffset;\n  var ctrlPtXOffset = barrelCurveConstants.ctrlPtOffsetPct * wOffset;\n  if (context.beginPath) {\n    context.beginPath();\n  }\n  context.moveTo(xBegin, yBegin + hOffset);\n  context.lineTo(xBegin, yEnd - hOffset);\n  context.quadraticCurveTo(xBegin + ctrlPtXOffset, yEnd, xBegin + wOffset, yEnd);\n  context.lineTo(xEnd - wOffset, yEnd);\n  context.quadraticCurveTo(xEnd - ctrlPtXOffset, yEnd, xEnd, yEnd - hOffset);\n  context.lineTo(xEnd, yBegin + hOffset);\n  context.quadraticCurveTo(xEnd - ctrlPtXOffset, yBegin, xEnd - wOffset, yBegin);\n  context.lineTo(xBegin + wOffset, yBegin);\n  context.quadraticCurveTo(xBegin + ctrlPtXOffset, yBegin, xBegin, yBegin + hOffset);\n  context.closePath();\n};\nvar sin0 = Math.sin(0);\nvar cos0 = Math.cos(0);\nvar sin = {};\nvar cos = {};\nvar ellipseStepSize = Math.PI / 40;\nfor (var i = 0 * Math.PI; i < 2 * Math.PI; i += ellipseStepSize) {\n  sin[i] = Math.sin(i);\n  cos[i] = Math.cos(i);\n}\nCRp$3.drawEllipsePath = function (context, centerX, centerY, width, height) {\n  if (context.beginPath) {\n    context.beginPath();\n  }\n  if (context.ellipse) {\n    context.ellipse(centerX, centerY, width / 2, height / 2, 0, 0, 2 * Math.PI);\n  } else {\n    var xPos, yPos;\n    var rw = width / 2;\n    var rh = height / 2;\n    for (var i = 0 * Math.PI; i < 2 * Math.PI; i += ellipseStepSize) {\n      xPos = centerX - rw * sin[i] * sin0 + rw * cos[i] * cos0;\n      yPos = centerY + rh * cos[i] * sin0 + rh * sin[i] * cos0;\n      if (i === 0) {\n        context.moveTo(xPos, yPos);\n      } else {\n        context.lineTo(xPos, yPos);\n      }\n    }\n  }\n  context.closePath();\n};\n\n/* global atob, ArrayBuffer, Uint8Array, Blob */\nvar CRp$2 = {};\nCRp$2.createBuffer = function (w, h) {\n  var buffer = document.createElement('canvas'); // eslint-disable-line no-undef\n  buffer.width = w;\n  buffer.height = h;\n  return [buffer, buffer.getContext('2d')];\n};\nCRp$2.bufferCanvasImage = function (options) {\n  var cy = this.cy;\n  var eles = cy.mutableElements();\n  var bb = eles.boundingBox();\n  var ctrRect = this.findContainerClientCoords();\n  var width = options.full ? Math.ceil(bb.w) : ctrRect[2];\n  var height = options.full ? Math.ceil(bb.h) : ctrRect[3];\n  var specdMaxDims = number$1(options.maxWidth) || number$1(options.maxHeight);\n  var pxRatio = this.getPixelRatio();\n  var scale = 1;\n  if (options.scale !== undefined) {\n    width *= options.scale;\n    height *= options.scale;\n    scale = options.scale;\n  } else if (specdMaxDims) {\n    var maxScaleW = Infinity;\n    var maxScaleH = Infinity;\n    if (number$1(options.maxWidth)) {\n      maxScaleW = scale * options.maxWidth / width;\n    }\n    if (number$1(options.maxHeight)) {\n      maxScaleH = scale * options.maxHeight / height;\n    }\n    scale = Math.min(maxScaleW, maxScaleH);\n    width *= scale;\n    height *= scale;\n  }\n  if (!specdMaxDims) {\n    width *= pxRatio;\n    height *= pxRatio;\n    scale *= pxRatio;\n  }\n  var buffCanvas = document.createElement('canvas'); // eslint-disable-line no-undef\n\n  buffCanvas.width = width;\n  buffCanvas.height = height;\n  buffCanvas.style.width = width + 'px';\n  buffCanvas.style.height = height + 'px';\n  var buffCxt = buffCanvas.getContext('2d');\n\n  // Rasterize the layers, but only if container has nonzero size\n  if (width > 0 && height > 0) {\n    buffCxt.clearRect(0, 0, width, height);\n    buffCxt.globalCompositeOperation = 'source-over';\n    var zsortedEles = this.getCachedZSortedEles();\n    if (options.full) {\n      // draw the full bounds of the graph\n      buffCxt.translate(-bb.x1 * scale, -bb.y1 * scale);\n      buffCxt.scale(scale, scale);\n      this.drawElements(buffCxt, zsortedEles);\n      buffCxt.scale(1 / scale, 1 / scale);\n      buffCxt.translate(bb.x1 * scale, bb.y1 * scale);\n    } else {\n      // draw the current view\n      var pan = cy.pan();\n      var translation = {\n        x: pan.x * scale,\n        y: pan.y * scale\n      };\n      scale *= cy.zoom();\n      buffCxt.translate(translation.x, translation.y);\n      buffCxt.scale(scale, scale);\n      this.drawElements(buffCxt, zsortedEles);\n      buffCxt.scale(1 / scale, 1 / scale);\n      buffCxt.translate(-translation.x, -translation.y);\n    }\n\n    // need to fill bg at end like this in order to fill cleared transparent pixels in jpgs\n    if (options.bg) {\n      buffCxt.globalCompositeOperation = 'destination-over';\n      buffCxt.fillStyle = options.bg;\n      buffCxt.rect(0, 0, width, height);\n      buffCxt.fill();\n    }\n  }\n  return buffCanvas;\n};\nfunction b64ToBlob(b64, mimeType) {\n  var bytes = atob(b64);\n  var buff = new ArrayBuffer(bytes.length);\n  var buffUint8 = new Uint8Array(buff);\n  for (var i = 0; i < bytes.length; i++) {\n    buffUint8[i] = bytes.charCodeAt(i);\n  }\n  return new Blob([buff], {\n    type: mimeType\n  });\n}\nfunction b64UriToB64(b64uri) {\n  var i = b64uri.indexOf(',');\n  return b64uri.substr(i + 1);\n}\nfunction output(options, canvas, mimeType) {\n  var getB64Uri = function getB64Uri() {\n    return canvas.toDataURL(mimeType, options.quality);\n  };\n  switch (options.output) {\n    case 'blob-promise':\n      return new Promise$1(function (resolve, reject) {\n        try {\n          canvas.toBlob(function (blob) {\n            if (blob != null) {\n              resolve(blob);\n            } else {\n              reject(new Error('`canvas.toBlob()` sent a null value in its callback'));\n            }\n          }, mimeType, options.quality);\n        } catch (err) {\n          reject(err);\n        }\n      });\n    case 'blob':\n      return b64ToBlob(b64UriToB64(getB64Uri()), mimeType);\n    case 'base64':\n      return b64UriToB64(getB64Uri());\n    case 'base64uri':\n    default:\n      return getB64Uri();\n  }\n}\nCRp$2.png = function (options) {\n  return output(options, this.bufferCanvasImage(options), 'image/png');\n};\nCRp$2.jpg = function (options) {\n  return output(options, this.bufferCanvasImage(options), 'image/jpeg');\n};\n\nvar CRp$1 = {};\nCRp$1.nodeShapeImpl = function (name, context, centerX, centerY, width, height, points, corners) {\n  switch (name) {\n    case 'ellipse':\n      return this.drawEllipsePath(context, centerX, centerY, width, height);\n    case 'polygon':\n      return this.drawPolygonPath(context, centerX, centerY, width, height, points);\n    case 'round-polygon':\n      return this.drawRoundPolygonPath(context, centerX, centerY, width, height, points, corners);\n    case 'roundrectangle':\n    case 'round-rectangle':\n      return this.drawRoundRectanglePath(context, centerX, centerY, width, height, corners);\n    case 'cutrectangle':\n    case 'cut-rectangle':\n      return this.drawCutRectanglePath(context, centerX, centerY, width, height, points, corners);\n    case 'bottomroundrectangle':\n    case 'bottom-round-rectangle':\n      return this.drawBottomRoundRectanglePath(context, centerX, centerY, width, height, corners);\n    case 'barrel':\n      return this.drawBarrelPath(context, centerX, centerY, width, height);\n  }\n};\n\nvar CR = CanvasRenderer;\nvar CRp = CanvasRenderer.prototype;\nCRp.CANVAS_LAYERS = 3;\n//\nCRp.SELECT_BOX = 0;\nCRp.DRAG = 1;\nCRp.NODE = 2;\nCRp.BUFFER_COUNT = 3;\n//\nCRp.TEXTURE_BUFFER = 0;\nCRp.MOTIONBLUR_BUFFER_NODE = 1;\nCRp.MOTIONBLUR_BUFFER_DRAG = 2;\nfunction CanvasRenderer(options) {\n  var r = this;\n  r.data = {\n    canvases: new Array(CRp.CANVAS_LAYERS),\n    contexts: new Array(CRp.CANVAS_LAYERS),\n    canvasNeedsRedraw: new Array(CRp.CANVAS_LAYERS),\n    bufferCanvases: new Array(CRp.BUFFER_COUNT),\n    bufferContexts: new Array(CRp.CANVAS_LAYERS)\n  };\n  var tapHlOffAttr = '-webkit-tap-highlight-color';\n  var tapHlOffStyle = 'rgba(0,0,0,0)';\n  r.data.canvasContainer = document.createElement('div'); // eslint-disable-line no-undef\n  var containerStyle = r.data.canvasContainer.style;\n  r.data.canvasContainer.style[tapHlOffAttr] = tapHlOffStyle;\n  containerStyle.position = 'relative';\n  containerStyle.zIndex = '0';\n  containerStyle.overflow = 'hidden';\n  var container = options.cy.container();\n  container.appendChild(r.data.canvasContainer);\n  container.style[tapHlOffAttr] = tapHlOffStyle;\n  var styleMap = {\n    '-webkit-user-select': 'none',\n    '-moz-user-select': '-moz-none',\n    'user-select': 'none',\n    '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',\n    'outline-style': 'none'\n  };\n  if (ms()) {\n    styleMap['-ms-touch-action'] = 'none';\n    styleMap['touch-action'] = 'none';\n  }\n  for (var i = 0; i < CRp.CANVAS_LAYERS; i++) {\n    var canvas = r.data.canvases[i] = document.createElement('canvas'); // eslint-disable-line no-undef\n    r.data.contexts[i] = canvas.getContext('2d');\n    Object.keys(styleMap).forEach(function (k) {\n      canvas.style[k] = styleMap[k];\n    });\n    canvas.style.position = 'absolute';\n    canvas.setAttribute('data-id', 'layer' + i);\n    canvas.style.zIndex = String(CRp.CANVAS_LAYERS - i);\n    r.data.canvasContainer.appendChild(canvas);\n    r.data.canvasNeedsRedraw[i] = false;\n  }\n  r.data.topCanvas = r.data.canvases[0];\n  r.data.canvases[CRp.NODE].setAttribute('data-id', 'layer' + CRp.NODE + '-node');\n  r.data.canvases[CRp.SELECT_BOX].setAttribute('data-id', 'layer' + CRp.SELECT_BOX + '-selectbox');\n  r.data.canvases[CRp.DRAG].setAttribute('data-id', 'layer' + CRp.DRAG + '-drag');\n  for (var i = 0; i < CRp.BUFFER_COUNT; i++) {\n    r.data.bufferCanvases[i] = document.createElement('canvas'); // eslint-disable-line no-undef\n    r.data.bufferContexts[i] = r.data.bufferCanvases[i].getContext('2d');\n    r.data.bufferCanvases[i].style.position = 'absolute';\n    r.data.bufferCanvases[i].setAttribute('data-id', 'buffer' + i);\n    r.data.bufferCanvases[i].style.zIndex = String(-i - 1);\n    r.data.bufferCanvases[i].style.visibility = 'hidden';\n    //r.data.canvasContainer.appendChild(r.data.bufferCanvases[i]);\n  }\n\n  r.pathsEnabled = true;\n  var emptyBb = makeBoundingBox();\n  var getBoxCenter = function getBoxCenter(bb) {\n    return {\n      x: (bb.x1 + bb.x2) / 2,\n      y: (bb.y1 + bb.y2) / 2\n    };\n  };\n  var getCenterOffset = function getCenterOffset(bb) {\n    return {\n      x: -bb.w / 2,\n      y: -bb.h / 2\n    };\n  };\n  var backgroundTimestampHasChanged = function backgroundTimestampHasChanged(ele) {\n    var _p = ele[0]._private;\n    var same = _p.oldBackgroundTimestamp === _p.backgroundTimestamp;\n    return !same;\n  };\n  var getStyleKey = function getStyleKey(ele) {\n    return ele[0]._private.nodeKey;\n  };\n  var getLabelKey = function getLabelKey(ele) {\n    return ele[0]._private.labelStyleKey;\n  };\n  var getSourceLabelKey = function getSourceLabelKey(ele) {\n    return ele[0]._private.sourceLabelStyleKey;\n  };\n  var getTargetLabelKey = function getTargetLabelKey(ele) {\n    return ele[0]._private.targetLabelStyleKey;\n  };\n  var drawElement = function drawElement(context, ele, bb, scaledLabelShown, useEleOpacity) {\n    return r.drawElement(context, ele, bb, false, false, useEleOpacity);\n  };\n  var drawLabel = function drawLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n    return r.drawElementText(context, ele, bb, scaledLabelShown, 'main', useEleOpacity);\n  };\n  var drawSourceLabel = function drawSourceLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n    return r.drawElementText(context, ele, bb, scaledLabelShown, 'source', useEleOpacity);\n  };\n  var drawTargetLabel = function drawTargetLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n    return r.drawElementText(context, ele, bb, scaledLabelShown, 'target', useEleOpacity);\n  };\n  var getElementBox = function getElementBox(ele) {\n    ele.boundingBox();\n    return ele[0]._private.bodyBounds;\n  };\n  var getLabelBox = function getLabelBox(ele) {\n    ele.boundingBox();\n    return ele[0]._private.labelBounds.main || emptyBb;\n  };\n  var getSourceLabelBox = function getSourceLabelBox(ele) {\n    ele.boundingBox();\n    return ele[0]._private.labelBounds.source || emptyBb;\n  };\n  var getTargetLabelBox = function getTargetLabelBox(ele) {\n    ele.boundingBox();\n    return ele[0]._private.labelBounds.target || emptyBb;\n  };\n  var isLabelVisibleAtScale = function isLabelVisibleAtScale(ele, scaledLabelShown) {\n    return scaledLabelShown;\n  };\n  var getElementRotationPoint = function getElementRotationPoint(ele) {\n    return getBoxCenter(getElementBox(ele));\n  };\n  var addTextMargin = function addTextMargin(prefix, pt, ele) {\n    var pre = prefix ? prefix + '-' : '';\n    return {\n      x: pt.x + ele.pstyle(pre + 'text-margin-x').pfValue,\n      y: pt.y + ele.pstyle(pre + 'text-margin-y').pfValue\n    };\n  };\n  var getRsPt = function getRsPt(ele, x, y) {\n    var rs = ele[0]._private.rscratch;\n    return {\n      x: rs[x],\n      y: rs[y]\n    };\n  };\n  var getLabelRotationPoint = function getLabelRotationPoint(ele) {\n    return addTextMargin('', getRsPt(ele, 'labelX', 'labelY'), ele);\n  };\n  var getSourceLabelRotationPoint = function getSourceLabelRotationPoint(ele) {\n    return addTextMargin('source', getRsPt(ele, 'sourceLabelX', 'sourceLabelY'), ele);\n  };\n  var getTargetLabelRotationPoint = function getTargetLabelRotationPoint(ele) {\n    return addTextMargin('target', getRsPt(ele, 'targetLabelX', 'targetLabelY'), ele);\n  };\n  var getElementRotationOffset = function getElementRotationOffset(ele) {\n    return getCenterOffset(getElementBox(ele));\n  };\n  var getSourceLabelRotationOffset = function getSourceLabelRotationOffset(ele) {\n    return getCenterOffset(getSourceLabelBox(ele));\n  };\n  var getTargetLabelRotationOffset = function getTargetLabelRotationOffset(ele) {\n    return getCenterOffset(getTargetLabelBox(ele));\n  };\n  var getLabelRotationOffset = function getLabelRotationOffset(ele) {\n    var bb = getLabelBox(ele);\n    var p = getCenterOffset(getLabelBox(ele));\n    if (ele.isNode()) {\n      switch (ele.pstyle('text-halign').value) {\n        case 'left':\n          p.x = -bb.w;\n          break;\n        case 'right':\n          p.x = 0;\n          break;\n      }\n      switch (ele.pstyle('text-valign').value) {\n        case 'top':\n          p.y = -bb.h;\n          break;\n        case 'bottom':\n          p.y = 0;\n          break;\n      }\n    }\n    return p;\n  };\n  var eleTxrCache = r.data.eleTxrCache = new ElementTextureCache(r, {\n    getKey: getStyleKey,\n    doesEleInvalidateKey: backgroundTimestampHasChanged,\n    drawElement: drawElement,\n    getBoundingBox: getElementBox,\n    getRotationPoint: getElementRotationPoint,\n    getRotationOffset: getElementRotationOffset,\n    allowEdgeTxrCaching: false,\n    allowParentTxrCaching: false\n  });\n  var lblTxrCache = r.data.lblTxrCache = new ElementTextureCache(r, {\n    getKey: getLabelKey,\n    drawElement: drawLabel,\n    getBoundingBox: getLabelBox,\n    getRotationPoint: getLabelRotationPoint,\n    getRotationOffset: getLabelRotationOffset,\n    isVisible: isLabelVisibleAtScale\n  });\n  var slbTxrCache = r.data.slbTxrCache = new ElementTextureCache(r, {\n    getKey: getSourceLabelKey,\n    drawElement: drawSourceLabel,\n    getBoundingBox: getSourceLabelBox,\n    getRotationPoint: getSourceLabelRotationPoint,\n    getRotationOffset: getSourceLabelRotationOffset,\n    isVisible: isLabelVisibleAtScale\n  });\n  var tlbTxrCache = r.data.tlbTxrCache = new ElementTextureCache(r, {\n    getKey: getTargetLabelKey,\n    drawElement: drawTargetLabel,\n    getBoundingBox: getTargetLabelBox,\n    getRotationPoint: getTargetLabelRotationPoint,\n    getRotationOffset: getTargetLabelRotationOffset,\n    isVisible: isLabelVisibleAtScale\n  });\n  var lyrTxrCache = r.data.lyrTxrCache = new LayeredTextureCache(r);\n  r.onUpdateEleCalcs(function invalidateTextureCaches(willDraw, eles) {\n    // each cache should check for sub-key diff to see that the update affects that cache particularly\n    eleTxrCache.invalidateElements(eles);\n    lblTxrCache.invalidateElements(eles);\n    slbTxrCache.invalidateElements(eles);\n    tlbTxrCache.invalidateElements(eles);\n\n    // any change invalidates the layers\n    lyrTxrCache.invalidateElements(eles);\n\n    // update the old bg timestamp so diffs can be done in the ele txr caches\n    for (var _i = 0; _i < eles.length; _i++) {\n      var _p = eles[_i]._private;\n      _p.oldBackgroundTimestamp = _p.backgroundTimestamp;\n    }\n  });\n  var refineInLayers = function refineInLayers(reqs) {\n    for (var i = 0; i < reqs.length; i++) {\n      lyrTxrCache.enqueueElementRefinement(reqs[i].ele);\n    }\n  };\n  eleTxrCache.onDequeue(refineInLayers);\n  lblTxrCache.onDequeue(refineInLayers);\n  slbTxrCache.onDequeue(refineInLayers);\n  tlbTxrCache.onDequeue(refineInLayers);\n}\nCRp.redrawHint = function (group, bool) {\n  var r = this;\n  switch (group) {\n    case 'eles':\n      r.data.canvasNeedsRedraw[CRp.NODE] = bool;\n      break;\n    case 'drag':\n      r.data.canvasNeedsRedraw[CRp.DRAG] = bool;\n      break;\n    case 'select':\n      r.data.canvasNeedsRedraw[CRp.SELECT_BOX] = bool;\n      break;\n  }\n};\n\n// whether to use Path2D caching for drawing\nvar pathsImpld = typeof Path2D !== 'undefined';\nCRp.path2dEnabled = function (on) {\n  if (on === undefined) {\n    return this.pathsEnabled;\n  }\n  this.pathsEnabled = on ? true : false;\n};\nCRp.usePaths = function () {\n  return pathsImpld && this.pathsEnabled;\n};\nCRp.setImgSmoothing = function (context, bool) {\n  if (context.imageSmoothingEnabled != null) {\n    context.imageSmoothingEnabled = bool;\n  } else {\n    context.webkitImageSmoothingEnabled = bool;\n    context.mozImageSmoothingEnabled = bool;\n    context.msImageSmoothingEnabled = bool;\n  }\n};\nCRp.getImgSmoothing = function (context) {\n  if (context.imageSmoothingEnabled != null) {\n    return context.imageSmoothingEnabled;\n  } else {\n    return context.webkitImageSmoothingEnabled || context.mozImageSmoothingEnabled || context.msImageSmoothingEnabled;\n  }\n};\nCRp.makeOffscreenCanvas = function (width, height) {\n  var canvas;\n  if ((typeof OffscreenCanvas === \"undefined\" ? \"undefined\" : _typeof(OffscreenCanvas)) !== (\"undefined\" )) {\n    canvas = new OffscreenCanvas(width, height);\n  } else {\n    canvas = document.createElement('canvas'); // eslint-disable-line no-undef\n    canvas.width = width;\n    canvas.height = height;\n  }\n  return canvas;\n};\n[CRp$a, CRp$9, CRp$8, CRp$7, CRp$6, CRp$5, CRp$4, CRp$3, CRp$2, CRp$1].forEach(function (props) {\n  extend(CRp, props);\n});\n\nvar renderer = [{\n  name: 'null',\n  impl: NullRenderer\n}, {\n  name: 'base',\n  impl: BR\n}, {\n  name: 'canvas',\n  impl: CR\n}];\n\nvar incExts = [{\n  type: 'layout',\n  extensions: layout\n}, {\n  type: 'renderer',\n  extensions: renderer\n}];\n\n// registered extensions to cytoscape, indexed by name\nvar extensions = {};\n\n// registered modules for extensions, indexed by name\nvar modules = {};\nfunction setExtension(type, name, registrant) {\n  var ext = registrant;\n  var overrideErr = function overrideErr(field) {\n    warn('Can not register `' + name + '` for `' + type + '` since `' + field + '` already exists in the prototype and can not be overridden');\n  };\n  if (type === 'core') {\n    if (Core.prototype[name]) {\n      return overrideErr(name);\n    } else {\n      Core.prototype[name] = registrant;\n    }\n  } else if (type === 'collection') {\n    if (Collection.prototype[name]) {\n      return overrideErr(name);\n    } else {\n      Collection.prototype[name] = registrant;\n    }\n  } else if (type === 'layout') {\n    // fill in missing layout functions in the prototype\n\n    var Layout = function Layout(options) {\n      this.options = options;\n      registrant.call(this, options);\n\n      // make sure layout has _private for use w/ std apis like .on()\n      if (!plainObject(this._private)) {\n        this._private = {};\n      }\n      this._private.cy = options.cy;\n      this._private.listeners = [];\n      this.createEmitter();\n    };\n    var layoutProto = Layout.prototype = Object.create(registrant.prototype);\n    var optLayoutFns = [];\n    for (var i = 0; i < optLayoutFns.length; i++) {\n      var fnName = optLayoutFns[i];\n      layoutProto[fnName] = layoutProto[fnName] || function () {\n        return this;\n      };\n    }\n\n    // either .start() or .run() is defined, so autogen the other\n    if (layoutProto.start && !layoutProto.run) {\n      layoutProto.run = function () {\n        this.start();\n        return this;\n      };\n    } else if (!layoutProto.start && layoutProto.run) {\n      layoutProto.start = function () {\n        this.run();\n        return this;\n      };\n    }\n    var regStop = registrant.prototype.stop;\n    layoutProto.stop = function () {\n      var opts = this.options;\n      if (opts && opts.animate) {\n        var anis = this.animations;\n        if (anis) {\n          for (var _i = 0; _i < anis.length; _i++) {\n            anis[_i].stop();\n          }\n        }\n      }\n      if (regStop) {\n        regStop.call(this);\n      } else {\n        this.emit('layoutstop');\n      }\n      return this;\n    };\n    if (!layoutProto.destroy) {\n      layoutProto.destroy = function () {\n        return this;\n      };\n    }\n    layoutProto.cy = function () {\n      return this._private.cy;\n    };\n    var getCy = function getCy(layout) {\n      return layout._private.cy;\n    };\n    var emitterOpts = {\n      addEventFields: function addEventFields(layout, evt) {\n        evt.layout = layout;\n        evt.cy = getCy(layout);\n        evt.target = layout;\n      },\n      bubble: function bubble() {\n        return true;\n      },\n      parent: function parent(layout) {\n        return getCy(layout);\n      }\n    };\n    extend(layoutProto, {\n      createEmitter: function createEmitter() {\n        this._private.emitter = new Emitter(emitterOpts, this);\n        return this;\n      },\n      emitter: function emitter() {\n        return this._private.emitter;\n      },\n      on: function on(evt, cb) {\n        this.emitter().on(evt, cb);\n        return this;\n      },\n      one: function one(evt, cb) {\n        this.emitter().one(evt, cb);\n        return this;\n      },\n      once: function once(evt, cb) {\n        this.emitter().one(evt, cb);\n        return this;\n      },\n      removeListener: function removeListener(evt, cb) {\n        this.emitter().removeListener(evt, cb);\n        return this;\n      },\n      removeAllListeners: function removeAllListeners() {\n        this.emitter().removeAllListeners();\n        return this;\n      },\n      emit: function emit(evt, params) {\n        this.emitter().emit(evt, params);\n        return this;\n      }\n    });\n    define.eventAliasesOn(layoutProto);\n    ext = Layout; // replace with our wrapped layout\n  } else if (type === 'renderer' && name !== 'null' && name !== 'base') {\n    // user registered renderers inherit from base\n\n    var BaseRenderer = getExtension('renderer', 'base');\n    var bProto = BaseRenderer.prototype;\n    var RegistrantRenderer = registrant;\n    var rProto = registrant.prototype;\n    var Renderer = function Renderer() {\n      BaseRenderer.apply(this, arguments);\n      RegistrantRenderer.apply(this, arguments);\n    };\n    var proto = Renderer.prototype;\n    for (var pName in bProto) {\n      var pVal = bProto[pName];\n      var existsInR = rProto[pName] != null;\n      if (existsInR) {\n        return overrideErr(pName);\n      }\n      proto[pName] = pVal; // take impl from base\n    }\n\n    for (var _pName in rProto) {\n      proto[_pName] = rProto[_pName]; // take impl from registrant\n    }\n\n    bProto.clientFunctions.forEach(function (name) {\n      proto[name] = proto[name] || function () {\n        error('Renderer does not implement `renderer.' + name + '()` on its prototype');\n      };\n    });\n    ext = Renderer;\n  } else if (type === '__proto__' || type === 'constructor' || type === 'prototype') {\n    // to avoid potential prototype pollution\n    return error(type + ' is an illegal type to be registered, possibly lead to prototype pollutions');\n  }\n  return setMap({\n    map: extensions,\n    keys: [type, name],\n    value: ext\n  });\n}\nfunction getExtension(type, name) {\n  return getMap({\n    map: extensions,\n    keys: [type, name]\n  });\n}\nfunction setModule(type, name, moduleType, moduleName, registrant) {\n  return setMap({\n    map: modules,\n    keys: [type, name, moduleType, moduleName],\n    value: registrant\n  });\n}\nfunction getModule(type, name, moduleType, moduleName) {\n  return getMap({\n    map: modules,\n    keys: [type, name, moduleType, moduleName]\n  });\n}\nvar extension = function extension() {\n  // e.g. extension('renderer', 'svg')\n  if (arguments.length === 2) {\n    return getExtension.apply(null, arguments);\n  }\n\n  // e.g. extension('renderer', 'svg', { ... })\n  else if (arguments.length === 3) {\n    return setExtension.apply(null, arguments);\n  }\n\n  // e.g. extension('renderer', 'svg', 'nodeShape', 'ellipse')\n  else if (arguments.length === 4) {\n    return getModule.apply(null, arguments);\n  }\n\n  // e.g. extension('renderer', 'svg', 'nodeShape', 'ellipse', { ... })\n  else if (arguments.length === 5) {\n    return setModule.apply(null, arguments);\n  } else {\n    error('Invalid extension access syntax');\n  }\n};\n\n// allows a core instance to access extensions internally\nCore.prototype.extension = extension;\n\n// included extensions\nincExts.forEach(function (group) {\n  group.extensions.forEach(function (ext) {\n    setExtension(group.type, ext.name, ext.impl);\n  });\n});\n\n// a dummy stylesheet object that doesn't need a reference to the core\n// (useful for init)\nvar Stylesheet = function Stylesheet() {\n  if (!(this instanceof Stylesheet)) {\n    return new Stylesheet();\n  }\n  this.length = 0;\n};\nvar sheetfn = Stylesheet.prototype;\nsheetfn.instanceString = function () {\n  return 'stylesheet';\n};\n\n// just store the selector to be parsed later\nsheetfn.selector = function (selector) {\n  var i = this.length++;\n  this[i] = {\n    selector: selector,\n    properties: []\n  };\n  return this; // chaining\n};\n\n// just store the property to be parsed later\nsheetfn.css = function (name, value) {\n  var i = this.length - 1;\n  if (string(name)) {\n    this[i].properties.push({\n      name: name,\n      value: value\n    });\n  } else if (plainObject(name)) {\n    var map = name;\n    var propNames = Object.keys(map);\n    for (var j = 0; j < propNames.length; j++) {\n      var key = propNames[j];\n      var mapVal = map[key];\n      if (mapVal == null) {\n        continue;\n      }\n      var prop = Style.properties[key] || Style.properties[dash2camel(key)];\n      if (prop == null) {\n        continue;\n      }\n      var _name = prop.name;\n      var _value = mapVal;\n      this[i].properties.push({\n        name: _name,\n        value: _value\n      });\n    }\n  }\n  return this; // chaining\n};\n\nsheetfn.style = sheetfn.css;\n\n// generate a real style object from the dummy stylesheet\nsheetfn.generateStyle = function (cy) {\n  var style = new Style(cy);\n  return this.appendToStyle(style);\n};\n\n// append a dummy stylesheet object on a real style object\nsheetfn.appendToStyle = function (style) {\n  for (var i = 0; i < this.length; i++) {\n    var context = this[i];\n    var selector = context.selector;\n    var props = context.properties;\n    style.selector(selector); // apply selector\n\n    for (var j = 0; j < props.length; j++) {\n      var prop = props[j];\n      style.css(prop.name, prop.value); // apply property\n    }\n  }\n\n  return style;\n};\n\nvar version = \"snapshot\";\n\nvar cytoscape = function cytoscape(options) {\n  // if no options specified, use default\n  if (options === undefined) {\n    options = {};\n  }\n\n  // create instance\n  if (plainObject(options)) {\n    return new Core(options);\n  }\n\n  // allow for registration of extensions\n  else if (string(options)) {\n    return extension.apply(extension, arguments);\n  }\n};\n\n// e.g. cytoscape.use( require('cytoscape-foo'), bar )\ncytoscape.use = function (ext) {\n  var args = Array.prototype.slice.call(arguments, 1); // args to pass to ext\n\n  args.unshift(cytoscape); // cytoscape is first arg to ext\n\n  ext.apply(null, args);\n  return this;\n};\ncytoscape.warnings = function (bool) {\n  return warnings(bool);\n};\n\n// replaced by build system\ncytoscape.version = version;\n\n// expose public apis (mostly for extensions)\ncytoscape.stylesheet = cytoscape.Stylesheet = Stylesheet;\n\nexport { cytoscape as default };\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\n\nexport const gene: DrawerProvider = (properties, {\n  width,\n  height,\n  drug,\n  interactor,\n  disease,\n  lossOfFunction\n}) => {\n  const t = extract(properties.global.thickness);\n  const dHeight = extract(properties.gene.decorationHeight);\n  const dWidth = extract(properties.gene.decorationExtraWidth);\n  const headSize = extract(properties.gene.arrowHeadSize);\n  const radius = extract(properties.gene.arrowRadius);\n  const fill = extract(properties.gene.fill);\n  const stroke = interactor ? extract(properties.interactor.fill) : disease ? extract(properties.global.negativeContrast) : null;\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n  const hh = Math.sqrt(Math.pow(headSize, 2) * 3 / 4)\n\n  const halfWidth = width / 2;\n\n  const r = extract(properties.gene.borderRadius);\n  const oR = r + t;\n  const iR = r - t;\n  const t_2 = t / 2;\n  const t2 = t * 2;\n  return {\n    background: {\n      \"background-image\": `\n          <path fill=\"${fill}\" class=\"gradient\" stroke-linecap=\"round\" transform=\"translate(${t_2} ${t_2})\"\n      ${stroke ? `stroke=\"${stroke}\" stroke-width=\"${t}\"` : ''}\n      ${lossOfFunction ? `stroke-dasharray=\"${t} ${t2}\"` : ''}  d=\"\n            M ${0} ${dHeight}\n            H ${width}\n            v ${height - dHeight - radius}\n            a ${radius} ${radius} 0 0 1 -${radius} ${radius}\n            H ${radius}\n            a ${radius} ${radius} 0 0 1 -${radius} -${radius}\n            Z\n          \"/>`,\n      \"bounds-expansion\": t_2,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-position-x\": -t / 2,\n      \"background-position-y\": -t / 2,\n      \"background-width\": width + t,\n      \"background-height\": height + t,\n      requireGradient: true\n    },\n    decorators: [\n      {\n        \"background-image\": `\n          <path fill=\"none\" stroke=\"${fill}\" stroke-width=\"${t}\"  d=\"\n            M ${halfWidth} ${dHeight + 2 * t}\n            v -${dHeight - radius - (headSize + t) / 2 + 2 * t}\n            a ${radius} ${radius} 0 0 1 ${radius} -${radius}\n            h ${halfWidth - t - radius + dWidth}\n          \"/>\n            <path fill=\"${fill}\" stroke=\"${fill}\" stroke-width=\"${t}\" stroke-linejoin=\"round\"  d=\"\n            M ${width - hh - t_2 + dWidth} ${headSize / 2 + t_2}\n            v -${headSize / 2}\n            l ${hh} ${headSize / 2}\n            l -${hh} ${headSize / 2}\n            v -${headSize / 2}\n            z\n          \"/>`,\n        \"background-position-y\": -t / 2,\n        \"bounds-expansion\": dHeight,\n        \"background-height\": dHeight + 1.5 * t,\n        \"background-width\": width + dWidth,\n        \"background-clip\": \"none\",\n        \"background-image-containment\": \"over\",\n      }\n    ],\n    hover: {\n      \"background-image\": `<rect x=\"0\" y=\"0\" width=\"${width}\" height=\"${2 * t}\" fill=\"${hover}\"/>`,\n      \"background-position-y\": dHeight - t,\n      \"bounds-expansion\": t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": 2 * t,\n    },\n    select: {\n      \"background-image\": `\n          <path fill=\"${select}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 0\n            a ${oR} ${oR} 0 0 0 ${oR} ${oR}\n            h ${width - 2 * oR}\n            a ${oR} ${oR} 0 0 0 ${oR} -${oR}\n            a ${oR} ${iR} 0 0 1 -${oR} ${iR}\n            h -${width - 2 * oR}\n            a ${oR} ${iR} 0 0 1 -${oR} -${iR}\n            Z\"/>\n`,\n      \"background-position-y\": height - r,\n      \"bounds-expansion\": t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n    },\n    flag: {\n      \"background-image\": `\n       <path fill=\"${flag}\" d=\"\n       M 0 0\n       H ${width + 4 * t}\n       V ${height - dHeight - r + t}\n       a ${oR + t} ${oR} 0 0 1 -${oR + t} ${oR}\n       H ${oR + t}\n       a ${oR + t} ${oR} 0 0 1 -${oR + t} -${oR}\n       Z\n       \"/>\n`,\n      \"background-position-x\": -2 * t,\n      \"background-position-y\": dHeight - t,\n      \"bounds-expansion\": 2 * t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width + 4 * t,\n      \"background-height\": height + 2 * t - dHeight,\n    },\n    // analysis: {\n    //   \"background-image\": `${gradient}\n    //       <path fill=\"url(#gradient)\" transform=\"translate(${t_2} ${t_2})\"\n    //       d=\"\n    //         M ${0} ${dHeight}\n    //         H ${width}\n    //         v ${height - dHeight - radius}\n    //         a ${radius} ${radius} 0 0 1 -${radius} ${radius}\n    //         H ${radius}\n    //         a ${radius} ${radius} 0 0 1 -${radius} -${radius}\n    //         Z\n    //       \"/>`,\n    //   \"bounds-expansion\": t_2,\n    //   \"background-clip\": \"none\",\n    //   \"background-image-containment\": \"over\",\n    //   \"background-position-x\": -t / 2,\n    //   \"background-position-y\": -t / 2,\n    //   \"background-width\": width + t,\n    //   \"background-height\": height + t,\n    // }\n  }\n}\n\n\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\nexport const molecule: DrawerProvider = (properties, {width, height, drug, interactor}) => {\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n  const thick = extract(properties.global.thickness);\n  const stroke = !interactor ? (\n    !drug ?\n      extract(properties.molecule.stroke) :\n      extract(properties.molecule.drug)\n  ) : extract(properties.interactor.fill);\n  const fill = extract(properties.molecule.fill);\n\n  const ht = thick / 2;\n  const halfHeight = height / 2;\n  const oR = halfHeight + thick;\n  const iR = halfHeight - thick;\n  const oRx = Math.min(oR, width / 2)\n  return {\n    hover: {\n      \"background-image\": `\n          <path fill=\"${hover}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 ${oR}\n            a ${oRx} ${oR} 0 0 1 ${oRx} -${oR}\n            h ${width - 2 * oRx + thick}\n            a ${oRx} ${oR} 0 0 1 ${oRx} ${oR}\n            a ${oRx} ${iR} 0 0 0 -${oRx} -${iR}\n            h -${width - 2 * oRx + thick}\n            a ${oRx} ${iR} 0 0 0 -${oRx} ${iR}\n            Z\"/>\n`,\n      \"background-position-y\": -thick,\n      \"background-position-x\": -thick / 2,\n      \"bounds-expansion\": thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n      \"background-width\": width + thick,\n    },\n    select: {\n      \"background-image\": `\n          <path fill=\"${select}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 0\n            a ${oRx} ${oR} 0 0 0 ${oRx} ${oR}\n            h ${width - 2 * oRx + thick}\n            a ${oRx} ${oR} 0 0 0 ${oRx} -${oR}\n            a ${oRx} ${iR} 0 0 1 -${oRx} ${iR}\n            h -${width - 2 * oRx + thick}\n            a ${oRx} ${iR} 0 0 1 -${oRx} -${iR}\n            Z\"/>\n`,\n      \"background-position-y\": halfHeight,\n      \"background-position-x\": -thick / 2,\n      \"bounds-expansion\": thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n      \"background-width\": width + thick,\n    },\n    flag: {\n      \"background-image\": `\n<rect width=\"${width + 4 * thick}\" height=\"${height + 2 * thick}\" rx=\"${oR + 2 * thick}\" ry=\"${oR}\" fill=\"${flag}\"/>\n<rect x=\"${2 * thick}\" y=\"${thick}\" width=\"${width}\" height=\"${height}\" rx=\"${oR}\" fill=\"${fill}\" stroke=\"${stroke}\" stroke-width=\"${thick}\"/>\n`,\n      \"background-position-x\": -2 * thick,\n      \"background-position-y\": -thick,\n      \"bounds-expansion\": 2 * thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width + 4 * thick,\n      \"background-height\": height + 2 * thick,\n    },\n    analysis: {\n      \"background-image\": `<rect class=\"gradient\" width=\"${width}\" height=\"${height}\" rx=\"${halfHeight}\" stroke-width=\"${thick}\" stroke=\"${stroke}\"/>`,\n      requireGradient: true\n    }\n  }\n}\n\n\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\nexport const protein: DrawerProvider = (properties, {width, height, drug}) => {\n  const fill = extract(properties.protein.fill);\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n  const thick = extract(properties.global.thickness);\n  const radius = extract(properties.protein.radius);\n\n  const oR = radius + thick;\n  const iR = radius - thick;\n\n  return {\n    hover: {\n      \"background-image\": `\n          <path fill=\"${hover}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 ${oR}\n            a ${oR} ${oR} 0 0 1 ${oR} -${oR}\n            h ${width - 2 * oR}\n            a ${oR} ${oR} 0 0 1 ${oR} ${oR}\n            a ${oR} ${iR} 0 0 0 -${oR} -${iR}\n            h -${width - 2 * oR}\n            a ${oR} ${iR} 0 0 0 -${oR} ${iR}\n            Z\"/>\n`,\n      \"background-position-y\": -thick,\n      \"bounds-expansion\": thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n    },\n    select: {\n      \"background-image\": `\n          <path fill=\"${select}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 0\n            a ${oR} ${oR} 0 0 0 ${oR} ${oR}\n            h ${width - 2 * oR}\n            a ${oR} ${oR} 0 0 0 ${oR} -${oR}\n            a ${oR} ${iR} 0 0 1 -${oR} ${iR}\n            h -${width - 2 * oR}\n            a ${oR} ${iR} 0 0 1 -${oR} -${iR}\n            Z\"/>\n`,\n      \"background-position-y\": height - radius,\n      \"bounds-expansion\": thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n    },\n    flag: {\n      \"background-image\": `\n<rect width=\"${width + 4 * thick}\" height=\"${height + 2 * thick}\" rx=\"${oR }\"  fill=\"${flag}\"/>\n<rect x=\"${2*thick}\" y=\"${thick}\" width=\"${width}\" height=\"${height}\" rx=\"${radius}\" fill=\"${fill}\"/>\n`,\n      \"background-position-x\": -2 * thick,\n      \"background-position-y\": -thick,\n      \"bounds-expansion\": 2 * thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width + 4 * thick,\n      \"background-height\": height + 2 * thick,\n    },\n    analysis: {\n      \"background-image\": `<rect width=\"${width}\" height=\"${height}\" class=\"gradient\" rx=\"${radius}\"/>`,\n      requireGradient: true\n    }\n  }\n}\n\n\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\n\nexport const rna: DrawerProvider = (properties, {width, height}) => {\n  const thick = extract(properties.global.thickness);\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n  const fill = extract(properties.rna.fill);\n\n  const r = extract(properties.rna.radius);\n  const oR = r + thick;\n  const iR = r - thick;\n  return {\n    hover: {\n      \"background-image\": `<rect x=\"0\" y=\"0\" width=\"${width}\" height=\"${2 * thick}\" fill=\"${hover}\"/>`,\n      \"background-position-y\": -thick,\n      \"bounds-expansion\": thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": 2 * thick,\n    },\n    select: {\n      \"background-image\": `\n          <path fill=\"${select}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 0\n            a ${oR} ${oR} 0 0 0 ${oR} ${oR}\n            h ${width - 2 * oR}\n            a ${oR} ${oR} 0 0 0 ${oR} -${oR}\n            a ${oR} ${iR} 0 0 1 -${oR} ${iR}\n            h -${width - 2 * oR}\n            a ${oR} ${iR} 0 0 1 -${oR} -${iR}\n            Z\"/>\n`,\n      \"background-position-y\": height - r,\n      \"bounds-expansion\": thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n    },\n    flag: {\n      \"background-image\": `\n       <path fill=\"${flag}\" d=\"\n       M 0 0\n       H ${width + 4 * thick}\n       V ${height - r + thick}\n       a ${oR + thick} ${oR} 0 0 1 -${oR + thick} ${oR}\n       H ${oR + thick}\n       a ${oR + thick} ${oR} 0 0 1 -${oR + thick} -${oR}\n       Z\n       \"/>\n       <path fill=\"${fill}\" d=\"\n       M ${2 * thick} ${thick}\n       H ${width + 2 * thick}\n       V ${height - r + thick}\n       a ${r} ${r} 0 0 1 -${r} ${r}\n       H ${r + 2 * thick}\n       a ${r} ${r} 0 0 1 -${r} -${r}\n       Z\"/>\n`,\n      \"background-position-x\": -2 * thick,\n      \"background-position-y\": -thick,\n      \"bounds-expansion\": 2 * thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width + 4 * thick,\n      \"background-height\": height + 2 * thick,\n    },\n    analysis: {\n      \"background-image\": `\n       <path class=\"gradient\" d=\"\n       M 0 0\n       H ${width}\n       V ${height - r }\n       a ${r} ${r} 0 0 1 -${r} ${r}\n       H ${r}\n       a ${r} ${r} 0 0 1 -${r} -${r}\n       Z\"/>`,\n      requireGradient: true\n    }\n  }\n}\n\n\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\nexport const genomeEncodedEntity: DrawerProvider = (properties, {\n  width,\n  height,\n  drug,\n  disease,\n  interactor,\n  lossOfFunction\n}) => {\n  const fill = !drug ?\n    extract(properties.complex.fill) :\n    extract(properties.genomeEncodedEntity.drug);\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n  const t = extract(properties.global.thickness);\n  const t_2 = t / 2;\n  const bottomR = extract(properties.genomeEncodedEntity.bottomRadius);\n  const stroke = !interactor ? !disease ? null : extract(properties.global.negativeContrast) : extract(properties.interactor.fill);\n\n  const topR = Math.min(extract(properties.genomeEncodedEntity.topRadius), height - bottomR, width / 2 - t);\n  const v = height - bottomR - topR;\n\n  const topOR = topR + t;\n  const topIR = topR - t;\n\n  const bottomOR = bottomR + t;\n  const bottomIR = bottomR - t;\n\n\n  return {\n    background: {\n      \"background-image\": `\n      <path fill=\"${fill}\" class=\"gradient\" stroke-linecap=\"round\" transform=\"translate(${t_2} ${t_2})\"\n      ${stroke ? `stroke=\"${stroke}\" stroke-width=\"${t}\"` : ''}\n      ${lossOfFunction ? `stroke-dasharray=\"${t} ${t * 2}\"` : ''}\n      d=\"\n      M ${topR} 0\n      H ${width - topR}\n      a ${topR} ${topR} 0 0 1 ${topR} ${topR}\n      v ${v}\n      a ${bottomR} ${bottomR} 0 0 1 -${bottomR} ${bottomR}\n      H ${bottomR}\n      a ${bottomR} ${bottomR} 0 0 1 -${bottomR} -${bottomR}\n      v -${v}\n      a ${topR} ${topR} 0 0 1 ${topR} -${topR}\n      Z\n      \"/>\n      `,\n      \"bounds-expansion\": t / 2,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-position-x\": -t_2,\n      \"background-position-y\": -t_2,\n      \"background-width\": width + t,\n      \"background-height\": height + t,\n    requireGradient: true\n    },\n    hover: {\n      \"background-image\": `\n          <path fill=\"${hover}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 ${topOR}\n            a ${topOR} ${topOR} 0 0 1 ${topOR} -${topOR}\n            h ${width - 2 * topOR}\n            a ${topOR} ${topOR} 0 0 1 ${topOR} ${topOR}\n            a ${topOR} ${topIR} 0 0 0 -${topOR} -${topIR}\n            h -${width - 2 * topOR}\n            a ${topOR} ${topIR} 0 0 0 -${topOR} ${topIR}\n            Z\"/>\n`,\n      \"background-position-y\": -t,\n      \"bounds-expansion\": t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": topOR,\n    },\n    select: {\n      \"background-image\": `\n          <path fill=\"${select}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 0\n            a ${bottomOR} ${bottomOR} 0 0 0 ${bottomOR} ${bottomOR}\n            h ${width - 2 * bottomOR}\n            a ${bottomOR} ${bottomOR} 0 0 0 ${bottomOR} -${bottomOR}\n            a ${bottomOR} ${bottomIR} 0 0 1 -${bottomOR} ${bottomIR}\n            h -${width - 2 * bottomOR}\n            a ${bottomOR} ${bottomIR} 0 0 1 -${bottomOR} -${bottomIR}\n            Z\"/>\n`,\n      \"background-position-y\": height - bottomR,\n      \"bounds-expansion\": t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": bottomOR,\n    },\n    flag: {\n      \"background-image\": `\n      <path fill=\"${flag}\" d=\"\n      M ${topOR} 0\n      H ${width + 3 * t - topOR}\n      a ${topOR + t} ${topOR} 0 0 1 ${topOR + t} ${topOR}\n      v ${v}\n      a ${bottomOR + t} ${bottomOR} 0 0 1 -${bottomOR + t} ${bottomOR}\n      H ${bottomOR + t}\n      a ${bottomOR + t} ${bottomOR} 0 0 1 -${bottomOR + t} -${bottomOR}\n      v -${v}\n      a ${topOR + t} ${topOR} 0 0 1 ${topOR + t} -${topOR}\n      Z\n      \"/>\n`,\n      \"background-position-x\": -2 * t,\n      \"background-position-y\": -t,\n      \"bounds-expansion\": 2 * t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width + 4 * t,\n      \"background-height\": height + 2 * t,\n    }\n  }\n}\n\n\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\n\nexport const complex: DrawerProvider = (properties, {\n  width,\n  height,\n  drug,\n  disease,\n  interactor,\n  lossOfFunction\n}) => {\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n\n  const t = extract(properties.global.thickness);\n  const cut = extract(properties.complex.cut);\n  const fill = !drug ?\n    interactor ? extract(properties.interactor.fill) : extract(properties.complex.fill) :\n    extract(properties.complex.drug);\n\n  const stroke = !disease ? extract(properties.complex.stroke) : extract(properties.global.negativeContrast);\n\n  const cut2 = cut * 2;\n  const t2 = t * 2;\n  const v = height - cut2 - 2 * t2; // Vertical\n\n  const delta = 0;\n  const stateHeight = height / 2 + t;\n\n  const defs = `<defs>\n  <path id=\"octogon\" d=\"\n      M ${cut + t2 + delta} ${t2}\n      H ${width - cut - t2 - delta}\n      l ${cut} ${cut}\n      v ${v}\n      l -${cut} ${cut}\n      H ${cut + t2 + delta}\n      l -${cut} -${cut}\n      v -${v}\n      l  ${cut} -${cut}\n      Z\n      \"/>\n  </defs>`;\n  return {\n    background: {\n      \"background-image\": `\n      ${defs}\n      <use href=\"#octogon\" fill=\"${fill}\" stroke=\"${fill}\" stroke-width=\"${2 * t2}\" stroke-linejoin=\"round\"/>\n`\n    },\n    hover: {\n      \"background-image\": `\n      <path stroke=\"${hover}\" fill=\"none\" stroke-width=\"${2 * t2}\" stroke-linejoin=\"round\" d=\"\n      M ${t2} ${stateHeight}\n      v -${v / 2}\n      l ${cut} -${cut + t}\n      H ${width - cut - t2}\n      l ${cut} ${cut + t}\n      v ${v / 2}\n      \" />\n      `,\n      \"background-position-y\": -t,\n      \"background-height\": stateHeight,\n      \"background-clip\": \"none\",\n      \"bounds-expansion\": t\n    },\n    select: {\n      \"background-image\": `\n      <path stroke=\"${select}\" fill=\"none\" stroke-width=\"${2 * t2}\" stroke-linejoin=\"round\" d=\"\n      M ${t2} ${0}\n      v ${v / 2}\n      l ${cut} ${cut + t}\n      H ${width - cut - t2}\n      l ${cut} -${cut + t}\n      v -${v / 2}\n      \" />\n      `,\n      \"background-position-y\": height / 2,\n      \"background-height\": stateHeight,\n      \"background-clip\": \"none\",\n      \"bounds-expansion\": t\n    },\n    flag: {\n      \"background-image\": `\n<path id=\"octogon\" d=\"\n      M ${width / 2} ${3 * t}\n      H ${width - cut - delta}\n      l ${cut + t} ${cut}\n      v ${v}\n      l -${cut + t} ${cut}\n      H ${cut + delta + 2 * t2}\n      l -${cut + t} -${cut}\n      v -${v}\n      l  ${cut + t} -${cut}\n      Z\n      \" stroke=\"${flag}\" stroke-width=\"${3 * t2}\" stroke-linejoin=\"round\"/>\n`,\n      \"background-position-x\": -2 * t,\n      \"background-position-y\": -t,\n      \"bounds-expansion\": 2 * t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width + 4 * t,\n      \"background-height\": height + 2 * t,\n    },\n    decorators: [\n      {\n        \"background-image\": `\n         ${defs}\n         <use href=\"#octogon\" fill=\"none\" stroke=\"${stroke}\" stroke-width=\"${t2}\" stroke-linejoin=\"round\" ${lossOfFunction ? `stroke-dasharray=\"${t2}\"` : ''} />\n         <use href=\"#octogon\" fill=\"${fill}\" class=\"gradient\"/>\n         `,\n        requireGradient: true\n      }\n    ],\n  }\n}\n\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\n\nexport const entitySet: DrawerProvider = (properties, {\n  width,\n  height,\n  drug,\n  disease,\n  lossOfFunction,\n  interactor\n}) => {\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n\n  const t = extract(properties.global.thickness);\n  let r = extract(properties.entitySet.radius);\n\n  if (2 * r > height / 2 - t) {\n\n    r = height / 4 - (t / 2);\n  }\n\n  width += 2 * r;\n\n  const fill =\n    !interactor ?\n      !drug ?\n        extract(properties.entitySet.fill) :\n        extract(properties.entitySet.drug)\n      : extract(properties.interactor.fill);\n  const stroke = !disease ?\n    extract(properties.entitySet.stroke) :\n    extract(properties.global.negativeContrast);\n\n  const r2 = r * 2;\n  const t2 = t * 2;\n  const v = height / 2 - r2 - t; // Vertical\n  const stateHeight = height / 2 + t;\n  const bracesOffset = r2 + t2;\n\n  let realDashLength = width;\n\n  if (lossOfFunction) {\n    const hidingLength = width - 2 * bracesOffset;\n    const idealDashLength = t2;\n    const dashNumber = Math.round((hidingLength / idealDashLength + 1) / 2);\n    realDashLength = hidingLength / (2 * dashNumber - 1);\n  }\n\n\n  const defs = `<defs>\n   <path id=\"curly\" d=\"\n       M ${r2 + t} ${t}\n       H ${width - r2 - t}\n       a ${r} ${r} 0 0 1 ${r} ${r}\n\n       v ${v}\n       a ${r} ${r} 0 0 0 ${r} ${r}\n       a ${r} ${r} 0 0 0 -${r} ${r}\n       v ${v}\n\n       a ${r} ${r} 0 0 1 -${r} ${r}\n       H ${r2 + t}\n       a ${r} ${r} 0 0 1 -${r} -${r}\n\n       v -${v}\n       a ${r} ${r} 0 0 0 -${r} -${r}\n       a ${r} ${r} 0 0 0 ${r} -${r}\n       v -${v}\n\n       a ${r} ${r} 0 0 1 ${r} -${r}\n       Z\n       \"/>\n   <clipPath id=\"inside\">\n     <use href=\"#curly\"/>\n   </clipPath>\n </defs>`;\n\n  const t1_5 = t * 1.5;\n  return {\n    background: {\n      \"background-image\": `\n       ${defs}\n       <use href=\"#curly\" fill=\"${fill}\" stroke=\"${fill}\" stroke-width=\"${t2}\" stroke-linejoin=\"round\"/>\n       <rect x=\"${r * 1.5}\" y=\"${t}\" width=\"${width - 2 * r * 1.5}\" rx=\"${r}\" height=\"${height - t2}\" class=\"gradient\"/>\n       `,\n      \"background-position-x\": -r,\n      \"background-width\": width + 2 * r,\n      \"background-clip\": \"none\",\n      \"bounds-expansion\": 2 * t,\n      requireGradient: true\n    },\n    hover: {\n      \"background-image\": `\n       <path stroke=\"${hover}\" stroke-width=\"${t2}\" fill=\"none\" stroke-linejoin=\"round\" d=\"\n         M ${r + t} ${stateHeight + r}\n         a ${r} ${r} 0 0 0 -${r} -${r}\n         a ${r} ${r} 0 0 0 ${r} -${r}\n         v -${v}\n         a ${r} ${r + t} 0 0 1 ${r} -${r + t}\n         H ${width - r2 - t}\n         a ${r} ${r + t} 0 0 1 ${r} ${r + t}\n         v ${v}\n         a ${r} ${r} 0 0 0 ${r} ${r}\n         a ${r} ${r} 0 0 0 -${r} ${r}\n       \"/>`,\n      \"background-position-x\": -r,\n      \"background-width\": width + 2 * r,\n\n      \"background-clip\": \"none\",\n      \"bounds-expansion\": 2 * t,\n\n      \"background-position-y\": -t,\n      \"background-height\": stateHeight\n    },\n    select: {\n      \"background-image\": `\n       <path stroke=\"${select}\" stroke-width=\"${t2}\" fill=\"none\" stroke-linejoin=\"round\" d=\"\n         M ${r + t} ${-r}\n         a ${r} ${r} 0 0 1 -${r} ${r}\n         a ${r} ${r} 0 0 1 ${r} ${r}\n         v ${v}\n         a ${r} ${r + t} 0 0 0 ${r} ${r + t}\n         H ${width - r2 - t}\n         a ${r} ${r + t} 0 0 0 ${r} -${r + t}\n         v -${v}\n         a ${r} ${r} 0 0 1 ${r} -${r}\n         a ${r} ${r} 0 0 1 -${r} -${r}\n       \"/>`,\n      \"background-position-x\": -r,\n      \"background-width\": width + 2 * r,\n\n      \"background-clip\": \"none\",\n      \"bounds-expansion\": 2 * t,\n\n      \"background-position-y\": height / 2,\n      \"background-height\": stateHeight\n    },\n    flag: {\n      \"background-image\": `\n<rect width=\"${width}\" height=\"${height + 2 * t}\" rx=\"${r + 3 * t}\" ry=\"${r + t2}\" fill=\"${flag}\"/>\n`,\n      \"background-position-x\": -2 * t,\n      \"background-position-y\": -t,\n      \"bounds-expansion\": 2 * t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width,\n      \"background-height\": height + 2 * t,\n    },\n    decorators: [\n      {\n        \"background-image\": `\n       ${defs}\n       <mask id=\"myMask\">\n         <rect fill=\"white\" x=\"0\" y=\"0\" width=\"${width}\" height=\"${height}\"/>\n         <rect fill=\"black\" x=\"${bracesOffset}\" y=\"${0}\" width=\"${width - 2 * bracesOffset}\" height=\"${height}\"/>\n       </mask>\n       <use href=\"#curly\" fill=\"none\" stroke=\"${stroke}\" stroke-width=\"${t2}\" clip-path=\"url(#inside)\" mask=\"url(#myMask)\"/>\n`,\n        \"background-position-x\": -r,\n        \"bounds-expansion\": r,\n        \"background-clip\": \"none\",\n        \"background-width\": width + 2 * r,\n      },\n    ],\n    // analysis: {\n    //   'background-image': `${defs}${gradient}\n    //   <use href=\"#curly\" fill=\"url(#gradient)\" clip-path=\"url(#inside)\"/>\n    //   <mask id=\"myMask\">\n    //      <rect fill=\"white\" x=\"0\" y=\"0\" width=\"${width}\" height=\"${height}\"/>\n    //      <rect fill=\"black\" x=\"${bracesOffset}\" y=\"${0}\" width=\"${width - 2 * bracesOffset}\" height=\"${height}\"/>\n    //    </mask>\n    //    <use href=\"#curly\" fill=\"none\" stroke=\"${stroke}\" stroke-width=\"${t2}\" clip-path=\"url(#inside)\" mask=\"url(#myMask)\"/>`,\n    //   \"background-position-x\": -r,\n    //   \"bounds-expansion\": r,\n    //   \"background-clip\": \"none\",\n    //   \"background-width\": width + 2 * r,\n    // }\n  }\n}\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\nexport const cell: DrawerProvider = (properties, {width, height}) => {\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n  const thick = extract(properties.global.thickness);\n  const cellThick = extract(properties.cell.thickness);\n  const stroke = extract(properties.cell.stroke)\n  const fill = extract(properties.cell.fill);\n\n  const ht = thick / 2;\n  const halfHeight = height / 2;\n  const oR = halfHeight + thick;\n  const iR = halfHeight - thick;\n  const oRx = Math.min(oR, width / 2)\n  return {\n    background: {\n      \"background-image\": `\n      <rect x=\"${ht}\" y=\"${ht}\" width=\"${width - thick}\" height=\"${height - thick}\" rx=\"${halfHeight}\" stroke=\"${fill}\" fill=\"${stroke}\" stroke-width=\"${thick}\"/>\n      <rect x=\"${ht + cellThick}\" y=\"${2 * thick}\" width=\"${width - 2 * cellThick - thick}\" height=\"${height - 4 * thick}\" ry=\"${halfHeight}\" rx=\"${halfHeight - cellThick}\" fill=\"${fill}\" class=\"gradient\" stroke-width=\"0\"/>\n      `,\n      requireGradient: true\n    },\n    hover: {\n      \"background-image\": `\n          <path fill=\"${hover}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 ${oR}\n            a ${oRx} ${oR} 0 0 1 ${oRx} -${oR}\n            h ${width - 2 * oRx}\n            a ${oRx} ${oR} 0 0 1 ${oRx} ${oR}\n            a ${oRx} ${iR} 0 0 0 -${oRx} -${iR}\n            h -${width - 2 * oRx}\n            a ${oRx} ${iR} 0 0 0 -${oRx} ${iR}\n            Z\"/>\n`,\n      \"background-position-y\": -thick,\n      \"bounds-expansion\": thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n    },\n    select: {\n      \"background-image\": `\n          <path fill=\"${select}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 0\n            a ${oRx} ${oR} 0 0 0 ${oRx} ${oR}\n            h ${width - 2 * oRx}\n            a ${oRx} ${oR} 0 0 0 ${oRx} -${oR}\n            a ${oRx} ${iR} 0 0 1 -${oRx} ${iR}\n            h -${width - 2 * oRx}\n            a ${oRx} ${iR} 0 0 1 -${oRx} -${iR}\n            Z\"/>\n`,\n      \"background-position-y\": halfHeight,\n      \"bounds-expansion\": thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n    },\n    flag: {\n      \"background-image\": `\n<rect width=\"${width + 4 * thick}\" height=\"${height + 2 * thick}\" rx=\"${oR + 2 * thick}\" ry=\"${oR}\" fill=\"${flag}\"/>\n`,\n      \"background-position-x\": -2 * thick,\n      \"background-position-y\": -thick,\n      \"bounds-expansion\": 2 * thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width + 4 * thick,\n      \"background-height\": height + 2 * thick,\n    },\n    // analysis: {\n    //   'background-image': `${gradient}<rect x=\"${ht + cellThick}\" y=\"${2 * thick}\" width=\"${width - 2 * cellThick - thick}\" height=\"${height - 4 * thick}\" ry=\"${halfHeight}\" rx=\"${halfHeight - cellThick}\" fill=\"url(#gradient)\" stroke-width=\"0\"/>`\n    // }\n  }\n}\n\n\n","import {DrawerProvider} from \"../types\";\nimport {extract} from \"../../properties-utils\";\n\n\nexport const interactingPathway: DrawerProvider = (properties, {width, height, drug}) => {\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n  const thick = extract(properties.global.thickness);\n\n  let realWidth = width;\n  const t = 3 * thick;\n  return {\n    hover: {\n      \"background-image\": `<rect fill=\"${hover}\" width=\"${width}\" height=\"${t}\"/>`,\n      \"background-width\": width,\n      \"background-height\": t,\n    },\n    select: {\n      \"background-image\": `<rect fill=\"${select}\" width=\"${width}\" height=\"${t}\"/>`,\n      \"background-position-y\": height - t,\n      \"background-width\": width,\n      \"background-height\": t,\n    },\n    flag: {\n      \"background-image\": `\n<rect fill=\"${flag}\" width=\"${t}\" height=\"${height}\"/>\n<rect fill=\"${flag}\" width=\"${t}\" height=\"${height}\" x=\"${realWidth + t}\"/>\n`,\n      \"background-width\": realWidth + 4 * t,\n      \"background-position-x\": -t,\n      \"background-height\": height,\n      \"bounds-expansion\": 2 * t,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n    },\n    analysis: {\n      \"background-image\": `<rect class=\"gradient\" x=\"${t}\" y=\"${t}\" width=\"${width - 2 * t}\" height=\"${height - 2 * t}\"/>`,\n      requireGradient: true\n    }\n  }\n}\n\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\nexport const diseaseInteractor: DrawerProvider = (properties, {width, height, drug, disease, interactor}) => {\n\n  const hover = extract(properties.global.hoverNode);\n  const select = extract(properties.global.selectNode);\n  const fill = extract(properties.global.negative);\n  const t = extract(properties.global.thickness);\n  const decorationWidth = extract(properties.interactor.decorationWidth);\n  const t4 = t * 4\n  const t2 = t * 2;\n  const h = height / 2 + t2;\n  const midH = height / 2;\n\n  return {\n    decorators: [\n      {\n        \"background-image\": `\n      <path fill=\"${fill}\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"${t4}\" stroke=\"${fill}\"  d=\"\n      M ${t2} ${midH}\n      L ${decorationWidth + t2} ${t2}\n      H ${width - (decorationWidth + t2)}\n      L ${width - t2} ${midH}\n      L ${width - (decorationWidth + t2)} ${height - t2}\n      H ${decorationWidth + t2}\n      Z\n      \" />\n      `,\n      }\n    ],\n\n    hover: {\n      \"background-image\": `\n      <path stroke=\"${hover}\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"${t4}\" d=\"\n      M ${t2} ${midH + t2}\n      L ${decorationWidth + t2} ${t2}\n      H ${width - (decorationWidth + t2)}\n      L ${width - t2} ${midH + t2}\n      Z\n      \" />\n      `,\n      \"background-position-y\": -t2,\n      \"background-height\": h,\n      \"background-clip\": \"none\",\n      \"bounds-expansion\": t2,\n      \"background-image-containment\": \"over\",\n    },\n\n    select: {\n      \"background-image\": `\n      <path stroke=\"${select}\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"${t4}\" d=\"\n      M ${t2} 0\n      L ${decorationWidth + t2} ${midH}\n      H ${width - (decorationWidth + t2)}\n      L ${width - t2} 0\n      Z\n      \" />\n      `,\n      \"background-position-y\": midH,\n      \"background-height\": h,\n      \"background-clip\": \"none\",\n      \"bounds-expansion\": t2,\n      \"background-image-containment\": \"over\",\n    }\n\n  }\n}\n\n\n","import {extract} from \"../../properties-utils\";\nimport {DrawerProvider} from \"../types\";\n\nexport const subPathway: DrawerProvider = (properties, {width, height, disease}) => {\n  const select = extract(properties.global.selectNode);\n  const hover = extract(properties.global.hoverNode);\n  const flag = extract(properties.global.flag);\n  const thick = extract(properties.global.thickness) * 3;\n  const stroke = !disease ?\n    extract(properties.pathway.stroke) :\n    extract(properties.global.negativeContrast);\n\n  const halfHeight = height / 2;\n  const oR = halfHeight;\n  const iR = halfHeight - thick;\n  const oRx = Math.min(oR, width / 2)\n  return {\n    hover: {\n      \"background-image\": `\n          <path fill=\"${hover}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 ${oR}\n            a ${oRx} ${oR} 0 0 1 ${oRx} -${oR}\n            h ${width - 2 * oRx}\n            a ${oRx} ${oR} 0 0 1 ${oRx} ${oR}\n            a ${oRx} ${iR} 0 0 0 -${oRx} -${iR}\n            h -${width - 2 * oRx}\n            a ${oRx} ${iR} 0 0 0 -${oRx} ${iR}\n            Z\"/>\n`,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n    },\n    select: {\n      \"background-image\": `\n          <path fill=\"${select}\" stroke-linejoin=\"round\" stroke-linecap=\"round\"  d=\"\n            M 0 0\n            a ${oRx} ${oR} 0 0 0 ${oRx} ${oR}\n            h ${width - 2 * oRx}\n            a ${oRx} ${oR} 0 0 0 ${oRx} -${oR}\n            a ${oRx} ${iR} 0 0 1 -${oRx} ${iR}\n            h -${width - 2 * oRx}\n            a ${oRx} ${iR} 0 0 1 -${oRx} -${iR}\n            Z\"/>\n`,\n      \"background-position-y\": halfHeight,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-height\": oR,\n    },\n    flag: {\n      \"background-image\": `\n<rect width=\"${width + 2 * thick}\" height=\"${height}\" rx=\"${oR + thick}\" ry=\"${oR}\" fill=\"${flag}\"/>\n`,\n      \"background-position-x\": -thick,\n      \"bounds-expansion\": 2 * thick,\n      \"background-clip\": \"none\",\n      \"background-image-containment\": \"over\",\n      \"background-width\": width + 2 * thick,\n    },\n    analysis: {\n      \"background-image\": `<rect class=\"gradient\" x=\"${thick}\" y=\"${thick}\" width=\"${width - 2 * thick}\" height=\"${height - 2 * thick}\" rx=\"${(height - 2 * thick) / 2}\"/>`,\n      requireGradient: true\n    }\n  }\n}\n\n\n","import cytoscape from \"cytoscape\";\nimport {gene} from \"./shape/gene-shape\";\nimport {isArray, isNumber, memoize} from \"lodash\";\nimport {molecule} from \"./shape/molecule-shape\";\nimport {protein} from \"./shape/protein-shape\";\nimport {rna} from \"./shape/rna-shape\";\nimport {genomeEncodedEntity} from \"./shape/gee-shape\";\nimport {complex} from \"./shape/complex-shape\";\nimport {entitySet} from \"./shape/entity-sets-shape\";\nimport {cell} from \"./shape/cell-shape\";\nimport {interactingPathway} from \"./shape/interacting-pathway-shape\";\nimport {diseaseInteractor} from \"./shape/disease-interactor-shape\";\n\nimport {subPathway} from \"./shape/sub-pathway-shape\";\nimport {extract} from \"../properties-utils\";\nimport {Node} from \"../types\";\nimport {Aggregated, DrawerParameters, DrawerProvider, Image, Memo} from \"./types\";\nimport {Properties} from \"../properties\";\nimport {Style} from \"../style\";\nimport {ContinuousPalette} from \"../color\";\n\n\nexport const imageBuilder = (properties: Properties, style: Style) =>\n  memoize(\n    (node: cytoscape.NodeSingular): Aggregated<Image> => {\n      let layers: Image[] = [];\n      const clazz = node.classes().find(clazz => classToDrawers.has(clazz as Node)) as Node\n      if (!clazz) return aggregate(layers, defaultBg);\n\n      const provider = classToDrawers.get(clazz)!;\n      const exps = node.data('exp');\n      const drawerParams: DrawerParameters = {\n        width: node.data(\"width\"),\n        height: node.data(\"height\"),\n        drug: node.hasClass('drug'),\n        disease: node.hasClass('disease'),\n        interactor: node.hasClass('Interactor'),\n        crossed: node.hasClass('crossed'),\n        lossOfFunction: node.hasClass('loss-of-function')\n      };\n\n\n      const drawer = provider(properties, drawerParams);\n\n      if (node.hasClass('flag') && drawer.flag) layers.push(drawer.flag);\n\n      if (drawer.background) layers.push(drawer.background);\n\n      if (exps && drawer.analysis) layers.push(drawer.analysis);\n\n      if (node.selected() && drawer.select) layers.push(drawer.select);\n\n      if (node.hasClass('hover') && drawer.hover) layers.push(drawer.hover);\n\n      if (drawer.decorators) layers.push(...drawer.decorators);\n\n      if (drawerParams.drug) {\n        layers.push(RX(properties, drawerParams, clazz));\n      }\n\n      if (node.classes().includes('Pathway')) {\n        layers.push(Pathway(properties, drawerParams));\n      }\n\n      if (drawerParams.crossed) layers.push(CROSS(properties, drawerParams));\n\n      const gradient = expToGradient(exps, properties, style.currentPalette)\n\n      // Convert raw HTML to string encoded images\n      layers = layers\n        .map(l => {\n          if (l.requireGradient && gradient) l[\"background-image\"] = addGradient(l[\"background-image\"] as string, gradient);\n          return l;\n        })\n        .map(l => ({\n            ...l,\n            \"background-image\": svgStr(l[\"background-image\"] as string,\n              isNumber(l[\"background-width\"]) ? l[\"background-width\"] : drawerParams.width,\n              isNumber(l[\"background-height\"]) ? l[\"background-height\"] : drawerParams.height\n            )\n          })\n        );\n\n      const aggregated = aggregate(layers, defaultBg);\n      aggregated['bounds-expansion'] = [Math.max(...aggregated['bounds-expansion'] as number[], 0)]\n      return aggregated;\n    }\n    , node => `${node.id()}-${node.classes().toString()}-s:${node.selected()}`\n  )\n\nconst defaultBg: Image = {\n  \"background-image\": \"\",\n  \"background-position-x\": \"0\",\n  \"background-position-y\": \"0\",\n  \"background-offset-x\": \"0\",\n  \"background-offset-y\": \"0\",\n  \"background-width\": \"100%\",\n  \"background-height\": \"100%\",\n  \"background-fit\": \"none\",\n  \"background-clip\": \"none\",\n  \"background-image-opacity\": 1,\n  \"background-image-containment\": \"over\",\n  \"background-image-smoothing\": \"yes\",\n  \"background-height-relative-to\": \"inner\",\n  \"background-width-relative-to\": \"inner\",\n  \"background-repeat\": \"no-repeat\",\n  \"background-image-crossorigin\": \"anonymous\",\n  \"bounds-expansion\": 0\n}\n\nfunction addGradient(svgText: string, gradient: string): string {\n  return `<style>.gradient{fill: url(#gradient)}</style>${gradient}${svgText}`;\n}\n\nfunction expToGradient(exps: (number | [number, number] | undefined)[], properties: Properties, palette: ContinuousPalette): string | undefined {\n  if (!exps) return;\n  const stops: { start: number, stop: number, color: string, exp: number | undefined }[] = [];\n  const size = exps.reduce((l: number, e) => e !== undefined && isArray(e) ? l + e[1] : l + 1, 0);\n  const delta = 100 / size;\n  const notFoundColor = extract(properties.analysis.notFound);\n  exps.forEach((exp, i) => {\n    if (stops.length !== 0 && stops[stops.length - 1].exp === exp) stops[stops.length - 1].stop += delta;\n    else {\n      if (isArray(exp)) {\n        stops.push({\n          start: i * delta,\n          stop: (i + 1) * delta * exp[1],\n          color: exp[0] !== undefined ? palette.getColor(exp[0]) : notFoundColor,\n          exp: exp[0]\n        })\n      } else {\n        stops.push({\n          start: i * delta,\n          stop: (i + 1) * delta,\n          color: exp !== undefined ? palette.getColor(exp) : notFoundColor,\n          exp: exp\n        })\n      }\n    }\n  })\n  return '<defs><linearGradient id=\"gradient\">' +\n    stops\n      .map(stop => `<stop stop-color=\"${stop.color}\" offset=\"${stop.start}%\"/><stop stop-color=\"${stop.color}\" offset=\"${stop.stop}%\"/>`)\n      .join('') +\n    '</linearGradient></defs>'\n}\n\nfunction svg(svgStr: string, width = 100, height = 100) {\n  const parser = new DOMParser();\n  // const cleanedStr = svgStr.replaceAll(/  {2,}|\\n/g, \" \"); // TODO examine performance impact\n  let svgText =\n    `<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE svg><svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='${width}' height='${height}'>${svgStr}</svg>`;\n  return parser.parseFromString(svgText, 'text/xml').documentElement;\n}\n\nfunction svgStr(svgText: string, viewPortWidth: number, viewPortHeight: number) {\n  return 'data:image/svg+xml;utf8,' + encodeURIComponent(svg(svgText, viewPortWidth, viewPortHeight).outerHTML);\n}\n\n\nconst dim = (properties: Properties, {\n  width,\n  height,\n  drug,\n  disease,\n  crossed,\n  interactor,\n  lossOfFunction\n}: DrawerParameters) => `${width}x${height}-${drug}${disease}${crossed}${interactor}${lossOfFunction}`;\nconst classToDrawers = new Map<Node, Memo<DrawerProvider>>([\n  [\"Protein\", memoize(protein, dim)],\n  [\"GenomeEncodedEntity\", memoize(genomeEncodedEntity, dim)],\n  [\"RNA\", memoize(rna, dim)],\n  [\"Gene\", memoize(gene, dim)],\n  [\"Molecule\", memoize(molecule, dim)],\n  [\"Complex\", memoize(complex, dim)],\n  [\"EntitySet\", memoize(entitySet, dim)],\n  [\"Cell\", memoize(cell, dim)],\n  [\"Interacting\", memoize(interactingPathway, dim)],\n  [\"SUB\", memoize(subPathway, dim)],\n  [\"Interactor\", memoize(diseaseInteractor, dim)]\n]);\n\nexport function clearDrawersCache() {\n  for (let value of classToDrawers.values()) {\n    value.cache.clear!()\n  }\n  OMMITED_ICON.cache.clear!();\n}\n\nfunction aggregate<T extends Object, K extends keyof T>(toAggregate: T[], defaultValue: T): Aggregated<T> {\n  const aggregate: Aggregated<T> = {} as Aggregated<T>;\n  //@ts-ignore\n  const keys = new Set<K>(Object.keys(defaultValue));\n  keys.forEach(key => aggregate[key] = toAggregate.map(t => t[key] || defaultValue[key]));\n  return aggregate;\n}\n\nconst RX = (properties: Properties, {height}: DrawerParameters, clazz: Node): Image => {\n  const t = extract(properties.global.thickness);\n  const color = clazz !== 'Molecule' ?\n    extract(properties.global.onPrimary) :\n    extract(properties.molecule.drug);\n  const x = (clazz !== 'EntitySet' ? 0 : extract(properties.entitySet.radius)) + 3 * t;\n\n  return {\n    \"background-image\": `\n      <path style=\"transform: scale(2)\" fill=\"${color}\" stroke-width=\"0.4\" stroke=\"${color}\" d=\"M3.2 4C3.3 4 3.4 4 3.6 4L6.75 8.81L5.7 10.15C5.7 10.15 5.53985 10.3884 5.31824 10.6092C5.00434 10.922 4.6582 11.3 4.28711 11.3C4.19141 11.3 4.2 11.3 4.1 11.3V11.5H6.4V11.3C6.2 11.3 6 11.3 5.9 11.2C5.8 11.1 5.8 11 5.8 10.9C5.8 10.6301 5.9 10.5547 6.16055 10.226L7 9.2L7.65291 10.226C7.82889 10.5025 8 10.7344 8 10.9C8 11.0656 7.90095 11.3 7.65291 11.3C7.55291 11.3 7.6 11.3 7.4 11.3V11.5H10.2V11.3C9.9 11.3 9.7 11.2 9.5 11C9.24121 10.7412 9 10.5 8.6 10L7.6 8.5L8.48711 7.35309C8.55228 7.28792 8.61656 7.21558 8.68081 7.13924C9.09787 6.6437 9.64859 6 10.2 6.01309V5.81309H7.8V6.01309C8 6.01309 8.2 6.01309 8.3 6.01309C8.45586 6.01309 8.6 6.20329 8.6 6.31309C8.6 6.62136 8.43963 6.81922 8.2462 7.03337L7.3 8.1L4.5 3.9C5.1 3.8 5.4 3.61 5.7 3.31C6 3.01 6.2 2.6 6.2 2.2C6.2 1.8 6.08711 1.47 5.78711 1.17C5.52798 0.910875 5.3 0.8 5 0.7C4.6 0.6 4.1 0.5 3.4 0.5H1V0.7H1.2C1.82201 0.7 2 1.14292 2 1.7V6C2 6.59634 2 6.9 1.2 6.9H1V7.1H3.8V6.9H3.6C2.9041 6.9 2.9 6.61047 2.9 6V4H3H3.2ZM3 3.7C3 3.7 3 3.7 2.9 3.7L2.88711 1C3.18711 0.9 3.4 0.9 3.6 0.9C4.47782 0.9 5 1.42405 5 2.3C5 3.40743 4.15401 3.7 3.2 3.7H3Z\"/>\n    `,\n    \"background-position-x\": x,\n    \"background-position-y\": (height / 2 - 11) + 'px',\n    \"background-width\": 22,\n    \"background-height\": 24,\n  };\n\n}\n\nconst Pathway = (properties: Properties, {height, disease}: DrawerParameters): Image => {\n  const t = extract(properties.global.thickness);\n  const color = !disease ?\n    extract(properties.global.onPrimary) :\n    extract(properties.global.negativeContrast);\n\n  let x = 5 * t;\n\n  return {\n    \"background-image\": `\n      <path style=\"transform: scale(1.5)\" fill=\"${color}\" stroke-width=\"0.4\" stroke=\"${color}\" d=\"M19.6864 21.0381C19.0364 21.0381 18.4531 20.8508 17.9364 20.4761C17.4197 20.1008 17.0614 19.6214 16.8614 19.0381H11.6864C10.5864 19.0381 9.64473 18.6464 8.8614 17.8631C8.07807 17.0798 7.6864 16.1381 7.6864 15.0381C7.6864 13.9381 8.07807 12.9964 8.8614 12.2131C9.64473 11.4298 10.5864 11.0381 11.6864 11.0381H13.6864C14.2364 11.0381 14.7074 10.8421 15.0994 10.4501C15.4907 10.0588 15.6864 9.58809 15.6864 9.03809C15.6864 8.48809 15.4907 8.01709 15.0994 7.62509C14.7074 7.23375 14.2364 7.03809 13.6864 7.03809H8.5114C8.29473 7.62142 7.9324 8.10075 7.4244 8.47609C6.91573 8.85075 6.3364 9.03809 5.6864 9.03809C4.85307 9.03809 4.14473 8.74642 3.5614 8.16309C2.97807 7.57975 2.6864 6.87142 2.6864 6.03809C2.6864 5.20475 2.97807 4.49642 3.5614 3.91309C4.14473 3.32975 4.85307 3.03809 5.6864 3.03809C6.3364 3.03809 6.91573 3.22542 7.4244 3.60009C7.9324 3.97542 8.29473 4.45475 8.5114 5.03809H13.6864C14.7864 5.03809 15.7281 5.42975 16.5114 6.21309C17.2947 6.99642 17.6864 7.93809 17.6864 9.03809C17.6864 10.1381 17.2947 11.0798 16.5114 11.8631C15.7281 12.6464 14.7864 13.0381 13.6864 13.0381H11.6864C11.1364 13.0381 10.6657 13.2338 10.2744 13.6251C9.8824 14.0171 9.6864 14.4881 9.6864 15.0381C9.6864 15.5881 9.8824 16.0591 10.2744 16.4511C10.6657 16.8424 11.1364 17.0381 11.6864 17.0381H16.8614C17.0781 16.4548 17.4407 15.9754 17.9494 15.6001C18.4574 15.2254 19.0364 15.0381 19.6864 15.0381C20.5197 15.0381 21.2281 15.3298 21.8114 15.9131C22.3947 16.4964 22.6864 17.2048 22.6864 18.0381C22.6864 18.8714 22.3947 19.5798 21.8114 20.1631C21.2281 20.7464 20.5197 21.0381 19.6864 21.0381ZM5.6864 7.03809C5.96973 7.03809 6.2074 6.94242 6.3994 6.75109C6.59073 6.55909 6.6864 6.32142 6.6864 6.03809C6.6864 5.75475 6.59073 5.51709 6.3994 5.32509C6.2074 5.13375 5.96973 5.03809 5.6864 5.03809C5.40307 5.03809 5.1654 5.13375 4.9734 5.32509C4.78207 5.51709 4.6864 5.75475 4.6864 6.03809C4.6864 6.32142 4.78207 6.55909 4.9734 6.75109C5.1654 6.94242 5.40307 7.03809 5.6864 7.03809Z\" />\n    `,\n    \"background-position-x\": x,\n    \"background-position-y\": (height / 2 - 18) + 'px',\n    \"background-width\": 36,\n    \"background-height\": 36,\n  };\n\n}\n\nexport const CROSS = memoize((properties: Properties, {width, height}: DrawerParameters): Image => {\n  const s = extract(properties.global.negative);\n  const t = extract(properties.global.thickness);\n  return {\n    \"background-image\": `<line x1=\"${t}\" y1=\"${t}\" x2=\"${width - t}\" y2=\"${height - t}\" stroke-width=\"${2 * t}\" stroke-linecap=\"round\" stroke=\"${s}\"/><line x1=\"${t}\" y1=\"${height - t}\" x2=\"${width - t}\" y2=\"${t}\" stroke-width=\"${2 * t}\" stroke-linecap=\"round\" stroke=\"${s}\"/>`,\n    \"background-image-opacity\": 1\n  };\n}, (p, {width, height}) => `${width}x${height}`)\n\nexport const OMMITED_ICON = memoize((properties: Properties) => {\n  const s = extract(properties.global.onSurface);\n  return svgStr(`<line x1=\"2.5\" y1=\"3\" x2=\"4.5\" y2=\"7\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke=\"${s}\"/><line x1=\"5.5\" y1=\"3\" x2=\"7.5\" y2=\"7\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke=\"${s}\"/>`, 10, 10)\n}, (p) => '')\n\n","import {defaultable, extract, PropertiesType, Property} from \"./properties-utils\";\nimport {ContinuousPalette} from \"./color\";\n\nexport interface Properties extends PropertiesType {\n  global: {\n    thickness: Property<number>\n    surface: Property<string>\n    onSurface: Property<string>\n    primary: Property<string>\n    onPrimary: Property<string>\n    positive: Property<string>\n    negative: Property<string>\n    negativeContrast: Property<string>\n    selectNode: Property<string>\n    selectEdge: Property<string>\n    hoverNode: Property<string>\n    hoverEdge: Property<string>\n    flag: Property<string>\n  },\n  compartment: {\n    fill: Property<string>\n    opacity: Property<number>\n  }\n  shadow: {\n    luminosity: Property<number>\n    opacity: Property<[number, number][]>\n    labelOpacity: Property<[number, number][]>\n    padding: Property<number>\n    fontSize: Property<number>\n    fontPadding: Property<number>\n  }\n  protein: {\n    fill: Property<string>\n    drug: Property<string>\n    radius: Property<number>\n  }\n  genomeEncodedEntity: {\n    fill: Property<string>\n    drug: Property<string>\n    bottomRadius: Property<number>\n    topRadius: Property<number>\n  }\n  rna: {\n    fill: Property<string>\n    drug: Property<string>\n    radius: Property<number>\n  }\n  gene: {\n    fill: Property<string>\n    decorationHeight: Property<number>\n    decorationExtraWidth: Property<number>\n    arrowHeadSize: Property<number>\n    borderRadius: Property<number>\n    arrowRadius: Property<number>\n  }\n  molecule: {\n    fill: Property<string>\n    stroke: Property<string>\n    drug: Property<string>\n  }\n  entitySet: {\n    fill: Property<string>\n    stroke: Property<string>\n    drug: Property<string>\n    radius: Property<number>\n  }\n  complex: {\n    fill: Property<string>\n    stroke: Property<string>\n    drug: Property<string>\n    cut: Property<number>\n  }\n  cell: {\n    thickness: Property<number>\n    fill: Property<string>\n    stroke: Property<string>\n  }\n  //interacting pathway and sub pathway\n  pathway: {\n    fill: Property<string>\n    stroke: Property<string>\n  }\n  modification: {\n    fill: Property<string>\n  }\n  interactor: {\n    fill: Property<string>\n    stroke: Property<string>\n    decorationWidth: Property<number>\n  }\n  trivial: {\n    opacity: Property<[number, number][]>\n  }\n  structure: {\n    opacity: Property<[number, number][]>\n  }\n  font: {\n    size: Property<number>\n  }\n  analysis :{\n    min: Property<number>\n    max: Property<number>\n    unidirectionalPalette: Property<[number, string][]>\n    bidirectionalPalette: Property<[number, string][]>\n    notFound: Property<string>\n  }\n  features : {\n    edit: Property<boolean>\n    compare: Property<boolean>\n    interactors: Property<boolean>\n    analysis: Property<boolean>\n  }\n}\n\nexport function setDefaults(properties: UserProperties = {}, css: CSSStyleDeclaration): Properties {\n  const global: Properties['global'] = defaultable(properties.global || {})\n    .setDefault('thickness', 4)\n    .setDefault('surface', () => css.getPropertyValue('--surface') || '#F6FEFF')\n    .setDefault('onSurface', () => css.getPropertyValue('--on-surface') || '#001F24')\n    .setDefault('primary', () => css.getPropertyValue('--primary') || '#006782')\n    .setDefault('onPrimary', () => css.getPropertyValue('--on-primary') || '#FFFFFF')\n    .setDefault('positive', () => css.getPropertyValue('--positive') || '#0C9509')\n    .setDefault('negative', () => css.getPropertyValue('--negative') || '#BA1A1A')\n    .setDefault('negativeContrast', () => css.getPropertyValue('--negative-contrast') || '#ea7d7d')\n    .setDefault('selectNode', () => css.getPropertyValue('--select-node') || '#6EB3E4')\n    .setDefault('selectEdge', () => css.getPropertyValue('--select-edge') || '#0561A6')\n    .setDefault('hoverNode', () => css.getPropertyValue('--hover-node') || '#78E076')\n    .setDefault('hoverEdge', () => css.getPropertyValue('--hover-edge') || '#04B601')\n    .setDefault('flag', () => css.getPropertyValue('--flag') || '#DE75B4')\n\n  const compartment: Properties['compartment'] = defaultable(properties.compartment || {})\n    .setDefault('opacity', () => Number.parseFloat(css.getPropertyValue('--opacity')) || 0.06)\n    .setDefault('fill', () => css.getPropertyValue('--compartment') || '#E5834A')\n\n  const shadow: Properties['shadow'] = defaultable(properties.shadow || {})\n    .setDefault('luminosity', () => Number.parseFloat(css.getPropertyValue('--shadow-luminosity')) || 40)\n    .setDefault('padding', () => Number.parseFloat(css.getPropertyValue('--shadow-padding')) || 20)\n    .setDefault('fontSize', () => Number.parseFloat(css.getPropertyValue('--shadow-font-size')) || 80)\n    .setDefault('fontPadding', () => Number.parseFloat(css.getPropertyValue('--shadow-font-padding')) || 15)\n    .setDefault('opacity', () => {\n      const p = css.getPropertyValue('--shadow-opacity');\n      return p ? JSON.parse(p) : [[20, 20], [40, 0]];\n    })\n    .setDefault('labelOpacity', () => {\n      const p = css.getPropertyValue('--shadow-label-opacity');\n      return p ? JSON.parse(p) : [[20, 100], [40, 0]];\n    })\n\n  const protein: Properties['protein'] = defaultable(properties.protein || {})\n    .setDefault('fill', () => css.getPropertyValue('--primary-contrast-1') || '#001F29')\n    .setDefault('drug', () => css.getPropertyValue('--drug-contrast-1') || '#3E001D')\n    .setDefault('radius', 8)\n\n\n  const genomeEncodedEntity: Properties['genomeEncodedEntity'] = defaultable(properties.genomeEncodedEntity || {})\n    .setDefault('fill', () => css.getPropertyValue('--primary-contrast-4') || '#006782')\n    .setDefault('drug', () => css.getPropertyValue('--drug-contrast-4') || '#BB557A')\n    .setDefault('bottomRadius', 6)\n    .setDefault('topRadius', 40)\n\n  const rna: Properties['rna'] = defaultable(properties.rna || {})\n    .setDefault('fill', () => css.getPropertyValue('--primary-contrast-2') || '#003545')\n    .setDefault('drug', () => css.getPropertyValue('--drug-contrast-2') || '#610B33')\n    .setDefault('radius', 8)\n\n  const gene: Properties['gene'] = defaultable(properties.gene || {})\n    .setDefault('decorationHeight', 20)\n    .setDefault('decorationExtraWidth', 17)\n    .setDefault(\"arrowHeadSize\", 10)\n    .setDefault(\"borderRadius\", 8)\n    .setDefault(\"arrowRadius\", 8)\n    .setDefault(\"fill\", () => css.getPropertyValue('--primary-contrast-3') || '#004D62')\n\n  const molecule: Properties['molecule'] = defaultable(properties.molecule || {})\n    .setDefault(\"fill\", () => extract(global.surface))\n    .setDefault(\"stroke\", () => extract(global.onSurface))\n    .setDefault('drug', () => css.getPropertyValue('--drug-contrast-3') || '#9C3D61')\n\n  const complex: Properties['complex'] = defaultable(properties.complex || {})\n    .setDefault(\"cut\", 8)\n    .setDefault(\"fill\", () => css.getPropertyValue('--tertiary-contrast-1') || '#00315C')\n    .setDefault(\"stroke\", () => css.getPropertyValue('--on-tertiary') || '#FFFFFF')\n    .setDefault('drug', () => css.getPropertyValue('--drug-contrast-3') || '#7E2549')\n\n  const entitySet: Properties['entitySet'] = defaultable(properties.entitySet || {})\n    .setDefault(\"radius\", 8)\n    .setDefault(\"fill\", () => css.getPropertyValue('--tertiary-contrast-3') || '#1660A5')\n    .setDefault(\"stroke\", () => css.getPropertyValue('--on-tertiary') || '#FFFFFF')\n    .setDefault('drug', () => css.getPropertyValue('--drug-contrast-4') || '#BB557A')\n\n  const cell: Properties['cell'] = defaultable(properties.cell || {})\n    .setDefault('thickness', () => Number.parseFloat(css.getPropertyValue('--cell-thickness')) || 16)\n    .setDefault(\"fill\", () => css.getPropertyValue('--tertiary-contrast-2') || '#004882')\n    .setDefault(\"stroke\", () => css.getPropertyValue('--on-tertiary') || '#FFFFFF')\n\n  const pathway: Properties['pathway'] = defaultable(properties.pathway || {})\n    .setDefault(\"fill\", () => css.getPropertyValue('--primary-contrast-4') || '#006782')\n    .setDefault(\"stroke\", () => extract(global.onPrimary))\n\n  const modification: Properties['modification'] = defaultable(properties.modification || {})\n    .setDefault(\"fill\", () => css.getPropertyValue('--primary-contrast-2') || '#003545')\n\n  const interactor: Properties['interactor'] = defaultable(properties.interactor || {})\n    .setDefault(\"fill\", () => css.getPropertyValue('--interactor-fill') || '#68297C')\n    .setDefault(\"stroke\", () => css.getPropertyValue('--interactor-stroke') || '#9f5cb5')\n    .setDefault('decorationWidth', () => Number.parseFloat(css.getPropertyValue('--decorationWidth')) || 20)\n\n  const trivial: Properties['trivial'] = defaultable(properties.trivial || {})\n    .setDefault('opacity', () => {\n      const p = css.getPropertyValue('--trivial-opacity');\n      return p ? JSON.parse(p) : [[40, 0], [60, 100]];\n    })\n\n  const structure: Properties['structure'] = defaultable(properties.structure || {})\n    .setDefault('opacity', () => {\n      const p = css.getPropertyValue('--structure-opacity');\n      return p ? JSON.parse(p) : [[130, 0], [150, 100]];\n    })\n\n  const font: Properties['font'] = defaultable(properties.font || {})\n    .setDefault('size', 12)\n\n  const analysis: Properties['analysis'] = defaultable(properties.analysis || {})\n    .setDefault(\"min\",Number.parseFloat(css.getPropertyValue('--analysis-min')) || 0)\n    .setDefault(\"max\",Number.parseFloat(css.getPropertyValue('--analysis-max')) || 1)\n    .setDefault(\"notFound\", css.getPropertyValue('--analysis-not-found') || extract(global.onSurface))\n    .setDefault(\"unidirectionalPalette\", () => {\n      const p = css.getPropertyValue('--analysis-uni-palette');\n      return p ? JSON.parse(p) : [\n        [0.000, '#FFFFE0'],\n        [0.125, '#C5EDDF'],\n        [0.250, '#A5D5D8'],\n        [0.375, '#8ABCCF'],\n        [0.500, '#73A2C6'],\n        [0.625, '#5D8ABD'],\n        [0.750, '#4771B2'],\n        [0.875, '#2E59A8'],\n        [1.000, '#00429D'],\n      ];\n    })\n    .setDefault(\"bidirectionalPalette\", () => {\n      const p = css.getPropertyValue('--analysis-bi-palette');\n      return p ? JSON.parse(p) : [\n        [0.000, '#93003A'],\n        [0.125, '#CF3759'],\n        [0.250, '#F4777F'],\n        [0.375, '#FFBCAF'],\n        [0.500, '#FFFFE0'],\n        [0.625, '#A5D5D8'],\n        [0.750, '#73A2C6'],\n        [0.875, '#4771B2'],\n        [1.000, '#00429D'],\n      ];\n    })\n\n  const features: Properties['features'] = defaultable(properties.features || {})\n    .setDefault(\"edit\", false)\n    .setDefault(\"compare\", true)\n    .setDefault(\"analysis\", true)\n    .setDefault(\"interactors\", true);\n\n  return {\n    global,\n    compartment,\n    shadow,\n    protein,\n    genomeEncodedEntity,\n    rna,\n    gene,\n    molecule,\n    complex,\n    entitySet,\n    cell,\n    pathway,\n    modification,\n    interactor,\n    trivial,\n    structure,\n    font,\n    analysis,\n    features\n  }\n}\n\nexport type UserProperties = Partial<{\n  [k in keyof Properties]: Partial<Properties[k]>\n}>\n\n","import cytoscape from \"cytoscape\";\nimport {extract} from \"./properties-utils\";\nimport {Properties} from \"./properties\";\nimport {ReactomeEvent, ReactomeEventTypes} from \"./model/reactome-event.model\";\nimport Layers, {IHTMLLayer, layers, LayersPlugin} from 'cytoscape-layers';\nimport * as _ from \"lodash\";\n\n\ncytoscape.use(Layers)\ntype RenderableHTMLElement = HTMLElement & { render: _.DebouncedFunc<() => void> };\n\nexport class Interactivity {\n  constructor(private cy: cytoscape.Core, private properties: Properties) {\n    // @ts-ignore\n    cy.elements().ungrabify().panify();\n    this.initHover(cy);\n    this.initSelect(cy);\n    this.initClick(cy);\n    this.initStructureVideo(cy);\n    this.initStructureMolecule(cy);\n    this.initZoom(cy);\n  }\n\n  expandReaction(reactionNode: cytoscape.NodeCollection) {\n    return reactionNode.connectedEdges().add(reactionNode);\n  }\n\n  applyToReaction = (action: (col: cytoscape.Collection) => void, stateKey: keyof State) => (reactionNode: cytoscape.NodeCollection) => {\n    if (state[stateKey]) return;\n    state[stateKey] = true;\n    action(this.expandReaction(reactionNode));\n    state[stateKey] = false;\n  };\n\n  initHover(cy: cytoscape.Core, mapper = <X>(x: X) => x) {\n    const hoverReaction = this.applyToReaction(col => col.addClass('hover'), 'hovering')\n    const deHoverReaction = this.applyToReaction(col => col.removeClass('hover'), 'deHovering')\n\n\n    const container = cy.container()!;\n    cy\n      .on('mouseover', 'node.PhysicalEntity', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.hover, {\n        element: e.target,\n        type: \"PhysicalEntity\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('mouseover', 'node.Pathway', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.hover, {\n        element: e.target,\n        type: \"Pathway\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('mouseover', 'node.reaction', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.hover, {\n        element: e.target,\n        type: \"reaction\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('mouseover', 'edge.reaction', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.hover, {\n        element: e.target.connectedNodes('.reaction'),\n        type: \"reaction\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n\n      .on('mouseout', 'node.PhysicalEntity', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.leave, {\n        element: e.target,\n        type: \"PhysicalEntity\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('mouseout', 'node.Pathway', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.leave, {\n        element: e.target,\n        type: \"Pathway\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('mouseout', 'node.reaction', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.leave, {\n        element: e.target,\n        type: \"reaction\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('mouseout', 'edge.reaction', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.leave, {\n        element: e.target.connectedNodes('.reaction'),\n        type: \"reaction\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n\n      .on('mouseover', 'node', e => mapper(e.target).addClass('hover'))\n      .on('mouseout', 'node', e => mapper(e.target).removeClass('hover'))\n\n      .on('mouseover', 'node.reaction', e => hoverReaction(mapper(e.target)))\n      .on('mouseout', 'node.reaction', e => deHoverReaction(mapper(e.target)))\n\n      .on('mouseover', 'edge', e => {\n        const mapped = mapper(e.target);\n        if (mapped !== e.target) console.log(mapped, mapped.connectedNodes('.reaction'))\n\n        hoverReaction(mapped.connectedNodes('.reaction'))\n      })\n      .on('mouseout', 'edge', e => deHoverReaction(mapper(e.target).connectedNodes('.reaction')))\n\n      .on('mouseover', 'node.Modification', e => mapper(cy.nodes(`#${e.target.data('nodeId')}`)).addClass('hover'))\n      .on('mouseout', 'node.Modification', e => mapper(cy.nodes(`#${e.target.data('nodeId')}`)).removeClass('hover'))\n\n      .on('mouseover', 'edge.Interactor', e => mapper(cy.edges(`#${e.target.data('id')}`)).addClass('hover'))\n      .on('mouseout', 'edge.Interactor', e => mapper(cy.edges(`#${e.target.data('id')}`)).removeClass('hover'))\n  }\n\n  initSelect(cy: cytoscape.Core, mapper = <X>(x: X) => x) {\n    const selectReaction = this.applyToReaction(col => col.select(), 'selecting')\n    const container = cy.container()!;\n\n    cy\n      .on('select', 'node.PhysicalEntity', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.select, {\n        element: e.target,\n        type: \"PhysicalEntity\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('select', 'node.Pathway', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.select, {\n        element: e.target,\n        type: \"Pathway\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('select', 'node.reaction', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.select, {\n        element: e.target,\n        type: \"reaction\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('select', 'edge.reaction', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.select, {\n        element: e.target.connectedNodes('.reaction'),\n        type: \"reaction\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n\n      .on('unselect', 'node.PhysicalEntity', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.unselect, {\n        element: e.target,\n        type: \"PhysicalEntity\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('unselect', 'node.Pathway', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.unselect, {\n        element: e.target,\n        type: \"Pathway\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('unselect', 'node.reaction', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.unselect, {\n        element: e.target,\n        type: \"reaction\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n      .on('unselect', 'edge.reaction', e => container.dispatchEvent(new ReactomeEvent(ReactomeEventTypes.unselect, {\n        element: e.target.connectedNodes('.reaction'),\n        type: \"reaction\",\n        reactomeId: e.target.data('reactomeId'),\n        cy\n      })))\n\n      .on('select', 'edge', e => selectReaction(mapper(e.target).connectedNodes('.reaction')))\n      .on('unselect', 'edge', () => selectReaction(\n        mapper(cy.edges(':selected').connectedNodes('.reaction')\n          .add(cy.nodes('.reaction:selected')))\n      )) // Avoid single element selection when double-clicking\n\n      .on('select', 'node.reaction', event => selectReaction(mapper(event.target)))\n      .on('select', 'node.Modification', e => mapper(cy.nodes(`#${e.target.data('nodeId')}`)).select())\n\n  }\n\n  initClick(cy: cytoscape.Core) {\n    const container = cy.container()!;\n\n    cy\n      .on('click', 'node.InteractorOccurrences', e => {\n        const openClass = 'opened';\n        let eventType = !e.target.hasClass(openClass) ? ReactomeEventTypes.open : ReactomeEventTypes.close;\n        e.target.toggleClass(openClass);\n        container.dispatchEvent(new ReactomeEvent(eventType, {\n          element: e.target,\n          type: \"Interactor\",\n          reactomeId: e.target.data('reactomeId'),\n          cy\n        }))\n      })\n\n      .on('click', '.Interactor', e => {\n        const prop = e.target.isNode() ? 'accURL' : 'evidenceURLs';\n        const url = e.target.data(prop);\n        if (url) window.open(url);\n      })\n      .on('click', '.DiseaseInteractor', e => {\n        const prop = e.target.isNode() ? 'accURL' : 'evidenceURLs';\n        const url = e.target.data(prop);\n        if (url) window.open(url);\n      })\n\n    // .on('click', e => {\n    //   const openClass = 'opened';\n    //   let eventType = !e.target.hasClass(openClass) ? ReactomeEventTypes.open : ReactomeEventTypes.close;\n    //   e.target.toggleClass(openClass);\n    //   container.dispatchEvent(new ReactomeEvent(eventType, {\n    //     element: e.target,\n    //     type: \"Any\",\n    //     reactomeId: e.target.data('reactomeId'),\n    //     cy\n    //   }))\n    // });\n  }\n\n  private videoLayer?: IHTMLLayer;\n\n\n  initStructureVideo(cy: cytoscape.Core) {\n    const layersPlugin: LayersPlugin = layers(cy);\n    this.videoLayer = layersPlugin.append('html');\n    if (this.videoLayer) this.videoLayer.node.style.opacity = '0';\n    layersPlugin.renderPerNode(\n      this.videoLayer!,\n      (elem: HTMLElement) => {\n        (elem as RenderableHTMLElement).render()\n      },\n      {\n        init: (elem: RenderableHTMLElement, node: cytoscape.NodeSingular) => {\n          const name = node.data('displayName');\n\n          elem.innerHTML = node.data('html') || '';\n          elem.style.display = \"flex\";\n          const video = elem.children[0] as HTMLVideoElement;\n\n          elem.render = _.throttle(() => {\n              if (isElementInViewport(elem)) {\n                // console.log('rendering', name)\n                if (this.videoLayer?.node.style.opacity !== '0' && video.readyState === video.HAVE_NOTHING && video.networkState === video.NETWORK_IDLE) {\n                  console.log('loading', name)\n                  video.load();\n                }\n                elem.style.visibility = node.visible() ? 'visible' : 'hidden';\n              }\n\n            }, 500\n          );\n        },\n        transform: `translate(-70%, -50%)`,\n        position: 'center',\n        uniqueElements: false,\n        checkBounds: false, // Need false otherwise destroy nodes when out of view\n        selector: '.Protein',\n        updateOn: \"render\", // Need render to call display whenever we move\n        queryEachTime: false,\n      }\n    );\n\n    this.videoLayer?.node.classList.add('video')\n    this.cy\n      ?.on('mouseover', 'node.Protein', async (event) => {\n        const videoId = event.target.id();\n        const videoElement = this.videoLayer?.node.querySelector(`#video-${videoId}`) as HTMLVideoElement;\n        if (videoElement && videoElement.readyState >= videoElement.HAVE_ENOUGH_DATA) {\n          await videoElement.play();\n        }\n      })\n      .on('mouseout', 'node.Protein', (event) => {\n        const videoId = event.target.id();\n        const videoElement = this.videoLayer?.node.querySelector(`#video-${videoId}`) as HTMLVideoElement;\n        if (videoElement && videoElement.readyState >= videoElement.HAVE_ENOUGH_DATA) {\n          videoElement.pause();\n        }\n      });\n  }\n\n  private moleculeLayer?: IHTMLLayer;\n\n  initStructureMolecule(cy: cytoscape.Core) {\n    // @ts-ignore\n    const layers: LayersPlugin = cy.layers();\n\n    this.moleculeLayer = layers.append('html');\n    this.moleculeLayer.node.classList.add('molecule')\n\n    layers.renderPerNode(\n      this.moleculeLayer,\n      (elem: HTMLElement, node: cytoscape.NodeSingular) => {\n        elem.style.visibility = node.visible() ? 'visible' : 'hidden';\n      },\n      {\n        init: (elem: HTMLElement, node: cytoscape.NodeSingular) => {\n          elem.innerHTML = node.data('html') || '';\n          elem.style.display = \"flex\"\n        },\n        transform: `translate(-100%, -50%)`,\n        position: 'center',\n        uniqueElements: true,\n        checkBounds: false,\n        selector: '.Molecule',\n        queryEachTime: false,\n      }\n    );\n  }\n\n  onZoom: {\n    [name: string]: (e?: cytoscape.EventObjectCore) => void\n    shadow: (e?: cytoscape.EventObjectCore) => void;\n    protein: (e?: cytoscape.EventObjectCore) => void;\n  } = {\n    shadow: () => undefined,\n    protein: () => undefined,\n  };\n\n  triggerZoom() {\n    Object.values(this.onZoom).forEach(onZoom => onZoom())\n  }\n\n  proteins!: cytoscape.NodeCollection;\n\n  updateProteins() {\n    this.proteins = this.cy.nodes('.Protein')\n      .or('.Molecule');\n  }\n\n  initZoom(cy: cytoscape.Core) {\n    const shadows = cy.edges('[?pathway]');\n    const shadowLabels = cy.nodes('.Shadow');\n    const trivial = cy.elements('.trivial');\n    this.updateProteins();\n\n    cy.minZoom(Math.min(cy.zoom(), extract(this.properties.shadow.labelOpacity)[0][0] / 100));\n    cy.maxZoom(15);\n\n    let baseFontSize = extract(this.properties.font.size);\n    const structureOpacityArray = extract(this.properties.structure.opacity)\n    const zoomStart = structureOpacityArray[0][0];\n    const zoomEnd = structureOpacityArray[structureOpacityArray.length - 1][0]\n\n\n    this.onZoom.shadow = () => {\n      const zoomLevel = cy.zoom();\n      const z = zoomLevel * 100;\n      const shadowLabelOpacity = this.interpolate(z, extract(this.properties.shadow.labelOpacity).map(v => this.p(...v))) / 100;\n      const trivialOpacity = this.interpolate(z, extract(this.properties.trivial.opacity).map(v => this.p(...v))) / 100;\n      const shadowOpacity = this.interpolate(z, extract(this.properties.shadow.opacity).map(v => this.p(...v))) / 100;\n      shadows.style({\n        'underlay-opacity': shadowOpacity\n      });\n      shadowLabels.style({\n        'text-opacity': shadowLabelOpacity\n      });\n      trivial.style({\n        'opacity': trivialOpacity,\n        'underlay-opacity': Math.min(shadowOpacity, trivialOpacity)\n      });\n    }\n\n    this.onZoom.protein = () => {\n      const zoomLevel = cy.zoom();\n      const z = zoomLevel * 100;\n      const videoOpacity = this.interpolate(z, extract(this.properties.structure.opacity).map(v => this.p(...v))) / 100;\n\n      const maxWidth = this.interpolate(z, [this.p(zoomStart, 100), this.p(zoomEnd, 50)]);\n      this.margin = this.interpolate(z, [this.p(zoomStart, 0), this.p(zoomEnd, 0.25)]);\n      const fontSize = this.interpolate(z, [this.p(zoomStart, baseFontSize), this.p(zoomEnd, baseFontSize / 2)]);\n      this.proteins.style(\n        {\n          'font-size': fontSize,\n          'text-margin-x': (n: cytoscape.NodeSingular) => this.margin * n.data(\"width\"),\n          'text-max-width': maxWidth + \"%\",\n        })\n\n      if (this.videoLayer) this.videoLayer.node.style.opacity = videoOpacity + '';\n      if (this.moleculeLayer) this.moleculeLayer.node.style.opacity = videoOpacity + '';\n    };\n\n    cy.on('zoom', this.onZoom.shadow);\n    cy.on('zoom', this.onZoom.protein);\n\n    this.triggerZoom()\n  }\n\n  margin = 0;\n\n  p(x: number, y: number): P {\n    return new P(x, y)\n  }\n\n  interpolate(x: number, points: P[]): number {\n    if (x < points.at(0)!.x) return points.at(0)!.y;\n    if (x > points.at(-1)!.x) return points.at(-1)!.y;\n    for (let i = 0; i + 1 < points.length; i++) {\n      let y = this.lerp(x, points[i], points[i + 1])\n      if (y) return y;\n    }\n    console.assert(false, \"Should not arrive here\")\n    return 0;\n  }\n\n  /**\n   * Linear interpolation as described in https://en.wikipedia.org/wiki/Linear_interpolation\n   * @param x : number number to determine corresponding value\n   * @param p0 : P lower bound point for the linear interpolation\n   * @param p1 : P upper bound point for the linear interpolation\n   */\n  lerp(x: number, p0: P, p1: P): number | undefined {\n    if (x < p0.x || x > p1.x) return undefined;\n    return (p0.y * (p1.x - x) + p1.y * (x - p0.x)) / (p1.x - p0.x);\n  }\n}\n\ninterface State {\n  [k: string]: boolean\n}\n\nconst state: State = {\n  selecting: false,\n  hovering: false,\n  deHovering: false\n}\n\nclass P extends Array<number> {\n  constructor(x: number, y: number) {\n    super(x, y);\n  }\n\n  get x() {\n    return this[0]\n  }\n\n  get y() {\n    return this[1]\n  }\n}\n\n\nfunction isElementInViewport(el: HTMLElement) {\n  let rect = el.getBoundingClientRect();\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\n\n","export class HSL {\n  constructor(public hue: number, public saturation: number, public luminance: number) {\n  }\n\n  toString(): string {\n    return `hsl(${this.h},${this.s},${this.l})`\n  }\n\n  invertL(): this {\n    this.l = 100 - this.l;\n    return this;\n  }\n\n  invertS(): this {\n    this.s = 100 - this.s;\n    return this;\n  }\n\n  invertH(): this {\n    this.h = (360 - this.h) % 360;\n    return this;\n  }\n\n  get h() {\n    return this.hue;\n  }\n\n  set h(value: number) {\n    this.hue = value;\n  }\n\n  get s() {\n    return this.saturation;\n  }\n\n  set s(value: number) {\n    this.saturation = value;\n  }\n\n  get l() {\n    return this.luminance;\n  }\n\n  set l(value: number) {\n    this.luminance = value;\n  }\n\n  static fromHex(hex: string): HSL {\n    // Convert hex to RGB first\n    let rS: string, gS: string, bS: string;\n    let r = 0, g = 0, b = 0;\n    if (hex.length == 4) {\n      rS = \"0x\" + hex[1] + hex[1];\n      gS = \"0x\" + hex[2] + hex[2];\n      bS = \"0x\" + hex[3] + hex[3];\n    } else if (hex.length == 7) {\n      rS = \"0x\" + hex[1] + hex[2];\n      gS = \"0x\" + hex[3] + hex[4];\n      bS = \"0x\" + hex[5] + hex[6];\n    } else throw new Error('Hexadecimal not properly formatted')\n    // Then to HSL\n    r = Number.parseInt(rS, 16) / 255;\n    g = Number.parseInt(gS, 16) / 255;\n    b = Number.parseInt(bS, 16) / 255;\n\n    let cmin = Math.min(r, g, b),\n      cmax = Math.max(r, g, b),\n      delta = cmax - cmin,\n      h = 0,\n      s = 0,\n      l = 0;\n\n    if (delta == 0)\n      h = 0;\n    else if (cmax == r)\n      h = ((g - b) / delta) % 6;\n    else if (cmax == g)\n      h = (b - r) / delta + 2;\n    else\n      h = (r - g) / delta + 4;\n\n    h = Math.round(h * 60);\n\n    if (h < 0)\n      h += 360;\n\n    l = (cmax + cmin) / 2;\n    s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n    s = +(s * 100).toFixed(1);\n    l = +(l * 100).toFixed(1);\n\n    return new HSL(h, s, l);\n  }\n\n  toHex(): string {\n    const h = this.h;\n    const s = this.s /= 100;\n    const l = this.l /= 100;\n\n    let c = (1 - Math.abs(2 * l - 1)) * s,\n      x = c * (1 - Math.abs((h / 60) % 2 - 1)),\n      m = l - c / 2,\n      r = 0,\n      g = 0,\n      b = 0;\n\n    if (0 <= h && h < 60) {\n      r = c;\n      g = x;\n      b = 0;\n    } else if (60 <= h && h < 120) {\n      r = x;\n      g = c;\n      b = 0;\n    } else if (120 <= h && h < 180) {\n      r = 0;\n      g = c;\n      b = x;\n    } else if (180 <= h && h < 240) {\n      r = 0;\n      g = x;\n      b = c;\n    } else if (240 <= h && h < 300) {\n      r = x;\n      g = 0;\n      b = c;\n    } else if (300 <= h && h < 360) {\n      r = c;\n      g = 0;\n      b = x;\n    }\n    // Having obtained RGB, convert channels to hex\n    let rS = Math.round((r + m) * 255).toString(16);\n    let gS = Math.round((g + m) * 255).toString(16);\n    let bS = Math.round((b + m) * 255).toString(16);\n\n    // Prepend 0s, if necessary\n    if (rS.length == 1)\n      rS = \"0\" + rS;\n    if (gS.length == 1)\n      gS = \"0\" + gS;\n    if (bS.length == 1)\n      bS = \"0\" + bS;\n\n    return \"#\" + rS + gS + bS;\n  }\n}\n\n\n\ntype RGB = [number, number, number];\ntype PaletteEntry = [number, string];\n\nexport class ContinuousPalette {\n\n  rgbPalette: [number, RGB][] = []\n\n  constructor(palette: PaletteEntry[]) {\n   this.rgbPalette = palette.map(([v, hex]) => [v, this.hexToRgb(hex)]);\n  }\n\n\n  // Helper function to convert hex color string to RGB tuple\n  private hexToRgb(hex: string): RGB {\n    hex = hex.replace(/^#/, '');\n    const bigint = parseInt(hex, 16);\n    const r = (bigint >> 16) & 255;\n    const g = (bigint >> 8) & 255;\n    const b = bigint & 255;\n    return [r, g, b];\n  }\n\n// Helper function to convert RGB tuple to hex color string\n  private rgbToHex([r, g, b]: RGB): string {\n    return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();\n  }\n\n// Helper function to interpolate between two colors\n  private interpolate(\n    value: number, valueMin: number, valueMax: number,\n    colorMin: RGB, colorMax: RGB\n  ): RGB {\n    const ratio = (value - valueMin) / (valueMax - valueMin);\n    return [\n      Math.round(colorMin[0] + (colorMax[0] - colorMin[0]) * ratio),\n      Math.round(colorMin[1] + (colorMax[1] - colorMin[1]) * ratio),\n      Math.round(colorMin[2] + (colorMax[2] - colorMin[2]) * ratio)\n    ];\n  }\n\n// Main function to get the color for a given value from the palette\n  getColor(value: number): string {\n    // Handle edge cases\n    if (value <= this.rgbPalette[0][0]) {\n      return this.rgbToHex(this.rgbPalette[0][1]);\n    }\n    if (value >= this.rgbPalette[this.rgbPalette.length - 1][0]) {\n      return this.rgbToHex(this.rgbPalette[this.rgbPalette.length - 1][1]);\n    }\n\n    // Find the surrounding colors\n    for (let i = 0; i < this.rgbPalette.length - 1; i++) {\n      const [vMin, cMin] = this.rgbPalette[i];\n      const [vMax, cMax] = this.rgbPalette[i + 1];\n      if (vMin <= value && value <= vMax) {\n        const interpolatedColor = this.interpolate(value, vMin, vMax, cMin, cMax);\n        return this.rgbToHex(interpolatedColor);\n      }\n    }\n\n    // Fallback (should not be reached)\n    return this.rgbToHex(this.rgbPalette[0][1]);\n  }\n\n}\n","import cytoscape from \"cytoscape\";\nimport {clearDrawersCache, imageBuilder, OMMITED_ICON} from \"./drawer/image-builder\";\nimport {extract, propertyExtractor, propertyMapper} from \"./properties-utils\";\n\nimport {Properties, setDefaults, UserProperties} from \"./properties\";\nimport {Interactivity} from \"./interactivity\";\nimport {ContinuousPalette, HSL} from \"./color\";\n\n\nexport class Style {\n  public css: CSSStyleDeclaration;\n  public properties: Properties;\n  public currentPalette!: ContinuousPalette;\n  public cy?: cytoscape.Core;\n  private readonly imageBuilder;\n  private readonly p;\n  private readonly pm;\n  public interactivity!: Interactivity;\n\n  constructor(container: HTMLElement, properties: UserProperties = {}) {\n    this.css = getComputedStyle(container);\n    this.properties = setDefaults(properties, this.css);\n    this.imageBuilder = imageBuilder(this.properties, this);\n    this.p = propertyExtractor(this.properties);\n    this.pm = propertyMapper(this.properties);\n  }\n\n  bindToCytoscape(cy: cytoscape.Core) {\n    this.cy = cy;\n    cy.data('reactome', this);\n    this.interactivity = new Interactivity(cy, this.properties);\n    this.initSubPathwayColors()\n  }\n\n  initSubPathwayColors() {\n    const subPathways = this.cy?.nodes('.Shadow');\n    if (!subPathways) return;\n    const dH = 360 / subPathways.length;\n\n    subPathways.forEach((subPathway, i) => {\n      const edges = this.cy!.edges(`[pathway=${subPathway.data('reactomeId')}]`);\n      subPathway.data('edges', edges);\n\n      const hex = new HSL(dH * i, 100, extract(this.properties.shadow.luminosity)).toHex();\n      subPathway.data('color', hex);\n      edges.forEach(edge => {\n        edge.data('color', hex)\n      });\n    })\n  }\n\n\n  getStyleSheet(): cytoscape.Stylesheet[] {\n    return [\n      {\n        selector: \"*\",\n        style: {\n          \"font-family\": \"Roboto\",\n          \"font-weight\": 600,\n          \"z-index\": 1\n        }\n      },\n      {\n        selector: 'node.Compartment',\n        style: {\n          \"shape\": \"round-rectangle\",\n          \"width\": 'data(width)',\n          \"height\": 'data(height)',\n\n          \"border-style\": 'double',\n\n          \"z-index\": 0,\n          \"z-compound-depth\": \"bottom\",\n          \"overlay-opacity\": 0,\n\n          \"color\": this.p('compartment', 'fill'),\n          \"border-color\": this.p('compartment', 'fill'),\n          \"background-color\": this.p('compartment', 'fill'),\n          \"background-opacity\": this.p('compartment', 'opacity'),\n          \"border-width\": this.pm('global', 'thickness', t => 3 * t)\n        }\n      },\n      {\n        selector: 'node.Compartment.inner, node.Compartment.outer',\n        style: {\n          \"border-style\": 'solid',\n          \"border-width\": this.p('global', 'thickness')\n        }\n      },\n      {\n        selector: 'node.Compartment.outer',\n        style: {\n          'label': 'data(displayName)',\n          \"text-opacity\": 1,\n          \"text-valign\": \"bottom\",\n          \"text-halign\": \"right\",\n          // @ts-ignore\n          \"text-margin-x\": \"data(textX)\",\n          // @ts-ignore\n          \"text-margin-y\": \"data(textY)\",\n        }\n      },\n      {\n        selector: 'node[?radius]',\n        style: {\n          // @ts-ignore\n          'corner-radius': 'data(radius)'\n        }\n      },\n      {\n        selector: 'node.Shadow',\n        style: {\n          'label': 'data(displayName)',\n          \"font-size\": this.p('shadow','fontSize'),\n          \"background-opacity\": 0,\n          \"shape\": \"rectangle\",\n          \"text-valign\": \"center\",\n          \"text-halign\": \"center\",\n          \"text-outline-color\": this.p('global', 'surface'),\n          \"text-outline-width\": this.p('shadow','fontPadding'),\n          \"text-wrap\": 'wrap',\n          \"text-max-width\": \"data(width)\",\n        }\n      },\n      {\n        selector: 'node.Shadow[?color]',\n        style: {\n          \"color\": 'data(color)',\n        }\n      },\n      {\n        selector: 'node.drug',\n        style: {\n          \"text-max-width\": (node: cytoscape.NodeSingular) => (node.width() - 44) + 'px',\n          \"text-margin-x\": 4,\n          \"font-style\": \"italic\"\n        }\n      }, {\n        selector: 'node.PhysicalEntity, node.Pathway, node.Modification, node.Interactor',\n        style: {\n          'font-size': this.p('font', 'size'),\n          'text-margin-x': 0,\n          'label': 'data(displayName)',\n          'width': 'data(width)',\n          'height': 'data(height)',\n          \"background-fit\": \"none\",\n          \"text-halign\": 'center',\n          \"text-valign\": 'center',\n          \"text-wrap\": 'wrap',\n          \"text-max-width\": (node: cytoscape.NodeSingular) => node.data('width') + 'px',\n          // @ts-ignore\n          \"background-image-smoothing\": \"no no no no no no no no\",\n\n          // @ts-ignore\n          \"background-image\": node => this.imageBuilder(node)[\"background-image\"],\n          // @ts-ignore\n          \"background-position-y\": node => this.imageBuilder(node)[\"background-position-y\"] || 0,\n          // @ts-ignore\n          \"background-position-x\": node => this.imageBuilder(node)[\"background-position-x\"] || 0,\n          // @ts-ignore\n          \"background-height\": node => this.imageBuilder(node)[\"background-height\"] || '100%',\n          // @ts-ignore\n          \"background-width\": node => this.imageBuilder(node)[\"background-width\"] || '100%',\n          // @ts-ignore\n          \"background-clip\": node => this.imageBuilder(node)[\"background-clip\"] || 'node',\n          // @ts-ignore\n          \"background-image-containment\": node => this.imageBuilder(node)[\"background-image-containment\"] || 'inside',\n          // @ts-ignore\n          \"background-image-opacity\": node => this.imageBuilder(node)[\"background-image-opacity\"] || 1,\n          // @ts-ignore\n          \"bounds-expansion\": node => this.imageBuilder(node)[\"bounds-expansion\"][0] || 0,\n          'color': this.p('global', 'onPrimary'),\n        }\n      },\n\n      {\n        selector: 'node.InteractorOccurrences',\n        style: {\n          'label': 'data(displayName)',\n          'color': this.p('global', 'surface'),\n          \"shape\": \"ellipse\",\n          \"text-valign\": \"center\",\n          \"text-halign\": \"center\",\n          \"text-wrap\": 'wrap',\n          \"background-color\": this.p('interactor', 'fill')\n        }\n      },\n      {\n        selector: 'node.InteractorOccurrences.disease',\n        style: {\n          \"background-color\": this.p('global', 'negative')\n        }\n      },\n      {\n        selector: 'node.InteractorOccurrences.hover',\n        style: {\n          \"border-width\": this.pm('global', 'thickness', t => t * 1),\n          \"border-color\": this.p('global', 'hoverNode'),\n        }\n      },\n      {\n        selector: 'node.InteractorOccurrences.select',\n        style: {\n          \"border-width\": this.pm('global', 'thickness', t => t * 1),\n          \"border-color\": this.p('global', 'selectNode'),\n        }\n      },\n      {\n        selector: 'node.Interactor',\n        style: {\n          \"label\": \"data(displayName)\",\n          \"font-family\": \"Roboto Mono, monospace\",\n          // \"border-color\": this.p('interactor', 'stroke'),\n          \"border-width\": this.p('global', 'thickness'),\n          \"text-wrap\": \"ellipsis\",\n          \"border-color\": this.p('interactor', 'fill'),\n          //@ts-ignore\n          \"border-position\": 'inside'\n        }\n      },\n\n      {\n        selector: 'node.PhysicalEntity.disease',\n        style: {\n          \"border-color\": this.p('global', 'negativeContrast'),\n          \"color\": this.p('global', 'negativeContrast'),\n          \"border-width\": this.p('global', 'thickness'),\n        }\n      },\n\n      {\n        selector: 'node.Interactor.disease',\n        style: {\n          \"shape\": \"round-hexagon\",\n          \"background-color\": this.p('global', 'negative'),\n          \"background-opacity\": 0,\n          \"border-width\": 0,\n          \"font-family\": \"Roboto Mono, monospace\",\n          \"color\": this.p('global', 'onPrimary'),\n          \"text-wrap\": \"ellipsis\",\n          \"text-max-width\": (node: cytoscape.NodeSingular) => (node.width() - 40) + 'px',\n        }\n      },\n      {\n        selector: 'node.Protein',\n        style: {\n          \"shape\": \"round-rectangle\",\n          \"background-color\": this.p('protein', 'fill')\n        }\n      }, {\n        selector: 'node.Protein.drug',\n        style: {\n          \"background-color\": this.p('protein', 'drug')\n        }\n      }, {\n        selector: 'node.GenomeEncodedEntity',\n        style: {\n          \"shape\": \"round-rectangle\",\n          \"background-opacity\": 0,\n          \"background-color\": this.p('genomeEncodedEntity', 'fill'),\n          \"text-margin-y\": this.pm('genomeEncodedEntity', 'topRadius', r => r / 10),\n          \"border-width\": 0 // Avoid disease border\n        }\n      }, {\n        selector: 'node.RNA',\n        style: {\n          \"shape\": \"bottom-round-rectangle\",\n          \"background-color\": this.p('rna', 'fill'),\n        }\n      }, {\n        selector: 'node.RNA.drug',\n        style: {\n          \"background-color\": this.p('rna', 'drug'),\n        }\n      }, {\n        selector: 'node.Gene',\n        style: {\n          \"shape\": \"bottom-round-rectangle\",\n          \"background-opacity\": 0,\n          \"background-color\": this.p('gene', 'fill'),\n          \"bounds-expansion\": this.p('gene', 'decorationExtraWidth'),\n          \"text-margin-y\": this.pm('gene', 'decorationHeight', h => h / 2),\n          \"border-width\": 0 // Avoid disease border\n        }\n      }, {\n        selector: 'node.Molecule',\n        style: {\n          \"shape\": 'round-rectangle',\n          \"color\": this.p(\"molecule\", 'stroke'),\n          \"background-color\": this.p(\"molecule\", 'fill'),\n          \"border-color\": this.p(\"molecule\", 'stroke'),\n          \"border-width\": this.p(\"global\", 'thickness'),\n          // @ts-ignore\n          \"corner-radius\": (node: cytoscape.NodeSingular) => Math.min(node.data('width'), node.data('height')) / 2,\n        }\n      }, {\n        selector: 'node.Molecule.drug',\n        style: {\n          \"color\": this.p(\"molecule\", 'drug'),\n          \"border-color\": this.p(\"molecule\", 'drug'),\n        }\n      }, {\n        selector: 'node.Molecule.Interactor',\n        style: {\n          \"border-color\": this.p(\"interactor\", 'fill'),\n        }\n      }, {\n        selector: 'node.EntitySet',\n        style: {\n          \"background-opacity\": 0,\n          \"shape\": \"round-rectangle\",\n          \"border-width\": 0, // Avoid disease border\n          \"text-max-width\": (node: cytoscape.NodeSingular) =>\n            this.pm('global', 'thickness', t =>\n              this.pm('entitySet', 'radius', r => `${node.width() - 2 * r - 6 * t}px`\n              )\n            )\n        }\n      }, {\n        selector: 'node.EntitySet.drug',\n        style: {\n          \"text-max-width\": (node: cytoscape.NodeSingular) =>\n            this.pm('global', 'thickness', t =>\n              this.pm('entitySet', 'radius', r => `${node.width() - 2 * r - 6 * t - 44}px`\n              )\n            )\n        }\n      }, {\n        selector: 'node.Complex',\n        style: {\n          \"shape\": \"cut-rectangle\",\n          \"text-max-width\": (node: cytoscape.NodeSingular) => this.pm('global', 'thickness', t => (node.width() - t * 6) + 'px'),\n          \"background-opacity\": 0,\n          \"border-width\": 0, // Avoid disease border\n\n          // \"background-color\": this.p(\"complex\", 'fill'),\n          // \"width\": (node: cytoscape.NodeSingular) => this.pm('global', 'thickness', t => node.data('width') -  2 * t) ,\n          // \"height\": (node: cytoscape.NodeSingular) => this.pm('global', 'thickness', t => node.data('height') -  2 * t) ,\n          // // @ts-ignore\n          // \"corner-radius\": this.pm('complex', 'cut', c => c),\n          // \"outline-width\":  this.p('global', 'thickness'),\n          // \"outline-color\":  this.p('complex', 'fill'),\n          // \"outline-offset\":  this.pm('global', 'thickness', t => - t),\n          // \"outline-opacity\":  1,\n          //\n          // // \"border-position\": 'inside',\n          // \"border-join\": 'round',\n          // \"border-color\": this.p('complex', 'stroke'),\n          // \"border-width\": this.p('global', 'thickness'),\n        }\n      }, {\n        selector: 'node.Complex.drug',\n        style: {\n          \"text-margin-x\": 4,\n          \"text-max-width\": (node: cytoscape.NodeSingular) => this.pm('global', 'thickness', t => (node.width() - t * 6 - 44) + 'px')\n        }\n      }, {\n        selector: 'node.Cell',\n        style: {\n          \"background-opacity\": 0,\n          \"shape\": \"round-rectangle\",\n          // @ts-ignore\n          \"corner-radius\": 999999,\n          \"border-width\": 0, // Avoid disease border\n\n          \"text-max-width\": (node: cytoscape.NodeSingular) =>\n            this.pm('global', 'thickness', t => this.pm('cell', 'thickness', ct => (node.width() - t * 2 - ct * 2) + 'px'))\n        }\n      },\n      {\n        selector: 'node.Pathway',\n        style: {\n          \"background-color\": this.p('pathway', 'fill'),\n          \"text-margin-x\": 18,\n          \"border-color\": this.p('pathway', 'stroke'),\n          // @ts-ignore\n          \"border-position\": \"inside\",\n          \"border-width\": this.pm('global', 'thickness', t => 3 * t),\n        }\n      },\n      {\n        selector: 'node.Interacting.Pathway',\n        style: {\n          \"shape\": \"rectangle\",\n          \"text-max-width\": (node: cytoscape.NodeSingular) =>\n            this.pm('global', 'thickness', t => `${node.width() - (6 * t + 36) * 2}px`\n            ),\n        }\n      },\n      {\n        selector: 'node.SUB.Pathway',\n        style: {\n          //@ts-ignore\n          \"corner-radius\": 99999,\n          \"shape\": 'round-rectangle',\n          \"text-max-width\": (node: cytoscape.NodeSingular) =>\n            this.pm('global', 'thickness', t => `${node.width() - (6 * t + 36) * 2}px`\n            ),\n        }\n      }, {\n        selector: 'node.Pathway.disease',\n        style: {\n          \"border-color\": this.p('global', 'negativeContrast'),\n          \"color\": this.p('global', 'negativeContrast'),\n        }\n      }, {\n        selector: 'node.Modification',\n        style: {\n          \"background-color\": this.p('modification', 'fill'),\n          \"shape\": 'round-rectangle'\n        }\n      },\n\n\n      {\n        selector: 'node.reaction',\n        style: {\n          \"width\": this.pm('global', 'thickness', t => t * 6),\n          \"height\": this.pm('global', 'thickness', t => t * 6),\n          \"shape\": \"round-rectangle\",\n          \"text-halign\": \"center\",\n          \"text-valign\": \"center\",\n          \"border-width\": this.p('global', 'thickness'),\n          \"border-color\": this.p('global', 'onSurface'),\n          \"color\": this.p('global', 'onSurface'),\n          \"background-color\": this.p('global', 'surface'),\n        }\n      }, {\n        selector: 'node.reaction[?displayName]',\n        style: {\n          \"label\": \"data(displayName)\",\n          \"font-weight\": 400,\n          \"text-valign\": \"top\",\n          \"text-margin-y\": -5,\n        }\n      }, {\n        selector: 'node.reaction.hover',\n        style: {\n          \"border-width\": this.pm('global', 'thickness', t => t * 1),\n          \"border-color\": this.p('global', 'hoverEdge'),\n        }\n      }, {\n        selector: 'node.reaction:selected',\n        style: {\n          \"border-width\": this.pm('global', 'thickness', t => t * 1.5),\n          \"border-color\": this.p('global', 'selectEdge'),\n        }\n      }, {\n        selector: 'node.reaction.flag',\n        style: {\n          // @ts-ignore\n          \"outline-width\": this.pm('global', 'thickness', t => t * 1.5),\n          \"outline-color\": this.p('global', 'flag'),\n        }\n      }, {\n        selector: 'node.association',\n        style: {\n          \"shape\": \"ellipse\",\n          \"background-color\": this.p('global', 'onSurface'),\n        }\n      }, {\n        selector: 'node.dissociation',\n        style: {\n          \"shape\": \"ellipse\",\n          \"border-style\": \"double\",\n          \"border-width\": this.pm('global', 'thickness', t => 3 * t)\n        }\n      }, {\n        selector: 'node.uncertain',\n        style: {\n          \"label\": \"?\",\n          \"text-valign\": \"center\",\n          \"text-margin-y\": 0,\n          \"font-weight\": 600\n        }\n      }, {\n        selector: 'node.omitted',\n        style: {\n          \"background-image\": OMMITED_ICON(this.properties),\n          \"background-fit\": \"cover\",\n          \"background-height\": \"100%\",\n          \"background-width\": \"100%\",\n        }\n      }, {\n        selector: 'node.loss-of-function',\n        style: {\n          \"border-style\": 'dashed',\n          //@ts-ignore\n          \"border-dash-pattern\": this.pm('global', 'thickness', t => [t, t * 2]),\n          \"border-cap\": \"round\"\n        }\n      },\n\n\n      // {\n      //   selector: 'node.RNA.Interactor, node.Protein.Interactor',\n      //   style: {\n      //     \"border-color\": this.p('interactor', 'fill'),\n      //     \"border-width\": this.p('global', 'thickness'),\n      //\n      //   }\n      // },\n      // {\n      //   selector: 'node.Molecule.Interactor',\n      //   style: {\n      //     \"color\": this.p(\"molecule\", 'stroke'),\n      //     \"background-color\": this.p(\"molecule\", 'fill'),\n      //     \"border-color\": this.p(\"interactor\", 'stroke'),\n      //     \"border-width\": this.p(\"global\", 'thickness'),\n      //     // @ts-ignore\n      //     \"corner-radius\": (node: cytoscape.NodeSingular) => Math.min(node.data('width'), node.data('height')) / 2,\n      //   }\n      // },\n\n\n      {\n        selector: 'edge',\n        style: {\n          \"curve-style\": \"straight\",\n          \"line-cap\": \"round\",\n          \"source-endpoint\": \"outside-to-node\",\n          \"arrow-scale\": 1.5,\n\n          'width': this.p('global', 'thickness'),\n          'color': this.p('global', 'onSurface'),\n          'line-color': this.p('global', 'onSurface'),\n          'target-arrow-color': this.p('global', 'onSurface'),\n          'mid-source-arrow-color': this.p('global', 'onSurface'),\n          'mid-target-arrow-color': this.p('global', 'onSurface'),\n          'source-arrow-color': this.p('global', 'onSurface'),\n          // @ts-ignore\n          'source-arrow-width': '100%',\n          // @ts-ignore\n          'target-arrow-width': '100%',\n        }\n      }, {\n        selector: 'edge.disease',\n        style: {\n          \"color\": this.p('global', 'negative'),\n          \"line-color\": this.p('global', 'negative'),\n          \"border-color\": this.p('global', 'negative'),\n          'target-arrow-color': this.p('global', 'negative'),\n          'source-arrow-color': this.p('global', 'negative'),\n        }\n      }, {\n        selector: \"edge.hover\",\n        style: {\n          \"line-color\": this.p('global', 'hoverEdge'),\n          \"width\": this.pm('global', 'thickness', t => t * 1.5),\n          \"arrow-scale\": 1,\n          \"source-arrow-color\": this.p('global', 'hoverEdge'),\n          \"target-arrow-color\": this.p('global', 'hoverEdge'),\n          // @ts-ignore\n          'source-arrow-width': '50%',\n          // @ts-ignore\n          'target-arrow-width': '50%',\n          \"z-index\": 2\n        }\n      }, {\n        selector: \"edge:selected\",\n        style: {\n          \"line-color\": this.p('global', 'selectEdge'),\n          \"width\": this.pm('global', 'thickness', t => t * 2),\n          \"arrow-scale\": 1,\n          \"source-arrow-color\": this.p('global', 'selectEdge'),\n          \"target-arrow-color\": this.p('global', 'selectEdge'),\n          // @ts-ignore\n          'source-arrow-width': '50%',\n          // @ts-ignore\n          'target-arrow-width': '50%',\n          \"z-index\": 3\n        }\n      },\n      {\n        selector: 'edge.consumption',\n        style: {\"target-endpoint\": \"inside-to-node\", \"source-endpoint\": \"outside-to-node\"}\n      }\n      , {\n        selector: 'edge.production',\n        style: {'target-arrow-shape': 'triangle'}\n      }, {\n        selector: 'edge.catalysis',\n        style: {\n          'target-arrow-shape': 'circle',\n          \"target-arrow-fill\": \"hollow\",\n          \"target-arrow-color\": this.p('global', 'positive')\n        }\n      }, {\n        selector: 'edge.positive-regulation',\n        style: {\n          'target-arrow-shape': 'triangle',\n          \"target-arrow-fill\": \"hollow\",\n          \"target-arrow-color\": this.p('global', 'positive')\n        }\n      }, {\n        selector: 'edge.negative-regulation',\n        style: {\n          'target-arrow-shape': 'tee',\n          \"line-cap\": \"butt\",\n          \"source-endpoint\": \"inside-to-node\",\n          \"target-arrow-color\": this.p('global', 'negative')\n        }\n      }, {\n        selector: 'edge.set-to-member',\n        style: {'target-arrow-shape': 'circle', \"line-style\": \"dashed\", \"line-dash-pattern\": [6, 10], \"opacity\": 0.5}\n      }, {\n        selector: 'edge[stoichiometry > 1]',\n        style: {\n          \"text-background-color\": this.p('global', 'surface'),\n          \"text-background-opacity\": 1,\n          \"text-border-width\": this.pm('global', 'thickness', t => t / 2),\n          \"text-border-opacity\": 1,\n          \"text-border-color\": this.p('global', 'onSurface'),\n          \"text-background-shape\": 'roundrectangle',\n          \"text-background-padding\": this.pm('global', 'thickness', t => t + 'px'),\n        }\n      }, {\n        selector: 'edge[stoichiometry > 1].incoming',\n        style: {\n          \"source-label\": \"data(stoichiometry)\",\n          \"source-text-offset\": 30,\n        }\n      }, {\n        selector: 'edge[stoichiometry > 1].outgoing',\n        style: {\n          \"target-label\": \"data(stoichiometry)\",\n          \"target-text-offset\": 35,\n        }\n      }, {\n        selector: \"edge.shadow[?color]\",\n        style: {\n          // @ts-ignore\n          \"underlay-color\": \"data(color)\",\n          \"underlay-padding\": this.p('shadow', 'padding'),\n          \"underlay-opacity\": this.pm('shadow', 'opacity', o => o[0][1] / 100),\n        }\n      }, {\n        selector: \"edge.flag\",\n        style: {\n          // @ts-ignore\n          \"underlay-color\": this.p('global', 'flag'),\n          \"underlay-padding\": 10,\n          \"underlay-opacity\": 1,\n        }\n      }, {\n        selector: \"edge[?weights]\",\n        style: {\n          // @ts-ignore\n          \"curve-style\": \"round-segments\",\n          \"segment-distances\": \"data(distances)\",\n          \"segment-weights\": \"data(weights)\",\n          \"segment-radius\": 30,\n          \"radius-type\": 'influence-radius',\n          // @ts-ignore\n          \"edge-distances\": \"endpoints\",\n        }\n      }, {\n        selector: \"edge[?sourceEndpoint]\",\n        style: {\n          // @ts-ignore\n          \"source-endpoint\": \"data(sourceEndpoint)\",\n        }\n      }, {\n        selector: \"edge[?targetEndpoint]\",\n        style: {\n          // @ts-ignore\n          \"target-endpoint\": \"data(targetEndpoint)\",\n        }\n      }, {\n        selector: \"edge[?sourceLabel]\",\n        style: {\n          \"source-label\": \"data(sourceLabel)\",\n          \"source-text-margin-y\": -12,\n          \"font-weight\": 400\n        }\n      }, {\n        selector: \"edge[?label]\",\n        style: {\n          \"label\": \"data(label)\",\n          \"text-margin-y\": 12,\n          \"font-weight\": 400\n        }\n      },\n      {\n        selector: 'edge.Interactor',\n        style: {\n          'line-color': this.p('interactor', 'stroke'),\n          'line-style': 'dashed',\n          'line-dash-pattern': [1, 8]\n        }\n      },\n      {\n        selector: 'edge.Interactor.disease',\n        style: {\n          'line-color': this.p('global', 'negativeContrast'),\n        }\n      },\n      {\n        selector: 'edge.Interactor.hover',\n        style: {\n          \"line-color\": this.p('global', 'hoverEdge')\n        }\n      },\n      {\n        selector: \"edge[?sourceOffset]\",\n        style: {\n          // @ts-ignore\n          \"source-text-offset\": \"data(sourceOffset)\",\n        }\n      },\n      {\n        selector: \"[?labelColor]\",\n        style: {\n          \"color\": (e: cytoscape.EdgeSingular) => extract(this.p('global', e.data(\"labelColor\")))\n        }\n      }, {\n        selector: \"node.debug\",\n        style: {\n          label: \"data(id)\",\n          \"text-outline-width\": 4,\n          \"text-outline-color\": 'black',\n          \"text-outline-opacity\": 1,\n          color: 'white'\n        }\n      },\n      {\n        selector: \"[?exp]\",\n        style: {\n          \"color\": this.p('global', 'surface'),\n          \"text-outline-width\": 2,\n          \"text-outline-color\": this.p('global', 'onSurface'),\n          \"text-outline-opacity\": 1,\n        }\n      },\n\n      {\n        selector: \"node.Legend.Label\",\n        style: {\n          \"label\": \"data(displayName)\",\n          \"text-halign\": \"center\",\n          \"text-valign\": \"center\",\n          \"font-size\": 24,\n          \"font-weight\": 400,\n          \"background-opacity\": 0,\n          \"color\": this.p('global', 'onSurface')\n        }\n      },\n      {\n        selector: \"node.Legend.Placeholder\",\n        style: {\n          \"background-opacity\": 0,\n          \"border-opacity\": 0,\n          width: 20,\n          height: 20,\n          shape: \"rectangle\"\n        }\n      },\n      {\n        selector: \"node.Legend.Placeholder[?displayName]\",\n        style: {\n          \"label\": \"data(displayName)\",\n          \"font-weight\": 400,\n        }\n      },\n      {\n        selector: '.trivial',\n        style: {\n          'opacity': 0,\n        }\n      },\n    ]\n  }\n\n  clearCache() {\n    this.imageBuilder.cache.clear!()\n    clearDrawersCache();\n  }\n\n  update(cy: cytoscape.Core) {\n    this.clearCache();\n    cy.style(this.getStyleSheet());\n    this.initSubPathwayColors();\n    this.interactivity.triggerZoom();\n  }\n\n  loadAnalysis(cy: cytoscape.Core, paletteType: 'unidirectional' | 'bidirectional') {\n    this.currentPalette = paletteType === 'unidirectional' ?\n      new ContinuousPalette(extract(this.properties.analysis.unidirectionalPalette)) :\n      new ContinuousPalette(extract(this.properties.analysis.bidirectionalPalette));\n    this.imageBuilder.cache.clear!();\n    cy.style(this.getStyleSheet());\n  }\n}\n","/*\n * Public API Surface of reactome-cytoscape-style\n */\n\nexport {Style} from './lib/style';\nexport {UserProperties} from './lib/properties';\nexport {Interactivity} from './lib/interactivity';\nexport * as Types from './lib/types';\nexport {ReactomeEvent, ReactomeEventTarget} from './lib/model/reactome-event.model';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["ReactomeEventTypes","ReactomeEvent","CustomEvent","constructor","type","target","detail","isProvider","property","apply","undefined","extract","defaultable","object","setDefault","key","defaultValue","propertyExtractor","properties","group","propertyMapper","mapper","RouterModule","DiagramComponent","DiagramIteratorComponent","legacyGuard","routes","path","component","canActivate","runGuardsAndResolvers","AppRoutingModule","_","_2","_3","forRoot","bindToComponentInputs","imports","i1","exports","AppComponent","title","selectors","decls","vars","template","AppComponent_Template","rf","ctx","i0","ɵɵelement","BrowserModule","FormsModule","ReactiveFormsModule","CommonModule","HttpClientModule","RouterOutlet","BrowserAnimationsModule","MatButtonModule","MatSlideToggleModule","CdkDrag","CdkDragHandle","MatInputModule","MatSelectModule","MatProgressSpinnerModule","CustomInteractorDialogComponent","MatDialogModule","MatTabsModule","MatCheckboxModule","MatRadioModule","NgxMatFileInputModule","MatIconModule","MatListModule","AppModule","bootstrap","declarations","combineLatest","route","client","router","diagramId","diagramIndex","diagramIds","ngAfterViewInit","params","get","responseType","subscribe","diagrams","split","filter","s","length","next","previous","ɵɵdirectiveInject","ActivatedRoute","i2","HttpClient","Router","viewQuery","DiagramIteratorComponent_Query","ɵɵelementStart","ɵɵlistener","DiagramIteratorComponent_Template_div_keydown_arrowLeft_0_listener","DiagramIteratorComponent_Template_div_keydown_arrowRight_0_listener","DiagramIteratorComponent_Template_button_click_3_listener","ɵɵtext","ɵɵelementEnd","DiagramIteratorComponent_Template_input_ngModelChange_8_listener","$event","DiagramIteratorComponent_Template_button_click_9_listener","ɵɵadvance","ɵɵproperty","cytoscape","Style","delay","distinctUntilChanged","forkJoin","share","Subject","take","FormControl","UntilDestroy","ResourceType","isDefined","DiagramComponent_mat_option_34_Template_mat_option_click_0_listener","ɵɵrestoreView","_r11","ɵɵnextContext","_r5","ɵɵreference","ɵɵresetView","open","ɵɵtemplate","DiagramComponent_mat_option_34_mat_spinner_5_Template","resource_r8","name","active","ɵɵtextInterpolate","ctx_r6","isDataFromPsicquicLoading","selectedPsicquicResource","value","DiagramComponent_mat_selection_list_42_mat_list_option_1_Template_mat_list_option_click_0_listener","restoredCtx","_r15","resourceToken_r13","$implicit","ctx_r14","onCustomResourceChange","DiagramComponent_mat_selection_list_42_mat_list_option_1_Template_button_click_4_listener","ctx_r16","deleteResource","ctx_r12","isSelected","token","summary","DiagramComponent_mat_selection_list_42_mat_list_option_1_Template","ctx_r7","resourceTokens","diagram","dark","interactorsService","state","dialog","cdr","analysis","comparing","fit","psicquicResources","cys","classRegex","ratio","replacedElementsPosition","lastIndex","underlayPadding","syncing","syncViewports","source","sourceContainer","targetContainer","updateReplacementVisibility","position","pan","sourceX","getBoundingClientRect","x","targetX","viewport","zoom","compareDragging","_reactomeEvents$","_ignore","reactomeEvents$","asObservable","pipe","prev","current","reactomeId","flagging","onChange","flag$","forEach","cy","flag","selecting","select$","select","interactoring","overlay$","getInteractors","analysing","analysis$","loadAnalysis","compareBackgroundSync","e","legend","event","src","tgt","cyCompare","replacedBy","element","data","replacements","getElementById","add","elements","applyEvent","interactorOpeningHandling","close","includes","reactomeStyle","reactomeStyleCompare","style","occurrenceNode","nodes","addInteractorNodes","removeInteractorNodes","interactivity","updateProteins","triggerZoom","initialiseReplaceElements","diagram2legend","classes","matchingElement","not","reaction","first","connectedEdges","diagramSelect2state","reactomeIds","map","el","set","legend2state","unselect","hover","addClass","leave","removeClass","ngOnChanges","changes","loadDiagram","$dark","updateStyle","bind","container","cytoscapeContainer","nativeElement","compareContainer","legendContainer","Object","values","addEventListener","shadow","padding","getLegend","getStyleSheet","layout","boxSelectionEnabled","bindToCytoscape","zoomingEnabled","panningEnabled","minZoom","bb","boundingBox","getPsicquicResources","getDiagram","some","node","edges","edge","clearCache","on","navigate","queryParamsHandling","loadCompare","stateToDiagram","batch","getPosition","is","x1","replacedElements","sort","a","b","toArray","addedElement","index","findIndex","splice","removedElement","indexOf","remove","maxZoom","setTimeout","getElements","tokens","collection","startsWith","or","matchArray","match","clazz","drug","and","selected","connectedNodes","accs","flagElements","toFlag","shadowNodes","shadowEdges","trivials","nonempty","setSubPathwayVisibility","visible","opacity","onZoom","off","affectedElements","extent","limitIndex","slice","resource","isCustom","isCustomResource","isPsicquic","pr","STATIC","r","reset","getInteractorData","interactors","addInteractorOccurrenceNode","resources","onPsicquicResourceChange","selectedResource","psicquicSelect","openCustomInteractorDialog","dialogRef","restoreFocus","afterClosed","result","componentInstance","push","detectChanges","sendPostRequest","console","log","removeData","fontSize","fontPadding","entities","foundEntities","pathways","pathwaysResults","p","result$","analysisProfile","analysisIndex","expNames","analysisEntityMap","Map","flatMap","entity","mapsTo","diagramEntity","ids","id","exp","analysisPathwayMap","dbId","normalize","min","max","expression","hasExpression","leaves","leaf","identifier","pathwayData","pValue","found","total","update","dragStart","dragEnd","dragMove","resize","updateLegend","logProteins","debug","Set","analyse","example","DiagramService","DarkService","i3","InteractorService","i4","DiagramStateService","i5","MatDialog","ChangeDetectorRef","i6","AnalysisService","i7","DiagramComponent_Query","DiagramComponent_Template_div_mouseup_6_listener","DiagramComponent_Template_div_mouseleave_6_listener","DiagramComponent_Template_div_mousemove_6_listener","_r17","_r2","DiagramComponent_Template_span_mousedown_7_listener","DiagramComponent_Template_div_cdkDragMoved_11_listener","DiagramComponent_Template_button_click_17_listener","DiagramComponent_Template_button_click_19_listener","DISGENET","DiagramComponent_Template_button_click_21_listener","DiagramComponent_Template_button_click_23_listener","DiagramComponent_Template_button_click_25_listener","DiagramComponent_Template_button_click_27_listener","DiagramComponent_Template_mat_select_selectionChange_32_listener","DiagramComponent_mat_option_34_Template","DiagramComponent_Template_button_click_35_listener","DiagramComponent_Template_mat_slide_toggle_ngModelChange_37_listener","isDark","DiagramComponent_mat_selection_list_42_Template","ɵɵclassProp","ɵɵstyleProp","ɵɵpureFunction1","_c4","_r0","clientHeight","tmp_9_0","ɵɵpipeBind1","__decorate","checkProperties","inject","URL_PATTERN","fragment","queryParams","groups","param","Validators","merge","takeUntilDestroyed","MAT_DIALOG_DATA","InputCategory","Resource","ctx_r0","errorMessage","item_r6","i_r7","ɵɵtextInterpolate1","content","CustomInteractorDialogComponent_mat_form_field_15_Template_ngx_mat_file_input_change_1_listener","_r9","ctx_r8","onFileChange","interactorService","fb","required","pattern","tabId","selectedValue","isDataLoading","items","formGroupValidator","control","fileValue","form","contentValue","urlValue","url","psicquicUrlValue","psicquicUrl","invalid","resourceForm","validators","statusChanges","valueChanges","updateErrorMessage","ngOnInit","hasError","onTabChange","tab","ariaLabelledby","onItemChange","inputElement","files","file","patchValue","submit","userInput","getInputs","getInteractorsFromToken","input","formValue","UPLOAD_URL","prepareFormData","UPLOAD_PSICQUIC_URL","formControl","formData","FormData","append","MatDialogRef","FormBuilder","consts","CustomInteractorDialogComponent_Template","CustomInteractorDialogComponent_Template_input_blur_8_listener","CustomInteractorDialogComponent_mat_error_9_Template","CustomInteractorDialogComponent_Template_mat_tab_group_selectedTabChange_10_listener","CustomInteractorDialogComponent_Template_mat_radio_group_change_13_listener","CustomInteractorDialogComponent_mat_radio_button_14_Template","CustomInteractorDialogComponent_mat_form_field_15_Template","CustomInteractorDialogComponent_mat_form_field_16_Template","CustomInteractorDialogComponent_mat_form_field_17_Template","CustomInteractorDialogComponent_Template_button_click_29_listener","CustomInteractorDialogComponent_mat_spinner_32_Template","tmp_2_0","tmp_7_0","InteractorsLayout","MAX_INTERACTORS","BOX_WIDTH","BOX_HEIGHT","_4","SEPARATION","Math","round","_5","MIN_HEIGHT","_6","MIN_WIDTH","getNumberOfInteractorsToDraw","getSegmentOrigin","edgeIndex","center","width","height","y","getCentre","minX","maxX","minY","maxY","interpolateInLayout","segment","pos","totalPositions","from","to","targetNode","interactorIndex","numberToDraw","centerPosition","lp","LayoutParameter","calculate","edgeNodes","nodeOnTop","nodeCount","prevNodeCount","nodePerEdges","nodeOnRight","nodeOnBottom","nodeOnLeft","edgePos","n","rationalNodePerEdge","baseNodePerEdge","floor","remaining","HttpHeaders","HttpParams","switchMap","environment","http","diagramService","PREFIX_INTERACTOR","host","PREFIX_DISEASE","STATIC_URL","PSICQUIC_RESOURCE_URL","PSICQUIC_URL","TOKEN_URL","DISGENET_URL","DEFAULT_INTERACTOR_WIDTH","DEFAULT_DISGENET_WIDTH","INTERACTOR_PADDING","CHAR_WIDTH","CHAR_HEIGHT","GENE_DECORATION_HEIGHT","identifiers","cyToSelectedResource","getAllIdentifiers","getIdentifiersFromGraph","updateIdentifiersIfNeeded","graphNodes","schemaClass","join","toLowerCase","post","headers","has","previousResource","createInteractorOccurrenceNode","interactorEntity","count","acc","entityNode","displayName","pannable","grabbable","closedNeighborhood","interactor","empty","interactorsData","numberToAdd","dynamicInteractors","existingInteractors","getAllInteractors","allNodes","createInteractorNodes","createInteractorEdges","displayInteractors","diagramNodes","existingNodes","interactorNodes","interactorLayout","alias","defaultType","nodeTypeMap","replace","html","getStructureVideoHtml","accURL","score","evidences","evidenceURLs","evidencesURL","selectable","resourceClass","interactorEdges","targetNodes","edgeToTarget","interactorsToDisplay","layoutOptions","run","removeInteractorEdges","edgesToRemove","getInteractorToken","body","getInteractorsWithToken","psiResource","isFromPSICQUIC","ɵɵinject","factory","ɵfac","providedIn","catchError","of","tap","state$","pathway","foundInteractors","pathwayIds","BehaviorSubject","_isDark","$_dark","_body","document","querySelector","localValue","localStorage","getItem","JSON","parse","window","matchMedia","media","matches","setItem","stringify","classList","isArray","isBoolean","propagate","otherTokens","flagInteractors","overlay","_state$","keys","reduce","prop","v1","v2","toString","v","queryParamMap","mainToken","find","formerValue","rawValue","charAt","parseInt","onPropertyModified","entries","Array","array","cytoscapeFcose","use","posToStr","pointToStr","point","scale","equal","pos1","pos2","avg","positions","sum","squaredDist","pow","dist","sqrt","closestToAverage","average","closest","i","extraLine","reverseExtraLine","reactionTypeMap","edgeTypeMap","edgeTypeToStr","linkClassMap","COMPARTMENT_SHIFT","random","pick","getNormalPathway","graph","forNormalDraw","stableId","normalPathwayId","normalDiagram","normalGraph","shadows","isFadeOut","subpathways","err","mergedResponse","reactionType","connectors","con","renderableClass","links","link","idToEdges","idToNodes","reactomeIdToEdge","edgeIds","forwardArray","segments","assert","size","backwardArray","subpathwayIds","eventIdToSubPathwayId","subpathway","events","entry","subpathwayIdToEventIds","dbIdToGraphNode","mappingList","children","idToGraphNodes","idToGraphEdges","getLeaves","child","dbIdToGraphEdge","hasFadeOut","normalNodes","specialNodes","posToNormalNode","posToSpecialNode","normalEdges","specialEdges","posToNormalEdge","posToSpecialEdge","compartmentNodes","compartments","item","propToRects","left","top","right","bottom","innerCR","outerCR","insets","rects","smallest","abs","Number","MAX_SAFE_INTEGER","layers","textX","textPosition","textY","radius","replacementMap","reactionNodes","replacement","inputs","output","outputs","isBackground","reactionId","entityNodes","isDisease","isCrossed","trivial","needDashedBorder","overlapLimited","connector","preferredId","nodeAttachments","ptm","nodeId","nodeReactomeId","label","shape","centre","triggerPosition","avoidOverlap","T","ARROW_MULT","EDGE_MARGIN","REACTION_RADIUS","MIN_DIST","edgeId","reactionP","nodeP","sourceP","targetP","points","reverse","addEdgeInfo","shift","pop","endShape","relatives","absoluteToRelative","d","otherConnector","samePoint","getEdgeId","stoichiometry","weights","distances","sourceEndpoint","endpoint","targetEndpoint","linkEdges","uniprotId","s3","warn","direction","stop","stopPos","at","unshift","toConvert","mainVector","orthoVector","transform","inv","coord","absolute","relative","multiply","randomNetwork","amount","peTypes","reactionTypes","physicalEntities","parent","reactions","inOut","additionalIn","p1","p2","nodeA","nodeB","limit","rectA","getRect","rectB","o","area","overlap","rect","halfWidth","halfHeight","definitions","createElement","includeLabels","includeNodes","w","h","nodeRepulsion","animate","packComponents","randomize","tile","def","destroy","production","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","error","_typeof","obj","Symbol","iterator","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_defineProperty$1","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_i","_arr","_n","_d","_s","_e","call","done","minLen","_arrayLikeToArray","test","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","f","normalCompletion","didErr","step","return","_window","navigator","typeofstr","typeofobj","typeoffn","typeofhtmlele","HTMLElement","instanceStr","instanceString","fn$6","string","fn","elementOrCollection","plainObject","number$1","number","isNaN","integer","htmlElement","_private","single","core","stylesheet","emptyString","domElement","x2","y1","y2","promise","then","ms","userAgent","memoize$1","memoize","keyFn","arguments","args","memoizedFn","self","ret","k","cache","camel2dash","str","dash2camel","toUpperCase","prependCamel","prefix","substring","capitalize","rgba","rgbaNoBackRefs","hsla","hslaNoBackRefs","hex3","hex6","ascending","descending","extend","assign","j","hex2tuple","hex","shortHex","g","base","hsl2tuple","hsl","l","hue2rgb","q","t","m","RegExp","exec","parseFloat","rgb2tuple","rgb","isPct","channel","atLeastOneIsPct","allArePct","alpha","colorname2tuple","color","colors","color2tuple","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","setMap","options","Error","getMap","isObject","isObject_1","commonjsGlobal","globalThis","global","createCommonjsModule","module","freeGlobal","_freeGlobal","freeSelf","root","Function","_root","now","Date","now_1","reWhitespace","trimmedEndIndex","_trimmedEndIndex","reTrimStart","baseTrim","_baseTrim","Symbol$1","_Symbol","objectProto$5","hasOwnProperty$4","hasOwnProperty","nativeObjectToString$1","symToStringTag$1","toStringTag","getRawTag","isOwn","tag","unmasked","_getRawTag","objectProto$4","nativeObjectToString","objectToString","_objectToString","nullTag","undefinedTag","symToStringTag","baseGetTag","_baseGetTag","isObjectLike","isObjectLike_1","symbolTag","isSymbol","isSymbol_1","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","valueOf","isBinary","toNumber_1","FUNC_ERROR_TEXT$1","nativeMax","nativeMin","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","debounce_1","performance","pnow","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","performanceNow","DEFAULT_HASH_SEED","K","DEFAULT_HASH_SEED_ALT","hashIterableInts","seed","hash","hashInt","num","hashIntAlt","combineHashes","hash1","hash2","combineHashesArray","hashes","hashArrays","hashes1","hashes2","hashIntsArray","ints","hashString","charCodeAt","hashStrings","hashStringsArray","strs","warningsEnabled","warnSupported","traceSupported","trace","MAX_INT$1","trueify","falsify","zeroify","noop$1","noop","msg","warnings","enabled","clone","copy","copyArray$1","copyArray","uuid","_staticEmptyObject","staticEmptyObject","defaults$g","defaults","_defaults","opts","filledOpts","optVal","removeFromArray","ele","oneCopy","clearArray","otherArr","getPrefixedProperty","propName","setPrefixedProperty","ObjectMap","_obj","val","_delete","clear","Map$2","undef","ObjectSet","arrayOrObjectSet","create","_this","callback","Set$1","Element","restore","_p","autoWidth","autoHeight","autoPadding","compoundBoundsClean","listeners","rstyle","styleCxts","styleKeys","removed","locked","grabbed","animation","queue","rscratch","scratch","isNode","traversalCache","backgrounding","bbCache","bbCacheShift","bodyBounds","overlayBounds","labelBounds","all","main","arrowBounds","renderedPosition","rpos","cls","createEmitter","bypass","css","defineSearch","bfs","dfs","searchFn","roots","directed","visit","Q","connectedBy","id2depth","V","_this$byGroup","byGroup","vi","viId","_loop","vId","depth","prevEdge","prevNode","same","vwEdges","_i2","wId","_ret","connectedEles","elesfn$v","breadthFirstSearch","depthFirstSearch","heap$1","Heap","defaultCmp","heapify","heappop","heappush","heappushpop","heapreplace","insort","nlargest","nsmallest","updateItem","_siftdown","_siftup","lo","hi","cmp","mid","concat","lastelt","returnitem","_ref","_len","_ref1","_results","_results1","_j","elem","los","startpos","newitem","parentpos","childpos","endpos","rightpos","pushpop","peek","contains","heap","insert","front","dijkstraDefaults","weight","elesfn$u","dijkstra","_dijkstraDefaults","eles","weightFn","knownDist","unmergeBy","isLoop","getDist","setDist","Infinity","distBetween","u","uvs","edgesTo","edgesWith","intersect","smallestDistance","smallestEdge","_weight","smalletsDist","uid","neighbors","neighborhood","vid","vDist","alt","distanceTo","pathTo","S","spawn","elesfn$t","kruskal","numNodes","forest","A","findSetIndex","setUIndex","setVIndex","setU","setV","aStarDefaults","goal","heuristic","elesfn$s","aStar","_aStarDefaults","sid","tid","gScore","fScore","closedSetIds","openSet","openSetIds","cameFrom","cameFromEdge","addToOpenSet","cMin","cMinId","popFromOpenSet","isInOpenSet","steps","pathNode","pathNodeId","pathEdge","distance","hasElementWithId","wSrc","wTgt","wid","tempScore","floydWarshallDefaults","elesfn$r","floydWarshall","_floydWarshallDefault","N","Nsq","atIndex","edgeNext","st","ts","ik","ij","kj","getArgEle","indexOfArgEle","res","fromNode","bellmanFordDefaults","elesfn$q","bellmanFord","_bellmanFordDefaults","infoMap","hasNegativeWeightCycle","negativeWeightCycles","numEdges","getInfo","getNodeFromTo","$","thisStart","end","_getInfo","pred","info","replacedEdge","checkForEdgeReplacement","node1","node2","info1","info2","srcInfo","tgtInfo","negativeWeightCycleIds","_edge","_src","_tgt","_weight2","srcDist","tgtDist","findNegativeWeightCycles","negativeNodes","numNegativeNodes","start","cycle","_node","smallestId","smallestIndex","c","cycleId","sqrt2","collapse","nodeMap","remainingEdges","edgeInfo","sourceIn","targetIn","partition1","partition2","newEdges","contractUntil","metaNodeMap","sizeLimit","elesfn$p","kargerStein","numIter","ceil","LN2","stopSize","edgeIndexes","minCutSize","minCutEdgeIndexes","minCutNodeMap","metaNodeMap2","copyNodesMap","_i3","iter","_i4","edgesState","edgesState2","res1","res2","cut","witnessNodePartition","_i5","partitionId","constructComponent","subset","components","copyPosition","modelToRenderedPosition","renderedToModelPosition","array2point","begin","isFinite","mean","median","includeHoles","deg2rad","deg","PI","getAngleFromDisp","dispX","dispY","atan2","log2","signum","sqdist","dx","dy","inPlaceSumNormalize","qbezierAt","p0","qbezierPtAt","lineAt","vec","vecDist","normVec","bound","makeBoundingBox","copyBoundingBox","clearBoundingBox","shiftBoundingBox","updateBoundingBox","bb1","bb2","expandBoundingBoxByPoint","expandBoundingBox","expandBoundingBoxSides","_padding","assignBoundingBox","boundingBoxesIntersect","inBoundingBox","pointInBoundingBox","pt","boundingBoxInBoundingBox","roundRectangleIntersectLine","nodeX","nodeY","cornerRadius","getRoundRectangleRadius","doWidth","doHeight","straightLineIntersections","topStartX","topStartY","topEndX","topEndY","finiteLinesIntersect","rightStartX","rightStartY","rightEndX","rightEndY","bottomStartX","bottomStartY","bottomEndX","bottomEndY","leftStartX","leftStartY","leftEndX","leftEndY","arcIntersections","topLeftCenterX","topLeftCenterY","intersectLineCircle","topRightCenterX","topRightCenterY","bottomRightCenterX","bottomRightCenterY","bottomLeftCenterX","bottomLeftCenterY","inLineVicinity","lx1","ly1","lx2","ly2","tolerance","inBezierVicinity","x3","y3","solveQuadratic","sqrtR","denom","root1","root2","solveCubic","epsilon","discriminant","dum1","term1","r13","acos","cos","sqdistToQuadraticBezier","zeroThreshold","minDistanceSquared","curX","curY","distSquared","sqdistToFiniteLine","offset","line","lineSq","hypSq","dotProduct","adjSq","pointInsidePolygonPoints","up","pointInsidePolygon","basePoints","centerX","centerY","transformedPoints","angle","atan","sin","expandedLineSet","expandPolygon","joinLines","pointInsideRoundPolygon","corners","cutPolygonPoints","corner","startX","startY","stopX","stopY","squaredDistance","cx","lineSet","vertices","currentLineStartX","currentLineStartY","currentLineEndX","currentLineEndY","nextLineStartX","nextLineStartY","nextLineEndX","nextLineEndY","intersection","pad","currentPointX","currentPointY","nextPointX","nextPointY","offsetX","offsetY","offsetLength","normalizedOffsetX","normalizedOffsetY","intersectLineEllipse","ellipseWradius","ellipseHradius","newLength","lenProportion","checkInEllipse","t1","t2","tMin","tMax","inRangeParams","nearIntersectionX","nearIntersectionY","farIntersectionX","farIntersectionY","midOfThree","x4","y4","infiniteLines","dx13","dx21","dx43","dy13","dy21","dy43","ua_t","ub_t","u_b","ua","ub","flptThreshold","_min","_max","polygonIntersectLine","intersections","doTransform","currentX","currentY","nextX","nextY","roundPolygonIntersectLine","lines","lowestIntersection","lowestSquaredDistance","shortenIntersection","disp","lenRatio","generateUnitNgonPointsFitToSquare","sides","rotationRadians","generateUnitNgonPoints","fitPolygonToSquare","sx","sy","increment","startAngle","currentAngle","getRoundPolygonRadius","getCutRectangleCornerLength","bezierPtsToQuadCoeff","getBarrelCurveConstants","heightOffset","widthOffset","ctrlPtOffsetPct","pageRankDefaults","dampingFactor","precision","iterations","elesfn$o","pageRank","_pageRankDefaults","numNodesSqd","matrix","columnSum","additionalProb","srcId","tgtId","indexOfId","_n2","_n3","eigenvector","temp","_i6","_j2","_n4","diff","_i7","delta","rank","defaults$f","elesfn$n","degreeCentralityNormalized","degrees","maxDegree","currDegree","degreeCentrality","degree","indegrees","outdegrees","maxIndegree","maxOutdegree","_currDegree","indegree","outdegree","callingEles","_options","connEdges","incoming","outgoing","k_in","k_out","s_in","s_out","dc","dcn","degreeCentralityNormalised","defaults$e","harmonic","elesfn$m","closenessCentralityNormalized","closenesses","maxCloseness","fw","currCloseness","node_i","closeness","closenessCentrality","_defaults2","totalDistance","cc","ccn","closenessCentralityNormalised","defaults$d","elesfn$l","betweennessCentrality","weighted","_C","C","outgoers","openNeighborhood","P","_vid","_v","vEle","edgeWeight","_w","_w2","_v2","betweenness","betweennessNormalized","betweennessNormalised","bc","defaults$c","expandFactor","inflateFactor","multFactor","maxIterations","attributes","setOptions$3","setOptions","getSimilarity$1","getSimilarity","addLoops","M","col","row","_row","mmult","B","expand","_M","inflate","hasConverged","n2","roundFactor","assign$2","clusters","cluster","isDuplicate","c1","c2","removeDuplicates","markovClustering","id2position","sim","isStillMoving","markovClustering$1","mcl","identity","absDiff","addAbsDiff","addSquaredDiff","maxAbsDiff","currentMax","getDistance","getP","getQ","init","dim","euclidean","squaredEuclidean","manhattan","clusteringDistance","method","nodeQ","impl","defaults$b","sensitivityThreshold","testMode","testCentroids","setOptions$2","centroid","mode","noNodeP","randomCentroids","ndim","centroids","classify","buildCluster","assignment","haveValuesConverged","haveMatricesConverged","seenBefore","medoids","randomMedoids","findCost","potentialNewMedoid","cost","kMeans","newCentroid","kMedoids","curCost","minCosts","updateCentroids","U","numerator","denominator","_c","updateMembership","_U","assign$1","_c2","_c3","fuzzyCMeans","degreeOfMembership","kClustering","fcm","defaults$a","linkage","threshold","addDendrogram","dendrogramDepth","linkageAliases","setOptions$1","preferredAlias","mergeClosest","dists","mins","minKey","attrs","n1","_dist","merged","cur","key1","key2","getAllChildren","buildDendrogram","leftStr","rightStr","buildClustersFromTree","hierarchicalClustering","retClusters","hierarchicalClustering$1","hca","defaults$9","preference","damping","minIterations","dmp","pref","validPrefs","attr","getPreference","findExemplars","R","indices","assignClusters","exemplars","ei","_ei","ii","maxI","maxSum","affinityPropagation","old","Rp","se","_i8","max2","AS","_i9","_j3","_j4","_i10","E","_sum","_i11","_j5","exemplarsIndices","clusterIndices","_i12","clusterIndex","affinityPropagation$1","ap","hierholzerDefaults","elesfn$k","hierholzer","_hierholzerDefaults","dflag","oddIn","oddOut","startVertex","ind","outd","d1","d2","isEdge","trail","walk","currentNode","subtour","adj","adjTail","adjHead","hopcroftTarjanBiconnected","edgeCount","stack","visitedEdges","buildComponent","cutset","cutVertex","biconnectedSearch","low","sourceId","targetId","otherNodeId","cutVertices","hopcroftTarjanBiconnected$1","htbc","htb","hopcroftTarjanBiconnectedComponents","tarjanStronglyConnected","stronglyConnectedSearch","sourceNodeId","explored","targetNodeId","componentNodes","componentEdges","difference","tarjanStronglyConnected$1","tsc","tscc","tarjanStronglyConnectedComponents","elesfn$j","STATE_PENDING","STATE_FULFILLED","STATE_REJECTED","api","executor","fulfillValue","rejectReason","onFulfilled","onRejected","proxy","fulfill","reject","deliver","curr","resolver","execute","execute_handlers","handlers","setImmediate","cb","resolve","resolved","ps","resolveAll","rejectAll","vals","doneCount","isPromise","Promise$1","Promise","Animation","opts2","isCore","isEle","duration","started","playing","hooked","applying","progress","completes","frames","complete","startPosition","startStyle","getAnimationStartStyle","startPan","startZoom","anifn","hook","tAni","addToAnimationPool","play","stopped","pause","rewind","fastforward","wasPlaying","completed","swap","_pa","startStyleProp","running","define$3","animated","animatedImpl","selfIsArrayLike","styleEnabled","clearQueue","clearQueueImpl","delayImpl","delayAnimation","delayAnimationImpl","animationImpl","isEles","propertiesEmpty","getPropsList","panBy","cyPan","centerPan","getCenterPan","fitVp","getFitViewport","vp","getZoomedViewport","zoomed","panned","animateImpl","ani","stopImpl","jumpToEnd","anis","ani_p","notify","isArray_1","reIsDeepProp","reIsPlainProp","isKey","_isKey","asyncTag","funcTag","genTag","proxyTag","isFunction","isFunction_1","coreJsData","_coreJsData","maskSrcKey","IE_PROTO","isMasked","_isMasked","funcProto$1","funcToString$1","toSource","_toSource","reRegExpChar","reIsHostCtor","funcProto","objectProto$3","funcToString","hasOwnProperty$3","reIsNative","baseIsNative","_baseIsNative","getValue$1","_getValue","getNative","_getNative","nativeCreate","_nativeCreate","hashClear","__data__","_hashClear","hashDelete","_hashDelete","HASH_UNDEFINED$1","objectProto$2","hasOwnProperty$2","hashGet","_hashGet","objectProto$1","hasOwnProperty$1","hashHas","_hashHas","HASH_UNDEFINED","hashSet","_hashSet","Hash","_Hash","listCacheClear","_listCacheClear","eq","eq_1","assocIndexOf","_assocIndexOf","arrayProto","listCacheDelete","_listCacheDelete","listCacheGet","_listCacheGet","listCacheHas","_listCacheHas","listCacheSet","_listCacheSet","ListCache","_ListCache","Map$1","_Map","mapCacheClear","_mapCacheClear","isKeyable","_isKeyable","getMapData","_getMapData","mapCacheDelete","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","_mapCacheSet","MapCache","_MapCache","FUNC_ERROR_TEXT","memoized","Cache","memoize_1","MAX_MEMOIZE_SIZE","memoizeCapped","_memoizeCapped","rePropName","reEscapeChar","stringToPath","quote","subString","_stringToPath","arrayMap","iteratee","_arrayMap","INFINITY$1","symbolProto","symbolToString","baseToString","_baseToString","toString$1","toString_1","castPath","_castPath","INFINITY","toKey","_toKey","baseGet","_baseGet","get_1","_defineProperty","baseAssignValue","_baseAssignValue","objectProto","assignValue","objValue","_assignValue","reIsUint","isIndex","_isIndex","baseSet","customizer","nested","newValue","_baseSet","set_1","_copyArray","toPath","toPath_1","define$2","field","bindingEvent","allowBinding","allowSetting","allowGetting","settingEvent","settingTriggersEvent","triggerFnName","immutableKeys","beforeGet","beforeSet","onSet","canSet","dataImpl","isPathLike","valid","change","_valid","_ele","triggerEvent","removeDataImpl","names","i_a","l_a","_i_a","_l_a","_privateFields","_keys","_key","validKeyToDelete","define$1","eventAliasesOn","proto","addListener","listen","unlisten","unbind","removeListener","trigger","emit","pon","promiseOn","selector","offArgs","onArgs","define","elesfn$i","elesfn$h","_classes","changed","classesSet","eleClasses","changedEle","eleHasClass","toggleClass","hasClass","className","toggle","toggleUndefd","il","changedNow","flashClass","classNames","metaChar","comparatorOp","boolOp","meta","separator","descendant","subject","directedEdge","undirectedEdge","variable","ops","op","newQuery","checks","Type","GROUP","COLLECTION","FILTER","DATA_COMPARE","DATA_EXIST","DATA_BOOL","META_COMPARE","STATE","ID","CLASS","UNDIRECTED_EDGE","DIRECTED_EDGE","NODE_SOURCE","NODE_TARGET","NODE_NEIGHBOR","CHILD","DESCENDANT","PARENT","ANCESTOR","COMPOUND_SPLIT","TRUE","stateSelectors","isParent","isChildless","isChild","isOrphan","isSimple","lookup","selToFn","stateSelectorMatches","sel","stateSelectorRegex","cleanMetaChars","$1","replaceLastQuery","examiningQuery","replacementQuery","exprs","query","regex","populate","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","valueIsString","operator","_ref13","_ref14","_ref15","_ref16","currentSubject","compoundCount","lastQ","nextQuery","edgeQuery","srcTgtQ","_source","_target","nhoodQ","neighbor","parentChildQuery","compound","_child","_parent","_parent2","_child2","pcQChecks","ancChQuery","ancestor","_descendant","_ancestor","_ancestor2","_descendant2","adQChecks","modifier","topQ","topChk","topType","regexObj","consumeExpr","expr","consumed","consumeWhitespace","inputText","currentQuery","exprInfo","toStringCache","clean","cleanVal","space","checkToString","check","_operator","_field","_field2","_operator2","_field3","queryToString","lhs","sub","rhs","chk","parse$1","valCmp","fieldVal","isFieldStr","isFieldNum","isValStr","fieldStr","valStr","caseInsensitive","notExpr","isIneqCmp","boolCmp","existCmp","data$1","matches$1","every","stateSelector","qA","qB","incomers","ancestors","descendants","selectorFunction","text","matching","Selector","addQuery","selfn","sameText","otherSel","elesfn$g","allAre","selObj","thisLength","collectionLength","anySame","allAreNeighbors","nhood","allAreNeighbours","equals","arg1","arg2","arg3","arg4","selectorOrEles","tch","ch","cacheHit","elesfn$f","parents","commonAncestors","orphans","stdFilter","nonorphans","eleChildren","siblings","forEachCompound","includeSelf","recursiveStep","did","hasCompounds","hasCompoundNodes","addChildren","forEachDown","addParent","forEachUp","addParentAndChildren","forEachUpAndDown","fn$5","elesfn$e","removeScratch","removeRscratch","removeAttr","elesfn$d","defineDegreeFunction","includeLoops","defineDegreeBoundsFunction","degreeFn","minDegree","minIndegree","minOutdegree","totalDegree","fn$4","elesfn$c","beforePositionSet","newPos","silent","oldPos","dirtyBoundingBoxCache","positionDef","validKeys","updateCompoundBounds","dirtyCompoundBoundsCache","silentPosition","_fn","startBatch","_pos","endBatch","silentPositions","silentShift","setting","relativePosition","ppos","_ele2","hasParent","relativeToParent","origin","_hasParent","_relativeToParent","_origin","modelPosition","modelPositions","renderedPoint","relativePoint","fn$3","elesfn$b","renderedBoundingBox","emitAndNotify","force","batching","pstyle","pfValue","includeOverlays","useCache","computeBiasValues","propDiff","propBias","propBiasComplement","biasDiff","biasComplementDiff","biasTotal","computePaddingValues","paddingObject","relativeTo","units","leftVal","rightVal","topVal","bottomVal","widthBiasDiffs","diffLeft","diffRight","heightBiasDiffs","diffTop","diffBottom","noninf","updateBounds","updateBoundsFromBox","b2","prefixedProperty","updateBoundsFromArrow","bounds","headless","halfArW","arrowWidth","arrowType","srcX","srcY","tgtX","tgtY","midX","midY","bbs","updateBoundsFromLabel","prefixDash","strValue","halign","valign","labelWidth","labelHeight","labelX","labelY","marginX","marginY","rotation","outlineWidth","borderWidth","halfBorderWidth","marginOfError","lh","lw","lw_2","lh_2","bbPrefix","isAutorotate","isPfValue","theta","xo","yo","rotate","px1y1","px1y2","px2y1","px2y2","bbPrefixRot","bbRot","updateBoundsFromOutline","outlineOpacity","outlineOffset","nodeShape","outlineSize","scaleX","scaleY","xOffset","yOffset","hDelta","wDelta","oBounds","boundingBoxImpl","ex1","ex2","ey1","ey2","manualExpansion","isDisplayed","displayed","overlayOpacity","overlayPadding","underlayOpacity","includeUnderlays","wHalf","outerWidth","halfW","outerHeight","halfH","includeOutlines","includeEdges","curveStyle","hpts","haystackPts","_temp","endsWith","pts","bezierPts","linePts","n1pos","n2pos","_temp2","_temp3","ghost","gx","gy","bbBody","bbOverlay","bbLabels","includeMainLabels","includeSourceLabels","includeTargetLabels","getKey","tf","incudeNodes","getBoundingBoxPosKey","cachedBoundingBoxImpl","defBbOptsKey","usingDefOpts","currPosKey","isPosKeySame","bbCachePosKey","isDirty","styleDirty","needRecalc","recalculateRenderedStyle","defBbOpts","mainRot","sourceRot","targetRot","filledBbOpts","boundingBoxAt","storeOldPos","bbAtOldPos","getOldPos","boundingbox","renderedBoundingbox","fn$2","elesfn$a","defineDimFns","uppercaseName","autoName","labelName","outerName","uppercaseOuterName","dimImpl","outerDimImpl","border","renderedDimImpl","renderedOuterDimImpl","od","paddedHeight","paddedWidth","widthHeight","ifEdge","getValue","ifEdgeRenderedPosition","getPoint","ifEdgeRenderedPositions","getPoints","controlPoints","renderer","getControlPoints","segmentPoints","getSegmentPoints","getSourceEndpoint","getTargetEndpoint","midpoint","getEdgeMidpoint","mult","renderedName","substr","edgePoints","spec","rName","dimensions","Event","recycle","returnFalse","returnTrue","isImmediatePropagationStopped","isPropagationStopped","isDefaultPrevented","preventDefault","defaultPrevented","originalEvent","namespace","timeStamp","stopPropagation","stopImmediatePropagation","eventRegex","universalNamespace","defaults$8","qualifierCompare","q1","q2","eventMatches","addEventFields","callbackContext","context","beforeEmit","afterEmit","bubble","defaultsKeys","emptyOpts","Emitter","emitting","forEachEvent","handler","qualifier","conf","confOverrides","eventList","evt","makeEventObj","forEachEventObj","eventObj","one","listener","removeAllListeners","extraParams","manualCallback","numListenersBeforeEmit","_loop2","emitterOptions$1","selector1","selector2","once","onceCollection","argSelector$1","argSelector","arg","elesfn$9","emitter","argSel","elesfn$8","_filter","filterEles","include","toRemove","absoluteComplement","mutableElements","col1","col2","col1Smaller","colS","colL","xor","inOther","both","retEles","toAdd","spawnSelf","toAddEle","unmergeAt","unmergedLastEle","lastEleI","lastEle","lastEleId","unmergeOne","unmerge","toRmFn","mapFn","initialValue","valFn","maxEle","minEle","fn$1","union","relativeComplement","subtract","symmetricDifference","symdiff","fnFilter","filterFn","complement","abscomp","elesfn$7","zIndexSort","getDepth","zDepth","depthDiff","getEleDepth","eleDiff","zDiff","poolIndex","elesfn$6","thisSize","last","sortFn","sorted","sortByZIndex","srcDepth","tgtDepth","each","defineSymbolIterator","typeofUndef","isIteratorSupported","getLayoutDimensionOptions","nodeDimensionsIncludeLabels","elesfn$5","layoutDimensions","dims","takesUpSpace","bbDim","layoutPositions","layoutEles","getMemoizeKey","fnMem","animations","calculateSpacing","spacing","nodesBb","spacingVector","useSpacingFactor","spacingFactor","spacingBb","getFinalPos","animateNode","animateFilter","animationDuration","easing","animationEasing","fitAni","zoomPanAni","ready","makeLayout","createLayout","styleCache","cacheStyleFunction","cachedStyleFunction","cachePrototypeStyleFunction","selfFn","cachedPrototypeStyleFunction","elesfn$4","dirtyStyleCache","dirty","notifyRenderer","bEles","batchStyleEles","updatedEles","changedEles","cleanStyle","parsedStyle","includeNonDefault","overriddenStyle","getDefaultProperty","numericStyle","numericStyleUnits","renderedStyle","getRenderedStyle","updateTransitions","applyBypass","getStylePropertyValue","getRawStyle","removeStyle","removeAllBypasses","removeBypasses","show","hide","effectiveOpacity","parentOpacity","checkCompound","parentOk","defineDerivedStateFunction","specs","ok","edgeOkViaNode","eleTakesUpSpace","eleInteractive","parentInteractive","interactive","noninteractive","eleVisible","edgeVisibleViaNode","hidden","isBundledBezier","renderedCss","removeBypass","removeCss","elesfn$3","defineSwitchFunction","_handler","addlEvents","able","ableField","overrideAble","changedColl","defineSwitchSet","overrideField","autolock","autoungrabify","autounselectify","deselect","inactive","elesfn$2","defineDagExtremity","dagExtremityImpl","disqualified","noIncomingEdges","noOutgoingEdges","defineDagOneHop","oEles","defineDagAllHops","sEles","sElesIds","newNext","nid","clearTraversalCache","successors","predecessors","otherNode","neighbourhood","closedNeighbourhood","openNeighbourhood","sourceImpl","targetImpl","sources","defineSourceFunction","targets","defineEdgesWithFunction","thisIsSrc","edgesWithImpl","otherNodes","edgeData","thisToOther","otherToThis","edgeConnectsThisAndOther","thisIsTgt","parallelEdges","defineParallelEdgesFunction","codirectedEdges","codirected","parallelEdgesImpl","edge1","edge1_p","src1","srcid1","tgtid1","srcEdges1","edge2","edge2data","tgtid2","srcid2","oppdirected","visited","unvisited","visitInComponent","cmpt","componentsOf","Collection","unique","createdElements","elesIds","json","_data","_l","element$1","lazyMap","rebuildMap","elesfn$1","$id","_data2","move","newParentValSpecd","checkSwitch","trueFnName","falseFnName","obj_k","jsons","elesArr","addToPool","cy_p","removeFromElements","_data3","fields","fieldsLength","badSourceOrTarget","_data4","parentId","specifiedParent","selfAsParent","restored","_ele3","toUpdateStyle","inside","removeFromPool","elesToRemove","elesToRemoveIds","addConnectedEdges","alreadyAdded","removeEdgeRef","removeParallelRef","pllEdge","alteredParents","removeChildRef","pid","_ele4","pllEdges","elesStillInside","_ele5","removedElements","_ele6","struct","modifyPool","srcExists","tgtExists","_data5","parentExists","pidToAssign","updated","_data6","corefn$9","_jsons","elesByGroup","_jsons2","grs","elesArray","jl","_json","generateCubicBezier","mX1","mY1","mX2","mY2","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","mSampleValues","aA1","aA2","calcBezier","aT","getSlope","newtonRaphsonIterate","aX","aGuessT","currentSlope","calcSampleValues","binarySubdivide","aA","aB","currentT","getTForX","intervalStart","currentSample","lastSample","guessForT","initialSlope","_precomputed","precompute","generateSpringRK4","springAccelerationForState","tension","friction","springEvaluateStateWithDerivative","initialState","dt","derivative","dv","springIntegrateState","dxdt","dvdt","springRK4Factory","initState","time_lapsed","DT","have_duration","last_state","percentComplete","cubicBezier","bezier","percent","easings","linear","spring","getEasedValue","easingFn","roundValue","ease","startProp","endProp","propSpec","easedArr","si","step$1","pEasing","startTime","easingImpl","easingVals","easingProp","startPos","endPos","endPan","animatingPan","endZoom","animatingZoom","_name","easedVal","overrideBypass","startAnimation","stepAll","aniEles","doneEles","stepOne","ranAnis","callbacks","_callbacks","ranEleAni","handledThisEle","ranCoreAni","corefn$8","stopAnimationLoop","animationsRunning","startAnimationLoop","headlessStep","animationStep","beforeRender","rendererAnimationStep","willDraw","beforeRenderPriorities","emitterOptions","elesfn","corefn$7","png","jpg","bg","jpeg","corefn$6","Layout","extension","corefn$5","eventName","eventEles","batchNotifications","notificationsEnabled","destroyed","notifications","bool","noNotifications","batchCount","batchData","rendererDefaults","hideEdgesOnViewport","textureOnViewport","motionBlur","motionBlurOpacity","pixelRatio","desktopTapThreshold","touchTapThreshold","wheelSensitivity","showFps","corefn$4","renderTo","pxRatio","forceRender","invalidateSize","initRenderer","RendererProto","rOpts","destroyRenderer","domEle","_cyreg","childNodes","removeChild","onRender","offRender","invalidateDimensions","corefn$3","styfn$8","FALSE","ie","cxtMeta","getContextMeta","cxtStyle","getContextStyle","app","applyContextStyle","appliedInitStyle","diffProps","hintsDiff","updateStyleHints","getPropertiesDiff","oldCxtKey","newCxtKey","propDiffs","dualCxtKey","cachedVal","addedProp","cxt","oldHasCxt","newHasCxt","cxtHasDiffed","cxtHasMappedProps","mappedProperties","laterCxtOverrides","laterCxt","hasLaterCxt","cxtKey","prevKey","styleCxtKey","contextSelectorMatches","diffPropNames","cxtStyles","contextStyles","hasCxt","retDiffProps","types","diffPropName","cxtProp","eleProp","deleteBypassed","mapped","mapping","fnValue","prevFnValue","retDiffProp","applyParsedProperty","bypassed","propNames","propertyGroupNames","propGrKeys","propertyGroupKeys","propHash","seedKey","getPropertiesHash","oldStyleKey","styleKey","overriddenStyles","grKey","updateGrKey1","updateGrKey2","updateGrKey","updateGrKeyWStr","strVal","cleanNum","parsedProp","propInfo","_grKey","groupKey","normalizedNumberVal","hashOverride","numberVal","enums","haveNormNum","haveUnitedNum","haveNum","multiple","_grKey2","grHash","sk","labelDimsKey","labelDimensions","labelKeys","labelKey","labelStyleKey","commonLabel","sourceLabelKeys","sourceLabelKey","sourceLabelStyleKey","targetLabelKeys","targetLabelKey","targetLabelStyleKey","_p$styleKeys","nodeBody","nodeBorder","nodeOutline","backgroundImage","pie","nodeKeys","nodeKey","hasPie","clearStyleHints","flatProp","propIsBypass","origProp","origPropIsBypass","flatPropMapping","getVal","checkTriggers","fromVal","toVal","deleteBypass","printMappingErr","mapData","fieldWidth","fieldMax","fieldMin","r1","valueMin","r2","valueMax","g1","g2","b1","a1","a2","clr","calcValue","_fields","_fieldVal","fnRetVal","cleanElements","keepBypasses","anyPrev","styProp","diffProp","prevProp","fromProp","toProp","initVal","initDt","transitioning","checkTrigger","fromValue","toValue","getTrigger","onTrigger","triggerCheck","checkZOrderTrigger","triggersZOrder","checkBoundsTrigger","triggersBounds","triggersBoundsOfParallelBeziers","triggersBoundsOfConnectedEdges","styfn$7","isBypass","_parsedProp","specifiedProps","_name2","_value","_parsedProp2","_prop","isColor","isMulti","mutiple","oldValue","propertyNames","styfn$6","getEmSizeInPixels","px","containerCss","containerWindow","getComputedStyle","getPropertyValue","styfn$5","isRenderedVal","getIndexedStyle","subproperty","pointsTo","styleProp","getRenderedValue","getValueStringWithUnits","isArrayValue","haveUnits","aniProps","aniProp","propsObj","getNonDefaultPropertiesHash","chVal","styfn$4","appendFromJson","fromJson","resetToDefault","defaultLength","styfn$3","appendFromString","selAndBlockStr","blockRem","propAndValStr","removeSelAndBlockFromRemaining","removePropAndValFromRem","nothingLeftToParse","selAndBlock","selectorStr","blockStr","invalidBlock","_nothingLeftToParse","propAndVal","propStr","fromString","styfn$2","hex3$1","hex6$1","mapArg","urlRegexes","implicitUnits","percentages","zeroOneNumber","unitless","zeroOneNumbers","nOneOneNumber","nonNegativeInt","nonNegativeNumber","nodeSize","numbers","positiveNumber","strictMin","bidirectionalSize","bidirectionalSizeMaybePercent","allowPercent","bidirectionalSizes","sizeMaybePercent","axisDirection","paddingRelativeTo","bgWH","bgPos","bgRelativeTo","bgRepeat","bgFit","bgCrossOrigin","bgClip","bgContainment","fill","bools","lineStyle","lineCap","linePosition","lineJoin","borderStyle","radiusType","fontFamily","fontStyle","fontWeight","textDecoration","textTransform","textWrap","textOverflowWrap","textBackgroundShape","overlayShape","compoundIncludeLabels","arrowShape","arrowFill","display","visibility","zCompoundDepth","zIndexCompare","justification","layoutData","mapLayoutData","mapScratch","regexes","singleRegexMatchValue","urls","propList","textRotation","polygonPointList","evenMultiple","edgeDistances","edgeEndpoint","singleEnum","validate","valArr","unitsArr","gradientDirection","boundsExpansion","zeroNonZero","val1","val2","any","emptyNonEmpty","str1","str2","empty1","empty2","mainLabel","sourceLabel","targetLabel","behavior","underlay","transition","nodeSizeHashOverride","edgeLine","pieBackgroundN","edgeArrow","arrowPrefixes","propGroups","propertyGroups","propGroupNames","propGroupKeys","aliases","pointsToProp","aliasProp","getDefaultProperties","defaultProperties","rawProps","parsedProps","addDefaultStylesheet","styfn$1","propIsFlat","parseImplWarn","flatKey","bypassKey","valueKey","argHash","propCache","parseImpl","passedValue","trim","_mapped","pfValArr","hasEnum","checkEnums","en","unitsRegex","strictMax","propsStr","propsSplit","tuple","enumProp","coreStyle","styfn","ele_p","mapVal","cssRule","currentSelectorIsCore","appendToStyle","corefn$2","newStyle","setStyle","generateStyle","defaultSelectionType","corefn$1","selectionType","selType","userPanningEnabled","userZoomingEnabled","arg0","viewportState","bbe","zoomRange","currentPan","currentZoom","bail","level","pan1","zoom1","zoom2","pan2","zoomDefd","panDefd","zoomFailed","panFailed","z","cancelOnFailedZoom","sizeCache","clientWidth","rb","renderedExtent","multiClickDebounceTime","_int","autolockNodes","autoungrabifyNodes","Core","reg","readies","head","defVal","altVal","loadExtData","extData","anyIsPromise","rendererOptions","setElesAndLayout","onload","ondone","oldEles","layoutOpts","thens","initStyle","initEles","corefn","isReady","isHeadless","ownerDocument","defaultView","mount","unmount","getFreshRef","idInJson","updateEles","gr","toMod","_toMod$_i","parentsToRemove","flat","defaults$7","circle","grid","depthSort","deprecatedOptionDefaults","maximal","acyclic","setInfo","BreadthFirstLayout","maximalAdjustments","rootsArray","comp","compRoots","depths","foundByBfs","addToDepth","changeDepth","newDepth","pNode","orphanNodes","assignDepthsAt","assignDepths","adjustMaximally","shifted","eInfo","maxDepth","incmr","iInfo","enqueue","dequeue","didShift","minDistance","nbb","cachedWeightedPercent","getWeightedPercent","eleDepth","samples","bf","nDepth","apct","bpct","orphanDepth","biggestDepthSize","maxDepthSize","_getInfo2","depthSize","distanceX","distanceY","radiusStepSize","epos","defaults$6","sweep","clockwise","CircleLayout","counterclockwise","dTheta","dcos","dsin","rMin","getPos","rx","ry","defaults$5","equidistant","minNodeSpacing","concentric","levelWidth","ConcentricLayout","nodeValues","maxNodeSize","levels","currentLevel","minDist","firstLvlHasMulti","maxR","rStep","rDeltaMax","_r","_level","rDelta","_level2","_level3","_dTheta","_val","DEBUG","defaults$4","animationThreshold","refresh","componentSpacing","nodeOverlap","idealEdgeLength","edgeElasticity","nestingFactor","gravity","initialTemp","coolingFactor","minTemp","CoseLayout","notEdges","hasSource","hasTarget","layoutInfo","createLayoutInfo","printLayoutInfo","randomizePositions","refreshPositions","mainLoop","temperature","getScaledPos","getScaleInBoundsFn","loopRet","frame","separateComponents","thread","isCompound","layoutNodes","idToIndex","graphSet","indexToGraph","layoutEdges","edgeSize","id2cmptId","tempNode","isLocked","cmptId","positionX","positionY","padLeft","padRight","padTop","padBottom","tempGraph","p_id","node_id","node_ix","tempEdge","idealLength","elasticity","sourceIx","targetIx","sourceGraph","targetGraph","lca","findLCA","lcaGraph","findLCA_aux","graphIx","nodeIx","childGraphIx","coseBB","lnode","pctX","pctY","_step","calculateNodeForces","calculateEdgeForces","calculateGravityForces","propagateForces","updatePositions","randomDistance","cmptId1","cmptId2","directionX","directionY","maxRandDist","nodesOverlap","forceX","forceY","point1","findClippingPoint","point2","distanceSqr","dX","dY","overlapX","overlapY","X","Y","H","W","dirSlope","nodeSlope","lx","ly","distThreshold","fx","fy","nodeIndex","offX","offY","childNode","tempForce","limitForce","updateAncestryBoundaries","cid","totalA","usedW","rowH","maxRowW","defaults$3","avoidOverlapPadding","condense","rows","cols","GridLayout","cells","splits","small","large","oRows","oCols","columns","sm","lg","_sm","_lg","cellWidth","cellHeight","cellUsed","used","moveToNextCell","id2manPos","rcPos","defaults$2","NullLayout","defaults$1","PresetLayout","posIsFn","RandomLayout","NullRenderer","throwImgErr","BRp$f","arrowShapeWidth","registerArrowShapes","arrowShapes","bbCollide","translation","edgeWidth","xRotated","yRotated","xScaled","yScaled","xTranslated","yTranslated","transformPoints","retPts","pointsToArr","standardGap","defineArrowShape","defn","collide","roughCollide","draw","arrowShapeImpl","gap","controlPoint","ptsTrans","ctrlPt","ctrlPtTrans","pointsTee","triPts","teePts","pointsTr","circleInside","getArrowWidth","baseCrossLinePts","crossLinePts","shiftFactor","y0","BRp$e","projectIntoViewport","clientX","clientY","offsets","findContainerClientCoords","offsetLeft","offsetTop","containerBB","styleValue","paddingHor","paddingVer","borderHor","unscaledW","unscaledH","invalidateContainerClientCoordsCache","findNearestElement","interactiveElementsOnly","isTouch","findNearestElements","getCachedZSortedEles","near","edgeThreshold","nodeThreshold","labelThreshold","minSqDist","nearEdge","nearNode","addEle","sqDist","checkNode","hw","hh","rs","nodeShapes","getNodeShape","checkPoint","checkEdge","styleWidth","widthSq","width2","edgeType","allpts","arSize","arrows","arrowStartX","arrowStartY","srcArrowAngle","arrowEndX","arrowEndY","tgtArrowAngle","midsrcArrowAngle","midtgtArrowAngle","ar","preprop","pre","checkLabel","th","eventsEnabled","ox","oy","getAllInBox","box","x1c","x2c","y1c","y2c","boxBb","nodeBb","endX","endY","allInside","BRp$d","calculateArrowAngles","isHaystack","isBezier","isMultibezier","isSegments","isSelf","segpts","bX","bY","isRound","midVector","cpts","ctrlpts","bp0x","bp0y","bp1x","bp1y","ic","midDispX","midDispY","getArrowHeight","arrowWidthCache","sinA","sinA90","radDirection","drawDirection","halfAngle","cRadius","lenOut","lastPoint","asVec","pp","nx","ny","ang","invertVec","originalV","invertedV","calcCornerArc","previousPoint","currentPoint","nextPoint","radiusMax","isArcRadius","asin","drawPreparedRoundCorner","roundCorner","lineTo","arc","endAngle","counterClockwise","getRoundCorner","BRp$c","findMidptPtsEtc","pairInfo","posPts","intersectionPts","vectorNormInverse","midptPts","srcManEndpt","tgtManEndpt","haveManualEndPts","recalcVectorNormInverse","_this$manualEndptToPx","manualEndptToPx","_this$manualEndptToPx2","_this$manualEndptToPx3","_this$manualEndptToPx4","endPts","findHaystackPoints","haystack","srcPos","tgtPos","srcW","tgtW","srcH","tgtH","halfRadius","storeEdgeProjections","recalculateEdgeLabelProjections","calculateLabelAngles","findSegmentsPoints","segmentWs","segmentDs","segmentRs","segmentTs","segmentsN","lastRadius","lastRadiusType","radii","w1","w2","_this$findMidptPtsEtc","adjustedMidpt","findLoopPoints","edgeIsUnbundled","dirCounts","ctrlptDists","ctrlptDist","loopDir","loopSwp","stepSize","loopDist","loopAngle","outAngle","inAngle","String","findCompoundLoopPoints","loopW","loopaPos","loopbPos","loopPos","minCompoundStretch","compoundStretchA","compoundStretchB","findStraightEdgePoints","findBezierPoints","edgeIsSwapped","ctrlptWs","bezierN","ctrlptWeight","multi","normctrlptDist","manctrlptDist","sign","distanceFromMidpoint","_this$findMidptPtsEtc2","findTaxiPoints","VERTICAL","HORIZONTAL","LEFTWARD","RIGHTWARD","DOWNWARD","UPWARD","AUTO","dIncludesNodeBody","taxiDir","rawTaxiDir","taxiTurn","turnIsPercent","taxiTurnPfVal","turnIsNegative","minD","dw","dh","pdx","pdy","subDWH","dxy","dwh","isExplicitDir","isVert","pl","sgnL","forcedDir","getIsTooClose","isTooCloseSrc","isTooCloseTgt","isTooClose","lShapeInsideSrc","lShapeInsideTgt","_lShapeInsideSrc","_lShapeInsideTgt","_y","_x","_x2","_x3","_y2","_y3","_y4","_x4","_x5","_x6","_y5","_y6","tryToCorrectInvalidPoints","srcShape","tgtShape","srcCornerRadius","tgtCornerRadius","srcRs","tgtRs","badStart","badAStart","badEnd","badAEnd","minCpADistFactor","arrowW","minCpADist","startACpDist","closeStartACp","endACpDist","closeEndACp","overlapping","cpD","cpL","cpM","cpProj","srcCtrlPtIntn","intersectLine","_cpD","_cpL","_cpM","_radius","_cpProj","tgtCtrlPtIntn","findEndpoints","storeAllpts","mt","roundCorners","factor","checkForInvalidEdgeWarning","loggedErr","findEdgeControlPoints","hashTable","pairId","map2","pairIds","haystackEdges","edgeIsBezier","srcIndex","tgtIndex","tableEntry","hasUnbundled","hasBezier","swappedpairInfo","firstEdge","_curveStyle","_edgeIsUnbundled","calculatedIntersection","srcOutside","srcIntn","tgtOutside","tgtIntn","vector","vectorNorm","passedPairInfo","getPts","BRp$b","npos","tgtArShape","srcArShape","et","taxi","hasEndpts","overrideEndpts","srcManEndptVal","tgtManEndptVal","p1_i","p2_i","cpStart","cpEnd","srcArrowFromPt","tgtArrowFromPt","trs","lw2","lh2","va","ha","labelIntersect","refPt","intSqdist","labIntSqdist","labInt2SqDist","arrowEnd","edgeEnd","srs","_lw","_lh","_lx","_ly","_lw2","_lh2","_va","_ha","_labelIntersect","_refPt","_intSqdist","_labIntSqdist","_minSqDist","_labInt2SqDist","arrowStart","edgeStart","badLine","BRp$a","pushBezierPts","qbezierAt$1","p3","bpts","bezierProjPcts","lpts","recalculateEdgeProjections","BRp$9","recalculateNodeLabelProjection","nodeWidth","nodeHeight","nodePos","textHalign","textValign","applyLabelDimensions","lineAngleFromDelta","lineAngle","bezierAngle","t0","lp0","lp1","setRs","midAngle","createControlPointInfo","startDist","nProjs","addSegment","cp","prevSegment","prevCp","calculateEndProjection","isSrc","cps","totalDist","_cp","_seg","lastSeg","seg","tSegment","segDt","di","d0","pD","_t","applyPrefixedLabelDimensions","getLabelText","labelDims","calculateLabelDimensions","lineHeight","numLines","normPerLineHeight","labelLineHeight","pfd","wrapStyle","zwsp","maxW","overflow","overflowAny","wrappedLines","separatorRegex","lineDims","lineW","processedLine","separatorMatches","matchAll","subline","previousIndex","_iterator","separatorMatch","wordSeparator","word","testLine","testDims","testW","_maxW","ellipsized","ellipsis","incLastCh","widthWithNextCh","getLabelJustification","cacheKey","labelDimCache","existingVal","fStyle","family","canvas","labelCalcCanvas","c2d","labelCalcCanvasContext","getContext","ds","zIndex","pointerEvents","font","metrics","measureText","calculateLabelAngle","rot","rotStr","labelAutoAngle","labelAngle","sourceLabelAngle","targetLabelAngle","BRp$8","TOO_SMALL_CUT_RECT","warnedCutRect","makePolygon","BRp$7","registerCalculationListeners","elesToUpdate","dirtyStyleCaches","cleanConnected","binder","onDirtyBounds","onDirtyStyle","updateEleCalcs","fns","onUpdateEleCalcsFns","flushRenderedStyleQueue","eleCalcs","onUpdateEleCalcs","isCleanConnected","_p2","_rstyle","nodeW","nodeH","_p3","_rstyle2","BRp$6","updateCachedGrabbedEles","cachedZSortedEles","drag","nondrag","grabTargets","inDragLayer","invalidateCachedZSortedEles","forceRecalc","BRp$5","BRp$4","getCachedImage","crossOrigin","onLoad","imageCache","image","Image","dataUriPrefix","isDataUri","BRp$3","registerBinding","useCapture","tgtIsDom","supportsPassiveEvents","supportsPassive","capture","passive","bindings","nodeIsDraggable","nodeIsGrabbable","load","triggerEvents","isMultSelKeyDown","shiftKey","metaKey","ctrlKey","allowPanningPassthrough","down","downs","allowPassthrough","setGrabbed","setFreed","setInDragLayer","setOutDragLayer","setGrabTarget","isGrabTarget","removeGrabTarget","addToDragList","list","addToList","listHasEle","addDescendantsToDrag","innerNodes","addNodesToDrag","updateAncestorsInDragLayer","addNodeToDrag","freeDraggedElements","grabbedEles","blurActiveDomElement","activeElement","blur","haveMutationsApi","MutationObserver","haveResizeObserverApi","ResizeObserver","removeObserver","mutns","mutn","rNodes","removedNodes","rNode","parentNode","observe","childList","onResize","styleObserver","resizeObserver","invalidateCoords","inBoxSelection","selection","eventInContainer","containerPageCoords","touches","atLeastOnePosInside","tParent","containerIsTarget","mousedownHandler","hoverData","which","gpos","nears","draggedElements","dragData","possibleDragElements","mdownPos","mdownGPos","checkForTaphold","tapholdCancelled","tapholdTimeout","tapholdDuration","cxtStarted","cxtEvt","activate","downTime","getTime","cxtDragged","makeEvent","triggerGrab","selectedNodes","redrawHint","bgActivePosistion","redraw","mousemoveHandler","draggingEles","dragging","isOverThresholdDrag","dx2","dy2","dist2","desktopTapThreshold2","multSelKeyDown","updateDragDelta","dragDelta","goIntoBoxMode","cxtOver","deltaP","justStartedPan","mdPos","dragged","unactivate","didDrag","justStartedDrag","totalShift","clickTimeout","didDoubleClick","prevClickTimeStamp","mouseupHandler","cxtTap","eleWouldBeSelected","downWasGrabbed","wheelHandler","scrollingPage","wheelZooming","wheelTimeout","deltaY","wheelDeltaY","wheelDelta","needsWheelFix","deltaMode","newZoom","gestureStartZoom","scrollHandler","scrollingPageTimeout","gestureStartHandler","hasTouchStarted","mouseOutHandler","mouseOverHandler","f1x1","f1y1","f2x1","f2y1","distance1","distance1Sq","center1","modelCenter1","containerWidth","containerHeight","twoFingersStartInside","distanceSq","touchstartHandler","touchData","earlier","singleTouchMoved","touchDragEles","cxtDistThreshold","cxtDistThresholdSq","near1","near2","starts","draggedEles","singleTouchStartTime","pinching","sPos","touch0","startGPosition","touchmoveHandler","startGPos","touchTapThreshold2","f1x2","f1y2","f2x2","f2y2","distance2Sq","factorSq","distThresholdSq","factorThreshold","factorThresholdSq","lastThreeTouch","didSelect","de_p","_start","distance2","df1x","df1y","df2x","df2y","tx","ty","ctrx","ctry","swipePanning","touchcancelHandler","touchendHandler","didDoubleTouch","touchTimeout","prevTouchTimeStamp","ctxTapend","ctxTap","startWasGrabbed","rdist2","TouchEvent","pointers","makeTouch","pointerId","pageX","pageY","radiusX","radiusY","screenX","screenY","makePointer","touch","addPointer","removePointer","updatePointer","addTouchesToEvent","pointerIsMouse","pointerType","BRp$2","generatePolygon","nodeShapeImpl","generateEllipse","generateRoundPolygon","getOrCreateCorners","generateRoundRectangle","diam","generateCutRectangle","cornerLength","generateCutTrianglePts","cl","xBegin","xEnd","yBegin","yEnd","topLeft","topRight","bottomRight","bottomLeft","cPts","cutTrianglePts","generateBarrel","bPts","generateBarrelBezierPts","approximateBarrelCurvePts","m0","m1","m2","curveConstants","hOffset","wOffset","ctrlPtXOffset","isTop","isBottom","barrelCurvePts","getCurveT","curvePts","x0","xMin","xMax","yMin","yMax","coeff","validRoots","curveRegions","cornerPts","bezY","generateBottomRoundrectangle","topIntersections","registerNodeShapes","diamondPoints","star5Points","outerPoints","innerPoints","innerRadius","tagPoints","BRp$1","timeToRender","redrawTotalTime","redrawCount","averageRedrawTime","lastRedrawTime","lastDrawTime","requestedFrame","renderOptions","priority","cbs","beforeRenderCallbacks","startRenderLoop","renderLoopStarted","renderFn","requestTime","skipFrame","render","endTime","BaseRenderer","BR","BRp","clientFunctions","ctr","stylesheetId","stylesheetAlreadyExists","textContent","insertBefore","computedStyle","triggerMode","initialPan","redraws","motionBlurEnabled","forcedPixelRatio","motionBlurTransparency","motionBlurPxRatio","mbPxRBlurry","minMbLowQualFrames","fullQualityMb","clearedForMotionBlur","eleTxrDeq","lyrTxrDeq","lyrTxrSkip","matchCanvasSize","binding","removeEventListener","disconnect","labelCalcDiv","fullFpsTime","defs","setupDequeueing","setupDequeueingImpl","dequeueingSetup","queueRedraw","deqRedrawThreshold","frameStartTime","avgRenderTime","renderTime","deqd","getPixelRatio","frameDuration","timeAvailable","deqFastCost","deqCost","deqAvgCost","deqNoDrawCost","thisDeqd","deq","onDeqd","shouldRedraw","ElementTextureCacheLookup","doesEleInvalidateKey","idsByKey","keyForId","cachesByLvl","lvls","getIdsFor","addIdForKey","deleteIdForKey","getNumberOfIdsForKey","updateKeyMappingFor","currKey","deleteKeyMappingFor","keyHasChangedFor","newKey","isInvalid","getCachesAt","lvl","caches","getCache","getForCachedKey","hasCache","setCache","deleteCache","invalidateKey","invalidate","entireKeyInvalidated","minTxrH","txrStepH","minLvl$1","maxLvl$1","maxZoom$1","eleTxrSpacing","defTxrWidth","maxTxrW","maxTxrH","minUtility","maxFullness","maxFullnessChecks","deqCost$1","deqAvgCost$1","deqNoDrawCost$1","deqFastCost$1","deqRedrawThreshold$1","maxDeqSize$1","getTxrReasons","downscale","highQuality","initDefaults","drawElement","getBoundingBox","getRotationPoint","getRotationOffset","isVisible","allowEdgeTxrCaching","allowParentTxrCaching","ElementTextureCache","initOptions","onDequeues","ETCp","reasons","getTextureQueue","txrH","eleImgCaches","getRetiredTextureQueue","rtxtrQs","retired","rtxtrQ","getElementQueue","eleCacheQueue","reqs","getElementKeyToQueue","k2q","eleKeyToCacheQueue","getElement","reason","eleScaledH","eleScaledW","scaledLabelShown","eleTextBiggerThanMin","eleCache","invalidated","texture","invalidatedWidth","txrQ","txr","addNewTxr","recycleTexture","addTexture","usedWidth","scalableFrom","otherCache","deqing","highQualityReq","downscaleReq","higherCache","oneUpCache","drawImage","setTransform","clearRect","queueElement","lowerCache","_l2","translate","eleCaches","checkTextureFullness","invalidateElements","invalidateElement","noOtherElesUseCache","_cache","checkTextureUtility","removeFromQueue","retireTexture","fullnessChecks","minW","makeOffscreenCanvas","existingReq","req","dequeued","cacheExists","onDequeue","offDequeue","defNumLayers","minLvl","maxLvl","refineEleDebounceTime","maxDeqSize","invalidThreshold","maxLayerArea","useHighQualityEleTxrReqs","LayeredTextureCache","layersByLevel","firstGet","lastInvalidationTime","skipping","eleTxrDeqs","scheduleElementRefinement","refineElementTextures","qSort","layersQueue","LTCp","layerIdPool","MAX_INT","makeLayer","layer","elesQueue","getLayers","validateLayersElesOrdering","layersByLvl","lvlComplete","levelIsComplete","tmpLayers","checkTempLevels","canUseAsTmpLvl","checkLvls","dir","getBb","after","maxElesPerLayer","allowLazyQueueing","imgLayerCaches","existingLayer","queueLayer","drawEleInLayer","getEleLevelForLayerLevel","setImgSmoothing","drawCachedElement","numElesInLayers","invalidateLayer","updateElementsInLayers","haveLayers","invalAssocLayers","refineEachEle","rLyr","replaces","enqueueElementRefinement","elesQ","hasId","eleDeqs","applyLayerReplacement","requestRedraw","layersInLevel","replaced","CRp$a","polygon","triangleBackcurve","firstPt","quadraticCurveTo","triangleTee","trianglePoints","teePoints","beginPath","firstTeePt","moveTo","closePath","circleTriangle","firstTrPt","CRp$9","shiftToOriginWithBb","showLabel","showOverlay","showOpacity","drawNode","drawEdge","drawElementOverlay","drawNodeOverlay","drawEdgeOverlay","drawElementUnderlay","drawNodeUnderlay","drawEdgeUnderlay","drawCachedElementPortion","eleTxrCache","getRotation","getOpacity","smooth","rotPt","getImgSmoothing","oldGlobalAlpha","globalAlpha","getZeroRotation","getLabelRotation","getTextAngle","getSourceLabelRotation","getTargetLabelRotation","getTextOpacity","requestHighQuality","_r$data","lblTxrCache","slbTxrCache","tlbTxrCache","drawElements","drawCachedElements","drawCachedNodes","drawLayeredElements","lyrTxrCache","CRp$8","drawLabel","shouldDrawOverlay","shouldDrawOpacity","lineOpacity","effectiveLineOpacity","effectiveArrowOpacity","drawLine","strokeOpacity","eleStrokeStyle","drawEdgeTrianglePath","lineWidth","drawEdgePath","drawOverlay","drawUnderlay","drawArrows","arrowOpacity","drawArrowheads","drawText","drawElementText","ghostOpacity","effectiveGhostOpacity","drawEdgeOverlayUnderlay","overlayOrUnderlay","usePaths","colorStrokeStyle","canvasCxt","pathCacheHit","lineDashPattern","lineDashOffset","pathCacheKey","keyMatches","pathCache","Path2D","setLineDash","stroke","fillStyle","strokeStyle","normal","triangleHead","drawArrowhead","arrowClearFill","pArrowWidth","edgeOpacity","gco","globalCompositeOperation","colorFillStyle","drawArrowShape","shapeWidth","canvasContext","shapeImpl","arrowPathCache","cachedPath","CRp$7","safeDrawImage","img","ix","iy","iw","ih","drawInscribedImage","nodeOpacity","styleObj","repeat","paddingX2","nodeTW","nodeTH","clip","shouldClip","imgOpacity","imgW","cachedW","imgH","cachedH","appendChild","offsetWidth","offsetHeight","posXUnits","posXPfVal","offXUnits","offXPfVal","posYUnits","posYPfVal","offYUnits","offYPfVal","gAlpha","smoothingEnabled","isSmoothingSwitched","save","createPattern","CRp$6","computedSize","minSize","useEleOpacity","textAlign","textBaseline","_label","srcLabel","tgtLabel","applyRotation","getFontCache","fontCaches","setupTextStyle","labelStyle","labelSize","labelFamily","labelWeight","outlineColor","roundRect","pdash","textAngle","orgTextX","orgTextY","textW","textH","backgroundOpacity","borderOpacity","textBorderWidth","backgroundPadding","styleShape","rounded","roundRadius","bgX","bgY","bgW","bgH","textFill","textBackgroundColor","fillRect","textStroke","textLineWidth","textBorderColor","textBorderStyle","strokeRect","whiteWidth","halfTextW","strokeText","fillText","CRp$5","eleOpacity","bgImgProp","urlDefined","numImages","defd","bgImgCrossOrigin","backgroundTimestamp","darkness","bgOpacity","borderColor","borderJoin","borderCap","borderPosition","borderPattern","borderOffset","outlineStyle","setupShapeColor","bgOpy","eleFillStyle","setupBorderColor","bdrOpy","setupOutlineColor","otlnOpy","getPath","nodePathCache","shapePts","shapePath","drawShape","drawImages","prevBging","totalCompleted","drawPie","redrawShape","pieOpacity","darken","darkenOpacity","drawBorder","region","addPath","drawOutline","bWidth","sWidth","sHeight","_path","outlinePath","drawEllipsePath","sMult","drawRoundPolygonPath","drawRoundRectanglePath","drawCutRectanglePath","drawBottomRoundRectanglePath","drawBarrelPath","drawPolygonPath","_pad","effGhostOpacity","drawNodeOverlayUnderlay","cyStyle","pieSize","lastPercent","angleStart","angleDelta","angleEnd","CRp$4","motionBlurDelay","contexts","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","devicePixelRatio","paintCache","paintCaches","needToCreateCache","createGradientStyleFor","shapeStyleName","gradientStyle","createRadialGradient","_end","createLinearGradient","_width","_height","hasPositions","addColorStop","gradientFillStyle","backgroundFill","backgroundColor","gradientStrokeStyle","lineFill","lineColor","mbPxRatio","bufferCanvases","MOTIONBLUR_BUFFER_NODE","MOTIONBLUR_BUFFER_DRAG","canvasWidth","canvasHeight","canvasContainer","CANVAS_LAYERS","canvases","BUFFER_COUNT","textureMult","TEXTURE_BUFFER","forcedContext","forcedZoom","forcedPan","drawAllLayers","forcedPxRatio","drawOnlyNodeLayer","needDraw","canvasNeedsRedraw","textureDraw","inNodeDragGesture","motionBlurFadeEffect","prevPxRatio","motionBlurTimeout","mbFrames","clearingMotionBlur","textureDrawLastFrame","NODE","SELECT_BOX","effectiveZoom","effectivePan","prevVp","prevViewport","viewportIsDiff","mbclear","setContextTransform","ePan","eZoom","bufferContexts","textureCache","mpan","DRAG","outsideBgColor","outsideBgOpacity","vpManip","hideEdges","needMbClear","useBuffer","drawDebugPoints","fps","maxFps","cxtNode","txtNode","cxtDrag","txtDrag","drawMotionBlur","txt","needClear","pxr","motionBlurCleared","CRp$3","arcTo","barrelCurveConstants","sin0","cos0","ellipseStepSize","ellipse","xPos","yPos","rw","rh","CRp$2","createBuffer","buffer","bufferCanvasImage","ctrRect","full","specdMaxDims","maxWidth","maxHeight","maxScaleW","maxScaleH","buffCanvas","buffCxt","zsortedEles","b64ToBlob","b64","mimeType","bytes","atob","buff","ArrayBuffer","buffUint8","Uint8Array","Blob","b64UriToB64","b64uri","getB64Uri","toDataURL","quality","toBlob","blob","CRp$1","CR","CanvasRenderer","CRp","tapHlOffAttr","tapHlOffStyle","containerStyle","styleMap","setAttribute","topCanvas","pathsEnabled","emptyBb","getBoxCenter","getCenterOffset","backgroundTimestampHasChanged","oldBackgroundTimestamp","getStyleKey","getLabelKey","getSourceLabelKey","getTargetLabelKey","drawSourceLabel","drawTargetLabel","getElementBox","getLabelBox","getSourceLabelBox","getTargetLabelBox","isLabelVisibleAtScale","getElementRotationPoint","addTextMargin","getRsPt","getLabelRotationPoint","getSourceLabelRotationPoint","getTargetLabelRotationPoint","getElementRotationOffset","getSourceLabelRotationOffset","getTargetLabelRotationOffset","getLabelRotationOffset","invalidateTextureCaches","refineInLayers","pathsImpld","path2dEnabled","imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled","OffscreenCanvas","incExts","extensions","modules","setExtension","registrant","ext","overrideErr","layoutProto","optLayoutFns","fnName","regStop","getCy","emitterOpts","getExtension","bProto","RegistrantRenderer","rProto","Renderer","pName","pVal","existsInR","_pName","setModule","moduleType","moduleName","getModule","Stylesheet","sheetfn","version","default","gene","disease","lossOfFunction","thickness","dHeight","decorationHeight","dWidth","decorationExtraWidth","headSize","arrowHeadSize","arrowRadius","negativeContrast","selectNode","hoverNode","borderRadius","oR","iR","t_2","background","requireGradient","decorators","molecule","thick","ht","oRx","protein","rna","genomeEncodedEntity","complex","bottomR","bottomRadius","topR","topRadius","topOR","topIR","bottomOR","bottomIR","cut2","stateHeight","entitySet","bracesOffset","realDashLength","hidingLength","idealDashLength","dashNumber","t1_5","cell","cellThick","interactingPathway","realWidth","diseaseInteractor","negative","decorationWidth","t4","midH","subPathway","imageBuilder","classToDrawers","aggregate","defaultBg","provider","exps","drawerParams","crossed","drawer","RX","Pathway","CROSS","gradient","expToGradient","currentPalette","addGradient","svgStr","isNumber","aggregated","svgText","palette","stops","notFoundColor","notFound","getColor","svg","parser","DOMParser","parseFromString","documentElement","viewPortWidth","viewPortHeight","encodeURIComponent","outerHTML","clearDrawersCache","OMMITED_ICON","toAggregate","onPrimary","onSurface","setDefaults","compartment","surface","modification","structure","features","Layers","Interactivity","applyToReaction","action","stateKey","reactionNode","expandReaction","margin","ungrabify","panify","initHover","initSelect","initClick","initStructureVideo","initStructureMolecule","initZoom","hoverReaction","deHoverReaction","dispatchEvent","selectReaction","openClass","eventType","layersPlugin","videoLayer","renderPerNode","innerHTML","video","throttle","isElementInViewport","readyState","HAVE_NOTHING","networkState","NETWORK_IDLE","uniqueElements","checkBounds","updateOn","queryEachTime","_asyncToGenerator","videoId","videoElement","HAVE_ENOUGH_DATA","moleculeLayer","proteins","shadowLabels","labelOpacity","baseFontSize","structureOpacityArray","zoomStart","zoomEnd","zoomLevel","shadowLabelOpacity","interpolate","trivialOpacity","shadowOpacity","videoOpacity","lerp","hovering","deHovering","innerHeight","innerWidth","HSL","hue","saturation","luminance","invertL","invertS","invertH","fromHex","rS","gS","bS","cmin","cmax","toFixed","toHex","ContinuousPalette","rgbPalette","hexToRgb","bigint","rgbToHex","colorMin","colorMax","vMin","vMax","cMax","interpolatedColor","pm","initSubPathwayColors","subPathways","dH","luminosity","ct","paletteType","unidirectionalPalette","bidirectionalPalette"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}