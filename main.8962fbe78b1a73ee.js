(self.webpackChunkpathway_browser=self.webpackChunkpathway_browser||[]).push([[179],{2243:(we,Xe,oe)=>{"use strict";function ce(e){return"function"==typeof e}function B(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ie=B(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Me(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ue{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const u of n)u.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ce(r))try{r()}catch(u){t=u instanceof Ie?u.errors:[u]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const u of o)try{vt(u)}catch(c){t=t??[],c instanceof Ie?t=[...t,...c.errors]:t.push(c)}}if(t)throw new Ie(t)}}add(t){var n;if(t&&t!==this)if(this.closed)vt(t);else{if(t instanceof Ue){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Me(n,t)}remove(t){const{_finalizers:n}=this;n&&Me(n,t),t instanceof Ue&&t._removeParent(this)}}Ue.EMPTY=(()=>{const e=new Ue;return e.closed=!0,e})();const Te=Ue.EMPTY;function nt(e){return e instanceof Ue||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function vt(e){ce(e)?e():e.unsubscribe()}const wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_t={setTimeout(e,t,...n){const{delegate:r}=_t;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=_t;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function On(e){_t.setTimeout(()=>{const{onUnhandledError:t}=wt;if(!t)throw e;t(e)})}function cn(){}const br=Tn("C",void 0,void 0);function Tn(e,t,n){return{kind:e,value:t,error:n}}let dn=null;function qe(e){if(wt.useDeprecatedSynchronousErrorHandling){const t=!dn;if(t&&(dn={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=dn;if(dn=null,n)throw r}}else e()}class ft extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,nt(t)&&t.add(this)):this.destination=ao}static create(t,n,r){return new bn(t,n,r)}next(t){this.isStopped?So(function Bn(e){return Tn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?So(function nr(e){return Tn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?So(br,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const St=Function.prototype.bind;function An(e,t){return St.call(e,t)}class Ft{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Kn(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Kn(r)}else Kn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Kn(n)}}}class bn extends ft{constructor(t,n,r){let o;if(super(),ce(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let u;this&&wt.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&An(t.next,u),error:t.error&&An(t.error,u),complete:t.complete&&An(t.complete,u)}):o=t}this.destination=new Ft(o)}}function Kn(e){wt.useDeprecatedSynchronousErrorHandling?function rt(e){wt.useDeprecatedSynchronousErrorHandling&&dn&&(dn.errorThrown=!0,dn.error=e)}(e):On(e)}function So(e,t){const{onStoppedNotification:n}=wt;n&&_t.setTimeout(()=>n(e,t))}const ao={closed:!0,next:cn,error:function Ri(e){throw e},complete:cn},Mr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qe(e){return e}function xn(e){return 0===e.length?Qe:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let xt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const u=function Nc(e){return e&&e instanceof ft||function ot(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}(e)&&nt(e)}(n)?n:new bn(n,r,o);return qe(()=>{const{operator:c,source:v}=this;u.add(c?c.call(u,v):v?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Pa(r))((o,u)=>{const c=new bn({next:v=>{try{n(v)}catch(w){u(w),c.unsubscribe()}},error:u,complete:o});this.subscribe(c)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Mr](){return this}pipe(...n){return xn(n)(this)}toPromise(n){return new(n=Pa(n))((r,o)=>{let u;this.subscribe(c=>u=c,c=>o(c),()=>r(u))})}}return e.create=t=>new e(t),e})();function Pa(e){var t;return null!==(t=e??wt.Promise)&&void 0!==t?t:Promise}const so=B(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Dr=(()=>{class e extends xt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new xu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new so}next(n){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:u}=this;return r||o?Te:(this.currentObservers=null,u.push(n),new Ue(()=>{this.currentObservers=null,Me(u,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:u}=this;r?n.error(o):u&&n.complete()}asObservable(){const n=new xt;return n.source=this,n}}return e.create=(t,n)=>new xu(t,n),e})();class xu extends Dr{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Te}}function sf(e){return ce(e?.lift)}function rr(e){return t=>{if(sf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gr(e,t,n,r,o){return new Vg(e,t,n,r,o)}class Vg extends ft{constructor(t,n,r,o,u,c){super(t),this.onFinalize=u,this.shouldUnsubscribe=c,this._next=n?function(v){try{n(v)}catch(w){t.error(w)}}:super._next,this._error=o?function(v){try{o(v)}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(v){t.error(v)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function nn(e,t){return rr((n,r)=>{let o=0;n.subscribe(gr(r,u=>{r.next(e.call(t,u,o++))}))})}function sa(e){return this instanceof sa?(this.v=e,this):new sa(e)}function Fc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function uf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=e[u]&&function(c){return new Promise(function(v,w){!function o(u,c,v,w){Promise.resolve(w).then(function(_){u({value:_,done:v})},c)}(v,w,(c=e[u](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ff=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ru(e){return ce(e?.then)}function Nu(e){return ce(e[Mr])}function hf(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function Fa(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zh=function Uc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ua(e){return ce(e?.[zh])}function pf(e){return function Oc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(L){r[L]&&(o[L]=function(Q){return new Promise(function(ie,de){u.push([L,Q,ie,de])>1||v(L,Q)})})}function v(L,Q){try{!function w(L){L.value instanceof sa?Promise.resolve(L.value.v).then(_,I):N(u[0][2],L)}(r[L](Q))}catch(ie){N(u[0][3],ie)}}function _(L){v("next",L)}function I(L){v("throw",L)}function N(L,Q){L(Q),u.shift(),u.length&&v(u[0][0],u[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield sa(n.read());if(o)return yield sa(void 0);yield yield sa(r)}}finally{n.releaseLock()}})}function zc(e){return ce(e?.getReader)}function qi(e){if(e instanceof xt)return e;if(null!=e){if(Nu(e))return function Gg(e){return new xt(t=>{const n=e[Mr]();if(ce(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ff(e))return function qg(e){return new xt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Ru(e))return function gf(e){return new xt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,On)})}(e);if(hf(e))return _l(e);if(ua(e))return function jh(e){return new xt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(zc(e))return function Gh(e){return _l(pf(e))}(e)}throw Fa(e)}function _l(e){return new xt(t=>{(function vf(e,t){var n,r,o,u;return function Tu(e,t,n,r){return new(n||(n=Promise))(function(u,c){function v(I){try{_(r.next(I))}catch(N){c(N)}}function w(I){try{_(r.throw(I))}catch(N){c(N)}}function _(I){I.done?u(I.value):function o(u){return u instanceof n?u:new n(function(c){c(u)})}(I.value).then(v,w)}_((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Fc(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(c){o={error:c}}finally{try{r&&!r.done&&(u=n.return)&&(yield u.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Vn(e,t,n,r=0,o=!1){const u=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!o)return u}function Zt(e,t,n=1/0){return ce(t)?Zt((r,o)=>nn((u,c)=>t(r,u,o,c))(qi(e(r,o))),n):("number"==typeof t&&(n=t),rr((r,o)=>function qh(e,t,n,r,o,u,c,v){const w=[];let _=0,I=0,N=!1;const L=()=>{N&&!w.length&&!_&&t.complete()},Q=de=>_<r?ie(de):w.push(de),ie=de=>{u&&t.next(de),_++;let ae=!1;qi(n(de,I++)).subscribe(gr(t,Pe=>{o?.(Pe),u?Q(Pe):t.next(Pe)},()=>{ae=!0},void 0,()=>{if(ae)try{for(_--;w.length&&_<r;){const Pe=w.shift();c?Vn(t,c,()=>ie(Pe)):ie(Pe)}L()}catch(Pe){t.error(Pe)}}))};return e.subscribe(gr(t,Q,()=>{N=!0,L()})),()=>{v?.()}}(r,o,e,n)))}function Pu(e=1/0){return Zt(Qe,e)}const jr=new xt(e=>e.complete());function Gc(e){return e[e.length-1]}function xo(e){return function jc(e){return e&&ce(e.schedule)}(Gc(e))?e.pop():void 0}function Zh(e,t=0){return rr((n,r)=>{n.subscribe(gr(r,o=>Vn(r,e,()=>r.next(o),t),()=>Vn(r,e,()=>r.complete(),t),o=>Vn(r,e,()=>r.error(o),t)))})}function lo(e,t=0){return rr((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Yh(e,t){if(!e)throw new Error("Iterable cannot be null");return new xt(n=>{Vn(n,t,()=>{const r=e[Symbol.asyncIterator]();Vn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function kr(e,t){return t?function Sl(e,t){if(null!=e){if(Nu(e))return function La(e,t){return qi(e).pipe(lo(t),Zh(t))}(e,t);if(ff(e))return function la(e,t){return new xt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Ru(e))return function Kh(e,t){return qi(e).pipe(lo(t),Zh(t))}(e,t);if(hf(e))return Yh(e,t);if(ua(e))return function Wg(e,t){return new xt(n=>{let r;return Vn(n,t,()=>{r=e[zh](),Vn(n,t,()=>{let o,u;try{({value:o,done:u}=r.next())}catch(c){return void n.error(c)}u?n.complete():n.next(o)},0,!0)}),()=>ce(r?.return)&&r.return()})}(e,t);if(zc(e))return function ku(e,t){return Yh(pf(e),t)}(e,t)}throw Fa(e)}(e,t):qi(e)}class Wi extends Dr{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Ht(...e){return kr(e,xo(e))}function yf(e={}){const{connector:t=(()=>new Dr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return u=>{let c,v,w,_=0,I=!1,N=!1;const L=()=>{v?.unsubscribe(),v=void 0},Q=()=>{L(),c=w=void 0,I=N=!1},ie=()=>{const de=c;Q(),de?.unsubscribe()};return rr((de,ae)=>{_++,!N&&!I&&L();const Pe=w=w??t();ae.add(()=>{_--,0===_&&!N&&!I&&(v=Fu(ie,o))}),Pe.subscribe(ae),!c&&_>0&&(c=new bn({next:De=>Pe.next(De),error:De=>{N=!0,L(),v=Fu(Q,n,De),Pe.error(De)},complete:()=>{I=!0,L(),v=Fu(Q,r),Pe.complete()}}),qi(de).subscribe(c))})(u)}}function Fu(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new bn({next:()=>{r.unsubscribe(),e()}});return qi(t(...n)).subscribe(r)}function co(e,t){return rr((n,r)=>{let o=null,u=0,c=!1;const v=()=>c&&!o&&r.complete();n.subscribe(gr(r,w=>{o?.unsubscribe();let _=0;const I=u++;qi(e(w,I)).subscribe(o=gr(r,N=>r.next(t?t(w,N,I,_++):N),()=>{o=null,v()}))},()=>{c=!0,v()}))})}function Xh(e,t){return e===t}function Hn(e){for(let t in e)if(e[t]===Hn)return t;throw Error("Could not find renamed property on target object.")}function Gr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Gr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function qc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const xl=Hn({__forward_ref__:Hn});function qn(e){return e.__forward_ref__=qn,e.toString=function(){return Gr(this())},e}function Bt(e){return Us(e)?e():e}function Us(e){return"function"==typeof e&&e.hasOwnProperty(xl)&&e.__forward_ref__===qn}function Ml(e){return e&&!!e.\u0275providers}class je extends Error{constructor(t,n){super(function Tl(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Un(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Kt(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Ba(e,t){throw new je(-201,!1)}function Ni(e,t){null==e&&function Ut(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Rt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ho(e){return{providers:e.providers||[],imports:e.imports||[]}}function ls(e){return Kc(e,ti)||Kc(e,Cf)}function Kc(e,t){return e.hasOwnProperty(t)?e[t]:null}function Rl(e){return e&&(e.hasOwnProperty(Io)||e.hasOwnProperty(Nl))?e[Io]:null}const ti=Hn({\u0275prov:Hn}),Io=Hn({\u0275inj:Hn}),Cf=Hn({ngInjectableDef:Hn}),Nl=Hn({ngInjectorDef:Hn});var sn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(sn||{});let Pi;function zn(e){const t=Pi;return Pi=e,t}function Yc(e,t,n){const r=ls(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&sn.Optional?null:void 0!==t?t:void Ba(Gr(e))}const Dn=globalThis,ca={},Ol="__NG_DI_FLAG__",da="ngTempTokenPath",Fl=/\n/gm,rp="__source";let fs;function Va(e){const t=fs;return fs=e,t}function ip(e,t=sn.Default){if(void 0===fs)throw new je(-203,!1);return null===fs?Yc(e,void 0,t):fs.get(e,t&sn.Optional?null:void 0,t)}function gt(e,t=sn.Default){return(function cs(){return Pi}()||ip)(Bt(e),t)}function ct(e,t=sn.Default){return gt(e,Ll(t))}function Ll(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Jc(e){const t=[];for(let n=0;n<e.length;n++){const r=Bt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new je(900,!1);let o,u=sn.Default;for(let c=0;c<r.length;c++){const v=r[c],w=op(v);"number"==typeof w?-1===w?o=v.token:u|=w:o=v}t.push(gt(o,u))}else t.push(gt(r))}return t}function Bl(e,t){return e[Ol]=t,e.prototype[Ol]=t,e}function op(e){return e[Ol]}function fa(e){return{toString:e}.toString()}var ha=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ha||{}),To=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(To||{});const pa={},Mn=[],$a=Hn({\u0275cmp:Hn}),ki=Hn({\u0275dir:Hn}),Ha=Hn({\u0275pipe:Hn}),ap=Hn({\u0275mod:Hn}),jo=Hn({\u0275fac:Hn}),hs=Hn({__NG_ELEMENT_ID__:Hn}),Ua=Hn({__NG_ENV_ID__:Hn});function po(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}function Vl(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const u=n[r++],c=n[r++],v=n[r++];e.setAttribute(t,c,v,u)}else{const u=o,c=n[++r];up(u)?e.setProperty(t,u,c):e.setAttribute(t,u,c),r++}}return r}function sp(e){return 3===e||4===e||6===e}function up(e){return 64===e.charCodeAt(0)}function $l(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Mf(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Mf(e,t,n,r,o){let u=0,c=e.length;if(-1===t)c=-1;else for(;u<e.length;){const v=e[u++];if("number"==typeof v){if(v===t){c=-1;break}if(v>t){c=u-1;break}}}for(;u<e.length;){const v=e[u];if("number"==typeof v)break;if(v===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==c&&(e.splice(c,0,t),u=c+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}const If="ng-template";function ed(e,t,n){let r=0,o=!0;for(;r<e.length;){let u=e[r++];if("string"==typeof u&&o){const c=e[r++];if(n&&"class"===u&&-1!==po(c.toLowerCase(),t,0))return!0}else{if(1===u){for(;r<e.length&&"string"==typeof(u=e[r++]);)if(u.toLowerCase()===t)return!0;return!1}"number"==typeof u&&(o=!1)}}return!1}function se(e){return 4===e.type&&e.value!==If}function Re(e,t,n){return t===(4!==e.type||n?e.value:If)}function be(e,t,n){let r=4;const o=e.attrs||[],u=function Yn(e){for(let t=0;t<e.length;t++)if(sp(e[t]))return t;return e.length}(o);let c=!1;for(let v=0;v<t.length;v++){const w=t[v];if("number"!=typeof w){if(!c)if(4&r){if(r=2|1&r,""!==w&&!Re(e,w,n)||""===w&&1===t.length){if(ut(r))return!1;c=!0}}else{const _=8&r?w:t[++v];if(8&r&&null!==e.attrs){if(!ed(e.attrs,_,n)){if(ut(r))return!1;c=!0}continue}const N=Xt(8&r?"class":w,o,se(e),n);if(-1===N){if(ut(r))return!1;c=!0;continue}if(""!==_){let L;L=N>u?"":o[N+1].toLowerCase();const Q=8&r?L:null;if(Q&&-1!==po(Q,_,0)||2&r&&_!==L){if(ut(r))return!1;c=!0}}}}else{if(!c&&!ut(r)&&!ut(w))return!1;if(c&&ut(w))continue;c=!1,r=w|1&r}}return ut(r)||c}function ut(e){return 0==(1&e)}function Xt(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const c=t[o];if(c===e)return o;if(3===c||6===c)u=!0;else{if(1===c||2===c){let v=t[++o];for(;"string"==typeof v;)v=t[++o];continue}if(4===c)break;if(0===c){o+=4;continue}}o+=u?1:2}return-1}return function Tf(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ln(e,t,n=!1){for(let r=0;r<t.length;r++)if(be(e,t[r],n))return!0;return!1}function Ei(e,t){return e?":not("+t.trim()+")":t}function td(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const v=e[++n];o+="["+c+(v.length>0?'="'+v+'"':"")+"]"}else 8&r?o+="."+c:4&r&&(o+=" "+c);else""!==o&&!ut(c)&&(t+=Ei(u,o),o=""),r=c,u=u||!ut(r);n++}return""!==o&&(t+=Ei(u,o)),t}function Ws(e){return fa(()=>{const t=$u(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ha.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||To.Emulated,styles:e.styles||Mn,_:null,schemas:e.schemas||null,tView:null,id:""};Rf(n);const r=e.dependencies;return n.directiveDefs=ps(r,!1),n.pipeDefs=ps(r,!0),n.id=function Hu(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function jn(e){return Cn(e)||vr(e)}function tv(e){return null!==e}function Ao(e){return fa(()=>({type:e.type,bootstrap:e.bootstrap||Mn,declarations:e.declarations||Mn,imports:e.imports||Mn,exports:e.exports||Mn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Af(e,t){if(null==e)return pa;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}function qt(e){return fa(()=>{const t=$u(e);return Rf(t),t})}function Cn(e){return e[$a]||null}function vr(e){return e[ki]||null}function ni(e){return e[Ha]||null}function _i(e,t){const n=e[ap]||null;if(!n&&!0===t)throw new Error(`Type ${Gr(e)} does not have '\u0275mod' property.`);return n}function $u(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||pa,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Mn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Af(e.inputs,t),outputs:Af(e.outputs)}}function Rf(e){e.features?.forEach(t=>t(e))}function ps(e,t){if(!e)return null;const n=t?ni:jn;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(tv)}const Gn=0,Je=1,en=2,cr=3,Ro=4,za=5,Zr=6,go=7,Cr=8,Fi=9,Uu=10,Qt=11,Er=12,Yt=13,zu=14,mr=15,gn=16,Rn=17,lt=18,Go=19,id=20,vo=21,mo=22,Zi=23,Li=24,tn=25,Pf=1,cp=2,va=7,ma=9,ri=11;function Kr(e){return Array.isArray(e)&&"object"==typeof e[Pf]}function pn(e){return Array.isArray(e)&&!0===e[Pf]}function vn(e){return 0!=(4&e.flags)}function on(e){return e.componentOffset>-1}function qo(e){return!!e.template}function ya(e){return 0!=(512&e[en])}function ci(e,t){return e.hasOwnProperty(jo)?e[jo]:null}let Yr=null,zl=!1;function yo(e){const t=Yr;return Yr=e,t}const Bf={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function jl(e){if(!ql(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Xi(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function $f(e){e.dirty=!0,function Da(e){if(void 0===e.liveConsumerNode)return;const t=zl;zl=!0;try{for(const n of e.liveConsumerNode)n.dirty||$f(n)}finally{zl=t}}(e),e.consumerMarkedDirty?.(e)}function ld(e){return e&&(e.nextProducerIndex=0),yo(e)}function Ys(e,t){if(yo(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ql(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Bi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Xi(e){Xs(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(jl(n),r!==n.version))return!0}return!1}function Gl(e){if(Xs(e),ql(e))for(let t=0;t<e.producerNode.length;t++)Bi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Bi(e,t){if(function Hf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Xs(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Bi(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Xs(o),o.producerIndexOfThis[r]=t}}function ql(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Xs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Uf=null;const pd=()=>{},uv=(()=>({...Bf,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:pd}))();class Gf{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wo(){return Nn}function Nn(e){return e.type.prototype.ngOnChanges&&(e.setInput=fp),Zl}function Zl(){const e=gd(this),t=e?.current;if(t){const n=e.previous;if(n===pa)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function fp(e,t,n,r){const o=this.declaredInputs[n],u=gd(e)||function hp(e,t){return e[Kl]=t}(e,{previous:pa,current:null}),c=u.current||(u.current={}),v=u.previous,w=v[o];c[o]=new Gf(w&&w.currentValue,t,v===pa),e[r]=t}wo.ngInherit=!0;const Kl="__ngSimpleChanges__";function gd(e){return e[Kl]||null}const bo=function(e,t,n){};function Wn(e){for(;Array.isArray(e);)e=e[Gn];return e}function $i(e,t){return Wn(t[e.index])}function Fr(e,t){const n=t[e];return Kr(n)?n:n[Gn]}function Wa(e,t){return null==t?null:e[t]}function Xl(e){e[Rn]=0}function Wf(e){1024&e[en]||(e[en]|=1024,Zf(e,1))}function Ql(e){1024&e[en]&&(e[en]&=-1025,Zf(e,-1))}function Zf(e,t){let n=e[cr];if(null===n)return;n[za]+=t;let r=n;for(n=n[cr];null!==n&&(1===t&&1===r[za]||-1===t&&0===r[za]);)n[za]+=t,r=n,n=n[cr]}const ht={lFrame:Cs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qi(){return ht.bindingsEnabled}function Le(){return ht.lFrame.lView}function _n(){return ht.lFrame.tView}function Br(){let e=nu();for(;null!==e&&64===e.type;)e=e.parent;return e}function nu(){return ht.lFrame.currentTNode}function Po(e,t){const n=ht.lFrame;n.currentTNode=e,n.isParent=t}function ru(){return ht.lFrame.isParent}function xi(e,t){const n=ht.lFrame;n.bindingIndex=n.bindingRootIndex=e,yd(t)}function yd(e){ht.lFrame.currentDirectiveIndex=e}function hi(){return ht.lFrame.currentQueryIndex}function iu(e){ht.lFrame.currentQueryIndex=e}function nc(e){const t=e[Je];return 2===t.type?t.declTNode:1===t.type?e[Zr]:null}function bs(e,t,n){if(n&sn.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&sn.Host||(o=nc(u),null===o||(u=u[zu],10&o.type))););if(null===o)return!1;t=o,e=u}const r=ht.lFrame=Xf();return r.currentTNode=t,r.lView=e,!0}function Ds(e){const t=Xf(),n=e[Je];ht.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Xf(){const e=ht.lFrame,t=null===e?null:e.child;return null===t?Cs(e):t}function Cs(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Qf(){const e=ht.lFrame;return ht.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wd=Qf;function Es(){const e=Qf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ea(e){ht.lFrame.selectedIndex=e}let eh=!0;function Cd(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:_,ngOnDestroy:I}=u;c&&(e.contentHooks??=[]).push(-n,c),v&&((e.contentHooks??=[]).push(n,v),(e.contentCheckHooks??=[]).push(n,v)),w&&(e.viewHooks??=[]).push(-n,w),_&&((e.viewHooks??=[]).push(n,_),(e.viewCheckHooks??=[]).push(n,_)),null!=I&&(e.destroyHooks??=[]).push(n,I)}}function el(e,t,n){tl(e,t,3,n)}function ko(e,t,n,r){(3&e[en])===n&&tl(e,t,n,r)}function Ed(e,t){let n=e[en];(3&n)===t&&(n&=8191,n+=1,e[en]=n)}function tl(e,t,n,r){const u=r??-1,c=t.length-1;let v=0;for(let w=void 0!==r?65535&e[Rn]:0;w<c;w++)if("number"==typeof t[w+1]){if(v=t[w],null!=r&&v>=r)break}else t[w]<0&&(e[Rn]+=65536),(v<u||-1==u)&&(Dp(e,n,t,w),e[Rn]=(4294901760&e[Rn])+w+2),w++}function bp(e,t){bo(4,e,t);const n=yo(null);try{t.call(e)}finally{yo(n),bo(5,e,t)}}function Dp(e,t,n,r){const o=n[r]<0,u=n[r+1],v=e[o?-n[r]:n[r]];o?e[en]>>13<e[Rn]>>16&&(3&e[en])===t&&(e[en]+=8192,bp(v,u)):bp(v,u)}const nl=-1;class ic{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ol(e){return e!==nl}function Xo(e){return 32767&e}function ou(e,t){let n=function _p(e){return e>>16}(e),r=t;for(;n>0;)r=r[zu],n--;return r}let ac=!0;function $r(e){const t=ac;return ac=e,t}const _d=255,Qa=5;let Sd=0;const sr={};function Ss(e,t){const n=_a(e,t);if(-1!==n)return n;const r=t[Je];r.firstCreatePass&&(e.injectorIndex=t.length,sc(r.data,e),sc(t,null),sc(r.blueprint,null));const o=Xn(e,t),u=e.injectorIndex;if(ol(o)){const c=Xo(o),v=ou(o,t),w=v[Je].data;for(let _=0;_<8;_++)t[u+_]=v[c+_]|w[c+_]}return t[u+8]=o,u}function sc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _a(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Xn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=ah(o),null===r)return nl;if(n++,o=o[zu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return nl}function al(e,t,n){!function Sp(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(hs)&&(r=n[hs]),null==r&&(r=n[hs]=Sd++);const o=r&_d;t.data[e+(o>>Qa)]|=1<<o}(e,t,n)}function xd(e,t,n){if(n&sn.Optional||void 0!==e)return e;Ba()}function rh(e,t,n,r){if(n&sn.Optional&&void 0===r&&(r=null),!(n&(sn.Self|sn.Host))){const o=e[Fi],u=zn(void 0);try{return o?o.get(t,r,n&sn.Optional):Yc(t,r,n&sn.Optional)}finally{zn(u)}}return xd(r,0,n)}function ih(e,t,n,r=sn.Default,o){if(null!==e){if(2048&t[en]&&!(r&sn.Self)){const c=function Id(e,t,n,r,o){let u=e,c=t;for(;null!==u&&null!==c&&2048&c[en]&&!(512&c[en]);){const v=au(u,c,n,r|sn.Self,sr);if(v!==sr)return v;let w=u.parent;if(!w){const _=c[id];if(_){const I=_.get(n,sr,r);if(I!==sr)return I}w=ah(c),c=c[zu]}u=w}return o}(e,t,n,r,sr);if(c!==sr)return c}const u=au(e,t,n,r,sr);if(u!==sr)return u}return rh(t,n,r,o)}function au(e,t,n,r,o){const u=function Mp(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(hs)?e[hs]:void 0;return"number"==typeof t?t>=0?t&_d:Md:t}(n);if("function"==typeof u){if(!bs(t,e,r))return r&sn.Host?xd(o,0,r):rh(t,n,r,o);try{let c;if(c=u(r),null!=c||r&sn.Optional)return c;Ba()}finally{wd()}}else if("number"==typeof u){let c=null,v=_a(e,t),w=nl,_=r&sn.Host?t[mr][Zr]:null;for((-1===v||r&sn.SkipSelf)&&(w=-1===v?Xn(e,t):t[v+8],w!==nl&&Sa(r,!1)?(c=t[Je],v=Xo(w),t=ou(w,t)):v=-1);-1!==v;){const I=t[Je];if(su(u,v,I.data)){const N=uc(v,t,n,c,r,_);if(N!==sr)return N}w=t[v+8],w!==nl&&Sa(r,t[Je].data[v+8]===_)&&su(u,v,t)?(c=I,v=Xo(w),t=ou(w,t)):v=-1}}return o}function uc(e,t,n,r,o,u){const c=t[Je],v=c.data[e+8],I=xs(v,c,n,null==r?on(v)&&ac:r!=c&&0!=(3&v.type),o&sn.Host&&u===v);return null!==I?Ms(t,c,I,v):sr}function xs(e,t,n,r,o){const u=e.providerIndexes,c=t.data,v=1048575&u,w=e.directiveStart,I=u>>20,L=o?v+I:e.directiveEnd;for(let Q=r?v:v+I;Q<L;Q++){const ie=c[Q];if(Q<w&&n===ie||Q>=w&&ie.type===n)return Q}if(o){const Q=c[w];if(Q&&qo(Q)&&Q.type===n)return w}return null}function Ms(e,t,n,r){let o=e[n];const u=t.data;if(function Xa(e){return e instanceof ic}(o)){const c=o;c.resolving&&function Wc(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new je(-200,`Circular dependency in DI detected for ${e}${n}`)}(Un(u[n]));const v=$r(c.canSeeViewProviders);c.resolving=!0;const _=c.injectImpl?zn(c.injectImpl):null;bs(e,r,sn.Default);try{o=e[n]=c.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function th(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const c=Nn(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}o&&(n.preOrderHooks??=[]).push(0-e,o),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}(n,u[n],t)}finally{null!==_&&zn(_),$r(v),c.resolving=!1,wd()}}return o}function su(e,t,n){return!!(n[t+(e>>Qa)]&1<<e)}function Sa(e,t){return!(e&sn.Self||e&sn.Host&&t)}class Hi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ih(this._tNode,this._lView,t,Ll(r),n)}}function Md(){return new Hi(Br(),Le())}function Ja(e){return Us(e)?()=>{const t=Ja(Bt(e));return t&&t()}:ci(e)}function ah(e){const t=e[Je],n=t.type;return 2===n?t.declTNode:1===n?e[Zr]:null}const Ma="__parameters__";function uu(e,t,n){return fa(()=>{const r=function sh(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const c=new o(...u);return v.annotation=c,v;function v(w,_,I){const N=w.hasOwnProperty(Ma)?w[Ma]:Object.defineProperty(w,Ma,{value:[]})[Ma];for(;N.length<=I;)N.push(null);return(N[I]=N[I]||[]).push(c),w}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Ta(e,t){e.forEach(n=>Array.isArray(n)?Ta(n,t):t(n))}function ll(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Td(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Nd=Bl(uu("Optional"),8),Eo=Bl(uu("SkipSelf"),4);function a(e){return 128==(128&e.flags)}var s=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(s||{});const m=new Map;let b=0;const P="__ngContext__";function k(e,t){Kr(t)?(e[P]=t[Go],function D(e){m.set(e[Go],e)}(t)):e[P]=t}let Z;function ue(e,t){return Z(e,t)}function ee(e){const t=e[cr];return pn(t)?t[cr]:t}function Se(e){return Ee(e[Er])}function fe(e){return Ee(e[Ro])}function Ee(e){for(;null!==e&&!pn(e);)e=e[Ro];return e}function Ne(e,t,n,r,o){if(null!=r){let u,c=!1;pn(r)?u=r:Kr(r)&&(c=!0,r=r[Gn]);const v=Wn(r);0===e&&null!==n?null==o?ln(t,n,v):$t(t,n,v,o||null,!0):1===e&&null!==n?$t(t,n,v,o||null,!0):2===e?function Jt(e,t,n){const r=xe(e,t);r&&function z(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,v,c):3===e&&t.destroyNode(v),null!=u&&function Ui(e,t,n,r,o){const u=n[va];u!==Wn(n)&&Ne(t,e,r,u,o);for(let v=ri;v<n.length;v++){const w=n[v];mi(w[Je],w,e,t,r,u)}}(t,e,u,n,o)}}function pe(e,t,n){return e.createElement(t,n)}function Ae(e,t){const n=e[ma],r=n.indexOf(t);Ql(t),n.splice(r,1)}function et(e,t){if(e.length<=ri)return;const n=ri+t,r=e[n];if(r){const o=r[gn];null!==o&&o!==e&&Ae(o,r),t>0&&(e[n-1][Ro]=r[Ro]);const u=Td(e,ri+t);!function ze(e,t){mi(e,t,t[Qt],2,null,null),t[Gn]=null,t[Zr]=null}(r[Je],r);const c=u[lt];null!==c&&c.detachView(u[Je]),r[cr]=null,r[Ro]=null,r[en]&=-129}return r}function pt(e,t){if(!(256&t[en])){const n=t[Qt];t[Zi]&&Gl(t[Zi]),t[Li]&&Gl(t[Li]),n.destroyNode&&mi(e,t,n,3,null,null),function Ye(e){let t=e[Er];if(!t)return it(e[Je],e);for(;t;){let n=null;if(Kr(t))n=t[Er];else{const r=t[ri];r&&(n=r)}if(!n){for(;t&&!t[Ro]&&t!==e;)Kr(t)&&it(t[Je],t),t=t[cr];null===t&&(t=e),Kr(t)&&it(t[Je],t),n=t&&t[Ro]}t=n}}(t)}}function it(e,t){if(!(256&t[en])){t[en]&=-129,t[en]|=256,function Ct(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof ic)){const u=n[r+1];if(Array.isArray(u))for(let c=0;c<u.length;c+=2){const v=o[u[c]],w=u[c+1];bo(4,v,w);try{w.call(v)}finally{bo(5,v,w)}}else{bo(4,o,u);try{u.call(o)}finally{bo(5,o,u)}}}}}(e,t),function Dt(e,t){const n=e.cleanup,r=t[go];if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const c=n[u+3];c>=0?r[c]():r[-c].unsubscribe(),u+=2}else n[u].call(r[n[u+1]]);null!==r&&(t[go]=null);const o=t[vo];if(null!==o){t[vo]=null;for(let u=0;u<o.length;u++)(0,o[u])()}}(e,t),1===t[Je].type&&t[Qt].destroy();const n=t[gn];if(null!==n&&pn(t[cr])){n!==t[cr]&&Ae(n,t);const r=t[lt];null!==r&&r.detachView(e)}!function S(e){m.delete(e[Go])}(t)}}function mn(e,t,n){return function un(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Gn];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:u}=e.data[r.directiveStart+o];if(u===To.None||u===To.Emulated)return null}return $i(r,n)}}(e,t.parent,n)}function $t(e,t,n,r,o){e.insertBefore(t,n,r,o)}function ln(e,t,n){e.appendChild(t,n)}function me(e,t,n,r,o){null!==r?$t(e,t,n,r,o):ln(e,t,n)}function xe(e,t){return e.parentNode(t)}let bt,yi,ye=function at(e,t,n){return 40&e.type?$i(e,n):null};function Sn(e,t,n,r){const o=mn(e,r,t),u=t[Qt],v=function _e(e,t,n){return ye(e,t,n)}(r.parent||t[Zr],r,t);if(null!=o)if(Array.isArray(n))for(let w=0;w<n.length;w++)me(u,o,n[w],v,!1);else me(u,o,n,v,!1);void 0!==bt&&bt(u,r,t,n,o)}function zt(e,t){if(null!==t){const n=t.type;if(3&n)return $i(t,e);if(4&n)return Wt(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return zt(e,r);{const o=e[t.index];return pn(o)?Wt(-1,o):Wn(o)}}if(32&n)return ue(t,e)()||Wn(e[t.index]);{const r=In(e,t);return null!==r?Array.isArray(r)?r[0]:zt(ee(e[mr]),r):zt(e,t.next)}}return null}function In(e,t){return null!==t?e[mr][Zr].projection[t.projection]:null}function Wt(e,t){const n=ri+e+1;if(n<t.length){const r=t[n],o=r[Je].firstChild;if(null!==o)return zt(r,o)}return t[va]}function Sr(e,t,n,r,o,u,c){for(;null!=n;){const v=r[n.index],w=n.type;if(c&&0===t&&(v&&k(Wn(v),r),n.flags|=2),32!=(32&n.flags))if(8&w)Sr(e,t,n.child,r,o,u,!1),Ne(t,e,o,v,u);else if(32&w){const _=ue(n,r);let I;for(;I=_();)Ne(t,e,o,I,u);Ne(t,e,o,v,u)}else 16&w?Jr(e,t,r,n,o,u):Ne(t,e,o,v,u);n=c?n.projectionNext:n.next}}function mi(e,t,n,r,o,u){Sr(n,r,e.firstChild,t,o,u,!1)}function Jr(e,t,n,r,o,u){const c=n[mr],w=c[Zr].projection[r.projection];if(Array.isArray(w))for(let _=0;_<w.length;_++)Ne(t,e,o,w[_],u);else{let _=w;const I=c[cr];a(r)&&(_.flags|=128),Sr(e,t,_,I,o,u,!0)}}function ns(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function pu(e,t,n){const{mergedAttrs:r,classes:o,styles:u}=n;null!==r&&Vl(e,t,r),null!==o&&ns(e,t,o),null!==u&&function to(e,t,n){e.setAttribute(t,"style",n)}(e,t,u)}class mt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Rt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ch=new mt("ENVIRONMENT_INITIALIZER"),by=new mt("INJECTOR",-1),Dy=new mt("INJECTOR_DEF_TYPES");class Tv{get(t,n=ca){if(n===ca){const r=new Error(`NullInjectorError: No provider for ${Gr(t)}!`);throw r.name="NullInjectorError",r}return n}}function bw(...e){return{\u0275providers:Cy(0,e),\u0275fromNgModule:!0}}function Cy(e,...t){const n=[],r=new Set;let o;const u=c=>{n.push(c)};return Ta(t,c=>{const v=c;Wp(v,u,[],r)&&(o||=[],o.push(v))}),void 0!==o&&Ey(o,u),n}function Ey(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Rv(o,u=>{t(u,r)})}}function Wp(e,t,n,r){if(!(e=Bt(e)))return!1;let o=null,u=Rl(e);const c=!u&&Cn(e);if(u||c){if(c&&!c.standalone)return!1;o=e}else{const w=e.ngModule;if(u=Rl(w),!u)return!1;o=w}const v=r.has(o);if(c){if(v)return!1;if(r.add(o),c.dependencies){const w="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const _ of w)Wp(_,t,n,r)}}else{if(!u)return!1;{if(null!=u.imports&&!v){let _;r.add(o);try{Ta(u.imports,I=>{Wp(I,t,n,r)&&(_||=[],_.push(I))})}finally{}void 0!==_&&Ey(_,t)}if(!v){const _=ci(o)||(()=>new o);t({provide:o,useFactory:_,deps:Mn},o),t({provide:Dy,useValue:o,multi:!0},o),t({provide:Ch,useValue:()=>gt(o),multi:!0},o)}const w=u.providers;if(null!=w&&!v){const _=e;Rv(w,I=>{t(I,_)})}}}return o!==e&&void 0!==e.providers}function Rv(e,t){for(let n of e)Ml(n)&&(n=n.\u0275providers),Array.isArray(n)?Rv(n,t):t(n)}const Dw=Hn({provide:String,useValue:Hn});function Nv(e){return null!==e&&"object"==typeof e&&Dw in e}function dl(e){return"function"==typeof e}const Pv=new mt("Set Injector scope."),Kp={},Cw={};let Eh;function Yp(){return void 0===Eh&&(Eh=new Tv),Eh}class ta{}class Xp extends ta{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_h(t,c=>this.processProvider(c)),this.records.set(by,Ud(void 0,this)),o.has("environment")&&this.records.set(ta,Ud(void 0,this));const u=this.records.get(Pv);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(Dy.multi,Mn,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Va(this),r=zn(void 0);try{return t()}finally{Va(n),zn(r)}}get(t,n=ca,r=sn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ua))return t[Ua](this);r=Ll(r);const u=Va(this),c=zn(void 0);try{if(!(r&sn.SkipSelf)){let w=this.records.get(t);if(void 0===w){const _=function Sw(e){return"function"==typeof e||"object"==typeof e&&e instanceof mt}(t)&&ls(t);w=_&&this.injectableDefInScope(_)?Ud(ro(t),Kp):null,this.records.set(t,w)}if(null!=w)return this.hydrate(t,w)}return(r&sn.Self?Yp():this.parent).get(t,n=r&sn.Optional&&n===ca?null:n)}catch(v){if("NullInjectorError"===v.name){if((v[da]=v[da]||[]).unshift(Gr(t)),u)throw v;return function Qg(e,t,n,r){const o=e[da];throw t[rp]&&o.unshift(t[rp]),e.message=function Jg(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Gr(t);if(Array.isArray(t))o=t.map(Gr).join(" -> ");else if("object"==typeof t){let u=[];for(let c in t)if(t.hasOwnProperty(c)){let v=t[c];u.push(c+":"+("string"==typeof v?JSON.stringify(v):Gr(v)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Fl,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[da]=null,e}(v,t,"R3InjectorError",this.source)}throw v}finally{zn(c),Va(u)}}resolveInjectorInitializers(){const t=Va(this),n=zn(void 0);try{const o=this.get(Ch.multi,Mn,sn.Self);for(const u of o)u()}finally{Va(t),zn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Gr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(t){let n=dl(t=Bt(t))?t:Bt(t&&t.provide);const r=function Ew(e){return Nv(e)?Ud(void 0,e.useValue):Ud(function xy(e,t,n){let r;if(dl(e)){const o=Bt(e);return ci(o)||ro(o)}if(Nv(e))r=()=>Bt(e.useValue);else if(function Zp(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Jc(e.deps||[]));else if(function _y(e){return!(!e||!e.useExisting)}(e))r=()=>gt(Bt(e.useExisting));else{const o=Bt(e&&(e.useClass||e.provide));if(!function _w(e){return!!e.deps}(e))return ci(o)||ro(o);r=()=>new o(...Jc(e.deps))}return r}(e),Kp)}(t);if(dl(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Ud(void 0,Kp,!0),o.factory=()=>Jc(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Kp&&(n.value=Cw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Ov(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Bt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ro(e){const t=ls(e),n=null!==t?t.factory:ci(e);if(null!==n)return n;if(e instanceof mt)throw new je(204,!1);if(e instanceof Function)return function kv(e){const t=e.length;if(t>0)throw function lc(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new je(204,!1);const n=function Mo(e){return e&&(e[ti]||e[Cf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new je(204,!1)}function Ud(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _h(e,t){for(const n of e)Array.isArray(n)?_h(n,t):n&&Ml(n)?_h(n.\u0275providers,t):t(n)}const Qp=new mt("AppId",{providedIn:"root",factory:()=>xw}),xw="ng",My=new mt("Platform Initializer"),yc=new mt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Iy=new mt("CSP nonce",{providedIn:"root",factory:()=>function gu(){if(void 0!==yi)return yi;if(typeof document<"u")return document;throw new je(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ry=(e,t,n)=>null;function zv(e,t,n=!1){return Ry(e,t,n)}class We{}class dt{}class Gt{resolveComponentFactory(t){throw function It(e){const t=Error(`No component factory found for ${Gr(e)}.`);return t.ngComponent=e,t}(t)}}let yn=(()=>{class e{static#e=this.NULL=new Gt}return e})();function kn(){return Ti(Br(),Le())}function Ti(e,t){return new fr($i(e,t))}let fr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=kn}return e})();function na(e){return e instanceof fr?e.nativeElement:e}class Hr{}let Ny=(()=>{class e{static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>null})}return e})();class jv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const PT=new jv("16.2.10"),Pw={};function HC(e,t=null,n=null,r){const o=UC(e,t,n,r);return o.resolveInjectorInitializers(),o}function UC(e,t=null,n=null,r,o=new Set){const u=[n||Mn,bw(e)];return r=r||("object"==typeof e?void 0:Gr(e)),new Xp(u,t||Yp(),r||null,o)}let os=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=ca;static#t=this.NULL=new Tv;static create(n,r){if(Array.isArray(n))return HC({name:""},r,n,"");{const o=n.name??"";return HC({name:o},n.parent,n.providers,o)}}static#n=this.\u0275prov=Rt({token:e,providedIn:"any",factory:()=>gt(by)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Ow(e){return e.ngOriginalError}class wc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ow(t);for(;n&&Ow(n);)n=Ow(n);return n||null}}function Lw(e){return t=>{setTimeout(e,void 0,t)}}const oi=class $T extends Dr{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,u=n||(()=>null),c=r;if(t&&"object"==typeof t){const w=t;o=w.next?.bind(w),u=w.error?.bind(w),c=w.complete?.bind(w)}this.__isAsync&&(u=Lw(u),o&&(o=Lw(o)),c&&(c=Lw(c)));const v=super.subscribe({next:o,error:u,complete:c});return t instanceof Ue&&t.add(v),v}};function jC(...e){}class Tr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oi(!1),this.onMicrotaskEmpty=new oi(!1),this.onStable=new oi(!1),this.onError=new oi(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function HT(){const e="function"==typeof Dn.requestAnimationFrame;let t=Dn[e?"requestAnimationFrame":"setTimeout"],n=Dn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function jT(e){const t=()=>{!function zT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Dn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Vw(e),e.isCheckStableRunning=!0,Bw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Vw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,c,v)=>{if(function qT(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(v))return n.invokeTask(o,u,c,v);try{return GC(e),n.invokeTask(o,u,c,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),qC(e)}},onInvoke:(n,r,o,u,c,v,w)=>{try{return GC(e),n.invoke(o,u,c,v,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),qC(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Vw(e),Bw(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tr.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Tr.isInAngularZone())throw new je(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,c=u.scheduleEventTask("NgZoneEvent: "+o,t,UT,jC,jC);try{return u.runTask(c,n,r)}finally{u.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const UT={};function Bw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function GC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qC(e){e._nesting--,Bw(e)}class GT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oi,this.onMicrotaskEmpty=new oi,this.onStable=new oi,this.onError=new oi}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const WC=new mt("",{providedIn:"root",factory:ZC});function ZC(){const e=ct(Tr);let t=!0;return function Ou(...e){const t=xo(e),n=function mf(e,t){return"number"==typeof Gc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?qi(r[0]):Pu(n)(kr(r,t)):jr}(new xt(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new xt(o=>{let u;e.runOutsideAngular(()=>{u=e.onStable.subscribe(()=>{Tr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const c=e.onUnstable.subscribe(()=>{Tr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}}).pipe(yf()))}function bc(e){return e instanceof Function?e():e}let $w=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Gv(e){for(;e;){e[en]|=64;const t=ee(e);if(ya(e)&&!t)return e;e=t}return null}const JC=new mt("",{providedIn:"root",factory:()=>!1});let ky=null;function rE(e,t){return e[t]??aE()}function iE(e,t){const n=aE();n.producerNode?.length&&(e[t]=ky,n.lView=e,ky=oE())}const nA={...Bf,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Gv(e.lView)},lView:null};function oE(){return Object.create(nA)}function aE(){return ky??=oE(),ky}const hn={};function Ke(e,t=sn.Default){const n=Le();return null===n?gt(e,t):ih(Br(),n,Bt(e),t)}function Oy(e,t,n,r,o,u,c,v,w,_,I){const N=t.blueprint.slice();return N[Gn]=o,N[en]=140|r,(null!==_||e&&2048&e[en])&&(N[en]|=2048),Xl(N),N[cr]=N[zu]=e,N[Cr]=n,N[Uu]=c||e&&e[Uu],N[Qt]=v||e&&e[Qt],N[Fi]=w||e&&e[Fi]||null,N[Zr]=u,N[Go]=function y(){return b++}(),N[mo]=I,N[id]=_,N[mr]=2==t.type?e[mr]:N,N}function ig(e,t,n,r,o){let u=e.data[t];if(null===u)u=function Hw(e,t,n,r,o){const u=nu(),c=ru(),w=e.data[t]=function dA(e,t,n,r,o,u){let c=t?t.injectorIndex:-1,v=0;return function tu(){return null!==ht.skipHydrationRootTNode}()&&(v|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=w),null!==u&&(c?null==u.child&&null!==w.parent&&(u.child=w):null===u.next&&(u.next=w,w.prev=u)),w}(e,t,n,r,o),function ii(){return ht.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const c=function Xu(){const e=ht.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===c?-1:c.injectorIndex}return Po(u,!0),u}function qv(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function lE(e,t,n,r,o){const u=rE(t,Zi),c=function pi(){return ht.lFrame.selectedIndex}(),v=2&r;try{Ea(-1),v&&t.length>tn&&function sE(e,t,n,r){if(!r)if(3==(3&t[en])){const u=e.preOrderCheckHooks;null!==u&&el(t,u,n)}else{const u=e.preOrderHooks;null!==u&&ko(t,u,0,n)}Ea(n)}(e,t,tn,!1),bo(v?2:0,o);const _=v?u:null,I=ld(_);try{null!==_&&(_.dirty=!1),n(r,o)}finally{Ys(_,I)}}finally{v&&null===t[Zi]&&iE(t,Zi),Ea(c),bo(v?3:1,o)}}function Uw(e,t,n){if(vn(t)){const r=yo(null);try{const u=t.directiveEnd;for(let c=t.directiveStart;c<u;c++){const v=e.data[c];v.contentQueries&&v.contentQueries(1,n[c],c)}}finally{yo(r)}}}function cE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Gw(e,t,n,r,o,u,c,v,w,_,I){const N=tn+r,L=N+o,Q=function oA(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:hn);return n}(N,L),ie="function"==typeof _?_():_;return Q[Je]={type:e,blueprint:Q,template:n,queries:null,viewQuery:v,declTNode:t,data:Q.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:w,consts:ie,incompleteFirstPass:!1,ssrId:I}}let dE=e=>null;function fE(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const u=e[o];null===r?hE(n,t,o,u):r.hasOwnProperty(o)&&hE(n,t,r[o],u)}return n}function hE(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function pE(e,t,n,r,o,u){for(let _=0;_<r.length;_++)al(Ss(n,t),e,r[_].type);!function EA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let _=0;_<r.length;_++){const I=r[_];I.providersResolver&&I.providersResolver(I)}let c=!1,v=!1,w=qv(e,t,r.length,null);for(let _=0;_<r.length;_++){const I=r[_];n.mergedAttrs=$l(n.mergedAttrs,I.hostAttrs),_A(e,n,t,w,I),CA(w,I,o),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const N=I.type.prototype;!c&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!v&&(N.ngOnChanges||N.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),v=!0),w++}!function fA(e,t,n){const o=t.directiveEnd,u=e.data,c=t.attrs,v=[];let w=null,_=null;for(let I=t.directiveStart;I<o;I++){const N=u[I],L=n?n.get(N):null,ie=L?L.outputs:null;w=fE(N.inputs,I,w,L?L.inputs:null),_=fE(N.outputs,I,_,ie);const de=null===w||null===c||se(t)?null:MA(w,I,c);v.push(de)}null!==w&&(w.hasOwnProperty("class")&&(t.flags|=8),w.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=v,t.inputs=w,t.outputs=_}(e,n,u)}function gE(e,t,n){const r=n.directiveStart,o=n.directiveEnd,u=n.index,c=function fi(){return ht.lFrame.currentDirectiveIndex}();try{Ea(u);for(let v=r;v<o;v++){const w=e.data[v],_=t[v];yd(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&wA(w,_)}}finally{Ea(-1),yd(c)}}function wA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ww(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function CA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qo(t)&&(n[""]=e)}}function _A(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=ci(o.type)),c=new ic(u,qo(o),Ke);e.blueprint[r]=c,n[r]=c,function vA(e,t,n,r,o){const u=o.hostBindings;if(u){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const v=~t.index;(function mA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=v&&c.push(v),c.push(n,r,u)}}(e,t,r,qv(e,n,o.hostVars,hn),o)}function xA(e,t,n,r,o,u){const c=u[t];if(null!==c)for(let v=0;v<c.length;)vE(r,n,c[v++],c[v++],c[v++])}function vE(e,t,n,r,o){const u=yo(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(o=c[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{yo(u)}}function MA(e,t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;if(e.hasOwnProperty(u)){null===r&&(r=[]);const c=e[u];for(let v=0;v<c.length;v+=2)if(c[v]===t){r.push(u,c[v+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function yE(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const u=n[r+1];if(-1!==u){const c=e.data[u];iu(n[r]),c.contentQueries(2,t[u],u)}}}function Fy(e,t){return e[Er]?e[Yt][Ro]=t:e[Er]=t,e[Yt]=t,t}function Kw(e,t,n){iu(0);const r=yo(null);try{t(e,n)}finally{yo(r)}}function Yw(e,t,n,r,o){for(let u=0;u<n.length;){const c=n[u++],v=n[u++];vE(e.data[c],t[c],r,v,o)}}function IA(e,t){const n=Fr(t,e),r=n[Je];!function TA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Gn];null!==o&&null===n[mo]&&(n[mo]=zv(o,n[Fi])),Xw(r,n,n[Cr])}function Xw(e,t,n){Ds(t);try{const r=e.viewQuery;null!==r&&Kw(1,r,n);const o=e.template;null!==o&&lE(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&yE(e,t),e.staticViewQueries&&Kw(2,e.viewQuery,n);const u=e.components;null!==u&&function AA(e,t){for(let n=0;n<t.length;n++)IA(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[en]&=-5,Es()}}let EE=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const u=typeof Zone>"u"?null:Zone.current,c=function dp(e,t,n){const r=Object.create(uv);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const o=c=>{r.cleanupFn=c};return r.ref={notify:()=>$f(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Xi(r))return;r.hasRun=!0;const c=ld(r);try{r.cleanupFn(),r.cleanupFn=pd,r.fn(o)}finally{Ys(r,c)}},cleanup:()=>r.cleanupFn()},r.ref}(n,_=>{this.all.has(_)&&this.queue.set(_,u)},o);let v;this.all.add(c),c.notify();const w=()=>{c.cleanup(),v?.(),this.all.delete(c),this.queue.delete(c)};return v=r?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ly(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let c=0;c<t.length;c++){const v=t[c];"number"==typeof v?u=v:1==u?o=qc(o,v):2==u&&(r=qc(r,v+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Wv(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];null!==u&&r.push(Wn(u)),pn(u)&&_E(u,r);const c=n.type;if(8&c)Wv(e,t,n.child,r);else if(32&c){const v=ue(n,t);let w;for(;w=v();)r.push(w)}else if(16&c){const v=In(t,n);if(Array.isArray(v))r.push(...v);else{const w=ee(t[mr]);Wv(w[Je],w,v,r,!0)}}n=o?n.projectionNext:n.next}return r}function _E(e,t){for(let n=ri;n<e.length;n++){const r=e[n],o=r[Je].firstChild;null!==o&&Wv(r[Je],r,o,t)}e[va]!==e[Gn]&&t.push(e[va])}function By(e,t,n,r=!0){const o=t[Uu],u=o.rendererFactory,c=o.afterRenderEventManager;u.begin?.(),c?.begin();try{SE(e,t,e.template,n)}catch(w){throw r&&function CE(e,t){const n=e[Fi],r=n?n.get(wc,null):null;r&&r.handleError(t)}(t,w),w}finally{u.end?.(),o.effectManager?.flush(),c?.end()}}function SE(e,t,n,r){const o=t[en];if(256!=(256&o)){t[Uu].effectManager?.flush(),Ds(t);try{Xl(t),function Ko(e){return ht.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&lE(e,t,n,2,r);const c=3==(3&o);if(c){const _=e.preOrderCheckHooks;null!==_&&el(t,_,null)}else{const _=e.preOrderHooks;null!==_&&ko(t,_,0,null),Ed(t,0)}if(function PA(e){for(let t=Se(e);null!==t;t=fe(t)){if(!t[cp])continue;const n=t[ma];for(let r=0;r<n.length;r++){Wf(n[r])}}}(t),xE(t,2),null!==e.contentQueries&&yE(e,t),c){const _=e.contentCheckHooks;null!==_&&el(t,_)}else{const _=e.contentHooks;null!==_&&ko(t,_,1),Ed(t,1)}!function iA(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=rE(t,Li);try{for(let o=0;o<n.length;o++){const u=n[o];if(u<0)Ea(~u);else{const c=u,v=n[++o],w=n[++o];xi(v,c),r.dirty=!1;const _=ld(r);try{w(2,t[c])}finally{Ys(r,_)}}}}finally{null===t[Li]&&iE(t,Li),Ea(-1)}}(e,t);const v=e.components;null!==v&&IE(t,v,0);const w=e.viewQuery;if(null!==w&&Kw(2,w,r),c){const _=e.viewCheckHooks;null!==_&&el(t,_)}else{const _=e.viewHooks;null!==_&&ko(t,_,2),Ed(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[en]&=-73,Ql(t)}finally{Es()}}}function xE(e,t){for(let n=Se(e);null!==n;n=fe(n))for(let r=ri;r<n.length;r++)ME(n[r],t)}function kA(e,t,n){ME(Fr(t,e),n)}function ME(e,t){if(!function Ku(e){return 128==(128&e[en])}(e))return;const n=e[Je],r=e[en];if(80&r&&0===t||1024&r||2===t)SE(n,e,n.template,e[Cr]);else if(e[za]>0){xE(e,1);const o=n.components;null!==o&&IE(e,o,1)}}function IE(e,t,n){for(let r=0;r<t.length;r++)kA(e,t[r],n)}class Zv{get rootNodes(){const t=this._lView,n=t[Je];return Wv(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cr]}set context(t){this._lView[Cr]=t}get destroyed(){return 256==(256&this._lView[en])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[cr];if(pn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(et(t,r),Td(n,r))}this._attachedToViewContainer=!1}pt(this._lView[Je],this._lView)}onDestroy(t){!function Jl(e,t){if(256==(256&e[en]))throw new je(911,!1);null===e[vo]&&(e[vo]=[]),e[vo].push(t)}(this._lView,t)}markForCheck(){Gv(this._cdRefInjectingView||this._lView)}detach(){this._lView[en]&=-129}reattach(){this._lView[en]|=128}detectChanges(){By(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fe(e,t){mi(e,t,t[Qt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=t}}class OA extends Zv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;By(t[Je],t,t[Cr],!1)}checkNoChanges(){}get context(){return null}}class TE extends yn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Cn(t);return new Kv(n,this.ngModule)}}function AE(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class LA{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ll(r);const o=this.injector.get(t,Pw,r);return o!==Pw||n===Pw?o:this.parentInjector.get(t,n,r)}}class Kv extends dt{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=AE(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return AE(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ev(e){return e.map(td).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let u=(o=o||this.ngModule)instanceof ta?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const c=u?new LA(t,u):t,v=c.get(Hr,null);if(null===v)throw new je(407,!1);const N={rendererFactory:v,sanitizer:c.get(Ny,null),effectManager:c.get(EE,null),afterRenderEventManager:c.get($w,null)},L=v.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ie=r?function aA(e,t,n,r){const u=r.get(JC,!1)||n===To.ShadowDom,c=e.selectRootElement(t,u);return function sA(e){dE(e)}(c),c}(L,r,this.componentDef.encapsulation,c):pe(L,Q,function FA(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Q)),Pe=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let De=null;null!==ie&&(De=zv(ie,c,!0));const st=Gw(0,null,null,1,0,null,null,null,null,null,null),At=Oy(null,st,null,Pe,null,null,N,L,c,null,De);let Ot,ur;Ds(At);try{const Zn=this.componentDef;let io,Gi=null;Zn.findHostDirectiveDefs?(io=[],Gi=new Map,Zn.findHostDirectiveDefs(Zn,io,Gi),io.push(Zn)):io=[Zn];const Su=function VA(e,t){const n=e[Je],r=tn;return e[r]=t,ig(n,r,2,"#host",null)}(At,ie),rw=function $A(e,t,n,r,o,u,c){const v=o[Je];!function HA(e,t,n,r){for(const o of e)t.mergedAttrs=$l(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Ly(t,t.mergedAttrs,!0),null!==n&&pu(r,n,t))}(r,e,t,c);let w=null;null!==t&&(w=zv(t,o[Fi]));const _=u.rendererFactory.createRenderer(t,n);let I=16;n.signals?I=4096:n.onPush&&(I=64);const N=Oy(o,cE(n),null,I,o[e.index],e,u,_,null,null,w);return v.firstCreatePass&&Ww(v,e,r.length-1),Fy(o,N),o[e.index]=N}(Su,ie,Zn,io,At,N,L);ur=function Yl(e,t){return e.data[t]}(st,tn),ie&&function zA(e,t,n,r){if(r)Vl(e,n,["ng-version",PT.full]);else{const{attrs:o,classes:u}=function qs(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!ut(o))break;o=u}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Vl(e,n,o),u&&u.length>0&&ns(e,n,u.join(" "))}}(L,Zn,ie,r),void 0!==n&&function jA(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const u=n[o];r.push(null!=u?Array.from(u):null)}}(ur,this.ngContentSelectors,n),Ot=function UA(e,t,n,r,o,u){const c=Br(),v=o[Je],w=$i(c,o);pE(v,o,c,n,null,r);for(let I=0;I<n.length;I++)k(Ms(o,v,c.directiveStart+I,c),o);gE(v,o,c),w&&k(w,o);const _=Ms(o,v,c.directiveStart+c.componentOffset,c);if(e[Cr]=o[Cr]=_,null!==u)for(const I of u)I(_,t);return Uw(v,c,e),_}(rw,Zn,io,Gi,At,[GA]),Xw(st,At,null)}finally{Es()}return new BA(this.componentType,Ot,Ti(ur,At),At,ur)}}class BA extends We{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new OA(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const u=this._rootLView;Yw(u[Je],u,o,t,n),this.previousInputValues.set(t,n),Gv(Fr(this._tNode.index,u))}}get injector(){return new Hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function GA(){const e=Br();Cd(Le()[Je],e)}function ib(e,t,n,r,o){const c=o?"class":"style";Yw(e,n,t.inputs[c],c,r)}function ob(e,t,n,r){const o=Le(),u=_n(),c=tn+e,v=o[Qt],w=u.firstCreatePass?function xR(e,t,n,r,o,u){const c=t.consts,w=ig(t,e,2,r,Wa(c,o));return function qw(e,t,n,r){if(Qi()){const o=null===r?null:{"":-1},u=function bA(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let u=0;u<n.length;u++){const c=n[u];if(Ln(t,c.selectors,!1))if(r||(r=[]),qo(c))if(null!==c.findHostDirectiveDefs){const v=[];o=o||new Map,c.findHostDirectiveDefs(c,v,o),r.unshift(...v,c),Ww(e,t,v.length)}else r.unshift(c),Ww(e,t,0);else o=o||new Map,c.findHostDirectiveDefs?.(c,r,o),r.push(c)}return null===r?null:[r,o]}(e,n);let c,v;null===u?c=v=null:[c,v]=u,null!==c&&pE(e,t,n,c,o,v),o&&function DA(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new je(-301,!1);r.push(t[o],u)}}}(n,r,o)}n.mergedAttrs=$l(n.mergedAttrs,n.attrs)}(t,n,w,Wa(c,u)),null!==w.attrs&&Ly(w,w.attrs,!1),null!==w.mergedAttrs&&Ly(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}(c,u,o,t,n,r):u.data[c],_=XE(u,o,w,v,t,e);o[c]=_;const I=function ad(e){return 1==(1&e.flags)}(w);return Po(w,!0),pu(v,_,w),32!=(32&w.flags)&&function _s(){return eh}()&&Sn(u,o,_,w),0===function mp(){return ht.lFrame.elementDepthCount}()&&k(_,o),function or(){ht.lFrame.elementDepthCount++}(),I&&(function zw(e,t,n){Qi()&&(function yA(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;on(n)&&function SA(e,t,n){const r=$i(t,e),o=cE(n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const v=Fy(e,Oy(e,o,null,c,r,t,null,e[Uu].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=v}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Ss(n,t),k(r,t);const c=n.initialInputs;for(let v=o;v<u;v++){const w=e.data[v],_=Ms(t,e,v,n);k(_,t),null!==c&&xA(0,v-o,_,w,0,c),qo(w)&&(Fr(n.index,t)[Cr]=Ms(t,e,v,n))}}(e,t,n,$i(n,t)),64==(64&n.flags)&&gE(e,t,n))}(u,o,w),Uw(u,w,o)),null!==r&&function jw(e,t,n=$i){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const c=r[u+1],v=-1===c?n(t,e):e[c];e[o++]=v}}}(o,w),ob}function ab(){let e=Br();ru()?function Do(){ht.lFrame.isParent=!1}():(e=e.parent,Po(e,!1));const t=e;(function Za(e){return ht.skipHydrationRootTNode===e})(t)&&function Ji(){ht.skipHydrationRootTNode=null}(),function md(){ht.lFrame.elementDepthCount--}();const n=_n();return n.firstCreatePass&&(Cd(n,e),vn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function oc(e){return 0!=(8&e.flags)}(t)&&ib(n,t,Le(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function il(e){return 0!=(16&e.flags)}(t)&&ib(n,t,Le(),t.stylesWithoutHost,!1),ab}function em(e,t,n,r){return ob(e,t,n,r),ab(),em}let XE=(e,t,n,r,o,u)=>(function Ya(e){eh=e}(!0),pe(r,o,function wp(){return ht.lFrame.currentNamespace}()));function tm(e){return!!e&&"function"==typeof e.then}function e1(e){return!!e&&"function"==typeof e.subscribe}const vg="en-US";let X1=vg;class Ah{}class E_{}class Db extends Ah{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TE(this);const o=_i(t);this._bootstrapComponents=bc(o.bootstrap),this._r3Injector=UC(t,n,[{provide:Ah,useValue:this},{provide:yn,useValue:this.componentFactoryResolver},...r],Gr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Cb extends E_{constructor(t){super(),this.moduleType=t}create(t){return new Db(this.moduleType,t,[])}}class __ extends Ah{constructor(t){super(),this.componentFactoryResolver=new TE(this),this.instance=null;const n=new Xp([...t.providers,{provide:Ah,useValue:this},{provide:yn,useValue:this.componentFactoryResolver}],t.parent||Yp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Eb(e,t,n=null){return new __({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let AP=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Cy(0,n.type),o=r.length>0?Eb([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Rt({token:e,providedIn:"environment",factory:()=>new e(gt(ta))})}return e})();function S_(e){e.getStandaloneInjector=t=>t.get(AP).getOrCreateStandaloneInjector(e)}function nk(){return this._results[Symbol.iterator]()}class Sb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new oi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Sb.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=nk)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function Fo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Qr(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ik(e,t,n,r=!0){const o=t[Je];if(function Mt(e,t,n,r){const o=ri+r,u=n.length;r>0&&(n[o-1][Ro]=t),r<u-ri?(t[Ro]=n[o],ll(n,ri+r,t)):(n.push(t),t[Ro]=null),t[cr]=n;const c=t[gn];null!==c&&n!==c&&function Lt(e,t){const n=e[ma];t[mr]!==t[cr][cr][mr]&&(e[cp]=!0),null===n?e[ma]=[t]:n.push(t)}(c,t);const v=t[lt];null!==v&&v.insertView(e),t[en]|=128}(o,t,e,n),r){const u=Wt(n,e),c=t[Qt],v=xe(c,e[va]);null!==v&&function Ge(e,t,n,r,o,u){r[Gn]=o,r[Zr]=t,mi(e,r,n,1,o,u)}(o,e[Zr],c,t,v,u)}}let Cc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=sk}return e})();const ok=Cc,ak=class extends ok{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function rk(e,t,n,r){const o=t.tView,v=Oy(e,o,n,4096&e[en]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);v[gn]=e[t.index];const _=e[lt];return null!==_&&(v[lt]=_.createEmbeddedView(o)),Xw(o,v,n),v}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Zv(o)}};function sk(){return Qy(Br(),Le())}function Qy(e,t){return 4&e.type?new ak(t,e,Ti(e,t)):null}let bu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=hk}return e})();function hk(){return z_(Br(),Le())}const pk=bu,H_=class extends pk{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ti(this._hostTNode,this._hostLView)}get injector(){return new Hi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Xn(this._hostTNode,this._hostLView);if(ol(t)){const n=ou(t,this._hostLView),r=Xo(t);return new Hi(n[Je].data[r+8],n)}return new Hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=U_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ri}createEmbeddedView(t,n,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const v=t.createEmbeddedViewImpl(n||{},u,null);return this.insertImpl(v,o,false),v}createComponent(t,n,r,o,u){const c=t&&!function Ia(e){return"function"==typeof e}(t);let v;if(c)v=n;else{const de=n||{};v=de.index,r=de.injector,o=de.projectableNodes,u=de.environmentInjector||de.ngModuleRef}const w=c?t:new Kv(Cn(t)),_=r||this.parentInjector;if(!u&&null==w.ngModule){const ae=(c?_:this.parentInjector).get(ta,null);ae&&(u=ae)}Cn(w.componentType??{});const Q=w.create(_,o,null,u);return this.insertImpl(Q.hostView,v,false),Q}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView;if(function di(e){return pn(e[cr])}(o)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const _=o[cr],I=new H_(_,_[Zr],_[cr]);I.detach(I.indexOf(t))}}const c=this._adjustIndex(n),v=this._lContainer;return ik(v,o,c,!r),t.attachToViewContainerRef(),ll(xb(v),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=U_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=et(this._lContainer,n);r&&(Td(xb(this._lContainer),n),pt(r[Je],r))}detach(t){const n=this._adjustIndex(t,-1),r=et(this._lContainer,n);return r&&null!=Td(xb(this._lContainer),n)?new Zv(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function U_(e){return e[8]}function xb(e){return e[8]||(e[8]=[])}function z_(e,t){let n;const r=t[e.index];return pn(r)?n=r:(n=function mE(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,Fy(t,n)),j_(n,t,e,r),new H_(n,e,t)}let j_=function G_(e,t,n,r){if(e[va])return;let o;o=8&n.type?Wn(r):function gk(e,t){const n=e[Qt],r=n.createComment(""),o=$i(t,e);return $t(n,xe(n,o),r,function Ce(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[va]=o};class Mb{constructor(t){this.queryList=t,this.matches=null}clone(){return new Mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ib{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const c=n.getByIndex(u);o.push(this.queries[c.indexInDeclarationView].clone())}return new Ib(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Q_(t,n).matches&&this.queries[n].setDirty()}}class q_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Tb{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new Tb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ab{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Ab(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,yk(n,u)),this.matchTNodeWithReadOption(t,n,xs(n,t,u,!1,!1))}else r===Cc?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,xs(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===fr||o===bu||o===Cc&&4&n.type)this.addMatch(n.index,-2);else{const u=xs(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function yk(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function bk(e,t,n,r){return-1===n?function wk(e,t){return 11&e.type?Ti(e,t):4&e.type?Qy(e,t):null}(t,e):-2===n?function Dk(e,t,n){return n===fr?Ti(t,e):n===Cc?Qy(t,e):n===bu?z_(t,e):void 0}(e,t,r):Ms(e,e[Je],n,t)}function W_(e,t,n,r){const o=t[lt].queries[r];if(null===o.matches){const u=e.data,c=n.matches,v=[];for(let w=0;w<c.length;w+=2){const _=c[w];v.push(_<0?null:bk(t,u[_],c[w+1],n.metadata.read))}o.matches=v}return o.matches}function Rb(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const c=W_(e,t,o,n);for(let v=0;v<u.length;v+=2){const w=u[v];if(w>0)r.push(c[v/2]);else{const _=u[v+1],I=t[-w];for(let N=ri;N<I.length;N++){const L=I[N];L[gn]===L[cr]&&Rb(L[Je],L,_,r)}if(null!==I[ma]){const N=I[ma];for(let L=0;L<N.length;L++){const Q=N[L];Rb(Q[Je],Q,_,r)}}}}}return r}function Nb(e){const t=Le(),n=_n(),r=hi();iu(r+1);const o=Q_(n,r);if(e.dirty&&function qf(e){return 4==(4&e[en])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Rb(n,t,r,[]):W_(n,t,o,r);e.reset(u,na),e.notifyOnChanges()}return!0}return!1}function Z_(e,t,n){const r=_n();r.firstCreatePass&&(function X_(e,t,n){null===e.queries&&(e.queries=new Tb),e.queries.track(new Ab(t,n))}(r,new q_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Y_(e,t,n){const r=new Sb(4==(4&n));(function cA(e,t,n,r){const o=function wE(e){return e[go]||(e[go]=[])}(t);o.push(n),e.firstCreatePass&&function bE(e){return e.cleanup||(e.cleanup=[])}(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[lt]&&(t[lt]=new Ib),t[lt].queries.push(new Mb(r))}(r,Le(),t)}function Q_(e,t){return e.queries.getByIndex(t)}const Vb=new mt("Application Initializer");let $b=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ct(Vb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const u=o();if(tm(u))n.push(u);else if(e1(u)){const c=new Promise((v,w)=>{u.subscribe({complete:v,error:w})});n.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gS=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Ec=new mt("LocaleId",{providedIn:"root",factory:()=>ct(Ec,sn.Optional|sn.SkipSelf)||function Gk(){return typeof $localize<"u"&&$localize.locale||vg}()});let t0=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wi(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Zk{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let vS=(()=>{class e{compileModuleSync(n){return new Cb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),u=bc(_i(n).declarations).reduce((c,v)=>{const w=Cn(v);return w&&c.push(new Kv(w)),c},[]);return new Zk(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const bS=new mt(""),r0=new mt("");let Gb,zb=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gb||(function pO(e){Gb=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Tr),gt(jb),gt(r0))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})(),jb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Gb?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),qd=null;const DS=new mt("AllowMultipleToken"),qb=new mt("PlatformDestroyListeners"),Wb=new mt("appBootstrapListener");class ES{constructor(t,n){this.name=t,this.token=n}}function SS(e,t,n=[]){const r=`Platform: ${t}`,o=new mt(r);return(u=[])=>{let c=Zb();if(!c||c.injector.get(DS,!1)){const v=[...n,...u,{provide:o,useValue:!0}];e?e(v):function mO(e){if(qd&&!qd.get(DS,!1))throw new je(400,!1);(function CS(){!function dd(e){Uf=e}(()=>{throw new je(600,!1)})})(),qd=e;const t=e.get(MS);(function _S(e){e.get(My,null)?.forEach(n=>n())})(e)}(function xS(e=[],t){return os.create({name:t,providers:[{provide:Pv,useValue:"platform"},{provide:qb,useValue:new Set([()=>qd=null])},...e]})}(v,r))}return function wO(e){const t=Zb();if(!t)throw new je(401,!1);return t}()}}function Zb(){return qd?.get(MS)??null}let MS=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function bO(e="zone.js",t){return"noop"===e?new GT:"zone.js"===e?new Tr(t):e}(r?.ngZone,function IS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function TP(e,t,n){return new Db(e,t,n)}(n.moduleType,this.injector,function PS(e){return[{provide:Tr,useFactory:e},{provide:Ch,multi:!0,useFactory:()=>{const t=ct(CO,{optional:!0});return()=>t.initialize()}},{provide:NS,useFactory:DO},{provide:WC,useFactory:ZC}]}(()=>o)),c=u.injector.get(wc,null);return o.runOutsideAngular(()=>{const v=o.onError.subscribe({next:w=>{c.handleError(w)}});u.onDestroy(()=>{o0(this._modules,u),v.unsubscribe()})}),function TS(e,t,n){try{const r=n();return tm(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(c,o,()=>{const v=u.injector.get($b);return v.runInitializers(),v.donePromise.then(()=>(function Q1(e){Ni(e,"Expected localeId to be defined"),"string"==typeof e&&(X1=e.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Ec,vg)||vg),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const o=AS({},r);return function gO(e,t,n){const r=new Cb(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(wg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new je(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(qb,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(gt(os))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function AS(e,t){return Array.isArray(t)?t.reduce(AS,e):{...e,...t}}let wg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ct(NS),this.zoneIsStable=ct(WC),this.componentTypes=[],this.components=[],this.isStable=ct(t0).hasPendingTasks.pipe(co(n=>n?Ht(!1):this.zoneIsStable),function Zg(e,t=Qe){return e=e??Xh,rr((n,r)=>{let o,u=!0;n.subscribe(gr(r,c=>{const v=t(c);(u||!e(o,v))&&(u=!1,o=v,r.next(c))}))})}(),yf()),this._injector=ct(ta)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof dt;if(!this._injector.get($b).done)throw!o&&function ga(e){const t=Cn(e)||vr(e)||ni(e);return null!==t&&t.standalone}(n),new je(405,!1);let c;c=o?n:this._injector.get(yn).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const v=function vO(e){return e.isBoundToModule}(c)?void 0:this._injector.get(Ah),_=c.create(os.NULL,[],r||c.selector,v),I=_.location.nativeElement,N=_.injector.get(bS,null);return N?.registerApplication(I),_.onDestroy(()=>{this.detachView(_.hostView),o0(this.components,_),N?.unregisterApplication(I)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;o0(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Wb,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>o0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function o0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const NS=new mt("",{providedIn:"root",factory:()=>ct(wc).handleError.bind(void 0)});function DO(){const e=ct(Tr),t=ct(wc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let CO=(()=>{class e{constructor(){this.zone=ct(Tr),this.applicationRef=ct(wg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let a0=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=_O}return e})();function _O(e){return function SO(e,t,n){if(on(e)&&!n){const r=Fr(e.index,t);return new Zv(r,r)}return 47&e.type?new Zv(t[mr],t):null}(Br(),Le(),16==(16&e))}const BO=SS(null,"core",[]);let VO=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(gt(wg))};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({})}return e})(),eD=null;function Wd(){return eD}class JO{}const ss=new mt("DocumentToken");let tD=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(t2)},providedIn:"platform"})}return e})();const e2=new mt("Location Initialized");let t2=(()=>{class e extends tD{constructor(){super(),this._doc=ct(ss),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wd().getBaseHref(this._doc)}onPopState(n){const r=Wd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Wd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function nD(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function XS(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function _c(e){return e&&"?"!==e[0]?"?"+e:e}let Nh=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(JS)},providedIn:"root"})}return e})();const QS=new mt("appBaseHref");let JS=(()=>{class e extends Nh{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ct(ss).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nD(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+_c(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,u){const c=this.prepareExternalUrl(o+_c(u));this._platformLocation.pushState(n,r,c)}replaceState(n,r,o,u){const c=this.prepareExternalUrl(o+_c(u));this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(tD),gt(QS,8))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),n2=(()=>{class e extends Nh{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=nD(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,u){let c=this.prepareExternalUrl(o+_c(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(n,r,c)}replaceState(n,r,o,u){let c=this.prepareExternalUrl(o+_c(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(tD),gt(QS,8))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})(),rD=(()=>{class e{constructor(n){this._subject=new oi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function o2(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(XS(ex(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_c(r))}normalize(n){return e.stripTrailingSlash(function i2(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,ex(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_c(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_c(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static#e=this.normalizeQueryParams=_c;static#t=this.joinWithSlash=nD;static#n=this.stripTrailingSlash=XS;static#r=this.\u0275fac=function(r){return new(r||e)(gt(Nh))};static#i=this.\u0275prov=Rt({token:e,factory:function(){return function r2(){return new rD(gt(Nh))}()},providedIn:"root"})}return e})();function ex(e){return e.replace(/\/index.html$/,"")}function lx(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(u)}return null}let vx=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({})}return e})();function yx(e){return"server"===e}let CF=(()=>{class e{static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>new EF(gt(ss),window)})}return e})();class EF{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function _F(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const c=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(c)return c}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wx{}class WF extends JO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bD extends WF{static makeCurrent(){!function QO(e){eD||(eD=e)}(new bD)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function ZF(){return vm=vm||document.querySelector("base"),vm?vm.getAttribute("href"):null}();return null==n?null:function KF(e){E0=E0||document.createElement("a"),E0.setAttribute("href",e);const t=E0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){vm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return lx(document.cookie,t)}}let E0,vm=null,XF=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const DD=new mt("EventManagerPlugins");let _x=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(u=>u.supports(n)),!r)throw new je(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(gt(DD),gt(Tr))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();class Sx{constructor(t){this._doc=t}}const CD="ng-app-id";let xx=(()=>{class e{constructor(n,r,o,u={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yx(u),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${CD}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const u=o.get(n);return u.usage+=r,u.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===n)return o.delete(r),u.removeAttribute(CD),u;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(CD,this.appId),c}}addStyleToHost(n,r){const o=this.getStyleElement(n,r);n.appendChild(o);const u=this.styleRef,c=u.get(r)?.elements;c?c.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ss),gt(Qp),gt(Iy,8),gt(yc))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const ED={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_D=/%COMP%/g,tL=new mt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ix(e,t){return t.map(n=>n.replace(_D,e))}let Tx=(()=>{class e{constructor(n,r,o,u,c,v,w,_=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=c,this.platformId=v,this.ngZone=w,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=yx(v),this.defaultRenderer=new SD(n,c,w,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===To.ShadowDom&&(r={...r,encapsulation:To.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof Rx?o.applyToHost(n):o instanceof xD&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const c=this.doc,v=this.ngZone,w=this.eventManager,_=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(r.encapsulation){case To.Emulated:u=new Rx(w,_,r,this.appId,I,c,v,N);break;case To.ShadowDom:return new oL(w,_,n,r,c,v,this.nonce,N);default:u=new xD(w,_,r,I,c,v,N)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(gt(_x),gt(xx),gt(Qp),gt(tL),gt(ss),gt(yc),gt(Tr),gt(Iy))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();class SD{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(ED[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Ax(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Ax(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new je(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const u=ED[o];u?t.setAttributeNS(u,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=ED[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(s.DashCase|s.Important)?t.style.setProperty(n,r,o&s.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&s.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Wd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Ax(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class oL extends SD{constructor(t,n,r,o,u,c,v,w){super(t,u,c,w),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Ix(o.id,o.styles);for(const I of _){const N=document.createElement("style");v&&N.setAttribute("nonce",v),N.textContent=I,this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xD extends SD{constructor(t,n,r,o,u,c,v,w){super(t,u,c,v),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=w?Ix(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Rx extends xD{constructor(t,n,r,o,u,c,v,w){const _=o+"-"+r.id;super(t,n,r,u,c,v,w,_),this.contentAttr=function nL(e){return"_ngcontent-%COMP%".replace(_D,e)}(_),this.hostAttr=function rL(e){return"_nghost-%COMP%".replace(_D,e)}(_)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let aL=(()=>{class e extends Sx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ss))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const Nx=["alt","control","meta","shift"],sL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let lL=(()=>{class e extends Sx{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const u=e.parseEventName(r),c=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wd().onAndCancel(n,u.domEventName,c))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let c="",v=r.indexOf("code");if(v>-1&&(r.splice(v,1),c="code."),Nx.forEach(_=>{const I=r.indexOf(_);I>-1&&(r.splice(I,1),c+=_+".")}),c+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=c,w}static matchEventFullKeyCode(n,r){let o=sL[n.key]||n.key,u="";return r.indexOf("code.")>-1&&(o=n.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Nx.forEach(c=>{c!==o&&(0,uL[c])(n)&&(u+=c+".")}),u+=o,u===r)}static eventCallback(n,r,o){return u=>{e.matchEventFullKeyCode(u,n)&&o.runGuarded(()=>r(u))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ss))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const kx=[{provide:yc,useValue:"browser"},{provide:My,useValue:function cL(){bD.makeCurrent()},multi:!0},{provide:ss,useFactory:function fL(){return function Jo(e){yi=e}(document),document},deps:[]}],hL=SS(BO,"browser",kx),pL=new mt(""),Ox=[{provide:r0,useClass:class YF{addToWindow(t){Dn.getAngularTestability=(r,o=!0)=>{const u=t.findTestabilityInTree(r,o);if(null==u)throw new je(5103,!1);return u},Dn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Dn.getAllAngularRootElements=()=>t.getAllRootElements(),Dn.frameworkStabilizers||(Dn.frameworkStabilizers=[]),Dn.frameworkStabilizers.push(r=>{const o=Dn.getAllAngularTestabilities();let u=o.length,c=!1;const v=function(w){c=c||w,u--,0==u&&r(c)};o.forEach(w=>{w.whenStable(v)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Wd().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:bS,useClass:zb,deps:[Tr,jb,r0]},{provide:zb,useClass:zb,deps:[Tr,jb,r0]}],Fx=[{provide:Pv,useValue:"root"},{provide:wc,useFactory:function dL(){return new wc},deps:[]},{provide:DD,useClass:aL,multi:!0,deps:[ss,Tr,yc]},{provide:DD,useClass:lL,multi:!0,deps:[ss]},Tx,xx,_x,{provide:Hr,useExisting:Tx},{provide:wx,useClass:XF,deps:[]},[]];let gL=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Qp,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(gt(pL,12))};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({providers:[...Fx,...Ox],imports:[vx,VO]})}return e})(),Lx=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ss))};static#t=this.\u0275prov=Rt({token:e,factory:function(r){let o=null;return o=r?new r:function mL(){return new Lx(gt(ss))}(),o},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:EL}=Array,{getPrototypeOf:_L,prototype:SL,keys:xL}=Object;const{isArray:IL}=Array;function ID(...e){const t=xo(e),n=function Pr(e){return ce(Gc(e))?e.pop():void 0}(e),{args:r,keys:o}=function Hx(e){if(1===e.length){const t=e[0];if(EL(t))return{args:t,keys:null};if(function ML(e){return e&&"object"==typeof e&&_L(e)===SL}(t)){const n=xL(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return kr([],t);const u=new xt(function AL(e,t,n=Qe){return r=>{jx(t,()=>{const{length:o}=e,u=new Array(o);let c=o,v=o;for(let w=0;w<o;w++)jx(t,()=>{const _=kr(e[w],t);let I=!1;_.subscribe(gr(r,N=>{u[w]=N,I||(I=!0,v--),v||r.next(n(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,t,o?c=>function zx(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}(o,c):Qe));return n?u.pipe(function Ux(e){return nn(t=>function TL(e,t){return IL(t)?e(...t):e(t)}(e,t))}(n)):u}function jx(e,t,n){e?Vn(n,e,t):t()}const _0=B(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function TD(...e){return function RL(){return Pu(1)}()(kr(e,xo(e)))}function Gx(e){return new xt(t=>{qi(e()).subscribe(t)})}function mm(e,t){const n=ce(e)?e:()=>e,r=o=>o.error(n());return new xt(t?o=>t.schedule(r,0,o):r)}function AD(){return rr((e,t)=>{let n=null;e._refCount++;const r=gr(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,u=n;n=null,o&&(!u||o===u)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class qx extends xt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ue;const n=this.getSubject();t.add(this.source.subscribe(gr(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ue.EMPTY)}return t}refCount(){return AD()(this)}}function Cg(e){return e<=0?()=>jr:rr((t,n)=>{let r=0;t.subscribe(gr(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Mc(e,t){return rr((n,r)=>{let o=0;n.subscribe(gr(r,u=>e.call(t,u,o++)&&r.next(u)))})}function S0(e){return rr((t,n)=>{let r=!1;t.subscribe(gr(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Wx(e=PL){return rr((t,n)=>{let r=!1;t.subscribe(gr(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function PL(){return new _0}function Ph(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Mc((o,u)=>e(o,u,r)):Qe,Cg(1),n?S0(t):Wx(()=>new _0))}function Eg(e,t){return ce(t)?Zt(e,t,1):Zt(e,1)}function _o(e,t,n){const r=ce(e)||t||n?{next:e,error:t,complete:n}:e;return r?rr((o,u)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let v=!0;o.subscribe(gr(u,w=>{var _;null===(_=r.next)||void 0===_||_.call(r,w),u.next(w)},()=>{var w;v=!1,null===(w=r.complete)||void 0===w||w.call(r),u.complete()},w=>{var _;v=!1,null===(_=r.error)||void 0===_||_.call(r,w),u.error(w)},()=>{var w,_;v&&(null===(w=r.unsubscribe)||void 0===w||w.call(r)),null===(_=r.finalize)||void 0===_||_.call(r)}))}):Qe}function kh(e){return rr((t,n)=>{let u,r=null,o=!1;r=t.subscribe(gr(n,void 0,void 0,c=>{u=qi(e(c,kh(e)(t))),r?(r.unsubscribe(),r=null,u.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(n))})}function RD(e){return e<=0?()=>jr:rr((t,n)=>{let r=[];t.subscribe(gr(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ym(e){return rr((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const wn="primary",wm=Symbol("RouteTitle");class VL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function _g(e){return new VL(e)}function $L(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let u=0;u<r.length;u++){const c=r[u],v=e[u];if(c.startsWith(":"))o[c.substring(1)]=v;else if(c!==v.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function ml(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!Zx(e[o],t[o]))return!1;return!0}function Zx(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,u)=>r[u]===o)}return e===t}function Kx(e){return e.length>0?e[e.length-1]:null}function Kd(e){return function CL(e){return!!e&&(e instanceof xt||ce(e.lift)&&ce(e.subscribe))}(e)?e:tm(e)?kr(Promise.resolve(e)):Ht(e)}const UL={exact:function Qx(e,t,n){if(!Oh(e.segments,t.segments)||!x0(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Qx(e.children[r],t.children[r],n))return!1;return!0},subset:Jx},Yx={exact:function zL(e,t){return ml(e,t)},subset:function jL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Zx(e[n],t[n]))},ignored:()=>!0};function Xx(e,t,n){return UL[n.paths](e.root,t.root,n.matrixParams)&&Yx[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Jx(e,t,n){return eM(e,t,t.segments,n)}function eM(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Oh(o,n)||t.hasChildren()||!x0(o,n,r))}if(e.segments.length===n.length){if(!Oh(e.segments,n)||!x0(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!Jx(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!!(Oh(e.segments,o)&&x0(e.segments,o,r)&&e.children[wn])&&eM(e.children[wn],t,u,r)}}function x0(e,t,n){return t.every((r,o)=>Yx[n](e[o].parameters,r.parameters))}class Sg{constructor(t=new pr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_g(this.queryParams)),this._queryParamMap}toString(){return WL.serialize(this)}}class pr{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return M0(this)}}class bm{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=_g(this.parameters)),this._parameterMap}toString(){return rM(this)}}function Oh(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Dm=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return new ND},providedIn:"root"})}return e})();class ND{parse(t){const n=new iB(t);return new Sg(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Cm(t.root,!0)}`,r=function YL(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${I0(n)}=${I0(o)}`).join("&"):`${I0(n)}=${I0(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function ZL(e){return encodeURI(e)}(t.fragment)}`:""}`}}const WL=new ND;function M0(e){return e.segments.map(t=>rM(t)).join("/")}function Cm(e,t){if(!e.hasChildren())return M0(e);if(t){const n=e.children[wn]?Cm(e.children[wn],!1):"",r=[];return Object.entries(e.children).forEach(([o,u])=>{o!==wn&&r.push(`${o}:${Cm(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function qL(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===wn&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==wn&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===wn?[Cm(e.children[wn],!1)]:[`${o}:${Cm(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[wn]?`${M0(e)}/${n[0]}`:`${M0(e)}/(${n.join("//")})`}}function tM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function I0(e){return tM(e).replace(/%3B/gi,";")}function PD(e){return tM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function T0(e){return decodeURIComponent(e)}function nM(e){return T0(e.replace(/\+/g,"%20"))}function rM(e){return`${PD(e.path)}${function KL(e){return Object.keys(e).map(t=>`;${PD(t)}=${PD(e[t])}`).join("")}(e.parameters)}`}const XL=/^[^\/()?;#]+/;function kD(e){const t=e.match(XL);return t?t[0]:""}const QL=/^[^\/()?;=#]+/,eB=/^[^=?&#]+/,nB=/^[^&#]+/;class iB{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pr([],{}):new pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[wn]=new pr(t,n)),r}parseSegment(){const t=kD(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new je(4009,!1);return this.capture(t),new bm(T0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function JL(e){const t=e.match(QL);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=kD(this.remaining);o&&(r=o,this.capture(r))}t[T0(n)]=T0(r)}parseQueryParam(t){const n=function tB(e){const t=e.match(eB);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const c=function rB(e){const t=e.match(nB);return t?t[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const o=nM(n),u=nM(r);if(t.hasOwnProperty(o)){let c=t[o];Array.isArray(c)||(c=[c],t[o]=c),c.push(u)}else t[o]=u}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kD(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new je(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=wn);const c=this.parseChildren();n[u]=1===Object.keys(c).length?c[wn]:new pr([],c),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new je(4011,!1)}}function iM(e){return e.segments.length>0?new pr([],{[wn]:e}):e}function oM(e){const t={};for(const r of Object.keys(e.children)){const u=oM(e.children[r]);if(r===wn&&0===u.segments.length&&u.hasChildren())for(const[c,v]of Object.entries(u.children))t[c]=v;else(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function oB(e){if(1===e.numberOfChildren&&e.children[wn]){const t=e.children[wn];return new pr(e.segments.concat(t.segments),t.children)}return e}(new pr(e.segments,t))}function Fh(e){return e instanceof Sg}function aM(e){let t;const o=iM(function n(u){const c={};for(const w of u.children){const _=n(w);c[w.outlet]=_}const v=new pr(u.url,c);return u===e&&(t=v),v}(e.root));return t??o}function sM(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return OD(o,o,o,n,r);const u=function sB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new lM(!0,0,e);let t=0,n=!1;const r=e.reduce((o,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const v={};return Object.entries(u.outlets).forEach(([w,_])=>{v[w]="string"==typeof _?_.split("/"):_}),[...o,{outlets:v}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===c?(u.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?n=!0:".."===v?t++:""!=v&&o.push(v))}),o):[...o,u]},[]);return new lM(n,t,r)}(t);if(u.toRoot())return OD(o,o,new pr([],{}),n,r);const c=function uB(e,t,n){if(e.isAbsolute)return new R0(t,!0,0);if(!n)return new R0(t,!1,NaN);if(null===n.parent)return new R0(n,!0,0);const r=A0(e.commands[0])?0:1;return function lB(e,t,n){let r=e,o=t,u=n;for(;u>o;){if(u-=o,r=r.parent,!r)throw new je(4005,!1);o=r.segments.length}return new R0(r,!1,o-u)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(u,o,e),v=c.processChildren?_m(c.segmentGroup,c.index,u.commands):cM(c.segmentGroup,c.index,u.commands);return OD(o,c.segmentGroup,v,n,r)}function A0(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Em(e){return"object"==typeof e&&null!=e&&e.outlets}function OD(e,t,n,r,o){let c,u={};r&&Object.entries(r).forEach(([w,_])=>{u[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),c=e===t?n:uM(e,t,n);const v=iM(oM(c));return new Sg(v,u,o)}function uM(e,t,n){const r={};return Object.entries(e.children).forEach(([o,u])=>{r[o]=u===t?n:uM(u,t,n)}),new pr(e.segments,r)}class lM{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&A0(r[0]))throw new je(4003,!1);const o=r.find(Em);if(o&&o!==Kx(r))throw new je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class R0{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function cM(e,t,n){if(e||(e=new pr([],{})),0===e.segments.length&&e.hasChildren())return _m(e,t,n);const r=function dB(e,t,n){let r=0,o=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return u;const c=e.segments[o],v=n[r];if(Em(v))break;const w=`${v}`,_=r<n.length-1?n[r+1]:null;if(o>0&&void 0===w)break;if(w&&_&&"object"==typeof _&&void 0===_.outlets){if(!fM(w,_,c))return u;r+=2}else{if(!fM(w,{},c))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const u=new pr(e.segments.slice(0,r.pathIndex),{});return u.children[wn]=new pr(e.segments.slice(r.pathIndex),e.children),_m(u,0,o)}return r.match&&0===o.length?new pr(e.segments,{}):r.match&&!e.hasChildren()?FD(e,t,n):r.match?_m(e,0,o):FD(e,t,n)}function _m(e,t,n){if(0===n.length)return new pr(e.segments,{});{const r=function cB(e){return Em(e[0])?e[0].outlets:{[wn]:e}}(n),o={};if(Object.keys(r).some(u=>u!==wn)&&e.children[wn]&&1===e.numberOfChildren&&0===e.children[wn].segments.length){const u=_m(e.children[wn],t,n);return new pr(e.segments,u.children)}return Object.entries(r).forEach(([u,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(o[u]=cM(e.children[u],t,c))}),Object.entries(e.children).forEach(([u,c])=>{void 0===r[u]&&(o[u]=c)}),new pr(e.segments,o)}}function FD(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const u=n[o];if(Em(u)){const w=fB(u.outlets);return new pr(r,w)}if(0===o&&A0(n[0])){r.push(new bm(e.segments[t].path,dM(n[0]))),o++;continue}const c=Em(u)?u.outlets[wn]:`${u}`,v=o<n.length-1?n[o+1]:null;c&&v&&A0(v)?(r.push(new bm(c,dM(v))),o+=2):(r.push(new bm(c,{})),o++)}return new pr(r,{})}function fB(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=FD(new pr([],{}),0,r))}),t}function dM(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function fM(e,t,n){return e==n.path&&ml(t,n.parameters)}const Sm="imperative";class yl{constructor(t,n){this.id=t,this.url=n}}class N0 extends yl{constructor(t,n,r="imperative",o=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yd extends yl{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xm extends yl{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xg extends yl{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=16}}class P0 extends yl{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hM extends yl{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hB extends yl{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pB extends yl{constructor(t,n,r,o,u){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gB extends yl{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vB extends yl{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mB{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yB{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wB{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bB{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DB{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CB{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pM{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LD{}class BD{constructor(t){this.url=t}}class EB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mm,this.attachRef=null}}let Mm=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new EB,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class gM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=VD(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=VD(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=$D(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return $D(t,this._root).map(n=>n.value)}}function VD(e,t){if(e===t.value)return t;for(const n of t.children){const r=VD(e,n);if(r)return r}return null}function $D(e,t){if(e===t.value)return[t];for(const n of t.children){const r=$D(e,n);if(r.length)return r.unshift(t),r}return[]}class Ic{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Mg(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class vM extends gM{constructor(t,n){super(t),this.snapshot=n,HD(this,t)}toString(){return this.snapshot.toString()}}function mM(e,t){const n=function _B(e,t){const c=new k0([],{},{},"",{},wn,t,null,{});return new wM("",new Ic(c,[]))}(0,t),r=new Wi([new bm("",{})]),o=new Wi({}),u=new Wi({}),c=new Wi({}),v=new Wi(""),w=new Lh(r,o,c,v,u,wn,t,n.root);return w.snapshot=n.root,new vM(new Ic(w,[]),n)}class Lh{constructor(t,n,r,o,u,c,v,w){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=c,this.component=v,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(nn(_=>_[wm]))??Ht(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(nn(t=>_g(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(nn(t=>_g(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yM(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],u=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function SB(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class k0{get title(){return this.data?.[wm]}constructor(t,n,r,o,u,c,v,w,_){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=c,this.component=v,this.routeConfig=w,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_g(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_g(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wM extends gM{constructor(t,n){super(n),this.url=t,HD(this,n)}toString(){return bM(this._root)}}function HD(e,t){t.value._routerState=e,t.children.forEach(n=>HD(e,n))}function bM(e){const t=e.children.length>0?` { ${e.children.map(bM).join(", ")} } `:"";return`${e.value}${t}`}function UD(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ml(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ml(t.params,n.params)||e.paramsSubject.next(n.params),function HL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ml(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),ml(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function zD(e,t){const n=ml(e.params,t.params)&&function GL(e,t){return Oh(e,t)&&e.every((n,r)=>ml(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||zD(e.parent,t.parent))}let jD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=wn,this.activateEvents=new oi,this.deactivateEvents=new oi,this.attachEvents=new oi,this.detachEvents=new oi,this.parentContexts=ct(Mm),this.location=ct(bu),this.changeDetector=ct(a0),this.environmentInjector=ct(ta),this.inputBinder=ct(O0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new je(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new je(4013,!1);this._activatedRoute=n;const o=this.location,c=n.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,w=new xB(n,v,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=qt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wo]})}return e})();class xB{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Lh?this.route:t===Mm?this.childContexts:this.parent.get(t,n)}}const O0=new mt("");let DM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=ID([r.queryParams,r.params,r.data]).pipe(co(([u,c,v],w)=>(v={...u,...c,...v},0===w?Ht(v):Promise.resolve(v)))).subscribe(u=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const c=function XO(e){const t=Cn(e);if(!t)return null;const n=new Kv(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(c)for(const{templateName:v}of c.inputs)n.activatedComponentRef.setInput(v,u[v]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();function Im(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function IB(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Im(e,r,o);return Im(e,r)})}(e,t,n);return new Ic(r,o)}{if(e.shouldAttach(t.value)){const u=e.retrieve(t.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(v=>Im(e,v)),c}}const r=function TB(e){return new Lh(new Wi(e.url),new Wi(e.params),new Wi(e.queryParams),new Wi(e.fragment),new Wi(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(u=>Im(e,u));return new Ic(r,o)}}const GD="ngNavigationCancelingError";function CM(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Fh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=EM(!1,0,t);return o.url=n,o.navigationBehaviorOptions=r,o}function EM(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[GD]=!0,r.cancellationCode=t,n&&(r.url=n),r}function _M(e){return e&&e[GD]}let SM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Ws({type:e,selectors:[["ng-component"]],standalone:!0,features:[S_],decls:1,vars:0,template:function(r,o){1&r&&em(0,"router-outlet")},dependencies:[jD],encapsulation:2})}return e})();function qD(e){const t=e.children&&e.children.map(qD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==wn&&(n.component=SM),n}function Eu(e){return e.outlet||wn}function Tm(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class LB{constructor(t,n,r,o,u){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),UD(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Mg(n);t.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,o[c],r),delete o[c]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(o===u)if(o.component){const c=r.getContext(o.outlet);c&&this.deactivateChildRoutes(t,n,c.children)}else this.deactivateChildRoutes(t,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=Mg(t);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],o);if(r&&r.outlet){const c=r.outlet.detach(),v=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:v})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=Mg(t);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Mg(n);t.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new CB(u.value.snapshot))}),t.children.length&&this.forwardEvent(new bB(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(UD(o),o===u)if(o.component){const c=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,c.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const c=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const v=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),c.children.onOutletReAttached(v.contexts),c.attachRef=v.componentRef,c.route=v.route.value,c.outlet&&c.outlet.attach(v.componentRef,v.route.value),UD(v.route.value),this.activateChildRoutes(t,null,c.children)}else{const v=Tm(o.snapshot);c.attachRef=null,c.route=o,c.injector=v,c.outlet&&c.outlet.activateWith(o,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,r)}}class xM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class F0{constructor(t,n){this.component=t,this.route=n}}function BB(e,t,n){const r=e._root;return Am(r,t?t._root:null,n,[r.value])}function Ig(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function ep(e){return null!==ls(e)}(e)?t.get(e):e:r}function Am(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Mg(t);return e.children.forEach(c=>{(function $B(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,c=t?t.value:null,v=n?n.getContext(e.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const w=function HB(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Oh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Oh(e.url,t.url)||!ml(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zD(e,t)||!ml(e.queryParams,t.queryParams);default:return!zD(e,t)}}(c,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new xM(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Am(e,t,u.component?v?v.children:null:n,r,o),w&&v&&v.outlet&&v.outlet.isActivated&&o.canDeactivateChecks.push(new F0(v.outlet.component,c))}else c&&Rm(t,v,o),o.canActivateChecks.push(new xM(r)),Am(e,null,u.component?v?v.children:null:n,r,o)})(c,u[c.value.outlet],n,r.concat([c.value]),o),delete u[c.value.outlet]}),Object.entries(u).forEach(([c,v])=>Rm(v,n.getContext(c),o)),o}function Rm(e,t,n){const r=Mg(e),o=e.value;Object.entries(r).forEach(([u,c])=>{Rm(c,o.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new F0(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Nm(e){return"function"==typeof e}function MM(e){return e instanceof _0||"EmptyError"===e?.name}const L0=Symbol("INITIAL_VALUE");function Tg(){return co(e=>ID(e.map(t=>t.pipe(Cg(1),function NL(...e){const t=xo(e);return rr((n,r)=>{(t?TD(e,n,t):TD(e,n)).subscribe(r)})}(L0)))).pipe(nn(t=>{for(const n of t)if(!0!==n){if(n===L0)return L0;if(!1===n||n instanceof Sg)return n}return!0}),Mc(t=>t!==L0),Cg(1)))}function IM(e){return function Fn(...e){return xn(e)}(_o(t=>{if(Fh(t))throw CM(0,t)}),nn(t=>!0===t))}class B0{constructor(t){this.segmentGroup=t||null}}class TM{constructor(t){this.urlTree=t}}function Ag(e){return mm(new B0(e))}function AM(e){return mm(new TM(e))}class sV{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new je(4002,!1)}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ht(r);if(o.numberOfChildren>1||!o.children[wn])return mm(new je(4e3,!1));o=o.children[wn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,o){const u=this.createSegmentGroup(t,n.root,r,o);return new Sg(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);r[o]=n[v]}else r[o]=u}),r}createSegmentGroup(t,n,r,o){const u=this.createSegments(t,n.segments,r,o);let c={};return Object.entries(n.children).forEach(([v,w])=>{c[v]=this.createSegmentGroup(t,w,r,o)}),new pr(u,c)}createSegments(t,n,r,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,o):this.findOrReturn(u,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new je(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const WD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uV(e,t,n,r,o){const u=ZD(e,t,n);return u.matched?(r=function RB(e,t){return e.providers&&!e._injector&&(e._injector=Eb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function iV(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?Ht(o.map(c=>{const v=Ig(c,e);return Kd(function WB(e){return e&&Nm(e.canMatch)}(v)?v.canMatch(t,n):e.runInContext(()=>v(t,n)))})).pipe(Tg(),IM()):Ht(!0)}(r,t,n).pipe(nn(c=>!0===c?u:{...WD}))):Ht(u)}function ZD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...WD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||$L)(n,e,t);if(!o)return{...WD};const u={};Object.entries(o.posParams??{}).forEach(([v,w])=>{u[v]=w.path});const c=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:c,positionalParamSegments:o.posParams??{}}}function RM(e,t,n,r){return n.length>0&&function dV(e,t,n){return n.some(r=>V0(e,t,r)&&Eu(r)!==wn)}(e,n,r)?{segmentGroup:new pr(t,cV(r,new pr(n,e.children))),slicedSegments:[]}:0===n.length&&function fV(e,t,n){return n.some(r=>V0(e,t,r))}(e,n,r)?{segmentGroup:new pr(e.segments,lV(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new pr(e.segments,e.children),slicedSegments:n}}function lV(e,t,n,r,o){const u={};for(const c of r)if(V0(e,n,c)&&!o[Eu(c)]){const v=new pr([],{});u[Eu(c)]=v}return{...o,...u}}function cV(e,t){const n={};n[wn]=t;for(const r of e)if(""===r.path&&Eu(r)!==wn){const o=new pr([],{});n[Eu(r)]=o}return n}function V0(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class vV{constructor(t,n,r,o,u,c,v){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=c,this.urlSerializer=v,this.allowRedirects=!0,this.applyRedirects=new sV(this.urlSerializer,this.urlTree)}noMatchError(t){return new je(4002,!1)}recognize(){const t=RM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,wn).pipe(kh(n=>{if(n instanceof TM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof B0?this.noMatchError(n):n}),nn(n=>{const r=new k0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wn,this.rootComponentType,null,{}),o=new Ic(r,n),u=new wM("",o),c=function aB(e,t,n=null,r=null){return sM(aM(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(u._root),{state:u,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,wn).pipe(kh(r=>{throw r instanceof B0?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=yM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0)}processChildren(t,n,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return kr(o).pipe(Eg(u=>{const c=r.children[u],v=function OB(e,t){const n=e.filter(r=>Eu(r)===t);return n.push(...e.filter(r=>Eu(r)!==t)),n}(n,u);return this.processSegmentGroup(t,v,c,u)}),function OL(e,t){return rr(function kL(e,t,n,r,o){return(u,c)=>{let v=n,w=t,_=0;u.subscribe(gr(c,I=>{const N=_++;w=v?e(w,I,N):(v=!0,I),r&&c.next(w)},o&&(()=>{v&&c.next(w),c.complete()})))}}(e,t,arguments.length>=2,!0))}((u,c)=>(u.push(...c),u)),S0(null),function FL(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Mc((o,u)=>e(o,u,r)):Qe,RD(1),n?S0(t):Wx(()=>new _0))}(),Zt(u=>{if(null===u)return Ag(r);const c=NM(u);return function mV(e){e.sort((t,n)=>t.value.outlet===wn?-1:n.value.outlet===wn?1:t.value.outlet.localeCompare(n.value.outlet))}(c),Ht(c)}))}processSegment(t,n,r,o,u,c){return kr(n).pipe(Eg(v=>this.processSegmentAgainstRoute(v._injector??t,n,v,r,o,u,c).pipe(kh(w=>{if(w instanceof B0)return Ht(null);throw w}))),Ph(v=>!!v),kh(v=>{if(MM(v))return function pV(e,t,n){return 0===t.length&&!e.children[n]}(r,o,u)?Ht([]):Ag(r);throw v}))}processSegmentAgainstRoute(t,n,r,o,u,c,v){return function hV(e,t,n,r){return!!(Eu(e)===r||r!==wn&&V0(t,n,e))&&("**"===e.path||ZD(t,e,n).matched)}(r,o,u,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,u,c,v):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,u,c):Ag(o):Ag(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,u,c){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?AM(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Zt(c=>{const v=new pr(c,{});return this.processSegment(t,n,v,c,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,c){const{matched:v,consumedSegments:w,remainingSegments:_,positionalParamSegments:I}=ZD(n,o,u);if(!v)return Ag(n);const N=this.applyRedirects.applyRedirectCommands(w,o.redirectTo,I);return o.redirectTo.startsWith("/")?AM(N):this.applyRedirects.lineralizeSegments(o,N).pipe(Zt(L=>this.processSegment(t,r,n,L.concat(_),c,!1)))}matchSegmentAgainstRoute(t,n,r,o,u,c){let v;if("**"===r.path){const w=o.length>0?Kx(o).parameters:{};v=Ht({snapshot:new k0(o,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PM(r),Eu(r),r.component??r._loadedComponent??null,r,kM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else v=uV(n,r,o,t).pipe(nn(({matched:w,consumedSegments:_,remainingSegments:I,parameters:N})=>w?{snapshot:new k0(_,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PM(r),Eu(r),r.component??r._loadedComponent??null,r,kM(r)),consumedSegments:_,remainingSegments:I}:null));return v.pipe(co(w=>null===w?Ag(n):this.getChildConfig(t=r._injector??t,r,o).pipe(co(({routes:_})=>{const I=r._loadedInjector??t,{snapshot:N,consumedSegments:L,remainingSegments:Q}=w,{segmentGroup:ie,slicedSegments:de}=RM(n,L,Q,_);if(0===de.length&&ie.hasChildren())return this.processChildren(I,_,ie).pipe(nn(Pe=>null===Pe?null:[new Ic(N,Pe)]));if(0===_.length&&0===de.length)return Ht([new Ic(N,[])]);const ae=Eu(r)===u;return this.processSegment(I,_,ie,de,ae?wn:u,!0).pipe(nn(Pe=>[new Ic(N,Pe)]))}))))}getChildConfig(t,n,r){return n.children?Ht({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ht({routes:n._loadedRoutes,injector:n._loadedInjector}):function rV(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?Ht(!0):Ht(o.map(c=>{const v=Ig(c,e);return Kd(function zB(e){return e&&Nm(e.canLoad)}(v)?v.canLoad(t,n):e.runInContext(()=>v(t,n)))})).pipe(Tg(),IM())}(t,n,r).pipe(Zt(o=>o?this.configLoader.loadChildren(t,n).pipe(_o(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):function aV(e){return mm(EM(!1,3))}())):Ht({routes:[],injector:t})}}function yV(e){const t=e.value.routeConfig;return t&&""===t.path}function NM(e){const t=[],n=new Set;for(const r of e){if(!yV(r)){t.push(r);continue}const o=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=NM(r.children);t.push(new Ic(r.value,o))}return t.filter(r=>!n.has(r))}function PM(e){return e.data||{}}function kM(e){return e.resolve||{}}function OM(e){return"string"==typeof e.title||null===e.title}function KD(e){return co(t=>{const n=e(t);return n?kr(n).pipe(nn(()=>t)):Ht(t)})}const Rg=new mt("ROUTES");let YD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ct(vS)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ht(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Kd(n.loadComponent()).pipe(nn(FM),_o(u=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=u}),ym(()=>{this.componentLoaders.delete(n)})),o=new qx(r,()=>new Dr).pipe(AD());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function SV(e,t,n,r){return Kd(e.loadChildren()).pipe(nn(FM),Zt(o=>o instanceof E_||Array.isArray(o)?Ht(o):kr(t.compileModuleAsync(o))),nn(o=>{r&&r(e);let u,c,v=!1;return Array.isArray(o)?(c=o,!0):(u=o.create(n).injector,c=u.get(Rg,[],{optional:!0,self:!0}).flat()),{routes:c.map(qD),injector:u}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ym(()=>{this.childrenLoaders.delete(r)})),c=new qx(u,()=>new Dr).pipe(AD());return this.childrenLoaders.set(r,c),c}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FM(e){return function xV(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let $0=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dr,this.transitionAbortSubject=new Dr,this.configLoader=ct(YD),this.environmentInjector=ct(ta),this.urlSerializer=ct(Dm),this.rootContexts=ct(Mm),this.inputBindingEnabled=null!==ct(O0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new yB(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new mB(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Wi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sm,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mc(u=>0!==u.id),nn(u=>({...u,extractedUrl:n.urlHandlingStrategy.extract(u.rawUrl)})),co(u=>{this.currentTransition=u;let c=!1,v=!1;return Ht(u).pipe(_o(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),co(w=>{const _=w.currentBrowserUrl.toString(),I=!n.navigated||w.extractedUrl.toString()!==_||_!==w.currentUrlTree.toString();if(!I&&"reload"!==(w.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const L="";return this.events.next(new xg(w.id,this.urlSerializer.serialize(w.rawUrl),L,0)),w.resolve(null),jr}if(n.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return Ht(w).pipe(co(L=>{const Q=this.transitions?.getValue();return this.events.next(new N0(L.id,this.urlSerializer.serialize(L.extractedUrl),L.source,L.restoredState)),Q!==this.transitions?.getValue()?jr:Promise.resolve(L)}),function wV(e,t,n,r,o,u){return Zt(c=>function gV(e,t,n,r,o,u,c="emptyOnly"){return new vV(e,t,n,r,o,c,u).recognize()}(e,t,n,r,c.extractedUrl,o,u).pipe(nn(({state:v,tree:w})=>({...c,targetSnapshot:v,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),_o(L=>{u.targetSnapshot=L.targetSnapshot,u.urlAfterRedirects=L.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:L.urlAfterRedirects};const Q=new hM(L.id,this.urlSerializer.serialize(L.extractedUrl),this.urlSerializer.serialize(L.urlAfterRedirects),L.targetSnapshot);this.events.next(Q)}));if(I&&n.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:L,extractedUrl:Q,source:ie,restoredState:de,extras:ae}=w,Pe=new N0(L,this.urlSerializer.serialize(Q),ie,de);this.events.next(Pe);const De=mM(0,this.rootComponentType).snapshot;return this.currentTransition=u={...w,targetSnapshot:De,urlAfterRedirects:Q,extras:{...ae,skipLocationChange:!1,replaceUrl:!1}},Ht(u)}{const L="";return this.events.next(new xg(w.id,this.urlSerializer.serialize(w.extractedUrl),L,1)),w.resolve(null),jr}}),_o(w=>{const _=new hB(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(_)}),nn(w=>(this.currentTransition=u={...w,guards:BB(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},u)),function KB(e,t){return Zt(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:c}}=n;return 0===c.length&&0===u.length?Ht({...n,guardsResult:!0}):function YB(e,t,n,r){return kr(e).pipe(Zt(o=>function nV(e,t,n,r,o){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?Ht(u.map(v=>{const w=Tm(t)??o,_=Ig(v,w);return Kd(function qB(e){return e&&Nm(e.canDeactivate)}(_)?_.canDeactivate(e,t,n,r):w.runInContext(()=>_(e,t,n,r))).pipe(Ph())})).pipe(Tg()):Ht(!0)}(o.component,o.route,n,t,r)),Ph(o=>!0!==o,!0))}(c,r,o,e).pipe(Zt(v=>v&&function UB(e){return"boolean"==typeof e}(v)?function XB(e,t,n,r){return kr(t).pipe(Eg(o=>TD(function JB(e,t){return null!==e&&t&&t(new wB(e)),Ht(!0)}(o.route.parent,r),function QB(e,t){return null!==e&&t&&t(new DB(e)),Ht(!0)}(o.route,r),function tV(e,t,n){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(c=>function VB(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Gx(()=>Ht(c.guards.map(w=>{const _=Tm(c.node)??n,I=Ig(w,_);return Kd(function GB(e){return e&&Nm(e.canActivateChild)}(I)?I.canActivateChild(r,e):_.runInContext(()=>I(r,e))).pipe(Ph())})).pipe(Tg())));return Ht(u).pipe(Tg())}(e,o.path,n),function eV(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ht(!0);const o=r.map(u=>Gx(()=>{const c=Tm(t)??n,v=Ig(u,c);return Kd(function jB(e){return e&&Nm(e.canActivate)}(v)?v.canActivate(t,e):c.runInContext(()=>v(t,e))).pipe(Ph())}));return Ht(o).pipe(Tg())}(e,o.route,n))),Ph(o=>!0!==o,!0))}(r,u,e,t):Ht(v)),nn(v=>({...n,guardsResult:v})))})}(this.environmentInjector,w=>this.events.next(w)),_o(w=>{if(u.guardsResult=w.guardsResult,Fh(w.guardsResult))throw CM(0,w.guardsResult);const _=new pB(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(_)}),Mc(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),KD(w=>{if(w.guards.canActivateChecks.length)return Ht(w).pipe(_o(_=>{const I=new gB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}),co(_=>{let I=!1;return Ht(_).pipe(function bV(e,t){return Zt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Ht(n);let u=0;return kr(o).pipe(Eg(c=>function DV(e,t,n,r){const o=e.routeConfig,u=e._resolve;return void 0!==o?.title&&!OM(o)&&(u[wm]=o.title),function CV(e,t,n,r){const o=function EV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return Ht({});const u={};return kr(o).pipe(Zt(c=>function _V(e,t,n,r){const o=Tm(t)??r,u=Ig(e,o);return Kd(u.resolve?u.resolve(t,n):o.runInContext(()=>u(t,n)))}(e[c],t,n,r).pipe(Ph(),_o(v=>{u[c]=v}))),RD(1),function LL(e){return nn(()=>e)}(u),kh(c=>MM(c)?jr:mm(c)))}(u,e,t,r).pipe(nn(c=>(e._resolvedData=c,e.data=yM(e,n).resolve,o&&OM(o)&&(e.data[wm]=o.title),null)))}(c.route,r,e,t)),_o(()=>u++),RD(1),Zt(c=>u===o.length?Ht(n):jr))})}(n.paramsInheritanceStrategy,this.environmentInjector),_o({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(_,"",2)}}))}),_o(_=>{const I=new vB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}))}),KD(w=>{const _=I=>{const N=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(I.routeConfig).pipe(_o(L=>{I.component=L}),nn(()=>{})));for(const L of I.children)N.push(..._(L));return N};return ID(_(w.targetSnapshot.root)).pipe(S0(),Cg(1))}),KD(()=>this.afterPreactivation()),nn(w=>{const _=function MB(e,t,n){const r=Im(e,t._root,n?n._root:void 0);return new vM(r,t)}(n.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=u={...w,targetRouterState:_},u}),_o(()=>{this.events.next(new LD)}),((e,t,n,r)=>nn(o=>(new LB(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),Cg(1),_o({next:w=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yd(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),n.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{c=!0}}),function BL(e){return rr((t,n)=>{qi(e).subscribe(gr(n,()=>n.complete(),cn)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(_o(w=>{throw w}))),ym(()=>{c||v||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),kh(w=>{if(v=!0,_M(w))this.events.next(new xm(u.id,this.urlSerializer.serialize(u.extractedUrl),w.message,w.cancellationCode)),function AB(e){return _M(e)&&Fh(e.url)}(w)?this.events.next(new BD(w.url)):u.resolve(!1);else{this.events.next(new P0(u.id,this.urlSerializer.serialize(u.extractedUrl),w,u.targetSnapshot??void 0));try{u.resolve(n.errorHandler(w))}catch(_){u.reject(_)}}return jr}))}))}cancelNavigationTransition(n,r,o){const u=new xm(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(u),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LM(e){return e!==Sm}let BM=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===wn);return r}getResolvedTitleForRoute(n){return n.data[wm]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(MV)},providedIn:"root"})}return e})(),MV=(()=>{class e extends BM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Lx))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(AV)},providedIn:"root"})}return e})();class TV{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let AV=(()=>{class e extends TV{static#e=this.\u0275fac=function(){let n;return function(o){return(n||(n=function _r(e){return fa(()=>{const t=e.prototype.constructor,n=t[jo]||Ja(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[jo]||Ja(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}(e)))(o||e)}}();static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const H0=new mt("",{providedIn:"root",factory:()=>({})});let RV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:function(){return ct(NV)},providedIn:"root"})}return e})(),NV=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pm=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Pm||{});function VM(e,t){e.events.pipe(Mc(n=>n instanceof Yd||n instanceof xm||n instanceof P0||n instanceof xg),nn(n=>n instanceof Yd||n instanceof xg?Pm.COMPLETE:n instanceof xm&&(0===n.code||1===n.code)?Pm.REDIRECTING:Pm.FAILED),Mc(n=>n!==Pm.REDIRECTING),Cg(1)).subscribe(()=>{t()})}function PV(e){throw e}function kV(e,t,n){return t.parse("/")}const OV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fs=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ct(gS),this.isNgZoneEnabled=!1,this._events=new Dr,this.options=ct(H0,{optional:!0})||{},this.pendingTasks=ct(t0),this.errorHandler=this.options.errorHandler||PV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ct(RV),this.routeReuseStrategy=ct(IV),this.titleStrategy=ct(BM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ct(Rg,{optional:!0})?.flat()??[],this.navigationTransitions=ct($0),this.urlSerializer=ct(Dm),this.location=ct(rD),this.componentInputBindingEnabled=!!ct(O0,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=ct(Tr)instanceof Tr&&Tr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mM(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void($M(r)&&this._events.next(r));if(r instanceof N0)LM(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof xg)this.rawUrlTree=o.rawUrl;else if(r instanceof hM){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof LD)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof xm)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof BD){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||LM(o.source)};this.scheduleNavigation(u,Sm,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof P0&&this.restoreHistory(o,!0),r instanceof Yd&&(this.navigated=!0),$M(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sm,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,o){const u={replaceUrl:!0},c=o?.navigationId?o:null;if(o){const w={...o};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const v=this.parseUrl(n);this.scheduleNavigation(v,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(qD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:u,fragment:c,queryParamsHandling:v,preserveFragment:w}=r,_=w?this.currentUrlTree.fragment:c;let N,I=null;switch(v){case"merge":I={...this.currentUrlTree.queryParams,...u};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}null!==I&&(I=this.removeEmptyProps(I));try{N=aM(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),N=this.currentUrlTree.root}return sM(N,n,I,_??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Fh(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Sm,null,r)}navigate(n,r={skipLocationChange:!1}){return function LV(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new je(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?{...OV}:!1===r?{...FV}:r,Fh(n))return Xx(this.currentUrlTree,n,o);const u=this.parseUrl(n);return Xx(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const u=n[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(n,r,o,u,c){if(this.disposed)return Promise.resolve(!1);let v,w,_;c?(v=c.resolve,w=c.reject,_=c.promise):_=new Promise((N,L)=>{v=N,w=L});const I=this.pendingTasks.add();return VM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:u,resolve:v,reject:w,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(N=>Promise.reject(N))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",c)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $M(e){return!(e instanceof LD||e instanceof BD)}class HM{}let $V=(()=>{class e{constructor(n,r,o,u,c){this.router=n,this.injector=o,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Mc(n=>n instanceof Yd),Eg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=Eb(u.providers,n,`Route: ${u.path}`));const c=u._injector??n,v=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(v,u.children??u._loadedRoutes))}return kr(o).pipe(Pu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ht(null);const u=o.pipe(Zt(c=>null===c?Ht(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));return r.loadComponent&&!r._loadedComponent?kr([u,this.loader.loadComponent(r)]).pipe(Pu()):u})}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Fs),gt(vS),gt(ta),gt(HM),gt(YD))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const QD=new mt("");let UM=(()=>{class e{constructor(n,r,o,u,c={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof N0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Yd?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof xg&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function uE(){throw new Error("invalid")}()};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();function Tc(e,t){return{\u0275kind:e,\u0275providers:t}}function jM(){const e=ct(os);return t=>{const n=e.get(wg);if(t!==n.components[0])return;const r=e.get(Fs),o=e.get(GM);1===e.get(JD)&&r.initialNavigation(),e.get(qM,null,sn.Optional)?.setUpPreloading(),e.get(QD,null,sn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const GM=new mt("",{factory:()=>new Dr}),JD=new mt("",{providedIn:"root",factory:()=>1}),qM=new mt("");function jV(e){return Tc(0,[{provide:qM,useExisting:$V},{provide:HM,useExisting:e}])}const WM=new mt("ROUTER_FORROOT_GUARD"),qV=[rD,{provide:Dm,useClass:ND},Fs,Mm,{provide:Lh,useFactory:function zM(e){return e.routerState.root},deps:[Fs]},YD,[]];function WV(){return new ES("Router",Fs)}let ZM=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[qV,[],{provide:Rg,multi:!0,useValue:n},{provide:WM,useFactory:XV,deps:[[Fs,new Nd,new Eo]]},{provide:H0,useValue:r||{}},r?.useHash?{provide:Nh,useClass:n2}:{provide:Nh,useClass:JS},{provide:QD,useFactory:()=>{const e=ct(CF),t=ct(Tr),n=ct(H0),r=ct($0),o=ct(Dm);return n.scrollOffset&&e.setOffset(n.scrollOffset),new UM(o,r,e,t,n)}},r?.preloadingStrategy?jV(r.preloadingStrategy).\u0275providers:[],{provide:ES,multi:!0,useFactory:WV},r?.initialNavigation?QV(r):[],r?.bindToComponentInputs?Tc(8,[DM,{provide:O0,useExisting:DM}]).\u0275providers:[],[{provide:KM,useFactory:jM},{provide:Wb,multi:!0,useExisting:KM}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Rg,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(gt(WM,8))};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({})}return e})();function XV(e){return"guarded"}function QV(e){return["disabled"===e.initialNavigation?Tc(3,[{provide:Vb,multi:!0,useFactory:()=>{const t=ct(Fs);return()=>{t.setUpLocationChangeListener()}}},{provide:JD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Tc(2,[{provide:JD,useValue:0},{provide:Vb,multi:!0,deps:[os],useFactory:t=>{const n=t.get(e2,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=t.get(Fs),u=t.get(GM);VM(o,()=>{r(!0)}),t.get($0).afterPreactivation=()=>(r(!0),u.closed?Ht(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const KM=new mt("");let e$=(()=>{class e{constructor(){this.title="PathwayBrowser"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Ws({type:e,selectors:[["cr-root"]],decls:1,vars:0,template:function(r,o){1&r&&em(0,"router-outlet")},dependencies:[jD]})}return e})();const Pg=new mt("CallSetDisabledState",{providedIn:"root",factory:()=>W0}),W0="always";let FI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({})}return e})(),Q$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({imports:[FI]})}return e})(),e3=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Pg,useValue:n.callSetDisabledState??W0}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({imports:[Q$]})}return e})();class Q0{}class J0{}class bl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),u=o.toLowerCase(),c=n.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof bl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new bl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof bl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const u=t.value;if(u){let c=this.headers.get(n);if(!c)return;c=c.filter(v=>-1===u.indexOf(v)),0===c.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,c)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(u=>u.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class t3{encodeKey(t){return eT(t)}encodeValue(t){return eT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const r3=/%(\d[a-f0-9])/gi,i3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eT(e){return encodeURIComponent(e).replace(r3,(t,n)=>i3[n]??t)}function ew(e){return`${e}`}class ef{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new t3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function n3(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[c,v]=-1==u?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,u)),t.decodeValue(o.slice(u+1))],w=n.get(c)||[];w.push(v),n.set(c,w)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(ew):[ew(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(u=>{n.push({param:r,value:u,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new ef({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(ew(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(ew(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class o3{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function tT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function nT(e){return typeof Blob<"u"&&e instanceof Blob}function rT(e){return typeof FormData<"u"&&e instanceof FormData}class Bm{constructor(t,n,r,o){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function a3(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new bl),this.context||(this.context=new o3),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=n;else{const v=n.indexOf("?");this.urlWithParams=n+(-1===v?"?":v<n.length-1?"&":"")+c}}else this.params=new ef,this.urlWithParams=n}serializeBody(){return null===this.body?null:tT(this.body)||nT(this.body)||rT(this.body)||function s3(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ef?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rT(this.body)?null:nT(this.body)?this.body.type||null:tT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ef?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,_=t.params||this.params;const I=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((N,L)=>N.set(L,t.setHeaders[L]),w)),t.setParams&&(_=Object.keys(t.setParams).reduce((N,L)=>N.set(L,t.setParams[L]),_)),new Bm(n,r,u,{params:_,headers:w,context:I,reportProgress:v,responseType:o,withCredentials:c})}}var kg=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(kg||{});class bC{constructor(t,n=200,r="OK"){this.headers=t.headers||new bl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class DC extends bC{constructor(t={}){super(t),this.type=kg.ResponseHeader}clone(t={}){return new DC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Og extends bC{constructor(t={}){super(t),this.type=kg.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Og({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class iT extends bC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function CC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let oT=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let u;if(n instanceof Bm)u=n;else{let w,_;w=o.headers instanceof bl?o.headers:new bl(o.headers),o.params&&(_=o.params instanceof ef?o.params:new ef({fromObject:o.params})),u=new Bm(n,r,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:_,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const c=Ht(u).pipe(Eg(w=>this.handler.handle(w)));if(n instanceof Bm||"events"===o.observe)return c;const v=c.pipe(Mc(w=>w instanceof Og));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return v.pipe(nn(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return v.pipe(nn(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return v.pipe(nn(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return v.pipe(nn(w=>w.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ef).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,CC(o,r))}post(n,r,o={}){return this.request("POST",n,CC(o,r))}put(n,r,o={}){return this.request("PUT",n,CC(o,r))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Q0))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();function uT(e,t){return t(e)}function l3(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const d3=new mt(""),Vm=new mt(""),lT=new mt("");function f3(){let e=null;return(t,n)=>{null===e&&(e=(ct(d3,{optional:!0})??[]).reduceRight(l3,uT));const r=ct(t0),o=r.add();return e(t,n).pipe(ym(()=>r.remove(o)))}}let cT=(()=>{class e extends Q0{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ct(t0)}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Vm),...this.injector.get(lT,[])]));this.chain=o.reduceRight((u,c)=>function c3(e,t,n){return(r,o)=>n.runInContext(()=>t(r,u=>e(u,o)))}(u,c,this.injector),uT)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(ym(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(J0),gt(ta))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const v3=/^\)\]\}',?\n/;let fT=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new je(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?kr(r.\u0275loadImpl()):Ht(null)).pipe(co(()=>new xt(u=>{const c=r.build();if(c.open(n.method,n.urlWithParams),n.withCredentials&&(c.withCredentials=!0),n.headers.forEach((de,ae)=>c.setRequestHeader(de,ae.join(","))),n.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const de=n.detectContentTypeHeader();null!==de&&c.setRequestHeader("Content-Type",de)}if(n.responseType){const de=n.responseType.toLowerCase();c.responseType="json"!==de?de:"text"}const v=n.serializeBody();let w=null;const _=()=>{if(null!==w)return w;const de=c.statusText||"OK",ae=new bl(c.getAllResponseHeaders()),Pe=function m3(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(c)||n.url;return w=new DC({headers:ae,status:c.status,statusText:de,url:Pe}),w},I=()=>{let{headers:de,status:ae,statusText:Pe,url:De}=_(),st=null;204!==ae&&(st=typeof c.response>"u"?c.responseText:c.response),0===ae&&(ae=st?200:0);let At=ae>=200&&ae<300;if("json"===n.responseType&&"string"==typeof st){const Ot=st;st=st.replace(v3,"");try{st=""!==st?JSON.parse(st):null}catch(ur){st=Ot,At&&(At=!1,st={error:ur,text:st})}}At?(u.next(new Og({body:st,headers:de,status:ae,statusText:Pe,url:De||void 0})),u.complete()):u.error(new iT({error:st,headers:de,status:ae,statusText:Pe,url:De||void 0}))},N=de=>{const{url:ae}=_(),Pe=new iT({error:de,status:c.status||0,statusText:c.statusText||"Unknown Error",url:ae||void 0});u.error(Pe)};let L=!1;const Q=de=>{L||(u.next(_()),L=!0);let ae={type:kg.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(ae.total=de.total),"text"===n.responseType&&c.responseText&&(ae.partialText=c.responseText),u.next(ae)},ie=de=>{let ae={type:kg.UploadProgress,loaded:de.loaded};de.lengthComputable&&(ae.total=de.total),u.next(ae)};return c.addEventListener("load",I),c.addEventListener("error",N),c.addEventListener("timeout",N),c.addEventListener("abort",N),n.reportProgress&&(c.addEventListener("progress",Q),null!==v&&c.upload&&c.upload.addEventListener("progress",ie)),c.send(v),u.next({type:kg.Sent}),()=>{c.removeEventListener("error",N),c.removeEventListener("abort",N),c.removeEventListener("load",I),c.removeEventListener("timeout",N),n.reportProgress&&(c.removeEventListener("progress",Q),null!==v&&c.upload&&c.upload.removeEventListener("progress",ie)),c.readyState!==c.DONE&&c.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(wx))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();const EC=new mt("XSRF_ENABLED"),hT=new mt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pT=new mt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gT{}let b3=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=lx(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ss),gt(yc),gt(hT))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})();function D3(e,t){const n=e.url.toLowerCase();if(!ct(EC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=ct(gT).getToken(),o=ct(pT);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var tf=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(tf||{});function C3(...e){const t=[oT,fT,cT,{provide:Q0,useExisting:cT},{provide:J0,useExisting:fT},{provide:Vm,useValue:D3,multi:!0},{provide:EC,useValue:!0},{provide:gT,useClass:b3}];for(const n of e)t.push(...n.\u0275providers);return function Av(e){return{\u0275providers:e}}(t)}const vT=new mt("LEGACY_INTERCEPTOR_FN");function E3(){return function $h(e,t){return{\u0275kind:e,\u0275providers:t}}(tf.LegacyInterceptors,[{provide:vT,useFactory:f3},{provide:Vm,useExisting:vT,multi:!0}])}let _3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({providers:[C3(E3())]})}return e})();var A3=oe(6100),R3=oe.n(A3),Dl=oe(6990);function yt(e){return function N3(e){return void 0!==e.apply}(e)?e():e}function Cl(e){const t=e;return t.setDefault=function(n,r){return e[n]||(e[n]=r),t},t}const P3=(e,t)=>Et.properties[e][t],k3=(e,t,n)=>n(yt(Et.properties[e][t])),nf=(0,Dl.memoize)(e=>{let t=[];const n=e.classes().find(w=>_C.has(w));if(!n)return wT(t,mT);const r=_C.get(n),[o,u,c]=[e.data("width"),e.data("height"),e.hasClass("drug")],v=r(o,u,c);return v.background&&t.push(v.background),e.selected()&&v.select&&t.push(v.select),e.hasClass("hover")&&v.hover&&t.push(v.hover),e.hasClass("flag")&&v.flag&&t.push(v.flag),v.decorators&&t.push(...v.decorators),c&&t.push(q3(o,u,n)),e.classes().includes("Pathway")&&t.push(W3(o,u,n)),t=t.map(w=>({...w,"background-image":yT(w["background-image"],w["background-width"]||o,w["background-height"]||u)})),wT(t,mT)},e=>e.id()+"-"+e.classes().toString()+"-s:"+e.selected()),mT={"background-image":"","background-position-x":"0","background-position-y":"0","background-offset-x":"0","background-offset-y":"0","background-width":"100%","background-height":"100%","background-fit":"none","background-clip":"none","background-image-containment":"over","background-image-smoothing":"yes","background-height-relative-to":"inner","background-width-relative-to":"inner","background-repeat":"no-repeat","background-image-crossorigin":"anonymous","bounds-expansion":0};function yT(e,t,n){return"data:image/svg+xml;utf8,"+encodeURIComponent(function j3(e,t=100,n=100){return(new DOMParser).parseFromString(`<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg><svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='${t}' height='${n}'>${e}</svg>`,"text/xml").documentElement}(e,t,n).outerHTML)}const Ac=(e,t,n)=>`${e}x${t}-${n}`,_C=new Map([["Protein",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.select),o=yt(Et.properties.global.hover),u=yt(Et.properties.global.thickness),c=yt(Et.properties.protein.radius),v=c+u,w=c-u;return{hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${v}\n            a ${v} ${v} 0 0 1 ${v} -${v}\n            h ${e-2*v}\n            a ${v} ${v} 0 0 1 ${v} ${v}\n            a ${v} ${w} 0 0 0 -${v} -${w}\n            h -${e-2*v}\n            a ${v} ${w} 0 0 0 -${v} ${w}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":v},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${v} ${v} 0 0 0 ${v} ${v}\n            h ${e-2*v}\n            a ${v} ${v} 0 0 0 ${v} -${v}\n            a ${v} ${w} 0 0 1 -${v} ${w}\n            h -${e-2*v}\n            a ${v} ${w} 0 0 1 -${v} -${w}\n            Z"/>\n`,"background-position-y":t-c,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":v}}},Ac)],["GenomeEncodedEntity",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.select),o=yt(Et.properties.global.hover),u=yt(Et.properties.global.thickness),c=yt(Et.properties.genomeEncodedEntity.radius),w=c+u,_=c-u,I=2*u,N=3*I;return{background:{"background-image":`\n        \n  <defs>\n    <rect id="rect" rx="${c}" ry="${c}" x="0" y="0" width="${e}" height="${t}"/>\n    <clipPath id="clip">\n      <use href="#rect"/>\n    </clipPath>\n  </defs>\n  \n        <use href="#rect" clip-path="url(#clip)" stroke-width="${I}" stroke="${yt(Et.properties.genomeEncodedEntity.stroke)}" fill="none" stroke-linecap="round" stroke-dasharray="${N} ${N}"/>\n      `},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${w}\n            a ${w} ${w} 0 0 1 ${w} -${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 1 ${w} ${w}\n            a ${w} ${_} 0 0 0 -${w} -${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 0 -${w} ${_}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":w},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${w} ${w} 0 0 0 ${w} ${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 0 ${w} -${w}\n            a ${w} ${_} 0 0 1 -${w} ${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 1 -${w} -${_}\n            Z"/>\n`,"background-position-y":t-c,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":w}}},Ac)],["RNA",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.thickness),o=yt(Et.properties.global.select),u=yt(Et.properties.global.hover),v=yt(Et.properties.rna.radius),w=v+r,_=v-r;return{hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${u}"/>`,"background-position-y":-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${w} ${w} 0 0 0 ${w} ${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 0 ${w} -${w}\n            a ${w} ${_} 0 0 1 -${w} ${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 1 -${w} -${_}\n            Z"/>\n`,"background-position-y":t-v,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":w}}},Ac)],["Gene",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.thickness),o=yt(Et.properties.gene.decorationHeight),u=yt(Et.properties.gene.decorationExtraWidth),c=yt(Et.properties.gene.arrowHeadSize),v=yt(Et.properties.gene.arrowRadius),w=yt(Et.properties.gene.fill),_=yt(Et.properties.global.select),I=yt(Et.properties.global.hover),N=Math.sqrt(3*Math.pow(c,2)/4),L=e/2,Q=yt(Et.properties.gene.borderRadius),ie=Q+r,de=Q-r;return{background:{"background-image":`\n          <path fill="${w}" stroke-width="0" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${o}\n            H ${e}\n            v ${t-o-v}\n            a ${v} ${v} 0 0 1 -${v} ${v}\n            H ${v}\n            a ${v} ${v} 0 0 1 -${v} -${v}\n            Z\n          "/>`,"background-position-y":0,"background-position-x":0},decorators:[{"background-image":`\n          <path fill="none" stroke="${w}" stroke-width="${r}"  d="\n            M ${L} ${o+2*r}\n            v -${o-v-(c+r)/2+2*r}\n            a ${v} ${v} 0 0 1 ${v} -${v}\n            h ${L-r-v+u}\n          "/>\n            <path fill="${w}" stroke="${w}" stroke-width="${r}" stroke-linejoin="round"  d="\n            M ${e-N-r/2+u} ${c/2+r/2}\n            v -${c/2}\n            l ${N} ${c/2}\n            l -${N} ${c/2}\n            v -${c/2}\n            z\n          "/>`,"background-position-y":-r/2,"bounds-expansion":o,"background-height":o+1.5*r,"background-width":e+u,"background-clip":"none","background-image-containment":"over"}],hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${I}"/>`,"background-position-y":o-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${_}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${ie} ${ie} 0 0 0 ${ie} ${ie}\n            h ${e-2*ie}\n            a ${ie} ${ie} 0 0 0 ${ie} -${ie}\n            a ${ie} ${de} 0 0 1 -${ie} ${de}\n            h -${e-2*ie}\n            a ${ie} ${de} 0 0 1 -${ie} -${de}\n            Z"/>\n`,"background-position-y":t-Q,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":ie}}},Ac)],["Molecule",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.select),o=yt(Et.properties.global.hover),u=yt(Et.properties.global.thickness),c=yt(n?Et.properties.molecule.drug:Et.properties.molecule.stroke),v=yt(Et.properties.molecule.fill),w=u/2,_=t/2,I=_+u,N=_-u,L=Math.min(I,e/2);return{background:{"background-image":`<rect x="${w}" y="${w}" width="${e-u}" height="${t-u}" rx="${_}" stroke="${c}" fill="${v}" stroke-width="${u}"/>`},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${I}\n            a ${L} ${I} 0 0 1 ${L} -${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 1 ${L} ${I}\n            a ${L} ${N} 0 0 0 -${L} -${N}\n            h -${e-2*L}\n            a ${L} ${N} 0 0 0 -${L} ${N}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":I},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${L} ${I} 0 0 0 ${L} ${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 0 ${L} -${I}\n            a ${L} ${N} 0 0 1 -${L} ${N}\n            h -${e-2*L}\n            a ${L} ${N} 0 0 1 -${L} -${N}\n            Z"/>\n`,"background-position-y":_,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":I}}},Ac)],["Complex",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.select),o=yt(Et.properties.global.hover),u=yt(Et.properties.global.thickness),c=yt(Et.properties.complex.cut),v=yt(n?Et.properties.complex.drug:Et.properties.complex.fill),_=2*c,I=2*u,N=t-_-2*I,Q=t/2+u,ie=`<defs>\n  <path id="octogon" d="\n      M ${_+I+0} ${I}\n      H ${e-c-I-0}\n      l ${c} ${c}\n      v ${N}\n      l  -${c} ${c}\n      H ${_+I+0}\n      l -${c} 0 -${c} -${c}\n      v -${N}\n      l  ${c} -${c}\n      Z\n      "/>\n  </defs>`;return{background:{"background-image":`\n${ie}\n<use href="#octogon" fill="${v}" stroke="${v}" stroke-width="${2*I}" stroke-linejoin="round"/>\n`},hover:{"background-image":`\n      <path stroke="${o}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} ${Q}\n      v -${N/2}\n      l ${c} -${c+u}\n      H ${e-c-I}\n      l ${c} ${c+u}\n      v ${N/2}\n      " />\n      `,"background-position-y":-u,"background-height":Q},select:{"background-image":`\n      <path stroke="${r}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} 0\n      v ${N/2}\n      l ${c} ${c+u}\n      H ${e-c-I}\n      l ${c} -${c+u}\n      v -${N/2}\n      " />\n      `,"background-position-y":t/2,"background-height":Q},decorators:[{"background-image":`\n         ${ie}\n         <use href="#octogon" fill="none" stroke="${yt(Et.properties.complex.stroke)}" stroke-width="${I}" stroke-linejoin="round"/>\n         <use href="#octogon" fill="${v}"/>\n         `}]}},Ac)],["EntitySet",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.select),o=yt(Et.properties.global.hover),u=yt(Et.properties.global.thickness),c=yt(Et.properties.entitySet.radius),v=yt(n?Et.properties.entitySet.drug:Et.properties.entitySet.fill),_=2*c,I=2*u,N=t/2-_-u,L=t/2+u,Q=`<defs>\n   <path id="curly" d="\n       M ${_+u} ${u}\n       H ${e-_-u}\n       a ${c} ${c} 0 0 1 ${c} ${c}\n\n       v ${N}\n       a ${c} ${c} 0 0 0 ${c} ${c}\n       a ${c} ${c} 0 0 0 -${c} ${c}\n       v ${N}\n\n       a ${c} ${c} 0 0 1 -${c} ${c}\n       H ${_+u}\n       a ${c} ${c} 0 0 1 -${c} -${c}\n\n       v -${N}\n       a ${c} ${c} 0 0 0 -${c} -${c}\n       a ${c} ${c} 0 0 0 ${c} -${c}\n       v -${N}\n\n       a ${c} ${c} 0 0 1 ${c} -${c}\n       Z\n       "/>\n   <clipPath id="inside">\n     <use href="#curly"/>\n   </clipPath>\n </defs>`;return{background:{"background-image":`\n       ${Q}\n       <use href="#curly" fill="${v}" stroke="${v}" stroke-width="${I}" stroke-linejoin="round"/>\n       `},hover:{"background-image":`\n       <path stroke="${o}" stroke-width="${I}" fill="none" stroke-linejoin="round" d="\n         M ${u+c} ${L+c}\n         a ${c} ${c} 0 0 0 -${c} -${c}\n         a ${c} ${c} 0 0 0 ${c} -${c}\n         v -${N}\n         a ${c} ${c+u} 0 0 1 ${c} -${c+u}\n         H ${e-_-u}\n         a ${c} ${c+u} 0 0 1 ${c} ${c+u}\n         v ${N}\n         a ${c} ${c} 0 0 0 ${c} ${c}\n         a ${c} ${c} 0 0 0 -${c} ${c}\n       "/>`,"background-position-y":-u,"background-height":L},select:{"background-image":`\n       <path stroke="${r}" stroke-width="${I}" fill="none" stroke-linejoin="round" d="\n         M ${u+c} ${-c}\n         a ${c} ${c} 0 0 1 -${c} ${c}\n         a ${c} ${c} 0 0 1 ${c} ${c}\n         v ${N}\n         a ${c} ${c+u} 0 0 0 ${c} ${c+u}\n         H ${e-_-u}\n         a ${c} ${c+u} 0 0 0 ${c} -${c+u}\n         v -${N}\n         a ${c} ${c} 0 0 1 ${c} -${c}\n         a ${c} ${c} 0 0 1 -${c} -${c}\n       "/>`,"background-position-y":t/2,"background-height":L},decorators:[{"background-image":`\n       ${Q}\n       <use href="#curly" fill="none" stroke="${yt(Et.properties.entitySet.stroke)}" stroke-width="${I}" clip-path="url(#inside)"/>\n       <rect fill="${v}" x="${I+_}" y="${u}"\n             width="${e-2*_-2*I}"\n             height="${t-I}"/>\n       `}]}},Ac)],["Interacting",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.select),o=yt(Et.properties.global.hover),u=yt(Et.properties.global.thickness);yt(n?Et.properties.pathway.disease:Et.properties.pathway.stroke),yt(Et.properties.pathway.fill);let w=e+3*u;const _=3*u;return{hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n           M 0 0\n           H ${w}\n           V ${_}\n           H 0\n           V 0\n           Z\n           "/>\n`,"background-position-y":-_/2,"background-position-x":-_/2,"background-width":w,"bounds-expansion":_,"background-clip":"none","background-image-containment":"over"},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n           M 0 0\n           H ${w}\n           V ${_}\n           H 0\n           V 0\n           Z"/>\n`,"background-position-y":t-_/2,"background-position-x":-_/2,"background-width":w,"bounds-expansion":_,"background-clip":"none","background-image-containment":"over"}}},Ac)],["SUB",(0,Dl.memoize)((e,t,n)=>{const r=yt(Et.properties.global.select),o=yt(Et.properties.global.hover),u=3*yt(Et.properties.global.thickness),c=yt(n?Et.properties.pathway.disease:Et.properties.pathway.stroke),v=yt(Et.properties.pathway.fill),w=u/2,_=t/2,I=_,N=_-u,L=Math.min(I,e/2);return{background:{"background-image":`<rect x="${w}" y="${w}" width="${e-u}" height="${t-u}" rx="${_}" stroke="${c}" fill="${v}" stroke-width="${u}"/>`},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${I}\n            a ${L} ${I} 0 0 1 ${L} -${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 1 ${L} ${I}\n            a ${L} ${N} 0 0 0 -${L} -${N}\n            h -${e-2*L}\n            a ${L} ${N} 0 0 0 -${L} ${N}\n            Z"/>\n`,"background-clip":"none","background-image-containment":"over","background-height":I},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${L} ${I} 0 0 0 ${L} ${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 0 ${L} -${I}\n            a ${L} ${N} 0 0 1 -${L} ${N}\n            h -${e-2*L}\n            a ${L} ${N} 0 0 1 -${L} -${N}\n            Z"/>\n`,"background-position-y":_,"background-clip":"none","background-image-containment":"over","background-height":I}}},Ac)]]);function wT(e,t){const n={};return new Set(Object.keys(t)).forEach(o=>n[o]=e.map(u=>u[o]||t[o])),n}const q3=(e,t,n)=>{const r=yt(Et.properties.global.thickness),o=yt("Molecule"!==n?Et.properties.global.onPrimary:Et.properties.molecule.drug);return{"background-image":`\n      <path style="transform: scale(2)" fill="${o}" stroke-width="0.4" stroke="${o}" d="M3.2 4C3.3 4 3.4 4 3.6 4L6.75 8.81L5.7 10.15C5.7 10.15 5.53985 10.3884 5.31824 10.6092C5.00434 10.922 4.6582 11.3 4.28711 11.3C4.19141 11.3 4.2 11.3 4.1 11.3V11.5H6.4V11.3C6.2 11.3 6 11.3 5.9 11.2C5.8 11.1 5.8 11 5.8 10.9C5.8 10.6301 5.9 10.5547 6.16055 10.226L7 9.2L7.65291 10.226C7.82889 10.5025 8 10.7344 8 10.9C8 11.0656 7.90095 11.3 7.65291 11.3C7.55291 11.3 7.6 11.3 7.4 11.3V11.5H10.2V11.3C9.9 11.3 9.7 11.2 9.5 11C9.24121 10.7412 9 10.5 8.6 10L7.6 8.5L8.48711 7.35309C8.55228 7.28792 8.61656 7.21558 8.68081 7.13924C9.09787 6.6437 9.64859 6 10.2 6.01309V5.81309H7.8V6.01309C8 6.01309 8.2 6.01309 8.3 6.01309C8.45586 6.01309 8.6 6.20329 8.6 6.31309C8.6 6.62136 8.43963 6.81922 8.2462 7.03337L7.3 8.1L4.5 3.9C5.1 3.8 5.4 3.61 5.7 3.31C6 3.01 6.2 2.6 6.2 2.2C6.2 1.8 6.08711 1.47 5.78711 1.17C5.52798 0.910875 5.3 0.8 5 0.7C4.6 0.6 4.1 0.5 3.4 0.5H1V0.7H1.2C1.82201 0.7 2 1.14292 2 1.7V6C2 6.59634 2 6.9 1.2 6.9H1V7.1H3.8V6.9H3.6C2.9041 6.9 2.9 6.61047 2.9 6V4H3H3.2ZM3 3.7C3 3.7 3 3.7 2.9 3.7L2.88711 1C3.18711 0.9 3.4 0.9 3.6 0.9C4.47782 0.9 5 1.42405 5 2.3C5 3.40743 4.15401 3.7 3.2 3.7H3Z"/>\n    `,"background-position-x":("EntitySet"!==n?0:yt(Et.properties.entitySet.radius))+3*r,"background-position-y":t/2-11+"px","background-width":"22px","background-height":"24px"}},W3=(e,t,n)=>{const r=yt(Et.properties.global.thickness),o=yt(Et.properties.global.onPrimary);let u;return u="Interacting"===n?3*r:"SUB"===n?5*r:0,{"background-image":`\n      <path style="transform: scale(2)" fill="${o}" stroke-width="0.4" stroke="${o}" d="M19.6864 21.0381C19.0364 21.0381 18.4531 20.8508 17.9364 20.4761C17.4197 20.1008 17.0614 19.6214 16.8614 19.0381H11.6864C10.5864 19.0381 9.64473 18.6464 8.8614 17.8631C8.07807 17.0798 7.6864 16.1381 7.6864 15.0381C7.6864 13.9381 8.07807 12.9964 8.8614 12.2131C9.64473 11.4298 10.5864 11.0381 11.6864 11.0381H13.6864C14.2364 11.0381 14.7074 10.8421 15.0994 10.4501C15.4907 10.0588 15.6864 9.58809 15.6864 9.03809C15.6864 8.48809 15.4907 8.01709 15.0994 7.62509C14.7074 7.23375 14.2364 7.03809 13.6864 7.03809H8.5114C8.29473 7.62142 7.9324 8.10075 7.4244 8.47609C6.91573 8.85075 6.3364 9.03809 5.6864 9.03809C4.85307 9.03809 4.14473 8.74642 3.5614 8.16309C2.97807 7.57975 2.6864 6.87142 2.6864 6.03809C2.6864 5.20475 2.97807 4.49642 3.5614 3.91309C4.14473 3.32975 4.85307 3.03809 5.6864 3.03809C6.3364 3.03809 6.91573 3.22542 7.4244 3.60009C7.9324 3.97542 8.29473 4.45475 8.5114 5.03809H13.6864C14.7864 5.03809 15.7281 5.42975 16.5114 6.21309C17.2947 6.99642 17.6864 7.93809 17.6864 9.03809C17.6864 10.1381 17.2947 11.0798 16.5114 11.8631C15.7281 12.6464 14.7864 13.0381 13.6864 13.0381H11.6864C11.1364 13.0381 10.6657 13.2338 10.2744 13.6251C9.8824 14.0171 9.6864 14.4881 9.6864 15.0381C9.6864 15.5881 9.8824 16.0591 10.2744 16.4511C10.6657 16.8424 11.1364 17.0381 11.6864 17.0381H16.8614C17.0781 16.4548 17.4407 15.9754 17.9494 15.6001C18.4574 15.2254 19.0364 15.0381 19.6864 15.0381C20.5197 15.0381 21.2281 15.3298 21.8114 15.9131C22.3947 16.4964 22.6864 17.2048 22.6864 18.0381C22.6864 18.8714 22.3947 19.5798 21.8114 20.1631C21.2281 20.7464 20.5197 21.0381 19.6864 21.0381ZM5.6864 7.03809C5.96973 7.03809 6.2074 6.94242 6.3994 6.75109C6.59073 6.55909 6.6864 6.32142 6.6864 6.03809C6.6864 5.75475 6.59073 5.51709 6.3994 5.32509C6.2074 5.13375 5.96973 5.03809 5.6864 5.03809C5.40307 5.03809 5.1654 5.13375 4.9734 5.32509C4.78207 5.51709 4.6864 5.75475 4.6864 6.03809C4.6864 6.32142 4.78207 6.55909 4.9734 6.75109C5.1654 6.94242 5.40307 7.03809 5.6864 7.03809Z" />\n    `,"background-position-x":u,"background-position-y":t/2-24+"px","background-width":"48px","background-height":"48px"}},Z3=yT('<line x1="2.5" y1="3" x2="4.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/><line x1="5.5" y1="3" x2="7.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/>',10,10);class Et{constructor(t,n={}){this.p=P3,this.pm=k3,Et.css=getComputedStyle(t),Et.properties=function K3(e={},t){const n=Cl(e.global||{}).setDefault("thickness",4).setDefault("surface",()=>t.getPropertyValue("--surface")||"#F6FEFF").setDefault("onSurface",()=>t.getPropertyValue("--on-surface")||"#001F24").setDefault("primary",()=>t.getPropertyValue("--primary")||"#006782").setDefault("onPrimary",()=>t.getPropertyValue("--on-primary")||"#FFFFFF").setDefault("positive",()=>t.getPropertyValue("--positive")||"#0C9509").setDefault("negative",()=>t.getPropertyValue("--negative")||"#BA1A1A").setDefault("select",()=>t.getPropertyValue("--select")||"#6EB3E4").setDefault("hover",()=>t.getPropertyValue("--hover")||"#78E076"),r=Cl(e.compartment||{}).setDefault("opacity",.12).setDefault("fill",()=>t.getPropertyValue("--compartment")||"#E5834A"),o=Cl(e.protein||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-1")||"#001F29").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-1")||"#3E001D").setDefault("radius",8),u=Cl(e.genomeEncodedEntity||{}).setDefault("fill",()=>yt(o.fill)).setDefault("stroke",()=>yt(n.primary)).setDefault("drug",()=>yt(o.drug)).setDefault("radius",8),c=Cl(e.rna||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-2")||"#003545").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-2")||"#610B33").setDefault("radius",8),v=Cl(e.gene||{}).setDefault("decorationHeight",20).setDefault("decorationExtraWidth",17).setDefault("arrowHeadSize",10).setDefault("borderRadius",8).setDefault("arrowRadius",8).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-3")||"#004D62"),w=Cl(e.molecule||{}).setDefault("fill",()=>yt(n.surface)).setDefault("stroke",()=>yt(n.onSurface)).setDefault("drug",()=>t.getPropertyValue("--drug-contrast-4")||"#9C3D61"),_=Cl(e.complex||{}).setDefault("cut",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-1")||"#00315C").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-4")||"#7E2549"),I=Cl(e.entitySet||{}).setDefault("radius",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-2")||"#1660A5").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-5")||"#BB557A"),N=Cl(e.pathway||{}).setDefault("fill",()=>yt(n.primary)).setDefault("stroke",()=>yt(n.onPrimary)).setDefault("disease",()=>yt(n.negative));return{global:n,compartment:r,protein:o,genomeEncodedEntity:u,rna:c,gene:v,molecule:w,complex:_,entitySet:I,pathway:N}}(n,Et.css)}bindToCytoscape(t){t.on("mouseover",n=>{n.target.addClass&&n.target.addClass("hover")}),t.on("mouseout",n=>{n.target.removeClass&&n.target?.removeClass("hover")})}getStyleSheet(){return[{selector:"*",style:{"font-family":"Helvetica","font-weight":600}},{selector:"node.Compartment",style:{shape:"round-rectangle",width:"1",height:"1","border-style":"double","text-opacity":.8,"text-halign":"center","text-valign":"top","text-margin-y":25,"overlay-opacity":0,color:this.p("compartment","fill"),"border-color":this.p("compartment","fill"),"background-color":this.p("compartment","fill"),"background-opacity":this.p("compartment","opacity"),"border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.drug",style:{"text-max-width":t=>t.width()-44+"px"}},{selector:"node.PhysicalEntity, node.Pathway",style:{label:"data(displayName)",width:"data(width)",height:"data(height)","background-fit":"none","text-halign":"center","text-valign":"center","text-wrap":"wrap","text-max-width":"data(width)","background-image-smoothing":"no","background-image":t=>nf(t)["background-image"],"background-position-y":t=>nf(t)["background-position-y"]||0,"background-position-x":t=>nf(t)["background-position-x"]||0,"background-height":t=>nf(t)["background-height"]||"100%","background-width":t=>nf(t)["background-width"]||"100%","background-clip":t=>nf(t)["background-clip"]||"clipped","background-image-containment":t=>nf(t)["background-image-containment"]||"inside","bounds-expansion":this.p("global","thickness"),color:this.p("global","onPrimary")}},{selector:"node.Protein",style:{shape:"round-rectangle","background-color":this.p("protein","fill")}},{selector:"node.Protein.drug",style:{"background-color":this.p("protein","drug")}},{selector:"node.GenomeEncodedEntity",style:{shape:"round-rectangle","background-color":this.p("genomeEncodedEntity","fill")}},{selector:"node.GenomeEncodedEntity.drug",style:{"background-color":this.p("genomeEncodedEntity","drug")}},{selector:"node.RNA",style:{shape:"bottom-round-rectangle","background-color":this.p("rna","fill")}},{selector:"node.RNA.drug",style:{"background-color":this.p("rna","drug")}},{selector:"node.Gene",style:{shape:"bottom-round-rectangle","background-opacity":0,"background-color":this.p("gene","fill"),"bounds-expansion":this.p("gene","decorationExtraWidth"),"text-margin-y":this.pm("gene","decorationHeight",t=>t/2)}},{selector:"node.Molecule",style:{"background-opacity":0,shape:"round-rectangle",color:this.p("molecule","stroke")}},{selector:"node.Molecule.drug",style:{color:this.p("molecule","drug")}},{selector:"node.EntitySet",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n+"px"))}},{selector:"node.EntitySet.drug",style:{"text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n-44+"px"))}},{selector:"node.Complex",style:{"background-opacity":0,shape:"cut-rectangle","text-max-width":t=>this.pm("global","thickness",n=>t.width()-3*n+"px")}},{selector:"node.Pathway",style:{"background-color":this.p("pathway","fill"),"text-max-width":t=>this.pm("global","thickness",n=>t.width()-8*n-96+"px")}},{selector:"node.Interacting.Pathway",style:{shape:"rectangle","border-color":this.p("pathway","stroke"),"border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.SUB.Pathway",style:{"background-opacity":0,shape:"round-rectangle"}},{selector:"node.reaction",style:{width:this.pm("global","thickness",t=>6*t),height:this.pm("global","thickness",t=>6*t),shape:"round-rectangle","text-halign":"center","text-valign":"center","border-width":this.p("global","thickness"),"border-color":this.p("global","onSurface"),color:this.p("global","onSurface"),"background-color":this.p("global","surface")}},{selector:"node.association",style:{shape:"ellipse","background-color":this.p("global","onSurface")}},{selector:" node.dissociation",style:{shape:"ellipse","border-style":"double","border-width":this.pm("global","thickness",t=>3*t)}},{selector:" node.uncertain",style:{label:"?","font-weight":600}},{selector:"node.omitted",style:{"background-image":Z3,"background-fit":"cover","background-height":"100%","background-width":"100%"}},{selector:"edge",style:{"curve-style":"bezier","line-cap":"round","source-endpoint":"outside-to-node","arrow-scale":1.5,width:this.p("global","thickness"),color:this.p("global","onSurface"),"line-color":this.p("global","onSurface"),"target-arrow-color":this.p("global","onSurface"),"mid-source-arrow-color":this.p("global","onSurface"),"mid-target-arrow-color":this.p("global","onSurface"),"source-arrow-color":this.p("global","onSurface"),"source-arrow-width":"100%","target-arrow-width":"100%"}},{selector:"edge.consumption",style:{"target-endpoint":"inside-to-node","source-endpoint":"outside-to-node"}},{selector:"edge.production",style:{"target-arrow-shape":"triangle"}},{selector:"edge.catalysis",style:{"target-arrow-shape":"circle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.positive-regulation",style:{"target-arrow-shape":"triangle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.negative-regulation",style:{"target-arrow-shape":"tee","line-cap":"butt","source-endpoint":"inside-to-node","target-arrow-color":this.p("global","negative")}},{selector:"edge.set-to-member",style:{"target-arrow-shape":"circle","line-style":"dashed","line-dash-pattern":[6,10]}},{selector:"edge[stoichiometry > 1]",style:{"text-background-color":this.p("global","surface"),"text-background-opacity":1,"text-border-width":this.pm("global","thickness",t=>t/2),"text-border-opacity":1,"text-border-color":this.p("global","onSurface"),"text-background-shape":"roundrectangle","text-background-padding":this.pm("global","thickness",t=>t+"px")}},{selector:"edge[stoichiometry > 1].incoming",style:{"source-label":"data(stoichiometry)","source-text-offset":30}},{selector:"edge[stoichiometry > 1].outgoing",style:{"target-label":"data(stoichiometry)","target-text-offset":35}},{selector:"edge[?weights]",style:{"curve-style":"unbundled-bezier","control-point-distances":"data(distances)","control-point-weights":"data(weights)","edge-distances":"endpoints"}},{selector:"edge[?sourceEndpoint]",style:{"source-endpoint":"data(sourceEndpoint)"}},{selector:"edge[?targetEndpoint]",style:{"target-endpoint":"data(targetEndpoint)"}},{selector:"node.debug",style:{label:"data(id)","text-outline-width":4,"text-outline-color":"black","text-outline-opacity":1,color:"white"}}]}update(t){(function G3(){for(let e of _C.values())e.cache.clear();nf.cache.clear()})(),t.style(this.getStyleSheet())}}var e,Y3=Object.create,bT=Object.defineProperty,X3=Object.getOwnPropertyDescriptor,Q3=Object.getOwnPropertyNames,J3=Object.getPrototypeOf,eH=Object.prototype.hasOwnProperty,SC=(e=function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e),xC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rH=xC((e,t)=>{t.exports=function(n){return n&&"object"==typeof n&&"function"==typeof n.copy&&"function"==typeof n.fill&&"function"==typeof n.readUInt8}}),iH=xC((e,t)=>{t.exports="function"==typeof Object.create?function(n,r){n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,r){n.super_=r;var o=function(){};o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}}),oH=xC(e=>{var t=/%[sdj%]/g;e.format=function(Ve){if(!st(Ve)){for(var tt=[],Tt=0;Tt<arguments.length;Tt++)tt.push(o(arguments[Tt]));return tt.join(" ")}Tt=1;for(var Nr=arguments,Ho=Nr.length,si=String(Ve).replace(t,function(ui){if("%%"===ui)return"%";if(Tt>=Ho)return ui;switch(ui){case"%s":return String(Nr[Tt++]);case"%d":return Number(Nr[Tt++]);case"%j":try{return JSON.stringify(Nr[Tt++])}catch{return"[Circular]"}default:return ui}}),tr=Nr[Tt];Tt<Ho;tr=Nr[++Tt])ae(tr)||!Zn(tr)?si+=" "+tr:si+=" "+o(tr);return si},e.deprecate=function(Ve,tt){if(Ot(global.process))return function(){return e.deprecate(Ve,tt).apply(this,arguments)};if(!0===process.noDeprecation)return Ve;var Tt=!1;return function Nr(){if(!Tt){if(process.throwDeprecation)throw new Error(tt);process.traceDeprecation?console.trace(tt):console.error(tt),Tt=!0}return Ve.apply(this,arguments)}};var r,n={};function o(Ve,tt){var Tt={seen:[],stylize:c};return arguments.length>=3&&(Tt.depth=arguments[2]),arguments.length>=4&&(Tt.colors=arguments[3]),de(tt)?Tt.showHidden=tt:tt&&e._extend(Tt,tt),Ot(Tt.showHidden)&&(Tt.showHidden=!1),Ot(Tt.depth)&&(Tt.depth=2),Ot(Tt.colors)&&(Tt.colors=!1),Ot(Tt.customInspect)&&(Tt.customInspect=!0),Tt.colors&&(Tt.stylize=u),w(Tt,Ve,Tt.depth)}function u(Ve,tt){var Tt=o.styles[tt];return Tt?"\x1b["+o.colors[Tt][0]+"m"+Ve+"\x1b["+o.colors[Tt][1]+"m":Ve}function c(Ve,tt){return Ve}function w(Ve,tt,Tt){if(Ve.customInspect&&tt&&Su(tt.inspect)&&tt.inspect!==e.inspect&&(!tt.constructor||tt.constructor.prototype!==tt)){var Nr=tt.inspect(Tt,Ve);return st(Nr)||(Nr=w(Ve,Nr,Tt)),Nr}var Ho=function _(Ve,tt){if(Ot(tt))return Ve.stylize("undefined","undefined");if(st(tt)){var Tt="'"+JSON.stringify(tt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ve.stylize(Tt,"string")}return De(tt)?Ve.stylize(""+tt,"number"):de(tt)?Ve.stylize(""+tt,"boolean"):ae(tt)?Ve.stylize("null","null"):void 0}(Ve,tt);if(Ho)return Ho;var si=Object.keys(tt),tr=function v(Ve){var tt={};return Ve.forEach(function(Tt,Nr){tt[Tt]=!0}),tt}(si);if(Ve.showHidden&&(si=Object.getOwnPropertyNames(tt)),Gi(tt)&&(si.indexOf("message")>=0||si.indexOf("description")>=0))return I(tt);if(0===si.length){if(Su(tt))return Ve.stylize("[Function"+(tt.name?": "+tt.name:"")+"]","special");if(ur(tt))return Ve.stylize(RegExp.prototype.toString.call(tt),"regexp");if(io(tt))return Ve.stylize(Date.prototype.toString.call(tt),"date");if(Gi(tt))return I(tt)}var TC,ui="",af=!1,iw=["{","}"];return ie(tt)&&(af=!0,iw=["[","]"]),Su(tt)&&(ui=" [Function"+(tt.name?": "+tt.name:"")+"]"),ur(tt)&&(ui=" "+RegExp.prototype.toString.call(tt)),io(tt)&&(ui=" "+Date.prototype.toUTCString.call(tt)),Gi(tt)&&(ui=" "+I(tt)),0!==si.length||af&&0!=tt.length?Tt<0?ur(tt)?Ve.stylize(RegExp.prototype.toString.call(tt),"regexp"):Ve.stylize("[Object]","special"):(Ve.seen.push(tt),TC=af?function N(Ve,tt,Tt,Nr,Ho){for(var si=[],tr=0,oo=tt.length;tr<oo;++tr)NT(tt,String(tr))?si.push(L(Ve,tt,Tt,Nr,String(tr),!0)):si.push("");return Ho.forEach(function(ui){ui.match(/^\d+$/)||si.push(L(Ve,tt,Tt,Nr,ui,!0))}),si}(Ve,tt,Tt,tr,si):si.map(function(I5){return L(Ve,tt,Tt,tr,I5,af)}),Ve.seen.pop(),function Q(Ve,tt,Tt){var Ho=Ve.reduce(function(si,tr){return tr.indexOf("\n"),si+tr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ho>60?Tt[0]+(""===tt?"":tt+"\n ")+" "+Ve.join(",\n  ")+" "+Tt[1]:Tt[0]+tt+" "+Ve.join(", ")+" "+Tt[1]}(TC,ui,iw)):iw[0]+ui+iw[1]}function I(Ve){return"["+Error.prototype.toString.call(Ve)+"]"}function L(Ve,tt,Tt,Nr,Ho,si){var tr,oo,ui;if((ui=Object.getOwnPropertyDescriptor(tt,Ho)||{value:tt[Ho]}).get?oo=Ve.stylize(ui.set?"[Getter/Setter]":"[Getter]","special"):ui.set&&(oo=Ve.stylize("[Setter]","special")),NT(Nr,Ho)||(tr="["+Ho+"]"),oo||(Ve.seen.indexOf(ui.value)<0?(oo=ae(Tt)?w(Ve,ui.value,null):w(Ve,ui.value,Tt-1)).indexOf("\n")>-1&&(oo=si?oo.split("\n").map(function(af){return"  "+af}).join("\n").substr(2):"\n"+oo.split("\n").map(function(af){return"   "+af}).join("\n")):oo=Ve.stylize("[Circular]","special")),Ot(tr)){if(si&&Ho.match(/^\d+$/))return oo;(tr=JSON.stringify(""+Ho)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(tr=tr.substr(1,tr.length-2),tr=Ve.stylize(tr,"name")):(tr=tr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),tr=Ve.stylize(tr,"string"))}return tr+": "+oo}function ie(Ve){return Array.isArray(Ve)}function de(Ve){return"boolean"==typeof Ve}function ae(Ve){return null===Ve}function De(Ve){return"number"==typeof Ve}function st(Ve){return"string"==typeof Ve}function Ot(Ve){return void 0===Ve}function ur(Ve){return Zn(Ve)&&"[object RegExp]"===Rc(Ve)}function Zn(Ve){return"object"==typeof Ve&&null!==Ve}function io(Ve){return Zn(Ve)&&"[object Date]"===Rc(Ve)}function Gi(Ve){return Zn(Ve)&&("[object Error]"===Rc(Ve)||Ve instanceof Error)}function Su(Ve){return"function"==typeof Ve}function Rc(Ve){return Object.prototype.toString.call(Ve)}function Hm(Ve){return Ve<10?"0"+Ve.toString(10):Ve.toString(10)}e.debuglog=function(Ve){if(Ot(r)&&(r=process.env.NODE_DEBUG||""),Ve=Ve.toUpperCase(),!n[Ve])if(new RegExp("\\b"+Ve+"\\b","i").test(r)){var tt=process.pid;n[Ve]=function(){var Tt=e.format.apply(e,arguments);console.error("%s %d: %s",Ve,tt,Tt)}}else n[Ve]=function(){};return n[Ve]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=ie,e.isBoolean=de,e.isNull=ae,e.isNullOrUndefined=function Pe(Ve){return null==Ve},e.isNumber=De,e.isString=st,e.isSymbol=function At(Ve){return"symbol"==typeof Ve},e.isUndefined=Ot,e.isRegExp=ur,e.isObject=Zn,e.isDate=io,e.isError=Gi,e.isFunction=Su,e.isPrimitive=function rw(Ve){return null===Ve||"boolean"==typeof Ve||"number"==typeof Ve||"string"==typeof Ve||"symbol"==typeof Ve||typeof Ve>"u"},e.isBuffer=rH();var S5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function NT(Ve,tt){return Object.prototype.hasOwnProperty.call(Ve,tt)}e.log=function(){console.log("%s - %s",function x5(){var Ve=new Date,tt=[Hm(Ve.getHours()),Hm(Ve.getMinutes()),Hm(Ve.getSeconds())].join(":");return[Ve.getDate(),S5[Ve.getMonth()],tt].join(" ")}(),e.format.apply(e,arguments))},e.inherits=iH(),e._extend=function(Ve,tt){if(!tt||!Zn(tt))return Ve;for(var Tt=Object.keys(tt),Nr=Tt.length;Nr--;)Ve[Tt[Nr]]=tt[Tt[Nr]];return Ve}}),DT=e=>e.reduce((t,n)=>t.concat(Array.isArray(n)?DT(n):n),[]),CT=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),ET=e=>e.reduce((t,n)=>t*n,1),_T=e=>Array.isArray(e)||CT(e)?[e.length].concat(_T(e[0])):[],MC=e=>[...e.slice(1).map((t,n)=>e.slice(n+1).reduce((r,o)=>r*o,1)),1],aH=e=>{let{constructor:{name:t="Float32Array"}={}}=e||{};switch(t){case"Int8Array":return"int8";case"Uint8Array":return"uint8";case"Int16Array":return"int16";case"Uint16Array":return"uint16";case"Int32Array":return"int32";case"Uint32Array":return"uint32";case"Uint8ClampedArray":return"uint8c";case"Float32Array":return"float32";default:return"float64"}},Lg=e=>{switch(e){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"uint8c":return Uint8ClampedArray;case"float32":return Float32Array;default:return Float64Array}},Ze=(...e)=>new _u(...e),an=class{x;shape;shapem1;strides;backstrides;length;lengthm1;nd;ndm1;index;coords;pos;factors;constructor(e){this.x=Ze(e);let o,{shape:t,strides:n,length:r}=this.x;for(this.length=r,this.lengthm1=r-1,this.nd=t.length,this.ndm1=this.nd-1,this.shape=Array(32).fill(0),this.strides=Array(32).fill(0),this.shapem1=Array(32).fill(0),this.coords=Array(32).fill(0),this.backstrides=Array(32).fill(0),this.factors=Array(32).fill(0),0!==this.nd&&(this.factors[this.nd-1]=1),o=0;o<this.nd;o+=1)this.shape[o]=t[o],this.shapem1[o]=t[o]-1,this.strides[o]=n[o],this.backstrides[o]=n[o]*this.shapem1[o],this.coords[o]=0,o>0&&(this.factors[this.ndm1-o]=this.factors[this.nd-o]*t[this.nd-o]);this.index=0,this.pos=0}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;let u,{ndm1:t,shapem1:n,strides:r,backstrides:o}=this;for(u=t;u>=0;u-=1){if(this.coords[u]<n[u]){this.coords[u]+=1,this.pos+=r[u];break}this.coords[u]=0,this.pos-=o[u]}return this.index+=1,e}[Symbol.iterator](){return this}},Bg=class{iters;shape;nd;length;lengthm1;numiter;index;pos;constructor(...e){let t,n,r,o,u,c;for(this.iters=e.map(v=>new an(v)),this.numiter=e.length,t=0,n=0;t<this.numiter;t+=1)n=Math.max(n,this.iters[t].x.shape.length);for(this.nd=n,this.shape=Array(n).fill(0),t=0;t<n;t+=1)for(this.shape[t]=1,o=0;o<this.numiter;o+=1)if(r=this.iters[o],u=t+r.x.shape.length-n,u>=0){if(c=r.x.shape[u],1==c)continue;if(1==this.shape[t])this.shape[t]=c;else if(this.shape[t]!==c)throw new Error("shape mismatch")}for(c=this.shape.reduce((v,w)=>v*w,1),this.length=c,this.lengthm1=c-1,t=0;t<this.numiter;t+=1)for(r=this.iters[t],r.nd=this.nd,r.ndm1=this.nd-1,r.length=c,r.lengthm1=c-1,n=r.x.shape.length,0!==n&&(r.factors[this.nd-1]=1),o=0;o<this.nd;o+=1)r.shape[o]=this.shape[o],r.shapem1[o]=this.shape[o]-1,u=o+n-this.nd,r.strides[o]=u<0||r.x.shape[u]!==this.shape[o]?0:r.x.strides[u],r.backstrides[o]=r.strides[o]*r.shapem1[o],o>0&&(r.factors[this.nd-o-1]=r.factors[this.nd-o]*this.shape[this.nd-o]);this.index=0,this.pos=Array(this.numiter).fill(0)}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;this.index+=1;let n,r,{numiter:t}=this;for(r=0;r<t;r+=1)n=this.iters[r],this.pos[r]=n.pos,n.next();return e}[Symbol.iterator](){return this}},{abs:sH}=Math;function uH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=sH(e[n]);return this}var{acos:lH}=Math;function cH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=lH(e[n]);return this}var Di,{acosh:dH}=Math;function fH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=dH(e[n]);return this}try{Di=SC("nblas")}catch{}var ST=Di&&Di.NoTrans,xT=(e,t,n=1)=>Ze(e).add(Ze(t),n);function wH(e,t=1){let{data:n,length:r,strides:o,dtype:u}=this,{data:c,strides:v}=Ze(e);try{let w=v[v.length-1],_=o[o.length-1];if(w!==_)throw new Error("inc_x and inc_y must be equal");!function hH(e,t,n,r,o,u,c){if(r.length/o!==t||u.length/c!==t)throw new Error("lengths do not match");switch(e){case"float64":return Di.daxpy(t,n,r,o,u,c);case"float32":return Di.saxpy(t,n,r,o,u,c);default:throw new Error("wrong dtype")}}(u,r,t,c,w,n,_)}catch{let w=new Bg(this,e);for(let[_,I]of w)n[_]+=t*c[I]}return this}var{acos:bH}=Math;function DH(e){return bH(this.dot(Ze(e))/this.norm()/Ze(e).norm())}var{asin:CH}=Math;function EH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=CH(e[n]);return this}var{asinh:_H}=Math;function SH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=_H(e[n]);return this}var{atan:xH}=Math;function MH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=xH(e[n]);return this}var{atanh:IH}=Math;function TH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=IH(e[n]);return this}var rf=(...e)=>new _u(new Float64Array(e.reduce((t,n)=>t*n,1)),{shape:e}).fill(0);function RH(e){let[t,n]=this.shape,[r,o]=Ze(e).shape,{data:u}=this,{data:c}=Ze(e);if(0===r||0===o)return this;if(t!==r)throw new Error("rows do not match");let _,I,v=rf(t,n+o),{data:w}=v;for(_=0;_<t;_+=1)for(I=0;I<n;I+=1)w[_*(n+o)+I]=u[_*n+I];for(_=0;_<r;_+=1)for(I=0;I<o;I+=1)w[_*(n+o)+(I+n)]=c[_*o+I];return v}function NH(e,t){let{data:n}=this,{data:r}=Ze(e),o=new Bg(this,e);for(let[u,c]of o)n[u]=t(n[u],r[c],u);return this}var{cbrt:PH}=Math;function kH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=PH(e[n]);return this}var{ceil:OH}=Math;function FH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=OH(e[n]);return this}function LH(...e){let{shape:t,length:n}=this;if(1===e.length){let[r]=e;if(r<0||r>n-1||!Number.isFinite(r))throw new Error("index out of bounds")}else if(!t.every((r,o)=>r>e[o]&&Number.isFinite(e[o])&&e[o]>=0))throw new Error("index out of bounds")}function BH(e){if(1!==this.shape.length&&1!==e.shape.length)throw new Error("combine operation not permitted for multidimensional arrays");let{length:t,data:n}=this,{length:r,data:o}=e;if(0===r)return this;if(0===t)return this.data=new(Lg(e.dtype))(o),this.length=r,this.dtype=e.dtype,this;let u=t+r,c=new(Lg(this.dtype))(u);return c.set(n),c.set(o,t),this.data=c,this.length=u,this.shape=[u],this}function VH(){let e=rf(...this.shape),{data:t}=this,{data:n}=e,r=new Bg(this,e);for(let[o,u]of r)n[u]=t[o];return e}var{cos:$H}=Math;function HH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=$H(e[n]);return this}var{cosh:UH}=Math;function zH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=UH(e[n]);return this}function jH(e){let{length:t}=this,{length:n}=e;if(3!==t||3!==n)throw new Error("vectors must have three components");let o=this.z*e.x-this.x*e.z,u=this.x*e.y-this.y*e.x;return this.x=this.y*e.z-this.z*e.y,this.y=o,this.z=u,this}function GH(){this.square();let c,[e]=this.shape,[t,n]=this.copy().lu_factor(),{data:r}=t,o=1,u=1;for(c=0;c<e;c+=1)o*=r[c*e+c],c!==n[c]-1&&(u*=-1);return u*o}function qH(){this.square();let{length:e}=this,[t,n]=this.shape,r=Math.min(t,n);return this.reshape(e).slice(0,e,r+1)}function WH(e){let{data:t,length:n,strides:r,dtype:o}=this,{data:u,strides:c}=e,v=0;try{let w=c[c.length-1],_=r[r.length-1];if(w!==_)throw new Error("inc_x and inc_y must be equal");v=function pH(e,t,n,r,o,u){if(n.length/r!==t||o.length/u!==t)throw new Error("lengths do not match");switch(e){case"float64":return Di.ddot(t,n,r,o,u);case"float32":return Di.sdot(t,n,r,o,u);default:throw new Error("wrong dtype")}}(o,n,u,w,t,_)}catch{let w=new Bg(this,e);for(let[_,I]of w)v+=t[_]*u[I]}return v}var $m,MT=e=>{let r,t=new _u(new Float64Array(e*e),{shape:[e,e]}),{data:n}=t;for(r=0;r<e;r+=1)n[r*e+r]=1;return t};try{$m=SC("nlapack")}catch{}var nw=(e,t,n,r,o,u,c)=>{let[v]=e.shape,{data:w}=e,_=w[r*v+o],I=1/(t+n);w[r*v+o]=_-n*(w[u*v+c]+I*_),w[u*v+c]+=n*(_-I*w[u*v+c])};function ZH(){this.square();let[e]=this.shape;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=Lg(this.dtype).from(this.data));let t=$m.NoEigenvector,n=$m.Eigenvector,r=rf(e),o=rf(e),u=rf(e,e),c=rf(e,e),{data:v}=this,{data:w}=r,{data:_}=o,{data:I}=u,{data:N}=c;return"float64"===this.dtype&&$m.dgeev(t,n,e,v,e,w,_,I,e,N,e),"float32"===this.dtype&&$m.sgeev(t,n,e,v,e,w,_,I,e,N,e),[r,c]}catch{let{data:t}=this,n=MT(e),r=0,o=0,u=0,c=0,v=0;do{for(o=0;o<e;o+=1)for(u=o+1;u<e;u+=1)Math.abs(t[o*e+u])>=r&&(r=Math.abs(t[o*e+u]),c=o,v=u);let w;if(Math.abs(t[c*e+v])<1e-36*Math.abs(t[v*e+v]))w=t[c*e+v]/t[v*e+v];else{let L=t[v*e+v]/2*t[c*e+v];w=1/(Math.abs(L)+Math.sqrt(L*L+1))}let _=1/Math.sqrt(w*w+1),I=w*_,N=t[c*e+v];for(t[c*e+v]=0,t[c*e+c]-=w*N,t[v*e+v]+=w*N,o=0;o<c;o+=1)nw(this,_,I,o,c,o,v);for(o=c+1;o<v;o+=1)nw(this,_,I,c,o,o,v);for(o=v+1;o<e;o+=1)nw(this,_,I,c,o,v,o);for(o=0;o<e;o+=1)nw(n,_,I,o,c,o,v)}while(r>=1e-9);return[this.diagonal(),n]}}function KH(e,t=1e-6){let{data:n}=this,{data:r}=e,o=new Bg(this,e);for(let[u,c]of o)if(Math.abs(n[u]-r[c])>t)return!1;return!0}function YH(e){let{shape:t}=this,{shape:n}=e;if(!t.every((r,o)=>r===n[o]))throw new Error(`shapes ${t} and ${n} do not match`)}function XH(e){let{length:t}=this,{length:n}=e;if(t!==n)throw new Error(`lengths ${t} and ${n} do not match`)}var{exp:QH}=Math;function JH(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=QH(e[n]);return this}var{expm1:e4}=Math;function t4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=e4(e[n]);return this}function n4(e=0){let{data:t}=this,n=new an(this);for(let r of n)t[r]=e instanceof Function?e(r):e;return this}var{floor:r4}=Math;function i4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=r4(e[n]);return this}function o4(e){let{data:t}=this,n=new an(this);for(let r of n)e.call(this,t[r],r,t)}var Hh,{fround:a4}=Math;function s4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=a4(e[n]);return this}function u4(){let o,u,c,v,w,{shape:[e,t],data:n}=this,r=0;for(c=0;c<e;c+=1){if(t<=r)return this;for(v=c;0===n[v*t+r];)if(v+=1,e===v&&(v=c,r+=1,t===r))return this;if(c!==v&&this.swap(c,v),u=n[c*t+r],0!==u)for(w=0;w<t;w+=1)n[c*t+w]/=u;for(v=0;v<e;v+=1)if(o=n[v*t+r],v!==c)for(w=0;w<t;w+=1)n[v*t+w]-=n[c*t+w]*o;r+=1}for(c=0;c<e;c+=1){for(u=0,v=0;v<t;v+=1)0===u&&(u=n[c*t+v]);if(0!==u)for(w=0;w<t;w+=1)n[c*t+w]/=u}return this}function l4(...e){this.check(...e);let u,c,{data:t,shape:n}=this,{length:r}=n,o=e[r-1];for(u=0;u<r-1;u+=1){let v=1;for(c=u+1;c<r;c+=1)v*=n[c];o+=e[u]*v}return t[o]}try{Hh=SC("nlapack")}catch{}function IT(e,t,n,r,o,u){if(r.length!==t*n)throw new Error("lengths do not match");switch(e){case"float64":return Hh.dgetrf(t,n,r,o,u);case"float32":return Hh.sgetrf(t,n,r,o,u);default:throw new Error("wrong dtype")}}function f4(){this.square();let{shape:[e],dtype:t}=this;try{let{data:n}=this,r=new Int32Array(e);return IT(t,e,e,n,e,r),function c4(e,t,n,r,o){if(n.length!==t*t)throw new Error("lengths do not match");switch(e){case"float64":return Hh.dgetri(t,n,r,o);case"float32":return Hh.sgetri(t,n,r,o);default:throw new Error("wrong dtype")}}(t,e,n,e,r),this}catch{let n=MT(e),r=((e,t)=>Ze(this).augment(Ze(t)))(0,n).gauss(),o=rf(e,e),u=rf(e,e),{data:c}=r,{data:v}=o,{data:w}=u,_=new an(r),[I,N]=_.coords;for(let L of _)N<e?v[I*e+N]=c[L]:w[I*e+(N-e)]=c[L],[I,N]=_.coords;if(!o.equals(n))throw new Error("matrix is not invertible");return u}}var{log:h4}=Math;function p4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=h4(e[n]);return this}var{log10:g4}=Math;function v4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=g4(e[n]);return this}var{log1p:m4}=Math;function y4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=m4(e[n]);return this}var{log2:w4}=Math;function b4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=w4(e[n]);return this}function D4(){let[e,t]=this.copy().lu_factor(),n=e.copy(),r=e.copy(),{data:o}=n,{data:u}=r,c=new an(e),[v,w]=c.coords;for(let _ of c)w<v?u[_]=0:o[_]=v===w?1:0,[v,w]=c.coords;return[n,r,t]}function C4(){let{data:e,shape:[t],dtype:n}=this,r=new Int32Array(t);try{IT(n,t,t,e,t,r)}catch{let o,u,c,v,w,_,I;for(I=0;I<t;I+=1){for(v=I,o=Math.abs(e[I*t+I]),_=I+1;_<t;_+=1)u=Math.abs(e[_*t+I]),o<u&&(o=u,v=_);for(r[I]=v+1,v!==I&&this.swap(I,v),c=e[I*t+I],w=I+1;w<t;w+=1)e[w*t+I]/=c;for(w=I+1;w<t;w+=1){for(_=I+1;_<t-1;_+=2)e[w*t+_]-=e[w*t+I]*e[I*t+_],e[w*t+_+1]-=e[w*t+I]*e[I*t+_+1];_===t-1&&(e[w*t+_]-=e[w*t+I]*e[I*t+_])}}}return[this,r]}function E4(e){let{data:t}=this,n=new an(this),r=e.bind(this),o=this.copy(),{data:u}=o;for(let c of n)u[c]=r(t[c],c,t);return o}function _4(){let{data:e,length:t,strides:n,dtype:r}=this,o=Number.NEGATIVE_INFINITY;try{o=e[function gH(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Di.idamax(t,n,r);case"float32":return Di.isamax(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])]}catch{let u=new an(this);for(let c of u){let v=e[c];o<v&&(o=v)}}return o}function S4(){let{data:e,length:t}=this,n=new an(this),r=0;for(let o of n)r+=e[o];return r/t}function x4(){let{data:e}=this,t=new an(this),n=Number.POSITIVE_INFINITY;for(let r of t){let o=e[r];n>o&&(n=o)}return n}function I4(e){let{shape:[t,n],data:r,dtype:o}=this.copy(),{shape:[u,c],data:v}=e.copy();if(n!==u)throw new Error("sizes do not match");let w=((e,t)=>new _u(new Float64Array(e*t),{shape:[e,t]}))(t,c),{data:_}=w;try{!function vH(e,t,n,r,o,u,c,v,w,_,I,N,L,Q){let{length:ie}=v,{length:de}=_,{length:ae}=L;if(t===Di.NoTrans&&ie!==w*r||t===Di.Trans&&ie!==w*u)throw new Error("lengths do not match");if(n===Di.NoTrans&&de!==I*u||n===Di.Trans&&de!==I*o)throw new Error("lengths do not match");if(ae!==Q*r)throw new Error("lengths do not match");switch(e){case"float64":return Di.dgemm(t,n,r,o,u,c,v,w,_,I,N,L,Q);case"float32":return Di.sgemm(t,n,r,o,u,c,v,w,_,I,N,L,Q);default:throw new Error("wrong dtype")}}(o,ST,ST,t,c,n,1,r,n,v,c,0,_,c)}catch{let N,I=new an(w),[L,Q]=I.coords;for(let ie of I){let de=0;for(N=0;N<n;N+=1)de+=r[L*n+N]*v[N*c+Q];_[ie]=de,[L,Q]=I.coords}}return w}var{sqrt:T4}=Math;function A4(){let{data:e,length:t,strides:n,dtype:r}=this,o=0;try{o=function mH(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Di.dnrm2(t,n,r);case"float32":return Di.snrm2(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])}catch{o=T4(this.dot(this))}return o}function R4(){return this.scale(1/this.norm())}var{pow:N4}=Math;function P4(e){let{data:t}=this,n=new an(this);for(let r of n)t[r]=N4(t[r],e);return this}function k4(){let{data:e}=this,t=new an(this),n=1;for(let r of t)n*=e[r];return n}function O4(e){let{data:t}=this,{data:n}=e,r=new Bg(this,e);for(let[o,u]of r)t[o]*=n[u];return this}function F4(e){return e.scale(this.dot(e)/e.dot(e))}function L4(e){if(1!==this.shape.length)throw new Error("push operation not permitted for multidimensional arrays");let{data:t,length:n}=this,r=n+1,o=new(Lg(this.dtype))(r);return o.set(t),o[n]=e,this.data=o,this.length=r,this.shape=[r],this}function B4(e=1e-6){let{data:t}=this.copy().gauss(),n=new an(this),r=0,[o,u]=n.coords;for(let c of n)r<=o&&u>=o&&Math.abs(t[c])>e&&(r+=1),[o,u]=n.coords;return r}function V4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=1/e[n];return this}function $4(e,t){let{data:n,length:r}=this;if(0===r&&typeof t>"u")throw new Error("Reduce of empty array with no initial value.");let c,o=new an(this),u=e.bind(this);typeof t>"u"?(c=n[0],o.next()):c=t;for(let v of o)c=u(c,n[v],v,n);return c}function H4(...e){let{length:t}=this;if(e.reduce((n,r)=>n*r,1)!==t)throw new Error(`shape ${e} does not match length ${t}`);return this.shape=e,this.strides=MC(e),this}var{round:U4}=Math;function z4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=U4(e[n]);return this}function j4(e,t,n=1){this.check(e,0),this.check(t,0);let u,[,r]=this.shape,{data:o}=this;for(u=0;u<r;u+=1)o[e*r+u]+=o[t*r+u]*n;return this}function G4(e){let{data:t,length:n,strides:r,dtype:o}=this;try{!function yH(e,t,n,r,o){if(r.length/o!==t)throw new Error("lengths do not match");switch(e){case"float64":return Di.dscal(t,n,r,o);case"float32":return Di.sscal(t,n,r,o);default:throw new Error("wrong dtype")}}(o,n,e,t,r[r.length-1])}catch{let u=new an(this);for(let c of u)t[c]*=e}return this}function q4(...e){let t=e.slice(0,-1),n=e[e.length-1];this.check(...t);let u,{shape:r}=this,o=t[t.length-1];for(u=0;u<t.length-1;u+=1)o+=t[u]*r[u+1];this.data[o]=n}var{sign:W4}=Math;function Z4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=W4(e[n]);return this}var{sin:K4}=Math;function Y4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=K4(e[n]);return this}var{sinh:X4}=Math;function Q4(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=X4(e[n]);return this}function J4(e=0,t=this.shape[0],n=1){let{data:r,shape:o}=this,u=o.length;if(e<0||t<0)return this.slice(e<0?o[o.length-1]+e:e,t<0?o[o.length-1]+t:t);if(e>t)return this.slice(t,e,n);if(n<=0)throw new Error("step argument has to be a positive integer");let c=[Math.ceil((t-e)/Math.abs(n)),...o.slice(1)],v=ET(c),w=MC(c),_=u>1?r.subarray(e*c[c.length-1],t*c[c.length-1]):r.subarray(e,t);return w[0]*=n,new _u(_,{shape:c,length:v,strides:w})}function e5(e){let{data:t,dtype:n}=this,{data:r,shape:[o,u]}=e;try{!function d4(e,t,n,r,o,u,c,v){if(r.length!==o*t||c.length!==v*n)throw new Error("lengths do not match");switch(e){case"float64":return Hh.dgesv(t,n,r,o,u,c,v);case"float32":return Hh.sgesv(t,n,r,o,u,c,v);default:throw new Error("wrong dtype")}}(n,o,u,t,o,new Int32Array(o),r,u)}catch{let I,N,L,[c,v]=this.lu_factor(),{data:w}=c,{data:_}=e;for(I=0;I<v.length;I+=1)I!==v[I]-1&&e.swap(I,v[I]-1);for(L=0;L<u;L+=1){for(I=0;I<o;I+=1)for(N=0;N<I;N+=1)_[I*u+L]-=w[I*o+N]*_[N*u+L];for(I=o-1;I>=0;I-=1){for(N=I+1;N<o;N+=1)_[I*u+L]-=w[I*o+N]*_[N*u+L];_[I*u+L]/=w[I*o+I]}}}return e}var{sqrt:t5}=Math;function n5(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=t5(e[n]);return this}function r5(){let{length:e}=this.shape,[t,n]=this.shape;if(2!==e||t!==n)throw new Error("matrix is not square")}var TT=(e,t)=>Ze(e).subtract(Ze(t));function i5(e){return this.add(e,-1)}function o5(){let{data:e}=this,t=new an(this),n=0;for(let r of t)n+=e[r];return n}function a5(e,t){this.check(e,0),this.check(t,0);let{data:n}=this,[,r]=this.shape,o=n.slice(e*r,(e+1)*r);return n.copyWithin(e*r,t*r,(t+1)*r),n.set(o,t*r),this}var{tan:s5}=Math;function u5(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=s5(e[n]);return this}var{tanh:l5}=Math;function c5(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=l5(e[n]);return this}function d5(e=0,t=0){let{data:n,shape:r,strides:o}=this,{length:u}=r;if(t>=u)return n[e];let c=r[t],v=o[t],w=[];for(let _=0;_<c;_++){let I=this.toArray(e,t+1);if(null===I)return null;w[_]=I,e+=v}return w}var f5=((e,t,n)=>(n=null!=e?Y3(J3(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of Q3(t))!eH.call(e,o)&&undefined!==o&&bT(e,o,{get:()=>t[o],enumerable:!(r=X3(t,o))||r.enumerable});return e})(e&&e.__esModule?n:bT(n,"default",{value:e,enumerable:!0}),e)))(oH());function AT(){return`array(${(0,f5.inspect)(this.toArray(),{depth:10,breakLength:40})}, dtype=${this.dtype})`}function h5(){let u,[e,t]=this.shape,{data:n}=this,r=Math.min(e,t),o=0;for(u=0;u<r;u+=1)o+=n[u*t+u];return o}function p5(){if(this.shape.length<2)return this;let e=this.shape[0];return this.shape[0]=this.shape[1],this.shape[1]=e,e=this.strides[0],this.strides[0]=this.strides[1],this.strides[1]=e,this}var{trunc:g5}=Math;function v5(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=g5(e[n]);return this}var m5=Symbol.for("nodejs.util.inspect.custom"),_u=class{data=new Float64Array(0);dtype="float64";length=0;shape=[0];strides=[0];[m5]=AT;abs=uH;acos=cH;acosh=fH;add=wH;angle=DH;asin=EH;asinh=SH;atan=MH;atanh=TH;augment=RH;binOp=NH;cbrt=kH;ceil=FH;check=LH;combine=BH;copy=VH;cos=HH;cosh=zH;cross=jH;det=GH;diagonal=qH;dot=WH;eig=ZH;equals=KH;equidimensional=YH;equilateral=XH;exp=JH;expm1=t4;fill=n4;floor=i4;forEach=o4;fround=s4;gauss=u4;get=l4;inv=f4;log=p4;log10=v4;log1p=y4;log2=b4;lu=D4;lu_factor=C4;map=E4;max=_4;mean=S4;min=x4;multiply=I4;norm=A4;normalize=R4;pow=P4;prod=k4;product=O4;project=F4;push=L4;rank=B4;reciprocal=V4;reduce=$4;reshape=H4;round=z4;row_add=j4;scale=G4;set=q4;sign=Z4;sin=Y4;sinh=Q4;slice=J4;solve=e5;sqrt=n5;square=r5;subtract=i5;sum=o5;swap=a5;tan=u5;tanh=c5;toArray=d5;toString=AT;trace=h5;transpose=p5;trunc=v5;constructor(e,t){if(!e)return;if(e instanceof _u)return e;if(e instanceof an){if(!t||!t.dtype)throw new Error("dtype is missing");e.shape&&(t.shape=e.shape);let c=e.length;e=new(Lg(t.dtype))(c)}let{shape:n=_T(e),length:r=ET(n),strides:o=MC(n),dtype:u=aH(e)}=t||{};this.data=CT(e)?e:new(Lg(u))(DT(e)),this.shape=n,this.length=r,this.dtype=u,this.strides=o}get x(){return this.get(0)}set x(e){this.set(0,e)}get y(){return this.get(1)}set y(e){this.set(1,e)}get z(){return this.get(2)}set z(e){this.set(2,e)}get w(){return this.get(3)}set w(e){this.set(3,e)}get T(){return this.copy().transpose()}};try{window.v=_u}catch{}function RT(e,t,n,r=60){const o=[];if(0===n.length)return o;const u=[e,...n,t];for(let c=1;c<u.length-1;c++){let v=IC(u[c-1]),w=IC(u[c]),_=IC(u[c+1]);const I=TT(v.copy(),w),N=TT(_.copy(),w);y5([I,N],r),v=xT(w.copy(),I),_=xT(w.copy(),N),o.push(v,w,_)}return o.map(w5)}function y5(e,t,n=!0){const r=e.map(o=>o.norm());if(n){const o=Math.min(...r);t>=o&&(t=o/2.1)}return e.map((o,u)=>o.scale(t/r[u]))}function IC(e){return Ze([e.x,e.y])}function w5(e){return{x:e.x,y:e.y}}const Uh=e=>`${e.x},${e.y}`,Ci=(e,t=2)=>"number"==typeof e?e*t:{x:e.x*t,y:e.y*t};let b5=(()=>{class e{constructor(n){this.http=n,this.extraLine=new Map,this.reverseExtraLine=new Map,this.nodeTypeMap=new Map([["Protein",["Protein","PhysicalEntity"]],["EntitySet",["EntitySet","PhysicalEntity"]],["Complex",["Complex","PhysicalEntity"]],["Entity",["GenomeEncodedEntity","PhysicalEntity"]],["Gene",["Gene","PhysicalEntity"]],["Chemical",["Molecule","PhysicalEntity"]],["ProteinDrug",["Protein","PhysicalEntity","drug"]],["ComplexDrug",["Complex","PhysicalEntity","drug"]],["ChemicalDrug",["Molecule","PhysicalEntity","drug"]],["EntitySetDrug",["EntitySet","PhysicalEntity","drug"]],["ProcessNode",["SUB","Pathway"]],["EncapsulatedNode",["Interacting","Pathway"]]]),this.reactionTypeMap=new Map([[void 0,["transition","reaction"]],["Association",["association","reaction"]],["Dissociation",["dissociation","reaction"]],["Omitted Process",["omitted","reaction"]],["Uncertain Process",["uncertain","reaction"]]]),this.edgeTypeMap=new Map([["INPUT",["consumption","incoming"]],["ACTIVATOR",["positive-regulation","incoming"]],["REQUIRED",["positive-regulation","incoming"]],["INHIBITOR",["negative-regulation","incoming"]],["CATALYST",["catalysis","incoming"]],["OUTPUT",["production","outgoing"]]]),this.edgeTypeToStr=new Map([["INPUT","-"],["ACTIVATOR","+"],["REQUIRED","+>"],["INHIBITOR","|"],["CATALYST","o"],["OUTPUT",">"]]),this.linkClassMap=new Map([["EntitySetAndMemberLink",["set-to-member","incoming"]],["EntitySetAndEntitySetLink",["set-to-member","incoming"]],["Interaction",["production","outgoing"]]])}random(n,r){return Math.floor(Math.random()*(r-n+1))+n}pick(n){return n[this.random(0,n.length-1)]}getDiagram(n){return this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.json`).pipe(_o(r=>console.log(r)),nn(r=>{console.log("edge.reactionType",new Set(r.edges.flatMap(ae=>ae.reactionType))),console.log("node.connectors.types",new Set(r.nodes.flatMap(ae=>ae.connectors.flatMap(Pe=>Pe.type)))),console.log("node.renderableClass",new Set(r.nodes.flatMap(ae=>ae.renderableClass))),console.log("links.renderableClass",new Set(r.links.flatMap(ae=>ae.renderableClass)));const o=new Map(r.edges.map(ae=>[ae.id,ae])),u=new Map(r.nodes.map(ae=>[ae.id,ae])),c=new Map,v=r.edges.flatMap(ae=>ae.segments.map(Pe=>[Uh(Ci(Pe.from)),Ci(Pe.to)]));this.extraLine=new Map(v),console.assert(v.length===this.extraLine.size,"Some edge data have been lost because 2 segments are starting from the same point");const w=r.edges.flatMap(ae=>ae.segments.map(Pe=>[Uh(Ci(Pe.to)),Ci(Pe.from)]));this.reverseExtraLine=new Map(w),console.assert(w.length==this.reverseExtraLine.size,"Some edge data have been lost because 2 segments are ending at the same point");const _=new Map(r.compartments.flatMap(ae=>ae.componentIds.map(Pe=>[Pe,ae.id]))),I=r?.compartments.map(ae=>({data:{id:ae.id+"",parent:_.get(ae.id)?.toString()||void 0,displayName:ae.displayName,width:Ci(ae.prop.width),height:Ci(ae.prop.height),class:this.nodeTypeMap.get(ae.renderableClass)||ae.renderableClass.toLowerCase()},classes:["Compartment"],position:Ci(ae.position),pannable:!0,grabbable:!1,selectable:!1})),N=r?.edges.map(ae=>({data:{id:ae.id+"",displayName:ae.displayName,inputs:ae.inputs,output:ae.outputs},classes:this.reactionTypeMap.get(ae.reactionType),pannable:!0,grabbable:!1,position:Ci(ae.position)})),L=r?.nodes.map(ae=>({data:{id:ae.id+"",parent:_.get(ae.id)?.toString()||void 0,displayName:ae.displayName.replace(/([,:;-])/g,"$1\u200b"),height:Ci(ae.prop.height),width:Ci(ae.prop.width)},classes:this.nodeTypeMap.get(ae.renderableClass)||[ae.renderableClass.toLowerCase()],pannable:!0,grabbable:!1,position:Ci(ae.position)})),ie=(r?.shadows.map(ae=>({data:{id:ae.id+"",displayName:ae.displayName,height:Ci(ae.prop.height),width:Ci(ae.prop.width),class:this.nodeTypeMap.get(ae.renderableClass)||ae.renderableClass.toLowerCase()},position:ae.position,pannable:!0,grabbable:!1})),r.nodes.flatMap(ae=>ae.connectors.map(Pe=>{const De=o.get(Pe.edgeId),[st,At]="OUTPUT"!==Pe.type?[ae,De]:[De,ae],Ot=Ci(st.position),ur=Ci(At.position);let Zn=Pe.segments.flatMap((Rc,Hm)=>0===Hm?[Rc.from,Rc.to]:[Rc.to]).map(Rc=>Ci(Rc));"OUTPUT"===Pe.type&&Zn.reverse(),0===Zn.length&&Zn.push(Ci(De.position)),this.addEdgeInfo(Zn,"backward",Ot),this.addEdgeInfo(Zn,"forward",ur);let[io,Gi]=[Zn.shift(),Zn.pop()];"CATALYST"===Pe.type&&(Gi=Ci(Pe.endShape.centre)),Zn=RT(io,Gi,Zn);const Su=this.absoluteToRelative(io,Gi,Zn);return{data:{id:this.getEdgeId(st,Pe,At,c),source:st.id+"",target:At.id+"",stoichiometry:Pe.stoichiometry.value,weights:Su.weights.join(" "),distances:Su.distances.join(" "),sourceEndpoint:this.endpoint(Ot,io),targetEndpoint:this.endpoint(ur,Gi)},classes:this.edgeTypeMap.get(Pe.type),pannable:!0,grabbable:!1}}))),de=r.links?.map(ae=>{const Pe=u.get(ae.inputs[0].id),De=u.get(ae.outputs[0].id),st=Ci(Pe.position),At=Ci(De.position);let Ot=ae.segments.flatMap((Gi,Su)=>0===Su?[Gi.from,Gi.to]:[Gi.to]).map(Gi=>Ci(Gi));const[ur,Zn]=[Ot.shift(),Ot.pop()];Ot=RT(ur,Zn,Ot);const io=this.absoluteToRelative(ur,Zn,Ot);return{data:{id:ae.id+"",source:ae.inputs[0].id+"",target:ae.outputs[0].id+"",weights:io.weights.join(" "),distances:io.distances.join(" "),sourceEndpoint:this.endpoint(st,ur),targetEndpoint:this.endpoint(At,Zn)},classes:this.linkClassMap.get(ae.renderableClass),pannable:!0,grabbable:!1}});return{nodes:[...N,...L,...I],edges:[...ie,...de]}}))}getEdgeId(n,r,o,u){let c=`${n.id} --${this.edgeTypeToStr.get(r.type)} ${o.id}`;if(u.has(c)){let v=u.get(c);u.set(c,v++),c+=` (${v})`,console.warn("Conflicting edge id: ",c)}else u.set(c,0);return c}addEdgeInfo(n,r,o){const u=Uh(o);if("forward"===r){const c=this.extraLine;let v=Uh(n.at(-1));for(;c.has(v)&&v!==u;)n.push(c.get(v)),v=Uh(n.at(-1))}else{const c=this.reverseExtraLine;let v=Uh(n.at(0));for(;c.has(v)&&v!==u;)n.unshift(c.get(v)),v=Uh(n.at(0))}}endpoint(n,r){return`${r.x-n.x} ${r.y-n.y}`}absoluteToRelative(n,r,o){const u={distances:[],weights:[]};if(0===o.length)return u;const c=Ze([r.x-n.x,r.y-n.y]),v=Ze([-c.y,c.x]).normalize();let w=Ze([[c.x,c.y],[v.x,v.y]]).inv();for(let _ of o){const N=Ze([[_.x-n.x,_.y-n.y]]).multiply(w);u.weights.push(N.get(0,0)),u.distances.push(N.get(0,1))}return u}randomNetwork(){const r=["Protein","EntitySet","GenomeEncodedEntity","RNA","Gene","Complex","Molecule"],o=["association","dissociation","transition","uncertain","omitted"],u=Array.from({length:100},(N,L)=>{const Q=this.pick(r);return{group:"nodes",data:{id:L.toString(),width:this.random(150,300),height:this.random(50,150),displayName:Q,parent:"Compartment"},classes:[Q,"PhysicalEntity",this.pick(["drug","",""])]}}),c=u.map((N,L)=>({group:"nodes",data:{id:`${L}-react`,parent:"Compartment"},classes:[this.pick(o),"reaction"]}));return Ht({nodes:[{data:{id:"Compartment"},classes:["Compartment"],pannable:!0,grabbable:!1,selectable:!1},...u.flatMap((N,L)=>[N,c[L]])],edges:[...u.flatMap((N,L)=>[{group:"edges",data:{source:`${L}`,target:`${L}-react`,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["consumption"]},{group:"edges",data:{source:`${L}-react`,target:""+(L+1)%100,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["production"]}]),...Array.from({length:25}).map(()=>({group:"edges",data:{source:this.pick(u).data.id,target:this.pick(c).data.id},classes:this.pick(["catalysis","positive-regulation","negative-regulation","set-to-member"])}))]})}static#e=this.\u0275fac=function(r){return new(r||e)(gt(oT))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const D5=["cytoscape"],C5=[{path:":id",component:(()=>{class e{constructor(n,r){this.diagram=n,this.route=r,this.title="pathway-browser"}ngAfterViewInit(){this.route.params.pipe(co(n=>this.diagram.getDiagram(n.id))).subscribe(n=>{const r=this.cytoscapeContainer.nativeElement,u=new Et(r,{});this.cy=R3()({container:r,elements:n,style:u.getStyleSheet(),layout:{name:"preset"},ready(c){c.cy.minZoom(c.cy.zoom())}}),u.bindToCytoscape(this.cy)})}static#e=this.\u0275fac=function(r){return new(r||e)(Ke(b5),Ke(Lh))};static#t=this.\u0275cmp=Ws({type:e,selectors:[["cr-diagram"]],viewQuery:function(r,o){if(1&r&&Z_(D5,5),2&r){let u;Nb(u=function Pb(){return function Ck(e,t){return e[lt].queries[t].queryList}(Le(),hi())}())&&(o.cytoscapeContainer=u.first)}},decls:2,vars:0,consts:[["id","cytoscape"],["cytoscape",""]],template:function(r,o){1&r&&em(0,"div",0,1)},styles:["#cytoscape[_ngcontent-%COMP%]{position:absolute;inset:0;background:#F6FEFF}"]})}return e})()},{path:"**",redirectTo:"R-HSA-453279"}];let E5=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e});static#n=this.\u0275inj=ho({imports:[ZM.forRoot(C5),ZM]})}return e})(),_5=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ao({type:e,bootstrap:[e$]});static#n=this.\u0275inj=ho({imports:[gL,e3,vx,_3,E5]})}return e})();hL().bootstrapModule(_5).catch(e=>console.error(e))},6100:(we,Xe,oe)=>{"use strict";var ce=oe(4430),B=oe(7444),Ie=oe(5440),Me=oe(7939),Ue=oe(9078);function Te(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var nt=Te(ce),vt=Te(B),wt=Te(Ie),_t=Te(Me),On=Te(Ue);function cn(a){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function br(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function nr(a,i){for(var s=0;s<i.length;s++){var l=i[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}function Bn(a,i,s){return i&&nr(a.prototype,i),s&&nr(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}function Tn(a,i,s){return i in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,a}function dn(a,i){return function qe(a){if(Array.isArray(a))return a}(a)||function rt(a,i){var s=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=s){var p,m,l=[],f=!0,h=!1;try{for(s=s.call(a);!(f=(p=s.next()).done)&&(l.push(p.value),!i||l.length!==i);f=!0);}catch(b){h=!0,m=b}finally{try{!f&&null!=s.return&&s.return()}finally{if(h)throw m}}return l}}(a,i)||function ft(a,i){if(a){if("string"==typeof a)return St(a,i);var s=Object.prototype.toString.call(a).slice(8,-1);if("Object"===s&&a.constructor&&(s=a.constructor.name),"Map"===s||"Set"===s)return Array.from(a);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return St(a,i)}}(a,i)||function An(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(a,i){(null==i||i>a.length)&&(i=a.length);for(var s=0,l=new Array(i);s<i;s++)l[s]=a[s];return l}var Ft=typeof window>"u"?null:window,bn=Ft?Ft.navigator:null,Kn=cn(""),Ri=cn({}),So=cn(function(){}),ao=typeof HTMLElement>"u"?"undefined":cn(HTMLElement),Mr=function(i){return i&&i.instanceString&&Fn(i.instanceString)?i.instanceString():null},Qe=function(i){return null!=i&&cn(i)==Kn},Fn=function(i){return null!=i&&cn(i)===So},xn=function(i){return!Dr(i)&&(Array.isArray?Array.isArray(i):null!=i&&i instanceof Array)},xt=function(i){return null!=i&&cn(i)===Ri&&!xn(i)&&i.constructor===Object},ot=function(i){return null!=i&&cn(i)===cn(1)&&!isNaN(i)},so=function(i){if("undefined"!==ao)return null!=i&&i instanceof HTMLElement},Dr=function(i){return xu(i)||sf(i)},xu=function(i){return"collection"===Mr(i)&&i._private.single},sf=function(i){return"collection"===Mr(i)&&!i._private.single},rr=function(i){return"core"===Mr(i)},gr=function(i){return"stylesheet"===Mr(i)},nn=function(i){return null==i||!(""!==i&&!i.match(/^\s+$/))},Mu=function(i){return function(i){return null!=i&&cn(i)===Ri}(i)&&Fn(i.then)},Iu=function(i,s){s||(s=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var h=[],p=0;p<arguments.length;p++)h.push(arguments[p]);return h.join("$")});var l=function f(){var m,p=arguments,b=s.apply(this,p),y=f.cache;return(m=y[b])||(m=y[b]=i.apply(this,p)),m};return l.cache={},l},uo=Iu(function(a){return a.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}),Bs=Iu(function(a){return a.replace(/(-\w)/g,function(i){return i[1].toUpperCase()})}),Hg=Iu(function(a,i){return a+i[0].toUpperCase()+i.substring(1)},function(a,i){return a+"$"+i}),ka=function(i){return nn(i)?i:i.charAt(0).toUpperCase()+i.substring(1)},zr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Ug="rgb[a]?\\(("+zr+"[%]?)\\s*,\\s*("+zr+"[%]?)\\s*,\\s*("+zr+"[%]?)(?:\\s*,\\s*("+zr+"))?\\)",Tu="rgb[a]?\\((?:"+zr+"[%]?)\\s*,\\s*(?:"+zr+"[%]?)\\s*,\\s*(?:"+zr+"[%]?)(?:\\s*,\\s*(?:"+zr+"))?\\)",Uo="hsl[a]?\\(("+zr+")\\s*,\\s*("+zr+"[%])\\s*,\\s*("+zr+"[%])(?:\\s*,\\s*("+zr+"))?\\)",Vs="hsl[a]?\\((?:"+zr+")\\s*,\\s*(?:"+zr+"[%])\\s*,\\s*(?:"+zr+"[%])(?:\\s*,\\s*(?:"+zr+"))?\\)",$s=function(i,s){return i<s?-1:i>s?1:0},Nt=null!=Object.assign?Object.assign.bind(Object):function(a){for(var i=arguments,s=1;s<i.length;s++){var l=i[s];if(null!=l)for(var f=Object.keys(l),h=0;h<f.length;h++){var p=f[h];a[p]=l[p]}}return a},cf={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Lc=function(i){for(var s=i.map,l=i.keys,f=l.length,h=0;h<f;h++){var p=l[h];if(xt(p))throw Error("Tried to set map with object key");h<l.length-1?(null==s[p]&&(s[p]={}),s=s[p]):s[p]=i.value}},Bc=function(i){for(var s=i.map,l=i.keys,f=l.length,h=0;h<f;h++){var p=l[h];if(xt(p))throw Error("Tried to get map with object key");if(null==(s=s[p]))return s}return s},El=Ft?Ft.performance:null,Vc=El&&El.now?function(){return El.now()}:function(){return Date.now()},jg=function(){if(Ft){if(Ft.requestAnimationFrame)return function(a){Ft.requestAnimationFrame(a)};if(Ft.mozRequestAnimationFrame)return function(a){Ft.mozRequestAnimationFrame(a)};if(Ft.webkitRequestAnimationFrame)return function(a){Ft.webkitRequestAnimationFrame(a)};if(Ft.msRequestAnimationFrame)return function(a){Ft.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(Vc())},1e3/60)}}(),$c=function(i){return jg(i)},Oa=Vc,Hs=9261,Hc=5381,ff=function(i){for(var f,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hs;!(f=i.next()).done;)l=65599*l+f.value|0;return l},Ru=function(i){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hs)+i|0},Nu=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hc;return(s<<5)+s+i|0},Fa=function(i){return 2097152*i[0]+i[1]},Uc=function(i,s){return[Ru(i[0],s[0]),Nu(i[1],s[1])]},ua=function(i,s){var l={value:0,done:!1},f=0,h=i.length;return ff({next:function(){return f<h?l.value=i.charCodeAt(f++):l.done=!0,l}},s)},pf=function(){return zc(arguments)},zc=function(i){for(var s,l=0;l<i.length;l++){var f=i[l];s=0===l?ua(f):ua(f,s)}return s},qi=!0,Gg=null!=console.warn,qg=null!=console.trace,gf=Number.MAX_SAFE_INTEGER||9007199254740991,jh=function(){return!0},_l=function(){return!1},Gh=function(){return 0},vf=function(){},Vn=function(i){throw new Error(i)},qh=function(i){if(void 0===i)return qi;qi=!!i},Zt=function(i){qh()&&(Gg?console.warn(i):(console.log(i),qg&&console.trace()))},jr=function(i){return null==i?i:xn(i)?i.slice():xt(i)?function(i){return Nt({},i)}(i):i},Wh=function(i,s){for(s=i="";i++<36;s+=51*i&52?(15^i?8^Math.random()*(20^i?16:4):4).toString(16):"-");return s},jc={},Gc=function(){return jc},Pr=function(i){var s=Object.keys(i);return function(l){for(var f={},h=0;h<s.length;h++){var p=s[h],m=l?.[p];f[p]=void 0===m?i[p]:m}return f}},xo=function(i,s,l){for(var f=i.length-1;f>=0&&(i[f]!==s||(i.splice(f,1),!l));f--);},mf=function(i){i.splice(0,i.length)},lo=function(i,s,l){return l&&(s=Hg(l,s)),i[s]},La=function(i,s,l,f){l&&(s=Hg(l,s)),i[s]=f},la=typeof Map<"u"?Map:function(){function a(){br(this,a),this._obj={}}return Bn(a,[{key:"set",value:function(s,l){return this._obj[s]=l,this}},{key:"delete",value:function(s){return this._obj[s]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(s){return void 0!==this._obj[s]}},{key:"get",value:function(s){return this._obj[s]}}]),a}(),Yh=function(){function a(i){if(br(this,a),this._obj=Object.create(null),this.size=0,null!=i){var s;s=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var l=0;l<s.length;l++)this.add(s[l])}}return Bn(a,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(s){var l=this._obj;1!==l[s]&&(l[s]=1,this.size++)}},{key:"delete",value:function(s){var l=this._obj;1===l[s]&&(l[s]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(s){return 1===this._obj[s]}},{key:"toArray",value:function(){var s=this;return Object.keys(this._obj).filter(function(l){return s.has(l)})}},{key:"forEach",value:function(s,l){return this.toArray().forEach(s,l)}}]),a}(),ku="undefined"!==(typeof Set>"u"?"undefined":cn(Set))?Set:Yh,Sl=function(i,s){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==i&&void 0!==s&&rr(i)){var f=s.group;if(null==f&&(f=s.data&&null!=s.data.source&&null!=s.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var h=this._private={cy:i,single:!0,data:s.data||{},position:s.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!s.selected,selectable:void 0===s.selectable||!!s.selectable,locked:!!s.locked,grabbed:!1,grabbable:void 0===s.grabbable||!!s.grabbable,pannable:void 0===s.pannable?"edges"===f:!!s.pannable,active:!1,classes:new ku,animation:{current:[],queue:[]},rscratch:{},scratch:s.scratch||{},edges:[],children:[],parent:s.parent&&s.parent.isNode()?s.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==h.position.x&&(h.position.x=0),null==h.position.y&&(h.position.y=0),s.renderedPosition){var p=s.renderedPosition,m=i.pan(),b=i.zoom();h.position={x:(p.x-m.x)/b,y:(p.y-m.y)/b}}var y=[];xn(s.classes)?y=s.classes:Qe(s.classes)&&(y=s.classes.split(/\s+/));for(var D=0,E=y.length;D<E;D++){var S=y[D];!S||""===S||h.classes.add(S)}this.createEmitter();var M=s.style||s.css;M&&(Zt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(M)),(void 0===l||l)&&this.restore()}else Vn("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Vn("An element must have a core reference and parameters set")},kr=function(i){return i={bfs:i.bfs||!i.dfs,dfs:i.dfs||!i.bfs},function(l,f,h){var p;xt(l)&&!Dr(l)&&(l=(p=l).roots||p.root,f=p.visit,h=p.directed),h=2!==arguments.length||Fn(f)?h:f,f=Fn(f)?f:function(){};for(var R,m=this._private.cy,b=l=Qe(l)?this.filter(l):l,y=[],D=[],E={},S={},M={},x=0,A=this.byGroup(),P=A.nodes,k=A.edges,O=0;O<b.length;O++){var V=b[O],q=V.id();V.isNode()&&(y.unshift(V),i.bfs&&(M[q]=!0,D.push(V)),S[q]=0)}for(var K=function(){var te=i.bfs?y.shift():y.pop(),Z=te.id();if(i.dfs){if(M[Z])return"continue";M[Z]=!0,D.push(te)}var Se,ue=S[Z],ne=E[Z],ee=null!=ne?ne.source():null,he=null!=ne?ne.target():null,ve=null==ne?void 0:te.same(ee)?he[0]:ee[0];if(!0===(Se=f(te,ne,ve,x++,ue)))return R=te,"break";if(!1===Se)return"break";for(var fe=te.connectedEdges().filter(function(Oe){return(!h||Oe.source().same(te))&&k.has(Oe)}),Ee=0;Ee<fe.length;Ee++){var Ne=fe[Ee],Be=Ne.connectedNodes().filter(function(Oe){return!Oe.same(te)&&P.has(Oe)}),ke=Be.id();0!==Be.length&&!M[ke]&&(y.push(Be=Be[0]),i.bfs&&(M[ke]=!0,D.push(Be)),E[ke]=Ne,S[ke]=S[Z]+1)}};0!==y.length;){var $=K();if("continue"!==$&&"break"===$)break}for(var W=m.collection(),U=0;U<D.length;U++){var Y=D[U],X=E[Y.id()];null!=X&&W.push(X),W.push(Y)}return{path:m.collection(W),found:m.collection(R)}}},Ou={breadthFirstSearch:kr({bfs:!0}),depthFirstSearch:kr({dfs:!0})};Ou.bfs=Ou.breadthFirstSearch,Ou.dfs=Ou.depthFirstSearch;var Wi=Pr({root:null,weight:function(i){return 1},directed:!1}),Ht={dijkstra:function(i){if(!xt(i)){var s=arguments;i={root:s[0],weight:s[1],directed:s[2]}}var ne,ee,l=Wi(i),f=l.root,p=l.directed,m=this,b=l.weight,y=Qe(f)?this.filter(f)[0]:f[0],D={},E={},S={},M=this.byGroup(),x=M.nodes,R=M.edges;R.unmergeBy(function(ue){return ue.isLoop()});for(var A=function(ne){return D[ne.id()]},k=new vt.default(function(ue,ne){return A(ue)-A(ne)}),O=0;O<x.length;O++){var V=x[O];D[V.id()]=V.same(y)?0:1/0,k.push(V)}for(var q=function(ne,ee){for(var Se,he=(p?ne.edgesTo(ee):ne.edgesWith(ee)).intersect(R),ve=1/0,fe=0;fe<he.length;fe++){var Ee=he[fe],Ne=b(Ee);(Ne<ve||!Se)&&(ve=Ne,Se=Ee)}return{edge:Se,dist:ve}};k.size()>0;){var K=k.pop(),$=A(K),W=K.id();if(S[W]=$,$!==1/0)for(var U=K.neighborhood().intersect(x),Y=0;Y<U.length;Y++){var X=U[Y],G=X.id(),te=q(K,X),Z=$+te.dist;Z<A(X)&&(ee=Z,D[(ne=X).id()]=ee,k.updateItem(ne),E[G]={node:K,edge:te.edge})}}return{distanceTo:function(ne){var ee=Qe(ne)?x.filter(ne)[0]:ne[0];return S[ee.id()]},pathTo:function(ne){var ee=Qe(ne)?x.filter(ne)[0]:ne[0],he=[],ve=ee,Se=ve.id();if(ee.length>0)for(he.unshift(ee);E[Se];){var fe=E[Se];he.unshift(fe.edge),he.unshift(fe.node),Se=(ve=fe.node).id()}return m.spawn(he)}}}},yf={kruskal:function(i){i=i||function(O){return 1};for(var s=this.byGroup(),l=s.nodes,f=s.edges,h=l.length,p=new Array(h),m=l,b=function(V){for(var q=0;q<p.length;q++)if(p[q].has(V))return q},y=0;y<h;y++)p[y]=this.spawn(l[y]);for(var D=f.sort(function(O,V){return i(O)-i(V)}),E=0;E<D.length;E++){var S=D[E],M=S.source()[0],x=S.target()[0],R=b(M),A=b(x),P=p[R],k=p[A];R!==A&&(m.merge(S),P.merge(k),p.splice(A,1))}return m}},Fu=Pr({root:null,goal:null,weight:function(i){return 1},heuristic:function(i){return 0},directed:!1}),co={aStar:function(i){var s=this.cy(),l=Fu(i),f=l.root,h=l.goal,p=l.heuristic,m=l.directed,b=l.weight;f=s.collection(f)[0],h=s.collection(h)[0];var O,V,y=f.id(),D=h.id(),E={},S={},M={},x=new vt.default(function(Se,fe){return S[Se.id()]-S[fe.id()]}),R=new ku,A={},P={},k=function(fe,Ee){x.push(fe),R.add(Ee)};k(f,y),E[y]=0,S[y]=p(f);for(var $=0;x.size()>0;){if(V=(O=x.pop()).id(),R.delete(V),$++,V===D){for(var W=[],U=h,Y=D,X=P[Y];W.unshift(U),null!=X&&W.unshift(X),null!=(U=A[Y]);)X=P[Y=U.id()];return{found:!0,distance:E[V],path:this.spawn(W),steps:$}}M[V]=!0;for(var G=O._private.edges,te=0;te<G.length;te++){var Z=G[te];if(this.hasElementWithId(Z.id())&&(!m||Z.data("source")===V)){var ue=Z.source(),ne=Z.target(),ee=ue.id()!==V?ue:ne,he=ee.id();if(this.hasElementWithId(he)&&!M[he]){var ve=E[V]+b(Z);if(!R.has(he)){E[he]=ve,S[he]=ve+p(ee),k(ee,he),A[he]=O,P[he]=Z;continue}ve<E[he]&&(E[he]=ve,S[he]=ve+p(ee),A[he]=O,P[he]=Z)}}}}return{found:!1,distance:void 0,path:void 0,steps:$}}},Zg=Pr({weight:function(i){return 1},directed:!1}),Xh={floydWarshall:function(i){for(var s=this.cy(),l=Zg(i),h=l.directed,p=l.weight,m=this.byGroup(),b=m.nodes,y=m.edges,D=b.length,E=D*D,S=function(Ne){return b.indexOf(Ne)},M=function(Ne){return b[Ne]},x=new Array(E),R=0;R<E;R++){var A=R%D;x[R]=(R-A)/D===A?0:1/0}for(var k=new Array(E),O=new Array(E),V=0;V<y.length;V++){var q=y[V],K=q.source()[0],$=q.target()[0];if(K!==$){var W=S(K),U=S($),Y=W*D+U,X=p(q);if(x[Y]>X&&(x[Y]=X,k[Y]=U,O[Y]=q),!h){var G=U*D+W;!h&&x[G]>X&&(x[G]=X,k[G]=W,O[G]=q)}}}for(var te=0;te<D;te++)for(var Z=0;Z<D;Z++)for(var ue=Z*D+te,ne=0;ne<D;ne++){var ee=Z*D+ne,he=te*D+ne;x[ue]+x[he]<x[ee]&&(x[ee]=x[ue]+x[he],k[ee]=k[ue])}var Se=function(Ne){return S(function(Ne){return(Qe(Ne)?s.filter(Ne):Ne)[0]}(Ne))};return{distance:function(Ne,Be){var ke=Se(Ne),Oe=Se(Be);return x[ke*D+Oe]},path:function(Ne,Be){var ke=Se(Ne),Oe=Se(Be),pe=M(ke);if(ke===Oe)return pe.collection();if(null==k[ke*D+Oe])return s.collection();var ze=s.collection();for(ze.merge(pe);ke!==Oe;)ze.merge(O[ke*D+(ke=k[ke*D+Oe])]),ze.merge(M(ke));return ze}}}},Hn=Pr({weight:function(i){return 1},directed:!1,root:null}),Lu={bellmanFord:function(i){var s=this,l=Hn(i),h=l.directed,p=l.root,m=l.weight,b=this,y=this.cy(),D=this.byGroup(),E=D.edges,S=D.nodes,M=S.length,x=new la,R=!1,A=[];p=y.collection(p)[0],E.unmergeBy(function(it){return it.isLoop()});for(var P=E.length,k=function(Dt){var Ct=x.get(Dt.id());return Ct||(Ct={},x.set(Dt.id(),Ct)),Ct},O=function(Dt){return(Qe(Dt)?y.$(Dt):Dt)[0]},K=0;K<M;K++){var $=S[K],W=k($);W.dist=$.same(p)?0:1/0,W.pred=null,W.edge=null}for(var U=!1,Y=function(Dt,Ct,mn,un,$t,ln){var me=un.dist+ln;me<$t.dist&&!mn.same(un.edge)&&($t.dist=me,$t.pred=Dt,$t.edge=mn,U=!0)},X=1;X<M;X++){U=!1;for(var G=0;G<P;G++){var te=E[G],Z=te.source(),ue=te.target(),ne=m(te),ee=k(Z),he=k(ue);Y(Z,0,te,ee,he,ne),h||Y(ue,0,te,he,ee,ne)}if(!U)break}if(U)for(var ve=[],Se=0;Se<P;Se++){var fe=E[Se],Ee=fe.source(),Ne=fe.target(),Be=m(fe),ke=k(Ee).dist,Oe=k(Ne).dist;if(ke+Be<Oe||!h&&Oe+Be<ke){if(R||(Zt("Graph contains a negative weight cycle for Bellman-Ford"),R=!0),!1===i.findNegativeWeightCycles)break;var pe=[];ke+Be<Oe&&pe.push(Ee),!h&&Oe+Be<ke&&pe.push(Ne);for(var ze=pe.length,Ge=0;Ge<ze;Ge++){var Fe=pe[Ge],Ye=[Fe];Ye.push(k(Fe).edge);for(var Mt=k(Fe).pred;-1===Ye.indexOf(Mt);)Ye.push(Mt),Ye.push(k(Mt).edge),Mt=k(Mt).pred;for(var Lt=(Ye=Ye.slice(Ye.indexOf(Mt)))[0].id(),Ae=0,et=2;et<Ye.length;et+=2)Ye[et].id()<Lt&&(Lt=Ye[et].id(),Ae=et);(Ye=Ye.slice(Ae).concat(Ye.slice(0,Ae))).push(Ye[0]);var pt=Ye.map(function(it){return it.id()}).join(",");-1===ve.indexOf(pt)&&(A.push(b.spawn(Ye)),ve.push(pt))}}}return{distanceTo:function(Dt){return k(O(Dt)).dist},pathTo:function(Dt){for(var Ct=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,un=[],$t=O(Dt);;){if(null==$t)return s.spawn();var ln=k($t),me=ln.edge,z=ln.pred;if(un.unshift($t[0]),$t.same(Ct)&&un.length>0)break;null!=me&&un.unshift(me),$t=z}return b.spawn(un)},hasNegativeWeightCycle:R,negativeWeightCycles:A}}},Gr=Math.sqrt(2),qc=function(i,s,l){0===l.length&&Vn("Karger-Stein must be run on a connected (sub)graph");for(var f=l[i],m=s[f[1]],b=s[f[2]],y=l,D=y.length-1;D>=0;D--){var E=y[D],S=E[1],M=E[2];(s[S]===m&&s[M]===b||s[S]===b&&s[M]===m)&&y.splice(D,1)}for(var x=0;x<y.length;x++){var R=y[x];R[1]===b?(y[x]=R.slice(),y[x][1]=m):R[2]===b&&(y[x]=R.slice(),y[x][2]=m)}for(var A=0;A<s.length;A++)s[A]===b&&(s[A]=m);return y},xl=function(i,s,l,f){for(;l>f;){var h=Math.floor(Math.random()*s.length);s=qc(h,i,s),l--}return s},qn={kargerStein:function(){var i=this,s=this.byGroup(),l=s.nodes,f=s.edges;f.unmergeBy(function(he){return he.isLoop()});var h=l.length,p=f.length,m=Math.ceil(Math.pow(Math.log(h)/Math.LN2,2)),b=Math.floor(h/Gr);if(!(h<2)){for(var y=[],D=0;D<p;D++){var E=f[D];y.push([D,l.indexOf(E.source()),l.indexOf(E.target())])}for(var S=1/0,M=[],x=new Array(h),R=new Array(h),A=new Array(h),P=function(ve,Se){for(var fe=0;fe<h;fe++)Se[fe]=ve[fe]},k=0;k<=m;k++){for(var O=0;O<h;O++)R[O]=O;var V=xl(R,y.slice(),h,b),q=V.slice();P(R,A);var K=xl(R,V,b,2),$=xl(A,q,b,2);K.length<=$.length&&K.length<S?(S=K.length,M=K,P(R,x)):$.length<=K.length&&$.length<S&&(S=$.length,M=$,P(A,x))}for(var W=this.spawn(M.map(function(he){return f[he[0]]})),U=this.spawn(),Y=this.spawn(),X=x[0],G=0;G<x.length;G++){var Z=l[G];x[G]===X?U.merge(Z):Y.merge(Z)}var ue=function(ve){var Se=i.spawn();return ve.forEach(function(fe){Se.merge(fe),fe.connectedEdges().forEach(function(Ee){i.contains(Ee)&&!W.contains(Ee)&&Se.merge(Ee)})}),Se},ne=[ue(U),ue(Y)];return{cut:W,components:ne,partition1:U,partition2:Y}}Vn("At least 2 nodes are required for Karger-Stein algorithm")}},Us=function(i,s,l){return{x:i.x*s+l.x,y:i.y*s+l.y}},Ml=function(i,s,l){return{x:(i.x-l.x)/s,y:(i.y-l.y)/s}},Il=function(i){return{x:i[0],y:i[1]}},Wc=function(i,s){return Math.atan2(s,i)-Math.PI/2},Qh=Math.log2||function(a){return Math.log(a)/Math.log(2)},bf=function(i){return i>0?1:i<0?-1:0},Ba=function(i,s){return Math.sqrt(qr(i,s))},qr=function(i,s){var l=s.x-i.x,f=s.y-i.y;return l*l+f*f},zm=function(i){for(var s=i.length,l=0,f=0;f<s;f++)l+=i[f];for(var h=0;h<s;h++)i[h]=i[h]/l;return i},ei=function(i,s,l,f){return(1-f)*(1-f)*i+2*(1-f)*f*s+f*f*l},zs=function(i,s,l,f){return{x:ei(i.x,s.x,l.x,f),y:ei(i.y,s.y,l.y,f)}},Zc=function(i,s,l){return Math.max(i,Math.min(l,s))},fo=function(i){if(null==i)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=i.x1&&null!=i.y1){if(null!=i.x2&&null!=i.y2&&i.x2>=i.x1&&i.y2>=i.y1)return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,w:i.x2-i.x1,h:i.y2-i.y1};if(null!=i.w&&null!=i.h&&i.w>=0&&i.h>=0)return{x1:i.x1,y1:i.y1,x2:i.x1+i.w,y2:i.y1+i.h,w:i.w,h:i.h}}},ir=function(i,s){i.x1=Math.min(i.x1,s.x1),i.x2=Math.max(i.x2,s.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,s.y1),i.y2=Math.max(i.y2,s.y2),i.h=i.y2-i.y1},Kg=function(i,s,l){i.x1=Math.min(i.x1,s),i.x2=Math.max(i.x2,s),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,l),i.y2=Math.max(i.y2,l),i.h=i.y2-i.y1},Df=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.x1-=s,i.x2+=s,i.y1-=s,i.y2+=s,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Ni=function(i){var l,f,h,p,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)l=f=h=p=s[0];else if(2===s.length)l=h=s[0],p=f=s[1];else if(4===s.length){var m=dn(s,4);l=m[0],f=m[1],h=m[2],p=m[3]}return i.x1-=p,i.x2+=f,i.y1-=l,i.y2+=h,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Ut=function(i,s){i.x1=s.x1,i.y1=s.y1,i.x2=s.x2,i.y2=s.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1},Jh=function(i,s){return!(i.x1>s.x2||s.x1>i.x2||i.x2<s.x1||s.x2<i.x1||i.y2<s.y1||s.y2<i.y1||i.y1>s.y2||s.y1>i.y2)},Al=function(i,s,l){return i.x1<=s&&s<=i.x2&&i.y1<=l&&l<=i.y2},Yg=function(i,s){return Al(i,s.x,s.y)},Rt=function(i,s){return Al(i,s.x1,s.y1)&&Al(i,s.x2,s.y2)},li=function(i,s,l,f,h,p,m){var E,b=Gs(h,p),y=h/2,D=p/2,M=f-D-m;if((E=ds(i,s,l,f,l-y+b-m,M,l+y-b+m,M,!1)).length>0)return E;var A=l+y+m;if((E=ds(i,s,l,f,A,f-D+b-m,A,f+D-b+m,!1)).length>0)return E;var q=f+D+m;if((E=ds(i,s,l,f,l-y+b-m,q,l+y-b+m,q,!1)).length>0)return E;var G,W=l-y-m;if((E=ds(i,s,l,f,W,f-D+b-m,W,f+D-b+m,!1)).length>0)return E;var te=l-y+b,Z=f-D+b;if((G=zn(i,s,l,f,te,Z,b+m)).length>0&&G[0]<=te&&G[1]<=Z)return[G[0],G[1]];var ue=l+y-b,ne=f-D+b;if((G=zn(i,s,l,f,ue,ne,b+m)).length>0&&G[0]>=ue&&G[1]<=ne)return[G[0],G[1]];var ee=l+y-b,he=f+D-b;if((G=zn(i,s,l,f,ee,he,b+m)).length>0&&G[0]>=ee&&G[1]>=he)return[G[0],G[1]];var ve=l-y+b,Se=f+D-b;return(G=zn(i,s,l,f,ve,Se,b+m)).length>0&&G[0]<=ve&&G[1]>=Se?[G[0],G[1]]:[]},ho=function(i,s,l,f,h,p,m){var b=m,y=Math.min(l,h),D=Math.max(l,h),E=Math.min(f,p),S=Math.max(f,p);return y-b<=i&&i<=D+b&&E-b<=s&&s<=S+b},ls=function(i,s,l,f,h,p,m,b,y){var D_x1=Math.min(l,m,h)-y,D_x2=Math.max(l,m,h)+y,D_y1=Math.min(f,b,p)-y,D_y2=Math.max(f,b,p)+y;return!(i<D_x1||i>D_x2||s<D_y1||s>D_y2)},Mo=function(i,s,l,f,h,p,m,b){var M=[];!function(i,s,l,f,h){var m,b,y,D,E,S,M,x;0===i&&(i=1e-5),y=-27*(f/=i)+(s/=i)*(9*(l/=i)-s*s*2),m=(b=(3*l-s*s)/9)*b*b+(y/=54)*y,h[1]=0,M=s/3,m>0?(E=(E=y+Math.sqrt(m))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),S=(S=y-Math.sqrt(m))<0?-Math.pow(-S,1/3):Math.pow(S,1/3),h[0]=-M+E+S,h[4]=h[2]=-(M+=(E+S)/2),M=Math.sqrt(3)*(-S+E)/2,h[3]=M,h[5]=-M):(h[5]=h[3]=0,0===m?(x=y<0?-Math.pow(-y,1/3):Math.pow(y,1/3),h[0]=2*x-M,h[4]=h[2]=-(x+M)):(D=(b=-b)*b*b,D=Math.acos(y/Math.sqrt(D)),x=2*Math.sqrt(b),h[0]=-M+x*Math.cos(D/3),h[2]=-M+x*Math.cos((D+2*Math.PI)/3),h[4]=-M+x*Math.cos((D+4*Math.PI)/3)))}(1*l*l-4*l*h+2*l*m+4*h*h-4*h*m+m*m+f*f-4*f*p+2*f*b+4*p*p-4*p*b+b*b,9*l*h-3*l*l-3*l*m-6*h*h+3*h*m+9*f*p-3*f*f-3*f*b-6*p*p+3*p*b,3*l*l-6*l*h+l*m-l*i+2*h*h+2*h*i-m*i+3*f*f-6*f*p+f*b-f*s+2*p*p+2*p*s-b*s,1*l*h-l*l+l*i-h*i+f*p-f*f+f*s-p*s,M);for(var R=[],A=0;A<6;A+=2)Math.abs(M[A+1])<1e-7&&M[A]>=0&&M[A]<=1&&R.push(M[A]);R.push(1),R.push(0);for(var k,O,V,P=-1,q=0;q<R.length;q++)k=Math.pow(1-R[q],2)*l+2*(1-R[q])*R[q]*h+R[q]*R[q]*m,O=Math.pow(1-R[q],2)*f+2*(1-R[q])*R[q]*p+R[q]*R[q]*b,V=Math.pow(k-i,2)+Math.pow(O-s,2),P>=0?V<P&&(P=V):P=V;return P},Rl=function(i,s,l,f,h,p){var m=[i-l,s-f],b=[h-l,p-f],y=b[0]*b[0]+b[1]*b[1],D=m[0]*m[0]+m[1]*m[1],E=m[0]*b[0]+m[1]*b[1],S=E*E/y;return E<0?D:S>y?(i-h)*(i-h)+(s-p)*(s-p):D-S},ti=function(i,s,l){for(var f,h,p,m,y=0,D=0;D<l.length/2;D++)if(h=l[2*D+1],D+1<l.length/2?(p=l[2*(D+1)],m=l[2*(D+1)+1]):(p=l[2*(D+1-l.length/2)],m=l[2*(D+1-l.length/2)+1]),(f=l[2*D])!=i||p!=i){if(!(f>=i&&i>=p||f<=i&&i<=p))continue;(i-f)/(p-f)*(m-h)+h>s&&y++}return y%2!=0},Io=function(i,s,l,f,h,p,m,b,y){var E,R,D=new Array(l.length);null!=b[0]?(E=Math.atan(b[1]/b[0]),b[0]<0?E+=Math.PI/2:E=-E-Math.PI/2):E=b;for(var S=Math.cos(-E),M=Math.sin(-E),x=0;x<D.length/2;x++)D[2*x]=p/2*(l[2*x]*S-l[2*x+1]*M),D[2*x+1]=m/2*(l[2*x+1]*S+l[2*x]*M),D[2*x]+=f,D[2*x+1]+=h;if(y>0){var A=sn(D,-y);R=Nl(A)}else R=D;return ti(i,s,R)},Nl=function(i){for(var m,b,y,D,s=new Array(i.length/2),E=0;E<i.length/4;E++){E<i.length/4-1?(m=i[4*(E+1)],b=i[4*(E+1)+1],y=i[4*(E+1)+2],D=i[4*(E+1)+3]):(m=i[0],b=i[1],y=i[2],D=i[3]);var S=ds(i[4*E],i[4*E+1],i[4*E+2],i[4*E+3],m,b,y,D,!0);s[2*E]=S[0],s[2*E+1]=S[1]}return s},sn=function(i,s){for(var f,h,p,m,l=new Array(2*i.length),b=0;b<i.length/2;b++){b<i.length/2-1?(p=i[2*(b+1)],m=i[2*(b+1)+1]):(p=i[0],m=i[1]);var y=m-(h=i[2*b+1]),D=-(p-(f=i[2*b])),E=Math.sqrt(y*y+D*D),S=y/E,M=D/E;l[4*b]=f+S*s,l[4*b+1]=h+M*s,l[4*b+2]=p+S*s,l[4*b+3]=m+M*s}return l},cs=function(i,s,l,f,h,p,m){return i-=h,s-=p,(i/=l/2+m)*i+(s/=f/2+m)*s<=1},zn=function(i,s,l,f,h,p,m){var b=[l-i,f-s],y=[i-h,s-p],D=b[0]*b[0]+b[1]*b[1],E=2*(y[0]*b[0]+y[1]*b[1]),M=E*E-4*D*(y[0]*y[0]+y[1]*y[1]-m*m);if(M<0)return[];var x=(-E+Math.sqrt(M))/(2*D),R=(-E-Math.sqrt(M))/(2*D),A=Math.min(x,R),P=Math.max(x,R),k=[];if(A>=0&&A<=1&&k.push(A),P>=0&&P<=1&&k.push(P),0===k.length)return[];var O=k[0]*b[0]+i,V=k[0]*b[1]+s;return k.length>1?k[0]==k[1]?[O,V]:[O,V,k[1]*b[0]+i,k[1]*b[1]+s]:[O,V]},Yc=function(i,s,l){return s<=i&&i<=l||l<=i&&i<=s?i:i<=s&&s<=l||l<=s&&s<=i?s:l},ds=function(i,s,l,f,h,p,m,b,y){var D=i-h,E=l-i,S=m-h,M=s-p,x=f-s,R=b-p,A=S*M-R*D,P=E*M-x*D,k=R*E-S*x;if(0!==k){var O=A/k,V=P/k,K=-.001;return K<=O&&O<=1.001&&K<=V&&V<=1.001||y?[i+O*E,s+O*x]:[]}return 0===A||0===P?Yc(i,l,m)===m?[m,b]:Yc(i,l,h)===h?[h,p]:Yc(h,m,l)===l?[l,f]:[]:[]},Dn=function(i,s,l,f,h,p,m,b){var D,M,y=[],E=new Array(l.length),S=!0;if(null==p&&(S=!1),S){for(var x=0;x<E.length/2;x++)E[2*x]=l[2*x]*p+f,E[2*x+1]=l[2*x+1]*m+h;if(b>0){var R=sn(E,-b);M=Nl(R)}else M=E}else M=l;for(var k,O,V=0;V<M.length/2;V++)V<M.length/2-1?(k=M[2*(V+1)],O=M[2*(V+1)+1]):(k=M[0],O=M[1]),0!==(D=ds(i,s,f,h,M[2*V],M[2*V+1],k,O)).length&&y.push(D[0],D[1]);return y},Pl=function(i,s,l){var f=[i[0]-s[0],i[1]-s[1]],h=Math.sqrt(f[0]*f[0]+f[1]*f[1]),p=(h-l)/h;return p<0&&(p=1e-5),[s[0]+p*f[0],s[1]+p*f[1]]},fn=function(i,s){var l=Bu(i,s);return zo(l)},zo=function(i){for(var s,l,f=i.length/2,h=1/0,p=1/0,m=-1/0,b=-1/0,y=0;y<f;y++)s=i[2*y],l=i[2*y+1],h=Math.min(h,s),m=Math.max(m,s),p=Math.min(p,l),b=Math.max(b,l);for(var D=2/(m-h),E=2/(b-p),S=0;S<f;S++)s=i[2*S]=i[2*S]*D,l=i[2*S+1]=i[2*S+1]*E,h=Math.min(h,s),m=Math.max(m,s),p=Math.min(p,l),b=Math.max(b,l);if(p<-1)for(var M=0;M<f;M++)l=i[2*M+1]=i[2*M+1]+(-1-p);return i},Bu=function(i,s){var l=1/i*2*Math.PI,f=i%2==0?Math.PI/2+l/2:Math.PI/2;f+=s;for(var p,h=new Array(2*i),m=0;m<i;m++)p=m*l+f,h[2*m]=Math.cos(p),h[2*m+1]=Math.sin(-p);return h},Gs=function(i,s){return Math.min(i/4,s/4,8)},kl=function(i,s){return Math.min(i/10,s/10,8)},tp=function(i,s){return{heightOffset:Math.min(15,.05*s),widthOffset:Math.min(100,.25*i),ctrlPtOffsetPct:.05}},Xg=Pr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(i){return 1}}),_f={pageRank:function(i){for(var s=Xg(i),l=s.dampingFactor,f=s.precision,h=s.iterations,p=s.weight,m=this._private.cy,b=this.byGroup(),y=b.nodes,D=b.edges,E=y.length,M=D.length,x=new Array(E*E),R=new Array(E),A=(1-l)/E,P=0;P<E;P++){for(var k=0;k<E;k++)x[P*E+k]=0;R[P]=0}for(var V=0;V<M;V++){var q=D[V],K=q.data("source"),$=q.data("target");if(K!==$){var W=y.indexOfId(K),U=y.indexOfId($),Y=p(q);x[U*E+W]+=Y,R[W]+=Y}}for(var G=1/E+A,te=0;te<E;te++)if(0===R[te])for(var Z=0;Z<E;Z++)x[Z*E+te]=G;else for(var ne=0;ne<E;ne++){var ee=ne*E+te;x[ee]=x[ee]/R[te]+A}for(var Se,he=new Array(E),ve=new Array(E),fe=0;fe<E;fe++)he[fe]=1;for(var Ee=0;Ee<h;Ee++){for(var Ne=0;Ne<E;Ne++)ve[Ne]=0;for(var Be=0;Be<E;Be++)for(var ke=0;ke<E;ke++)ve[Be]+=x[Be*E+ke]*he[ke];zm(ve),Se=he,he=ve,ve=Se;for(var pe=0,ze=0;ze<E;ze++){var Ge=Se[ze]-he[ze];pe+=Ge*Ge}if(pe<f)break}return{rank:function(Mt){return Mt=m.collection(Mt)[0],he[y.indexOf(Mt)]}}}},Vu=Pr({root:null,weight:function(i){return 1},directed:!1,alpha:0}),ca={degreeCentralityNormalized:function(i){i=Vu(i);var s=this.cy(),l=this.nodes(),f=l.length;if(i.directed){for(var D={},E={},S=0,M=0,x=0;x<f;x++){var R=l[x],A=R.id();i.root=R;var P=this.degreeCentrality(i);S<P.indegree&&(S=P.indegree),M<P.outdegree&&(M=P.outdegree),D[A]=P.indegree,E[A]=P.outdegree}return{indegree:function(O){return 0==S?0:(Qe(O)&&(O=s.filter(O)),D[O.id()]/S)},outdegree:function(O){return 0===M?0:(Qe(O)&&(O=s.filter(O)),E[O.id()]/M)}}}for(var h={},p=0,m=0;m<f;m++){var b=l[m];i.root=b;var y=this.degreeCentrality(i);p<y.degree&&(p=y.degree),h[b.id()]=y.degree}return{degree:function(O){return 0===p?0:(Qe(O)&&(O=s.filter(O)),h[O.id()]/p)}}},degreeCentrality:function(i){i=Vu(i);var s=this.cy(),l=this,h=i.root,p=i.weight,m=i.directed,b=i.alpha;if(h=s.collection(h)[0],m){for(var M=h.connectedEdges(),x=M.filter(function(K){return K.target().same(h)&&l.has(K)}),R=M.filter(function(K){return K.source().same(h)&&l.has(K)}),A=x.length,P=R.length,k=0,O=0,V=0;V<x.length;V++)k+=p(x[V]);for(var q=0;q<R.length;q++)O+=p(R[q]);return{indegree:Math.pow(A,1-b)*Math.pow(k,b),outdegree:Math.pow(P,1-b)*Math.pow(O,b)}}for(var y=h.connectedEdges().intersection(l),D=y.length,E=0,S=0;S<y.length;S++)E+=p(y[S]);return{degree:Math.pow(D,1-b)*Math.pow(E,b)}}};ca.dc=ca.degreeCentrality,ca.dcn=ca.degreeCentralityNormalised=ca.degreeCentralityNormalized;var Ol=Pr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),da={closenessCentralityNormalized:function(i){for(var s=Ol(i),l=s.harmonic,f=s.weight,h=s.directed,p=this.cy(),m={},b=0,y=this.nodes(),D=this.floydWarshall({weight:f,directed:h}),E=0;E<y.length;E++){for(var S=0,M=y[E],x=0;x<y.length;x++)if(E!==x){var R=D.distance(M,y[x]);S+=l?1/R:R}l||(S=1/S),b<S&&(b=S),m[M.id()]=S}return{closeness:function(P){return 0==b?0:(P=Qe(P)?p.filter(P)[0].id():P.id(),m[P]/b)}}},closenessCentrality:function(i){var s=Ol(i),l=s.root,f=s.weight,h=s.directed,p=s.harmonic;l=this.filter(l)[0];for(var m=this.dijkstra({root:l,weight:f,directed:h}),b=0,y=this.nodes(),D=0;D<y.length;D++){var E=y[D];if(!E.same(l)){var S=m.distanceTo(E);b+=p?1/S:S}}return p?b:1/b}};da.cc=da.closenessCentrality,da.ccn=da.closenessCentralityNormalised=da.closenessCentralityNormalized;var Sf=Pr({weight:null,directed:!1}),Fl={betweennessCentrality:function(i){for(var s=Sf(i),l=s.directed,f=s.weight,h=null!=f,p=this.cy(),m=this.nodes(),b={},y={},D=0,E={set:function(O,V){y[O]=V,V>D&&(D=V)},get:function(O){return y[O]}},S=0;S<m.length;S++){var M=m[S],x=M.id();b[x]=l?M.outgoers().nodes():M.openNeighborhood().nodes(),E.set(x,0)}for(var R=function(O){for(var V=m[O].id(),q=[],K={},$={},W={},U=new vt.default(function(ke,Oe){return W[ke]-W[Oe]}),Y=0;Y<m.length;Y++){var X=m[Y].id();K[X]=[],$[X]=0,W[X]=1/0}for($[V]=1,W[V]=0,U.push(V);!U.empty();){var G=U.pop();if(q.push(G),h)for(var te=0;te<b[G].length;te++){var ne,Z=b[G][te],ue=p.getElementById(G);ne=ue.edgesTo(Z).length>0?ue.edgesTo(Z)[0]:Z.edgesTo(ue)[0];var ee=f(ne);Z=Z.id(),W[Z]>W[G]+ee&&(W[Z]=W[G]+ee,U.nodes.indexOf(Z)<0?U.push(Z):U.updateItem(Z),$[Z]=0,K[Z]=[]),W[Z]==W[G]+ee&&($[Z]=$[Z]+$[G],K[Z].push(G))}else for(var he=0;he<b[G].length;he++){var ve=b[G][he].id();W[ve]==1/0&&(U.push(ve),W[ve]=W[G]+1),W[ve]==W[G]+1&&($[ve]=$[ve]+$[G],K[ve].push(G))}}for(var Se={},fe=0;fe<m.length;fe++)Se[m[fe].id()]=0;for(;q.length>0;){for(var Ee=q.pop(),Ne=0;Ne<K[Ee].length;Ne++){var Be=K[Ee][Ne];Se[Be]=Se[Be]+$[Be]/$[Ee]*(1+Se[Ee])}Ee!=m[O].id()&&E.set(Ee,E.get(Ee)+Se[Ee])}},A=0;A<m.length;A++)R(A);var P={betweenness:function(O){var V=p.collection(O).id();return E.get(V)},betweennessNormalized:function(O){if(0==D)return 0;var V=p.collection(O).id();return E.get(V)/D}};return P.betweennessNormalised=P.betweennessNormalized,P}};Fl.bc=Fl.betweennessCentrality;var np=Pr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(a){return 1}]}),fs=function(i,s){for(var l=0,f=0;f<s.length;f++)l+=s[f](i);return l},Va=function(i,s){for(var l,f=0;f<s;f++){l=0;for(var h=0;h<s;h++)l+=i[h*s+f];for(var p=0;p<s;p++)i[p*s+f]=i[p*s+f]/l}},ip=function(i,s,l){for(var f=new Array(l*l),h=0;h<l;h++){for(var p=0;p<l;p++)f[h*l+p]=0;for(var m=0;m<l;m++)for(var b=0;b<l;b++)f[h*l+b]+=i[h*l+m]*s[m*l+b]}return f},gt=function(i,s,l){for(var f=i.slice(0),h=1;h<l;h++)i=ip(i,f,s);return i},Qc=function(i,s,l){for(var f=new Array(s*s),h=0;h<s*s;h++)f[h]=Math.pow(i[h],l);return Va(f,s),f},ct=function(i,s,l,f){for(var h=0;h<l;h++)if(Math.round(i[h]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(s[h]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Jc=function(i,s){for(var l=0;l<i.length;l++)if(!s[l]||i[l].id()!==s[l].id())return!1;return!0},op=function(i){for(var s=this.nodes(),l=this.edges(),f=this.cy(),h=function(i){return np(i)}(i),p={},m=0;m<s.length;m++)p[s[m].id()]=m;for(var E,b=s.length,y=b*b,D=new Array(y),S=0;S<y;S++)D[S]=0;for(var M=0;M<l.length;M++){var x=l[M],R=p[x.source().id()],A=p[x.target().id()],P=fs(x,h.attributes);D[R*b+A]+=P,D[A*b+R]+=P}(function(i,s,l){for(var f=0;f<s;f++)i[f*s+f]=l})(D,b,h.multFactor),Va(D,b);for(var k=!0,O=0;k&&O<h.maxIterations;)k=!1,E=gt(D,b,h.expandFactor),D=Qc(E,b,h.inflateFactor),ct(D,E,y,4)||(k=!0),O++;var V=function(i,s,l,f){for(var h=[],p=0;p<s;p++){for(var m=[],b=0;b<s;b++)Math.round(1e3*i[p*s+b])/1e3>0&&m.push(l[b]);0!==m.length&&h.push(f.collection(m))}return h}(D,b,s,f);return V=function(i){for(var s=0;s<i.length;s++)for(var l=0;l<i.length;l++)s!=l&&Jc(i[s],i[l])&&i.splice(l,1);return i}(V),V},Qg={markovClustering:op,mcl:op},Jg=function(i){return i},fa=function(i,s){return Math.abs(s-i)},ha=function(i,s,l){return i+fa(s,l)},To=function(i,s,l){return i+Math.pow(l-s,2)},pa=function(i){return Math.sqrt(i)},Mn=function(i,s,l){return Math.max(i,fa(s,l))},$a=function(i,s,l,f,h){for(var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jg,m=f,D=0;D<i;D++)m=h(m,s(D),l(D));return p(m)},ki={euclidean:function(i,s,l){return i>=2?$a(i,s,l,0,To,pa):$a(i,s,l,0,ha)},squaredEuclidean:function(i,s,l){return $a(i,s,l,0,To)},manhattan:function(i,s,l){return $a(i,s,l,0,ha)},max:function(i,s,l){return $a(i,s,l,-1/0,Mn)}};function Ha(a,i,s,l,f,h){var p;return p=Fn(a)?a:ki[a]||ki.euclidean,0===i&&Fn(a)?p(f,h):p(i,s,l,f,h)}ki["squared-euclidean"]=ki.squaredEuclidean,ki.squaredeuclidean=ki.squaredEuclidean;var ap=Pr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),jo=function(i){return ap(i)},hs=function(i,s,l,f,h){var m="kMedoids"!==h?function(E){return l[E]}:function(E){return f[E](l)};return Ha(i,f.length,m,function(S){return f[S](s)},l,s)},Ua=function(i,s,l){for(var f=l.length,h=new Array(f),p=new Array(f),m=new Array(s),b=null,y=0;y<f;y++)h[y]=i.min(l[y]).value,p[y]=i.max(l[y]).value;for(var D=0;D<s;D++){b=[];for(var E=0;E<f;E++)b[E]=Math.random()*(p[E]-h[E])+h[E];m[D]=b}return m},po=function(i,s,l,f,h){for(var p=1/0,m=0,b=0;b<s.length;b++){var y=hs(l,i,s[b],f,h);y<p&&(p=y,m=b)}return m},Vl=function(i,s,l){for(var f=[],h=null,p=0;p<s.length;p++)l[(h=s[p]).id()]===i&&f.push(h);return f},sp=function(i,s,l){return Math.abs(s-i)<=l},up=function(i,s,l){for(var f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)if(Math.abs(i[f][h]-s[f][h])>l)return!1;return!0},$l=function(i,s,l){for(var f=0;f<l;f++)if(i===s[f])return!0;return!1},Mf=function(i,s){var l=new Array(s);if(i.length<50)for(var f=0;f<s;f++){for(var h=i[Math.floor(Math.random()*i.length)];$l(h,l,f);)h=i[Math.floor(Math.random()*i.length)];l[f]=h}else for(var p=0;p<s;p++)l[p]=i[Math.floor(Math.random()*i.length)];return l},If=function(i,s,l){for(var f=0,h=0;h<s.length;h++)f+=hs("manhattan",s[h],i,l,"kMedoids");return f},Re=function(i,s,l,f,h){for(var p,m,b=0;b<s.length;b++)for(var y=0;y<i.length;y++)f[b][y]=Math.pow(l[b][y],h.m);for(var D=0;D<i.length;D++)for(var E=0;E<h.attributes.length;E++){p=0,m=0;for(var S=0;S<s.length;S++)p+=f[S][D]*h.attributes[E](s[S]),m+=f[S][D];i[D][E]=p/m}},be=function(i,s,l,f,h){for(var p=0;p<i.length;p++)s[p]=i[p].slice();for(var m,b,y,D=2/(h.m-1),E=0;E<l.length;E++)for(var S=0;S<f.length;S++){m=0;for(var M=0;M<l.length;M++)b=hs(h.distance,f[S],l[E],h.attributes,"cmeans"),y=hs(h.distance,f[S],l[M],h.attributes,"cmeans"),m+=Math.pow(b/y,D);i[S][E]=1/m}},Xt=function(i){var h,p,m,b,y,s=this.cy(),l=this.nodes(),f=jo(i);b=new Array(l.length);for(var D=0;D<l.length;D++)b[D]=new Array(f.k);m=new Array(l.length);for(var E=0;E<l.length;E++)m[E]=new Array(f.k);for(var S=0;S<l.length;S++){for(var M=0,x=0;x<f.k;x++)m[S][x]=Math.random(),M+=m[S][x];for(var R=0;R<f.k;R++)m[S][R]=m[S][R]/M}p=new Array(f.k);for(var A=0;A<f.k;A++)p[A]=new Array(f.attributes.length);y=new Array(l.length);for(var P=0;P<l.length;P++)y[P]=new Array(f.k);for(var k=!0,O=0;k&&O<f.maxIterations;)k=!1,Re(p,l,m,y,f),be(m,b,p,l,f),up(m,b,f.sensitivityThreshold)||(k=!0),O++;return h=function(i,s,l,f){for(var h=new Array(l.k),p=0;p<h.length;p++)h[p]=[];for(var m,b,y=0;y<s.length;y++){m=-1/0,b=-1;for(var D=0;D<s[0].length;D++)s[y][D]>m&&(m=s[y][D],b=D);h[b].push(i[y])}for(var E=0;E<h.length;E++)h[E]=f.collection(h[E]);return h}(l,m,f,s),{clusters:h,degreeOfMembership:m}},Ln={kMeans:function(i){var b,s=this.cy(),l=this.nodes(),f=null,h=jo(i),p=new Array(h.k),m={};b=h.testMode?"number"==typeof h.testCentroids?Ua(l,h.k,h.attributes):"object"===cn(h.testCentroids)?h.testCentroids:Ua(l,h.k,h.attributes):Ua(l,h.k,h.attributes);for(var y=!0,D=0;y&&D<h.maxIterations;){for(var E=0;E<l.length;E++)m[(f=l[E]).id()]=po(f,b,h.distance,h.attributes,"kMeans");y=!1;for(var S=0;S<h.k;S++){var M=Vl(S,l,m);if(0!==M.length){for(var x=h.attributes.length,R=b[S],A=new Array(x),P=new Array(x),k=0;k<x;k++){P[k]=0;for(var O=0;O<M.length;O++)P[k]+=h.attributes[k](f=M[O]);A[k]=P[k]/M.length,sp(A[k],R[k],h.sensitivityThreshold)||(y=!0)}b[S]=A,p[S]=s.collection(M)}}D++}return p},kMedoids:function(i){var m,y,s=this.cy(),l=this.nodes(),f=null,h=jo(i),p=new Array(h.k),b={},D=new Array(h.k);h.testMode?"number"==typeof h.testCentroids||(m="object"===cn(h.testCentroids)?h.testCentroids:Mf(l,h.k)):m=Mf(l,h.k);for(var E=!0,S=0;E&&S<h.maxIterations;){for(var M=0;M<l.length;M++)b[(f=l[M]).id()]=po(f,m,h.distance,h.attributes,"kMedoids");E=!1;for(var x=0;x<m.length;x++){var R=Vl(x,l,b);if(0!==R.length){D[x]=If(m[x],R,h.attributes);for(var A=0;A<R.length;A++)(y=If(R[A],R,h.attributes))<D[x]&&(D[x]=y,m[x]=R[A],E=!0);p[x]=s.collection(R)}}S++}return p},fuzzyCMeans:Xt,fcm:Xt},Wr=Pr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Yn={single:"min",complete:"max"},lp=function(i,s,l,f,h){for(var b,p=0,m=1/0,y=h.attributes,D=function(U,Y){return Ha(h.distance,y.length,function(X){return y[X](U)},function(X){return y[X](Y)},U,Y)},E=0;E<i.length;E++){var S=i[E].key,M=l[S][f[S]];M<m&&(p=S,m=M)}if("threshold"===h.mode&&m>=h.threshold||"dendrogram"===h.mode&&1===i.length)return!1;var A,x=s[p],R=s[f[p]];A="dendrogram"===h.mode?{left:x,right:R,key:x.key}:{value:x.value.concat(R.value),key:x.key},i[x.index]=A,i.splice(R.index,1),s[x.key]=A;for(var P=0;P<i.length;P++){var k=i[P];x.key===k.key?b=1/0:"min"===h.linkage?(b=l[x.key][k.key],l[x.key][k.key]>l[R.key][k.key]&&(b=l[R.key][k.key])):"max"===h.linkage?(b=l[x.key][k.key],l[x.key][k.key]<l[R.key][k.key]&&(b=l[R.key][k.key])):b="mean"===h.linkage?(l[x.key][k.key]*x.size+l[R.key][k.key]*R.size)/(x.size+R.size):"dendrogram"===h.mode?D(k.value,x.value):D(k.value[0],x.value[0]),l[x.key][k.key]=l[k.key][x.key]=b}for(var O=0;O<i.length;O++){var V=i[O].key;if(f[V]===x.key||f[V]===R.key){for(var q=V,K=0;K<i.length;K++){var $=i[K].key;l[V][$]<l[V][q]&&(q=$)}f[V]=q}i[O].index=O}return x.key=R.key=x.index=R.index=null,!0},Ei=function a(i,s,l){i&&(i.value?s.push(i.value):(i.left&&a(i.left,s),i.right&&a(i.right,s)))},td=function a(i,s){if(!i)return"";if(i.left&&i.right){var l=a(i.left,s),f=a(i.right,s),h=s.add({group:"nodes",data:{id:l+","+f}});return s.add({group:"edges",data:{source:l,target:h.id()}}),s.add({group:"edges",data:{source:f,target:h.id()}}),h.id()}return i.value?i.value.id():void 0},ev=function a(i,s,l){if(!i)return[];var f=[],h=[],p=[];return 0===s?(i.left&&Ei(i.left,f),i.right&&Ei(i.right,h),p=f.concat(h),[l.collection(p)]):1===s?i.value?[l.collection(i.value)]:(i.left&&Ei(i.left,f),i.right&&Ei(i.right,h),[l.collection(f),l.collection(h)]):i.value?[l.collection(i.value)]:(i.left&&(f=a(i.left,s-1,l)),i.right&&(h=a(i.right,s-1,l)),f.concat(h))},qs=function(i){for(var s=this.cy(),l=this.nodes(),f=function(i){var s=Wr(i),l=Yn[s.linkage];return null!=l&&(s.linkage=l),s}(i),h=f.attributes,p=function(O,V){return Ha(f.distance,h.length,function(q){return h[q](O)},function(q){return h[q](V)},O,V)},m=[],b=[],y=[],D=[],E=0;E<l.length;E++){var S={value:"dendrogram"===f.mode?l[E]:[l[E]],key:E,index:E};m[E]=S,D[E]=S,b[E]=[],y[E]=0}for(var M=0;M<m.length;M++)for(var x=0;x<=M;x++){var R;R="dendrogram"===f.mode?M===x?1/0:p(m[M].value,m[x].value):M===x?1/0:p(m[M].value[0],m[x].value[0]),b[M][x]=R,b[x][M]=R,R<b[M][y[M]]&&(y[M]=x)}for(var A=lp(m,D,b,y,f);A;)A=lp(m,D,b,y,f);var P;return"dendrogram"===f.mode?(P=ev(m[0],f.dendrogramDepth,s),f.addDendrogram&&td(m[0],s)):(P=new Array(m.length),m.forEach(function(k,O){k.key=k.index=null,P[O]=s.collection(k.value)})),P},Ws={hierarchicalClustering:qs,hca:qs},nd=Pr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),tv=function(i,s,l,f){var h=function(m,b){return f[b](m)};return-Ha(i,f.length,function(p){return h(s,p)},function(p){return h(l,p)},s,l)},Af=function(i,s,l){for(var f=[],h=0;h<i;h++){for(var p=-1,m=-1/0,b=0;b<l.length;b++){var y=l[b];s[h*i+y]>m&&(p=y,m=s[h*i+y])}p>0&&f.push(p)}for(var D=0;D<l.length;D++)f[l[D]]=l[D];return f},Oi=function(i){for(var s=this.cy(),l=this.nodes(),f=function(i){var s=i.damping,l=i.preference;.5<=s&&s<1||Vn("Damping must range on [0.5, 1).  Got: ".concat(s));var f=["median","mean","min","max"];return f.some(function(h){return h===l})||ot(l)||Vn("Preference must be one of [".concat(f.map(function(h){return"'".concat(h,"'")}).join(", "),"] or a number.  Got: ").concat(l)),nd(i)}(i),h={},p=0;p<l.length;p++)h[l[p].id()]=p;var m,b,y,D,E,S,U;b=(m=l.length)*m,y=new Array(b);for(var M=0;M<b;M++)y[M]=-1/0;for(var x=0;x<m;x++)for(var R=0;R<m;R++)x!==R&&(y[x*m+R]=tv(f.distance,l[x],l[R],f.attributes));D=function(i,s){var l;return l="median"===s?function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(l<i.length&&i.splice(l,i.length-l),s>0&&i.splice(0,s)):i=i.slice(s,l);for(var m=0,b=i.length-1;b>=0;b--)p?isFinite(i[b])||(i[b]=-1/0,m++):i.splice(b,1);h&&i.sort(function(S,M){return S-M});var D=i.length,E=Math.floor(D/2);return D%2!=0?i[E+1+m]:(i[E-1+m]+i[E+m])/2}(i):"mean"===s?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=0,h=0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<l;p++){var m=i[p];isFinite(m)&&(f+=m,h++)}return f/h}(i):"min"===s?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<l;h++){var p=i[h];isFinite(p)&&(f=Math.min(p,f))}return f}(i):"max"===s?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=-1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<l;h++){var p=i[h];isFinite(p)&&(f=Math.max(p,f))}return f}(i):s,l}(y,f.preference);for(var A=0;A<m;A++)y[A*m+A]=D;E=new Array(b);for(var P=0;P<b;P++)E[P]=0;S=new Array(b);for(var k=0;k<b;k++)S[k]=0;for(var O=new Array(m),V=new Array(m),q=new Array(m),K=0;K<m;K++)O[K]=0,V[K]=0,q[K]=0;for(var $=new Array(m*f.minIterations),W=0;W<$.length;W++)$[W]=0;for(U=0;U<f.maxIterations;U++){for(var Y=0;Y<m;Y++){for(var X=-1/0,G=-1/0,te=-1,Z=0,ue=0;ue<m;ue++)O[ue]=E[Y*m+ue],(Z=S[Y*m+ue]+y[Y*m+ue])>=X?(G=X,X=Z,te=ue):Z>G&&(G=Z);for(var ne=0;ne<m;ne++)E[Y*m+ne]=(1-f.damping)*(y[Y*m+ne]-X)+f.damping*O[ne];E[Y*m+te]=(1-f.damping)*(y[Y*m+te]-G)+f.damping*O[te]}for(var ee=0;ee<m;ee++){for(var he=0,ve=0;ve<m;ve++)O[ve]=S[ve*m+ee],V[ve]=Math.max(0,E[ve*m+ee]),he+=V[ve];he-=V[ee],V[ee]=E[ee*m+ee],he+=V[ee];for(var Se=0;Se<m;Se++)S[Se*m+ee]=(1-f.damping)*Math.min(0,he-V[Se])+f.damping*O[Se];S[ee*m+ee]=(1-f.damping)*(he-V[ee])+f.damping*O[ee]}for(var fe=0,Ee=0;Ee<m;Ee++){var Ne=S[Ee*m+Ee]+E[Ee*m+Ee]>0?1:0;$[U%f.minIterations*m+Ee]=Ne,fe+=Ne}if(fe>0&&(U>=f.minIterations-1||U==f.maxIterations-1)){for(var Be=0,ke=0;ke<m;ke++){q[ke]=0;for(var Oe=0;Oe<f.minIterations;Oe++)q[ke]+=$[Oe*m+ke];(0===q[ke]||q[ke]===f.minIterations)&&Be++}if(Be===m)break}}for(var pe=function(i,s,l){for(var f=[],h=0;h<i;h++)s[h*i+h]+l[h*i+h]>0&&f.push(h);return f}(m,E,S),ze=function(i,s,l){for(var f=Af(i,s,l),h=0;h<l.length;h++){for(var p=[],m=0;m<f.length;m++)f[m]===l[h]&&p.push(m);for(var b=-1,y=-1/0,D=0;D<p.length;D++){for(var E=0,S=0;S<p.length;S++)E+=s[p[S]*i+p[D]];E>y&&(b=D,y=E)}l[h]=p[b]}return Af(i,s,l)}(m,y,pe),Ge={},Fe=0;Fe<pe.length;Fe++)Ge[pe[Fe]]=[];for(var Ye=0;Ye<l.length;Ye++){var Lt=ze[h[l[Ye].id()]];null!=Lt&&Ge[Lt].push(l[Ye])}for(var Ae=new Array(pe.length),et=0;et<pe.length;et++)Ae[et]=s.collection(Ge[pe[et]]);return Ae},Cn={affinityPropagation:Oi,ap:Oi},vr=Pr({root:void 0,directed:!1}),ni={hierholzer:function(i){if(!xt(i)){var s=arguments;i={root:s[0],directed:s[1]}}var b,y,D,l=vr(i),f=l.root,h=l.directed,p=this,m=!1;f&&(D=Qe(f)?this.filter(f)[0].id():f[0].id());var E={},S={};p.forEach(h?function(k){var O=k.id();if(k.isNode()){var V=k.indegree(!0),q=k.outdegree(!0),K=V-q,$=q-V;1==K?b?m=!0:b=O:1==$?y?m=!0:y=O:($>1||K>1)&&(m=!0),E[O]=[],k.outgoers().forEach(function(W){W.isEdge()&&E[O].push(W.id())})}else S[O]=[void 0,k.target().id()]}:function(k){var O=k.id();k.isNode()?(k.degree(!0)%2&&(b?y?m=!0:y=O:b=O),E[O]=[],k.connectedEdges().forEach(function(q){return E[O].push(q.id())})):S[O]=[k.source().id(),k.target().id()]});var M={found:!1,trail:void 0};if(m)return M;if(y&&b)if(h){if(D&&y!=D)return M;D=y}else{if(D&&y!=D&&b!=D)return M;D||(D=y)}else D||(D=p[0].id());var x=function(O){for(var K,$,W,V=O,q=[O];E[V].length;)K=E[V].shift(),$=S[K][0],V!=(W=S[K][1])?(E[W]=E[W].filter(function(U){return U!=K}),V=W):!h&&V!=$&&(E[$]=E[$].filter(function(U){return U!=K}),V=$),q.unshift(K),q.unshift(V);return q},R=[],A=[];for(A=x(D);1!=A.length;)0==E[A[0]].length?(R.unshift(p.getElementById(A.shift())),R.unshift(p.getElementById(A.shift()))):A=x(A.shift()).concat(A);for(var P in R.unshift(p.getElementById(A.shift())),E)if(E[P].length)return M;return M.found=!0,M.trail=this.spawn(R,!0),M}},ga=function(){var i=this,s={},l=0,f=0,h=[],p=[],m={},y=function E(S,M,x){S===x&&(f+=1),s[M]={id:l,low:l++,cutVertex:!1};var A,P,k,O,R=i.getElementById(M).connectedEdges().intersection(i);0===R.size()?h.push(i.spawn(i.getElementById(M))):R.forEach(function(V){A=V.source().id(),P=V.target().id(),(k=A===M?P:A)!==x&&(O=V.id(),m[O]||(m[O]=!0,p.push({x:M,y:k,edge:V})),k in s?s[M].low=Math.min(s[M].low,s[k].id):(E(S,k,M),s[M].low=Math.min(s[M].low,s[k].low),s[M].id<=s[k].low&&(s[M].cutVertex=!0,function(S,M){for(var x=p.length-1,R=[],A=i.spawn();p[x].x!=S||p[x].y!=M;)R.push(p.pop().edge),x--;R.push(p.pop().edge),R.forEach(function(P){var k=P.connectedNodes().intersection(i);A.merge(P),k.forEach(function(O){var V=O.id(),q=O.connectedEdges().intersection(i);A.merge(O),A.merge(s[V].cutVertex?q.filter(function(K){return K.isLoop()}):q)})}),h.push(A)}(M,k))))})};i.forEach(function(E){if(E.isNode()){var S=E.id();S in s||(f=0,y(S,S),s[S].cutVertex=f>1)}});var D=Object.keys(s).filter(function(E){return s[E].cutVertex}).map(function(E){return i.getElementById(E)});return{cut:i.spawn(D),components:h}},$u=function(){var i=this,s={},l=0,f=[],h=[],p=i.spawn(i),m=function b(y){if(h.push(y),s[y]={index:l,low:l++,explored:!1},i.getElementById(y).connectedEdges().intersection(i).forEach(function(R){var A=R.target().id();A!==y&&(A in s||b(A),s[A].explored||(s[y].low=Math.min(s[y].low,s[A].low)))}),s[y].index===s[y].low){for(var E=i.spawn();;){var S=h.pop();if(E.merge(i.getElementById(S)),s[S].low=s[y].index,s[S].explored=!0,S===y)break}var M=E.edgesWith(E),x=E.merge(M);f.push(x),p=p.difference(x)}};return i.forEach(function(b){if(b.isNode()){var y=b.id();y in s||m(y)}}),{cut:p,components:f}},ps={};[Ou,Ht,yf,co,Xh,Lu,qn,_f,ca,da,Fl,Qg,Ln,Ws,Cn,ni,{hopcroftTarjanBiconnected:ga,htbc:ga,htb:ga,hopcroftTarjanBiconnectedComponents:ga},{tarjanStronglyConnected:$u,tsc:$u,tscc:$u,tarjanStronglyConnectedComponents:$u}].forEach(function(a){Nt(ps,a)});var Je=function a(i){if(!(this instanceof a))return new a(i);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof i&&i.call(this,this.fulfill.bind(this),this.reject.bind(this))};Je.prototype={fulfill:function(i){return en(this,1,"fulfillValue",i)},reject:function(i){return en(this,2,"rejectReason",i)},then:function(i,s){var l=this,f=new Je;return l.onFulfilled.push(za(i,f,"fulfill")),l.onRejected.push(za(s,f,"reject")),cr(l),f.proxy}};var en=function(i,s,l,f){return 0===i.state&&(i.state=s,i[l]=f,cr(i)),i},cr=function(i){1===i.state?Ro(i,"onFulfilled",i.fulfillValue):2===i.state&&Ro(i,"onRejected",i.rejectReason)},Ro=function(i,s,l){if(0!==i[s].length){var f=i[s];i[s]=[];var h=function(){for(var m=0;m<f.length;m++)f[m](l)};"function"==typeof setImmediate?setImmediate(h):setTimeout(h,0)}},za=function(i,s,l){return function(f){if("function"!=typeof i)s[l].call(s,f);else{var h;try{h=i(f)}catch(p){return void s.reject(p)}Zr(s,h)}}},Zr=function a(i,s){if(i!==s&&i.proxy!==s){var l;if("object"===cn(s)&&null!==s||"function"==typeof s)try{l=s.then}catch(h){return void i.reject(h)}if("function"!=typeof l)i.fulfill(s);else{var f=!1;try{l.call(s,function(h){f||(f=!0,h===s?i.reject(new TypeError("circular thenable chain")):a(i,h))},function(h){f||(f=!0,i.reject(h))})}catch(h){f||i.reject(h)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};Je.all=function(a){return new Je(function(i,s){for(var l=new Array(a.length),f=0,h=function(b,y){l[b]=y,++f===a.length&&i(l)},p=0;p<a.length;p++)!function(m){var b=a[m];null!=b&&null!=b.then?b.then(function(E){h(m,E)},function(E){s(E)}):h(m,b)}(p)})},Je.resolve=function(a){return new Je(function(i,s){i(a)})},Je.reject=function(a){return new Je(function(i,s){s(a)})};var go=typeof Promise<"u"?Promise:Je,Cr=function(i,s,l){var f=rr(i),h=!f,p=this._private=Nt({duration:1e3},s,l);if(p.target=i,p.style=p.style||p.css,p.started=!1,p.playing=!1,p.hooked=!1,p.applying=!1,p.progress=0,p.completes=[],p.frames=[],p.complete&&Fn(p.complete)&&p.completes.push(p.complete),h){var m=i.position();p.startPosition=p.startPosition||{x:m.x,y:m.y},p.startStyle=p.startStyle||i.cy().style().getAnimationStartStyle(i,p.style)}if(f){var b=i.pan();p.startPan={x:b.x,y:b.y},p.startZoom=i.zoom()}this.length=1,this[0]=this},Fi=Cr.prototype;Nt(Fi,{instanceString:function(){return"animation"},hook:function(){var i=this._private;if(!i.hooked){var l=i.target._private.animation;(i.queue?l.queue:l.current).push(this),Dr(i.target)&&i.target.cy().addToAnimationPool(i.target),i.hooked=!0}return this},play:function(){var i=this._private;return 1===i.progress&&(i.progress=0),i.playing=!0,i.started=!1,i.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var i=this._private;return i.applying=!0,i.started=!1,i.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var i=this._private;return i.playing=!1,i.started=!1,this},stop:function(){var i=this._private;return i.playing=!1,i.started=!1,i.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(i){var s=this._private;return void 0===i?s.progress*s.duration:this.progress(i/s.duration)},progress:function(i){var s=this._private,l=s.playing;return void 0===i?s.progress:(l&&this.pause(),s.progress=i,s.started=!1,l&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var i=this._private,s=i.playing;s&&this.pause(),i.progress=1-i.progress,i.started=!1;var l=function(y,D){var E=i[y];null!=E&&(i[y]=i[D],i[D]=E)};if(l("zoom","startZoom"),l("pan","startPan"),l("position","startPosition"),i.style)for(var f=0;f<i.style.length;f++){var h=i.style[f],p=h.name,m=i.startStyle[p];i.startStyle[p]=h,i.style[f]=m}return s&&this.play(),this},promise:function(i){var l,s=this._private;return l="frame"===i?s.frames:s.completes,new go(function(f,h){l.push(function(){f()})})}}),Fi.complete=Fi.completed,Fi.run=Fi.play,Fi.running=Fi.playing;var Qt={data:function(i){return i=Nt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,h){},onSet:function(f){},canSet:function(f){return!0}},i),function(f,h){var p=i,m=this,b=void 0!==m.length,y=b?m:[m],D=b?m[0]:m;if(Qe(f)){var M,S=-1!==f.indexOf(".")&&On.default(f);if(p.allowGetting&&void 0===h)return D&&(p.beforeGet(D),M=S&&void 0===D._private[p.field][f]?wt.default(D._private[p.field],S):D._private[p.field][f]),M;if(p.allowSetting&&void 0!==h&&!p.immutableKeys[f]){var R=Tn({},f,h);p.beforeSet(m,R);for(var A=0,P=y.length;A<P;A++){var k=y[A];p.canSet(k)&&(S&&void 0===D._private[p.field][f]?_t.default(k._private[p.field],S,h):k._private[p.field][f]=h)}p.updateStyle&&m.updateStyle(),p.onSet(m),p.settingTriggersEvent&&m[p.triggerFnName](p.settingEvent)}}else if(p.allowSetting&&xt(f)){var V,q,O=f,K=Object.keys(O);p.beforeSet(m,O);for(var $=0;$<K.length;$++)if(q=O[V=K[$]],!p.immutableKeys[V])for(var U=0;U<y.length;U++){var Y=y[U];p.canSet(Y)&&(Y._private[p.field][V]=q)}p.updateStyle&&m.updateStyle(),p.onSet(m),p.settingTriggersEvent&&m[p.triggerFnName](p.settingEvent)}else if(p.allowBinding&&Fn(f))m.on(p.bindingEvent,f);else if(p.allowGetting&&void 0===f){var G;return D&&(p.beforeGet(D),G=D._private[p.field]),G}return m}},removeData:function(i){return i=Nt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},i),function(f){var h=i,p=this,b=void 0!==p.length?p:[p];if(Qe(f)){for(var y=f.split(/\s+/),D=y.length,E=0;E<D;E++){var S=y[E];if(!nn(S)&&!h.immutableKeys[S])for(var x=0,R=b.length;x<R;x++)b[x]._private[h.field][S]=void 0}h.triggerEvent&&p[h.triggerFnName](h.event)}else if(void 0===f){for(var A=0,P=b.length;A<P;A++)for(var k=b[A]._private[h.field],O=Object.keys(k),V=0;V<O.length;V++){var q=O[V];!h.immutableKeys[q]&&(k[q]=void 0)}h.triggerEvent&&p[h.triggerFnName](h.event)}return p}}},Er={eventAliasesOn:function(i){var s=i;s.addListener=s.listen=s.bind=s.on,s.unlisten=s.unbind=s.off=s.removeListener,s.trigger=s.emit,s.pon=s.promiseOn=function(l,f){var h=this,p=Array.prototype.slice.call(arguments,0);return new go(function(m,b){var D=p.concat([function(M){h.off.apply(h,E),m(M)}]),E=D.concat([]);h.on.apply(h,D)})}}},Yt={};[{animated:function(){return function(){var s=this,f=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return!1;var p=f[0];return p?p._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var s=this,f=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return this;for(var p=0;p<f.length;p++)f[p]._private.animation.queue=[];return this}},delay:function(){return function(s,l){return(this._private.cy||this).styleEnabled()?this.animate({delay:s,duration:s,complete:l}):this}},delayAnimation:function(){return function(s,l){return(this._private.cy||this).styleEnabled()?this.animation({delay:s,duration:s,complete:l}):this}},animation:function(){return function(s,l){var f=this,h=void 0!==f.length,p=h?f:[f],m=this._private.cy||this,b=!h,y=!b;if(!m.styleEnabled())return this;var D=m.style();if(s=Nt({},s,l),0===Object.keys(s).length)return new Cr(p[0],s);switch(void 0===s.duration&&(s.duration=400),s.duration){case"slow":s.duration=600;break;case"fast":s.duration=200}if(y&&(s.style=D.getPropsList(s.style||s.css),s.css=void 0),y&&null!=s.renderedPosition){var S=s.renderedPosition,M=m.pan(),x=m.zoom();s.position=Ml(S,x,M)}if(b&&null!=s.panBy){var R=s.panBy,A=m.pan();s.pan={x:A.x+R.x,y:A.y+R.y}}var P=s.center||s.centre;if(b&&null!=P){var k=m.getCenterPan(P.eles,s.zoom);null!=k&&(s.pan=k)}if(b&&null!=s.fit){var O=s.fit,V=m.getFitViewport(O.eles||O.boundingBox,O.padding);null!=V&&(s.pan=V.pan,s.zoom=V.zoom)}if(b&&xt(s.zoom)){var q=m.getZoomedViewport(s.zoom);null!=q?(q.zoomed&&(s.zoom=q.zoom),q.panned&&(s.pan=q.pan)):s.zoom=null}return new Cr(p[0],s)}},animate:function(){return function(s,l){var f=this,p=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;l&&(s=Nt({},s,l));for(var b=0;b<p.length;b++){var y=p[b],D=y.animated()&&(void 0===s.queue||s.queue);y.animation(s,D?{queue:!0}:void 0).play()}return this}},stop:function(){return function(s,l){var f=this,p=void 0!==f.length?f:[f],m=this._private.cy||this;if(!m.styleEnabled())return this;for(var b=0;b<p.length;b++){for(var D=p[b]._private,E=D.animation.current,S=0;S<E.length;S++)l&&(E[S]._private.duration=0);s&&(D.animation.queue=[]),l||(D.animation.current=[])}return m.notify("draw"),this}}},Qt,Er].forEach(function(a){Nt(Yt,a)});var zu={animate:Yt.animate(),animation:Yt.animation(),animated:Yt.animated(),clearQueue:Yt.clearQueue(),delay:Yt.delay(),delayAnimation:Yt.delayAnimation(),stop:Yt.stop()},mr={classes:function(i){var s=this;if(void 0===i){var l=[];return s[0]._private.classes.forEach(function(x){return l.push(x)}),l}xn(i)||(i=(i||"").match(/\S+/g)||[]);for(var f=[],h=new ku(i),p=0;p<s.length;p++){for(var m=s[p],b=m._private,y=b.classes,D=!1,E=0;E<i.length;E++)if(!y.has(i[E])){D=!0;break}D||(D=y.size!==i.length),D&&(b.classes=h,f.push(m))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),s},addClass:function(i){return this.toggleClass(i,!0)},hasClass:function(i){var s=this[0];return null!=s&&s._private.classes.has(i)},toggleClass:function(i,s){xn(i)||(i=i.match(/\S+/g)||[]);for(var l=this,f=void 0===s,h=[],p=0,m=l.length;p<m;p++)for(var b=l[p],y=b._private.classes,D=!1,E=0;E<i.length;E++){var S=i[E],M=y.has(S),x=!1;s||f&&!M?(y.add(S),x=!0):(!s||f&&M)&&(y.delete(S),x=!0),!D&&x&&(h.push(b),D=!0)}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},removeClass:function(i){return this.toggleClass(i,!1)},flashClass:function(i,s){var l=this;if(null==s)s=250;else if(0===s)return l;return l.addClass(i),setTimeout(function(){l.removeClass(i)},s),l}};mr.className=mr.classNames=mr.classes;var gn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:zr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};gn.variable="(?:[\\w-.]|(?:\\\\"+gn.metaChar+"))+",gn.className="(?:[\\w-]|(?:\\\\"+gn.metaChar+"))+",gn.value=gn.string+"|"+gn.number,gn.id=gn.variable,function(){var a,i,s;for(a=gn.comparatorOp.split("|"),s=0;s<a.length;s++)gn.comparatorOp+="|@"+(i=a[s]);for(a=gn.comparatorOp.split("|"),s=0;s<a.length;s++)!((i=a[s]).indexOf("!")>=0)&&"="!==i&&(gn.comparatorOp+="|\\!"+i)}();var Go=[{selector:":selected",matches:function(i){return i.selected()}},{selector:":unselected",matches:function(i){return!i.selected()}},{selector:":selectable",matches:function(i){return i.selectable()}},{selector:":unselectable",matches:function(i){return!i.selectable()}},{selector:":locked",matches:function(i){return i.locked()}},{selector:":unlocked",matches:function(i){return!i.locked()}},{selector:":visible",matches:function(i){return i.visible()}},{selector:":hidden",matches:function(i){return!i.visible()}},{selector:":transparent",matches:function(i){return i.transparent()}},{selector:":grabbed",matches:function(i){return i.grabbed()}},{selector:":free",matches:function(i){return!i.grabbed()}},{selector:":removed",matches:function(i){return i.removed()}},{selector:":inside",matches:function(i){return!i.removed()}},{selector:":grabbable",matches:function(i){return i.grabbable()}},{selector:":ungrabbable",matches:function(i){return!i.grabbable()}},{selector:":animated",matches:function(i){return i.animated()}},{selector:":unanimated",matches:function(i){return!i.animated()}},{selector:":parent",matches:function(i){return i.isParent()}},{selector:":childless",matches:function(i){return i.isChildless()}},{selector:":child",matches:function(i){return i.isChild()}},{selector:":orphan",matches:function(i){return i.isOrphan()}},{selector:":nonorphan",matches:function(i){return i.isChild()}},{selector:":compound",matches:function(i){return i.isNode()?i.isParent():i.source().isParent()||i.target().isParent()}},{selector:":loop",matches:function(i){return i.isLoop()}},{selector:":simple",matches:function(i){return i.isSimple()}},{selector:":active",matches:function(i){return i.active()}},{selector:":inactive",matches:function(i){return!i.active()}},{selector:":backgrounding",matches:function(i){return i.backgrounding()}},{selector:":nonbackgrounding",matches:function(i){return!i.backgrounding()}}].sort(function(a,i){return function(i,s){return-1*$s(i,s)}(a.selector,i.selector)}),id=function(){for(var i,a={},s=0;s<Go.length;s++)a[(i=Go[s]).selector]=i.matches;return a}(),mo="("+Go.map(function(a){return a.selector}).join("|")+")",Zi=function(i){return i.replace(new RegExp("\\\\("+gn.metaChar+")","g"),function(s,l){return l})},Li=function(i,s,l){i[i.length-1]=l},tn=[{name:"group",query:!0,regex:"("+gn.group+")",populate:function(i,s,l){var h=dn(l,1)[0];s.checks.push({type:0,value:"*"===h?h:h+"s"})}},{name:"state",query:!0,regex:mo,populate:function(i,s,l){var f=dn(l,1);s.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+gn.id+")",populate:function(i,s,l){var f=dn(l,1);s.checks.push({type:8,value:Zi(f[0])})}},{name:"className",query:!0,regex:"\\.("+gn.className+")",populate:function(i,s,l){var f=dn(l,1);s.checks.push({type:9,value:Zi(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+gn.variable+")\\s*\\]",populate:function(i,s,l){var f=dn(l,1);s.checks.push({type:4,field:Zi(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+gn.variable+")\\s*("+gn.comparatorOp+")\\s*("+gn.value+")\\s*\\]",populate:function(i,s,l){var f=dn(l,3),h=f[0],p=f[1],m=f[2];m=null!=new RegExp("^"+gn.string+"$").exec(m)?m.substring(1,m.length-1):parseFloat(m),s.checks.push({type:3,field:Zi(h),operator:p,value:m})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+gn.boolOp+")\\s*("+gn.variable+")\\s*\\]",populate:function(i,s,l){var f=dn(l,2),h=f[0];s.checks.push({type:5,field:Zi(f[1]),operator:h})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+gn.meta+")\\s*("+gn.comparatorOp+")\\s*("+gn.number+")\\s*\\]\\]",populate:function(i,s,l){var f=dn(l,3),p=f[1],m=f[2];s.checks.push({type:6,field:Zi(f[0]),operator:p,value:parseFloat(m)})}},{name:"nextQuery",separator:!0,regex:gn.separator,populate:function(i,s){var l=i.currentSubject,f=i.edgeCount,h=i.compoundCount,p=i[i.length-1];return null!=l&&(p.subject=l,i.currentSubject=null),p.edgeCount=f,p.compoundCount=h,i.edgeCount=0,i.compoundCount=0,i[i.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:gn.directedEdge,populate:function(i,s){if(null==i.currentSubject){var l={checks:[]},h={checks:[]};return l.checks.push({type:11,source:s,target:h}),Li(i,0,l),i.edgeCount++,h}var p={checks:[]},b={checks:[]};return p.checks.push({type:12,source:s,target:b}),Li(i,0,p),i.edgeCount++,b}},{name:"undirectedEdge",separator:!0,regex:gn.undirectedEdge,populate:function(i,s){if(null==i.currentSubject){var l={checks:[]},h={checks:[]};return l.checks.push({type:10,nodes:[s,h]}),Li(i,0,l),i.edgeCount++,h}var p={checks:[]},b={checks:[]};return p.checks.push({type:14,node:s,neighbor:b}),Li(i,0,p),b}},{name:"child",separator:!0,regex:gn.child,populate:function(i,s){if(null==i.currentSubject){var l={checks:[]},f={checks:[]};return l.checks.push({type:15,parent:i[i.length-1],child:f}),Li(i,0,l),i.compoundCount++,f}if(i.currentSubject===s){var p={checks:[]},b={checks:[]},y={checks:[]},D={checks:[]},E={checks:[]};return p.checks.push({type:19,left:i[i.length-1],right:b,subject:y}),y.checks=s.checks,s.checks=[{type:20}],E.checks.push({type:20}),b.checks.push({type:17,parent:E,child:D}),Li(i,0,p),i.currentSubject=y,i.compoundCount++,D}var S={checks:[]},M={checks:[]},x=[{type:17,parent:S,child:M}];return S.checks=s.checks,s.checks=x,i.compoundCount++,M}},{name:"descendant",separator:!0,regex:gn.descendant,populate:function(i,s){if(null==i.currentSubject){var l={checks:[]},f={checks:[]};return l.checks.push({type:16,ancestor:i[i.length-1],descendant:f}),Li(i,0,l),i.compoundCount++,f}if(i.currentSubject===s){var p={checks:[]},b={checks:[]},y={checks:[]},D={checks:[]},E={checks:[]};return p.checks.push({type:19,left:i[i.length-1],right:b,subject:y}),y.checks=s.checks,s.checks=[{type:20}],E.checks.push({type:20}),b.checks.push({type:18,ancestor:E,descendant:D}),Li(i,0,p),i.currentSubject=y,i.compoundCount++,D}var S={checks:[]},M={checks:[]},x=[{type:18,ancestor:S,descendant:M}];return S.checks=s.checks,s.checks=x,i.compoundCount++,M}},{name:"subject",modifier:!0,regex:gn.subject,populate:function(i,s){if(null!=i.currentSubject&&i.currentSubject!==s)return Zt("Redefinition of subject in selector `"+i.toString()+"`"),!1;i.currentSubject=s;var f=i[i.length-1].checks[0],h=null==f?null:f.type;11===h?f.type=13:10===h&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];tn.forEach(function(a){return a.regexObj=new RegExp("^"+a.regex)});var Wm=function(i){for(var s,l,f,h=0;h<tn.length;h++){var p=tn[h],m=p.name,b=i.match(p.regexObj);if(null!=b){l=b,s=p,f=m,i=i.substring(b[0].length);break}}return{expr:s,match:l,name:f,remaining:i}},od={parse:function(i){var s=this,l=s.inputText=i,f=s[0]={checks:[]};for(s.length=1,l=function(i){var s=i.match(/^\s+/);return s&&(i=i.substring(s[0].length)),i}(l);;){var h=Wm(l);if(null==h.expr)return Zt("The selector `"+i+"`is invalid"),!1;var p=h.match.slice(1),m=h.expr.populate(s,f,p);if(!1===m)return!1;if(null!=m&&(f=m),(l=h.remaining).match(/^\s*$/))break}var b=s[s.length-1];null!=s.currentSubject&&(b.subject=s.currentSubject),b.edgeCount=s.edgeCount,b.compoundCount=s.compoundCount;for(var y=0;y<s.length;y++){var D=s[y];if(D.compoundCount>0&&D.edgeCount>0)return Zt("The selector `"+i+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(D.edgeCount>1)return Zt("The selector `"+i+"` is invalid because it uses multiple edge selectors"),!1;1===D.edgeCount&&Zt("The selector `"+i+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var i=function(D){return D??""},s=function(D){return Qe(D)?'"'+D+'"':i(D)},l=function(D){return" "+D+" "},h=function(D,E){return D.checks.reduce(function(S,M,x){return S+(E===D&&0===x?"$":"")+function(D,E){var M=D.value;switch(D.type){case 0:var x=i(M);return x.substring(0,x.length-1);case 3:return"["+D.field+l(i(D.operator))+s(M)+"]";case 5:var k=D.field;return"["+i(D.operator)+k+"]";case 4:return"["+D.field+"]";case 6:return"[["+D.field+l(i(D.operator))+s(M)+"]]";case 7:return M;case 8:return"#"+M;case 9:return"."+M;case 17:case 15:return h(D.parent,E)+l(">")+h(D.child,E);case 18:case 16:return h(D.ancestor,E)+" "+h(D.descendant,E);case 19:var K=h(D.left,E),$=h(D.subject,E),W=h(D.right,E);return K+(K.length>0?" ":"")+$+W;case 20:return""}}(M,E)},"")},p="",m=0;m<this.length;m++){var b=this[m];p+=h(b,b.subject),this.length>1&&m<this.length-1&&(p+=", ")}return this.toStringCache=p,p}},ma=function(i,s,l){var f,b,y,h=Qe(i),p=ot(i),m=Qe(l),D=!1,E=!1,S=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),E=!0),s.indexOf("@")>=0&&(s=s.replace("@",""),D=!0),(h||m||D)&&(b=h||p?""+i:"",y=""+l),D&&(i=b=b.toLowerCase(),l=y=y.toLowerCase()),s){case"*=":f=b.indexOf(y)>=0;break;case"$=":f=b.indexOf(y,b.length-y.length)>=0;break;case"^=":f=0===b.indexOf(y);break;case"=":f=i===l;break;case">":S=!0,f=i>l;break;case">=":S=!0,f=i>=l;break;case"<":S=!0,f=i<l;break;case"<=":S=!0,f=i<=l;break;default:f=!1}return E&&(null!=i||!S)&&(f=!f),f},H=function(i,s){return i.data(s)},pn=[],vn=function(i,s){return i.checks.every(function(l){return pn[l.type](l,s)})};pn[0]=function(a,i){var s=a.value;return"*"===s||s===i.group()},pn[7]=function(a,i){return function(i,s){return id[i](s)}(a.value,i)},pn[8]=function(a,i){var s=a.value;return i.id()===s},pn[9]=function(a,i){return i.hasClass(a.value)},pn[6]=function(a,i){var l=a.operator,f=a.value;return ma(function(i,s){return i[s]()}(i,a.field),l,f)},pn[3]=function(a,i){var l=a.operator,f=a.value;return ma(H(i,a.field),l,f)},pn[5]=function(a,i){var l=a.operator;return function(i,s){switch(s){case"?":return!!i;case"!":return!i;case"^":return void 0===i}}(H(i,a.field),l)},pn[4]=function(a,i){return function(i){return void 0!==i}(H(i,a.field))},pn[10]=function(a,i){var s=a.nodes[0],l=a.nodes[1],f=i.source(),h=i.target();return vn(s,f)&&vn(l,h)||vn(l,f)&&vn(s,h)},pn[14]=function(a,i){return vn(a.node,i)&&i.neighborhood().some(function(s){return s.isNode()&&vn(a.neighbor,s)})},pn[11]=function(a,i){return vn(a.source,i.source())&&vn(a.target,i.target())},pn[12]=function(a,i){return vn(a.source,i)&&i.outgoers().some(function(s){return s.isNode()&&vn(a.target,s)})},pn[13]=function(a,i){return vn(a.target,i)&&i.incomers().some(function(s){return s.isNode()&&vn(a.source,s)})},pn[15]=function(a,i){return vn(a.child,i)&&vn(a.parent,i.parent())},pn[17]=function(a,i){return vn(a.parent,i)&&i.children().some(function(s){return vn(a.child,s)})},pn[16]=function(a,i){return vn(a.descendant,i)&&i.ancestors().some(function(s){return vn(a.ancestor,s)})},pn[18]=function(a,i){return vn(a.ancestor,i)&&i.descendants().some(function(s){return vn(a.descendant,s)})},pn[19]=function(a,i){return vn(a.subject,i)&&vn(a.left,i)&&vn(a.right,i)},pn[20]=function(){return!0},pn[1]=function(a,i){return a.value.has(i)},pn[2]=function(a,i){return(0,a.value)(i)};var qo={matches:function(i){for(var l=0;l<this.length;l++)if(vn(this[l],i))return!0;return!1},filter:function(i){var s=this;if(1===s.length&&1===s[0].checks.length&&8===s[0].checks[0].type)return i.getElementById(s[0].checks[0].value).collection();var l=function(h){for(var p=0;p<s.length;p++)if(vn(s[p],h))return!0;return!1};return null==s.text()&&(l=function(){return!0}),i.filter(l)}},ya=function(i){this.inputText=i,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==i||Qe(i)&&i.match(/^\s*$/)||(Dr(i)?this.addQuery({checks:[{type:1,value:i.collection()}]}):Fn(i)?this.addQuery({checks:[{type:2,value:i}]}):Qe(i)?this.parse(i)||(this.invalid=!0):Vn("A selector must be created from a string; found "))},Ki=ya.prototype;[od,qo].forEach(function(a){return Nt(Ki,a)}),Ki.text=function(){return this.inputText},Ki.size=function(){return this.length},Ki.eq=function(a){return this[a]},Ki.sameText=function(a){return!this.invalid&&!a.invalid&&this.text()===a.text()},Ki.addQuery=function(a){this[this.length++]=a},Ki.selector=Ki.toString;var gs={allAre:function(i){var s=new ya(i);return this.every(function(l){return s.matches(l)})},is:function(i){var s=new ya(i);return this.some(function(l){return s.matches(l)})},some:function(i,s){for(var l=0;l<this.length;l++)if(s?i.apply(s,[this[l],l,this]):i(this[l],l,this))return!0;return!1},every:function(i,s){for(var l=0;l<this.length;l++)if(!(s?i.apply(s,[this[l],l,this]):i(this[l],l,this)))return!1;return!0},same:function(i){if(this===i)return!0;i=this.cy().collection(i);var s=this.length;return s===i.length&&(1===s?this[0]===i[0]:this.every(function(f){return i.hasElementWithId(f.id())}))},anySame:function(i){return i=this.cy().collection(i),this.some(function(s){return i.hasElementWithId(s.id())})},allAreNeighbors:function(i){i=this.cy().collection(i);var s=this.neighborhood();return i.every(function(l){return s.hasElementWithId(l.id())})},contains:function(i){i=this.cy().collection(i);var s=this;return i.every(function(l){return s.hasElementWithId(l.id())})}};gs.allAreNeighbours=gs.allAreNeighbors,gs.has=gs.contains,gs.equal=gs.equals=gs.same;var sd,rv,Wo=function(i,s){return function(f,h,p,m){var D,b=f,y=this;if(null==b?D="":Dr(b)&&1===b.length&&(D=b.id()),1===y.length&&D){var E=y[0]._private,S=E.traversalCache=E.traversalCache||{},M=S[s]=S[s]||[],x=ua(D);return M[x]||(M[x]=i.call(y,f,h,p,m))}return i.call(y,f,h,p,m)}},ju={parent:function(i){var s=[];if(1===this.length){var l=this[0]._private.parent;if(l)return l}for(var f=0;f<this.length;f++){var p=this[f]._private.parent;p&&s.push(p)}return this.spawn(s,!0).filter(i)},parents:function(i){for(var s=[],l=this.parent();l.nonempty();){for(var f=0;f<l.length;f++)s.push(l[f]);l=l.parent()}return this.spawn(s,!0).filter(i)},commonAncestors:function(i){for(var s,l=0;l<this.length;l++){var h=this[l].parents();s=(s=s||h).intersect(h)}return s.filter(i)},orphans:function(i){return this.stdFilter(function(s){return s.isOrphan()}).filter(i)},nonorphans:function(i){return this.stdFilter(function(s){return s.isChild()}).filter(i)},children:Wo(function(a){for(var i=[],s=0;s<this.length;s++)for(var f=this[s]._private.children,h=0;h<f.length;h++)i.push(f[h]);return this.spawn(i,!0).filter(a)},"children"),siblings:function(i){return this.parent().children().not(this).filter(i)},isParent:function(){var i=this[0];if(i)return i.isNode()&&0!==i._private.children.length},isChildless:function(){var i=this[0];if(i)return i.isNode()&&0===i._private.children.length},isChild:function(){var i=this[0];if(i)return i.isNode()&&null!=i._private.parent},isOrphan:function(){var i=this[0];if(i)return i.isNode()&&null==i._private.parent},descendants:function(i){var s=[];return function l(f){for(var h=0;h<f.length;h++){var p=f[h];s.push(p),p.children().nonempty()&&l(p.children())}}(this.children()),this.spawn(s,!0).filter(i)}};function kf(a,i,s,l){for(var f=[],h=new ku,m=a.cy().hasCompoundNodes(),b=0;b<a.length;b++){var y=a[b];s?f.push(y):m&&l(f,h,y)}for(;f.length>0;){var D=f.shift();i(D),h.add(D.id()),m&&l(f,h,D)}return a}function nv(a,i,s){if(s.isParent())for(var l=s._private.children,f=0;f<l.length;f++){var h=l[f];i.has(h.id())||a.push(h)}}function Ga(a,i,s){if(s.isChild()){var l=s._private.parent;i.has(l.id())||a.push(l)}}function Zm(a,i,s){Ga(a,i,s),nv(a,i,s)}ju.forEachDown=function(a){return kf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],nv)},ju.forEachUp=function(a){return kf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ga)},ju.forEachUpAndDown=function(a){return kf(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Zm)},ju.ancestors=ju.parents,sd=rv={data:Yt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Yt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Yt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Yt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Yt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Yt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var i=this[0];if(i)return i._private.data.id}},sd.attr=sd.data,sd.removeAttr=sd.removeData;var Km=rv,Of={};function wa(a){return function(i){var s=this;if(void 0===i&&(i=!0),0===s.length);else if(s.isNode()&&!s.removed()){for(var l=0,f=s[0],h=f._private.edges,p=0;p<h.length;p++){var m=h[p];!i&&m.isLoop()||(l+=a(f,m))}return l}}}function Hl(a,i){return function(s){for(var l,f=this.nodes(),h=0;h<f.length;h++){var m=f[h][a](s);void 0!==m&&(void 0===l||i(m,l))&&(l=m)}return l}}Nt(Of,{degree:wa(function(a,i){return i.source().same(i.target())?2:1}),indegree:wa(function(a,i){return i.target().same(a)?1:0}),outdegree:wa(function(a,i){return i.source().same(a)?1:0})}),Nt(Of,{minDegree:Hl("degree",function(a,i){return a<i}),maxDegree:Hl("degree",function(a,i){return a>i}),minIndegree:Hl("indegree",function(a,i){return a<i}),maxIndegree:Hl("indegree",function(a,i){return a>i}),minOutdegree:Hl("outdegree",function(a,i){return a<i}),maxOutdegree:Hl("outdegree",function(a,i){return a>i})}),Nt(Of,{totalDegree:function(i){for(var s=0,l=this.nodes(),f=0;f<l.length;f++)s+=l[f].degree(i);return s}});var ba,iv,ov=function(i,s,l){for(var f=0;f<i.length;f++){var h=i[f];if(!h.locked()){var p=h._private.position,m={x:null!=s.x?s.x-p.x:0,y:null!=s.y?s.y-p.y:0};h.isParent()&&!(0===m.x&&0===m.y)&&h.children().shift(m,l),h.dirtyBoundingBoxCache()}}},Ff={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(i){i.updateCompoundBounds()},beforeSet:function(i,s){ov(i,s,!1)},onSet:function(i){i.dirtyCompoundBoundsCache()},canSet:function(i){return!i.locked()}};ba=iv={position:Yt.data(Ff),silentPosition:Yt.data(Nt({},Ff,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(i,s){ov(i,s,!0)},onSet:function(i){i.dirtyCompoundBoundsCache()}})),positions:function(i,s){if(xt(i))s?this.silentPosition(i):this.position(i);else if(Fn(i)){var l=i,f=this.cy();f.startBatch();for(var h=0;h<this.length;h++){var m,p=this[h];(m=l(p,h))&&(s?p.silentPosition(m):p.position(m))}f.endBatch()}return this},silentPositions:function(i){return this.positions(i,!0)},shift:function(i,s,l){var f;if(xt(i)?(f={x:ot(i.x)?i.x:0,y:ot(i.y)?i.y:0},l=s):Qe(i)&&ot(s)&&((f={x:0,y:0})[i]=s),null!=f){var h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var m=this[p];if(!(h.hasCompoundNodes()&&m.isChild()&&m.ancestors().anySame(this))){var b=m.position(),y={x:b.x+f.x,y:b.y+f.y};l?m.silentPosition(y):m.position(y)}}h.endBatch()}return this},silentShift:function(i,s){return xt(i)?this.shift(i,!0):Qe(i)&&ot(s)&&this.shift(i,s,!0),this},renderedPosition:function(i,s){var l=this[0],f=this.cy(),h=f.zoom(),p=f.pan(),m=xt(i)?i:void 0,b=void 0!==m||void 0!==s&&Qe(i);if(l&&l.isNode()){if(!b){var E=l.position();return m=Us(E,h,p),void 0===i?m:m[i]}for(var y=0;y<this.length;y++){var D=this[y];void 0!==s?D.position(i,(s-p[i])/h):void 0!==m&&D.position(Ml(m,h,p))}}else if(!b)return;return this},relativePosition:function(i,s){var l=this[0],f=this.cy(),h=xt(i)?i:void 0,p=void 0!==h||void 0!==s&&Qe(i),m=f.hasCompoundNodes();if(l&&l.isNode()){if(!p){var x=l.position(),R=m?l.parent():null,A=R&&R.length>0;A&&(R=R[0]);var k=A?R.position():{x:0,y:0};return h={x:x.x-k.x,y:x.y-k.y},void 0===i?h:h[i]}for(var b=0;b<this.length;b++){var y=this[b],D=m?y.parent():null,E=D&&D.length>0;E&&(D=D[0]);var M=E?D.position():{x:0,y:0};void 0!==s?y.position(i,s+M[i]):void 0!==h&&y.position({x:h.x+M.x,y:h.y+M.y})}}else if(!p)return;return this}},ba.modelPosition=ba.point=ba.position,ba.modelPositions=ba.points=ba.positions,ba.renderedPoint=ba.renderedPosition,ba.relativePoint=ba.relativePosition;var Ul,Zs,vs=iv;Ul=Zs={},Zs.renderedBoundingBox=function(a){var i=this.boundingBox(a),s=this.cy(),l=s.zoom(),f=s.pan(),h=i.x1*l+f.x,p=i.x2*l+f.x,m=i.y1*l+f.y,b=i.y2*l+f.y;return{x1:h,x2:p,y1:m,y2:b,w:p-h,h:b-m}},Zs.dirtyCompoundBoundsCache=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();return i.styleEnabled()&&i.hasCompoundNodes()?(this.forEachUp(function(s){if(s.isParent()){var l=s._private;l.compoundBoundsClean=!1,l.bbCache=null,a||s.emitAndNotify("bounds")}}),this):this},Zs.updateCompoundBounds=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return this;if(!a&&i.batching())return this;function s(p){if(p.isParent()){var m=p._private,b=p.children(),y="include"===p.pstyle("compound-sizing-wrt-labels").value,D={width:{val:p.pstyle("min-width").pfValue,left:p.pstyle("min-width-bias-left"),right:p.pstyle("min-width-bias-right")},height:{val:p.pstyle("min-height").pfValue,top:p.pstyle("min-height-bias-top"),bottom:p.pstyle("min-height-bias-bottom")}},E=b.boundingBox({includeLabels:y,includeOverlays:!1,useCache:!1}),S=m.position;(0===E.w||0===E.h)&&((E={w:p.pstyle("width").pfValue,h:p.pstyle("height").pfValue}).x1=S.x-E.w/2,E.x2=S.x+E.w/2,E.y1=S.y-E.h/2,E.y2=S.y+E.h/2);var R=D.width.left.value;"px"===D.width.left.units&&D.width.val>0&&(R=100*R/D.width.val);var A=D.width.right.value;"px"===D.width.right.units&&D.width.val>0&&(A=100*A/D.width.val);var P=D.height.top.value;"px"===D.height.top.units&&D.height.val>0&&(P=100*P/D.height.val);var k=D.height.bottom.value;"px"===D.height.bottom.units&&D.height.val>0&&(k=100*k/D.height.val);var O=M(D.width.val-E.w,R,A),V=O.biasDiff,q=O.biasComplementDiff,K=M(D.height.val-E.h,P,k),$=K.biasDiff,W=K.biasComplementDiff;m.autoPadding=function x(U,Y,X,G){if("%"!==X.units)return"px"===X.units?X.pfValue:0;switch(G){case"width":return U>0?X.pfValue*U:0;case"height":return Y>0?X.pfValue*Y:0;case"average":return U>0&&Y>0?X.pfValue*(U+Y)/2:0;case"min":return U>0&&Y>0?U>Y?X.pfValue*Y:X.pfValue*U:0;case"max":return U>0&&Y>0?U>Y?X.pfValue*U:X.pfValue*Y:0;default:return 0}}(E.w,E.h,p.pstyle("padding"),p.pstyle("padding-relative-to").value),m.autoWidth=Math.max(E.w,D.width.val),S.x=(-V+E.x1+E.x2+q)/2,m.autoHeight=Math.max(E.h,D.height.val),S.y=(-$+E.y1+E.y2+W)/2}function M(U,Y,X){var G=0,te=0,Z=Y+X;return U>0&&Z>0&&(G=Y/Z*U,te=X/Z*U),{biasDiff:G,biasComplementDiff:te}}}for(var l=0;l<this.length;l++){var f=this[l],h=f._private;(!h.compoundBoundsClean||a)&&(s(f),i.batching()||(h.compoundBoundsClean=!0))}return this};var Or=function(i){return i===1/0||i===-1/0?0:i},ci=function(i,s,l,f,h){f-s==0||h-l==0||null==s||null==l||null==f||null==h||(i.x1=s<i.x1?s:i.x1,i.x2=f>i.x2?f:i.x2,i.y1=l<i.y1?l:i.y1,i.y2=h>i.y2?h:i.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1)},Yi=function(i,s){return null==s?i:ci(i,s.x1,s.y1,s.x2,s.y2)},ud=function(i,s,l){return lo(i,s,l)},Lf=function(i,s,l){if(!s.cy().headless()){var b,y,f=s._private,h=f.rstyle,p=h.arrowWidth/2;if("none"!==s.pstyle(l+"-arrow-shape").value){"source"===l?(b=h.srcX,y=h.srcY):"target"===l?(b=h.tgtX,y=h.tgtY):(b=h.midX,y=h.midY);var D=f.arrowBounds=f.arrowBounds||{},E=D[l]=D[l]||{};E.x1=b-p,E.y1=y-p,E.x2=b+p,E.y2=y+p,E.w=E.x2-E.x1,E.h=E.y2-E.y1,Df(E,1),ci(i,E.x1,E.y1,E.x2,E.y2)}}},Yr=function(i,s,l){if(!s.cy().headless()){var f,h=s._private,p=h.rstyle;if(s.pstyle((f=l?l+"-":"")+"label").strValue){var X,G,te,Z,b=s.pstyle("text-halign"),y=s.pstyle("text-valign"),D=ud(p,"labelWidth",l),E=ud(p,"labelHeight",l),S=ud(p,"labelX",l),M=ud(p,"labelY",l),x=s.pstyle(f+"text-margin-x").pfValue,R=s.pstyle(f+"text-margin-y").pfValue,A=s.isEdge(),P=s.pstyle(f+"text-rotation"),k=s.pstyle("text-outline-width").pfValue,V=s.pstyle("text-border-width").pfValue/2,q=s.pstyle("text-background-padding").pfValue,$=E,W=D,U=W/2,Y=$/2;if(A)X=S-U,G=S+U,te=M-Y,Z=M+Y;else{switch(b.value){case"left":X=S-W,G=S;break;case"center":X=S-U,G=S+U;break;case"right":X=S,G=S+W}switch(y.value){case"top":te=M-$,Z=M;break;case"center":te=M-Y,Z=M+Y;break;case"bottom":te=M,Z=M+$}}X+=x-Math.max(k,V)-q-2,G+=x+Math.max(k,V)+q+2,te+=R-Math.max(k,V)-q-2,Z+=R+Math.max(k,V)+q+2;var ue=l||"main",ne=h.labelBounds,ee=ne[ue]=ne[ue]||{};ee.x1=X,ee.y1=te,ee.x2=G,ee.y2=Z,ee.w=G-X,ee.h=Z-te;var he=A&&"autorotate"===P.strValue;if(he||null!=P.pfValue&&0!==P.pfValue){var Se=he?ud(h.rstyle,"labelAngle",l):P.pfValue,fe=Math.cos(Se),Ee=Math.sin(Se),Ne=(X+G)/2,Be=(te+Z)/2;if(!A){switch(b.value){case"left":Ne=G;break;case"right":Ne=X}switch(y.value){case"top":Be=Z;break;case"bottom":Be=te}}var ke=function(Lt,Ae){return{x:(Lt-=Ne)*fe-(Ae-=Be)*Ee+Ne,y:Lt*Ee+Ae*fe+Be}},Oe=ke(X,te),pe=ke(X,Z),ze=ke(G,te),Ge=ke(G,Z);X=Math.min(Oe.x,pe.x,ze.x,Ge.x),G=Math.max(Oe.x,pe.x,ze.x,Ge.x),te=Math.min(Oe.y,pe.y,ze.y,Ge.y),Z=Math.max(Oe.y,pe.y,ze.y,Ge.y)}var Fe=ue+"Rot",Ye=ne[Fe]=ne[Fe]||{};Ye.x1=X,Ye.y1=te,Ye.x2=G,Ye.y2=Z,Ye.w=G-X,Ye.h=Z-te,ci(i,X,te,G,Z),ci(h.labelBounds.all,X,te,G,Z)}return i}},Bf=function(i){var s=0,l=function(p){return(p?1:0)<<s++},f=0;return f+=l(i.incudeNodes),f+=l(i.includeEdges),f+=l(i.includeLabels),f+=l(i.includeMainLabels),f+=l(i.includeSourceLabels),f+=l(i.includeTargetLabels),(f+=l(i.includeOverlays))+l(i.includeOutlines)},Vf=function(i){if(i.isEdge()){var s=i.source().position(),l=i.target().position(),f=function(p){return Math.round(p)};return function(i,s){var l={value:0,done:!1},f=0,h=i.length;return ff({next:function(){return f<h?l.value=i[f++]:l.done=!0,l}},void 0)}([f(s.x),f(s.y),f(l.x),f(l.y)])}return 0},jl=function(i,s){var f,l=i._private,h=i.isEdge(),m=(null==s?Ks:Bf(s))===Ks,b=Vf(i),y=l.bbCachePosKey===b,D=s.useCache&&y,E=function(R){return null==R._private.bbCache||R._private.styleDirty};if(!D||E(i)||h&&E(i.source())||E(i.target())?(y||i.recalculateRenderedStyle(D),f=function(i,s){var D,E,S,M,x,R,l=i._private.cy,f=l.styleEnabled(),h=l.headless(),p=fo(),m=i._private,b=i.isNode(),y=i.isEdge(),A=m.rstyle,P=b&&f?i.pstyle("bounds-expansion").pfValue:[0],k=function(pt){return"none"!==pt.pstyle("display").value},O=!f||k(i)&&(!y||k(i.source())&&k(i.target()));if(O){var q=0;f&&s.includeOverlays&&0!==i.pstyle("overlay-opacity").value&&(q=i.pstyle("overlay-padding").value);var $=0;f&&s.includeUnderlays&&0!==i.pstyle("underlay-opacity").value&&($=i.pstyle("underlay-padding").value);var W=Math.max(q,$),Y=0;if(f&&(Y=i.pstyle("width").pfValue/2),b&&s.includeNodes){var X=i.position();x=X.x,R=X.y;var te=i.outerWidth()/2,ue=i.outerHeight()/2;ci(p,D=x-te,S=R-ue,E=x+te,M=R+ue),f&&s.includeOutlines&&function(i,s){if(!s.cy().headless()){var l=s.pstyle("outline-opacity").value,f=s.pstyle("outline-width").value;if(l>0&&f>0){var h=s.pstyle("outline-offset").value,p=s.pstyle("shape").value,m=f+h,b=(i.w+2*m)/i.w,y=(i.h+2*m)/i.h,E=0;["diamond","pentagon","round-triangle"].includes(p)?(b=(i.w+2.4*m)/i.w,E=-m/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(p)?b=(i.w+2.4*m)/i.w:"star"===p?(b=(i.w+2.8*m)/i.w,y=(i.h+2.6*m)/i.h,E=-m/3.8):"triangle"===p?(b=(i.w+2.8*m)/i.w,y=(i.h+2.4*m)/i.h,E=-m/1.4):"vee"===p&&(b=(i.w+4.4*m)/i.w,y=(i.h+3.8*m)/i.h,E=.5*-m);var M=i.w*b-i.w;if(Ni(i,[Math.ceil((i.h*y-i.h)/2),Math.ceil(M/2)]),0!==E){var x=function(i,s,l){return{x1:i.x1+0,x2:i.x2+0,y1:i.y1+l,y2:i.y2+l,w:i.w,h:i.h}}(i,0,E);ir(i,x)}}}}(p,i)}else if(y&&s.includeEdges)if(f&&!h){var ne=i.pstyle("curve-style").strValue;if(D=Math.min(A.srcX,A.midX,A.tgtX),E=Math.max(A.srcX,A.midX,A.tgtX),S=Math.min(A.srcY,A.midY,A.tgtY),M=Math.max(A.srcY,A.midY,A.tgtY),ci(p,D-=Y,S-=Y,E+=Y,M+=Y),"haystack"===ne){var ee=A.haystackPts;if(ee&&2===ee.length){if((D=ee[0].x)>(E=ee[1].x)){var he=D;D=E,E=he}if((S=ee[0].y)>(M=ee[1].y)){var ve=S;S=M,M=ve}ci(p,D-Y,S-Y,E+Y,M+Y)}}else if("bezier"===ne||"unbundled-bezier"===ne||"segments"===ne||"taxi"===ne){var Se;switch(ne){case"bezier":case"unbundled-bezier":Se=A.bezierPts;break;case"segments":case"taxi":Se=A.linePts}if(null!=Se)for(var fe=0;fe<Se.length;fe++){var Ee=Se[fe];ci(p,D=Ee.x-Y,S=Ee.y-Y,E=Ee.x+Y,M=Ee.y+Y)}}}else{var Be=i.source().position(),Oe=i.target().position();if((D=Be.x)>(E=Oe.x)){var pe=D;D=E,E=pe}if((S=Be.y)>(M=Oe.y)){var ze=S;S=M,M=ze}ci(p,D-=Y,S-=Y,E+=Y,M+=Y)}if(f&&s.includeEdges&&y&&(Lf(p,i,"mid-source"),Lf(p,i,"mid-target"),Lf(p,i,"source"),Lf(p,i,"target")),f&&"yes"===i.pstyle("ghost").value){var Fe=i.pstyle("ghost-offset-x").pfValue,Ye=i.pstyle("ghost-offset-y").pfValue;ci(p,p.x1+Fe,p.y1+Ye,p.x2+Fe,p.y2+Ye)}var Mt=m.bodyBounds=m.bodyBounds||{};Ut(Mt,p),Ni(Mt,P),Df(Mt,1),f&&ci(p,(D=p.x1)-W,(S=p.y1)-W,(E=p.x2)+W,(M=p.y2)+W);var Lt=m.overlayBounds=m.overlayBounds||{};Ut(Lt,p),Ni(Lt,P),Df(Lt,1);var Ae=m.labelBounds=m.labelBounds||{};null!=Ae.all?function(i){i.x1=1/0,i.y1=1/0,i.x2=-1/0,i.y2=-1/0,i.w=0,i.h=0}(Ae.all):Ae.all=fo(),f&&s.includeLabels&&(s.includeMainLabels&&Yr(p,i,null),y&&(s.includeSourceLabels&&Yr(p,i,"source"),s.includeTargetLabels&&Yr(p,i,"target")))}return p.x1=Or(p.x1),p.y1=Or(p.y1),p.x2=Or(p.x2),p.y2=Or(p.y2),p.w=Or(p.x2-p.x1),p.h=Or(p.y2-p.y1),p.w>0&&p.h>0&&O&&(Ni(p,P),Df(p,1)),p}(i,Da),l.bbCache=f,l.bbCachePosKey=b):f=l.bbCache,!m){var M=i.isNode();f=fo(),(s.includeNodes&&M||s.includeEdges&&!M)&&Yi(f,s.includeOverlays?l.overlayBounds:l.bodyBounds),s.includeLabels&&(s.includeMainLabels&&(!h||s.includeSourceLabels&&s.includeTargetLabels)?Yi(f,l.labelBounds.all):(s.includeMainLabels&&Yi(f,l.labelBounds.mainRot),s.includeSourceLabels&&Yi(f,l.labelBounds.sourceRot),s.includeTargetLabels&&Yi(f,l.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Da={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Ks=Bf(Da),$f=Pr(Da);Zs.boundingBox=function(a){var i;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==a&&void 0!==a.useCache&&!0!==a.useCache){i=fo();var s=$f(a=a||Da),l=this;if(l.cy().styleEnabled())for(var p=0;p<l.length;p++){var m=l[p],b=m._private,y=Vf(m);m.recalculateRenderedStyle(s.useCache&&b.bbCachePosKey===y&&!b.styleDirty)}this.updateCompoundBounds(!a.useCache);for(var S=0;S<l.length;S++)Yi(i,jl(l[S],s))}else a=void 0===a?Da:$f(a),i=jl(this[0],a);return i.x1=Or(i.x1),i.y1=Or(i.y1),i.x2=Or(i.x2),i.y2=Or(i.y2),i.w=Or(i.x2-i.x1),i.h=Or(i.y2-i.y1),i},Zs.dirtyBoundingBoxCache=function(){for(var a=0;a<this.length;a++){var i=this[a]._private;i.bbCache=null,i.bbCachePosKey=null,i.bodyBounds=null,i.overlayBounds=null,i.labelBounds.all=null,i.labelBounds.source=null,i.labelBounds.target=null,i.labelBounds.main=null,i.labelBounds.sourceRot=null,i.labelBounds.targetRot=null,i.labelBounds.mainRot=null,i.arrowBounds.source=null,i.arrowBounds.target=null,i.arrowBounds["mid-source"]=null,i.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Zs.boundingBoxAt=function(a){var i=this.nodes(),s=this.cy(),l=s.hasCompoundNodes(),f=s.collection();if(l&&(f=i.filter(function(y){return y.isParent()}),i=i.not(f)),xt(a)){var h=a;a=function(){return h}}s.startBatch(),i.forEach(function(D,E){return D._private.bbAtOldPos=a(D,E)}).silentPositions(a),l&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var b=function(i){return{x1:i.x1,x2:i.x2,w:i.w,y1:i.y1,y2:i.y2,h:i.h}}(this.boundingBox({useCache:!1}));return i.silentPositions(function(D){return D._private.bbAtOldPos}),l&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),s.endBatch(),b},Ul.boundingbox=Ul.bb=Ul.boundingBox,Ul.renderedBoundingbox=Ul.renderedBoundingBox;var Ys,Xi,ld=Zs;Ys=Xi={};var Gl=function(i){i.uppercaseName=ka(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=ka(i.outerName),Ys[i.name]=function(){var l=this[0],f=l._private;if(l){if(f.cy._private.styleEnabled){if(l.isParent())return l.updateCompoundBounds(),f[i.autoName]||0;var m=l.pstyle(i.name);return"label"===m.strValue?(l.recalculateRenderedStyle(),f.rstyle[i.labelName]||0):m.pfValue}return 1}},Ys["outer"+i.uppercaseName]=function(){var l=this[0];if(l)return l._private.cy._private.styleEnabled?l[i.name]()+l.pstyle("border-width").pfValue+2*l.padding():1},Ys["rendered"+i.uppercaseName]=function(){var l=this[0];if(l)return l[i.name]()*this.cy().zoom()},Ys["rendered"+i.uppercaseOuterName]=function(){var l=this[0];if(l)return l[i.outerName]()*this.cy().zoom()}};Gl({name:"width"}),Gl({name:"height"}),Xi.padding=function(){var a=this[0],i=a._private;return a.isParent()?(a.updateCompoundBounds(),void 0!==i.autoPadding?i.autoPadding:a.pstyle("padding").pfValue):a.pstyle("padding").pfValue},Xi.paddedHeight=function(){var a=this[0];return a.height()+2*a.padding()},Xi.paddedWidth=function(){var a=this[0];return a.width()+2*a.padding()};var ms=Xi,Wl={controlPoints:{get:function(i){return i.renderer().getControlPoints(i)},mult:!0},segmentPoints:{get:function(i){return i.renderer().getSegmentPoints(i)},mult:!0},sourceEndpoint:{get:function(i){return i.renderer().getSourceEndpoint(i)}},targetEndpoint:{get:function(i){return i.renderer().getTargetEndpoint(i)}},midpoint:{get:function(i){return i.renderer().getEdgeMidpoint(i)}}},Uf=Object.keys(Wl).reduce(function(a,i){var s=Wl[i],l=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(i);return a[i]=function(){return function(i,s){if(i.isEdge())return s(i)}(this,s.get)},a[l]=s.mult?function(){return function(i,s){if(i.isEdge()){var l=i.cy(),f=l.pan(),h=l.zoom();return s(i).map(function(p){return Us(p,h,f)})}}(this,s.get)}:function(){return function(i,s){if(i.isEdge()){var l=i.cy();return Us(s(i),l.zoom(),l.pan())}}(this,s.get)},a},{}),Xr=Nt({},vs,ld,ms,Uf),dd=function(i,s){this.recycle(i,s)};function ys(){return!1}function No(){return!0}dd.prototype={instanceString:function(){return"event"},recycle:function(i,s){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ys,null!=i&&i.preventDefault?(this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?No:ys):null!=i&&i.type?s=i:this.type=i,null!=s&&(this.originalEvent=s.originalEvent,this.type=null!=s.type?s.type:this.type,this.cy=s.cy,this.target=s.target,this.position=s.position,this.renderedPosition=s.renderedPosition,this.namespace=s.namespace,this.layout=s.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var l=this.position,f=this.cy.zoom(),h=this.cy.pan();this.renderedPosition={x:l.x*f+h.x,y:l.y*f+h.y}}this.timeStamp=i&&i.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=No;var i=this.originalEvent;i&&i.preventDefault&&i.preventDefault()},stopPropagation:function(){this.isPropagationStopped=No;var i=this.originalEvent;i&&i.stopPropagation&&i.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=No,this.stopPropagation()},isDefaultPrevented:ys,isPropagationStopped:ys,isImmediatePropagationStopped:ys};var zf=/^([^.]+)(\.(?:[^.]+))?$/,qa={qualifierCompare:function(i,s){return i===s},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(i){return i},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},hd=Object.keys(qa),Vi={};function Gu(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi,i=arguments.length>1?arguments[1]:void 0,s=0;s<hd.length;s++){var l=hd[s];this[l]=a[l]||qa[l]}this.context=i||this.context,this.listeners=[],this.emitting=0}var ws=Gu.prototype,jf=function(i,s,l,f,h,p,m){Fn(f)&&(h=f,f=null),m&&(p=null==p?m:Nt({},p,m));for(var b=xn(l)?l:l.split(/\s+/),y=0;y<b.length;y++){var D=b[y];if(!nn(D)){var E=D.match(zf);if(E&&!1===s(i,D,E[1],E[2]?E[2]:null,f,h,p))break}}},dp=function(i,s){return i.addEventFields(i.context,s),new dd(s.type,s)};ws.on=ws.addListener=function(a,i,s,l,f){return jf(this,function(h,p,m,b,y,D,E){Fn(D)&&h.listeners.push({event:p,callback:D,type:m,namespace:b,qualifier:y,conf:E})},a,i,s,l,f),this},ws.one=function(a,i,s,l){return this.on(a,i,s,l,{one:!0})},ws.removeListener=ws.off=function(a,i,s,l){var f=this;0!==this.emitting&&(this.listeners=function(i){return i.slice()}(this.listeners));for(var h=this.listeners,p=function(y){var D=h[y];jf(f,function(E,S,M,x,R,A){if((D.type===M||"*"===a)&&(!x&&".*"!==D.namespace||D.namespace===x)&&(!R||E.qualifierCompare(D.qualifier,R))&&(!A||D.callback===A))return h.splice(y,1),!1},a,i,s,l)},m=h.length-1;m>=0;m--)p(m);return this},ws.removeAllListeners=function(){return this.removeListener("*")},ws.emit=ws.trigger=function(a,i,s){var l=this.listeners,f=l.length;return this.emitting++,xn(i)||(i=[i]),function(i,s,l){if(function(i){return"event"===Mr(i)}(l))s(i,l);else if(xt(l))s(i,dp(i,l));else for(var f=xn(l)?l:l.split(/\s+/),h=0;h<f.length;h++){var p=f[h];if(!nn(p)){var m=p.match(zf);m&&s(i,dp(i,{type:m[1],namespace:m[2]?m[2]:null,target:i.context}))}}}(this,function(h,p){null!=s&&(f=(l=[{event:p.event,type:p.type,namespace:p.namespace,callback:s}]).length);for(var m=function(D){var E=l[D];if(E.type===p.type&&(!E.namespace||E.namespace===p.namespace||".*"===E.namespace)&&h.eventMatches(h.context,E,p)){var S=[p];null!=i&&function(i,s){for(var l=0;l<s.length;l++)i.push(s[l])}(S,i),h.beforeEmit(h.context,E,p),E.conf&&E.conf.one&&(h.listeners=h.listeners.filter(function(R){return R!==E}));var M=h.callbackContext(h.context,E,p),x=E.callback.apply(M,S);h.afterEmit(h.context,E,p),!1===x&&(p.stopPropagation(),p.preventDefault())}},b=0;b<f;b++)m(b);h.bubble(h.context)&&!p.isPropagationStopped()&&h.parent(h.context).emit(p,i)},a),this.emitting--,this};var uv={qualifierCompare:function(i,s){return null==i||null==s?null==i&&null==s:i.sameText(s)},eventMatches:function(i,s,l){var f=s.qualifier;return null==f||i!==l.target&&xu(l.target)&&f.matches(l.target)},addEventFields:function(i,s){s.cy=i.cy(),s.target=i},callbackContext:function(i,s,l){return null!=s.qualifier?l.target:i},beforeEmit:function(i,s){s.conf&&s.conf.once&&s.conf.onceCollection.removeListener(s.event,s.qualifier,s.callback)},bubble:function(){return!0},parent:function(i){return i.isChild()?i.parent():i.cy()}},Js=function(i){return Qe(i)?new ya(i):i},Gf={createEmitter:function(){for(var i=0;i<this.length;i++){var s=this[i],l=s._private;l.emitter||(l.emitter=new Gu(uv,s))}return this},emitter:function(){return this._private.emitter},on:function(i,s,l){for(var f=Js(s),h=0;h<this.length;h++)this[h].emitter().on(i,f,l);return this},removeListener:function(i,s,l){for(var f=Js(s),h=0;h<this.length;h++)this[h].emitter().removeListener(i,f,l);return this},removeAllListeners:function(){for(var i=0;i<this.length;i++)this[i].emitter().removeAllListeners();return this},one:function(i,s,l){for(var f=Js(s),h=0;h<this.length;h++)this[h].emitter().one(i,f,l);return this},once:function(i,s,l){for(var f=Js(s),h=0;h<this.length;h++)this[h].emitter().on(i,f,l,{once:!0,onceCollection:this})},emit:function(i,s){for(var l=0;l<this.length;l++)this[l].emitter().emit(i,s);return this},emitAndNotify:function(i,s){if(0!==this.length)return this.cy().notify(i,this),this.emit(i,s),this}};Yt.eventAliasesOn(Gf);var wo={nodes:function(i){return this.filter(function(s){return s.isNode()}).filter(i)},edges:function(i){return this.filter(function(s){return s.isEdge()}).filter(i)},byGroup:function(){for(var i=this.spawn(),s=this.spawn(),l=0;l<this.length;l++){var f=this[l];f.isNode()?i.push(f):s.push(f)}return{nodes:i,edges:s}},filter:function(i,s){if(void 0===i)return this;if(Qe(i)||Dr(i))return new ya(i).filter(this);if(Fn(i)){for(var l=this.spawn(),f=this,h=0;h<f.length;h++){var p=f[h];(s?i.apply(s,[p,h,f]):i(p,h,f))&&l.push(p)}return l}return this.spawn()},not:function(i){if(i){Qe(i)&&(i=this.filter(i));for(var s=this.spawn(),l=0;l<this.length;l++){var f=this[l];i.has(f)||s.push(f)}return s}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(i){if(Qe(i))return this.filter(i);for(var l=this.spawn(),p=this.length<i.length,m=p?this:i,b=p?i:this,y=0;y<m.length;y++){var D=m[y];b.has(D)&&l.push(D)}return l},xor:function(i){var s=this._private.cy;Qe(i)&&(i=s.$(i));var l=this.spawn(),h=i,p=function(b,y){for(var D=0;D<b.length;D++){var E=b[D];y.hasElementWithId(E._private.data.id)||l.push(E)}};return p(this,h),p(h,this),l},diff:function(i){var s=this._private.cy;Qe(i)&&(i=s.$(i));var l=this.spawn(),f=this.spawn(),h=this.spawn(),m=i,b=function(D,E,S){for(var M=0;M<D.length;M++){var x=D[M];E.hasElementWithId(x._private.data.id)?h.merge(x):S.push(x)}};return b(this,m,l),b(m,this,f),{left:l,right:f,both:h}},add:function(i){var s=this._private.cy;if(!i)return this;if(Qe(i)){var l=i;i=s.mutableElements().filter(l)}for(var f=this.spawnSelf(),h=0;h<i.length;h++){var p=i[h];!this.has(p)&&f.push(p)}return f},merge:function(i){var s=this._private,l=s.cy;if(!i)return this;if(i&&Qe(i)){var f=i;i=l.mutableElements().filter(f)}for(var h=s.map,p=0;p<i.length;p++){var m=i[p],b=m._private.data.id;if(!h.has(b)){var D=this.length++;this[D]=m,h.set(b,{ele:m,index:D})}}return this},unmergeAt:function(i){var l=this[i].id(),h=this._private.map;if(this[i]=void 0,h.delete(l),this.length>1&&i!==this.length-1){var m=this.length-1,b=this[m],y=b._private.data.id;this[m]=void 0,this[i]=b,h.set(y,{ele:b,index:i})}return this.length--,this},unmergeOne:function(i){var h=this._private.map.get((i=i[0])._private.data.id);return h?(this.unmergeAt(h.index),this):this},unmerge:function(i){var s=this._private.cy;if(!i)return this;if(i&&Qe(i)){var l=i;i=s.mutableElements().filter(l)}for(var f=0;f<i.length;f++)this.unmergeOne(i[f]);return this},unmergeBy:function(i){for(var s=this.length-1;s>=0;s--)i(this[s])&&this.unmergeAt(s);return this},map:function(i,s){for(var l=[],f=this,h=0;h<f.length;h++){var p=f[h],m=s?i.apply(s,[p,h,f]):i(p,h,f);l.push(m)}return l},reduce:function(i,s){for(var l=s,f=this,h=0;h<f.length;h++)l=i(l,f[h],h,f);return l},max:function(i,s){for(var f,l=-1/0,h=this,p=0;p<h.length;p++){var m=h[p],b=s?i.apply(s,[m,p,h]):i(m,p,h);b>l&&(l=b,f=m)}return{value:l,ele:f}},min:function(i,s){for(var f,l=1/0,h=this,p=0;p<h.length;p++){var m=h[p],b=s?i.apply(s,[m,p,h]):i(m,p,h);b<l&&(l=b,f=m)}return{value:l,ele:f}}},Nn=wo;Nn.u=Nn["|"]=Nn["+"]=Nn.union=Nn.or=Nn.add,Nn["\\"]=Nn["!"]=Nn["-"]=Nn.difference=Nn.relativeComplement=Nn.subtract=Nn.not,Nn.n=Nn["&"]=Nn["."]=Nn.and=Nn.intersection=Nn.intersect,Nn["^"]=Nn["(+)"]=Nn["(-)"]=Nn.symmetricDifference=Nn.symdiff=Nn.xor,Nn.fnFilter=Nn.filterFn=Nn.stdFilter=Nn.filter,Nn.complement=Nn.abscomp=Nn.absoluteComplement;var i,fp=function(i,s){var f=i.cy().hasCompoundNodes();function h(D){var E=D.pstyle("z-compound-depth");return"auto"===E.value?f?D.zDepth():0:"bottom"===E.value?-1:"top"===E.value?gf:0}var p=h(i)-h(s);if(0!==p)return p;function m(D){return"auto"===D.pstyle("z-index-compare").value&&D.isNode()?1:0}var b=m(i)-m(s);if(0!==b)return b;var y=i.pstyle("z-index").value-s.pstyle("z-index").value;return 0!==y?y:i.poolIndex()-s.poolIndex()},Kl={forEach:function(i,s){if(Fn(i))for(var l=this.length,f=0;f<l;f++){var h=this[f];if(!1===(s?i.apply(s,[h,f,this]):i(h,f,this)))break}return this},toArray:function(){for(var i=[],s=0;s<this.length;s++)i.push(this[s]);return i},slice:function(i,s){var l=[],f=this.length;null==s&&(s=f),null==i&&(i=0),i<0&&(i=f+i),s<0&&(s=f+s);for(var h=i;h>=0&&h<s&&h<f;h++)l.push(this[h]);return this.spawn(l)},size:function(){return this.length},eq:function(i){return this[i]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(i){if(!Fn(i))return this;var s=this.toArray().sort(i);return this.spawn(s)},sortByZIndex:function(){return this.sort(fp)},zDepth:function(){var i=this[0];if(i){var s=i._private;if("nodes"===s.group){var f=s.data.parent?i.parents().size():0;return i.isParent()?f:gf-1}var p=s.target,m=s.source.zDepth(),b=p.zDepth();return Math.max(m,b,0)}}};Kl.each=Kl.forEach,i="undefined",(typeof Symbol>"u"?"undefined":cn(Symbol))!=i&&cn(Symbol.iterator)!=i&&(Kl[Symbol.iterator]=function(){var l=this,f={value:void 0,done:!1},h=0,p=this.length;return Tn({next:function(){return h<p?f.value=l[h++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var hp=Pr({nodeDimensionsIncludeLabels:!1}),qu={layoutDimensions:function(i){var s;if(i=hp(i),this.takesUpSpace())if(i.nodeDimensionsIncludeLabels){var l=this.boundingBox();s={w:l.w,h:l.h}}else s={w:this.outerWidth(),h:this.outerHeight()};else s={w:0,h:0};return(0===s.w||0===s.h)&&(s.w=s.h=1),s},layoutPositions:function(i,s,l){var f=this.nodes().filter(function(q){return!q.isParent()}),h=this.cy(),p=s.eles,m=function(K){return K.id()},b=Iu(l,m);i.emit({type:"layoutstart",layout:i}),i.animations=[];var D=s.spacingFactor&&1!==s.spacingFactor,S=function(){if(!D)return null;for(var K=fo(),$=0;$<f.length;$++){var U=b(f[$],$);Kg(K,U.x,U.y)}return K}(),M=Iu(function(q,K){var $=b(q,K);return D&&($=function(K,$,W){var U_x=$.x1+$.w/2,U_y=$.y1+$.h/2;return{x:U_x+(W.x-U_x)*K,y:U_y+(W.y-U_y)*K}}(Math.abs(s.spacingFactor),S,$)),null!=s.transform&&($=s.transform(q,$)),$},m);if(s.animate){for(var x=0;x<f.length;x++){var R=f[x],A=M(R,x);if(null==s.animateFilter||s.animateFilter(R,x)){var k=R.animation({position:A,duration:s.animationDuration,easing:s.animationEasing});i.animations.push(k)}else R.position(A)}if(s.fit){var O=h.animation({fit:{boundingBox:p.boundingBoxAt(M),padding:s.padding},duration:s.animationDuration,easing:s.animationEasing});i.animations.push(O)}else if(void 0!==s.zoom&&void 0!==s.pan){var V=h.animation({zoom:s.zoom,pan:s.pan,duration:s.animationDuration,easing:s.animationEasing});i.animations.push(V)}i.animations.forEach(function(q){return q.play()}),i.one("layoutready",s.ready),i.emit({type:"layoutready",layout:i}),go.all(i.animations.map(function(q){return q.promise()})).then(function(){i.one("layoutstop",s.stop),i.emit({type:"layoutstop",layout:i})})}else f.positions(M),s.fit&&h.fit(s.eles,s.padding),null!=s.zoom&&h.zoom(s.zoom),s.pan&&h.pan(s.pan),i.one("layoutready",s.ready),i.emit({type:"layoutready",layout:i}),i.one("layoutstop",s.stop),i.emit({type:"layoutstop",layout:i});return this},layout:function(i){return this.cy().makeLayout(Nt({},i,{eles:this}))}};function pp(a,i,s){var h,l=s._private,f=l.styleCache=l.styleCache||[];return null!=(h=f[a])||(h=f[a]=i(s)),h}function bo(a,i){return a=ua(a),function(l){return pp(a,i,l)}}function Wu(a,i){a=ua(a);var s=function(f){return i.call(f)};return function(){var f=this[0];if(f)return pp(a,s,f)}}qu.createLayout=qu.makeLayout=qu.layout;var Lr={recalculateRenderedStyle:function(i){var s=this.cy(),l=s.renderer(),f=s.styleEnabled();return l&&f&&l.recalculateRenderedStyle(this,i),this},dirtyStyleCache:function(){var l,i=this.cy(),s=function(h){return h._private.styleCache=null};return i.hasCompoundNodes()?((l=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(l.connectedEdges()),l.forEach(s)):this.forEach(function(f){s(f),f.connectedEdges().forEach(s)}),this},updateStyle:function(i){var s=this._private.cy;if(!s.styleEnabled())return this;if(s.batching())return s._private.batchStyleEles.merge(this),this;var h=this;i=!(!i&&void 0!==i),s.hasCompoundNodes()&&(h=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var p=h;return i?p.emitAndNotify("style"):p.emit("style"),h.forEach(function(m){return m._private.styleDirty=!0}),this},cleanStyle:function(){var i=this.cy();if(i.styleEnabled())for(var s=0;s<this.length;s++){var l=this[s];l._private.styleDirty&&(l._private.styleDirty=!1,i.style().apply(l))}},parsedStyle:function(i){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this[0],f=l.cy();if(f.styleEnabled()&&l)return this.cleanStyle(),l._private.style[i]??(s?f.style().getDefaultProperty(i):null)},numericStyle:function(i){var s=this[0];if(s.cy().styleEnabled()&&s){var l=s.pstyle(i);return void 0!==l.pfValue?l.pfValue:l.value}},numericStyleUnits:function(i){var s=this[0];if(s.cy().styleEnabled()&&s)return s.pstyle(i).units},renderedStyle:function(i){var s=this.cy();if(!s.styleEnabled())return this;var l=this[0];return l?s.style().getRenderedStyle(l,i):void 0},style:function(i,s){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style();if(xt(i))h.applyBypass(this,i,!1),this.emitAndNotify("style");else if(Qe(i)){if(void 0===s){var m=this[0];return m?h.getStylePropertyValue(m,i):void 0}h.applyBypass(this,i,s,!1),this.emitAndNotify("style")}else if(void 0===i){var b=this[0];return b?h.getRawStyle(b):void 0}return this},removeStyle:function(i){var s=this.cy();if(!s.styleEnabled())return this;var f=s.style(),h=this;if(void 0===i)for(var p=0;p<h.length;p++)f.removeAllBypasses(h[p],!1);else{i=i.split(/\s+/);for(var b=0;b<h.length;b++)f.removeBypasses(h[b],i,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var i=this.cy();if(!i.styleEnabled())return 1;var s=i.hasCompoundNodes(),l=this[0];if(l){var f=l._private,h=l.pstyle("opacity").value;if(!s)return h;var p=f.data.parent?l.parents():null;if(p)for(var m=0;m<p.length;m++)h*=p[m].pstyle("opacity").value;return h}},transparent:function(){if(!this.cy().styleEnabled())return!1;var s=this[0],l=s.cy().hasCompoundNodes();return s?l?0===s.effectiveOpacity():0===s.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Wn(a,i){var l=a._private.data.parent?a.parents():null;if(l)for(var f=0;f<l.length;f++)if(!i(l[f]))return!1;return!0}function eu(a){var i=a.ok,s=a.edgeOkViaNode||a.ok,l=a.parentOk||a.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var h=this[0],p=f.hasCompoundNodes();if(h){var m=h._private;if(!i(h))return!1;if(h.isNode())return!p||Wn(h,l);var b=m.source,y=m.target;return s(b)&&(!p||Wn(b,s))&&(b===y||s(y)&&(!p||Wn(y,s)))}}}var Ca=bo("eleTakesUpSpace",function(a){return"element"===a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});Lr.takesUpSpace=Wu("takesUpSpace",eu({ok:Ca}));var $i=bo("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&Ca(a)}),gp=bo("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&Ca(a)});Lr.interactive=Wu("interactive",eu({ok:$i,parentOk:gp,edgeOkViaNode:Ca})),Lr.noninteractive=function(){var a=this[0];if(a)return!a.interactive()};var Yl=bo("eleVisible",function(a){return"visible"===a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&Ca(a)});Lr.visible=Wu("visible",eu({ok:Yl,edgeOkViaNode:Ca})),Lr.hidden=function(){var a=this[0];if(a)return!a.visible()},Lr.isBundledBezier=Wu("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Lr.bypass=Lr.css=Lr.style,Lr.renderedCss=Lr.renderedStyle,Lr.removeBypass=Lr.removeCss=Lr.removeStyle,Lr.pstyle=Lr.parsedStyle;var Fr={};function qf(a){return function(){var i=arguments,s=[];if(2===i.length)this.on(a.event,i[0],i[1]);else if(1===i.length&&Fn(i[0]))this.on(a.event,i[0]);else if(0===i.length||1===i.length&&xn(i[0])){for(var p=1===i.length?i[0]:null,m=0;m<this.length;m++){var b=this[m],y=!a.ableField||b._private[a.ableField],D=b._private[a.field]!=a.value;if(a.overrideAble){var E=a.overrideAble(b);if(void 0!==E&&(y=E,!E))return this}y&&(b._private[a.field]=a.value,D&&s.push(b))}var S=this.spawn(s);S.updateStyle(),S.emit(a.event),p&&S.emit(p)}return this}}function Ku(a){Fr[a.field]=function(){var i=this[0];if(i){if(a.overrideField){var s=a.overrideField(i);if(void 0!==s)return s}return i._private[a.field]}},Fr[a.on]=qf({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),Fr[a.off]=qf({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}Ku({field:"locked",overrideField:function(i){return!!i.cy().autolock()||void 0},on:"lock",off:"unlock"}),Ku({field:"grabbable",overrideField:function(i){return!i.cy().autoungrabify()&&!i.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Ku({field:"selected",ableField:"selectable",overrideAble:function(i){return!i.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Ku({field:"selectable",overrideField:function(i){return!i.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Fr.deselect=Fr.unselect,Fr.grabbed=function(){var a=this[0];if(a)return a._private.grabbed},Ku({field:"active",on:"activate",off:"unactivate"}),Ku({field:"pannable",on:"panify",off:"unpanify"}),Fr.inactive=function(){var a=this[0];if(a)return!a._private.active};var di={},Wa=function(i){return function(l){for(var h=[],p=0;p<this.length;p++){var m=this[p];if(m.isNode()){for(var b=!1,y=m.connectedEdges(),D=0;D<y.length;D++){var E=y[D],S=E.source(),M=E.target();if(i.noIncomingEdges&&M===m&&S!==m||i.noOutgoingEdges&&S===m&&M!==m){b=!0;break}}b||h.push(m)}}return this.spawn(h,!0).filter(l)}},Xl=function(i){return function(s){for(var f=[],h=0;h<this.length;h++){var p=this[h];if(p.isNode())for(var m=p.connectedEdges(),b=0;b<m.length;b++){var y=m[b],D=y.source(),E=y.target();i.outgoing&&D===p?(f.push(y),f.push(E)):i.incoming&&E===p&&(f.push(y),f.push(D))}}return this.spawn(f,!0).filter(s)}},Wf=function(i){return function(s){for(var l=this,f=[],h={};;){var p=i.outgoing?l.outgoers():l.incomers();if(0===p.length)break;for(var m=!1,b=0;b<p.length;b++){var y=p[b],D=y.id();h[D]||(h[D]=!0,f.push(y),m=!0)}if(!m)break;l=p}return this.spawn(f,!0).filter(s)}};function Ql(a){return function(s){for(var l=[],f=0;f<this.length;f++){var p=this[f]._private[a.attr];p&&l.push(p)}return this.spawn(l,!0).filter(s)}}function Zf(a){return function(s){var l=[],f=this._private.cy,h=a||{};Qe(s)&&(s=f.$(s));for(var p=0;p<s.length;p++)for(var m=s[p]._private.edges,b=0;b<m.length;b++){var y=m[b],D=y._private.data,E=this.hasElementWithId(D.source)&&s.hasElementWithId(D.target),S=s.hasElementWithId(D.source)&&this.hasElementWithId(D.target);(E||S)&&((h.thisIsSrc||h.thisIsTgt)&&(h.thisIsSrc&&!E||h.thisIsTgt&&!S)||l.push(y))}return this.spawn(l,!0)}}function Jl(a){return a=Nt({},{codirected:!1},a),function(l){for(var f=[],h=this.edges(),p=a,m=0;m<h.length;m++)for(var y=h[m]._private,D=y.source,E=D._private.data.id,S=y.data.target,M=D._private.edges,x=0;x<M.length;x++){var R=M[x],A=R._private.data,P=A.target,k=A.source,O=P===S&&k===E;(p.codirected&&O||!p.codirected&&(O||E===P&&S===k))&&f.push(R)}return this.spawn(f,!0).filter(l)}}di.clearTraversalCache=function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null},Nt(di,{roots:Wa({noIncomingEdges:!0}),leaves:Wa({noOutgoingEdges:!0}),outgoers:Wo(Xl({outgoing:!0}),"outgoers"),successors:Wf({outgoing:!0}),incomers:Wo(Xl({incoming:!0}),"incomers"),predecessors:Wf({incoming:!0})}),Nt(di,{neighborhood:Wo(function(a){for(var i=[],s=this.nodes(),l=0;l<s.length;l++)for(var f=s[l],h=f.connectedEdges(),p=0;p<h.length;p++){var m=h[p],b=m.source(),y=m.target(),D=f===b?y:b;D.length>0&&i.push(D[0]),i.push(m[0])}return this.spawn(i,!0).filter(a)},"neighborhood"),closedNeighborhood:function(i){return this.neighborhood().add(this).filter(i)},openNeighborhood:function(i){return this.neighborhood(i)}}),di.neighbourhood=di.neighborhood,di.closedNeighbourhood=di.closedNeighborhood,di.openNeighbourhood=di.openNeighborhood,Nt(di,{source:Wo(function(i){var l,s=this[0];return s&&(l=s._private.source||s.cy().collection()),l&&i?l.filter(i):l},"source"),target:Wo(function(i){var l,s=this[0];return s&&(l=s._private.target||s.cy().collection()),l&&i?l.filter(i):l},"target"),sources:Ql({attr:"source"}),targets:Ql({attr:"target"})}),Nt(di,{edgesWith:Wo(Zf(),"edgesWith"),edgesTo:Wo(Zf({thisIsSrc:!0}),"edgesTo")}),Nt(di,{connectedEdges:Wo(function(a){for(var i=[],l=0;l<this.length;l++){var f=this[l];if(f.isNode())for(var h=f._private.edges,p=0;p<h.length;p++)i.push(h[p])}return this.spawn(i,!0).filter(a)},"connectedEdges"),connectedNodes:Wo(function(a){for(var i=[],l=0;l<this.length;l++){var f=this[l];f.isEdge()&&(i.push(f.source()[0]),i.push(f.target()[0]))}return this.spawn(i,!0).filter(a)},"connectedNodes"),parallelEdges:Wo(Jl(),"parallelEdges"),codirectedEdges:Wo(Jl({codirected:!0}),"codirectedEdges")}),Nt(di,{components:function(i){var s=this,l=s.cy(),f=l.collection(),h=null==i?s.nodes():i.nodes(),p=[];null!=i&&h.empty()&&(h=i.sources());var m=function(D,E){f.merge(D),h.unmerge(D),E.merge(D)};if(h.empty())return s.spawn();var b=function(){var D=l.collection();p.push(D);var E=h[0];m(E,D),s.bfs({directed:!1,roots:E,visit:function(M){return m(M,D)}}),D.forEach(function(S){S.connectedEdges().forEach(function(M){s.has(M)&&D.has(M.source())&&D.has(M.target())&&D.merge(M)})})};do{b()}while(h.length>0);return p},component:function(){var i=this[0];return i.cy().mutableElements().components(i)[0]}}),di.componentsOf=di.components;var Pt=function(i,s){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==i){var h=new la,p=!1;if(s){if(s.length>0&&xt(s[0])&&!xu(s[0])){p=!0;for(var m=[],b=new ku,y=0,D=s.length;y<D;y++){var E=s[y];null==E.data&&(E.data={});var S=E.data;if(null==S.id)S.id=Wh();else if(i.hasElementWithId(S.id)||b.has(S.id))continue;var M=new Sl(i,E,!1);m.push(M),b.add(S.id)}s=m}}else s=[];this.length=0;for(var x=0,R=s.length;x<R;x++){var A=s[x][0];if(null!=A){var P=A._private.data.id;(!l||!h.has(P))&&(l&&h.set(P,{index:this.length,ele:A}),this[this.length]=A,this.length++)}}this._private={eles:this,cy:i,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(k){this.lazyMap=k},rebuildMap:function(){for(var O=this.lazyMap=new la,V=this.eles,q=0;q<V.length;q++){var K=V[q];O.set(K.id(),{index:q,ele:K})}}},l&&(this._private.map=h),p&&!f&&this.restore()}else Vn("A collection must have a reference to the core")},ht=Sl.prototype=Pt.prototype=Object.create(Array.prototype);ht.instanceString=function(){return"collection"},ht.spawn=function(a,i){return new Pt(this.cy(),a,i)},ht.spawnSelf=function(){return this.spawn(this)},ht.cy=function(){return this._private.cy},ht.renderer=function(){return this._private.cy.renderer()},ht.element=function(){return this[0]},ht.collection=function(){return sf(this)?this:new Pt(this._private.cy,[this])},ht.unique=function(){return new Pt(this._private.cy,this,!0)},ht.hasElementWithId=function(a){return this._private.map.has(a=""+a)},ht.getElementById=function(a){var i=this._private.cy,s=this._private.map.get(a=""+a);return s?s.ele:new Pt(i)},ht.$id=ht.getElementById,ht.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},ht.indexOf=function(a){return this._private.map.get(a[0]._private.data.id).index},ht.indexOfId=function(a){return this._private.map.get(a=""+a).index},ht.json=function(a){var i=this.element(),s=this.cy();if(null==i&&a)return this;if(null!=i){var l=i._private;if(xt(a)){if(s.startBatch(),a.data){i.data(a.data);var f=l.data;if(i.isEdge()){var h=!1,p={},m=a.data.source,b=a.data.target;null!=m&&m!=f.source&&(p.source=""+m,h=!0),null!=b&&b!=f.target&&(p.target=""+b,h=!0),h&&(i=i.move(p))}else{var D=a.data.parent;"parent"in a.data&&(null!=D||null!=f.parent)&&D!=f.parent&&(void 0===D&&(D=null),null!=D&&(D=""+D),i=i.move({parent:D}))}}a.position&&i.position(a.position);var E=function(R,A,P){var k=a[R];null!=k&&k!==l[R]&&(k?i[A]():i[P]())};return E("removed","remove","restore"),E("selected","select","unselect"),E("selectable","selectify","unselectify"),E("locked","lock","unlock"),E("grabbable","grabify","ungrabify"),E("pannable","panify","unpanify"),null!=a.classes&&i.classes(a.classes),s.endBatch(),this}if(void 0===a){var S={data:jr(l.data),position:jr(l.position),group:l.group,removed:l.removed,selected:l.selected,selectable:l.selectable,locked:l.locked,grabbable:l.grabbable,pannable:l.pannable,classes:""},M=0;return l.classes.forEach(function(x){return S.classes+=0==M++?x:" "+x}),S}}},ht.jsons=function(){for(var a=[],i=0;i<this.length;i++){var l=this[i].json();a.push(l)}return a},ht.clone=function(){for(var a=this.cy(),i=[],s=0;s<this.length;s++){var f=this[s].json(),h=new Sl(a,f,!1);i.push(h)}return new Pt(a,i)},ht.copy=ht.clone,ht.restore=function(){for(var m,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,l=s.cy(),f=l._private,h=[],p=[],b=0,y=s.length;b<y;b++){var D=s[b];i&&!D.removed()||(D.isNode()?h.push(D):p.push(D))}m=h.concat(p);var E,S=function(){m.splice(E,1),E--};for(E=0;E<m.length;E++){var M=m[E],x=M._private,R=x.data;if(M.clearTraversalCache(),i||x.removed)if(void 0===R.id)R.id=Wh();else if(ot(R.id))R.id=""+R.id;else{if(nn(R.id)||!Qe(R.id)){Vn("Can not create element with invalid string ID `"+R.id+"`"),S();continue}if(l.hasElementWithId(R.id)){Vn("Can not create second element with ID `"+R.id+"`"),S();continue}}var A=R.id;if(M.isNode()){var P=x.position;null==P.x&&(P.x=0),null==P.y&&(P.y=0)}if(M.isEdge()){for(var k=M,O=["source","target"],V=O.length,q=!1,K=0;K<V;K++){var $=O[K],W=R[$];ot(W)&&(W=R[$]=""+R[$]),null==W||""===W?(Vn("Can not create edge `"+A+"` with unspecified "+$),q=!0):l.hasElementWithId(W)||(Vn("Can not create edge `"+A+"` with nonexistant "+$+" `"+W+"`"),q=!0)}if(q){S();continue}var U=l.getElementById(R.source),Y=l.getElementById(R.target);U.same(Y)?U._private.edges.push(k):(U._private.edges.push(k),Y._private.edges.push(k)),k._private.source=U,k._private.target=Y}x.map=new la,x.map.set(A,{ele:M,index:0}),x.removed=!1,i&&l.addToPool(M)}for(var X=0;X<h.length;X++){var G=h[X],te=G._private.data;ot(te.parent)&&(te.parent=""+te.parent);var Z=te.parent;if(null!=Z||G._private.parent){var ne=G._private.parent?l.collection().merge(G._private.parent):l.getElementById(Z);if(ne.empty())te.parent=void 0;else if(ne[0].removed())Zt("Node added with missing parent, reference to parent removed"),te.parent=void 0,G._private.parent=null;else{for(var ee=!1,he=ne;!he.empty();){if(G.same(he)){ee=!0,te.parent=void 0;break}he=he.parent()}ee||(ne[0]._private.children.push(G),G._private.parent=ne[0],f.hasCompoundNodes=!0)}}}if(m.length>0){for(var ve=m.length===s.length?s:new Pt(l,m),Se=0;Se<ve.length;Se++){var fe=ve[Se];fe.isNode()||(fe.parallelEdges().clearTraversalCache(),fe.source().clearTraversalCache(),fe.target().clearTraversalCache())}(f.hasCompoundNodes?l.collection().merge(ve).merge(ve.connectedNodes()).merge(ve.parent()):ve).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(a),a?ve.emitAndNotify("add"):i&&ve.emit("add")}return s},ht.removed=function(){var a=this[0];return a&&a._private.removed},ht.inside=function(){var a=this[0];return a&&!a._private.removed},ht.remove=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,l=[],f={},h=s._private.cy;function b(Z){var ue=f[Z.id()];i&&Z.removed()||ue||(f[Z.id()]=!0,Z.isNode()?(l.push(Z),function p(Z){for(var ue=Z._private.edges,ne=0;ne<ue.length;ne++)b(ue[ne])}(Z),function m(Z){for(var ue=Z._private.children,ne=0;ne<ue.length;ne++)b(ue[ne])}(Z)):l.unshift(Z))}for(var y=0,D=s.length;y<D;y++)b(s[y]);function S(Z,ue){xo(Z._private.edges,ue),Z.clearTraversalCache()}var x=[];function R(Z,ue){ue=ue[0];var ne=(Z=Z[0])._private.children,ee=Z.id();xo(ne,ue),ue._private.parent=null,x.ids[ee]||(x.ids[ee]=!0,x.push(Z))}x.ids={},s.dirtyCompoundBoundsCache(),i&&h.removeFromPool(l);for(var A=0;A<l.length;A++){var P=l[A];if(P.isEdge()){var k=P.source()[0],O=P.target()[0];S(k,P),S(O,P);for(var V=P.parallelEdges(),q=0;q<V.length;q++){var K=V[q];K.clearTraversalCache(),K.isBundledBezier()&&K.dirtyBoundingBoxCache()}}else{var $=P.parent();0!==$.length&&R($,P)}i&&(P._private.removed=!0)}var W=h._private.elements;h._private.hasCompoundNodes=!1;for(var U=0;U<W.length;U++)if(W[U].isParent()){h._private.hasCompoundNodes=!0;break}var X=new Pt(this.cy(),l);X.size()>0&&(a?X.emitAndNotify("remove"):i&&X.emit("remove"));for(var G=0;G<x.length;G++){var te=x[G];(!i||!te.removed())&&te.updateStyle()}return X},ht.move=function(a){var i=this._private.cy,s=this,l=!1,f=!1,h=function(x){return null==x?x:""+x};if(void 0!==a.source||void 0!==a.target){var p=h(a.source),m=h(a.target),b=null!=p&&i.hasElementWithId(p),y=null!=m&&i.hasElementWithId(m);(b||y)&&(i.batch(function(){s.remove(l,f),s.emitAndNotify("moveout");for(var M=0;M<s.length;M++){var x=s[M],R=x._private.data;x.isEdge()&&(b&&(R.source=p),y&&(R.target=m))}s.restore(l,f)}),s.emitAndNotify("move"))}else if(void 0!==a.parent){var D=h(a.parent);if(null===D||i.hasElementWithId(D)){var S=null===D?void 0:D;i.batch(function(){var M=s.remove(l,f);M.emitAndNotify("moveout");for(var x=0;x<s.length;x++){var R=s[x],A=R._private.data;R.isNode()&&(A.parent=S)}M.restore(l,f)}),s.emitAndNotify("move")}}return this},[ps,zu,mr,gs,ju,Km,Of,Xr,Gf,wo,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var i=this[0];if(i)return i._private.group}},Kl,qu,Lr,Fr,di].forEach(function(a){Nt(ht,a)});var vp={add:function(i){var s,l=this;if(Dr(i)){var f=i;if(f._private.cy===l)s=f.restore();else{for(var h=[],p=0;p<f.length;p++)h.push(f[p].json());s=new Pt(l,h)}}else if(xn(i))s=new Pt(l,i);else if(xt(i)&&(xn(i.nodes)||xn(i.edges))){for(var y=i,D=[],E=["nodes","edges"],S=0,M=E.length;S<M;S++){var x=E[S],R=y[x];if(xn(R))for(var A=0,P=R.length;A<P;A++){var k=Nt({group:x},R[A]);D.push(k)}}s=new Pt(l,D)}else s=new Sl(l,i).collection();return s},remove:function(i){return Dr(i)||Qe(i)&&(i=this.$(i)),i.remove()}};function vd(a,i,s,l){var y=.1,D=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var E=0;E<4;++E)if("number"!=typeof arguments[E]||isNaN(arguments[E])||!isFinite(arguments[E]))return!1;a=Math.min(a,1),s=Math.min(s,1),a=Math.max(a,0),s=Math.max(s,0);var S=D?new Float32Array(11):new Array(11);function M(Y,X){return 1-3*X+3*Y}function x(Y,X){return 3*X-6*Y}function R(Y){return 3*Y}function A(Y,X,G){return((M(X,G)*Y+x(X,G))*Y+R(X))*Y}function P(Y,X,G){return 3*M(X,G)*Y*Y+2*x(X,G)*Y+R(X)}var K=!1;var W=function(X){return K||function $(){K=!0,(a!==i||s!==l)&&function O(){for(var Y=0;Y<11;++Y)S[Y]=A(Y*y,a,s)}()}(),a===i&&s===l?X:0===X?0:1===X?1:A(function q(Y){for(var X=0,G=1;10!==G&&S[G]<=Y;++G)X+=y;--G;var ue=X+(Y-S[G])/(S[G+1]-S[G])*y,ne=P(ue,a,s);return ne>=.001?function k(Y,X){for(var G=0;G<4;++G){var te=P(X,a,s);if(0===te)return X;X-=(A(X,a,s)-Y)/te}return X}(Y,ue):0===ne?ue:function V(Y,X,G){var te,Z,ue=0;do{(te=A(Z=X+(G-X)/2,a,s)-Y)>0?G=Z:X=Z}while(Math.abs(te)>1e-7&&++ue<10);return Z}(Y,X,X+y)}(X),i,l)};W.getControlPoints=function(){return[{x:a,y:i},{x:s,y:l}]};var U="generateBezier("+[a,i,s,l]+")";return W.toString=function(){return U},W}var mp=function(){function a(l){return-l.tension*l.x-l.friction*l.v}function i(l,f,h){var p={x:l.x+h.dx*f,v:l.v+h.dv*f,tension:l.tension,friction:l.friction};return{dx:p.v,dv:a(p)}}function s(l,f){var h={dx:l.v,dv:a(l)},p=i(l,.5*f,h),m=i(l,.5*f,p),b=i(l,f,m),D=1/6*(h.dv+2*(p.dv+m.dv)+b.dv);return l.x=l.x+1/6*(h.dx+2*(p.dx+m.dx)+b.dx)*f,l.v=l.v+D*f,l}return function l(f,h,p){var S,M,x,m={x:-1,v:0,tension:null,friction:null},b=[0],y=0,D=1e-4;for(f=parseFloat(f)||500,h=parseFloat(h)||20,p=p||null,m.tension=f,m.friction=h,M=(S=null!==p)?(y=l(f,h))/p*.016:.016;x=s(x||m,M),b.push(1+x.x),y+=16,Math.abs(x.x)>D&&Math.abs(x.v)>D;);return S?function(R){return b[R*(b.length-1)|0]}:y}}(),or=function(i,s,l,f){var h=vd(i,s,l,f);return function(p,m,b){return p+(m-p)*h(b)}},md={linear:function(i,s,l){return i+(s-i)*l},ease:or(.25,.1,.25,1),"ease-in":or(.42,0,1,1),"ease-out":or(0,0,.58,1),"ease-in-out":or(.42,0,.58,1),"ease-in-sine":or(.47,0,.745,.715),"ease-out-sine":or(.39,.575,.565,1),"ease-in-out-sine":or(.445,.05,.55,.95),"ease-in-quad":or(.55,.085,.68,.53),"ease-out-quad":or(.25,.46,.45,.94),"ease-in-out-quad":or(.455,.03,.515,.955),"ease-in-cubic":or(.55,.055,.675,.19),"ease-out-cubic":or(.215,.61,.355,1),"ease-in-out-cubic":or(.645,.045,.355,1),"ease-in-quart":or(.895,.03,.685,.22),"ease-out-quart":or(.165,.84,.44,1),"ease-in-out-quart":or(.77,0,.175,1),"ease-in-quint":or(.755,.05,.855,.06),"ease-out-quint":or(.23,1,.32,1),"ease-in-out-quint":or(.86,0,.07,1),"ease-in-expo":or(.95,.05,.795,.035),"ease-out-expo":or(.19,1,.22,1),"ease-in-out-expo":or(1,0,0,1),"ease-in-circ":or(.6,.04,.98,.335),"ease-out-circ":or(.075,.82,.165,1),"ease-in-out-circ":or(.785,.135,.15,.86),spring:function(i,s,l){if(0===l)return md.linear;var f=mp(i,s,l);return function(h,p,m){return h+(p-h)*f(m)}},"cubic-bezier":or};function Qi(a,i,s,l,f){if(1===l||i===s)return s;var h=f(i,s,l);return null==a||((a.roundValue||a.color)&&(h=Math.round(h)),void 0!==a.min&&(h=Math.max(h,a.min)),void 0!==a.max&&(h=Math.min(h,a.max))),h}function tu(a,i){return null!=a.pfValue||null!=a.value?null==a.pfValue||null!=i&&"%"===i.type.units?a.value:a.pfValue:a}function Za(a,i,s,l,f){var h=null!=f?f.type:null;s<0?s=0:s>1&&(s=1);var p=tu(a,f),m=tu(i,f);if(ot(p)&&ot(m))return Qi(h,p,m,s,l);if(xn(p)&&xn(m)){for(var b=[],y=0;y<m.length;y++){var D=p[y],E=m[y];if(null!=D&&null!=E){var S=Qi(h,D,E,s,l);b.push(S)}else b.push(E)}return b}}function Kf(a,i,s,l){var f=!l,h=a._private,p=i._private,m=p.easing,b=p.startTime,D=(l?a:a.cy()).style();if(!p.easingImpl)if(null==m)p.easingImpl=md.linear;else{var E,M,x;E=Qe(m)?D.parse("transition-timing-function",m).value:m,Qe(E)?(M=E,x=[]):(M=E[1],x=E.slice(2).map(function(ve){return+ve})),x.length>0?("spring"===M&&x.push(p.duration),p.easingImpl=md[M].apply(null,x)):p.easingImpl=md[M]}var A,R=p.easingImpl;if(A=0===p.duration?1:(s-b)/p.duration,p.applying&&(A=p.progress),A<0?A=0:A>1&&(A=1),null==p.delay){var P=p.startPosition,k=p.position;if(k&&f&&!a.locked()){var O={};Yu(P.x,k.x)&&(O.x=Za(P.x,k.x,A,R)),Yu(P.y,k.y)&&(O.y=Za(P.y,k.y,A,R)),a.position(O)}var V=p.startPan,q=p.pan,K=h.pan,$=null!=q&&l;$&&(Yu(V.x,q.x)&&(K.x=Za(V.x,q.x,A,R)),Yu(V.y,q.y)&&(K.y=Za(V.y,q.y,A,R)),a.emit("pan"));var W=p.startZoom,U=p.zoom,Y=null!=U&&l;Y&&(Yu(W,U)&&(h.zoom=Zc(h.minZoom,Za(W,U,A,R),h.maxZoom)),a.emit("zoom")),($||Y)&&a.emit("viewport");var X=p.style;if(X&&X.length>0&&f){for(var G=0;G<X.length;G++){var te=X[G],Z=te.name,ne=p.startStyle[Z],he=Za(ne,te,A,R,D.properties[ne.name]);D.overrideBypass(a,Z,he)}a.emit("style")}}return p.progress=A,A}function Yu(a,i){return!!(null!=a&&null!=i&&(ot(a)&&ot(i)||a&&i))}function yp(a,i,s,l){var f=i._private;f.started=!0,f.startTime=s-f.progress*f.duration}function Ji(a,i){var s=i._private.aniEles,l=[];function f(D,E){var S=D._private,M=S.animation.current,x=S.animation.queue,R=!1;if(0===M.length){var A=x.shift();A&&M.push(A)}for(var P=function(K){for(var $=K.length-1;$>=0;$--)(0,K[$])();K.splice(0,K.length)},k=M.length-1;k>=0;k--){var O=M[k],V=O._private;V.stopped?(M.splice(k,1),V.hooked=!1,V.playing=!1,V.started=!1,P(V.frames)):!V.playing&&!V.applying||(V.playing&&V.applying&&(V.applying=!1),V.started||yp(0,O,a),Kf(D,O,a,E),V.applying&&(V.applying=!1),P(V.frames),null!=V.step&&V.step(a),O.completed()&&(M.splice(k,1),V.hooked=!1,V.playing=!1,V.started=!1,P(V.completes)),R=!0)}return!E&&0===M.length&&0===x.length&&l.push(D),R}for(var h=!1,p=0;p<s.length;p++){var b=f(s[p]);h=h||b}var y=f(i,!0);(h||y)&&(s.length>0?i.notify("draw",s):i.notify("draw")),s.unmerge(l),i.emit("step")}var Le={animate:Yt.animate(),animation:Yt.animation(),animated:Yt.animated(),clearQueue:Yt.clearQueue(),delay:Yt.delay(),delayAnimation:Yt.delayAnimation(),stop:Yt.stop(),addToAnimationPool:function(i){this.styleEnabled()&&this._private.aniEles.merge(i)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var i=this;if(i._private.animationsRunning=!0,i.styleEnabled()){var l=i.renderer();l&&l.beforeRender?l.beforeRender(function(h,p){Ji(p,i)},l.beforeRenderPriorities.animations):function s(){i._private.animationsRunning&&$c(function(h){Ji(h,i),s()})}()}}},_n={qualifierCompare:function(i,s){return null==i||null==s?null==i&&null==s:i.sameText(s)},eventMatches:function(i,s,l){var f=s.qualifier;return null==f||i!==l.target&&xu(l.target)&&f.matches(l.target)},addEventFields:function(i,s){s.cy=i,s.target=i},callbackContext:function(i,s,l){return null!=s.qualifier?l.target:i}},ec=function(i){return Qe(i)?new ya(i):i},tc={createEmitter:function(){var i=this._private;return i.emitter||(i.emitter=new Gu(_n,this)),this},emitter:function(){return this._private.emitter},on:function(i,s,l){return this.emitter().on(i,ec(s),l),this},removeListener:function(i,s,l){return this.emitter().removeListener(i,ec(s),l),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(i,s,l){return this.emitter().one(i,ec(s),l),this},once:function(i,s,l){return this.emitter().one(i,ec(s),l),this},emit:function(i,s){return this.emitter().emit(i,s),this},emitAndNotify:function(i,s){return this.emit(i),this.notify(i,s),this}};Yt.eventAliasesOn(tc);var Br={png:function(i){return this._private.renderer.png(i=i||{})},jpg:function(i){var s=this._private.renderer;return(i=i||{}).bg=i.bg||"#fff",s.jpg(i)}};Br.jpeg=Br.jpg;var nu={layout:function(i){var s=this;if(null!=i)if(null!=i.name){var h,l=i.name,f=s.extension("layout",l);if(null!=f)return h=Qe(i.eles)?s.$(i.eles):null!=i.eles?i.eles:s.$(),new f(Nt({},i,{cy:s,eles:h}));Vn("No such layout `"+l+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Vn("A `name` must be specified to make a layout");else Vn("Layout options must be specified to make a layout")}};nu.createLayout=nu.makeLayout=nu.layout;var Xu={notify:function(i,s){var l=this._private;if(this.batching()){l.batchNotifications=l.batchNotifications||{};var f=l.batchNotifications[i]=l.batchNotifications[i]||this.collection();null!=s&&f.merge(s)}else if(l.notificationsEnabled){var h=this.renderer();this.destroyed()||!h||h.notify(i,s)}},notifications:function(i){var s=this._private;return void 0===i?s.notificationsEnabled:(s.notificationsEnabled=!!i,this)},noNotifications:function(i){this.notifications(!1),i(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var i=this._private;return null==i.batchCount&&(i.batchCount=0),0===i.batchCount&&(i.batchStyleEles=this.collection(),i.batchNotifications={}),i.batchCount++,this},endBatch:function(){var i=this._private;if(0===i.batchCount)return this;if(i.batchCount--,0===i.batchCount){i.batchStyleEles.updateStyle();var s=this.renderer();Object.keys(i.batchNotifications).forEach(function(l){var f=i.batchNotifications[l];f.empty()?s.notify(l):s.notify(l,f)})}return this},batch:function(i){return this.startBatch(),i(),this.endBatch(),this},batchData:function(i){var s=this;return this.batch(function(){for(var l=Object.keys(i),f=0;f<l.length;f++){var h=l[f],p=i[h];s.getElementById(h).data(p)}})}},Po=Pr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),ru={renderTo:function(i,s,l,f){return this._private.renderer.renderTo(i,s,l,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(i){var s=this,l=s.extension("renderer",i.name);if(null!=l){void 0!==i.wheelSensitivity&&Zt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=Po(i);f.cy=s,s._private.renderer=new l(f),this.notify("init")}else Vn("Can not initialise: No such renderer `".concat(i.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var i=this;i.notify("destroy");var s=i.container();if(s)for(s._cyreg=null;s.childNodes.length>0;)s.removeChild(s.childNodes[0]);i._private.renderer=null,i.mutableElements().forEach(function(l){var f=l._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(i){return this.on("render",i)},offRender:function(i){return this.off("render",i)}};ru.invalidateDimensions=ru.resize;var Do={collection:function(i,s){return Qe(i)?this.$(i):Dr(i)?i.collection():xn(i)?(s||(s={}),new Pt(this,i,s.unique,s.removed)):new Pt(this)},nodes:function(i){var s=this.$(function(l){return l.isNode()});return i?s.filter(i):s},edges:function(i){var s=this.$(function(l){return l.isEdge()});return i?s.filter(i):s},$:function(i){var s=this._private.elements;return i?s.filter(i):s.spawnSelf()},mutableElements:function(){return this._private.elements}};Do.elements=Do.filter=Do.$;var Si={apply:function(a){for(var i=this,f=i._private.cy.collection(),h=0;h<a.length;h++){var p=a[h],m=i.getContextMeta(p);if(!m.empty){var b=i.getContextStyle(m),y=i.applyContextStyle(m,b,p);p._private.appliedInitStyle?i.updateTransitions(p,y.diffProps):p._private.appliedInitStyle=!0,i.updateStyleHints(p)&&f.push(p)}}return f},getPropertiesDiff:function(a,i){var s=this,l=s._private.propDiffs=s._private.propDiffs||{},f=a+"-"+i,h=l[f];if(h)return h;for(var p=[],m={},b=0;b<s.length;b++){var y=s[b],E="t"===i[b],S="t"===a[b]!==E,M=y.mappedProperties.length>0;if(S||E&&M){var x=void 0;S&&M||S?x=y.properties:M&&(x=y.mappedProperties);for(var R=0;R<x.length;R++){for(var A=x[R],P=A.name,k=!1,O=b+1;O<s.length&&("t"!==i[O]||!(k=null!=s[O].properties[A.name]));O++);!m[P]&&!k&&(m[P]=!0,p.push(P))}}}return l[f]=p,p},getContextMeta:function(a){for(var l,i=this,s="",f=a._private.styleCxtKey||"",h=0;h<i.length;h++){var p=i[h];s+=p.selector&&p.selector.matches(a)?"t":"f"}return l=i.getPropertiesDiff(f,s),a._private.styleCxtKey=s,{key:s,diffPropNames:l,empty:0===l.length}},getContextStyle:function(a){var i=a.key,l=this._private.contextStyles=this._private.contextStyles||{};if(l[i])return l[i];for(var f={_private:{key:i}},h=0;h<this.length;h++){var p=this[h];if("t"===i[h])for(var b=0;b<p.properties.length;b++){var y=p.properties[b];f[y.name]=y}}return l[i]=f,f},applyContextStyle:function(a,i,s){for(var f=a.diffPropNames,h={},p=this.types,m=0;m<f.length;m++){var b=f[m],y=i[b],D=s.pstyle(b);if(!y){if(!D)continue;y=D.bypass?{name:b,deleteBypassed:!0}:{name:b,delete:!0}}if(D!==y){if(y.mapped===p.fn&&null!=D&&null!=D.mapping&&D.mapping.value===y.value){var E=D.mapping;if((E.fnValue=y.value(s))===E.prevFnValue)continue}var M=h[b]={prev:D};this.applyParsedProperty(s,y),M.next=s.pstyle(b),M.next&&M.next.bypass&&(M.next=M.next.bypassed)}}return{diffProps:h}},updateStyleHints:function(a){var l,i=a._private,s=this,f=s.propertyGroupKeys,h=function(Ye,Mt,Lt){return s.getPropertiesHash(Ye,Mt,Lt)},p=i.styleKey;if(a.removed())return!1;var Ye,m="nodes"===i.group,b=a._private.style;l=Object.keys(b);for(var y=0;y<f.length;y++)i.styleKeys[f[y]]=[Hs,Hc];for(var E=function(Ye,Mt){return i.styleKeys[Mt][0]=Ru(Ye,i.styleKeys[Mt][0])},S=function(Ye,Mt){return i.styleKeys[Mt][1]=Nu(Ye,i.styleKeys[Mt][1])},M=function(Ye,Mt){E(Ye,Mt),S(Ye,Mt)},x=function(Ye,Mt){for(var Lt=0;Lt<Ye.length;Lt++){var Ae=Ye.charCodeAt(Lt);E(Ae,Mt),S(Ae,Mt)}},P=0;P<l.length;P++){var k=l[P],O=b[k];if(null!=O){var V=this.properties[k],q=V.type,K=V.groupKey,$=void 0;null!=V.hashOverride?$=V.hashOverride(a,O):null!=O.pfValue&&($=O.pfValue);var W=null==V.enums?O.value:null,U=null!=$,G=O.units;!q.number||!U&&null==W||q.multiple?x(O.strValue,K):(M(-128<(Ye=U?$:W)&&Ye<128&&Math.floor(Ye)!==Ye?2e9-(1024*Ye|0):Ye,K),!U&&null!=G&&x(G,K))}}for(var Z=[Hs,Hc],ue=0;ue<f.length;ue++){var ee=i.styleKeys[f[ue]];Z[0]=Ru(ee[0],Z[0]),Z[1]=Nu(ee[1],Z[1])}i.styleKey=function(i,s){return 2097152*i+s}(Z[0],Z[1]);var he=i.styleKeys;i.labelDimsKey=Fa(he.labelDimensions);var ve=h(a,["label"],he.labelDimensions);if(i.labelKey=Fa(ve),i.labelStyleKey=Fa(Uc(he.commonLabel,ve)),!m){var Se=h(a,["source-label"],he.labelDimensions);i.sourceLabelKey=Fa(Se),i.sourceLabelStyleKey=Fa(Uc(he.commonLabel,Se));var fe=h(a,["target-label"],he.labelDimensions);i.targetLabelKey=Fa(fe),i.targetLabelStyleKey=Fa(Uc(he.commonLabel,fe))}if(m){var Ee=i.styleKeys,ze=Ee.pie,Ge=[Ee.nodeBody,Ee.nodeBorder,Ee.nodeOutline,Ee.backgroundImage,Ee.compound,ze].filter(function(Fe){return null!=Fe}).reduce(Uc,[Hs,Hc]);i.nodeKey=Fa(Ge),i.hasPie=null!=ze&&ze[0]!==Hs&&ze[1]!==Hc}return p!==i.styleKey},clearStyleHints:function(a){var i=a._private;i.styleCxtKey="",i.styleKeys={},i.styleKey=null,i.labelKey=null,i.labelStyleKey=null,i.sourceLabelKey=null,i.sourceLabelStyleKey=null,i.targetLabelKey=null,i.targetLabelStyleKey=null,i.nodeKey=null,i.hasPie=null},applyParsedProperty:function(a,i){var h,s=this,l=i,f=a._private.style,p=s.types,m=s.properties[l.name].type,b=l.bypass,y=f[l.name],D=y&&y.bypass,E=a._private,S="mapping",M=function(Ne){return null==Ne?null:null!=Ne.pfValue?Ne.pfValue:Ne.value},x=function(){var Ne=M(y),Be=M(l);s.checkTriggers(a,l.name,Ne,Be)};if("curve-style"===i.name&&a.isEdge()&&("bezier"!==i.value&&a.isLoop()||"haystack"===i.value&&(a.source().isParent()||a.target().isParent()))&&(l=i=this.parse(i.name,"bezier",b)),l.delete)return f[l.name]=void 0,x(),!0;if(l.deleteBypassed)return y?!!y.bypass&&(y.bypassed=void 0,x(),!0):(x(),!0);if(l.deleteBypass)return y?!!y.bypass&&(f[l.name]=y.bypassed,x(),!0):(x(),!0);var R=function(){Zt("Do not assign mappings to elements without corresponding data (i.e. ele `"+a.id()+"` has no mapping for property `"+l.name+"` with data field `"+l.field+"`); try a `["+l.field+"]` selector to limit scope to elements with `"+l.field+"` defined")};switch(l.mapped){case p.mapData:for(var A=l.field.split("."),P=E.data,k=0;k<A.length&&P;k++)P=P[A[k]];if(null==P)return R(),!1;var V;if(!ot(P))return Zt("Do not use continuous mappers without specifying numeric data (i.e. `"+l.field+": "+P+"` for `"+a.id()+"` is non-numeric)"),!1;var q=l.fieldMax-l.fieldMin;if((V=0===q?0:(P-l.fieldMin)/q)<0?V=0:V>1&&(V=1),m.color){var K=l.valueMin[0],W=l.valueMin[1],U=l.valueMax[1],Y=l.valueMin[2],X=l.valueMax[2],G=null==l.valueMin[3]?1:l.valueMin[3],te=null==l.valueMax[3]?1:l.valueMax[3],Z=[Math.round(K+(l.valueMax[0]-K)*V),Math.round(W+(U-W)*V),Math.round(Y+(X-Y)*V),Math.round(G+(te-G)*V)];h={bypass:l.bypass,name:l.name,value:Z,strValue:"rgb("+Z[0]+", "+Z[1]+", "+Z[2]+")"}}else{if(!m.number)return!1;h=this.parse(l.name,l.valueMin+(l.valueMax-l.valueMin)*V,l.bypass,S)}if(!h)return R(),!1;h.mapping=l,l=h;break;case p.data:for(var ne=l.field.split("."),ee=E.data,he=0;he<ne.length&&ee;he++)ee=ee[ne[he]];if(null!=ee&&(h=this.parse(l.name,ee,l.bypass,S)),!h)return R(),!1;h.mapping=l,l=h;break;case p.fn:var fe=null!=l.fnValue?l.fnValue:(0,l.value)(a);if(l.prevFnValue=fe,null==fe)return Zt("Custom function mappers may not return null (i.e. `"+l.name+"` for ele `"+a.id()+"` is null)"),!1;if(!(h=this.parse(l.name,fe,l.bypass,S)))return Zt("Custom function mappers may not return invalid values for the property type (i.e. `"+l.name+"` for ele `"+a.id()+"` is invalid)"),!1;h.mapping=jr(l),l=h;break;case void 0:break;default:return!1}return b?(l.bypassed=D?y.bypassed:y,f[l.name]=l):D?y.bypassed=l:f[l.name]=l,x(),!0},cleanElements:function(a,i){for(var s=0;s<a.length;s++){var l=a[s];if(this.clearStyleHints(l),l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),i)for(var f=l._private.style,h=Object.keys(f),p=0;p<h.length;p++){var m=h[p],b=f[m];null!=b&&(b.bypass?b.bypassed=null:f[m]=null)}else l._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(a,i){var s=this,l=a._private,f=a.pstyle("transition-property").value,h=a.pstyle("transition-duration").pfValue,p=a.pstyle("transition-delay").pfValue;if(f.length>0&&h>0){for(var m={},b=!1,y=0;y<f.length;y++){var D=f[y],E=a.pstyle(D),S=i[D];if(S){var x=S.prev,R=null!=S.next?S.next:E,A=!1,P=void 0,k=1e-6;x&&(ot(x.pfValue)&&ot(R.pfValue)?P=x.pfValue+k*(A=R.pfValue-x.pfValue):ot(x.value)&&ot(R.value)?P=x.value+k*(A=R.value-x.value):xn(x.value)&&xn(R.value)&&(A=x.value[0]!==R.value[0]||x.value[1]!==R.value[1]||x.value[2]!==R.value[2],P=x.strValue),A&&(m[D]=R.strValue,this.applyBypass(a,D,P),b=!0))}}if(!b)return;l.transitioning=!0,new go(function(O){p>0?a.delayAnimation(p).play().promise().then(O):O()}).then(function(){return a.animation({style:m,duration:h,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){s.removeBypasses(a,f),a.emitAndNotify("style"),l.transitioning=!1})}else l.transitioning&&(this.removeBypasses(a,f),a.emitAndNotify("style"),l.transitioning=!1)},checkTrigger:function(a,i,s,l,f,h){var p=this.properties[i],m=f(p);null!=m&&m(s,l)&&h(p)},checkZOrderTrigger:function(a,i,s,l){var f=this;this.checkTrigger(a,i,s,l,function(h){return h.triggersZOrder},function(){f._private.cy.notify("zorder",a)})},checkBoundsTrigger:function(a,i,s,l){this.checkTrigger(a,i,s,l,function(f){return f.triggersBounds},function(f){a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&"curve-style"===i&&("bezier"===s||"bezier"===l)&&a.parallelEdges().forEach(function(h){h.isBundledBezier()&&h.dirtyBoundingBoxCache()}),f.triggersBoundsOfConnectedEdges&&"display"===i&&("none"===s||"none"===l)&&a.connectedEdges().forEach(function(h){h.dirtyBoundingBoxCache()})})},checkTriggers:function(a,i,s,l){a.dirtyStyleCache(),this.checkZOrderTrigger(a,i,s,l),this.checkBoundsTrigger(a,i,s,l)}},Vr={applyBypass:function(a,i,s,l){var h=[];if("*"===i||"**"===i){if(void 0!==s)for(var m=0;m<this.properties.length;m++){var D=this.parse(this.properties[m].name,s,!0);D&&h.push(D)}}else if(Qe(i)){var E=this.parse(i,s,!0);E&&h.push(E)}else{if(!xt(i))return!1;var S=i;l=s;for(var M=Object.keys(S),x=0;x<M.length;x++){var R=M[x],A=S[R];if(void 0===A&&(A=S[Bs(R)]),void 0!==A){var P=this.parse(R,A,!0);P&&h.push(P)}}}if(0===h.length)return!1;for(var k=!1,O=0;O<a.length;O++){for(var V=a[O],q={},K=void 0,$=0;$<h.length;$++){var W=h[$];if(l){var U=V.pstyle(W.name);K=q[W.name]={prev:U}}k=this.applyParsedProperty(V,jr(W))||k,l&&(K.next=V.pstyle(W.name))}k&&this.updateStyleHints(V),l&&this.updateTransitions(V,q,!0)}return k},overrideBypass:function(a,i,s){i=uo(i);for(var l=0;l<a.length;l++){var f=a[l],h=f._private.style[i],p=this.properties[i].type,m=p.color,b=p.mutiple,y=h?null!=h.pfValue?h.pfValue:h.value:null;h&&h.bypass?(h.value=s,null!=h.pfValue&&(h.pfValue=s),h.strValue=m?"rgb("+s.join(",")+")":b?s.join(" "):""+s,this.updateStyleHints(f)):this.applyBypass(f,i,s),this.checkTriggers(f,i,y,s)}},removeAllBypasses:function(a,i){return this.removeBypasses(a,this.propertyNames,i)},removeBypasses:function(a,i,s){for(var f=0;f<a.length;f++){for(var h=a[f],p={},m=0;m<i.length;m++){var b=i[m],y=this.properties[b],D=h.pstyle(y.name);if(D&&D.bypass){var S=this.parse(b,"",!0),M=p[y.name]={prev:D};this.applyParsedProperty(h,S),M.next=h.pstyle(y.name)}}this.updateStyleHints(h),s&&this.updateTransitions(h,p,!0)}}},Co={getEmSizeInPixels:function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},containerCss:function(a){var i=this._private.cy,s=i.container(),l=i.window();if(l&&s&&l.getComputedStyle)return l.getComputedStyle(s).getPropertyValue(a)}},Ko={getRenderedStyle:function(a,i){return i?this.getStylePropertyValue(a,i,!0):this.getRawStyle(a,!0)},getRawStyle:function(a,i){var s=this;if(a=a[0]){for(var l={},f=0;f<s.properties.length;f++){var h=s.properties[f],p=s.getStylePropertyValue(a,h.name,i);null!=p&&(l[h.name]=p,l[Bs(h.name)]=p)}return l}},getIndexedStyle:function(a,i,s,l){return a.pstyle(i)[s][l]??a.cy().style().getDefaultProperty(i)[s][0]},getStylePropertyValue:function(a,i,s){if(a=a[0]){var f=this.properties[i];f.alias&&(f=f.pointsTo);var h=f.type,p=a.pstyle(f.name);if(p){var m=p.value,b=p.units,y=p.strValue;if(s&&h.number&&null!=m&&ot(m)){var D=a.cy().zoom(),E=function(A){return A*D},S=function(A,P){return E(A)+P},M=xn(m);return(M?b.every(function(R){return null!=R}):null!=b)?M?m.map(function(R,A){return S(R,b[A])}).join(" "):S(m,b):M?m.map(function(R){return Qe(R)?R:""+E(R)}).join(" "):""+E(m)}if(null!=y)return y}return null}},getAnimationStartStyle:function(a,i){for(var s={},l=0;l<i.length;l++){var h=i[l].name,p=a.pstyle(h);void 0!==p&&(p=xt(p)?this.parse(h,p.strValue):this.parse(h,p)),p&&(s[h]=p)}return s},getPropsList:function(a){var s=[],l=a,f=this.properties;if(l)for(var h=Object.keys(l),p=0;p<h.length;p++){var m=h[p],b=l[m],y=f[m]||f[uo(m)],D=this.parse(y.name,b);D&&s.push(D)}return s},getNonDefaultPropertiesHash:function(a,i,s){var h,p,m,b,y,l=s.slice();for(b=0;b<i.length;b++)if(null!=(h=a.pstyle(i[b],!1)))if(null!=h.pfValue)l[0]=Ru(m,l[0]),l[1]=Nu(m,l[1]);else for(p=h.strValue,y=0;y<p.length;y++)m=p.charCodeAt(y),l[0]=Ru(m,l[0]),l[1]=Nu(m,l[1]);return l}};Ko.getPropertiesHash=Ko.getNonDefaultPropertiesHash;var Ka={appendFromJson:function(a){for(var i=this,s=0;s<a.length;s++){var l=a[s],f=l.selector,h=l.style||l.css,p=Object.keys(h);i.selector(f);for(var m=0;m<p.length;m++){var b=p[m];i.css(b,h[b])}}return i},fromJson:function(a){var i=this;return i.resetToDefault(),i.appendFromJson(a),i},json:function(){for(var a=[],i=this.defaultLength;i<this.length;i++){for(var s=this[i],l=s.selector,f=s.properties,h={},p=0;p<f.length;p++){var m=f[p];h[m.name]=m.strValue}a.push({selector:l?l.toString():"core",style:h})}return a}},Yo={appendFromString:function(a){var f,h,p,s=this,l=""+a;function m(){l=l.length>f.length?l.substr(f.length):""}function b(){h=h.length>p.length?h.substr(p.length):""}for(l=l.replace(/[/][*](\s|.)+?[*][/]/g,"");!l.match(/^\s*$/);){var D=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!D){Zt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}f=D[0];var E=D[1];if("core"!==E&&new ya(E).invalid)Zt("Skipping parsing of block: Invalid selector found in string stylesheet: "+E),m();else{var M=D[2],x=!1;h=M;for(var R=[];!h.match(/^\s*$/);){var P=h.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!P){Zt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+M),x=!0;break}p=P[0];var k=P[1],O=P[2];this.properties[k]?s.parse(k,O)?(R.push({name:k,val:O}),b()):(Zt("Skipping property: Invalid property definition in: "+p),b()):(Zt("Skipping property: Invalid property name in: "+p),b())}if(x){m();break}s.selector(E);for(var K=0;K<R.length;K++){var $=R[K];s.css($.name,$.val)}m()}}return s},fromString:function(a){var i=this;return i.resetToDefault(),i.appendFromString(a),i}},ii={};(function(){var a=zr,i=Tu,s=Vs,h=function(Ge){return"^"+Ge+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},p=function(Ge){var Fe=a+"|\\w+|"+i+"|"+s+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Ge+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+Fe+")\\s*\\,\\s*("+Fe+")\\)$"},m=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];ii.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:h("data")},layoutData:{mapping:!0,regex:h("layoutData")},scratch:{mapping:!0,regex:h("scratch")},mapData:{mapping:!0,regex:p("mapData")},mapLayoutData:{mapping:!0,regex:p("mapLayoutData")},mapScratch:{mapping:!0,regex:p("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:m,singleRegexMatchValue:!0},urls:{regexes:m,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ge,Fe){switch(Ge.length){case 2:return"deg"!==Fe[0]&&"rad"!==Fe[0]&&"deg"!==Fe[1]&&"rad"!==Fe[1];case 1:return Qe(Ge[0])||"deg"===Fe[0]||"rad"===Fe[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ge){var Fe=Ge.length;return 1===Fe||2===Fe||4===Fe}}};var b={zeroNonZero:function(Ge,Fe){return(null==Ge||null==Fe)&&Ge!==Fe||0==Ge&&0!=Fe||0!=Ge&&0==Fe},any:function(Ge,Fe){return Ge!=Fe},emptyNonEmpty:function(Ge,Fe){var Ye=nn(Ge),Mt=nn(Fe);return Ye&&!Mt||!Ye&&Mt}},y=ii.types,D=[{name:"label",type:y.text,triggersBounds:b.any,triggersZOrder:b.emptyNonEmpty},{name:"text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any}],E=[{name:"source-label",type:y.text,triggersBounds:b.any},{name:"source-text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"source-text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"source-text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"source-text-offset",type:y.size,triggersBounds:b.any}],S=[{name:"target-label",type:y.text,triggersBounds:b.any},{name:"target-text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"target-text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"target-text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"target-text-offset",type:y.size,triggersBounds:b.any}],M=[{name:"font-family",type:y.fontFamily,triggersBounds:b.any},{name:"font-style",type:y.fontStyle,triggersBounds:b.any},{name:"font-weight",type:y.fontWeight,triggersBounds:b.any},{name:"font-size",type:y.size,triggersBounds:b.any},{name:"text-transform",type:y.textTransform,triggersBounds:b.any},{name:"text-wrap",type:y.textWrap,triggersBounds:b.any},{name:"text-overflow-wrap",type:y.textOverflowWrap,triggersBounds:b.any},{name:"text-max-width",type:y.size,triggersBounds:b.any},{name:"text-outline-width",type:y.size,triggersBounds:b.any},{name:"line-height",type:y.positiveNumber,triggersBounds:b.any}],x=[{name:"text-valign",type:y.valign,triggersBounds:b.any},{name:"text-halign",type:y.halign,triggersBounds:b.any},{name:"color",type:y.color},{name:"text-outline-color",type:y.color},{name:"text-outline-opacity",type:y.zeroOneNumber},{name:"text-background-color",type:y.color},{name:"text-background-opacity",type:y.zeroOneNumber},{name:"text-background-padding",type:y.size,triggersBounds:b.any},{name:"text-border-opacity",type:y.zeroOneNumber},{name:"text-border-color",type:y.color},{name:"text-border-width",type:y.size,triggersBounds:b.any},{name:"text-border-style",type:y.borderStyle,triggersBounds:b.any},{name:"text-background-shape",type:y.textBackgroundShape,triggersBounds:b.any},{name:"text-justification",type:y.justification}],R=[{name:"events",type:y.bool,triggersZOrder:b.any},{name:"text-events",type:y.bool,triggersZOrder:b.any}],A=[{name:"display",type:y.display,triggersZOrder:b.any,triggersBounds:b.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:y.visibility,triggersZOrder:b.any},{name:"opacity",type:y.zeroOneNumber,triggersZOrder:b.zeroNonZero},{name:"text-opacity",type:y.zeroOneNumber},{name:"min-zoomed-font-size",type:y.size},{name:"z-compound-depth",type:y.zCompoundDepth,triggersZOrder:b.any},{name:"z-index-compare",type:y.zIndexCompare,triggersZOrder:b.any},{name:"z-index",type:y.number,triggersZOrder:b.any}],P=[{name:"overlay-padding",type:y.size,triggersBounds:b.any},{name:"overlay-color",type:y.color},{name:"overlay-opacity",type:y.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"overlay-shape",type:y.overlayShape,triggersBounds:b.any}],k=[{name:"underlay-padding",type:y.size,triggersBounds:b.any},{name:"underlay-color",type:y.color},{name:"underlay-opacity",type:y.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"underlay-shape",type:y.overlayShape,triggersBounds:b.any}],O=[{name:"transition-property",type:y.propList},{name:"transition-duration",type:y.time},{name:"transition-delay",type:y.time},{name:"transition-timing-function",type:y.easing}],V=function(Ge,Fe){return"label"===Fe.value?-Ge.poolIndex():Fe.pfValue},q=[{name:"height",type:y.nodeSize,triggersBounds:b.any,hashOverride:V},{name:"width",type:y.nodeSize,triggersBounds:b.any,hashOverride:V},{name:"shape",type:y.nodeShape,triggersBounds:b.any},{name:"shape-polygon-points",type:y.polygonPointList,triggersBounds:b.any},{name:"background-color",type:y.color},{name:"background-fill",type:y.fill},{name:"background-opacity",type:y.zeroOneNumber},{name:"background-blacken",type:y.nOneOneNumber},{name:"background-gradient-stop-colors",type:y.colors},{name:"background-gradient-stop-positions",type:y.percentages},{name:"background-gradient-direction",type:y.gradientDirection},{name:"padding",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"padding-relative-to",type:y.paddingRelativeTo,triggersBounds:b.any},{name:"bounds-expansion",type:y.boundsExpansion,triggersBounds:b.any}],K=[{name:"border-color",type:y.color},{name:"border-opacity",type:y.zeroOneNumber},{name:"border-width",type:y.size,triggersBounds:b.any},{name:"border-style",type:y.borderStyle}],$=[{name:"outline-color",type:y.color},{name:"outline-opacity",type:y.zeroOneNumber},{name:"outline-width",type:y.size,triggersBounds:b.any},{name:"outline-style",type:y.borderStyle},{name:"outline-offset",type:y.size,triggersBounds:b.any}],W=[{name:"background-image",type:y.urls},{name:"background-image-crossorigin",type:y.bgCrossOrigin},{name:"background-image-opacity",type:y.zeroOneNumbers},{name:"background-image-containment",type:y.bgContainment},{name:"background-image-smoothing",type:y.bools},{name:"background-position-x",type:y.bgPos},{name:"background-position-y",type:y.bgPos},{name:"background-width-relative-to",type:y.bgRelativeTo},{name:"background-height-relative-to",type:y.bgRelativeTo},{name:"background-repeat",type:y.bgRepeat},{name:"background-fit",type:y.bgFit},{name:"background-clip",type:y.bgClip},{name:"background-width",type:y.bgWH},{name:"background-height",type:y.bgWH},{name:"background-offset-x",type:y.bgPos},{name:"background-offset-y",type:y.bgPos}],U=[{name:"position",type:y.position,triggersBounds:b.any},{name:"compound-sizing-wrt-labels",type:y.compoundIncludeLabels,triggersBounds:b.any},{name:"min-width",type:y.size,triggersBounds:b.any},{name:"min-width-bias-left",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-width-bias-right",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-height",type:y.size,triggersBounds:b.any},{name:"min-height-bias-top",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-height-bias-bottom",type:y.sizeMaybePercent,triggersBounds:b.any}],Y=[{name:"line-style",type:y.lineStyle},{name:"line-color",type:y.color},{name:"line-fill",type:y.fill},{name:"line-cap",type:y.lineCap},{name:"line-opacity",type:y.zeroOneNumber},{name:"line-dash-pattern",type:y.numbers},{name:"line-dash-offset",type:y.number},{name:"line-gradient-stop-colors",type:y.colors},{name:"line-gradient-stop-positions",type:y.percentages},{name:"curve-style",type:y.curveStyle,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:y.zeroOneNumber,triggersBounds:b.any},{name:"source-endpoint",type:y.edgeEndpoint,triggersBounds:b.any},{name:"target-endpoint",type:y.edgeEndpoint,triggersBounds:b.any},{name:"control-point-step-size",type:y.size,triggersBounds:b.any},{name:"control-point-distances",type:y.bidirectionalSizes,triggersBounds:b.any},{name:"control-point-weights",type:y.numbers,triggersBounds:b.any},{name:"segment-distances",type:y.bidirectionalSizes,triggersBounds:b.any},{name:"segment-weights",type:y.numbers,triggersBounds:b.any},{name:"taxi-turn",type:y.bidirectionalSizeMaybePercent,triggersBounds:b.any},{name:"taxi-turn-min-distance",type:y.size,triggersBounds:b.any},{name:"taxi-direction",type:y.axisDirection,triggersBounds:b.any},{name:"edge-distances",type:y.edgeDistances,triggersBounds:b.any},{name:"arrow-scale",type:y.positiveNumber,triggersBounds:b.any},{name:"loop-direction",type:y.angle,triggersBounds:b.any},{name:"loop-sweep",type:y.angle,triggersBounds:b.any},{name:"source-distance-from-node",type:y.size,triggersBounds:b.any},{name:"target-distance-from-node",type:y.size,triggersBounds:b.any}],X=[{name:"ghost",type:y.bool,triggersBounds:b.any},{name:"ghost-offset-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"ghost-offset-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"ghost-opacity",type:y.zeroOneNumber}],G=[{name:"selection-box-color",type:y.color},{name:"selection-box-opacity",type:y.zeroOneNumber},{name:"selection-box-border-color",type:y.color},{name:"selection-box-border-width",type:y.size},{name:"active-bg-color",type:y.color},{name:"active-bg-opacity",type:y.zeroOneNumber},{name:"active-bg-size",type:y.size},{name:"outside-texture-bg-color",type:y.color},{name:"outside-texture-bg-opacity",type:y.zeroOneNumber}],te=[];ii.pieBackgroundN=16,te.push({name:"pie-size",type:y.sizeMaybePercent});for(var Z=1;Z<=ii.pieBackgroundN;Z++)te.push({name:"pie-"+Z+"-background-color",type:y.color}),te.push({name:"pie-"+Z+"-background-size",type:y.percent}),te.push({name:"pie-"+Z+"-background-opacity",type:y.zeroOneNumber});var ue=[],ne=ii.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:y.arrowShape,triggersBounds:b.any},{name:"arrow-color",type:y.color},{name:"arrow-fill",type:y.arrowFill},{name:"arrow-width",type:y.arrowWidth}].forEach(function(ze){ne.forEach(function(Ge){ue.push({name:Ge+"-"+ze.name,type:ze.type,triggersBounds:ze.triggersBounds})})},{});var ee=ii.properties=[].concat(R,O,A,P,k,X,x,M,D,E,S,q,K,$,W,te,U,Y,ue,G),he=ii.propertyGroups={behavior:R,transition:O,visibility:A,overlay:P,underlay:k,ghost:X,commonLabel:x,labelDimensions:M,mainLabel:D,sourceLabel:E,targetLabel:S,nodeBody:q,nodeBorder:K,nodeOutline:$,backgroundImage:W,pie:te,compound:U,edgeLine:Y,edgeArrow:ue,core:G},ve=ii.propertyGroupNames={};(ii.propertyGroupKeys=Object.keys(he)).forEach(function(ze){ve[ze]=he[ze].map(function(Ge){return Ge.name}),he[ze].forEach(function(Ge){return Ge.groupKey=ze})});var fe=ii.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ii.propertyNames=ee.map(function(ze){return ze.name});for(var Ee=0;Ee<ee.length;Ee++){var Ne=ee[Ee];ee[Ne.name]=Ne}for(var Be=0;Be<fe.length;Be++){var ke=fe[Be],pe={name:ke.name,alias:!0,pointsTo:ee[ke.pointsTo]};ee.push(pe),ee[ke.name]=pe}})(),ii.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},ii.getDefaultProperties=function(){var a=this._private;if(null!=a.defaultProperties)return a.defaultProperties;for(var i=Nt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(b,y){for(var D=1;D<=ii.pieBackgroundN;D++)b[y.name.replace("{{i}}",D)]=y.value;return b},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(b,y){return ii.arrowPrefixes.forEach(function(D){b[D+"-"+y.name]=y.value}),b},{})),s={},l=0;l<this.properties.length;l++){var f=this.properties[l];if(!f.pointsTo){var h=f.name,m=this.parse(h,i[h]);s[h]=m}}return a.defaultProperties=s,a.defaultProperties},ii.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Qu={parse:function(a,i,s,l){var f=this;if(Fn(i))return f.parseImplWarn(a,i,s,l);var D,b=pf(a,""+i,s?"t":"f","mapping"===l||!0===l||!1===l||null==l?"dontcare":l),y=f.propCache=f.propCache||[];return(D=y[b])||(D=y[b]=f.parseImplWarn(a,i,s,l)),(s||"mapping"===l)&&(D=jr(D))&&(D.value=jr(D.value)),D},parseImplWarn:function(a,i,s,l){var f=this.parseImpl(a,i,s,l);return!f&&null!=i&&Zt("The style property `".concat(a,": ").concat(i,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===i&&Zt("The style value of `label` is deprecated for `"+f.name+"`"),f}};Qu.parseImpl=function(a,i,s,l){var f=this;a=uo(a);var h=f.properties[a],p=i,m=f.types;if(!h||void 0===i)return null;h.alias&&(a=(h=h.pointsTo).name);var b=Qe(i);b&&(i=i.trim());var D,E,y=h.type;if(!y)return null;if(s&&(""===i||null===i))return{name:a,value:i,bypass:!0,deleteBypass:!0};if(Fn(i))return{name:a,value:i,strValue:"fn",mapped:m.fn,bypass:s};if(!(!b||l||i.length<7||"a"!==i[1])){if(i.length>=7&&"d"===i[0]&&(D=new RegExp(m.data.regex).exec(i)))return!s&&{name:a,value:D,strValue:""+i,mapped:m.data,field:D[1],bypass:s};if(i.length>=10&&"m"===i[0]&&(E=new RegExp(m.mapData.regex).exec(i))){if(s||y.multiple)return!1;var M=m.mapData;if(!y.color&&!y.number)return!1;var x=this.parse(a,E[4]);if(!x||x.mapped)return!1;var R=this.parse(a,E[5]);if(!R||R.mapped)return!1;if(x.pfValue===R.pfValue||x.strValue===R.strValue)return Zt("`"+a+": "+i+"` is not a valid mapper because the output range is zero; converting to `"+a+": "+x.strValue+"`"),this.parse(a,x.strValue);if(y.color){var A=x.value,P=R.value;if(!(A[0]!==P[0]||A[1]!==P[1]||A[2]!==P[2]||A[3]!==P[3]&&(null!=A[3]&&1!==A[3]||null!=P[3]&&1!==P[3])))return!1}return{name:a,value:E,strValue:""+i,mapped:M,field:E[1],fieldMin:parseFloat(E[2]),fieldMax:parseFloat(E[3]),valueMin:x.value,valueMax:R.value,bypass:s}}}if(y.multiple&&"multiple"!==l){var O;if(O=b?i.split(/\s+/):xn(i)?i:[i],y.evenMultiple&&O.length%2!=0)return null;for(var V=[],q=[],K=[],$="",W=!1,U=0;U<O.length;U++){var Y=f.parse(a,O[U],s,"multiple");W=W||Qe(Y.value),V.push(Y.value),K.push(null!=Y.pfValue?Y.pfValue:Y.value),q.push(Y.units),$+=(U>0?" ":"")+Y.strValue}return y.validate&&!y.validate(V,q)?null:y.singleEnum&&W?1===V.length&&Qe(V[0])?{name:a,value:V[0],strValue:V[0],bypass:s}:null:{name:a,value:V,pfValue:K,strValue:$,bypass:s,units:q}}var X=function(){for(var Ge=0;Ge<y.enums.length;Ge++)if(y.enums[Ge]===i)return{name:a,value:i,strValue:""+i,bypass:s};return null};if(y.number){var G,te="px";if(y.units&&(G=y.units),y.implicitUnits&&(te=y.implicitUnits),!y.unitless)if(b){var Z="px|em"+(y.allowPercent?"|\\%":"");G&&(Z=G);var ue=i.match("^("+zr+")("+Z+")?$");ue&&(i=ue[1],G=ue[2]||te)}else(!G||y.implicitUnits)&&(G=te);if(i=parseFloat(i),isNaN(i)&&void 0===y.enums)return null;if(isNaN(i)&&void 0!==y.enums)return i=p,X();if(y.integer&&!function(i){return ot(i)&&Math.floor(i)===i}(i)||void 0!==y.min&&(i<y.min||y.strictMin&&i===y.min)||void 0!==y.max&&(i>y.max||y.strictMax&&i===y.max))return null;var ne={name:a,value:i,strValue:""+i+(G||""),units:G,bypass:s};return ne.pfValue=y.unitless||"px"!==G&&"em"!==G?i:"px"!==G&&G?this.getEmSizeInPixels()*i:i,("ms"===G||"s"===G)&&(ne.pfValue="ms"===G?i:1e3*i),("deg"===G||"rad"===G)&&(ne.pfValue="rad"===G?i:function(i){return Math.PI*i/180}(i)),"%"===G&&(ne.pfValue=i/100),ne}if(y.propList){var ee=[],he=""+i;if("none"!==he){for(var ve=he.split(/\s*,\s*|\s+/),Se=0;Se<ve.length;Se++){var fe=ve[Se].trim();f.properties[fe]?ee.push(fe):Zt("`"+fe+"` is not a valid property name")}if(0===ee.length)return null}return{name:a,value:ee,strValue:0===ee.length?"none":ee.join(" "),bypass:s}}if(y.color){var Ee=function(i){return(xn(i)?i:null)||function(i){return cf[i.toLowerCase()]}(i)||function(i){if((4===i.length||7===i.length)&&"#"===i[0]){var l,f,h,p=16;return 4===i.length?(l=parseInt(i[1]+i[1],p),f=parseInt(i[2]+i[2],p),h=parseInt(i[3]+i[3],p)):(l=parseInt(i[1]+i[2],p),f=parseInt(i[3]+i[4],p),h=parseInt(i[5]+i[6],p)),[l,f,h]}}(i)||function(i){var s,l=new RegExp("^"+Ug+"$").exec(i);if(l){s=[];for(var f=[],h=1;h<=3;h++){var p=l[h];if("%"===p[p.length-1]&&(f[h]=!0),p=parseFloat(p),f[h]&&(p=p/100*255),p<0||p>255)return;s.push(Math.floor(p))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var y=l[4];if(void 0!==y){if((y=parseFloat(y))<0||y>1)return;s.push(y)}}return s}(i)||function(i){var s,l,f,h,p,m,b,y;function D(x,R,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?x+6*(R-x)*A:A<.5?R:A<2/3?x+(R-x)*(2/3-A)*6:x}var E=new RegExp("^"+Uo+"$").exec(i);if(E){if((l=parseInt(E[1]))<0?l=(360- -1*l%360)%360:l>360&&(l%=360),l/=360,(f=parseFloat(E[2]))<0||f>100||(f/=100,(h=parseFloat(E[3]))<0||h>100)||(h/=100,void 0!==(p=E[4])&&((p=parseFloat(p))<0||p>1)))return;if(0===f)m=b=y=Math.round(255*h);else{var S=h<.5?h*(1+f):h+f-h*f,M=2*h-S;m=Math.round(255*D(M,S,l+1/3)),b=Math.round(255*D(M,S,l)),y=Math.round(255*D(M,S,l-1/3))}s=[m,b,y,p]}return s}(i)}(i);return Ee?{name:a,value:Ee,pfValue:Ee,strValue:"rgb("+Ee[0]+","+Ee[1]+","+Ee[2]+")",bypass:s}:null}if(y.regex||y.regexes){if(y.enums){var Ne=X();if(Ne)return Ne}for(var Be=y.regexes?y.regexes:[y.regex],ke=0;ke<Be.length;ke++){var pe=new RegExp(Be[ke]).exec(i);if(pe)return{name:a,value:y.singleRegexMatchValue?pe[1]:pe,strValue:""+i,bypass:s}}return null}return y.string?{name:a,value:""+i,strValue:""+i,bypass:s}:y.enums?X():null};var xi=function a(i){if(!(this instanceof a))return new a(i);rr(i)?(this._private={cy:i,coreStyle:{}},this.length=0,this.resetToDefault()):Vn("A style must have a core reference")},fi=xi.prototype;fi.instanceString=function(){return"style"},fi.clear=function(){for(var a=this._private,s=a.cy.elements(),l=0;l<this.length;l++)this[l]=void 0;return this.length=0,a.contextStyles={},a.propDiffs={},this.cleanElements(s,!0),s.forEach(function(f){var h=f[0]._private;h.styleDirty=!0,h.appliedInitStyle=!1}),this},fi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},fi.core=function(a){return this._private.coreStyle[a]||this.getDefaultProperty(a)},fi.selector=function(a){var i="core"===a?null:new ya(a),s=this.length++;return this[s]={selector:i,properties:[],mappedProperties:[],index:s},this},fi.css=function(){var i=arguments;if(1===i.length)for(var s=i[0],l=0;l<this.properties.length;l++){var f=this.properties[l],h=s[f.name];void 0===h&&(h=s[Bs(f.name)]),void 0!==h&&this.cssRule(f.name,h)}else 2===i.length&&this.cssRule(i[0],i[1]);return this},fi.style=fi.css,fi.cssRule=function(a,i){var s=this.parse(a,i);if(s){var l=this.length-1;this[l].properties.push(s),this[l].properties[s.name]=s,s.name.match(/pie-(\d+)-background-size/)&&s.value&&(this._private.hasPie=!0),s.mapped&&this[l].mappedProperties.push(s),!this[l].selector&&(this._private.coreStyle[s.name]=s)}return this},fi.append=function(a){return gr(a)?a.appendToStyle(this):xn(a)?this.appendFromJson(a):Qe(a)&&this.appendFromString(a),this},xi.fromJson=function(a,i){var s=new xi(a);return s.fromJson(i),s},xi.fromString=function(a,i){return new xi(a).fromString(i)},[Si,Vr,Co,Ko,Ka,Yo,ii,Qu].forEach(function(a){Nt(fi,a)}),xi.types=fi.types,xi.properties=fi.properties,xi.propertyGroups=fi.propertyGroups,xi.propertyGroupNames=fi.propertyGroupNames,xi.propertyGroupKeys=fi.propertyGroupKeys;var yd={style:function(i){return i&&this.setStyle(i).update(),this._private.style},setStyle:function(i){var s=this._private;return s.style=gr(i)?i.generateStyle(this):xn(i)?xi.fromJson(this,i):Qe(i)?xi.fromString(this,i):xi(this),s.style},updateStyle:function(){this.mutableElements().updateStyle()}},hi={autolock:function(i){return void 0===i?this._private.autolock:(this._private.autolock=!!i,this)},autoungrabify:function(i){return void 0===i?this._private.autoungrabify:(this._private.autoungrabify=!!i,this)},autounselectify:function(i){return void 0===i?this._private.autounselectify:(this._private.autounselectify=!!i,this)},selectionType:function(i){var s=this._private;return null==s.selectionType&&(s.selectionType="single"),void 0===i?s.selectionType:(("additive"===i||"single"===i)&&(s.selectionType=i),this)},panningEnabled:function(i){return void 0===i?this._private.panningEnabled:(this._private.panningEnabled=!!i,this)},userPanningEnabled:function(i){return void 0===i?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!i,this)},zoomingEnabled:function(i){return void 0===i?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!i,this)},userZoomingEnabled:function(i){return void 0===i?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!i,this)},boxSelectionEnabled:function(i){return void 0===i?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!i,this)},pan:function(){var l,f,h,p,m,i=arguments,s=this._private.pan;switch(i.length){case 0:return s;case 1:if(Qe(i[0]))return s[l=i[0]];if(xt(i[0])){if(!this._private.panningEnabled)return this;m=(h=i[0]).y,ot(p=h.x)&&(s.x=p),ot(m)&&(s.y=m),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=i[1],("x"===(l=i[0])||"y"===l)&&ot(f)&&(s[l]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(i,s){var h,p,m,b,y,l=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(l.length){case 1:xt(i)&&(y=(m=l[0]).y,ot(b=m.x)&&(f.x+=b),ot(y)&&(f.y+=y),this.emit("pan viewport"));break;case 2:p=s,("x"===(h=i)||"y"===h)&&ot(p)&&(f[h]+=p),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(i,s){var l=this.getFitViewport(i,s);if(l){var f=this._private;f.zoom=l.zoom,f.pan=l.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(i,s){var l;if((ot(i)&&void 0===s&&(s=i,i=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Qe(i)?i=this.$(i):!function(i){return xt(i)&&ot(i.x1)&&ot(i.x2)&&ot(i.y1)&&ot(i.y2)}(i)?Dr(i)||(i=this.mutableElements()):((l={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=l.x2-l.x1,l.h=l.y2-l.y1),!Dr(i)||!i.empty())){l=l||i.boundingBox();var b,p=this.width(),m=this.height();if(s=ot(s)?s:0,!isNaN(p)&&!isNaN(m)&&p>0&&m>0&&!isNaN(l.w)&&!isNaN(l.h)&&l.w>0&&l.h>0)return{zoom:b=(b=(b=Math.min((p-2*s)/l.w,(m-2*s)/l.h))>this._private.maxZoom?this._private.maxZoom:b)<this._private.minZoom?this._private.minZoom:b,pan:{x:(p-b*(l.x1+l.x2))/2,y:(m-b*(l.y1+l.y2))/2}}}},zoomRange:function(i,s){var l=this._private;if(null==s){var f=i;i=f.min,s=f.max}return ot(i)&&ot(s)&&i<=s?(l.minZoom=i,l.maxZoom=s):ot(i)&&void 0===s&&i<=l.maxZoom?l.minZoom=i:ot(s)&&void 0===i&&s>=l.minZoom&&(l.maxZoom=s),this},minZoom:function(i){return void 0===i?this._private.minZoom:this.zoomRange({min:i})},maxZoom:function(i){return void 0===i?this._private.maxZoom:this.zoomRange({max:i})},getZoomedViewport:function(i){var h,p,s=this._private,l=s.pan,f=s.zoom,m=!1;return s.zoomingEnabled||(m=!0),ot(i)?p=i:xt(i)&&(p=i.level,null!=i.position?h=Us(i.position,f,l):null!=i.renderedPosition&&(h=i.renderedPosition),null!=h&&!s.panningEnabled&&(m=!0)),p=(p=p>s.maxZoom?s.maxZoom:p)<s.minZoom?s.minZoom:p,!m&&ot(p)&&p!==f&&(null==h||ot(h.x)&&ot(h.y))?null!=h?{zoomed:!0,panned:!0,zoom:p,pan:{x:-p/f*(h.x-l.x)+h.x,y:-p/f*(h.y-l.y)+h.y}}:{zoomed:!0,panned:!1,zoom:p,pan:l}:null},zoom:function(i){if(void 0===i)return this._private.zoom;var s=this.getZoomedViewport(i),l=this._private;return null!=s&&s.zoomed?(l.zoom=s.zoom,s.panned&&(l.pan.x=s.pan.x,l.pan.y=s.pan.y),this.emit("zoom"+(s.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(i){var s=this._private,l=!0,f=!0,h=[],p=!1,m=!1;if(!i)return this;if(ot(i.zoom)||(l=!1),xt(i.pan)||(f=!1),!l&&!f)return this;if(l){var b=i.zoom;b<s.minZoom||b>s.maxZoom||!s.zoomingEnabled?p=!0:(s.zoom=b,h.push("zoom"))}if(f&&(!p||!i.cancelOnFailedZoom)&&s.panningEnabled){var y=i.pan;ot(y.x)&&(s.pan.x=y.x,m=!1),ot(y.y)&&(s.pan.y=y.y,m=!1),m||h.push("pan")}return h.length>0&&(h.push("viewport"),this.emit(h.join(" ")),this.notify("viewport")),this},center:function(i){var s=this.getCenterPan(i);return s&&(this._private.pan=s,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(i,s){if(this._private.panningEnabled){if(Qe(i)){var l=i;i=this.mutableElements().filter(l)}else Dr(i)||(i=this.mutableElements());if(0!==i.length){var f=i.boundingBox(),h=this.width(),p=this.height();return{x:(h-(s=void 0===s?this._private.zoom:s)*(f.x1+f.x2))/2,y:(p-s*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,i=this._private,s=i.container;return i.sizeCache=i.sizeCache||(s?(f=this.window().getComputedStyle(s),{width:s.clientWidth-(h=function(m){return parseFloat(f.getPropertyValue(m))})("padding-left")-h("padding-right"),height:s.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var i=this._private.pan,s=this._private.zoom,l=this.renderedExtent(),f={x1:(l.x1-i.x)/s,x2:(l.x2-i.x)/s,y1:(l.y1-i.y)/s,y2:(l.y2-i.y)/s};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var i=this.width(),s=this.height();return{x1:0,y1:0,x2:i,y2:s,w:i,h:s}},multiClickDebounceTime:function(i){return i?(this._private.multiClickDebounceTime=i,this):this._private.multiClickDebounceTime}};hi.centre=hi.center,hi.autolockNodes=hi.autolock,hi.autoungrabifyNodes=hi.autoungrabify;var iu={data:Yt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Yt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Yt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Yt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};iu.attr=iu.data,iu.removeAttr=iu.removeData;var nc=function(i){var s=this,l=(i=Nt({},i)).container;l&&!so(l)&&so(l[0])&&(l=l[0]);var f=l?l._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var h=f.readies=f.readies||[];l&&(l._cyreg=f),f.cy=s;var p=void 0!==Ft&&void 0!==l&&!i.headless,m=i;m.layout=Nt({name:p?"grid":"null"},m.layout),m.renderer=Nt({name:p?"canvas":"null"},m.renderer);var b=function(x,R,A){return void 0!==R?R:void 0!==A?A:x},y=this._private={container:l,ready:!1,options:m,elements:new Pt(this),listeners:[],aniEles:new Pt(this),data:m.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:b(!0,m.zoomingEnabled),userZoomingEnabled:b(!0,m.userZoomingEnabled),panningEnabled:b(!0,m.panningEnabled),userPanningEnabled:b(!0,m.userPanningEnabled),boxSelectionEnabled:b(!0,m.boxSelectionEnabled),autolock:b(!1,m.autolock,m.autolockNodes),autoungrabify:b(!1,m.autoungrabify,m.autoungrabifyNodes),autounselectify:b(!1,m.autounselectify),styleEnabled:void 0===m.styleEnabled?p:m.styleEnabled,zoom:ot(m.zoom)?m.zoom:1,pan:{x:xt(m.pan)&&ot(m.pan.x)?m.pan.x:0,y:xt(m.pan)&&ot(m.pan.y)?m.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:b(250,m.multiClickDebounceTime)};this.createEmitter(),this.selectionType(m.selectionType),this.zoomRange({min:m.minZoom,max:m.maxZoom}),y.styleEnabled&&s.setStyle([]);var E=Nt({},m,m.renderer);s.initRenderer(E),function(x,R){if(x.some(Mu))return go.all(x).then(R);R(x)}([m.style,m.elements],function(M){var x=M[0],R=M[1];y.styleEnabled&&s.style().append(x),function(x,R,A){s.notifications(!1);var P=s.mutableElements();P.length>0&&P.remove(),null!=x&&(xt(x)||xn(x))&&s.add(x),s.one("layoutready",function(O){s.notifications(!0),s.emit(O),s.one("load",R),s.emitAndNotify("load")}).one("layoutstop",function(){s.one("done",A),s.emit("done")});var k=Nt({},s._private.options.layout);k.eles=s.elements(),s.layout(k).run()}(R,function(){s.startAnimationLoop(),y.ready=!0,Fn(m.ready)&&s.on("ready",m.ready);for(var A=0;A<h.length;A++)s.on("ready",h[A]);f&&(f.readies=[]),s.emit("ready")},m.done)})},bs=nc.prototype;Nt(bs,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(i){return this.isReady()?this.emitter().emit("ready",[],i):this.on("ready",i),this},destroy:function(){var i=this;if(!i.destroyed())return i.stopAnimationLoop(),i.destroyRenderer(),this.emit("destroy"),i._private.destroyed=!0,i},hasElementWithId:function(i){return this._private.elements.hasElementWithId(i)},getElementById:function(i){return this._private.elements.getElementById(i)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(i){return this._private.elements.merge(i),this},removeFromPool:function(i){return this._private.elements.unmerge(i),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return Ft;var s=this._private.container.ownerDocument;return void 0===s||null==s?Ft:s.defaultView||Ft},mount:function(i){if(null!=i){var s=this,l=s._private,f=l.options;return!so(i)&&so(i[0])&&(i=i[0]),s.stopAnimationLoop(),s.destroyRenderer(),l.container=i,l.styleEnabled=!0,s.invalidateSize(),s.initRenderer(Nt({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),s.startAnimationLoop(),s.style(f.style),s.emit("mount"),s}},unmount:function(){var i=this;return i.stopAnimationLoop(),i.destroyRenderer(),i.initRenderer({name:"null"}),i.emit("unmount"),i},options:function(){return jr(this._private.options)},json:function(i){var s=this,l=s._private,f=s.mutableElements();if(xt(i)){if(s.startBatch(),i.elements){var p={},m=function(V,q){for(var K=[],$=[],W=0;W<V.length;W++){var U=V[W];if(U.data.id){var Y=""+U.data.id,X=s.getElementById(Y);p[Y]=!0,0!==X.length?$.push({ele:X,json:U}):(q&&(U.group=q),K.push(U))}else Zt("cy.json() cannot handle elements without an ID attribute")}s.add(K);for(var G=0;G<$.length;G++){var te=$[G];te.ele.json(te.json)}};if(xn(i.elements))m(i.elements);else for(var b=["nodes","edges"],y=0;y<b.length;y++){var D=b[y],E=i.elements[D];xn(E)&&m(E,D)}var S=s.collection();f.filter(function(O){return!p[O.id()]}).forEach(function(O){O.isParent()?S.merge(O):O.remove()}),S.forEach(function(O){return O.children().move({parent:null})}),S.forEach(function(O){return(V=O,s.getElementById(V.id())).remove();var V})}i.style&&s.style(i.style),null!=i.zoom&&i.zoom!==l.zoom&&s.zoom(i.zoom),i.pan&&(i.pan.x!==l.pan.x||i.pan.y!==l.pan.y)&&s.pan(i.pan),i.data&&s.data(i.data);for(var M=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],x=0;x<M.length;x++){var R=M[x];null!=i[R]&&s[R](i[R])}return s.endBatch(),this}var P={};i?P.elements=this.elements().map(function(O){return O.json()}):(P.elements={},f.forEach(function(O){var V=O.group();P.elements[V]||(P.elements[V]=[]),P.elements[V].push(O.json())})),this._private.styleEnabled&&(P.style=s.style().json()),P.data=jr(s.data());var k=l.options;return P.zoomingEnabled=l.zoomingEnabled,P.userZoomingEnabled=l.userZoomingEnabled,P.zoom=l.zoom,P.minZoom=l.minZoom,P.maxZoom=l.maxZoom,P.panningEnabled=l.panningEnabled,P.userPanningEnabled=l.userPanningEnabled,P.pan=jr(l.pan),P.boxSelectionEnabled=l.boxSelectionEnabled,P.renderer=jr(k.renderer),P.hideEdgesOnViewport=k.hideEdgesOnViewport,P.textureOnViewport=k.textureOnViewport,P.wheelSensitivity=k.wheelSensitivity,P.motionBlur=k.motionBlur,P.multiClickDebounceTime=k.multiClickDebounceTime,P}}),bs.$id=bs.getElementById,[vp,Le,tc,Br,nu,Xu,ru,Do,yd,hi,iu].forEach(function(a){Nt(bs,a)});var Ds={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}},Xf={maximal:!1,acyclic:!1},Cs=function(i){return i.scratch("breadthfirst")},Qf=function(i,s){return i.scratch("breadthfirst",s)};function wd(a){this.options=Nt({},Ds,Xf,a)}wd.prototype.run=function(){var y,a=this.options,i=a,s=a.cy,l=i.eles,f=l.nodes().filter(function(Ae){return!Ae.isParent()}),h=l,p=i.directed,m=i.acyclic||i.maximal||i.maximalAdjustments>0,b=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(Dr(i.roots))y=i.roots;else if(xn(i.roots)){for(var D=[],E=0;E<i.roots.length;E++){var M=s.getElementById(i.roots[E]);D.push(M)}y=s.collection(D)}else if(Qe(i.roots))y=s.$(i.roots);else if(p)y=f.roots();else{var x=l.components();y=s.collection();for(var R=function(et){var pt=x[et],it=pt.maxDegree(!1),Dt=pt.filter(function(Ct){return Ct.degree(!1)===it});y=y.add(Dt)},A=0;A<x.length;A++)R(A)}var P=[],k={},O=function(et,pt){null==P[pt]&&(P[pt]=[]);var it=P[pt].length;P[pt].push(et),Qf(et,{index:it,depth:pt})};h.bfs({roots:y,directed:i.directed,visit:function(et,pt,it,Dt,Ct){var mn=et[0],un=mn.id();O(mn,Ct),k[un]=!0}});for(var q=[],K=0;K<f.length;K++){var $=f[K];k[$.id()]||q.push($)}var W=function(et){for(var pt=P[et],it=0;it<pt.length;it++){var Dt=pt[it];null!=Dt?Qf(Dt,{depth:et,index:it}):(pt.splice(it,1),it--)}},U=function(){for(var et=0;et<P.length;et++)W(et)},Y=function(et,pt){for(var it=Cs(et),Dt=et.incomers().filter(function(z){return z.isNode()&&l.has(z)}),Ct=-1,mn=et.id(),un=0;un<Dt.length;un++){var ln=Cs(Dt[un]);Ct=Math.max(Ct,ln.depth)}if(it.depth<=Ct){if(!i.acyclic&&pt[mn])return null;var me=Ct+1;return function(et,pt){var it=Cs(et);P[it.depth][it.index]=null,O(et,pt)}(et,me),pt[mn]=me,!0}return!1};if(p&&m){var X=[],G={},te=function(et){return X.push(et)};for(f.forEach(function(Ae){return X.push(Ae)});X.length>0;){var ue=X.shift(),ne=Y(ue,G);if(ne)ue.outgoers().filter(function(Ae){return Ae.isNode()&&l.has(Ae)}).forEach(te);else if(null===ne){Zt("Detected double maximal shift for node `"+ue.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}U();var ee=0;if(i.avoidOverlap)for(var he=0;he<f.length;he++){var Se=f[he].layoutDimensions(i);ee=Math.max(ee,Se.w,Se.h)}var Ne={},Be=function(et){if(Ne[et.id()])return Ne[et.id()];for(var pt=Cs(et).depth,it=et.neighborhood(),Dt=0,Ct=0,mn=0;mn<it.length;mn++){var un=it[mn];if(!un.isEdge()&&!un.isParent()&&f.has(un)){var $t=Cs(un);if(null!=$t){var ln=$t.index,me=$t.depth;null!=ln&&null!=me&&me<pt&&(Dt+=ln/P[me].length,Ct++)}}}return Dt/=Ct=Math.max(1,Ct),0===Ct&&(Dt=0),Ne[et.id()]=Dt,Dt},ke=function(et,pt){var Ct=Be(et)-Be(pt);return 0===Ct?$s(et.id(),pt.id()):Ct};void 0!==i.depthSort&&(ke=i.depthSort);for(var Oe=0;Oe<P.length;Oe++)P[Oe].sort(ke),W(Oe);for(var pe=[],ze=0;ze<q.length;ze++)pe.push(q[ze]);P.unshift(pe),U();for(var Ge=0,Fe=0;Fe<P.length;Fe++)Ge=Math.max(P[Fe].length,Ge);var Ye_x=b.x1+b.w/2,Ye_y=b.x1+b.h/2,Mt=P.reduce(function(Ae,et){return Math.max(Ae,et.length)},0);return l.nodes().layoutPositions(this,i,function(et){var pt=Cs(et),it=pt.depth,Dt=pt.index,Ct=P[it].length,mn=Math.max(b.w/((i.grid?Mt:Ct)+1),ee),un=Math.max(b.h/(P.length+1),ee),$t=Math.min(b.w/2/P.length,b.h/2/P.length);if($t=Math.max($t,ee),i.circle){var me=$t*it+$t-(P.length>0&&P[0].length<=3?$t/2:0),z=2*Math.PI/P[it].length*Dt;return 0===it&&1===P[0].length&&(me=1),{x:Ye_x+me*Math.cos(z),y:Ye_y+me*Math.sin(z)}}return{x:Ye_x+(Dt+1-(Ct+1)/2)*mn,y:(it+1)*un}}),this};var Es={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function Ju(a){this.options=Nt({},Es,a)}Ju.prototype.run=function(){var a=this.options,i=a,s=a.cy,l=i.eles,f=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,h=l.nodes().not(":parent");i.sort&&(h=h.sort(i.sort));for(var D,p=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),m={x:p.x1+p.w/2,y:p.y1+p.h/2},y=(void 0===i.sweep?2*Math.PI-2*Math.PI/h.length:i.sweep)/Math.max(1,h.length-1),E=0,S=0;S<h.length;S++){var x=h[S].layoutDimensions(i);E=Math.max(E,x.w,x.h)}if(D=ot(i.radius)?i.radius:h.length<=1?0:Math.min(p.h,p.w)/2-E,h.length>1&&i.avoidOverlap){E*=1.75;var P=Math.cos(y)-Math.cos(0),k=Math.sin(y)-Math.sin(0),O=Math.sqrt(E*E/(P*P+k*k));D=Math.max(O,D)}return l.nodes().layoutPositions(this,i,function(K,$){var W=i.startAngle+$*y*(f?1:-1),U=D*Math.cos(W),Y=D*Math.sin(W);return{x:m.x+U,y:m.y+Y}}),this};var lv={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(i){return i.degree()},levelWidth:function(i){return i.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function pi(a){this.options=Nt({},lv,a)}pi.prototype.run=function(){for(var a=this.options,i=a,s=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,l=a.cy,f=i.eles,h=f.nodes().not(":parent"),p=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),m={x:p.x1+p.w/2,y:p.y1+p.h/2},b=[],y=0,D=0;D<h.length;D++){var S,E=h[D];S=i.concentric(E),b.push({value:S,node:E}),E._private.scratch.concentric=S}h.updateStyle();for(var M=0;M<h.length;M++){var R=h[M].layoutDimensions(i);y=Math.max(y,R.w,R.h)}b.sort(function(Ae,et){return et.value-Ae.value});for(var A=i.levelWidth(h),P=[[]],k=P[0],O=0;O<b.length;O++){var V=b[O];k.length>0&&Math.abs(k[0].value-V.value)>=A&&P.push(k=[]),k.push(V)}var K=y+i.minNodeSpacing;if(!i.avoidOverlap){var $=P.length>0&&P[0].length>1,W=Math.min(p.w,p.h)/2-K;K=Math.min(K,W/(P.length+$?1:0))}for(var Y=0,X=0;X<P.length;X++){var G=P[X],te=void 0===i.sweep?2*Math.PI-2*Math.PI/G.length:i.sweep,Z=G.dTheta=te/Math.max(1,G.length-1);if(G.length>1&&i.avoidOverlap){var ue=Math.cos(Z)-Math.cos(0),ne=Math.sin(Z)-Math.sin(0),ee=Math.sqrt(K*K/(ue*ue+ne*ne));Y=Math.max(ee,Y)}G.r=Y,Y+=K}if(i.equidistant){for(var he=0,ve=0,Se=0;Se<P.length;Se++)he=Math.max(he,P[Se].r-ve);ve=0;for(var Ne=0;Ne<P.length;Ne++){var Be=P[Ne];0===Ne&&(ve=Be.r),Be.r=ve,ve+=he}}for(var ke={},Oe=0;Oe<P.length;Oe++)for(var pe=P[Oe],ze=pe.dTheta,Ge=pe.r,Fe=0;Fe<pe.length;Fe++){var Ye=pe[Fe],Mt=i.startAngle+(s?1:-1)*ze*Fe,Lt={x:m.x+Ge*Math.cos(Mt),y:m.y+Ge*Math.sin(Mt)};ke[Ye.node.id()]=Lt}return f.nodes().layoutPositions(this,i,function(Ae){var et=Ae.id();return ke[et]}),this};var Ea,ar={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(i,s){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(i){return 2048},nodeOverlap:4,idealEdgeLength:function(i){return 32},edgeElasticity:function(i){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function rc(a){this.options=Nt({},ar,a),this.options.layout=this;var i=this.options.eles.nodes(),l=this.options.eles.edges().filter(function(f){var h=f.source().data("id"),p=f.target().data("id"),m=i.some(function(y){return y.data("id")===h}),b=i.some(function(y){return y.data("id")===p});return!m||!b});this.options.eles=this.options.eles.not(l)}rc.prototype.run=function(){var a=this.options,i=a.cy,s=this;s.stopped=!1,(!0===a.animate||!1===a.animate)&&s.emit({type:"layoutstart",layout:s}),Ea=!0===a.debug;var l=bd(i,s,a);Ea&&(void 0)(l),a.randomize&&eh(l);var f=Oa(),h=function(){Ya(l,i,a),!0===a.fit&&i.fit(a.padding)},p=function(S){return!(s.stopped||S>=a.numIter||(th(l,a),l.temperature=l.temperature*a.coolingFactor,l.temperature<a.minTemp))},m=function(){if(!0===a.animate||!1===a.animate)h(),s.one("layoutstop",a.stop),s.emit({type:"layoutstop",layout:s});else{var S=a.eles.nodes(),M=_s(l,a,S);S.layoutPositions(s,a,M)}},b=0,y=!0;if(!0===a.animate)!function E(){for(var S=0;y&&S<a.refresh;)y=p(b),b++,S++;y?(Oa()-f>=a.animationThreshold&&h(),$c(E)):(rl(l,a),m())}();else{for(;y;)y=p(b),b++;rl(l,a),m()}return this},rc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},rc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var bd=function(i,s,l){for(var f=l.eles.edges(),h=l.eles.nodes(),p=fo(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),m={isCompound:i.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:h.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:l.initialTemp,clientWidth:p.w,clientHeight:p.h,boundingBox:p},b=l.eles.components(),y={},D=0;D<b.length;D++)for(var E=b[D],S=0;S<E.length;S++)y[E[S].id()]=D;for(D=0;D<m.nodeSize;D++){var R=(x=h[D]).layoutDimensions(l);(A={}).isLocked=x.locked(),A.id=x.data("id"),A.parentId=x.data("parent"),A.cmptId=y[x.id()],A.children=[],A.positionX=x.position("x"),A.positionY=x.position("y"),A.offsetX=0,A.offsetY=0,A.height=R.w,A.width=R.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(x.style("padding")),A.padRight=parseFloat(x.style("padding")),A.padTop=parseFloat(x.style("padding")),A.padBottom=parseFloat(x.style("padding")),A.nodeRepulsion=Fn(l.nodeRepulsion)?l.nodeRepulsion(x):l.nodeRepulsion,m.layoutNodes.push(A),m.idToIndex[A.id]=D}var P=[],k=0,O=-1,V=[];for(D=0;D<m.nodeSize;D++){var x,q=(x=m.layoutNodes[D]).parentId;null!=q?m.layoutNodes[m.idToIndex[q]].children.push(x.id):(P[++O]=x.id,V.push(x.id))}for(m.graphSet.push(V);k<=O;){var K=P[k++],W=m.layoutNodes[m.idToIndex[K]].children;if(W.length>0)for(m.graphSet.push(W),D=0;D<W.length;D++)P[++O]=W[D]}for(D=0;D<m.graphSet.length;D++){var U=m.graphSet[D];for(S=0;S<U.length;S++)m.indexToGraph[m.idToIndex[U[S]]]=D}for(D=0;D<m.edgeSize;D++){var X=f[D],G={};G.id=X.data("id"),G.sourceId=X.data("source"),G.targetId=X.data("target");var te=Fn(l.idealEdgeLength)?l.idealEdgeLength(X):l.idealEdgeLength,Z=Fn(l.edgeElasticity)?l.edgeElasticity(X):l.edgeElasticity,ue=m.idToIndex[G.sourceId],ne=m.idToIndex[G.targetId];if(m.indexToGraph[ue]!=m.indexToGraph[ne]){for(var ve=Jf(G.sourceId,G.targetId,m),Se=m.graphSet[ve],fe=0,A=m.layoutNodes[ue];-1===Se.indexOf(A.id);)A=m.layoutNodes[m.idToIndex[A.parentId]],fe++;for(A=m.layoutNodes[ne];-1===Se.indexOf(A.id);)A=m.layoutNodes[m.idToIndex[A.parentId]],fe++;te*=fe*l.nestingFactor}G.idealLength=te,G.elasticity=Z,m.layoutEdges.push(G)}return m},Jf=function(i,s,l){var f=Dd(i,s,0,l);return 2>f.count?0:f.graph},Dd=function a(i,s,l,f){var h=f.graphSet[l];if(-1<h.indexOf(i)&&-1<h.indexOf(s))return{count:2,graph:l};for(var p=0,m=0;m<h.length;m++){var D=f.layoutNodes[f.idToIndex[h[m]]].children;if(0!==D.length){var S=a(i,s,f.indexToGraph[f.idToIndex[D[0]]],f);if(0!==S.count){if(1!==S.count)return S;if(2==++p)break}}}return{count:p,graph:l}},eh=function(i,s){for(var l=i.clientWidth,f=i.clientHeight,h=0;h<i.nodeSize;h++){var p=i.layoutNodes[h];0===p.children.length&&!p.isLocked&&(p.positionX=Math.random()*l,p.positionY=Math.random()*f)}},_s=function(i,s,l){var f=i.boundingBox,h={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return s.boundingBox&&(l.forEach(function(p){var m=i.layoutNodes[i.idToIndex[p.data("id")]];h.x1=Math.min(h.x1,m.positionX),h.x2=Math.max(h.x2,m.positionX),h.y1=Math.min(h.y1,m.positionY),h.y2=Math.max(h.y2,m.positionY)}),h.w=h.x2-h.x1,h.h=h.y2-h.y1),function(p,m){var b=i.layoutNodes[i.idToIndex[p.data("id")]];return s.boundingBox?{x:f.x1+(b.positionX-h.x1)/h.w*f.w,y:f.y1+(b.positionY-h.y1)/h.h*f.h}:{x:b.positionX,y:b.positionY}}},Ya=function(i,s,l){var f=l.layout,h=l.eles.nodes(),p=_s(i,l,h);h.positions(p),!0!==i.ready&&(i.ready=!0,f.one("layoutready",l.ready),f.emit({type:"layoutready",layout:this}))},th=function(i,s,l){Cd(i,s),bp(i),Dp(i,s),nl(i),ic(i)},Cd=function(i,s){for(var l=0;l<i.graphSet.length;l++)for(var f=i.graphSet[l],h=f.length,p=0;p<h;p++)for(var m=i.layoutNodes[i.idToIndex[f[p]]],b=p+1;b<h;b++)ko(m,i.layoutNodes[i.idToIndex[f[b]]],i,s)},el=function(i){return-i+2*i*Math.random()},ko=function(i,s,l,f){if(i.cmptId===s.cmptId||l.isCompound){var m=s.positionX-i.positionX,b=s.positionY-i.positionY;0===m&&0===b&&(m=el(1),b=el(1));var D=Ed(i,s,m,b);if(D>0)var M=(E=f.nodeOverlap*D)*m/(S=Math.sqrt(m*m+b*b)),x=E*b/S;else{var E,R=tl(i,m,b),A=tl(s,-1*m,-1*b),P=A.x-R.x,k=A.y-R.y,O=P*P+k*k,S=Math.sqrt(O);M=(E=(i.nodeRepulsion+s.nodeRepulsion)/O)*P/S,x=E*k/S}i.isLocked||(i.offsetX-=M,i.offsetY-=x),s.isLocked||(s.offsetX+=M,s.offsetY+=x)}},Ed=function(i,s,l,f){if(l>0)var h=i.maxX-s.minX;else h=s.maxX-i.minX;if(f>0)var p=i.maxY-s.minY;else p=s.maxY-i.minY;return h>=0&&p>=0?Math.sqrt(h*h+p*p):0},tl=function(i,s,l){var f=i.positionX,h=i.positionY,p=i.height||1,m=i.width||1,b=l/s,y=p/m,D={};return 0===s&&0<l||0===s&&0>l?(D.x=f,D.y=h+p/2,D):0<s&&-1*y<=b&&b<=y?(D.x=f+m/2,D.y=h+m*l/2/s,D):0>s&&-1*y<=b&&b<=y?(D.x=f-m/2,D.y=h-m*l/2/s,D):0<l&&(b<=-1*y||b>=y)?(D.x=f+p*s/2/l,D.y=h+p/2,D):(0>l&&(b<=-1*y||b>=y)&&(D.x=f-p*s/2/l,D.y=h-p/2),D)},bp=function(i,s){for(var l=0;l<i.edgeSize;l++){var f=i.layoutEdges[l],p=i.layoutNodes[i.idToIndex[f.sourceId]],b=i.layoutNodes[i.idToIndex[f.targetId]],y=b.positionX-p.positionX,D=b.positionY-p.positionY;if(0!==y||0!==D){var E=tl(p,y,D),S=tl(b,-1*y,-1*D),M=S.x-E.x,x=S.y-E.y,R=Math.sqrt(M*M+x*x),A=Math.pow(f.idealLength-R,2)/f.elasticity;if(0!==R)var P=A*M/R,k=A*x/R;else P=0,k=0;p.isLocked||(p.offsetX+=P,p.offsetY+=k),b.isLocked||(b.offsetX-=P,b.offsetY-=k)}}},Dp=function(i,s){if(0!==s.gravity)for(var f=0;f<i.graphSet.length;f++){var h=i.graphSet[f],p=h.length;if(0===f)var m=i.clientHeight/2,b=i.clientWidth/2;else{var D=i.layoutNodes[i.idToIndex[i.layoutNodes[i.idToIndex[h[0]]].parentId]];m=D.positionX,b=D.positionY}for(var E=0;E<p;E++){var S=i.layoutNodes[i.idToIndex[h[E]]];if(!S.isLocked){var M=m-S.positionX,x=b-S.positionY,R=Math.sqrt(M*M+x*x);if(R>1){var P=s.gravity*x/R;S.offsetX+=s.gravity*M/R,S.offsetY+=P}}}}},nl=function(i,s){var l=[],f=0,h=-1;for(l.push.apply(l,i.graphSet[0]),h+=i.graphSet[0].length;f<=h;){var p=l[f++],b=i.layoutNodes[i.idToIndex[p]],y=b.children;if(0<y.length&&!b.isLocked){for(var D=b.offsetX,E=b.offsetY,S=0;S<y.length;S++){var M=i.layoutNodes[i.idToIndex[y[S]]];M.offsetX+=D,M.offsetY+=E,l[++h]=y[S]}b.offsetX=0,b.offsetY=0}}},ic=function(i,s){for(var l=0;l<i.nodeSize;l++)0<(f=i.layoutNodes[l]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(l=0;l<i.nodeSize;l++)if(!(0<(f=i.layoutNodes[l]).children.length||f.isLocked)){var h=Xa(f.offsetX,f.offsetY,i.temperature);f.positionX+=h.x,f.positionY+=h.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,Cp(f,i)}for(l=0;l<i.nodeSize;l++){var f;0<(f=i.layoutNodes[l]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},Xa=function(i,s,l){var f=Math.sqrt(i*i+s*s);if(f>l)var h={x:l*i/f,y:l*s/f};else h={x:i,y:s};return h},Cp=function a(i,s){var l=i.parentId;if(null!=l){var f=s.layoutNodes[s.idToIndex[l]],h=!1;if((null==f.maxX||i.maxX+f.padRight>f.maxX)&&(f.maxX=i.maxX+f.padRight,h=!0),(null==f.minX||i.minX-f.padLeft<f.minX)&&(f.minX=i.minX-f.padLeft,h=!0),(null==f.maxY||i.maxY+f.padBottom>f.maxY)&&(f.maxY=i.maxY+f.padBottom,h=!0),(null==f.minY||i.minY-f.padTop<f.minY)&&(f.minY=i.minY-f.padTop,h=!0),h)return a(f,s)}},rl=function(i,s){for(var l=i.layoutNodes,f=[],h=0;h<l.length;h++){var p=l[h],m=p.cmptId;(f[m]=f[m]||[]).push(p)}var y=0;for(h=0;h<f.length;h++)if(D=f[h]){D.x1=1/0,D.x2=-1/0,D.y1=1/0,D.y2=-1/0;for(var E=0;E<D.length;E++){var S=D[E];D.x1=Math.min(D.x1,S.positionX-S.width/2),D.x2=Math.max(D.x2,S.positionX+S.width/2),D.y1=Math.min(D.y1,S.positionY-S.height/2),D.y2=Math.max(D.y2,S.positionY+S.height/2)}D.w=D.x2-D.x1,D.h=D.y2-D.y1,y+=D.w*D.h}f.sort(function(k,O){return O.w*O.h-k.w*k.h});var M=0,x=0,R=0,A=0,P=Math.sqrt(y)*i.clientWidth/i.clientHeight;for(h=0;h<f.length;h++){var D;if(D=f[h]){for(E=0;E<D.length;E++)(S=D[E]).isLocked||(S.positionX+=M-D.x1,S.positionY+=x-D.y1);M+=D.w+s.componentSpacing,R+=D.w+s.componentSpacing,A=Math.max(A,D.h),R>P&&(x+=A+s.componentSpacing,M=0,R=0,A=0)}}},Ep={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(i){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function oc(a){this.options=Nt({},Ep,a)}oc.prototype.run=function(){var a=this.options,i=a,s=a.cy,l=i.eles,f=l.nodes().not(":parent");i.sort&&(f=f.sort(i.sort));var h=fo(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(0===h.h||0===h.w)l.nodes().layoutPositions(this,i,function(Ne){return{x:h.x1,y:h.y1}});else{var p=f.size(),m=Math.sqrt(p*h.h/h.w),b=Math.round(m),y=Math.round(h.w/h.h*m),D=function(Be){if(null==Be)return Math.min(b,y);Math.min(b,y)==b?b=Be:y=Be},E=function(Be){if(null==Be)return Math.max(b,y);Math.max(b,y)==b?b=Be:y=Be},S=i.rows,M=null!=i.cols?i.cols:i.columns;if(null!=S&&null!=M)b=S,y=M;else if(null!=S&&null==M)b=S,y=Math.ceil(p/b);else if(null==S&&null!=M)y=M,b=Math.ceil(p/y);else if(y*b>p){var x=D(),R=E();(x-1)*R>=p?D(x-1):(R-1)*x>=p&&E(R-1)}else for(;y*b<p;){var A=D(),P=E();(P+1)*A>=p?E(P+1):D(A+1)}var k=h.w/y,O=h.h/b;if(i.condense&&(k=0,O=0),i.avoidOverlap)for(var V=0;V<f.length;V++){var q=f[V],K=q._private.position;(null==K.x||null==K.y)&&(K.x=0,K.y=0);var $=q.layoutDimensions(i),W=i.avoidOverlapPadding,Y=$.h+W;k=Math.max(k,$.w+W),O=Math.max(O,Y)}for(var X={},G=function(Be,ke){return!!X["c-"+Be+"-"+ke]},te=function(Be,ke){X["c-"+Be+"-"+ke]=!0},Z=0,ue=0,ne=function(){++ue>=y&&(ue=0,Z++)},ee={},he=0;he<f.length;he++){var ve=f[he],Se=i.position(ve);if(Se&&(void 0!==Se.row||void 0!==Se.col)){var fe={row:Se.row,col:Se.col};if(void 0===fe.col)for(fe.col=0;G(fe.row,fe.col);)fe.col++;else if(void 0===fe.row)for(fe.row=0;G(fe.row,fe.col);)fe.row++;ee[ve.id()]=fe,te(fe.row,fe.col)}}f.layoutPositions(this,i,function(Be,ke){var Oe,pe;if(Be.locked()||Be.isParent())return!1;var ze=ee[Be.id()];if(ze)Oe=ze.col*k+k/2+h.x1,pe=ze.row*O+O/2+h.y1;else{for(;G(Z,ue);)ne();Oe=ue*k+k/2+h.x1,pe=Z*O+O/2+h.y1,te(Z,ue),ne()}return{x:Oe,y:pe}})}return this};var il={ready:function(){},stop:function(){}};function Vt(a){this.options=Nt({},il,a)}Vt.prototype.run=function(){var a=this.options,i=a.eles,s=this;return s.emit("layoutstart"),i.nodes().positions(function(){return{x:0,y:0}}),s.one("layoutready",a.ready),s.emit("layoutready"),s.one("layoutstop",a.stop),s.emit("layoutstop"),this},Vt.prototype.stop=function(){return this};var nh={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function ol(a){this.options=Nt({},nh,a)}ol.prototype.run=function(){var a=this.options,s=a.eles.nodes(),l=Fn(a.positions);return s.layoutPositions(this,a,function(h,p){var m=function f(h){return null==a.positions?function(i){return{x:i.x,y:i.y}}(h.position()):l?a.positions(h):a.positions[h._private.data.id]??null}(h);return!h.locked()&&null!=m&&m}),this};var Xo={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function _p(a){this.options=Nt({},Xo,a)}_p.prototype.run=function(){var a=this.options,i=a.cy,s=a.eles,l=fo(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});return s.nodes().layoutPositions(this,a,function(p,m){return{x:l.x1+Math.round(Math.random()*l.w),y:l.y1+Math.round(Math.random()*l.h)}}),this};var ou=[{name:"breadthfirst",impl:wd},{name:"circle",impl:Ju},{name:"concentric",impl:pi},{name:"cose",impl:rc},{name:"grid",impl:oc},{name:"null",impl:Vt},{name:"preset",impl:ol},{name:"random",impl:_p}];function ac(a){this.options=a,this.notifications=0}var $r=function(){},cv=function(){throw new Error("A headless instance can not render images")};ac.prototype={recalculateRenderedStyle:$r,notify:function(){this.notifications++},init:$r,isHeadless:function(){return!0},png:cv,jpg:cv};var _d={arrowShapeWidth:.3,registerArrowShapes:function(){var a=this.arrowShapes={},i=this,s=function(y,D,E,S,M,x,R){return M.x-E/2-R<=y&&y<=M.x+E/2+R&&M.y-E/2-R<=D&&D<=M.y+E/2+R},l=function(y,D,E,S,M){var x=y*Math.cos(S)-D*Math.sin(S),R=y*Math.sin(S)+D*Math.cos(S);return{x:x*E+M.x,y:R*E+M.y}},f=function(y,D,E,S){for(var M=[],x=0;x<y.length;x+=2)M.push(l(y[x],y[x+1],D,E,S));return M},h=function(y){for(var D=[],E=0;E<y.length;E++){var S=y[E];D.push(S.x,S.y)}return D},p=function(y){return y.pstyle("width").pfValue*y.pstyle("arrow-scale").pfValue*2},m=function(y,D){Qe(D)&&(D=a[D]),a[y]=Nt({name:y,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(S,M,x,R,A,P){var k=h(f(this.points,x+2*P,R,A));return ti(S,M,k)},roughCollide:s,draw:function(S,M,x,R){var A=f(this.points,M,x,R);i.arrowShapeImpl("polygon")(S,A)},spacing:function(S){return 0},gap:p},D)};m("none",{collide:_l,roughCollide:_l,draw:vf,spacing:Gh,gap:Gh}),m("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),m("arrow","triangle"),m("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:s,draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=this.controlPoint,A=l(R[0],R[1],D,E,S);i.arrowShapeImpl(this.name)(y,x,A)},gap:function(y){return.8*p(y)}}),m("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(y,D,E,S,M,x,R){var A=h(f(this.points,E+2*R,S,M)),P=h(f(this.pointsTee,E+2*R,S,M));return ti(y,D,A)||ti(y,D,P)},draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=f(this.pointsTee,D,E,S);i.arrowShapeImpl(this.name)(y,x,R)}}),m("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(y,D,E,S,M,x,R){var A=M,P=Math.pow(A.x-y,2)+Math.pow(A.y-D,2)<=Math.pow((E+2*R)*this.radius,2),k=h(f(this.points,E+2*R,S,M));return ti(y,D,k)||P},draw:function(y,D,E,S,M){var x=f(this.pointsTr,D,E,S);i.arrowShapeImpl(this.name)(y,x,S.x,S.y,this.radius*D)},spacing:function(y){return i.getArrowWidth(y.pstyle("width").pfValue,y.pstyle("arrow-scale").value)*this.radius}}),m("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(y,D){var E=this.baseCrossLinePts.slice(),S=D/y;return E[3]=E[3]-S,E[5]=E[5]-S,E},collide:function(y,D,E,S,M,x,R){var A=h(f(this.points,E+2*R,S,M)),P=h(f(this.crossLinePts(E,x),E+2*R,S,M));return ti(y,D,A)||ti(y,D,P)},draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=f(this.crossLinePts(D,M),D,E,S);i.arrowShapeImpl(this.name)(y,x,R)}}),m("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(y){return.525*p(y)}}),m("circle",{radius:.15,collide:function(y,D,E,S,M,x,R){var A=M;return Math.pow(A.x-y,2)+Math.pow(A.y-D,2)<=Math.pow((E+2*R)*this.radius,2)},draw:function(y,D,E,S,M){i.arrowShapeImpl(this.name)(y,S.x,S.y,this.radius*D)},spacing:function(y){return i.getArrowWidth(y.pstyle("width").pfValue,y.pstyle("arrow-scale").value)*this.radius}}),m("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(y){return 1},gap:function(y){return 1}}),m("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),m("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(y){return y.pstyle("width").pfValue*y.pstyle("arrow-scale").value}}),m("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(y){return.95*y.pstyle("width").pfValue*y.pstyle("arrow-scale").value}})}},Qa={projectIntoViewport:function(a,i){var s=this.cy,l=this.findContainerClientCoords(),f=l[0],h=l[1],p=l[4],m=s.pan(),b=s.zoom();return[((a-f)/p-m.x)/b,((i-h)/p-m.y)/b]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var a=this.container,i=a.getBoundingClientRect(),s=this.cy.window().getComputedStyle(a),l=function(P){return parseFloat(s.getPropertyValue(P))},f_left=l("padding-left"),f_right=l("padding-right"),f_top=l("padding-top"),f_bottom=l("padding-bottom"),h_left=l("border-left-width"),h_right=l("border-right-width"),h_top=l("border-top-width"),p=(l("border-bottom-width"),a.clientWidth);return this.containerBB=[i.left+f_left+h_left,i.top+f_top+h_top,p-(f_left+f_right),a.clientHeight-(f_top+f_bottom),i.width/(p+(h_left+h_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(a,i,s,l){return this.findNearestElements(a,i,s,l)[0]},findNearestElements:function(a,i,s,l){var x,R,f=this,h=this,p=h.getCachedZSortedEles(),m=[],b=h.cy.zoom(),y=h.cy.hasCompoundNodes(),D=(l?24:8)/b,E=(l?8:2)/b,S=(l?8:2)/b,M=1/0;function A($,W){if($.isNode()){if(R)return;R=$,m.push($)}if($.isEdge()&&(null==W||W<M))if(x){if(x.pstyle("z-compound-depth").value===$.pstyle("z-compound-depth").value&&x.pstyle("z-compound-depth").value===$.pstyle("z-compound-depth").value)for(var U=0;U<m.length;U++)if(m[U].isEdge()){m[U]=$,x=$,M=W??M;break}}else m.push($),x=$,M=W??M}function P($){var W=$.outerWidth()+2*E,U=$.outerHeight()+2*E,Y=W/2,X=U/2,G=$.position();if(G.x-Y<=a&&a<=G.x+Y&&G.y-X<=i&&i<=G.y+X&&h.nodeShapes[f.getNodeShape($)].checkPoint(a,i,0,W,U,G.x,G.y))return A($,0),!0}function k($){var ue,W=$._private,U=W.rscratch,Y=$.pstyle("width").pfValue,X=$.pstyle("arrow-scale").value,G=Y/2+D,te=G*G,Z=2*G,he=W.source,ve=W.target;if("segments"===U.edgeType||"straight"===U.edgeType||"haystack"===U.edgeType){for(var ne=U.allpts,ee=0;ee+3<ne.length;ee+=2)if(ho(a,i,ne[ee],ne[ee+1],ne[ee+2],ne[ee+3],Z)&&te>(ue=Rl(a,i,ne[ee],ne[ee+1],ne[ee+2],ne[ee+3])))return A($,ue),!0}else if("bezier"===U.edgeType||"multibezier"===U.edgeType||"self"===U.edgeType||"compound"===U.edgeType)for(ne=U.allpts,ee=0;ee+5<U.allpts.length;ee+=4)if(ls(a,i,ne[ee],ne[ee+1],ne[ee+2],ne[ee+3],ne[ee+4],ne[ee+5],Z)&&te>(ue=Mo(a,i,ne[ee],ne[ee+1],ne[ee+2],ne[ee+3],ne[ee+4],ne[ee+5])))return A($,ue),!0;he=he||W.source,ve=ve||W.target;var Se=f.getArrowWidth(Y,X),fe=[{name:"source",x:U.arrowStartX,y:U.arrowStartY,angle:U.srcArrowAngle},{name:"target",x:U.arrowEndX,y:U.arrowEndY,angle:U.tgtArrowAngle},{name:"mid-source",x:U.midX,y:U.midY,angle:U.midsrcArrowAngle},{name:"mid-target",x:U.midX,y:U.midY,angle:U.midtgtArrowAngle}];for(ee=0;ee<fe.length;ee++){var Ee=fe[ee],Ne=h.arrowShapes[$.pstyle(Ee.name+"-arrow-shape").value],Be=$.pstyle("width").pfValue;if(Ne.roughCollide(a,i,Se,Ee.angle,{x:Ee.x,y:Ee.y},Be,D)&&Ne.collide(a,i,Se,Ee.angle,{x:Ee.x,y:Ee.y},Be,D))return A($),!0}y&&m.length>0&&(P(he),P(ve))}function O($,W,U){return lo($,W,U)}function V($,W){var X,U=$._private,Y=S;X=W?W+"-":"",$.boundingBox();var G=U.labelBounds[W||"main"],te=$.pstyle(X+"label").value;if("yes"===$.pstyle("text-events").strValue&&te){var ue=O(U.rscratch,"labelX",W),ne=O(U.rscratch,"labelY",W),ee=O(U.rscratch,"labelAngle",W),he=$.pstyle(X+"text-margin-x").pfValue,ve=$.pstyle(X+"text-margin-y").pfValue,Se=G.x1-Y-he,fe=G.x2+Y-he,Ee=G.y1-Y-ve,Ne=G.y2+Y-ve;if(ee){var Be=Math.cos(ee),ke=Math.sin(ee),Oe=function(Lt,Ae){return{x:(Lt-=ue)*Be-(Ae-=ne)*ke+ue,y:Lt*ke+Ae*Be+ne}},pe=Oe(Se,Ee),ze=Oe(Se,Ne),Ge=Oe(fe,Ee),Fe=Oe(fe,Ne);if(ti(a,i,[pe.x+he,pe.y+ve,Ge.x+he,Ge.y+ve,Fe.x+he,Fe.y+ve,ze.x+he,ze.y+ve]))return A($),!0}else if(Al(G,a,i))return A($),!0}}s&&(p=p.interactive);for(var q=p.length-1;q>=0;q--){var K=p[q];K.isNode()?P(K)||V(K):k(K)||V(K)||V(K,"source")||V(K,"target")}return m},getAllInBox:function(a,i,s,l){for(var f=this.getCachedZSortedEles().interactive,h=[],p=Math.min(a,s),m=Math.max(a,s),b=Math.min(i,l),y=Math.max(i,l),D=fo({x1:a=p,y1:i=b,x2:s=m,y2:l=y}),E=0;E<f.length;E++){var S=f[E];if(S.isNode()){var M=S,x=M.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Jh(D,x)&&!Rt(x,D)&&h.push(M)}else{var R=S,A=R._private,P=A.rscratch;if(null!=P.startX&&null!=P.startY&&!Al(D,P.startX,P.startY)||null!=P.endX&&null!=P.endY&&!Al(D,P.endX,P.endY))continue;if("bezier"===P.edgeType||"multibezier"===P.edgeType||"self"===P.edgeType||"compound"===P.edgeType||"segments"===P.edgeType||"haystack"===P.edgeType){for(var k=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,O=!0,V=0;V<k.length;V++)if(!Yg(D,k[V])){O=!1;break}O&&h.push(R)}else("haystack"===P.edgeType||"straight"===P.edgeType)&&h.push(R)}}return h}},Sd={calculateArrowAngles:function(a){var b,y,D,E,S,M,i=a._private.rscratch,s="haystack"===i.edgeType,l="bezier"===i.edgeType,f="multibezier"===i.edgeType,h="segments"===i.edgeType,p="compound"===i.edgeType,m="self"===i.edgeType;s?(D=i.haystackPts[0],E=i.haystackPts[1],S=i.haystackPts[2],M=i.haystackPts[3]):(D=i.arrowStartX,E=i.arrowStartY,S=i.arrowEndX,M=i.arrowEndY),P=i.midX,k=i.midY,h?(b=D-i.segpts[0],y=E-i.segpts[1]):f||p||m||l?(b=D-ei((x=i.allpts)[0],x[2],x[4],.1),y=E-ei(x[1],x[3],x[5],.1)):(b=D-P,y=E-k),i.srcArrowAngle=Wc(b,y);var P=i.midX,k=i.midY;if(s&&(P=(D+S)/2,k=(E+M)/2),b=S-D,y=M-E,h)if((x=i.allpts).length/2%2==0)b=x[O=x.length/2]-x[V=O-2],y=x[O+1]-x[V+1];else{var O,V,q=2+(O=x.length/2-1);b=x[O]-x[V=O-2],y=x[O+1]-x[V+1]}else if(f||p||m){var $,W,U,Y,G,X,te,x=i.allpts;i.ctrlpts.length/2%2==0?($=ei(x[X=x.length/2-1],x[G=X+2],x[te=G+2],0),W=ei(x[X+1],x[G+1],x[te+1],0),U=ei(x[X],x[G],x[te],1e-4),Y=ei(x[X+1],x[G+1],x[te+1],1e-4)):($=ei(x[X=(G=x.length/2-1)-2],x[G],x[te=G+2],.4999),W=ei(x[X+1],x[G+1],x[te+1],.4999),U=ei(x[X],x[G],x[te],.5),Y=ei(x[X+1],x[G+1],x[te+1],.5)),b=U-$,y=Y-W}if(i.midtgtArrowAngle=Wc(b,y),i.midDispX=b,i.midDispY=y,b*=-1,y*=-1,h&&(x=i.allpts).length/2%2!=0&&(b=-(x[q=2+(O=x.length/2-1)]-x[O]),y=-(x[q+1]-x[O+1])),i.midsrcArrowAngle=Wc(b,y),h)b=S-i.segpts[i.segpts.length-2],y=M-i.segpts[i.segpts.length-1];else if(f||p||m||l){var Z=(x=i.allpts).length;b=S-ei(x[Z-6],x[Z-4],x[Z-2],.9),y=M-ei(x[Z-5],x[Z-3],x[Z-1],.9)}else b=S-P,y=M-k;i.tgtArrowAngle=Wc(b,y)}};Sd.getArrowWidth=Sd.getArrowHeight=function(a,i){var s=this.arrowWidthCache=this.arrowWidthCache||{},l=s[a+", "+i];return l||(l=Math.max(Math.pow(13.37*a,.9),29)*i,s[a+", "+i]=l,l)};var sr={};function Sp(a){var i=[];if(null!=a){for(var s=0;s<a.length;s+=2)i.push({x:a[s],y:a[s+1]});return i}}sr.findMidptPtsEtc=function(a,i){var h,U,Y,X,s=i.posPts,l=i.intersectionPts,f=i.vectorNormInverse,p=a.pstyle("source-endpoint"),m=a.pstyle("target-endpoint"),b=null!=p.units&&null!=m.units;switch(a.pstyle("edge-distances").value){case"node-position":h=s;break;case"intersection":h=l;break;case"endpoints":if(b){var S=dn(this.manualEndptToPx(a.source()[0],p),2),M=S[0],x=S[1],A=dn(this.manualEndptToPx(a.target()[0],m),2),P=A[0],k=A[1],O={x1:M,y1:x,x2:P,y2:k};Y=P-M,f={x:-(U=k-x)/(X=Math.sqrt(Y*Y+U*U)),y:Y/X},h=O}else Zt("Edge ".concat(a.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),h=l}return{midptPts:h,vectorNormInverse:f}},sr.findHaystackPoints=function(a){for(var i=0;i<a.length;i++){var s=a[i],l=s._private,f=l.rscratch;if(!f.haystack){var h=2*Math.random()*Math.PI;f.source={x:Math.cos(h),y:Math.sin(h)},h=2*Math.random()*Math.PI,f.target={x:Math.cos(h),y:Math.sin(h)}}var p=l.source,m=l.target,b=p.position(),y=m.position(),D=p.width(),E=m.width(),S=p.height(),M=m.height(),R=s.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*D*R+b.x,f.source.y*S*R+b.y,f.target.x*E*R+y.x,f.target.y*M*R+y.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(s),this.calculateArrowAngles(s),this.recalculateEdgeLabelProjections(s),this.calculateLabelAngles(s)}},sr.findSegmentsPoints=function(a,i){var s=a._private.rscratch,l=a.pstyle("segment-weights"),f=a.pstyle("segment-distances"),h=Math.min(l.pfValue.length,f.pfValue.length);s.edgeType="segments",s.segpts=[];for(var p=0;p<h;p++){var m=l.pfValue[p],b=f.pfValue[p],y=1-m,D=m,E=this.findMidptPtsEtc(a,i),S=E.midptPts,M=E.vectorNormInverse,x={x:S.x1*y+S.x2*D,y:S.y1*y+S.y2*D};s.segpts.push(x.x+M.x*b,x.y+M.y*b)}},sr.findLoopPoints=function(a,i,s,l){var f=a._private.rscratch,h=i.dirCounts,p=i.srcPos,m=a.pstyle("control-point-distances"),b=m?m.pfValue[0]:void 0,y=a.pstyle("loop-direction").pfValue,D=a.pstyle("loop-sweep").pfValue,E=a.pstyle("control-point-step-size").pfValue;f.edgeType="self";var S=s,M=E;l&&(S=0,M=b);var x=y-Math.PI/2,R=x-D/2,A=x+D/2,P=y+"_"+D;S=void 0===h[P]?h[P]=0:++h[P],f.ctrlpts=[p.x+1.4*Math.cos(R)*M*(S/3+1),p.y+1.4*Math.sin(R)*M*(S/3+1),p.x+1.4*Math.cos(A)*M*(S/3+1),p.y+1.4*Math.sin(A)*M*(S/3+1)]},sr.findCompoundLoopPoints=function(a,i,s,l){var f=a._private.rscratch;f.edgeType="compound";var h=i.srcPos,p=i.tgtPos,m=i.srcW,b=i.srcH,y=i.tgtW,D=i.tgtH,E=a.pstyle("control-point-step-size").pfValue,S=a.pstyle("control-point-distances"),x=s,R=E;l&&(x=0,R=S?S.pfValue[0]:void 0);var P={x:h.x-m/2,y:h.y-b/2},k={x:p.x-y/2,y:p.y-D/2},O={x:Math.min(P.x,k.x),y:Math.min(P.y,k.y)},q=Math.max(.5,Math.log(.01*m)),K=Math.max(.5,Math.log(.01*y));f.ctrlpts=[O.x,O.y-(1+Math.pow(50,1.12)/100)*R*(x/3+1)*q,O.x-(1+Math.pow(50,1.12)/100)*R*(x/3+1)*K,O.y]},sr.findStraightEdgePoints=function(a){a._private.rscratch.edgeType="straight"},sr.findBezierPoints=function(a,i,s,l,f){var h=a._private.rscratch,p=a.pstyle("control-point-step-size").pfValue,m=a.pstyle("control-point-distances"),b=a.pstyle("control-point-weights"),y=m&&b?Math.min(m.value.length,b.value.length):1,D=m?m.pfValue[0]:void 0,E=b.value[0],S=l;h.edgeType=S?"multibezier":"bezier",h.ctrlpts=[];for(var M=0;M<y;M++){var R,x=(.5-i.eles.length/2+s)*p*(f?-1:1),A=bf(x);S&&(D=m?m.pfValue[M]:p,E=b.value[M]);var P=void 0!==(R=l?D:void 0!==D?A*D:void 0)?R:x,k=1-E,O=E,V=this.findMidptPtsEtc(a,i),q=V.midptPts,K=V.vectorNormInverse,$={x:q.x1*k+q.x2*O,y:q.y1*k+q.y2*O};h.ctrlpts.push($.x+K.x*P,$.y+K.y*P)}},sr.findTaxiPoints=function(a,i){var s=a._private.rscratch;s.edgeType="segments";var l="vertical",f="horizontal",h="leftward",p="rightward",m="downward",b="upward",D=i.posPts,E=i.srcW,S=i.srcH,M=i.tgtW,x=i.tgtH,A="node-position"!==a.pstyle("edge-distances").value,P=a.pstyle("taxi-direction").value,k=P,O=a.pstyle("taxi-turn"),V="%"===O.units,q=O.pfValue,K=q<0,$=a.pstyle("taxi-turn-min-distance").pfValue,U=A?(S+x)/2:0,Y=D.x2-D.x1,X=D.y2-D.y1,G=function(ye,bt){return ye>0?Math.max(ye-bt,0):Math.min(ye+bt,0)},te=G(Y,A?(E+M)/2:0),Z=G(X,U),ue=!1;"auto"===k?P=Math.abs(te)>Math.abs(Z)?f:l:k===b||k===m?(P=l,ue=!0):(k===h||k===p)&&(P=f,ue=!0);var fe,ne=P===l,ee=ne?Z:te,he=ne?X:Y,ve=bf(he),Se=!1;(!ue||!V&&!K)&&(k===m&&he<0||k===b&&he>0||k===h&&he>0||k===p&&he<0)&&(ee=(ve*=-1)*Math.abs(ee),Se=!0);var Be=function(ye){return Math.abs(ye)<$||Math.abs(ye)>=Math.abs(ee)},ke=Be(fe=V?(q<0?1+q:q)*ee:(q<0?ee:0)+q*ve),Oe=Be(Math.abs(ee)-Math.abs(fe));if(!ke&&!Oe||Se)if(ne){var me=D.y1+fe+(A?S/2*ve:0);s.segpts=[D.x1,me,D.x2,me]}else{var xe=D.x1+fe+(A?E/2*ve:0);s.segpts=[xe,D.y1,xe,D.y2]}else if(ne){var ze=Math.abs(he)<=S/2,Ge=Math.abs(Y)<=M/2;if(ze){var Fe=(D.x1+D.x2)/2;s.segpts=[Fe,D.y1,Fe,D.y2]}else if(Ge){var Lt=(D.y1+D.y2)/2;s.segpts=[D.x1,Lt,D.x2,Lt]}else s.segpts=[D.x1,D.y2]}else{var pt=Math.abs(he)<=E/2,it=Math.abs(X)<=x/2;if(pt){var Dt=(D.y1+D.y2)/2;s.segpts=[D.x1,Dt,D.x2,Dt]}else if(it){var un=(D.x1+D.x2)/2;s.segpts=[un,D.y1,un,D.y2]}else s.segpts=[D.x2,D.y1]}},sr.tryToCorrectInvalidPoints=function(a,i){var s=a._private.rscratch;if("bezier"===s.edgeType){var l=i.srcPos,f=i.tgtPos,h=i.srcW,p=i.srcH,m=i.tgtW,b=i.tgtH,y=i.srcShape,D=i.tgtShape,E=!ot(s.startX)||!ot(s.startY),S=!ot(s.arrowStartX)||!ot(s.arrowStartY),M=!ot(s.endX)||!ot(s.endY),x=!ot(s.arrowEndX)||!ot(s.arrowEndY),P=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,k=Ba({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.startX,y:s.startY}),O=k<P,V=Ba({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.endX,y:s.endY}),q=V<P,K=!1;if(E||S||O){K=!0;var $={x:s.ctrlpts[0]-l.x,y:s.ctrlpts[1]-l.y},W=Math.sqrt($.x*$.x+$.y*$.y),U={x:$.x/W,y:$.y/W},Y=Math.max(h,p),X={x:s.ctrlpts[0]+2*U.x*Y,y:s.ctrlpts[1]+2*U.y*Y},G=y.intersectLine(l.x,l.y,h,p,X.x,X.y,0);O?(s.ctrlpts[0]=s.ctrlpts[0]+U.x*(P-k),s.ctrlpts[1]=s.ctrlpts[1]+U.y*(P-k)):(s.ctrlpts[0]=G[0]+U.x*P,s.ctrlpts[1]=G[1]+U.y*P)}if(M||x||q){K=!0;var te={x:s.ctrlpts[0]-f.x,y:s.ctrlpts[1]-f.y},Z=Math.sqrt(te.x*te.x+te.y*te.y),ue={x:te.x/Z,y:te.y/Z},ne=Math.max(h,p),ee={x:s.ctrlpts[0]+2*ue.x*ne,y:s.ctrlpts[1]+2*ue.y*ne},he=D.intersectLine(f.x,f.y,m,b,ee.x,ee.y,0);q?(s.ctrlpts[0]=s.ctrlpts[0]+ue.x*(P-V),s.ctrlpts[1]=s.ctrlpts[1]+ue.y*(P-V)):(s.ctrlpts[0]=he[0]+ue.x*P,s.ctrlpts[1]=he[1]+ue.y*P)}K&&this.findEndpoints(a)}},sr.storeAllpts=function(a){var i=a._private.rscratch;if("multibezier"===i.edgeType||"bezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType){i.allpts=[],i.allpts.push(i.startX,i.startY);for(var s=0;s+1<i.ctrlpts.length;s+=2)i.allpts.push(i.ctrlpts[s],i.ctrlpts[s+1]),s+3<i.ctrlpts.length&&i.allpts.push((i.ctrlpts[s]+i.ctrlpts[s+2])/2,(i.ctrlpts[s+1]+i.ctrlpts[s+3])/2);var l;i.allpts.push(i.endX,i.endY),i.ctrlpts.length/2%2==0?(i.midX=i.allpts[l=i.allpts.length/2-1],i.midY=i.allpts[l+1]):(i.midX=ei(i.allpts[l=i.allpts.length/2-3],i.allpts[l+2],i.allpts[l+4],.5),i.midY=ei(i.allpts[l+1],i.allpts[l+3],i.allpts[l+5],.5))}else if("straight"===i.edgeType)i.allpts=[i.startX,i.startY,i.endX,i.endY],i.midX=(i.startX+i.endX+i.arrowStartX+i.arrowEndX)/4,i.midY=(i.startY+i.endY+i.arrowStartY+i.arrowEndY)/4;else if("segments"===i.edgeType)if(i.allpts=[],i.allpts.push(i.startX,i.startY),i.allpts.push.apply(i.allpts,i.segpts),i.allpts.push(i.endX,i.endY),i.segpts.length%4==0){var h=i.segpts.length/2,p=h-2;i.midX=(i.segpts[p]+i.segpts[h])/2,i.midY=(i.segpts[p+1]+i.segpts[h+1])/2}else{var m=i.segpts.length/2-1;i.midX=i.segpts[m],i.midY=i.segpts[m+1]}},sr.checkForInvalidEdgeWarning=function(a){var i=a[0]._private.rscratch;i.nodesOverlap||ot(i.startX)&&ot(i.startY)&&ot(i.endX)&&ot(i.endY)?i.loggedErr=!1:i.loggedErr||(i.loggedErr=!0,Zt("Edge `"+a.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},sr.findEdgeControlPoints=function(a){var i=this;if(a&&0!==a.length){for(var s=this,f=s.cy.hasCompoundNodes(),h={map:new la,get:function($){var W=this.map.get($[0]);return null!=W?W.get($[1]):null},set:function($,W){var U=this.map.get($[0]);null==U&&(U=new la,this.map.set($[0],U)),U.set($[1],W)}},p=[],m=[],b=0;b<a.length;b++){var y=a[b],D=y._private,E=y.pstyle("curve-style").value;if(!y.removed()&&y.takesUpSpace()){if("haystack"===E){m.push(y);continue}var S="unbundled-bezier"===E||"segments"===E||"straight"===E||"straight-triangle"===E||"taxi"===E,M="unbundled-bezier"===E||"bezier"===E,R=D.target,k=[D.source.poolIndex(),R.poolIndex()].sort(),O=h.get(k);null==O&&(h.set(k,O={eles:[]}),p.push(k)),O.eles.push(y),S&&(O.hasUnbundled=!0),M&&(O.hasBezier=!0)}}for(var V=function($){var U=h.get(p[$]),Y=void 0;if(!U.hasUnbundled){var X=U.eles[0].parallelEdges().filter(function(ln){return ln.isBundledBezier()});mf(U.eles),X.forEach(function(ln){return U.eles.push(ln)}),U.eles.sort(function(ln,me){return ln.poolIndex()-me.poolIndex()})}var G=U.eles[0],te=G.source(),Z=G.target();if(te.poolIndex()>Z.poolIndex()){var ue=te;te=Z,Z=ue}var ne=U.srcPos=te.position(),ee=U.tgtPos=Z.position(),he=U.srcW=te.outerWidth(),ve=U.srcH=te.outerHeight(),Se=U.tgtW=Z.outerWidth(),fe=U.tgtH=Z.outerHeight(),Ee=U.srcShape=s.nodeShapes[i.getNodeShape(te)],Ne=U.tgtShape=s.nodeShapes[i.getNodeShape(Z)];U.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Be=0;Be<U.eles.length;Be++){var ke=U.eles[Be],Oe=ke[0]._private.rscratch,pe=ke.pstyle("curve-style").value,ze="unbundled-bezier"===pe||"segments"===pe||"taxi"===pe,Ge=!te.same(ke.source());if(!U.calculatedIntersection&&te!==Z&&(U.hasBezier||U.hasUnbundled)){U.calculatedIntersection=!0;var Fe=Ee.intersectLine(ne.x,ne.y,he,ve,ee.x,ee.y,0),Ye=U.srcIntn=Fe,Mt=Ne.intersectLine(ee.x,ee.y,Se,fe,ne.x,ne.y,0),Lt=U.tgtIntn=Mt,Ae=U.intersectionPts={x1:Fe[0],x2:Mt[0],y1:Fe[1],y2:Mt[1]},et=U.posPts={x1:ne.x,x2:ee.x,y1:ne.y,y2:ee.y},pt=Mt[1]-Fe[1],it=Mt[0]-Fe[0],Dt=Math.sqrt(it*it+pt*pt),Ct=U.vector={x:it,y:pt},mn=U.vectorNorm={x:Ct.x/Dt,y:Ct.y/Dt},un={x:-mn.y,y:mn.x};U.nodesOverlap=!ot(Dt)||Ne.checkPoint(Fe[0],Fe[1],0,Se,fe,ee.x,ee.y)||Ee.checkPoint(Mt[0],Mt[1],0,he,ve,ne.x,ne.y),U.vectorNormInverse=un,Y={nodesOverlap:U.nodesOverlap,dirCounts:U.dirCounts,calculatedIntersection:!0,hasBezier:U.hasBezier,hasUnbundled:U.hasUnbundled,eles:U.eles,srcPos:ee,tgtPos:ne,srcW:Se,srcH:fe,tgtW:he,tgtH:ve,srcIntn:Lt,tgtIntn:Ye,srcShape:Ne,tgtShape:Ee,posPts:{x1:et.x2,y1:et.y2,x2:et.x1,y2:et.y1},intersectionPts:{x1:Ae.x2,y1:Ae.y2,x2:Ae.x1,y2:Ae.y1},vector:{x:-Ct.x,y:-Ct.y},vectorNorm:{x:-mn.x,y:-mn.y},vectorNormInverse:{x:-un.x,y:-un.y}}}var $t=Ge?Y:U;Oe.nodesOverlap=$t.nodesOverlap,Oe.srcIntn=$t.srcIntn,Oe.tgtIntn=$t.tgtIntn,f&&(te.isParent()||te.isChild()||Z.isParent()||Z.isChild())&&(te.parents().anySame(Z)||Z.parents().anySame(te)||te.same(Z)&&te.isParent())?i.findCompoundLoopPoints(ke,$t,Be,ze):te===Z?i.findLoopPoints(ke,$t,Be,ze):"segments"===pe?i.findSegmentsPoints(ke,$t):"taxi"===pe?i.findTaxiPoints(ke,$t):"straight"===pe||!ze&&U.eles.length%2==1&&Be===Math.floor(U.eles.length/2)?i.findStraightEdgePoints(ke):i.findBezierPoints(ke,$t,Be,ze,Ge),i.findEndpoints(ke),i.tryToCorrectInvalidPoints(ke,$t),i.checkForInvalidEdgeWarning(ke),i.storeAllpts(ke),i.storeEdgeProjections(ke),i.calculateArrowAngles(ke),i.recalculateEdgeLabelProjections(ke),i.calculateLabelAngles(ke)}},q=0;q<p.length;q++)V(q);this.findHaystackPoints(m)}},sr.getSegmentPoints=function(a){var i=a[0]._private.rscratch;if("segments"===i.edgeType)return this.recalculateRenderedStyle(a),Sp(i.segpts)},sr.getControlPoints=function(a){var i=a[0]._private.rscratch,s=i.edgeType;if("bezier"===s||"multibezier"===s||"self"===s||"compound"===s)return this.recalculateRenderedStyle(a),Sp(i.ctrlpts)},sr.getEdgeMidpoint=function(a){var i=a[0]._private.rscratch;return this.recalculateRenderedStyle(a),{x:i.midX,y:i.midY}};var Ss={manualEndptToPx:function(a,i){var l=a.position(),f=a.outerWidth(),h=a.outerHeight();if(2===i.value.length){var p=[i.pfValue[0],i.pfValue[1]];return"%"===i.units[0]&&(p[0]=p[0]*f),"%"===i.units[1]&&(p[1]=p[1]*h),p[0]+=l.x,p[1]+=l.y,p}var m=i.pfValue[0];m=-Math.PI/2+m;var b=2*Math.max(f,h),y=[l.x+Math.cos(m)*b,l.y+Math.sin(m)*b];return this.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,f,h,y[0],y[1],0)},findEndpoints:function(a){var s,Y,X,G,te,i=this,l=a.source()[0],f=a.target()[0],h=l.position(),p=f.position(),m=a.pstyle("target-arrow-shape").value,b=a.pstyle("source-arrow-shape").value,y=a.pstyle("target-distance-from-node").pfValue,D=a.pstyle("source-distance-from-node").pfValue,E=a.pstyle("curve-style").value,S=a._private.rscratch,M=S.edgeType,R="self"===M||"compound"===M,A="bezier"===M||"multibezier"===M||R,P="bezier"!==M,k="straight"===M||"segments"===M,O="segments"===M,V=A||P||k,q=R||"taxi"===E,K=a.pstyle("source-endpoint"),$=q?"outside-to-node":K.value,W=a.pstyle("target-endpoint"),U=q?"outside-to-node":W.value;if(S.srcManEndpt=K,S.tgtManEndpt=W,A){var Z=[S.ctrlpts[0],S.ctrlpts[1]];Y=P?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:Z,X=Z}else if(k){var ne=O?S.segpts.slice(0,2):[p.x,p.y];Y=O?S.segpts.slice(S.segpts.length-2):[h.x,h.y],X=ne}if("inside-to-node"===U)s=[p.x,p.y];else if(W.units)s=this.manualEndptToPx(f,W);else if("outside-to-line"===U)s=S.tgtIntn;else if("outside-to-node"===U||"outside-to-node-or-label"===U?G=Y:("outside-to-line"===U||"outside-to-line-or-label"===U)&&(G=[h.x,h.y]),s=i.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),G[0],G[1],0),"outside-to-node-or-label"===U||"outside-to-line-or-label"===U){var he=f._private.rscratch,fe=he.labelX,Ee=he.labelY,Ne=he.labelWidth/2,Be=he.labelHeight/2,ke=f.pstyle("text-valign").value;"top"===ke?Ee-=Be:"bottom"===ke&&(Ee+=Be);var Oe=f.pstyle("text-halign").value;"left"===Oe?fe-=Ne:"right"===Oe&&(fe+=Ne);var pe=Dn(G[0],G[1],[fe-Ne,Ee-Be,fe+Ne,Ee-Be,fe+Ne,Ee+Be,fe-Ne,Ee+Be],p.x,p.y);if(pe.length>0){var ze=h,Ge=qr(ze,Il(s)),Fe=qr(ze,Il(pe)),Ye=Ge;Fe<Ge&&(s=pe,Ye=Fe),pe.length>2&&qr(ze,{x:pe[2],y:pe[3]})<Ye&&(s=[pe[2],pe[3]])}}var Lt=Pl(s,Y,i.arrowShapes[m].spacing(a)+y),Ae=Pl(s,Y,i.arrowShapes[m].gap(a)+y);if(S.endX=Ae[0],S.endY=Ae[1],S.arrowEndX=Lt[0],S.arrowEndY=Lt[1],"inside-to-node"===$)s=[h.x,h.y];else if(K.units)s=this.manualEndptToPx(l,K);else if("outside-to-line"===$)s=S.srcIntn;else if("outside-to-node"===$||"outside-to-node-or-label"===$?te=X:("outside-to-line"===$||"outside-to-line-or-label"===$)&&(te=[p.x,p.y]),s=i.nodeShapes[this.getNodeShape(l)].intersectLine(h.x,h.y,l.outerWidth(),l.outerHeight(),te[0],te[1],0),"outside-to-node-or-label"===$||"outside-to-line-or-label"===$){var et=l._private.rscratch,Dt=et.labelX,Ct=et.labelY,mn=et.labelWidth/2,un=et.labelHeight/2,$t=l.pstyle("text-valign").value;"top"===$t?Ct-=un:"bottom"===$t&&(Ct+=un);var ln=l.pstyle("text-halign").value;"left"===ln?Dt-=mn:"right"===ln&&(Dt+=mn);var me=Dn(te[0],te[1],[Dt-mn,Ct-un,Dt+mn,Ct-un,Dt+mn,Ct+un,Dt-mn,Ct+un],h.x,h.y);if(me.length>0){var z=p,ge=qr(z,Il(s)),xe=qr(z,Il(me)),Ce=ge;xe<ge&&(s=[me[0],me[1]],Ce=xe),me.length>2&&qr(z,{x:me[2],y:me[3]})<Ce&&(s=[me[2],me[3]])}}var at=Pl(s,X,i.arrowShapes[b].spacing(a)+D),ye=Pl(s,X,i.arrowShapes[b].gap(a)+D);S.startX=ye[0],S.startY=ye[1],S.arrowStartX=at[0],S.arrowStartY=at[1],V&&(S.badLine=!(ot(S.startX)&&ot(S.startY)&&ot(S.endX)&&ot(S.endY)))},getSourceEndpoint:function(a){var i=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),i.edgeType)?{x:i.haystackPts[0],y:i.haystackPts[1]}:{x:i.arrowStartX,y:i.arrowStartY}},getTargetEndpoint:function(a){var i=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),i.edgeType)?{x:i.haystackPts[2],y:i.haystackPts[3]}:{x:i.arrowEndX,y:i.arrowEndY}}},sc={};function _a(a,i,s){for(var l=function(y,D,E,S){return ei(y,D,E,S)},h=i._private.rstyle.bezierPts,p=0;p<a.bezierProjPcts.length;p++){var m=a.bezierProjPcts[p];h.push({x:l(s[0],s[2],s[4],m),y:l(s[1],s[3],s[5],m)})}}sc.storeEdgeProjections=function(a){var i=a._private,s=i.rscratch,l=s.edgeType;if(i.rstyle.bezierPts=null,i.rstyle.linePts=null,i.rstyle.haystackPts=null,"multibezier"===l||"bezier"===l||"self"===l||"compound"===l){i.rstyle.bezierPts=[];for(var f=0;f+5<s.allpts.length;f+=4)_a(this,a,s.allpts.slice(f,f+6))}else if("segments"===l){var h=i.rstyle.linePts=[];for(f=0;f+1<s.allpts.length;f+=2)h.push({x:s.allpts[f],y:s.allpts[f+1]})}else if("haystack"===l){var p=s.haystackPts;i.rstyle.haystackPts=[{x:p[0],y:p[1]},{x:p[2],y:p[3]}]}i.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth},sc.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};var Xn={recalculateNodeLabelProjection:function(a){var i=a.pstyle("label").strValue;if(!nn(i)){var s,l,f=a._private,h=a.width(),p=a.height(),m=a.padding(),b=a.position(),y=a.pstyle("text-halign").strValue,D=a.pstyle("text-valign").strValue,E=f.rscratch,S=f.rstyle;switch(y){case"left":s=b.x-h/2-m;break;case"right":s=b.x+h/2+m;break;default:s=b.x}switch(D){case"top":l=b.y-p/2-m;break;case"bottom":l=b.y+p/2+m;break;default:l=b.y}E.labelX=s,E.labelY=l,S.labelX=s,S.labelY=l,this.calculateLabelAngles(a),this.applyLabelDimensions(a)}}},al=function(i,s){var l=Math.atan(s/i);return 0===i&&l<0&&(l*=-1),l},xp=function(i,s){return al(s.x-i.x,s.y-i.y)};Xn.recalculateEdgeLabelProjections=function(a){var i,s=a._private,l=s.rscratch,f=this,h={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(h.mid||h.source||h.target){var p=function(E,S,M){La(s.rscratch,E,S,M),La(s.rstyle,E,S,M)};p("labelX",null,(i={x:l.midX,y:l.midY}).x),p("labelY",null,i.y);var m=al(l.midDispX,l.midDispY);p("labelAutoAngle",null,m);var b=function D(){if(D.cache)return D.cache;for(var E=[],S=0;S+5<l.allpts.length;S+=4)E.push({p0:{x:l.allpts[S],y:l.allpts[S+1]},p1:{x:l.allpts[S+2],y:l.allpts[S+3]},p2:{x:l.allpts[S+4],y:l.allpts[S+5]},startDist:0,length:0,segments:[]});var A=s.rstyle.bezierPts,P=f.bezierProjPcts.length;function k($,W,U,Y,X){var G=Ba(W,U),te=$.segments[$.segments.length-1];$.segments.push({p0:W,p1:U,t0:Y,t1:X,startDist:te?te.startDist+te.length:0,length:G}),$.length+=G}for(var O=0;O<E.length;O++){var V=E[O],q=E[O-1];q&&(V.startDist=q.startDist+q.length),k(V,V.p0,A[O*P],0,f.bezierProjPcts[0]);for(var K=0;K<P-1;K++)k(V,A[O*P+K],A[O*P+K+1],f.bezierProjPcts[K],f.bezierProjPcts[K+1]);k(V,A[O*P+P-1],V.p2,f.bezierProjPcts[P-1],1)}return D.cache=E},y=function(E){var S,M="source"===E;if(h[E]){var x=a.pstyle(E+"-text-offset").pfValue;switch(l.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var A,R=b(),P=0,k=0,O=0;O<R.length;O++){for(var V=R[M?O:R.length-1-O],q=0;q<V.segments.length;q++){var K=V.segments[M?q:V.segments.length-1-q];if(P=k,(k+=K.length)>=x||O===R.length-1&&q===V.segments.length-1){A={cp:V,segment:K};break}}if(A)break}var W=A.cp,U=A.segment,Y=(x-P)/U.length,X=U.t1-U.t0,G=M?U.t0+X*Y:U.t1-X*Y;G=Zc(0,G,1),i=zs(W.p0,W.p1,W.p2,G),S=function(i,s,l,f){var h=Zc(0,f-.001,1),p=Zc(0,f+.001,1),m=zs(i,s,l,h),b=zs(i,s,l,p);return xp(m,b)}(W.p0,W.p1,W.p2,G);break;case"straight":case"segments":case"haystack":for(var Z,ue,ne,ee,te=0,he=l.allpts.length,ve=0;ve+3<he&&(M?(ne={x:l.allpts[ve],y:l.allpts[ve+1]},ee={x:l.allpts[ve+2],y:l.allpts[ve+3]}):(ne={x:l.allpts[he-2-ve],y:l.allpts[he-1-ve]},ee={x:l.allpts[he-4-ve],y:l.allpts[he-3-ve]}),ue=te,!((te+=Z=Ba(ne,ee))>=x));ve+=2);var fe=(x-ue)/Z;fe=Zc(0,fe,1),i=function(i,s,l,f){var h_x=s.x-i.x,h_y=s.y-i.y,p=Ba(i,s);return l=l??0,{x:i.x+h_x/p*(f=f??l*p),y:i.y+h_y/p*f}}(ne,ee,fe),S=xp(ne,ee)}p("labelX",E,i.x),p("labelY",E,i.y),p("labelAutoAngle",E,S)}};y("source"),y("target"),this.applyLabelDimensions(a)}},Xn.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},Xn.applyPrefixedLabelDimensions=function(a,i){var s=a._private,l=this.getLabelText(a,i),f=this.calculateLabelDimensions(a,l),h=a.pstyle("line-height").pfValue,p=a.pstyle("text-wrap").strValue,m=lo(s.rscratch,"labelWrapCachedLines",i)||[],b="wrap"!==p?1:Math.max(m.length,1),y=f.height/b,D=y*h,E=f.width,S=f.height+(b-1)*(h-1)*y;La(s.rstyle,"labelWidth",i,E),La(s.rscratch,"labelWidth",i,E),La(s.rstyle,"labelHeight",i,S),La(s.rscratch,"labelHeight",i,S),La(s.rscratch,"labelLineHeight",i,D)},Xn.getLabelText=function(a,i){var s=a._private,f=a.pstyle((i?i+"-":"")+"label").strValue,h=a.pstyle("text-transform").value,p=function(Se,fe){return fe?(La(s.rscratch,Se,i,fe),fe):lo(s.rscratch,Se,i)};if(!f)return"";"none"==h||("uppercase"==h?f=f.toUpperCase():"lowercase"==h&&(f=f.toLowerCase()));var m=a.pstyle("text-wrap").value;if("wrap"===m){var b=p("labelKey");if(null!=b&&p("labelWrapKey")===b)return p("labelWrapCachedText");for(var D=f.split("\n"),E=a.pstyle("text-max-width").pfValue,M="anywhere"===a.pstyle("text-overflow-wrap").value,x=[],R=/[\s\u200b]+/,A=M?"":" ",P=0;P<D.length;P++){var k=D[P],V=this.calculateLabelDimensions(a,k).width;if(M){var q=k.split("").join("\u200b");k=q}if(V>E){for(var K=k.split(R),$="",W=0;W<K.length;W++){var U=K[W];this.calculateLabelDimensions(a,0===$.length?U:$+A+U).width<=E?$+=U+A:($&&x.push($),$=U+A)}$.match(/^[\s\u200b]+$/)||x.push($)}else x.push(k)}p("labelWrapCachedLines",x),f=p("labelWrapCachedText",x.join("\n")),p("labelWrapKey",b)}else if("ellipsis"===m){var te=a.pstyle("text-max-width").pfValue,Z="",ne=!1;if(this.calculateLabelDimensions(a,f).width<te)return f;for(var ee=0;ee<f.length&&!(this.calculateLabelDimensions(a,Z+f[ee]+"\u2026").width>te);ee++)Z+=f[ee],ee===f.length-1&&(ne=!0);return ne||(Z+="\u2026"),Z}return f},Xn.getLabelJustification=function(a){var i=a.pstyle("text-justification").strValue,s=a.pstyle("text-halign").strValue;if("auto"!==i)return i;if(!a.isNode())return"center";switch(s){case"left":return"right";case"right":return"left";default:return"center"}},Xn.calculateLabelDimensions=function(a,i){var l=ua(i,a._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),h=f[l];if(null!=h)return h;var m=a.pstyle("font-style").strValue,b=a.pstyle("font-size").pfValue,y=a.pstyle("font-family").strValue,D=a.pstyle("font-weight").strValue,E=this.labelCalcCanvas,S=this.labelCalcCanvasContext;if(!E){E=this.labelCalcCanvas=document.createElement("canvas"),S=this.labelCalcCanvasContext=E.getContext("2d");var M=E.style;M.position="absolute",M.left="-9999px",M.top="-9999px",M.zIndex="-1",M.visibility="hidden",M.pointerEvents="none"}S.font="".concat(m," ").concat(D," ").concat(b,"px ").concat(y);for(var x=0,R=0,A=i.split("\n"),P=0;P<A.length;P++){var O=S.measureText(A[P]),V=Math.ceil(O.width),q=b;x=Math.max(V,x),R+=q}return f[l]={width:x+=0,height:R+=0}},Xn.calculateLabelAngle=function(a,i){var l=a._private.rscratch,f=a.isEdge(),p=a.pstyle((i?i+"-":"")+"text-rotation"),m=p.strValue;return"none"===m?0:f&&"autorotate"===m?l.labelAutoAngle:"autorotate"===m?0:p.pfValue},Xn.calculateLabelAngles=function(a){var i=this,s=a.isEdge(),f=a._private.rscratch;f.labelAngle=i.calculateLabelAngle(a),s&&(f.sourceLabelAngle=i.calculateLabelAngle(a,"source"),f.targetLabelAngle=i.calculateLabelAngle(a,"target"))};var rh={},au=!1;rh.getNodeShape=function(a){var s=a.pstyle("shape").value;if("cutrectangle"===s&&(a.width()<28||a.height()<28))return au||(Zt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),au=!0),"rectangle";if(a.isParent())return"rectangle"===s||"roundrectangle"===s||"round-rectangle"===s||"cutrectangle"===s||"cut-rectangle"===s||"barrel"===s?s:"rectangle";if("polygon"===s){var l=a.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(l).name}return s};var xs={updateCachedGrabbedEles:function(){var a=this.cachedZSortedEles;if(a){a.drag=[],a.nondrag=[];for(var i=[],s=0;s<a.length;s++){var f=(l=a[s])._private.rscratch;l.grabbed()&&!l.isParent()?i.push(l):f.inDragLayer?a.drag.push(l):a.nondrag.push(l)}for(s=0;s<i.length;s++){var l;a.drag.push(l=i[s])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(a){if(a||!this.cachedZSortedEles){var i=this.cy.mutableElements().toArray();i.sort(fp),i.interactive=i.filter(function(s){return s.interactive()}),this.cachedZSortedEles=i,this.updateCachedGrabbedEles()}else i=this.cachedZSortedEles;return i}},Ms={};[Qa,Sd,sr,Ss,sc,Xn,rh,{registerCalculationListeners:function(){var a=this.cy,i=a.collection(),s=this,l=function(p){var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i.merge(p),m)for(var b=0;b<p.length;b++){var E=p[b]._private.rstyle;E.clean=!1,E.cleanConnected=!1}};s.binder(a).on("bounds.* dirty.*",function(p){l(p.target)}).on("style.* background.*",function(p){l(p.target,!1)});var f=function(p){if(p){var m=s.onUpdateEleCalcsFns;i.cleanStyle();for(var b=0;b<i.length;b++){var y=i[b],D=y._private.rstyle;y.isNode()&&!D.cleanConnected&&(l(y.connectedEdges()),D.cleanConnected=!0)}if(m)for(var E=0;E<m.length;E++)(0,m[E])(p,i);s.recalculateRenderedStyle(i),i=a.collection()}};s.flushRenderedStyleQueue=function(){f(!0)},s.beforeRender(f,s.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(a){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(a)},recalculateRenderedStyle:function(a,i){var s=function(V){return V._private.rstyle.cleanConnected},l=[],f=[];if(!this.destroyed){void 0===i&&(i=!0);for(var h=0;h<a.length;h++){var p=a[h],m=p._private,b=m.rstyle;p.isEdge()&&(!s(p.source())||!s(p.target()))&&(b.clean=!1),!(i&&b.clean||p.removed())&&"none"!==p.pstyle("display").value&&("nodes"===m.group?f.push(p):l.push(p),b.clean=!0)}for(var y=0;y<f.length;y++){var D=f[y],S=D._private.rstyle,M=D.position();this.recalculateNodeLabelProjection(D),S.nodeX=M.x,S.nodeY=M.y,S.nodeW=D.pstyle("width").pfValue,S.nodeH=D.pstyle("height").pfValue}this.recalculateEdgeProjections(l);for(var x=0;x<l.length;x++){var A=l[x]._private,P=A.rstyle,k=A.rscratch;P.srcX=k.arrowStartX,P.srcY=k.arrowStartY,P.tgtX=k.arrowEndX,P.tgtY=k.arrowEndY,P.midX=k.midX,P.midY=k.midY,P.labelAngle=k.labelAngle,P.sourceLabelAngle=k.sourceLabelAngle,P.targetLabelAngle=k.targetLabelAngle}}}},xs].forEach(function(a){Nt(Ms,a)});var Mp={getCachedImage:function(a,i,s){var f=this.imageCache=this.imageCache||{},h=f[a];if(h)return h.image.complete||h.image.addEventListener("load",s),h.image;var p=(h=f[a]=f[a]||{}).image=new Image;p.addEventListener("load",s),p.addEventListener("error",function(){p.error=!0});return"data:"===a.substring(0,5).toLowerCase()||(p.crossOrigin=i="null"===i?null:i),p.src=a,p}},su={registerBinding:function(a,i,s,l){var f=Array.prototype.slice.apply(arguments,[1]),h=this.binder(a);return h.on.apply(h,f)},binder:function(a){var i=this,s=i.cy.window(),l=a===s||a===s.document||a===s.document.body||function(i){return!(typeof HTMLElement>"u")&&i instanceof HTMLElement}(a);if(null==i.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});s.addEventListener("test",null,h)}catch{}i.supportsPassiveEvents=f}var p=function(b,y,D){var E=Array.prototype.slice.call(arguments);return l&&i.supportsPassiveEvents&&(E[2]={capture:D??!1,passive:!1,once:!1}),i.bindings.push({target:a,args:E}),(a.addEventListener||a.on).apply(a,E),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},nodeIsGrabbable:function(a){return this.nodeIsDraggable(a)&&a.interactive()}};su.load=function(){var a=this,i=a.cy.window(),s=function(z){return z.selected()},l=function(z,ge,xe,Ce){null==z&&(z=a.cy);for(var _e=0;_e<ge.length;_e++)z.emit({originalEvent:xe,type:ge[_e],position:Ce})},f=function(z){return z.shiftKey||z.metaKey||z.ctrlKey},h=function(z,ge){var xe=!0;if(a.cy.hasCompoundNodes()&&z&&z.pannable()){for(var Ce=0;ge&&Ce<ge.length;Ce++)if((z=ge[Ce]).isNode()&&z.isParent()&&!z.pannable()){xe=!1;break}}else xe=!0;return xe},b=function(z){z[0]._private.rscratch.inDragLayer=!0},D=function(z){z[0]._private.rscratch.isGrabTarget=!0},S=function(z,ge){var xe=ge.addToList;!xe.has(z)&&z.grabbable()&&!z.locked()&&(xe.merge(z),function(z){z[0]._private.grabbed=!0}(z))},x=function(z,ge){ge=ge||{};var xe=z.cy().hasCompoundNodes();ge.inDragLayer&&(z.forEach(b),z.neighborhood().stdFilter(function(Ce){return!xe||Ce.isEdge()}).forEach(b)),ge.addToList&&z.forEach(function(Ce){S(Ce,ge)}),function(z,ge){if(z.cy().hasCompoundNodes()&&(null!=ge.inDragLayer||null!=ge.addToList)){var xe=z.descendants();ge.inDragLayer&&(xe.forEach(b),xe.connectedEdges().forEach(b)),ge.addToList&&S(xe,ge)}}(z,ge),P(z,{inDragLayer:ge.inDragLayer}),a.updateCachedGrabbedEles()},R=x,A=function(z){z&&(a.getCachedZSortedEles().forEach(function(ge){(function(z){z[0]._private.grabbed=!1})(ge),function(z){z[0]._private.rscratch.inDragLayer=!1}(ge),function(z){z[0]._private.rscratch.isGrabTarget=!1}(ge)}),a.updateCachedGrabbedEles())},P=function(z,ge){if((null!=ge.inDragLayer||null!=ge.addToList)&&z.cy().hasCompoundNodes()){var xe=z.ancestors().orphans();if(!xe.same(z)){var Ce=xe.descendants().spawnSelf().merge(xe).unmerge(z).unmerge(z.descendants()),_e=Ce.connectedEdges();ge.inDragLayer&&(_e.forEach(b),Ce.forEach(b)),ge.addToList&&Ce.forEach(function(at){S(at,ge)})}}},k=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},O=typeof MutationObserver<"u",V=typeof ResizeObserver<"u";O?(a.removeObserver=new MutationObserver(function(me){for(var z=0;z<me.length;z++){var xe=me[z].removedNodes;if(xe)for(var Ce=0;Ce<xe.length;Ce++)if(xe[Ce]===a.container){a.destroy();break}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(me){a.destroy()});var q=nt.default(function(){a.cy.resize()},100);O&&(a.styleObserver=new MutationObserver(q),a.styleObserver.observe(a.container,{attributes:!0})),a.registerBinding(i,"resize",q),V&&(a.resizeObserver=new ResizeObserver(q),a.resizeObserver.observe(a.container));var $=function(){a.invalidateContainerClientCoordsCache()};(function(z,ge){for(;null!=z;)a.registerBinding(me=z,"transitionend",$),a.registerBinding(me,"animationend",$),a.registerBinding(me,"scroll",$),z=z.parentNode;var me})(a.container),a.registerBinding(a.container,"contextmenu",function(me){me.preventDefault()});var Y,X,G,U=function(z){for(var ge=a.findContainerClientCoords(),xe=ge[0],Ce=ge[1],_e=ge[2],at=ge[3],ye=z.touches?z.touches:[z],bt=!1,rn=0;rn<ye.length;rn++){var Sn=ye[rn];if(xe<=Sn.clientX&&Sn.clientX<=xe+_e&&Ce<=Sn.clientY&&Sn.clientY<=Ce+at){bt=!0;break}}if(!bt)return!1;for(var zt=a.container,Wt=z.target.parentNode,Jt=!1;Wt;){if(Wt===zt){Jt=!0;break}Wt=Wt.parentNode}return!!Jt};a.registerBinding(a.container,"mousedown",function(z){if(U(z)){z.preventDefault(),k(),a.hoverData.capture=!0,a.hoverData.which=z.which;var ge=a.cy,xe=[z.clientX,z.clientY],Ce=a.projectIntoViewport(xe[0],xe[1]),_e=a.selection,at=a.findNearestElements(Ce[0],Ce[1],!0,!1),ye=at[0],bt=a.dragData.possibleDragElements;if(a.hoverData.mdownPos=Ce,a.hoverData.mdownGPos=xe,3==z.which){a.hoverData.cxtStarted=!0;var Sn={originalEvent:z,type:"cxttapstart",position:{x:Ce[0],y:Ce[1]}};ye?(ye.activate(),ye.emit(Sn),a.hoverData.down=ye):ge.emit(Sn),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1}else if(1==z.which){if(ye&&ye.activate(),null!=ye&&a.nodeIsGrabbable(ye)){var zt=function(wr){return{originalEvent:z,type:wr,position:{x:Ce[0],y:Ce[1]}}};if(D(ye),ye.selected()){bt=a.dragData.possibleDragElements=ge.collection();var Wt=ge.$(function(Jt){return Jt.isNode()&&Jt.selected()&&a.nodeIsGrabbable(Jt)});x(Wt,{addToList:bt}),ye.emit(zt("grabon")),Wt.forEach(function(wr){wr.emit(zt("grab"))})}else bt=a.dragData.possibleDragElements=ge.collection(),R(ye,{addToList:bt}),ye.emit(zt("grabon")).emit(zt("grab"));a.redrawHint("eles",!0),a.redrawHint("drag",!0)}a.hoverData.down=ye,a.hoverData.downs=at,a.hoverData.downTime=(new Date).getTime(),l(ye,["mousedown","tapstart","vmousedown"],z,{x:Ce[0],y:Ce[1]}),null==ye?(_e[4]=1,a.data.bgActivePosistion={x:Ce[0],y:Ce[1]},a.redrawHint("select",!0),a.redraw()):ye.pannable()&&(_e[4]=1),a.hoverData.tapholdCancelled=!1,clearTimeout(a.hoverData.tapholdTimeout),a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var wr=a.hoverData.down;wr?wr.emit({originalEvent:z,type:"taphold",position:{x:Ce[0],y:Ce[1]}}):ge.emit({originalEvent:z,type:"taphold",position:{x:Ce[0],y:Ce[1]}})}},a.tapholdDuration)}_e[0]=_e[2]=Ce[0],_e[1]=_e[3]=Ce[1]}},!1),a.registerBinding(i,"mousemove",function(z){var Jo;if(a.hoverData.capture||U(z)){var xe=!1,Ce=a.cy,_e=Ce.zoom(),at=[z.clientX,z.clientY],ye=a.projectIntoViewport(at[0],at[1]),bt=a.hoverData.mdownPos,rn=a.hoverData.mdownGPos,Sn=a.selection,zt=null;!a.hoverData.draggingEles&&!a.hoverData.dragging&&!a.hoverData.selecting&&(zt=a.findNearestElement(ye[0],ye[1],!0,!1));var Sr,In=a.hoverData.last,Wt=a.hoverData.down,Jt=[ye[0]-Sn[2],ye[1]-Sn[3]],wr=a.dragData.possibleDragElements;if(rn){var mi=at[0]-rn[0],Jr=at[1]-rn[1];a.hoverData.isOverThresholdDrag=Sr=mi*mi+Jr*Jr>=a.desktopTapThreshold2}var to=f(z);Sr&&(a.hoverData.tapholdCancelled=!0),xe=!0,l(zt,["mousemove","vmousemove","tapdrag"],z,{x:ye[0],y:ye[1]});var pu=function(){a.data.bgActivePosistion=void 0,a.hoverData.selecting||Ce.emit({originalEvent:z,type:"boxstart",position:{x:ye[0],y:ye[1]}}),Sn[4]=1,a.hoverData.selecting=!0,a.redrawHint("select",!0),a.redraw()};if(3===a.hoverData.which){if(Sr){var Aa={originalEvent:z,type:"cxtdrag",position:{x:ye[0],y:ye[1]}};Wt?Wt.emit(Aa):Ce.emit(Aa),a.hoverData.cxtDragged=!0,(!a.hoverData.cxtOver||zt!==a.hoverData.cxtOver)&&(a.hoverData.cxtOver&&a.hoverData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:ye[0],y:ye[1]}}),a.hoverData.cxtOver=zt,zt&&zt.emit({originalEvent:z,type:"cxtdragover",position:{x:ye[0],y:ye[1]}}))}}else if(a.hoverData.dragging){if(xe=!0,Ce.panningEnabled()&&Ce.userPanningEnabled()){var As;if(a.hoverData.justStartedPan){var rs=a.hoverData.mdownPos;As={x:(ye[0]-rs[0])*_e,y:(ye[1]-rs[1])*_e},a.hoverData.justStartedPan=!1}else As={x:Jt[0]*_e,y:Jt[1]*_e};Ce.panBy(As),Ce.emit("dragpan"),a.hoverData.dragged=!0}ye=a.projectIntoViewport(z.clientX,z.clientY)}else if(1!=Sn[4]||null!=Wt&&!Wt.pannable()){if(Wt&&Wt.pannable()&&Wt.active()&&Wt.unactivate(),(!Wt||!Wt.grabbed())&&zt!=In&&(In&&l(In,["mouseout","tapdragout"],z,{x:ye[0],y:ye[1]}),zt&&l(zt,["mouseover","tapdragover"],z,{x:ye[0],y:ye[1]}),a.hoverData.last=zt),Wt)if(Sr){if(Ce.boxSelectionEnabled()&&to)Wt&&Wt.grabbed()&&(A(wr),Wt.emit("freeon"),wr.emit("free"),a.dragData.didDrag&&(Wt.emit("dragfreeon"),wr.emit("dragfree"))),pu();else if(Wt&&Wt.grabbed()&&a.nodeIsDraggable(Wt)){var Ir=!a.dragData.didDrag;Ir&&a.redrawHint("eles",!0),a.dragData.didDrag=!0,a.hoverData.draggingEles||x(wr,{inDragLayer:!0});var kt={x:0,y:0};if(ot(Jt[0])&&ot(Jt[1])&&(kt.x+=Jt[0],kt.y+=Jt[1],Ir)){var zi=a.hoverData.dragDelta;zi&&ot(zi[0])&&ot(zi[1])&&(kt.x+=zi[0],kt.y+=zi[1])}a.hoverData.draggingEles=!0,wr.silentShift(kt).emit("position drag"),a.redrawHint("drag",!0),a.redraw()}}else 0===(Jo=a.hoverData.dragDelta=a.hoverData.dragDelta||[]).length?(Jo.push(Jt[0]),Jo.push(Jt[1])):(Jo[0]+=Jt[0],Jo[1]+=Jt[1]);xe=!0}else Sr&&(a.hoverData.dragging||!Ce.boxSelectionEnabled()||!to&&Ce.panningEnabled()&&Ce.userPanningEnabled()?!a.hoverData.selecting&&Ce.panningEnabled()&&Ce.userPanningEnabled()&&h(Wt,a.hoverData.downs)&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,Sn[4]=0,a.data.bgActivePosistion=Il(bt),a.redrawHint("select",!0),a.redraw()):pu(),Wt&&Wt.pannable()&&Wt.active()&&Wt.unactivate());if(Sn[2]=ye[0],Sn[3]=ye[1],xe)return z.stopPropagation&&z.stopPropagation(),z.preventDefault&&z.preventDefault(),!1}},!1),a.registerBinding(i,"mouseup",function(z){if(a.hoverData.capture){a.hoverData.capture=!1;var xe=a.cy,Ce=a.projectIntoViewport(z.clientX,z.clientY),_e=a.selection,at=a.findNearestElement(Ce[0],Ce[1],!0,!1),ye=a.dragData.possibleDragElements,bt=a.hoverData.down,rn=f(z);if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,bt&&bt.unactivate(),3===a.hoverData.which){var Sn={originalEvent:z,type:"cxttapend",position:{x:Ce[0],y:Ce[1]}};if(bt?bt.emit(Sn):xe.emit(Sn),!a.hoverData.cxtDragged){var zt={originalEvent:z,type:"cxttap",position:{x:Ce[0],y:Ce[1]}};bt?bt.emit(zt):xe.emit(zt)}a.hoverData.cxtDragged=!1,a.hoverData.which=null}else if(1===a.hoverData.which){if(l(at,["mouseup","tapend","vmouseup"],z,{x:Ce[0],y:Ce[1]}),!a.dragData.didDrag&&!a.hoverData.dragged&&!a.hoverData.selecting&&!a.hoverData.isOverThresholdDrag&&(l(bt,["click","tap","vclick"],z,{x:Ce[0],y:Ce[1]}),X=!1,z.timeStamp-G<=xe.multiClickDebounceTime()?(Y&&clearTimeout(Y),X=!0,G=null,l(bt,["dblclick","dbltap","vdblclick"],z,{x:Ce[0],y:Ce[1]})):(Y=setTimeout(function(){X||l(bt,["oneclick","onetap","voneclick"],z,{x:Ce[0],y:Ce[1]})},xe.multiClickDebounceTime()),G=z.timeStamp)),null==bt&&!a.dragData.didDrag&&!a.hoverData.selecting&&!a.hoverData.dragged&&!f(z)&&(xe.$(s).unselect(["tapunselect"]),ye.length>0&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=ye=xe.collection()),at==bt&&!a.dragData.didDrag&&!a.hoverData.selecting&&null!=at&&at._private.selectable&&(a.hoverData.dragging||("additive"===xe.selectionType()||rn?at.selected()?at.unselect(["tapunselect"]):at.select(["tapselect"]):rn||(xe.$(s).unmerge(at).unselect(["tapunselect"]),at.select(["tapselect"]))),a.redrawHint("eles",!0)),a.hoverData.selecting){var In=xe.collection(a.getAllInBox(_e[0],_e[1],_e[2],_e[3]));a.redrawHint("select",!0),In.length>0&&a.redrawHint("eles",!0),xe.emit({type:"boxend",originalEvent:z,position:{x:Ce[0],y:Ce[1]}}),"additive"===xe.selectionType()||rn||xe.$(s).unmerge(In).unselect(),In.emit("box").stdFilter(function(Sr){return Sr.selectable()&&!Sr.selected()}).select().emit("boxselect"),a.redraw()}if(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),!_e[4]){a.redrawHint("drag",!0),a.redrawHint("eles",!0);var Jt=bt&&bt.grabbed();A(ye),Jt&&(bt.emit("freeon"),ye.emit("free"),a.dragData.didDrag&&(bt.emit("dragfreeon"),ye.emit("dragfree")))}}_e[4]=0,a.hoverData.down=null,a.hoverData.cxtStarted=!1,a.hoverData.draggingEles=!1,a.hoverData.selecting=!1,a.hoverData.isOverThresholdDrag=!1,a.dragData.didDrag=!1,a.hoverData.dragged=!1,a.hoverData.dragDelta=[],a.hoverData.mdownPos=null,a.hoverData.mdownGPos=null}},!1);var te=function(z){if(!a.scrollingPage){var ge=a.cy,xe=ge.zoom(),Ce=ge.pan(),_e=a.projectIntoViewport(z.clientX,z.clientY),at=[_e[0]*xe+Ce.x,_e[1]*xe+Ce.y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||0!==a.selection[4])return void z.preventDefault();if(ge.panningEnabled()&&ge.userPanningEnabled()&&ge.zoomingEnabled()&&ge.userZoomingEnabled()){var ye;z.preventDefault(),a.data.wheelZooming=!0,clearTimeout(a.data.wheelTimeout),a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1,a.redrawHint("eles",!0),a.redraw()},150),ye=null!=z.deltaY?z.deltaY/-250:null!=z.wheelDeltaY?z.wheelDeltaY/1e3:z.wheelDelta/1e3,ye*=a.wheelSensitivity,1===z.deltaMode&&(ye*=33);var rn=ge.zoom()*Math.pow(10,ye);"gesturechange"===z.type&&(rn=a.gestureStartZoom*z.scale),ge.zoom({level:rn,renderedPosition:{x:at[0],y:at[1]}}),ge.emit("gesturechange"===z.type?"pinchzoom":"scrollzoom")}}};a.registerBinding(a.container,"wheel",te,!0),a.registerBinding(i,"scroll",function(z){a.scrollingPage=!0,clearTimeout(a.scrollingPageTimeout),a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0),a.registerBinding(a.container,"gesturestart",function(z){a.gestureStartZoom=a.cy.zoom(),a.hasTouchStarted||z.preventDefault()},!0),a.registerBinding(a.container,"gesturechange",function(me){a.hasTouchStarted||te(me)},!0),a.registerBinding(a.container,"mouseout",function(z){var ge=a.projectIntoViewport(z.clientX,z.clientY);a.cy.emit({originalEvent:z,type:"mouseout",position:{x:ge[0],y:ge[1]}})},!1),a.registerBinding(a.container,"mouseover",function(z){var ge=a.projectIntoViewport(z.clientX,z.clientY);a.cy.emit({originalEvent:z,type:"mouseover",position:{x:ge[0],y:ge[1]}})},!1);var Z,ue,ne,ee,he,ve,Se,fe,Ee,Ne,Be,ke,Oe,Ge,Fe,Ye,Mt,Lt,Ae,et,pe=function(z,ge,xe,Ce){return Math.sqrt((xe-z)*(xe-z)+(Ce-ge)*(Ce-ge))},ze=function(z,ge,xe,Ce){return(xe-z)*(xe-z)+(Ce-ge)*(Ce-ge)};if(a.registerBinding(a.container,"touchstart",Ge=function(z){if(a.hasTouchStarted=!0,U(z)){k(),a.touchData.capture=!0,a.data.bgActivePosistion=void 0;var ge=a.cy,xe=a.touchData.now,Ce=a.touchData.earlier;if(z.touches[0]){var _e=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);xe[0]=_e[0],xe[1]=_e[1]}if(z.touches[1]&&(_e=a.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY),xe[2]=_e[0],xe[3]=_e[1]),z.touches[2]&&(_e=a.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY),xe[4]=_e[0],xe[5]=_e[1]),z.touches[1]){a.touchData.singleTouchMoved=!0,A(a.dragData.touchDragEles);var at=a.findContainerClientCoords();Be=at[2],ke=at[3],ue=z.touches[0].clientY-(Ne=at[1]),ne=z.touches[1].clientX-(Ee=at[0]),ee=z.touches[1].clientY-Ne,Oe=0<=(Z=z.touches[0].clientX-Ee)&&Z<=Be&&0<=ne&&ne<=Be&&0<=ue&&ue<=ke&&0<=ee&&ee<=ke;var ye=ge.pan(),bt=ge.zoom();if(he=pe(Z,ue,ne,ee),ve=ze(Z,ue,ne,ee),fe=[((Se=[(Z+ne)/2,(ue+ee)/2])[0]-ye.x)/bt,(Se[1]-ye.y)/bt],ve<4e4&&!z.touches[2]){var zt=a.findNearestElement(xe[0],xe[1],!0,!0),In=a.findNearestElement(xe[2],xe[3],!0,!0);return zt&&zt.isNode()?(zt.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),a.touchData.start=zt):In&&In.isNode()?(In.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),a.touchData.start=In):ge.emit({originalEvent:z,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}}if(z.touches[2])ge.boxSelectionEnabled()&&z.preventDefault();else if(!z.touches[1]&&z.touches[0]){var Wt=a.findNearestElements(xe[0],xe[1],!0,!0),Jt=Wt[0];if(null!=Jt&&(Jt.activate(),a.touchData.start=Jt,a.touchData.starts=Wt,a.nodeIsGrabbable(Jt))){var wr=a.dragData.touchDragEles=ge.collection(),Sr=null;a.redrawHint("eles",!0),a.redrawHint("drag",!0),Jt.selected()?(Sr=ge.$(function(Qn){return Qn.selected()&&a.nodeIsGrabbable(Qn)}),x(Sr,{addToList:wr})):R(Jt,{addToList:wr}),D(Jt);var mi=function(to){return{originalEvent:z,type:to,position:{x:xe[0],y:xe[1]}}};Jt.emit(mi("grabon")),Sr?Sr.forEach(function(Qn){Qn.emit(mi("grab"))}):Jt.emit(mi("grab"))}l(Jt,["touchstart","tapstart","vmousedown"],z,{x:xe[0],y:xe[1]}),null==Jt&&(a.data.bgActivePosistion={x:_e[0],y:_e[1]},a.redrawHint("select",!0),a.redraw()),a.touchData.singleTouchMoved=!1,a.touchData.singleTouchStartTime=+new Date,clearTimeout(a.touchData.tapholdTimeout),a.touchData.tapholdTimeout=setTimeout(function(){!1===a.touchData.singleTouchMoved&&!a.pinching&&!a.touchData.selecting&&l(a.touchData.start,["taphold"],z,{x:xe[0],y:xe[1]})},a.tapholdDuration)}if(z.touches.length>=1){for(var Qo=a.touchData.startPosition=[null,null,null,null,null,null],Jr=0;Jr<xe.length;Jr++)Qo[Jr]=Ce[Jr]=xe[Jr];var Ui=z.touches[0];a.touchData.startGPosition=[Ui.clientX,Ui.clientY]}}},!1),a.registerBinding(window,"touchmove",Fe=function(z){var ge=a.touchData.capture;if(ge||U(z)){var xe=a.selection,Ce=a.cy,_e=a.touchData.now,at=a.touchData.earlier,ye=Ce.zoom();if(z.touches[0]){var bt=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);_e[0]=bt[0],_e[1]=bt[1]}z.touches[1]&&(bt=a.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY),_e[2]=bt[0],_e[3]=bt[1]),z.touches[2]&&(bt=a.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY),_e[4]=bt[0],_e[5]=bt[1]);var Sn,rn=a.touchData.startGPosition;if(ge&&z.touches[0]&&rn){for(var zt=[],In=0;In<_e.length;In++)zt[In]=_e[In]-at[In];var Wt=z.touches[0].clientX-rn[0],wr=z.touches[0].clientY-rn[1];Sn=Wt*Wt+wr*wr>=a.touchTapThreshold2}if(ge&&a.touchData.cxt){z.preventDefault();var to=ze(Qo=z.touches[0].clientX-Ee,Jr=z.touches[0].clientY-Ne,Ui=z.touches[1].clientX-Ee,Qn=z.touches[1].clientY-Ne);if(to/ve>=2.25||to>=22500){a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Rs={originalEvent:z,type:"cxttapend",position:{x:_e[0],y:_e[1]}};a.touchData.start?(a.touchData.start.unactivate().emit(Rs),a.touchData.start=null):Ce.emit(Rs)}}if(ge&&a.touchData.cxt){Rs={originalEvent:z,type:"cxtdrag",position:{x:_e[0],y:_e[1]}},a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.touchData.start?a.touchData.start.emit(Rs):Ce.emit(Rs),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxtDragged=!0;var Ir=a.findNearestElement(_e[0],_e[1],!0,!0);(!a.touchData.cxtOver||Ir!==a.touchData.cxtOver)&&(a.touchData.cxtOver&&a.touchData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:_e[0],y:_e[1]}}),a.touchData.cxtOver=Ir,Ir&&Ir.emit({originalEvent:z,type:"cxtdragover",position:{x:_e[0],y:_e[1]}}))}else if(ge&&z.touches[2]&&Ce.boxSelectionEnabled())z.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||Ce.emit({originalEvent:z,type:"boxstart",position:{x:_e[0],y:_e[1]}}),a.touchData.selecting=!0,a.touchData.didSelect=!0,xe[4]=1,xe&&0!==xe.length&&void 0!==xe[0]?(xe[2]=(_e[0]+_e[2]+_e[4])/3,xe[3]=(_e[1]+_e[3]+_e[5])/3):(xe[0]=(_e[0]+_e[2]+_e[4])/3,xe[1]=(_e[1]+_e[3]+_e[5])/3,xe[2]=(_e[0]+_e[2]+_e[4])/3+1,xe[3]=(_e[1]+_e[3]+_e[5])/3+1),a.redrawHint("select",!0),a.redraw();else if(ge&&z.touches[1]&&!a.touchData.didSelect&&Ce.zoomingEnabled()&&Ce.panningEnabled()&&Ce.userZoomingEnabled()&&Ce.userPanningEnabled()){if(z.preventDefault(),a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),kt=a.dragData.touchDragEles){a.redrawHint("drag",!0);for(var zi=0;zi<kt.length;zi++){var yi=kt[zi]._private;yi.grabbed=!1,yi.rscratch.inDragLayer=!1}}var Qo,Jr,Ui,Qn,Jo=a.touchData.start,gu=pe(Qo=z.touches[0].clientX-Ee,Jr=z.touches[0].clientY-Ne,Ui=z.touches[1].clientX-Ee,Qn=z.touches[1].clientY-Ne),Pn=gu/he;if(Oe){var Up=(Qo-Z+(Ui-ne))/2,Cv=(Jr-ue+(Qn-ee))/2,gc=Ce.zoom(),wh=gc*Pn,Vd=Ce.pan(),zp=fe[0]*gc+Vd.x,is=fe[1]*gc+Vd.y,vc={x:-wh/gc*(zp-Vd.x-Up)+zp,y:-wh/gc*(is-Vd.y-Cv)+is};Jo&&Jo.active()&&(A(kt=a.dragData.touchDragEles),a.redrawHint("drag",!0),a.redrawHint("eles",!0),Jo.unactivate().emit("freeon"),kt.emit("free"),a.dragData.didDrag&&(Jo.emit("dragfreeon"),kt.emit("dragfree"))),Ce.viewport({zoom:wh,pan:vc,cancelOnFailedZoom:!0}),Ce.emit("pinchzoom"),he=gu,Z=Qo,ue=Jr,ne=Ui,ee=Qn,a.pinching=!0}z.touches[0]&&(bt=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY),_e[0]=bt[0],_e[1]=bt[1]),z.touches[1]&&(bt=a.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY),_e[2]=bt[0],_e[3]=bt[1]),z.touches[2]&&(bt=a.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY),_e[4]=bt[0],_e[5]=bt[1])}else if(z.touches[0]&&!a.touchData.didSelect){var ea=a.touchData.start,jp=a.touchData.last;if(!a.hoverData.draggingEles&&!a.swipePanning&&(Ir=a.findNearestElement(_e[0],_e[1],!0,!0)),ge&&null!=ea&&z.preventDefault(),ge&&null!=ea&&a.nodeIsDraggable(ea))if(Sn){var kt=a.dragData.touchDragEles,Ev=!a.dragData.didDrag;Ev&&x(kt,{inDragLayer:!0}),a.dragData.didDrag=!0;var $d={x:0,y:0};ot(zt[0])&&ot(zt[1])&&($d.x+=zt[0],$d.y+=zt[1],Ev)&&(a.redrawHint("eles",!0),(Bo=a.touchData.dragDelta)&&ot(Bo[0])&&ot(Bo[1])&&($d.x+=Bo[0],$d.y+=Bo[1])),a.hoverData.draggingEles=!0,kt.silentShift($d).emit("position drag"),a.redrawHint("drag",!0),a.touchData.startPosition[0]==at[0]&&a.touchData.startPosition[1]==at[1]&&a.redrawHint("eles",!0),a.redraw()}else{var Bo;0===(Bo=a.touchData.dragDelta=a.touchData.dragDelta||[]).length?(Bo.push(zt[0]),Bo.push(zt[1])):(Bo[0]+=zt[0],Bo[1]+=zt[1])}if(l(ea||Ir,["touchmove","tapdrag","vmousemove"],z,{x:_e[0],y:_e[1]}),(!ea||!ea.grabbed())&&Ir!=jp&&(jp&&jp.emit({originalEvent:z,type:"tapdragout",position:{x:_e[0],y:_e[1]}}),Ir&&Ir.emit({originalEvent:z,type:"tapdragover",position:{x:_e[0],y:_e[1]}})),a.touchData.last=Ir,ge)for(zi=0;zi<_e.length;zi++)_e[zi]&&a.touchData.startPosition[zi]&&Sn&&(a.touchData.singleTouchMoved=!0);ge&&(null==ea||ea.pannable())&&Ce.panningEnabled()&&Ce.userPanningEnabled()&&(h(ea,a.touchData.starts)&&(z.preventDefault(),a.data.bgActivePosistion||(a.data.bgActivePosistion=Il(a.touchData.startPosition)),a.swipePanning?(Ce.panBy({x:zt[0]*ye,y:zt[1]*ye}),Ce.emit("dragpan")):Sn&&(a.swipePanning=!0,Ce.panBy({x:Wt*ye,y:wr*ye}),Ce.emit("dragpan"),ea&&(ea.unactivate(),a.redrawHint("select",!0),a.touchData.start=null))),bt=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY),_e[0]=bt[0],_e[1]=bt[1])}for(In=0;In<_e.length;In++)at[In]=_e[In];ge&&z.touches.length>0&&!a.hoverData.draggingEles&&!a.swipePanning&&null!=a.data.bgActivePosistion&&(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.redraw())}},!1),a.registerBinding(i,"touchcancel",Ye=function(z){var ge=a.touchData.start;a.touchData.capture=!1,ge&&ge.unactivate()}),a.registerBinding(i,"touchend",Mt=function(z){var ge=a.touchData.start;if(a.touchData.capture){0===z.touches.length&&(a.touchData.capture=!1),z.preventDefault();var Ce=a.selection;a.swipePanning=!1,a.hoverData.draggingEles=!1;var Sn,_e=a.cy,at=_e.zoom(),ye=a.touchData.now,bt=a.touchData.earlier;if(z.touches[0]){var rn=a.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ye[0]=rn[0],ye[1]=rn[1]}if(z.touches[1]&&(rn=a.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY),ye[2]=rn[0],ye[3]=rn[1]),z.touches[2]&&(rn=a.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY),ye[4]=rn[0],ye[5]=rn[1]),ge&&ge.unactivate(),a.touchData.cxt){if(Sn={originalEvent:z,type:"cxttapend",position:{x:ye[0],y:ye[1]}},ge?ge.emit(Sn):_e.emit(Sn),!a.touchData.cxtDragged){var zt={originalEvent:z,type:"cxttap",position:{x:ye[0],y:ye[1]}};ge?ge.emit(zt):_e.emit(zt)}return a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw()}if(!z.touches[2]&&_e.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;var In=_e.collection(a.getAllInBox(Ce[0],Ce[1],Ce[2],Ce[3]));Ce[0]=void 0,Ce[1]=void 0,Ce[2]=void 0,Ce[3]=void 0,Ce[4]=0,a.redrawHint("select",!0),_e.emit({type:"boxend",originalEvent:z,position:{x:ye[0],y:ye[1]}}),In.emit("box").stdFilter(function(Aa){return Aa.selectable()&&!Aa.selected()}).select().emit("boxselect"),In.nonempty()&&a.redrawHint("eles",!0),a.redraw()}if(ge?.unactivate(),z.touches[2])a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);else if(!z.touches[1]&&!z.touches[0]&&!z.touches[0]){a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Jt=a.dragData.touchDragEles;if(null!=ge){var wr=ge._private.grabbed;A(Jt),a.redrawHint("drag",!0),a.redrawHint("eles",!0),wr&&(ge.emit("freeon"),Jt.emit("free"),a.dragData.didDrag&&(ge.emit("dragfreeon"),Jt.emit("dragfree"))),l(ge,["touchend","tapend","vmouseup","tapdragout"],z,{x:ye[0],y:ye[1]}),ge.unactivate(),a.touchData.start=null}else{var Sr=a.findNearestElement(ye[0],ye[1],!0,!0);l(Sr,["touchend","tapend","vmouseup","tapdragout"],z,{x:ye[0],y:ye[1]})}var mi=a.touchData.startPosition[0]-ye[0],Jr=a.touchData.startPosition[1]-ye[1],to=(mi*mi+Jr*Jr)*at*at;a.touchData.singleTouchMoved||(ge||_e.$(":selected").unselect(["tapunselect"]),l(ge,["tap","vclick"],z,{x:ye[0],y:ye[1]}),Lt=!1,z.timeStamp-et<=_e.multiClickDebounceTime()?(Ae&&clearTimeout(Ae),Lt=!0,et=null,l(ge,["dbltap","vdblclick"],z,{x:ye[0],y:ye[1]})):(Ae=setTimeout(function(){Lt||l(ge,["onetap","voneclick"],z,{x:ye[0],y:ye[1]})},_e.multiClickDebounceTime()),et=z.timeStamp)),null!=ge&&!a.dragData.didDrag&&ge._private.selectable&&to<a.touchTapThreshold2&&!a.pinching&&("single"===_e.selectionType()?(_e.$(s).unmerge(ge).unselect(["tapunselect"]),ge.select(["tapselect"])):ge.selected()?ge.unselect(["tapunselect"]):ge.select(["tapselect"]),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved=!0}for(var ns=0;ns<ye.length;ns++)bt[ns]=ye[ns];a.dragData.didDrag=!1,0===z.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=[null,null,null,null,null,null],a.touchData.startGPosition=null,a.touchData.didSelect=!1),z.touches.length<2&&(1===z.touches.length&&(a.touchData.startGPosition=[z.touches[0].clientX,z.touches[0].clientY]),a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),typeof TouchEvent>"u"){var pt=[],it=function(z){return{clientX:z.clientX,clientY:z.clientY,force:1,identifier:z.pointerId,pageX:z.pageX,pageY:z.pageY,radiusX:z.width/2,radiusY:z.height/2,screenX:z.screenX,screenY:z.screenY,target:z.target}},mn=function(z){for(var ge=0;ge<pt.length;ge++)if(pt[ge].event.pointerId===z.pointerId)return void pt.splice(ge,1)},$t=function(z){z.touches=pt.map(function(ge){return ge.touch})},ln=function(z){return"mouse"===z.pointerType||4===z.pointerType};a.registerBinding(a.container,"pointerdown",function(me){ln(me)||(me.preventDefault(),pt.push(function(z){return{event:z,touch:it(z)}}(me)),$t(me),Ge(me))}),a.registerBinding(a.container,"pointerup",function(me){ln(me)||(mn(me),$t(me),Mt(me))}),a.registerBinding(a.container,"pointercancel",function(me){ln(me)||(mn(me),$t(me),Ye())}),a.registerBinding(a.container,"pointermove",function(me){var z,ge;ln(me)||(me.preventDefault(),z=me,(ge=pt.filter(function(xe){return xe.event.pointerId===z.pointerId})[0]).event=z,ge.touch=it(z),$t(me),Fe(me))})}};var Sa={generatePolygon:function(a,i){return this.nodeShapes[a]={renderer:this,name:a,points:i,draw:function(l,f,h,p,m){this.renderer.nodeShapeImpl("polygon",l,f,h,p,m,this.points)},intersectLine:function(l,f,h,p,m,b,y){return Dn(m,b,this.points,l,f,h/2,p/2,y)},checkPoint:function(l,f,h,p,m,b,y){return Io(l,f,this.points,b,y,p,m,[0,-1],h)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},intersectLine:function(i,s,l,f,h,p,m){return function(i,s,l,f,h,p){var m=l-i,b=f-s;m/=h,b/=p;var y=Math.sqrt(m*m+b*b),D=y-1;if(D<0)return[];var E=D/y;return[(l-i)*E+i,(f-s)*E+s]}(h,p,i,s,l/2+m,f/2+m)},checkPoint:function(i,s,l,f,h,p,m){return cs(i,s,f,h,p,m,l)}}},generateRoundPolygon:function(a,i){for(var s=new Array(2*i.length),l=0;l<i.length/2;l++){var h,f=2*l;h=l<i.length/2-1?2*(l+1):0,s[4*l]=i[f],s[4*l+1]=i[f+1];var p=i[h]-i[f],m=i[h+1]-i[f+1],b=Math.sqrt(p*p+m*m);s[4*l+2]=p/b,s[4*l+3]=m/b}return this.nodeShapes[a]={renderer:this,name:a,points:s,draw:function(D,E,S,M,x){this.renderer.nodeShapeImpl("round-polygon",D,E,S,M,x,this.points)},intersectLine:function(D,E,S,M,x,R,A){return function(i,s,l,f,h,p,m,b){for(var D,y=[],E=new Array(l.length),S=p/2,M=m/2,x=kl(p,m),R=0;R<l.length/4;R++){var P,A;A=0===R?l.length-2:4*R-2,P=4*R+2;var k=f+S*l[4*R],O=h+M*l[4*R+1],q=x/Math.tan(Math.acos(-l[A]*l[P]-l[A+1]*l[P+1])/2),K=k-q*l[A],$=O-q*l[A+1],W=k+q*l[P],U=O+q*l[P+1];0===R?(E[l.length-2]=K,E[l.length-1]=$):(E[4*R-2]=K,E[4*R-1]=$),E[4*R]=W,E[4*R+1]=U;var Y=l[A+1],X=-l[A];Y*l[P]+X*l[P+1]<0&&(Y*=-1,X*=-1),0!==(D=zn(i,s,f,h,K+Y*x,$+X*x,x)).length&&y.push(D[0],D[1])}for(var ue=0;ue<E.length/4;ue++)0!==(D=ds(i,s,f,h,E[4*ue],E[4*ue+1],E[4*ue+2],E[4*ue+3],!1)).length&&y.push(D[0],D[1]);if(y.length>2){for(var ne=[y[0],y[1]],ee=Math.pow(ne[0]-i,2)+Math.pow(ne[1]-s,2),he=1;he<y.length/2;he++){var ve=Math.pow(y[2*he]-i,2)+Math.pow(y[2*he+1]-s,2);ve<=ee&&(ne[0]=y[2*he],ne[1]=y[2*he+1],ee=ve)}return ne}return y}(x,R,this.points,D,E,S,M)},checkPoint:function(D,E,S,M,x,R,A){return function(i,s,l,f,h,p,m){for(var b=new Array(l.length),y=p/2,D=m/2,E=kl(p,m),S=E*E,M=0;M<l.length/4;M++){var R,x;x=0===M?l.length-2:4*M-2,R=4*M+2;var A=f+y*l[4*M],P=h+D*l[4*M+1],O=E/Math.tan(Math.acos(-l[x]*l[R]-l[x+1]*l[R+1])/2),V=A-O*l[x],q=P-O*l[x+1],K=A+O*l[R],$=P+O*l[R+1];b[4*M]=V,b[4*M+1]=q,b[4*M+2]=K,b[4*M+3]=$;var W=l[x+1],U=-l[x];W*l[R]+U*l[R+1]<0&&(W*=-1,U*=-1);var G=q+U*E;if(Math.pow(V+W*E-i,2)+Math.pow(G-s,2)<=S)return!0}return ti(i,s,b)}(D,E,this.points,R,A,M,x)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:fn(4,0),draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},intersectLine:function(i,s,l,f,h,p,m){return li(h,p,i,s,l,f,m)},checkPoint:function(i,s,l,f,h,p,m){var b=Gs(f,h),y=2*b;return!!(Io(i,s,this.points,p,m,f,h-y,[0,-1],l)||Io(i,s,this.points,p,m,f-y,h,[0,-1],l)||cs(i,s,y,y,p-f/2+b,m-h/2+b,l)||cs(i,s,y,y,p+f/2-b,m-h/2+b,l)||cs(i,s,y,y,p+f/2-b,m+h/2-b,l)||cs(i,s,y,y,p-f/2+b,m+h/2-b,l))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:fn(4,0),draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},generateCutTrianglePts:function(i,s,l,f){var h=this.cornerLength,p=s/2,m=i/2,b=l-m,y=l+m,D=f-p,E=f+p;return{topLeft:[b,D+h,b+h,D,b+h,D+h],topRight:[y-h,D,y,D+h,y-h,D+h],bottomRight:[y,E-h,y-h,E,y-h,E-h],bottomLeft:[b+h,E,b,E-h,b+h,E-h]}},intersectLine:function(i,s,l,f,h,p,m){var b=this.generateCutTrianglePts(l+2*m,f+2*m,i,s),y=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return Dn(h,p,y,i,s)},checkPoint:function(i,s,l,f,h,p,m){if(Io(i,s,this.points,p,m,f,h-2*this.cornerLength,[0,-1],l)||Io(i,s,this.points,p,m,f-2*this.cornerLength,h,[0,-1],l))return!0;var b=this.generateCutTrianglePts(f,h,p,m);return ti(i,s,b.topLeft)||ti(i,s,b.topRight)||ti(i,s,b.bottomRight)||ti(i,s,b.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:fn(4,0),draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},intersectLine:function(i,s,l,f,h,p,m){var E=this.generateBarrelBezierPts(l+2*m,f+2*m,i,s),S=function(R){var A=zs({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.15),P=zs({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.5),k=zs({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.85);return[R[0],R[1],A.x,A.y,P.x,P.y,k.x,k.y,R[4],R[5]]},M=[].concat(S(E.topLeft),S(E.topRight),S(E.bottomRight),S(E.bottomLeft));return Dn(h,p,M,i,s)},generateBarrelBezierPts:function(i,s,l,f){var h=s/2,p=i/2,m=l-p,b=l+p,y=f-h,D=f+h,E=tp(i,s),S=E.heightOffset,M=E.widthOffset,x=E.ctrlPtOffsetPct*i,R={topLeft:[m,y+S,m+x,y,m+M,y],topRight:[b-M,y,b-x,y,b,y+S],bottomRight:[b,D-S,b-x,D,b-M,D],bottomLeft:[m+M,D,m+x,D,m,D-S]};return R.topLeft.isTop=!0,R.topRight.isTop=!0,R.bottomLeft.isBottom=!0,R.bottomRight.isBottom=!0,R},checkPoint:function(i,s,l,f,h,p,m){var b=tp(f,h),D=b.widthOffset;if(Io(i,s,this.points,p,m,f,h-2*b.heightOffset,[0,-1],l)||Io(i,s,this.points,p,m,f-2*D,h,[0,-1],l))return!0;for(var E=this.generateBarrelBezierPts(f,h,p,m),S=function($,W,U){var Y=U[4],X=U[2],G=U[0],te=U[5],Z=U[1],ue=Math.min(Y,G),ne=Math.max(Y,G),ee=Math.min(te,Z),he=Math.max(te,Z);if(ue<=$&&$<=ne&&ee<=W&&W<=he){var ve=function(i,s,l){return[i-2*s+l,2*(s-i),i]}(Y,X,G),Se=function(i,s,l,f){var h=s*s-4*i*(l-=f);if(h<0)return[];var p=Math.sqrt(h),m=2*i;return[(-s+p)/m,(-s-p)/m]}(ve[0],ve[1],ve[2],$),fe=Se.filter(function(Ee){return 0<=Ee&&Ee<=1});if(fe.length>0)return fe[0]}return null},M=Object.keys(E),x=0;x<M.length;x++){var A=E[M[x]],P=S(i,s,A);if(null!=P){var q=ei(A[5],A[3],A[1],P);if(A.isTop&&q<=s||A.isBottom&&s<=q)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:fn(4,0),draw:function(i,s,l,f,h){this.renderer.nodeShapeImpl(this.name,i,s,l,f,h)},intersectLine:function(i,s,l,f,h,p,m){var y=s-(f/2+m),S=ds(h,p,i,s,i-(l/2+m),y,i+(l/2+m),y,!1);return S.length>0?S:li(h,p,i,s,l,f,m)},checkPoint:function(i,s,l,f,h,p,m){var b=Gs(f,h),y=2*b;if(Io(i,s,this.points,p,m,f,h-y,[0,-1],l)||Io(i,s,this.points,p,m,f-y,h,[0,-1],l))return!0;var D=f/2+2*l,E=h/2+2*l;return!!(ti(i,s,[p-D,m-E,p-D,m,p+D,m,p+D,m-E])||cs(i,s,y,y,p+f/2-b,m+h/2-b,l)||cs(i,s,y,y,p-f/2+b,m+h/2-b,l))}}},registerNodeShapes:function(){var a=this.nodeShapes={},i=this;this.generateEllipse(),this.generatePolygon("triangle",fn(3,0)),this.generateRoundPolygon("round-triangle",fn(3,0)),this.generatePolygon("rectangle",fn(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var s=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",s),this.generateRoundPolygon("round-diamond",s),this.generatePolygon("pentagon",fn(5,0)),this.generateRoundPolygon("round-pentagon",fn(5,0)),this.generatePolygon("hexagon",fn(6,0)),this.generateRoundPolygon("round-hexagon",fn(6,0)),this.generatePolygon("heptagon",fn(7,0)),this.generateRoundPolygon("round-heptagon",fn(7,0)),this.generatePolygon("octagon",fn(8,0)),this.generateRoundPolygon("round-octagon",fn(8,0));var l=new Array(20),f=Bu(5,0),h=Bu(5,Math.PI/5),p=.5*(3-Math.sqrt(5));p*=1.57;for(var m=0;m<h.length/2;m++)h[2*m]*=p,h[2*m+1]*=p;for(m=0;m<5;m++)l[4*m]=f[2*m],l[4*m+1]=f[2*m+1],l[4*m+2]=h[2*m],l[4*m+3]=h[2*m+1];l=zo(l),this.generatePolygon("star",l),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var b=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",b),this.generateRoundPolygon("round-tag",b),a.makePolygon=function(y){var S,E="polygon-"+y.join("$");return(S=this[E])?S:i.generatePolygon(E,y)}}},xa={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(a){a=a||Gc();var i=this;void 0===i.averageRedrawTime&&(i.averageRedrawTime=0),void 0===i.lastRedrawTime&&(i.lastRedrawTime=0),void 0===i.lastDrawTime&&(i.lastDrawTime=0),i.requestedFrame=!0,i.renderOptions=a},beforeRender:function(a,i){if(!this.destroyed){null==i&&Vn("Priority is not optional for beforeRender");var s=this.beforeRenderCallbacks;s.push({fn:a,priority:i}),s.sort(function(l,f){return f.priority-l.priority})}}},oh=function(i,s,l){for(var f=i.beforeRenderCallbacks,h=0;h<f.length;h++)f[h].fn(s,l)};xa.startRenderLoop=function(){var a=this,i=a.cy;a.renderLoopStarted||(a.renderLoopStarted=!0,$c(function l(f){if(!a.destroyed){if(!i.batching())if(a.requestedFrame&&!a.skipFrame){oh(a,!0,f);var h=Oa();a.render(a.renderOptions);var p=a.lastDrawTime=Oa();void 0===a.averageRedrawTime&&(a.averageRedrawTime=p-h),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var m=p-h;a.redrawTotalTime+=m,a.lastRedrawTime=m,a.averageRedrawTime=a.averageRedrawTime/2+m/2,a.requestedFrame=!1}else oh(a,!1,f);a.skipFrame=!1,$c(l)}}))};var Md=function(i){this.init(i)},_r=Md.prototype;_r.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],_r.init=function(a){var i=this;i.options=a,i.cy=a.cy;var s=i.container=a.cy.container(),l=i.cy.window();if(l){var f=l.document,h=f.head,p="__________cytoscape_stylesheet",m="__________cytoscape_container",b=null!=f.getElementById(p);if(s.className.indexOf(m)<0&&(s.className=(s.className||"")+" "+m),!b){var y=f.createElement("style");y.id=p,y.textContent="."+m+" { position: relative; }",h.insertBefore(y,h.children[0])}"static"===l.getComputedStyle(s).getPropertyValue("position")&&Zt("A Cytoscape container has style position:static and so can not use UI extensions properly")}i.selection=[void 0,void 0,void 0,void 0,0],i.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],i.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},i.dragData={possibleDragElements:[]},i.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},i.redraws=0,i.showFps=a.showFps,i.debug=a.debug,i.hideEdgesOnViewport=a.hideEdgesOnViewport,i.textureOnViewport=a.textureOnViewport,i.wheelSensitivity=a.wheelSensitivity,i.motionBlurEnabled=a.motionBlur,i.forcedPixelRatio=ot(a.pixelRatio)?a.pixelRatio:null,i.motionBlur=a.motionBlur,i.motionBlurOpacity=a.motionBlurOpacity,i.motionBlurTransparency=1-i.motionBlurOpacity,i.motionBlurPxRatio=1,i.mbPxRBlurry=1,i.minMbLowQualFrames=4,i.fullQualityMb=!1,i.clearedForMotionBlur=[],i.desktopTapThreshold=a.desktopTapThreshold,i.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,i.touchTapThreshold=a.touchTapThreshold,i.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,i.tapholdDuration=500,i.bindings=[],i.beforeRenderCallbacks=[],i.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},i.registerNodeShapes(),i.registerArrowShapes(),i.registerCalculationListeners()},_r.notify=function(a,i){var s=this,l=s.cy;if(!this.destroyed){if("init"===a)return void s.load();if("destroy"===a)return void s.destroy();("add"===a||"remove"===a||"move"===a&&l.hasCompoundNodes()||"load"===a||"zorder"===a||"mount"===a)&&s.invalidateCachedZSortedEles(),"viewport"===a&&s.redrawHint("select",!0),("load"===a||"resize"===a||"mount"===a)&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container)),s.redrawHint("eles",!0),s.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},_r.destroy=function(){var a=this;a.destroyed=!0,a.cy.stopAnimationLoop();for(var i=0;i<a.bindings.length;i++){var s=a.bindings[i],f=s.target;(f.off||f.removeEventListener).apply(f,s.args)}if(a.bindings=[],a.beforeRenderCallbacks=[],a.onUpdateEleCalcsFns=[],a.removeObserver&&a.removeObserver.disconnect(),a.styleObserver&&a.styleObserver.disconnect(),a.resizeObserver&&a.resizeObserver.disconnect(),a.labelCalcDiv)try{document.body.removeChild(a.labelCalcDiv)}catch{}},_r.isHeadless=function(){return!1},[_d,Ms,Mp,su,Sa,xa].forEach(function(a){Nt(_r,a)});var Ja=1e3/60,Id_setupDequeueing=function(i){return function(){var l=this,f=this.renderer;if(!l.dequeueingSetup){l.dequeueingSetup=!0;var h=nt.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},i.deqRedrawThreshold);f.beforeRender(function(y,D){var E=Oa(),S=f.averageRedrawTime,M=f.lastRedrawTime,x=[],R=f.cy.extent(),A=f.getPixelRatio();for(y||f.flushRenderedStyleQueue();;){var P=Oa(),k=P-E,O=P-D;if(M<Ja){if(O>=i.deqFastCost*(Ja-(y?S:0)))break}else if(y){if(k>=i.deqCost*M||k>=i.deqAvgCost*S)break}else if(O>=i.deqNoDrawCost*Ja)break;var q=i.deq(l,A,R);if(!(q.length>0))break;for(var K=0;K<q.length;K++)x.push(q[K])}x.length>0&&(i.onDeqd(l,x),!y&&i.shouldRedraw(l,x,A,R)&&h())},(i.priority||vf)(l))}}},ah=function(){function a(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_l;br(this,a),this.idsByKey=new la,this.keyForId=new la,this.cachesByLvl=new la,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=s}return Bn(a,[{key:"getIdsFor",value:function(s){null==s&&Vn("Can not get id list for null key");var l=this.idsByKey,f=this.idsByKey.get(s);return f||(f=new ku,l.set(s,f)),f}},{key:"addIdForKey",value:function(s,l){null!=s&&this.getIdsFor(s).add(l)}},{key:"deleteIdForKey",value:function(s,l){null!=s&&this.getIdsFor(s).delete(l)}},{key:"getNumberOfIdsForKey",value:function(s){return null==s?0:this.getIdsFor(s).size}},{key:"updateKeyMappingFor",value:function(s){var l=s.id(),f=this.keyForId.get(l),h=this.getKey(s);this.deleteIdForKey(f,l),this.addIdForKey(h,l),this.keyForId.set(l,h)}},{key:"deleteKeyMappingFor",value:function(s){var l=s.id(),f=this.keyForId.get(l);this.deleteIdForKey(f,l),this.keyForId.delete(l)}},{key:"keyHasChangedFor",value:function(s){var l=s.id();return this.keyForId.get(l)!==this.getKey(s)}},{key:"isInvalid",value:function(s){return this.keyHasChangedFor(s)||this.doesEleInvalidateKey(s)}},{key:"getCachesAt",value:function(s){var l=this.cachesByLvl,f=this.lvls,h=l.get(s);return h||(h=new la,l.set(s,h),f.push(s)),h}},{key:"getCache",value:function(s,l){return this.getCachesAt(l).get(s)}},{key:"get",value:function(s,l){var f=this.getKey(s),h=this.getCache(f,l);return null!=h&&this.updateKeyMappingFor(s),h}},{key:"getForCachedKey",value:function(s,l){var f=this.keyForId.get(s.id());return this.getCache(f,l)}},{key:"hasCache",value:function(s,l){return this.getCachesAt(l).has(s)}},{key:"has",value:function(s,l){var f=this.getKey(s);return this.hasCache(f,l)}},{key:"setCache",value:function(s,l,f){f.key=s,this.getCachesAt(l).set(s,f)}},{key:"set",value:function(s,l,f){var h=this.getKey(s);this.setCache(h,l,f),this.updateKeyMappingFor(s)}},{key:"deleteCache",value:function(s,l){this.getCachesAt(l).delete(s)}},{key:"delete",value:function(s,l){var f=this.getKey(s);this.deleteCache(f,l)}},{key:"invalidateKey",value:function(s){var l=this;this.lvls.forEach(function(f){return l.deleteCache(s,f)})}},{key:"invalidate",value:function(s){var l=s.id(),f=this.keyForId.get(l);this.deleteKeyMappingFor(s);var h=this.doesEleInvalidateKey(s);return h&&this.invalidateKey(f),h||0===this.getNumberOfIdsForKey(f)}}]),a}(),dr={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ip=Pr({getKey:null,doesEleInvalidateKey:_l,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:jh,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ia=function(i,s){var l=this;l.renderer=i,l.onDequeues=[];var f=Ip(s);Nt(l,f),l.lookup=new ah(f.getKey,f.doesEleInvalidateKey),l.setupDequeueing()},Qr=Ia.prototype;Qr.reasons=dr,Qr.getTextureQueue=function(a){var i=this;return i.eleImgCaches=i.eleImgCaches||{},i.eleImgCaches[a]=i.eleImgCaches[a]||[]},Qr.getRetiredTextureQueue=function(a){var s=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return s[a]=s[a]||[]},Qr.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new vt.default(function(s,l){return l.reqs-s.reqs})},Qr.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Qr.getElement=function(a,i,s,l,f){var h=this,p=this.renderer,m=p.cy.zoom(),b=this.lookup;if(!i||0===i.w||0===i.h||isNaN(i.w)||isNaN(i.h)||!a.visible()||a.removed()||!h.allowEdgeTxrCaching&&a.isEdge()||!h.allowParentTxrCaching&&a.isParent())return null;if(null==l&&(l=Math.ceil(Qh(m*s))),l<-4)l=-4;else if(m>=7.99||l>3)return null;var y=Math.pow(2,l),D=i.h*y,E=i.w*y,S=p.eleTextBiggerThanMin(a,y);if(!this.isVisible(a,S))return null;var x,M=b.get(a,l);if(M&&M.invalidated&&(M.invalidated=!1,M.texture.invalidatedWidth-=M.width),M)return M;if(x=D<=25?25:D<=50?50:50*Math.ceil(D/50),D>1024||E>1024)return null;var R=h.getTextureQueue(x),A=R[R.length-2],P=function(){return h.recycleTexture(x,E)||h.addTexture(x,E)};A||(A=R[R.length-1]),A||(A=P()),A.width-A.usedWidth<E&&(A=P());for(var K,k=function(ne){return ne&&ne.scaledLabelShown===S},O=f&&f===dr.dequeue,V=f&&f===dr.highQuality,q=f&&f===dr.downscale,$=l+1;$<=3;$++){var W=b.get(a,$);if(W){K=W;break}}var U=K&&K.level===l+1?K:null,Y=function(){A.context.drawImage(U.texture.canvas,U.x,0,U.width,U.height,A.usedWidth,0,E,D)};if(A.context.setTransform(1,0,0,1,0,0),A.context.clearRect(A.usedWidth,0,E,x),k(U))Y();else if(k(K)){if(!V)return h.queueElement(a,K.level-1),K;for(var X=K.level;X>l;X--)U=h.getElement(a,i,s,X,dr.downscale);Y()}else{var G;if(!O&&!V&&!q)for(var te=l-1;te>=-4;te--){var Z=b.get(a,te);if(Z){G=Z;break}}if(k(G))return h.queueElement(a,l),G;A.context.translate(A.usedWidth,0),A.context.scale(y,y),this.drawElement(A.context,a,i,S,!1),A.context.scale(1/y,1/y),A.context.translate(-A.usedWidth,0)}return M={x:A.usedWidth,texture:A,level:l,scale:y,width:E,height:D,scaledLabelShown:S},A.usedWidth+=Math.ceil(E+8),A.eleCaches.push(M),b.set(a,l,M),h.checkTextureFullness(A),M},Qr.invalidateElements=function(a){for(var i=0;i<a.length;i++)this.invalidateElement(a[i])},Qr.invalidateElement=function(a){var i=this,s=i.lookup,l=[];if(s.isInvalid(a)){for(var h=-4;h<=3;h++){var p=s.getForCachedKey(a,h);p&&l.push(p)}if(s.invalidate(a))for(var b=0;b<l.length;b++){var y=l[b],D=y.texture;D.invalidatedWidth+=y.width,y.invalidated=!0,i.checkTextureUtility(D)}i.removeFromQueue(a)}},Qr.checkTextureUtility=function(a){a.invalidatedWidth>=.2*a.width&&this.retireTexture(a)},Qr.checkTextureFullness=function(a){var s=this.getTextureQueue(a.height);a.usedWidth/a.width>.8&&a.fullnessChecks>=10?xo(s,a):a.fullnessChecks++},Qr.retireTexture=function(a){var s=a.height,l=this.getTextureQueue(s),f=this.lookup;xo(l,a),a.retired=!0;for(var h=a.eleCaches,p=0;p<h.length;p++){var m=h[p];f.deleteCache(m.key,m.level)}mf(h),this.getRetiredTextureQueue(s).push(a)},Qr.addTexture=function(a,i){var f={};return this.getTextureQueue(a).push(f),f.eleCaches=[],f.height=a,f.width=Math.max(1024,i),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},Qr.recycleTexture=function(a,i){for(var l=this.getTextureQueue(a),f=this.getRetiredTextureQueue(a),h=0;h<f.length;h++){var p=f[h];if(p.width>=i)return p.retired=!1,p.usedWidth=0,p.invalidatedWidth=0,p.fullnessChecks=0,mf(p.eleCaches),p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(0,0,p.width,p.height),xo(f,p),l.push(p),p}},Qr.queueElement=function(a,i){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(a),p=f[h];if(p)p.level=Math.max(p.level,i),p.eles.merge(a),p.reqs++,l.updateItem(p);else{var m={eles:a.spawn().merge(a),level:i,reqs:1,key:h};l.push(m),f[h]=m}},Qr.dequeue=function(a){for(var i=this,s=i.getElementQueue(),l=i.getElementKeyToQueue(),f=[],h=i.lookup,p=0;p<1&&s.size()>0;p++){var m=s.pop(),b=m.key,y=m.eles[0],D=h.hasCache(y,m.level);if(l[b]=null,!D){f.push(m);var E=i.getBoundingBox(y);i.getElement(y,E,a,m.level,dr.dequeue)}}return f},Qr.removeFromQueue=function(a){var s=this.getElementQueue(),l=this.getElementKeyToQueue(),f=this.getKey(a),h=l[f];null!=h&&(1===h.eles.length?(h.reqs=gf,s.updateItem(h),s.pop(),l[f]=null):h.eles.unmerge(a))},Qr.onDequeue=function(a){this.onDequeues.push(a)},Qr.offDequeue=function(a){xo(this.onDequeues,a)},Qr.setupDequeueing=Id_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,s,l){return i.dequeue(s,l)},onDeqd:function(i,s){for(var l=0;l<i.onDequeues.length;l++)(0,i.onDequeues[l])(s)},shouldRedraw:function(i,s,l,f){for(var h=0;h<s.length;h++)for(var p=s[h].eles,m=0;m<p.length;m++){var b=p[m].boundingBox();if(Jh(b,f))return!0}return!1},priority:function(i){return i.renderer.beforeRenderPriorities.eleTxrDeq}});var Tp=function(i){var s=this,l=s.renderer=i,f=l.cy;s.layersByLevel={},s.firstGet=!0,s.lastInvalidationTime=Oa()-500,s.skipping=!1,s.eleTxrDeqs=f.collection(),s.scheduleElementRefinement=nt.default(function(){s.refineElementTextures(s.eleTxrDeqs),s.eleTxrDeqs.unmerge(s.eleTxrDeqs)},50),l.beforeRender(function(p,m){s.skipping=m-s.lastInvalidationTime<=250},l.beforeRenderPriorities.lyrTxrSkip),s.layersQueue=new vt.default(function(m,b){return b.reqs-m.reqs}),s.setupDequeueing()},vi=Tp.prototype,Ap=0,vv=Math.pow(2,53)-1;vi.makeLayer=function(a,i){var s=Math.pow(2,i),l=Math.ceil(a.w*s),f=Math.ceil(a.h*s),h=this.renderer.makeOffscreenCanvas(l,f),p={id:Ap=++Ap%vv,bb:a,level:i,width:l,height:f,canvas:h,context:h.getContext("2d"),eles:[],elesQueue:[],reqs:0},m=p.context,b=-p.bb.x1,y=-p.bb.y1;return m.scale(s,s),m.translate(b,y),p},vi.getLayers=function(a,i,s){var l=this,p=l.renderer.cy.zoom(),m=l.firstGet;if(l.firstGet=!1,null==s)if((s=Math.ceil(Qh(p*i)))<-4)s=-4;else if(p>=3.99||s>2)return null;l.validateLayersElesOrdering(s,a);var E,M,b=l.layersByLevel,y=Math.pow(2,s),D=b[s]=b[s]||[];if(l.levelIsComplete(s,a))return D;!function(){var Y=function(ue){if(l.validateLayersElesOrdering(ue,a),l.levelIsComplete(ue,a))return M=b[ue],!0},X=function(ue){if(!M)for(var ne=s+ue;-4<=ne&&ne<=2&&!Y(ne);ne+=ue);};X(1),X(-1);for(var G=D.length-1;G>=0;G--){var te=D[G];te.invalid&&xo(D,te)}}();var A=function(Y){var X=(Y=Y||{}).after;if(function(){if(!E){E=fo();for(var Y=0;Y<a.length;Y++)ir(E,a[Y].boundingBox())}}(),E.w*y*(E.h*y)>16e6)return null;var te=l.makeLayer(E,s);if(null!=X){var Z=D.indexOf(X)+1;D.splice(Z,0,te)}else(void 0===Y.insert||Y.insert)&&D.unshift(te);return te};if(l.skipping&&!m)return null;for(var P=null,k=a.length/1,O=!m,V=0;V<a.length;V++){var q=a[V],K=q._private.rscratch,$=K.imgLayerCaches=K.imgLayerCaches||{},W=$[s];if(W)P=W;else{if((!P||P.eles.length>=k||!Rt(P.bb,q.boundingBox()))&&!(P=A({insert:!0,after:P})))return null;M||O?l.queueLayer(P,q):l.drawEleInLayer(P,q,s,i),P.eles.push(q),$[s]=P}}return M||(O?null:D)},vi.getEleLevelForLayerLevel=function(a,i){return a},vi.drawEleInLayer=function(a,i,s,l){var h=this.renderer,p=a.context,m=i.boundingBox();0===m.w||0===m.h||!i.visible()||(s=this.getEleLevelForLayerLevel(s,l),h.setImgSmoothing(p,!1),h.drawCachedElement(p,i,null,null,s,!0),h.setImgSmoothing(p,!0))},vi.levelIsComplete=function(a,i){var l=this.layersByLevel[a];if(!l||0===l.length)return!1;for(var f=0,h=0;h<l.length;h++){var p=l[h];if(p.reqs>0||p.invalid)return!1;f+=p.eles.length}return f===i.length},vi.validateLayersElesOrdering=function(a,i){var s=this.layersByLevel[a];if(s)for(var l=0;l<s.length;l++){for(var f=s[l],h=-1,p=0;p<i.length;p++)if(f.eles[0]===i[p]){h=p;break}if(h<0)this.invalidateLayer(f);else{var m=h;for(p=0;p<f.eles.length;p++)if(f.eles[p]!==i[m+p]){this.invalidateLayer(f);break}}}},vi.updateElementsInLayers=function(a,i){for(var l=xu(a[0]),f=0;f<a.length;f++)for(var h=l?null:a[f],p=l?a[f]:a[f].ele,m=p._private.rscratch,b=m.imgLayerCaches=m.imgLayerCaches||{},y=-4;y<=2;y++){var D=b[y];D&&(h&&this.getEleLevelForLayerLevel(D.level)!==h.level||i(D,p,h))}},vi.haveLayers=function(){for(var i=!1,s=-4;s<=2;s++){var l=this.layersByLevel[s];if(l&&l.length>0){i=!0;break}}return i},vi.invalidateElements=function(a){var i=this;0!==a.length&&(i.lastInvalidationTime=Oa(),0!==a.length&&i.haveLayers()&&i.updateElementsInLayers(a,function(l,f,h){i.invalidateLayer(l)}))},vi.invalidateLayer=function(a){if(this.lastInvalidationTime=Oa(),!a.invalid){var i=a.level,s=a.eles;xo(this.layersByLevel[i],a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var f=0;f<s.length;f++){var h=s[f]._private.rscratch.imgLayerCaches;h&&(h[i]=null)}}},vi.refineElementTextures=function(a){var i=this;i.updateElementsInLayers(a,function(l,f,h){var p=l.replacement;if(p||((p=l.replacement=i.makeLayer(l.bb,l.level)).replaces=l,p.eles=l.eles),!p.reqs)for(var m=0;m<p.eles.length;m++)i.queueLayer(p,p.eles[m])})},vi.enqueueElementRefinement=function(a){this.eleTxrDeqs.merge(a),this.scheduleElementRefinement()},vi.queueLayer=function(a,i){var l=this.layersQueue,f=a.elesQueue,h=f.hasId=f.hasId||{};if(!a.replacement){if(i){if(h[i.id()])return;f.push(i),h[i.id()]=!0}a.reqs?(a.reqs++,l.updateItem(a)):(a.reqs=1,l.push(a))}},vi.dequeue=function(a){for(var i=this,s=i.layersQueue,l=[],f=0;f<1&&0!==s.size();){var h=s.peek();if(h.replacement)s.pop();else if(h.replaces&&h!==h.replaces.replacement)s.pop();else if(h.invalid)s.pop();else{var p=h.elesQueue.shift();p&&(i.drawEleInLayer(h,p,h.level,a),f++),0===l.length&&l.push(!0),0===h.elesQueue.length&&(s.pop(),h.reqs=0,h.replaces&&i.applyLayerReplacement(h),i.requestRedraw())}}return l},vi.applyLayerReplacement=function(a){var s=this.layersByLevel[a.level],l=a.replaces,f=s.indexOf(l);if(!(f<0||l.invalid)){s[f]=a;for(var h=0;h<a.eles.length;h++){var p=a.eles[h]._private,m=p.imgLayerCaches=p.imgLayerCaches||{};m&&(m[a.level]=a)}this.requestRedraw()}},vi.requestRedraw=nt.default(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),vi.setupDequeueing=Id_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,s){return i.dequeue(s)},onDeqd:vf,shouldRedraw:jh,priority:function(i){return i.renderer.beforeRenderPriorities.lyrTxrDeq}});var Rp,Ad={};function ch(a,i){for(var s=0;s<i.length;s++){var l=i[s];a.lineTo(l.x,l.y)}}function Rd(a,i,s){for(var l,f=0;f<i.length;f++){var h=i[f];0===f&&(l=h),a.lineTo(h.x,h.y)}a.quadraticCurveTo(s.x,s.y,l.x,l.y)}function Np(a,i,s){a.beginPath&&a.beginPath();for(var l=i,f=0;f<l.length;f++)a.lineTo((h=l[f]).x,h.y);var p=s,m=s[0];for(a.moveTo(m.x,m.y),f=1;f<p.length;f++){var h;a.lineTo((h=p[f]).x,h.y)}a.closePath&&a.closePath()}function Nd(a,i,s,l,f){a.beginPath&&a.beginPath(),a.arc(s,l,f,0,2*Math.PI,!1);var h=i,p=h[0];a.moveTo(p.x,p.y);for(var m=0;m<h.length;m++){var b=h[m];a.lineTo(b.x,b.y)}a.closePath&&a.closePath()}function mv(a,i,s,l){a.arc(i,s,l,0,2*Math.PI,!1)}Ad.arrowShapeImpl=function(a){return(Rp||(Rp={polygon:ch,"triangle-backcurve":Rd,"triangle-tee":Np,"circle-triangle":Nd,"triangle-cross":Np,circle:mv}))[a]};var Eo={drawElement:function(a,i,s,l,f,h){i.isNode()?this.drawNode(a,i,s,l,f,h):this.drawEdge(a,i,s,l,f,h)},drawElementOverlay:function(a,i){i.isNode()?this.drawNodeOverlay(a,i):this.drawEdgeOverlay(a,i)},drawElementUnderlay:function(a,i){i.isNode()?this.drawNodeUnderlay(a,i):this.drawEdgeUnderlay(a,i)},drawCachedElementPortion:function(a,i,s,l,f,h,p,m){var b=this,y=s.getBoundingBox(i);if(0!==y.w&&0!==y.h){var D=s.getElement(i,y,l,f,h);if(null!=D){var E=m(b,i);if(0===E)return;var P,k,O,V,q,W,S=p(b,i),M=y.x1,x=y.y1,R=y.w,A=y.h;if(0!==S){var K=s.getRotationPoint(i);a.translate(O=K.x,V=K.y),a.rotate(S),(q=b.getImgSmoothing(a))||b.setImgSmoothing(a,!0);var $=s.getRotationOffset(i);P=$.x,k=$.y}else P=M,k=x;1!==E&&(a.globalAlpha=(W=a.globalAlpha)*E),a.drawImage(D.texture.canvas,D.x,0,D.width,D.height,P,k,R,A),1!==E&&(a.globalAlpha=W),0!==S&&(a.rotate(-S),a.translate(-O,-V),q||b.setImgSmoothing(a,!1))}else s.drawElement(a,i)}}},yv=function(){return 0},Pp=function(i,s){return i.getTextAngle(s,null)},dh=function(i,s){return i.getTextAngle(s,"source")},Pd=function(i,s){return i.getTextAngle(s,"target")},kp=function(i,s){return s.effectiveOpacity()},fh=function(i,s){return s.pstyle("text-opacity").pfValue*s.effectiveOpacity()};Eo.drawCachedElement=function(a,i,s,l,f,h){var p=this,m=p.data,b=m.eleTxrCache,y=m.lblTxrCache,D=m.slbTxrCache,E=m.tlbTxrCache,S=i.boundingBox(),M=!0===h?b.reasons.highQuality:null;if(0!==S.w&&0!==S.h&&i.visible()&&(!l||Jh(S,l))){var x=i.isEdge(),R=i.element()._private.rscratch.badLine;p.drawElementUnderlay(a,i),p.drawCachedElementPortion(a,i,b,s,f,M,yv,kp),(!x||!R)&&p.drawCachedElementPortion(a,i,y,s,f,M,Pp,fh),x&&!R&&(p.drawCachedElementPortion(a,i,D,s,f,M,dh,fh),p.drawCachedElementPortion(a,i,E,s,f,M,Pd,fh)),p.drawElementOverlay(a,i)}},Eo.drawElements=function(a,i){for(var l=0;l<i.length;l++)this.drawElement(a,i[l])},Eo.drawCachedElements=function(a,i,s,l){for(var h=0;h<i.length;h++)this.drawCachedElement(a,i[h],s,l)},Eo.drawCachedNodes=function(a,i,s,l){for(var h=0;h<i.length;h++){var p=i[h];p.isNode()&&this.drawCachedElement(a,p,s,l)}},Eo.drawLayeredElements=function(a,i,s,l){var h=this.data.lyrTxrCache.getLayers(i,s);if(h)for(var p=0;p<h.length;p++){var m=h[p],b=m.bb;0===b.w||0===b.h||a.drawImage(m.canvas,b.x1,b.y1,b.w,b.h)}else this.drawCachedElements(a,i,s,l)};var es={drawEdge:function(a,i,s){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this,m=i._private.rscratch;if((!h||i.visible())&&!m.badLine&&null!=m.allpts&&!isNaN(m.allpts[0])){var b;s&&a.translate(-(b=s).x1,-b.y1);var y=h?i.pstyle("opacity").value:1,D=h?i.pstyle("line-opacity").value:1,E=i.pstyle("curve-style").value,S=i.pstyle("line-style").value,M=i.pstyle("width").pfValue,x=i.pstyle("line-cap").value,R=y*D,A=y*D,P=function(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;"straight-triangle"===E?(p.eleStrokeStyle(a,i,G),p.drawEdgeTrianglePath(i,a,m.allpts)):(a.lineWidth=M,a.lineCap=x,p.eleStrokeStyle(a,i,G),p.drawEdgePath(i,a,m.allpts,S),a.lineCap="butt")},V=function(){p.drawArrowheads(a,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:A)};if(a.lineJoin="round","yes"===i.pstyle("ghost").value){var $=i.pstyle("ghost-offset-x").pfValue,W=i.pstyle("ghost-offset-y").pfValue,U=i.pstyle("ghost-opacity").value,Y=R*U;a.translate($,W),P(Y),V(Y),a.translate(-$,-W)}f&&p.drawEdgeUnderlay(a,i),P(),V(),f&&p.drawEdgeOverlay(a,i),p.drawElementText(a,i,null,l),s&&a.translate(b.x1,b.y1)}}},cu=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(s,l){if(l.visible()){var f=l.pstyle("".concat(i,"-opacity")).value;if(0!==f){var h=this,p=h.usePaths(),m=l._private.rscratch,y=2*l.pstyle("".concat(i,"-padding")).pfValue,D=l.pstyle("".concat(i,"-color")).value;s.lineWidth=y,s.lineCap="self"!==m.edgeType||p?"round":"butt",h.colorStrokeStyle(s,D[0],D[1],D[2],f),h.drawEdgePath(l,s,m.allpts,"solid")}}}};es.drawEdgeOverlay=cu("overlay"),es.drawEdgeUnderlay=cu("underlay"),es.drawEdgePath=function(a,i,s,l){var p,f=a._private.rscratch,h=i,m=!1,b=this.usePaths(),y=a.pstyle("line-dash-pattern").pfValue,D=a.pstyle("line-dash-offset").pfValue;if(b){var E=s.join("$");f.pathCacheKey&&f.pathCacheKey===E?(p=i=f.pathCache,m=!0):(p=i=new Path2D,f.pathCacheKey=E,f.pathCache=p)}if(h.setLineDash)switch(l){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash(y),h.lineDashOffset=D;break;case"solid":h.setLineDash([])}if(!m&&!f.badLine)switch(i.beginPath&&i.beginPath(),i.moveTo(s[0],s[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var M=2;M+3<s.length;M+=4)i.quadraticCurveTo(s[M],s[M+1],s[M+2],s[M+3]);break;case"straight":case"segments":case"haystack":for(var x=2;x+1<s.length;x+=2)i.lineTo(s[x],s[x+1])}i=h,b?i.stroke(p):i.stroke(),i.setLineDash&&i.setLineDash([])},es.drawEdgeTrianglePath=function(a,i,s){i.fillStyle=i.strokeStyle;for(var l=a.pstyle("width").pfValue,f=0;f+1<s.length;f+=2){var h=[s[f+2]-s[f],s[f+3]-s[f+1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),m=[h[1]/p,-h[0]/p],b=[m[0]*l/2,m[1]*l/2];i.beginPath(),i.moveTo(s[f]-b[0],s[f+1]-b[1]),i.lineTo(s[f]+b[0],s[f+1]+b[1]),i.lineTo(s[f+2],s[f+3]),i.closePath(),i.fill()}},es.drawArrowheads=function(a,i,s){var l=i._private.rscratch,f="haystack"===l.edgeType;f||this.drawArrowhead(a,i,"source",l.arrowStartX,l.arrowStartY,l.srcArrowAngle,s),this.drawArrowhead(a,i,"mid-target",l.midX,l.midY,l.midtgtArrowAngle,s),this.drawArrowhead(a,i,"mid-source",l.midX,l.midY,l.midsrcArrowAngle,s),f||this.drawArrowhead(a,i,"target",l.arrowEndX,l.arrowEndY,l.tgtArrowAngle,s)},es.drawArrowhead=function(a,i,s,l,f,h,p){if(!(isNaN(l)||null==l||isNaN(f)||null==f||isNaN(h)||null==h)){var m=this,b=i.pstyle(s+"-arrow-shape").value;if("none"!==b){var y="hollow"===i.pstyle(s+"-arrow-fill").value?"both":"filled",D=i.pstyle(s+"-arrow-fill").value,E=i.pstyle("width").pfValue,S=i.pstyle(s+"-arrow-width"),M="match-line"===S.value?E:S.pfValue;"%"===S.units&&(M*=E);var x=i.pstyle("opacity").value;void 0===p&&(p=x);var R=a.globalCompositeOperation;(1!==p||"hollow"===D)&&(a.globalCompositeOperation="destination-out",m.colorFillStyle(a,255,255,255,1),m.colorStrokeStyle(a,255,255,255,1),m.drawArrowShape(i,a,y,E,b,M,l,f,h),a.globalCompositeOperation=R);var A=i.pstyle(s+"-arrow-color").value;m.colorFillStyle(a,A[0],A[1],A[2],p),m.colorStrokeStyle(a,A[0],A[1],A[2],p),m.drawArrowShape(i,a,D,E,b,M,l,f,h)}}},es.drawArrowShape=function(a,i,s,l,f,h,p,m,b){var S,y=this,D=this.usePaths()&&"triangle-cross"!==f,E=!1,M=i,x={x:p,y:m},R=a.pstyle("arrow-scale").value,A=this.getArrowWidth(l,R),P=y.arrowShapes[f];if(D){var k=y.arrowPathCache=y.arrowPathCache||[],O=ua(f),V=k[O];null!=V?(S=i=V,E=!0):(S=i=new Path2D,k[O]=S)}E||(i.beginPath&&i.beginPath(),D?P.draw(i,1,0,{x:0,y:0},1):P.draw(i,A,b,x,l),i.closePath&&i.closePath()),i=M,D&&(i.translate(p,m),i.rotate(b),i.scale(A,A)),("filled"===s||"both"===s)&&(D?i.fill(S):i.fill()),("hollow"===s||"both"===s)&&(i.lineWidth=h/(D?A:1),i.lineJoin="miter",D?i.stroke(S):i.stroke()),D&&(i.scale(1/A,1/A),i.rotate(-b),i.translate(-p,-m))};var du={safeDrawImage:function(a,i,s,l,f,h,p,m,b,y){if(!(f<=0||h<=0||b<=0||y<=0))try{a.drawImage(i,s,l,f,h,p,m,b,y)}catch(D){Zt(D)}},drawInscribedImage:function(a,i,s,l,f){var h=this,p=s.position(),m=p.x,b=p.y,y=s.cy().style(),D=y.getIndexedStyle.bind(y),E=D(s,"background-fit","value",l),S=D(s,"background-repeat","value",l),M=s.width(),x=s.height(),R=2*s.padding(),A=M+("inner"===D(s,"background-width-relative-to","value",l)?0:R),P=x+("inner"===D(s,"background-height-relative-to","value",l)?0:R),k=s._private.rscratch,V="node"===D(s,"background-clip","value",l),q=D(s,"background-image-opacity","value",l)*f,K=D(s,"background-image-smoothing","value",l),$=i.width||i.cachedW,W=i.height||i.cachedH;(null==$||null==W)&&(document.body.appendChild(i),$=i.cachedW=i.width||i.offsetWidth,W=i.cachedH=i.height||i.offsetHeight,document.body.removeChild(i));var U=$,Y=W;if("auto"!==D(s,"background-width","value",l)&&(U="%"===D(s,"background-width","units",l)?D(s,"background-width","pfValue",l)*A:D(s,"background-width","pfValue",l)),"auto"!==D(s,"background-height","value",l)&&(Y="%"===D(s,"background-height","units",l)?D(s,"background-height","pfValue",l)*P:D(s,"background-height","pfValue",l)),0!==U&&0!==Y){if("contain"===E)U*=X=Math.min(A/U,P/Y),Y*=X;else if("cover"===E){var X;U*=X=Math.max(A/U,P/Y),Y*=X}var G=m-A/2,te=D(s,"background-position-x","units",l),Z=D(s,"background-position-x","pfValue",l);G+="%"===te?(A-U)*Z:Z;var ue=D(s,"background-offset-x","units",l),ne=D(s,"background-offset-x","pfValue",l);G+="%"===ue?(A-U)*ne:ne;var ee=b-P/2,he=D(s,"background-position-y","units",l),ve=D(s,"background-position-y","pfValue",l);ee+="%"===he?(P-Y)*ve:ve;var Se=D(s,"background-offset-y","units",l),fe=D(s,"background-offset-y","pfValue",l);ee+="%"===Se?(P-Y)*fe:fe,k.pathCache&&(G-=m,ee-=b,m=0,b=0);var Ee=a.globalAlpha;a.globalAlpha=q;var Ne=h.getImgSmoothing(a),Be=!1;if("no"===K&&Ne?(h.setImgSmoothing(a,!1),Be=!0):"yes"===K&&!Ne&&(h.setImgSmoothing(a,!0),Be=!0),"no-repeat"===S)V&&(a.save(),k.pathCache?a.clip(k.pathCache):(h.nodeShapes[h.getNodeShape(s)].draw(a,m,b,A,P),a.clip())),h.safeDrawImage(a,i,0,0,$,W,G,ee,U,Y),V&&a.restore();else{var ke=a.createPattern(i,S);a.fillStyle=ke,h.nodeShapes[h.getNodeShape(s)].draw(a,m,b,A,P),a.translate(G,ee),a.fill(),a.translate(-G,-ee)}a.globalAlpha=Ee,Be&&h.setImgSmoothing(a,Ne)}}},fu={eleTextBiggerThanMin:function(a,i){if(!i){var s=a.cy().zoom(),l=this.getPixelRatio(),f=Math.ceil(Qh(s*l));i=Math.pow(2,f)}return!(a.pstyle("font-size").pfValue*i<a.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(a,i,s,l,f){var h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this;if(null==l){if(h&&!p.eleTextBiggerThanMin(i))return}else if(!1===l)return;if(i.isNode()){var m=i.pstyle("label");if(!m||!m.value)return;var b=p.getLabelJustification(i);a.textAlign=b,a.textBaseline="bottom"}else{var y=i.element()._private.rscratch.badLine,D=i.pstyle("label"),E=i.pstyle("source-label"),S=i.pstyle("target-label");if(y||(!D||!D.value)&&(!E||!E.value)&&(!S||!S.value))return;a.textAlign="center",a.textBaseline="bottom"}var x,M=!s;s&&a.translate(-(x=s).x1,-x.y1),null==f?(p.drawText(a,i,null,M,h),i.isEdge()&&(p.drawText(a,i,"source",M,h),p.drawText(a,i,"target",M,h))):p.drawText(a,i,f,M,h),s&&a.translate(x.x1,x.y1)},getFontCache:function(a){var i;this.fontCaches=this.fontCaches||[];for(var s=0;s<this.fontCaches.length;s++)if((i=this.fontCaches[s]).context===a)return i;return this.fontCaches.push(i={context:a}),i},setupTextStyle:function(a,i){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=i.pstyle("font-style").strValue,f=i.pstyle("font-size").pfValue+"px",h=i.pstyle("font-family").strValue,p=i.pstyle("font-weight").strValue,m=s?i.effectiveOpacity()*i.pstyle("text-opacity").value:1,b=i.pstyle("text-outline-opacity").value*m,y=i.pstyle("color").value,D=i.pstyle("text-outline-color").value;a.font=l+" "+p+" "+f+" "+h,a.lineJoin="round",this.colorFillStyle(a,y[0],y[1],y[2],m),this.colorStrokeStyle(a,D[0],D[1],D[2],b)},getTextAngle:function(a,i){var f=a._private.rscratch,p=a.pstyle((i?i+"-":"")+"text-rotation"),m=lo(f,"labelAngle",i);return"autorotate"===p.strValue?a.isEdge()?m:0:"none"===p.strValue?0:p.pfValue},drawText:function(a,i,s){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=i._private.rscratch,m=f?i.effectiveOpacity():1;if(!f||0!==m&&0!==i.pstyle("text-opacity").value){"main"===s&&(s=null);var D,E,b=lo(p,"labelX",s),y=lo(p,"labelY",s),S=this.getLabelText(i,s);if(null!=S&&""!==S&&!isNaN(b)&&!isNaN(y)){this.setupTextStyle(a,i,f);var q,M=s?s+"-":"",x=lo(p,"labelWidth",s),R=lo(p,"labelHeight",s),A=i.pstyle(M+"text-margin-x").pfValue,P=i.pstyle(M+"text-margin-y").pfValue,k=i.isEdge(),O=i.pstyle("text-halign").value,V=i.pstyle("text-valign").value;switch(k&&(O="center",V="center"),b+=A,y+=P,0!==(q=l?this.getTextAngle(i,s):0)&&(a.translate(D=b,E=y),a.rotate(q),b=0,y=0),V){case"top":break;case"center":y+=R/2;break;case"bottom":y+=R}var K=i.pstyle("text-background-opacity").value,$=i.pstyle("text-border-opacity").value,W=i.pstyle("text-border-width").pfValue,U=i.pstyle("text-background-padding").pfValue;if(K>0||W>0&&$>0){var Y=b-U;switch(O){case"left":Y-=x;break;case"center":Y-=x/2}var X=y-R-U,G=x+2*U,te=R+2*U;if(K>0){var Z=a.fillStyle,ue=i.pstyle("text-background-color").value;a.fillStyle="rgba("+ue[0]+","+ue[1]+","+ue[2]+","+K*m+")",0===i.pstyle("text-background-shape").strValue.indexOf("round")?function sy(a,i,s,l,f){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;a.beginPath(),a.moveTo(i+h,s),a.lineTo(i+l-h,s),a.quadraticCurveTo(i+l,s,i+l,s+h),a.lineTo(i+l,s+f-h),a.quadraticCurveTo(i+l,s+f,i+l-h,s+f),a.lineTo(i+h,s+f),a.quadraticCurveTo(i,s+f,i,s+f-h),a.lineTo(i,s+h),a.quadraticCurveTo(i,s,i+h,s),a.closePath(),a.fill()}(a,Y,X,G,te,2):a.fillRect(Y,X,G,te),a.fillStyle=Z}if(W>0&&$>0){var ee=a.strokeStyle,he=a.lineWidth,ve=i.pstyle("text-border-color").value,Se=i.pstyle("text-border-style").value;if(a.strokeStyle="rgba("+ve[0]+","+ve[1]+","+ve[2]+","+$*m+")",a.lineWidth=W,a.setLineDash)switch(Se){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=W/4,a.setLineDash([]);break;case"solid":a.setLineDash([])}if(a.strokeRect(Y,X,G,te),"double"===Se){var fe=W/2;a.strokeRect(Y+fe,X+fe,G-2*fe,te-2*fe)}a.setLineDash&&a.setLineDash([]),a.lineWidth=he,a.strokeStyle=ee}}var Ee=2*i.pstyle("text-outline-width").pfValue;if(Ee>0&&(a.lineWidth=Ee),"wrap"===i.pstyle("text-wrap").value){var Ne=lo(p,"labelWrapCachedLines",s),Be=lo(p,"labelLineHeight",s),ke=x/2,Oe=this.getLabelJustification(i);switch("auto"===Oe||("left"===O?"left"===Oe?b+=-x:"center"===Oe&&(b+=-ke):"center"===O?"left"===Oe?b+=-ke:"right"===Oe&&(b+=ke):"right"===O&&("center"===Oe?b+=ke:"right"===Oe&&(b+=x))),V){case"top":case"center":case"bottom":y-=(Ne.length-1)*Be}for(var pe=0;pe<Ne.length;pe++)Ee>0&&a.strokeText(Ne[pe],b,y),a.fillText(Ne[pe],b,y),y+=Be}else Ee>0&&a.strokeText(S,b,y),a.fillText(S,b,y);0!==q&&(a.rotate(-q),a.translate(-D,-E))}}}},hu={drawNode:function(a,i,s){var m,b,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this,y=i._private,D=y.rscratch,E=i.position();if(ot(E.x)&&ot(E.y)&&(!h||i.visible())){var x,P,S=h?i.effectiveOpacity():1,M=p.usePaths(),R=!1,A=i.padding();m=i.width()+2*A,b=i.height()+2*A,s&&a.translate(-(P=s).x1,-P.y1);for(var O=i.pstyle("background-image").value,V=new Array(O.length),q=new Array(O.length),K=0,$=0;$<O.length;$++){var W=O[$];if(V[$]=null!=W&&"none"!==W){var Y=i.cy().style().getIndexedStyle(i,"background-image-crossorigin","value",$);K++,q[$]=p.getCachedImage(W,Y,function(){y.backgroundTimestamp=Date.now(),i.emitAndNotify("background")})}}var X=i.pstyle("background-blacken").value,G=i.pstyle("border-width").pfValue,te=i.pstyle("background-opacity").value*S,Z=i.pstyle("border-color").value,ue=i.pstyle("border-style").value,ne=i.pstyle("border-opacity").value*S,ee=i.pstyle("outline-width").pfValue,he=i.pstyle("outline-color").value,ve=i.pstyle("outline-style").value,Se=i.pstyle("outline-opacity").value*S,fe=i.pstyle("outline-offset").value;a.lineJoin="miter";var Ee=function(){p.eleFillStyle(a,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:te)},Ne=function(){p.colorStrokeStyle(a,Z[0],Z[1],Z[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne)},Be=function(){p.colorStrokeStyle(a,he[0],he[1],he[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se)},ke=function(me,z,ge,xe){var ye,Ce=p.nodePathCache=p.nodePathCache||[],_e=pf("polygon"===ge?ge+","+xe.join(","):ge,""+z,""+me),at=Ce[_e],bt=!1;return null!=at?(bt=!0,D.pathCache=ye=at):(ye=new Path2D,Ce[_e]=D.pathCache=ye),{path:ye,cacheHit:bt}},Oe=i.pstyle("shape").strValue,pe=i.pstyle("shape-polygon-points").pfValue;if(M){a.translate(E.x,E.y);var ze=ke(m,b,Oe,pe);x=ze.path,R=ze.cacheHit}var Ge=function(){if(!R){var me=E;M&&(me={x:0,y:0}),p.nodeShapes[p.getNodeShape(i)].draw(x||a,me.x,me.y,m,b)}M?a.fill(x):a.fill()},Fe=function(){for(var me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,z=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ge=y.backgrounding,xe=0,Ce=0;Ce<q.length;Ce++){var _e=i.cy().style().getIndexedStyle(i,"background-image-containment","value",Ce);z&&"over"===_e||!z&&"inside"===_e?xe++:V[Ce]&&q[Ce].complete&&!q[Ce].error&&(xe++,p.drawInscribedImage(a,q[Ce],i,Ce,me))}y.backgrounding=xe!==K,ge!==y.backgrounding&&i.updateStyle(!1)},Ye=function(){var me=arguments.length>0&&void 0!==arguments[0]&&arguments[0],z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;p.hasPie(i)&&(p.drawPie(a,i,z),me&&(M||p.nodeShapes[p.getNodeShape(i)].draw(a,E.x,E.y,m,b)))},Mt=function(){var ge=X>0?0:255;0!==X&&(p.colorFillStyle(a,ge,ge,ge,(X>0?X:-X)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S)),M?a.fill(x):a.fill())},Lt=function(){if(G>0){if(a.lineWidth=G,a.lineCap="butt",a.setLineDash)switch(ue){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}if(M?a.stroke(x):a.stroke(),"double"===ue){a.lineWidth=G/3;var me=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",M?a.stroke(x):a.stroke(),a.globalCompositeOperation=me}a.setLineDash&&a.setLineDash([])}},Ae=function(){if(ee>0){if(a.lineWidth=ee,a.lineCap="butt",a.setLineDash)switch(ve){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}var me=E;M&&(me={x:0,y:0});var ye,z=p.getNodeShape(i),ge=(m+G+(ee+fe))/m,xe=(b+G+(ee+fe))/b,Ce=m*ge,_e=b*xe,at=p.nodeShapes[z].points;if(M&&(ye=ke(Ce,_e,z,at).path),"ellipse"===z)p.drawEllipsePath(ye||a,me.x,me.y,Ce,_e);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(z)){var rn=0,Sn=0,zt=0;"round-diamond"===z?rn=1.4*(G+fe+ee):"round-heptagon"===z?(rn=1.075*(G+fe+ee),zt=-(G/2+fe+ee)/35):"round-hexagon"===z?rn=1.12*(G+fe+ee):"round-pentagon"===z?(rn=1.13*(G+fe+ee),zt=-(G/2+fe+ee)/15):"round-tag"===z?(rn=1.12*(G+fe+ee),Sn=.07*(G/2+ee+fe)):"round-triangle"===z&&(rn=(G+fe+ee)*(Math.PI/2),zt=-(G+fe/2+ee)/Math.PI),0!==rn&&(ge=(m+rn)/m,xe=(b+rn)/b),p.drawRoundPolygonPath(ye||a,me.x+Sn,me.y+zt,m*ge,b*xe,at)}else["roundrectangle","round-rectangle"].includes(z)?p.drawRoundRectanglePath(ye||a,me.x,me.y,Ce,_e):["cutrectangle","cut-rectangle"].includes(z)?p.drawCutRectanglePath(ye||a,me.x,me.y,Ce,_e):["bottomroundrectangle","bottom-round-rectangle"].includes(z)?p.drawBottomRoundRectanglePath(ye||a,me.x,me.y,Ce,_e):"barrel"===z?p.drawBarrelPath(ye||a,me.x,me.y,Ce,_e):z.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(z)?(at=Nl(sn(at,(G+ee+fe)/m)),p.drawPolygonPath(ye||a,me.x,me.y,m,b,at)):(at=Nl(sn(at,-(G+ee+fe)/m)),p.drawPolygonPath(ye||a,me.x,me.y,m,b,at));if(M?a.stroke(ye):a.stroke(),"double"===ve){a.lineWidth=G/3;var Jt=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",M?a.stroke(ye):a.stroke(),a.globalCompositeOperation=Jt}a.setLineDash&&a.setLineDash([])}};if("yes"===i.pstyle("ghost").value){var Ct=i.pstyle("ghost-offset-x").pfValue,mn=i.pstyle("ghost-offset-y").pfValue,un=i.pstyle("ghost-opacity").value,$t=un*S;a.translate(Ct,mn),Be(),Ae(),Ee(un*te),Ge(),Fe($t,!0),Ne(un*ne),Lt(),Ye(0!==X||0!==G),Fe($t,!1),Mt($t),a.translate(-Ct,-mn)}M&&a.translate(-E.x,-E.y),f&&p.drawNodeUnderlay(a,i,E,m,b),M&&a.translate(E.x,E.y),Be(),Ae(),Ee(),Ge(),Fe(S,!0),Ne(),Lt(),Ye(0!==X||0!==G),Fe(S,!1),Mt(),M&&a.translate(-E.x,-E.y),p.drawElementText(a,i,null,l),f&&p.drawNodeOverlay(a,i,E,m,b),s&&a.translate(P.x1,P.y1)}}},Op=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(s,l,f,h,p){if(l.visible()){var b=l.pstyle("".concat(i,"-padding")).pfValue,y=l.pstyle("".concat(i,"-opacity")).value,D=l.pstyle("".concat(i,"-color")).value,E=l.pstyle("".concat(i,"-shape")).value;if(y>0){if(f=f||l.position(),null==h||null==p){var S=l.padding();h=l.width()+2*S,p=l.height()+2*S}this.colorFillStyle(s,D[0],D[1],D[2],y),this.nodeShapes[E].draw(s,f.x,f.y,h+2*b,p+2*b),s.fill()}}}};hu.drawNodeOverlay=Op("overlay"),hu.drawNodeUnderlay=Op("underlay"),hu.hasPie=function(a){return(a=a[0])._private.hasPie},hu.drawPie=function(a,i,s,l){i=i[0],l=l||i.position();var f=i.cy().style(),h=i.pstyle("pie-size"),p=l.x,m=l.y,b=i.width(),y=i.height(),D=Math.min(b,y)/2,E=0;this.usePaths()&&(p=0,m=0),"%"===h.units?D*=h.pfValue:void 0!==h.pfValue&&(D=h.pfValue/2);for(var M=1;M<=f.pieBackgroundN;M++){var x=i.pstyle("pie-"+M+"-background-size").value,R=i.pstyle("pie-"+M+"-background-color").value,A=i.pstyle("pie-"+M+"-background-opacity").value*s,P=x/100;P+E>1&&(P=1-E);var k=1.5*Math.PI+2*Math.PI*E,V=k+2*Math.PI*P;0===x||E>=1||E+P>1||(a.beginPath(),a.moveTo(p,m),a.arc(p,m,D,k,V),a.closePath(),this.colorFillStyle(a,R[0],R[1],R[2],A),a.fill(),E+=P)}};for(var eo={getPixelRatio:function(){var a=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)},paintCache:function(a){for(var l,i=this.paintCaches=this.paintCaches||[],s=!0,f=0;f<i.length;f++)if((l=i[f]).context===a){s=!1;break}return s&&i.push(l={context:a}),l},createGradientStyleFor:function(a,i,s,l,f){var h,p=this.usePaths(),m=s.pstyle(i+"-gradient-stop-colors").value,b=s.pstyle(i+"-gradient-stop-positions").pfValue;if("radial-gradient"===l)if(s.isEdge()){var y=s.sourceEndpoint(),D=s.targetEndpoint(),E=s.midpoint(),S=Ba(y,E),M=Ba(D,E);h=a.createRadialGradient(E.x,E.y,0,E.x,E.y,Math.max(S,M))}else{var x=p?{x:0,y:0}:s.position(),R=s.paddedWidth(),A=s.paddedHeight();h=a.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(R,A))}else if(s.isEdge()){var P=s.sourceEndpoint(),k=s.targetEndpoint();h=a.createLinearGradient(P.x,P.y,k.x,k.y)}else{var O=p?{x:0,y:0}:s.position(),K=s.paddedWidth()/2,$=s.paddedHeight()/2;switch(s.pstyle("background-gradient-direction").value){case"to-bottom":h=a.createLinearGradient(O.x,O.y-$,O.x,O.y+$);break;case"to-top":h=a.createLinearGradient(O.x,O.y+$,O.x,O.y-$);break;case"to-left":h=a.createLinearGradient(O.x+K,O.y,O.x-K,O.y);break;case"to-right":h=a.createLinearGradient(O.x-K,O.y,O.x+K,O.y);break;case"to-bottom-right":case"to-right-bottom":h=a.createLinearGradient(O.x-K,O.y-$,O.x+K,O.y+$);break;case"to-top-right":case"to-right-top":h=a.createLinearGradient(O.x-K,O.y+$,O.x+K,O.y-$);break;case"to-bottom-left":case"to-left-bottom":h=a.createLinearGradient(O.x+K,O.y-$,O.x-K,O.y+$);break;case"to-top-left":case"to-left-top":h=a.createLinearGradient(O.x+K,O.y+$,O.x-K,O.y-$)}}if(!h)return null;for(var U=b.length===m.length,Y=m.length,X=0;X<Y;X++)h.addColorStop(U?b[X]:X/(Y-1),"rgba("+m[X][0]+","+m[X][1]+","+m[X][2]+","+f+")");return h},gradientFillStyle:function(a,i,s,l){var f=this.createGradientStyleFor(a,"background",i,s,l);if(!f)return null;a.fillStyle=f},colorFillStyle:function(a,i,s,l,f){a.fillStyle="rgba("+i+","+s+","+l+","+f+")"},eleFillStyle:function(a,i,s){var l=i.pstyle("background-fill").value;if("linear-gradient"===l||"radial-gradient"===l)this.gradientFillStyle(a,i,l,s);else{var f=i.pstyle("background-color").value;this.colorFillStyle(a,f[0],f[1],f[2],s)}},gradientStrokeStyle:function(a,i,s,l){var f=this.createGradientStyleFor(a,"line",i,s,l);if(!f)return null;a.strokeStyle=f},colorStrokeStyle:function(a,i,s,l,f){a.strokeStyle="rgba("+i+","+s+","+l+","+f+")"},eleStrokeStyle:function(a,i,s){var l=i.pstyle("line-fill").value;if("linear-gradient"===l||"radial-gradient"===l)this.gradientStrokeStyle(a,i,l,s);else{var f=i.pstyle("line-color").value;this.colorStrokeStyle(a,f[0],f[1],f[2],s)}},matchCanvasSize:function(a){var i=this,s=i.data,l=i.findContainerClientCoords(),f=l[2],h=l[3],p=i.getPixelRatio();(a===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE]||a===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG])&&(p=i.motionBlurPxRatio);var D,b=f*p,y=h*p;if(b!==i.canvasWidth||y!==i.canvasHeight){i.fontCaches=null;var E=s.canvasContainer;E.style.width=f+"px",E.style.height=h+"px";for(var S=0;S<i.CANVAS_LAYERS;S++)(D=s.canvases[S]).width=b,D.height=y,D.style.width=f+"px",D.style.height=h+"px";for(S=0;S<i.BUFFER_COUNT;S++)(D=s.bufferCanvases[S]).width=b,D.height=y,D.style.width=f+"px",D.style.height=h+"px";i.textureMult=1,p<=1&&(D=s.bufferCanvases[i.TEXTURE_BUFFER],i.textureMult=2,D.width=b*i.textureMult,D.height=y*i.textureMult),i.canvasWidth=b,i.canvasHeight=y}},renderTo:function(a,i,s,l){this.render({forcedContext:a,forcedZoom:i,forcedPan:s,drawAllLayers:!0,forcedPxRatio:l})},render:function(a){var i=(a=a||Gc()).forcedContext,s=a.drawAllLayers,l=a.drawOnlyNodeLayer,f=a.forcedZoom,h=a.forcedPan,p=this,m=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,b=p.cy,y=p.data,D=y.canvasNeedsRedraw,E=p.textureOnViewport&&!i&&(p.pinching||p.hoverData.dragging||p.swipePanning||p.data.wheelZooming),S=void 0!==a.motionBlur?a.motionBlur:p.motionBlur,M=p.motionBlurPxRatio,x=b.hasCompoundNodes(),R=p.hoverData.draggingEles,P=S=S&&!i&&p.motionBlurEnabled&&!(p.hoverData.selecting||p.touchData.selecting);i||(p.prevPxRatio!==m&&(p.invalidateContainerClientCoordsCache(),p.matchCanvasSize(p.container),p.redrawHint("eles",!0),p.redrawHint("drag",!0)),p.prevPxRatio=m),!i&&p.motionBlurTimeout&&clearTimeout(p.motionBlurTimeout),S&&(null==p.mbFrames&&(p.mbFrames=0),p.mbFrames++,p.mbFrames<3&&(P=!1),p.mbFrames>p.minMbLowQualFrames&&(p.motionBlurPxRatio=p.mbPxRBlurry)),p.clearingMotionBlur&&(p.motionBlurPxRatio=1),p.textureDrawLastFrame&&!E&&(D[p.NODE]=!0,D[p.SELECT_BOX]=!0);var k=b.style(),O=b.zoom(),V=void 0!==f?f:O,q=b.pan(),K={x:q.x,y:q.y},$={zoom:O,pan:{x:q.x,y:q.y}},W=p.prevViewport;!(void 0===W||$.zoom!==W.zoom||$.pan.x!==W.pan.x||$.pan.y!==W.pan.y)&&!(R&&!x)&&(p.motionBlurPxRatio=1),h&&(K=h),V*=m,K.x*=m,K.y*=m;var Y=p.getCachedZSortedEles();function X(Ae,et,pt,it,Dt){var Ct=Ae.globalCompositeOperation;Ae.globalCompositeOperation="destination-out",p.colorFillStyle(Ae,255,255,255,p.motionBlurTransparency),Ae.fillRect(et,pt,it,Dt),Ae.globalCompositeOperation=Ct}function G(Ae,et){var pt,it,Dt,Ct;p.clearingMotionBlur||Ae!==y.bufferContexts[p.MOTIONBLUR_BUFFER_NODE]&&Ae!==y.bufferContexts[p.MOTIONBLUR_BUFFER_DRAG]?(pt=K,it=V,Dt=p.canvasWidth,Ct=p.canvasHeight):(pt={x:q.x*M,y:q.y*M},it=O*M,Dt=p.canvasWidth*M,Ct=p.canvasHeight*M),Ae.setTransform(1,0,0,1,0,0),"motionBlur"===et?X(Ae,0,0,Dt,Ct):!i&&(void 0===et||et)&&Ae.clearRect(0,0,Dt,Ct),s||(Ae.translate(pt.x,pt.y),Ae.scale(it,it)),h&&Ae.translate(h.x,h.y),f&&Ae.scale(f,f)}if(E||(p.textureDrawLastFrame=!1),E){if(p.textureDrawLastFrame=!0,!p.textureCache){p.textureCache={},p.textureCache.bb=b.mutableElements().boundingBox(),p.textureCache.texture=p.data.bufferCanvases[p.TEXTURE_BUFFER];var te=p.data.bufferContexts[p.TEXTURE_BUFFER];te.setTransform(1,0,0,1,0,0),te.clearRect(0,0,p.canvasWidth*p.textureMult,p.canvasHeight*p.textureMult),p.render({forcedContext:te,drawOnlyNodeLayer:!0,forcedPxRatio:m*p.textureMult}),($=p.textureCache.viewport={zoom:b.zoom(),pan:b.pan(),width:p.canvasWidth,height:p.canvasHeight}).mpan={x:(0-$.pan.x)/$.zoom,y:(0-$.pan.y)/$.zoom}}D[p.DRAG]=!1,D[p.NODE]=!1;var ue=p.textureCache.texture;$=p.textureCache.viewport,(Z=y.contexts[p.NODE]).setTransform(1,0,0,1,0,0),S?X(Z,0,0,$.width,$.height):Z.clearRect(0,0,$.width,$.height);var ne=k.core("outside-texture-bg-color").value,ee=k.core("outside-texture-bg-opacity").value;p.colorFillStyle(Z,ne[0],ne[1],ne[2],ee),Z.fillRect(0,0,$.width,$.height),O=b.zoom(),G(Z,!1),Z.clearRect($.mpan.x,$.mpan.y,$.width/$.zoom/m,$.height/$.zoom/m),Z.drawImage(ue,$.mpan.x,$.mpan.y,$.width/$.zoom/m,$.height/$.zoom/m)}else p.textureOnViewport&&!i&&(p.textureCache=null);var he=b.extent(),ve=p.pinching||p.hoverData.dragging||p.swipePanning||p.data.wheelZooming||p.hoverData.draggingEles||p.cy.animated(),Se=p.hideEdgesOnViewport&&ve,fe=[];if(fe[p.NODE]=!D[p.NODE]&&S&&!p.clearedForMotionBlur[p.NODE]||p.clearingMotionBlur,fe[p.NODE]&&(p.clearedForMotionBlur[p.NODE]=!0),fe[p.DRAG]=!D[p.DRAG]&&S&&!p.clearedForMotionBlur[p.DRAG]||p.clearingMotionBlur,fe[p.DRAG]&&(p.clearedForMotionBlur[p.DRAG]=!0),D[p.NODE]||s||l||fe[p.NODE]){var Ee=S&&!fe[p.NODE]&&1!==M;G(Z=i||(Ee?p.data.bufferContexts[p.MOTIONBLUR_BUFFER_NODE]:y.contexts[p.NODE]),S&&!Ee?"motionBlur":void 0),Se?p.drawCachedNodes(Z,Y.nondrag,m,he):p.drawLayeredElements(Z,Y.nondrag,m,he),p.debug&&p.drawDebugPoints(Z,Y.nondrag),!s&&!S&&(D[p.NODE]=!1)}if(!l&&(D[p.DRAG]||s||fe[p.DRAG])&&(Ee=S&&!fe[p.DRAG]&&1!==M,G(Z=i||(Ee?p.data.bufferContexts[p.MOTIONBLUR_BUFFER_DRAG]:y.contexts[p.DRAG]),S&&!Ee?"motionBlur":void 0),Se?p.drawCachedNodes(Z,Y.drag,m,he):p.drawCachedElements(Z,Y.drag,m,he),p.debug&&p.drawDebugPoints(Z,Y.drag),!s&&!S&&(D[p.DRAG]=!1)),p.showFps||!l&&D[p.SELECT_BOX]&&!s){var Z;if(G(Z=i||y.contexts[p.SELECT_BOX]),1==p.selection[4]&&(p.hoverData.selecting||p.touchData.selecting)){O=p.cy.zoom();var Be=k.core("selection-box-border-width").value/O;Z.lineWidth=Be,Z.fillStyle="rgba("+k.core("selection-box-color").value[0]+","+k.core("selection-box-color").value[1]+","+k.core("selection-box-color").value[2]+","+k.core("selection-box-opacity").value+")",Z.fillRect(p.selection[0],p.selection[1],p.selection[2]-p.selection[0],p.selection[3]-p.selection[1]),Be>0&&(Z.strokeStyle="rgba("+k.core("selection-box-border-color").value[0]+","+k.core("selection-box-border-color").value[1]+","+k.core("selection-box-border-color").value[2]+","+k.core("selection-box-opacity").value+")",Z.strokeRect(p.selection[0],p.selection[1],p.selection[2]-p.selection[0],p.selection[3]-p.selection[1]))}if(y.bgActivePosistion&&!p.hoverData.selecting){O=p.cy.zoom();var ke=y.bgActivePosistion;Z.fillStyle="rgba("+k.core("active-bg-color").value[0]+","+k.core("active-bg-color").value[1]+","+k.core("active-bg-color").value[2]+","+k.core("active-bg-opacity").value+")",Z.beginPath(),Z.arc(ke.x,ke.y,k.core("active-bg-size").pfValue/O,0,2*Math.PI),Z.fill()}var Oe=p.lastRedrawTime;if(p.showFps&&Oe){Oe=Math.round(Oe);var pe=Math.round(1e3/Oe);Z.setTransform(1,0,0,1,0,0),Z.fillStyle="rgba(255, 0, 0, 0.75)",Z.strokeStyle="rgba(255, 0, 0, 0.75)",Z.lineWidth=1,Z.fillText("1 frame = "+Oe+" ms = "+pe+" fps",0,20),Z.strokeRect(0,30,250,20),Z.fillRect(0,30,250*Math.min(pe/60,1),20)}s||(D[p.SELECT_BOX]=!1)}if(S&&1!==M){var Ye=y.contexts[p.DRAG],Mt=p.data.bufferCanvases[p.MOTIONBLUR_BUFFER_DRAG],Lt=function(et,pt,it){et.setTransform(1,0,0,1,0,0),it||!P?et.clearRect(0,0,p.canvasWidth,p.canvasHeight):X(et,0,0,p.canvasWidth,p.canvasHeight),et.drawImage(pt,0,0,p.canvasWidth*M,p.canvasHeight*M,0,0,p.canvasWidth,p.canvasHeight)};(D[p.NODE]||fe[p.NODE])&&(Lt(y.contexts[p.NODE],p.data.bufferCanvases[p.MOTIONBLUR_BUFFER_NODE],fe[p.NODE]),D[p.NODE]=!1),(D[p.DRAG]||fe[p.DRAG])&&(Lt(Ye,Mt,fe[p.DRAG]),D[p.DRAG]=!1)}p.prevViewport=$,p.clearingMotionBlur&&(p.clearingMotionBlur=!1,p.motionBlurCleared=!0,p.motionBlur=!0),S&&(p.motionBlurTimeout=setTimeout(function(){p.motionBlurTimeout=null,p.clearedForMotionBlur[p.NODE]=!1,p.clearedForMotionBlur[p.DRAG]=!1,p.motionBlur=!1,p.clearingMotionBlur=!E,p.mbFrames=0,D[p.NODE]=!0,D[p.DRAG]=!0,p.redraw()},100)),i||b.emit("render")}},Ts={drawPolygonPath:function(a,i,s,l,f,h){var p=l/2,m=f/2;a.beginPath&&a.beginPath(),a.moveTo(i+p*h[0],s+m*h[1]);for(var b=1;b<h.length/2;b++)a.lineTo(i+p*h[2*b],s+m*h[2*b+1]);a.closePath()},drawRoundPolygonPath:function(a,i,s,l,f,h){var p=l/2,m=f/2,b=kl(l,f);a.beginPath&&a.beginPath();for(var y=0;y<h.length/4;y++){var E,D;D=0===y?h.length-2:4*y-2,E=4*y+2;var S=i+p*h[4*y],M=s+m*h[4*y+1],R=b/Math.tan(Math.acos(-h[D]*h[E]-h[D+1]*h[E+1])/2),A=S-R*h[D],P=M-R*h[D+1],k=S+R*h[E],O=M+R*h[E+1];0===y?a.moveTo(A,P):a.lineTo(A,P),a.arcTo(S,M,k,O,b)}a.closePath()},drawRoundRectanglePath:function(a,i,s,l,f){var h=l/2,p=f/2,m=Gs(l,f);a.beginPath&&a.beginPath(),a.moveTo(i,s-p),a.arcTo(i+h,s-p,i+h,s,m),a.arcTo(i+h,s+p,i,s+p,m),a.arcTo(i-h,s+p,i-h,s,m),a.arcTo(i-h,s-p,i,s-p,m),a.lineTo(i,s-p),a.closePath()},drawBottomRoundRectanglePath:function(a,i,s,l,f){var h=l/2,p=f/2,m=Gs(l,f);a.beginPath&&a.beginPath(),a.moveTo(i,s-p),a.lineTo(i+h,s-p),a.lineTo(i+h,s),a.arcTo(i+h,s+p,i,s+p,m),a.arcTo(i-h,s+p,i-h,s,m),a.lineTo(i-h,s-p),a.lineTo(i,s-p),a.closePath()},drawCutRectanglePath:function(a,i,s,l,f){var h=l/2,p=f/2;a.beginPath&&a.beginPath(),a.moveTo(i-h+8,s-p),a.lineTo(i+h-8,s-p),a.lineTo(i+h,s-p+8),a.lineTo(i+h,s+p-8),a.lineTo(i+h-8,s+p),a.lineTo(i-h+8,s+p),a.lineTo(i-h,s+p-8),a.lineTo(i-h,s-p+8),a.closePath()},drawBarrelPath:function(a,i,s,l,f){var h=l/2,p=f/2,m=i-h,b=i+h,y=s-p,D=s+p,E=tp(l,f),S=E.widthOffset,M=E.heightOffset,x=E.ctrlPtOffsetPct*S;a.beginPath&&a.beginPath(),a.moveTo(m,y+M),a.lineTo(m,D-M),a.quadraticCurveTo(m+x,D,m+S,D),a.lineTo(b-S,D),a.quadraticCurveTo(b-x,D,b,D-M),a.lineTo(b,y+M),a.quadraticCurveTo(b-x,y,b-S,y),a.lineTo(m+S,y),a.quadraticCurveTo(m+x,y,m,y+M),a.closePath()}},Lp=Math.sin(0),cc=Math.cos(0),kd={},hh={},ph=Math.PI/40,dc=0*Math.PI;dc<2*Math.PI;dc+=ph)kd[dc]=Math.sin(dc),hh[dc]=Math.cos(dc);Ts.drawEllipsePath=function(a,i,s,l,f){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(i,s,l/2,f/2,0,0,2*Math.PI);else for(var h,p,m=l/2,b=f/2,y=0*Math.PI;y<2*Math.PI;y+=ph)h=i-m*kd[y]*Lp+m*hh[y]*cc,p=s+b*hh[y]*Lp+b*kd[y]*cc,0===y?a.moveTo(h,p):a.lineTo(h,p);a.closePath()};var cl={};function Bp(a){var i=a.indexOf(",");return a.substr(i+1)}function fc(a,i,s){var l=function(){return i.toDataURL(s,a.quality)};switch(a.output){case"blob-promise":return new go(function(f,h){try{i.toBlob(function(p){null!=p?f(p):h(new Error("`canvas.toBlob()` sent a null value in its callback"))},s,a.quality)}catch(p){h(p)}});case"blob":return function wv(a,i){for(var s=atob(a),l=new ArrayBuffer(s.length),f=new Uint8Array(l),h=0;h<s.length;h++)f[h]=s.charCodeAt(h);return new Blob([l],{type:i})}(Bp(l()),s);case"base64":return Bp(l());default:return l()}}cl.createBuffer=function(a,i){var s=document.createElement("canvas");return s.width=a,s.height=i,[s,s.getContext("2d")]},cl.bufferCanvasImage=function(a){var i=this.cy,l=i.mutableElements().boundingBox(),f=this.findContainerClientCoords(),h=a.full?Math.ceil(l.w):f[2],p=a.full?Math.ceil(l.h):f[3],m=ot(a.maxWidth)||ot(a.maxHeight),b=this.getPixelRatio(),y=1;if(void 0!==a.scale)h*=a.scale,p*=a.scale,y=a.scale;else if(m){var D=1/0,E=1/0;ot(a.maxWidth)&&(D=y*a.maxWidth/h),ot(a.maxHeight)&&(E=y*a.maxHeight/p),h*=y=Math.min(D,E),p*=y}m||(h*=b,p*=b,y*=b);var S=document.createElement("canvas");S.width=h,S.height=p,S.style.width=h+"px",S.style.height=p+"px";var M=S.getContext("2d");if(h>0&&p>0){M.clearRect(0,0,h,p),M.globalCompositeOperation="source-over";var x=this.getCachedZSortedEles();if(a.full)M.translate(-l.x1*y,-l.y1*y),M.scale(y,y),this.drawElements(M,x),M.scale(1/y,1/y),M.translate(l.x1*y,l.y1*y);else{var R=i.pan(),A={x:R.x*y,y:R.y*y};y*=i.zoom(),M.translate(A.x,A.y),M.scale(y,y),this.drawElements(M,x),M.scale(1/y,1/y),M.translate(-A.x,-A.y)}a.bg&&(M.globalCompositeOperation="destination-over",M.fillStyle=a.bg,M.rect(0,0,h,p),M.fill())}return S},cl.png=function(a){return fc(a,this.bufferCanvasImage(a),"image/png")},cl.jpg=function(a){return fc(a,this.bufferCanvasImage(a),"image/jpeg")};var uy=Fd,$n=Fd.prototype;function Fd(a){var i=this;i.data={canvases:new Array($n.CANVAS_LAYERS),contexts:new Array($n.CANVAS_LAYERS),canvasNeedsRedraw:new Array($n.CANVAS_LAYERS),bufferCanvases:new Array($n.BUFFER_COUNT),bufferContexts:new Array($n.CANVAS_LAYERS)};var s="-webkit-tap-highlight-color",l="rgba(0,0,0,0)";i.data.canvasContainer=document.createElement("div");var f=i.data.canvasContainer.style;i.data.canvasContainer.style[s]=l,f.position="relative",f.zIndex="0",f.overflow="hidden";var h=a.cy.container();h.appendChild(i.data.canvasContainer),h.style[s]=l;var p={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};bn&&bn.userAgent.match(/msie|trident|edge/i)&&(p["-ms-touch-action"]="none",p["touch-action"]="none");for(var m=0;m<$n.CANVAS_LAYERS;m++){var b=i.data.canvases[m]=document.createElement("canvas");i.data.contexts[m]=b.getContext("2d"),Object.keys(p).forEach(function(Oe){b.style[Oe]=p[Oe]}),b.style.position="absolute",b.setAttribute("data-id","layer"+m),b.style.zIndex=String($n.CANVAS_LAYERS-m),i.data.canvasContainer.appendChild(b),i.data.canvasNeedsRedraw[m]=!1}for(i.data.topCanvas=i.data.canvases[0],i.data.canvases[$n.NODE].setAttribute("data-id","layer"+$n.NODE+"-node"),i.data.canvases[$n.SELECT_BOX].setAttribute("data-id","layer"+$n.SELECT_BOX+"-selectbox"),i.data.canvases[$n.DRAG].setAttribute("data-id","layer"+$n.DRAG+"-drag"),m=0;m<$n.BUFFER_COUNT;m++)i.data.bufferCanvases[m]=document.createElement("canvas"),i.data.bufferContexts[m]=i.data.bufferCanvases[m].getContext("2d"),i.data.bufferCanvases[m].style.position="absolute",i.data.bufferCanvases[m].setAttribute("data-id","buffer"+m),i.data.bufferCanvases[m].style.zIndex=String(-m-1),i.data.bufferCanvases[m].style.visibility="hidden";i.pathsEnabled=!0;var y=fo(),E=function(pe){return{x:-pe.w/2,y:-pe.h/2}},q=function(pe){return pe.boundingBox(),pe[0]._private.bodyBounds},K=function(pe){return pe.boundingBox(),pe[0]._private.labelBounds.main||y},$=function(pe){return pe.boundingBox(),pe[0]._private.labelBounds.source||y},W=function(pe){return pe.boundingBox(),pe[0]._private.labelBounds.target||y},U=function(pe,ze){return ze},X=function(pe,ze,Ge){var Fe=pe?pe+"-":"";return{x:ze.x+Ge.pstyle(Fe+"text-margin-x").pfValue,y:ze.y+Ge.pstyle(Fe+"text-margin-y").pfValue}},G=function(pe,ze,Ge){var Fe=pe[0]._private.rscratch;return{x:Fe[ze],y:Fe[Ge]}},Se=i.data.eleTxrCache=new Ia(i,{getKey:function(pe){return pe[0]._private.nodeKey},doesEleInvalidateKey:function(pe){var ze=pe[0]._private;return!(ze.oldBackgroundTimestamp===ze.backgroundTimestamp)},drawElement:function(pe,ze,Ge,Fe,Ye){return i.drawElement(pe,ze,Ge,!1,!1,Ye)},getBoundingBox:q,getRotationPoint:function(pe){return function(pe){return{x:(pe.x1+pe.x2)/2,y:(pe.y1+pe.y2)/2}}(q(pe))},getRotationOffset:function(pe){return E(q(pe))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),fe=i.data.lblTxrCache=new Ia(i,{getKey:function(pe){return pe[0]._private.labelStyleKey},drawElement:function(pe,ze,Ge,Fe,Ye){return i.drawElementText(pe,ze,Ge,Fe,"main",Ye)},getBoundingBox:K,getRotationPoint:function(pe){return X("",G(pe,"labelX","labelY"),pe)},getRotationOffset:function(pe){var ze=K(pe),Ge=E(K(pe));if(pe.isNode()){switch(pe.pstyle("text-halign").value){case"left":Ge.x=-ze.w;break;case"right":Ge.x=0}switch(pe.pstyle("text-valign").value){case"top":Ge.y=-ze.h;break;case"bottom":Ge.y=0}}return Ge},isVisible:U}),Ee=i.data.slbTxrCache=new Ia(i,{getKey:function(pe){return pe[0]._private.sourceLabelStyleKey},drawElement:function(pe,ze,Ge,Fe,Ye){return i.drawElementText(pe,ze,Ge,Fe,"source",Ye)},getBoundingBox:$,getRotationPoint:function(pe){return X("source",G(pe,"sourceLabelX","sourceLabelY"),pe)},getRotationOffset:function(pe){return E($(pe))},isVisible:U}),Ne=i.data.tlbTxrCache=new Ia(i,{getKey:function(pe){return pe[0]._private.targetLabelStyleKey},drawElement:function(pe,ze,Ge,Fe,Ye){return i.drawElementText(pe,ze,Ge,Fe,"target",Ye)},getBoundingBox:W,getRotationPoint:function(pe){return X("target",G(pe,"targetLabelX","targetLabelY"),pe)},getRotationOffset:function(pe){return E(W(pe))},isVisible:U}),Be=i.data.lyrTxrCache=new Tp(i);i.onUpdateEleCalcs(function(pe,ze){Se.invalidateElements(ze),fe.invalidateElements(ze),Ee.invalidateElements(ze),Ne.invalidateElements(ze),Be.invalidateElements(ze);for(var Ge=0;Ge<ze.length;Ge++){var Fe=ze[Ge]._private;Fe.oldBackgroundTimestamp=Fe.backgroundTimestamp}});var ke=function(pe){for(var ze=0;ze<pe.length;ze++)Be.enqueueElementRefinement(pe[ze].ele)};Se.onDequeue(ke),fe.onDequeue(ke),Ee.onDequeue(ke),Ne.onDequeue(ke)}$n.CANVAS_LAYERS=3,$n.SELECT_BOX=0,$n.DRAG=1,$n.NODE=2,$n.BUFFER_COUNT=3,$n.TEXTURE_BUFFER=0,$n.MOTIONBLUR_BUFFER_NODE=1,$n.MOTIONBLUR_BUFFER_DRAG=2,$n.redrawHint=function(a,i){var s=this;switch(a){case"eles":s.data.canvasNeedsRedraw[$n.NODE]=i;break;case"drag":s.data.canvasNeedsRedraw[$n.DRAG]=i;break;case"select":s.data.canvasNeedsRedraw[$n.SELECT_BOX]=i}};var ly=typeof Path2D<"u";$n.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a},$n.usePaths=function(){return ly&&this.pathsEnabled},$n.setImgSmoothing=function(a,i){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=i:(a.webkitImageSmoothingEnabled=i,a.mozImageSmoothingEnabled=i,a.msImageSmoothingEnabled=i)},$n.getImgSmoothing=function(a){return null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled:a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled},$n.makeOffscreenCanvas=function(a,i){var s;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":cn(OffscreenCanvas))?s=new OffscreenCanvas(a,i):((s=document.createElement("canvas")).width=a,s.height=i),s},[Ad,Eo,es,du,fu,hu,eo,Ts,cl,{nodeShapeImpl:function(a,i,s,l,f,h,p){switch(a){case"ellipse":return this.drawEllipsePath(i,s,l,f,h);case"polygon":return this.drawPolygonPath(i,s,l,f,h,p);case"round-polygon":return this.drawRoundPolygonPath(i,s,l,f,h,p);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(i,s,l,f,h);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(i,s,l,f,h);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(i,s,l,f,h);case"barrel":return this.drawBarrelPath(i,s,l,f,h)}}}].forEach(function(a){Nt($n,a)});var dy=[{type:"layout",extensions:ou},{type:"renderer",extensions:[{name:"null",impl:ac},{name:"base",impl:Md},{name:"canvas",impl:uy}]}],bv={},Dv={};function Vp(a,i,s){var l=s,f=function(W){Zt("Can not register `"+i+"` for `"+a+"` since `"+W+"` already exists in the prototype and can not be overridden")};if("core"===a){if(nc.prototype[i])return f(i);nc.prototype[i]=s}else if("collection"===a){if(Pt.prototype[i])return f(i);Pt.prototype[i]=s}else if("layout"===a){for(var h=function(W){this.options=W,s.call(this,W),xt(this._private)||(this._private={}),this._private.cy=W.cy,this._private.listeners=[],this.createEmitter()},p=h.prototype=Object.create(s.prototype),m=[],b=0;b<m.length;b++){var y=m[b];p[y]=p[y]||function(){return this}}p.start&&!p.run?p.run=function(){return this.start(),this}:!p.start&&p.run&&(p.start=function(){return this.run(),this});var D=s.prototype.stop;p.stop=function(){var $=this.options;if($&&$.animate){var W=this.animations;if(W)for(var U=0;U<W.length;U++)W[U].stop()}return D?D.call(this):this.emit("layoutstop"),this},p.destroy||(p.destroy=function(){return this}),p.cy=function(){return this._private.cy};var E=function(W){return W._private.cy},S={addEventFields:function(W,U){U.layout=W,U.cy=E(W),U.target=W},bubble:function(){return!0},parent:function(W){return E(W)}};Nt(p,{createEmitter:function(){return this._private.emitter=new Gu(S,this),this},emitter:function(){return this._private.emitter},on:function(W,U){return this.emitter().on(W,U),this},one:function(W,U){return this.emitter().one(W,U),this},once:function(W,U){return this.emitter().one(W,U),this},removeListener:function(W,U){return this.emitter().removeListener(W,U),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(W,U){return this.emitter().emit(W,U),this}}),Yt.eventAliasesOn(p),l=h}else if("renderer"===a&&"null"!==i&&"base"!==i){var M=hc("renderer","base"),x=M.prototype,R=s,A=s.prototype,P=function(){M.apply(this,arguments),R.apply(this,arguments)},k=P.prototype;for(var O in x){var V=x[O];if(null!=A[O])return f(O);k[O]=V}for(var K in A)k[K]=A[K];x.clientFunctions.forEach(function($){k[$]=k[$]||function(){Vn("Renderer does not implement `renderer."+$+"()` on its prototype")}}),l=P}else if("__proto__"===a||"constructor"===a||"prototype"===a)return Vn(a+" is an illegal type to be registered, possibly lead to prototype pollutions");return Lc({map:bv,keys:[a,i],value:l})}function hc(a,i){return Bc({map:bv,keys:[a,i]})}function Ld(a,i,s,l,f){return Lc({map:Dv,keys:[a,i,s,l],value:f})}function $p(a,i,s,l){return Bc({map:Dv,keys:[a,i,s,l]})}var Bd=function(){return 2===arguments.length?hc.apply(null,arguments):3===arguments.length?Vp.apply(null,arguments):4===arguments.length?$p.apply(null,arguments):5===arguments.length?Ld.apply(null,arguments):void Vn("Invalid extension access syntax")};nc.prototype.extension=Bd,dy.forEach(function(a){a.extensions.forEach(function(i){Vp(a.type,i.name,i.impl)})});var gh=function a(){if(!(this instanceof a))return new a;this.length=0},Lo=gh.prototype;Lo.instanceString=function(){return"stylesheet"},Lo.selector=function(a){return this[this.length++]={selector:a,properties:[]},this},Lo.css=function(a,i){var s=this.length-1;if(Qe(a))this[s].properties.push({name:a,value:i});else if(xt(a))for(var l=a,f=Object.keys(l),h=0;h<f.length;h++){var p=f[h],m=l[p];if(null!=m){var b=xi.properties[p]||xi.properties[Bs(p)];null!=b&&this[s].properties.push({name:b.name,value:m})}}return this},Lo.style=Lo.css,Lo.generateStyle=function(a){var i=new xi(a);return this.appendToStyle(i)},Lo.appendToStyle=function(a){for(var i=0;i<this.length;i++){var s=this[i],f=s.properties;a.selector(s.selector);for(var h=0;h<f.length;h++){var p=f[h];a.css(p.name,p.value)}}return a};var ts=function(i){return void 0===i&&(i={}),xt(i)?new nc(i):Qe(i)?Bd.apply(Bd,arguments):void 0};ts.use=function(a){var i=Array.prototype.slice.call(arguments,1);return i.unshift(ts),a.apply(null,i),this},ts.warnings=function(a){return qh(a)},ts.version="3.28.0",ts.stylesheet=ts.Stylesheet=gh,we.exports=ts},7444:(we,Xe,oe)=>{we.exports=oe(7253)},7253:function(we,Xe){var oe,ce,B;(function(){var Ie,Me,Ue,Te,nt,vt,wt,_t,On,cn,br,nr,Bn,Tn,dn;Ue=Math.floor,cn=Math.min,Me=function(qe,rt){return qe<rt?-1:qe>rt?1:0},On=function(qe,rt,ft,St,An){var Ft;if(null==ft&&(ft=0),null==An&&(An=Me),ft<0)throw new Error("lo must be non-negative");for(null==St&&(St=qe.length);ft<St;)An(rt,qe[Ft=Ue((ft+St)/2)])<0?St=Ft:ft=Ft+1;return[].splice.apply(qe,[ft,ft-ft].concat(rt)),rt},vt=function(qe,rt,ft){return null==ft&&(ft=Me),qe.push(rt),Tn(qe,0,qe.length-1,ft)},nt=function(qe,rt){var ft,St;return null==rt&&(rt=Me),ft=qe.pop(),qe.length?(St=qe[0],qe[0]=ft,dn(qe,0,rt)):St=ft,St},_t=function(qe,rt,ft){var St;return null==ft&&(ft=Me),St=qe[0],qe[0]=rt,dn(qe,0,ft),St},wt=function(qe,rt,ft){var St;return null==ft&&(ft=Me),qe.length&&ft(qe[0],rt)<0&&(rt=(St=[qe[0],rt])[0],qe[0]=St[1],dn(qe,0,ft)),rt},Te=function(qe,rt){var St,Ft,Kn,Ri,So;for(null==rt&&(rt=Me),Ri=[],St=0,Ft=(Kn=function(){So=[];for(var ao=0,Mr=Ue(qe.length/2);0<=Mr?ao<Mr:ao>Mr;0<=Mr?ao++:ao--)So.push(ao);return So}.apply(this).reverse()).length;St<Ft;St++)Ri.push(dn(qe,Kn[St],rt));return Ri},Bn=function(qe,rt,ft){var St;if(null==ft&&(ft=Me),-1!==(St=qe.indexOf(rt)))return Tn(qe,0,St,ft),dn(qe,St,ft)},br=function(qe,rt,ft){var An,Ft,bn,Kn;if(null==ft&&(ft=Me),!(An=qe.slice(0,rt)).length)return An;for(Te(An,ft),Ft=0,bn=(Kn=qe.slice(rt)).length;Ft<bn;Ft++)wt(An,Kn[Ft],ft);return An.sort(ft).reverse()},nr=function(qe,rt,ft){var St,Ft,bn,Kn,Ri,So,ao,Mr,Qe;if(null==ft&&(ft=Me),10*rt<=qe.length){if(!(bn=qe.slice(0,rt).sort(ft)).length)return bn;for(Ft=bn[bn.length-1],Kn=0,So=(ao=qe.slice(rt)).length;Kn<So;Kn++)ft(St=ao[Kn],Ft)<0&&(On(bn,St,0,null,ft),bn.pop(),Ft=bn[bn.length-1]);return bn}for(Te(qe,ft),Qe=[],Ri=0,Mr=cn(rt,qe.length);0<=Mr?Ri<Mr:Ri>Mr;0<=Mr?++Ri:--Ri)Qe.push(nt(qe,ft));return Qe},Tn=function(qe,rt,ft,St){var An,Ft,bn;for(null==St&&(St=Me),An=qe[ft];ft>rt&&St(An,Ft=qe[bn=ft-1>>1])<0;)qe[ft]=Ft,ft=bn;return qe[ft]=An},dn=function(qe,rt,ft){var St,An,Ft,bn,Kn;for(null==ft&&(ft=Me),An=qe.length,Kn=rt,Ft=qe[rt],St=2*rt+1;St<An;)(bn=St+1)<An&&!(ft(qe[St],qe[bn])<0)&&(St=bn),qe[rt]=qe[St],St=2*(rt=St)+1;return qe[rt]=Ft,Tn(qe,Kn,rt,ft)},Ie=function(){function qe(rt){this.cmp=rt??Me,this.nodes=[]}return qe.push=vt,qe.pop=nt,qe.replace=_t,qe.pushpop=wt,qe.heapify=Te,qe.updateItem=Bn,qe.nlargest=br,qe.nsmallest=nr,qe.prototype.push=function(rt){return vt(this.nodes,rt,this.cmp)},qe.prototype.pop=function(){return nt(this.nodes,this.cmp)},qe.prototype.peek=function(){return this.nodes[0]},qe.prototype.contains=function(rt){return-1!==this.nodes.indexOf(rt)},qe.prototype.replace=function(rt){return _t(this.nodes,rt,this.cmp)},qe.prototype.pushpop=function(rt){return wt(this.nodes,rt,this.cmp)},qe.prototype.heapify=function(){return Te(this.nodes,this.cmp)},qe.prototype.updateItem=function(rt){return Bn(this.nodes,rt,this.cmp)},qe.prototype.clear=function(){return this.nodes=[]},qe.prototype.empty=function(){return 0===this.nodes.length},qe.prototype.size=function(){return this.nodes.length},qe.prototype.clone=function(){var rt;return(rt=new qe).nodes=this.nodes.slice(0),rt},qe.prototype.toArray=function(){return this.nodes.slice(0)},qe.prototype.insert=qe.prototype.push,qe.prototype.top=qe.prototype.peek,qe.prototype.front=qe.prototype.peek,qe.prototype.has=qe.prototype.contains,qe.prototype.copy=qe.prototype.clone,qe}(),ce=[],void 0===(B="function"==typeof(oe=function(){return Ie})?oe.apply(Xe,ce):oe)||(we.exports=B)}).call(this)},9618:(we,Xe,oe)=>{var ce=oe(5602),B=oe(1499),Ie=oe(2990),Me=oe(480),Ue=oe(4469);function Te(nt){var vt=-1,wt=null==nt?0:nt.length;for(this.clear();++vt<wt;){var _t=nt[vt];this.set(_t[0],_t[1])}}Te.prototype.clear=ce,Te.prototype.delete=B,Te.prototype.get=Ie,Te.prototype.has=Me,Te.prototype.set=Ue,we.exports=Te},3597:(we,Xe,oe)=>{var ce=oe(9365),B=oe(9343),Ie=oe(4779),Me=oe(1509),Ue=oe(7137);function Te(nt){var vt=-1,wt=null==nt?0:nt.length;for(this.clear();++vt<wt;){var _t=nt[vt];this.set(_t[0],_t[1])}}Te.prototype.clear=ce,Te.prototype.delete=B,Te.prototype.get=Ie,Te.prototype.has=Me,Te.prototype.set=Ue,we.exports=Te},1136:(we,Xe,oe)=>{var Ie=oe(8745)(oe(8492),"Map");we.exports=Ie},1811:(we,Xe,oe)=>{var ce=oe(3413),B=oe(5419),Ie=oe(7336),Me=oe(1115),Ue=oe(6648);function Te(nt){var vt=-1,wt=null==nt?0:nt.length;for(this.clear();++vt<wt;){var _t=nt[vt];this.set(_t[0],_t[1])}}Te.prototype.clear=ce,Te.prototype.delete=B,Te.prototype.get=Ie,Te.prototype.has=Me,Te.prototype.set=Ue,we.exports=Te},1763:(we,Xe,oe)=>{var ce=oe(8492);we.exports=ce.Symbol},3880:we=>{we.exports=function Xe(oe,ce){for(var B=-1,Ie=null==oe?0:oe.length,Me=Array(Ie);++B<Ie;)Me[B]=ce(oe[B],B,oe);return Me}},9553:(we,Xe,oe)=>{var ce=oe(1741),B=oe(7826),Me=Object.prototype.hasOwnProperty;we.exports=function Ue(Te,nt,vt){var wt=Te[nt];(!Me.call(Te,nt)||!B(wt,vt)||void 0===vt&&!(nt in Te))&&ce(Te,nt,vt)}},4056:(we,Xe,oe)=>{var ce=oe(7826);we.exports=function B(Ie,Me){for(var Ue=Ie.length;Ue--;)if(ce(Ie[Ue][0],Me))return Ue;return-1}},1741:(we,Xe,oe)=>{var ce=oe(9383);we.exports=function B(Ie,Me,Ue){"__proto__"==Me&&ce?ce(Ie,Me,{configurable:!0,enumerable:!0,value:Ue,writable:!0}):Ie[Me]=Ue}},2202:(we,Xe,oe)=>{var ce=oe(4826),B=oe(8916);we.exports=function Ie(Me,Ue){for(var Te=0,nt=(Ue=ce(Ue,Me)).length;null!=Me&&Te<nt;)Me=Me[B(Ue[Te++])];return Te&&Te==nt?Me:void 0}},4590:(we,Xe,oe)=>{var ce=oe(1763),B=oe(5933),Ie=oe(9243),Te=ce?ce.toStringTag:void 0;we.exports=function nt(vt){return null==vt?void 0===vt?"[object Undefined]":"[object Null]":Te&&Te in Object(vt)?B(vt):Ie(vt)}},1082:(we,Xe,oe)=>{var ce=oe(6861),B=oe(9950),Ie=oe(9794),Me=oe(7075),Te=/^\[object .+?Constructor\]$/,On=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");we.exports=function cn(br){return!(!Ie(br)||B(br))&&(ce(br)?On:Te).test(Me(br))}},9478:(we,Xe,oe)=>{var ce=oe(9553),B=oe(4826),Ie=oe(5188),Me=oe(9794),Ue=oe(8916);we.exports=function Te(nt,vt,wt,_t){if(!Me(nt))return nt;for(var On=-1,cn=(vt=B(vt,nt)).length,br=cn-1,nr=nt;null!=nr&&++On<cn;){var Bn=Ue(vt[On]),Tn=wt;if("__proto__"===Bn||"constructor"===Bn||"prototype"===Bn)return nt;if(On!=br){var dn=nr[Bn];void 0===(Tn=_t?_t(dn,Bn,nr):void 0)&&(Tn=Me(dn)?dn:Ie(vt[On+1])?[]:{})}ce(nr,Bn,Tn),nr=nr[Bn]}return nt}},7002:(we,Xe,oe)=>{var ce=oe(1763),B=oe(3880),Ie=oe(2261),Me=oe(3423),Te=ce?ce.prototype:void 0,nt=Te?Te.toString:void 0;we.exports=function vt(wt){if("string"==typeof wt)return wt;if(Ie(wt))return B(wt,vt)+"";if(Me(wt))return nt?nt.call(wt):"";var _t=wt+"";return"0"==_t&&1/wt==-1/0?"-0":_t}},9484:(we,Xe,oe)=>{var ce=oe(1781),B=/^\s+/;we.exports=function Ie(Me){return Me&&Me.slice(0,ce(Me)+1).replace(B,"")}},4826:(we,Xe,oe)=>{var ce=oe(2261),B=oe(6300),Ie=oe(163),Me=oe(2674);we.exports=function Ue(Te,nt){return ce(Te)?Te:B(Te,nt)?[Te]:Ie(Me(Te))}},4231:we=>{we.exports=function Xe(oe,ce){var B=-1,Ie=oe.length;for(ce||(ce=Array(Ie));++B<Ie;)ce[B]=oe[B];return ce}},6189:(we,Xe,oe)=>{var ce=oe(8492);we.exports=ce["__core-js_shared__"]},9383:(we,Xe,oe)=>{var ce=oe(8745),B=function(){try{var Ie=ce(Object,"defineProperty");return Ie({},"",{}),Ie}catch{}}();we.exports=B},248:we=>{var Xe="object"==typeof global&&global&&global.Object===Object&&global;we.exports=Xe},4113:(we,Xe,oe)=>{var ce=oe(29);we.exports=function B(Ie,Me){var Ue=Ie.__data__;return ce(Me)?Ue["string"==typeof Me?"string":"hash"]:Ue.map}},8745:(we,Xe,oe)=>{var ce=oe(1082),B=oe(1015);we.exports=function Ie(Me,Ue){var Te=B(Me,Ue);return ce(Te)?Te:void 0}},5933:(we,Xe,oe)=>{var ce=oe(1763),B=Object.prototype,Ie=B.hasOwnProperty,Me=B.toString,Ue=ce?ce.toStringTag:void 0;we.exports=function Te(nt){var vt=Ie.call(nt,Ue),wt=nt[Ue];try{nt[Ue]=void 0;var _t=!0}catch{}var On=Me.call(nt);return _t&&(vt?nt[Ue]=wt:delete nt[Ue]),On}},1015:we=>{we.exports=function Xe(oe,ce){return oe?.[ce]}},5602:(we,Xe,oe)=>{var ce=oe(893);we.exports=function B(){this.__data__=ce?ce(null):{},this.size=0}},1499:we=>{we.exports=function Xe(oe){var ce=this.has(oe)&&delete this.__data__[oe];return this.size-=ce?1:0,ce}},2990:(we,Xe,oe)=>{var ce=oe(893),Me=Object.prototype.hasOwnProperty;we.exports=function Ue(Te){var nt=this.__data__;if(ce){var vt=nt[Te];return"__lodash_hash_undefined__"===vt?void 0:vt}return Me.call(nt,Te)?nt[Te]:void 0}},480:(we,Xe,oe)=>{var ce=oe(893),Ie=Object.prototype.hasOwnProperty;we.exports=function Me(Ue){var Te=this.__data__;return ce?void 0!==Te[Ue]:Ie.call(Te,Ue)}},4469:(we,Xe,oe)=>{var ce=oe(893);we.exports=function Ie(Me,Ue){var Te=this.__data__;return this.size+=this.has(Me)?0:1,Te[Me]=ce&&void 0===Ue?"__lodash_hash_undefined__":Ue,this}},5188:we=>{var oe=/^(?:0|[1-9]\d*)$/;we.exports=function ce(B,Ie){var Me=typeof B;return!!(Ie=Ie??9007199254740991)&&("number"==Me||"symbol"!=Me&&oe.test(B))&&B>-1&&B%1==0&&B<Ie}},6300:(we,Xe,oe)=>{var ce=oe(2261),B=oe(3423),Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Me=/^\w*$/;we.exports=function Ue(Te,nt){if(ce(Te))return!1;var vt=typeof Te;return!("number"!=vt&&"symbol"!=vt&&"boolean"!=vt&&null!=Te&&!B(Te))||Me.test(Te)||!Ie.test(Te)||null!=nt&&Te in Object(nt)}},29:we=>{we.exports=function Xe(oe){var ce=typeof oe;return"string"==ce||"number"==ce||"symbol"==ce||"boolean"==ce?"__proto__"!==oe:null===oe}},9950:(we,Xe,oe)=>{var Me,ce=oe(6189),B=(Me=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+Me:"";we.exports=function Ie(Me){return!!B&&B in Me}},9365:we=>{we.exports=function Xe(){this.__data__=[],this.size=0}},9343:(we,Xe,oe)=>{var ce=oe(4056),Ie=Array.prototype.splice;we.exports=function Me(Ue){var Te=this.__data__,nt=ce(Te,Ue);return!(nt<0||(nt==Te.length-1?Te.pop():Ie.call(Te,nt,1),--this.size,0))}},4779:(we,Xe,oe)=>{var ce=oe(4056);we.exports=function B(Ie){var Me=this.__data__,Ue=ce(Me,Ie);return Ue<0?void 0:Me[Ue][1]}},1509:(we,Xe,oe)=>{var ce=oe(4056);we.exports=function B(Ie){return ce(this.__data__,Ie)>-1}},7137:(we,Xe,oe)=>{var ce=oe(4056);we.exports=function B(Ie,Me){var Ue=this.__data__,Te=ce(Ue,Ie);return Te<0?(++this.size,Ue.push([Ie,Me])):Ue[Te][1]=Me,this}},3413:(we,Xe,oe)=>{var ce=oe(9618),B=oe(3597),Ie=oe(1136);we.exports=function Me(){this.size=0,this.__data__={hash:new ce,map:new(Ie||B),string:new ce}}},5419:(we,Xe,oe)=>{var ce=oe(4113);we.exports=function B(Ie){var Me=ce(this,Ie).delete(Ie);return this.size-=Me?1:0,Me}},7336:(we,Xe,oe)=>{var ce=oe(4113);we.exports=function B(Ie){return ce(this,Ie).get(Ie)}},1115:(we,Xe,oe)=>{var ce=oe(4113);we.exports=function B(Ie){return ce(this,Ie).has(Ie)}},6648:(we,Xe,oe)=>{var ce=oe(4113);we.exports=function B(Ie,Me){var Ue=ce(this,Ie),Te=Ue.size;return Ue.set(Ie,Me),this.size+=Ue.size==Te?0:1,this}},7371:(we,Xe,oe)=>{var ce=oe(7659);we.exports=function Ie(Me){var Ue=ce(Me,function(nt){return 500===Te.size&&Te.clear(),nt}),Te=Ue.cache;return Ue}},893:(we,Xe,oe)=>{var B=oe(8745)(Object,"create");we.exports=B},9243:we=>{var oe=Object.prototype.toString;we.exports=function ce(B){return oe.call(B)}},8492:(we,Xe,oe)=>{var ce=oe(248),B="object"==typeof self&&self&&self.Object===Object&&self,Ie=ce||B||Function("return this")();we.exports=Ie},163:(we,Xe,oe)=>{var ce=oe(7371),B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/\\(\\)?/g,Me=ce(function(Ue){var Te=[];return 46===Ue.charCodeAt(0)&&Te.push(""),Ue.replace(B,function(nt,vt,wt,_t){Te.push(wt?_t.replace(Ie,"$1"):vt||nt)}),Te});we.exports=Me},8916:(we,Xe,oe)=>{var ce=oe(3423);we.exports=function Ie(Me){if("string"==typeof Me||ce(Me))return Me;var Ue=Me+"";return"0"==Ue&&1/Me==-1/0?"-0":Ue}},7075:we=>{var oe=Function.prototype.toString;we.exports=function ce(B){if(null!=B){try{return oe.call(B)}catch{}try{return B+""}catch{}}return""}},1781:we=>{var Xe=/\s/;we.exports=function oe(ce){for(var B=ce.length;B--&&Xe.test(ce.charAt(B)););return B}},4430:(we,Xe,oe)=>{var ce=oe(9794),B=oe(5533),Ie=oe(4282),Ue=Math.max,Te=Math.min;we.exports=function nt(vt,wt,_t){var On,cn,br,nr,Bn,Tn,dn=0,qe=!1,rt=!1,ft=!0;if("function"!=typeof vt)throw new TypeError("Expected a function");function St(Qe){var Fn=On,xn=cn;return On=cn=void 0,dn=Qe,nr=vt.apply(xn,Fn)}function bn(Qe){var Fn=Qe-Tn;return void 0===Tn||Fn>=wt||Fn<0||rt&&Qe-dn>=br}function Kn(){var Qe=B();if(bn(Qe))return Ri(Qe);Bn=setTimeout(Kn,function Ft(Qe){var xt=wt-(Qe-Tn);return rt?Te(xt,br-(Qe-dn)):xt}(Qe))}function Ri(Qe){return Bn=void 0,ft&&On?St(Qe):(On=cn=void 0,nr)}function Mr(){var Qe=B(),Fn=bn(Qe);if(On=arguments,cn=this,Tn=Qe,Fn){if(void 0===Bn)return function An(Qe){return dn=Qe,Bn=setTimeout(Kn,wt),qe?St(Qe):nr}(Tn);if(rt)return clearTimeout(Bn),Bn=setTimeout(Kn,wt),St(Tn)}return void 0===Bn&&(Bn=setTimeout(Kn,wt)),nr}return wt=Ie(wt)||0,ce(_t)&&(qe=!!_t.leading,br=(rt="maxWait"in _t)?Ue(Ie(_t.maxWait)||0,wt):br,ft="trailing"in _t?!!_t.trailing:ft),Mr.cancel=function So(){void 0!==Bn&&clearTimeout(Bn),dn=0,On=Tn=cn=Bn=void 0},Mr.flush=function ao(){return void 0===Bn?nr:Ri(B())},Mr}},7826:we=>{we.exports=function Xe(oe,ce){return oe===ce||oe!=oe&&ce!=ce}},5440:(we,Xe,oe)=>{var ce=oe(2202);we.exports=function B(Ie,Me,Ue){var Te=null==Ie?void 0:ce(Ie,Me);return void 0===Te?Ue:Te}},2261:we=>{we.exports=Array.isArray},6861:(we,Xe,oe)=>{var ce=oe(4590),B=oe(9794);we.exports=function nt(vt){if(!B(vt))return!1;var wt=ce(vt);return"[object Function]"==wt||"[object GeneratorFunction]"==wt||"[object AsyncFunction]"==wt||"[object Proxy]"==wt}},9794:we=>{we.exports=function Xe(oe){var ce=typeof oe;return null!=oe&&("object"==ce||"function"==ce)}},3714:we=>{we.exports=function Xe(oe){return null!=oe&&"object"==typeof oe}},3423:(we,Xe,oe)=>{var ce=oe(4590),B=oe(3714);we.exports=function Me(Ue){return"symbol"==typeof Ue||B(Ue)&&"[object Symbol]"==ce(Ue)}},6990:function(we,Xe,oe){var ce;we=oe.nmd(we),function(){var B,Te="Expected a function",vt="__lodash_hash_undefined__",_t="__lodash_placeholder__",xt=1/0,Pa=9007199254740991,so=4294967295,sf=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],rr="[object Arguments]",gr="[object Array]",nn="[object Boolean]",Ls="[object Date]",Mu="[object Error]",Pc="[object Function]",Iu="[object GeneratorFunction]",uo="[object Map]",Bs="[object Number]",ka="[object Object]",zr="[object Promise]",Tu="[object RegExp]",Uo="[object Set]",Vs="[object String]",kc="[object Symbol]",$s="[object WeakMap]",Nt="[object ArrayBuffer]",Au="[object DataView]",sa="[object Float32Array]",Oc="[object Float64Array]",lf="[object Int8Array]",Fc="[object Int16Array]",cf="[object Int32Array]",Lc="[object Uint8Array]",Bc="[object Uint8ClampedArray]",El="[object Uint16Array]",Vc="[object Uint32Array]",jg=/\b__p \+= '';/g,$c=/\b(__p \+=) '' \+/g,Oa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hs=/&(?:amp|lt|gt|quot|#39);/g,df=/[&<>"']/g,Hc=RegExp(Hs.source),ff=RegExp(df.source),Ru=/<%-([\s\S]+?)%>/g,Nu=/<%([\s\S]+?)%>/g,hf=/<%=([\s\S]+?)%>/g,Fa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uc=/^\w*$/,zh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ua=/[\\^$.*+?()[\]{}|]/g,pf=RegExp(ua.source),zc=/^\s+/,qi=/\s/,Gg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qg=/\{\n\/\* \[wrapped with (.+)\] \*/,gf=/,? & /,jh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_l=/[()=,{}\[\]\/\s]/,Gh=/\\(\\)?/g,vf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vn=/\w*$/,qh=/^[-+]0x[0-9a-f]+$/i,Zt=/^0b[01]+$/i,Pu=/^\[object .+?Constructor\]$/,jr=/^0o[0-7]+$/i,Um=/^(?:0|[1-9]\d*)$/,Wh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jc=/($^)/,Gc=/['\n\r\u2028\u2029\\]/g,Pr="\\ud800-\\udfff",lo="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",La="\\u2700-\\u27bf",Kh="a-z\\xdf-\\xf6\\xf8-\\xff",Sl="A-Z\\xc0-\\xd6\\xd8-\\xde",kr="\\ufe0e\\ufe0f",Ou="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ht="["+Pr+"]",yf="["+Ou+"]",Fu="["+lo+"]",co="\\d+",Zg="["+La+"]",Xh="["+Kh+"]",Hn="[^"+Pr+Ou+co+La+Kh+Sl+"]",Lu="\\ud83c[\\udffb-\\udfff]",qc="[^"+Pr+"]",xl="(?:\\ud83c[\\udde6-\\uddff]){2}",qn="[\\ud800-\\udbff][\\udc00-\\udfff]",Bt="["+Sl+"]",Ml="(?:"+Xh+"|"+Hn+")",Il="(?:"+Bt+"|"+Hn+")",wf="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",je="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Tl="(?:"+Fu+"|"+Lu+")?",Kt="["+kr+"]?",bf=Kt+Tl+"(?:\\u200d(?:"+[qc,xl,qn].join("|")+")"+Kt+Tl+")*",Ba="(?:"+[Zg,xl,qn].join("|")+")"+bf,qr="(?:"+[qc+Fu+"?",Fu,xl,qn,Ht].join("|")+")",zm=RegExp("['\u2019]","g"),ei=RegExp(Fu,"g"),zs=RegExp(Lu+"(?="+Lu+")|"+qr+bf,"g"),js=RegExp([Bt+"?"+Xh+"+"+wf+"(?="+[yf,Bt,"$"].join("|")+")",Il+"+"+je+"(?="+[yf,Bt+Ml,"$"].join("|")+")",Bt+"?"+Ml+"+"+wf,Bt+"+"+je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",co,Ba].join("|"),"g"),Zc=RegExp("[\\u200d"+Pr+lo+kr+"]"),fo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gm=-1,lr={};lr[sa]=lr[Oc]=lr[lf]=lr[Fc]=lr[cf]=lr[Lc]=lr[Bc]=lr[El]=lr[Vc]=!0,lr[rr]=lr[gr]=lr[Nt]=lr[nn]=lr[Au]=lr[Ls]=lr[Mu]=lr[Pc]=lr[uo]=lr[Bs]=lr[ka]=lr[Tu]=lr[Uo]=lr[Vs]=lr[$s]=!1;var ir={};ir[rr]=ir[gr]=ir[Nt]=ir[Au]=ir[nn]=ir[Ls]=ir[sa]=ir[Oc]=ir[lf]=ir[Fc]=ir[cf]=ir[uo]=ir[Bs]=ir[ka]=ir[Tu]=ir[Uo]=ir[Vs]=ir[kc]=ir[Lc]=ir[Bc]=ir[El]=ir[Vc]=!0,ir[Mu]=ir[Pc]=ir[$s]=!1;var Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jh=parseFloat,Al=parseInt,Yg="object"==typeof global&&global&&global.Object===Object&&global,Rt="object"==typeof self&&self&&self.Object===Object&&self,li=Yg||Rt||Function("return this")(),ho=Xe&&!Xe.nodeType&&Xe,ls=ho&&we&&!we.nodeType&&we,ep=ls&&ls.exports===ho,Kc=ep&&Yg.process,Mo=function(){try{return ls&&ls.require&&ls.require("util").types||Kc&&Kc.binding&&Kc.binding("util")}catch{}}(),Rl=Mo&&Mo.isArrayBuffer,ti=Mo&&Mo.isDate,Io=Mo&&Mo.isMap,Cf=Mo&&Mo.isRegExp,Nl=Mo&&Mo.isSet,sn=Mo&&Mo.isTypedArray;function Pi(se,Re,be){switch(be.length){case 0:return se.call(Re);case 1:return se.call(Re,be[0]);case 2:return se.call(Re,be[0],be[1]);case 3:return se.call(Re,be[0],be[1],be[2])}return se.apply(Re,be)}function cs(se,Re,be,ut){for(var Xt=-1,Ln=null==se?0:se.length;++Xt<Ln;){var Wr=se[Xt];Re(ut,Wr,be(Wr),se)}return ut}function zn(se,Re){for(var be=-1,ut=null==se?0:se.length;++be<ut&&!1!==Re(se[be],be,se););return se}function Yc(se,Re){for(var be=null==se?0:se.length;be--&&!1!==Re(se[be],be,se););return se}function ds(se,Re){for(var be=-1,ut=null==se?0:se.length;++be<ut;)if(!Re(se[be],be,se))return!1;return!0}function Dn(se,Re){for(var be=-1,ut=null==se?0:se.length,Xt=0,Ln=[];++be<ut;){var Wr=se[be];Re(Wr,be,se)&&(Ln[Xt++]=Wr)}return Ln}function Ef(se,Re){return!(null==se||!se.length)&&Vu(se,Re,0)>-1}function Pl(se,Re,be){for(var ut=-1,Xt=null==se?0:se.length;++ut<Xt;)if(be(Re,se[ut]))return!0;return!1}function fn(se,Re){for(var be=-1,ut=null==se?0:se.length,Xt=Array(ut);++be<ut;)Xt[be]=Re(se[be],be,se);return Xt}function zo(se,Re){for(var be=-1,ut=Re.length,Xt=se.length;++be<ut;)se[Xt+be]=Re[be];return se}function Bu(se,Re,be,ut){var Xt=-1,Ln=null==se?0:se.length;for(ut&&Ln&&(be=se[++Xt]);++Xt<Ln;)be=Re(be,se[Xt],Xt,se);return be}function Gs(se,Re,be,ut){var Xt=null==se?0:se.length;for(ut&&Xt&&(be=se[--Xt]);Xt--;)be=Re(be,se[Xt],Xt,se);return be}function kl(se,Re){for(var be=-1,ut=null==se?0:se.length;++be<ut;)if(Re(se[be],be,se))return!0;return!1}var Xc=Sf("length");function Xg(se,Re,be){var ut;return be(se,function(Xt,Ln,Wr){if(Re(Xt,Ln,Wr))return ut=Ln,!1}),ut}function _f(se,Re,be,ut){for(var Xt=se.length,Ln=be+(ut?1:-1);ut?Ln--:++Ln<Xt;)if(Re(se[Ln],Ln,se))return Ln;return-1}function Vu(se,Re,be){return Re==Re?function jo(se,Re,be){for(var ut=be-1,Xt=se.length;++ut<Xt;)if(se[ut]===Re)return ut;return-1}(se,Re,be):_f(se,Ol,be)}function ca(se,Re,be,ut){for(var Xt=be-1,Ln=se.length;++Xt<Ln;)if(ut(se[Xt],Re))return Xt;return-1}function Ol(se){return se!=se}function da(se,Re){var be=null==se?0:se.length;return be?fs(se,Re)/be:NaN}function Sf(se){return function(Re){return null==Re?B:Re[se]}}function Fl(se){return function(Re){return null==se?B:se[Re]}}function np(se,Re,be,ut,Xt){return Xt(se,function(Ln,Wr,Yn){be=ut?(ut=!1,Ln):Re(be,Ln,Wr,Yn)}),be}function fs(se,Re){for(var be,ut=-1,Xt=se.length;++ut<Xt;){var Ln=Re(se[ut]);Ln!==B&&(be=be===B?Ln:be+Ln)}return be}function xf(se,Re){for(var be=-1,ut=Array(se);++be<se;)ut[be]=Re(be);return ut}function ip(se){return se&&se.slice(0,Vl(se)+1).replace(zc,"")}function gt(se){return function(Re){return se(Re)}}function Qc(se,Re){return fn(Re,function(be){return se[be]})}function ct(se,Re){return se.has(Re)}function Ll(se,Re){for(var be=-1,ut=se.length;++be<ut&&Vu(Re,se[be],0)>-1;);return be}function Jc(se,Re){for(var be=se.length;be--&&Vu(Re,se[be],0)>-1;);return be}var op=Fl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Qg=Fl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Jg(se){return"\\"+Ut[se]}function ha(se){return Zc.test(se)}function Mn(se){var Re=-1,be=Array(se.size);return se.forEach(function(ut,Xt){be[++Re]=[Xt,ut]}),be}function $a(se,Re){return function(be){return se(Re(be))}}function ki(se,Re){for(var be=-1,ut=se.length,Xt=0,Ln=[];++be<ut;){var Wr=se[be];(Wr===Re||Wr===_t)&&(se[be]=_t,Ln[Xt++]=be)}return Ln}function Ha(se){var Re=-1,be=Array(se.size);return se.forEach(function(ut){be[++Re]=ut}),be}function Ua(se){return ha(se)?function up(se){for(var Re=zs.lastIndex=0;zs.test(se);)++Re;return Re}(se):Xc(se)}function po(se){return ha(se)?function $l(se){return se.match(zs)||[]}(se):function qm(se){return se.split("")}(se)}function Vl(se){for(var Re=se.length;Re--&&qi.test(se.charAt(Re)););return Re}var sp=Fl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ed=function se(Re){var d,be=(Re=null==Re?li:ed.defaults(li.Object(),Re,ed.pick(li,jm))).Array,ut=Re.Date,Xt=Re.Error,Ln=Re.Function,Wr=Re.Math,Yn=Re.Object,Tf=Re.RegExp,lp=Re.String,Ei=Re.TypeError,td=be.prototype,qs=Yn.prototype,Ws=Re["__core-js_shared__"],nd=Ln.prototype.toString,jn=qs.hasOwnProperty,tv=0,Ao=(d=/[^.]+$/.exec(Ws&&Ws.keys&&Ws.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",rd=qs.toString,Af=nd.call(Yn),qt=li._,Oi=Tf("^"+nd.call(jn).replace(ua,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cn=ep?Re.Buffer:B,vr=Re.Symbol,ni=Re.Uint8Array,ga=Cn?Cn.allocUnsafe:B,_i=$a(Yn.getPrototypeOf,Yn),$u=Yn.create,Rf=qs.propertyIsEnumerable,ps=td.splice,Nf=vr?vr.isConcatSpreadable:B,Hu=vr?vr.iterator:B,Gn=vr?vr.toStringTag:B,Je=function(){try{var d=Xo(Yn,"defineProperty");return d({},"",{}),d}catch{}}(),en=Re.clearTimeout!==li.clearTimeout&&Re.clearTimeout,cr=ut&&ut.now!==li.Date.now&&ut.now,Ro=Re.setTimeout!==li.setTimeout&&Re.setTimeout,za=Wr.ceil,Zr=Wr.floor,go=Yn.getOwnPropertySymbols,Cr=Cn?Cn.isBuffer:B,Fi=Re.isFinite,Uu=td.join,Qt=$a(Yn.keys,Yn),Er=Wr.max,Yt=Wr.min,zu=ut.now,mr=Re.parseInt,gn=Wr.random,Rn=td.reverse,lt=Xo(Re,"DataView"),Go=Xo(Re,"Map"),id=Xo(Re,"Promise"),vo=Xo(Re,"Set"),mo=Xo(Re,"WeakMap"),Zi=Xo(Yn,"create"),Li=mo&&new mo,tn={},Wm=Is(lt),Pf=Is(Go),cp=Is(id),va=Is(vo),od=Is(mo),ma=vr?vr.prototype:B,ja=ma?ma.valueOf:B,ri=ma?ma.toString:B;function H(d){if(ye(d)&&!Ae(d)&&!(d instanceof on)){if(d instanceof vn)return d;if(jn.call(d,"__wrapped__"))return uu(d)}return new vn(d)}var Kr=function(){function d(){}return function(g){if(!at(g))return{};if($u)return $u(g);d.prototype=g;var C=new d;return d.prototype=B,C}}();function pn(){}function vn(d,g){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=B}function on(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=so,this.__views__=[]}function Ki(d){var g=-1,C=null==d?0:d.length;for(this.clear();++g<C;){var T=d[g];this.set(T[0],T[1])}}function Ga(d){var g=-1,C=null==d?0:d.length;for(this.clear();++g<C;){var T=d[g];this.set(T[0],T[1])}}function wa(d){var g=-1,C=null==d?0:d.length;for(this.clear();++g<C;){var T=d[g];this.set(T[0],T[1])}}function vs(d){var g=-1,C=null==d?0:d.length;for(this.__data__=new wa;++g<C;)this.add(d[g])}function Or(d){var g=this.__data__=new Ga(d);this.size=g.size}function zl(d,g){var C=Ae(d),T=!C&&Lt(d),F=!C&&!T&&Ct(d),j=!C&&!T&&!F&&to(d),J=C||T||F||j,re=J?xf(d.length,lp):[],le=re.length;for(var $e in d)(g||jn.call(d,$e))&&(!J||!("length"==$e||F&&("offset"==$e||"parent"==$e)||j&&("buffer"==$e||"byteLength"==$e||"byteOffset"==$e)||_a($e,le)))&&re.push($e);return re}function yo(d){var g=d.length;return g?d[Ql(0,g-1)]:B}function Bf(d,g){return Oo(Mi(d),ms(g,0,d.length))}function Vf(d){return Oo(Mi(d))}function jl(d,g,C){(C!==B&&!Fe(d[g],C)||C===B&&!(g in d))&&Xi(d,g,C)}function Da(d,g,C){var T=d[g];(!jn.call(d,g)||!Fe(T,C)||C===B&&!(g in d))&&Xi(d,g,C)}function Ks(d,g){for(var C=d.length;C--;)if(Fe(d[C][0],g))return C;return-1}function $f(d,g,C,T){return Qs(d,function(F,j,J){g(T,F,C(F),J)}),T}function ld(d,g){return d&&hi(g,Ii(g),d)}function Xi(d,g,C){"__proto__"==g&&Je?Je(d,g,{configurable:!0,enumerable:!0,value:C,writable:!0}):d[g]=C}function Gl(d,g){for(var C=-1,T=g.length,F=be(T),j=null==d;++C<T;)F[C]=j?B:Bo(d,g[C]);return F}function ms(d,g,C){return d==d&&(C!==B&&(d=d<=C?d:C),g!==B&&(d=d>=g?d:g)),d}function Bi(d,g,C,T,F,j){var J,re=1&g,le=2&g,$e=4&g;if(C&&(J=F?C(d,T,F,j):C(d)),J!==B)return J;if(!at(d))return d;var He=Ae(d);if(He){if(J=function Sd(d){var g=d.length,C=new d.constructor(g);return g&&"string"==typeof d[0]&&jn.call(d,"index")&&(C.index=d.index,C.input=d.input),C}(d),!re)return Mi(d,J)}else{var We=$r(d),dt=We==Pc||We==Iu;if(Ct(d))return Vr(d,re);if(We==ka||We==rr||dt&&!F){if(J=le||dt?{}:sr(d),!re)return le?function nc(d,g){return hi(d,ac(d),g)}(d,function Ys(d,g){return d&&hi(g,no(g),d)}(J,d)):function iu(d,g){return hi(d,ou(d),g)}(d,ld(J,d))}else{if(!ir[We])return F?d:{};J=function Sp(d,g,C){var T=d.constructor;switch(g){case Nt:return Co(d);case nn:case Ls:return new T(+d);case Au:return function Ko(d,g){var C=g?Co(d.buffer):d.buffer;return new d.constructor(C,d.byteOffset,d.byteLength)}(d,C);case sa:case Oc:case lf:case Fc:case cf:case Lc:case Bc:case El:case Vc:return ii(d,C);case uo:return new T;case Bs:case Vs:return new T(d);case Tu:return function Ka(d){var g=new d.constructor(d.source,Vn.exec(d));return g.lastIndex=d.lastIndex,g}(d);case Uo:return new T;case kc:return function Yo(d){return ja?Yn(ja.call(d)):{}}(d)}}(d,We,re)}}j||(j=new Or);var It=j.get(d);if(It)return It;j.set(d,J),Jr(d)?d.forEach(function(Gt){J.add(Bi(Gt,g,C,Gt,d,j))}):bt(d)&&d.forEach(function(Gt,yn){J.set(yn,Bi(Gt,g,C,yn,d,j))});var En=He?B:($e?le?rl:Cp:le?no:Ii)(d);return zn(En||d,function(Gt,yn){En&&(Gt=d[yn=Gt]),Da(J,yn,Bi(Gt,g,C,yn,d,j))}),J}function Xs(d,g,C){var T=C.length;if(null==d)return!T;for(d=Yn(d);T--;){var F=C[T],J=d[F];if(J===B&&!(F in d)||!(0,g[F])(J))return!1}return!0}function Hf(d,g,C){if("function"!=typeof d)throw new Ei(Te);return Ja(function(){d.apply(B,C)},g)}function cd(d,g,C,T){var F=-1,j=Ef,J=!0,re=d.length,le=[],$e=g.length;if(!re)return le;C&&(g=fn(g,gt(C))),T?(j=Pl,J=!1):g.length>=200&&(j=ct,J=!1,g=new vs(g));e:for(;++F<re;){var He=d[F],We=null==C?He:C(He);if(He=T||0!==He?He:0,J&&We==We){for(var dt=$e;dt--;)if(g[dt]===We)continue e;le.push(He)}else j(g,We,T)||le.push(He)}return le}H.templateSettings={escape:Ru,evaluate:Nu,interpolate:hf,variable:"",imports:{_:H}},(H.prototype=pn.prototype).constructor=H,(vn.prototype=Kr(pn.prototype)).constructor=vn,(on.prototype=Kr(pn.prototype)).constructor=on,Ki.prototype.clear=function gs(){this.__data__=Zi?Zi(null):{},this.size=0},Ki.prototype.delete=function Wo(d){var g=this.has(d)&&delete this.__data__[d];return this.size-=g?1:0,g},Ki.prototype.get=function ju(d){var g=this.__data__;if(Zi){var C=g[d];return C===vt?B:C}return jn.call(g,d)?g[d]:B},Ki.prototype.has=function kf(d){var g=this.__data__;return Zi?g[d]!==B:jn.call(g,d)},Ki.prototype.set=function nv(d,g){var C=this.__data__;return this.size+=this.has(d)?0:1,C[d]=Zi&&g===B?vt:g,this},Ga.prototype.clear=function Zm(){this.__data__=[],this.size=0},Ga.prototype.delete=function sd(d){var g=this.__data__,C=Ks(g,d);return!(C<0||(C==g.length-1?g.pop():ps.call(g,C,1),--this.size,0))},Ga.prototype.get=function rv(d){var g=this.__data__,C=Ks(g,d);return C<0?B:g[C][1]},Ga.prototype.has=function Km(d){return Ks(this.__data__,d)>-1},Ga.prototype.set=function Of(d,g){var C=this.__data__,T=Ks(C,d);return T<0?(++this.size,C.push([d,g])):C[T][1]=g,this},wa.prototype.clear=function Hl(){this.size=0,this.__data__={hash:new Ki,map:new(Go||Ga),string:new Ki}},wa.prototype.delete=function ba(d){var g=nh(this,d).delete(d);return this.size-=g?1:0,g},wa.prototype.get=function iv(d){return nh(this,d).get(d)},wa.prototype.has=function ov(d){return nh(this,d).has(d)},wa.prototype.set=function Ff(d,g){var C=nh(this,d),T=C.size;return C.set(d,g),this.size+=C.size==T?0:1,this},vs.prototype.add=vs.prototype.push=function Ul(d){return this.__data__.set(d,vt),this},vs.prototype.has=function Zs(d){return this.__data__.has(d)},Or.prototype.clear=function ci(){this.__data__=new Ga,this.size=0},Or.prototype.delete=function Yi(d){var g=this.__data__,C=g.delete(d);return this.size=g.size,C},Or.prototype.get=function ud(d){return this.__data__.get(d)},Or.prototype.has=function Lf(d){return this.__data__.has(d)},Or.prototype.set=function Yr(d,g){var C=this.__data__;if(C instanceof Ga){var T=C.__data__;if(!Go||T.length<199)return T.push([d,g]),this.size=++C.size,this;C=this.__data__=new wa(T)}return C.set(d,g),this.size=C.size,this};var Qs=Xf(No),av=Xf(zf,!0);function sv(d,g){var C=!0;return Qs(d,function(T,F,j){return C=!!g(T,F,j)}),C}function Wl(d,g,C){for(var T=-1,F=d.length;++T<F;){var j=d[T],J=g(j);if(null!=J&&(re===B?J==J&&!Qn(J):C(J,re)))var re=J,le=j}return le}function Uf(d,g){var C=[];return Qs(d,function(T,F,j){g(T,F,j)&&C.push(T)}),C}function Xr(d,g,C,T,F){var j=-1,J=d.length;for(C||(C=sc),F||(F=[]);++j<J;){var re=d[j];g>0&&C(re)?g>1?Xr(re,g-1,C,T,F):zo(F,re):T||(F[F.length]=re)}return F}var dd=Cs(),ys=Cs(!0);function No(d,g){return d&&dd(d,g,Ii)}function zf(d,g){return d&&ys(d,g,Ii)}function fd(d,g){return Dn(g,function(C){return xe(d[C])})}function qa(d,g){for(var C=0,T=(g=Do(g,d)).length;null!=d&&C<T;)d=d[gi(g[C++])];return C&&C==T?d:B}function hd(d,g,C){var T=g(d);return Ae(d)?T:zo(T,C(d))}function Vi(d){return null==d?d===B?"[object Undefined]":"[object Null]":Gn&&Gn in Yn(d)?function _p(d){var g=jn.call(d,Gn),C=d[Gn];try{d[Gn]=B;var T=!0}catch{}var F=rd.call(d);return T&&(g?d[Gn]=C:delete d[Gn]),F}(d):function Sa(d){return rd.call(d)}(d)}function Gu(d,g){return d>g}function ws(d,g){return null!=d&&jn.call(d,g)}function jf(d,g){return null!=d&&g in Yn(d)}function pd(d,g,C){for(var T=C?Pl:Ef,F=d[0].length,j=d.length,J=j,re=be(j),le=1/0,$e=[];J--;){var He=d[J];J&&g&&(He=fn(He,gt(g))),le=Yt(He.length,le),re[J]=!C&&(g||F>=120&&He.length>=120)?new vs(J&&He):B}He=d[0];var We=-1,dt=re[0];e:for(;++We<F&&$e.length<le;){var It=He[We],jt=g?g(It):It;if(It=C||0!==It?It:0,!(dt?ct(dt,jt):T($e,jt,C))){for(J=j;--J;){var En=re[J];if(!(En?ct(En,jt):T(d[J],jt,C)))continue e}dt&&dt.push(jt),$e.push(It)}}return $e}function Js(d,g,C){var T=null==(d=oh(d,g=Do(g,d)))?d:d[gi(yr(g))];return null==T?B:Pi(T,d,C)}function Gf(d){return ye(d)&&Vi(d)==rr}function Zl(d,g,C,T,F){return d===g||(null==d||null==g||!ye(d)&&!ye(g)?d!=d&&g!=g:function fp(d,g,C,T,F,j){var J=Ae(d),re=Ae(g),le=J?gr:$r(d),$e=re?gr:$r(g),He=(le=le==rr?ka:le)==ka,We=($e=$e==rr?ka:$e)==ka,dt=le==$e;if(dt&&Ct(d)){if(!Ct(g))return!1;J=!0,He=!1}if(dt&&!He)return j||(j=new Or),J||to(d)?Dp(d,g,C,T,F,j):function nl(d,g,C,T,F,j,J){switch(C){case Au:if(d.byteLength!=g.byteLength||d.byteOffset!=g.byteOffset)return!1;d=d.buffer,g=g.buffer;case Nt:return!(d.byteLength!=g.byteLength||!j(new ni(d),new ni(g)));case nn:case Ls:case Bs:return Fe(+d,+g);case Mu:return d.name==g.name&&d.message==g.message;case Tu:case Vs:return d==g+"";case uo:var re=Mn;case Uo:if(re||(re=Ha),d.size!=g.size&&!(1&T))return!1;var $e=J.get(d);if($e)return $e==g;T|=2,J.set(d,g);var He=Dp(re(d),re(g),T,F,j,J);return J.delete(d),He;case kc:if(ja)return ja.call(d)==ja.call(g)}return!1}(d,g,le,C,T,F,j);if(!(1&C)){var It=He&&jn.call(d,"__wrapped__"),jt=We&&jn.call(g,"__wrapped__");if(It||jt){var En=It?d.value():d,Gt=jt?g.value():g;return j||(j=new Or),F(En,Gt,C,T,j)}}return!!dt&&(j||(j=new Or),function ic(d,g,C,T,F,j){var J=1&C,re=Cp(d),le=re.length;if(le!=Cp(g).length&&!J)return!1;for(var We=le;We--;){var dt=re[We];if(!(J?dt in g:jn.call(g,dt)))return!1}var It=j.get(d),jt=j.get(g);if(It&&jt)return It==g&&jt==d;var En=!0;j.set(d,g),j.set(g,d);for(var Gt=J;++We<le;){var yn=d[dt=re[We]],kn=g[dt];if(T)var Ti=J?T(kn,yn,dt,g,d,j):T(yn,kn,dt,d,g,j);if(!(Ti===B?yn===kn||F(yn,kn,C,T,j):Ti)){En=!1;break}Gt||(Gt="constructor"==dt)}if(En&&!Gt){var fr=d.constructor,na=g.constructor;fr!=na&&"constructor"in d&&"constructor"in g&&!("function"==typeof fr&&fr instanceof fr&&"function"==typeof na&&na instanceof na)&&(En=!1)}return j.delete(d),j.delete(g),En}(d,g,C,T,F,j))}(d,g,C,T,Zl,F))}function gd(d,g,C,T){var F=C.length,j=F,J=!T;if(null==d)return!j;for(d=Yn(d);F--;){var re=C[F];if(J&&re[2]?re[1]!==d[re[0]]:!(re[0]in d))return!1}for(;++F<j;){var le=(re=C[F])[0],$e=d[le],He=re[1];if(J&&re[2]){if($e===B&&!(le in d))return!1}else{var We=new Or;if(T)var dt=T($e,He,le,d,g,We);if(!(dt===B?Zl(He,$e,3,T,We):dt))return!1}}return!0}function hp(d){return!(!at(d)||function rh(d){return!!Ao&&Ao in d}(d))&&(xe(d)?Oi:Pu).test(Is(d))}function Wu(d){return"function"==typeof d?d:null==d?ro:"object"==typeof d?Ae(d)?gp(d[0],d[1]):$i(d):Mw(d)}function Lr(d){if(!au(d))return Qt(d);var g=[];for(var C in Yn(d))jn.call(d,C)&&"constructor"!=C&&g.push(C);return g}function eu(d,g){return d<g}function Ca(d,g){var C=-1,T=pt(d)?be(d.length):[];return Qs(d,function(F,j,J){T[++C]=g(F,j,J)}),T}function $i(d){var g=ol(d);return 1==g.length&&g[0][2]?xs(g[0][0],g[0][1]):function(C){return C===d||gd(C,d,g)}}function gp(d,g){return al(d)&&uc(g)?xs(gi(d),g):function(C){var T=Bo(C,d);return T===B&&T===g?Gp(C,d):Zl(g,T,3)}}function Yl(d,g,C,T,F){d!==g&&dd(g,function(j,J){if(F||(F=new Or),at(j))!function Zu(d,g,C,T,F,j,J){var re=Md(d,C),le=Md(g,C),$e=J.get(le);if($e)jl(d,C,$e);else{var He=j?j(re,le,C+"",d,g,J):B,We=He===B;if(We){var dt=Ae(le),It=!dt&&Ct(le),jt=!dt&&!It&&to(le);He=le,dt||It||jt?Ae(re)?He=re:it(re)?He=Mi(re):It?(We=!1,He=Vr(le,!0)):jt?(We=!1,He=ii(le,!0)):He=[]:Sr(le)||Lt(le)?(He=re,Lt(re)?He=Jo(re):(!at(re)||xe(re))&&(He=sr(le))):We=!1}We&&(J.set(le,He),F(He,le,T,j,J),J.delete(le)),jl(d,C,He)}}(d,g,J,C,Yl,T,F);else{var re=T?T(Md(d,J),j,J+"",d,g,F):B;re===B&&(re=j),jl(d,J,re)}},no)}function Fr(d,g){var C=d.length;if(C)return _a(g+=g<0?C:0,C)?d[g]:B}function qf(d,g,C){g=g.length?fn(g,function(j){return Ae(j)?function(J){return qa(J,1===j.length?j[0]:j)}:j}):[ro];var T=-1;return g=fn(g,gt(Vt())),function rp(se,Re){var be=se.length;for(se.sort(Re);be--;)se[be]=se[be].value;return se}(Ca(d,function(j,J,re){return{criteria:fn(g,function($e){return $e(j)}),index:++T,value:j}}),function(j,J){return function xi(d,g,C){for(var T=-1,F=d.criteria,j=g.criteria,J=F.length,re=C.length;++T<J;){var le=Qu(F[T],j[T]);if(le)return T>=re?le:le*("desc"==C[T]?-1:1)}return d.index-g.index}(j,J,C)})}function di(d,g,C){for(var T=-1,F=g.length,j={};++T<F;){var J=g[T],re=qa(d,J);C(re,J)&&vd(j,Do(J,d),re)}return j}function Xl(d,g,C,T){var F=T?ca:Vu,j=-1,J=g.length,re=d;for(d===g&&(g=Mi(g)),C&&(re=fn(d,gt(C)));++j<J;)for(var le=0,$e=g[j],He=C?C($e):$e;(le=F(re,He,le,T))>-1;)re!==d&&ps.call(re,le,1),ps.call(d,le,1);return d}function Wf(d,g){for(var C=d?g.length:0,T=C-1;C--;){var F=g[C];if(C==T||F!==j){var j=F;_a(F)?ps.call(d,F,1):_n(d,F)}}return d}function Ql(d,g){return d+Zr(gn()*(g-d+1))}function Jl(d,g){var C="";if(!d||g<1||g>Pa)return C;do{g%2&&(C+=d),(g=Zr(g/2))&&(d+=d)}while(g);return C}function Pt(d,g){return Id(xa(d,g,ro),d+"")}function ht(d){return yo(mc(d))}function vp(d,g){var C=mc(d);return Oo(C,ms(g,0,C.length))}function vd(d,g,C,T){if(!at(d))return d;for(var F=-1,j=(g=Do(g,d)).length,J=j-1,re=d;null!=re&&++F<j;){var le=gi(g[F]),$e=C;if("__proto__"===le||"constructor"===le||"prototype"===le)return d;if(F!=J){var He=re[le];($e=T?T(He,le,re):B)===B&&($e=at(He)?He:_a(g[F+1])?[]:{})}Da(re,le,$e),re=re[le]}return d}var mp=Li?function(d,g){return Li.set(d,g),d}:ro,or=Je?function(d,g){return Je(d,"toString",{configurable:!0,enumerable:!1,value:Eh(g),writable:!0})}:ro;function md(d){return Oo(mc(d))}function Qi(d,g,C){var T=-1,F=d.length;g<0&&(g=-g>F?0:F+g),(C=C>F?F:C)<0&&(C+=F),F=g>C?0:C-g>>>0,g>>>=0;for(var j=be(F);++T<F;)j[T]=d[T+g];return j}function tu(d,g){var C;return Qs(d,function(T,F,j){return!(C=g(T,F,j))}),!!C}function Za(d,g,C){var T=0,F=null==d?T:d.length;if("number"==typeof g&&g==g&&F<=2147483647){for(;T<F;){var j=T+F>>>1,J=d[j];null!==J&&!Qn(J)&&(C?J<=g:J<g)?T=j+1:F=j}return F}return Kf(d,g,ro,C)}function Kf(d,g,C,T){var F=0,j=null==d?0:d.length;if(0===j)return 0;for(var J=(g=C(g))!=g,re=null===g,le=Qn(g),$e=g===B;F<j;){var He=Zr((F+j)/2),We=C(d[He]),dt=We!==B,It=null===We,jt=We==We,En=Qn(We);if(J)var Gt=T||jt;else Gt=$e?jt&&(T||dt):re?jt&&dt&&(T||!It):le?jt&&dt&&!It&&(T||!En):!It&&!En&&(T?We<=g:We<g);Gt?F=He+1:j=He}return Yt(j,4294967294)}function Yu(d,g){for(var C=-1,T=d.length,F=0,j=[];++C<T;){var J=d[C],re=g?g(J):J;if(!C||!Fe(re,le)){var le=re;j[F++]=0===J?0:J}}return j}function yp(d){return"number"==typeof d?d:Qn(d)?NaN:+d}function Ji(d){if("string"==typeof d)return d;if(Ae(d))return fn(d,Ji)+"";if(Qn(d))return ri?ri.call(d):"";var g=d+"";return"0"==g&&1/d==-xt?"-0":g}function Le(d,g,C){var T=-1,F=Ef,j=d.length,J=!0,re=[],le=re;if(C)J=!1,F=Pl;else if(j>=200){var $e=g?null:Cd(d);if($e)return Ha($e);J=!1,F=ct,le=new vs}else le=g?[]:re;e:for(;++T<j;){var He=d[T],We=g?g(He):He;if(He=C||0!==He?He:0,J&&We==We){for(var dt=le.length;dt--;)if(le[dt]===We)continue e;g&&le.push(We),re.push(He)}else F(le,We,C)||(le!==re&&le.push(We),re.push(He))}return re}function _n(d,g){return null==(d=oh(d,g=Do(g,d)))||delete d[gi(yr(g))]}function ec(d,g,C,T){return vd(d,g,C(qa(d,g)),T)}function tc(d,g,C,T){for(var F=d.length,j=T?F:-1;(T?j--:++j<F)&&g(d[j],j,d););return C?Qi(d,T?0:j,T?j+1:F):Qi(d,T?j+1:0,T?F:j)}function Br(d,g){var C=d;return C instanceof on&&(C=C.value()),Bu(g,function(T,F){return F.func.apply(F.thisArg,zo([T],F.args))},C)}function nu(d,g,C){var T=d.length;if(T<2)return T?Le(d[0]):[];for(var F=-1,j=be(T);++F<T;)for(var J=d[F],re=-1;++re<T;)re!=F&&(j[F]=cd(j[F]||J,d[re],g,C));return Le(Xr(j,1),g,C)}function Xu(d,g,C){for(var T=-1,F=d.length,j=g.length,J={};++T<F;)C(J,d[T],T<j?g[T]:B);return J}function Po(d){return it(d)?d:[]}function ru(d){return"function"==typeof d?d:ro}function Do(d,g){return Ae(d)?d:al(d,g)?[d]:Ma(Pn(d))}var Si=Pt;function Zo(d,g,C){var T=d.length;return C=C===B?T:C,!g&&C>=T?d:Qi(d,g,C)}var Yf=en||function(d){return li.clearTimeout(d)};function Vr(d,g){if(g)return d.slice();var C=d.length,T=ga?ga(C):new d.constructor(C);return d.copy(T),T}function Co(d){var g=new d.constructor(d.byteLength);return new ni(g).set(new ni(d)),g}function ii(d,g){var C=g?Co(d.buffer):d.buffer;return new d.constructor(C,d.byteOffset,d.length)}function Qu(d,g){if(d!==g){var C=d!==B,T=null===d,F=d==d,j=Qn(d),J=g!==B,re=null===g,le=g==g,$e=Qn(g);if(!re&&!$e&&!j&&d>g||j&&J&&le&&!re&&!$e||T&&J&&le||!C&&le||!F)return 1;if(!T&&!j&&!$e&&d<g||$e&&C&&F&&!T&&!j||re&&C&&F||!J&&F||!le)return-1}return 0}function fi(d,g,C,T){for(var F=-1,j=d.length,J=C.length,re=-1,le=g.length,$e=Er(j-J,0),He=be(le+$e),We=!T;++re<le;)He[re]=g[re];for(;++F<J;)(We||F<j)&&(He[C[F]]=d[F]);for(;$e--;)He[re++]=d[F++];return He}function yd(d,g,C,T){for(var F=-1,j=d.length,J=-1,re=C.length,le=-1,$e=g.length,He=Er(j-re,0),We=be(He+$e),dt=!T;++F<He;)We[F]=d[F];for(var It=F;++le<$e;)We[It+le]=g[le];for(;++J<re;)(dt||F<j)&&(We[It+C[J]]=d[F++]);return We}function Mi(d,g){var C=-1,T=d.length;for(g||(g=be(T));++C<T;)g[C]=d[C];return g}function hi(d,g,C,T){var F=!C;C||(C={});for(var j=-1,J=g.length;++j<J;){var re=g[j],le=T?T(C[re],d[re],re,C,d):B;le===B&&(le=d[re]),F?Xi(C,re,le):Da(C,re,le)}return C}function bs(d,g){return function(C,T){var F=Ae(C)?cs:$f,j=g?g():{};return F(C,d,Vt(T,2),j)}}function Ds(d){return Pt(function(g,C){var T=-1,F=C.length,j=F>1?C[F-1]:B,J=F>2?C[2]:B;for(j=d.length>3&&"function"==typeof j?(F--,j):B,J&&Xn(C[0],C[1],J)&&(j=F<3?B:j,F=1),g=Yn(g);++T<F;){var re=C[T];re&&d(g,re,T,j)}return g})}function Xf(d,g){return function(C,T){if(null==C)return C;if(!pt(C))return d(C,T);for(var F=C.length,j=g?F:-1,J=Yn(C);(g?j--:++j<F)&&!1!==T(J[j],j,J););return C}}function Cs(d){return function(g,C,T){for(var F=-1,j=Yn(g),J=T(g),re=J.length;re--;){var le=J[d?re:++F];if(!1===C(j[le],le,j))break}return g}}function wd(d){return function(g){var C=ha(g=Pn(g))?po(g):B,T=C?C[0]:g.charAt(0),F=C?Zo(C,1).join(""):g.slice(1);return T[d]()+F}}function Es(d){return function(g){return Bu(dl(vy(g).replace(zm,"")),d,"")}}function Ju(d){return function(){var g=arguments;switch(g.length){case 0:return new d;case 1:return new d(g[0]);case 2:return new d(g[0],g[1]);case 3:return new d(g[0],g[1],g[2]);case 4:return new d(g[0],g[1],g[2],g[3]);case 5:return new d(g[0],g[1],g[2],g[3],g[4]);case 6:return new d(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new d(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var C=Kr(d.prototype),T=d.apply(C,g);return at(T)?T:C}}function pi(d){return function(g,C,T){var F=Yn(g);if(!pt(g)){var j=Vt(C,3);g=Ii(g),C=function(re){return j(F[re],re,F)}}var J=d(g,C,T);return J>-1?F[j?g[J]:J]:B}}function Ea(d){return Xa(function(g){var C=g.length,T=C,F=vn.prototype.thru;for(d&&g.reverse();T--;){var j=g[T];if("function"!=typeof j)throw new Ei(Te);if(F&&!J&&"wrapper"==oc(j))var J=new vn([],!0)}for(T=J?T:C;++T<C;){var re=oc(j=g[T]),le="wrapper"==re?Ep(j):B;J=le&&xd(le[0])&&424==le[1]&&!le[4].length&&1==le[9]?J[oc(le[0])].apply(J,le[3]):1==j.length&&xd(j)?J[re]():J.thru(j)}return function(){var $e=arguments,He=$e[0];if(J&&1==$e.length&&Ae(He))return J.plant(He).value();for(var We=0,dt=C?g[We].apply(this,$e):He;++We<C;)dt=g[We].call(this,dt);return dt}})}function ar(d,g,C,T,F,j,J,re,le,$e){var He=128&g,We=1&g,dt=2&g,It=24&g,jt=512&g,En=dt?B:Ju(d);return function Gt(){for(var yn=arguments.length,kn=be(yn),Ti=yn;Ti--;)kn[Ti]=arguments[Ti];if(It)var fr=il(Gt),na=function Bl(se,Re){for(var be=se.length,ut=0;be--;)se[be]===Re&&++ut;return ut}(kn,fr);if(T&&(kn=fi(kn,T,F,It)),j&&(kn=yd(kn,j,J,It)),yn-=na,It&&yn<$e){var Hr=ki(kn,fr);return Ya(d,g,ar,Gt.placeholder,C,kn,Hr,re,le,$e-yn)}var wi=We?C:this,mu=dt?wi[d]:d;return yn=kn.length,re?kn=function Hi(d,g){for(var C=d.length,T=Yt(g.length,C),F=Mi(d);T--;){var j=g[T];d[T]=_a(j,C)?F[j]:B}return d}(kn,re):jt&&yn>1&&kn.reverse(),He&&le<yn&&(kn.length=le),this&&this!==li&&this instanceof Gt&&(mu=En||Ju(mu)),mu.apply(wi,kn)}}function rc(d,g){return function(C,T){return function uv(d,g,C,T){return No(d,function(F,j,J){g(T,C(F),j,J)}),T}(C,d,g(T),{})}}function bd(d,g){return function(C,T){var F;if(C===B&&T===B)return g;if(C!==B&&(F=C),T!==B){if(F===B)return T;"string"==typeof C||"string"==typeof T?(C=Ji(C),T=Ji(T)):(C=yp(C),T=yp(T)),F=d(C,T)}return F}}function Jf(d){return Xa(function(g){return g=fn(g,gt(Vt())),Pt(function(C){var T=this;return d(g,function(F){return Pi(F,T,C)})})})}function Dd(d,g){var C=(g=g===B?" ":Ji(g)).length;if(C<2)return C?Jl(g,d):g;var T=Jl(g,za(d/Ua(g)));return ha(g)?Zo(po(T),0,d).join(""):T.slice(0,d)}function eh(d){return function(g,C,T){return T&&"number"!=typeof T&&Xn(g,C,T)&&(C=T=B),g=Ir(g),C===B?(C=g,g=0):C=Ir(C),function Zf(d,g,C,T){for(var F=-1,j=Er(za((g-d)/(C||1)),0),J=be(j);j--;)J[T?j:++F]=d,d+=C;return J}(g,C,T=T===B?g<C?1:-1:Ir(T),d)}}function _s(d){return function(g,C){return"string"==typeof g&&"string"==typeof C||(g=yi(g),C=yi(C)),d(g,C)}}function Ya(d,g,C,T,F,j,J,re,le,$e){var He=8&g;g|=He?32:64,4&(g&=~(He?64:32))||(g&=-4);var En=[d,g,F,He?j:B,He?J:B,He?B:j,He?B:J,re,le,$e],Gt=C.apply(B,En);return xd(d)&&_r(Gt,En),Gt.placeholder=T,ah(Gt,d,g)}function th(d){var g=Wr[d];return function(C,T){if(C=yi(C),(T=null==T?0:Yt(kt(T),292))&&Fi(C)){var F=(Pn(C)+"e").split("e");return+((F=(Pn(g(F[0]+"e"+(+F[1]+T)))+"e").split("e"))[0]+"e"+(+F[1]-T))}return g(C)}}var Cd=vo&&1/Ha(new vo([,-0]))[1]==xt?function(d){return new vo(d)}:_h;function el(d){return function(g){var C=$r(g);return C==uo?Mn(g):C==Uo?function ap(se){var Re=-1,be=Array(se.size);return se.forEach(function(ut){be[++Re]=[ut,ut]}),be}(g):function Va(se,Re){return fn(Re,function(be){return[be,se[be]]})}(g,d(g))}}function ko(d,g,C,T,F,j,J,re){var le=2&g;if(!le&&"function"!=typeof d)throw new Ei(Te);var $e=T?T.length:0;if($e||(g&=-97,T=F=B),J=J===B?J:Er(kt(J),0),re=re===B?re:kt(re),$e-=F?F.length:0,64&g){var He=T,We=F;T=F=B}var dt=le?B:Ep(d),It=[d,g,C,T,F,He,We,j,J,re];if(dt&&function Mp(d,g){var C=d[1],T=g[1],F=C|T;if(!(F<131)&&!(128==T&&8==C||128==T&&256==C&&d[7].length<=g[8]||384==T&&g[7].length<=g[8]&&8==C))return d;1&T&&(d[2]=g[2],F|=1&C?0:4);var re=g[3];if(re){var le=d[3];d[3]=le?fi(le,re,g[4]):re,d[4]=le?ki(d[3],_t):g[4]}(re=g[5])&&(d[5]=(le=d[5])?yd(le,re,g[6]):re,d[6]=le?ki(d[5],_t):g[6]),(re=g[7])&&(d[7]=re),128&T&&(d[8]=null==d[8]?g[8]:Yt(d[8],g[8])),null==d[9]&&(d[9]=g[9]),d[0]=g[0],d[1]=F}(It,dt),d=It[0],g=It[1],C=It[2],T=It[3],F=It[4],!(re=It[9]=It[9]===B?le?0:d.length:Er(It[9]-$e,0))&&24&g&&(g&=-25),g&&1!=g)jt=8==g||16==g?function lv(d,g,C){var T=Ju(d);return function F(){for(var j=arguments.length,J=be(j),re=j,le=il(F);re--;)J[re]=arguments[re];var $e=j<3&&J[0]!==le&&J[j-1]!==le?[]:ki(J,le);return(j-=$e.length)<C?Ya(d,g,ar,F.placeholder,B,J,$e,B,B,C-j):Pi(this&&this!==li&&this instanceof F?T:d,this,J)}}(d,g,re):32!=g&&33!=g||F.length?ar.apply(B,It):function wp(d,g,C,T){var F=1&g,j=Ju(d);return function J(){for(var re=-1,le=arguments.length,$e=-1,He=T.length,We=be(He+le),dt=this&&this!==li&&this instanceof J?j:d;++$e<He;)We[$e]=T[$e];for(;le--;)We[$e++]=arguments[++re];return Pi(dt,F?C:this,We)}}(d,g,C,T);else var jt=function Qf(d,g,C){var T=1&g,F=Ju(d);return function j(){return(this&&this!==li&&this instanceof j?F:d).apply(T?C:this,arguments)}}(d,g,C);return ah((dt?mp:_r)(jt,It),d,g)}function Ed(d,g,C,T){return d===B||Fe(d,qs[C])&&!jn.call(T,C)?g:d}function tl(d,g,C,T,F,j){return at(d)&&at(g)&&(j.set(g,d),Yl(d,g,B,tl,j),j.delete(g)),d}function bp(d){return Sr(d)?B:d}function Dp(d,g,C,T,F,j){var J=1&C,re=d.length,le=g.length;if(re!=le&&!(J&&le>re))return!1;var $e=j.get(d),He=j.get(g);if($e&&He)return $e==g&&He==d;var We=-1,dt=!0,It=2&C?new vs:B;for(j.set(d,g),j.set(g,d);++We<re;){var jt=d[We],En=g[We];if(T)var Gt=J?T(En,jt,We,g,d,j):T(jt,En,We,d,g,j);if(Gt!==B){if(Gt)continue;dt=!1;break}if(It){if(!kl(g,function(yn,kn){if(!ct(It,kn)&&(jt===yn||F(jt,yn,C,T,j)))return It.push(kn)})){dt=!1;break}}else if(jt!==En&&!F(jt,En,C,T,j)){dt=!1;break}}return j.delete(d),j.delete(g),dt}function Xa(d){return Id(xa(d,B,Ia),d+"")}function Cp(d){return hd(d,Ii,ou)}function rl(d){return hd(d,no,ac)}var Ep=Li?function(d){return Li.get(d)}:_h;function oc(d){for(var g=d.name+"",C=tn[g],T=jn.call(tn,g)?C.length:0;T--;){var F=C[T],j=F.func;if(null==j||j==d)return F.name}return g}function il(d){return(jn.call(H,"placeholder")?H:d).placeholder}function Vt(){var d=H.iteratee||kv;return d=d===kv?Wu:d,arguments.length?d(arguments[0],arguments[1]):d}function nh(d,g){var C=d.__data__;return function xp(d){var g=typeof d;return"string"==g||"number"==g||"symbol"==g||"boolean"==g?"__proto__"!==d:null===d}(g)?C["string"==typeof g?"string":"hash"]:C.map}function ol(d){for(var g=Ii(d),C=g.length;C--;){var T=g[C],F=d[T];g[C]=[T,F,uc(F)]}return g}function Xo(d,g){var C=function fa(se,Re){return null==se?B:se[Re]}(d,g);return hp(C)?C:B}var ou=go?function(d){return null==d?[]:(d=Yn(d),Dn(go(d),function(g){return Rf.call(d,g)}))}:Ty,ac=go?function(d){for(var g=[];d;)zo(g,ou(d)),d=_i(d);return g}:Ty,$r=Vi;function Qa(d,g,C){for(var T=-1,F=(g=Do(g,d)).length,j=!1;++T<F;){var J=gi(g[T]);if(!(j=null!=d&&C(d,J)))break;d=d[J]}return j||++T!=F?j:!!(F=null==d?0:d.length)&&_e(F)&&_a(J,F)&&(Ae(d)||Lt(d))}function sr(d){return"function"!=typeof d.constructor||au(d)?{}:Kr(_i(d))}function sc(d){return Ae(d)||Lt(d)||!!(Nf&&d&&d[Nf])}function _a(d,g){var C=typeof d;return!!(g=g??Pa)&&("number"==C||"symbol"!=C&&Um.test(d))&&d>-1&&d%1==0&&d<g}function Xn(d,g,C){if(!at(C))return!1;var T=typeof g;return!!("number"==T?pt(C)&&_a(g,C.length):"string"==T&&g in C)&&Fe(C[g],d)}function al(d,g){if(Ae(d))return!1;var C=typeof d;return!("number"!=C&&"symbol"!=C&&"boolean"!=C&&null!=d&&!Qn(d))||Uc.test(d)||!Fa.test(d)||null!=g&&d in Yn(g)}function xd(d){var g=oc(d),C=H[g];if("function"!=typeof C||!(g in on.prototype))return!1;if(d===C)return!0;var T=Ep(C);return!!T&&d===T[0]}(lt&&$r(new lt(new ArrayBuffer(1)))!=Au||Go&&$r(new Go)!=uo||id&&$r(id.resolve())!=zr||vo&&$r(new vo)!=Uo||mo&&$r(new mo)!=$s)&&($r=function(d){var g=Vi(d),C=g==ka?d.constructor:B,T=C?Is(C):"";if(T)switch(T){case Wm:return Au;case Pf:return uo;case cp:return zr;case va:return Uo;case od:return $s}return g});var ih=Ws?xe:Ay;function au(d){var g=d&&d.constructor;return d===("function"==typeof g&&g.prototype||qs)}function uc(d){return d==d&&!at(d)}function xs(d,g){return function(C){return null!=C&&C[d]===g&&(g!==B||d in Yn(C))}}function xa(d,g,C){return g=Er(g===B?d.length-1:g,0),function(){for(var T=arguments,F=-1,j=Er(T.length-g,0),J=be(j);++F<j;)J[F]=T[g+F];F=-1;for(var re=be(g+1);++F<g;)re[F]=T[F];return re[g]=C(J),Pi(d,this,re)}}function oh(d,g){return g.length<2?d:qa(d,Qi(g,0,-1))}function Md(d,g){if(("constructor"!==g||"function"!=typeof d[g])&&"__proto__"!=g)return d[g]}var _r=sl(mp),Ja=Ro||function(d,g){return li.setTimeout(d,g)},Id=sl(or);function ah(d,g,C){var T=g+"";return Id(d,function Ss(d,g){var C=g.length;if(!C)return d;var T=C-1;return g[T]=(C>1?"& ":"")+g[T],g=g.join(C>2?", ":" "),d.replace(Gg,"{\n/* [wrapped with "+g+"] */\n")}(T,function sh(d,g){return zn(sf,function(C){var T="_."+C[0];g&C[1]&&!Ef(d,T)&&d.push(T)}),d.sort()}(function _d(d){var g=d.match(qg);return g?g[1].split(gf):[]}(T),C)))}function sl(d){var g=0,C=0;return function(){var T=zu(),F=16-(T-C);if(C=T,F>0){if(++g>=800)return arguments[0]}else g=0;return d.apply(B,arguments)}}function Oo(d,g){var C=-1,T=d.length,F=T-1;for(g=g===B?T:g;++C<g;){var j=Ql(C,F),J=d[j];d[j]=d[C],d[C]=J}return d.length=g,d}var Ma=function Ms(d){var g=G(d,function(T){return 500===C.size&&C.clear(),T}),C=g.cache;return g}(function(d){var g=[];return 46===d.charCodeAt(0)&&g.push(""),d.replace(zh,function(C,T,F,j){g.push(F?j.replace(Gh,"$1"):T||C)}),g});function gi(d){if("string"==typeof d||Qn(d))return d;var g=d+"";return"0"==g&&1/d==-xt?"-0":g}function Is(d){if(null!=d){try{return nd.call(d)}catch{}try{return d+""}catch{}}return""}function uu(d){if(d instanceof on)return d.clone();var g=new vn(d.__wrapped__,d.__chain__);return g.__actions__=Mi(d.__actions__),g.__index__=d.__index__,g.__values__=d.__values__,g}var Jm=Pt(function(d,g){return it(d)?cd(d,Xr(g,1,it,!0)):[]}),ey=Pt(function(d,g){var C=yr(g);return it(C)&&(C=B),it(d)?cd(d,Xr(g,1,it,!0),Vt(C,2)):[]}),ty=Pt(function(d,g){var C=yr(g);return it(C)&&(C=B),it(d)?cd(d,Xr(g,1,it,!0),B,C):[]});function dr(d,g,C){var T=null==d?0:d.length;if(!T)return-1;var F=null==C?0:kt(C);return F<0&&(F=Er(T+F,0)),_f(d,Vt(g,3),F)}function Ip(d,g,C){var T=null==d?0:d.length;if(!T)return-1;var F=T-1;return C!==B&&(F=kt(C),F=C<0?Er(T+F,0):Yt(F,T-1)),_f(d,Vt(g,3),F,!0)}function Ia(d){return null!=d&&d.length?Xr(d,1):[]}function ll(d){return d&&d.length?d[0]:B}var pv=Pt(function(d){var g=fn(d,Po);return g.length&&g[0]===d[0]?pd(g):[]}),iy=Pt(function(d){var g=yr(d),C=fn(d,Po);return g===yr(C)?g=B:C.pop(),C.length&&C[0]===d[0]?pd(C,Vt(g,2)):[]}),gv=Pt(function(d){var g=yr(d),C=fn(d,Po);return(g="function"==typeof g?g:B)&&C.pop(),C.length&&C[0]===d[0]?pd(C,B,g):[]});function yr(d){var g=null==d?0:d.length;return g?d[g-1]:B}var ay=Pt(lh);function lh(d,g){return d&&d.length&&g&&g.length?Xl(d,g):d}var Ap=Xa(function(d,g){var C=null==d?0:d.length,T=Gl(d,g);return Wf(d,fn(g,function(F){return _a(F,C)?+F:F}).sort(Qu)),T});function Ad(d){return null==d?d:Rn.call(d)}var cu=Pt(function(d){return Le(Xr(d,1,it,!0))}),du=Pt(function(d){var g=yr(d);return it(g)&&(g=B),Le(Xr(d,1,it,!0),Vt(g,2))}),fu=Pt(function(d){var g=yr(d);return g="function"==typeof g?g:B,Le(Xr(d,1,it,!0),B,g)});function eo(d){if(!d||!d.length)return[];var g=0;return d=Dn(d,function(C){if(it(C))return g=Er(C.length,g),!0}),xf(g,function(C){return fn(d,Sf(C))})}function Fp(d,g){if(!d||!d.length)return[];var C=eo(d);return null==g?C:fn(C,function(T){return Pi(g,B,T)})}var Ts=Pt(function(d,g){return it(d)?cd(d,g):[]}),Lp=Pt(function(d){return nu(Dn(d,it))}),cc=Pt(function(d){var g=yr(d);return it(g)&&(g=B),nu(Dn(d,it),Vt(g,2))}),kd=Pt(function(d){var g=yr(d);return g="function"==typeof g?g:B,nu(Dn(d,it),B,g)}),hh=Pt(eo),cl=Pt(function(d){var g=d.length,C=g>1?d[g-1]:B;return C="function"==typeof C?(d.pop(),C):B,Fp(d,C)});function wv(d){var g=H(d);return g.__chain__=!0,g}function fc(d,g){return g(d)}var Od=Xa(function(d){var g=d.length,C=g?d[0]:0,T=this.__wrapped__,F=function(j){return Gl(j,d)};return!(g>1||this.__actions__.length)&&T instanceof on&&_a(C)?((T=T.slice(C,+C+(g?1:0))).__actions__.push({func:fc,args:[F],thisArg:B}),new vn(T,this.__chain__).thru(function(j){return g&&!j.length&&j.push(B),j})):this.thru(F)}),Dv=bs(function(d,g,C){jn.call(d,C)?++d[C]:Xi(d,C,1)}),Ld=pi(dr),$p=pi(Ip);function vh(d,g){return(Ae(d)?zn:Qs)(d,Vt(g,3))}function ts(d,g){return(Ae(d)?Yc:av)(d,Vt(g,3))}var a=bs(function(d,g,C){jn.call(d,C)?d[C].push(g):Xi(d,C,[g])}),s=Pt(function(d,g,C){var T=-1,F="function"==typeof g,j=pt(d)?be(d.length):[];return Qs(d,function(J){j[++T]=F?Pi(g,J,C):Js(J,g,C)}),j}),l=bs(function(d,g,C){Xi(d,C,g)});function f(d,g){return(Ae(d)?fn:Ca)(d,Vt(g,3))}var p=bs(function(d,g,C){d[C?0:1].push(g)},function(){return[[],[]]}),R=Pt(function(d,g){if(null==d)return[];var C=g.length;return C>1&&Xn(d,g[0],g[1])?g=[]:C>2&&Xn(g[0],g[1],g[2])&&(g=[g[0]]),qf(d,Xr(g,1),[])}),A=cr||function(){return li.Date.now()};function k(d,g,C){return g=C?B:g,ko(d,128,B,B,B,B,g=d&&null==g?d.length:g)}function O(d,g){var C;if("function"!=typeof g)throw new Ei(Te);return d=kt(d),function(){return--d>0&&(C=g.apply(this,arguments)),d<=1&&(g=B),C}}var V=Pt(function(d,g,C){var T=1;if(C.length){var F=ki(C,il(V));T|=32}return ko(d,T,g,C,F)}),q=Pt(function(d,g,C){var T=3;if(C.length){var F=ki(C,il(q));T|=32}return ko(g,T,d,C,F)});function W(d,g,C){var T,F,j,J,re,le,$e=0,He=!1,We=!1,dt=!0;if("function"!=typeof d)throw new Ei(Te);function It(Hr){var wi=T,mu=F;return T=F=B,$e=Hr,J=d.apply(mu,wi)}function Gt(Hr){var wi=Hr-le;return le===B||wi>=g||wi<0||We&&Hr-$e>=j}function yn(){var Hr=A();if(Gt(Hr))return kn(Hr);re=Ja(yn,function En(Hr){var Ny=g-(Hr-le);return We?Yt(Ny,j-(Hr-$e)):Ny}(Hr))}function kn(Hr){return re=B,dt&&T?It(Hr):(T=F=B,J)}function na(){var Hr=A(),wi=Gt(Hr);if(T=arguments,F=this,le=Hr,wi){if(re===B)return function jt(Hr){return $e=Hr,re=Ja(yn,g),He?It(Hr):J}(le);if(We)return Yf(re),re=Ja(yn,g),It(le)}return re===B&&(re=Ja(yn,g)),J}return g=yi(g)||0,at(C)&&(He=!!C.leading,j=(We="maxWait"in C)?Er(yi(C.maxWait)||0,g):j,dt="trailing"in C?!!C.trailing:dt),na.cancel=function Ti(){re!==B&&Yf(re),$e=0,T=le=F=re=B},na.flush=function fr(){return re===B?J:kn(A())},na}var U=Pt(function(d,g){return Hf(d,1,g)}),Y=Pt(function(d,g,C){return Hf(d,yi(g)||0,C)});function G(d,g){if("function"!=typeof d||null!=g&&"function"!=typeof g)throw new Ei(Te);var C=function(){var T=arguments,F=g?g.apply(this,T):T[0],j=C.cache;if(j.has(F))return j.get(F);var J=d.apply(this,T);return C.cache=j.set(F,J)||j,J};return C.cache=new(G.Cache||wa),C}function te(d){if("function"!=typeof d)throw new Ei(Te);return function(){var g=arguments;switch(g.length){case 0:return!d.call(this);case 1:return!d.call(this,g[0]);case 2:return!d.call(this,g[0],g[1]);case 3:return!d.call(this,g[0],g[1],g[2])}return!d.apply(this,g)}}G.Cache=wa;var ue=Si(function(d,g){var C=(g=1==g.length&&Ae(g[0])?fn(g[0],gt(Vt())):fn(Xr(g,1),gt(Vt()))).length;return Pt(function(T){for(var F=-1,j=Yt(T.length,C);++F<j;)T[F]=g[F].call(this,T[F]);return Pi(d,this,T)})}),ne=Pt(function(d,g){var C=ki(g,il(ne));return ko(d,32,B,g,C)}),ee=Pt(function(d,g){var C=ki(g,il(ee));return ko(d,64,B,g,C)}),he=Xa(function(d,g){return ko(d,256,B,B,B,g)});function Fe(d,g){return d===g||d!=d&&g!=g}var Ye=_s(Gu),Mt=_s(function(d,g){return d>=g}),Lt=Gf(function(){return arguments}())?Gf:function(d){return ye(d)&&jn.call(d,"callee")&&!Rf.call(d,"callee")},Ae=be.isArray,et=Rl?gt(Rl):function wo(d){return ye(d)&&Vi(d)==Nt};function pt(d){return null!=d&&_e(d.length)&&!xe(d)}function it(d){return ye(d)&&pt(d)}var Ct=Cr||Ay,mn=ti?gt(ti):function Nn(d){return ye(d)&&Vi(d)==Ls};function z(d){if(!ye(d))return!1;var g=Vi(d);return g==Mu||"[object DOMException]"==g||"string"==typeof d.message&&"string"==typeof d.name&&!Sr(d)}function xe(d){if(!at(d))return!1;var g=Vi(d);return g==Pc||g==Iu||"[object AsyncFunction]"==g||"[object Proxy]"==g}function Ce(d){return"number"==typeof d&&d==kt(d)}function _e(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Pa}function at(d){var g=typeof d;return null!=d&&("object"==g||"function"==g)}function ye(d){return null!=d&&"object"==typeof d}var bt=Io?gt(Io):function Kl(d){return ye(d)&&$r(d)==uo};function wr(d){return"number"==typeof d||ye(d)&&Vi(d)==Bs}function Sr(d){if(!ye(d)||Vi(d)!=ka)return!1;var g=_i(d);if(null===g)return!0;var C=jn.call(g,"constructor")&&g.constructor;return"function"==typeof C&&C instanceof C&&nd.call(C)==Af}var mi=Cf?gt(Cf):function qu(d){return ye(d)&&Vi(d)==Tu},Jr=Nl?gt(Nl):function pp(d){return ye(d)&&$r(d)==Uo};function Ui(d){return"string"==typeof d||!Ae(d)&&ye(d)&&Vi(d)==Vs}function Qn(d){return"symbol"==typeof d||ye(d)&&Vi(d)==kc}var to=sn?gt(sn):function bo(d){return ye(d)&&_e(d.length)&&!!lr[Vi(d)]},As=_s(eu),rs=_s(function(d,g){return d<=g});function Rs(d){if(!d)return[];if(pt(d))return Ui(d)?po(d):Mi(d);if(Hu&&d[Hu])return function pa(se){for(var Re,be=[];!(Re=se.next()).done;)be.push(Re.value);return be}(d[Hu]());var g=$r(d);return(g==uo?Mn:g==Uo?Ha:mc)(d)}function Ir(d){return d?(d=yi(d))===xt||d===-xt?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function kt(d){var g=Ir(d),C=g%1;return g==g?C?g-C:g:0}function zi(d){return d?ms(kt(d),0,so):0}function yi(d){if("number"==typeof d)return d;if(Qn(d))return NaN;if(at(d)){var g="function"==typeof d.valueOf?d.valueOf():d;d=at(g)?g+"":g}if("string"!=typeof d)return 0===d?d:+d;d=ip(d);var C=Zt.test(d);return C||jr.test(d)?Al(d.slice(2),C?2:8):qh.test(d)?NaN:+d}function Jo(d){return hi(d,no(d))}function Pn(d){return null==d?"":Ji(d)}var mh=Ds(function(d,g){if(au(g)||pt(g))hi(g,Ii(g),d);else for(var C in g)jn.call(g,C)&&Da(d,C,g[C])}),yh=Ds(function(d,g){hi(g,no(g),d)}),pc=Ds(function(d,g,C,T){hi(g,no(g),d,T)}),Hp=Ds(function(d,g,C,T){hi(g,Ii(g),d,T)}),Up=Xa(Gl),gc=Pt(function(d,g){d=Yn(d);var C=-1,T=g.length,F=T>2?g[2]:B;for(F&&Xn(g[0],g[1],F)&&(T=1);++C<T;)for(var j=g[C],J=no(j),re=-1,le=J.length;++re<le;){var $e=J[re],He=d[$e];(He===B||Fe(He,qs[$e])&&!jn.call(d,$e))&&(d[$e]=j[$e])}return d}),wh=Pt(function(d){return d.push(B,tl),Pi(_v,B,d)});function Bo(d,g,C){var T=null==d?B:qa(d,g);return T===B?C:T}function Gp(d,g){return null!=d&&Qa(d,g,jf)}var ow=rc(function(d,g,C){null!=g&&"function"!=typeof g.toString&&(g=rd.call(g)),d[g]=C},Eh(ro)),aw=rc(function(d,g,C){null!=g&&"function"!=typeof g.toString&&(g=rd.call(g)),jn.call(d,g)?d[g].push(C):d[g]=[C]},Vt),sw=Pt(Js);function Ii(d){return pt(d)?zl(d):Lr(d)}function no(d){return pt(d)?zl(d,!0):function Wn(d){if(!at(d))return function su(d){var g=[];if(null!=d)for(var C in Yn(d))g.push(C);return g}(d);var g=au(d),C=[];for(var T in d)"constructor"==T&&(g||!jn.call(d,T))||C.push(T);return C}(d)}var hy=Ds(function(d,g,C){Yl(d,g,C)}),_v=Ds(function(d,g,C,T){Yl(d,g,C,T)}),py=Xa(function(d,g){var C={};if(null==d)return C;var T=!1;g=fn(g,function(j){return j=Do(j,d),T||(T=j.length>1),j}),hi(d,rl(d),C),T&&(C=Bi(C,7,bp));for(var F=g.length;F--;)_n(C,g[F]);return C}),RC=Xa(function(d,g){return null==d?{}:function Ku(d,g){return di(d,g,function(C,T){return Gp(d,T)})}(d,g)});function uw(d,g){if(null==d)return{};var C=fn(rl(d),function(T){return[T]});return g=Vt(g),di(d,C,function(T,F){return g(T,F[0])})}var lw=el(Ii),Mv=el(no);function mc(d){return null==d?[]:Qc(d,Ii(d))}var Hd=Es(function(d,g,C){return g=g.toLowerCase(),d+(C?gy(g):g)});function gy(d){return Zp(Pn(d).toLowerCase())}function vy(d){return(d=Pn(d))&&d.replace(Wh,op).replace(ei,"")}var mw=Es(function(d,g,C){return d+(C?"-":"")+g.toLowerCase()}),yw=Es(function(d,g,C){return d+(C?" ":"")+g.toLowerCase()}),ww=wd("toLowerCase"),by=Es(function(d,g,C){return d+(C?"_":"")+g.toLowerCase()}),Tv=Es(function(d,g,C){return d+(C?" ":"")+Zp(g)}),_y=Es(function(d,g,C){return d+(C?" ":"")+g.toUpperCase()}),Zp=wd("toUpperCase");function dl(d,g,C){return d=Pn(d),(g=C?B:g)===B?function To(se){return fo.test(se)}(d)?function Mf(se){return se.match(js)||[]}(d):function tp(se){return se.match(jh)||[]}(d):d.match(g)||[]}var Sy=Pt(function(d,g){try{return Pi(d,B,g)}catch(C){return z(C)?C:new Xt(C)}}),Pv=Xa(function(d,g){return zn(g,function(C){C=gi(C),Xi(d,C,V(d[C],d))}),d});function Eh(d){return function(){return d}}var ta=Ea(),Xp=Ea(!0);function ro(d){return d}function kv(d){return Wu("function"==typeof d?d:Bi(d,1))}var Ud=Pt(function(d,g){return function(C){return Js(C,d,g)}}),_w=Pt(function(d,g){return function(C){return Js(d,C,g)}});function Ov(d,g,C){var T=Ii(g),F=fd(g,T);null==C&&(!at(g)||!F.length&&T.length)&&(C=g,g=d,d=this,F=fd(g,Ii(g)));var j=!(at(C)&&"chain"in C&&!C.chain),J=xe(d);return zn(F,function(re){var le=g[re];d[re]=le,J&&(d.prototype[re]=function(){var $e=this.__chain__;if(j||$e){var He=d(this.__wrapped__);return(He.__actions__=Mi(this.__actions__)).push({func:le,args:arguments,thisArg:d}),He.__chain__=$e,He}return le.apply(d,zo([this.value()],arguments))})}),d}function _h(){}var xw=Jf(fn),My=Jf(ds),yc=Jf(kl);function Mw(d){return al(d)?Sf(gi(d)):function Wa(d){return function(g){return qa(g,d)}}(d)}var Iy=eh(),Iw=eh(!0);function Ty(){return[]}function Ay(){return!1}var Vv=bd(function(d,g){return d+g},0),Sh=th("ceil"),eg=bd(function(d,g){return d/g},1),jd=th("floor"),Aw=bd(function(d,g){return d*g},1),Ry=th("round"),Rw=bd(function(d,g){return d-g},0);return H.after=function P(d,g){if("function"!=typeof g)throw new Ei(Te);return d=kt(d),function(){if(--d<1)return g.apply(this,arguments)}},H.ary=k,H.assign=mh,H.assignIn=yh,H.assignInWith=pc,H.assignWith=Hp,H.at=Up,H.before=O,H.bind=V,H.bindAll=Pv,H.bindKey=q,H.castArray=function Be(){if(!arguments.length)return[];var d=arguments[0];return Ae(d)?d:[d]},H.chain=wv,H.chunk=function Xm(d,g,C){g=(C?Xn(d,g,C):g===B)?1:Er(kt(g),0);var T=null==d?0:d.length;if(!T||g<1)return[];for(var F=0,j=0,J=be(za(T/g));F<T;)J[j++]=Qi(d,F,F+=g);return J},H.compact=function dv(d){for(var g=-1,C=null==d?0:d.length,T=0,F=[];++g<C;){var j=d[g];j&&(F[T++]=j)}return F},H.concat=function Qm(){var d=arguments.length;if(!d)return[];for(var g=be(d-1),C=arguments[0],T=d;T--;)g[T-1]=arguments[T];return zo(Ae(C)?Mi(C):[C],Xr(g,1))},H.cond=function Kp(d){var g=null==d?0:d.length,C=Vt();return d=g?fn(d,function(T){if("function"!=typeof T[1])throw new Ei(Te);return[C(T[0]),T[1]]}):[],Pt(function(T){for(var F=-1;++F<g;){var j=d[F];if(Pi(j[0],this,T))return Pi(j[1],this,T)}})},H.conforms=function Cw(d){return function ql(d){var g=Ii(d);return function(C){return Xs(C,d,g)}}(Bi(d,1))},H.constant=Eh,H.countBy=Dv,H.create=function Cv(d,g){var C=Kr(d);return null==g?C:ld(C,g)},H.curry=function K(d,g,C){var T=ko(d,8,B,B,B,B,B,g=C?B:g);return T.placeholder=K.placeholder,T},H.curryRight=function $(d,g,C){var T=ko(d,16,B,B,B,B,B,g=C?B:g);return T.placeholder=$.placeholder,T},H.debounce=W,H.defaults=gc,H.defaultsDeep=wh,H.defer=U,H.delay=Y,H.difference=Jm,H.differenceBy=ey,H.differenceWith=ty,H.drop=function ny(d,g,C){var T=null==d?0:d.length;return T?Qi(d,(g=C||g===B?1:kt(g))<0?0:g,T):[]},H.dropRight=function ry(d,g,C){var T=null==d?0:d.length;return T?Qi(d,0,(g=T-(g=C||g===B?1:kt(g)))<0?0:g):[]},H.dropRightWhile=function ul(d,g){return d&&d.length?tc(d,Vt(g,3),!0,!0):[]},H.dropWhile=function fv(d,g){return d&&d.length?tc(d,Vt(g,3),!0):[]},H.fill=function hv(d,g,C,T){var F=null==d?0:d.length;return F?(C&&"number"!=typeof C&&Xn(d,g,C)&&(C=0,T=F),function Ym(d,g,C,T){var F=d.length;for((C=kt(C))<0&&(C=-C>F?0:F+C),(T=T===B||T>F?F:kt(T))<0&&(T+=F),T=C>T?0:zi(T);C<T;)d[C++]=g;return d}(d,g,C,T)):[]},H.filter=function hc(d,g){return(Ae(d)?Dn:Uf)(d,Vt(g,3))},H.flatMap=function Bd(d,g){return Xr(f(d,g),1)},H.flatMapDeep=function gh(d,g){return Xr(f(d,g),xt)},H.flatMapDepth=function Lo(d,g,C){return C=C===B?1:kt(C),Xr(f(d,g),C)},H.flatten=Ia,H.flattenDeep=function Qr(d){return null!=d&&d.length?Xr(d,xt):[]},H.flattenDepth=function Fo(d,g){return null!=d&&d.length?Xr(d,g=g===B?1:kt(g)):[]},H.flip=function X(d){return ko(d,512)},H.flow=ta,H.flowRight=Xp,H.fromPairs=function Ta(d){for(var g=-1,C=null==d?0:d.length,T={};++g<C;){var F=d[g];T[F[0]]=F[1]}return T},H.functions=function Ev(d){return null==d?[]:fd(d,Ii(d))},H.functionsIn=function $d(d){return null==d?[]:fd(d,no(d))},H.groupBy=a,H.initial=function lc(d){return null!=d&&d.length?Qi(d,0,-1):[]},H.intersection=pv,H.intersectionBy=iy,H.intersectionWith=gv,H.invert=ow,H.invertBy=aw,H.invokeMap=s,H.iteratee=kv,H.keyBy=l,H.keys=Ii,H.keysIn=no,H.map=f,H.mapKeys=function vu(d,g){var C={};return g=Vt(g,3),No(d,function(T,F,j){Xi(C,g(T,F,j),T)}),C},H.mapValues=function bh(d,g){var C={};return g=Vt(g,3),No(d,function(T,F,j){Xi(C,F,g(T,F,j))}),C},H.matches=function Ew(d){return $i(Bi(d,1))},H.matchesProperty=function xy(d,g){return gp(d,Bi(g,1))},H.memoize=G,H.merge=hy,H.mergeWith=_v,H.method=Ud,H.methodOf=_w,H.mixin=Ov,H.negate=te,H.nthArg=function Qp(d){return d=kt(d),Pt(function(g){return Fr(g,d)})},H.omit=py,H.omitBy=function AC(d,g){return uw(d,te(Vt(g)))},H.once=function Z(d){return O(2,d)},H.orderBy=function h(d,g,C,T){return null==d?[]:(Ae(g)||(g=null==g?[]:[g]),Ae(C=T?B:C)||(C=null==C?[]:[C]),qf(d,g,C))},H.over=xw,H.overArgs=ue,H.overEvery=My,H.overSome=yc,H.partial=ne,H.partialRight=ee,H.partition=p,H.pick=RC,H.pickBy=uw,H.property=Mw,H.propertyOf=function FC(d){return function(g){return null==d?B:qa(d,g)}},H.pull=ay,H.pullAll=lh,H.pullAllBy=function Tp(d,g,C){return d&&d.length&&g&&g.length?Xl(d,g,Vt(C,2)):d},H.pullAllWith=function vi(d,g,C){return d&&d.length&&g&&g.length?Xl(d,g,B,C):d},H.pullAt=Ap,H.range=Iy,H.rangeRight=Iw,H.rearg=he,H.reject=function y(d,g){return(Ae(d)?Dn:Uf)(d,te(Vt(g,3)))},H.remove=function vv(d,g){var C=[];if(!d||!d.length)return C;var T=-1,F=[],j=d.length;for(g=Vt(g,3);++T<j;){var J=d[T];g(J,T,d)&&(C.push(J),F.push(T))}return Wf(d,F),C},H.rest=function ve(d,g){if("function"!=typeof d)throw new Ei(Te);return Pt(d,g=g===B?g:kt(g))},H.reverse=Ad,H.sampleSize=function E(d,g,C){return g=(C?Xn(d,g,C):g===B)?1:kt(g),(Ae(d)?Bf:vp)(d,g)},H.set=function xv(d,g,C){return null==d?d:vd(d,g,C)},H.setWith=function NC(d,g,C,T){return T="function"==typeof T?T:B,null==d?d:vd(d,g,C,T)},H.shuffle=function S(d){return(Ae(d)?Vf:md)(d)},H.slice=function Rp(d,g,C){var T=null==d?0:d.length;return T?(C&&"number"!=typeof C&&Xn(d,g,C)?(g=0,C=T):(g=null==g?0:kt(g),C=C===B?T:kt(C)),Qi(d,g,C)):[]},H.sortBy=R,H.sortedUniq=function yv(d){return d&&d.length?Yu(d):[]},H.sortedUniqBy=function Pp(d,g){return d&&d.length?Yu(d,Vt(g,2)):[]},H.split=function Dy(d,g,C){return C&&"number"!=typeof C&&Xn(d,g,C)&&(g=C=B),(C=C===B?so:C>>>0)?(d=Pn(d))&&("string"==typeof g||null!=g&&!mi(g))&&!(g=Ji(g))&&ha(d)?Zo(po(d),0,C):d.split(g,C):[]},H.spread=function Se(d,g){if("function"!=typeof d)throw new Ei(Te);return g=null==g?0:Er(kt(g),0),Pt(function(C){var T=C[g],F=Zo(C,0,g);return T&&zo(F,T),Pi(d,this,F)})},H.tail=function dh(d){var g=null==d?0:d.length;return g?Qi(d,1,g):[]},H.take=function Pd(d,g,C){return d&&d.length?Qi(d,0,(g=C||g===B?1:kt(g))<0?0:g):[]},H.takeRight=function kp(d,g,C){var T=null==d?0:d.length;return T?Qi(d,(g=T-(g=C||g===B?1:kt(g)))<0?0:g,T):[]},H.takeRightWhile=function fh(d,g){return d&&d.length?tc(d,Vt(g,3),!1,!0):[]},H.takeWhile=function es(d,g){return d&&d.length?tc(d,Vt(g,3)):[]},H.tap=function Bp(d,g){return g(d),d},H.throttle=function fe(d,g,C){var T=!0,F=!0;if("function"!=typeof d)throw new Ei(Te);return at(C)&&(T="leading"in C?!!C.leading:T,F="trailing"in C?!!C.trailing:F),W(d,g,{leading:T,maxWait:g,trailing:F})},H.thru=fc,H.toArray=Rs,H.toPairs=lw,H.toPairsIn=Mv,H.toPath=function zd(d){return Ae(d)?fn(d,gi):Qn(d)?[d]:Mi(Ma(Pn(d)))},H.toPlainObject=Jo,H.transform=function cw(d,g,C){var T=Ae(d),F=T||Ct(d)||to(d);if(g=Vt(g,4),null==C){var j=d&&d.constructor;C=F?T?new j:[]:at(d)&&xe(j)?Kr(_i(d)):{}}return(F?zn:No)(d,function(J,re,le){return g(C,J,re,le)}),C},H.unary=function Ee(d){return k(d,1)},H.union=cu,H.unionBy=du,H.unionWith=fu,H.uniq=function sy(d){return d&&d.length?Le(d):[]},H.uniqBy=function hu(d,g){return d&&d.length?Le(d,Vt(g,2)):[]},H.uniqWith=function Op(d,g){return g="function"==typeof g?g:B,d&&d.length?Le(d,B,g):[]},H.unset=function dw(d,g){return null==d||_n(d,g)},H.unzip=eo,H.unzipWith=Fp,H.update=function fw(d,g,C){return null==d?d:ec(d,g,ru(C))},H.updateWith=function hw(d,g,C,T){return T="function"==typeof T?T:B,null==d?d:ec(d,g,ru(C),T)},H.values=mc,H.valuesIn=function qp(d){return null==d?[]:Qc(d,no(d))},H.without=Ts,H.words=dl,H.wrap=function Ne(d,g){return ne(ru(g),d)},H.xor=Lp,H.xorBy=cc,H.xorWith=kd,H.zip=hh,H.zipObject=function ph(d,g){return Xu(d||[],g||[],Da)},H.zipObjectDeep=function dc(d,g){return Xu(d||[],g||[],vd)},H.zipWith=cl,H.entries=lw,H.entriesIn=Mv,H.extend=yh,H.extendWith=pc,Ov(H,H),H.add=Vv,H.attempt=Sy,H.camelCase=Hd,H.capitalize=gy,H.ceil=Sh,H.clamp=function pw(d,g,C){return C===B&&(C=g,g=B),C!==B&&(C=(C=yi(C))==C?C:0),g!==B&&(g=(g=yi(g))==g?g:0),ms(yi(d),g,C)},H.clone=function ke(d){return Bi(d,4)},H.cloneDeep=function pe(d){return Bi(d,5)},H.cloneDeepWith=function ze(d,g){return Bi(d,5,g="function"==typeof g?g:B)},H.cloneWith=function Oe(d,g){return Bi(d,4,g="function"==typeof g?g:B)},H.conformsTo=function Ge(d,g){return null==g||Xs(d,g,Ii(g))},H.deburr=vy,H.defaultTo=function Yp(d,g){return null==d||d!=d?g:d},H.divide=eg,H.endsWith=function my(d,g,C){d=Pn(d),g=Ji(g);var T=d.length,F=C=C===B?T:ms(kt(C),0,T);return(C-=g.length)>=0&&d.slice(C,F)==g},H.eq=Fe,H.escape=function yy(d){return(d=Pn(d))&&ff.test(d)?d.replace(df,Qg):d},H.escapeRegExp=function vw(d){return(d=Pn(d))&&pf.test(d)?d.replace(ua,"\\$&"):d},H.every=function Vp(d,g,C){var T=Ae(d)?ds:sv;return C&&Xn(d,g,C)&&(g=B),T(d,Vt(g,3))},H.find=Ld,H.findIndex=dr,H.findKey=function Vd(d,g){return Xg(d,Vt(g,3),No)},H.findLast=$p,H.findLastIndex=Ip,H.findLastKey=function zp(d,g){return Xg(d,Vt(g,3),zf)},H.floor=jd,H.forEach=vh,H.forEachRight=ts,H.forIn=function is(d,g){return null==d?d:dd(d,Vt(g,3),no)},H.forInRight=function vc(d,g){return null==d?d:ys(d,Vt(g,3),no)},H.forOwn=function ea(d,g){return d&&No(d,Vt(g,3))},H.forOwnRight=function jp(d,g){return d&&zf(d,Vt(g,3))},H.get=Bo,H.gt=Ye,H.gte=Mt,H.has=function fy(d,g){return null!=d&&Qa(d,g,ws)},H.hasIn=Gp,H.head=ll,H.identity=ro,H.includes=function i(d,g,C,T){d=pt(d)?d:mc(d),C=C&&!T?kt(C):0;var F=d.length;return C<0&&(C=Er(F+C,0)),Ui(d)?C<=F&&d.indexOf(g,C)>-1:!!F&&Vu(d,g,C)>-1},H.indexOf=function Td(d,g,C){var T=null==d?0:d.length;if(!T)return-1;var F=null==C?0:kt(C);return F<0&&(F=Er(T+F,0)),Vu(d,g,F)},H.inRange=function Iv(d,g,C){return g=Ir(g),C===B?(C=g,g=0):C=Ir(C),function dp(d,g,C){return d>=Yt(g,C)&&d<Er(g,C)}(d=yi(d),g,C)},H.invoke=sw,H.isArguments=Lt,H.isArray=Ae,H.isArrayBuffer=et,H.isArrayLike=pt,H.isArrayLikeObject=it,H.isBoolean=function Dt(d){return!0===d||!1===d||ye(d)&&Vi(d)==nn},H.isBuffer=Ct,H.isDate=mn,H.isElement=function un(d){return ye(d)&&1===d.nodeType&&!Sr(d)},H.isEmpty=function $t(d){if(null==d)return!0;if(pt(d)&&(Ae(d)||"string"==typeof d||"function"==typeof d.splice||Ct(d)||to(d)||Lt(d)))return!d.length;var g=$r(d);if(g==uo||g==Uo)return!d.size;if(au(d))return!Lr(d).length;for(var C in d)if(jn.call(d,C))return!1;return!0},H.isEqual=function ln(d,g){return Zl(d,g)},H.isEqualWith=function me(d,g,C){var T=(C="function"==typeof C?C:B)?C(d,g):B;return T===B?Zl(d,g,B,C):!!T},H.isError=z,H.isFinite=function ge(d){return"number"==typeof d&&Fi(d)},H.isFunction=xe,H.isInteger=Ce,H.isLength=_e,H.isMap=bt,H.isMatch=function rn(d,g){return d===g||gd(d,g,ol(g))},H.isMatchWith=function Sn(d,g,C){return C="function"==typeof C?C:B,gd(d,g,ol(g),C)},H.isNaN=function zt(d){return wr(d)&&d!=+d},H.isNative=function In(d){if(ih(d))throw new Xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return hp(d)},H.isNil=function Jt(d){return null==d},H.isNull=function Wt(d){return null===d},H.isNumber=wr,H.isObject=at,H.isObjectLike=ye,H.isPlainObject=Sr,H.isRegExp=mi,H.isSafeInteger=function Qo(d){return Ce(d)&&d>=-Pa&&d<=Pa},H.isSet=Jr,H.isString=Ui,H.isSymbol=Qn,H.isTypedArray=to,H.isUndefined=function ns(d){return d===B},H.isWeakMap=function pu(d){return ye(d)&&$r(d)==$s},H.isWeakSet=function Aa(d){return ye(d)&&"[object WeakSet]"==Vi(d)},H.join=function oy(d,g){return null==d?"":Uu.call(d,g)},H.kebabCase=mw,H.last=yr,H.lastIndexOf=function uh(d,g,C){var T=null==d?0:d.length;if(!T)return-1;var F=T;return C!==B&&(F=(F=kt(C))<0?Er(T+F,0):Yt(F,T-1)),g==g?function hs(se,Re,be){for(var ut=be+1;ut--;)if(se[ut]===Re)return ut;return ut}(d,g,F):_f(d,Ol,F,!0)},H.lowerCase=yw,H.lowerFirst=ww,H.lt=As,H.lte=rs,H.max=function $v(d){return d&&d.length?Wl(d,ro,Gu):B},H.maxBy=function Hv(d,g){return d&&d.length?Wl(d,Vt(g,2),Gu):B},H.mean=function tg(d){return da(d,ro)},H.meanBy=function LC(d,g){return da(d,Vt(g,2))},H.min=function Uv(d){return d&&d.length?Wl(d,ro,eu):B},H.minBy=function xh(d,g){return d&&d.length?Wl(d,Vt(g,2),eu):B},H.stubArray=Ty,H.stubFalse=Ay,H.stubObject=function Jp(){return{}},H.stubString=function Tw(){return""},H.stubTrue=function Fv(){return!0},H.multiply=Aw,H.nth=function lu(d,g){return d&&d.length?Fr(d,kt(g)):B},H.noConflict=function Sw(){return li._===this&&(li._=qt),this},H.noop=_h,H.now=A,H.pad=function wy(d,g,C){d=Pn(d);var T=(g=kt(g))?Ua(d):0;if(!g||T>=g)return d;var F=(g-T)/2;return Dd(Zr(F),C)+d+Dd(za(F),C)},H.padEnd=function PC(d,g,C){d=Pn(d);var T=(g=kt(g))?Ua(d):0;return g&&T<g?d+Dd(g-T,C):d},H.padStart=function kC(d,g,C){d=Pn(d);var T=(g=kt(g))?Ua(d):0;return g&&T<g?Dd(g-T,C)+d:d},H.parseInt=function Dh(d,g,C){return C||null==g?g=0:g&&(g=+g),mr(Pn(d).replace(zc,""),g||0)},H.random=function gw(d,g,C){if(C&&"boolean"!=typeof C&&Xn(d,g,C)&&(g=C=B),C===B&&("boolean"==typeof g?(C=g,g=B):"boolean"==typeof d&&(C=d,d=B)),d===B&&g===B?(d=0,g=1):(d=Ir(d),g===B?(g=d,d=0):g=Ir(g)),d>g){var T=d;d=g,g=T}if(C||d%1||g%1){var F=gn();return Yt(d+F*(g-d+Jh("1e-"+((F+"").length-1))),g)}return Ql(d,g)},H.reduce=function m(d,g,C){var T=Ae(d)?Bu:np,F=arguments.length<3;return T(d,Vt(g,4),C,F,Qs)},H.reduceRight=function b(d,g,C){var T=Ae(d)?Gs:np,F=arguments.length<3;return T(d,Vt(g,4),C,F,av)},H.repeat=function mt(d,g,C){return g=(C?Xn(d,g,C):g===B)?1:kt(g),Jl(Pn(d),g)},H.replace=function Ch(){var d=arguments,g=Pn(d[0]);return d.length<3?g:g.replace(d[1],d[2])},H.result=function Sv(d,g,C){var T=-1,F=(g=Do(g,d)).length;for(F||(F=1,d=B);++T<F;){var j=null==d?B:d[gi(g[T])];j===B&&(T=F,j=C),d=xe(j)?j.call(d):j}return d},H.round=Ry,H.runInContext=se,H.sample=function D(d){return(Ae(d)?yo:ht)(d)},H.size=function M(d){if(null==d)return 0;if(pt(d))return Ui(d)?Ua(d):d.length;var g=$r(d);return g==uo||g==Uo?d.size:Lr(d).length},H.snakeCase=by,H.some=function x(d,g,C){var T=Ae(d)?kl:tu;return C&&Xn(d,g,C)&&(g=B),T(d,Vt(g,3))},H.sortedIndex=function ch(d,g){return Za(d,g)},H.sortedIndexBy=function Rd(d,g,C){return Kf(d,g,Vt(C,2))},H.sortedIndexOf=function Np(d,g){var C=null==d?0:d.length;if(C){var T=Za(d,g);if(T<C&&Fe(d[T],g))return T}return-1},H.sortedLastIndex=function Nd(d,g){return Za(d,g,!0)},H.sortedLastIndexBy=function mv(d,g,C){return Kf(d,g,Vt(C,2),!0)},H.sortedLastIndexOf=function Eo(d,g){if(null!=d&&d.length){var T=Za(d,g,!0)-1;if(Fe(d[T],g))return T}return-1},H.startCase=Tv,H.startsWith=function Av(d,g,C){return d=Pn(d),C=null==C?0:ms(kt(C),0,d.length),g=Ji(g),d.slice(C,C+g.length)==g},H.subtract=Rw,H.sum=function Nw(d){return d&&d.length?fs(d,ro):0},H.sumBy=function zv(d,g){return d&&d.length?fs(d,Vt(g,2)):0},H.template=function bw(d,g,C){var T=H.templateSettings;C&&Xn(d,g,C)&&(g=B),d=Pn(d),g=pc({},g,T,Ed);var re,le,F=pc({},g.imports,T.imports,Ed),j=Ii(F),J=Qc(F,j),$e=0,He=g.interpolate||jc,We="__p += '",dt=Tf((g.escape||jc).source+"|"+He.source+"|"+(He===hf?vf:jc).source+"|"+(g.evaluate||jc).source+"|$","g"),It="//# sourceURL="+(jn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gm+"]")+"\n";d.replace(dt,function(Gt,yn,kn,Ti,fr,na){return kn||(kn=Ti),We+=d.slice($e,na).replace(Gc,Jg),yn&&(re=!0,We+="' +\n__e("+yn+") +\n'"),fr&&(le=!0,We+="';\n"+fr+";\n__p += '"),kn&&(We+="' +\n((__t = ("+kn+")) == null ? '' : __t) +\n'"),$e=na+Gt.length,Gt}),We+="';\n";var jt=jn.call(g,"variable")&&g.variable;if(jt){if(_l.test(jt))throw new Xt("Invalid `variable` option passed into `_.template`")}else We="with (obj) {\n"+We+"\n}\n";We=(le?We.replace(jg,""):We).replace($c,"$1").replace(Oa,"$1;"),We="function("+(jt||"obj")+") {\n"+(jt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(re?", __e = _.escape":"")+(le?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+We+"return __p\n}";var En=Sy(function(){return Ln(j,It+"return "+We).apply(B,J)});if(En.source=We,z(En))throw En;return En},H.times=function Lv(d,g){if((d=kt(d))<1||d>Pa)return[];var C=so,T=Yt(d,so);g=Vt(g),d-=so;for(var F=xf(T,g);++C<d;)g(C);return F},H.toFinite=Ir,H.toInteger=kt,H.toLength=zi,H.toLower=function Cy(d){return Pn(d).toLowerCase()},H.toNumber=yi,H.toSafeInteger=function gu(d){return d?ms(kt(d),-Pa,Pa):0===d?d:0},H.toString=Pn,H.toUpper=function Ey(d){return Pn(d).toUpperCase()},H.trim=function Wp(d,g,C){if((d=Pn(d))&&(C||g===B))return ip(d);if(!d||!(g=Ji(g)))return d;var T=po(d),F=po(g);return Zo(T,Ll(T,F),Jc(T,F)+1).join("")},H.trimEnd=function OC(d,g,C){if((d=Pn(d))&&(C||g===B))return d.slice(0,Vl(d)+1);if(!d||!(g=Ji(g)))return d;var T=po(d);return Zo(T,0,Jc(T,po(g))+1).join("")},H.trimStart=function Rv(d,g,C){if((d=Pn(d))&&(C||g===B))return d.replace(zc,"");if(!d||!(g=Ji(g)))return d;var T=po(d);return Zo(T,Ll(T,po(g))).join("")},H.truncate=function Dw(d,g){var C=30,T="...";if(at(g)){var F="separator"in g?g.separator:F;C="length"in g?kt(g.length):C,T="omission"in g?Ji(g.omission):T}var j=(d=Pn(d)).length;if(ha(d)){var J=po(d);j=J.length}if(C>=j)return d;var re=C-Ua(T);if(re<1)return T;var le=J?Zo(J,0,re).join(""):d.slice(0,re);if(F===B)return le+T;if(J&&(re+=le.length-re),mi(F)){if(d.slice(re).search(F)){var $e,He=le;for(F.global||(F=Tf(F.source,Pn(Vn.exec(F))+"g")),F.lastIndex=0;$e=F.exec(He);)var We=$e.index;le=le.slice(0,We===B?re:We)}}else if(d.indexOf(Ji(F),re)!=re){var dt=le.lastIndexOf(F);dt>-1&&(le=le.slice(0,dt))}return le+T},H.unescape=function Nv(d){return(d=Pn(d))&&Hc.test(d)?d.replace(Hs,sp):d},H.uniqueId=function Bv(d){var g=++tv;return Pn(d)+g},H.upperCase=_y,H.upperFirst=Zp,H.each=vh,H.eachRight=ts,H.first=ll,Ov(H,function(){var d={};return No(H,function(g,C){jn.call(H.prototype,C)||(d[C]=g)}),d}(),{chain:!1}),H.VERSION="4.17.21",zn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){H[d].placeholder=H}),zn(["drop","take"],function(d,g){on.prototype[d]=function(C){C=C===B?1:Er(kt(C),0);var T=this.__filtered__&&!g?new on(this):this.clone();return T.__filtered__?T.__takeCount__=Yt(C,T.__takeCount__):T.__views__.push({size:Yt(C,so),type:d+(T.__dir__<0?"Right":"")}),T},on.prototype[d+"Right"]=function(C){return this.reverse()[d](C).reverse()}}),zn(["filter","map","takeWhile"],function(d,g){var C=g+1,T=1==C||3==C;on.prototype[d]=function(F){var j=this.clone();return j.__iteratees__.push({iteratee:Vt(F,3),type:C}),j.__filtered__=j.__filtered__||T,j}}),zn(["head","last"],function(d,g){var C="take"+(g?"Right":"");on.prototype[d]=function(){return this[C](1).value()[0]}}),zn(["initial","tail"],function(d,g){var C="drop"+(g?"":"Right");on.prototype[d]=function(){return this.__filtered__?new on(this):this[C](1)}}),on.prototype.compact=function(){return this.filter(ro)},on.prototype.find=function(d){return this.filter(d).head()},on.prototype.findLast=function(d){return this.reverse().find(d)},on.prototype.invokeMap=Pt(function(d,g){return"function"==typeof d?new on(this):this.map(function(C){return Js(C,d,g)})}),on.prototype.reject=function(d){return this.filter(te(Vt(d)))},on.prototype.slice=function(d,g){d=kt(d);var C=this;return C.__filtered__&&(d>0||g<0)?new on(C):(d<0?C=C.takeRight(-d):d&&(C=C.drop(d)),g!==B&&(C=(g=kt(g))<0?C.dropRight(-g):C.take(g-d)),C)},on.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},on.prototype.toArray=function(){return this.take(so)},No(on.prototype,function(d,g){var C=/^(?:filter|find|map|reject)|While$/.test(g),T=/^(?:head|last)$/.test(g),F=H[T?"take"+("last"==g?"Right":""):g],j=T||/^find/.test(g);F&&(H.prototype[g]=function(){var J=this.__wrapped__,re=T?[1]:arguments,le=J instanceof on,$e=re[0],He=le||Ae(J),We=function(yn){var kn=F.apply(H,zo([yn],re));return T&&dt?kn[0]:kn};He&&C&&"function"==typeof $e&&1!=$e.length&&(le=He=!1);var dt=this.__chain__,jt=j&&!dt,En=le&&!this.__actions__.length;if(!j&&He){J=En?J:new on(this);var Gt=d.apply(J,re);return Gt.__actions__.push({func:fc,args:[We],thisArg:B}),new vn(Gt,dt)}return jt&&En?d.apply(this,re):(Gt=this.thru(We),jt?T?Gt.value()[0]:Gt.value():Gt)})}),zn(["pop","push","shift","sort","splice","unshift"],function(d){var g=td[d],C=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",T=/^(?:pop|shift)$/.test(d);H.prototype[d]=function(){var F=arguments;if(T&&!this.__chain__){var j=this.value();return g.apply(Ae(j)?j:[],F)}return this[C](function(J){return g.apply(Ae(J)?J:[],F)})}}),No(on.prototype,function(d,g){var C=H[g];if(C){var T=C.name+"";jn.call(tn,T)||(tn[T]=[]),tn[T].push({name:g,func:C})}}),tn[ar(B,2).name]=[{name:"wrapper",func:B}],on.prototype.clone=function ad(){var d=new on(this.__wrapped__);return d.__actions__=Mi(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Mi(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Mi(this.__views__),d},on.prototype.reverse=function qo(){if(this.__filtered__){var d=new on(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},on.prototype.value=function ya(){var d=this.__wrapped__.value(),g=this.__dir__,C=Ae(d),T=g<0,F=C?d.length:0,j=function cv(d,g,C){for(var T=-1,F=C.length;++T<F;){var j=C[T],J=j.size;switch(j.type){case"drop":d+=J;break;case"dropRight":g-=J;break;case"take":g=Yt(g,d+J);break;case"takeRight":d=Er(d,g-J)}}return{start:d,end:g}}(0,F,this.__views__),J=j.start,re=j.end,le=re-J,$e=T?re:J-1,He=this.__iteratees__,We=He.length,dt=0,It=Yt(le,this.__takeCount__);if(!C||!T&&F==le&&It==le)return Br(d,this.__actions__);var jt=[];e:for(;le--&&dt<It;){for(var En=-1,Gt=d[$e+=g];++En<We;){var yn=He[En],Ti=yn.type,fr=(0,yn.iteratee)(Gt);if(2==Ti)Gt=fr;else if(!fr){if(1==Ti)continue e;break e}}jt[dt++]=Gt}return jt},H.prototype.at=Od,H.prototype.chain=function uy(){return wv(this)},H.prototype.commit=function $n(){return new vn(this.value(),this.__chain__)},H.prototype.next=function Fd(){this.__values__===B&&(this.__values__=Rs(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?B:this.__values__[this.__index__++]}},H.prototype.plant=function cy(d){for(var g,C=this;C instanceof pn;){var T=uu(C);T.__index__=0,T.__values__=B,g?F.__wrapped__=T:g=T;var F=T;C=C.__wrapped__}return F.__wrapped__=d,g},H.prototype.reverse=function dy(){var d=this.__wrapped__;if(d instanceof on){var g=d;return this.__actions__.length&&(g=new on(this)),(g=g.reverse()).__actions__.push({func:fc,args:[Ad],thisArg:B}),new vn(g,this.__chain__)}return this.thru(Ad)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function bv(){return Br(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,Hu&&(H.prototype[Hu]=function ly(){return this}),H}();li._=ed,(ce=function(){return ed}.call(Xe,oe,Xe,we))!==B&&(we.exports=ce)}.call(this)},7659:(we,Xe,oe)=>{var ce=oe(1811);function Ie(Me,Ue){if("function"!=typeof Me||null!=Ue&&"function"!=typeof Ue)throw new TypeError("Expected a function");var Te=function(){var nt=arguments,vt=Ue?Ue.apply(this,nt):nt[0],wt=Te.cache;if(wt.has(vt))return wt.get(vt);var _t=Me.apply(this,nt);return Te.cache=wt.set(vt,_t)||wt,_t};return Te.cache=new(Ie.Cache||ce),Te}Ie.Cache=ce,we.exports=Ie},5533:(we,Xe,oe)=>{var ce=oe(8492);we.exports=function(){return ce.Date.now()}},7939:(we,Xe,oe)=>{var ce=oe(9478);we.exports=function B(Ie,Me,Ue){return null==Ie?Ie:ce(Ie,Me,Ue)}},4282:(we,Xe,oe)=>{var ce=oe(9484),B=oe(9794),Ie=oe(3423),Ue=/^[-+]0x[0-9a-f]+$/i,Te=/^0b[01]+$/i,nt=/^0o[0-7]+$/i,vt=parseInt;we.exports=function wt(_t){if("number"==typeof _t)return _t;if(Ie(_t))return NaN;if(B(_t)){var On="function"==typeof _t.valueOf?_t.valueOf():_t;_t=B(On)?On+"":On}if("string"!=typeof _t)return 0===_t?_t:+_t;_t=ce(_t);var cn=Te.test(_t);return cn||nt.test(_t)?vt(_t.slice(2),cn?2:8):Ue.test(_t)?NaN:+_t}},9078:(we,Xe,oe)=>{var ce=oe(3880),B=oe(4231),Ie=oe(2261),Me=oe(3423),Ue=oe(163),Te=oe(8916),nt=oe(2674);we.exports=function vt(wt){return Ie(wt)?ce(wt,Te):Me(wt)?[wt]:B(Ue(nt(wt)))}},2674:(we,Xe,oe)=>{var ce=oe(7002);we.exports=function B(Ie){return null==Ie?"":ce(Ie)}}},we=>{we(we.s=2243)}]);