(self.webpackChunkpathway_browser=self.webpackChunkpathway_browser||[]).push([[179],{9745:(De,ot,le)=>{"use strict";function ce(e){return"function"==typeof e}function V(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Fe=V(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Pe(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ze{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ce(r))try{r()}catch(s){t=s instanceof Fe?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{St(s)}catch(u){t=t??[],u instanceof Fe?t=[...t,...u.errors]:t.push(u)}}if(t)throw new Fe(t)}}add(t){var n;if(t&&t!==this)if(this.closed)St(t);else{if(t instanceof ze){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Pe(n,t)}remove(t){const{_finalizers:n}=this;n&&Pe(n,t),t instanceof ze&&t._removeParent(this)}}ze.EMPTY=(()=>{const e=new ze;return e.closed=!0,e})();const Le=ze.EMPTY;function ct(e){return e instanceof ze||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function St(e){ce(e)?e():e.unsubscribe()}const Tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kt={setTimeout(e,t,...n){const{delegate:r}=kt;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=kt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function qn(e){kt.setTimeout(()=>{const{onUnhandledError:t}=Tt;if(!t)throw e;t(e)})}function vn(){}const Fr=Vn("C",void 0,void 0);function Vn(e,t,n){return{kind:e,value:t,error:n}}let yn=null;function Xe(e){if(Tt.useDeprecatedSynchronousErrorHandling){const t=!yn;if(t&&(yn={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=yn;if(yn=null,n)throw r}}else e()}class Et extends ze{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ct(t)&&t.add(this)):this.destination=Do}static create(t,n,r){return new Tn(t,n,r)}next(t){this.isStopped?$o(function Qn(e){return Vn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$o(function wr(e){return Vn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$o(Fr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pt=Function.prototype.bind;function $n(e,t){return Pt.call(e,t)}class zt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){pr(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){pr(r)}else pr(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){pr(n)}}}class Tn extends Et{constructor(t,n,r){let i;if(super(),ce(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Tt.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&$n(t.next,s),error:t.error&&$n(t.error,s),complete:t.complete&&$n(t.complete,s)}):i=t}this.destination=new zt(i)}}function pr(e){Tt.useDeprecatedSynchronousErrorHandling?function dt(e){Tt.useDeprecatedSynchronousErrorHandling&&yn&&(yn.errorThrown=!0,yn.error=e)}(e):qn(e)}function $o(e,t){const{onStoppedNotification:n}=Tt;n&&kt.setTimeout(()=>n(e,t))}const Do={closed:!0,next:vn,error:function qi(e){throw e},complete:vn},Hr="function"==typeof Symbol&&Symbol.observable||"@@observable";function st(e){return e}function Fn(e){return 0===e.length?st:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Mt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function sd(e){return e&&e instanceof Et||function ht(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}(e)&&ct(e)}(n)?n:new Tn(n,r,i);return Xe(()=>{const{operator:u,source:p}=this;s.add(u?u.call(s,p):p?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Zs(r))((i,s)=>{const u=new Tn({next:p=>{try{n(p)}catch(m){s(m),u.unsubscribe()}},error:s,complete:i});this.subscribe(u)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Hr](){return this}pipe(...n){return Fn(n)(this)}toPromise(n){return new(n=Zs(n))((r,i)=>{let s;this.subscribe(u=>s=u,u=>i(u),()=>r(s))})}}return e.create=t=>new e(t),e})();function Zs(e){var t;return null!==(t=e??Tt.Promise)&&void 0!==t?t:Promise}const Co=V(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Kt=(()=>{class e extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Co}next(n){Xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Le:(this.currentObservers=null,s.push(n),new ze(()=>{this.currentObservers=null,Pe(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Mt;return n.source=this,n}}return e.create=(t,n)=>new tu(t,n),e})();class tu extends Kt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Le}}function Vf(e){return ce(e?.lift)}function lr(e){return t=>{if(Vf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gr(e,t,n,r,i){return new Pm(e,t,n,r,i)}class Pm extends Et{constructor(t,n,r,i,s,u){super(t),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=n?function(p){try{n(p)}catch(m){t.error(m)}}:super._next,this._error=i?function(p){try{i(p)}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function nn(e,t){return lr((n,r)=>{let i=0;n.subscribe(gr(r,s=>{r.next(e.call(t,s,i++))}))})}function Ds(e){return this instanceof Ds?(this.v=e,this):new Ds(e)}function cd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function $f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(u){return new Promise(function(p,m){!function i(s,u,p,m){Promise.resolve(m).then(function(w){s({value:w,done:p})},u)}(p,m,(u=e[s](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const md=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function su(e){return ce(e?.then)}function au(e){return ce(e[Hr])}function jf(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function Xs(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ap=function vd(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Cs(e){return ce(e?.[Ap])}function Gf(e){return function ud(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(N){r[N]&&(i[N]=function(U){return new Promise(function(J,re){s.push([N,U,J,re])>1||p(N,U)})})}function p(N,U){try{!function m(N){N.value instanceof Ds?Promise.resolve(N.value.v).then(w,x):I(s[0][2],N)}(r[N](U))}catch(J){I(s[0][3],J)}}function w(N){p("next",N)}function x(N){p("throw",N)}function I(N,U){N(U),s.shift(),s.length&&p(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Ds(n.read());if(i)return yield Ds(void 0);yield yield Ds(r)}}finally{n.releaseLock()}})}function yd(e){return ce(e?.getReader)}function Fi(e){if(e instanceof Mt)return e;if(null!=e){if(au(e))return function Vm(e){return new Mt(t=>{const n=e[Hr]();if(ce(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(md(e))return function $m(e){return new Mt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(su(e))return function qf(e){return new Mt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,qn)})}(e);if(jf(e))return Ju(e);if(Cs(e))return function Rp(e){return new Mt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(yd(e))return function kp(e){return Ju(Gf(e))}(e)}throw Xs(e)}function Ju(e){return new Mt(t=>{(function Wf(e,t){var n,r,i,s;return function iu(e,t,n,r){return new(n||(n=Promise))(function(s,u){function p(x){try{w(r.next(x))}catch(I){u(I)}}function m(x){try{w(r.throw(x))}catch(I){u(I)}}function w(x){x.done?s(x.value):function i(s){return s instanceof n?s:new n(function(u){u(s)})}(x.value).then(p,m)}w((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=cd(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Xn(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Jt(e,t,n=1/0){return ce(t)?Jt((r,i)=>nn((s,u)=>t(r,s,i,u))(Fi(e(r,i))),n):("number"==typeof t&&(n=t),lr((r,i)=>function Pp(e,t,n,r,i,s,u,p){const m=[];let w=0,x=0,I=!1;const N=()=>{I&&!m.length&&!w&&t.complete()},U=re=>w<r?J(re):m.push(re),J=re=>{s&&t.next(re),w++;let pe=!1;Fi(n(re,x++)).subscribe(gr(t,Ne=>{i?.(Ne),s?U(Ne):t.next(Ne)},()=>{pe=!0},void 0,()=>{if(pe)try{for(w--;m.length&&w<r;){const Ne=m.shift();u?Xn(t,u,()=>J(Ne)):J(Ne)}N()}catch(Ne){t.error(Ne)}}))};return e.subscribe(gr(t,U,()=>{I=!0,N()})),()=>{p?.()}}(r,i,e,n)))}function lu(e=1/0){return Jt(st,e)}const ii=new Mt(e=>e.complete());function ec(e){return e&&ce(e.schedule)}function bd(e){return e[e.length-1]}function Wr(e){return ce(bd(e))?e.pop():void 0}function zo(e){return ec(bd(e))?e.pop():void 0}function Np(e,t=0){return lr((n,r)=>{n.subscribe(gr(r,i=>Xn(r,e,()=>r.next(i),t),()=>Xn(r,e,()=>r.complete(),t),i=>Xn(r,e,()=>r.error(i),t)))})}function So(e,t=0){return lr((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Lp(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mt(n=>{Xn(n,t,()=>{const r=e[Symbol.asyncIterator]();Xn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Kr(e,t){return t?function tc(e,t){if(null!=e){if(au(e))return function Js(e,t){return Fi(e).pipe(So(t),Np(t))}(e,t);if(md(e))return function xs(e,t){return new Mt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(su(e))return function Fp(e,t){return Fi(e).pipe(So(t),Np(t))}(e,t);if(jf(e))return Lp(e,t);if(Cs(e))return function zm(e,t){return new Mt(n=>{let r;return Xn(n,t,()=>{r=e[Ap](),Xn(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(u){return void n.error(u)}s?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}(e,t);if(yd(e))return function uu(e,t){return Lp(Gf(e),t)}(e,t)}throw Xs(e)}(e,t):Fi(e)}function ea(...e){const t=zo(e),n=function Kf(e,t){return"number"==typeof bd(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Fi(r[0]):lu(n)(Kr(r,t)):ii}class Wi extends Kt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function jt(...e){return Kr(e,zo(e))}function Zf(e={}){const{connector:t=(()=>new Kt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let u,p,m,w=0,x=!1,I=!1;const N=()=>{p?.unsubscribe(),p=void 0},U=()=>{N(),u=m=void 0,x=I=!1},J=()=>{const re=u;U(),re?.unsubscribe()};return lr((re,pe)=>{w++,!I&&!x&&N();const Ne=m=m??t();pe.add(()=>{w--,0===w&&!I&&!x&&(p=cu(J,i))}),Ne.subscribe(pe),!u&&w>0&&(u=new Tn({next:ve=>Ne.next(ve),error:ve=>{I=!0,N(),p=cu(U,n,ve),Ne.error(ve)},complete:()=>{x=!0,N(),p=cu(U,r),Ne.complete()}}),Fi(re).subscribe(u))})(s)}}function cu(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Tn({next:()=>{r.unsubscribe(),e()}});return Fi(t(...n)).subscribe(r)}function lo(e,t){return lr((n,r)=>{let i=null,s=0,u=!1;const p=()=>u&&!i&&r.complete();n.subscribe(gr(r,m=>{i?.unsubscribe();let w=0;const x=s++;Fi(e(m,x)).subscribe(i=gr(r,I=>r.next(t?t(m,I,x,w++):I),()=>{i=null,p()}))},()=>{u=!0,p()}))})}function Bp(e,t=st){return e=e??Vp,lr((n,r)=>{let i,s=!0;n.subscribe(gr(r,u=>{const p=t(u);(s||!e(i,p))&&(s=!1,i=p,r.next(u))}))})}function Vp(e,t){return e===t}function tr(e){for(let t in e)if(e[t]===tr)return t;throw Error("Could not find renamed property on target object.")}function du(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function oi(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(oi).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function _d(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const nc=tr({__forward_ref__:tr});function nr(e){return e.__forward_ref__=nr,e.toString=function(){return oi(this())},e}function Gt(e){return pl(e)?e():e}function pl(e){return"function"==typeof e&&e.hasOwnProperty(nc)&&e.__forward_ref__===nr}function rc(e){return e&&!!e.\u0275providers}class Te extends Error{constructor(t,n){super(function oc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function rn(e){return"string"==typeof e?e:null==e?"":String(e)}function ta(e,t){throw new Te(-201,!1)}function Ki(e,t){null==e&&function Zt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ct(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pa(e){return Dd(e,mi)||Dd(e,Jf)}function Dd(e,t){return e.hasOwnProperty(t)?e[t]:null}function ac(e){return e&&(e.hasOwnProperty(Uo)||e.hasOwnProperty(lc))?e[Uo]:null}const mi=tr({\u0275prov:tr}),Uo=tr({\u0275inj:tr}),Jf=tr({ngInjectableDef:tr}),lc=tr({ngInjectorDef:tr});var pn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(pn||{});let Zi;function or(e){const t=Zi;return Zi=e,t}function Cd(e,t,n){const r=Pa(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pn.Optional?null:void 0!==t?t:void ta(oi(e))}const In=globalThis,Ss={},dc="__NG_DI_FLAG__",Ms="ngTempTokenPath",fc=/\n/gm,Gp="__source";let Fa;function na(e){const t=Fa;return Fa=e,t}function qp(e,t=pn.Default){if(void 0===Fa)throw new Te(-203,!1);return null===Fa?Cd(e,void 0,t):Fa.get(e,t&pn.Optional?null:void 0,t)}function Ze(e,t=pn.Default){return(function Oa(){return Zi}()||qp)(Gt(e),t)}function at(e,t=pn.Default){return Ze(e,hc(t))}function hc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Md(e){const t=[];for(let n=0;n<e.length;n++){const r=Gt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Te(900,!1);let i,s=pn.Default;for(let u=0;u<r.length;u++){const p=r[u],m=Wp(p);"number"==typeof m?-1===m?i=p.token:s|=m:i=p}t.push(Ze(i,s))}else t.push(Ze(r))}return t}function pc(e,t){return e[dc]=t,e.prototype[dc]=t,e}function Wp(e){return e[dc]}function Ts(e){return{toString:e}.toString()}var Is=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Is||{}),To=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(To||{});const As={},Ln=[],ra=tr({\u0275cmp:tr}),Yi=tr({\u0275dir:tr}),ia=tr({\u0275pipe:tr}),Kp=tr({\u0275mod:tr}),rs=tr({\u0275fac:tr}),La=tr({__NG_ELEMENT_ID__:tr}),oa=tr({__NG_ENV_ID__:tr});function Io(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function gc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],u=n[r++],p=n[r++];e.setAttribute(t,u,p,s)}else{const s=i,u=n[++r];Yp(s)?e.setProperty(t,s,u):e.setAttribute(t,s,u),r++}}return r}function Zp(e){return 3===e||4===e||6===e}function Yp(e){return 64===e.charCodeAt(0)}function mc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||ih(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function ih(e,t,n,r,i){let s=0,u=e.length;if(-1===t)u=-1;else for(;s<e.length;){const p=e[s++];if("number"==typeof p){if(p===t){u=-1;break}if(p>t){u=s-1;break}}}for(;s<e.length;){const p=e[s];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==u&&(e.splice(u,0,t),s=u+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const oh="ng-template";function Td(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const u=e[r++];if(n&&"class"===s&&-1!==Io(u.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ue(e){return 4===e.type&&e.value!==oh}function Ve(e,t,n){return t===(4!==e.type||n?e.value:oh)}function Ce(e,t,n){let r=4;const i=e.attrs||[],s=function mr(e){for(let t=0;t<e.length;t++)if(Zp(e[t]))return t;return e.length}(i);let u=!1;for(let p=0;p<t.length;p++){const m=t[p];if("number"!=typeof m){if(!u)if(4&r){if(r=2|1&r,""!==m&&!Ve(e,m,n)||""===m&&1===t.length){if(gt(r))return!1;u=!0}}else{const w=8&r?m:t[++p];if(8&r&&null!==e.attrs){if(!Td(e.attrs,w,n)){if(gt(r))return!1;u=!0}continue}const I=sn(8&r?"class":m,i,ue(e),n);if(-1===I){if(gt(r))return!1;u=!0;continue}if(""!==w){let N;N=I>s?"":i[I+1].toLowerCase();const U=8&r?N:null;if(U&&-1!==Io(U,w,0)||2&r&&w!==N){if(gt(r))return!1;u=!0}}}}else{if(!u&&!gt(r)&&!gt(m))return!1;if(u&&gt(m))continue;u=!1,r=m|1&r}}return gt(r)||u}function gt(e){return 0==(1&e)}function sn(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const u=t[i];if(u===e)return i;if(3===u||6===u)s=!0;else{if(1===u||2===u){let p=t[++i];for(;"string"==typeof p;)p=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=s?1:2}return-1}return function sh(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Kn(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ce(e,t[r],n))return!0;return!1}function Qp(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Li(e,t){return e?":not("+t.trim()+")":t}function Id(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const p=e[++n];i+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!gt(u)&&(t+=Li(s,i),i=""),r=u,s=s||!gt(r);n++}return""!==i&&(t+=Li(s,i)),t}function sa(e){return Ts(()=>{const t=pu(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Is.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||To.Emulated,styles:e.styles||Ln,_:null,schemas:e.schemas||null,tView:null,id:""};lh(n);const r=e.dependencies;return n.directiveDefs=Ba(r,!1),n.pipeDefs=Ba(r,!0),n.id=function gu(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function sr(e){return An(e)||Rr(e)}function Km(e){return null!==e}function li(e){return Ts(()=>({type:e.type,bootstrap:e.bootstrap||Ln,declarations:e.declarations||Ln,imports:e.imports||Ln,exports:e.exports||Ln,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ah(e,t){if(null==e)return As;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function Ft(e){return Ts(()=>{const t=pu(e);return lh(t),t})}function An(e){return e[ra]||null}function Rr(e){return e[Yi]||null}function vi(e){return e[ia]||null}function Bi(e,t){const n=e[Kp]||null;if(!n&&!0===t)throw new Error(`Type ${oi(e)} does not have '\u0275mod' property.`);return n}function pu(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||As,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ln,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ah(e.inputs,t),outputs:ah(e.outputs)}}function lh(e){e.features?.forEach(t=>t(e))}function Ba(e,t){if(!e)return null;const n=t?vi:sr;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Km)}const ar=0,lt=1,un=2,Mr=3,jo=4,aa=5,ui=6,Ao=7,Lr=8,Xi=9,mu=10,an=11,Br=12,on=13,vu=14,kr=15,En=16,zn=17,mt=18,is=19,kd=20,Ro=21,ko=22,uo=23,Ji=24,cn=25,ch=1,Xp=2,ks=7,Ps=9,yi=11;function ci(e){return Array.isArray(e)&&"object"==typeof e[ch]}function wn(e){return Array.isArray(e)&&!0===e[ch]}function Dn(e){return 0!=(4&e.flags)}function fn(e){return e.componentOffset>-1}function Od(e){return 1==(1&e.flags)}function os(e){return!!e.template}function Os(e){return 0!=(512&e[un])}function Ei(e,t){return e.hasOwnProperty(rs)?e[rs]:null}let di=null,bc=!1;function Po(e){const t=di;return di=e,t}const gh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _c(e){if(!Ec(e)||e.dirty){if(!e.producerMustRecompute(e)&&!ho(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function vh(e){e.dirty=!0,function Ls(e){if(void 0===e.liveConsumerNode)return;const t=bc;bc=!0;try{for(const n of e.liveConsumerNode)n.dirty||vh(n)}finally{bc=t}}(e),e.consumerMarkedDirty?.(e)}function Ld(e){return e&&(e.nextProducerIndex=0),Po(e)}function wl(e,t){if(Po(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ec(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)eo(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ho(e){El(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(_c(n),r!==n.version))return!0}return!1}function wc(e){if(El(e),Ec(e))for(let t=0;t<e.producerNode.length;t++)eo(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function eo(e,t){if(function yh(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),El(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)eo(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];El(i),i.producerIndexOfThis[r]=t}}function Ec(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function El(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let bh=null;const Hd=()=>{},tv=(()=>({...gh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Hd}))();class Eh{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function po(){return Hn}function Hn(e){return e.type.prototype.ngOnChanges&&(e.setInput=eg),Cc}function Cc(){const e=Ud(this),t=e?.current;if(t){const n=e.previous;if(n===As)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function eg(e,t,n,r){const i=this.declaredInputs[n],s=Ud(e)||function tg(e,t){return e[xc]=t}(e,{previous:As,current:null}),u=s.current||(s.current={}),p=s.previous,m=p[i];u[i]=new Eh(m&&m.currentValue,t,p===As),e[r]=t}po.ngInherit=!0;const xc="__ngSimpleChanges__";function Ud(e){return e[xc]||null}const Oo=function(e,t,n){},wu="svg";function ur(e){for(;Array.isArray(e);)e=e[ar];return e}function no(e,t){return ur(t[e.index])}function Sc(e,t){return e.data[t]}function Yr(e,t){const n=t[e];return ci(n)?n:n[ar]}function da(e,t){return null==t?null:e[t]}function Mc(e){e[zn]=0}function Ch(e){1024&e[un]||(e[un]|=1024,xh(e,1))}function Tc(e){1024&e[un]&&(e[un]&=-1025,xh(e,-1))}function xh(e,t){let n=e[Mr];if(null===n)return;n[aa]+=t;let r=n;for(n=n[Mr];null!==n&&(1===t&&1===r[aa]||-1===t&&0===r[aa]);)n[aa]+=t,r=n,n=n[Mr]}const Dt={lFrame:qa(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function go(){return Dt.bindingsEnabled}function Sl(){return null!==Dt.skipHydrationRootTNode}function Ge(){return Dt.lFrame.lView}function kn(){return Dt.lFrame.tView}function ei(){let e=Ml();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ml(){return Dt.lFrame.currentTNode}function qo(e,t){const n=Dt.lFrame;n.currentTNode=e,n.isParent=t}function Tl(){return Dt.lFrame.isParent}function No(){Dt.lFrame.isParent=!1}function ha(){return Dt.lFrame.bindingIndex++}function $i(e,t){const n=Dt.lFrame;n.bindingIndex=n.bindingRootIndex=e,qd(t)}function qd(e){Dt.lFrame.currentDirectiveIndex=e}function xi(){return Dt.lFrame.currentQueryIndex}function Il(e){Dt.lFrame.currentQueryIndex=e}function kc(e){const t=e[lt];return 2===t.type?t.declTNode:1===t.type?e[ui]:null}function ja(e,t,n){if(n&pn.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&pn.Host||(i=kc(s),null===i||(s=s[vu],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Dt.lFrame=Th();return r.currentTNode=t,r.lView=e,!0}function Ga(e){const t=Th(),n=e[lt];Dt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Th(){const e=Dt.lFrame,t=null===e?null:e.child;return null===t?qa(e):t}function qa(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ih(){const e=Dt.lFrame;return Dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Wd=Ih;function Wa(){const e=Ih();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Si(){return Dt.lFrame.selectedIndex}function Vs(e){Dt.lFrame.selectedIndex=e}function Cr(){const e=Dt.lFrame;return Sc(e.tView,e.selectedIndex)}let Rh=!0;function Ka(){return Rh}function pa(e){Rh=e}function Yd(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:m,ngAfterViewChecked:w,ngOnDestroy:x}=s;u&&(e.contentHooks??=[]).push(-n,u),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),m&&(e.viewHooks??=[]).push(-n,m),w&&((e.viewHooks??=[]).push(n,w),(e.viewCheckHooks??=[]).push(n,w)),null!=x&&(e.destroyHooks??=[]).push(n,x)}}function Iu(e,t,n){Au(e,t,3,n)}function Wo(e,t,n,r){(3&e[un])===n&&Au(e,t,n,r)}function Qd(e,t){let n=e[un];(3&n)===t&&(n&=8191,n+=1,e[un]=n)}function Au(e,t,n,r){const s=r??-1,u=t.length-1;let p=0;for(let m=void 0!==r?65535&e[zn]:0;m<u;m++)if("number"==typeof t[m+1]){if(p=t[m],null!=r&&p>=r)break}else t[m]<0&&(e[zn]+=65536),(p<s||-1==s)&&(ug(e,n,t,m),e[zn]=(4294901760&e[zn])+m+2),m++}function lg(e,t){Oo(4,e,t);const n=Po(null);try{t.call(e)}finally{Po(n),Oo(5,e,t)}}function ug(e,t,n,r){const i=n[r]<0,s=n[r+1],p=e[i?-n[r]:n[r]];i?e[un]>>13<e[zn]>>16&&(3&e[un])===t&&(e[un]+=8192,lg(p,s)):lg(p,s)}const Ru=-1;class Pc{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ou(e){return e!==Ru}function cs(e){return 32767&e}function Al(e,t){let n=function fg(e){return e>>16}(e),r=t;for(;n>0;)r=r[vu],n--;return r}let Nc=!0;function ni(e){const t=Nc;return Nc=e,t}const Xd=255,ma=5;let Jd=0;const xr={};function Za(e,t){const n=$s(e,t);if(-1!==n)return n;const r=t[lt];r.firstCreatePass&&(e.injectorIndex=t.length,Fc(r.data,e),Fc(t,null),Fc(r.blueprint,null));const i=vr(e,t),s=e.injectorIndex;if(Ou(i)){const u=cs(i),p=Al(i,t),m=p[lt].data;for(let w=0;w<8;w++)t[s+w]=p[u+w]|m[u+w]}return t[s+8]=i,s}function Fc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $s(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Lh(i),null===r)return Ru;if(n++,i=i[vu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ru}function Nu(e,t,n){!function hg(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(La)&&(r=n[La]),null==r&&(r=n[La]=Jd++);const i=r&Xd;t.data[e+(i>>ma)]|=1<<i}(e,t,n)}function ef(e,t,n){if(n&pn.Optional||void 0!==e)return e;ta()}function Oh(e,t,n,r){if(n&pn.Optional&&void 0===r&&(r=null),!(n&(pn.Self|pn.Host))){const i=e[Xi],s=or(void 0);try{return i?i.get(t,r,n&pn.Optional):Cd(t,r,n&pn.Optional)}finally{or(s)}}return ef(r,0,n)}function Nh(e,t,n,r=pn.Default,i){if(null!==e){if(2048&t[un]&&!(r&pn.Self)){const u=function nf(e,t,n,r,i){let s=e,u=t;for(;null!==s&&null!==u&&2048&u[un]&&!(512&u[un]);){const p=Rl(s,u,n,r|pn.Self,xr);if(p!==xr)return p;let m=s.parent;if(!m){const w=u[kd];if(w){const x=w.get(n,xr,r);if(x!==xr)return x}m=Lh(u),u=u[vu]}s=m}return i}(e,t,n,r,xr);if(u!==xr)return u}const s=Rl(e,t,n,r,xr);if(s!==xr)return s}return Oh(t,n,r,i)}function Rl(e,t,n,r,i){const s=function gg(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(La)?e[La]:void 0;return"number"==typeof t?t>=0?t&Xd:tf:t}(n);if("function"==typeof s){if(!ja(t,e,r))return r&pn.Host?ef(i,0,r):Oh(t,n,r,i);try{let u;if(u=s(r),null!=u||r&pn.Optional)return u;ta()}finally{Wd()}}else if("number"==typeof s){let u=null,p=$s(e,t),m=Ru,w=r&pn.Host?t[kr][ui]:null;for((-1===p||r&pn.SkipSelf)&&(m=-1===p?vr(e,t):t[p+8],m!==Ru&&zs(r,!1)?(u=t[lt],p=cs(m),t=Al(m,t)):p=-1);-1!==p;){const x=t[lt];if(kl(s,p,x.data)){const I=Lc(p,t,n,u,r,w);if(I!==xr)return I}m=t[p+8],m!==Ru&&zs(r,t[lt].data[p+8]===w)&&kl(s,p,t)?(u=x,p=cs(m),t=Al(m,t)):p=-1}}return i}function Lc(e,t,n,r,i,s){const u=t[lt],p=u.data[e+8],x=Ya(p,u,n,null==r?fn(p)&&Nc:r!=u&&0!=(3&p.type),i&pn.Host&&s===p);return null!==x?Qa(t,u,x,p):xr}function Ya(e,t,n,r,i){const s=e.providerIndexes,u=t.data,p=1048575&s,m=e.directiveStart,x=s>>20,N=i?p+x:e.directiveEnd;for(let U=r?p:p+x;U<N;U++){const J=u[U];if(U<m&&n===J||U>=m&&J.type===n)return U}if(i){const U=u[m];if(U&&os(U)&&U.type===n)return m}return null}function Qa(e,t,n,r){let i=e[n];const s=t.data;if(function ga(e){return e instanceof Pc}(i)){const u=i;u.resolving&&function wd(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Te(-200,`Circular dependency in DI detected for ${e}${n}`)}(function rr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():rn(e)}(s[n]));const p=ni(u.canSeeViewProviders);u.resolving=!0;const w=u.injectImpl?or(u.injectImpl):null;ja(e,r,pn.Default);try{i=e[n]=u.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function kh(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const u=Hn(t);(n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==w&&or(w),ni(p),u.resolving=!1,Wd()}}return i}function kl(e,t,n){return!!(n[t+(e>>ma)]&1<<e)}function zs(e,t){return!(e&pn.Self||e&pn.Host&&t)}class ro{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Nh(this._tNode,this._lView,t,hc(r),n)}}function tf(){return new ro(ei(),Ge())}function va(e){return pl(e)?()=>{const t=va(Gt(e));return t&&t()}:Ei(e)}function Lh(e){const t=e[lt],n=t.type;return 2===n?t.declTNode:1===n?e[ui]:null}const Us="__parameters__";function Ol(e,t,n){return Ts(()=>{const r=function Bh(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const u=new i(...s);return p.annotation=u,p;function p(m,w,x){const I=m.hasOwnProperty(Us)?m[Us]:Object.defineProperty(m,Us,{value:[]})[Us];for(;I.length<=x;)I.push(null);return(I[x]=I[x]||[]).push(u),m}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Gs(e,t){e.forEach(n=>Array.isArray(n)?Gs(n,t):t(n))}function Lu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Bc(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Or(e,t,n){let r=Nl(e,t);return r>=0?e[1|r]=n:(r=~r,function lv(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Vh(e,t){const n=Nl(e,t);if(n>=0)return e[1|n]}function Nl(e,t){return function $h(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),u=e[s<<n];if(t===u)return s<<n;u>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const lf=pc(Ol("Optional"),8),Lo=pc(Ol("SkipSelf"),4);function a(e){return 128==(128&e.flags)}var l=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(l||{});const y=new Map;let _=0;const O="__ngContext__";function F(e,t){ci(t)?(e[O]=t[is],function E(e){y.set(e[is],e)}(t)):e[O]=t}let Q;function de(e,t){return Q(e,t)}function ie(e){const t=e[Mr];return wn(t)?t[Mr]:t}function ke(e){return Ie(e[Br])}function ge(e){return Ie(e[jo])}function Ie(e){for(;null!==e&&!wn(e);)e=e[jo];return e}function $e(e,t,n,r,i){if(null!=r){let s,u=!1;wn(r)?s=r:ci(r)&&(u=!0,r=r[ar]);const p=ur(r);0===e&&null!==n?null==i?mn(t,n,p):Wt(t,n,p,i||null,!0):1===e&&null!==n?Wt(t,n,p,i||null,!0):2===e?function ln(e,t,n){const r=Oe(e,t);r&&function G(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,p,u):3===e&&t.destroyNode(p),null!=s&&function io(e,t,n,r,i){const s=n[ks];s!==ur(n)&&$e(t,e,r,s,i);for(let p=yi;p<n.length;p++){const m=n[p];Ii(m[lt],m,e,t,r,s)}}(t,e,s,n,i)}}function ye(e,t,n){return e.createElement(t,n)}function Be(e,t){const n=e[Ps],r=n.indexOf(t);Tc(t),n.splice(r,1)}function ut(e,t){if(e.length<=yi)return;const n=yi+t,r=e[n];if(r){const i=r[En];null!==i&&i!==e&&Be(i,r),t>0&&(e[n-1][jo]=r[jo]);const s=rf(e,yi+t);!function Ye(e,t){Ii(e,t,t[an],2,null,null),t[ar]=null,t[ui]=null}(r[lt],r);const u=s[mt];null!==u&&u.detachView(s[lt]),r[Mr]=null,r[jo]=null,r[un]&=-129}return r}function xt(e,t){if(!(256&t[un])){const n=t[an];t[uo]&&wc(t[uo]),t[Ji]&&wc(t[Ji]),n.destroyNode&&Ii(e,t,n,3,null,null),function rt(e){let t=e[Br];if(!t)return ft(e[lt],e);for(;t;){let n=null;if(ci(t))n=t[Br];else{const r=t[yi];r&&(n=r)}if(!n){for(;t&&!t[jo]&&t!==e;)ci(t)&&ft(t[lt],t),t=t[Mr];null===t&&(t=e),ci(t)&&ft(t[lt],t),n=t&&t[jo]}t=n}}(t)}}function ft(e,t){if(!(256&t[un])){t[un]&=-129,t[un]|=256,function Rt(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Pc)){const s=n[r+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){const p=i[s[u]],m=s[u+1];Oo(4,p,m);try{m.call(p)}finally{Oo(5,p,m)}}else{Oo(4,i,s);try{s.call(i)}finally{Oo(5,i,s)}}}}}(e,t),function At(e,t){const n=e.cleanup,r=t[Ao];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const u=n[s+3];u>=0?r[u]():r[-u].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Ao]=null);const i=t[Ro];if(null!==i){t[Ro]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[lt].type&&t[an].destroy();const n=t[En];if(null!==n&&wn(t[Mr])){n!==t[Mr]&&Be(n,t);const r=t[mt];null!==r&&r.detachView(e)}!function S(e){y.delete(e[is])}(t)}}function Cn(e,t,n){return function gn(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[ar];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===To.None||s===To.Emulated)return null}return no(r,n)}}(e,t.parent,n)}function Wt(e,t,n,r,i){e.insertBefore(t,n,r,i)}function mn(e,t,n){e.appendChild(t,n)}function we(e,t,n,r,i){null!==r?Wt(e,t,n,r,i):mn(e,t,n)}function Oe(e,t){return e.parentNode(t)}function Ae(e,t,n){return Ee(e,t,n)}let It,Ai,Ee=function pt(e,t,n){return 40&e.type?no(e,n):null};function On(e,t,n,r){const i=Cn(e,r,t),s=t[an],p=Ae(r.parent||t[ui],r,t);if(null!=i)if(Array.isArray(n))for(let m=0;m<n.length;m++)we(s,i,n[m],p,!1);else we(s,i,n,p,!1);void 0!==It&&It(s,r,t,n,i)}function Yt(e,t){if(null!==t){const n=t.type;if(3&n)return no(t,e);if(4&n)return en(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Yt(e,r);{const i=e[t.index];return wn(i)?en(-1,i):ur(i)}}if(32&n)return de(t,e)()||ur(e[t.index]);{const r=Bn(e,t);return null!==r?Array.isArray(r)?r[0]:Yt(ie(e[kr]),r):Yt(e,t.next)}}return null}function Bn(e,t){return null!==t?e[kr][ui].projection[t.projection]:null}function en(e,t){const n=yi+e+1;if(n<t.length){const r=t[n],i=r[lt].firstChild;if(null!==i)return Yt(r,i)}return t[ks]}function Vr(e,t,n,r,i,s,u){for(;null!=n;){const p=r[n.index],m=n.type;if(u&&0===t&&(p&&F(ur(p),r),n.flags|=2),32!=(32&n.flags))if(8&m)Vr(e,t,n.child,r,i,s,!1),$e(t,e,i,p,s);else if(32&m){const w=de(n,r);let x;for(;x=w();)$e(t,e,i,x,s);$e(t,e,i,p,s)}else 16&m?pi(e,t,r,n,i,s):$e(t,e,i,p,s);n=u?n.projectionNext:n.next}}function Ii(e,t,n,r,i,s){Vr(n,r,e.firstChild,t,i,s,!1)}function pi(e,t,n,r,i,s){const u=n[kr],m=u[ui].projection[r.projection];if(Array.isArray(m))for(let w=0;w<m.length;w++)$e(t,e,i,m[w],s);else{let w=m;const x=u[Mr];a(r)&&(w.flags|=128),Vr(e,t,w,x,i,s,!0)}}function _a(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function $l(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&gc(e,t,r),null!==i&&_a(e,t,i),null!==s&&function yo(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class Ag{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class it{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jh=new it("ENVIRONMENT_INITIALIZER"),T0=new it("INJECTOR",-1),I0=new it("INJECTOR_DEF_TYPES");class Ev{get(t,n=Ss){if(n===Ss){const r=new Error(`NullInjectorError: No provider for ${oi(t)}!`);throw r.name="NullInjectorError",r}return n}}function ew(...e){return{\u0275providers:A0(0,e),\u0275fromNgModule:!0}}function A0(e,...t){const n=[],r=new Set;let i;const s=u=>{n.push(u)};return Gs(t,u=>{const p=u;Ng(p,s,[],r)&&(i||=[],i.push(p))}),void 0!==i&&R0(i,s),n}function R0(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Cv(i,s=>{t(s,r)})}}function Ng(e,t,n,r){if(!(e=Gt(e)))return!1;let i=null,s=ac(e);const u=!s&&An(e);if(s||u){if(u&&!u.standalone)return!1;i=e}else{const m=e.ngModule;if(s=ac(m),!s)return!1;i=m}const p=r.has(i);if(u){if(p)return!1;if(r.add(i),u.dependencies){const m="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const w of m)Ng(w,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!p){let w;r.add(i);try{Gs(s.imports,x=>{Ng(x,t,n,r)&&(w||=[],w.push(x))})}finally{}void 0!==w&&R0(w,t)}if(!p){const w=Ei(i)||(()=>new i);t({provide:i,useFactory:w,deps:Ln},i),t({provide:I0,useValue:i,multi:!0},i),t({provide:Jh,useValue:()=>Ze(i),multi:!0},i)}const m=s.providers;if(null!=m&&!p){const w=e;Cv(m,x=>{t(x,w)})}}}return i!==e&&void 0!==e.providers}function Cv(e,t){for(let n of e)rc(n)&&(n=n.\u0275providers),Array.isArray(n)?Cv(n,t):t(n)}const tw=tr({provide:String,useValue:tr});function xv(e){return null!==e&&"object"==typeof e&&tw in e}function Vu(e){return"function"==typeof e}const Sv=new it("Set Injector scope."),Lg={},nw={};let ep;function Bg(){return void 0===ep&&(ep=new Ev),ep}class ps{}class Vg extends ps{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tp(t,u=>this.processProvider(u)),this.records.set(T0,yf(void 0,this)),i.has("environment")&&this.records.set(ps,yf(void 0,this));const s=this.records.get(Sv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(I0.multi,Ln,pn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=na(this),r=or(void 0);try{return t()}finally{na(n),or(r)}}get(t,n=Ss,r=pn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(oa))return t[oa](this);r=hc(r);const s=na(this),u=or(void 0);try{if(!(r&pn.SkipSelf)){let m=this.records.get(t);if(void 0===m){const w=function ow(e){return"function"==typeof e||"object"==typeof e&&e instanceof it}(t)&&Pa(t);m=w&&this.injectableDefInScope(w)?yf(_o(t),Lg):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(r&pn.Self?Bg():this.parent).get(t,n=r&pn.Optional&&n===Ss?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[Ms]=p[Ms]||[]).unshift(oi(t)),s)throw p;return function Gm(e,t,n,r){const i=e[Ms];throw t[Gp]&&i.unshift(t[Gp]),e.message=function qm(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=oi(t);if(Array.isArray(t))i=t.map(oi).join(" -> ");else if("object"==typeof t){let s=[];for(let u in t)if(t.hasOwnProperty(u)){let p=t[u];s.push(u+":"+("string"==typeof p?JSON.stringify(p):oi(p)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(fc,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Ms]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{or(u),na(s)}}resolveInjectorInitializers(){const t=na(this),n=or(void 0);try{const i=this.get(Jh.multi,Ln,pn.Self);for(const s of i)s()}finally{na(t),or(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(oi(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(t){let n=Vu(t=Gt(t))?t:Gt(t&&t.provide);const r=function rw(e){return xv(e)?yf(void 0,e.useValue):yf(O0(e),Lg)}(t);if(Vu(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yf(void 0,Lg,!0),i.factory=()=>Md(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Lg&&(n.value=nw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Tv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Gt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function _o(e){const t=Pa(e),n=null!==t?t.factory:Ei(e);if(null!==n)return n;if(e instanceof it)throw new Te(204,!1);if(e instanceof Function)return function Mv(e){const t=e.length;if(t>0)throw Bc(t,"?"),new Te(204,!1);const n=function Ho(e){return e&&(e[mi]||e[Jf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Te(204,!1)}function O0(e,t,n){let r;if(Vu(e)){const i=Gt(e);return Ei(i)||_o(i)}if(xv(e))r=()=>Gt(e.useValue);else if(function Fg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Md(e.deps||[]));else if(function k0(e){return!(!e||!e.useExisting)}(e))r=()=>Ze(Gt(e.useExisting));else{const i=Gt(e&&(e.useClass||e.provide));if(!function iw(e){return!!e.deps}(e))return Ei(i)||_o(i);r=()=>new i(...Md(e.deps))}return r}function yf(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function tp(e,t){for(const n of e)Array.isArray(n)?tp(n,t):n&&rc(n)?tp(n.\u0275providers,t):t(n)}const $g=new it("AppId",{providedIn:"root",factory:()=>sw}),sw="ng",N0=new it("Platform Initializer"),$u=new it("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bf=new it("AnimationModuleType"),Iv=new it("CSP nonce",{providedIn:"root",factory:()=>function zl(){if(void 0!==Ai)return Ai;if(typeof document<"u")return document;throw new Te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let B0=(e,t,n)=>null;function Lv(e,t,n=!1){return B0(e,t,n)}class Je{}class yt{}class Xt{resolveComponentFactory(t){throw function Nt(e){const t=Error(`No component factory found for ${oi(e)}.`);return t.ngComponent=e,t}(t)}}let xn=(()=>{class e{static#e=this.NULL=new Xt}return e})();function jn(){return Ui(ei(),Ge())}function Ui(e,t){return new Gn(no(e,t))}let Gn=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=jn}return e})();function gs(e){return e instanceof Gn?e.nativeElement:e}class $r{}let V0=(()=>{class e{static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>null})}return e})();class ip{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const XP=new ip("16.2.10"),hw={};function m1(e,t=null,n=null,r){const i=v1(e,t,n,r);return i.resolveInjectorInitializers(),i}function v1(e,t=null,n=null,r,i=new Set){const s=[n||Ln,ew(e)];return r=r||("object"==typeof e?void 0:oi(e)),new Vg(s,t||Bg(),r||null,i)}let Da=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Ss;static#t=this.NULL=new Ev;static create(n,r){if(Array.isArray(n))return m1({name:""},r,n,"");{const i=n.name??"";return m1({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Ct({token:e,providedIn:"any",factory:()=>Ze(T0)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function gw(e){return e.ngOriginalError}class Wc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&gw(t);for(;n&&gw(n);)n=gw(n);return n||null}}function vw(e){return t=>{setTimeout(e,void 0,t)}}const er=class oO extends Kt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),u=r;if(t&&"object"==typeof t){const m=t;i=m.next?.bind(m),s=m.error?.bind(m),u=m.complete?.bind(m)}this.__isAsync&&(s=vw(s),i&&(i=vw(i)),u&&(u=vw(u)));const p=super.subscribe({next:i,error:s,complete:u});return t instanceof ze&&t.add(p),p}};function b1(...e){}class Nn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new er(!1),this.onMicrotaskEmpty=new er(!1),this.onStable=new er(!1),this.onError=new er(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function sO(){const e="function"==typeof In.requestAnimationFrame;let t=In[e?"requestAnimationFrame":"setTimeout"],n=In[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function uO(e){const t=()=>{!function lO(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(In,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bw(e),e.isCheckStableRunning=!0,yw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,u,p)=>{if(function dO(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(p))return n.invokeTask(i,s,u,p);try{return _1(e),n.invokeTask(i,s,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),w1(e)}},onInvoke:(n,r,i,s,u,p,m)=>{try{return _1(e),n.invoke(i,s,u,p,m)}finally{e.shouldCoalesceRunChangeDetection&&t(),w1(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,bw(e),yw(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nn.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Nn.isInAngularZone())throw new Te(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+i,t,aO,b1,b1);try{return s.runTask(u,n,r)}finally{s.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const aO={};function yw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function w1(e){e._nesting--,yw(e)}class cO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new er,this.onMicrotaskEmpty=new er,this.onStable=new er,this.onError=new er}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const E1=new it("",{providedIn:"root",factory:D1});function D1(){const e=at(Nn);let t=!0;return ea(new Mt(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Mt(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{Nn.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const u=e.onUnstable.subscribe(()=>{Nn.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),u.unsubscribe()}}).pipe(Zf()))}function Kc(e){return e instanceof Function?e():e}let _w=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new e})}return e})();function Bv(e){for(;e;){e[un]|=64;const t=ie(e);if(Os(e)&&!t)return e;e=t}return null}const T1=new it("",{providedIn:"root",factory:()=>!1});let z0=null;function k1(e,t){return e[t]??N1()}function P1(e,t){const n=N1();n.producerNode?.length&&(e[t]=z0,n.lView=e,z0=O1())}const wO={...gh,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Bv(e.lView)},lView:null};function O1(){return Object.create(wO)}function N1(){return z0??=O1(),z0}const _n={};function qg(e){F1(kn(),Ge(),Si()+e,!1)}function F1(e,t,n,r){if(!r)if(3==(3&t[un])){const s=e.preOrderCheckHooks;null!==s&&Iu(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Wo(t,s,0,n)}Vs(n)}function Re(e,t=pn.Default){const n=Ge();return null===n?Ze(e,t):Nh(ei(),n,Gt(e),t)}function H0(){throw new Error("invalid")}function U0(e,t,n,r,i,s,u,p,m,w,x){const I=t.blueprint.slice();return I[ar]=i,I[un]=140|r,(null!==w||e&&2048&e[un])&&(I[un]|=2048),Mc(I),I[Mr]=I[vu]=e,I[Lr]=n,I[mu]=u||e&&e[mu],I[an]=p||e&&e[an],I[Xi]=m||e&&e[Xi]||null,I[ui]=s,I[is]=function b(){return _++}(),I[ko]=x,I[kd]=w,I[kr]=2==t.type?e[kr]:I,I}function Wg(e,t,n,r,i){let s=e.data[t];if(null===s)s=function ww(e,t,n,r,i){const s=Ml(),u=Tl(),m=e.data[t]=function IO(e,t,n,r,i,s){let u=t?t.injectorIndex:-1,p=0;return Sl()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=m),null!==s&&(u?null==s.child&&null!==m.parent&&(s.child=m):null===s.next&&(s.next=m,m.prev=s)),m}(e,t,n,r,i),function bi(){return Dt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const u=function xu(){const e=Dt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===u?-1:u.injectorIndex}return qo(s,!0),s}function Vv(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function L1(e,t,n,r,i){const s=k1(t,uo),u=Si(),p=2&r;try{Vs(-1),p&&t.length>cn&&F1(e,t,cn,!1),Oo(p?2:0,i);const w=p?s:null,x=Ld(w);try{null!==w&&(w.dirty=!1),n(r,i)}finally{wl(w,x)}}finally{p&&null===t[uo]&&P1(t,uo),Vs(u),Oo(p?3:1,i)}}function Ew(e,t,n){if(Dn(t)){const r=Po(null);try{const s=t.directiveEnd;for(let u=t.directiveStart;u<s;u++){const p=e.data[u];p.contentQueries&&p.contentQueries(1,n[u],u)}}finally{Po(r)}}}function Dw(e,t,n){go()&&(function FO(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;fn(n)&&function UO(e,t,n){const r=no(t,e),i=B1(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const p=j0(e,U0(e,i,null,u,r,t,null,e[mu].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Za(n,t),F(r,t);const u=n.initialInputs;for(let p=i;p<s;p++){const m=e.data[p],w=Qa(t,e,p,n);F(w,t),null!==u&&jO(0,p-i,w,m,0,u),os(m)&&(Yr(n.index,t)[Lr]=Qa(t,e,p,n))}}(e,t,n,no(n,t)),64==(64&n.flags)&&U1(e,t,n))}function Cw(e,t,n=no){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const u=r[s+1],p=-1===u?n(t,e):e[u];e[i++]=p}}}function B1(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function xw(e,t,n,r,i,s,u,p,m,w,x){const I=cn+r,N=I+i,U=function DO(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:_n);return n}(I,N),J="function"==typeof w?w():w;return U[lt]={type:e,blueprint:U,template:n,queries:null,viewQuery:p,declTNode:t,data:U.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:m,consts:J,incompleteFirstPass:!1,ssrId:x}}let V1=e=>null;function $1(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?z1(n,t,i,s):r.hasOwnProperty(i)&&z1(n,t,r[i],s)}return n}function z1(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Ca(e,t,n,r,i,s,u,p){const m=no(t,n);let x,w=t.inputs;!p&&null!=w&&(x=w[r])?(Aw(e,n,x,r,i),fn(t)&&function kO(e,t){const n=Yr(t,e);16&n[un]||(n[un]|=64)}(n,t.index)):3&t.type&&(r=function RO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=u?u(i,t.value||"",r):i,s.setProperty(m,r,i))}function Sw(e,t,n,r){if(go()){const i=null===r?null:{"":-1},s=function BO(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const u=n[s];if(Kn(t,u.selectors,!1))if(r||(r=[]),os(u))if(null!==u.findHostDirectiveDefs){const p=[];i=i||new Map,u.findHostDirectiveDefs(u,p,i),r.unshift(...p,u),Mw(e,t,p.length)}else r.unshift(u),Mw(e,t,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(e,n);let u,p;null===s?u=p=null:[u,p]=s,null!==u&&H1(e,t,n,u,i,p),i&&function VO(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new Te(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=mc(n.mergedAttrs,n.attrs)}function H1(e,t,n,r,i,s){for(let w=0;w<r.length;w++)Nu(Za(n,t),e,r[w].type);!function zO(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let w=0;w<r.length;w++){const x=r[w];x.providersResolver&&x.providersResolver(x)}let u=!1,p=!1,m=Vv(e,t,r.length,null);for(let w=0;w<r.length;w++){const x=r[w];n.mergedAttrs=mc(n.mergedAttrs,x.hostAttrs),HO(e,n,t,m,x),$O(m,x,i),null!==x.contentQueries&&(n.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(n.flags|=64);const I=x.type.prototype;!u&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!p&&(I.ngOnChanges||I.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),m++}!function AO(e,t,n){const i=t.directiveEnd,s=e.data,u=t.attrs,p=[];let m=null,w=null;for(let x=t.directiveStart;x<i;x++){const I=s[x],N=n?n.get(I):null,J=N?N.outputs:null;m=$1(I.inputs,x,m,N?N.inputs:null),w=$1(I.outputs,x,w,J);const re=null===m||null===u||ue(t)?null:GO(m,x,u);p.push(re)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=8),m.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=m,t.outputs=w}(e,n,s)}function U1(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,u=function Ci(){return Dt.lFrame.currentDirectiveIndex}();try{Vs(s);for(let p=r;p<i;p++){const m=e.data[p],w=t[p];qd(p),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&LO(m,w)}}finally{Vs(-1),qd(u)}}function LO(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Mw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function $O(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;os(t)&&(n[""]=e)}}function HO(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=Ei(i.type)),u=new Pc(s,os(i),Re);e.blueprint[r]=u,n[r]=u,function OO(e,t,n,r,i){const s=i.hostBindings;if(s){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const p=~t.index;(function NO(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=p&&u.push(p),u.push(n,r,s)}}(e,t,r,Vv(e,n,i.hostVars,_n),i)}function zu(e,t,n,r,i,s){const u=no(e,t);!function Tw(e,t,n,r,i,s,u){if(null==s)e.removeAttribute(t,i,n);else{const p=null==u?rn(s):u(s,r||"",i);e.setAttribute(t,i,p,n)}}(t[an],u,s,e.value,n,r,i)}function jO(e,t,n,r,i,s){const u=s[t];if(null!==u)for(let p=0;p<u.length;)j1(r,n,u[p++],u[p++],u[p++])}function j1(e,t,n,r,i){const s=Po(null);try{const u=e.inputTransforms;null!==u&&u.hasOwnProperty(r)&&(i=u[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Po(s)}}function GO(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const u=e[s];for(let p=0;p<u.length;p+=2)if(u[p]===t){r.push(s,u[p+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function G1(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function q1(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const u=e.data[s];Il(n[r]),u.contentQueries(2,t[s],s)}}}function j0(e,t){return e[Br]?e[on][jo]=t:e[Br]=t,e[on]=t,t}function Iw(e,t,n){Il(0);const r=Po(null);try{t(e,n)}finally{Po(r)}}function W1(e){return e[Ao]||(e[Ao]=[])}function K1(e){return e.cleanup||(e.cleanup=[])}function Y1(e,t){const n=e[Xi],r=n?n.get(Wc,null):null;r&&r.handleError(t)}function Aw(e,t,n,r,i){for(let s=0;s<n.length;){const u=n[s++],p=n[s++];j1(e.data[u],t[u],r,p,i)}}function qO(e,t){const n=Yr(t,e),r=n[lt];!function WO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[ar];null!==i&&null===n[ko]&&(n[ko]=Lv(i,n[Xi])),Rw(r,n,n[Lr])}function Rw(e,t,n){Ga(t);try{const r=e.viewQuery;null!==r&&Iw(1,r,n);const i=e.template;null!==i&&L1(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&q1(e,t),e.staticViewQueries&&Iw(2,e.viewQuery,n);const s=e.components;null!==s&&function KO(e,t){for(let n=0;n<t.length;n++)qO(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[un]&=-5,Wa()}}let Q1=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,u=function Jp(e,t,n){const r=Object.create(tv);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=u=>{r.cleanupFn=u};return r.ref={notify:()=>vh(r),run:()=>{if(r.dirty=!1,r.hasRun&&!ho(r))return;r.hasRun=!0;const u=Ld(r);try{r.cleanupFn(),r.cleanupFn=Hd,r.fn(i)}finally{wl(r,u)}},cleanup:()=>r.cleanupFn()},r.ref}(n,w=>{this.all.has(w)&&this.queue.set(w,s)},i);let p;this.all.add(u),u.notify();const m=()=>{u.cleanup(),p?.(),this.all.delete(u),this.queue.delete(u)};return p=r?.onDestroy(m),{destroy:m}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new e})}return e})();function G0(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?s=p:1==s?i=_d(i,p):2==s&&(r=_d(r,p+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function $v(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(ur(s)),wn(s)&&X1(s,r);const u=n.type;if(8&u)$v(e,t,n.child,r);else if(32&u){const p=de(n,t);let m;for(;m=p();)r.push(m)}else if(16&u){const p=Bn(t,n);if(Array.isArray(p))r.push(...p);else{const m=ie(t[kr]);$v(m[lt],m,p,r,!0)}}n=i?n.projectionNext:n.next}return r}function X1(e,t){for(let n=yi;n<e.length;n++){const r=e[n],i=r[lt].firstChild;null!==i&&$v(r[lt],r,i,t)}e[ks]!==e[ar]&&t.push(e[ks])}function q0(e,t,n,r=!0){const i=t[mu],s=i.rendererFactory,u=i.afterRenderEventManager;s.begin?.(),u?.begin();try{J1(e,t,e.template,n)}catch(m){throw r&&Y1(t,m),m}finally{s.end?.(),i.effectManager?.flush(),u?.end()}}function J1(e,t,n,r){const i=t[un];if(256!=(256&i)){t[mu].effectManager?.flush(),Ga(t);try{Mc(t),function ls(e){return Dt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&L1(e,t,n,2,r);const u=3==(3&i);if(u){const w=e.preOrderCheckHooks;null!==w&&Iu(t,w,null)}else{const w=e.preOrderHooks;null!==w&&Wo(t,w,0,null),Qd(t,0)}if(function QO(e){for(let t=ke(e);null!==t;t=ge(t)){if(!t[Xp])continue;const n=t[Ps];for(let r=0;r<n.length;r++){Ch(n[r])}}}(t),ex(t,2),null!==e.contentQueries&&q1(e,t),u){const w=e.contentCheckHooks;null!==w&&Iu(t,w)}else{const w=e.contentHooks;null!==w&&Wo(t,w,1),Qd(t,1)}!function EO(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=k1(t,Ji);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Vs(~s);else{const u=s,p=n[++i],m=n[++i];$i(p,u),r.dirty=!1;const w=Ld(r);try{m(2,t[u])}finally{wl(r,w)}}}}finally{null===t[Ji]&&P1(t,Ji),Vs(-1)}}(e,t);const p=e.components;null!==p&&nx(t,p,0);const m=e.viewQuery;if(null!==m&&Iw(2,m,r),u){const w=e.viewCheckHooks;null!==w&&Iu(t,w)}else{const w=e.viewHooks;null!==w&&Wo(t,w,2),Qd(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[un]&=-73,Tc(t)}finally{Wa()}}}function ex(e,t){for(let n=ke(e);null!==n;n=ge(n))for(let r=yi;r<n.length;r++)tx(n[r],t)}function XO(e,t,n){tx(Yr(t,e),n)}function tx(e,t){if(!function Du(e){return 128==(128&e[un])}(e))return;const n=e[lt],r=e[un];if(80&r&&0===t||1024&r||2===t)J1(n,e,n.template,e[Lr]);else if(e[aa]>0){ex(e,1);const i=n.components;null!==i&&nx(e,i,1)}}function nx(e,t,n){for(let r=0;r<t.length;r++)XO(e,t[r],n)}class zv{get rootNodes(){const t=this._lView,n=t[lt];return $v(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lr]}set context(t){this._lView[Lr]=t}get destroyed(){return 256==(256&this._lView[un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Mr];if(wn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(ut(t,r),rf(n,r))}this._attachedToViewContainer=!1}xt(this._lView[lt],this._lView)}onDestroy(t){!function Ic(e,t){if(256==(256&e[un]))throw new Te(911,!1);null===e[Ro]&&(e[Ro]=[]),e[Ro].push(t)}(this._lView,t)}markForCheck(){Bv(this._cdRefInjectingView||this._lView)}detach(){this._lView[un]&=-129}reattach(){this._lView[un]|=128}detectChanges(){q0(this._lView[lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function je(e,t){Ii(e,t,t[an],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=t}}class JO extends zv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;q0(t[lt],t,t[Lr],!1)}checkNoChanges(){}get context(){return null}}class rx extends xn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=An(t);return new Hv(n,this.ngModule)}}function ix(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class tN{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=hc(r);const i=this.injector.get(t,hw,r);return i!==hw||n===hw?i:this.parentInjector.get(t,n,r)}}class Hv extends yt{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=ix(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ix(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Wm(e){return e.map(Id).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof ps?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const u=s?new tN(t,s):t,p=u.get($r,null);if(null===p)throw new Te(407,!1);const I={rendererFactory:p,sanitizer:u.get(V0,null),effectManager:u.get(Q1,null),afterRenderEventManager:u.get(_w,null)},N=p.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",J=r?function CO(e,t,n,r){const s=r.get(T1,!1)||n===To.ShadowDom,u=e.selectRootElement(t,s);return function xO(e){V1(e)}(u),u}(N,r,this.componentDef.encapsulation,u):ye(N,U,function eN(e){const t=e.toLowerCase();return"svg"===t?wu:"math"===t?"math":null}(U)),Ne=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ve=null;null!==J&&(ve=Lv(J,u,!0));const tt=xw(0,null,null,1,0,null,null,null,null,null,null),_t=U0(null,tt,null,Ne,null,null,I,N,u,null,ve);let $t,Zn;Ga(_t);try{const Se=this.componentDef;let Ut,fr=null;Se.findHostDirectiveDefs?(Ut=[],fr=new Map,Se.findHostDirectiveDefs(Se,Ut,fr),Ut.push(Se)):Ut=[Se];const hr=function rN(e,t){const n=e[lt],r=cn;return e[r]=t,Wg(n,r,2,"#host",null)}(_t,J),Ra=function iN(e,t,n,r,i,s,u){const p=i[lt];!function oN(e,t,n,r){for(const i of e)t.mergedAttrs=mc(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(G0(t,t.mergedAttrs,!0),null!==n&&$l(r,n,t))}(r,e,t,u);let m=null;null!==t&&(m=Lv(t,i[Xi]));const w=s.rendererFactory.createRenderer(t,n);let x=16;n.signals?x=4096:n.onPush&&(x=64);const I=U0(i,B1(n),null,x,i[e.index],e,s,w,null,null,m);return p.firstCreatePass&&Mw(p,e,r.length-1),j0(i,I),i[e.index]=I}(hr,J,Se,Ut,_t,I,N);Zn=Sc(tt,cn),J&&function aN(e,t,n,r){if(r)gc(e,n,["ng-version",XP.full]);else{const{attrs:i,classes:s}=function yl(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!gt(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&gc(e,n,i),s&&s.length>0&&_a(e,n,s.join(" "))}}(N,Se,J,r),void 0!==n&&function lN(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Zn,this.ngContentSelectors,n),$t=function sN(e,t,n,r,i,s){const u=ei(),p=i[lt],m=no(u,i);H1(p,i,u,n,null,r);for(let x=0;x<n.length;x++)F(Qa(i,p,u.directiveStart+x,u),i);U1(p,i,u),m&&F(m,i);const w=Qa(i,p,u.directiveStart+u.componentOffset,u);if(e[Lr]=i[Lr]=w,null!==s)for(const x of s)x(w,t);return Ew(p,u,e),w}(Ra,Se,Ut,fr,_t,[uN]),Rw(tt,_t,null)}finally{Wa()}return new nN(this.componentType,$t,Ui(Zn,_t),_t,Zn)}}class nN extends Je{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new JO(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Aw(s[lt],s,i,t,n),this.previousInputValues.set(t,n),Bv(Yr(this._tNode.index,s))}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function uN(){const e=ei();Yd(Ge()[lt],e)}function ir(e){let t=function ox(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(os(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Te(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const u=e;u.inputs=W0(e.inputs),u.inputTransforms=W0(e.inputTransforms),u.declaredInputs=W0(e.declaredInputs),u.outputs=W0(e.outputs);const p=i.hostBindings;p&&hN(e,p);const m=i.viewQuery,w=i.contentQueries;if(m&&dN(e,m),w&&fN(e,w),du(e.inputs,i.inputs),du(e.declaredInputs,i.declaredInputs),du(e.outputs,i.outputs),null!==i.inputTransforms&&(null===u.inputTransforms&&(u.inputTransforms={}),du(u.inputTransforms,i.inputTransforms)),os(i)&&i.data.animation){const x=e.data;x.animation=(x.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let u=0;u<s.length;u++){const p=s[u];p&&p.ngInherit&&p(e),p===ir&&(n=!1)}}t=Object.getPrototypeOf(t)}!function cN(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=mc(i.hostAttrs,n=mc(n,i.hostAttrs))}}(r)}function W0(e){return e===As?{}:e===Ln?[]:e}function dN(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function fN(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,s)=>{t(r,i,s),n(r,i,s)}:t}function hN(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function Xo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ms(e,t,n,r){const i=Ge();return Xo(i,ha(),t)&&(kn(),zu(Cr(),i,e,t,n,r)),ms}let Dx=function Cx(e,t,n,r){return pa(!0),t[an].createComment("")};function J0(e){return function Eu(e,t){return e[t]}(function Vi(){return Dt.lFrame.contextLView}(),cn+e)}function rm(e,t,n){const r=Ge();return Xo(r,ha(),t)&&Ca(kn(),Cr(),r,e,t,r[an],n,!1),rm}function Bw(e,t,n,r,i){const u=i?"class":"style";Aw(e,n,t.inputs[u],u,r)}function Jo(e,t,n,r){const i=Ge(),s=kn(),u=cn+e,p=i[an],m=s.firstCreatePass?function HN(e,t,n,r,i,s){const u=t.consts,m=Wg(t,e,2,r,da(u,i));return Sw(t,n,m,da(u,s)),null!==m.attrs&&G0(m,m.attrs,!1),null!==m.mergedAttrs&&G0(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(u,s,i,t,n,r):s.data[u],w=xx(s,i,m,p,t,e);i[u]=w;const x=Od(m);return qo(m,!0),$l(p,w,m),32!=(32&m.flags)&&Ka()&&On(s,i,w,m),0===function og(){return Dt.lFrame.elementDepthCount}()&&F(w,i),function Dr(){Dt.lFrame.elementDepthCount++}(),x&&(Dw(s,i,m),Ew(s,m,i)),null!==r&&Cw(i,m),Jo}function vs(){let e=ei();Tl()?No():(e=e.parent,qo(e,!1));const t=e;(function fa(e){return Dt.skipHydrationRootTNode===e})(t)&&function mo(){Dt.skipHydrationRootTNode=null}(),function Gd(){Dt.lFrame.elementDepthCount--}();const n=kn();return n.firstCreatePass&&(Yd(n,e),Dn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Oc(e){return 0!=(8&e.flags)}(t)&&Bw(n,t,Ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Pu(e){return 0!=(16&e.flags)}(t)&&Bw(n,t,Ge(),t.stylesWithoutHost,!1),vs}function xa(e,t,n,r){return Jo(e,t,n,r),vs(),xa}let xx=(e,t,n,r,i,s)=>(pa(!0),ye(r,i,function ag(){return Dt.lFrame.currentNamespace}()));function Wv(e){return!!e&&"function"==typeof e.then}function Tx(e){return!!e&&"function"==typeof e.subscribe}function Bo(e,t,n,r){const i=Ge(),s=kn(),u=ei();return function Ax(e,t,n,r,i,s,u){const p=Od(r),w=e.firstCreatePass&&K1(e),x=t[Lr],I=W1(t);let N=!0;if(3&r.type||u){const re=no(r,t),pe=u?u(re):re,Ne=I.length,ve=u?_t=>u(ur(_t[r.index])):r.index;let tt=null;if(!u&&p&&(tt=function ZN(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const u=i[s];if(u===n&&i[s+1]===r){const p=t[Ao],m=i[s+2];return p.length>m?p[m]:null}"string"==typeof u&&(s+=2)}return null}(e,t,i,r.index)),null!==tt)(tt.__ngLastListenerFn__||tt).__ngNextListenerFn__=s,tt.__ngLastListenerFn__=s,N=!1;else{s=kx(r,t,x,s,!1);const _t=n.listen(pe,i,s);I.push(s,_t),w&&w.push(i,ve,Ne,Ne+1)}}else s=kx(r,t,x,s,!1);const U=r.outputs;let J;if(N&&null!==U&&(J=U[i])){const re=J.length;if(re)for(let pe=0;pe<re;pe+=2){const $t=t[J[pe]][J[pe+1]].subscribe(s),Zn=I.length;I.push(s,$t),w&&w.push(i,r.index,Zn,-(Zn+1))}}}(s,i,i[an],u,e,t,r),Bo}function Rx(e,t,n,r){try{return Oo(6,t,n),!1!==n(r)}catch(i){return Y1(e,i),!1}finally{Oo(7,t,n)}}function kx(e,t,n,r,i){return function s(u){if(u===Function)return r;Bv(e.componentOffset>-1?Yr(e.index,t):t);let m=Rx(t,n,r,u),w=s.__ngNextListenerFn__;for(;w;)m=Rx(t,n,w,u)&&m,w=w.__ngNextListenerFn__;return i&&!1===m&&u.preventDefault(),m}}function QN(e,t){let n=null;const r=function ai(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?Kn(e,s,!0):Qp(r,s))return i}else n=i}return n}function zw(e){const t=Ge()[kr][ui];if(!t.projection){const r=t.projection=Bc(e?e.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const u=e?QN(s,e):0;null!==u&&(i[u]?i[u].projectionNext=s:r[u]=s,i[u]=s),s=s.next}}}function Kv(e,t=0,n){const r=Ge(),i=kn(),s=Wg(i,cn+e,16,null,n||null);null===s.projection&&(s.projection=t),No(),(!r[ko]||Sl())&&32!=(32&s.flags)&&function ds(e,t,n){pi(t[an],0,t,n,Cn(e,n,t),Ae(n.parent||t[ui],n,t))}(i,r,s)}function eb(e,t){return e<<17|t<<2}function Ef(e){return e>>17&32767}function Uw(e){return 2|e}function sp(e){return(131068&e)>>2}function jw(e,t){return-131069&e|t<<2}function Gw(e){return 1|e}function Hx(e,t,n,r,i){const s=e[n+1],u=null===t;let p=r?Ef(s):sp(s),m=!1;for(;0!==p&&(!1===m||u);){const x=e[p+1];r2(e[p],t)&&(m=!0,e[p+1]=r?Gw(x):Uw(x)),p=r?Ef(x):sp(x)}m&&(e[n+1]=r?Uw(s):Gw(s))}function r2(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Nl(e,t)>=0}function qw(e,t,n){return jl(e,t,n,!1),qw}function Sa(e,t){return jl(e,t,null,!0),Sa}function jl(e,t,n,r){const i=Ge(),s=kn(),u=function us(e){const t=Dt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function Yx(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Si()],u=function Zx(e,t){return t>=e.expandoStartIndex}(e,n);(function eS(e,t){return 0!=(e.flags&(t?8:16))})(s,r)&&null===t&&!u&&(t=!1),t=function h2(e,t,n,r){const i=function zi(e){const t=Dt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Zv(n=Ww(null,e,t,n,r),t.attrs,r),s=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==i)if(n=Ww(i,e,t,n,r),null===s){let m=function p2(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==sp(r))return e[Ef(r)]}(e,t,r);void 0!==m&&Array.isArray(m)&&(m=Ww(null,e,t,m[1],r),m=Zv(m,t.attrs,r),function g2(e,t,n,r){e[Ef(n?t.classBindings:t.styleBindings)]=r}(e,t,r,m))}else s=function m2(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Zv(r,e[s].hostAttrs,n);return Zv(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function t2(e,t,n,r,i,s){let u=s?t.classBindings:t.styleBindings,p=Ef(u),m=sp(u);e[r]=n;let x,w=!1;if(Array.isArray(n)?(x=n[1],(null===x||Nl(n,x)>0)&&(w=!0)):x=n,i)if(0!==m){const N=Ef(e[p+1]);e[r+1]=eb(N,p),0!==N&&(e[N+1]=jw(e[N+1],r)),e[p+1]=function JN(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=eb(p,0),0!==p&&(e[p+1]=jw(e[p+1],r)),p=r;else e[r+1]=eb(m,0),0===p?p=r:e[m+1]=jw(e[m+1],r),m=r;w&&(e[r+1]=Uw(e[r+1])),Hx(e,x,r,!0),Hx(e,x,r,!1),function n2(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Nl(s,t)>=0&&(n[r+1]=Gw(n[r+1]))}(t,x,e,r,s),u=eb(p,m),s?t.classBindings=u:t.styleBindings=u}(i,s,t,n,u,r)}}(s,e,u,r),t!==_n&&Xo(i,u,t)&&function Xx(e,t,n,r,i,s,u,p){if(!(3&t.type))return;const m=e.data,w=m[p+1],x=function e2(e){return 1==(1&e)}(w)?Jx(m,t,n,i,sp(w),u):void 0;tb(x)||(tb(s)||function XN(e){return 2==(2&e)}(w)&&(s=Jx(m,null,n,i,p,u)),function yr(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:l.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=l.Important),e.setStyle(n,r,i,s))}}(r,u,function Bs(e,t){return ur(t[e])}(Si(),n),i,s))}(s,s.data[Si()],i,i[an],e,i[u+1]=function _2(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=oi(function Ea(e){return e instanceof Ag?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,u)}function Ww(e,t,n,r,i){let s=null;const u=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<u&&(s=t[p],r=Zv(r,s.hostAttrs,i),s!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function Zv(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const u=t[s];"number"==typeof u?i=u:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Or(e,u,!!n||t[++s]))}return void 0===e?null:e}function Jx(e,t,n,r,i,s){const u=null===t;let p;for(;i>0;){const m=e[i],w=Array.isArray(m),x=w?m[1]:m,I=null===x;let N=n[i+1];N===_n&&(N=I?Ln:void 0);let U=I?Vh(N,r):x===r?N:void 0;if(w&&!tb(U)&&(U=Vh(m,r)),tb(U)&&(p=U,u))return p;const J=e[i+1];i=u?Ef(J):sp(J)}if(null!==t){let m=s?t.residualClasses:t.residualStyles;null!=m&&(p=Vh(m,r))}return p}function tb(e){return void 0!==e}function Yv(e,t=""){const n=Ge(),r=kn(),i=e+cn,s=r.firstCreatePass?Wg(r,i,1,t,null):r.data[i],u=tS(r,n,s,t,e);n[i]=u,Ka()&&On(r,n,u,s),qo(s,!1)}let tS=(e,t,n,r,i)=>(pa(!0),function qe(e,t){return e.createText(t)}(t[an],r));function Zw(e,t,n){const r=Ge();return Xo(r,ha(),t)&&Ca(kn(),Cr(),r,e,t,r[an],n,!0),Zw}const sm="en-US";let DS=sm;function Xw(e,t,n,r,i){if(e=Gt(e),Array.isArray(e))for(let s=0;s<e.length;s++)Xw(e[s],t,n,r,i);else{const s=kn(),u=Ge(),p=ei();let m=Vu(e)?e:Gt(e.provide);const w=O0(e),x=1048575&p.providerIndexes,I=p.directiveStart,N=p.providerIndexes>>20;if(Vu(e)||!e.multi){const U=new Pc(w,i,Re),J=eE(m,t,i?x:x+N,I);-1===J?(Nu(Za(p,u),s,m),Jw(s,e,t.length),t.push(m),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),n.push(U),u.push(U)):(n[J]=U,u[J]=U)}else{const U=eE(m,t,x+N,I),J=eE(m,t,x,x+N),pe=J>=0&&n[J];if(i&&!pe||!i&&!(U>=0&&n[U])){Nu(Za(p,u),s,m);const Ne=function zF(e,t,n,r,i){const s=new Pc(e,n,Re);return s.multi=[],s.index=t,s.componentProviders=0,KS(s,i,r&&!n),s}(i?$F:VF,n.length,i,r,w);!i&&pe&&(n[J].providerFactory=Ne),Jw(s,e,t.length,0),t.push(m),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),n.push(Ne),u.push(Ne)}else Jw(s,e,U>-1?U:J,KS(n[i?J:U],w,!i&&r));!i&&r&&pe&&n[J].componentProviders++}}}function Jw(e,t,n,r){const i=Vu(t),s=function P0(e){return!!e.useClass}(t);if(i||s){const m=(s?Gt(t.useClass):t).prototype.ngOnDestroy;if(m){const w=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const x=w.indexOf(n);-1===x?w.push(n,[r,m]):w[x+1].push(r,m)}else w.push(n,m)}}}function KS(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eE(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function VF(e,t,n,r){return tE(this.multi,[])}function $F(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const u=this.providerFactory.componentProviders,p=Qa(n,n[lt],this.providerFactory.index,r);s=p.slice(0,u),tE(i,s);for(let m=u;m<p.length;m++)s.push(p[m])}else s=[],tE(i,s);return s}function tE(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function cr(e,t=[]){return n=>{n.providersResolver=(r,i)=>function BF(e,t,n){const r=kn();if(r.firstCreatePass){const i=os(e);Xw(n,r.data,r.blueprint,i,!0),Xw(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class lp{}class ZS{}class nE extends lp{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rx(this);const i=Bi(t);this._bootstrapComponents=Kc(i.bootstrap),this._r3Injector=v1(t,n,[{provide:lp,useValue:this},{provide:xn,useValue:this.componentFactoryResolver},...r],oi(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class rE extends ZS{constructor(t){super(),this.moduleType=t}create(t){return new nE(this.moduleType,t,[])}}class YS extends lp{constructor(t){super(),this.componentFactoryResolver=new rx(this),this.instance=null;const n=new Vg([...t.providers,{provide:lp,useValue:this},{provide:xn,useValue:this.componentFactoryResolver}],t.parent||Bg(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function iE(e,t,n=null){return new YS({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let jF=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=A0(0,n.type),i=r.length>0?iE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ct({token:e,providedIn:"environment",factory:()=>new e(Ze(ps))})}return e})();function QS(e){e.getStandaloneInjector=t=>t.get(jF).getOrCreateStandaloneInjector(e)}function mL(){return this._results[Symbol.iterator]()}class sE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new er)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=sE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=mL)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Zo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function hi(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function yL(e,t,n,r=!0){const i=t[lt];if(function Ot(e,t,n,r){const i=yi+r,s=n.length;r>0&&(n[i-1][jo]=t),r<s-yi?(t[jo]=n[i],Lu(n,yi+r,t)):(n.push(t),t[jo]=null),t[Mr]=n;const u=t[En];null!==u&&n!==u&&function Ht(e,t){const n=e[Ps];t[kr]!==t[Mr][Mr][kr]&&(e[Xp]=!0),null===n?e[Ps]=[t]:n.push(t)}(u,t);const p=t[mt];null!==p&&p.insertView(e),t[un]|=128}(i,t,e,n),r){const s=en(n,e),u=t[an],p=Oe(u,e[ks]);null!==p&&function Qe(e,t,n,r,i,s){r[ar]=i,r[ui]=t,Ii(e,r,n,1,i,s)}(i,e[ui],u,t,p,s)}}let ql=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=wL}return e})();const bL=ql,_L=class extends bL{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function vL(e,t,n,r){const i=t.tView,p=U0(e,i,n,4096&e[un]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);p[En]=e[t.index];const w=e[mt];return null!==w&&(p[mt]=w.createEmbeddedView(i)),Rw(i,p,n),p}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new zv(i)}};function wL(){return sb(ei(),Ge())}function sb(e,t){return 4&e.type?new _L(t,e,Ui(e,t)):null}let rl=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=ML}return e})();function ML(){return gM(ei(),Ge())}const TL=rl,hM=class extends TL{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ui(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const t=vr(this._hostTNode,this._hostLView);if(Ou(t)){const n=Al(t,this._hostLView),r=cs(t);return new ro(n[lt].data[r+8],n)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=pM(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-yi}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const p=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(p,i,false),p}createComponent(t,n,r,i,s){const u=t&&!function js(e){return"function"==typeof e}(t);let p;if(u)p=n;else{const re=n||{};p=re.index,r=re.injector,i=re.projectableNodes,s=re.environmentInjector||re.ngModuleRef}const m=u?t:new Hv(An(t)),w=r||this.parentInjector;if(!s&&null==m.ngModule){const pe=(u?w:this.parentInjector).get(ps,null);pe&&(s=pe)}An(m.componentType??{});const U=m.create(w,i,null,s);return this.insertImpl(U.hostView,p,false),U}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function Di(e){return wn(e[Mr])}(i)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const w=i[Mr],x=new hM(w,w[ui],w[Mr]);x.detach(x.indexOf(t))}}const u=this._adjustIndex(n),p=this._lContainer;return yL(p,i,u,!r),t.attachToViewContainerRef(),Lu(aE(p),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=pM(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ut(this._lContainer,n);r&&(rf(aE(this._lContainer),n),xt(r[lt],r))}detach(t){const n=this._adjustIndex(t,-1),r=ut(this._lContainer,n);return r&&null!=rf(aE(this._lContainer),n)?new zv(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function pM(e){return e[8]}function aE(e){return e[8]||(e[8]=[])}function gM(e,t){let n;const r=t[e.index];return wn(r)?n=r:(n=G1(r,t,null,e),t[e.index]=n,j0(t,n)),mM(n,t,e,r),new hM(n,e,t)}let mM=function vM(e,t,n,r){if(e[ks])return;let i;i=8&n.type?ur(r):function IL(e,t){const n=e[an],r=n.createComment(""),i=no(t,e);return Wt(n,Oe(n,i),r,function xe(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[ks]=i};class lE{constructor(t){this.queryList=t,this.matches=null}clone(){return new lE(this.queryList)}setDirty(){this.queryList.setDirty()}}class uE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const u=n.getByIndex(s);i.push(this.queries[u.indexInDeclarationView].clone())}return new uE(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==EM(t,n).matches&&this.queries[n].setDirty()}}class yM{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class cE{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new cE(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class dE{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new dE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,kL(n,s)),this.matchTNodeWithReadOption(t,n,Ya(n,t,s,!1,!1))}else r===ql?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ya(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Gn||i===rl||i===ql&&4&n.type)this.addMatch(n.index,-2);else{const s=Ya(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function kL(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function OL(e,t,n,r){return-1===n?function PL(e,t){return 11&e.type?Ui(e,t):4&e.type?sb(e,t):null}(t,e):-2===n?function NL(e,t,n){return n===Gn?Ui(t,e):n===ql?sb(t,e):n===rl?gM(t,e):void 0}(e,t,r):Qa(e,e[lt],n,t)}function bM(e,t,n,r){const i=t[mt].queries[r];if(null===i.matches){const s=e.data,u=n.matches,p=[];for(let m=0;m<u.length;m+=2){const w=u[m];p.push(w<0?null:OL(t,s[w],u[m+1],n.metadata.read))}i.matches=p}return i.matches}function fE(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const u=bM(e,t,i,n);for(let p=0;p<s.length;p+=2){const m=s[p];if(m>0)r.push(u[p/2]);else{const w=s[p+1],x=t[-m];for(let I=yi;I<x.length;I++){const N=x[I];N[En]===N[Mr]&&fE(N[lt],N,w,r)}if(null!==x[Ps]){const I=x[Ps];for(let N=0;N<I.length;N++){const U=I[N];fE(U[lt],U,w,r)}}}}}return r}function Df(e){const t=Ge(),n=kn(),r=xi();Il(r+1);const i=EM(n,r);if(e.dirty&&function Dh(e){return 4==(4&e[un])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?fE(n,t,r,[]):bM(n,t,i,r);e.reset(s,gs),e.notifyOnChanges()}return!0}return!1}function lb(e,t,n){const r=kn();r.firstCreatePass&&(wM(r,new yM(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),_M(r,Ge(),t)}function iy(e,t,n,r){const i=kn();if(i.firstCreatePass){const s=ei();wM(i,new yM(t,n,r),s.index),function LL(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}_M(i,Ge(),n)}function Cf(){return function FL(e,t){return e[mt].queries[t].queryList}(Ge(),xi())}function _M(e,t,n){const r=new sE(4==(4&n));(function TO(e,t,n,r){const i=W1(t);i.push(n),e.firstCreatePass&&K1(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[mt]&&(t[mt]=new uE),t[mt].queries.push(new lE(r))}function wM(e,t,n){null===e.queries&&(e.queries=new cE),e.queries.track(new dE(t,n))}function EM(e,t){return e.queries.getByIndex(t)}const yE=new it("Application Initializer");let bE=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=at(yE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Wv(s))n.push(s);else if(Tx(s)){const u=new Promise((p,m)=>{s.subscribe({complete:p,error:m})});n.push(u)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),VM=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Gu=new it("LocaleId",{providedIn:"root",factory:()=>at(Gu,pn.Optional|pn.SkipSelf)||function oB(){return typeof $localize<"u"&&$localize.locale||sm}()});let cb=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wi(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class lB{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let $M=(()=>{class e{compileModuleSync(n){return new rE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Kc(Bi(n).declarations).reduce((u,p)=>{const m=An(p);return m&&u.push(new Hv(m)),u},[]);return new lB(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jM=new it(""),fb=new it("");let CE,EE=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CE||(function TB(e){CE=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Nn),Ze(DE),Ze(fb))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})(),DE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return CE?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),xf=null;const GM=new it("AllowMultipleToken"),xE=new it("PlatformDestroyListeners"),SE=new it("appBootstrapListener");class WM{constructor(t,n){this.name=t,this.token=n}}function ZM(e,t,n=[]){const r=`Platform: ${t}`,i=new it(r);return(s=[])=>{let u=ME();if(!u||u.injector.get(GM,!1)){const p=[...n,...s,{provide:i,useValue:!0}];e?e(p):function RB(e){if(xf&&!xf.get(GM,!1))throw new Te(400,!1);(function qM(){!function Vd(e){bh=e}(()=>{throw new Te(600,!1)})})(),xf=e;const t=e.get(QM);(function KM(e){e.get(N0,null)?.forEach(n=>n())})(e)}(function YM(e=[],t){return Da.create({name:t,providers:[{provide:Sv,useValue:"platform"},{provide:xE,useValue:new Set([()=>xf=null])},...e]})}(p,r))}return function PB(e){const t=ME();if(!t)throw new Te(401,!1);return t}()}}function ME(){return xf?.get(QM)??null}let QM=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function OB(e="zone.js",t){return"noop"===e?new cO:"zone.js"===e?new Nn(t):e}(r?.ngZone,function XM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function UF(e,t,n){return new nE(e,t,n)}(n.moduleType,this.injector,function rT(e){return[{provide:Nn,useFactory:e},{provide:Jh,multi:!0,useFactory:()=>{const t=at(FB,{optional:!0});return()=>t.initialize()}},{provide:nT,useFactory:NB},{provide:E1,useFactory:D1}]}(()=>i)),u=s.injector.get(Wc,null);return i.runOutsideAngular(()=>{const p=i.onError.subscribe({next:m=>{u.handleError(m)}});s.onDestroy(()=>{hb(this._modules,s),p.unsubscribe()})}),function JM(e,t,n){try{const r=n();return Wv(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,i,()=>{const p=s.injector.get(bE);return p.runInitializers(),p.donePromise.then(()=>(function CS(e){Ki(e,"Expected localeId to be defined"),"string"==typeof e&&(DS=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Gu,sm)||sm),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=eT({},r);return function IB(e,t,n){const r=new rE(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(up);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Te(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(xE,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Da))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function eT(e,t){return Array.isArray(t)?t.reduce(eT,e):{...e,...t}}let up=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=at(nT),this.zoneIsStable=at(E1),this.componentTypes=[],this.components=[],this.isStable=at(cb).hasPendingTasks.pipe(lo(n=>n?jt(!1):this.zoneIsStable),Bp(),Zf()),this._injector=at(ps)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof yt;if(!this._injector.get(bE).done)throw!i&&function Rs(e){const t=An(e)||Rr(e)||vi(e);return null!==t&&t.standalone}(n),new Te(405,!1);let u;u=i?n:this._injector.get(xn).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const p=function AB(e){return e.isBoundToModule}(u)?void 0:this._injector.get(lp),w=u.create(Da.NULL,[],r||u.selector,p),x=w.location.nativeElement,I=w.injector.get(jM,null);return I?.registerApplication(x),w.onDestroy(()=>{this.detachView(w.hostView),hb(this.components,w),I?.unregisterApplication(x)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;hb(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(SE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hb(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Te(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const nT=new it("",{providedIn:"root",factory:()=>at(Wc).handleError.bind(void 0)});function NB(){const e=at(Nn),t=at(Wc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let FB=(()=>{class e{constructor(){this.zone=at(Nn),this.applicationRef=at(up)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let cp=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=BB}return e})();function BB(e){return function VB(e,t,n){if(fn(e)&&!n){const r=Yr(e.index,t);return new zv(r,r)}return 47&e.type?new zv(t[kr],t):null}(ei(),Ge(),16==(16&e))}const XB=ZM(null,"core",[]);let JB=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(up))};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({})}return e})(),PE=null;function Sf(){return PE}class hV{}const Gr=new it("DocumentToken");let OE=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return at(gV)},providedIn:"platform"})}return e})();const pV=new it("Location Initialized");let gV=(()=>{class e extends OE{constructor(){super(),this._doc=at(Gr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sf().getBaseHref(this._doc)}onPopState(n){const r=Sf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Sf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function NE(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function wT(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Yc(e){return e&&"?"!==e[0]?"?"+e:e}let fp=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return at(DT)},providedIn:"root"})}return e})();const ET=new it("appBaseHref");let DT=(()=>{class e extends fp{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??at(Gr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return NE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Yc(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const u=this.prepareExternalUrl(i+Yc(s));this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){const u=this.prepareExternalUrl(i+Yc(s));this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(OE),Ze(ET,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mV=(()=>{class e extends fp{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=NE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let u=this.prepareExternalUrl(i+Yc(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){let u=this.prepareExternalUrl(i+Yc(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(OE),Ze(ET,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})(),FE=(()=>{class e{constructor(n){this._subject=new er,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function bV(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(wT(CT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yc(r))}normalize(n){return e.stripTrailingSlash(function yV(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,CT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yc(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Yc;static#t=this.joinWithSlash=NE;static#n=this.stripTrailingSlash=wT;static#r=this.\u0275fac=function(r){return new(r||e)(Ze(fp))};static#i=this.\u0275prov=Ct({token:e,factory:function(){return function vV(){return new FE(Ze(fp))}()},providedIn:"root"})}return e})();function CT(e){return e.replace(/\/index.html$/,"")}function PT(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let LT=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new a$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){BT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){BT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Re(rl),Re(ql))};static#t=this.\u0275dir=Ft({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class a${constructor(){this.$implicit=null,this.ngIf=null}}function BT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${oi(t)}'.`)}let QE=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({})}return e})();const zT="browser";function HT(e){return"server"===e}let F$=(()=>{class e{static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new L$(Ze(Gr),window)})}return e})();class L${constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function B$(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class UT{}class a5 extends hV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class eD extends a5{static makeCurrent(){!function fV(e){PE||(PE=e)}(new eD)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function l5(){return dy=dy||document.querySelector("base"),dy?dy.getAttribute("href"):null}();return null==n?null:function u5(e){Ab=Ab||document.createElement("a"),Ab.setAttribute("href",e);const t=Ab.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){dy=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return PT(document.cookie,t)}}let Ab,dy=null,d5=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const tD=new it("EventManagerPlugins");let KT=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Te(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(tD),Ze(Nn))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();class ZT{constructor(t){this._doc=t}}const nD="ng-app-id";let YT=(()=>{class e{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=HT(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${nD}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(nD),s;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(nD,this.appId),u}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,u=s.get(r)?.elements;u?u.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Gr),Ze($g),Ze(Iv,8),Ze($u))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const rD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iD=/%COMP%/g,g5=new it("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function XT(e,t){return t.map(n=>n.replace(iD,e))}let oD=(()=>{class e{constructor(n,r,i,s,u,p,m,w=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=p,this.ngZone=m,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=HT(p),this.defaultRenderer=new sD(n,u,m,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===To.ShadowDom&&(r={...r,encapsulation:To.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof eI?i.applyToHost(n):i instanceof aD&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const u=this.doc,p=this.ngZone,m=this.eventManager,w=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(r.encapsulation){case To.Emulated:s=new eI(m,w,r,this.appId,x,u,p,I);break;case To.ShadowDom:return new b5(m,w,n,r,u,p,this.nonce,I);default:s=new aD(m,w,r,x,u,p,I)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(KT),Ze(YT),Ze($g),Ze(g5),Ze(Gr),Ze($u),Ze(Nn),Ze(Iv))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();class sD{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(rD[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(JT(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(JT(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Te(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=rD[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=rD[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(l.DashCase|l.Important)?t.style.setProperty(n,r,i&l.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&l.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Sf().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function JT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class b5 extends sD{constructor(t,n,r,i,s,u,p,m){super(t,s,u,m),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=XT(i.id,i.styles);for(const x of w){const I=document.createElement("style");p&&I.setAttribute("nonce",p),I.textContent=x,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class aD extends sD{constructor(t,n,r,i,s,u,p,m){super(t,s,u,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=m?XT(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class eI extends aD{constructor(t,n,r,i,s,u,p,m){const w=i+"-"+r.id;super(t,n,r,s,u,p,m,w),this.contentAttr=function m5(e){return"_ngcontent-%COMP%".replace(iD,e)}(w),this.hostAttr=function v5(e){return"_nghost-%COMP%".replace(iD,e)}(w)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let _5=(()=>{class e extends ZT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Gr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const tI=["alt","control","meta","shift"],w5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let D5=(()=>{class e extends ZT{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),u=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sf().onAndCancel(n,s.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let u="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),u="code."),tI.forEach(w=>{const x=r.indexOf(w);x>-1&&(r.splice(x,1),u+=w+".")}),u+=s,0!=r.length||0===s.length)return null;const m={};return m.domEventName=i,m.fullKey=u,m}static matchEventFullKeyCode(n,r){let i=w5[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),tI.forEach(u=>{u!==i&&(0,E5[u])(n)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Gr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const rI=[{provide:$u,useValue:zT},{provide:N0,useValue:function C5(){eD.makeCurrent()},multi:!0},{provide:Gr,useFactory:function S5(){return function fs(e){Ai=e}(document),document},deps:[]}],M5=ZM(XB,"browser",rI),T5=new it(""),iI=[{provide:fb,useClass:class c5{addToWindow(t){In.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Te(5103,!1);return s},In.getAllAngularTestabilities=()=>t.getAllTestabilities(),In.getAllAngularRootElements=()=>t.getAllRootElements(),In.frameworkStabilizers||(In.frameworkStabilizers=[]),In.frameworkStabilizers.push(r=>{const i=In.getAllAngularTestabilities();let s=i.length,u=!1;const p=function(m){u=u||m,s--,0==s&&r(u)};i.forEach(m=>{m.whenStable(p)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Sf().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:jM,useClass:EE,deps:[Nn,DE,fb]},{provide:EE,useClass:EE,deps:[Nn,DE,fb]}],oI=[{provide:Sv,useValue:"root"},{provide:Wc,useFactory:function x5(){return new Wc},deps:[]},{provide:tD,useClass:_5,multi:!0,deps:[Gr,Nn,$u]},{provide:tD,useClass:D5,multi:!0,deps:[Gr]},oD,YT,KT,{provide:$r,useExisting:oD},{provide:UT,useClass:d5,deps:[]},[]];let sI=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:$g,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(T5,12))};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({providers:[...oI,...iI],imports:[QE,JB]})}return e})(),aI=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Gr))};static#t=this.\u0275prov=Ct({token:e,factory:function(r){let i=null;return i=r?new r:function A5(){return new aI(Ze(Gr))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:F5}=Array,{getPrototypeOf:L5,prototype:B5,keys:V5}=Object;function dI(e){if(1===e.length){const t=e[0];if(F5(t))return{args:t,keys:null};if(function $5(e){return e&&"object"==typeof e&&L5(e)===B5}(t)){const n=V5(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:z5}=Array;function uD(e){return nn(t=>function H5(e,t){return z5(t)?e(...t):e(t)}(e,t))}function fI(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Rb(...e){const t=zo(e),n=Wr(e),{args:r,keys:i}=dI(e);if(0===r.length)return Kr([],t);const s=new Mt(function U5(e,t,n=st){return r=>{hI(t,()=>{const{length:i}=e,s=new Array(i);let u=i,p=i;for(let m=0;m<i;m++)hI(t,()=>{const w=Kr(e[m],t);let x=!1;w.subscribe(gr(r,I=>{s[m]=I,x||(x=!0,p--),p||r.next(n(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>fI(i,u):st));return n?s.pipe(uD(n)):s}function hI(e,t,n){e?Xn(n,e,t):t()}const kb=V(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Pb(...e){return function j5(){return lu(1)}()(Kr(e,zo(e)))}function pI(e){return new Mt(t=>{Fi(e()).subscribe(t)})}function fy(e,t){const n=ce(e)?e:()=>e,r=i=>i.error(n());return new Mt(t?i=>t.schedule(r,0,i):r)}function cD(){return lr((e,t)=>{let n=null;e._refCount++;const r=gr(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class gI extends Mt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Vf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ze;const n=this.getSubject();t.add(this.source.subscribe(gr(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ze.EMPTY)}return t}refCount(){return cD()(this)}}function Jc(e){return e<=0?()=>ii:lr((t,n)=>{let r=0;t.subscribe(gr(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function hy(...e){const t=zo(e);return lr((n,r)=>{(t?Pb(e,n,t):Pb(e,n)).subscribe(r)})}function Zl(e,t){return lr((n,r)=>{let i=0;n.subscribe(gr(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Ob(e){return lr((t,n)=>{let r=!1;t.subscribe(gr(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function mI(e=G5){return lr((t,n)=>{let r=!1;t.subscribe(gr(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function G5(){return new kb}function hp(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Zl((i,s)=>e(i,s,r)):st,Jc(1),n?Ob(t):mI(()=>new kb))}function dm(e,t){return ce(t)?Jt(e,t,1):Jt(e,1)}function wo(e,t,n){const r=ce(e)||t||n?{next:e,error:t,complete:n}:e;return r?lr((i,s)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let p=!0;i.subscribe(gr(s,m=>{var w;null===(w=r.next)||void 0===w||w.call(r,m),s.next(m)},()=>{var m;p=!1,null===(m=r.complete)||void 0===m||m.call(r),s.complete()},m=>{var w;p=!1,null===(w=r.error)||void 0===w||w.call(r,m),s.error(m)},()=>{var m,w;p&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):st}function pp(e){return lr((t,n)=>{let s,r=null,i=!1;r=t.subscribe(gr(n,void 0,void 0,u=>{s=Fi(e(u,pp(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dD(e){return e<=0?()=>ii:lr((t,n)=>{let r=[];t.subscribe(gr(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function py(e){return lr((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function gp(e){return lr((t,n)=>{Fi(e).subscribe(gr(n,()=>n.complete(),vn)),!n.closed&&t.subscribe(n)})}const Sn="primary",gy=Symbol("RouteTitle");class Y5{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function fm(e){return new Y5(e)}function Q5(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],p=e[s];if(u.startsWith(":"))i[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function qu(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vI(e[i],t[i]))return!1;return!0}function vI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function yI(e){return e.length>0?e[e.length-1]:null}function Tf(e){return function N5(e){return!!e&&(e instanceof Mt||ce(e.lift)&&ce(e.subscribe))}(e)?e:Wv(e)?Kr(Promise.resolve(e)):jt(e)}const J5={exact:function wI(e,t,n){if(!mp(e.segments,t.segments)||!Nb(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!wI(e.children[r],t.children[r],n))return!1;return!0},subset:EI},bI={exact:function e3(e,t){return qu(e,t)},subset:function t3(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>vI(e[n],t[n]))},ignored:()=>!0};function _I(e,t,n){return J5[n.paths](e.root,t.root,n.matrixParams)&&bI[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function EI(e,t,n){return DI(e,t,t.segments,n)}function DI(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!mp(i,n)||t.hasChildren()||!Nb(i,n,r))}if(e.segments.length===n.length){if(!mp(e.segments,n)||!Nb(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!EI(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(mp(e.segments,i)&&Nb(e.segments,i,r)&&e.children[Sn])&&DI(e.children[Sn],t,s,r)}}function Nb(e,t,n){return t.every((r,i)=>bI[n](e[i].parameters,r.parameters))}class hm{constructor(t=new Ir([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fm(this.queryParams)),this._queryParamMap}toString(){return o3.serialize(this)}}class Ir{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fb(this)}}class my{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=fm(this.parameters)),this._parameterMap}toString(){return SI(this)}}function mp(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let vy=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return new fD},providedIn:"root"})}return e})();class fD{parse(t){const n=new m3(t);return new hm(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${yy(t.root,!0)}`,r=function l3(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Lb(n)}=${Lb(i)}`).join("&"):`${Lb(n)}=${Lb(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function s3(e){return encodeURI(e)}(t.fragment)}`:""}`}}const o3=new fD;function Fb(e){return e.segments.map(t=>SI(t)).join("/")}function yy(e,t){if(!e.hasChildren())return Fb(e);if(t){const n=e.children[Sn]?yy(e.children[Sn],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==Sn&&r.push(`${i}:${yy(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function r3(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Sn&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Sn&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Sn?[yy(e.children[Sn],!1)]:[`${i}:${yy(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Sn]?`${Fb(e)}/${n[0]}`:`${Fb(e)}/(${n.join("//")})`}}function CI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lb(e){return CI(e).replace(/%3B/gi,";")}function hD(e){return CI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bb(e){return decodeURIComponent(e)}function xI(e){return Bb(e.replace(/\+/g,"%20"))}function SI(e){return`${hD(e.path)}${function a3(e){return Object.keys(e).map(t=>`;${hD(t)}=${hD(e[t])}`).join("")}(e.parameters)}`}const u3=/^[^\/()?;#]+/;function pD(e){const t=e.match(u3);return t?t[0]:""}const c3=/^[^\/()?;=#]+/,f3=/^[^=?&#]+/,p3=/^[^&#]+/;class m3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ir([],{}):new Ir([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Sn]=new Ir(t,n)),r}parseSegment(){const t=pD(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Te(4009,!1);return this.capture(t),new my(Bb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function d3(e){const t=e.match(c3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=pD(this.remaining);i&&(r=i,this.capture(r))}t[Bb(n)]=Bb(r)}parseQueryParam(t){const n=function h3(e){const t=e.match(f3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function g3(e){const t=e.match(p3);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=xI(n),s=xI(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=pD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Te(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Sn);const u=this.parseChildren();n[s]=1===Object.keys(u).length?u[Sn]:new Ir([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Te(4011,!1)}}function MI(e){return e.segments.length>0?new Ir([],{[Sn]:e}):e}function TI(e){const t={};for(const r of Object.keys(e.children)){const s=TI(e.children[r]);if(r===Sn&&0===s.segments.length&&s.hasChildren())for(const[u,p]of Object.entries(s.children))t[u]=p;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function v3(e){if(1===e.numberOfChildren&&e.children[Sn]){const t=e.children[Sn];return new Ir(e.segments.concat(t.segments),t.children)}return e}(new Ir(e.segments,t))}function vp(e){return e instanceof hm}function II(e){let t;const i=MI(function n(s){const u={};for(const m of s.children){const w=n(m);u[m.outlet]=w}const p=new Ir(s.url,u);return s===e&&(t=p),p}(e.root));return t??i}function AI(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return gD(i,i,i,n,r);const s=function b3(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new kI(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const p={};return Object.entries(s.outlets).forEach(([m,w])=>{p[m]="string"==typeof w?w.split("/"):w}),[...i,{outlets:p}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((p,m)=>{0==m&&"."===p||(0==m&&""===p?n=!0:".."===p?t++:""!=p&&i.push(p))}),i):[...i,s]},[]);return new kI(n,t,r)}(t);if(s.toRoot())return gD(i,i,new Ir([],{}),n,r);const u=function _3(e,t,n){if(e.isAbsolute)return new $b(t,!0,0);if(!n)return new $b(t,!1,NaN);if(null===n.parent)return new $b(n,!0,0);const r=Vb(e.commands[0])?0:1;return function w3(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Te(4005,!1);i=r.segments.length}return new $b(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),p=u.processChildren?_y(u.segmentGroup,u.index,s.commands):PI(u.segmentGroup,u.index,s.commands);return gD(i,u.segmentGroup,p,n,r)}function Vb(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function by(e){return"object"==typeof e&&null!=e&&e.outlets}function gD(e,t,n,r,i){let u,s={};r&&Object.entries(r).forEach(([m,w])=>{s[m]=Array.isArray(w)?w.map(x=>`${x}`):`${w}`}),u=e===t?n:RI(e,t,n);const p=MI(TI(u));return new hm(p,s,i)}function RI(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:RI(s,t,n)}),new Ir(e.segments,r)}class kI{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Vb(r[0]))throw new Te(4003,!1);const i=r.find(by);if(i&&i!==yI(r))throw new Te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $b{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function PI(e,t,n){if(e||(e=new Ir([],{})),0===e.segments.length&&e.hasChildren())return _y(e,t,n);const r=function D3(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const u=e.segments[i],p=n[r];if(by(p))break;const m=`${p}`,w=r<n.length-1?n[r+1]:null;if(i>0&&void 0===m)break;if(m&&w&&"object"==typeof w&&void 0===w.outlets){if(!NI(m,w,u))return s;r+=2}else{if(!NI(m,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Ir(e.segments.slice(0,r.pathIndex),{});return s.children[Sn]=new Ir(e.segments.slice(r.pathIndex),e.children),_y(s,0,i)}return r.match&&0===i.length?new Ir(e.segments,{}):r.match&&!e.hasChildren()?mD(e,t,n):r.match?_y(e,0,i):mD(e,t,n)}function _y(e,t,n){if(0===n.length)return new Ir(e.segments,{});{const r=function E3(e){return by(e[0])?e[0].outlets:{[Sn]:e}}(n),i={};if(Object.keys(r).some(s=>s!==Sn)&&e.children[Sn]&&1===e.numberOfChildren&&0===e.children[Sn].segments.length){const s=_y(e.children[Sn],t,n);return new Ir(e.segments,s.children)}return Object.entries(r).forEach(([s,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[s]=PI(e.children[s],t,u))}),Object.entries(e.children).forEach(([s,u])=>{void 0===r[s]&&(i[s]=u)}),new Ir(e.segments,i)}}function mD(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(by(s)){const m=C3(s.outlets);return new Ir(r,m)}if(0===i&&Vb(n[0])){r.push(new my(e.segments[t].path,OI(n[0]))),i++;continue}const u=by(s)?s.outlets[Sn]:`${s}`,p=i<n.length-1?n[i+1]:null;u&&p&&Vb(p)?(r.push(new my(u,OI(p))),i+=2):(r.push(new my(u,{})),i++)}return new Ir(r,{})}function C3(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=mD(new Ir([],{}),0,r))}),t}function OI(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function NI(e,t,n){return e==n.path&&qu(t,n.parameters)}const wy="imperative";class Wu{constructor(t,n){this.id=t,this.url=n}}class zb extends Wu{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class If extends Wu{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ey extends Wu{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pm extends Wu{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Hb extends Wu{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class FI extends Wu{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x3 extends Wu{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S3 extends Wu{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class M3 extends Wu{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T3 extends Wu{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I3{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class A3{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class R3{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k3{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P3{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O3{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LI{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vD{}class yD{constructor(t){this.url=t}}class N3{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dy,this.attachRef=null}}let Dy=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new N3,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class BI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=bD(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=bD(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=_D(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return _D(t,this._root).map(n=>n.value)}}function bD(e,t){if(e===t.value)return t;for(const n of t.children){const r=bD(e,n);if(r)return r}return null}function _D(e,t){if(e===t.value)return[t];for(const n of t.children){const r=_D(e,n);if(r.length)return r.unshift(t),r}return[]}class ed{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function gm(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class VI extends BI{constructor(t,n){super(t),this.snapshot=n,wD(this,t)}toString(){return this.snapshot.toString()}}function $I(e,t){const n=function F3(e,t){const u=new Ub([],{},{},"",{},Sn,t,null,{});return new HI("",new ed(u,[]))}(0,t),r=new Wi([new my("",{})]),i=new Wi({}),s=new Wi({}),u=new Wi({}),p=new Wi(""),m=new yp(r,i,u,p,s,Sn,t,n.root);return m.snapshot=n.root,new VI(new ed(m,[]),n)}class yp{constructor(t,n,r,i,s,u,p,m){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=u,this.component=p,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(nn(w=>w[gy]))??jt(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(nn(t=>fm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(nn(t=>fm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zI(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function L3(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ub{get title(){return this.data?.[gy]}constructor(t,n,r,i,s,u,p,m,w){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=p,this.routeConfig=m,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HI extends BI{constructor(t,n){super(n),this.url=t,wD(this,n)}toString(){return UI(this._root)}}function wD(e,t){t.value._routerState=e,t.children.forEach(n=>wD(e,n))}function UI(e){const t=e.children.length>0?` { ${e.children.map(UI).join(", ")} } `:"";return`${e.value}${t}`}function ED(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qu(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qu(t.params,n.params)||e.paramsSubject.next(n.params),function X5(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qu(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),qu(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function DD(e,t){const n=qu(e.params,t.params)&&function n3(e,t){return mp(e,t)&&e.every((n,r)=>qu(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||DD(e.parent,t.parent))}let CD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Sn,this.activateEvents=new er,this.deactivateEvents=new er,this.attachEvents=new er,this.detachEvents=new er,this.parentContexts=at(Dy),this.location=at(rl),this.changeDetector=at(cp),this.environmentInjector=at(ps),this.inputBinder=at(jb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Te(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Te(4013,!1);this._activatedRoute=n;const i=this.location,u=n.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,m=new B3(n,p,i.injector);this.activated=i.createComponent(u,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ft({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[po]})}return e})();class B3{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===yp?this.route:t===Dy?this.childContexts:this.parent.get(t,n)}}const jb=new it("");let jI=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Rb([r.queryParams,r.params,r.data]).pipe(lo(([s,u,p],m)=>(p={...s,...u,...p},0===m?jt(p):Promise.resolve(p)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const u=function dV(e){const t=An(e);if(!t)return null;const n=new Hv(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(u)for(const{templateName:p}of u.inputs)n.activatedComponentRef.setInput(p,s[p]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();function Cy(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function $3(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Cy(e,r,i);return Cy(e,r)})}(e,t,n);return new ed(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(p=>Cy(e,p)),u}}const r=function z3(e){return new yp(new Wi(e.url),new Wi(e.params),new Wi(e.queryParams),new Wi(e.fragment),new Wi(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Cy(e,s));return new ed(r,i)}}const xD="ngNavigationCancelingError";function GI(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=vp(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=qI(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function qI(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[xD]=!0,r.cancellationCode=t,n&&(r.url=n),r}function WI(e){return e&&e[xD]}let KI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=sa({type:e,selectors:[["ng-component"]],standalone:!0,features:[QS],decls:1,vars:0,template:function(r,i){1&r&&xa(0,"router-outlet")},dependencies:[CD],encapsulation:2})}return e})();function SD(e){const t=e.children&&e.children.map(SD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Sn&&(n.component=KI),n}function Yl(e){return e.outlet||Sn}function xy(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Z3{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ED(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=gm(n);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=gm(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:p})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=gm(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=gm(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new O3(s.value.snapshot))}),t.children.length&&this.forwardEvent(new k3(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(ED(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),ED(p.route.value),this.activateChildRoutes(t,null,u.children)}else{const p=xy(i.snapshot);u.attachRef=null,u.route=i,u.injector=p,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class ZI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Gb{constructor(t,n){this.component=t,this.route=n}}function Y3(e,t,n){const r=e._root;return Sy(r,t?t._root:null,n,[r.value])}function mm(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function Hp(e){return null!==Pa(e)}(e)?t.get(e):e:r}function Sy(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=gm(t);return e.children.forEach(u=>{(function X3(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,u=t?t.value:null,p=n?n.getContext(e.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const m=function J3(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!mp(e.url,t.url);case"pathParamsOrQueryParamsChange":return!mp(e.url,t.url)||!qu(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DD(e,t)||!qu(e.queryParams,t.queryParams);default:return!DD(e,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new ZI(r)):(s.data=u.data,s._resolvedData=u._resolvedData),Sy(e,t,s.component?p?p.children:null:n,r,i),m&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Gb(p.outlet.component,u))}else u&&My(t,p,i),i.canActivateChecks.push(new ZI(r)),Sy(e,null,s.component?p?p.children:null:n,r,i)})(u,s[u.value.outlet],n,r.concat([u.value]),i),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,p])=>My(p,n.getContext(u),i)),i}function My(e,t,n){const r=gm(e),i=e.value;Object.entries(r).forEach(([s,u])=>{My(u,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Gb(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Ty(e){return"function"==typeof e}function YI(e){return e instanceof kb||"EmptyError"===e?.name}const qb=Symbol("INITIAL_VALUE");function vm(){return lo(e=>Rb(e.map(t=>t.pipe(Jc(1),hy(qb)))).pipe(nn(t=>{for(const n of t)if(!0!==n){if(n===qb)return qb;if(!1===n||n instanceof hm)return n}return!0}),Zl(t=>t!==qb),Jc(1)))}function QI(e){return function Wn(...e){return Fn(e)}(wo(t=>{if(vp(t))throw GI(0,t)}),nn(t=>!0===t))}class Wb{constructor(t){this.segmentGroup=t||null}}class XI{constructor(t){this.urlTree=t}}function ym(e){return fy(new Wb(e))}function JI(e){return fy(new XI(e))}class bz{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new Te(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return jt(r);if(i.numberOfChildren>1||!i.children[Sn])return fy(new Te(4e3,!1));i=i.children[Sn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new hm(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);r[i]=n[p]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let u={};return Object.entries(n.children).forEach(([p,m])=>{u[p]=this.createSegmentGroup(t,m,r,i)}),new Ir(s,u)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Te(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const MD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _z(e,t,n,r,i){const s=TD(e,t,n);return s.matched?(r=function U3(e,t){return e.providers&&!e._injector&&(e._injector=iE(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function mz(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?jt(i.map(u=>{const p=mm(u,e);return Tf(function oz(e){return e&&Ty(e.canMatch)}(p)?p.canMatch(t,n):e.runInContext(()=>p(t,n)))})).pipe(vm(),QI()):jt(!0)}(r,t,n).pipe(nn(u=>!0===u?s:{...MD}))):jt(s)}function TD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...MD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Q5)(n,e,t);if(!i)return{...MD};const s={};Object.entries(i.posParams??{}).forEach(([p,m])=>{s[p]=m.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function eA(e,t,n,r){return n.length>0&&function Dz(e,t,n){return n.some(r=>Kb(e,t,r)&&Yl(r)!==Sn)}(e,n,r)?{segmentGroup:new Ir(t,Ez(r,new Ir(n,e.children))),slicedSegments:[]}:0===n.length&&function Cz(e,t,n){return n.some(r=>Kb(e,t,r))}(e,n,r)?{segmentGroup:new Ir(e.segments,wz(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ir(e.segments,e.children),slicedSegments:n}}function wz(e,t,n,r,i){const s={};for(const u of r)if(Kb(e,n,u)&&!i[Yl(u)]){const p=new Ir([],{});s[Yl(u)]=p}return{...i,...s}}function Ez(e,t){const n={};n[Sn]=t;for(const r of e)if(""===r.path&&Yl(r)!==Sn){const i=new Ir([],{});n[Yl(r)]=i}return n}function Kb(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class Tz{constructor(t,n,r,i,s,u,p){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new bz(this.urlSerializer,this.urlTree)}noMatchError(t){return new Te(4002,!1)}recognize(){const t=eA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Sn).pipe(pp(n=>{if(n instanceof XI)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Wb?this.noMatchError(n):n}),nn(n=>{const r=new Ub([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Sn,this.rootComponentType,null,{}),i=new ed(r,n),s=new HI("",i),u=function y3(e,t,n=null,r=null){return AI(II(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root),{state:s,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Sn).pipe(pp(r=>{throw r instanceof Wb?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=zI(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Kr(i).pipe(dm(s=>{const u=r.children[s],p=function W3(e,t){const n=e.filter(r=>Yl(r)===t);return n.push(...e.filter(r=>Yl(r)!==t)),n}(n,s);return this.processSegmentGroup(t,p,u,s)}),function W5(e,t){return lr(function q5(e,t,n,r,i){return(s,u)=>{let p=n,m=t,w=0;s.subscribe(gr(u,x=>{const I=w++;m=p?e(m,x,I):(p=!0,x),r&&u.next(m)},i&&(()=>{p&&u.next(m),u.complete()})))}}(e,t,arguments.length>=2,!0))}((s,u)=>(s.push(...u),s)),Ob(null),function K5(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Zl((i,s)=>e(i,s,r)):st,dD(1),n?Ob(t):mI(()=>new kb))}(),Jt(s=>{if(null===s)return ym(r);const u=tA(s);return function Iz(e){e.sort((t,n)=>t.value.outlet===Sn?-1:n.value.outlet===Sn?1:t.value.outlet.localeCompare(n.value.outlet))}(u),jt(u)}))}processSegment(t,n,r,i,s,u){return Kr(n).pipe(dm(p=>this.processSegmentAgainstRoute(p._injector??t,n,p,r,i,s,u).pipe(pp(m=>{if(m instanceof Wb)return jt(null);throw m}))),hp(p=>!!p),pp(p=>{if(YI(p))return function Sz(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?jt([]):ym(r);throw p}))}processSegmentAgainstRoute(t,n,r,i,s,u,p){return function xz(e,t,n,r){return!!(Yl(e)===r||r!==Sn&&Kb(t,n,e))&&("**"===e.path||TD(t,e,n).matched)}(r,i,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,u,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,u):ym(i):ym(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?JI(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Jt(u=>{const p=new Ir(u,{});return this.processSegment(t,n,p,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u){const{matched:p,consumedSegments:m,remainingSegments:w,positionalParamSegments:x}=TD(n,i,s);if(!p)return ym(n);const I=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,x);return i.redirectTo.startsWith("/")?JI(I):this.applyRedirects.lineralizeSegments(i,I).pipe(Jt(N=>this.processSegment(t,r,n,N.concat(w),u,!1)))}matchSegmentAgainstRoute(t,n,r,i,s,u){let p;if("**"===r.path){const m=i.length>0?yI(i).parameters:{};p=jt({snapshot:new Ub(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nA(r),Yl(r),r.component??r._loadedComponent??null,r,rA(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else p=_z(n,r,i,t).pipe(nn(({matched:m,consumedSegments:w,remainingSegments:x,parameters:I})=>m?{snapshot:new Ub(w,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nA(r),Yl(r),r.component??r._loadedComponent??null,r,rA(r)),consumedSegments:w,remainingSegments:x}:null));return p.pipe(lo(m=>null===m?ym(n):this.getChildConfig(t=r._injector??t,r,i).pipe(lo(({routes:w})=>{const x=r._loadedInjector??t,{snapshot:I,consumedSegments:N,remainingSegments:U}=m,{segmentGroup:J,slicedSegments:re}=eA(n,N,U,w);if(0===re.length&&J.hasChildren())return this.processChildren(x,w,J).pipe(nn(Ne=>null===Ne?null:[new ed(I,Ne)]));if(0===w.length&&0===re.length)return jt([new ed(I,[])]);const pe=Yl(r)===s;return this.processSegment(x,w,J,re,pe?Sn:s,!0).pipe(nn(Ne=>[new ed(I,Ne)]))}))))}getChildConfig(t,n,r){return n.children?jt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?jt({routes:n._loadedRoutes,injector:n._loadedInjector}):function gz(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?jt(!0):jt(i.map(u=>{const p=mm(u,e);return Tf(function tz(e){return e&&Ty(e.canLoad)}(p)?p.canLoad(t,n):e.runInContext(()=>p(t,n)))})).pipe(vm(),QI())}(t,n,r).pipe(Jt(i=>i?this.configLoader.loadChildren(t,n).pipe(wo(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function yz(e){return fy(qI(!1,3))}())):jt({routes:[],injector:t})}}function Az(e){const t=e.value.routeConfig;return t&&""===t.path}function tA(e){const t=[],n=new Set;for(const r of e){if(!Az(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=tA(r.children);t.push(new ed(r.value,i))}return t.filter(r=>!n.has(r))}function nA(e){return e.data||{}}function rA(e){return e.resolve||{}}function iA(e){return"string"==typeof e.title||null===e.title}function ID(e){return lo(t=>{const n=e(t);return n?Kr(n).pipe(nn(()=>t)):jt(t)})}const bm=new it("ROUTES");let AD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=at($M)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return jt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Tf(n.loadComponent()).pipe(nn(oA),wo(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),py(()=>{this.componentLoaders.delete(n)})),i=new gI(r,()=>new Kt).pipe(cD());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return jt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Lz(e,t,n,r){return Tf(e.loadChildren()).pipe(nn(oA),Jt(i=>i instanceof ZS||Array.isArray(i)?jt(i):Kr(t.compileModuleAsync(i))),nn(i=>{r&&r(e);let s,u,p=!1;return Array.isArray(i)?(u=i,!0):(s=i.create(n).injector,u=s.get(bm,[],{optional:!0,self:!0}).flat()),{routes:u.map(SD),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(py(()=>{this.childrenLoaders.delete(r)})),u=new gI(s,()=>new Kt).pipe(cD());return this.childrenLoaders.set(r,u),u}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oA(e){return function Bz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Zb=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Kt,this.transitionAbortSubject=new Kt,this.configLoader=at(AD),this.environmentInjector=at(ps),this.urlSerializer=at(vy),this.rootContexts=at(Dy),this.inputBindingEnabled=null!==at(jb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>jt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new A3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new I3(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Wi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wy,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zl(s=>0!==s.id),nn(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),lo(s=>{this.currentTransition=s;let u=!1,p=!1;return jt(s).pipe(wo(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),lo(m=>{const w=m.currentBrowserUrl.toString(),x=!n.navigated||m.extractedUrl.toString()!==w||w!==m.currentUrlTree.toString();if(!x&&"reload"!==(m.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const N="";return this.events.next(new pm(m.id,this.urlSerializer.serialize(m.rawUrl),N,0)),m.resolve(null),ii}if(n.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return jt(m).pipe(lo(N=>{const U=this.transitions?.getValue();return this.events.next(new zb(N.id,this.urlSerializer.serialize(N.extractedUrl),N.source,N.restoredState)),U!==this.transitions?.getValue()?ii:Promise.resolve(N)}),function Rz(e,t,n,r,i,s){return Jt(u=>function Mz(e,t,n,r,i,s,u="emptyOnly"){return new Tz(e,t,n,r,i,u,s).recognize()}(e,t,n,r,u.extractedUrl,i,s).pipe(nn(({state:p,tree:m})=>({...u,targetSnapshot:p,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),wo(N=>{s.targetSnapshot=N.targetSnapshot,s.urlAfterRedirects=N.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects};const U=new FI(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(U)}));if(x&&n.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:N,extractedUrl:U,source:J,restoredState:re,extras:pe}=m,Ne=new zb(N,this.urlSerializer.serialize(U),J,re);this.events.next(Ne);const ve=$I(0,this.rootComponentType).snapshot;return this.currentTransition=s={...m,targetSnapshot:ve,urlAfterRedirects:U,extras:{...pe,skipLocationChange:!1,replaceUrl:!1}},jt(s)}{const N="";return this.events.next(new pm(m.id,this.urlSerializer.serialize(m.extractedUrl),N,1)),m.resolve(null),ii}}),wo(m=>{const w=new x3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),nn(m=>(this.currentTransition=s={...m,guards:Y3(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},s)),function az(e,t){return Jt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=n;return 0===u.length&&0===s.length?jt({...n,guardsResult:!0}):function lz(e,t,n,r){return Kr(e).pipe(Jt(i=>function pz(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?jt(s.map(p=>{const m=xy(t)??i,w=mm(p,m);return Tf(function iz(e){return e&&Ty(e.canDeactivate)}(w)?w.canDeactivate(e,t,n,r):m.runInContext(()=>w(e,t,n,r))).pipe(hp())})).pipe(vm()):jt(!0)}(i.component,i.route,n,t,r)),hp(i=>!0!==i,!0))}(u,r,i,e).pipe(Jt(p=>p&&function ez(e){return"boolean"==typeof e}(p)?function uz(e,t,n,r){return Kr(t).pipe(dm(i=>Pb(function dz(e,t){return null!==e&&t&&t(new R3(e)),jt(!0)}(i.route.parent,r),function cz(e,t){return null!==e&&t&&t(new P3(e)),jt(!0)}(i.route,r),function hz(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function Q3(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(u)).filter(u=>null!==u).map(u=>pI(()=>jt(u.guards.map(m=>{const w=xy(u.node)??n,x=mm(m,w);return Tf(function rz(e){return e&&Ty(e.canActivateChild)}(x)?x.canActivateChild(r,e):w.runInContext(()=>x(r,e))).pipe(hp())})).pipe(vm())));return jt(s).pipe(vm())}(e,i.path,n),function fz(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return jt(!0);const i=r.map(s=>pI(()=>{const u=xy(t)??n,p=mm(s,u);return Tf(function nz(e){return e&&Ty(e.canActivate)}(p)?p.canActivate(t,e):u.runInContext(()=>p(t,e))).pipe(hp())}));return jt(i).pipe(vm())}(e,i.route,n))),hp(i=>!0!==i,!0))}(r,s,e,t):jt(p)),nn(p=>({...n,guardsResult:p})))})}(this.environmentInjector,m=>this.events.next(m)),wo(m=>{if(s.guardsResult=m.guardsResult,vp(m.guardsResult))throw GI(0,m.guardsResult);const w=new S3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(w)}),Zl(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),ID(m=>{if(m.guards.canActivateChecks.length)return jt(m).pipe(wo(w=>{const x=new M3(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}),lo(w=>{let x=!1;return jt(w).pipe(function kz(e,t){return Jt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return jt(n);let s=0;return Kr(i).pipe(dm(u=>function Pz(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!iA(i)&&(s[gy]=i.title),function Oz(e,t,n,r){const i=function Nz(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return jt({});const s={};return Kr(i).pipe(Jt(u=>function Fz(e,t,n,r){const i=xy(t)??r,s=mm(e,i);return Tf(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[u],t,n,r).pipe(hp(),wo(p=>{s[u]=p}))),dD(1),function Z5(e){return nn(()=>e)}(s),pp(u=>YI(u)?ii:fy(u)))}(s,e,t,r).pipe(nn(u=>(e._resolvedData=u,e.data=zI(e,n).resolve,i&&iA(i)&&(e.data[gy]=i.title),null)))}(u.route,r,e,t)),wo(()=>s++),dD(1),Jt(u=>s===i.length?jt(n):ii))})}(n.paramsInheritanceStrategy,this.environmentInjector),wo({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(w,"",2)}}))}),wo(w=>{const x=new T3(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}))}),ID(m=>{const w=x=>{const I=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(x.routeConfig).pipe(wo(N=>{x.component=N}),nn(()=>{})));for(const N of x.children)I.push(...w(N));return I};return Rb(w(m.targetSnapshot.root)).pipe(Ob(),Jc(1))}),ID(()=>this.afterPreactivation()),nn(m=>{const w=function V3(e,t,n){const r=Cy(e,t._root,n?n._root:void 0);return new VI(r,t)}(n.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=s={...m,targetRouterState:w},s}),wo(()=>{this.events.next(new vD)}),((e,t,n,r)=>nn(i=>(new Z3(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Jc(1),wo({next:m=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new If(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),n.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{u=!0}}),gp(this.transitionAbortSubject.pipe(wo(m=>{throw m}))),py(()=>{u||p||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),pp(m=>{if(p=!0,WI(m))this.events.next(new Ey(s.id,this.urlSerializer.serialize(s.extractedUrl),m.message,m.cancellationCode)),function H3(e){return WI(e)&&vp(e.url)}(m)?this.events.next(new yD(m.url)):s.resolve(!1);else{this.events.next(new Hb(s.id,this.urlSerializer.serialize(s.extractedUrl),m,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(m))}catch(w){s.reject(w)}}return ii}))}))}cancelNavigationTransition(n,r,i){const s=new Ey(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sA(e){return e!==wy}let aA=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Sn);return r}getResolvedTitleForRoute(n){return n.data[gy]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return at(Vz)},providedIn:"root"})}return e})(),Vz=(()=>{class e extends aA{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(aI))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$z=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return at(Hz)},providedIn:"root"})}return e})();class zz{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Hz=(()=>{class e extends zz{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function Pr(e){return Ts(()=>{const t=e.prototype.constructor,n=t[rs]||va(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[rs]||va(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(i||e)}}();static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Yb=new it("",{providedIn:"root",factory:()=>({})});let Uz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:function(){return at(jz)},providedIn:"root"})}return e})(),jz=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Iy=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Iy||{});function lA(e,t){e.events.pipe(Zl(n=>n instanceof If||n instanceof Ey||n instanceof Hb||n instanceof pm),nn(n=>n instanceof If||n instanceof pm?Iy.COMPLETE:n instanceof Ey&&(0===n.code||1===n.code)?Iy.REDIRECTING:Iy.FAILED),Zl(n=>n!==Iy.REDIRECTING),Jc(1)).subscribe(()=>{t()})}function Gz(e){throw e}function qz(e,t,n){return t.parse("/")}const Wz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sl=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=at(VM),this.isNgZoneEnabled=!1,this._events=new Kt,this.options=at(Yb,{optional:!0})||{},this.pendingTasks=at(cb),this.errorHandler=this.options.errorHandler||Gz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=at(Uz),this.routeReuseStrategy=at($z),this.titleStrategy=at(aA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=at(bm,{optional:!0})?.flat()??[],this.navigationTransitions=at(Zb),this.urlSerializer=at(vy),this.location=at(FE),this.componentInputBindingEnabled=!!at(jb,{optional:!0}),this.eventsSubscription=new ze,this.isNgZoneEnabled=at(Nn)instanceof Nn&&Nn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$I(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(uA(r)&&this._events.next(r));if(r instanceof zb)sA(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof pm)this.rawUrlTree=i.rawUrl;else if(r instanceof FI){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof vD)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ey)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof yD){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sA(i.source)};this.scheduleNavigation(s,wy,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Hb&&this.restoreHistory(i,!0),r instanceof If&&(this.navigated=!0),uA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wy,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const p=this.parseUrl(n);this.scheduleNavigation(p,r,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(SD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:p,preserveFragment:m}=r,w=m?this.currentUrlTree.fragment:u;let I,x=null;switch(p){case"merge":x={...this.currentUrlTree.queryParams,...s};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}null!==x&&(x=this.removeEmptyProps(x));try{I=II(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),I=this.currentUrlTree.root}return AI(I,n,x,w??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=vp(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,wy,null,r)}navigate(n,r={skipLocationChange:!1}){return function Zz(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Te(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Wz}:!1===r?{...Kz}:r,vp(n))return _I(this.currentUrlTree,n,i);const s=this.parseUrl(n);return _I(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let p,m,w;u?(p=u.resolve,m=u.reject,w=u.promise):w=new Promise((I,N)=>{p=I,m=N});const x=this.pendingTasks.add();return lA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:p,reject:m,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(I=>Promise.reject(I))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uA(e){return!(e instanceof vD||e instanceof yD)}class cA{}let Xz=(()=>{class e{constructor(n,r,i,s,u){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Zl(n=>n instanceof If),dm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=iE(s.providers,n,`Route: ${s.path}`));const u=s._injector??n,p=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(p,s.children??s._loadedRoutes))}return Kr(i).pipe(lu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):jt(null);const s=i.pipe(Jt(u=>null===u?jt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));return r.loadComponent&&!r._loadedComponent?Kr([s,this.loader.loadComponent(r)]).pipe(lu()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(sl),Ze($M),Ze(ps),Ze(cA),Ze(AD))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const kD=new it("");let dA=(()=>{class e{constructor(n,r,i,s,u={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof zb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof If?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof pm&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof LI&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new LI(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){H0()};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();function td(e,t){return{\u0275kind:e,\u0275providers:t}}function hA(){const e=at(Da);return t=>{const n=e.get(up);if(t!==n.components[0])return;const r=e.get(sl),i=e.get(pA);1===e.get(PD)&&r.initialNavigation(),e.get(gA,null,pn.Optional)?.setUpPreloading(),e.get(kD,null,pn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const pA=new it("",{factory:()=>new Kt}),PD=new it("",{providedIn:"root",factory:()=>1}),gA=new it("");function n4(e){return td(0,[{provide:gA,useExisting:Xz},{provide:cA,useExisting:e}])}const mA=new it("ROUTER_FORROOT_GUARD"),i4=[FE,{provide:vy,useClass:fD},sl,Dy,{provide:yp,useFactory:function fA(e){return e.routerState.root},deps:[sl]},AD,[]];function o4(){return new WM("Router",sl)}let vA=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[i4,[],{provide:bm,multi:!0,useValue:n},{provide:mA,useFactory:u4,deps:[[sl,new lf,new Lo]]},{provide:Yb,useValue:r||{}},r?.useHash?{provide:fp,useClass:mV}:{provide:fp,useClass:DT},{provide:kD,useFactory:()=>{const e=at(F$),t=at(Nn),n=at(Yb),r=at(Zb),i=at(vy);return n.scrollOffset&&e.setOffset(n.scrollOffset),new dA(i,r,e,t,n)}},r?.preloadingStrategy?n4(r.preloadingStrategy).\u0275providers:[],{provide:WM,multi:!0,useFactory:o4},r?.initialNavigation?c4(r):[],r?.bindToComponentInputs?td(8,[jI,{provide:jb,useExisting:jI}]).\u0275providers:[],[{provide:yA,useFactory:hA},{provide:SE,multi:!0,useExisting:yA}]]}}static forChild(n){return{ngModule:e,providers:[{provide:bm,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(mA,8))};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({})}return e})();function u4(e){return"guarded"}function c4(e){return["disabled"===e.initialNavigation?td(3,[{provide:yE,multi:!0,useFactory:()=>{const t=at(sl);return()=>{t.setUpLocationChangeListener()}}},{provide:PD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?td(2,[{provide:PD,useValue:0},{provide:yE,multi:!0,deps:[Da],useFactory:t=>{const n=t.get(pV,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(sl),s=t.get(pA);lA(i,()=>{r(!0)}),t.get(Zb).afterPreactivation=()=>(r(!0),s.closed?jt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const yA=new it("");let f4=(()=>{class e{constructor(){this.title="PathwayBrowser"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=sa({type:e,selectors:[["cr-root"]],decls:1,vars:0,template:function(r,i){1&r&&xa(0,"router-outlet")},dependencies:[CD]})}return e})();function bA(...e){const t=Wr(e),{args:n,keys:r}=dI(e),i=new Mt(s=>{const{length:u}=n;if(!u)return void s.complete();const p=new Array(u);let m=u,w=u;for(let x=0;x<u;x++){let I=!1;Fi(n[x]).subscribe(gr(s,N=>{I||(I=!0,w--),p[x]=N},()=>m--,void 0,()=>{(!m||!I)&&(w||s.next(r?fI(r,p):p),s.complete())}))}});return t?i.pipe(uD(t)):i}const Ql=new it("NgValueAccessor"),Vo=new it("NgValidators"),Rf=new it("NgAsyncValidators");function RA(e){return null!=e}function kA(e){return Wv(e)?Kr(e):e}function PA(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function OA(e,t){return t.map(n=>n(e))}function NA(e){return e.map(t=>function y4(e){return!e.validate}(t)?t:n=>t.validate(n))}function ND(e){return null!=e?function FA(e){if(!e)return null;const t=e.filter(RA);return 0==t.length?null:function(n){return PA(OA(n,t))}}(NA(e)):null}function FD(e){return null!=e?function LA(e){if(!e)return null;const t=e.filter(RA);return 0==t.length?null:function(n){return bA(OA(n,t).map(kA)).pipe(nn(PA))}}(NA(e)):null}function BA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function LD(e){return e?Array.isArray(e)?e:[e]:[]}function Xb(e,t){return Array.isArray(e)?e.includes(t):e===t}function zA(e,t){const n=LD(t);return LD(e).forEach(i=>{Xb(n,i)||n.push(i)}),n}function HA(e,t){return LD(t).filter(n=>!Xb(e,n))}class UA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ND(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=FD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class ws extends UA{get formDirective(){return null}get path(){return null}}class jA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GA=(()=>{class e extends jA{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Re(ws,10))};static#t=this.\u0275dir=Ft({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Sa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ir]})}return e})();const Ay="VALID",e_="INVALID",_m="PENDING",Ry="DISABLED";function t_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ZA{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ay}get invalid(){return this.status===e_}get pending(){return this.status==_m}get disabled(){return this.status===Ry}get enabled(){return this.status!==Ry}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(HA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(HA(t,this._rawAsyncValidators))}hasValidator(t){return Xb(this._rawValidators,t)}hasAsyncValidator(t){return Xb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=_m,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ry,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ay,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ay||this.status===_m)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ry:Ay}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=_m,this._hasOwnPendingAsyncValidator=!0;const n=kA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new er,this.statusChanges=new er}_calculateStatus(){return this._allControlsDisabled()?Ry:this.errors?e_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_m)?_m:this._anyControlsHaveStatus(e_)?e_:Ay}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){t_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function D4(e){return Array.isArray(e)?ND(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function C4(e){return Array.isArray(e)?FD(e):e||null}(this._rawAsyncValidators)}}class HD extends ZA{constructor(t,n,r){super(function $D(e){return(t_(e)?e.validators:e)||null}(n),function zD(e,t){return(t_(t)?t.asyncValidators:e)||null}(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function KA(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new Te(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function WA(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Te(1e3,"");if(!r[n])throw new Te(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const wm=new it("CallSetDisabledState",{providedIn:"root",factory:()=>n_}),n_="always";function o_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function UD(e,t){const n=function VA(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(BA(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function $A(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(BA(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();o_(t._rawValidators,i),o_(t._rawAsyncValidators,i)}function YA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const O4={provide:ws,useExisting:nr(()=>a_)},Py=(()=>Promise.resolve())();let a_=(()=>{class e extends ws{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new er,this.form=new HD({},ND(n),FD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Py.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),function ky(e,t,n=n_){UD(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function M4(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&YA(e,t)})}(e,t),function I4(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function T4(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&YA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function S4(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Py.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Py.then(()=>{const r=this._findContainer(n.path),i=new HD({});(function QA(e,t){UD(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Py.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Py.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function XA(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Vo,10),Re(Rf,10),Re(wm,8))};static#t=this.\u0275dir=Ft({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Bo("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cr([O4]),ir]})}return e})(),sR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ft({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),lR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({})}return e})(),aH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({imports:[lR]})}return e})(),uH=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:wm,useValue:n.callSetDisabledState??n_}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({imports:[aH]})}return e})();class l_{}class u_{}class Xl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),u=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Xl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Xl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Xl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let u=this.headers.get(n);if(!u)return;u=u.filter(p=>-1===s.indexOf(p)),0===u.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,u)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class cH{encodeKey(t){return xR(t)}encodeValue(t){return xR(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fH=/%(\d[a-f0-9])/gi,hH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xR(e){return encodeURIComponent(e).replace(fH,(t,n)=>hH[n]??t)}function c_(e){return`${e}`}class Pf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new cH,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dH(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,p]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],m=n.get(u)||[];m.push(p),n.set(u,m)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(c_):[c_(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Pf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(c_(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(c_(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class pH{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function SR(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function MR(e){return typeof Blob<"u"&&e instanceof Blob}function TR(e){return typeof FormData<"u"&&e instanceof FormData}class Oy{constructor(t,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Xl),this.context||(this.context=new pH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=n;else{const p=n.indexOf("?");this.urlWithParams=n+(-1===p?"?":p<n.length-1?"&":"")+u}}else this.params=new Pf,this.urlWithParams=n}serializeBody(){return null===this.body?null:SR(this.body)||MR(this.body)||TR(this.body)||function mH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TR(this.body)?null:MR(this.body)?this.body.type||null:SR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,w=t.params||this.params;const x=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((I,N)=>I.set(N,t.setHeaders[N]),m)),t.setParams&&(w=Object.keys(t.setParams).reduce((I,N)=>I.set(N,t.setParams[N]),w)),new Oy(n,r,s,{params:w,headers:m,context:x,reportProgress:p,responseType:i,withCredentials:u})}}var Em=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Em||{});class eC{constructor(t,n=200,r="OK"){this.headers=t.headers||new Xl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class tC extends eC{constructor(t={}){super(t),this.type=Em.ResponseHeader}clone(t={}){return new tC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Dm extends eC{constructor(t={}){super(t),this.type=Em.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Dm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class IR extends eC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function nC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let AR=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Oy)s=n;else{let m,w;m=i.headers instanceof Xl?i.headers:new Xl(i.headers),i.params&&(w=i.params instanceof Pf?i.params:new Pf({fromObject:i.params})),s=new Oy(n,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=jt(s).pipe(dm(m=>this.handler.handle(m)));if(n instanceof Oy||"events"===i.observe)return u;const p=u.pipe(Zl(m=>m instanceof Dm));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return p.pipe(nn(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return p.pipe(nn(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return p.pipe(nn(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return p.pipe(nn(m=>m.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Pf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,nC(i,r))}post(n,r,i={}){return this.request("POST",n,nC(i,r))}put(n,r,i={}){return this.request("PUT",n,nC(i,r))}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(l_))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();function PR(e,t){return t(e)}function yH(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const _H=new it(""),Ny=new it(""),OR=new it("");function wH(){let e=null;return(t,n)=>{null===e&&(e=(at(_H,{optional:!0})??[]).reduceRight(yH,PR));const r=at(cb),i=r.add();return e(t,n).pipe(py(()=>r.remove(i)))}}let NR=(()=>{class e extends l_{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=at(cb)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ny),...this.injector.get(OR,[])]));this.chain=i.reduceRight((s,u)=>function bH(e,t,n){return(r,i)=>n.runInContext(()=>t(r,s=>e(s,i)))}(s,u,this.injector),PR)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(py(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(u_),Ze(ps))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const xH=/^\)\]\}',?\n/;let LR=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Te(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Kr(r.\u0275loadImpl()):jt(null)).pipe(lo(()=>new Mt(s=>{const u=r.build();if(u.open(n.method,n.urlWithParams),n.withCredentials&&(u.withCredentials=!0),n.headers.forEach((re,pe)=>u.setRequestHeader(re,pe.join(","))),n.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const re=n.detectContentTypeHeader();null!==re&&u.setRequestHeader("Content-Type",re)}if(n.responseType){const re=n.responseType.toLowerCase();u.responseType="json"!==re?re:"text"}const p=n.serializeBody();let m=null;const w=()=>{if(null!==m)return m;const re=u.statusText||"OK",pe=new Xl(u.getAllResponseHeaders()),Ne=function SH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(u)||n.url;return m=new tC({headers:pe,status:u.status,statusText:re,url:Ne}),m},x=()=>{let{headers:re,status:pe,statusText:Ne,url:ve}=w(),tt=null;204!==pe&&(tt=typeof u.response>"u"?u.responseText:u.response),0===pe&&(pe=tt?200:0);let _t=pe>=200&&pe<300;if("json"===n.responseType&&"string"==typeof tt){const $t=tt;tt=tt.replace(xH,"");try{tt=""!==tt?JSON.parse(tt):null}catch(Zn){tt=$t,_t&&(_t=!1,tt={error:Zn,text:tt})}}_t?(s.next(new Dm({body:tt,headers:re,status:pe,statusText:Ne,url:ve||void 0})),s.complete()):s.error(new IR({error:tt,headers:re,status:pe,statusText:Ne,url:ve||void 0}))},I=re=>{const{url:pe}=w(),Ne=new IR({error:re,status:u.status||0,statusText:u.statusText||"Unknown Error",url:pe||void 0});s.error(Ne)};let N=!1;const U=re=>{N||(s.next(w()),N=!0);let pe={type:Em.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(pe.total=re.total),"text"===n.responseType&&u.responseText&&(pe.partialText=u.responseText),s.next(pe)},J=re=>{let pe={type:Em.UploadProgress,loaded:re.loaded};re.lengthComputable&&(pe.total=re.total),s.next(pe)};return u.addEventListener("load",x),u.addEventListener("error",I),u.addEventListener("timeout",I),u.addEventListener("abort",I),n.reportProgress&&(u.addEventListener("progress",U),null!==p&&u.upload&&u.upload.addEventListener("progress",J)),u.send(p),s.next({type:Em.Sent}),()=>{u.removeEventListener("error",I),u.removeEventListener("abort",I),u.removeEventListener("load",x),u.removeEventListener("timeout",I),n.reportProgress&&(u.removeEventListener("progress",U),null!==p&&u.upload&&u.upload.removeEventListener("progress",J)),u.readyState!==u.DONE&&u.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(UT))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const rC=new it("XSRF_ENABLED"),BR=new it("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),VR=new it("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $R{}let IH=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=PT(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Gr),Ze($u),Ze(BR))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();function AH(e,t){const n=e.url.toLowerCase();if(!at(rC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=at($R).getToken(),i=at(VR);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var Of=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Of||{});function RH(...e){const t=[AR,LR,NR,{provide:l_,useExisting:NR},{provide:u_,useExisting:LR},{provide:Ny,useValue:AH,multi:!0},{provide:rC,useValue:!0},{provide:$R,useClass:IH}];for(const n of e)t.push(...n.\u0275providers);return function Dv(e){return{\u0275providers:e}}(t)}const zR=new it("LEGACY_INTERCEPTOR_FN");function kH(){return function wp(e,t){return{\u0275kind:e,\u0275providers:t}}(Of.LegacyInterceptors,[{provide:zR,useFactory:wH},{provide:Ny,useExisting:zR,multi:!0}])}let PH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({providers:[RH(kH())]})}return e})();var VH=le(6100),HR=le.n(VH),al=le(6990);function vt(e){return function $H(e){return void 0!==e.apply}(e)?e():e}function Ta(e){const t=e;return t.setDefault=function(n,r){return e[n]||(e[n]=r),t},t}const zH=(e,t)=>bt.properties[e][t],HH=(e,t,n)=>n(vt(bt.properties[e][t])),Nf=(0,al.memoize)(e=>{let t=[];const n=e.classes().find(m=>iC.has(m));if(!n)return GR(t,UR);const r=iC.get(n),[i,s,u]=[e.data("width"),e.data("height"),e.hasClass("drug")],p=r(i,s,u);return p.background&&t.push(p.background),e.selected()&&p.select&&t.push(p.select),e.hasClass("hover")&&p.hover&&t.push(p.hover),e.hasClass("flag")&&p.flag&&t.push(p.flag),p.decorators&&t.push(...p.decorators),u&&t.push(tU(i,s,n)),e.classes().includes("Pathway")&&t.push(nU(i,s,n)),t=t.map(m=>({...m,"background-image":jR(m["background-image"],m["background-width"]||i,m["background-height"]||s)})),GR(t,UR)},e=>e.id()+"-"+e.classes().toString()+"-s:"+e.selected()),UR={"background-image":"","background-position-x":"0","background-position-y":"0","background-offset-x":"0","background-offset-y":"0","background-width":"100%","background-height":"100%","background-fit":"none","background-clip":"none","background-image-containment":"over","background-image-smoothing":"yes","background-height-relative-to":"inner","background-width-relative-to":"inner","background-repeat":"no-repeat","background-image-crossorigin":"anonymous","bounds-expansion":0};function jR(e,t,n){return"data:image/svg+xml;utf8,"+encodeURIComponent(function JH(e,t=100,n=100){return(new DOMParser).parseFromString(`<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg><svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='${t}' height='${n}'>${e}</svg>`,"text/xml").documentElement}(e,t,n).outerHTML)}const Ku=(e,t,n)=>`${e}x${t}-${n}`,iC=new Map([["Protein",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.selectNode),i=vt(bt.properties.global.hoverNode),s=vt(bt.properties.global.thickness),u=vt(bt.properties.protein.radius),p=u+s,m=u-s;return{hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${p}\n            a ${p} ${p} 0 0 1 ${p} -${p}\n            h ${e-2*p}\n            a ${p} ${p} 0 0 1 ${p} ${p}\n            a ${p} ${m} 0 0 0 -${p} -${m}\n            h -${e-2*p}\n            a ${p} ${m} 0 0 0 -${p} ${m}\n            Z"/>\n`,"background-position-y":-s,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":p},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${p} ${p} 0 0 0 ${p} ${p}\n            h ${e-2*p}\n            a ${p} ${p} 0 0 0 ${p} -${p}\n            a ${p} ${m} 0 0 1 -${p} ${m}\n            h -${e-2*p}\n            a ${p} ${m} 0 0 1 -${p} -${m}\n            Z"/>\n`,"background-position-y":t-u,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":p}}},Ku)],["GenomeEncodedEntity",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.selectNode),i=vt(bt.properties.global.hoverNode),s=vt(bt.properties.global.thickness),u=vt(bt.properties.genomeEncodedEntity.radius),m=u+s,w=u-s,x=2*s,I=3*x;return{background:{"background-image":`\n        \n  <defs>\n    <rect id="rect" rx="${u}" ry="${u}" x="0" y="0" width="${e}" height="${t}"/>\n    <clipPath id="clip">\n      <use href="#rect"/>\n    </clipPath>\n  </defs>\n  \n        <use href="#rect" clip-path="url(#clip)" stroke-width="${x}" stroke="${vt(bt.properties.genomeEncodedEntity.stroke)}" fill="none" stroke-linecap="round" stroke-dasharray="${I} ${I}"/>\n      `},hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${m}\n            a ${m} ${m} 0 0 1 ${m} -${m}\n            h ${e-2*m}\n            a ${m} ${m} 0 0 1 ${m} ${m}\n            a ${m} ${w} 0 0 0 -${m} -${w}\n            h -${e-2*m}\n            a ${m} ${w} 0 0 0 -${m} ${w}\n            Z"/>\n`,"background-position-y":-s,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":m},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${m} ${m} 0 0 0 ${m} ${m}\n            h ${e-2*m}\n            a ${m} ${m} 0 0 0 ${m} -${m}\n            a ${m} ${w} 0 0 1 -${m} ${w}\n            h -${e-2*m}\n            a ${m} ${w} 0 0 1 -${m} -${w}\n            Z"/>\n`,"background-position-y":t-u,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":m}}},Ku)],["RNA",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.thickness),i=vt(bt.properties.global.selectNode),s=vt(bt.properties.global.hoverNode),p=vt(bt.properties.rna.radius),m=p+r,w=p-r;return{hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${s}"/>`,"background-position-y":-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${m} ${m} 0 0 0 ${m} ${m}\n            h ${e-2*m}\n            a ${m} ${m} 0 0 0 ${m} -${m}\n            a ${m} ${w} 0 0 1 -${m} ${w}\n            h -${e-2*m}\n            a ${m} ${w} 0 0 1 -${m} -${w}\n            Z"/>\n`,"background-position-y":t-p,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":m}}},Ku)],["Gene",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.thickness),i=vt(bt.properties.gene.decorationHeight),s=vt(bt.properties.gene.decorationExtraWidth),u=vt(bt.properties.gene.arrowHeadSize),p=vt(bt.properties.gene.arrowRadius),m=vt(bt.properties.gene.fill),w=vt(bt.properties.global.selectNode),x=vt(bt.properties.global.hoverNode),I=Math.sqrt(3*Math.pow(u,2)/4),N=e/2,U=vt(bt.properties.gene.borderRadius),J=U+r,re=U-r;return{background:{"background-image":`\n          <path fill="${m}" stroke-width="0" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${i}\n            H ${e}\n            v ${t-i-p}\n            a ${p} ${p} 0 0 1 -${p} ${p}\n            H ${p}\n            a ${p} ${p} 0 0 1 -${p} -${p}\n            Z\n          "/>`,"background-position-y":0,"background-position-x":0},decorators:[{"background-image":`\n          <path fill="none" stroke="${m}" stroke-width="${r}"  d="\n            M ${N} ${i+2*r}\n            v -${i-p-(u+r)/2+2*r}\n            a ${p} ${p} 0 0 1 ${p} -${p}\n            h ${N-r-p+s}\n          "/>\n            <path fill="${m}" stroke="${m}" stroke-width="${r}" stroke-linejoin="round"  d="\n            M ${e-I-r/2+s} ${u/2+r/2}\n            v -${u/2}\n            l ${I} ${u/2}\n            l -${I} ${u/2}\n            v -${u/2}\n            z\n          "/>`,"background-position-y":-r/2,"bounds-expansion":i,"background-height":i+1.5*r,"background-width":e+s,"background-clip":"none","background-image-containment":"over"}],hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${x}"/>`,"background-position-y":i-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${w}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${J} ${J} 0 0 0 ${J} ${J}\n            h ${e-2*J}\n            a ${J} ${J} 0 0 0 ${J} -${J}\n            a ${J} ${re} 0 0 1 -${J} ${re}\n            h -${e-2*J}\n            a ${J} ${re} 0 0 1 -${J} -${re}\n            Z"/>\n`,"background-position-y":t-U,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":J}}},Ku)],["Molecule",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.selectNode),i=vt(bt.properties.global.hoverNode),s=vt(bt.properties.global.thickness),u=vt(n?bt.properties.molecule.drug:bt.properties.molecule.stroke),p=vt(bt.properties.molecule.fill),m=s/2,w=t/2,x=w+s,I=w-s,N=Math.min(x,e/2);return{background:{"background-image":`<rect x="${m}" y="${m}" width="${e-s}" height="${t-s}" rx="${w}" stroke="${u}" fill="${p}" stroke-width="${s}"/>`},hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${x}\n            a ${N} ${x} 0 0 1 ${N} -${x}\n            h ${e-2*N}\n            a ${N} ${x} 0 0 1 ${N} ${x}\n            a ${N} ${I} 0 0 0 -${N} -${I}\n            h -${e-2*N}\n            a ${N} ${I} 0 0 0 -${N} ${I}\n            Z"/>\n`,"background-position-y":-s,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":x},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${N} ${x} 0 0 0 ${N} ${x}\n            h ${e-2*N}\n            a ${N} ${x} 0 0 0 ${N} -${x}\n            a ${N} ${I} 0 0 1 -${N} ${I}\n            h -${e-2*N}\n            a ${N} ${I} 0 0 1 -${N} -${I}\n            Z"/>\n`,"background-position-y":w,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":x}}},Ku)],["Complex",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.selectNode),i=vt(bt.properties.global.hoverNode),s=vt(bt.properties.global.thickness),u=vt(bt.properties.complex.cut),p=vt(n?bt.properties.complex.drug:bt.properties.complex.fill),w=2*u,x=2*s,I=t-w-2*x,U=t/2+s,J=`<defs>\n  <path id="octogon" d="\n      M ${w+x+0} ${x}\n      H ${e-u-x-0}\n      l ${u} ${u}\n      v ${I}\n      l  -${u} ${u}\n      H ${w+x+0}\n      l -${u} 0 -${u} -${u}\n      v -${I}\n      l  ${u} -${u}\n      Z\n      "/>\n  </defs>`;return{background:{"background-image":`\n${J}\n<use href="#octogon" fill="${p}" stroke="${p}" stroke-width="${2*x}" stroke-linejoin="round"/>\n`},hover:{"background-image":`\n      <path stroke="${i}" stroke-width="${2*x}" stroke-linejoin="round" d="\n      M ${x} ${U}\n      v -${I/2}\n      l ${u} -${u+s}\n      H ${e-u-x}\n      l ${u} ${u+s}\n      v ${I/2}\n      " />\n      `,"background-position-y":-s,"background-height":U},select:{"background-image":`\n      <path stroke="${r}" stroke-width="${2*x}" stroke-linejoin="round" d="\n      M ${x} 0\n      v ${I/2}\n      l ${u} ${u+s}\n      H ${e-u-x}\n      l ${u} -${u+s}\n      v -${I/2}\n      " />\n      `,"background-position-y":t/2,"background-height":U},decorators:[{"background-image":`\n         ${J}\n         <use href="#octogon" fill="none" stroke="${vt(bt.properties.complex.stroke)}" stroke-width="${x}" stroke-linejoin="round"/>\n         <use href="#octogon" fill="${p}"/>\n         `}]}},Ku)],["EntitySet",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.selectNode),i=vt(bt.properties.global.hoverNode),s=vt(bt.properties.global.thickness);let u=vt(bt.properties.entitySet.radius);2*u>t/2-s&&(u=t/4-s/2);const p=vt(n?bt.properties.entitySet.drug:bt.properties.entitySet.fill),w=2*u,x=2*s,I=t/2-w-s,N=t/2+s,U=`<defs>\n   <path id="curly" d="\n       M ${w+s} ${s}\n       H ${e-w-s}\n       a ${u} ${u} 0 0 1 ${u} ${u}\n\n       v ${I}\n       a ${u} ${u} 0 0 0 ${u} ${u}\n       a ${u} ${u} 0 0 0 -${u} ${u}\n       v ${I}\n\n       a ${u} ${u} 0 0 1 -${u} ${u}\n       H ${w+s}\n       a ${u} ${u} 0 0 1 -${u} -${u}\n\n       v -${I}\n       a ${u} ${u} 0 0 0 -${u} -${u}\n       a ${u} ${u} 0 0 0 ${u} -${u}\n       v -${I}\n\n       a ${u} ${u} 0 0 1 ${u} -${u}\n       Z\n       "/>\n   <clipPath id="inside">\n     <use href="#curly"/>\n   </clipPath>\n </defs>`;return{background:{"background-image":`\n       ${U}\n       <use href="#curly" fill="${p}" stroke="${p}" stroke-width="${x}" stroke-linejoin="round"/>\n       `},hover:{"background-image":`\n       <path stroke="${i}" stroke-width="${x}" fill="none" stroke-linejoin="round" d="\n         M ${s+u} ${N+u}\n         a ${u} ${u} 0 0 0 -${u} -${u}\n         a ${u} ${u} 0 0 0 ${u} -${u}\n         v -${I}\n         a ${u} ${u+s} 0 0 1 ${u} -${u+s}\n         H ${e-w-s}\n         a ${u} ${u+s} 0 0 1 ${u} ${u+s}\n         v ${I}\n         a ${u} ${u} 0 0 0 ${u} ${u}\n         a ${u} ${u} 0 0 0 -${u} ${u}\n       "/>`,"background-position-y":-s,"background-height":N},select:{"background-image":`\n       <path stroke="${r}" stroke-width="${x}" fill="none" stroke-linejoin="round" d="\n         M ${s+u} ${-u}\n         a ${u} ${u} 0 0 1 -${u} ${u}\n         a ${u} ${u} 0 0 1 ${u} ${u}\n         v ${I}\n         a ${u} ${u+s} 0 0 0 ${u} ${u+s}\n         H ${e-w-s}\n         a ${u} ${u+s} 0 0 0 ${u} -${u+s}\n         v -${I}\n         a ${u} ${u} 0 0 1 ${u} -${u}\n         a ${u} ${u} 0 0 1 -${u} -${u}\n       "/>`,"background-position-y":t/2,"background-height":N},decorators:[{"background-image":`\n       ${U}\n       <use href="#curly" fill="none" stroke="${vt(bt.properties.entitySet.stroke)}" stroke-width="${x}" clip-path="url(#inside)"/>\n       <rect fill="${p}" x="${x+w}" y="${s}"\n             width="${e-2*w-2*x}"\n             height="${t-x}"/>\n       `}]}},Ku)],["Cell",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.selectNode),i=vt(bt.properties.global.hoverNode),s=vt(bt.properties.global.thickness),u=vt(bt.properties.cell.thickness),p=vt(bt.properties.cell.stroke),m=vt(bt.properties.cell.fill),w=s/2,x=t/2,I=x+s,N=x-s,U=Math.min(I,e/2);return{background:{"background-image":`\n<rect x="${w}" y="${w}" width="${e-s}" height="${t-s}" rx="${x}" stroke="${m}" fill="${p}" stroke-width="${s}"/>\n<rect x="${w+u}" y="${2*s}" width="${e-2*u-s}" height="${t-4*s}" ry="${x}" rx="${x-u}" fill="${m}" stroke-width="0"/>\n`},hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${I}\n            a ${U} ${I} 0 0 1 ${U} -${I}\n            h ${e-2*U}\n            a ${U} ${I} 0 0 1 ${U} ${I}\n            a ${U} ${N} 0 0 0 -${U} -${N}\n            h -${e-2*U}\n            a ${U} ${N} 0 0 0 -${U} ${N}\n            Z"/>\n`,"background-position-y":-s,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":I},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${U} ${I} 0 0 0 ${U} ${I}\n            h ${e-2*U}\n            a ${U} ${I} 0 0 0 ${U} -${I}\n            a ${U} ${N} 0 0 1 -${U} ${N}\n            h -${e-2*U}\n            a ${U} ${N} 0 0 1 -${U} -${N}\n            Z"/>\n`,"background-position-y":x,"bounds-expansion":s,"background-clip":"none","background-image-containment":"over","background-height":I}}},Ku)],["Interacting",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.selectNode),i=vt(bt.properties.global.hoverNode),s=vt(bt.properties.global.thickness);vt(n?bt.properties.pathway.disease:bt.properties.pathway.stroke),vt(bt.properties.pathway.fill);let m=e+3*s;const w=3*s;return{hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n           M 0 0\n           H ${m}\n           V ${w}\n           H 0\n           V 0\n           Z\n           "/>\n`,"background-position-y":-w/2,"background-position-x":-w/2,"background-width":m,"bounds-expansion":w,"background-clip":"none","background-image-containment":"over"},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n           M 0 0\n           H ${m}\n           V ${w}\n           H 0\n           V 0\n           Z"/>\n`,"background-position-y":t-w/2,"background-position-x":-w/2,"background-width":m,"bounds-expansion":w,"background-clip":"none","background-image-containment":"over"}}},Ku)],["SUB",(0,al.memoize)((e,t,n)=>{const r=vt(bt.properties.global.selectNode),i=vt(bt.properties.global.hoverNode),s=3*vt(bt.properties.global.thickness),u=vt(n?bt.properties.pathway.disease:bt.properties.pathway.stroke),p=vt(bt.properties.pathway.fill),m=s/2,w=t/2,x=w,I=w-s,N=Math.min(x,e/2);return{background:{"background-image":`<rect x="${m}" y="${m}" width="${e-s}" height="${t-s}" rx="${w}" stroke="${u}" fill="${p}" stroke-width="${s}"/>`},hover:{"background-image":`\n          <path fill="${i}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${x}\n            a ${N} ${x} 0 0 1 ${N} -${x}\n            h ${e-2*N}\n            a ${N} ${x} 0 0 1 ${N} ${x}\n            a ${N} ${I} 0 0 0 -${N} -${I}\n            h -${e-2*N}\n            a ${N} ${I} 0 0 0 -${N} ${I}\n            Z"/>\n`,"background-clip":"none","background-image-containment":"over","background-height":x},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${N} ${x} 0 0 0 ${N} ${x}\n            h ${e-2*N}\n            a ${N} ${x} 0 0 0 ${N} -${x}\n            a ${N} ${I} 0 0 1 -${N} ${I}\n            h -${e-2*N}\n            a ${N} ${I} 0 0 1 -${N} -${I}\n            Z"/>\n`,"background-position-y":w,"background-clip":"none","background-image-containment":"over","background-height":x}}},Ku)]]);function GR(e,t){const n={};return new Set(Object.keys(t)).forEach(i=>n[i]=e.map(s=>s[i]||t[i])),n}const tU=(e,t,n)=>{const r=vt(bt.properties.global.thickness),i=vt("Molecule"!==n?bt.properties.global.onPrimary:bt.properties.molecule.drug);return{"background-image":`\n      <path style="transform: scale(2)" fill="${i}" stroke-width="0.4" stroke="${i}" d="M3.2 4C3.3 4 3.4 4 3.6 4L6.75 8.81L5.7 10.15C5.7 10.15 5.53985 10.3884 5.31824 10.6092C5.00434 10.922 4.6582 11.3 4.28711 11.3C4.19141 11.3 4.2 11.3 4.1 11.3V11.5H6.4V11.3C6.2 11.3 6 11.3 5.9 11.2C5.8 11.1 5.8 11 5.8 10.9C5.8 10.6301 5.9 10.5547 6.16055 10.226L7 9.2L7.65291 10.226C7.82889 10.5025 8 10.7344 8 10.9C8 11.0656 7.90095 11.3 7.65291 11.3C7.55291 11.3 7.6 11.3 7.4 11.3V11.5H10.2V11.3C9.9 11.3 9.7 11.2 9.5 11C9.24121 10.7412 9 10.5 8.6 10L7.6 8.5L8.48711 7.35309C8.55228 7.28792 8.61656 7.21558 8.68081 7.13924C9.09787 6.6437 9.64859 6 10.2 6.01309V5.81309H7.8V6.01309C8 6.01309 8.2 6.01309 8.3 6.01309C8.45586 6.01309 8.6 6.20329 8.6 6.31309C8.6 6.62136 8.43963 6.81922 8.2462 7.03337L7.3 8.1L4.5 3.9C5.1 3.8 5.4 3.61 5.7 3.31C6 3.01 6.2 2.6 6.2 2.2C6.2 1.8 6.08711 1.47 5.78711 1.17C5.52798 0.910875 5.3 0.8 5 0.7C4.6 0.6 4.1 0.5 3.4 0.5H1V0.7H1.2C1.82201 0.7 2 1.14292 2 1.7V6C2 6.59634 2 6.9 1.2 6.9H1V7.1H3.8V6.9H3.6C2.9041 6.9 2.9 6.61047 2.9 6V4H3H3.2ZM3 3.7C3 3.7 3 3.7 2.9 3.7L2.88711 1C3.18711 0.9 3.4 0.9 3.6 0.9C4.47782 0.9 5 1.42405 5 2.3C5 3.40743 4.15401 3.7 3.2 3.7H3Z"/>\n    `,"background-position-x":("EntitySet"!==n?0:vt(bt.properties.entitySet.radius))+3*r,"background-position-y":t/2-11+"px","background-width":"22px","background-height":"24px"}},nU=(e,t,n)=>{const r=vt(bt.properties.global.thickness),i=vt(bt.properties.global.onPrimary);let s;return s="Interacting"===n?3*r:"SUB"===n?5*r:0,{"background-image":`\n      <path style="transform: scale(1.5)" fill="${i}" stroke-width="0.4" stroke="${i}" d="M19.6864 21.0381C19.0364 21.0381 18.4531 20.8508 17.9364 20.4761C17.4197 20.1008 17.0614 19.6214 16.8614 19.0381H11.6864C10.5864 19.0381 9.64473 18.6464 8.8614 17.8631C8.07807 17.0798 7.6864 16.1381 7.6864 15.0381C7.6864 13.9381 8.07807 12.9964 8.8614 12.2131C9.64473 11.4298 10.5864 11.0381 11.6864 11.0381H13.6864C14.2364 11.0381 14.7074 10.8421 15.0994 10.4501C15.4907 10.0588 15.6864 9.58809 15.6864 9.03809C15.6864 8.48809 15.4907 8.01709 15.0994 7.62509C14.7074 7.23375 14.2364 7.03809 13.6864 7.03809H8.5114C8.29473 7.62142 7.9324 8.10075 7.4244 8.47609C6.91573 8.85075 6.3364 9.03809 5.6864 9.03809C4.85307 9.03809 4.14473 8.74642 3.5614 8.16309C2.97807 7.57975 2.6864 6.87142 2.6864 6.03809C2.6864 5.20475 2.97807 4.49642 3.5614 3.91309C4.14473 3.32975 4.85307 3.03809 5.6864 3.03809C6.3364 3.03809 6.91573 3.22542 7.4244 3.60009C7.9324 3.97542 8.29473 4.45475 8.5114 5.03809H13.6864C14.7864 5.03809 15.7281 5.42975 16.5114 6.21309C17.2947 6.99642 17.6864 7.93809 17.6864 9.03809C17.6864 10.1381 17.2947 11.0798 16.5114 11.8631C15.7281 12.6464 14.7864 13.0381 13.6864 13.0381H11.6864C11.1364 13.0381 10.6657 13.2338 10.2744 13.6251C9.8824 14.0171 9.6864 14.4881 9.6864 15.0381C9.6864 15.5881 9.8824 16.0591 10.2744 16.4511C10.6657 16.8424 11.1364 17.0381 11.6864 17.0381H16.8614C17.0781 16.4548 17.4407 15.9754 17.9494 15.6001C18.4574 15.2254 19.0364 15.0381 19.6864 15.0381C20.5197 15.0381 21.2281 15.3298 21.8114 15.9131C22.3947 16.4964 22.6864 17.2048 22.6864 18.0381C22.6864 18.8714 22.3947 19.5798 21.8114 20.1631C21.2281 20.7464 20.5197 21.0381 19.6864 21.0381ZM5.6864 7.03809C5.96973 7.03809 6.2074 6.94242 6.3994 6.75109C6.59073 6.55909 6.6864 6.32142 6.6864 6.03809C6.6864 5.75475 6.59073 5.51709 6.3994 5.32509C6.2074 5.13375 5.96973 5.03809 5.6864 5.03809C5.40307 5.03809 5.1654 5.13375 4.9734 5.32509C4.78207 5.51709 4.6864 5.75475 4.6864 6.03809C4.6864 6.32142 4.78207 6.55909 4.9734 6.75109C5.1654 6.94242 5.40307 7.03809 5.6864 7.03809Z" />\n    `,"background-position-x":s,"background-position-y":t/2-18+"px","background-width":"36px","background-height":"36px"}},qR=(0,al.memoize)(()=>{const e=vt(bt.properties.global.onSurface);return jR(`<line x1="2.5" y1="3" x2="4.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="${e}"/><line x1="5.5" y1="3" x2="7.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="${e}"/>`,10,10)});const oC={selecting:!1,hovering:!1,deHovering:!1},sC=(e,t)=>n=>{oC[t]||(oC[t]=!0,e(n.connectedEdges().add(n)),oC[t]=!1)};let aC;function WR(e,t){return new lU(e,t)}class lU extends Array{constructor(t,n){super(t,n)}get x(){return this[0]}get y(){return this[1]}}function KR(e,t){if(e<t.at(0).x)return t.at(0).y;if(e>t.at(-1).x)return t.at(-1).y;for(let n=0;n+1<t.length;n++){let r=uU(e,t[n],t[n+1]);if(r)return r}return console.assert(!1,"Should not arrive here"),0}function uU(e,t,n){if(!(e<t.x||e>n.x))return(t.y*(n.x-e)+n.y*(e-t.x))/(n.x-t.x)}class lC{constructor(t,n,r){this.hue=t,this.saturation=n,this.luminance=r}toString(){return`hsl(${this.h},${this.s},${this.l})`}invertL(){return this.l=100-this.l,this}invertS(){return this.s=100-this.s,this}invertH(){return this.h=(360-this.h)%360,this}get h(){return this.hue}set h(t){this.hue=t}get s(){return this.saturation}set s(t){this.saturation=t}get l(){return this.luminance}set l(t){this.luminance=t}static fromHex(t){let n,r,i,s=0,u=0,p=0;if(4==t.length)n="0x"+t[1]+t[1],r="0x"+t[2]+t[2],i="0x"+t[3]+t[3];else{if(7!=t.length)throw new Error("Hexadecimal not properly formatted");n="0x"+t[1]+t[2],r="0x"+t[3]+t[4],i="0x"+t[5]+t[6]}s=Number.parseInt(n,16)/255,u=Number.parseInt(r,16)/255,p=Number.parseInt(i,16)/255;let m=Math.min(s,u,p),w=Math.max(s,u,p),x=w-m,I=0,N=0,U=0;return I=0==x?0:w==s?(u-p)/x%6:w==u?(p-s)/x+2:(s-u)/x+4,I=Math.round(60*I),I<0&&(I+=360),U=(w+m)/2,N=0==x?0:x/(1-Math.abs(2*U-1)),N=+(100*N).toFixed(1),U=+(100*U).toFixed(1),new lC(I,N,U)}toHex(){const t=this.h,n=this.s/=100,r=this.l/=100;let i=(1-Math.abs(2*r-1))*n,s=i*(1-Math.abs(t/60%2-1)),u=r-i/2,p=0,m=0,w=0;0<=t&&t<60?(p=i,m=s,w=0):60<=t&&t<120?(p=s,m=i,w=0):120<=t&&t<180?(p=0,m=i,w=s):180<=t&&t<240?(p=0,m=s,w=i):240<=t&&t<300?(p=s,m=0,w=i):300<=t&&t<360&&(p=i,m=0,w=s);let x=Math.round(255*(p+u)).toString(16),I=Math.round(255*(m+u)).toString(16),N=Math.round(255*(w+u)).toString(16);return 1==x.length&&(x="0"+x),1==I.length&&(I="0"+I),1==N.length&&(N="0"+N),"#"+x+I+N}}class bt{constructor(t,n={}){this.p=zH,this.pm=HH,bt.css=getComputedStyle(t),bt.properties=function rU(e={},t){const n=Ta(e.global||{}).setDefault("thickness",4).setDefault("surface",()=>t.getPropertyValue("--surface")||"#F6FEFF").setDefault("onSurface",()=>t.getPropertyValue("--on-surface")||"#001F24").setDefault("primary",()=>t.getPropertyValue("--primary")||"#006782").setDefault("onPrimary",()=>t.getPropertyValue("--on-primary")||"#FFFFFF").setDefault("positive",()=>t.getPropertyValue("--positive")||"#0C9509").setDefault("negative",()=>t.getPropertyValue("--negative")||"#BA1A1A").setDefault("selectNode",()=>t.getPropertyValue("--select-node")||"#6EB3E4").setDefault("selectEdge",()=>t.getPropertyValue("--select-edge")||"#0561A6").setDefault("hoverNode",()=>t.getPropertyValue("--hover-node")||"#78E076").setDefault("hoverEdge",()=>t.getPropertyValue("--hover-edge")||"#04B601"),r=Ta(e.compartment||{}).setDefault("opacity",()=>Number.parseFloat(t.getPropertyValue("--opacity"))||.06).setDefault("fill",()=>t.getPropertyValue("--compartment")||"#E5834A"),i=Ta(e.shadow||{}).setDefault("luminosity",()=>Number.parseFloat(t.getPropertyValue("--shadow-luminosity"))||40).setDefault("opacity",()=>{const re=t.getPropertyValue("--shadow-opacity");return re?JSON.parse(re):[[.2,.2],[.4,0]]}).setDefault("labelOpacity",()=>{const re=t.getPropertyValue("--shadow-label-opacity");return re?JSON.parse(re):[[.2,1],[.4,0]]}),s=Ta(e.protein||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-1")||"#001F29").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-1")||"#3E001D").setDefault("radius",8),u=Ta(e.genomeEncodedEntity||{}).setDefault("fill",()=>vt(s.fill)).setDefault("stroke",()=>vt(m.fill)).setDefault("drug",()=>vt(s.drug)).setDefault("radius",8),p=Ta(e.rna||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-2")||"#003545").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-2")||"#610B33").setDefault("radius",8),m=Ta(e.gene||{}).setDefault("decorationHeight",20).setDefault("decorationExtraWidth",17).setDefault("arrowHeadSize",10).setDefault("borderRadius",8).setDefault("arrowRadius",8).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-3")||"#004D62"),w=Ta(e.molecule||{}).setDefault("fill",()=>vt(n.surface)).setDefault("stroke",()=>vt(n.onSurface)).setDefault("drug",()=>t.getPropertyValue("--drug-contrast-3")||"#9C3D61"),x=Ta(e.complex||{}).setDefault("cut",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-1")||"#00315C").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-3")||"#7E2549"),I=Ta(e.entitySet||{}).setDefault("radius",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-3")||"#1660A5").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-4")||"#BB557A"),N=Ta(e.cell||{}).setDefault("thickness",()=>Number.parseFloat(t.getPropertyValue("--cell-thickness"))||16).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-2")||"#004882").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF"),U=Ta(e.pathway||{}).setDefault("fill",()=>vt(n.primary)).setDefault("stroke",()=>vt(n.onPrimary)).setDefault("disease",()=>vt(n.negative)),J=Ta(e.modification||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-2")||"#003545");return{global:n,compartment:r,shadow:i,protein:s,genomeEncodedEntity:u,rna:p,gene:m,molecule:w,complex:x,entitySet:I,cell:N,pathway:U,modification:J}}(n,bt.css)}bindToCytoscape(t){this.cy=t,function iU(e){e.elements().ungrabify().panify(),function oU(e){const t=sC(r=>r.addClass("hover"),"hovering"),n=sC(r=>r.removeClass("hover"),"deHovering");e.nodes().on("mouseover",r=>r.target.addClass("hover")).on("mouseout",r=>r.target.removeClass("hover")).nodes(".reaction").on("mouseover",r=>t(r.target)).on("mouseout",r=>n(r.target)),e.nodes(".Modification").on("mouseover",r=>e.nodes(`#${r.target.data("nodeId")}`).addClass("hover")).on("mouseout",r=>e.nodes(`#${r.target.data("nodeId")}`).removeClass("hover")),e.edges().on("mouseover",r=>t(r.target.connectedNodes(".reaction"))).on("mouseout",r=>n(r.target.connectedNodes(".reaction")))}(e),function sU(e){const t=sC(n=>n.select(),"selecting");e.edges().on("select",n=>t(n.target.connectedNodes(".reaction"))).on("unselect",n=>t(e.edges(":selected").connectedNodes(".reaction").add(e.nodes(".reaction:selected")))),e.nodes(".reaction").on("select",n=>t(n.target)),e.nodes(".Modification").on("select",n=>e.nodes(`#${n.target.data("nodeId")}`).select())}(e),function aU(e){const t=e.edges("[?pathway]"),n=e.nodes(".Shadow");e.minZoom(Math.min(e.zoom(),vt(bt.properties.shadow.labelOpacity)[0][0])),e.maxZoom(15),aC=r=>{const i=e.zoom();t.stop().animate({style:{"underlay-opacity":KR(i,vt(bt.properties.shadow.opacity).map(s=>WR(...s)))}}),n.stop().animate({style:{"text-opacity":KR(i,vt(bt.properties.shadow.labelOpacity).map(s=>WR(...s)))}})},e.on("zoom",aC)}(e)}(t),this.initSubPathwayColors()}initSubPathwayColors(){const t=this.cy?.nodes(".Shadow");if(!t)return;const n=360/t.length,r=new Map(t.map((i,s)=>{const u=new lC(n*s,100,vt(bt.properties.shadow.luminosity)).toHex();return i.data("color",u),[i.data("reactomeId"),u]}));this.cy?.edges("[?pathway]").forEach(i=>{i.data("color",r.get(i.data("pathway")))})}getStyleSheet(){return[{selector:"*",style:{"font-family":"Helvetica","font-weight":600,"z-index":1}},{selector:"node.Compartment",style:{shape:"round-rectangle",width:"data(width)",height:"data(height)","border-style":"double","z-index":0,"z-compound-depth":"bottom","overlay-opacity":0,color:this.p("compartment","fill"),"border-color":this.p("compartment","fill"),"background-color":this.p("compartment","fill"),"background-opacity":this.p("compartment","opacity"),"border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.Compartment.inner, node.Compartment.outer",style:{"border-style":"solid","border-width":this.p("global","thickness")}},{selector:"node.Compartment.outer",style:{label:"data(displayName)","text-opacity":1,"text-valign":"bottom","text-halign":"right","text-margin-x":"data(textX)","text-margin-y":"data(textY)"}},{selector:"node.Shadow[?color]",style:{label:"data(displayName)","font-size":80,"background-opacity":0,color:"data(color)","text-valign":"center","text-halign":"center","text-outline-color":this.p("global","surface"),"text-outline-width":15,"text-wrap":"wrap","text-max-width":"data(width)"}},{selector:"node.Interactor",style:{label:"data(displayName)",color:this.p("global","surface"),shape:"ellipse","text-valign":"center","text-halign":"center","text-wrap":"wrap","background-color":this.p("global","negative")}},{selector:"node.drug",style:{"text-max-width":t=>t.width()-44+"px","text-margin-x":4,"font-style":"italic"}},{selector:"node.PhysicalEntity, node.Pathway, node.Modification",style:{label:"data(displayName)",width:"data(width)",height:"data(height)","background-fit":"none","text-halign":"center","text-valign":"center","text-wrap":"wrap","text-max-width":"data(width)","background-image-smoothing":"no","background-image":t=>Nf(t)["background-image"],"background-position-y":t=>Nf(t)["background-position-y"]||0,"background-position-x":t=>Nf(t)["background-position-x"]||0,"background-height":t=>Nf(t)["background-height"]||"100%","background-width":t=>Nf(t)["background-width"]||"100%","background-clip":t=>Nf(t)["background-clip"]||"clipped","background-image-containment":t=>Nf(t)["background-image-containment"]||"inside","bounds-expansion":this.p("global","thickness"),color:this.p("global","onPrimary")}},{selector:"node.Protein",style:{shape:"round-rectangle","background-color":this.p("protein","fill")}},{selector:"node.Protein.drug",style:{"background-color":this.p("protein","drug")}},{selector:"node.GenomeEncodedEntity",style:{shape:"round-rectangle","background-color":this.p("genomeEncodedEntity","fill")}},{selector:"node.GenomeEncodedEntity.drug",style:{"background-color":this.p("genomeEncodedEntity","drug")}},{selector:"node.RNA",style:{shape:"bottom-round-rectangle","background-color":this.p("rna","fill")}},{selector:"node.RNA.drug",style:{"background-color":this.p("rna","drug")}},{selector:"node.Gene",style:{shape:"bottom-round-rectangle","background-opacity":0,"background-color":this.p("gene","fill"),"bounds-expansion":this.p("gene","decorationExtraWidth"),"text-margin-y":this.pm("gene","decorationHeight",t=>t/2)}},{selector:"node.Molecule",style:{"background-opacity":0,shape:"round-rectangle",color:this.p("molecule","stroke")}},{selector:"node.Molecule.drug",style:{color:this.p("molecule","drug")}},{selector:"node.EntitySet",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n+"px"))}},{selector:"node.EntitySet.drug",style:{"text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n-44+"px"))}},{selector:"node.Complex",style:{"background-opacity":0,shape:"cut-rectangle","text-max-width":t=>this.pm("global","thickness",n=>t.width()-6*n+"px")}},{selector:"node.Complex.drug",style:{"text-margin-x":4,"text-max-width":t=>this.pm("global","thickness",n=>t.width()-6*n-44+"px")}},{selector:"node.Cell",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":t=>this.pm("global","thickness",n=>this.pm("cell","thickness",r=>t.width()-2*n-2*r+"px"))}},{selector:"node.Pathway",style:{"background-color":this.p("pathway","fill"),"text-margin-x":18}},{selector:"node.Interacting.Pathway",style:{shape:"rectangle","border-color":this.p("pathway","stroke"),"border-width":this.pm("global","thickness",t=>3*t),"text-max-width":t=>this.pm("global","thickness",n=>t.width()-2*(4*n+36)+"px")}},{selector:"node.SUB.Pathway",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":t=>this.pm("global","thickness",n=>t.width()-2*(6*n+36)+"px")}},{selector:"node.Modification",style:{"background-color":this.p("modification","fill"),shape:"round-rectangle"}},{selector:"node.reaction",style:{width:this.pm("global","thickness",t=>6*t),height:this.pm("global","thickness",t=>6*t),shape:"round-rectangle","text-halign":"center","text-valign":"center","border-width":this.p("global","thickness"),"border-color":this.p("global","onSurface"),color:this.p("global","onSurface"),"background-color":this.p("global","surface")}},{selector:"node.reaction[?displayName]",style:{label:"data(displayName)","font-weight":400,"text-valign":"top","text-margin-y":-5}},{selector:"node.reaction.hover",style:{"border-width":this.pm("global","thickness",t=>1*t),"border-color":this.p("global","hoverEdge")}},{selector:"node.reaction:selected",style:{"border-width":this.pm("global","thickness",t=>1.5*t),"border-color":this.p("global","selectEdge")}},{selector:"node.association",style:{shape:"ellipse","background-color":this.p("global","onSurface")}},{selector:"node.dissociation",style:{shape:"ellipse","border-style":"double","border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.uncertain",style:{label:"?","text-valign":"center","text-margin-y":0,"font-weight":600}},{selector:"node.omitted",style:{"background-image":qR(),"background-fit":"cover","background-height":"100%","background-width":"100%"}},{selector:"edge",style:{"curve-style":"bezier","line-cap":"round","source-endpoint":"outside-to-node","arrow-scale":1.5,width:this.p("global","thickness"),color:this.p("global","onSurface"),"line-color":this.p("global","onSurface"),"target-arrow-color":this.p("global","onSurface"),"mid-source-arrow-color":this.p("global","onSurface"),"mid-target-arrow-color":this.p("global","onSurface"),"source-arrow-color":this.p("global","onSurface"),"source-arrow-width":"100%","target-arrow-width":"100%"}},{selector:"edge.hover",style:{"line-color":this.p("global","hoverEdge"),width:this.pm("global","thickness",t=>1.5*t),"arrow-scale":1,"source-arrow-color":this.p("global","hoverEdge"),"target-arrow-color":this.p("global","hoverEdge"),"source-arrow-width":"50%","target-arrow-width":"50%","z-index":2}},{selector:"edge:selected",style:{"line-color":this.p("global","selectEdge"),width:this.pm("global","thickness",t=>2*t),"arrow-scale":1,"source-arrow-color":this.p("global","selectEdge"),"target-arrow-color":this.p("global","selectEdge"),"source-arrow-width":"50%","target-arrow-width":"50%","z-index":3}},{selector:"edge.consumption",style:{"target-endpoint":"inside-to-node","source-endpoint":"outside-to-node"}},{selector:"edge.production",style:{"target-arrow-shape":"triangle"}},{selector:"edge.catalysis",style:{"target-arrow-shape":"circle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.positive-regulation",style:{"target-arrow-shape":"triangle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.negative-regulation",style:{"target-arrow-shape":"tee","line-cap":"butt","source-endpoint":"inside-to-node","target-arrow-color":this.p("global","negative")}},{selector:"edge.set-to-member",style:{"target-arrow-shape":"circle","line-style":"dashed","line-dash-pattern":[6,10]}},{selector:"edge[stoichiometry > 1]",style:{"text-background-color":this.p("global","surface"),"text-background-opacity":1,"text-border-width":this.pm("global","thickness",t=>t/2),"text-border-opacity":1,"text-border-color":this.p("global","onSurface"),"text-background-shape":"roundrectangle","text-background-padding":this.pm("global","thickness",t=>t+"px")}},{selector:"edge[stoichiometry > 1].incoming",style:{"source-label":"data(stoichiometry)","source-text-offset":30}},{selector:"edge[stoichiometry > 1].outgoing",style:{"target-label":"data(stoichiometry)","target-text-offset":35}},{selector:"edge[?color]",style:{"underlay-color":"data(color)","underlay-padding":20,"underlay-opacity":this.pm("shadow","opacity",t=>t[0][1])}},{selector:"edge[?weights]",style:{"curve-style":"segments","segment-distances":"data(distances)","segment-weights":"data(weights)","edge-distances":"endpoints"}},{selector:"edge[?sourceEndpoint]",style:{"source-endpoint":"data(sourceEndpoint)"}},{selector:"edge[?targetEndpoint]",style:{"target-endpoint":"data(targetEndpoint)"}},{selector:"edge[?sourceLabel]",style:{"source-label":"data(sourceLabel)","source-text-margin-y":-12,"font-weight":400}},{selector:"edge[?label]",style:{label:"data(label)","text-margin-y":12,"font-weight":400}},{selector:".disease",style:{color:this.p("global","negative"),"line-color":this.p("global","negative"),"border-color":this.p("global","negative")}},{selector:"edge[?sourceOffset]",style:{"source-text-offset":"data(sourceOffset)"}},{selector:"[?labelColor]",style:{color:t=>vt(this.p("global",t.data("labelColor")))}},{selector:"node.debug",style:{label:"data(id)","text-outline-width":4,"text-outline-color":"black","text-outline-opacity":1,color:"white"}},{selector:"node.Legend.Label",style:{label:"data(displayName)","text-halign":"center","text-valign":"center","font-size":24,"font-weight":400,"background-opacity":0,color:this.p("global","onSurface")}},{selector:"node.Legend.Placeholder",style:{"background-opacity":0,"border-opacity":0,width:20,height:20,shape:"rectangle"}},{selector:"node.Legend.Placeholder[?displayName]",style:{label:"data(displayName)","font-weight":400}}]}update(t){(function eU(){for(let e of iC.values())e.cache.clear();Nf.cache.clear(),qR.cache.clear()})(),t.style(this.getStyleSheet()),this.initSubPathwayColors(),aC()}}const cU=JSON.parse('{"nodes":[{"data":{"id":"Label 1","displayName":"Molecules"},"classes":["Label","Legend"],"position":{"x":250,"y":-20}},{"data":{"id":"Gene","displayName":"Gene","height":80,"width":220},"classes":["Gene","PhysicalEntity"],"position":{"x":130,"y":40}},{"data":{"id":"Genome Encoded Entity","displayName":"Genome Encoded Entity","height":60,"width":220},"classes":["GenomeEncodedEntity","PhysicalEntity"],"position":{"x":370,"y":50}},{"data":{"id":"RNA","displayName":"RNA","height":60,"width":220},"classes":["RNA","PhysicalEntity"],"position":{"x":130,"y":130}},{"data":{"id":"RNA-drug","displayName":"RNA Drug","height":60,"width":220},"classes":["RNA","PhysicalEntity","drug"],"position":{"x":370,"y":130}},{"data":{"id":"Protein","displayName":"Protein","height":60,"width":220},"classes":["Protein","PhysicalEntity"],"position":{"x":130,"y":210}},{"data":{"id":"Protein-drug","displayName":"Protein Drug","height":60,"width":220},"classes":["Protein","PhysicalEntity","drug"],"position":{"x":370,"y":210}},{"data":{"id":"Molecule","displayName":"Molecule","height":60,"width":220},"classes":["Molecule","PhysicalEntity"],"position":{"x":130,"y":290}},{"data":{"id":"Molecule-drug","displayName":"Molecule Drug","height":60,"width":220},"classes":["Molecule","PhysicalEntity","drug"],"position":{"x":370,"y":290}},{"data":{"id":"Complex","displayName":"Complex","height":60,"width":220},"classes":["Complex","PhysicalEntity"],"position":{"x":130,"y":370}},{"data":{"id":"Complex-drug","displayName":"Complex Drug","height":60,"width":220},"classes":["Complex","PhysicalEntity","drug"],"position":{"x":370,"y":370}},{"data":{"id":"EntitySet","displayName":"Set","height":60,"width":220},"classes":["EntitySet","PhysicalEntity"],"position":{"x":130,"y":450}},{"data":{"id":"EntitySet-drug","displayName":"Set Drug","height":60,"width":220},"classes":["EntitySet","PhysicalEntity","drug"],"position":{"x":370,"y":450}},{"data":{"id":"Cell","displayName":"Cell","height":60,"width":220},"classes":["Cell","PhysicalEntity"],"position":{"x":250,"y":530}},{"data":{"id":"SubPathway","displayName":"SubPathway","height":80,"width":220},"classes":["SUB","Pathway"],"position":{"x":130,"y":610}},{"data":{"id":"interacting pathway","displayName":"Interacting Pathway","height":80,"width":220},"classes":["Interacting","Pathway"],"position":{"x":370,"y":610}},{"data":{"id":"Label 2","displayName":"Reaction Types"},"classes":["Label","Legend"],"position":{"x":250,"y":690}},{"data":{"id":"a"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":760}},{"data":{"id":"dissociation","displayName":"Dissociation"},"classes":["dissociation","reaction"],"position":{"x":130,"y":760}},{"data":{"id":"b"},"classes":["Placeholder","Legend"],"position":{"x":250,"y":740}},{"data":{"id":"c"},"classes":["Placeholder","Legend"],"position":{"x":250,"y":780}},{"data":{"id":"association","displayName":"Association"},"classes":["association","reaction"],"position":{"x":370,"y":760}},{"data":{"id":"d"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":760}},{"data":{"id":"e"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":840}},{"data":{"id":"transition","displayName":"Transition"},"classes":["transition","reaction"],"position":{"x":130,"y":840}},{"data":{"id":"f"},"classes":["Placeholder","Legend"],"position":{"x":250,"y":840}},{"data":{"id":"omitted","displayName":"Omitted"},"classes":["omitted","reaction"],"position":{"x":370,"y":840}},{"data":{"id":"g"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":840}},{"data":{"id":"h"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":920}},{"data":{"id":"uncertain-l","displayName":"Uncertain"},"classes":["Placeholder","reaction","Legend"],"position":{"x":250,"y":916}},{"data":{"id":"uncertain"},"classes":["uncertain","reaction"],"position":{"x":250,"y":920}},{"data":{"id":"i"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":920}},{"data":{"id":"Label 3","displayName":"Reaction Attributes"},"classes":["Label","Legend"],"position":{"x":250,"y":980}},{"data":{"id":"attr-catalysis"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1020}},{"data":{"id":"attr-reg+"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1020}},{"data":{"id":"attr-a"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1060}},{"data":{"id":"attr-b"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1100}},{"data":{"id":"attr-reaction"},"classes":["association","reaction"],"position":{"x":250,"y":1080}},{"data":{"id":"attr-c"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1080}},{"data":{"id":"attr-reg-"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1145}},{"data":{"id":"attr-s-l","displayName":"Stoichiometry","labelColor":"onSurface"},"classes":["Placeholder","Legend"],"position":{"x":73,"y":1150}},{"data":{"id":"line-a"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1185}},{"data":{"id":"line-b"},"classes":["Placeholder","Legend"],"position":{"x":250,"y":1185}},{"data":{"id":"line-c"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1185}},{"data":{"id":"line-d"},"classes":["Placeholder","Legend"],"position":{"x":15,"y":1225}},{"data":{"id":"line-e"},"classes":["Placeholder","Legend"],"position":{"x":485,"y":1225}}],"edges":[{"data":{"source":"a","target":"dissociation"},"classes":["consumption","incoming"]},{"data":{"source":"dissociation","target":"b","weights":"0.270 0.523","distances":"5.535 -9.976","sourceEndpoint":"18 0","targetEndpoint":"-10 0"},"classes":["production","outgoing"]},{"data":{"source":"dissociation","target":"c","weights":"0.270 0.523","distances":"-5.535 9.976","sourceEndpoint":"18 0","targetEndpoint":"-10 0"},"classes":["production","outgoing"]},{"data":{"source":"b","target":"association","weights":"0.285 0.521","distances":"-5.82 9.777","sourceEndpoint":"10 0","targetEndpoint":"-10 0"},"classes":["consumption","outgoing"]},{"data":{"source":"c","target":"association","weights":"0.285 0.521","distances":"5.82 -9.777","sourceEndpoint":"10 0","targetEndpoint":"-10 0"},"classes":["consumption","outgoing"]},{"data":{"source":"association","target":"d"},"classes":["production","outgoing"]},{"data":{"source":"e","target":"transition"},"classes":["consumption","incoming"]},{"data":{"source":"transition","target":"f"},"classes":["production","outgoing"]},{"data":{"source":"f","target":"omitted"},"classes":["consumption","incoming"]},{"data":{"source":"omitted","target":"g"},"classes":["production","outgoing"]},{"data":{"source":"h","target":"uncertain"},"classes":["consumption","incoming"]},{"data":{"source":"uncertain","target":"i"},"classes":["production","outgoing"]},{"data":{"source":"attr-a","target":"attr-reaction","weights":"0.582 0.683","distances":"-11.686 6.357","sourceEndpoint":"10 0","targetEndpoint":"-12 0"},"classes":["consumption","incoming"]},{"data":{"source":"attr-b","target":"attr-reaction","weights":"0.582 0.683","distances":"11.686 -6.357","sourceEndpoint":"10 0","targetEndpoint":"-12 0","stoichiometry":3,"sourceOffset":50},"classes":["consumption","incoming"]},{"data":{"source":"attr-reaction","target":"attr-c","sourceEndpoint":"12 0","targetEndpoint":"-10 0"},"classes":["production","outgoing"]},{"data":{"source":"attr-catalysis","target":"attr-reaction","weights":"0.754","distances":"-34.250","sourceEndpoint":"10 0","targetEndpoint":"-15.556 -15.556","sourceLabel":"Catalysis","sourceOffset":30,"labelColor":"positive"},"classes":["catalysis","incoming"]},{"data":{"source":"attr-reg+","target":"attr-reaction","weights":"0.754","distances":"34.250","sourceEndpoint":"-10 0","targetEndpoint":"15.556 -15.556","sourceLabel":"Positive Regulation","sourceOffset":70,"labelColor":"positive"},"classes":["positive-regulation","incoming"]},{"data":{"source":"attr-reg-","target":"attr-reaction","sourceEndpoint":"-10 0","targetEndpoint":"0 22","weights":"0.966","distances":"-41.287","sourceLabel":"Negative regulation","sourceOffset":72,"labelColor":"negative"},"classes":["negative-regulation","incoming"]},{"data":{"source":"line-a","target":"line-b","sourceEndpoint":"12 0","targetEndpoint":"-12 0","label":"Wild Type"},"classes":["consumption","incoming"]},{"data":{"source":"line-b","target":"line-c","sourceEndpoint":"12 0","targetEndpoint":"-12 0","label":"Disease Associated","labelColor":"negative"},"classes":["consumption","incoming","disease"]},{"data":{"source":"line-d","target":"line-e","sourceEndpoint":"12 0","targetEndpoint":"-12 0","label":"Member of Set","labelColor":"onSurface"},"classes":["set-to-member"]}],"Reaction Types GeoGebra":"https://www.geogebra.org/calculator/bydd8bz5","Reaction Attributes GeoGebra":"https://www.geogebra.org/calculator/hgu6afmu"}');var e,dU=Object.create,ZR=Object.defineProperty,fU=Object.getOwnPropertyDescriptor,hU=Object.getOwnPropertyNames,pU=Object.getPrototypeOf,gU=Object.prototype.hasOwnProperty,uC=(e=function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e),cC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),yU=cC((e,t)=>{t.exports=function(n){return n&&"object"==typeof n&&"function"==typeof n.copy&&"function"==typeof n.fill&&"function"==typeof n.readUInt8}}),bU=cC((e,t)=>{t.exports="function"==typeof Object.create?function(n,r){n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}),_U=cC(e=>{var t=/%[sdj%]/g;e.format=function(he){if(!tt(he)){for(var Me=[],nt=0;nt<arguments.length;nt++)Me.push(i(arguments[nt]));return Me.join(" ")}nt=1;for(var tn=arguments,Ar=tn.length,Yn=String(he).replace(t,function(Qr){if("%%"===Qr)return"%";if(nt>=Ar)return Qr;switch(Qr){case"%s":return String(tn[nt++]);case"%d":return Number(tn[nt++]);case"%j":try{return JSON.stringify(tn[nt++])}catch{return"[Circular]"}default:return Qr}}),Pn=tn[nt];nt<Ar;Pn=tn[++nt])pe(Pn)||!Se(Pn)?Yn+=" "+Pn:Yn+=" "+i(Pn);return Yn},e.deprecate=function(he,Me){if($t(global.process))return function(){return e.deprecate(he,Me).apply(this,arguments)};if(!0===process.noDeprecation)return he;var nt=!1;return function tn(){if(!nt){if(process.throwDeprecation)throw new Error(Me);process.traceDeprecation?console.trace(Me):console.error(Me),nt=!0}return he.apply(this,arguments)}};var r,n={};function i(he,Me){var nt={seen:[],stylize:u};return arguments.length>=3&&(nt.depth=arguments[2]),arguments.length>=4&&(nt.colors=arguments[3]),re(Me)?nt.showHidden=Me:Me&&e._extend(nt,Me),$t(nt.showHidden)&&(nt.showHidden=!1),$t(nt.depth)&&(nt.depth=2),$t(nt.colors)&&(nt.colors=!1),$t(nt.customInspect)&&(nt.customInspect=!0),nt.colors&&(nt.stylize=s),m(nt,he,nt.depth)}function s(he,Me){var nt=i.styles[Me];return nt?"\x1b["+i.colors[nt][0]+"m"+he+"\x1b["+i.colors[nt][1]+"m":he}function u(he,Me){return he}function m(he,Me,nt){if(he.customInspect&&Me&&hr(Me.inspect)&&Me.inspect!==e.inspect&&(!Me.constructor||Me.constructor.prototype!==Me)){var tn=Me.inspect(nt,he);return tt(tn)||(tn=m(he,tn,nt)),tn}var Ar=function w(he,Me){if($t(Me))return he.stylize("undefined","undefined");if(tt(Me)){var nt="'"+JSON.stringify(Me).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return he.stylize(nt,"string")}return ve(Me)?he.stylize(""+Me,"number"):re(Me)?he.stylize(""+Me,"boolean"):pe(Me)?he.stylize("null","null"):void 0}(he,Me);if(Ar)return Ar;var Yn=Object.keys(Me),Pn=function p(he){var Me={};return he.forEach(function(nt,tn){Me[nt]=!0}),Me}(Yn);if(he.showHidden&&(Yn=Object.getOwnPropertyNames(Me)),fr(Me)&&(Yn.indexOf("message")>=0||Yn.indexOf("description")>=0))return x(Me);if(0===Yn.length){if(hr(Me))return he.stylize("[Function"+(Me.name?": "+Me.name:"")+"]","special");if(Zn(Me))return he.stylize(RegExp.prototype.toString.call(Me),"regexp");if(Ut(Me))return he.stylize(Date.prototype.toString.call(Me),"date");if(fr(Me))return x(Me)}var es,Qr="",Qu=!1,Ni=["{","}"];return J(Me)&&(Qu=!0,Ni=["[","]"]),hr(Me)&&(Qr=" [Function"+(Me.name?": "+Me.name:"")+"]"),Zn(Me)&&(Qr=" "+RegExp.prototype.toString.call(Me)),Ut(Me)&&(Qr=" "+Date.prototype.toUTCString.call(Me)),fr(Me)&&(Qr=" "+x(Me)),0!==Yn.length||Qu&&0!=Me.length?nt<0?Zn(Me)?he.stylize(RegExp.prototype.toString.call(Me),"regexp"):he.stylize("[Object]","special"):(he.seen.push(Me),es=Qu?function I(he,Me,nt,tn,Ar){for(var Yn=[],Pn=0,Mn=Me.length;Pn<Mn;++Pn)wt(Me,String(Pn))?Yn.push(N(he,Me,nt,tn,String(Pn),!0)):Yn.push("");return Ar.forEach(function(Qr){Qr.match(/^\d+$/)||Yn.push(N(he,Me,nt,tn,Qr,!0))}),Yn}(he,Me,nt,Pn,Yn):Yn.map(function(km){return N(he,Me,nt,Pn,km,Qu)}),he.seen.pop(),function U(he,Me,nt){var Ar=he.reduce(function(Yn,Pn){return Pn.indexOf("\n"),Yn+Pn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ar>60?nt[0]+(""===Me?"":Me+"\n ")+" "+he.join(",\n  ")+" "+nt[1]:nt[0]+Me+" "+he.join(", ")+" "+nt[1]}(es,Qr,Ni)):Ni[0]+Qr+Ni[1]}function x(he){return"["+Error.prototype.toString.call(he)+"]"}function N(he,Me,nt,tn,Ar,Yn){var Pn,Mn,Qr;if((Qr=Object.getOwnPropertyDescriptor(Me,Ar)||{value:Me[Ar]}).get?Mn=he.stylize(Qr.set?"[Getter/Setter]":"[Getter]","special"):Qr.set&&(Mn=he.stylize("[Setter]","special")),wt(tn,Ar)||(Pn="["+Ar+"]"),Mn||(he.seen.indexOf(Qr.value)<0?(Mn=pe(nt)?m(he,Qr.value,null):m(he,Qr.value,nt-1)).indexOf("\n")>-1&&(Mn=Yn?Mn.split("\n").map(function(Qu){return"  "+Qu}).join("\n").substr(2):"\n"+Mn.split("\n").map(function(Qu){return"   "+Qu}).join("\n")):Mn=he.stylize("[Circular]","special")),$t(Pn)){if(Yn&&Ar.match(/^\d+$/))return Mn;(Pn=JSON.stringify(""+Ar)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Pn=Pn.substr(1,Pn.length-2),Pn=he.stylize(Pn,"name")):(Pn=Pn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Pn=he.stylize(Pn,"string"))}return Pn+": "+Mn}function J(he){return Array.isArray(he)}function re(he){return"boolean"==typeof he}function pe(he){return null===he}function ve(he){return"number"==typeof he}function tt(he){return"string"==typeof he}function $t(he){return void 0===he}function Zn(he){return Se(he)&&"[object RegExp]"===Eo(he)}function Se(he){return"object"==typeof he&&null!==he}function Ut(he){return Se(he)&&"[object Date]"===Eo(he)}function fr(he){return Se(he)&&("[object Error]"===Eo(he)||he instanceof Error)}function hr(he){return"function"==typeof he}function Eo(he){return Object.prototype.toString.call(he)}function Gi(he){return he<10?"0"+he.toString(10):he.toString(10)}e.debuglog=function(he){if($t(r)&&(r=process.env.NODE_DEBUG||""),he=he.toUpperCase(),!n[he])if(new RegExp("\\b"+he+"\\b","i").test(r)){var Me=process.pid;n[he]=function(){var nt=e.format.apply(e,arguments);console.error("%s %d: %s",he,Me,nt)}}else n[he]=function(){};return n[he]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=J,e.isBoolean=re,e.isNull=pe,e.isNullOrUndefined=function Ne(he){return null==he},e.isNumber=ve,e.isString=tt,e.isSymbol=function _t(he){return"symbol"==typeof he},e.isUndefined=$t,e.isRegExp=Zn,e.isObject=Se,e.isDate=Ut,e.isError=fr,e.isFunction=hr,e.isPrimitive=function Ra(he){return null===he||"boolean"==typeof he||"number"==typeof he||"string"==typeof he||"symbol"==typeof he||typeof he>"u"},e.isBuffer=yU();var Oi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function wt(he,Me){return Object.prototype.hasOwnProperty.call(he,Me)}e.log=function(){console.log("%s - %s",function ka(){var he=new Date,Me=[Gi(he.getHours()),Gi(he.getMinutes()),Gi(he.getSeconds())].join(":");return[he.getDate(),Oi[he.getMonth()],Me].join(" ")}(),e.format.apply(e,arguments))},e.inherits=bU(),e._extend=function(he,Me){if(!Me||!Se(Me))return he;for(var nt=Object.keys(Me),tn=nt.length;tn--;)he[nt[tn]]=Me[nt[tn]];return he}}),YR=e=>e.reduce((t,n)=>t.concat(Array.isArray(n)?YR(n):n),[]),QR=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),XR=e=>e.reduce((t,n)=>t*n,1),JR=e=>Array.isArray(e)||QR(e)?[e.length].concat(JR(e[0])):[],dC=e=>[...e.slice(1).map((t,n)=>e.slice(n+1).reduce((r,i)=>r*i,1)),1],wU=e=>{let{constructor:{name:t="Float32Array"}={}}=e||{};switch(t){case"Int8Array":return"int8";case"Uint8Array":return"uint8";case"Int16Array":return"int16";case"Uint16Array":return"uint16";case"Int32Array":return"int32";case"Uint32Array":return"uint32";case"Uint8ClampedArray":return"uint8c";case"Float32Array":return"float32";default:return"float64"}},xm=e=>{switch(e){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"uint8c":return Uint8ClampedArray;case"float32":return Float32Array;default:return Float64Array}},et=(...e)=>new Jl(...e),hn=class{x;shape;shapem1;strides;backstrides;length;lengthm1;nd;ndm1;index;coords;pos;factors;constructor(e){this.x=et(e);let i,{shape:t,strides:n,length:r}=this.x;for(this.length=r,this.lengthm1=r-1,this.nd=t.length,this.ndm1=this.nd-1,this.shape=Array(32).fill(0),this.strides=Array(32).fill(0),this.shapem1=Array(32).fill(0),this.coords=Array(32).fill(0),this.backstrides=Array(32).fill(0),this.factors=Array(32).fill(0),0!==this.nd&&(this.factors[this.nd-1]=1),i=0;i<this.nd;i+=1)this.shape[i]=t[i],this.shapem1[i]=t[i]-1,this.strides[i]=n[i],this.backstrides[i]=n[i]*this.shapem1[i],this.coords[i]=0,i>0&&(this.factors[this.ndm1-i]=this.factors[this.nd-i]*t[this.nd-i]);this.index=0,this.pos=0}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;let s,{ndm1:t,shapem1:n,strides:r,backstrides:i}=this;for(s=t;s>=0;s-=1){if(this.coords[s]<n[s]){this.coords[s]+=1,this.pos+=r[s];break}this.coords[s]=0,this.pos-=i[s]}return this.index+=1,e}[Symbol.iterator](){return this}},Sm=class{iters;shape;nd;length;lengthm1;numiter;index;pos;constructor(...e){let t,n,r,i,s,u;for(this.iters=e.map(p=>new hn(p)),this.numiter=e.length,t=0,n=0;t<this.numiter;t+=1)n=Math.max(n,this.iters[t].x.shape.length);for(this.nd=n,this.shape=Array(n).fill(0),t=0;t<n;t+=1)for(this.shape[t]=1,i=0;i<this.numiter;i+=1)if(r=this.iters[i],s=t+r.x.shape.length-n,s>=0){if(u=r.x.shape[s],1==u)continue;if(1==this.shape[t])this.shape[t]=u;else if(this.shape[t]!==u)throw new Error("shape mismatch")}for(u=this.shape.reduce((p,m)=>p*m,1),this.length=u,this.lengthm1=u-1,t=0;t<this.numiter;t+=1)for(r=this.iters[t],r.nd=this.nd,r.ndm1=this.nd-1,r.length=u,r.lengthm1=u-1,n=r.x.shape.length,0!==n&&(r.factors[this.nd-1]=1),i=0;i<this.nd;i+=1)r.shape[i]=this.shape[i],r.shapem1[i]=this.shape[i]-1,s=i+n-this.nd,r.strides[i]=s<0||r.x.shape[s]!==this.shape[i]?0:r.x.strides[s],r.backstrides[i]=r.strides[i]*r.shapem1[i],i>0&&(r.factors[this.nd-i-1]=r.factors[this.nd-i]*this.shape[this.nd-i]);this.index=0,this.pos=Array(this.numiter).fill(0)}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;this.index+=1;let n,r,{numiter:t}=this;for(r=0;r<t;r+=1)n=this.iters[r],this.pos[r]=n.pos,n.next();return e}[Symbol.iterator](){return this}},{abs:EU}=Math;function DU(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=EU(e[n]);return this}var{acos:CU}=Math;function xU(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=CU(e[n]);return this}var Pi,{acosh:SU}=Math;function MU(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=SU(e[n]);return this}try{Pi=uC("nblas")}catch{}var ek=Pi&&Pi.NoTrans,tk=(e,t,n=1)=>et(e).add(et(t),n);function OU(e,t=1){let{data:n,length:r,strides:i,dtype:s}=this,{data:u,strides:p}=et(e);try{let m=p[p.length-1],w=i[i.length-1];if(m!==w)throw new Error("inc_x and inc_y must be equal");!function TU(e,t,n,r,i,s,u){if(r.length/i!==t||s.length/u!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.daxpy(t,n,r,i,s,u);case"float32":return Pi.saxpy(t,n,r,i,s,u);default:throw new Error("wrong dtype")}}(s,r,t,u,m,n,w)}catch{let m=new Sm(this,e);for(let[w,x]of m)n[w]+=t*u[x]}return this}var{acos:NU}=Math;function FU(e){return NU(this.dot(et(e))/this.norm()/et(e).norm())}var{asin:LU}=Math;function BU(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=LU(e[n]);return this}var{asinh:VU}=Math;function $U(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=VU(e[n]);return this}var{atan:zU}=Math;function HU(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=zU(e[n]);return this}var{atanh:UU}=Math;function jU(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=UU(e[n]);return this}var Ff=(...e)=>new Jl(new Float64Array(e.reduce((t,n)=>t*n,1)),{shape:e}).fill(0);function qU(e){let[t,n]=this.shape,[r,i]=et(e).shape,{data:s}=this,{data:u}=et(e);if(0===r||0===i)return this;if(t!==r)throw new Error("rows do not match");let w,x,p=Ff(t,n+i),{data:m}=p;for(w=0;w<t;w+=1)for(x=0;x<n;x+=1)m[w*(n+i)+x]=s[w*n+x];for(w=0;w<r;w+=1)for(x=0;x<i;x+=1)m[w*(n+i)+(x+n)]=u[w*i+x];return p}function WU(e,t){let{data:n}=this,{data:r}=et(e),i=new Sm(this,e);for(let[s,u]of i)n[s]=t(n[s],r[u],s);return this}var{cbrt:KU}=Math;function ZU(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=KU(e[n]);return this}var{ceil:YU}=Math;function QU(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=YU(e[n]);return this}function XU(...e){let{shape:t,length:n}=this;if(1===e.length){let[r]=e;if(r<0||r>n-1||!Number.isFinite(r))throw new Error("index out of bounds")}else if(!t.every((r,i)=>r>e[i]&&Number.isFinite(e[i])&&e[i]>=0))throw new Error("index out of bounds")}function JU(e){if(1!==this.shape.length&&1!==e.shape.length)throw new Error("combine operation not permitted for multidimensional arrays");let{length:t,data:n}=this,{length:r,data:i}=e;if(0===r)return this;if(0===t)return this.data=new(xm(e.dtype))(i),this.length=r,this.dtype=e.dtype,this;let s=t+r,u=new(xm(this.dtype))(s);return u.set(n),u.set(i,t),this.data=u,this.length=s,this.shape=[s],this}function e8(){let e=Ff(...this.shape),{data:t}=this,{data:n}=e,r=new Sm(this,e);for(let[i,s]of r)n[s]=t[i];return e}var{cos:t8}=Math;function n8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=t8(e[n]);return this}var{cosh:r8}=Math;function i8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=r8(e[n]);return this}function o8(e){let{length:t}=this,{length:n}=e;if(3!==t||3!==n)throw new Error("vectors must have three components");let i=this.z*e.x-this.x*e.z,s=this.x*e.y-this.y*e.x;return this.x=this.y*e.z-this.z*e.y,this.y=i,this.z=s,this}function s8(){this.square();let u,[e]=this.shape,[t,n]=this.copy().lu_factor(),{data:r}=t,i=1,s=1;for(u=0;u<e;u+=1)i*=r[u*e+u],u!==n[u]-1&&(s*=-1);return s*i}function a8(){this.square();let{length:e}=this,[t,n]=this.shape,r=Math.min(t,n);return this.reshape(e).slice(0,e,r+1)}function l8(e){let{data:t,length:n,strides:r,dtype:i}=this,{data:s,strides:u}=e,p=0;try{let m=u[u.length-1],w=r[r.length-1];if(m!==w)throw new Error("inc_x and inc_y must be equal");p=function IU(e,t,n,r,i,s){if(n.length/r!==t||i.length/s!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.ddot(t,n,r,i,s);case"float32":return Pi.sdot(t,n,r,i,s);default:throw new Error("wrong dtype")}}(i,n,s,m,t,w)}catch{let m=new Sm(this,e);for(let[w,x]of m)p+=t[w]*s[x]}return p}var Fy,nk=e=>{let r,t=new Jl(new Float64Array(e*e),{shape:[e,e]}),{data:n}=t;for(r=0;r<e;r+=1)n[r*e+r]=1;return t};try{Fy=uC("nlapack")}catch{}var f_=(e,t,n,r,i,s,u)=>{let[p]=e.shape,{data:m}=e,w=m[r*p+i],x=1/(t+n);m[r*p+i]=w-n*(m[s*p+u]+x*w),m[s*p+u]+=n*(w-x*m[s*p+u])};function u8(){this.square();let[e]=this.shape;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=xm(this.dtype).from(this.data));let t=Fy.NoEigenvector,n=Fy.Eigenvector,r=Ff(e),i=Ff(e),s=Ff(e,e),u=Ff(e,e),{data:p}=this,{data:m}=r,{data:w}=i,{data:x}=s,{data:I}=u;return"float64"===this.dtype&&Fy.dgeev(t,n,e,p,e,m,w,x,e,I,e),"float32"===this.dtype&&Fy.sgeev(t,n,e,p,e,m,w,x,e,I,e),[r,u]}catch{let{data:t}=this,n=nk(e),r=0,i=0,s=0,u=0,p=0;do{for(i=0;i<e;i+=1)for(s=i+1;s<e;s+=1)Math.abs(t[i*e+s])>=r&&(r=Math.abs(t[i*e+s]),u=i,p=s);let m;if(Math.abs(t[u*e+p])<1e-36*Math.abs(t[p*e+p]))m=t[u*e+p]/t[p*e+p];else{let N=t[p*e+p]/2*t[u*e+p];m=1/(Math.abs(N)+Math.sqrt(N*N+1))}let w=1/Math.sqrt(m*m+1),x=m*w,I=t[u*e+p];for(t[u*e+p]=0,t[u*e+u]-=m*I,t[p*e+p]+=m*I,i=0;i<u;i+=1)f_(this,w,x,i,u,i,p);for(i=u+1;i<p;i+=1)f_(this,w,x,u,i,i,p);for(i=p+1;i<e;i+=1)f_(this,w,x,u,i,p,i);for(i=0;i<e;i+=1)f_(n,w,x,i,u,i,p)}while(r>=1e-9);return[this.diagonal(),n]}}function c8(e,t=1e-6){let{data:n}=this,{data:r}=e,i=new Sm(this,e);for(let[s,u]of i)if(Math.abs(n[s]-r[u])>t)return!1;return!0}function d8(e){let{shape:t}=this,{shape:n}=e;if(!t.every((r,i)=>r===n[i]))throw new Error(`shapes ${t} and ${n} do not match`)}function f8(e){let{length:t}=this,{length:n}=e;if(t!==n)throw new Error(`lengths ${t} and ${n} do not match`)}var{exp:h8}=Math;function p8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=h8(e[n]);return this}var{expm1:g8}=Math;function m8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=g8(e[n]);return this}function v8(e=0){let{data:t}=this,n=new hn(this);for(let r of n)t[r]=e instanceof Function?e(r):e;return this}var{floor:y8}=Math;function b8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=y8(e[n]);return this}function _8(e){let{data:t}=this,n=new hn(this);for(let r of n)e.call(this,t[r],r,t)}var Ep,{fround:w8}=Math;function E8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=w8(e[n]);return this}function D8(){let i,s,u,p,m,{shape:[e,t],data:n}=this,r=0;for(u=0;u<e;u+=1){if(t<=r)return this;for(p=u;0===n[p*t+r];)if(p+=1,e===p&&(p=u,r+=1,t===r))return this;if(u!==p&&this.swap(u,p),s=n[u*t+r],0!==s)for(m=0;m<t;m+=1)n[u*t+m]/=s;for(p=0;p<e;p+=1)if(i=n[p*t+r],p!==u)for(m=0;m<t;m+=1)n[p*t+m]-=n[u*t+m]*i;r+=1}for(u=0;u<e;u+=1){for(s=0,p=0;p<t;p+=1)0===s&&(s=n[u*t+p]);if(0!==s)for(m=0;m<t;m+=1)n[u*t+m]/=s}return this}function C8(...e){this.check(...e);let s,u,{data:t,shape:n}=this,{length:r}=n,i=e[r-1];for(s=0;s<r-1;s+=1){let p=1;for(u=s+1;u<r;u+=1)p*=n[u];i+=e[s]*p}return t[i]}try{Ep=uC("nlapack")}catch{}function rk(e,t,n,r,i,s){if(r.length!==t*n)throw new Error("lengths do not match");switch(e){case"float64":return Ep.dgetrf(t,n,r,i,s);case"float32":return Ep.sgetrf(t,n,r,i,s);default:throw new Error("wrong dtype")}}function M8(){this.square();let{shape:[e],dtype:t}=this;try{let{data:n}=this,r=new Int32Array(e);return rk(t,e,e,n,e,r),function x8(e,t,n,r,i){if(n.length!==t*t)throw new Error("lengths do not match");switch(e){case"float64":return Ep.dgetri(t,n,r,i);case"float32":return Ep.sgetri(t,n,r,i);default:throw new Error("wrong dtype")}}(t,e,n,e,r),this}catch{let n=nk(e),r=((e,t)=>et(this).augment(et(t)))(0,n).gauss(),i=Ff(e,e),s=Ff(e,e),{data:u}=r,{data:p}=i,{data:m}=s,w=new hn(r),[x,I]=w.coords;for(let N of w)I<e?p[x*e+I]=u[N]:m[x*e+(I-e)]=u[N],[x,I]=w.coords;if(!i.equals(n))throw new Error("matrix is not invertible");return s}}var{log:T8}=Math;function I8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=T8(e[n]);return this}var{log10:A8}=Math;function R8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=A8(e[n]);return this}var{log1p:k8}=Math;function P8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=k8(e[n]);return this}var{log2:O8}=Math;function N8(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=O8(e[n]);return this}function F8(){let[e,t]=this.copy().lu_factor(),n=e.copy(),r=e.copy(),{data:i}=n,{data:s}=r,u=new hn(e),[p,m]=u.coords;for(let w of u)m<p?s[w]=0:i[w]=p===m?1:0,[p,m]=u.coords;return[n,r,t]}function L8(){let{data:e,shape:[t],dtype:n}=this,r=new Int32Array(t);try{rk(n,t,t,e,t,r)}catch{let i,s,u,p,m,w,x;for(x=0;x<t;x+=1){for(p=x,i=Math.abs(e[x*t+x]),w=x+1;w<t;w+=1)s=Math.abs(e[w*t+x]),i<s&&(i=s,p=w);for(r[x]=p+1,p!==x&&this.swap(x,p),u=e[x*t+x],m=x+1;m<t;m+=1)e[m*t+x]/=u;for(m=x+1;m<t;m+=1){for(w=x+1;w<t-1;w+=2)e[m*t+w]-=e[m*t+x]*e[x*t+w],e[m*t+w+1]-=e[m*t+x]*e[x*t+w+1];w===t-1&&(e[m*t+w]-=e[m*t+x]*e[x*t+w])}}}return[this,r]}function B8(e){let{data:t}=this,n=new hn(this),r=e.bind(this),i=this.copy(),{data:s}=i;for(let u of n)s[u]=r(t[u],u,t);return i}function V8(){let{data:e,length:t,strides:n,dtype:r}=this,i=Number.NEGATIVE_INFINITY;try{i=e[function AU(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.idamax(t,n,r);case"float32":return Pi.isamax(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])]}catch{let s=new hn(this);for(let u of s){let p=e[u];i<p&&(i=p)}}return i}function $8(){let{data:e,length:t}=this,n=new hn(this),r=0;for(let i of n)r+=e[i];return r/t}function z8(){let{data:e}=this,t=new hn(this),n=Number.POSITIVE_INFINITY;for(let r of t){let i=e[r];n>i&&(n=i)}return n}function U8(e){let{shape:[t,n],data:r,dtype:i}=this.copy(),{shape:[s,u],data:p}=e.copy();if(n!==s)throw new Error("sizes do not match");let m=((e,t)=>new Jl(new Float64Array(e*t),{shape:[e,t]}))(t,u),{data:w}=m;try{!function RU(e,t,n,r,i,s,u,p,m,w,x,I,N,U){let{length:J}=p,{length:re}=w,{length:pe}=N;if(t===Pi.NoTrans&&J!==m*r||t===Pi.Trans&&J!==m*s)throw new Error("lengths do not match");if(n===Pi.NoTrans&&re!==x*s||n===Pi.Trans&&re!==x*i)throw new Error("lengths do not match");if(pe!==U*r)throw new Error("lengths do not match");switch(e){case"float64":return Pi.dgemm(t,n,r,i,s,u,p,m,w,x,I,N,U);case"float32":return Pi.sgemm(t,n,r,i,s,u,p,m,w,x,I,N,U);default:throw new Error("wrong dtype")}}(i,ek,ek,t,u,n,1,r,n,p,u,0,w,u)}catch{let I,x=new hn(m),[N,U]=x.coords;for(let J of x){let re=0;for(I=0;I<n;I+=1)re+=r[N*n+I]*p[I*u+U];w[J]=re,[N,U]=x.coords}}return m}var{sqrt:j8}=Math;function G8(){let{data:e,length:t,strides:n,dtype:r}=this,i=0;try{i=function kU(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.dnrm2(t,n,r);case"float32":return Pi.snrm2(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])}catch{i=j8(this.dot(this))}return i}function q8(){return this.scale(1/this.norm())}var{pow:W8}=Math;function K8(e){let{data:t}=this,n=new hn(this);for(let r of n)t[r]=W8(t[r],e);return this}function Z8(){let{data:e}=this,t=new hn(this),n=1;for(let r of t)n*=e[r];return n}function Y8(e){let{data:t}=this,{data:n}=e,r=new Sm(this,e);for(let[i,s]of r)t[i]*=n[s];return this}function Q8(e){return e.scale(this.dot(e)/e.dot(e))}function X8(e){if(1!==this.shape.length)throw new Error("push operation not permitted for multidimensional arrays");let{data:t,length:n}=this,r=n+1,i=new(xm(this.dtype))(r);return i.set(t),i[n]=e,this.data=i,this.length=r,this.shape=[r],this}function J8(e=1e-6){let{data:t}=this.copy().gauss(),n=new hn(this),r=0,[i,s]=n.coords;for(let u of n)r<=i&&s>=i&&Math.abs(t[u])>e&&(r+=1),[i,s]=n.coords;return r}function ej(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=1/e[n];return this}function tj(e,t){let{data:n,length:r}=this;if(0===r&&typeof t>"u")throw new Error("Reduce of empty array with no initial value.");let u,i=new hn(this),s=e.bind(this);typeof t>"u"?(u=n[0],i.next()):u=t;for(let p of i)u=s(u,n[p],p,n);return u}function nj(...e){let{length:t}=this;if(e.reduce((n,r)=>n*r,1)!==t)throw new Error(`shape ${e} does not match length ${t}`);return this.shape=e,this.strides=dC(e),this}var{round:rj}=Math;function ij(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=rj(e[n]);return this}function oj(e,t,n=1){this.check(e,0),this.check(t,0);let s,[,r]=this.shape,{data:i}=this;for(s=0;s<r;s+=1)i[e*r+s]+=i[t*r+s]*n;return this}function sj(e){let{data:t,length:n,strides:r,dtype:i}=this;try{!function PU(e,t,n,r,i){if(r.length/i!==t)throw new Error("lengths do not match");switch(e){case"float64":return Pi.dscal(t,n,r,i);case"float32":return Pi.sscal(t,n,r,i);default:throw new Error("wrong dtype")}}(i,n,e,t,r[r.length-1])}catch{let s=new hn(this);for(let u of s)t[u]*=e}return this}function aj(...e){let t=e.slice(0,-1),n=e[e.length-1];this.check(...t);let s,{shape:r}=this,i=t[t.length-1];for(s=0;s<t.length-1;s+=1)i+=t[s]*r[s+1];this.data[i]=n}var{sign:lj}=Math;function uj(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=lj(e[n]);return this}var{sin:cj}=Math;function dj(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=cj(e[n]);return this}var{sinh:fj}=Math;function hj(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=fj(e[n]);return this}function pj(e=0,t=this.shape[0],n=1){let{data:r,shape:i}=this,s=i.length;if(e<0||t<0)return this.slice(e<0?i[i.length-1]+e:e,t<0?i[i.length-1]+t:t);if(e>t)return this.slice(t,e,n);if(n<=0)throw new Error("step argument has to be a positive integer");let u=[Math.ceil((t-e)/Math.abs(n)),...i.slice(1)],p=XR(u),m=dC(u),w=s>1?r.subarray(e*u[u.length-1],t*u[u.length-1]):r.subarray(e,t);return m[0]*=n,new Jl(w,{shape:u,length:p,strides:m})}function gj(e){let{data:t,dtype:n}=this,{data:r,shape:[i,s]}=e;try{!function S8(e,t,n,r,i,s,u,p){if(r.length!==i*t||u.length!==p*n)throw new Error("lengths do not match");switch(e){case"float64":return Ep.dgesv(t,n,r,i,s,u,p);case"float32":return Ep.sgesv(t,n,r,i,s,u,p);default:throw new Error("wrong dtype")}}(n,i,s,t,i,new Int32Array(i),r,s)}catch{let x,I,N,[u,p]=this.lu_factor(),{data:m}=u,{data:w}=e;for(x=0;x<p.length;x+=1)x!==p[x]-1&&e.swap(x,p[x]-1);for(N=0;N<s;N+=1){for(x=0;x<i;x+=1)for(I=0;I<x;I+=1)w[x*s+N]-=m[x*i+I]*w[I*s+N];for(x=i-1;x>=0;x-=1){for(I=x+1;I<i;I+=1)w[x*s+N]-=m[x*i+I]*w[I*s+N];w[x*s+N]/=m[x*i+x]}}}return e}var{sqrt:mj}=Math;function vj(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=mj(e[n]);return this}function yj(){let{length:e}=this.shape,[t,n]=this.shape;if(2!==e||t!==n)throw new Error("matrix is not square")}var ik=(e,t)=>et(e).subtract(et(t));function bj(e){return this.add(e,-1)}function _j(){let{data:e}=this,t=new hn(this),n=0;for(let r of t)n+=e[r];return n}function wj(e,t){this.check(e,0),this.check(t,0);let{data:n}=this,[,r]=this.shape,i=n.slice(e*r,(e+1)*r);return n.copyWithin(e*r,t*r,(t+1)*r),n.set(i,t*r),this}var{tan:Ej}=Math;function Dj(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=Ej(e[n]);return this}var{tanh:Cj}=Math;function xj(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=Cj(e[n]);return this}function Sj(e=0,t=0){let{data:n,shape:r,strides:i}=this,{length:s}=r;if(t>=s)return n[e];let u=r[t],p=i[t],m=[];for(let w=0;w<u;w++){let x=this.toArray(e,t+1);if(null===x)return null;m[w]=x,e+=p}return m}var Mj=((e,t,n)=>(n=null!=e?dU(pU(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of hU(t))!gU.call(e,i)&&undefined!==i&&ZR(e,i,{get:()=>t[i],enumerable:!(r=fU(t,i))||r.enumerable});return e})(e&&e.__esModule?n:ZR(n,"default",{value:e,enumerable:!0}),e)))(_U());function ok(){return`array(${(0,Mj.inspect)(this.toArray(),{depth:10,breakLength:40})}, dtype=${this.dtype})`}function Tj(){let s,[e,t]=this.shape,{data:n}=this,r=Math.min(e,t),i=0;for(s=0;s<r;s+=1)i+=n[s*t+s];return i}function Ij(){if(this.shape.length<2)return this;let e=this.shape[0];return this.shape[0]=this.shape[1],this.shape[1]=e,e=this.strides[0],this.strides[0]=this.strides[1],this.strides[1]=e,this}var{trunc:Aj}=Math;function Rj(){let{data:e}=this,t=new hn(this);for(let n of t)e[n]=Aj(e[n]);return this}var kj=Symbol.for("nodejs.util.inspect.custom"),Jl=class{data=new Float64Array(0);dtype="float64";length=0;shape=[0];strides=[0];[kj]=ok;abs=DU;acos=xU;acosh=MU;add=OU;angle=FU;asin=BU;asinh=$U;atan=HU;atanh=jU;augment=qU;binOp=WU;cbrt=ZU;ceil=QU;check=XU;combine=JU;copy=e8;cos=n8;cosh=i8;cross=o8;det=s8;diagonal=a8;dot=l8;eig=u8;equals=c8;equidimensional=d8;equilateral=f8;exp=p8;expm1=m8;fill=v8;floor=b8;forEach=_8;fround=E8;gauss=D8;get=C8;inv=M8;log=I8;log10=R8;log1p=P8;log2=N8;lu=F8;lu_factor=L8;map=B8;max=V8;mean=$8;min=z8;multiply=U8;norm=G8;normalize=q8;pow=K8;prod=Z8;product=Y8;project=Q8;push=X8;rank=J8;reciprocal=ej;reduce=tj;reshape=nj;round=ij;row_add=oj;scale=sj;set=aj;sign=uj;sin=dj;sinh=hj;slice=pj;solve=gj;sqrt=vj;square=yj;subtract=bj;sum=_j;swap=wj;tan=Dj;tanh=xj;toArray=Sj;toString=ok;trace=Tj;transpose=Ij;trunc=Rj;constructor(e,t){if(!e)return;if(e instanceof Jl)return e;if(e instanceof hn){if(!t||!t.dtype)throw new Error("dtype is missing");e.shape&&(t.shape=e.shape);let u=e.length;e=new(xm(t.dtype))(u)}let{shape:n=JR(e),length:r=XR(n),strides:i=dC(n),dtype:s=wU(e)}=t||{};this.data=QR(e)?e:new(xm(s))(YR(e)),this.shape=n,this.length=r,this.dtype=s,this.strides=i}get x(){return this.get(0)}set x(e){this.set(0,e)}get y(){return this.get(1)}set y(e){this.set(1,e)}get z(){return this.get(2)}set z(e){this.set(2,e)}get w(){return this.get(3)}set w(e){this.set(3,e)}get T(){return this.copy().transpose()}};try{window.v=Jl}catch{}function sk(e,t,n,r=60){const i=[];if(0===n.length)return i;const s=[e,...n,t];for(let u=1;u<s.length-1;u++){let p=fC(s[u-1]),m=fC(s[u]),w=fC(s[u+1]);const x=ik(p.copy(),m),I=ik(w.copy(),m);Pj([x,I],r),p=tk(m.copy(),x),w=tk(m.copy(),I),i.push(p,m,w)}return i.map(Oj)}function Pj(e,t,n=!0){const r=e.map(i=>i.norm());if(n){const i=Math.min(...r);t>=i&&(t=i/2.1)}return e.map((i,s)=>i.scale(t/r[s]))}function fC(e){return et([e.x,e.y])}function Oj(e){return{x:e.x,y:e.y}}const Dp=(e,t)=>`${e.id}-${t.x},${t.y}`,dr=(e,t=2)=>"number"==typeof e?e*t:{x:e.x*t,y:e.y*t};let hC,Fj=(()=>{class e{constructor(n){this.http=n,this.extraLine=new Map,this.reverseExtraLine=new Map,this.nodeTypeMap=new Map([["Gene",["Gene","PhysicalEntity"]],["RNA",["RNA","PhysicalEntity"]],["Protein",["Protein","PhysicalEntity"]],["Entity",["GenomeEncodedEntity","PhysicalEntity"]],["Complex",["Complex","PhysicalEntity"]],["EntitySet",["EntitySet","PhysicalEntity"]],["Chemical",["Molecule","PhysicalEntity"]],["Cell",["Cell","PhysicalEntity"]],["ProteinDrug",["Protein","PhysicalEntity","drug"]],["ComplexDrug",["Complex","PhysicalEntity","drug"]],["ChemicalDrug",["Molecule","PhysicalEntity","drug"]],["EntitySetDrug",["EntitySet","PhysicalEntity","drug"]],["ProcessNode",["SUB","Pathway"]],["EncapsulatedNode",["Interacting","Pathway"]]]),this.reactionTypeMap=new Map([[void 0,["transition","reaction"]],["transition",["transition","reaction"]],["binding",["association","reaction"]],["dissociation",["dissociation","reaction"]],["omitted",["omitted","reaction"]],["uncertain",["uncertain","reaction"]]]),this.edgeTypeMap=new Map([["INPUT",["consumption","incoming"]],["ACTIVATOR",["positive-regulation","incoming"]],["REQUIRED",["positive-regulation","incoming"]],["INHIBITOR",["negative-regulation","incoming"]],["CATALYST",["catalysis","incoming"]],["OUTPUT",["production","outgoing"]]]),this.edgeTypeToStr=new Map([["INPUT","-"],["ACTIVATOR","+"],["REQUIRED","+>"],["INHIBITOR","|"],["CATALYST","o"],["OUTPUT",">"]]),this.linkClassMap=new Map([["EntitySetAndMemberLink",["set-to-member","incoming"]],["EntitySetAndEntitySetLink",["set-to-member","incoming"]],["Interaction",["production","outgoing"]]]),this.COMPARTMENT_SHIFT=35}random(n,r){return Math.floor(Math.random()*(r-n+1))+n}pick(n){return n[this.random(0,n.length-1)]}getLegend(){return jt(cU)}getDiagram(n){return bA({diagram:this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.json`),graph:this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.graph.json`)}).pipe(wo(r=>console.log("All responses:",r)),nn(r=>{const i=r.diagram,s=r.graph;console.log("edge.reactionType",new Set(i.edges.flatMap(Se=>Se.reactionType))),console.log("node.connectors.types",new Set(i.nodes.flatMap(Se=>Se.connectors.flatMap(Ut=>Ut.type)))),console.log("node.renderableClass",new Set(i.nodes.flatMap(Se=>Se.renderableClass))),console.log("links.renderableClass",new Set(i.links.flatMap(Se=>Se.renderableClass))),console.log("shadow.renderableClass",new Set(i.shadows.flatMap(Se=>Se.renderableClass)));const u=new Map(i.edges.map(Se=>[Se.id,Se])),p=new Map(i.nodes.map(Se=>[Se.id,Se])),w=(new Map([...i.edges.map(Se=>[Se.reactomeId,Se])]),new Map),x=i.edges.flatMap(Se=>Se.segments.map(Ut=>[Dp(Se,dr(Ut.from)),dr(Ut.to)]));this.extraLine=new Map(x),console.assert(x.length===this.extraLine.size,"Some edge data have been lost because 2 segments are starting from the same point");const I=i.edges.flatMap(Se=>Se.segments.map(Ut=>[Dp(Se,dr(Ut.to)),dr(Ut.from)]));this.reverseExtraLine=new Map(I),console.assert(I.length==this.reverseExtraLine.size,"Some edge data have been lost because 2 segments are ending at the same point");const N=new Set(i.shadows.map(Se=>Se.reactomeId)),U=new Map(s.subpathways?.flatMap(Se=>Se.events.map(Ut=>[Ut,Se.dbId]).filter(Ut=>N.has(Ut[1])))||[]),J=new Map(s.nodes.map(Se=>[Se.dbId,Se])),re=s.nodes.flatMap(Se=>Se.children&&1===Se.children.length?Se.diagramIds?.map(Ut=>[Ut,J.get(Se.children[0])]).filter(Ut=>void 0!==Ut[1]):Se.diagramIds?.map(Ut=>[Ut,Se])).filter(Se=>void 0!==Se),pe=new Map([...re]),Ne=i?.compartments.flatMap(Se=>{const Ut=[{data:{id:Se.id+"-outer",displayName:Se.displayName,textX:dr(Se.textPosition.x-(Se.prop.x+Se.prop.width))+this.COMPARTMENT_SHIFT,textY:dr(Se.textPosition.y-(Se.prop.y+Se.prop.height))+this.COMPARTMENT_SHIFT,width:dr(Se.prop.width),height:dr(Se.prop.height)},classes:["Compartment","outer"],position:dr(Se.position),selectable:!1}];return Se.insets&&Ut.push({data:{id:Se.id+"-inner",width:dr(Se.insets.width),height:dr(Se.insets.height)},classes:["Compartment","inner"],position:dr({x:Se.insets.x+Se.insets.width/2,y:Se.insets.y+Se.insets.height/2}),selectable:!1}),Ut}),ve=i?.edges.map(Se=>({data:{id:Se.id+"",inputs:Se.inputs,output:Se.outputs},classes:this.reactionTypeMap.get(Se.reactionType),position:dr(Se.position)})),tt=i?.nodes.flatMap(Se=>{const Ut=[...this.nodeTypeMap.get(Se.renderableClass)];Se.isDisease&&Ut.push("disease");const fr=[{data:{id:Se.id+"",displayName:Se.displayName.replace(/([/,:;-])/g,"$1\u200b"),height:dr(Se.prop.height),width:dr(Se.prop.width),graph:pe.get(Se.id),acc:pe.get(Se.id)?.identifier},classes:Ut,position:dr(Se.position)}];return Se.nodeAttachments&&fr.push(...Se.nodeAttachments.map(hr=>({data:{id:Se.id+"-"+hr.reactomeId,reactomeId:hr.reactomeId,nodeId:Se.id,nodeReactomeId:Se.reactomeId,displayName:hr.label,height:dr(hr.shape.b.y-hr.shape.a.y),width:dr(hr.shape.b.x-hr.shape.a.x)},classes:"Modification",position:dr(hr.shape.centre)}))),fr}),_t=i?.shadows.map(Se=>({data:{id:Se.id+"",displayName:Se.displayName,height:dr(Se.prop.height),width:dr(Se.prop.width),class:this.nodeTypeMap.get(Se.renderableClass)||Se.renderableClass.toLowerCase(),reactomeId:Se.reactomeId},classes:["Shadow"],position:dr({x:Se.prop.x+Se.prop.width/2,y:Se.prop.y+Se.prop.height/2}),pannable:!0,grabbable:!1})),$t=i.nodes.flatMap(Se=>Se.connectors.map(Ut=>{const fr=u.get(Ut.edgeId),[hr,Ra]="OUTPUT"!==Ut.type?[Se,fr]:[fr,Se],Eo=dr(hr.position),Gi=dr(Ra.position);let Oi=Ut.segments.flatMap((tn,Ar)=>0===Ar?[tn.from,tn.to]:[tn.to]).map(tn=>dr(tn));"OUTPUT"===Ut.type&&Oi.reverse(),0===Oi.length&&Oi.push(dr(fr.position)),this.addEdgeInfo(fr,Oi,"backward",Eo),this.addEdgeInfo(fr,Oi,"forward",Gi);let[ka,wt]=[Oi.shift(),Oi.pop()];ka=ka??dr(Se.position),wt=wt??dr(fr.position),"CATALYST"===Ut.type&&(wt=dr(Ut.endShape.centre)),Oi=sk(ka,wt,Oi);const he=this.absoluteToRelative(ka,wt,Oi),Me=[...this.edgeTypeMap.get(Ut.type)];return fr.isDisease&&Me.push("disease"),{data:{id:this.getEdgeId(hr,Ut,Ra,w),source:hr.id+"",target:Ra.id+"",stoichiometry:Ut.stoichiometry.value,weights:he.weights.join(" "),distances:he.distances.join(" "),sourceEndpoint:this.endpoint(Eo,ka),targetEndpoint:this.endpoint(Gi,wt),pathway:U.get(fr.reactomeId)},classes:Me}})),Zn=i.links?.map(Se=>{const Ut=p.get(Se.inputs[0].id),fr=p.get(Se.outputs[0].id),hr=dr(Ut.position),Ra=dr(fr.position);let Eo=Se.segments.flatMap((wt,he)=>0===he?[wt.from,wt.to]:[wt.to]).map(wt=>dr(wt)),[Gi,Oi]=[Eo.shift(),Eo.pop()];Gi=Gi??hr,Oi=Oi??Ra,Eo=sk(Gi,Oi,Eo);const ka=this.absoluteToRelative(Gi,Oi,Eo);return{data:{id:Se.id+"",source:Se.inputs[0].id+"",target:Se.outputs[0].id+"",weights:ka.weights.join(" "),distances:ka.distances.join(" "),sourceEndpoint:this.endpoint(hr,Gi),targetEndpoint:this.endpoint(Ra,Oi)},classes:this.linkClassMap.get(Se.renderableClass),selectable:!1}});return{nodes:[...Ne,...ve,...tt,..._t],edges:[...$t,...Zn]}}))}getEdgeId(n,r,i,s){let u=`${n.id} --${this.edgeTypeToStr.get(r.type)} ${i.id}`;if(s.has(u)){let p=s.get(u);s.set(u,p++),u+=` (${p})`,console.warn("Conflicting edge id: ",u)}else s.set(u,0);return u}addEdgeInfo(n,r,i,s){const u=Dp(n,s);if("forward"===i){const p=this.extraLine;let m=Dp(n,r.at(-1));for(;p.has(m)&&m!==u;)r.push(p.get(m)),m=Dp(n,r.at(-1))}else{const p=this.reverseExtraLine;let m=Dp(n,r.at(0));for(;p.has(m)&&m!==u;)r.unshift(p.get(m)),m=Dp(n,r.at(0))}}endpoint(n,r){return`${r.x-n.x} ${r.y-n.y}`}getInteractorsOccurrences(n){const r=n?.nodes("[graph]"),i=new Map(r?.map(m=>[m.data("dbId"),m.data("acc")])),s=[];r?.forEach(m=>{const w=m.data("graph").schemaClass;if("EntityWithAccessionedSequence"===w&&s.push(m.data("acc")),"Complex"===w&&1===m.data("graph").children.length){const x=m.data("graph").children.map(I=>i.get(I)||"");s.push(...x)}});const p=[...new Set(s)].join(",");return this.http.post("https://dev.reactome.org/ContentService/interactors/static/molecules/details",p,{headers:new Xl({"Content-Type":"text/plain"})})}addInteractorsOccurrences(n,r){const i=[];return n.entities.filter(s=>s.count>0).flatMap(s=>{r?.nodes(`[acc = '${s.acc}']`)?.forEach(p=>{const m={...p.position()};m.x+=p.width()/2,m.y-=p.height()/2,i.push({data:{id:p.id()+"-occ",displayName:s.count},classes:["Interactor"],pannable:!0,grabbable:!1,position:m})})}),i}absoluteToRelative(n,r,i){const s={distances:[],weights:[]};if(0===i.length)return s;const u=et([r.x-n.x,r.y-n.y]),p=et([-u.y,u.x]).normalize();let m=et([[u.x,u.y],[p.x,p.y]]).inv();for(let w of i){const I=et([[w.x-n.x,w.y-n.y]]).multiply(m);s.weights.push(I.get(0,0)),s.distances.push(I.get(0,1))}return s}randomNetwork(){const r=["Protein","EntitySet","GenomeEncodedEntity","RNA","Gene","Complex","Molecule"],i=["association","dissociation","transition","uncertain","omitted"],s=Array.from({length:100},(I,N)=>{const U=this.pick(r);return{group:"nodes",data:{id:N.toString(),width:this.random(150,300),height:this.random(50,150),displayName:U,parent:"Compartment"},classes:[U,"PhysicalEntity",this.pick(["drug","",""])]}}),u=s.map((I,N)=>({group:"nodes",data:{id:`${N}-react`,parent:"Compartment"},classes:[this.pick(i),"reaction"]}));return jt({nodes:[{data:{id:"Compartment"},classes:["Compartment"],pannable:!0,grabbable:!1,selectable:!1},...s.flatMap((I,N)=>[I,u[N]])],edges:[...s.flatMap((I,N)=>[{group:"edges",data:{source:`${N}`,target:`${N}-react`,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["consumption"]},{group:"edges",data:{source:`${N}-react`,target:""+(N+1)%100,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["production"]}]),...Array.from({length:25}).map(()=>({group:"edges",data:{source:this.pick(s).data.id,target:this.pick(u).data.id},classes:this.pick(["catalysis","positive-regulation","negative-regulation","set-to-member"])}))]})}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(AR))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();try{hC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hC=!1}let Ly,pC,nd=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function N$(e){return e===zT}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||e)(Ze($u))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cp(e){return function Lj(){if(null==Ly&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ly=!0}))}finally{Ly=Ly||!1}return Ly}()?e:!!e.capture}function gC(e){if(function Bj(){if(null==pC){const e=typeof document<"u"?document.head:null;pC=!(!e||!e.createShadowRoot&&!e.attachShadow)}return pC}()){const t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Zu(e){return e.composedPath?e.composedPath()[0]:e.target}function uk(e){return Zl((t,n)=>e<=n)}function Es(e){return null!=e&&"false"!=`${e}`}function mC(e,t=0){return function Gj(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function vC(e){return Array.isArray(e)?e:[e]}function ao(e){return e instanceof Gn?e.nativeElement:e}class qj extends ze{constructor(t,n){super()}schedule(t,n=0){return this}}const p_={setInterval(e,t,...n){const{delegate:r}=p_;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=p_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class yC extends qj{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return p_.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&p_.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Pe(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const ck={now:()=>(ck.delegate||Date).now(),delegate:void 0};class By{constructor(t,n=By.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}By.now=ck.now;class bC extends By{constructor(t,n=By.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const g_=new bC(yC),Wj=g_,dk=new Set;let Sp,Zj=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qj}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function Yj(e,t){if(!dk.has(e))try{Sp||(Sp=document.createElement("style"),t&&(Sp.nonce=t),Sp.setAttribute("type","text/css"),document.head.appendChild(Sp)),Sp.sheet&&(Sp.sheet.insertRule(`@media ${e} {body{ }}`,0),dk.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(nd),Ze(Iv,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qj(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let Xj=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Kt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return fk(vC(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let s=Rb(fk(vC(n)).map(u=>this._registerQuery(u).observable));return s=Pb(s.pipe(Jc(1)),s.pipe(uk(1),function Kj(e,t=g_){return lr((n,r)=>{let i=null,s=null,u=null;const p=()=>{if(i){i.unsubscribe(),i=null;const w=s;s=null,r.next(w)}};function m(){const w=u+e,x=t.now();if(x<w)return i=this.schedule(void 0,w-x),void r.add(i);p()}n.subscribe(gr(r,w=>{s=w,u=t.now(),i||(i=t.schedule(m,e),r.add(i))},()=>{p(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(nn(u=>{const p={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:w})=>{p.matches=p.matches||m,p.breakpoints[w]=m}),p}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new Mt(u=>{const p=m=>this._zone.run(()=>u.next(m));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(hy(r),nn(({matches:u})=>({query:n,matches:u})),gp(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Zj),Ze(Nn))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fk(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}function _C(e){return 0===e.buttons||0===e.detail}function wC(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const s6=new it("cdk-input-modality-detector-options"),a6={ignoreKeys:[18,17,224,91,16]},Tm=Cp({passive:!0,capture:!0});let l6=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(n,r,i,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Wi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(p=>p===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Zu(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_C(u)?"keyboard":"mouse"),this._mostRecentTarget=Zu(u))},this._onTouchstart=u=>{wC(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zu(u))},this._options={...a6,...s},this.modalityDetected=this._modality.pipe(uk(1)),this.modalityChanged=this.modalityDetected.pipe(Bp()),n.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Tm),i.addEventListener("mousedown",this._onMousedown,Tm),i.addEventListener("touchstart",this._onTouchstart,Tm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Tm),document.removeEventListener("mousedown",this._onMousedown,Tm),document.removeEventListener("touchstart",this._onTouchstart,Tm))}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(nd),Ze(Nn),Ze(Gr),Ze(s6,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const c6=new it("cdk-focus-monitor-default-options"),m_=Cp({passive:!0,capture:!0});let vk=(()=>{class e{constructor(n,r,i,s,u){this._ngZone=n,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Kt,this._rootNodeFocusAndBlurListener=p=>{for(let w=Zu(p);w;w=w.parentElement)"focus"===p.type?this._onFocus(p,w):this._onBlur(p,w)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(n,r=!1){const i=ao(n);if(!this._platform.isBrowser||1!==i.nodeType)return jt();const s=gC(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const p={checkChildren:r,subject:new Kt,rootNode:s};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(n){const r=ao(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){const s=ao(n);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([p,m])=>this._originChanged(p,r,m)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused","touch"===r),n.classList.toggle("cdk-keyboard-focused","keyboard"===r),n.classList.toggle("cdk-mouse-focused","mouse"===r),n.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,r){const i=this._elementInfo.get(r),s=Zu(n);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(n,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,m_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,m_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gp(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){const r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,m_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,m_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){const r=[];return this._elementInfo.forEach((i,s)=>{(s===n||i.checkChildren&&s.contains(n))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const s=n.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Nn),Ze(nd),Ze(l6),Ze(Gr,8),Ze(c6,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yk="cdk-high-contrast-black-on-white",bk="cdk-high-contrast-white-on-black",EC="cdk-high-contrast-active";let d6=(()=>{class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=at(Xj).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(EC,yk,bk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?n.add(EC,yk):2===r&&n.add(EC,bk)}}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(nd),Ze(Gr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const f6=new it("cdk-dir-doc",{providedIn:"root",factory:function h6(){return at(Gr)}}),p6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _k=(()=>{class e{constructor(n){this.value="ltr",this.change=new er,n&&(this.value=function g6(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?p6.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(f6,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wk=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({})}return e})();const v6=new it("mat-sanity-checks",{providedIn:"root",factory:function m6(){return!0}});let Im=(()=>{class e{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function Vj(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(d6),Ze(v6,8),Ze(Gr))};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({imports:[wk,wk]})}return e})();function Ck(e){return class extends e{get disabled(){return this._disabled}set disabled(t){this._disabled=Es(t)}constructor(...t){super(...t),this._disabled=!1}}}function xk(e,t){return class extends e{get color(){return this._color}set color(n){const r=n||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...n){super(...n),this.defaultColor=t,this.color=t}}}function Sk(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Es(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function y6(e,t=0){return class extends e{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(n){this._tabIndex=null!=n?mC(n):this.defaultTabIndex}constructor(...n){super(...n),this._tabIndex=t,this.defaultTabIndex=t}}}class _6{constructor(t,n,r,i=!1){this._renderer=t,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Mk=Cp({passive:!0,capture:!0});class w6{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const n=Zu(t);n&&this._events.get(t.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(t))})}}addHandler(t,n,r,i){const s=this._events.get(n);if(s){const u=s.get(r);u?u.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Mk)})}removeHandler(t,n,r){const i=this._events.get(t);if(!i)return;const s=i.get(n);s&&(s.delete(r),0===s.size&&i.delete(n),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Mk)))}}const Tk={enterDuration:225,exitDuration:150},Ik=Cp({passive:!0,capture:!0}),Ak=["mousedown","touchstart"],Rk=["mouseup","mouseleave","touchend","touchcancel"];class v_{static#e=this._eventManager=new w6;constructor(t,n,r,i){this._target=t,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ao(r))}fadeInRipple(t,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Tk,...r.animation};r.centered&&(t=i.left+i.width/2,n=i.top+i.height/2);const u=r.radius||function D6(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(t,n,i),p=t-i.left,m=n-i.top,w=s.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=p-u+"px",x.style.top=m-u+"px",x.style.height=2*u+"px",x.style.width=2*u+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(x);const I=window.getComputedStyle(x),U=I.transitionDuration,J="none"===I.transitionProperty||"0s"===U||"0s, 0s"===U||0===i.width&&0===i.height,re=new _6(this,x,r,J);x.style.transform="scale3d(1, 1, 1)",re.state=0,r.persistent||(this._mostRecentTransientRipple=re);let pe=null;return!J&&(w||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ne=()=>this._finishRippleTransition(re),ve=()=>this._destroyRipple(re);x.addEventListener("transitionend",Ne),x.addEventListener("transitioncancel",ve),pe={onTransitionEnd:Ne,onTransitionCancel:ve}}),this._activeRipples.set(re,pe),(J||!w)&&this._finishRippleTransition(re),re}fadeOutRipple(t){if(2===t.state||3===t.state)return;const n=t.element,r={...Tk,...t.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const n=ao(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Ak.forEach(r=>{v_._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Rk.forEach(n=>{this._triggerElement.addEventListener(n,this,Ik)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const n=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==n&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){const n=_C(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!wC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=t.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Ak.forEach(n=>v_._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&Rk.forEach(n=>t.removeEventListener(n,this,Ik)))}}const kk=new it("mat-ripple-global-options");let Pk=(()=>{class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,i,s,u){this._elementRef=n,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new v_(this,r,n,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,i){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Gn),Re(Nn),Re(nd),Re(kk,8),Re(bf,8))};static#t=this.\u0275dir=Ft({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&Sa("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),Ok=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({imports:[Im,Im]})}return e})();const Nk={capture:!0},Fk=["focus","click","mouseenter","touchstart"],DC="mat-ripple-loader-uninitialized",CC="mat-ripple-loader-class-name",Lk="mat-ripple-loader-centered",y_="mat-ripple-loader-disabled";let C6=(()=>{class e{constructor(){this._document=at(Gr,{optional:!0}),this._animationMode=at(bf,{optional:!0}),this._globalRippleOptions=at(kk,{optional:!0}),this._platform=at(nd),this._ngZone=at(Nn),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const i=n.target.closest(`[${DC}]`);i&&this._createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(const n of Fk)this._document?.addEventListener(n,this._onInteraction,Nk)})}ngOnDestroy(){const n=this._hosts.keys();for(const r of n)this.destroyRipple(r);for(const r of Fk)this._document?.removeEventListener(r,this._onInteraction,Nk)}configureRipple(n,r){n.setAttribute(DC,""),(r.className||!n.hasAttribute(CC))&&n.setAttribute(CC,r.className||""),r.centered&&n.setAttribute(Lk,""),r.disabled&&n.setAttribute(y_,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){const i=this._hosts.get(n);i?i.disabled=r:r?n.setAttribute(y_,""):n.removeAttribute(y_)}_createRipple(n){if(!this._document)return;const r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(CC)),n.append(i);const s=new Pk(new Gn(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(Lk),s.disabled=n.hasAttribute(y_),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(DC),this._hosts.set(n,r)}destroyRipple(n){const r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const x6=["mat-button",""],S6=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],M6=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],T6=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],I6=xk(Ck(Sk(class{constructor(e){this._elementRef=e}})));let A6=(()=>{class e extends I6{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Es(n),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=Es(n),this._updateRippleDisabled()}constructor(n,r,i,s){super(n),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=at(vk),this._rippleLoader=at(C6),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const u=n.nativeElement.classList;for(const p of T6)this._hasHostAttributes(p.selector)&&p.mdcClasses.forEach(m=>{u.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...n){return n.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){H0()};static#t=this.\u0275dir=Ft({type:e,features:[ir]})}return e})(),k6=(()=>{class e extends A6{constructor(n,r,i,s){super(n,r,i,s)}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Gn),Re(nd),Re(Nn),Re(bf,8))};static#t=this.\u0275cmp=sa({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(r,i){2&r&&(ms("disabled",i.disabled||null),Sa("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ir],attrs:x6,ngContentSelectors:M6,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(zw(S6),xa(0,"span",0),Kv(1),Jo(2,"span",1),Kv(3,1),vs(),Kv(4,2),xa(5,"span",2)(6,"span",3)),2&r&&Sa("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),O6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({imports:[Im,Ok,Im]})}return e})();const N6=["switch"];function F6(e,t){1&e&&(Jo(0,"div",12),function Tu(){Dt.lFrame.currentNamespace=wu}(),Jo(1,"svg",13),xa(2,"path",14),vs(),Jo(3,"svg",15),xa(4,"path",16),vs()())}const L6=["*"],B6=new it("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),V6={provide:Ql,useExisting:nr(()=>Vk),multi:!0};class Bk{constructor(t,n){this.source=t,this.checked=n}}let $6=0;const z6=y6(xk(Sk(Ck(class{constructor(e){this._elementRef=e}}))));let H6=(()=>{class e extends z6{get required(){return this._required}set required(n){this._required=Es(n)}get checked(){return this._checked}set checked(n){this._checked=Es(n),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(n){this._hideIcon=Es(n)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,r,i,s,u,p,m){super(n),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=u,this._onChange=w=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new er,this.toggleChange=new er,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===p,this.id=this._uniqueId=`${m}${++$6}`,this._hideIcon=u.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{"keyboard"===n||"program"===n?(this._focused=!0,this._changeDetectorRef.markForCheck()):n||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(n){this.checked=!!n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(r){H0()};static#t=this.\u0275dir=Ft({type:e,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[ir]})}return e})(),Vk=(()=>{class e extends H6{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(n,r,i,s,u,p){super(n,r,i,s,u,p,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Bk(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(n){return new Bk(this,n)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Gn),Re(vk),Re(cp),function Pl(e){return function pg(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Zp(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(ei(),e)}("tabindex"),Re(B6),Re(bf,8))};static#t=this.\u0275cmp=sa({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(r,i){if(1&r&&lb(N6,5),2&r){let s;Df(s=Cf())&&(i._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(r,i){2&r&&(Zw("id",i.id),ms("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Sa("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[cr([V6]),ir],ngContentSelectors:L6,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,i){if(1&r&&(zw(),Jo(0,"div",0)(1,"button",1,2),Bo("click",function(){return i._handleClick()}),xa(3,"div",3),Jo(4,"div",4)(5,"div",5)(6,"div",6),xa(7,"div",7),vs(),Jo(8,"div",8),xa(9,"div",9),vs(),function Ex(e,t,n,r,i,s,u,p){const m=Ge(),w=kn(),x=e+cn,I=w.firstCreatePass?function BN(e,t,n,r,i,s,u,p,m){const w=t.consts,x=Wg(t,e,4,u||null,da(w,p));Sw(t,n,x,da(w,m)),Yd(t,x);const I=x.tView=xw(2,x,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,w,null);return null!==t.queries&&(t.queries.template(t,x),I.queries=t.queries.embeddedTView(x)),x}(x,w,m,t,n,r,i,s,u):w.data[x];qo(I,!1);const N=Dx(w,m,I,e);Ka()&&On(w,m,N,I),F(N,m),j0(m,m[x]=G1(N,m,N,I)),Od(I)&&Dw(w,m,I),null!=u&&Cw(m,I,p)}(10,F6,5,0,"div",10),vs()()(),Jo(11,"label",11),Bo("click",function(u){return u.stopPropagation()}),Kv(12),vs()()),2&r){const s=J0(2);Sa("mdc-form-field--align-end","before"==i.labelPosition),qg(1),Sa("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),rm("tabIndex",i.tabIndex)("disabled",i.disabled),ms("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),qg(8),rm("matRippleTrigger",s)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),qg(1),rm("ngIf",!i.hideIcon),qg(1),rm("for",i.buttonId),ms("id",i._labelId)}},dependencies:[Pk,LT],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return e})(),$k=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({})}return e})(),G6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({imports:[$k,Im,Ok,QE,$k,Im]})}return e})();const $y={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=$y;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t(s=>{n=void 0,e(s)});return new ze(()=>n?.(i))},requestAnimationFrame(...e){const{delegate:t}=$y;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=$y;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},Hk=new class J6 extends bC{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class X6 extends yC{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=$y.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:s}=t;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&($y.cancelAnimationFrame(n),t._scheduled=void 0)}});let SC,e9=1;const b_={};function Uk(e){return e in b_&&(delete b_[e],!0)}const t9={setImmediate(e){const t=e9++;return b_[t]=!0,SC||(SC=Promise.resolve()),SC.then(()=>Uk(t)&&e()),t},clearImmediate(e){Uk(e)}},{setImmediate:n9,clearImmediate:r9}=t9,__={setImmediate(...e){const{delegate:t}=__;return(t?.setImmediate||n9)(...e)},clearImmediate(e){const{delegate:t}=__;return(t?.clearImmediate||r9)(e)},delegate:void 0};new class o9 extends bC{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class i9 extends yC{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=__.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:s}=t;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&(__.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}});function jk(e=0,t,n=Wj){let r=-1;return null!=t&&(ec(t)?n=t:r=t),new Mt(i=>{let s=function l9(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let u=0;return n.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},s)})}let f9=(()=>{class e{constructor(n,r,i){this._platform=n,this._change=new Kt,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(n.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),i=n.documentElement,s=i.getBoundingClientRect();return{top:-s.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(function Gk(e,t=g_){return function a9(e){return lr((t,n)=>{let r=!1,i=null,s=null,u=!1;const p=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const w=i;i=null,n.next(w)}u&&n.complete()},m=()=>{s=null,u&&n.complete()};t.subscribe(gr(n,w=>{r=!0,i=w,s||Fi(e(w)).subscribe(s=gr(n,p,m))},()=>{u=!0,(!r||!s||s.closed)&&n.complete()}))})}(()=>jk(e,t))}(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(nd),Ze(Nn),Ze(Gr,8))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MC(e,t,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];i?e.setProperty(r,i,n?.has(r)?"important":""):e.removeProperty(r)}return e}function Am(e,t){const n=t?"":"none";MC(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function qk(e,t,n){MC(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},n)}function w_(e,t){return t&&"none"!=t?e+" "+t:e}function Wk(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function TC(e,t){return e.getPropertyValue(t).split(",").map(r=>r.trim())}function IC(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function AC(e,t,n){const{top:r,bottom:i,left:s,right:u}=e;return n>=r&&n<=i&&t>=s&&t<=u}function zy(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function Kk(e,t,n,r){const{top:i,right:s,bottom:u,left:p,width:m,height:w}=e,x=m*t,I=w*t;return r>i-I&&r<u+I&&n>p-x&&n<s+x}class Zk{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:IC(n)})})}handleScroll(t){const n=Zu(t),r=this.positions.get(n);if(!r)return null;const i=r.scrollPosition;let s,u;if(n===this._document){const w=this.getViewportScrollPosition();s=w.top,u=w.left}else s=n.scrollTop,u=n.scrollLeft;const p=i.top-s,m=i.left-u;return this.positions.forEach((w,x)=>{w.clientRect&&n!==x&&n.contains(x)&&zy(w.clientRect,p,m)}),i.top=s,i.left=u,{top:p,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Yk(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?Jk(e,t):("input"===r||"select"===r||"textarea"===r)&&Xk(e,t),Qk("canvas",e,t,Jk),Qk("input, textarea, select",e,t,Xk),t}function Qk(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const s=n.querySelectorAll(e);for(let u=0;u<i.length;u++)r(i[u],s[u])}}let g9=0;function Xk(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${g9++}`)}function Jk(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch{}}const eP=Cp({passive:!0}),E_=Cp({passive:!1}),RC=new Set(["position"]);class v9{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const n=Es(t);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Am(r,n)))}constructor(t,n,r,i,s,u){this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Kt,this._pointerMoveSubscription=ze.EMPTY,this._pointerUpSubscription=ze.EMPTY,this._scrollSubscription=ze.EMPTY,this._resizeSubscription=ze.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Kt,this.started=new Kt,this.released=new Kt,this.ended=new Kt,this.entered=new Kt,this.exited=new Kt,this.dropped=new Kt,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){const m=this._getTargetHandle(p);m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{const m=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const U=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),J=this._dropContainer;if(!U)return void this._endDragSequence(p);(!J||!J.isDragging()&&!J.isReceiving())&&(p.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(p)))}return}p.preventDefault();const w=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,m);else{const x=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,I=this._activeTransform;I.x=w.x-x.x+this._passiveTransform.x,I.y=w.y-x.y+this._passiveTransform.y,this._applyRootElementTransform(I.x,I.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:p,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this._nativeDragStart=p=>{if(this._handles.length){const m=this._getTargetHandle(p);m&&!this._disabledHandles.has(m)&&!this.disabled&&p.preventDefault()}else this.disabled||p.preventDefault()},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new Zk(r),u.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(r=>ao(r)),this._handles.forEach(r=>Am(r,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&n.add(r)}),this._disabledHandles=n,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const n=ao(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,E_),n.addEventListener("touchstart",this._pointerDown,eP),n.addEventListener("dragstart",this._nativeDragStart,E_)}),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?ao(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Am(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Am(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Hy(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._dropContainer;if(n){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),p=this._getShadowRoot();i.insertBefore(u,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),qk(r,!1,RC),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,p).appendChild(this._preview),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,n){this._parentDragRef&&n.stopPropagation();const r=this.isDragging(),i=Hy(n),s=!i&&0!==n.button,u=this._rootElement,p=Zu(n),m=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),w=i?wC(n):_C(n);if(p&&p.draggable&&"mousedown"===n.type&&n.preventDefault(),r||s||m||w)return;if(this._handles.length){const N=u.style;this._rootElementTapHighlight=N.webkitTapHighlightColor||"",N.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(N=>this._updateOnScroll(N)),this._boundaryElement&&(this._boundaryRect=IC(this._boundaryElement));const x=this._previewTemplate;this._pickupPositionInElement=x&&x.template&&!x.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,n);const I=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:I.x,y:I.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(t){qk(this._rootElement,!0,RC),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,r=n.getItemIndex(this),i=this._getPointerPositionOnPage(t),s=this._getDragDistance(i),u=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i,event:t}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:s,dropPoint:i,event:t}),n.drop(this,r,this._initialIndex,this._initialContainer,u,s,i,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:n},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,n);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,n)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,n,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,t,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,n):this._applyPreviewTransform(t-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,n=this.previewClass,r=t?t.template:null;let i;if(r&&t){const s=t.matchSize?this._initialClientRect:null,u=t.viewContainer.createEmbeddedView(r,t.context);u.detectChanges(),i=nP(u,this._document),this._previewRef=u,t.matchSize?rP(i,s):i.style.transform=D_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Yk(this._rootElement),rP(i,this._initialClientRect),this._initialTransform&&(i.style.transform=this._initialTransform);return MC(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},RC),Am(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(s=>i.classList.add(s)):i.classList.add(n)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const n=function p9(e){const t=getComputedStyle(e),n=TC(t,"transition-property"),r=n.find(p=>"transform"===p||"all"===p);if(!r)return 0;const i=n.indexOf(r),s=TC(t,"transition-duration"),u=TC(t,"transition-delay");return Wk(s[i])+Wk(u[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=u=>{(!u||Zu(u)===this._preview&&"transform"===u.propertyName)&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*n);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,n=t?t.template:null;let r;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),r=nP(this._placeholderRef,this._document)):r=Yk(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(t,n,r){const i=n===this._rootElement?null:n,s=i?i.getBoundingClientRect():t,u=Hy(r)?r.targetTouches[0]:r,p=this._getViewportScrollPosition();return{x:s.left-t.left+(u.pageX-s.left-p.left),y:s.top-t.top+(u.pageY-s.top-p.top)}}_getPointerPositionOnPage(t){const n=this._getViewportScrollPosition(),r=Hy(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=r.pageX-n.left,s=r.pageY-n.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const p=this._ownerSVGElement.createSVGPoint();return p.x=i,p.y=s,p.matrixTransform(u.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(t){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===n?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===n)&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:u}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,p=this._boundaryRect,{width:m,height:w}=this._getPreviewRect(),x=p.top+u,I=p.bottom-(w-u);r=tP(r,p.left+s,p.right-(m-s)),i=tP(i,x,I)}return{x:r,y:i}}_updatePointerDirectionDelta(t){const{x:n,y:r}=t,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,u=Math.abs(n-s.x),p=Math.abs(r-s.y);return u>this._config.pointerDirectionChangeThreshold&&(i.x=n>s.x?1:-1,s.x=n),p>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Am(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,E_),t.removeEventListener("touchstart",this._pointerDown,eP),t.removeEventListener("dragstart",this._nativeDragStart,E_)}_applyRootElementTransform(t,n){const r=D_(t,n),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=w_(r,this._initialTransform)}_applyPreviewTransform(t,n){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=D_(t,n);this._preview.style.transform=w_(i,r)}_getDragDistance(t){const n=this._pickupPositionOnPage;return n?{x:t.x-n.x,y:t.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:n}=this._passiveTransform;if(0===t&&0===n||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const s=i.left-r.left,u=r.right-i.right,p=i.top-r.top,m=r.bottom-i.bottom;i.width>r.width?(s>0&&(t+=s),u>0&&(t-=u)):t=0,i.height>r.height?(p>0&&(n+=p),m>0&&(n-=m)):n=0,(t!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:t})}_getDragStartDelay(t){const n=this.dragStartDelay;return"number"==typeof n?n:Hy(t)?n.touch:n?n.mouse:0}_updateOnScroll(t){const n=this._parentPositions.handleScroll(t);if(n){const r=Zu(t);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&zy(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=gC(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,n){const r=this._previewContainer||"global";if("parent"===r)return t;if("global"===r){const i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return ao(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(n=>t.target&&(t.target===n||n.contains(t.target)))}}function D_(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function tP(e,t,n){return Math.max(t,Math.min(n,e))}function Hy(e){return"t"===e.type[0]}function nP(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const r=t.createElement("div");return n.forEach(i=>r.appendChild(i)),r}function rP(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=D_(t.left,t.top)}function Uy(e,t){return Math.max(0,Math.min(t,e))}class b9{constructor(t,n){this._element=t,this._dragDropRegistry=n,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,n,r,i){const s=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,n,r,i);if(-1===u&&s.length>0)return null;const p="horizontal"===this.orientation,m=s.findIndex(pe=>pe.drag===t),w=s[u],I=w.clientRect,N=m>u?1:-1,U=this._getItemOffsetPx(s[m].clientRect,I,N),J=this._getSiblingOffsetPx(m,s,N),re=s.slice();return function y9(e,t,n){const r=Uy(t,e.length-1),i=Uy(n,e.length-1);if(r===i)return;const s=e[r],u=i<r?-1:1;for(let p=r;p!==i;p+=u)e[p]=e[p+u];e[i]=s}(s,m,u),s.forEach((pe,Ne)=>{if(re[Ne]===pe)return;const ve=pe.drag===t,tt=ve?U:J,_t=ve?t.getPlaceholderElement():pe.drag.getRootElement();pe.offset+=tt,p?(_t.style.transform=w_(`translate3d(${Math.round(pe.offset)}px, 0, 0)`,pe.initialTransform),zy(pe.clientRect,0,tt)):(_t.style.transform=w_(`translate3d(0, ${Math.round(pe.offset)}px, 0)`,pe.initialTransform),zy(pe.clientRect,tt,0))}),this._previousSwap.overlaps=AC(I,n,r),this._previousSwap.drag=w.drag,this._previousSwap.delta=p?i.x:i.y,{previousIndex:m,currentIndex:u}}enter(t,n,r,i){const s=null==i||i<0?this._getItemIndexFromPointerPosition(t,n,r):i,u=this._activeDraggables,p=u.indexOf(t),m=t.getPlaceholderElement();let w=u[s];if(w===t&&(w=u[s+1]),!w&&(null==s||-1===s||s<u.length-1)&&this._shouldEnterAsFirstChild(n,r)&&(w=u[0]),p>-1&&u.splice(p,1),w&&!this._dragDropRegistry.isDragging(w)){const x=w.getRootElement();x.parentElement.insertBefore(m,x),u.splice(s,0,t)}else ao(this._element).appendChild(m),u.push(t);m.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const n=t.getRootElement();if(n){const r=this._itemPositions.find(i=>i.drag===t)?.initialTransform;n.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===t)}updateOnScroll(t,n){this._itemPositions.forEach(({clientRect:r})=>{zy(r,t,n)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(n=>{const r=n.getVisibleElement();return{drag:n,offset:0,initialTransform:r.style.transform||"",clientRect:IC(r)}}).sort((n,r)=>t?n.clientRect.left-r.clientRect.left:n.clientRect.top-r.clientRect.top)}_getItemOffsetPx(t,n,r){const i="horizontal"===this.orientation;let s=i?n.left-t.left:n.top-t.top;return-1===r&&(s+=i?n.width-t.width:n.height-t.height),s}_getSiblingOffsetPx(t,n,r){const i="horizontal"===this.orientation,s=n[t].clientRect,u=n[t+-1*r];let p=s[i?"width":"height"]*r;if(u){const m=i?"left":"top",w=i?"right":"bottom";-1===r?p-=u.clientRect[m]-s[w]:p+=s[m]-u.clientRect[w]}return p}_shouldEnterAsFirstChild(t,n){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const u=r[r.length-1].clientRect;return i?t>=u.right:n>=u.bottom}{const u=r[0].clientRect;return i?t<=u.left:n<=u.top}}_getItemIndexFromPointerPosition(t,n,r,i){const s="horizontal"===this.orientation,u=this._itemPositions.findIndex(({drag:p,clientRect:m})=>p!==t&&((!i||p!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?i.x:i.y)!==this._previousSwap.delta)&&(s?n>=Math.floor(m.left)&&n<Math.floor(m.right):r>=Math.floor(m.top)&&r<Math.floor(m.bottom))));return-1!==u&&this._sortPredicate(u,t)?u:-1}}class _9{constructor(t,n,r,i,s){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Kt,this.entered=new Kt,this.exited=new Kt,this.dropped=new Kt,this.sorted=new Kt,this.receivingStarted=new Kt,this.receivingStopped=new Kt,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ze.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Kt,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function h9(e=0,t=g_){return e<0&&(e=0),jk(e,e,t)}(0,Hk).pipe(gp(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,p=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-p):2===this._verticalScrollDirection&&u.scrollBy(0,p),1===this._horizontalScrollDirection?u.scrollBy(-p,0):2===this._horizontalScrollDirection&&u.scrollBy(p,0)})},this.element=ao(t),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new Zk(r),this._sortStrategy=new b9(this.element,n),this._sortStrategy.withSortPredicate((u,p)=>this.sortPredicate(u,p,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,n,r,i){this._draggingStarted(),null==i&&this.sortingDisabled&&(i=this._draggables.indexOf(t)),this._sortStrategy.enter(t,n,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,n,r,i,s,u,p,m={}){this._reset(),this.dropped.next({item:t,currentIndex:n,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:u,dropPoint:p,event:m})}withItems(t){const n=this._draggables;return this._draggables=t,t.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>-1===t.indexOf(i))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const n=ao(this.element);return this._scrollableElements=-1===t.indexOf(n)?[n,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,n,r,i){if(this.sortingDisabled||!this._clientRect||!Kk(this._clientRect,.05,n,r))return;const s=this._sortStrategy.sort(t,n,r,i);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,n){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((u,p)=>{p===this._document||!u.clientRect||r||Kk(u.clientRect,.05,t,n)&&([i,s]=function w9(e,t,n,r){const i=sP(t,r),s=aP(t,n);let u=0,p=0;if(i){const m=e.scrollTop;1===i?m>0&&(u=1):e.scrollHeight-m>e.clientHeight&&(u=2)}if(s){const m=e.scrollLeft;1===s?m>0&&(p=1):e.scrollWidth-m>e.clientWidth&&(p=2)}return[u,p]}(p,u.clientRect,t,n),(i||s)&&(r=p))}),!i&&!s){const{width:u,height:p}=this._viewportRuler.getViewportSize(),m={width:u,height:p,top:0,right:u,bottom:p,left:0};i=sP(m,n),s=aP(m,t),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=ao(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=ao(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=ao(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,n){return null!=this._clientRect&&AC(this._clientRect,t,n)}_getSiblingContainerFromPosition(t,n,r){return this._siblings.find(i=>i._canReceive(t,n,r))}_canReceive(t,n,r){if(!this._clientRect||!AC(this._clientRect,n,r)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(n,r);if(!i)return!1;const s=ao(this.element);return i===s||s.contains(i)}_startReceiving(t,n){const r=this._activeSiblings;!r.has(t)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:n}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(t);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=gC(ao(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,t))}}function sP(e,t){const{top:n,bottom:r,height:i}=e,s=.05*i;return t>=n-s&&t<=n+s?1:t>=r-s&&t<=r+s?2:0}function aP(e,t){const{left:n,right:r,width:i}=e,s=.05*i;return t>=n-s&&t<=n+s?1:t>=r-s&&t<=r+s?2:0}const C_=Cp({passive:!1,capture:!0});let E9=(()=>{class e{constructor(n,r){this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new Kt,this.pointerUp=new Kt,this.scroll=new Kt,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,C_)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,C_)}startDragging(n,r){if(!(this._activeDragInstances.indexOf(n)>-1)&&(this._activeDragInstances.push(n),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:C_}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:C_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,u)=>{this._document.addEventListener(u,s.handler,s.options)})})}}stopDragging(n){const r=this._activeDragInstances.indexOf(n);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(n){return this._activeDragInstances.indexOf(n)>-1}scrolled(n){const r=[this.scroll];return n&&n!==this._document&&r.push(new Mt(i=>this._ngZone.runOutsideAngular(()=>{const u=p=>{this._activeDragInstances.length&&i.next(p)};return n.addEventListener("scroll",u,!0),()=>{n.removeEventListener("scroll",u,!0)}}))),ea(...r)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,r)=>{this._document.removeEventListener(r,n.handler,n.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Nn),Ze(Gr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const D9={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let lP=(()=>{class e{constructor(n,r,i,s){this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(n,r=D9){return new v9(n,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new _9(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Gr),Ze(Nn),Ze(f9),Ze(E9))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const kC=new it("CDK_DRAG_PARENT"),PC=new it("CdkDragHandle");let uP=(()=>{class e{get disabled(){return this._disabled}set disabled(n){this._disabled=Es(n),this._stateChanges.next(this)}constructor(n,r){this.element=n,this._stateChanges=new Kt,this._disabled=!1,this._parentDrag=r}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Gn),Re(kC,12))};static#t=this.\u0275dir=Ft({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[cr([{provide:PC,useExisting:e}])]})}return e})();const cP=new it("CdkDragPlaceholder"),dP=new it("CdkDragPreview"),fP=new it("CDK_DRAG_CONFIG"),hP=new it("CdkDropList");let pP=(()=>{class e{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(n){this._disabled=Es(n),this._dragRef.disabled=this._disabled}constructor(n,r,i,s,u,p,m,w,x,I,N){this.element=n,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=u,this._dir=m,this._changeDetectorRef=x,this._selfHandle=I,this._parentDrag=N,this._destroyed=new Kt,this.started=new er,this.released=new er,this.ended=new er,this.entered=new er,this.exited=new er,this.dropped=new er,this.moved=new Mt(U=>{const J=this._dragRef.moved.pipe(nn(re=>({source:this,pointerPosition:re.pointerPosition,event:re.event,delta:re.delta,distance:re.distance}))).subscribe(U);return()=>{J.unsubscribe()}}),this._dragRef=w.createDrag(n,{dragStartThreshold:p&&null!=p.dragStartThreshold?p.dragStartThreshold:5,pointerDirectionChangeThreshold:p&&null!=p.pointerDirectionChangeThreshold?p.pointerDirectionChangeThreshold:5,zIndex:p?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),p&&this._assignDefaults(p),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Jc(1),gp(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(n){const r=n.rootElementSelector,i=n.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const n=e._dragInstances.indexOf(this);n>-1&&e._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const n=this.element.nativeElement;let r=n;this.rootElementSelector&&(r=void 0!==n.closest?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||n)}_getBoundaryElement(){const n=this.boundaryElement;return n?"string"==typeof n?this.element.nativeElement.closest(n):ao(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.dragStartDelay="object"==typeof i&&i?i:mC(i),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),r&&n.withDirection(r.value)}}),n.beforeStarted.pipe(Jc(1)).subscribe(()=>{if(this._parentDrag)return void n.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){n.withParent(e._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(n){n.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),n.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(n){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:u,boundaryElement:p,draggingDisabled:m,rootElementSelector:w,previewContainer:x}=n;this.disabled=m??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),u&&(this.previewClass=u),p&&(this.boundaryElement=p),w&&(this.rootElementSelector=w),x&&(this.previewContainer=x)}_setupHandlesListener(){this._handles.changes.pipe(hy(this._handles),wo(n=>{const r=n.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),lo(n=>ea(...n.map(r=>r._stateChanges.pipe(hy(r))))),gp(this._destroyed)).subscribe(n=>{const r=this._dragRef,i=n.element.nativeElement;n.disabled?r.disableHandle(i):r.enableHandle(i)})}static#t=this.\u0275fac=function(r){return new(r||e)(Re(Gn),Re(hP,12),Re(Gr),Re(Nn),Re(rl),Re(fP,8),Re(_k,8),Re(lP),Re(cp),Re(PC,10),Re(kC,12))};static#n=this.\u0275dir=Ft({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(r,i,s){if(1&r&&(iy(s,dP,5),iy(s,cP,5),iy(s,PC,5)),2&r){let u;Df(u=Cf())&&(i._previewTemplate=u.first),Df(u=Cf())&&(i._placeholderTemplate=u.first),Df(u=Cf())&&(i._handles=u)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){2&r&&Sa("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[cr([{provide:kC,useExisting:e}]),po]})}return e})();const I9=["cytoscape"],A9=["legend"],R9=[{path:":id",component:(()=>{class e{constructor(n,r){this.diagram=n,this.route=r,this.title="pathway-browser"}ngAfterViewInit(){const n=this.cytoscapeContainer.nativeElement;this.reactomeStyle=new bt(n),this.route.params.pipe(lo(r=>this.diagram.getDiagram(r.id))).subscribe(r=>{this.cy=HR()({container:n,elements:r,style:this.reactomeStyle?.getStyleSheet(),layout:{name:"preset"}}),this.reactomeStyle?.bindToCytoscape(this.cy)}),this.diagram.getLegend().subscribe(r=>{const i=this.legendContainer.nativeElement;this.legend=HR()({container:i,elements:r,style:this.reactomeStyle?.getStyleSheet(),layout:{name:"preset"},boxSelectionEnabled:!1}),this.reactomeStyle?.bindToCytoscape(this.legend),this.legend.zoomingEnabled(!1),this.legend.panningEnabled(!1)})}getInteractors(){this.diagram.getInteractorsOccurrences(this.cy).subscribe(n=>{const r=this.diagram.addInteractorsOccurrences(n,this.cy);return this.cy?.add(r),r})}updateStyle(){setTimeout(()=>this.reactomeStyle?.update(this.cy),5),setTimeout(()=>this.reactomeStyle?.update(this.legend),5)}static#e=this.\u0275fac=function(r){return new(r||e)(Re(Fj),Re(yp))};static#t=this.\u0275cmp=sa({type:e,selectors:[["cr-diagram"]],viewQuery:function(r,i){if(1&r&&(lb(I9,5),lb(A9,5)),2&r){let s;Df(s=Cf())&&(i.cytoscapeContainer=s.first),Df(s=Cf())&&(i.legendContainer=s.first)}},decls:18,vars:4,consts:[[1,"variables"],["container",""],["id","cytoscape"],["cytoscape",""],["id","legend-boundary"],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary","#legend-boundary","id","legend-container"],["id","legend-handle","cdkDragHandle",""],["id","legend"],["legend",""],["id","controls"],["mat-raised-button","",3,"click"],[3,"change"],["dark",""]],template:function(r,i){if(1&r&&(Jo(0,"div",0,1),xa(2,"div",2,3),Jo(4,"div",4)(5,"div",5)(6,"button",6),Yv(7,"LEGEND"),vs(),xa(8,"div",7,8),vs()(),Jo(10,"form",9)(11,"button",10),Bo("click",function(){return i.getInteractors()}),Yv(12,"Interactors"),vs(),Jo(13,"button",10),Bo("click",function(){return i.updateStyle()}),Yv(14,"Update Style"),vs(),Jo(15,"mat-slide-toggle",11,12),Bo("change",function(){return i.updateStyle()}),Yv(17,"Dark mode"),vs()()()),2&r){const s=J0(1);Sa("dark",J0(16).checked),qg(5),qw("height",s.clientHeight+"px")}},dependencies:[sR,GA,a_,k6,Vk,uP,pP],styles:[".variables[_ngcontent-%COMP%]{position:absolute;inset:0;--opacity: .08;--shadow-luminosity: 40;--surface: #F6FEFF;--on-surface: #001F24;--primary: #006782;--on-primary: #FFFFFF;--on-tertiary: #FFFFFF;--positive: #0C9509;--negative: #BA1A1A;--select-node: #6EB3E4;--select-edge: #0561A6;--hover-node: #78E076;--hover-edge: #04B601;--compartment: #E5834A;--primary-contrast-1: #001F29;--primary-contrast-2: #003545;--primary-contrast-3: #004D62;--tertiary-contrast-1: #00315C;--tertiary-contrast-2: #004882;--tertiary-contrast-3: #1660A5;--drug-contrast-1: #3E001D;--drug-contrast-2: #610B33;--drug-contrast-3: #7E2549;--drug-contrast-4: #BB557A}.variables.dark[_ngcontent-%COMP%]{--opacity: .08;--shadow-luminosity: 70;--shadow-opacity: [[.2, .4], [.4, 0]];--surface: #0D1617;--on-surface: #97F0FF;--primary: #5CD4FF;--on-primary: #0D1617;--on-tertiary: #0D1317;--positive: #10d70b;--negative: #ea2323;--select-node: #00ffff;--select-edge: #1d85cc;--hover-node: #ffff00;--hover-edge: #ffff00;--compartment: #5e232d;--primary-contrast-1: #5CD4FF;--primary-contrast-2: #20B9E5;--primary-contrast-3: #009DC4;--tertiary-contrast-1: #a48ee0;--tertiary-contrast-2: #9b73d3;--tertiary-contrast-3: #8c63c5;--drug-contrast-1: #FFB1C8;--drug-contrast-2: #F988AE;--drug-contrast-3: #DA6E94;--drug-contrast-4: #c4527b}#controls[_ngcontent-%COMP%]{position:absolute;inset:calc(100vh - 40px) 0 0 0;background:var(--surface)}#controls[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background:var(--surface);color:var(--on-surface)}#cytoscape[_ngcontent-%COMP%]{position:absolute;inset:0 0 40px;background:var(--surface)}#legend-boundary[_ngcontent-%COMP%]{--legend-width: 450px;--border-width: 2px;--handle-width: 20px;position:absolute;pointer-events:none;right:calc(-1 * var(--legend-width) - var(--border-width));height:100%;width:calc(2 * var(--legend-width) + var(--handle-width))}#legend-boundary[_ngcontent-%COMP%]   #legend[_ngcontent-%COMP%]{width:var(--legend-width);height:100%;border-left:var(--border-width) solid var(--primary);background:color-mix(in srgb,var(--surface) 50%,transparent);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}#legend-boundary[_ngcontent-%COMP%]   #legend-handle[_ngcontent-%COMP%]{width:var(--handle-width);text-orientation:upright;writing-mode:vertical-lr;border-radius:8.5px 0 0 8.5px;background:color-mix(in srgb,var(--surface) 50%,transparent);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-left:var(--border-width) solid var(--primary);border-top:var(--border-width) solid var(--primary);border-bottom:var(--border-width) solid var(--primary);border-right:0;cursor:ew-resize;color:var(--on-surface)}#legend-boundary[_ngcontent-%COMP%]   #legend-container[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;align-items:center;width:-moz-fit-content;width:fit-content;left:calc(var(--legend-width) - var(--border-width));pointer-events:all;height:100%}"]})}return e})()},{path:"**",redirectTo:"R-HSA-453279"}];let k9=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({imports:[vA.forRoot(R9),vA]})}return e})();class gP{}class P9{}const rd="*";function mP(e,t=null){return{type:2,steps:e,options:t}}function vP(e){return{type:6,styles:e,offset:null}}class jy{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class yP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++n==s&&this._onFinish()}),u.onDestroy(()=>{++r==s&&this._onDestroy()}),u.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,p)=>Math.max(u,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function bP(e){return new Te(3e3,!1)}function Lf(e){switch(e.length){case 0:return new jy;case 1:return e[0];default:return new yP(e)}}function _P(e,t,n=new Map,r=new Map){const i=[],s=[];let u=-1,p=null;if(t.forEach(m=>{const w=m.get("offset"),x=w==u,I=x&&p||new Map;m.forEach((N,U)=>{let J=U,re=N;if("offset"!==U)switch(J=e.normalizePropertyName(J,i),re){case"!":re=n.get(U);break;case rd:re=r.get(U);break;default:re=e.normalizeStyleValue(U,J,re,i)}I.set(J,re)}),x||s.push(I),p=I,u=w}),i.length)throw function nG(e){return new Te(3502,!1)}();return s}function FC(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&LC(n,"start",e)));break;case"done":e.onDone(()=>r(n&&LC(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&LC(n,"destroy",e)))}}function LC(e,t,n){const s=BC(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),u=e._data;return null!=u&&(s._data=u),s}function BC(e,t,n,r,i="",s=0,u){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!u}}function Ia(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function wP(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const pG=(()=>typeof document>"u"?null:document.documentElement)();function VC(e){const t=e.parentNode||e.host||null;return t===pG?null:t}let Mp=null,EP=!1;function DP(e,t){for(;t;){if(t===e)return!0;t=VC(t)}return!1}function CP(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]}let xP=(()=>{class e{validateStyleProperty(n){return function mG(e){Mp||(Mp=function vG(){return typeof document<"u"?document.body:null}()||{},EP=!!Mp.style&&"WebkitAppearance"in Mp.style);let t=!0;return Mp.style&&!function gG(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Mp.style,!t&&EP&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Mp.style)),t}(n)}matchesElement(n,r){return!1}containsElement(n,r){return DP(n,r)}getParentElement(n){return VC(n)}query(n,r,i){return CP(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,u,p=[],m){return new jy(i,s)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})(),$C=(()=>{class e{static#e=this.NOOP=new xP}return e})();const yG=1e3,zC="ng-enter",x_="ng-leave",S_="ng-trigger",M_=".ng-trigger",MP="ng-animating",HC=".ng-animating";function id(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:UC(parseFloat(t[1]),t[2])}function UC(e,t){return"s"===t?e*yG:e}function T_(e,t,n){return e.hasOwnProperty("duration")?e:function _G(e,t,n){let i,s=0,u="";if("string"==typeof e){const p=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(bP()),{duration:0,delay:0,easing:""};i=UC(parseFloat(p[1]),p[2]);const m=p[3];null!=m&&(s=UC(parseFloat(m),p[4]));const w=p[5];w&&(u=w)}else i=e;if(!n){let p=!1,m=t.length;i<0&&(t.push(function O9(){return new Te(3100,!1)}()),p=!0),s<0&&(t.push(function N9(){return new Te(3101,!1)}()),p=!0),p&&t.splice(m,0,bP())}return{duration:i,delay:s,easing:u}}(e,t,n)}function Gy(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function TP(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Bf(e,t=new Map,n){if(n)for(let[r,i]of n)t.set(r,i);for(let[r,i]of e)t.set(r,i);return t}function Yu(e,t,n){t.forEach((r,i)=>{const s=GC(i);n&&!n.has(i)&&n.set(i,e.style[s]),e.style[s]=r})}function Tp(e,t){t.forEach((n,r)=>{const i=GC(r);e.style[i]=""})}function qy(e){return Array.isArray(e)?1==e.length?e[0]:mP(e):e}const jC=new RegExp("{{\\s*(.+?)\\s*}}","g");function AP(e){let t=[];if("string"==typeof e){let n;for(;n=jC.exec(e);)t.push(n[1]);jC.lastIndex=0}return t}function Wy(e,t,n){const r=e.toString(),i=r.replace(jC,(s,u)=>{let p=t[u];return null==p&&(n.push(function L9(e){return new Te(3003,!1)}()),p=""),p.toString()});return i==r?e:i}function I_(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const DG=/-+([a-z0-9])/g;function GC(e){return e.replace(DG,(...t)=>t[1].toUpperCase())}function Aa(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function B9(e){return new Te(3004,!1)}()}}const A_="*";function SG(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function MG(e,t,n){if(":"==e[0]){const m=function TG(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(function X9(e){return new Te(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof m)return void t.push(m);e=m}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Q9(e){return new Te(3015,!1)}()),t;const i=r[1],s=r[2],u=r[3];t.push(kP(i,u));"<"==s[0]&&!(i==A_&&u==A_)&&t.push(kP(u,i))}(r,n,t)):n.push(e),n}const R_=new Set(["true","1"]),k_=new Set(["false","0"]);function kP(e,t){const n=R_.has(e)||k_.has(e),r=R_.has(t)||k_.has(t);return(i,s)=>{let u=e==A_||e==i,p=t==A_||t==s;return!u&&n&&"boolean"==typeof i&&(u=i?R_.has(e):k_.has(e)),!p&&r&&"boolean"==typeof s&&(p=s?R_.has(t):k_.has(t)),u&&p}}const IG=new RegExp("s*:selfs*,?","g");function qC(e,t,n,r){return new AG(e).build(t,n,r)}class AG{constructor(t){this._driver=t}build(t,n,r){const i=new PG(n);return this._resetContextStyleTimingState(i),Aa(this,qy(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&n.errors.push(function $9(){return new Te(3006,!1)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(n),0==p.type){const m=p,w=m.name;w.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,s.push(this.visitState(m,n))}),m.name=w}else if(1==p.type){const m=this.visitTransition(p,n);r+=m.queryCount,i+=m.depCount,u.push(m)}else n.errors.push(function z9(){return new Te(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,u=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(m=>{AP(m).forEach(w=>{u.hasOwnProperty(w)||s.add(w)})})}),s.size&&(I_(s.values()),n.errors.push(function H9(e,t){return new Te(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=Aa(this,qy(t.animation),n);return{type:1,matchers:SG(t.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ip(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(r=>Aa(this,r,n)),options:Ip(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const s=t.steps.map(u=>{n.currentTime=r;const p=Aa(this,u,n);return i=Math.max(i,n.currentTime),p});return n.currentTime=i,{type:3,steps:s,options:Ip(t.options)}}visitAnimate(t,n){const r=function NG(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return WC(T_(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=WC(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=T_(n,t);return WC(i.duration,i.delay,i.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,s=t.styles?t.styles:vP({});if(5==s.type)i=this.visitKeyframes(s,n);else{let u=t.styles,p=!1;if(!u){p=!0;const w={};r.easing&&(w.easing=r.easing),u=vP(w)}n.currentTime+=r.duration+r.delay;const m=this.visitStyle(u,n);m.isEmptyStep=p,i=m}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let p of i)"string"==typeof p?p===rd?r.push(p):n.errors.push(new Te(3002,!1)):r.push(TP(p));let s=!1,u=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(u=p.get("easing"),p.delete("easing")),!s))for(let m of p.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:u,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((p,m)=>{const w=n.collectedStyles.get(n.currentQuerySelector),x=w.get(m);let I=!0;x&&(s!=i&&s>=x.startTime&&i<=x.endTime&&(n.errors.push(function j9(e,t,n,r,i){return new Te(3010,!1)}()),I=!1),s=x.startTime),I&&w.set(m,{startTime:s,endTime:i}),n.options&&function EG(e,t,n){const r=t.params||{},i=AP(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function F9(e){return new Te(3001,!1)}())})}(p,n.options,n.errors)})})}visitKeyframes(t,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function G9(){return new Te(3011,!1)}()),r;let s=0;const u=[];let p=!1,m=!1,w=0;const x=t.steps.map(Ne=>{const ve=this._makeStyleAst(Ne,n);let tt=null!=ve.offset?ve.offset:function OG(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(ve.styles),_t=0;return null!=tt&&(s++,_t=ve.offset=tt),m=m||_t<0||_t>1,p=p||_t<w,w=_t,u.push(_t),ve});m&&n.errors.push(function q9(){return new Te(3012,!1)}()),p&&n.errors.push(function W9(){return new Te(3200,!1)}());const I=t.steps.length;let N=0;s>0&&s<I?n.errors.push(function K9(){return new Te(3202,!1)}()):0==s&&(N=1/(I-1));const U=I-1,J=n.currentTime,re=n.currentAnimateTimings,pe=re.duration;return x.forEach((Ne,ve)=>{const tt=N>0?ve==U?1:N*ve:u[ve],_t=tt*pe;n.currentTime=J+re.delay+_t,re.duration=_t,this._validateStyleAst(Ne,n),Ne.offset=tt,r.styles.push(Ne)}),r}visitReference(t,n){return{type:8,animation:Aa(this,qy(t.animation),n),options:Ip(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Ip(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Ip(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[s,u]=function RG(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(IG,"")),e=e.replace(/@\*/g,M_).replace(/@\w+/g,n=>M_+"-"+n.slice(1)).replace(/:animating/g,HC),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+s:s,Ia(n.collectedStyles,n.currentQuerySelector,new Map);const p=Aa(this,qy(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:p,originalSelector:t.selector,options:Ip(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function Z9(){return new Te(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:T_(t.timings,n.errors,!0);return{type:12,animation:Aa(this,qy(t.animation),n),timings:r,options:null}}}class PG{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ip(e){return e?(e=Gy(e)).params&&(e.params=function kG(e){return e?Gy(e):null}(e.params)):e={},e}function WC(e,t,n){return{duration:e,delay:t,easing:n}}function KC(e,t,n,r,i,s,u=null,p=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:u,subTimeline:p}}class P_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const BG=new RegExp(":enter","g"),$G=new RegExp(":leave","g");function ZC(e,t,n,r,i,s=new Map,u=new Map,p,m,w=[]){return(new zG).buildKeyframes(e,t,n,r,i,s,u,p,m,w)}class zG{buildKeyframes(t,n,r,i,s,u,p,m,w,x=[]){w=w||new P_;const I=new YC(t,n,w,i,s,x,[]);I.options=m;const N=m.delay?id(m.delay):0;I.currentTimeline.delayNextStep(N),I.currentTimeline.setStyles([u],null,I.errors,m),Aa(this,r,I);const U=I.timelines.filter(J=>J.containsAnimation());if(U.length&&p.size){let J;for(let re=U.length-1;re>=0;re--){const pe=U[re];if(pe.element===n){J=pe;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([p],null,I.errors,m)}return U.length?U.map(J=>J.buildKeyframes()):[KC(n,[],[],[],0,N,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),s=n.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);s!=u&&n.transformIntoNewTimeline(u)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(const i of t){const s=i?.delay;if(s){const u="number"==typeof s?s:id(Wy(s,i?.params??{},n.errors));r.delayNextStep(u)}}}_visitSubInstructions(t,n,r){let s=n.currentTimeline.currentTime;const u=null!=r.duration?id(r.duration):null,p=null!=r.delay?id(r.delay):null;return 0!==u&&t.forEach(m=>{const w=n.appendInstructionToTimeline(m,u,p);s=Math.max(s,w.duration+w.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),Aa(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const s=t.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=O_);const u=id(s.delay);i.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Aa(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const s=t.options&&t.options.delay?id(t.options.delay):0;t.steps.forEach(u=>{const p=n.createSubContext(t.options);s&&p.delayNextStep(s),Aa(this,u,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(u=>n.currentTimeline.mergeTimelineCollectedStyles(u)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return T_(n.params?Wy(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,p=n.createSubContext().currentTimeline;p.easing=r.easing,t.styles.forEach(m=>{p.forwardTime((m.offset||0)*s),p.setStyles(m.styles,m.easing,n.errors,n.options),p.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(p),n.transformIntoNewTimeline(i+s),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},s=i.delay?id(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=O_);let u=r;const p=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=p.length;let m=null;p.forEach((w,x)=>{n.currentQueryIndex=x;const I=n.createSubContext(t.options,w);s&&I.delayNextStep(s),w===n.element&&(m=I.currentTimeline),Aa(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(u),m&&(n.currentTimeline.mergeTimelineCollectedStyles(m),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,s=t.timings,u=Math.abs(s.duration),p=u*(n.currentQueryTotal-1);let m=u*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=p-m;break;case"full":m=r.currentStaggerTime}const x=n.currentTimeline;m&&x.delayNextStep(m);const I=x.currentTime;Aa(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-I+(i.startTime-r.currentTimeline.startTime)}}const O_={};class YC{constructor(t,n,r,i,s,u,p,m){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=u,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=O_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new N_(this._driver,n,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=id(r.duration)),null!=r.delay&&(i.delay=id(r.delay));const s=r.params;if(s){let u=i.params;u||(u=this.options.params={}),Object.keys(s).forEach(p=>{(!n||!u.hasOwnProperty(p))&&(u[p]=Wy(s[p],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,s=new YC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=O_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new HG(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,s,u){let p=[];if(i&&p.push(this.element),t.length>0){t=(t=t.replace(BG,"."+this._enterClassName)).replace($G,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),p.push(...w)}return!s&&0==p.length&&u.push(function Y9(e){return new Te(3014,!1)}()),p}}class N_{constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new N_(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||rd),this._currentKeyframe.set(n,rd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},u=function UG(e,t){const n=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)n.set(s,rd)}else Bf(i,n)}),n}(t,this._globalTimelineStyles);for(let[p,m]of u){const w=Wy(m,s,r);this._pendingStyles.set(p,w),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??rd),this._updateStyle(p,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,m)=>{const w=Bf(p,new Map,this._backFill);w.forEach((x,I)=>{"!"===x?t.add(I):x===rd&&n.add(I)}),r||w.set("offset",m/this.duration),i.push(w)});const s=t.size?I_(t.values()):[],u=n.size?I_(n.values()):[];if(r){const p=i[0],m=new Map(p);p.set("offset",0),m.set("offset",1),i=[p,m]}return KC(this.element,i,s,u,this.duration,this.startTime,this.easing,!1)}}class HG extends N_{constructor(t,n,r,i,s,u,p=!1){super(t,n,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=p,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],u=r+n,p=n/u,m=Bf(t[0]);m.set("offset",0),s.push(m);const w=Bf(t[0]);w.set("offset",NP(p)),s.push(w);const x=t.length-1;for(let I=1;I<=x;I++){let N=Bf(t[I]);const U=N.get("offset");N.set("offset",NP((n+U*r)/u)),s.push(N)}r=u,n=0,i="",t=s}return KC(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function NP(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class QC{}const jG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class GG extends QC{normalizePropertyName(t,n){return GC(t)}normalizeStyleValue(t,n,r,i){let s="";const u=r.toString().trim();if(jG.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function V9(e,t){return new Te(3005,!1)}())}return u+s}}function FP(e,t,n,r,i,s,u,p,m,w,x,I,N){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:u,timelines:p,queriedElements:m,preStyleProps:w,postStyleProps:x,totalTime:I,errors:N}}const XC={};class LP{constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function qG(e,t,n,r,i){return e.some(s=>s(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,s,u,p,m,w,x){const I=[],N=this.ast.options&&this.ast.options.params||XC,J=this.buildStyles(r,p&&p.params||XC,I),re=m&&m.params||XC,pe=this.buildStyles(i,re,I),Ne=new Set,ve=new Map,tt=new Map,_t="void"===i,$t={params:WG(re,N),delay:this.ast.options?.delay},Zn=x?[]:ZC(t,n,this.ast.animation,s,u,J,pe,$t,w,I);let Se=0;if(Zn.forEach(fr=>{Se=Math.max(fr.duration+fr.delay,Se)}),I.length)return FP(n,this._triggerName,r,i,_t,J,pe,[],[],ve,tt,Se,I);Zn.forEach(fr=>{const hr=fr.element,Ra=Ia(ve,hr,new Set);fr.preStyleProps.forEach(Gi=>Ra.add(Gi));const Eo=Ia(tt,hr,new Set);fr.postStyleProps.forEach(Gi=>Eo.add(Gi)),hr!==n&&Ne.add(hr)});const Ut=I_(Ne.values());return FP(n,this._triggerName,r,i,_t,J,pe,Zn,Ut,ve,tt,Se)}}function WG(e,t){const n=Gy(t);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(n[r]=e[r]);return n}class KG{constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r=new Map,i=Gy(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!==u&&(i[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,p)=>{u&&(u=Wy(u,i,n));const m=this.normalizer.normalizePropertyName(p,n);u=this.normalizer.normalizeStyleValue(p,m,u,n),r.set(p,u)})}),r}}class YG{constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new KG(i.style,i.options&&i.options.params||{},r))}),BP(this.states,"true","1"),BP(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new LP(t,i,this.states))}),this.fallbackTransition=function QG(e,t,n){return new LP(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(u=>u.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function BP(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const XG=new P_;class JG{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const r=[],s=qC(this._driver,n,r,[]);if(r.length)throw function rG(e){return new Te(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,n,r){const i=t.element,s=_P(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],s=this._animations.get(t);let u;const p=new Map;if(s?(u=ZC(this._driver,n,s,zC,x_,new Map,new Map,r,XG,i),u.forEach(x=>{const I=Ia(p,x.element,new Map);x.postStyleProps.forEach(N=>I.set(N,null))})):(i.push(function iG(){return new Te(3300,!1)}()),u=[]),i.length)throw function oG(e){return new Te(3504,!1)}();p.forEach((x,I)=>{x.forEach((N,U)=>{x.set(U,this._driver.computeStyle(I,U,rd))})});const w=Lf(u.map(x=>{const I=p.get(x.element);return this._buildPlayer(x,new Map,I)}));return this._playersById.set(t,w),w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function sG(e){return new Te(3301,!1)}();return n}listen(t,n,r,i){const s=BC(n,"","","");return FC(this._getPlayer(t),r,s,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const VP="ng-animate-queued",JC="ng-animate-disabled",iq=[],$P={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},eu="__ng_removed";class e1{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function uq(e){return e??null}(r?t.value:t),r){const s=Gy(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Ky="void",t1=new e1(Ky);class sq{constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ll(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw function aG(e,t){return new Te(3302,!1)}();if(null==r||0==r.length)throw function lG(e){return new Te(3303,!1)}();if(!function cq(e){return"start"==e||"done"==e}(r))throw function uG(e,t){return new Te(3400,!1)}();const s=Ia(this._elementListeners,t,[]),u={name:n,phase:r,callback:i};s.push(u);const p=Ia(this._engine.statesByElement,t,new Map);return p.has(n)||(ll(t,S_),ll(t,S_+"-"+n),p.set(n,t1)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(u);m>=0&&s.splice(m,1),this._triggers.has(n)||p.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function cG(e){return new Te(3401,!1)}();return n}trigger(t,n,r,i=!0){const s=this._getTrigger(n),u=new n1(this.id,n,t);let p=this._engine.statesByElement.get(t);p||(ll(t,S_),ll(t,S_+"-"+n),this._engine.statesByElement.set(t,p=new Map));let m=p.get(n);const w=new e1(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&w.absorbOptions(m.options),p.set(n,w),m||(m=t1),w.value!==Ky&&m.value===w.value){if(!function hq(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(m.params,w.params)){const re=[],pe=s.matchStyles(m.value,m.params,re),Ne=s.matchStyles(w.value,w.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{Tp(t,pe),Yu(t,Ne)})}return}const N=Ia(this._engine.playersByElement,t,[]);N.forEach(re=>{re.namespaceId==this.id&&re.triggerName==n&&re.queued&&re.destroy()});let U=s.matchTransition(m.value,w.value,t,w.params),J=!1;if(!U){if(!i)return;U=s.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:U,fromState:m,toState:w,player:u,isFallbackTransition:J}),J||(ll(t,VP),u.onStart(()=>{Rm(t,VP)})),u.onDone(()=>{let re=this.players.indexOf(u);re>=0&&this.players.splice(re,1);const pe=this._engine.playersByElement.get(t);if(pe){let Ne=pe.indexOf(u);Ne>=0&&pe.splice(Ne,1)}}),this.players.push(u),N.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,M_,!0);r.forEach(i=>{if(i[eu])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(u=>u.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const p=[];if(s.forEach((m,w)=>{if(u.set(w,m.value),this._triggers.has(w)){const x=this.trigger(t,w,Ky,i);x&&p.push(x)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,u),r&&Lf(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(s=>{const u=s.name;if(i.has(u))return;i.add(u);const m=this._triggers.get(u).fallbackTransition,w=r.get(u)||t1,x=new e1(Ky),I=new n1(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:w,toState:x,player:I,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let u=t;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const s=t[eu];(!s||s===$P)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){ll(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,u=this._elementListeners.get(s);u&&u.forEach(p=>{if(p.name==r.triggerName){const m=BC(s,r.triggerName,r.fromState.value,r.toState.value);m._data=t,FC(r.player,p.phase,m,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class aq{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new sq(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,p=this.driver.getParentElement(n);for(;p;){const m=i.get(p);if(m){const w=r.indexOf(m);r.splice(w+1,0,t),u=!0;break}p=this.driver.getParentElement(p)}u||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(t,n,r,i){if(F_(n)){const s=this._fetchNamespace(t);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!F_(n))return;const s=n[eu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(n);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ll(t,JC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Rm(t,JC))}removeNode(t,n,r){if(F_(n)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,s){this.collectedLeaveElements.push(n),n[eu]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,r,i,s){return F_(n)?this._fetchNamespace(t).listen(n,r,i,s):()=>{}}_buildInstruction(t,n,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,M_,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,HC,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Lf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[eu];if(n&&n.setForRemoval){if(t[eu]=$P,n.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(JC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ll(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Lf(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function dG(e){return new Te(3402,!1)}()}_flushAnimations(t,n){const r=new P_,i=[],s=new Map,u=[],p=new Map,m=new Map,w=new Map,x=new Set;this.disabledNodes.forEach(wt=>{x.add(wt);const he=this.driver.query(wt,".ng-animate-queued",!0);for(let Me=0;Me<he.length;Me++)x.add(he[Me])});const I=this.bodyNode,N=Array.from(this.statesByElement.keys()),U=UP(N,this.collectedEnterElements),J=new Map;let re=0;U.forEach((wt,he)=>{const Me=zC+re++;J.set(he,Me),wt.forEach(nt=>ll(nt,Me))});const pe=[],Ne=new Set,ve=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const he=this.collectedLeaveElements[wt],Me=he[eu];Me&&Me.setForRemoval&&(pe.push(he),Ne.add(he),Me.hasAnimation?this.driver.query(he,".ng-star-inserted",!0).forEach(nt=>Ne.add(nt)):ve.add(he))}const tt=new Map,_t=UP(N,Array.from(Ne));_t.forEach((wt,he)=>{const Me=x_+re++;tt.set(he,Me),wt.forEach(nt=>ll(nt,Me))}),t.push(()=>{U.forEach((wt,he)=>{const Me=J.get(he);wt.forEach(nt=>Rm(nt,Me))}),_t.forEach((wt,he)=>{const Me=tt.get(he);wt.forEach(nt=>Rm(nt,Me))}),pe.forEach(wt=>{this.processLeaveNode(wt)})});const $t=[],Zn=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(n).forEach(Me=>{const nt=Me.player,tn=Me.element;if($t.push(nt),this.collectedEnterElements.length){const Ni=tn[eu];if(Ni&&Ni.setForMove){if(Ni.previousTriggersValues&&Ni.previousTriggersValues.has(Me.triggerName)){const od=Ni.previousTriggersValues.get(Me.triggerName),es=this.statesByElement.get(Me.element);if(es&&es.has(Me.triggerName)){const km=es.get(Me.triggerName);km.value=od,es.set(Me.triggerName,km)}}return void nt.destroy()}}const Ar=!I||!this.driver.containsElement(I,tn),Yn=tt.get(tn),Pn=J.get(tn),Mn=this._buildInstruction(Me,r,Pn,Yn,Ar);if(Mn.errors&&Mn.errors.length)return void Zn.push(Mn);if(Ar)return nt.onStart(()=>Tp(tn,Mn.fromStyles)),nt.onDestroy(()=>Yu(tn,Mn.toStyles)),void i.push(nt);if(Me.isFallbackTransition)return nt.onStart(()=>Tp(tn,Mn.fromStyles)),nt.onDestroy(()=>Yu(tn,Mn.toStyles)),void i.push(nt);const Qr=[];Mn.timelines.forEach(Ni=>{Ni.stretchStartingKeyframe=!0,this.disabledNodes.has(Ni.element)||Qr.push(Ni)}),Mn.timelines=Qr,r.append(tn,Mn.timelines),u.push({instruction:Mn,player:nt,element:tn}),Mn.queriedElements.forEach(Ni=>Ia(p,Ni,[]).push(nt)),Mn.preStyleProps.forEach((Ni,od)=>{if(Ni.size){let es=m.get(od);es||m.set(od,es=new Set),Ni.forEach((km,o1)=>es.add(o1))}}),Mn.postStyleProps.forEach((Ni,od)=>{let es=w.get(od);es||w.set(od,es=new Set),Ni.forEach((km,o1)=>es.add(o1))})});if(Zn.length){const wt=[];Zn.forEach(he=>{wt.push(function fG(e,t){return new Te(3505,!1)}())}),$t.forEach(he=>he.destroy()),this.reportError(wt)}const Se=new Map,Ut=new Map;u.forEach(wt=>{const he=wt.element;r.has(he)&&(Ut.set(he,he),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,Se))}),i.forEach(wt=>{const he=wt.element;this._getPreviousPlayers(he,!1,wt.namespaceId,wt.triggerName,null).forEach(nt=>{Ia(Se,he,[]).push(nt),nt.destroy()})});const fr=pe.filter(wt=>GP(wt,m,w)),hr=new Map;HP(hr,this.driver,ve,w,rd).forEach(wt=>{GP(wt,m,w)&&fr.push(wt)});const Eo=new Map;U.forEach((wt,he)=>{HP(Eo,this.driver,new Set(wt),m,"!")}),fr.forEach(wt=>{const he=hr.get(wt),Me=Eo.get(wt);hr.set(wt,new Map([...he?.entries()??[],...Me?.entries()??[]]))});const Gi=[],Oi=[],ka={};u.forEach(wt=>{const{element:he,player:Me,instruction:nt}=wt;if(r.has(he)){if(x.has(he))return Me.onDestroy(()=>Yu(he,nt.toStyles)),Me.disabled=!0,Me.overrideTotalTime(nt.totalTime),void i.push(Me);let tn=ka;if(Ut.size>1){let Yn=he;const Pn=[];for(;Yn=Yn.parentNode;){const Mn=Ut.get(Yn);if(Mn){tn=Mn;break}Pn.push(Yn)}Pn.forEach(Mn=>Ut.set(Mn,tn))}const Ar=this._buildAnimation(Me.namespaceId,nt,Se,s,Eo,hr);if(Me.setRealPlayer(Ar),tn===ka)Gi.push(Me);else{const Yn=this.playersByElement.get(tn);Yn&&Yn.length&&(Me.parentPlayer=Lf(Yn)),i.push(Me)}}else Tp(he,nt.fromStyles),Me.onDestroy(()=>Yu(he,nt.toStyles)),Oi.push(Me),x.has(he)&&i.push(Me)}),Oi.forEach(wt=>{const he=s.get(wt.element);if(he&&he.length){const Me=Lf(he);wt.setRealPlayer(Me)}}),i.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<pe.length;wt++){const he=pe[wt],Me=he[eu];if(Rm(he,x_),Me&&Me.hasAnimation)continue;let nt=[];if(p.size){let Ar=p.get(he);Ar&&Ar.length&&nt.push(...Ar);let Yn=this.driver.query(he,HC,!0);for(let Pn=0;Pn<Yn.length;Pn++){let Mn=p.get(Yn[Pn]);Mn&&Mn.length&&nt.push(...Mn)}}const tn=nt.filter(Ar=>!Ar.destroyed);tn.length?dq(this,he,tn):this.processLeaveNode(he)}return pe.length=0,Gi.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const he=this.players.indexOf(wt);this.players.splice(he,1)}),wt.play()}),Gi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,s){let u=[];if(n){const p=this.playersByQueriedElement.get(t);p&&(u=p)}else{const p=this.playersByElement.get(t);if(p){const m=!s||s==Ky;p.forEach(w=>{w.queued||!m&&w.triggerName!=i||u.push(w)})}}return(r||i)&&(u=u.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),u}_beforeAnimationBuild(t,n,r){const s=n.element,u=n.isRemovalTransition?void 0:t,p=n.isRemovalTransition?void 0:n.triggerName;for(const m of n.timelines){const w=m.element,x=w!==s,I=Ia(r,w,[]);this._getPreviousPlayers(w,x,u,p,n.toState).forEach(U=>{const J=U.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),U.destroy(),I.push(U)})}Tp(s,n.fromStyles)}_buildAnimation(t,n,r,i,s,u){const p=n.triggerName,m=n.element,w=[],x=new Set,I=new Set,N=n.timelines.map(J=>{const re=J.element;x.add(re);const pe=re[eu];if(pe&&pe.removedBeforeQueried)return new jy(J.duration,J.delay);const Ne=re!==m,ve=function fq(e){const t=[];return jP(e,t),t}((r.get(re)||iq).map(Se=>Se.getRealPlayer())).filter(Se=>!!Se.element&&Se.element===re),tt=s.get(re),_t=u.get(re),$t=_P(this._normalizer,J.keyframes,tt,_t),Zn=this._buildPlayer(J,$t,ve);if(J.subTimeline&&i&&I.add(re),Ne){const Se=new n1(t,p,re);Se.setRealPlayer(Zn),w.push(Se)}return Zn});w.forEach(J=>{Ia(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function lq(e,t,n){let r=e.get(t);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,J.element,J))}),x.forEach(J=>ll(J,MP));const U=Lf(N);return U.onDestroy(()=>{x.forEach(J=>Rm(J,MP)),Yu(m,n.toStyles)}),I.forEach(J=>{Ia(i,J,[]).push(U)}),U}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new jy(t.duration,t.delay)}}class n1{constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new jy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>FC(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Ia(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function F_(e){return e&&1===e.nodeType}function zP(e,t){const n=e.style.display;return e.style.display=t??"none",n}function HP(e,t,n,r,i){const s=[];n.forEach(m=>s.push(zP(m)));const u=[];r.forEach((m,w)=>{const x=new Map;m.forEach(I=>{const N=t.computeStyle(w,I,i);x.set(I,N),(!N||0==N.length)&&(w[eu]=oq,u.push(w))}),e.set(w,x)});let p=0;return n.forEach(m=>zP(m,s[p++])),u}function UP(e,t){const n=new Map;if(e.forEach(p=>n.set(p,[])),0==t.length)return n;const i=new Set(t),s=new Map;function u(p){if(!p)return 1;let m=s.get(p);if(m)return m;const w=p.parentNode;return m=n.has(w)?w:i.has(w)?1:u(w),s.set(p,m),m}return t.forEach(p=>{const m=u(p);1!==m&&n.get(m).push(p)}),n}function ll(e,t){e.classList?.add(t)}function Rm(e,t){e.classList?.remove(t)}function dq(e,t,n){Lf(n).onDone(()=>e.processLeaveNode(t))}function jP(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof yP?jP(r.players,t):t.push(r)}}function GP(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(s=>i.add(s)):t.set(e,r),n.delete(e),!0}class L_{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new aq(t,n,r),this._timelineEngine=new JG(t,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,n,r,i,s){const u=t+"-"+i;let p=this._triggerCache[u];if(!p){const m=[],x=qC(this._driver,s,m,[]);if(m.length)throw function tG(e,t){return new Te(3404,!1)}();p=function ZG(e,t,n){return new YG(e,t,n)}(i,x,this._normalizer),this._triggerCache[u]=p}this._transitionEngine.registerTrigger(n,i,p)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[s,u]=wP(r);this._timelineEngine.command(s,n,u,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,s){if("@"==r.charAt(0)){const[u,p]=wP(r);return this._timelineEngine.listen(u,n,p,s)}return this._transitionEngine.listen(t,n,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let yq=(()=>{class e extends gP{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:To.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?mP(n):n;return WP(this._renderer,null,r,"register",[i]),new bq(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||e)(Ze($r),Ze(Gr))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();class bq extends P9{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new _q(this._id,t,n||{},this._renderer)}}class _q{constructor(t,n,r,i){this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return WP(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WP(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const KP="@.disabled";let wq=(()=>{class e{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,u)=>{const p=u?.parentNode(s);p&&u.removeChild(p,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(s);return x||(x=new ZP("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,x)),x}const u=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,n);const m=x=>{Array.isArray(x)?x.forEach(m):this.engine.registerTrigger(u,p,n,x.name,x)};return r.data.animation.forEach(m),new Eq(this,p,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,p]=s;u(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||e)(Ze($r),Ze(L_),Ze(Nn))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();class ZP{constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==KP?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.delegate.listen(t,n,r)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class Eq extends ZP{constructor(t,n,r,i,s){super(n,r,i,s),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==KP?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r){if("@"==n.charAt(0)){const i=function Dq(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function Cq(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,u,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(t,n,r)}}let xq=(()=>{class e extends L_{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(Gr),Ze($C),Ze(QC),Ze(up))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})();const YP=[{provide:gP,useClass:yq},{provide:QC,useFactory:function Sq(){return new GG}},{provide:L_,useClass:xq},{provide:$r,useFactory:function Mq(e,t,n){return new wq(e,t,n)},deps:[oD,L_,Nn]}],QP=[{provide:$C,useClass:xP},{provide:bf,useValue:"NoopAnimations"},...YP];let Iq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e});static#n=this.\u0275inj=Xr({providers:QP,imports:[sI]})}return e})(),Aq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=li({type:e,bootstrap:[f4]});static#n=this.\u0275inj=Xr({imports:[sI,uH,QE,PH,k9,Iq,O6,G6]})}return e})();M5().bootstrapModule(Aq).catch(e=>console.error(e))},6100:(De,ot,le)=>{"use strict";var ce=le(4430),V=le(7444),Fe=le(5440),Pe=le(7939),ze=le(9078);function Le(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var ct=Le(ce),St=Le(V),Tt=Le(Fe),kt=Le(Pe),qn=Le(ze);function vn(a){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}function Fr(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function wr(a,o){for(var l=0;l<o.length;l++){var c=o[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function Qn(a,o,l){return o&&wr(a.prototype,o),l&&wr(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a}function Vn(a,o,l){return o in a?Object.defineProperty(a,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[o]=l,a}function yn(a,o){return function Xe(a){if(Array.isArray(a))return a}(a)||function dt(a,o){var l=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=l){var g,y,c=[],f=!0,h=!1;try{for(l=l.call(a);!(f=(g=l.next()).done)&&(c.push(g.value),!o||c.length!==o);f=!0);}catch(_){h=!0,y=_}finally{try{!f&&null!=l.return&&l.return()}finally{if(h)throw y}}return c}}(a,o)||function Et(a,o){if(a){if("string"==typeof a)return Pt(a,o);var l=Object.prototype.toString.call(a).slice(8,-1);if("Object"===l&&a.constructor&&(l=a.constructor.name),"Map"===l||"Set"===l)return Array.from(a);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Pt(a,o)}}(a,o)||function $n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(a,o){(null==o||o>a.length)&&(o=a.length);for(var l=0,c=new Array(o);l<o;l++)c[l]=a[l];return c}var zt=typeof window>"u"?null:window,Tn=zt?zt.navigator:null,pr=vn(""),qi=vn({}),$o=vn(function(){}),Do=typeof HTMLElement>"u"?"undefined":vn(HTMLElement),Hr=function(o){return o&&o.instanceString&&Wn(o.instanceString)?o.instanceString():null},st=function(o){return null!=o&&vn(o)==pr},Wn=function(o){return null!=o&&vn(o)===$o},Fn=function(o){return!Kt(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},Mt=function(o){return null!=o&&vn(o)===qi&&!Fn(o)&&o.constructor===Object},ht=function(o){return null!=o&&vn(o)===vn(1)&&!isNaN(o)},Co=function(o){if("undefined"!==Do)return null!=o&&o instanceof HTMLElement},Kt=function(o){return tu(o)||Vf(o)},tu=function(o){return"collection"===Hr(o)&&o._private.single},Vf=function(o){return"collection"===Hr(o)&&!o._private.single},lr=function(o){return"core"===Hr(o)},gr=function(o){return"stylesheet"===Hr(o)},nn=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},nu=function(o){return function(o){return null!=o&&vn(o)===qi}(o)&&Wn(o.then)},ru=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var h=[],g=0;g<arguments.length;g++)h.push(arguments[g]);return h.join("$")});var c=function f(){var y,g=arguments,_=l.apply(this,g),b=f.cache;return(y=b[_])||(y=b[_]=o.apply(this,g)),y};return c.cache={},c},xo=ru(function(a){return a.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),cl=ru(function(a){return a.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),Nm=ru(function(a,o){return a+o[0].toUpperCase()+o.substring(1)},function(a,o){return a+"$"+o}),Ys=function(o){return nn(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},ri="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Fm="rgb[a]?\\(("+ri+"[%]?)\\s*,\\s*("+ri+"[%]?)\\s*,\\s*("+ri+"[%]?)(?:\\s*,\\s*("+ri+"))?\\)",iu="rgb[a]?\\((?:"+ri+"[%]?)\\s*,\\s*(?:"+ri+"[%]?)\\s*,\\s*(?:"+ri+"[%]?)(?:\\s*,\\s*(?:"+ri+"))?\\)",ts="hsl[a]?\\(("+ri+")\\s*,\\s*("+ri+"[%])\\s*,\\s*("+ri+"[%])(?:\\s*,\\s*("+ri+"))?\\)",dl="hsl[a]?\\((?:"+ri+")\\s*,\\s*(?:"+ri+"[%])\\s*,\\s*(?:"+ri+"[%])(?:\\s*,\\s*(?:"+ri+"))?\\)",fl=function(o,l){return o<l?-1:o>l?1:0},Lt=null!=Object.assign?Object.assign.bind(Object):function(a){for(var o=arguments,l=1;l<o.length;l++){var c=o[l];if(null!=c)for(var f=Object.keys(c),h=0;h<f.length;h++){var g=f[h];a[g]=c[g]}}return a},Hf={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},dd=function(o){for(var l=o.map,c=o.keys,f=c.length,h=0;h<f;h++){var g=c[h];if(Mt(g))throw Error("Tried to set map with object key");h<c.length-1?(null==l[g]&&(l[g]={}),l=l[g]):l[g]=o.value}},fd=function(o){for(var l=o.map,c=o.keys,f=c.length,h=0;h<f;h++){var g=c[h];if(Mt(g))throw Error("Tried to get map with object key");if(null==(l=l[g]))return l}return l},Xu=zt?zt.performance:null,hd=Xu&&Xu.now?function(){return Xu.now()}:function(){return Date.now()},Bm=function(){if(zt){if(zt.requestAnimationFrame)return function(a){zt.requestAnimationFrame(a)};if(zt.mozRequestAnimationFrame)return function(a){zt.mozRequestAnimationFrame(a)};if(zt.webkitRequestAnimationFrame)return function(a){zt.webkitRequestAnimationFrame(a)};if(zt.msRequestAnimationFrame)return function(a){zt.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(hd())},1e3/60)}}(),pd=function(o){return Bm(o)},Qs=hd,hl=9261,gd=5381,md=function(o){for(var f,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hl;!(f=o.next()).done;)c=65599*c+f.value|0;return c},su=function(o){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:hl)+o|0},au=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gd;return(l<<5)+l+o|0},Xs=function(o){return 2097152*o[0]+o[1]},vd=function(o,l){return[su(o[0],l[0]),au(o[1],l[1])]},Cs=function(o,l){var c={value:0,done:!1},f=0,h=o.length;return md({next:function(){return f<h?c.value=o.charCodeAt(f++):c.done=!0,c}},l)},Gf=function(){return yd(arguments)},yd=function(o){for(var l,c=0;c<o.length;c++){var f=o[c];l=0===c?Cs(f):Cs(f,l)}return l},Fi=!0,Vm=null!=console.warn,$m=null!=console.trace,qf=Number.MAX_SAFE_INTEGER||9007199254740991,Rp=function(){return!0},Ju=function(){return!1},kp=function(){return 0},Wf=function(){},Xn=function(o){throw new Error(o)},Pp=function(o){if(void 0===o)return Fi;Fi=!!o},Jt=function(o){Pp()&&(Vm?console.warn(o):(console.log(o),$m&&console.trace()))},ii=function(o){return null==o?o:Fn(o)?o.slice():Mt(o)?function(o){return Lt({},o)}(o):o},Op=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},ec={},bd=function(){return ec},Wr=function(o){var l=Object.keys(o);return function(c){for(var f={},h=0;h<l.length;h++){var g=l[h],y=c?.[g];f[g]=void 0===y?o[g]:y}return f}},zo=function(o,l,c){for(var f=o.length-1;f>=0&&(o[f]!==l||(o.splice(f,1),!c));f--);},Kf=function(o){o.splice(0,o.length)},So=function(o,l,c){return c&&(l=Nm(c,l)),o[l]},Js=function(o,l,c,f){c&&(l=Nm(c,l)),o[l]=f},xs=typeof Map<"u"?Map:function(){function a(){Fr(this,a),this._obj={}}return Qn(a,[{key:"set",value:function(l,c){return this._obj[l]=c,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),a}(),Lp=function(){function a(o){if(Fr(this,a),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var c=0;c<l.length;c++)this.add(l[c])}}return Qn(a,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var c=this._obj;1!==c[l]&&(c[l]=1,this.size++)}},{key:"delete",value:function(l){var c=this._obj;1===c[l]&&(c[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(c){return l.has(c)})}},{key:"forEach",value:function(l,c){return this.toArray().forEach(l,c)}}]),a}(),uu="undefined"!==(typeof Set>"u"?"undefined":vn(Set))?Set:Lp,tc=function(o,l){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&lr(o)){var f=l.group;if(null==f&&(f=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var h=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===f:!!l.pannable,active:!1,classes:new uu,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==h.position.x&&(h.position.x=0),null==h.position.y&&(h.position.y=0),l.renderedPosition){var g=l.renderedPosition,y=o.pan(),_=o.zoom();h.position={x:(g.x-y.x)/_,y:(g.y-y.y)/_}}var b=[];Fn(l.classes)?b=l.classes:st(l.classes)&&(b=l.classes.split(/\s+/));for(var E=0,C=b.length;E<C;E++){var S=b[E];!S||""===S||h.classes.add(S)}this.createEmitter();var T=l.style||l.css;T&&(Jt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(T)),(void 0===c||c)&&this.restore()}else Xn("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Xn("An element must have a core reference and parameters set")},Kr=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(c,f,h){var g;Mt(c)&&!Kt(c)&&(c=(g=c).roots||g.root,f=g.visit,h=g.directed),h=2!==arguments.length||Wn(f)?h:f,f=Wn(f)?f:function(){};for(var P,y=this._private.cy,_=c=st(c)?this.filter(c):c,b=[],E=[],C={},S={},T={},M=0,k=this.byGroup(),O=k.nodes,F=k.edges,L=0;L<_.length;L++){var $=_[L],K=$.id();$.isNode()&&(b.unshift($),o.bfs&&(T[K]=!0,E.push($)),S[K]=0)}for(var X=function(){var oe=o.bfs?b.shift():b.pop(),Q=oe.id();if(o.dfs){if(T[Q])return"continue";T[Q]=!0,E.push(oe)}var ke,de=S[Q],se=C[Q],ie=null!=se?se.source():null,me=null!=se?se.target():null,_e=null==se?void 0:oe.same(ie)?me[0]:ie[0];if(!0===(ke=f(oe,se,_e,M++,de)))return P=oe,"break";if(!1===ke)return"break";for(var ge=oe.connectedEdges().filter(function(Ue){return(!h||Ue.source().same(oe))&&F.has(Ue)}),Ie=0;Ie<ge.length;Ie++){var $e=ge[Ie],qe=$e.connectedNodes().filter(function(Ue){return!Ue.same(oe)&&O.has(Ue)}),He=qe.id();0!==qe.length&&!T[He]&&(b.push(qe=qe[0]),o.bfs&&(T[He]=!0,E.push(qe)),C[He]=$e,S[He]=S[Q]+1)}};0!==b.length;){var z=X();if("continue"!==z&&"break"===z)break}for(var Y=y.collection(),j=0;j<E.length;j++){var ee=E[j],te=C[ee.id()];null!=te&&Y.push(te),Y.push(ee)}return{path:y.collection(Y),found:y.collection(P)}}},ea={breadthFirstSearch:Kr({bfs:!0}),depthFirstSearch:Kr({dfs:!0})};ea.bfs=ea.breadthFirstSearch,ea.dfs=ea.depthFirstSearch;var Wi=Wr({root:null,weight:function(o){return 1},directed:!1}),jt={dijkstra:function(o){if(!Mt(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var se,ie,c=Wi(o),f=c.root,g=c.directed,y=this,_=c.weight,b=st(f)?this.filter(f)[0]:f[0],E={},C={},S={},T=this.byGroup(),M=T.nodes,P=T.edges;P.unmergeBy(function(de){return de.isLoop()});for(var k=function(se){return E[se.id()]},F=new St.default(function(de,se){return k(de)-k(se)}),L=0;L<M.length;L++){var $=M[L];E[$.id()]=$.same(b)?0:1/0,F.push($)}for(var K=function(se,ie){for(var ke,me=(g?se.edgesTo(ie):se.edgesWith(ie)).intersect(P),_e=1/0,ge=0;ge<me.length;ge++){var Ie=me[ge],$e=_(Ie);($e<_e||!ke)&&(_e=$e,ke=Ie)}return{edge:ke,dist:_e}};F.size()>0;){var X=F.pop(),z=k(X),Y=X.id();if(S[Y]=z,z!==1/0)for(var j=X.neighborhood().intersect(M),ee=0;ee<j.length;ee++){var te=j[ee],W=te.id(),oe=K(X,te),Q=z+oe.dist;Q<k(te)&&(ie=Q,E[(se=te).id()]=ie,F.updateItem(se),C[W]={node:X,edge:oe.edge})}}return{distanceTo:function(se){var ie=st(se)?M.filter(se)[0]:se[0];return S[ie.id()]},pathTo:function(se){var ie=st(se)?M.filter(se)[0]:se[0],me=[],_e=ie,ke=_e.id();if(ie.length>0)for(me.unshift(ie);C[ke];){var ge=C[ke];me.unshift(ge.edge),me.unshift(ge.node),ke=(_e=ge.node).id()}return y.spawn(me)}}}},Zf={kruskal:function(o){o=o||function(L){return 1};for(var l=this.byGroup(),c=l.nodes,f=l.edges,h=c.length,g=new Array(h),y=c,_=function($){for(var K=0;K<g.length;K++)if(g[K].has($))return K},b=0;b<h;b++)g[b]=this.spawn(c[b]);for(var E=f.sort(function(L,$){return o(L)-o($)}),C=0;C<E.length;C++){var S=E[C],T=S.source()[0],M=S.target()[0],P=_(T),k=_(M),O=g[P],F=g[k];P!==k&&(y.merge(S),O.merge(F),g.splice(k,1))}return y}},cu=Wr({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),lo={aStar:function(o){var l=this.cy(),c=cu(o),f=c.root,h=c.goal,g=c.heuristic,y=c.directed,_=c.weight;f=l.collection(f)[0],h=l.collection(h)[0];var L,$,b=f.id(),E=h.id(),C={},S={},T={},M=new St.default(function(ke,ge){return S[ke.id()]-S[ge.id()]}),P=new uu,k={},O={},F=function(ge,Ie){M.push(ge),P.add(Ie)};F(f,b),C[b]=0,S[b]=g(f);for(var z=0;M.size()>0;){if($=(L=M.pop()).id(),P.delete($),z++,$===E){for(var Y=[],j=h,ee=E,te=O[ee];Y.unshift(j),null!=te&&Y.unshift(te),null!=(j=k[ee]);)te=O[ee=j.id()];return{found:!0,distance:C[$],path:this.spawn(Y),steps:z}}T[$]=!0;for(var W=L._private.edges,oe=0;oe<W.length;oe++){var Q=W[oe];if(this.hasElementWithId(Q.id())&&(!y||Q.data("source")===$)){var de=Q.source(),se=Q.target(),ie=de.id()!==$?de:se,me=ie.id();if(this.hasElementWithId(me)&&!T[me]){var _e=C[$]+_(Q);if(!P.has(me)){C[me]=_e,S[me]=_e+g(ie),F(ie,me),k[me]=L,O[me]=Q;continue}_e<C[me]&&(C[me]=_e,S[me]=_e+g(ie),k[me]=L,O[me]=Q)}}}}return{found:!1,distance:void 0,path:void 0,steps:z}}},Bp=Wr({weight:function(o){return 1},directed:!1}),Vp={floydWarshall:function(o){for(var l=this.cy(),c=Bp(o),h=c.directed,g=c.weight,y=this.byGroup(),_=y.nodes,b=y.edges,E=_.length,C=E*E,S=function($e){return _.indexOf($e)},T=function($e){return _[$e]},M=new Array(C),P=0;P<C;P++){var k=P%E;M[P]=(P-k)/E===k?0:1/0}for(var F=new Array(C),L=new Array(C),$=0;$<b.length;$++){var K=b[$],X=K.source()[0],z=K.target()[0];if(X!==z){var Y=S(X),j=S(z),ee=Y*E+j,te=g(K);if(M[ee]>te&&(M[ee]=te,F[ee]=j,L[ee]=K),!h){var W=j*E+Y;!h&&M[W]>te&&(M[W]=te,F[W]=Y,L[W]=K)}}}for(var oe=0;oe<E;oe++)for(var Q=0;Q<E;Q++)for(var de=Q*E+oe,se=0;se<E;se++){var ie=Q*E+se,me=oe*E+se;M[de]+M[me]<M[ie]&&(M[ie]=M[de]+M[me],F[ie]=F[de])}var ke=function($e){return S(function($e){return(st($e)?l.filter($e):$e)[0]}($e))};return{distance:function($e,qe){var He=ke($e),Ue=ke(qe);return M[He*E+Ue]},path:function($e,qe){var He=ke($e),Ue=ke(qe),ye=T(He);if(He===Ue)return ye.collection();if(null==F[He*E+Ue])return l.collection();var Ye=l.collection();for(Ye.merge(ye);He!==Ue;)Ye.merge(L[He*E+(He=F[He*E+Ue])]),Ye.merge(T(He));return Ye}}}},tr=Wr({weight:function(o){return 1},directed:!1,root:null}),du={bellmanFord:function(o){var l=this,c=tr(o),h=c.directed,g=c.root,y=c.weight,_=this,b=this.cy(),E=this.byGroup(),C=E.edges,S=E.nodes,T=S.length,M=new xs,P=!1,k=[];g=b.collection(g)[0],C.unmergeBy(function(ft){return ft.isLoop()});for(var O=C.length,F=function(At){var Rt=M.get(At.id());return Rt||(Rt={},M.set(At.id(),Rt)),Rt},L=function(At){return(st(At)?b.$(At):At)[0]},X=0;X<T;X++){var z=S[X],Y=F(z);Y.dist=z.same(g)?0:1/0,Y.pred=null,Y.edge=null}for(var j=!1,ee=function(At,Rt,Cn,gn,Wt,mn){var we=gn.dist+mn;we<Wt.dist&&!Cn.same(gn.edge)&&(Wt.dist=we,Wt.pred=At,Wt.edge=Cn,j=!0)},te=1;te<T;te++){j=!1;for(var W=0;W<O;W++){var oe=C[W],Q=oe.source(),de=oe.target(),se=y(oe),ie=F(Q),me=F(de);ee(Q,0,oe,ie,me,se),h||ee(de,0,oe,me,ie,se)}if(!j)break}if(j)for(var _e=[],ke=0;ke<O;ke++){var ge=C[ke],Ie=ge.source(),$e=ge.target(),qe=y(ge),He=F(Ie).dist,Ue=F($e).dist;if(He+qe<Ue||!h&&Ue+qe<He){if(P||(Jt("Graph contains a negative weight cycle for Bellman-Ford"),P=!0),!1===o.findNegativeWeightCycles)break;var ye=[];He+qe<Ue&&ye.push(Ie),!h&&Ue+qe<He&&ye.push($e);for(var Ye=ye.length,Qe=0;Qe<Ye;Qe++){var je=ye[Qe],rt=[je];rt.push(F(je).edge);for(var Ot=F(je).pred;-1===rt.indexOf(Ot);)rt.push(Ot),rt.push(F(Ot).edge),Ot=F(Ot).pred;for(var Ht=(rt=rt.slice(rt.indexOf(Ot)))[0].id(),Be=0,ut=2;ut<rt.length;ut+=2)rt[ut].id()<Ht&&(Ht=rt[ut].id(),Be=ut);(rt=rt.slice(Be).concat(rt.slice(0,Be))).push(rt[0]);var xt=rt.map(function(ft){return ft.id()}).join(",");-1===_e.indexOf(xt)&&(k.push(_.spawn(rt)),_e.push(xt))}}}return{distanceTo:function(At){return F(L(At)).dist},pathTo:function(At){for(var Rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,gn=[],Wt=L(At);;){if(null==Wt)return l.spawn();var mn=F(Wt),we=mn.edge,G=mn.pred;if(gn.unshift(Wt[0]),Wt.same(Rt)&&gn.length>0)break;null!=we&&gn.unshift(we),Wt=G}return _.spawn(gn)},hasNegativeWeightCycle:P,negativeWeightCycles:k}}},oi=Math.sqrt(2),_d=function(o,l,c){0===c.length&&Xn("Karger-Stein must be run on a connected (sub)graph");for(var f=c[o],y=l[f[1]],_=l[f[2]],b=c,E=b.length-1;E>=0;E--){var C=b[E],S=C[1],T=C[2];(l[S]===y&&l[T]===_||l[S]===_&&l[T]===y)&&b.splice(E,1)}for(var M=0;M<b.length;M++){var P=b[M];P[1]===_?(b[M]=P.slice(),b[M][1]=y):P[2]===_&&(b[M]=P.slice(),b[M][2]=y)}for(var k=0;k<l.length;k++)l[k]===_&&(l[k]=y);return b},nc=function(o,l,c,f){for(;c>f;){var h=Math.floor(Math.random()*l.length);l=_d(h,o,l),c--}return l},nr={kargerStein:function(){var o=this,l=this.byGroup(),c=l.nodes,f=l.edges;f.unmergeBy(function(me){return me.isLoop()});var h=c.length,g=f.length,y=Math.ceil(Math.pow(Math.log(h)/Math.LN2,2)),_=Math.floor(h/oi);if(!(h<2)){for(var b=[],E=0;E<g;E++){var C=f[E];b.push([E,c.indexOf(C.source()),c.indexOf(C.target())])}for(var S=1/0,T=[],M=new Array(h),P=new Array(h),k=new Array(h),O=function(_e,ke){for(var ge=0;ge<h;ge++)ke[ge]=_e[ge]},F=0;F<=y;F++){for(var L=0;L<h;L++)P[L]=L;var $=nc(P,b.slice(),h,_),K=$.slice();O(P,k);var X=nc(P,$,_,2),z=nc(k,K,_,2);X.length<=z.length&&X.length<S?(S=X.length,T=X,O(P,M)):z.length<=X.length&&z.length<S&&(S=z.length,T=z,O(k,M))}for(var Y=this.spawn(T.map(function(me){return f[me[0]]})),j=this.spawn(),ee=this.spawn(),te=M[0],W=0;W<M.length;W++){var Q=c[W];M[W]===te?j.merge(Q):ee.merge(Q)}var de=function(_e){var ke=o.spawn();return _e.forEach(function(ge){ke.merge(ge),ge.connectedEdges().forEach(function(Ie){o.contains(Ie)&&!Y.contains(Ie)&&ke.merge(Ie)})}),ke},se=[de(j),de(ee)];return{cut:Y,components:se,partition1:j,partition2:ee}}Xn("At least 2 nodes are required for Karger-Stein algorithm")}},pl=function(o,l,c){return{x:o.x*l+c.x,y:o.y*l+c.y}},rc=function(o,l,c){return{x:(o.x-c.x)/l,y:(o.y-c.y)/l}},ic=function(o){return{x:o[0],y:o[1]}},wd=function(o,l){return Math.atan2(l,o)-Math.PI/2},$p=Math.log2||function(a){return Math.log(a)/Math.log(2)},Qf=function(o){return o>0?1:o<0?-1:0},ta=function(o,l){return Math.sqrt(si(o,l))},si=function(o,l){var c=l.x-o.x,f=l.y-o.y;return c*c+f*f},Yy=function(o){for(var l=o.length,c=0,f=0;f<l;f++)c+=o[f];for(var h=0;h<l;h++)o[h]=o[h]/c;return o},gi=function(o,l,c,f){return(1-f)*(1-f)*o+2*(1-f)*f*l+f*f*c},gl=function(o,l,c,f){return{x:gi(o.x,l.x,c.x,f),y:gi(o.y,l.y,c.y,f)}},Ed=function(o,l,c){return Math.max(o,Math.min(c,l))},Mo=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},Er=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},Hm=function(o,l,c){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,c),o.y2=Math.max(o.y2,c),o.h=o.y2-o.y1},Xf=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Ki=function(o){var c,f,h,g,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)c=f=h=g=l[0];else if(2===l.length)c=h=l[0],g=f=l[1];else if(4===l.length){var y=yn(l,4);c=y[0],f=y[1],h=y[2],g=y[3]}return o.x1-=g,o.x2+=f,o.y1-=c,o.y2+=h,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Zt=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},zp=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},sc=function(o,l,c){return o.x1<=l&&l<=o.x2&&o.y1<=c&&c<=o.y2},Um=function(o,l){return sc(o,l.x,l.y)},Ct=function(o,l){return sc(o,l.x1,l.y1)&&sc(o,l.x2,l.y2)},wi=function(o,l,c,f,h,g,y){var C,_=vl(h,g),b=h/2,E=g/2,T=f-E-y;if((C=Na(o,l,c,f,c-b+_-y,T,c+b-_+y,T,!1)).length>0)return C;var k=c+b+y;if((C=Na(o,l,c,f,k,f-E+_-y,k,f+E-_+y,!1)).length>0)return C;var K=f+E+y;if((C=Na(o,l,c,f,c-b+_-y,K,c+b-_+y,K,!1)).length>0)return C;var W,Y=c-b-y;if((C=Na(o,l,c,f,Y,f-E+_-y,Y,f+E-_+y,!1)).length>0)return C;var oe=c-b+_,Q=f-E+_;if((W=or(o,l,c,f,oe,Q,_+y)).length>0&&W[0]<=oe&&W[1]<=Q)return[W[0],W[1]];var de=c+b-_,se=f-E+_;if((W=or(o,l,c,f,de,se,_+y)).length>0&&W[0]>=de&&W[1]<=se)return[W[0],W[1]];var ie=c+b-_,me=f+E-_;if((W=or(o,l,c,f,ie,me,_+y)).length>0&&W[0]>=ie&&W[1]>=me)return[W[0],W[1]];var _e=c-b+_,ke=f+E-_;return(W=or(o,l,c,f,_e,ke,_+y)).length>0&&W[0]<=_e&&W[1]>=ke?[W[0],W[1]]:[]},Xr=function(o,l,c,f,h,g,y){var _=y,b=Math.min(c,h),E=Math.max(c,h),C=Math.min(f,g),S=Math.max(f,g);return b-_<=o&&o<=E+_&&C-_<=l&&l<=S+_},Pa=function(o,l,c,f,h,g,y,_,b){var E_x1=Math.min(c,y,h)-b,E_x2=Math.max(c,y,h)+b,E_y1=Math.min(f,_,g)-b,E_y2=Math.max(f,_,g)+b;return!(o<E_x1||o>E_x2||l<E_y1||l>E_y2)},Ho=function(o,l,c,f,h,g,y,_){var T=[];!function(o,l,c,f,h){var y,_,b,E,C,S,T,M;0===o&&(o=1e-5),b=-27*(f/=o)+(l/=o)*(9*(c/=o)-l*l*2),y=(_=(3*c-l*l)/9)*_*_+(b/=54)*b,h[1]=0,T=l/3,y>0?(C=(C=b+Math.sqrt(y))<0?-Math.pow(-C,1/3):Math.pow(C,1/3),S=(S=b-Math.sqrt(y))<0?-Math.pow(-S,1/3):Math.pow(S,1/3),h[0]=-T+C+S,h[4]=h[2]=-(T+=(C+S)/2),T=Math.sqrt(3)*(-S+C)/2,h[3]=T,h[5]=-T):(h[5]=h[3]=0,0===y?(M=b<0?-Math.pow(-b,1/3):Math.pow(b,1/3),h[0]=2*M-T,h[4]=h[2]=-(M+T)):(E=(_=-_)*_*_,E=Math.acos(b/Math.sqrt(E)),M=2*Math.sqrt(_),h[0]=-T+M*Math.cos(E/3),h[2]=-T+M*Math.cos((E+2*Math.PI)/3),h[4]=-T+M*Math.cos((E+4*Math.PI)/3)))}(1*c*c-4*c*h+2*c*y+4*h*h-4*h*y+y*y+f*f-4*f*g+2*f*_+4*g*g-4*g*_+_*_,9*c*h-3*c*c-3*c*y-6*h*h+3*h*y+9*f*g-3*f*f-3*f*_-6*g*g+3*g*_,3*c*c-6*c*h+c*y-c*o+2*h*h+2*h*o-y*o+3*f*f-6*f*g+f*_-f*l+2*g*g+2*g*l-_*l,1*c*h-c*c+c*o-h*o+f*g-f*f+f*l-g*l,T);for(var P=[],k=0;k<6;k+=2)Math.abs(T[k+1])<1e-7&&T[k]>=0&&T[k]<=1&&P.push(T[k]);P.push(1),P.push(0);for(var F,L,$,O=-1,K=0;K<P.length;K++)F=Math.pow(1-P[K],2)*c+2*(1-P[K])*P[K]*h+P[K]*P[K]*y,L=Math.pow(1-P[K],2)*f+2*(1-P[K])*P[K]*g+P[K]*P[K]*_,$=Math.pow(F-o,2)+Math.pow(L-l,2),O>=0?$<O&&(O=$):O=$;return O},ac=function(o,l,c,f,h,g){var y=[o-c,l-f],_=[h-c,g-f],b=_[0]*_[0]+_[1]*_[1],E=y[0]*y[0]+y[1]*y[1],C=y[0]*_[0]+y[1]*_[1],S=C*C/b;return C<0?E:S>b?(o-h)*(o-h)+(l-g)*(l-g):E-S},mi=function(o,l,c){for(var f,h,g,y,b=0,E=0;E<c.length/2;E++)if(h=c[2*E+1],E+1<c.length/2?(g=c[2*(E+1)],y=c[2*(E+1)+1]):(g=c[2*(E+1-c.length/2)],y=c[2*(E+1-c.length/2)+1]),(f=c[2*E])!=o||g!=o){if(!(f>=o&&o>=g||f<=o&&o<=g))continue;(o-f)/(g-f)*(y-h)+h>l&&b++}return b%2!=0},Uo=function(o,l,c,f,h,g,y,_,b){var C,P,E=new Array(c.length);null!=_[0]?(C=Math.atan(_[1]/_[0]),_[0]<0?C+=Math.PI/2:C=-C-Math.PI/2):C=_;for(var S=Math.cos(-C),T=Math.sin(-C),M=0;M<E.length/2;M++)E[2*M]=g/2*(c[2*M]*S-c[2*M+1]*T),E[2*M+1]=y/2*(c[2*M+1]*S+c[2*M]*T),E[2*M]+=f,E[2*M+1]+=h;if(b>0){var k=pn(E,-b);P=lc(k)}else P=E;return mi(o,l,P)},lc=function(o){for(var y,_,b,E,l=new Array(o.length/2),C=0;C<o.length/4;C++){C<o.length/4-1?(y=o[4*(C+1)],_=o[4*(C+1)+1],b=o[4*(C+1)+2],E=o[4*(C+1)+3]):(y=o[0],_=o[1],b=o[2],E=o[3]);var S=Na(o[4*C],o[4*C+1],o[4*C+2],o[4*C+3],y,_,b,E,!0);l[2*C]=S[0],l[2*C+1]=S[1]}return l},pn=function(o,l){for(var f,h,g,y,c=new Array(2*o.length),_=0;_<o.length/2;_++){_<o.length/2-1?(g=o[2*(_+1)],y=o[2*(_+1)+1]):(g=o[0],y=o[1]);var b=y-(h=o[2*_+1]),E=-(g-(f=o[2*_])),C=Math.sqrt(b*b+E*E),S=b/C,T=E/C;c[4*_]=f+S*l,c[4*_+1]=h+T*l,c[4*_+2]=g+S*l,c[4*_+3]=y+T*l}return c},Oa=function(o,l,c,f,h,g,y){return o-=h,l-=g,(o/=c/2+y)*o+(l/=f/2+y)*l<=1},or=function(o,l,c,f,h,g,y){var _=[c-o,f-l],b=[o-h,l-g],E=_[0]*_[0]+_[1]*_[1],C=2*(b[0]*_[0]+b[1]*_[1]),T=C*C-4*E*(b[0]*b[0]+b[1]*b[1]-y*y);if(T<0)return[];var M=(-C+Math.sqrt(T))/(2*E),P=(-C-Math.sqrt(T))/(2*E),k=Math.min(M,P),O=Math.max(M,P),F=[];if(k>=0&&k<=1&&F.push(k),O>=0&&O<=1&&F.push(O),0===F.length)return[];var L=F[0]*_[0]+o,$=F[0]*_[1]+l;return F.length>1?F[0]==F[1]?[L,$]:[L,$,F[1]*_[0]+o,F[1]*_[1]+l]:[L,$]},Cd=function(o,l,c){return l<=o&&o<=c||c<=o&&o<=l?o:o<=l&&l<=c||c<=l&&l<=o?l:c},Na=function(o,l,c,f,h,g,y,_,b){var E=o-h,C=c-o,S=y-h,T=l-g,M=f-l,P=_-g,k=S*T-P*E,O=C*T-M*E,F=P*C-S*M;if(0!==F){var L=k/F,$=O/F,X=-.001;return X<=L&&L<=1.001&&X<=$&&$<=1.001||b?[o+L*C,l+L*M]:[]}return 0===k||0===O?Cd(o,c,y)===y?[y,_]:Cd(o,c,h)===h?[h,g]:Cd(h,y,c)===c?[c,f]:[]:[]},In=function(o,l,c,f,h,g,y,_){var E,T,b=[],C=new Array(c.length),S=!0;if(null==g&&(S=!1),S){for(var M=0;M<C.length/2;M++)C[2*M]=c[2*M]*g+f,C[2*M+1]=c[2*M+1]*y+h;if(_>0){var P=pn(C,-_);T=lc(P)}else T=C}else T=c;for(var F,L,$=0;$<T.length/2;$++)$<T.length/2-1?(F=T[2*($+1)],L=T[2*($+1)+1]):(F=T[0],L=T[1]),0!==(E=Na(o,l,f,h,T[2*$],T[2*$+1],F,L)).length&&b.push(E[0],E[1]);return b},uc=function(o,l,c){var f=[o[0]-l[0],o[1]-l[1]],h=Math.sqrt(f[0]*f[0]+f[1]*f[1]),g=(h-c)/h;return g<0&&(g=1e-5),[l[0]+g*f[0],l[1]+g*f[1]]},bn=function(o,l){var c=fu(o,l);return ns(c)},ns=function(o){for(var l,c,f=o.length/2,h=1/0,g=1/0,y=-1/0,_=-1/0,b=0;b<f;b++)l=o[2*b],c=o[2*b+1],h=Math.min(h,l),y=Math.max(y,l),g=Math.min(g,c),_=Math.max(_,c);for(var E=2/(y-h),C=2/(_-g),S=0;S<f;S++)l=o[2*S]=o[2*S]*E,c=o[2*S+1]=o[2*S+1]*C,h=Math.min(h,l),y=Math.max(y,l),g=Math.min(g,c),_=Math.max(_,c);if(g<-1)for(var T=0;T<f;T++)c=o[2*T+1]=o[2*T+1]+(-1-g);return o},fu=function(o,l){var c=1/o*2*Math.PI,f=o%2==0?Math.PI/2+c/2:Math.PI/2;f+=l;for(var g,h=new Array(2*o),y=0;y<o;y++)g=y*c+f,h[2*y]=Math.cos(g),h[2*y+1]=Math.sin(-g);return h},vl=function(o,l){return Math.min(o/4,l/4,8)},cc=function(o,l){return Math.min(o/10,l/10,8)},Up=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},jm=Wr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),th={pageRank:function(o){for(var l=jm(o),c=l.dampingFactor,f=l.precision,h=l.iterations,g=l.weight,y=this._private.cy,_=this.byGroup(),b=_.nodes,E=_.edges,C=b.length,T=E.length,M=new Array(C*C),P=new Array(C),k=(1-c)/C,O=0;O<C;O++){for(var F=0;F<C;F++)M[O*C+F]=0;P[O]=0}for(var $=0;$<T;$++){var K=E[$],X=K.data("source"),z=K.data("target");if(X!==z){var Y=b.indexOfId(X),j=b.indexOfId(z),ee=g(K);M[j*C+Y]+=ee,P[Y]+=ee}}for(var W=1/C+k,oe=0;oe<C;oe++)if(0===P[oe])for(var Q=0;Q<C;Q++)M[Q*C+oe]=W;else for(var se=0;se<C;se++){var ie=se*C+oe;M[ie]=M[ie]/P[oe]+k}for(var ke,me=new Array(C),_e=new Array(C),ge=0;ge<C;ge++)me[ge]=1;for(var Ie=0;Ie<h;Ie++){for(var $e=0;$e<C;$e++)_e[$e]=0;for(var qe=0;qe<C;qe++)for(var He=0;He<C;He++)_e[qe]+=M[qe*C+He]*me[He];Yy(_e),ke=me,me=_e,_e=ke;for(var ye=0,Ye=0;Ye<C;Ye++){var Qe=ke[Ye]-me[Ye];ye+=Qe*Qe}if(ye<f)break}return{rank:function(Ot){return Ot=y.collection(Ot)[0],me[b.indexOf(Ot)]}}}},hu=Wr({root:null,weight:function(o){return 1},directed:!1,alpha:0}),Ss={degreeCentralityNormalized:function(o){o=hu(o);var l=this.cy(),c=this.nodes(),f=c.length;if(o.directed){for(var E={},C={},S=0,T=0,M=0;M<f;M++){var P=c[M],k=P.id();o.root=P;var O=this.degreeCentrality(o);S<O.indegree&&(S=O.indegree),T<O.outdegree&&(T=O.outdegree),E[k]=O.indegree,C[k]=O.outdegree}return{indegree:function(L){return 0==S?0:(st(L)&&(L=l.filter(L)),E[L.id()]/S)},outdegree:function(L){return 0===T?0:(st(L)&&(L=l.filter(L)),C[L.id()]/T)}}}for(var h={},g=0,y=0;y<f;y++){var _=c[y];o.root=_;var b=this.degreeCentrality(o);g<b.degree&&(g=b.degree),h[_.id()]=b.degree}return{degree:function(L){return 0===g?0:(st(L)&&(L=l.filter(L)),h[L.id()]/g)}}},degreeCentrality:function(o){o=hu(o);var l=this.cy(),c=this,h=o.root,g=o.weight,y=o.directed,_=o.alpha;if(h=l.collection(h)[0],y){for(var T=h.connectedEdges(),M=T.filter(function(X){return X.target().same(h)&&c.has(X)}),P=T.filter(function(X){return X.source().same(h)&&c.has(X)}),k=M.length,O=P.length,F=0,L=0,$=0;$<M.length;$++)F+=g(M[$]);for(var K=0;K<P.length;K++)L+=g(P[K]);return{indegree:Math.pow(k,1-_)*Math.pow(F,_),outdegree:Math.pow(O,1-_)*Math.pow(L,_)}}for(var b=h.connectedEdges().intersection(c),E=b.length,C=0,S=0;S<b.length;S++)C+=g(b[S]);return{degree:Math.pow(E,1-_)*Math.pow(C,_)}}};Ss.dc=Ss.degreeCentrality,Ss.dcn=Ss.degreeCentralityNormalised=Ss.degreeCentralityNormalized;var dc=Wr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ms={closenessCentralityNormalized:function(o){for(var l=dc(o),c=l.harmonic,f=l.weight,h=l.directed,g=this.cy(),y={},_=0,b=this.nodes(),E=this.floydWarshall({weight:f,directed:h}),C=0;C<b.length;C++){for(var S=0,T=b[C],M=0;M<b.length;M++)if(C!==M){var P=E.distance(T,b[M]);S+=c?1/P:P}c||(S=1/S),_<S&&(_=S),y[T.id()]=S}return{closeness:function(O){return 0==_?0:(O=st(O)?g.filter(O)[0].id():O.id(),y[O]/_)}}},closenessCentrality:function(o){var l=dc(o),c=l.root,f=l.weight,h=l.directed,g=l.harmonic;c=this.filter(c)[0];for(var y=this.dijkstra({root:c,weight:f,directed:h}),_=0,b=this.nodes(),E=0;E<b.length;E++){var C=b[E];if(!C.same(c)){var S=y.distanceTo(C);_+=g?1/S:S}}return g?_:1/_}};Ms.cc=Ms.closenessCentrality,Ms.ccn=Ms.closenessCentralityNormalised=Ms.closenessCentralityNormalized;var nh=Wr({weight:null,directed:!1}),fc={betweennessCentrality:function(o){for(var l=nh(o),c=l.directed,f=l.weight,h=null!=f,g=this.cy(),y=this.nodes(),_={},b={},E=0,C={set:function(L,$){b[L]=$,$>E&&(E=$)},get:function(L){return b[L]}},S=0;S<y.length;S++){var T=y[S],M=T.id();_[M]=c?T.outgoers().nodes():T.openNeighborhood().nodes(),C.set(M,0)}for(var P=function(L){for(var $=y[L].id(),K=[],X={},z={},Y={},j=new St.default(function(He,Ue){return Y[He]-Y[Ue]}),ee=0;ee<y.length;ee++){var te=y[ee].id();X[te]=[],z[te]=0,Y[te]=1/0}for(z[$]=1,Y[$]=0,j.push($);!j.empty();){var W=j.pop();if(K.push(W),h)for(var oe=0;oe<_[W].length;oe++){var se,Q=_[W][oe],de=g.getElementById(W);se=de.edgesTo(Q).length>0?de.edgesTo(Q)[0]:Q.edgesTo(de)[0];var ie=f(se);Q=Q.id(),Y[Q]>Y[W]+ie&&(Y[Q]=Y[W]+ie,j.nodes.indexOf(Q)<0?j.push(Q):j.updateItem(Q),z[Q]=0,X[Q]=[]),Y[Q]==Y[W]+ie&&(z[Q]=z[Q]+z[W],X[Q].push(W))}else for(var me=0;me<_[W].length;me++){var _e=_[W][me].id();Y[_e]==1/0&&(j.push(_e),Y[_e]=Y[W]+1),Y[_e]==Y[W]+1&&(z[_e]=z[_e]+z[W],X[_e].push(W))}}for(var ke={},ge=0;ge<y.length;ge++)ke[y[ge].id()]=0;for(;K.length>0;){for(var Ie=K.pop(),$e=0;$e<X[Ie].length;$e++){var qe=X[Ie][$e];ke[qe]=ke[qe]+z[qe]/z[Ie]*(1+ke[Ie])}Ie!=y[L].id()&&C.set(Ie,C.get(Ie)+ke[Ie])}},k=0;k<y.length;k++)P(k);var O={betweenness:function(L){var $=g.collection(L).id();return C.get($)},betweennessNormalized:function(L){if(0==E)return 0;var $=g.collection(L).id();return C.get($)/E}};return O.betweennessNormalised=O.betweennessNormalized,O}};fc.bc=fc.betweennessCentrality;var jp=Wr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(a){return 1}]}),Fa=function(o,l){for(var c=0,f=0;f<l.length;f++)c+=l[f](o);return c},na=function(o,l){for(var c,f=0;f<l;f++){c=0;for(var h=0;h<l;h++)c+=o[h*l+f];for(var g=0;g<l;g++)o[g*l+f]=o[g*l+f]/c}},qp=function(o,l,c){for(var f=new Array(c*c),h=0;h<c;h++){for(var g=0;g<c;g++)f[h*c+g]=0;for(var y=0;y<c;y++)for(var _=0;_<c;_++)f[h*c+_]+=o[h*c+y]*l[y*c+_]}return f},Ze=function(o,l,c){for(var f=o.slice(0),h=1;h<c;h++)o=qp(o,f,l);return o},Sd=function(o,l,c){for(var f=new Array(l*l),h=0;h<l*l;h++)f[h]=Math.pow(o[h],c);return na(f,l),f},at=function(o,l,c,f){for(var h=0;h<c;h++)if(Math.round(o[h]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(l[h]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Md=function(o,l){for(var c=0;c<o.length;c++)if(!l[c]||o[c].id()!==l[c].id())return!1;return!0},Wp=function(o){for(var l=this.nodes(),c=this.edges(),f=this.cy(),h=function(o){return jp(o)}(o),g={},y=0;y<l.length;y++)g[l[y].id()]=y;for(var C,_=l.length,b=_*_,E=new Array(b),S=0;S<b;S++)E[S]=0;for(var T=0;T<c.length;T++){var M=c[T],P=g[M.source().id()],k=g[M.target().id()],O=Fa(M,h.attributes);E[P*_+k]+=O,E[k*_+P]+=O}(function(o,l,c){for(var f=0;f<l;f++)o[f*l+f]=c})(E,_,h.multFactor),na(E,_);for(var F=!0,L=0;F&&L<h.maxIterations;)F=!1,C=Ze(E,_,h.expandFactor),E=Sd(C,_,h.inflateFactor),at(E,C,b,4)||(F=!0),L++;var $=function(o,l,c,f){for(var h=[],g=0;g<l;g++){for(var y=[],_=0;_<l;_++)Math.round(1e3*o[g*l+_])/1e3>0&&y.push(c[_]);0!==y.length&&h.push(f.collection(y))}return h}(E,_,l,f);return $=function(o){for(var l=0;l<o.length;l++)for(var c=0;c<o.length;c++)l!=c&&Md(o[l],o[c])&&o.splice(c,1);return o}($),$},Gm={markovClustering:Wp,mcl:Wp},qm=function(o){return o},Ts=function(o,l){return Math.abs(l-o)},Is=function(o,l,c){return o+Ts(l,c)},To=function(o,l,c){return o+Math.pow(c-l,2)},As=function(o){return Math.sqrt(o)},Ln=function(o,l,c){return Math.max(o,Ts(l,c))},ra=function(o,l,c,f,h){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qm,y=f,E=0;E<o;E++)y=h(y,l(E),c(E));return g(y)},Yi={euclidean:function(o,l,c){return o>=2?ra(o,l,c,0,To,As):ra(o,l,c,0,Is)},squaredEuclidean:function(o,l,c){return ra(o,l,c,0,To)},manhattan:function(o,l,c){return ra(o,l,c,0,Is)},max:function(o,l,c){return ra(o,l,c,-1/0,Ln)}};function ia(a,o,l,c,f,h){var g;return g=Wn(a)?a:Yi[a]||Yi.euclidean,0===o&&Wn(a)?g(f,h):g(o,l,c,f,h)}Yi["squared-euclidean"]=Yi.squaredEuclidean,Yi.squaredeuclidean=Yi.squaredEuclidean;var Kp=Wr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),rs=function(o){return Kp(o)},La=function(o,l,c,f,h){var y="kMedoids"!==h?function(C){return c[C]}:function(C){return f[C](c)};return ia(o,f.length,y,function(S){return f[S](l)},c,l)},oa=function(o,l,c){for(var f=c.length,h=new Array(f),g=new Array(f),y=new Array(l),_=null,b=0;b<f;b++)h[b]=o.min(c[b]).value,g[b]=o.max(c[b]).value;for(var E=0;E<l;E++){_=[];for(var C=0;C<f;C++)_[C]=Math.random()*(g[C]-h[C])+h[C];y[E]=_}return y},Io=function(o,l,c,f,h){for(var g=1/0,y=0,_=0;_<l.length;_++){var b=La(c,o,l[_],f,h);b<g&&(g=b,y=_)}return y},gc=function(o,l,c){for(var f=[],h=null,g=0;g<l.length;g++)c[(h=l[g]).id()]===o&&f.push(h);return f},Zp=function(o,l,c){return Math.abs(l-o)<=c},Yp=function(o,l,c){for(var f=0;f<o.length;f++)for(var h=0;h<o[f].length;h++)if(Math.abs(o[f][h]-l[f][h])>c)return!1;return!0},mc=function(o,l,c){for(var f=0;f<c;f++)if(o===l[f])return!0;return!1},ih=function(o,l){var c=new Array(l);if(o.length<50)for(var f=0;f<l;f++){for(var h=o[Math.floor(Math.random()*o.length)];mc(h,c,f);)h=o[Math.floor(Math.random()*o.length)];c[f]=h}else for(var g=0;g<l;g++)c[g]=o[Math.floor(Math.random()*o.length)];return c},oh=function(o,l,c){for(var f=0,h=0;h<l.length;h++)f+=La("manhattan",l[h],o,c,"kMedoids");return f},Ve=function(o,l,c,f,h){for(var g,y,_=0;_<l.length;_++)for(var b=0;b<o.length;b++)f[_][b]=Math.pow(c[_][b],h.m);for(var E=0;E<o.length;E++)for(var C=0;C<h.attributes.length;C++){g=0,y=0;for(var S=0;S<l.length;S++)g+=f[S][E]*h.attributes[C](l[S]),y+=f[S][E];o[E][C]=g/y}},Ce=function(o,l,c,f,h){for(var g=0;g<o.length;g++)l[g]=o[g].slice();for(var y,_,b,E=2/(h.m-1),C=0;C<c.length;C++)for(var S=0;S<f.length;S++){y=0;for(var T=0;T<c.length;T++)_=La(h.distance,f[S],c[C],h.attributes,"cmeans"),b=La(h.distance,f[S],c[T],h.attributes,"cmeans"),y+=Math.pow(_/b,E);o[S][C]=1/y}},sn=function(o){var h,g,y,_,b,l=this.cy(),c=this.nodes(),f=rs(o);_=new Array(c.length);for(var E=0;E<c.length;E++)_[E]=new Array(f.k);y=new Array(c.length);for(var C=0;C<c.length;C++)y[C]=new Array(f.k);for(var S=0;S<c.length;S++){for(var T=0,M=0;M<f.k;M++)y[S][M]=Math.random(),T+=y[S][M];for(var P=0;P<f.k;P++)y[S][P]=y[S][P]/T}g=new Array(f.k);for(var k=0;k<f.k;k++)g[k]=new Array(f.attributes.length);b=new Array(c.length);for(var O=0;O<c.length;O++)b[O]=new Array(f.k);for(var F=!0,L=0;F&&L<f.maxIterations;)F=!1,Ve(g,c,y,b,f),Ce(y,_,g,c,f),Yp(y,_,f.sensitivityThreshold)||(F=!0),L++;return h=function(o,l,c,f){for(var h=new Array(c.k),g=0;g<h.length;g++)h[g]=[];for(var y,_,b=0;b<l.length;b++){y=-1/0,_=-1;for(var E=0;E<l[0].length;E++)l[b][E]>y&&(y=l[b][E],_=E);h[_].push(o[b])}for(var C=0;C<h.length;C++)h[C]=f.collection(h[C]);return h}(c,y,f,l),{clusters:h,degreeOfMembership:y}},Kn={kMeans:function(o){var _,l=this.cy(),c=this.nodes(),f=null,h=rs(o),g=new Array(h.k),y={};_=h.testMode?"number"==typeof h.testCentroids?oa(c,h.k,h.attributes):"object"===vn(h.testCentroids)?h.testCentroids:oa(c,h.k,h.attributes):oa(c,h.k,h.attributes);for(var b=!0,E=0;b&&E<h.maxIterations;){for(var C=0;C<c.length;C++)y[(f=c[C]).id()]=Io(f,_,h.distance,h.attributes,"kMeans");b=!1;for(var S=0;S<h.k;S++){var T=gc(S,c,y);if(0!==T.length){for(var M=h.attributes.length,P=_[S],k=new Array(M),O=new Array(M),F=0;F<M;F++){O[F]=0;for(var L=0;L<T.length;L++)O[F]+=h.attributes[F](f=T[L]);k[F]=O[F]/T.length,Zp(k[F],P[F],h.sensitivityThreshold)||(b=!0)}_[S]=k,g[S]=l.collection(T)}}E++}return g},kMedoids:function(o){var y,b,l=this.cy(),c=this.nodes(),f=null,h=rs(o),g=new Array(h.k),_={},E=new Array(h.k);h.testMode?"number"==typeof h.testCentroids||(y="object"===vn(h.testCentroids)?h.testCentroids:ih(c,h.k)):y=ih(c,h.k);for(var C=!0,S=0;C&&S<h.maxIterations;){for(var T=0;T<c.length;T++)_[(f=c[T]).id()]=Io(f,y,h.distance,h.attributes,"kMedoids");C=!1;for(var M=0;M<y.length;M++){var P=gc(M,c,_);if(0!==P.length){E[M]=oh(y[M],P,h.attributes);for(var k=0;k<P.length;k++)(b=oh(P[k],P,h.attributes))<E[M]&&(E[M]=b,y[M]=P[k],C=!0);g[M]=l.collection(P)}}S++}return g},fuzzyCMeans:sn,fcm:sn},ai=Wr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),mr={single:"min",complete:"max"},Qp=function(o,l,c,f,h){for(var _,g=0,y=1/0,b=h.attributes,E=function(j,ee){return ia(h.distance,b.length,function(te){return b[te](j)},function(te){return b[te](ee)},j,ee)},C=0;C<o.length;C++){var S=o[C].key,T=c[S][f[S]];T<y&&(g=S,y=T)}if("threshold"===h.mode&&y>=h.threshold||"dendrogram"===h.mode&&1===o.length)return!1;var k,M=l[g],P=l[f[g]];k="dendrogram"===h.mode?{left:M,right:P,key:M.key}:{value:M.value.concat(P.value),key:M.key},o[M.index]=k,o.splice(P.index,1),l[M.key]=k;for(var O=0;O<o.length;O++){var F=o[O];M.key===F.key?_=1/0:"min"===h.linkage?(_=c[M.key][F.key],c[M.key][F.key]>c[P.key][F.key]&&(_=c[P.key][F.key])):"max"===h.linkage?(_=c[M.key][F.key],c[M.key][F.key]<c[P.key][F.key]&&(_=c[P.key][F.key])):_="mean"===h.linkage?(c[M.key][F.key]*M.size+c[P.key][F.key]*P.size)/(M.size+P.size):"dendrogram"===h.mode?E(F.value,M.value):E(F.value[0],M.value[0]),c[M.key][F.key]=c[F.key][M.key]=_}for(var L=0;L<o.length;L++){var $=o[L].key;if(f[$]===M.key||f[$]===P.key){for(var K=$,X=0;X<o.length;X++){var z=o[X].key;c[$][z]<c[$][K]&&(K=z)}f[$]=K}o[L].index=L}return M.key=P.key=M.index=P.index=null,!0},Li=function a(o,l,c){o&&(o.value?l.push(o.value):(o.left&&a(o.left,l),o.right&&a(o.right,l)))},Id=function a(o,l){if(!o)return"";if(o.left&&o.right){var c=a(o.left,l),f=a(o.right,l),h=l.add({group:"nodes",data:{id:c+","+f}});return l.add({group:"edges",data:{source:c,target:h.id()}}),l.add({group:"edges",data:{source:f,target:h.id()}}),h.id()}return o.value?o.value.id():void 0},Wm=function a(o,l,c){if(!o)return[];var f=[],h=[],g=[];return 0===l?(o.left&&Li(o.left,f),o.right&&Li(o.right,h),g=f.concat(h),[c.collection(g)]):1===l?o.value?[c.collection(o.value)]:(o.left&&Li(o.left,f),o.right&&Li(o.right,h),[c.collection(f),c.collection(h)]):o.value?[c.collection(o.value)]:(o.left&&(f=a(o.left,l-1,c)),o.right&&(h=a(o.right,l-1,c)),f.concat(h))},yl=function(o){for(var l=this.cy(),c=this.nodes(),f=function(o){var l=ai(o),c=mr[l.linkage];return null!=c&&(l.linkage=c),l}(o),h=f.attributes,g=function(L,$){return ia(f.distance,h.length,function(K){return h[K](L)},function(K){return h[K]($)},L,$)},y=[],_=[],b=[],E=[],C=0;C<c.length;C++){var S={value:"dendrogram"===f.mode?c[C]:[c[C]],key:C,index:C};y[C]=S,E[C]=S,_[C]=[],b[C]=0}for(var T=0;T<y.length;T++)for(var M=0;M<=T;M++){var P;P="dendrogram"===f.mode?T===M?1/0:g(y[T].value,y[M].value):T===M?1/0:g(y[T].value[0],y[M].value[0]),_[T][M]=P,_[M][T]=P,P<_[T][b[T]]&&(b[T]=M)}for(var k=Qp(y,E,_,b,f);k;)k=Qp(y,E,_,b,f);var O;return"dendrogram"===f.mode?(O=Wm(y[0],f.dendrogramDepth,l),f.addDendrogram&&Id(y[0],l)):(O=new Array(y.length),y.forEach(function(F,L){F.key=F.index=null,O[L]=l.collection(F.value)})),O},sa={hierarchicalClustering:yl,hca:yl},Ad=Wr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Km=function(o,l,c,f){var h=function(y,_){return f[_](y)};return-ia(o,f.length,function(g){return h(l,g)},function(g){return h(c,g)},l,c)},ah=function(o,l,c){for(var f=[],h=0;h<o;h++){for(var g=-1,y=-1/0,_=0;_<c.length;_++){var b=c[_];l[h*o+b]>y&&(g=b,y=l[h*o+b])}g>0&&f.push(g)}for(var E=0;E<c.length;E++)f[c[E]]=c[E];return f},Qi=function(o){for(var l=this.cy(),c=this.nodes(),f=function(o){var l=o.damping,c=o.preference;.5<=l&&l<1||Xn("Damping must range on [0.5, 1).  Got: ".concat(l));var f=["median","mean","min","max"];return f.some(function(h){return h===c})||ht(c)||Xn("Preference must be one of [".concat(f.map(function(h){return"'".concat(h,"'")}).join(", "),"] or a number.  Got: ").concat(c)),Ad(o)}(o),h={},g=0;g<c.length;g++)h[c[g].id()]=g;var y,_,b,E,C,S,j;_=(y=c.length)*y,b=new Array(_);for(var T=0;T<_;T++)b[T]=-1/0;for(var M=0;M<y;M++)for(var P=0;P<y;P++)M!==P&&(b[M*y+P]=Km(f.distance,c[M],c[P],f.attributes));E=function(o,l){var c;return c="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(c<o.length&&o.splice(c,o.length-c),l>0&&o.splice(0,l)):o=o.slice(l,c);for(var y=0,_=o.length-1;_>=0;_--)g?isFinite(o[_])||(o[_]=-1/0,y++):o.splice(_,1);h&&o.sort(function(S,T){return S-T});var E=o.length,C=Math.floor(E/2);return E%2!=0?o[C+1+y]:(o[C-1+y]+o[C+y])/2}(o):"mean"===l?function(o){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=0,h=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<c;g++){var y=o[g];isFinite(y)&&(f+=y,h++)}return f/h}(o):"min"===l?function(o){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<c;h++){var g=o[h];isFinite(g)&&(f=Math.min(g,f))}return f}(o):"max"===l?function(o){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=-1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<c;h++){var g=o[h];isFinite(g)&&(f=Math.max(g,f))}return f}(o):l,c}(b,f.preference);for(var k=0;k<y;k++)b[k*y+k]=E;C=new Array(_);for(var O=0;O<_;O++)C[O]=0;S=new Array(_);for(var F=0;F<_;F++)S[F]=0;for(var L=new Array(y),$=new Array(y),K=new Array(y),X=0;X<y;X++)L[X]=0,$[X]=0,K[X]=0;for(var z=new Array(y*f.minIterations),Y=0;Y<z.length;Y++)z[Y]=0;for(j=0;j<f.maxIterations;j++){for(var ee=0;ee<y;ee++){for(var te=-1/0,W=-1/0,oe=-1,Q=0,de=0;de<y;de++)L[de]=C[ee*y+de],(Q=S[ee*y+de]+b[ee*y+de])>=te?(W=te,te=Q,oe=de):Q>W&&(W=Q);for(var se=0;se<y;se++)C[ee*y+se]=(1-f.damping)*(b[ee*y+se]-te)+f.damping*L[se];C[ee*y+oe]=(1-f.damping)*(b[ee*y+oe]-W)+f.damping*L[oe]}for(var ie=0;ie<y;ie++){for(var me=0,_e=0;_e<y;_e++)L[_e]=S[_e*y+ie],$[_e]=Math.max(0,C[_e*y+ie]),me+=$[_e];me-=$[ie],$[ie]=C[ie*y+ie],me+=$[ie];for(var ke=0;ke<y;ke++)S[ke*y+ie]=(1-f.damping)*Math.min(0,me-$[ke])+f.damping*L[ke];S[ie*y+ie]=(1-f.damping)*(me-$[ie])+f.damping*L[ie]}for(var ge=0,Ie=0;Ie<y;Ie++){var $e=S[Ie*y+Ie]+C[Ie*y+Ie]>0?1:0;z[j%f.minIterations*y+Ie]=$e,ge+=$e}if(ge>0&&(j>=f.minIterations-1||j==f.maxIterations-1)){for(var qe=0,He=0;He<y;He++){K[He]=0;for(var Ue=0;Ue<f.minIterations;Ue++)K[He]+=z[Ue*y+He];(0===K[He]||K[He]===f.minIterations)&&qe++}if(qe===y)break}}for(var ye=function(o,l,c){for(var f=[],h=0;h<o;h++)l[h*o+h]+c[h*o+h]>0&&f.push(h);return f}(y,C,S),Ye=function(o,l,c){for(var f=ah(o,l,c),h=0;h<c.length;h++){for(var g=[],y=0;y<f.length;y++)f[y]===c[h]&&g.push(y);for(var _=-1,b=-1/0,E=0;E<g.length;E++){for(var C=0,S=0;S<g.length;S++)C+=l[g[S]*o+g[E]];C>b&&(_=E,b=C)}c[h]=g[_]}return ah(o,l,c)}(y,b,ye),Qe={},je=0;je<ye.length;je++)Qe[ye[je]]=[];for(var rt=0;rt<c.length;rt++){var Ht=Ye[h[c[rt].id()]];null!=Ht&&Qe[Ht].push(c[rt])}for(var Be=new Array(ye.length),ut=0;ut<ye.length;ut++)Be[ut]=l.collection(Qe[ye[ut]]);return Be},An={affinityPropagation:Qi,ap:Qi},Rr=Wr({root:void 0,directed:!1}),vi={hierholzer:function(o){if(!Mt(o)){var l=arguments;o={root:l[0],directed:l[1]}}var _,b,E,c=Rr(o),f=c.root,h=c.directed,g=this,y=!1;f&&(E=st(f)?this.filter(f)[0].id():f[0].id());var C={},S={};g.forEach(h?function(F){var L=F.id();if(F.isNode()){var $=F.indegree(!0),K=F.outdegree(!0),X=$-K,z=K-$;1==X?_?y=!0:_=L:1==z?b?y=!0:b=L:(z>1||X>1)&&(y=!0),C[L]=[],F.outgoers().forEach(function(Y){Y.isEdge()&&C[L].push(Y.id())})}else S[L]=[void 0,F.target().id()]}:function(F){var L=F.id();F.isNode()?(F.degree(!0)%2&&(_?b?y=!0:b=L:_=L),C[L]=[],F.connectedEdges().forEach(function(K){return C[L].push(K.id())})):S[L]=[F.source().id(),F.target().id()]});var T={found:!1,trail:void 0};if(y)return T;if(b&&_)if(h){if(E&&b!=E)return T;E=b}else{if(E&&b!=E&&_!=E)return T;E||(E=b)}else E||(E=g[0].id());var M=function(L){for(var X,z,Y,$=L,K=[L];C[$].length;)X=C[$].shift(),z=S[X][0],$!=(Y=S[X][1])?(C[Y]=C[Y].filter(function(j){return j!=X}),$=Y):!h&&$!=z&&(C[z]=C[z].filter(function(j){return j!=X}),$=z),K.unshift(X),K.unshift($);return K},P=[],k=[];for(k=M(E);1!=k.length;)0==C[k[0]].length?(P.unshift(g.getElementById(k.shift())),P.unshift(g.getElementById(k.shift()))):k=M(k.shift()).concat(k);for(var O in P.unshift(g.getElementById(k.shift())),C)if(C[O].length)return T;return T.found=!0,T.trail=this.spawn(P,!0),T}},Rs=function(){var o=this,l={},c=0,f=0,h=[],g=[],y={},b=function C(S,T,M){S===M&&(f+=1),l[T]={id:c,low:c++,cutVertex:!1};var k,O,F,L,P=o.getElementById(T).connectedEdges().intersection(o);0===P.size()?h.push(o.spawn(o.getElementById(T))):P.forEach(function($){k=$.source().id(),O=$.target().id(),(F=k===T?O:k)!==M&&(L=$.id(),y[L]||(y[L]=!0,g.push({x:T,y:F,edge:$})),F in l?l[T].low=Math.min(l[T].low,l[F].id):(C(S,F,T),l[T].low=Math.min(l[T].low,l[F].low),l[T].id<=l[F].low&&(l[T].cutVertex=!0,function(S,T){for(var M=g.length-1,P=[],k=o.spawn();g[M].x!=S||g[M].y!=T;)P.push(g.pop().edge),M--;P.push(g.pop().edge),P.forEach(function(O){var F=O.connectedNodes().intersection(o);k.merge(O),F.forEach(function(L){var $=L.id(),K=L.connectedEdges().intersection(o);k.merge(L),k.merge(l[$].cutVertex?K.filter(function(X){return X.isLoop()}):K)})}),h.push(k)}(T,F))))})};o.forEach(function(C){if(C.isNode()){var S=C.id();S in l||(f=0,b(S,S),l[S].cutVertex=f>1)}});var E=Object.keys(l).filter(function(C){return l[C].cutVertex}).map(function(C){return o.getElementById(C)});return{cut:o.spawn(E),components:h}},pu=function(){var o=this,l={},c=0,f=[],h=[],g=o.spawn(o),y=function _(b){if(h.push(b),l[b]={index:c,low:c++,explored:!1},o.getElementById(b).connectedEdges().intersection(o).forEach(function(P){var k=P.target().id();k!==b&&(k in l||_(k),l[k].explored||(l[b].low=Math.min(l[b].low,l[k].low)))}),l[b].index===l[b].low){for(var C=o.spawn();;){var S=h.pop();if(C.merge(o.getElementById(S)),l[S].low=l[b].index,l[S].explored=!0,S===b)break}var T=C.edgesWith(C),M=C.merge(T);f.push(M),g=g.difference(M)}};return o.forEach(function(_){if(_.isNode()){var b=_.id();b in l||y(b)}}),{cut:g,components:f}},Ba={};[ea,jt,Zf,lo,Vp,du,nr,th,Ss,Ms,fc,Gm,Kn,sa,An,vi,{hopcroftTarjanBiconnected:Rs,htbc:Rs,htb:Rs,hopcroftTarjanBiconnectedComponents:Rs},{tarjanStronglyConnected:pu,tsc:pu,tscc:pu,tarjanStronglyConnectedComponents:pu}].forEach(function(a){Lt(Ba,a)});var lt=function a(o){if(!(this instanceof a))return new a(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};lt.prototype={fulfill:function(o){return un(this,1,"fulfillValue",o)},reject:function(o){return un(this,2,"rejectReason",o)},then:function(o,l){var c=this,f=new lt;return c.onFulfilled.push(aa(o,f,"fulfill")),c.onRejected.push(aa(l,f,"reject")),Mr(c),f.proxy}};var un=function(o,l,c,f){return 0===o.state&&(o.state=l,o[c]=f,Mr(o)),o},Mr=function(o){1===o.state?jo(o,"onFulfilled",o.fulfillValue):2===o.state&&jo(o,"onRejected",o.rejectReason)},jo=function(o,l,c){if(0!==o[l].length){var f=o[l];o[l]=[];var h=function(){for(var y=0;y<f.length;y++)f[y](c)};"function"==typeof setImmediate?setImmediate(h):setTimeout(h,0)}},aa=function(o,l,c){return function(f){if("function"!=typeof o)l[c].call(l,f);else{var h;try{h=o(f)}catch(g){return void l.reject(g)}ui(l,h)}}},ui=function a(o,l){if(o!==l&&o.proxy!==l){var c;if("object"===vn(l)&&null!==l||"function"==typeof l)try{c=l.then}catch(h){return void o.reject(h)}if("function"!=typeof c)o.fulfill(l);else{var f=!1;try{c.call(l,function(h){f||(f=!0,h===l?o.reject(new TypeError("circular thenable chain")):a(o,h))},function(h){f||(f=!0,o.reject(h))})}catch(h){f||o.reject(h)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};lt.all=function(a){return new lt(function(o,l){for(var c=new Array(a.length),f=0,h=function(_,b){c[_]=b,++f===a.length&&o(c)},g=0;g<a.length;g++)!function(y){var _=a[y];null!=_&&null!=_.then?_.then(function(C){h(y,C)},function(C){l(C)}):h(y,_)}(g)})},lt.resolve=function(a){return new lt(function(o,l){o(a)})},lt.reject=function(a){return new lt(function(o,l){l(a)})};var Ao=typeof Promise<"u"?Promise:lt,Lr=function(o,l,c){var f=lr(o),h=!f,g=this._private=Lt({duration:1e3},l,c);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&Wn(g.complete)&&g.completes.push(g.complete),h){var y=o.position();g.startPosition=g.startPosition||{x:y.x,y:y.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(f){var _=o.pan();g.startPan={x:_.x,y:_.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},Xi=Lr.prototype;Lt(Xi,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var c=o.target._private.animation;(o.queue?c.queue:c.current).push(this),Kt(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,c=l.playing;return void 0===o?l.progress:(c&&this.pause(),l.progress=o,l.started=!1,c&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var c=function(b,E){var C=o[b];null!=C&&(o[b]=o[E],o[E]=C)};if(c("zoom","startZoom"),c("pan","startPan"),c("position","startPosition"),o.style)for(var f=0;f<o.style.length;f++){var h=o.style[f],g=h.name,y=o.startStyle[g];o.startStyle[g]=h,o.style[f]=y}return l&&this.play(),this},promise:function(o){var c,l=this._private;return c="frame"===o?l.frames:l.completes,new Ao(function(f,h){c.push(function(){f()})})}}),Xi.complete=Xi.completed,Xi.run=Xi.play,Xi.running=Xi.playing;var an={data:function(o){return o=Lt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,h){},onSet:function(f){},canSet:function(f){return!0}},o),function(f,h){var g=o,y=this,_=void 0!==y.length,b=_?y:[y],E=_?y[0]:y;if(st(f)){var T,S=-1!==f.indexOf(".")&&qn.default(f);if(g.allowGetting&&void 0===h)return E&&(g.beforeGet(E),T=S&&void 0===E._private[g.field][f]?Tt.default(E._private[g.field],S):E._private[g.field][f]),T;if(g.allowSetting&&void 0!==h&&!g.immutableKeys[f]){var P=Vn({},f,h);g.beforeSet(y,P);for(var k=0,O=b.length;k<O;k++){var F=b[k];g.canSet(F)&&(S&&void 0===E._private[g.field][f]?kt.default(F._private[g.field],S,h):F._private[g.field][f]=h)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Mt(f)){var $,K,L=f,X=Object.keys(L);g.beforeSet(y,L);for(var z=0;z<X.length;z++)if(K=L[$=X[z]],!g.immutableKeys[$])for(var j=0;j<b.length;j++){var ee=b[j];g.canSet(ee)&&(ee._private[g.field][$]=K)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&Wn(f))y.on(g.bindingEvent,f);else if(g.allowGetting&&void 0===f){var W;return E&&(g.beforeGet(E),W=E._private[g.field]),W}return y}},removeData:function(o){return o=Lt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(f){var h=o,g=this,_=void 0!==g.length?g:[g];if(st(f)){for(var b=f.split(/\s+/),E=b.length,C=0;C<E;C++){var S=b[C];if(!nn(S)&&!h.immutableKeys[S])for(var M=0,P=_.length;M<P;M++)_[M]._private[h.field][S]=void 0}h.triggerEvent&&g[h.triggerFnName](h.event)}else if(void 0===f){for(var k=0,O=_.length;k<O;k++)for(var F=_[k]._private[h.field],L=Object.keys(F),$=0;$<L.length;$++){var K=L[$];!h.immutableKeys[K]&&(F[K]=void 0)}h.triggerEvent&&g[h.triggerFnName](h.event)}return g}}},Br={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(c,f){var h=this,g=Array.prototype.slice.call(arguments,0);return new Ao(function(y,_){var E=g.concat([function(T){h.off.apply(h,C),y(T)}]),C=E.concat([]);h.on.apply(h,E)})}}},on={};[{animated:function(){return function(){var l=this,f=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var g=f[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,f=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<f.length;g++)f[g]._private.animation.queue=[];return this}},delay:function(){return function(l,c){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:c}):this}},delayAnimation:function(){return function(l,c){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:c}):this}},animation:function(){return function(l,c){var f=this,h=void 0!==f.length,g=h?f:[f],y=this._private.cy||this,_=!h,b=!_;if(!y.styleEnabled())return this;var E=y.style();if(l=Lt({},l,c),0===Object.keys(l).length)return new Lr(g[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(b&&(l.style=E.getPropsList(l.style||l.css),l.css=void 0),b&&null!=l.renderedPosition){var S=l.renderedPosition,T=y.pan(),M=y.zoom();l.position=rc(S,M,T)}if(_&&null!=l.panBy){var P=l.panBy,k=y.pan();l.pan={x:k.x+P.x,y:k.y+P.y}}var O=l.center||l.centre;if(_&&null!=O){var F=y.getCenterPan(O.eles,l.zoom);null!=F&&(l.pan=F)}if(_&&null!=l.fit){var L=l.fit,$=y.getFitViewport(L.eles||L.boundingBox,L.padding);null!=$&&(l.pan=$.pan,l.zoom=$.zoom)}if(_&&Mt(l.zoom)){var K=y.getZoomedViewport(l.zoom);null!=K?(K.zoomed&&(l.zoom=K.zoom),K.panned&&(l.pan=K.pan)):l.zoom=null}return new Lr(g[0],l)}},animate:function(){return function(l,c){var f=this,g=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;c&&(l=Lt({},l,c));for(var _=0;_<g.length;_++){var b=g[_],E=b.animated()&&(void 0===l.queue||l.queue);b.animation(l,E?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,c){var f=this,g=void 0!==f.length?f:[f],y=this._private.cy||this;if(!y.styleEnabled())return this;for(var _=0;_<g.length;_++){for(var E=g[_]._private,C=E.animation.current,S=0;S<C.length;S++)c&&(C[S]._private.duration=0);l&&(E.animation.queue=[]),c||(E.animation.current=[])}return y.notify("draw"),this}}},an,Br].forEach(function(a){Lt(on,a)});var vu={animate:on.animate(),animation:on.animation(),animated:on.animated(),clearQueue:on.clearQueue(),delay:on.delay(),delayAnimation:on.delayAnimation(),stop:on.stop()},kr={classes:function(o){var l=this;if(void 0===o){var c=[];return l[0]._private.classes.forEach(function(M){return c.push(M)}),c}Fn(o)||(o=(o||"").match(/\S+/g)||[]);for(var f=[],h=new uu(o),g=0;g<l.length;g++){for(var y=l[g],_=y._private,b=_.classes,E=!1,C=0;C<o.length;C++)if(!b.has(o[C])){E=!0;break}E||(E=b.size!==o.length),E&&(_.classes=h,f.push(y))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){Fn(o)||(o=o.match(/\S+/g)||[]);for(var c=this,f=void 0===l,h=[],g=0,y=c.length;g<y;g++)for(var _=c[g],b=_._private.classes,E=!1,C=0;C<o.length;C++){var S=o[C],T=b.has(S),M=!1;l||f&&!T?(b.add(S),M=!0):(!l||f&&T)&&(b.delete(S),M=!0),!E&&M&&(h.push(_),E=!0)}return h.length>0&&this.spawn(h).updateStyle().emit("class"),c},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var c=this;if(null==l)l=250;else if(0===l)return c;return c.addClass(o),setTimeout(function(){c.removeClass(o)},l),c}};kr.className=kr.classNames=kr.classes;var En={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:ri,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};En.variable="(?:[\\w-.]|(?:\\\\"+En.metaChar+"))+",En.className="(?:[\\w-]|(?:\\\\"+En.metaChar+"))+",En.value=En.string+"|"+En.number,En.id=En.variable,function(){var a,o,l;for(a=En.comparatorOp.split("|"),l=0;l<a.length;l++)En.comparatorOp+="|@"+(o=a[l]);for(a=En.comparatorOp.split("|"),l=0;l<a.length;l++)!((o=a[l]).indexOf("!")>=0)&&"="!==o&&(En.comparatorOp+="|\\!"+o)}();var is=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(a,o){return function(o,l){return-1*fl(o,l)}(a.selector,o.selector)}),kd=function(){for(var o,a={},l=0;l<is.length;l++)a[(o=is[l]).selector]=o.matches;return a}(),ko="("+is.map(function(a){return a.selector}).join("|")+")",uo=function(o){return o.replace(new RegExp("\\\\("+En.metaChar+")","g"),function(l,c){return c})},Ji=function(o,l,c){o[o.length-1]=c},cn=[{name:"group",query:!0,regex:"("+En.group+")",populate:function(o,l,c){var h=yn(c,1)[0];l.checks.push({type:0,value:"*"===h?h:h+"s"})}},{name:"state",query:!0,regex:ko,populate:function(o,l,c){var f=yn(c,1);l.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+En.id+")",populate:function(o,l,c){var f=yn(c,1);l.checks.push({type:8,value:uo(f[0])})}},{name:"className",query:!0,regex:"\\.("+En.className+")",populate:function(o,l,c){var f=yn(c,1);l.checks.push({type:9,value:uo(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+En.variable+")\\s*\\]",populate:function(o,l,c){var f=yn(c,1);l.checks.push({type:4,field:uo(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+En.variable+")\\s*("+En.comparatorOp+")\\s*("+En.value+")\\s*\\]",populate:function(o,l,c){var f=yn(c,3),h=f[0],g=f[1],y=f[2];y=null!=new RegExp("^"+En.string+"$").exec(y)?y.substring(1,y.length-1):parseFloat(y),l.checks.push({type:3,field:uo(h),operator:g,value:y})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+En.boolOp+")\\s*("+En.variable+")\\s*\\]",populate:function(o,l,c){var f=yn(c,2),h=f[0];l.checks.push({type:5,field:uo(f[1]),operator:h})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+En.meta+")\\s*("+En.comparatorOp+")\\s*("+En.number+")\\s*\\]\\]",populate:function(o,l,c){var f=yn(c,3),g=f[1],y=f[2];l.checks.push({type:6,field:uo(f[0]),operator:g,value:parseFloat(y)})}},{name:"nextQuery",separator:!0,regex:En.separator,populate:function(o,l){var c=o.currentSubject,f=o.edgeCount,h=o.compoundCount,g=o[o.length-1];return null!=c&&(g.subject=c,o.currentSubject=null),g.edgeCount=f,g.compoundCount=h,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:En.directedEdge,populate:function(o,l){if(null==o.currentSubject){var c={checks:[]},h={checks:[]};return c.checks.push({type:11,source:l,target:h}),Ji(o,0,c),o.edgeCount++,h}var g={checks:[]},_={checks:[]};return g.checks.push({type:12,source:l,target:_}),Ji(o,0,g),o.edgeCount++,_}},{name:"undirectedEdge",separator:!0,regex:En.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var c={checks:[]},h={checks:[]};return c.checks.push({type:10,nodes:[l,h]}),Ji(o,0,c),o.edgeCount++,h}var g={checks:[]},_={checks:[]};return g.checks.push({type:14,node:l,neighbor:_}),Ji(o,0,g),_}},{name:"child",separator:!0,regex:En.child,populate:function(o,l){if(null==o.currentSubject){var c={checks:[]},f={checks:[]};return c.checks.push({type:15,parent:o[o.length-1],child:f}),Ji(o,0,c),o.compoundCount++,f}if(o.currentSubject===l){var g={checks:[]},_={checks:[]},b={checks:[]},E={checks:[]},C={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:_,subject:b}),b.checks=l.checks,l.checks=[{type:20}],C.checks.push({type:20}),_.checks.push({type:17,parent:C,child:E}),Ji(o,0,g),o.currentSubject=b,o.compoundCount++,E}var S={checks:[]},T={checks:[]},M=[{type:17,parent:S,child:T}];return S.checks=l.checks,l.checks=M,o.compoundCount++,T}},{name:"descendant",separator:!0,regex:En.descendant,populate:function(o,l){if(null==o.currentSubject){var c={checks:[]},f={checks:[]};return c.checks.push({type:16,ancestor:o[o.length-1],descendant:f}),Ji(o,0,c),o.compoundCount++,f}if(o.currentSubject===l){var g={checks:[]},_={checks:[]},b={checks:[]},E={checks:[]},C={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:_,subject:b}),b.checks=l.checks,l.checks=[{type:20}],C.checks.push({type:20}),_.checks.push({type:18,ancestor:C,descendant:E}),Ji(o,0,g),o.currentSubject=b,o.compoundCount++,E}var S={checks:[]},T={checks:[]},M=[{type:18,ancestor:S,descendant:T}];return S.checks=l.checks,l.checks=M,o.compoundCount++,T}},{name:"subject",modifier:!0,regex:En.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return Jt("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var f=o[o.length-1].checks[0],h=null==f?null:f.type;11===h?f.type=13:10===h&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];cn.forEach(function(a){return a.regexObj=new RegExp("^"+a.regex)});var e0=function(o){for(var l,c,f,h=0;h<cn.length;h++){var g=cn[h],y=g.name,_=o.match(g.regexObj);if(null!=_){c=_,l=g,f=y,o=o.substring(_[0].length);break}}return{expr:l,match:c,name:f,remaining:o}},Pd={parse:function(o){var l=this,c=l.inputText=o,f=l[0]={checks:[]};for(l.length=1,c=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(c);;){var h=e0(c);if(null==h.expr)return Jt("The selector `"+o+"`is invalid"),!1;var g=h.match.slice(1),y=h.expr.populate(l,f,g);if(!1===y)return!1;if(null!=y&&(f=y),(c=h.remaining).match(/^\s*$/))break}var _=l[l.length-1];null!=l.currentSubject&&(_.subject=l.currentSubject),_.edgeCount=l.edgeCount,_.compoundCount=l.compoundCount;for(var b=0;b<l.length;b++){var E=l[b];if(E.compoundCount>0&&E.edgeCount>0)return Jt("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(E.edgeCount>1)return Jt("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===E.edgeCount&&Jt("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(E){return E??""},l=function(E){return st(E)?'"'+E+'"':o(E)},c=function(E){return" "+E+" "},h=function(E,C){return E.checks.reduce(function(S,T,M){return S+(C===E&&0===M?"$":"")+function(E,C){var T=E.value;switch(E.type){case 0:var M=o(T);return M.substring(0,M.length-1);case 3:return"["+E.field+c(o(E.operator))+l(T)+"]";case 5:var F=E.field;return"["+o(E.operator)+F+"]";case 4:return"["+E.field+"]";case 6:return"[["+E.field+c(o(E.operator))+l(T)+"]]";case 7:return T;case 8:return"#"+T;case 9:return"."+T;case 17:case 15:return h(E.parent,C)+c(">")+h(E.child,C);case 18:case 16:return h(E.ancestor,C)+" "+h(E.descendant,C);case 19:var X=h(E.left,C),z=h(E.subject,C),Y=h(E.right,C);return X+(X.length>0?" ":"")+z+Y;case 20:return""}}(T,C)},"")},g="",y=0;y<this.length;y++){var _=this[y];g+=h(_,_.subject),this.length>1&&y<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},Ps=function(o,l,c){var f,_,b,h=st(o),g=ht(o),y=st(c),E=!1,C=!1,S=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),C=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),E=!0),(h||y||E)&&(_=h||g?""+o:"",b=""+c),E&&(o=_=_.toLowerCase(),c=b=b.toLowerCase()),l){case"*=":f=_.indexOf(b)>=0;break;case"$=":f=_.indexOf(b,_.length-b.length)>=0;break;case"^=":f=0===_.indexOf(b);break;case"=":f=o===c;break;case">":S=!0,f=o>c;break;case">=":S=!0,f=o>=c;break;case"<":S=!0,f=o<c;break;case"<=":S=!0,f=o<=c;break;default:f=!1}return C&&(null!=o||!S)&&(f=!f),f},H=function(o,l){return o.data(l)},wn=[],Dn=function(o,l){return o.checks.every(function(c){return wn[c.type](c,l)})};wn[0]=function(a,o){var l=a.value;return"*"===l||l===o.group()},wn[7]=function(a,o){return function(o,l){return kd[o](l)}(a.value,o)},wn[8]=function(a,o){var l=a.value;return o.id()===l},wn[9]=function(a,o){return o.hasClass(a.value)},wn[6]=function(a,o){var c=a.operator,f=a.value;return Ps(function(o,l){return o[l]()}(o,a.field),c,f)},wn[3]=function(a,o){var c=a.operator,f=a.value;return Ps(H(o,a.field),c,f)},wn[5]=function(a,o){var c=a.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(H(o,a.field),c)},wn[4]=function(a,o){return function(o){return void 0!==o}(H(o,a.field))},wn[10]=function(a,o){var l=a.nodes[0],c=a.nodes[1],f=o.source(),h=o.target();return Dn(l,f)&&Dn(c,h)||Dn(c,f)&&Dn(l,h)},wn[14]=function(a,o){return Dn(a.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&Dn(a.neighbor,l)})},wn[11]=function(a,o){return Dn(a.source,o.source())&&Dn(a.target,o.target())},wn[12]=function(a,o){return Dn(a.source,o)&&o.outgoers().some(function(l){return l.isNode()&&Dn(a.target,l)})},wn[13]=function(a,o){return Dn(a.target,o)&&o.incomers().some(function(l){return l.isNode()&&Dn(a.source,l)})},wn[15]=function(a,o){return Dn(a.child,o)&&Dn(a.parent,o.parent())},wn[17]=function(a,o){return Dn(a.parent,o)&&o.children().some(function(l){return Dn(a.child,l)})},wn[16]=function(a,o){return Dn(a.descendant,o)&&o.ancestors().some(function(l){return Dn(a.ancestor,l)})},wn[18]=function(a,o){return Dn(a.ancestor,o)&&o.descendants().some(function(l){return Dn(a.descendant,l)})},wn[19]=function(a,o){return Dn(a.subject,o)&&Dn(a.left,o)&&Dn(a.right,o)},wn[20]=function(){return!0},wn[1]=function(a,o){return a.value.has(o)},wn[2]=function(a,o){return(0,a.value)(o)};var os={matches:function(o){for(var c=0;c<this.length;c++)if(Dn(this[c],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var c=function(h){for(var g=0;g<l.length;g++)if(Dn(l[g],h))return!0;return!1};return null==l.text()&&(c=function(){return!0}),o.filter(c)}},Os=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||st(o)&&o.match(/^\s*$/)||(Kt(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):Wn(o)?this.addQuery({checks:[{type:2,value:o}]}):st(o)?this.parse(o)||(this.invalid=!0):Xn("A selector must be created from a string; found "))},co=Os.prototype;[Pd,os].forEach(function(a){return Lt(co,a)}),co.text=function(){return this.inputText},co.size=function(){return this.length},co.eq=function(a){return this[a]},co.sameText=function(a){return!this.invalid&&!a.invalid&&this.text()===a.text()},co.addQuery=function(a){this[this.length++]=a},co.selector=co.toString;var Va={allAre:function(o){var l=new Os(o);return this.every(function(c){return l.matches(c)})},is:function(o){var l=new Os(o);return this.some(function(c){return l.matches(c)})},some:function(o,l){for(var c=0;c<this.length;c++)if(l?o.apply(l,[this[c],c,this]):o(this[c],c,this))return!0;return!1},every:function(o,l){for(var c=0;c<this.length;c++)if(!(l?o.apply(l,[this[c],c,this]):o(this[c],c,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(f){return o.hasElementWithId(f.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(c){return l.hasElementWithId(c.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(c){return l.hasElementWithId(c.id())})}};Va.allAreNeighbours=Va.allAreNeighbors,Va.has=Va.contains,Va.equal=Va.equals=Va.same;var Nd,Ym,ss=function(o,l){return function(f,h,g,y){var E,_=f,b=this;if(null==_?E="":Kt(_)&&1===_.length&&(E=_.id()),1===b.length&&E){var C=b[0]._private,S=C.traversalCache=C.traversalCache||{},T=S[l]=S[l]||[],M=Cs(E);return T[M]||(T[M]=o.call(b,f,h,g,y))}return o.call(b,f,h,g,y)}},yu={parent:function(o){var l=[];if(1===this.length){var c=this[0]._private.parent;if(c)return c}for(var f=0;f<this.length;f++){var g=this[f]._private.parent;g&&l.push(g)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],c=this.parent();c.nonempty();){for(var f=0;f<c.length;f++)l.push(c[f]);c=c.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,c=0;c<this.length;c++){var h=this[c].parents();l=(l=l||h).intersect(h)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:ss(function(a){for(var o=[],l=0;l<this.length;l++)for(var f=this[l]._private.children,h=0;h<f.length;h++)o.push(f[h]);return this.spawn(o,!0).filter(a)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function c(f){for(var h=0;h<f.length;h++){var g=f[h];l.push(g),g.children().nonempty()&&c(g.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function dh(a,o,l,c){for(var f=[],h=new uu,y=a.cy().hasCompoundNodes(),_=0;_<a.length;_++){var b=a[_];l?f.push(b):y&&c(f,h,b)}for(;f.length>0;){var E=f.shift();o(E),h.add(E.id()),y&&c(f,h,E)}return a}function Zm(a,o,l){if(l.isParent())for(var c=l._private.children,f=0;f<c.length;f++){var h=c[f];o.has(h.id())||a.push(h)}}function ua(a,o,l){if(l.isChild()){var c=l._private.parent;o.has(c.id())||a.push(c)}}function t0(a,o,l){ua(a,o,l),Zm(a,o,l)}yu.forEachDown=function(a){return dh(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Zm)},yu.forEachUp=function(a){return dh(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ua)},yu.forEachUpAndDown=function(a){return dh(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t0)},yu.ancestors=yu.parents,Nd=Ym={data:on.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:on.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:on.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:on.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:on.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:on.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Nd.attr=Nd.data,Nd.removeAttr=Nd.removeData;var n0=Ym,fh={};function Ns(a){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var c=0,f=l[0],h=f._private.edges,g=0;g<h.length;g++){var y=h[g];!o&&y.isLoop()||(c+=a(f,y))}return c}}}function vc(a,o){return function(l){for(var c,f=this.nodes(),h=0;h<f.length;h++){var y=f[h][a](l);void 0!==y&&(void 0===c||o(y,c))&&(c=y)}return c}}Lt(fh,{degree:Ns(function(a,o){return o.source().same(o.target())?2:1}),indegree:Ns(function(a,o){return o.target().same(a)?1:0}),outdegree:Ns(function(a,o){return o.source().same(a)?1:0})}),Lt(fh,{minDegree:vc("degree",function(a,o){return a<o}),maxDegree:vc("degree",function(a,o){return a>o}),minIndegree:vc("indegree",function(a,o){return a<o}),maxIndegree:vc("indegree",function(a,o){return a>o}),minOutdegree:vc("outdegree",function(a,o){return a<o}),maxOutdegree:vc("outdegree",function(a,o){return a>o})}),Lt(fh,{totalDegree:function(o){for(var l=0,c=this.nodes(),f=0;f<c.length;f++)l+=c[f].degree(o);return l}});var Fs,Qm,Xm=function(o,l,c){for(var f=0;f<o.length;f++){var h=o[f];if(!h.locked()){var g=h._private.position,y={x:null!=l.x?l.x-g.x:0,y:null!=l.y?l.y-g.y:0};h.isParent()&&!(0===y.x&&0===y.y)&&h.children().shift(y,c),h.dirtyBoundingBoxCache()}}},hh={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){Xm(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};Fs=Qm={position:on.data(hh),silentPosition:on.data(Lt({},hh,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){Xm(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(Mt(o))l?this.silentPosition(o):this.position(o);else if(Wn(o)){var c=o,f=this.cy();f.startBatch();for(var h=0;h<this.length;h++){var y,g=this[h];(y=c(g,h))&&(l?g.silentPosition(y):g.position(y))}f.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,c){var f;if(Mt(o)?(f={x:ht(o.x)?o.x:0,y:ht(o.y)?o.y:0},c=l):st(o)&&ht(l)&&((f={x:0,y:0})[o]=l),null!=f){var h=this.cy();h.startBatch();for(var g=0;g<this.length;g++){var y=this[g];if(!(h.hasCompoundNodes()&&y.isChild()&&y.ancestors().anySame(this))){var _=y.position(),b={x:_.x+f.x,y:_.y+f.y};c?y.silentPosition(b):y.position(b)}}h.endBatch()}return this},silentShift:function(o,l){return Mt(o)?this.shift(o,!0):st(o)&&ht(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var c=this[0],f=this.cy(),h=f.zoom(),g=f.pan(),y=Mt(o)?o:void 0,_=void 0!==y||void 0!==l&&st(o);if(c&&c.isNode()){if(!_){var C=c.position();return y=pl(C,h,g),void 0===o?y:y[o]}for(var b=0;b<this.length;b++){var E=this[b];void 0!==l?E.position(o,(l-g[o])/h):void 0!==y&&E.position(rc(y,h,g))}}else if(!_)return;return this},relativePosition:function(o,l){var c=this[0],f=this.cy(),h=Mt(o)?o:void 0,g=void 0!==h||void 0!==l&&st(o),y=f.hasCompoundNodes();if(c&&c.isNode()){if(!g){var M=c.position(),P=y?c.parent():null,k=P&&P.length>0;k&&(P=P[0]);var F=k?P.position():{x:0,y:0};return h={x:M.x-F.x,y:M.y-F.y},void 0===o?h:h[o]}for(var _=0;_<this.length;_++){var b=this[_],E=y?b.parent():null,C=E&&E.length>0;C&&(E=E[0]);var T=C?E.position():{x:0,y:0};void 0!==l?b.position(o,l+T[o]):void 0!==h&&b.position({x:h.x+T.x,y:h.y+T.y})}}else if(!g)return;return this}},Fs.modelPosition=Fs.point=Fs.position,Fs.modelPositions=Fs.points=Fs.positions,Fs.renderedPoint=Fs.renderedPosition,Fs.relativePoint=Fs.relativePosition;var yc,bl,$a=Qm;yc=bl={},bl.renderedBoundingBox=function(a){var o=this.boundingBox(a),l=this.cy(),c=l.zoom(),f=l.pan(),h=o.x1*c+f.x,g=o.x2*c+f.x,y=o.y1*c+f.y,_=o.y2*c+f.y;return{x1:h,x2:g,y1:y,y2:_,w:g-h,h:_-y}},bl.dirtyCompoundBoundsCache=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var c=l._private;c.compoundBoundsClean=!1,c.bbCache=null,a||l.emitAndNotify("bounds")}}),this):this},bl.updateCompoundBounds=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!a&&o.batching())return this;function l(g){if(g.isParent()){var y=g._private,_=g.children(),b="include"===g.pstyle("compound-sizing-wrt-labels").value,E={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},C=_.boundingBox({includeLabels:b,includeOverlays:!1,useCache:!1}),S=y.position;(0===C.w||0===C.h)&&((C={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=S.x-C.w/2,C.x2=S.x+C.w/2,C.y1=S.y-C.h/2,C.y2=S.y+C.h/2);var P=E.width.left.value;"px"===E.width.left.units&&E.width.val>0&&(P=100*P/E.width.val);var k=E.width.right.value;"px"===E.width.right.units&&E.width.val>0&&(k=100*k/E.width.val);var O=E.height.top.value;"px"===E.height.top.units&&E.height.val>0&&(O=100*O/E.height.val);var F=E.height.bottom.value;"px"===E.height.bottom.units&&E.height.val>0&&(F=100*F/E.height.val);var L=T(E.width.val-C.w,P,k),$=L.biasDiff,K=L.biasComplementDiff,X=T(E.height.val-C.h,O,F),z=X.biasDiff,Y=X.biasComplementDiff;y.autoPadding=function M(j,ee,te,W){if("%"!==te.units)return"px"===te.units?te.pfValue:0;switch(W){case"width":return j>0?te.pfValue*j:0;case"height":return ee>0?te.pfValue*ee:0;case"average":return j>0&&ee>0?te.pfValue*(j+ee)/2:0;case"min":return j>0&&ee>0?j>ee?te.pfValue*ee:te.pfValue*j:0;case"max":return j>0&&ee>0?j>ee?te.pfValue*j:te.pfValue*ee:0;default:return 0}}(C.w,C.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),y.autoWidth=Math.max(C.w,E.width.val),S.x=(-$+C.x1+C.x2+K)/2,y.autoHeight=Math.max(C.h,E.height.val),S.y=(-z+C.y1+C.y2+Y)/2}function T(j,ee,te){var W=0,oe=0,Q=ee+te;return j>0&&Q>0&&(W=ee/Q*j,oe=te/Q*j),{biasDiff:W,biasComplementDiff:oe}}}for(var c=0;c<this.length;c++){var f=this[c],h=f._private;(!h.compoundBoundsClean||a)&&(l(f),o.batching()||(h.compoundBoundsClean=!0))}return this};var Zr=function(o){return o===1/0||o===-1/0?0:o},Ei=function(o,l,c,f,h){f-l==0||h-c==0||null==l||null==c||null==f||null==h||(o.x1=l<o.x1?l:o.x1,o.x2=f>o.x2?f:o.x2,o.y1=c<o.y1?c:o.y1,o.y2=h>o.y2?h:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},fo=function(o,l){return null==l?o:Ei(o,l.x1,l.y1,l.x2,l.y2)},Fd=function(o,l,c){return So(o,l,c)},ph=function(o,l,c){if(!l.cy().headless()){var _,b,f=l._private,h=f.rstyle,g=h.arrowWidth/2;if("none"!==l.pstyle(c+"-arrow-shape").value){"source"===c?(_=h.srcX,b=h.srcY):"target"===c?(_=h.tgtX,b=h.tgtY):(_=h.midX,b=h.midY);var E=f.arrowBounds=f.arrowBounds||{},C=E[c]=E[c]||{};C.x1=_-g,C.y1=b-g,C.x2=_+g,C.y2=b+g,C.w=C.x2-C.x1,C.h=C.y2-C.y1,Xf(C,1),Ei(o,C.x1,C.y1,C.x2,C.y2)}}},di=function(o,l,c){if(!l.cy().headless()){var f,h=l._private,g=h.rstyle;if(l.pstyle((f=c?c+"-":"")+"label").strValue){var te,W,oe,Q,_=l.pstyle("text-halign"),b=l.pstyle("text-valign"),E=Fd(g,"labelWidth",c),C=Fd(g,"labelHeight",c),S=Fd(g,"labelX",c),T=Fd(g,"labelY",c),M=l.pstyle(f+"text-margin-x").pfValue,P=l.pstyle(f+"text-margin-y").pfValue,k=l.isEdge(),O=l.pstyle(f+"text-rotation"),F=l.pstyle("text-outline-width").pfValue,$=l.pstyle("text-border-width").pfValue/2,K=l.pstyle("text-background-padding").pfValue,z=C,Y=E,j=Y/2,ee=z/2;if(k)te=S-j,W=S+j,oe=T-ee,Q=T+ee;else{switch(_.value){case"left":te=S-Y,W=S;break;case"center":te=S-j,W=S+j;break;case"right":te=S,W=S+Y}switch(b.value){case"top":oe=T-z,Q=T;break;case"center":oe=T-ee,Q=T+ee;break;case"bottom":oe=T,Q=T+z}}te+=M-Math.max(F,$)-K-2,W+=M+Math.max(F,$)+K+2,oe+=P-Math.max(F,$)-K-2,Q+=P+Math.max(F,$)+K+2;var de=c||"main",se=h.labelBounds,ie=se[de]=se[de]||{};ie.x1=te,ie.y1=oe,ie.x2=W,ie.y2=Q,ie.w=W-te,ie.h=Q-oe;var me=k&&"autorotate"===O.strValue;if(me||null!=O.pfValue&&0!==O.pfValue){var ke=me?Fd(h.rstyle,"labelAngle",c):O.pfValue,ge=Math.cos(ke),Ie=Math.sin(ke),$e=(te+W)/2,qe=(oe+Q)/2;if(!k){switch(_.value){case"left":$e=W;break;case"right":$e=te}switch(b.value){case"top":qe=Q;break;case"bottom":qe=oe}}var He=function(Ht,Be){return{x:(Ht-=$e)*ge-(Be-=qe)*Ie+$e,y:Ht*Ie+Be*ge+qe}},Ue=He(te,oe),ye=He(te,Q),Ye=He(W,oe),Qe=He(W,Q);te=Math.min(Ue.x,ye.x,Ye.x,Qe.x),W=Math.max(Ue.x,ye.x,Ye.x,Qe.x),oe=Math.min(Ue.y,ye.y,Ye.y,Qe.y),Q=Math.max(Ue.y,ye.y,Ye.y,Qe.y)}var je=de+"Rot",rt=se[je]=se[je]||{};rt.x1=te,rt.y1=oe,rt.x2=W,rt.y2=Q,rt.w=W-te,rt.h=Q-oe,Ei(o,te,oe,W,Q),Ei(h.labelBounds.all,te,oe,W,Q)}return o}},gh=function(o){var l=0,c=function(g){return(g?1:0)<<l++},f=0;return f+=c(o.incudeNodes),f+=c(o.includeEdges),f+=c(o.includeLabels),f+=c(o.includeMainLabels),f+=c(o.includeSourceLabels),f+=c(o.includeTargetLabels),(f+=c(o.includeOverlays))+c(o.includeOutlines)},mh=function(o){if(o.isEdge()){var l=o.source().position(),c=o.target().position(),f=function(g){return Math.round(g)};return function(o,l){var c={value:0,done:!1},f=0,h=o.length;return md({next:function(){return f<h?c.value=o[f++]:c.done=!0,c}},void 0)}([f(l.x),f(l.y),f(c.x),f(c.y)])}return 0},_c=function(o,l){var f,c=o._private,h=o.isEdge(),y=(null==l?_l:gh(l))===_l,_=mh(o),b=c.bbCachePosKey===_,E=l.useCache&&b,C=function(P){return null==P._private.bbCache||P._private.styleDirty};if(!E||C(o)||h&&C(o.source())||C(o.target())?(b||o.recalculateRenderedStyle(E),f=function(o,l){var E,C,S,T,M,P,c=o._private.cy,f=c.styleEnabled(),h=c.headless(),g=Mo(),y=o._private,_=o.isNode(),b=o.isEdge(),k=y.rstyle,O=_&&f?o.pstyle("bounds-expansion").pfValue:[0],F=function(xt){return"none"!==xt.pstyle("display").value},L=!f||F(o)&&(!b||F(o.source())&&F(o.target()));if(L){var K=0;f&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(K=o.pstyle("overlay-padding").value);var z=0;f&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(z=o.pstyle("underlay-padding").value);var Y=Math.max(K,z),ee=0;if(f&&(ee=o.pstyle("width").pfValue/2),_&&l.includeNodes){var te=o.position();M=te.x,P=te.y;var oe=o.outerWidth()/2,de=o.outerHeight()/2;Ei(g,E=M-oe,S=P-de,C=M+oe,T=P+de),f&&l.includeOutlines&&function(o,l){if(!l.cy().headless()){var c=l.pstyle("outline-opacity").value,f=l.pstyle("outline-width").value;if(c>0&&f>0){var h=l.pstyle("outline-offset").value,g=l.pstyle("shape").value,y=f+h,_=(o.w+2*y)/o.w,b=(o.h+2*y)/o.h,C=0;["diamond","pentagon","round-triangle"].includes(g)?(_=(o.w+2.4*y)/o.w,C=-y/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(g)?_=(o.w+2.4*y)/o.w:"star"===g?(_=(o.w+2.8*y)/o.w,b=(o.h+2.6*y)/o.h,C=-y/3.8):"triangle"===g?(_=(o.w+2.8*y)/o.w,b=(o.h+2.4*y)/o.h,C=-y/1.4):"vee"===g&&(_=(o.w+4.4*y)/o.w,b=(o.h+3.8*y)/o.h,C=.5*-y);var T=o.w*_-o.w;if(Ki(o,[Math.ceil((o.h*b-o.h)/2),Math.ceil(T/2)]),0!==C){var M=function(o,l,c){return{x1:o.x1+0,x2:o.x2+0,y1:o.y1+c,y2:o.y2+c,w:o.w,h:o.h}}(o,0,C);Er(o,M)}}}}(g,o)}else if(b&&l.includeEdges)if(f&&!h){var se=o.pstyle("curve-style").strValue;if(E=Math.min(k.srcX,k.midX,k.tgtX),C=Math.max(k.srcX,k.midX,k.tgtX),S=Math.min(k.srcY,k.midY,k.tgtY),T=Math.max(k.srcY,k.midY,k.tgtY),Ei(g,E-=ee,S-=ee,C+=ee,T+=ee),"haystack"===se){var ie=k.haystackPts;if(ie&&2===ie.length){if((E=ie[0].x)>(C=ie[1].x)){var me=E;E=C,C=me}if((S=ie[0].y)>(T=ie[1].y)){var _e=S;S=T,T=_e}Ei(g,E-ee,S-ee,C+ee,T+ee)}}else if("bezier"===se||"unbundled-bezier"===se||"segments"===se||"taxi"===se){var ke;switch(se){case"bezier":case"unbundled-bezier":ke=k.bezierPts;break;case"segments":case"taxi":ke=k.linePts}if(null!=ke)for(var ge=0;ge<ke.length;ge++){var Ie=ke[ge];Ei(g,E=Ie.x-ee,S=Ie.y-ee,C=Ie.x+ee,T=Ie.y+ee)}}}else{var qe=o.source().position(),Ue=o.target().position();if((E=qe.x)>(C=Ue.x)){var ye=E;E=C,C=ye}if((S=qe.y)>(T=Ue.y)){var Ye=S;S=T,T=Ye}Ei(g,E-=ee,S-=ee,C+=ee,T+=ee)}if(f&&l.includeEdges&&b&&(ph(g,o,"mid-source"),ph(g,o,"mid-target"),ph(g,o,"source"),ph(g,o,"target")),f&&"yes"===o.pstyle("ghost").value){var je=o.pstyle("ghost-offset-x").pfValue,rt=o.pstyle("ghost-offset-y").pfValue;Ei(g,g.x1+je,g.y1+rt,g.x2+je,g.y2+rt)}var Ot=y.bodyBounds=y.bodyBounds||{};Zt(Ot,g),Ki(Ot,O),Xf(Ot,1),f&&Ei(g,(E=g.x1)-Y,(S=g.y1)-Y,(C=g.x2)+Y,(T=g.y2)+Y);var Ht=y.overlayBounds=y.overlayBounds||{};Zt(Ht,g),Ki(Ht,O),Xf(Ht,1);var Be=y.labelBounds=y.labelBounds||{};null!=Be.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(Be.all):Be.all=Mo(),f&&l.includeLabels&&(l.includeMainLabels&&di(g,o,null),b&&(l.includeSourceLabels&&di(g,o,"source"),l.includeTargetLabels&&di(g,o,"target")))}return g.x1=Zr(g.x1),g.y1=Zr(g.y1),g.x2=Zr(g.x2),g.y2=Zr(g.y2),g.w=Zr(g.x2-g.x1),g.h=Zr(g.y2-g.y1),g.w>0&&g.h>0&&L&&(Ki(g,O),Xf(g,1)),g}(o,Ls),c.bbCache=f,c.bbCachePosKey=_):f=c.bbCache,!y){var T=o.isNode();f=Mo(),(l.includeNodes&&T||l.includeEdges&&!T)&&fo(f,l.includeOverlays?c.overlayBounds:c.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!h||l.includeSourceLabels&&l.includeTargetLabels)?fo(f,c.labelBounds.all):(l.includeMainLabels&&fo(f,c.labelBounds.mainRot),l.includeSourceLabels&&fo(f,c.labelBounds.sourceRot),l.includeTargetLabels&&fo(f,c.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Ls={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},_l=gh(Ls),vh=Wr(Ls);bl.boundingBox=function(a){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==a&&void 0!==a.useCache&&!0!==a.useCache){o=Mo();var l=vh(a=a||Ls),c=this;if(c.cy().styleEnabled())for(var g=0;g<c.length;g++){var y=c[g],_=y._private,b=mh(y);y.recalculateRenderedStyle(l.useCache&&_.bbCachePosKey===b&&!_.styleDirty)}this.updateCompoundBounds(!a.useCache);for(var S=0;S<c.length;S++)fo(o,_c(c[S],l))}else a=void 0===a?Ls:vh(a),o=_c(this[0],a);return o.x1=Zr(o.x1),o.y1=Zr(o.y1),o.x2=Zr(o.x2),o.y2=Zr(o.y2),o.w=Zr(o.x2-o.x1),o.h=Zr(o.y2-o.y1),o},bl.dirtyBoundingBoxCache=function(){for(var a=0;a<this.length;a++){var o=this[a]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},bl.boundingBoxAt=function(a){var o=this.nodes(),l=this.cy(),c=l.hasCompoundNodes(),f=l.collection();if(c&&(f=o.filter(function(b){return b.isParent()}),o=o.not(f)),Mt(a)){var h=a;a=function(){return h}}l.startBatch(),o.forEach(function(E,C){return E._private.bbAtOldPos=a(E,C)}).silentPositions(a),c&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var _=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(E){return E._private.bbAtOldPos}),c&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),l.endBatch(),_},yc.boundingbox=yc.bb=yc.boundingBox,yc.renderedBoundingbox=yc.renderedBoundingBox;var wl,ho,Ld=bl;wl=ho={};var wc=function(o){o.uppercaseName=Ys(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=Ys(o.outerName),wl[o.name]=function(){var c=this[0],f=c._private;if(c){if(f.cy._private.styleEnabled){if(c.isParent())return c.updateCompoundBounds(),f[o.autoName]||0;var y=c.pstyle(o.name);return"label"===y.strValue?(c.recalculateRenderedStyle(),f.rstyle[o.labelName]||0):y.pfValue}return 1}},wl["outer"+o.uppercaseName]=function(){var c=this[0];if(c)return c._private.cy._private.styleEnabled?c[o.name]()+c.pstyle("border-width").pfValue+2*c.padding():1},wl["rendered"+o.uppercaseName]=function(){var c=this[0];if(c)return c[o.name]()*this.cy().zoom()},wl["rendered"+o.uppercaseOuterName]=function(){var c=this[0];if(c)return c[o.outerName]()*this.cy().zoom()}};wc({name:"width"}),wc({name:"height"}),ho.padding=function(){var a=this[0],o=a._private;return a.isParent()?(a.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:a.pstyle("padding").pfValue):a.pstyle("padding").pfValue},ho.paddedHeight=function(){var a=this[0];return a.height()+2*a.padding()},ho.paddedWidth=function(){var a=this[0];return a.width()+2*a.padding()};var za=ho,Dc={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},bh=Object.keys(Dc).reduce(function(a,o){var l=Dc[o],c=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return a[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},a[c]=l.mult?function(){return function(o,l){if(o.isEdge()){var c=o.cy(),f=c.pan(),h=c.zoom();return l(o).map(function(g){return pl(g,h,f)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var c=o.cy();return pl(l(o),c.zoom(),c.pan())}}(this,l.get)},a},{}),fi=Lt({},$a,Ld,za,bh),Vd=function(o,l){this.recycle(o,l)};function Ha(){return!1}function Go(){return!0}Vd.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ha,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?Go:Ha):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var c=this.position,f=this.cy.zoom(),h=this.cy.pan();this.renderedPosition={x:c.x*f+h.x,y:c.y*f+h.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Go;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Go;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Go,this.stopPropagation()},isDefaultPrevented:Ha,isPropagationStopped:Ha,isImmediatePropagationStopped:Ha};var _h=/^([^.]+)(\.(?:[^.]+))?$/,ca={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},zd=Object.keys(ca),to={};function bu(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to,o=arguments.length>1?arguments[1]:void 0,l=0;l<zd.length;l++){var c=zd[l];this[c]=a[c]||ca[c]}this.context=o||this.context,this.listeners=[],this.emitting=0}var Ua=bu.prototype,wh=function(o,l,c,f,h,g,y){Wn(f)&&(h=f,f=null),y&&(g=null==g?y:Lt({},g,y));for(var _=Fn(c)?c:c.split(/\s+/),b=0;b<_.length;b++){var E=_[b];if(!nn(E)){var C=E.match(_h);if(C&&!1===l(o,E,C[1],C[2]?C[2]:null,f,h,g))break}}},Jp=function(o,l){return o.addEventFields(o.context,l),new Vd(l.type,l)};Ua.on=Ua.addListener=function(a,o,l,c,f){return wh(this,function(h,g,y,_,b,E,C){Wn(E)&&h.listeners.push({event:g,callback:E,type:y,namespace:_,qualifier:b,conf:C})},a,o,l,c,f),this},Ua.one=function(a,o,l,c){return this.on(a,o,l,c,{one:!0})},Ua.removeListener=Ua.off=function(a,o,l,c){var f=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var h=this.listeners,g=function(b){var E=h[b];wh(f,function(C,S,T,M,P,k){if((E.type===T||"*"===a)&&(!M&&".*"!==E.namespace||E.namespace===M)&&(!P||C.qualifierCompare(E.qualifier,P))&&(!k||E.callback===k))return h.splice(b,1),!1},a,o,l,c)},y=h.length-1;y>=0;y--)g(y);return this},Ua.removeAllListeners=function(){return this.removeListener("*")},Ua.emit=Ua.trigger=function(a,o,l){var c=this.listeners,f=c.length;return this.emitting++,Fn(o)||(o=[o]),function(o,l,c){if(function(o){return"event"===Hr(o)}(c))l(o,c);else if(Mt(c))l(o,Jp(o,c));else for(var f=Fn(c)?c:c.split(/\s+/),h=0;h<f.length;h++){var g=f[h];if(!nn(g)){var y=g.match(_h);y&&l(o,Jp(o,{type:y[1],namespace:y[2]?y[2]:null,target:o.context}))}}}(this,function(h,g){null!=l&&(f=(c=[{event:g.event,type:g.type,namespace:g.namespace,callback:l}]).length);for(var y=function(E){var C=c[E];if(C.type===g.type&&(!C.namespace||C.namespace===g.namespace||".*"===C.namespace)&&h.eventMatches(h.context,C,g)){var S=[g];null!=o&&function(o,l){for(var c=0;c<l.length;c++)o.push(l[c])}(S,o),h.beforeEmit(h.context,C,g),C.conf&&C.conf.one&&(h.listeners=h.listeners.filter(function(P){return P!==C}));var T=h.callbackContext(h.context,C,g),M=C.callback.apply(T,S);h.afterEmit(h.context,C,g),!1===M&&(g.stopPropagation(),g.preventDefault())}},_=0;_<f;_++)y(_);h.bubble(h.context)&&!g.isPropagationStopped()&&h.parent(h.context).emit(g,o)},a),this.emitting--,this};var tv={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,c){var f=l.qualifier;return null==f||o!==c.target&&tu(c.target)&&f.matches(c.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,c){return null!=l.qualifier?c.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},Cl=function(o){return st(o)?new Os(o):o},Eh={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],c=l._private;c.emitter||(c.emitter=new bu(tv,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,c){for(var f=Cl(l),h=0;h<this.length;h++)this[h].emitter().on(o,f,c);return this},removeListener:function(o,l,c){for(var f=Cl(l),h=0;h<this.length;h++)this[h].emitter().removeListener(o,f,c);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,c){for(var f=Cl(l),h=0;h<this.length;h++)this[h].emitter().one(o,f,c);return this},once:function(o,l,c){for(var f=Cl(l),h=0;h<this.length;h++)this[h].emitter().on(o,f,c,{once:!0,onceCollection:this})},emit:function(o,l){for(var c=0;c<this.length;c++)this[c].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};on.eventAliasesOn(Eh);var po={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),c=0;c<this.length;c++){var f=this[c];f.isNode()?o.push(f):l.push(f)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(st(o)||Kt(o))return new Os(o).filter(this);if(Wn(o)){for(var c=this.spawn(),f=this,h=0;h<f.length;h++){var g=f[h];(l?o.apply(l,[g,h,f]):o(g,h,f))&&c.push(g)}return c}return this.spawn()},not:function(o){if(o){st(o)&&(o=this.filter(o));for(var l=this.spawn(),c=0;c<this.length;c++){var f=this[c];o.has(f)||l.push(f)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(st(o))return this.filter(o);for(var c=this.spawn(),g=this.length<o.length,y=g?this:o,_=g?o:this,b=0;b<y.length;b++){var E=y[b];_.has(E)&&c.push(E)}return c},xor:function(o){var l=this._private.cy;st(o)&&(o=l.$(o));var c=this.spawn(),h=o,g=function(_,b){for(var E=0;E<_.length;E++){var C=_[E];b.hasElementWithId(C._private.data.id)||c.push(C)}};return g(this,h),g(h,this),c},diff:function(o){var l=this._private.cy;st(o)&&(o=l.$(o));var c=this.spawn(),f=this.spawn(),h=this.spawn(),y=o,_=function(E,C,S){for(var T=0;T<E.length;T++){var M=E[T];C.hasElementWithId(M._private.data.id)?h.merge(M):S.push(M)}};return _(this,y,c),_(y,this,f),{left:c,right:f,both:h}},add:function(o){var l=this._private.cy;if(!o)return this;if(st(o)){var c=o;o=l.mutableElements().filter(c)}for(var f=this.spawnSelf(),h=0;h<o.length;h++){var g=o[h];!this.has(g)&&f.push(g)}return f},merge:function(o){var l=this._private,c=l.cy;if(!o)return this;if(o&&st(o)){var f=o;o=c.mutableElements().filter(f)}for(var h=l.map,g=0;g<o.length;g++){var y=o[g],_=y._private.data.id;if(!h.has(_)){var E=this.length++;this[E]=y,h.set(_,{ele:y,index:E})}}return this},unmergeAt:function(o){var c=this[o].id(),h=this._private.map;if(this[o]=void 0,h.delete(c),this.length>1&&o!==this.length-1){var y=this.length-1,_=this[y],b=_._private.data.id;this[y]=void 0,this[o]=_,h.set(b,{ele:_,index:o})}return this.length--,this},unmergeOne:function(o){var h=this._private.map.get((o=o[0])._private.data.id);return h?(this.unmergeAt(h.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&st(o)){var c=o;o=l.mutableElements().filter(c)}for(var f=0;f<o.length;f++)this.unmergeOne(o[f]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var c=[],f=this,h=0;h<f.length;h++){var g=f[h],y=l?o.apply(l,[g,h,f]):o(g,h,f);c.push(y)}return c},reduce:function(o,l){for(var c=l,f=this,h=0;h<f.length;h++)c=o(c,f[h],h,f);return c},max:function(o,l){for(var f,c=-1/0,h=this,g=0;g<h.length;g++){var y=h[g],_=l?o.apply(l,[y,g,h]):o(y,g,h);_>c&&(c=_,f=y)}return{value:c,ele:f}},min:function(o,l){for(var f,c=1/0,h=this,g=0;g<h.length;g++){var y=h[g],_=l?o.apply(l,[y,g,h]):o(y,g,h);_<c&&(c=_,f=y)}return{value:c,ele:f}}},Hn=po;Hn.u=Hn["|"]=Hn["+"]=Hn.union=Hn.or=Hn.add,Hn["\\"]=Hn["!"]=Hn["-"]=Hn.difference=Hn.relativeComplement=Hn.subtract=Hn.not,Hn.n=Hn["&"]=Hn["."]=Hn.and=Hn.intersection=Hn.intersect,Hn["^"]=Hn["(+)"]=Hn["(-)"]=Hn.symmetricDifference=Hn.symdiff=Hn.xor,Hn.fnFilter=Hn.filterFn=Hn.stdFilter=Hn.filter,Hn.complement=Hn.abscomp=Hn.absoluteComplement;var o,eg=function(o,l){var f=o.cy().hasCompoundNodes();function h(E){var C=E.pstyle("z-compound-depth");return"auto"===C.value?f?E.zDepth():0:"bottom"===C.value?-1:"top"===C.value?qf:0}var g=h(o)-h(l);if(0!==g)return g;function y(E){return"auto"===E.pstyle("z-index-compare").value&&E.isNode()?1:0}var _=y(o)-y(l);if(0!==_)return _;var b=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==b?b:o.poolIndex()-l.poolIndex()},xc={forEach:function(o,l){if(Wn(o))for(var c=this.length,f=0;f<c;f++){var h=this[f];if(!1===(l?o.apply(l,[h,f,this]):o(h,f,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var c=[],f=this.length;null==l&&(l=f),null==o&&(o=0),o<0&&(o=f+o),l<0&&(l=f+l);for(var h=o;h>=0&&h<l&&h<f;h++)c.push(this[h]);return this.spawn(c)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!Wn(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(eg)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var f=l.data.parent?o.parents().size():0;return o.isParent()?f:qf-1}var g=l.target,y=l.source.zDepth(),_=g.zDepth();return Math.max(y,_,0)}}};xc.each=xc.forEach,o="undefined",(typeof Symbol>"u"?"undefined":vn(Symbol))!=o&&vn(Symbol.iterator)!=o&&(xc[Symbol.iterator]=function(){var c=this,f={value:void 0,done:!1},h=0,g=this.length;return Vn({next:function(){return h<g?f.value=c[h++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var tg=Wr({nodeDimensionsIncludeLabels:!1}),_u={layoutDimensions:function(o){var l;if(o=tg(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var c=this.boundingBox();l={w:c.w,h:c.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,c){var f=this.nodes().filter(function(K){return!K.isParent()}),h=this.cy(),g=l.eles,y=function(X){return X.id()},_=ru(c,y);o.emit({type:"layoutstart",layout:o}),o.animations=[];var E=l.spacingFactor&&1!==l.spacingFactor,S=function(){if(!E)return null;for(var X=Mo(),z=0;z<f.length;z++){var j=_(f[z],z);Hm(X,j.x,j.y)}return X}(),T=ru(function(K,X){var z=_(K,X);return E&&(z=function(X,z,Y){var j_x=z.x1+z.w/2,j_y=z.y1+z.h/2;return{x:j_x+(Y.x-j_x)*X,y:j_y+(Y.y-j_y)*X}}(Math.abs(l.spacingFactor),S,z)),null!=l.transform&&(z=l.transform(K,z)),z},y);if(l.animate){for(var M=0;M<f.length;M++){var P=f[M],k=T(P,M);if(null==l.animateFilter||l.animateFilter(P,M)){var F=P.animation({position:k,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(F)}else P.position(k)}if(l.fit){var L=h.animation({fit:{boundingBox:g.boundingBoxAt(T),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(L)}else if(void 0!==l.zoom&&void 0!==l.pan){var $=h.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push($)}o.animations.forEach(function(K){return K.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),Ao.all(o.animations.map(function(K){return K.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else f.positions(T),l.fit&&h.fit(l.eles,l.padding),null!=l.zoom&&h.zoom(l.zoom),l.pan&&h.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(Lt({},o,{eles:this}))}};function ng(a,o,l){var h,c=l._private,f=c.styleCache=c.styleCache||[];return null!=(h=f[a])||(h=f[a]=o(l)),h}function Oo(a,o){return a=Cs(a),function(c){return ng(a,o,c)}}function wu(a,o){a=Cs(a);var l=function(f){return o.call(f)};return function(){var f=this[0];if(f)return ng(a,l,f)}}_u.createLayout=_u.makeLayout=_u.layout;var Jr={recalculateRenderedStyle:function(o){var l=this.cy(),c=l.renderer(),f=l.styleEnabled();return c&&f&&c.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var c,o=this.cy(),l=function(h){return h._private.styleCache=null};return o.hasCompoundNodes()?((c=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(c.connectedEdges()),c.forEach(l)):this.forEach(function(f){l(f),f.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var h=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(h=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=h;return o?g.emitAndNotify("style"):g.emit("style"),h.forEach(function(y){return y._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var c=this[l];c._private.styleDirty&&(c._private.styleDirty=!1,o.style().apply(c))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=this[0],f=c.cy();if(f.styleEnabled()&&c)return this.cleanStyle(),c._private.style[o]??(l?f.style().getDefaultProperty(o):null)},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var c=l.pstyle(o);return void 0!==c.pfValue?c.pfValue:c.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var c=this[0];return c?l.style().getRenderedStyle(c,o):void 0},style:function(o,l){var c=this.cy();if(!c.styleEnabled())return this;var h=c.style();if(Mt(o))h.applyBypass(this,o,!1),this.emitAndNotify("style");else if(st(o)){if(void 0===l){var y=this[0];return y?h.getStylePropertyValue(y,o):void 0}h.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var _=this[0];return _?h.getRawStyle(_):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var f=l.style(),h=this;if(void 0===o)for(var g=0;g<h.length;g++)f.removeAllBypasses(h[g],!1);else{o=o.split(/\s+/);for(var _=0;_<h.length;_++)f.removeBypasses(h[_],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),c=this[0];if(c){var f=c._private,h=c.pstyle("opacity").value;if(!l)return h;var g=f.data.parent?c.parents():null;if(g)for(var y=0;y<g.length;y++)h*=g[y].pstyle("opacity").value;return h}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],c=l.cy().hasCompoundNodes();return l?c?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ur(a,o){var c=a._private.data.parent?a.parents():null;if(c)for(var f=0;f<c.length;f++)if(!o(c[f]))return!1;return!0}function xl(a){var o=a.ok,l=a.edgeOkViaNode||a.ok,c=a.parentOk||a.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var h=this[0],g=f.hasCompoundNodes();if(h){var y=h._private;if(!o(h))return!1;if(h.isNode())return!g||ur(h,c);var _=y.source,b=y.target;return l(_)&&(!g||ur(_,l))&&(_===b||l(b)&&(!g||ur(b,l)))}}}var Bs=Oo("eleTakesUpSpace",function(a){return"element"===a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});Jr.takesUpSpace=wu("takesUpSpace",xl({ok:Bs}));var no=Oo("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&Bs(a)}),rg=Oo("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&Bs(a)});Jr.interactive=wu("interactive",xl({ok:no,parentOk:rg,edgeOkViaNode:Bs})),Jr.noninteractive=function(){var a=this[0];if(a)return!a.interactive()};var Sc=Oo("eleVisible",function(a){return"visible"===a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&Bs(a)});Jr.visible=wu("visible",xl({ok:Sc,edgeOkViaNode:Bs})),Jr.hidden=function(){var a=this[0];if(a)return!a.visible()},Jr.isBundledBezier=wu("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Jr.bypass=Jr.css=Jr.style,Jr.renderedCss=Jr.renderedStyle,Jr.removeBypass=Jr.removeCss=Jr.removeStyle,Jr.pstyle=Jr.parsedStyle;var Yr={};function Dh(a){return function(){var o=arguments,l=[];if(2===o.length)this.on(a.event,o[0],o[1]);else if(1===o.length&&Wn(o[0]))this.on(a.event,o[0]);else if(0===o.length||1===o.length&&Fn(o[0])){for(var g=1===o.length?o[0]:null,y=0;y<this.length;y++){var _=this[y],b=!a.ableField||_._private[a.ableField],E=_._private[a.field]!=a.value;if(a.overrideAble){var C=a.overrideAble(_);if(void 0!==C&&(b=C,!C))return this}b&&(_._private[a.field]=a.value,E&&l.push(_))}var S=this.spawn(l);S.updateStyle(),S.emit(a.event),g&&S.emit(g)}return this}}function Du(a){Yr[a.field]=function(){var o=this[0];if(o){if(a.overrideField){var l=a.overrideField(o);if(void 0!==l)return l}return o._private[a.field]}},Yr[a.on]=Dh({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),Yr[a.off]=Dh({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}Du({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),Du({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Du({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Du({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Yr.deselect=Yr.unselect,Yr.grabbed=function(){var a=this[0];if(a)return a._private.grabbed},Du({field:"active",on:"activate",off:"unactivate"}),Du({field:"pannable",on:"panify",off:"unpanify"}),Yr.inactive=function(){var a=this[0];if(a)return!a._private.active};var Di={},da=function(o){return function(c){for(var h=[],g=0;g<this.length;g++){var y=this[g];if(y.isNode()){for(var _=!1,b=y.connectedEdges(),E=0;E<b.length;E++){var C=b[E],S=C.source(),T=C.target();if(o.noIncomingEdges&&T===y&&S!==y||o.noOutgoingEdges&&S===y&&T!==y){_=!0;break}}_||h.push(y)}}return this.spawn(h,!0).filter(c)}},Mc=function(o){return function(l){for(var f=[],h=0;h<this.length;h++){var g=this[h];if(g.isNode())for(var y=g.connectedEdges(),_=0;_<y.length;_++){var b=y[_],E=b.source(),C=b.target();o.outgoing&&E===g?(f.push(b),f.push(C)):o.incoming&&C===g&&(f.push(b),f.push(E))}}return this.spawn(f,!0).filter(l)}},Ch=function(o){return function(l){for(var c=this,f=[],h={};;){var g=o.outgoing?c.outgoers():c.incomers();if(0===g.length)break;for(var y=!1,_=0;_<g.length;_++){var b=g[_],E=b.id();h[E]||(h[E]=!0,f.push(b),y=!0)}if(!y)break;c=g}return this.spawn(f,!0).filter(l)}};function Tc(a){return function(l){for(var c=[],f=0;f<this.length;f++){var g=this[f]._private[a.attr];g&&c.push(g)}return this.spawn(c,!0).filter(l)}}function xh(a){return function(l){var c=[],f=this._private.cy,h=a||{};st(l)&&(l=f.$(l));for(var g=0;g<l.length;g++)for(var y=l[g]._private.edges,_=0;_<y.length;_++){var b=y[_],E=b._private.data,C=this.hasElementWithId(E.source)&&l.hasElementWithId(E.target),S=l.hasElementWithId(E.source)&&this.hasElementWithId(E.target);(C||S)&&((h.thisIsSrc||h.thisIsTgt)&&(h.thisIsSrc&&!C||h.thisIsTgt&&!S)||c.push(b))}return this.spawn(c,!0)}}function Ic(a){return a=Lt({},{codirected:!1},a),function(c){for(var f=[],h=this.edges(),g=a,y=0;y<h.length;y++)for(var b=h[y]._private,E=b.source,C=E._private.data.id,S=b.data.target,T=E._private.edges,M=0;M<T.length;M++){var P=T[M],k=P._private.data,O=k.target,F=k.source,L=O===S&&F===C;(g.codirected&&L||!g.codirected&&(L||C===O&&S===F))&&f.push(P)}return this.spawn(f,!0).filter(c)}}Di.clearTraversalCache=function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null},Lt(Di,{roots:da({noIncomingEdges:!0}),leaves:da({noOutgoingEdges:!0}),outgoers:ss(Mc({outgoing:!0}),"outgoers"),successors:Ch({outgoing:!0}),incomers:ss(Mc({incoming:!0}),"incomers"),predecessors:Ch({incoming:!0})}),Lt(Di,{neighborhood:ss(function(a){for(var o=[],l=this.nodes(),c=0;c<l.length;c++)for(var f=l[c],h=f.connectedEdges(),g=0;g<h.length;g++){var y=h[g],_=y.source(),b=y.target(),E=f===_?b:_;E.length>0&&o.push(E[0]),o.push(y[0])}return this.spawn(o,!0).filter(a)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Di.neighbourhood=Di.neighborhood,Di.closedNeighbourhood=Di.closedNeighborhood,Di.openNeighbourhood=Di.openNeighborhood,Lt(Di,{source:ss(function(o){var c,l=this[0];return l&&(c=l._private.source||l.cy().collection()),c&&o?c.filter(o):c},"source"),target:ss(function(o){var c,l=this[0];return l&&(c=l._private.target||l.cy().collection()),c&&o?c.filter(o):c},"target"),sources:Tc({attr:"source"}),targets:Tc({attr:"target"})}),Lt(Di,{edgesWith:ss(xh(),"edgesWith"),edgesTo:ss(xh({thisIsSrc:!0}),"edgesTo")}),Lt(Di,{connectedEdges:ss(function(a){for(var o=[],c=0;c<this.length;c++){var f=this[c];if(f.isNode())for(var h=f._private.edges,g=0;g<h.length;g++)o.push(h[g])}return this.spawn(o,!0).filter(a)},"connectedEdges"),connectedNodes:ss(function(a){for(var o=[],c=0;c<this.length;c++){var f=this[c];f.isEdge()&&(o.push(f.source()[0]),o.push(f.target()[0]))}return this.spawn(o,!0).filter(a)},"connectedNodes"),parallelEdges:ss(Ic(),"parallelEdges"),codirectedEdges:ss(Ic({codirected:!0}),"codirectedEdges")}),Lt(Di,{components:function(o){var l=this,c=l.cy(),f=c.collection(),h=null==o?l.nodes():o.nodes(),g=[];null!=o&&h.empty()&&(h=o.sources());var y=function(E,C){f.merge(E),h.unmerge(E),C.merge(E)};if(h.empty())return l.spawn();var _=function(){var E=c.collection();g.push(E);var C=h[0];y(C,E),l.bfs({directed:!1,roots:C,visit:function(T){return y(T,E)}}),E.forEach(function(S){S.connectedEdges().forEach(function(T){l.has(T)&&E.has(T.source())&&E.has(T.target())&&E.merge(T)})})};do{_()}while(h.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Di.componentsOf=Di.components;var Bt=function(o,l){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var h=new xs,g=!1;if(l){if(l.length>0&&Mt(l[0])&&!tu(l[0])){g=!0;for(var y=[],_=new uu,b=0,E=l.length;b<E;b++){var C=l[b];null==C.data&&(C.data={});var S=C.data;if(null==S.id)S.id=Op();else if(o.hasElementWithId(S.id)||_.has(S.id))continue;var T=new tc(o,C,!1);y.push(T),_.add(S.id)}l=y}}else l=[];this.length=0;for(var M=0,P=l.length;M<P;M++){var k=l[M][0];if(null!=k){var O=k._private.data.id;(!c||!h.has(O))&&(c&&h.set(O,{index:this.length,ele:k}),this[this.length]=k,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(F){this.lazyMap=F},rebuildMap:function(){for(var L=this.lazyMap=new xs,$=this.eles,K=0;K<$.length;K++){var X=$[K];L.set(X.id(),{index:K,ele:X})}}},c&&(this._private.map=h),g&&!f&&this.restore()}else Xn("A collection must have a reference to the core")},Dt=tc.prototype=Bt.prototype=Object.create(Array.prototype);Dt.instanceString=function(){return"collection"},Dt.spawn=function(a,o){return new Bt(this.cy(),a,o)},Dt.spawnSelf=function(){return this.spawn(this)},Dt.cy=function(){return this._private.cy},Dt.renderer=function(){return this._private.cy.renderer()},Dt.element=function(){return this[0]},Dt.collection=function(){return Vf(this)?this:new Bt(this._private.cy,[this])},Dt.unique=function(){return new Bt(this._private.cy,this,!0)},Dt.hasElementWithId=function(a){return this._private.map.has(a=""+a)},Dt.getElementById=function(a){var o=this._private.cy,l=this._private.map.get(a=""+a);return l?l.ele:new Bt(o)},Dt.$id=Dt.getElementById,Dt.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Dt.indexOf=function(a){return this._private.map.get(a[0]._private.data.id).index},Dt.indexOfId=function(a){return this._private.map.get(a=""+a).index},Dt.json=function(a){var o=this.element(),l=this.cy();if(null==o&&a)return this;if(null!=o){var c=o._private;if(Mt(a)){if(l.startBatch(),a.data){o.data(a.data);var f=c.data;if(o.isEdge()){var h=!1,g={},y=a.data.source,_=a.data.target;null!=y&&y!=f.source&&(g.source=""+y,h=!0),null!=_&&_!=f.target&&(g.target=""+_,h=!0),h&&(o=o.move(g))}else{var E=a.data.parent;"parent"in a.data&&(null!=E||null!=f.parent)&&E!=f.parent&&(void 0===E&&(E=null),null!=E&&(E=""+E),o=o.move({parent:E}))}}a.position&&o.position(a.position);var C=function(P,k,O){var F=a[P];null!=F&&F!==c[P]&&(F?o[k]():o[O]())};return C("removed","remove","restore"),C("selected","select","unselect"),C("selectable","selectify","unselectify"),C("locked","lock","unlock"),C("grabbable","grabify","ungrabify"),C("pannable","panify","unpanify"),null!=a.classes&&o.classes(a.classes),l.endBatch(),this}if(void 0===a){var S={data:ii(c.data),position:ii(c.position),group:c.group,removed:c.removed,selected:c.selected,selectable:c.selectable,locked:c.locked,grabbable:c.grabbable,pannable:c.pannable,classes:""},T=0;return c.classes.forEach(function(M){return S.classes+=0==T++?M:" "+M}),S}}},Dt.jsons=function(){for(var a=[],o=0;o<this.length;o++){var c=this[o].json();a.push(c)}return a},Dt.clone=function(){for(var a=this.cy(),o=[],l=0;l<this.length;l++){var f=this[l].json(),h=new tc(a,f,!1);o.push(h)}return new Bt(a,o)},Dt.copy=Dt.clone,Dt.restore=function(){for(var y,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,c=l.cy(),f=c._private,h=[],g=[],_=0,b=l.length;_<b;_++){var E=l[_];o&&!E.removed()||(E.isNode()?h.push(E):g.push(E))}y=h.concat(g);var C,S=function(){y.splice(C,1),C--};for(C=0;C<y.length;C++){var T=y[C],M=T._private,P=M.data;if(T.clearTraversalCache(),o||M.removed)if(void 0===P.id)P.id=Op();else if(ht(P.id))P.id=""+P.id;else{if(nn(P.id)||!st(P.id)){Xn("Can not create element with invalid string ID `"+P.id+"`"),S();continue}if(c.hasElementWithId(P.id)){Xn("Can not create second element with ID `"+P.id+"`"),S();continue}}var k=P.id;if(T.isNode()){var O=M.position;null==O.x&&(O.x=0),null==O.y&&(O.y=0)}if(T.isEdge()){for(var F=T,L=["source","target"],$=L.length,K=!1,X=0;X<$;X++){var z=L[X],Y=P[z];ht(Y)&&(Y=P[z]=""+P[z]),null==Y||""===Y?(Xn("Can not create edge `"+k+"` with unspecified "+z),K=!0):c.hasElementWithId(Y)||(Xn("Can not create edge `"+k+"` with nonexistant "+z+" `"+Y+"`"),K=!0)}if(K){S();continue}var j=c.getElementById(P.source),ee=c.getElementById(P.target);j.same(ee)?j._private.edges.push(F):(j._private.edges.push(F),ee._private.edges.push(F)),F._private.source=j,F._private.target=ee}M.map=new xs,M.map.set(k,{ele:T,index:0}),M.removed=!1,o&&c.addToPool(T)}for(var te=0;te<h.length;te++){var W=h[te],oe=W._private.data;ht(oe.parent)&&(oe.parent=""+oe.parent);var Q=oe.parent;if(null!=Q||W._private.parent){var se=W._private.parent?c.collection().merge(W._private.parent):c.getElementById(Q);if(se.empty())oe.parent=void 0;else if(se[0].removed())Jt("Node added with missing parent, reference to parent removed"),oe.parent=void 0,W._private.parent=null;else{for(var ie=!1,me=se;!me.empty();){if(W.same(me)){ie=!0,oe.parent=void 0;break}me=me.parent()}ie||(se[0]._private.children.push(W),W._private.parent=se[0],f.hasCompoundNodes=!0)}}}if(y.length>0){for(var _e=y.length===l.length?l:new Bt(c,y),ke=0;ke<_e.length;ke++){var ge=_e[ke];ge.isNode()||(ge.parallelEdges().clearTraversalCache(),ge.source().clearTraversalCache(),ge.target().clearTraversalCache())}(f.hasCompoundNodes?c.collection().merge(_e).merge(_e.connectedNodes()).merge(_e.parent()):_e).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(a),a?_e.emitAndNotify("add"):o&&_e.emit("add")}return l},Dt.removed=function(){var a=this[0];return a&&a._private.removed},Dt.inside=function(){var a=this[0];return a&&!a._private.removed},Dt.remove=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,c=[],f={},h=l._private.cy;function _(Q){var de=f[Q.id()];o&&Q.removed()||de||(f[Q.id()]=!0,Q.isNode()?(c.push(Q),function g(Q){for(var de=Q._private.edges,se=0;se<de.length;se++)_(de[se])}(Q),function y(Q){for(var de=Q._private.children,se=0;se<de.length;se++)_(de[se])}(Q)):c.unshift(Q))}for(var b=0,E=l.length;b<E;b++)_(l[b]);function S(Q,de){zo(Q._private.edges,de),Q.clearTraversalCache()}var M=[];function P(Q,de){de=de[0];var se=(Q=Q[0])._private.children,ie=Q.id();zo(se,de),de._private.parent=null,M.ids[ie]||(M.ids[ie]=!0,M.push(Q))}M.ids={},l.dirtyCompoundBoundsCache(),o&&h.removeFromPool(c);for(var k=0;k<c.length;k++){var O=c[k];if(O.isEdge()){var F=O.source()[0],L=O.target()[0];S(F,O),S(L,O);for(var $=O.parallelEdges(),K=0;K<$.length;K++){var X=$[K];X.clearTraversalCache(),X.isBundledBezier()&&X.dirtyBoundingBoxCache()}}else{var z=O.parent();0!==z.length&&P(z,O)}o&&(O._private.removed=!0)}var Y=h._private.elements;h._private.hasCompoundNodes=!1;for(var j=0;j<Y.length;j++)if(Y[j].isParent()){h._private.hasCompoundNodes=!0;break}var te=new Bt(this.cy(),c);te.size()>0&&(a?te.emitAndNotify("remove"):o&&te.emit("remove"));for(var W=0;W<M.length;W++){var oe=M[W];(!o||!oe.removed())&&oe.updateStyle()}return te},Dt.move=function(a){var o=this._private.cy,l=this,c=!1,f=!1,h=function(M){return null==M?M:""+M};if(void 0!==a.source||void 0!==a.target){var g=h(a.source),y=h(a.target),_=null!=g&&o.hasElementWithId(g),b=null!=y&&o.hasElementWithId(y);(_||b)&&(o.batch(function(){l.remove(c,f),l.emitAndNotify("moveout");for(var T=0;T<l.length;T++){var M=l[T],P=M._private.data;M.isEdge()&&(_&&(P.source=g),b&&(P.target=y))}l.restore(c,f)}),l.emitAndNotify("move"))}else if(void 0!==a.parent){var E=h(a.parent);if(null===E||o.hasElementWithId(E)){var S=null===E?void 0:E;o.batch(function(){var T=l.remove(c,f);T.emitAndNotify("moveout");for(var M=0;M<l.length;M++){var P=l[M],k=P._private.data;P.isNode()&&(k.parent=S)}T.restore(c,f)}),l.emitAndNotify("move")}}return this},[Ba,vu,kr,Va,yu,n0,fh,fi,Eh,po,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},xc,_u,Jr,Yr,Di].forEach(function(a){Lt(Dt,a)});var ig={add:function(o){var l,c=this;if(Kt(o)){var f=o;if(f._private.cy===c)l=f.restore();else{for(var h=[],g=0;g<f.length;g++)h.push(f[g].json());l=new Bt(c,h)}}else if(Fn(o))l=new Bt(c,o);else if(Mt(o)&&(Fn(o.nodes)||Fn(o.edges))){for(var b=o,E=[],C=["nodes","edges"],S=0,T=C.length;S<T;S++){var M=C[S],P=b[M];if(Fn(P))for(var k=0,O=P.length;k<O;k++){var F=Lt({group:M},P[k]);E.push(F)}}l=new Bt(c,E)}else l=new tc(c,o).collection();return l},remove:function(o){return Kt(o)||st(o)&&(o=this.$(o)),o.remove()}};function jd(a,o,l,c){var b=.1,E=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var C=0;C<4;++C)if("number"!=typeof arguments[C]||isNaN(arguments[C])||!isFinite(arguments[C]))return!1;a=Math.min(a,1),l=Math.min(l,1),a=Math.max(a,0),l=Math.max(l,0);var S=E?new Float32Array(11):new Array(11);function T(ee,te){return 1-3*te+3*ee}function M(ee,te){return 3*te-6*ee}function P(ee){return 3*ee}function k(ee,te,W){return((T(te,W)*ee+M(te,W))*ee+P(te))*ee}function O(ee,te,W){return 3*T(te,W)*ee*ee+2*M(te,W)*ee+P(te)}var X=!1;var Y=function(te){return X||function z(){X=!0,(a!==o||l!==c)&&function L(){for(var ee=0;ee<11;++ee)S[ee]=k(ee*b,a,l)}()}(),a===o&&l===c?te:0===te?0:1===te?1:k(function K(ee){for(var te=0,W=1;10!==W&&S[W]<=ee;++W)te+=b;--W;var de=te+(ee-S[W])/(S[W+1]-S[W])*b,se=O(de,a,l);return se>=.001?function F(ee,te){for(var W=0;W<4;++W){var oe=O(te,a,l);if(0===oe)return te;te-=(k(te,a,l)-ee)/oe}return te}(ee,de):0===se?de:function $(ee,te,W){var oe,Q,de=0;do{(oe=k(Q=te+(W-te)/2,a,l)-ee)>0?W=Q:te=Q}while(Math.abs(oe)>1e-7&&++de<10);return Q}(ee,te,te+b)}(te),o,c)};Y.getControlPoints=function(){return[{x:a,y:o},{x:l,y:c}]};var j="generateBezier("+[a,o,l,c]+")";return Y.toString=function(){return j},Y}var og=function(){function a(c){return-c.tension*c.x-c.friction*c.v}function o(c,f,h){var g={x:c.x+h.dx*f,v:c.v+h.dv*f,tension:c.tension,friction:c.friction};return{dx:g.v,dv:a(g)}}function l(c,f){var h={dx:c.v,dv:a(c)},g=o(c,.5*f,h),y=o(c,.5*f,g),_=o(c,f,y),E=1/6*(h.dv+2*(g.dv+y.dv)+_.dv);return c.x=c.x+1/6*(h.dx+2*(g.dx+y.dx)+_.dx)*f,c.v=c.v+E*f,c}return function c(f,h,g){var S,T,M,y={x:-1,v:0,tension:null,friction:null},_=[0],b=0,E=1e-4;for(f=parseFloat(f)||500,h=parseFloat(h)||20,g=g||null,y.tension=f,y.friction=h,T=(S=null!==g)?(b=c(f,h))/g*.016:.016;M=l(M||y,T),_.push(1+M.x),b+=16,Math.abs(M.x)>E&&Math.abs(M.v)>E;);return S?function(P){return _[P*(_.length-1)|0]}:b}}(),Dr=function(o,l,c,f){var h=jd(o,l,c,f);return function(g,y,_){return g+(y-g)*h(_)}},Gd={linear:function(o,l,c){return o+(l-o)*c},ease:Dr(.25,.1,.25,1),"ease-in":Dr(.42,0,1,1),"ease-out":Dr(0,0,.58,1),"ease-in-out":Dr(.42,0,.58,1),"ease-in-sine":Dr(.47,0,.745,.715),"ease-out-sine":Dr(.39,.575,.565,1),"ease-in-out-sine":Dr(.445,.05,.55,.95),"ease-in-quad":Dr(.55,.085,.68,.53),"ease-out-quad":Dr(.25,.46,.45,.94),"ease-in-out-quad":Dr(.455,.03,.515,.955),"ease-in-cubic":Dr(.55,.055,.675,.19),"ease-out-cubic":Dr(.215,.61,.355,1),"ease-in-out-cubic":Dr(.645,.045,.355,1),"ease-in-quart":Dr(.895,.03,.685,.22),"ease-out-quart":Dr(.165,.84,.44,1),"ease-in-out-quart":Dr(.77,0,.175,1),"ease-in-quint":Dr(.755,.05,.855,.06),"ease-out-quint":Dr(.23,1,.32,1),"ease-in-out-quint":Dr(.86,0,.07,1),"ease-in-expo":Dr(.95,.05,.795,.035),"ease-out-expo":Dr(.19,1,.22,1),"ease-in-out-expo":Dr(1,0,0,1),"ease-in-circ":Dr(.6,.04,.98,.335),"ease-out-circ":Dr(.075,.82,.165,1),"ease-in-out-circ":Dr(.785,.135,.15,.86),spring:function(o,l,c){if(0===c)return Gd.linear;var f=og(o,l,c);return function(h,g,y){return h+(g-h)*f(y)}},"cubic-bezier":Dr};function go(a,o,l,c,f){if(1===c||o===l)return l;var h=f(o,l,c);return null==a||((a.roundValue||a.color)&&(h=Math.round(h)),void 0!==a.min&&(h=Math.max(h,a.min)),void 0!==a.max&&(h=Math.min(h,a.max))),h}function Sl(a,o){return null!=a.pfValue||null!=a.value?null==a.pfValue||null!=o&&"%"===o.type.units?a.value:a.pfValue:a}function fa(a,o,l,c,f){var h=null!=f?f.type:null;l<0?l=0:l>1&&(l=1);var g=Sl(a,f),y=Sl(o,f);if(ht(g)&&ht(y))return go(h,g,y,l,c);if(Fn(g)&&Fn(y)){for(var _=[],b=0;b<y.length;b++){var E=g[b],C=y[b];if(null!=E&&null!=C){var S=go(h,E,C,l,c);_.push(S)}else _.push(C)}return _}}function Sh(a,o,l,c){var f=!c,h=a._private,g=o._private,y=g.easing,_=g.startTime,E=(c?a:a.cy()).style();if(!g.easingImpl)if(null==y)g.easingImpl=Gd.linear;else{var C,T,M;C=st(y)?E.parse("transition-timing-function",y).value:y,st(C)?(T=C,M=[]):(T=C[1],M=C.slice(2).map(function(_e){return+_e})),M.length>0?("spring"===T&&M.push(g.duration),g.easingImpl=Gd[T].apply(null,M)):g.easingImpl=Gd[T]}var k,P=g.easingImpl;if(k=0===g.duration?1:(l-_)/g.duration,g.applying&&(k=g.progress),k<0?k=0:k>1&&(k=1),null==g.delay){var O=g.startPosition,F=g.position;if(F&&f&&!a.locked()){var L={};Cu(O.x,F.x)&&(L.x=fa(O.x,F.x,k,P)),Cu(O.y,F.y)&&(L.y=fa(O.y,F.y,k,P)),a.position(L)}var $=g.startPan,K=g.pan,X=h.pan,z=null!=K&&c;z&&(Cu($.x,K.x)&&(X.x=fa($.x,K.x,k,P)),Cu($.y,K.y)&&(X.y=fa($.y,K.y,k,P)),a.emit("pan"));var Y=g.startZoom,j=g.zoom,ee=null!=j&&c;ee&&(Cu(Y,j)&&(h.zoom=Ed(h.minZoom,fa(Y,j,k,P),h.maxZoom)),a.emit("zoom")),(z||ee)&&a.emit("viewport");var te=g.style;if(te&&te.length>0&&f){for(var W=0;W<te.length;W++){var oe=te[W],Q=oe.name,se=g.startStyle[Q],me=fa(se,oe,k,P,E.properties[se.name]);E.overrideBypass(a,Q,me)}a.emit("style")}}return g.progress=k,k}function Cu(a,o){return!!(null!=a&&null!=o&&(ht(a)&&ht(o)||a&&o))}function sg(a,o,l,c){var f=o._private;f.started=!0,f.startTime=l-f.progress*f.duration}function mo(a,o){var l=o._private.aniEles,c=[];function f(E,C){var S=E._private,T=S.animation.current,M=S.animation.queue,P=!1;if(0===T.length){var k=M.shift();k&&T.push(k)}for(var O=function(X){for(var z=X.length-1;z>=0;z--)(0,X[z])();X.splice(0,X.length)},F=T.length-1;F>=0;F--){var L=T[F],$=L._private;$.stopped?(T.splice(F,1),$.hooked=!1,$.playing=!1,$.started=!1,O($.frames)):!$.playing&&!$.applying||($.playing&&$.applying&&($.applying=!1),$.started||sg(0,L,a),Sh(E,L,a,C),$.applying&&($.applying=!1),O($.frames),null!=$.step&&$.step(a),L.completed()&&(T.splice(F,1),$.hooked=!1,$.playing=!1,$.started=!1,O($.completes)),P=!0)}return!C&&0===T.length&&0===M.length&&c.push(E),P}for(var h=!1,g=0;g<l.length;g++){var _=f(l[g]);h=h||_}var b=f(o,!0);(h||b)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(c),o.emit("step")}var Ge={animate:on.animate(),animation:on.animation(),animated:on.animated(),clearQueue:on.clearQueue(),delay:on.delay(),delayAnimation:on.delayAnimation(),stop:on.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var c=o.renderer();c&&c.beforeRender?c.beforeRender(function(h,g){mo(g,o)},c.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&pd(function(h){mo(h,o),l()})}()}}},kn={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,c){var f=l.qualifier;return null==f||o!==c.target&&tu(c.target)&&f.matches(c.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,c){return null!=l.qualifier?c.target:o}},Ac=function(o){return st(o)?new Os(o):o},Rc={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new bu(kn,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,c){return this.emitter().on(o,Ac(l),c),this},removeListener:function(o,l,c){return this.emitter().removeListener(o,Ac(l),c),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,c){return this.emitter().one(o,Ac(l),c),this},once:function(o,l,c){return this.emitter().one(o,Ac(l),c),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};on.eventAliasesOn(Rc);var ei={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};ei.jpeg=ei.jpg;var Ml={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var h,c=o.name,f=l.extension("layout",c);if(null!=f)return h=st(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new f(Lt({},o,{cy:l,eles:h}));Xn("No such layout `"+c+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Xn("A `name` must be specified to make a layout");else Xn("Layout options must be specified to make a layout")}};Ml.createLayout=Ml.makeLayout=Ml.layout;var xu={notify:function(o,l){var c=this._private;if(this.batching()){c.batchNotifications=c.batchNotifications||{};var f=c.batchNotifications[o]=c.batchNotifications[o]||this.collection();null!=l&&f.merge(l)}else if(c.notificationsEnabled){var h=this.renderer();this.destroyed()||!h||h.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(c){var f=o.batchNotifications[c];f.empty()?l.notify(c):l.notify(c,f)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var c=Object.keys(o),f=0;f<c.length;f++){var h=c[f],g=o[h];l.getElementById(h).data(g)}})}},qo=Wr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Tl={renderTo:function(o,l,c,f){return this._private.renderer.renderTo(o,l,c,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,c=l.extension("renderer",o.name);if(null!=c){void 0!==o.wheelSensitivity&&Jt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=qo(o);f.cy=l,l._private.renderer=new c(f),this.notify("init")}else Xn("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(c){var f=c._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Tl.invalidateDimensions=Tl.resize;var No={collection:function(o,l){return st(o)?this.$(o):Kt(o)?o.collection():Fn(o)?(l||(l={}),new Bt(this,o,l.unique,l.removed)):new Bt(this)},nodes:function(o){var l=this.$(function(c){return c.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(c){return c.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};No.elements=No.filter=No.$;var Vi={apply:function(a){for(var o=this,f=o._private.cy.collection(),h=0;h<a.length;h++){var g=a[h],y=o.getContextMeta(g);if(!y.empty){var _=o.getContextStyle(y),b=o.applyContextStyle(y,_,g);g._private.appliedInitStyle?o.updateTransitions(g,b.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&f.push(g)}}return f},getPropertiesDiff:function(a,o){var l=this,c=l._private.propDiffs=l._private.propDiffs||{},f=a+"-"+o,h=c[f];if(h)return h;for(var g=[],y={},_=0;_<l.length;_++){var b=l[_],C="t"===o[_],S="t"===a[_]!==C,T=b.mappedProperties.length>0;if(S||C&&T){var M=void 0;S&&T||S?M=b.properties:T&&(M=b.mappedProperties);for(var P=0;P<M.length;P++){for(var k=M[P],O=k.name,F=!1,L=_+1;L<l.length&&("t"!==o[L]||!(F=null!=l[L].properties[k.name]));L++);!y[O]&&!F&&(y[O]=!0,g.push(O))}}}return c[f]=g,g},getContextMeta:function(a){for(var c,o=this,l="",f=a._private.styleCxtKey||"",h=0;h<o.length;h++){var g=o[h];l+=g.selector&&g.selector.matches(a)?"t":"f"}return c=o.getPropertiesDiff(f,l),a._private.styleCxtKey=l,{key:l,diffPropNames:c,empty:0===c.length}},getContextStyle:function(a){var o=a.key,c=this._private.contextStyles=this._private.contextStyles||{};if(c[o])return c[o];for(var f={_private:{key:o}},h=0;h<this.length;h++){var g=this[h];if("t"===o[h])for(var _=0;_<g.properties.length;_++){var b=g.properties[_];f[b.name]=b}}return c[o]=f,f},applyContextStyle:function(a,o,l){for(var f=a.diffPropNames,h={},g=this.types,y=0;y<f.length;y++){var _=f[y],b=o[_],E=l.pstyle(_);if(!b){if(!E)continue;b=E.bypass?{name:_,deleteBypassed:!0}:{name:_,delete:!0}}if(E!==b){if(b.mapped===g.fn&&null!=E&&null!=E.mapping&&E.mapping.value===b.value){var C=E.mapping;if((C.fnValue=b.value(l))===C.prevFnValue)continue}var T=h[_]={prev:E};this.applyParsedProperty(l,b),T.next=l.pstyle(_),T.next&&T.next.bypass&&(T.next=T.next.bypassed)}}return{diffProps:h}},updateStyleHints:function(a){var c,o=a._private,l=this,f=l.propertyGroupKeys,h=function(rt,Ot,Ht){return l.getPropertiesHash(rt,Ot,Ht)},g=o.styleKey;if(a.removed())return!1;var rt,y="nodes"===o.group,_=a._private.style;c=Object.keys(_);for(var b=0;b<f.length;b++)o.styleKeys[f[b]]=[hl,gd];for(var C=function(rt,Ot){return o.styleKeys[Ot][0]=su(rt,o.styleKeys[Ot][0])},S=function(rt,Ot){return o.styleKeys[Ot][1]=au(rt,o.styleKeys[Ot][1])},T=function(rt,Ot){C(rt,Ot),S(rt,Ot)},M=function(rt,Ot){for(var Ht=0;Ht<rt.length;Ht++){var Be=rt.charCodeAt(Ht);C(Be,Ot),S(Be,Ot)}},O=0;O<c.length;O++){var F=c[O],L=_[F];if(null!=L){var $=this.properties[F],K=$.type,X=$.groupKey,z=void 0;null!=$.hashOverride?z=$.hashOverride(a,L):null!=L.pfValue&&(z=L.pfValue);var Y=null==$.enums?L.value:null,j=null!=z,W=L.units;!K.number||!j&&null==Y||K.multiple?M(L.strValue,X):(T(-128<(rt=j?z:Y)&&rt<128&&Math.floor(rt)!==rt?2e9-(1024*rt|0):rt,X),!j&&null!=W&&M(W,X))}}for(var Q=[hl,gd],de=0;de<f.length;de++){var ie=o.styleKeys[f[de]];Q[0]=su(ie[0],Q[0]),Q[1]=au(ie[1],Q[1])}o.styleKey=function(o,l){return 2097152*o+l}(Q[0],Q[1]);var me=o.styleKeys;o.labelDimsKey=Xs(me.labelDimensions);var _e=h(a,["label"],me.labelDimensions);if(o.labelKey=Xs(_e),o.labelStyleKey=Xs(vd(me.commonLabel,_e)),!y){var ke=h(a,["source-label"],me.labelDimensions);o.sourceLabelKey=Xs(ke),o.sourceLabelStyleKey=Xs(vd(me.commonLabel,ke));var ge=h(a,["target-label"],me.labelDimensions);o.targetLabelKey=Xs(ge),o.targetLabelStyleKey=Xs(vd(me.commonLabel,ge))}if(y){var Ie=o.styleKeys,Ye=Ie.pie,Qe=[Ie.nodeBody,Ie.nodeBorder,Ie.nodeOutline,Ie.backgroundImage,Ie.compound,Ye].filter(function(je){return null!=je}).reduce(vd,[hl,gd]);o.nodeKey=Xs(Qe),o.hasPie=null!=Ye&&Ye[0]!==hl&&Ye[1]!==gd}return g!==o.styleKey},clearStyleHints:function(a){var o=a._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(a,o){var h,l=this,c=o,f=a._private.style,g=l.types,y=l.properties[c.name].type,_=c.bypass,b=f[c.name],E=b&&b.bypass,C=a._private,S="mapping",T=function($e){return null==$e?null:null!=$e.pfValue?$e.pfValue:$e.value},M=function(){var $e=T(b),qe=T(c);l.checkTriggers(a,c.name,$e,qe)};if("curve-style"===o.name&&a.isEdge()&&("bezier"!==o.value&&a.isLoop()||"haystack"===o.value&&(a.source().isParent()||a.target().isParent()))&&(c=o=this.parse(o.name,"bezier",_)),c.delete)return f[c.name]=void 0,M(),!0;if(c.deleteBypassed)return b?!!b.bypass&&(b.bypassed=void 0,M(),!0):(M(),!0);if(c.deleteBypass)return b?!!b.bypass&&(f[c.name]=b.bypassed,M(),!0):(M(),!0);var P=function(){Jt("Do not assign mappings to elements without corresponding data (i.e. ele `"+a.id()+"` has no mapping for property `"+c.name+"` with data field `"+c.field+"`); try a `["+c.field+"]` selector to limit scope to elements with `"+c.field+"` defined")};switch(c.mapped){case g.mapData:for(var k=c.field.split("."),O=C.data,F=0;F<k.length&&O;F++)O=O[k[F]];if(null==O)return P(),!1;var $;if(!ht(O))return Jt("Do not use continuous mappers without specifying numeric data (i.e. `"+c.field+": "+O+"` for `"+a.id()+"` is non-numeric)"),!1;var K=c.fieldMax-c.fieldMin;if(($=0===K?0:(O-c.fieldMin)/K)<0?$=0:$>1&&($=1),y.color){var X=c.valueMin[0],Y=c.valueMin[1],j=c.valueMax[1],ee=c.valueMin[2],te=c.valueMax[2],W=null==c.valueMin[3]?1:c.valueMin[3],oe=null==c.valueMax[3]?1:c.valueMax[3],Q=[Math.round(X+(c.valueMax[0]-X)*$),Math.round(Y+(j-Y)*$),Math.round(ee+(te-ee)*$),Math.round(W+(oe-W)*$)];h={bypass:c.bypass,name:c.name,value:Q,strValue:"rgb("+Q[0]+", "+Q[1]+", "+Q[2]+")"}}else{if(!y.number)return!1;h=this.parse(c.name,c.valueMin+(c.valueMax-c.valueMin)*$,c.bypass,S)}if(!h)return P(),!1;h.mapping=c,c=h;break;case g.data:for(var se=c.field.split("."),ie=C.data,me=0;me<se.length&&ie;me++)ie=ie[se[me]];if(null!=ie&&(h=this.parse(c.name,ie,c.bypass,S)),!h)return P(),!1;h.mapping=c,c=h;break;case g.fn:var ge=null!=c.fnValue?c.fnValue:(0,c.value)(a);if(c.prevFnValue=ge,null==ge)return Jt("Custom function mappers may not return null (i.e. `"+c.name+"` for ele `"+a.id()+"` is null)"),!1;if(!(h=this.parse(c.name,ge,c.bypass,S)))return Jt("Custom function mappers may not return invalid values for the property type (i.e. `"+c.name+"` for ele `"+a.id()+"` is invalid)"),!1;h.mapping=ii(c),c=h;break;case void 0:break;default:return!1}return _?(c.bypassed=E?b.bypassed:b,f[c.name]=c):E?b.bypassed=c:f[c.name]=c,M(),!0},cleanElements:function(a,o){for(var l=0;l<a.length;l++){var c=a[l];if(this.clearStyleHints(c),c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),o)for(var f=c._private.style,h=Object.keys(f),g=0;g<h.length;g++){var y=h[g],_=f[y];null!=_&&(_.bypass?_.bypassed=null:f[y]=null)}else c._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(a,o){var l=this,c=a._private,f=a.pstyle("transition-property").value,h=a.pstyle("transition-duration").pfValue,g=a.pstyle("transition-delay").pfValue;if(f.length>0&&h>0){for(var y={},_=!1,b=0;b<f.length;b++){var E=f[b],C=a.pstyle(E),S=o[E];if(S){var M=S.prev,P=null!=S.next?S.next:C,k=!1,O=void 0,F=1e-6;M&&(ht(M.pfValue)&&ht(P.pfValue)?O=M.pfValue+F*(k=P.pfValue-M.pfValue):ht(M.value)&&ht(P.value)?O=M.value+F*(k=P.value-M.value):Fn(M.value)&&Fn(P.value)&&(k=M.value[0]!==P.value[0]||M.value[1]!==P.value[1]||M.value[2]!==P.value[2],O=M.strValue),k&&(y[E]=P.strValue,this.applyBypass(a,E,O),_=!0))}}if(!_)return;c.transitioning=!0,new Ao(function(L){g>0?a.delayAnimation(g).play().promise().then(L):L()}).then(function(){return a.animation({style:y,duration:h,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(a,f),a.emitAndNotify("style"),c.transitioning=!1})}else c.transitioning&&(this.removeBypasses(a,f),a.emitAndNotify("style"),c.transitioning=!1)},checkTrigger:function(a,o,l,c,f,h){var g=this.properties[o],y=f(g);null!=y&&y(l,c)&&h(g)},checkZOrderTrigger:function(a,o,l,c){var f=this;this.checkTrigger(a,o,l,c,function(h){return h.triggersZOrder},function(){f._private.cy.notify("zorder",a)})},checkBoundsTrigger:function(a,o,l,c){this.checkTrigger(a,o,l,c,function(f){return f.triggersBounds},function(f){a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&"curve-style"===o&&("bezier"===l||"bezier"===c)&&a.parallelEdges().forEach(function(h){h.isBundledBezier()&&h.dirtyBoundingBoxCache()}),f.triggersBoundsOfConnectedEdges&&"display"===o&&("none"===l||"none"===c)&&a.connectedEdges().forEach(function(h){h.dirtyBoundingBoxCache()})})},checkTriggers:function(a,o,l,c){a.dirtyStyleCache(),this.checkZOrderTrigger(a,o,l,c),this.checkBoundsTrigger(a,o,l,c)}},ti={applyBypass:function(a,o,l,c){var h=[];if("*"===o||"**"===o){if(void 0!==l)for(var y=0;y<this.properties.length;y++){var E=this.parse(this.properties[y].name,l,!0);E&&h.push(E)}}else if(st(o)){var C=this.parse(o,l,!0);C&&h.push(C)}else{if(!Mt(o))return!1;var S=o;c=l;for(var T=Object.keys(S),M=0;M<T.length;M++){var P=T[M],k=S[P];if(void 0===k&&(k=S[cl(P)]),void 0!==k){var O=this.parse(P,k,!0);O&&h.push(O)}}}if(0===h.length)return!1;for(var F=!1,L=0;L<a.length;L++){for(var $=a[L],K={},X=void 0,z=0;z<h.length;z++){var Y=h[z];if(c){var j=$.pstyle(Y.name);X=K[Y.name]={prev:j}}F=this.applyParsedProperty($,ii(Y))||F,c&&(X.next=$.pstyle(Y.name))}F&&this.updateStyleHints($),c&&this.updateTransitions($,K,!0)}return F},overrideBypass:function(a,o,l){o=xo(o);for(var c=0;c<a.length;c++){var f=a[c],h=f._private.style[o],g=this.properties[o].type,y=g.color,_=g.mutiple,b=h?null!=h.pfValue?h.pfValue:h.value:null;h&&h.bypass?(h.value=l,null!=h.pfValue&&(h.pfValue=l),h.strValue=y?"rgb("+l.join(",")+")":_?l.join(" "):""+l,this.updateStyleHints(f)):this.applyBypass(f,o,l),this.checkTriggers(f,o,b,l)}},removeAllBypasses:function(a,o){return this.removeBypasses(a,this.propertyNames,o)},removeBypasses:function(a,o,l){for(var f=0;f<a.length;f++){for(var h=a[f],g={},y=0;y<o.length;y++){var _=o[y],b=this.properties[_],E=h.pstyle(b.name);if(E&&E.bypass){var S=this.parse(_,"",!0),T=g[b.name]={prev:E};this.applyParsedProperty(h,S),T.next=h.pstyle(b.name)}}this.updateStyleHints(h),l&&this.updateTransitions(h,g,!0)}}},Fo={getEmSizeInPixels:function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},containerCss:function(a){var o=this._private.cy,l=o.container(),c=o.window();if(c&&l&&c.getComputedStyle)return c.getComputedStyle(l).getPropertyValue(a)}},ls={getRenderedStyle:function(a,o){return o?this.getStylePropertyValue(a,o,!0):this.getRawStyle(a,!0)},getRawStyle:function(a,o){var l=this;if(a=a[0]){for(var c={},f=0;f<l.properties.length;f++){var h=l.properties[f],g=l.getStylePropertyValue(a,h.name,o);null!=g&&(c[h.name]=g,c[cl(h.name)]=g)}return c}},getIndexedStyle:function(a,o,l,c){return a.pstyle(o)[l][c]??a.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(a,o,l){if(a=a[0]){var f=this.properties[o];f.alias&&(f=f.pointsTo);var h=f.type,g=a.pstyle(f.name);if(g){var y=g.value,_=g.units,b=g.strValue;if(l&&h.number&&null!=y&&ht(y)){var E=a.cy().zoom(),C=function(k){return k*E},S=function(k,O){return C(k)+O},T=Fn(y);return(T?_.every(function(P){return null!=P}):null!=_)?T?y.map(function(P,k){return S(P,_[k])}).join(" "):S(y,_):T?y.map(function(P){return st(P)?P:""+C(P)}).join(" "):""+C(y)}if(null!=b)return b}return null}},getAnimationStartStyle:function(a,o){for(var l={},c=0;c<o.length;c++){var h=o[c].name,g=a.pstyle(h);void 0!==g&&(g=Mt(g)?this.parse(h,g.strValue):this.parse(h,g)),g&&(l[h]=g)}return l},getPropsList:function(a){var l=[],c=a,f=this.properties;if(c)for(var h=Object.keys(c),g=0;g<h.length;g++){var y=h[g],_=c[y],b=f[y]||f[xo(y)],E=this.parse(b.name,_);E&&l.push(E)}return l},getNonDefaultPropertiesHash:function(a,o,l){var h,g,y,_,b,c=l.slice();for(_=0;_<o.length;_++)if(null!=(h=a.pstyle(o[_],!1)))if(null!=h.pfValue)c[0]=su(y,c[0]),c[1]=au(y,c[1]);else for(g=h.strValue,b=0;b<g.length;b++)y=g.charCodeAt(b),c[0]=su(y,c[0]),c[1]=au(y,c[1]);return c}};ls.getPropertiesHash=ls.getNonDefaultPropertiesHash;var ha={appendFromJson:function(a){for(var o=this,l=0;l<a.length;l++){var c=a[l],f=c.selector,h=c.style||c.css,g=Object.keys(h);o.selector(f);for(var y=0;y<g.length;y++){var _=g[y];o.css(_,h[_])}}return o},fromJson:function(a){var o=this;return o.resetToDefault(),o.appendFromJson(a),o},json:function(){for(var a=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],c=l.selector,f=l.properties,h={},g=0;g<f.length;g++){var y=f[g];h[y.name]=y.strValue}a.push({selector:c?c.toString():"core",style:h})}return a}},us={appendFromString:function(a){var f,h,g,l=this,c=""+a;function y(){c=c.length>f.length?c.substr(f.length):""}function _(){h=h.length>g.length?h.substr(g.length):""}for(c=c.replace(/[/][*](\s|.)+?[*][/]/g,"");!c.match(/^\s*$/);){var E=c.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!E){Jt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+c);break}f=E[0];var C=E[1];if("core"!==C&&new Os(C).invalid)Jt("Skipping parsing of block: Invalid selector found in string stylesheet: "+C),y();else{var T=E[2],M=!1;h=T;for(var P=[];!h.match(/^\s*$/);){var O=h.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!O){Jt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+T),M=!0;break}g=O[0];var F=O[1],L=O[2];this.properties[F]?l.parse(F,L)?(P.push({name:F,val:L}),_()):(Jt("Skipping property: Invalid property definition in: "+g),_()):(Jt("Skipping property: Invalid property name in: "+g),_())}if(M){y();break}l.selector(C);for(var X=0;X<P.length;X++){var z=P[X];l.css(z.name,z.val)}y()}}return l},fromString:function(a){var o=this;return o.resetToDefault(),o.appendFromString(a),o}},bi={};(function(){var a=ri,o=iu,l=dl,h=function(Qe){return"^"+Qe+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Qe){var je=a+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Qe+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+je+")\\s*\\,\\s*("+je+")\\)$"},y=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];bi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:h("data")},layoutData:{mapping:!0,regex:h("layoutData")},scratch:{mapping:!0,regex:h("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:y,singleRegexMatchValue:!0},urls:{regexes:y,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Qe,je){switch(Qe.length){case 2:return"deg"!==je[0]&&"rad"!==je[0]&&"deg"!==je[1]&&"rad"!==je[1];case 1:return st(Qe[0])||"deg"===je[0]||"rad"===je[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Qe){var je=Qe.length;return 1===je||2===je||4===je}}};var _={zeroNonZero:function(Qe,je){return(null==Qe||null==je)&&Qe!==je||0==Qe&&0!=je||0!=Qe&&0==je},any:function(Qe,je){return Qe!=je},emptyNonEmpty:function(Qe,je){var rt=nn(Qe),Ot=nn(je);return rt&&!Ot||!rt&&Ot}},b=bi.types,E=[{name:"label",type:b.text,triggersBounds:_.any,triggersZOrder:_.emptyNonEmpty},{name:"text-rotation",type:b.textRotation,triggersBounds:_.any},{name:"text-margin-x",type:b.bidirectionalSize,triggersBounds:_.any},{name:"text-margin-y",type:b.bidirectionalSize,triggersBounds:_.any}],C=[{name:"source-label",type:b.text,triggersBounds:_.any},{name:"source-text-rotation",type:b.textRotation,triggersBounds:_.any},{name:"source-text-margin-x",type:b.bidirectionalSize,triggersBounds:_.any},{name:"source-text-margin-y",type:b.bidirectionalSize,triggersBounds:_.any},{name:"source-text-offset",type:b.size,triggersBounds:_.any}],S=[{name:"target-label",type:b.text,triggersBounds:_.any},{name:"target-text-rotation",type:b.textRotation,triggersBounds:_.any},{name:"target-text-margin-x",type:b.bidirectionalSize,triggersBounds:_.any},{name:"target-text-margin-y",type:b.bidirectionalSize,triggersBounds:_.any},{name:"target-text-offset",type:b.size,triggersBounds:_.any}],T=[{name:"font-family",type:b.fontFamily,triggersBounds:_.any},{name:"font-style",type:b.fontStyle,triggersBounds:_.any},{name:"font-weight",type:b.fontWeight,triggersBounds:_.any},{name:"font-size",type:b.size,triggersBounds:_.any},{name:"text-transform",type:b.textTransform,triggersBounds:_.any},{name:"text-wrap",type:b.textWrap,triggersBounds:_.any},{name:"text-overflow-wrap",type:b.textOverflowWrap,triggersBounds:_.any},{name:"text-max-width",type:b.size,triggersBounds:_.any},{name:"text-outline-width",type:b.size,triggersBounds:_.any},{name:"line-height",type:b.positiveNumber,triggersBounds:_.any}],M=[{name:"text-valign",type:b.valign,triggersBounds:_.any},{name:"text-halign",type:b.halign,triggersBounds:_.any},{name:"color",type:b.color},{name:"text-outline-color",type:b.color},{name:"text-outline-opacity",type:b.zeroOneNumber},{name:"text-background-color",type:b.color},{name:"text-background-opacity",type:b.zeroOneNumber},{name:"text-background-padding",type:b.size,triggersBounds:_.any},{name:"text-border-opacity",type:b.zeroOneNumber},{name:"text-border-color",type:b.color},{name:"text-border-width",type:b.size,triggersBounds:_.any},{name:"text-border-style",type:b.borderStyle,triggersBounds:_.any},{name:"text-background-shape",type:b.textBackgroundShape,triggersBounds:_.any},{name:"text-justification",type:b.justification}],P=[{name:"events",type:b.bool,triggersZOrder:_.any},{name:"text-events",type:b.bool,triggersZOrder:_.any}],k=[{name:"display",type:b.display,triggersZOrder:_.any,triggersBounds:_.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:b.visibility,triggersZOrder:_.any},{name:"opacity",type:b.zeroOneNumber,triggersZOrder:_.zeroNonZero},{name:"text-opacity",type:b.zeroOneNumber},{name:"min-zoomed-font-size",type:b.size},{name:"z-compound-depth",type:b.zCompoundDepth,triggersZOrder:_.any},{name:"z-index-compare",type:b.zIndexCompare,triggersZOrder:_.any},{name:"z-index",type:b.number,triggersZOrder:_.any}],O=[{name:"overlay-padding",type:b.size,triggersBounds:_.any},{name:"overlay-color",type:b.color},{name:"overlay-opacity",type:b.zeroOneNumber,triggersBounds:_.zeroNonZero},{name:"overlay-shape",type:b.overlayShape,triggersBounds:_.any}],F=[{name:"underlay-padding",type:b.size,triggersBounds:_.any},{name:"underlay-color",type:b.color},{name:"underlay-opacity",type:b.zeroOneNumber,triggersBounds:_.zeroNonZero},{name:"underlay-shape",type:b.overlayShape,triggersBounds:_.any}],L=[{name:"transition-property",type:b.propList},{name:"transition-duration",type:b.time},{name:"transition-delay",type:b.time},{name:"transition-timing-function",type:b.easing}],$=function(Qe,je){return"label"===je.value?-Qe.poolIndex():je.pfValue},K=[{name:"height",type:b.nodeSize,triggersBounds:_.any,hashOverride:$},{name:"width",type:b.nodeSize,triggersBounds:_.any,hashOverride:$},{name:"shape",type:b.nodeShape,triggersBounds:_.any},{name:"shape-polygon-points",type:b.polygonPointList,triggersBounds:_.any},{name:"background-color",type:b.color},{name:"background-fill",type:b.fill},{name:"background-opacity",type:b.zeroOneNumber},{name:"background-blacken",type:b.nOneOneNumber},{name:"background-gradient-stop-colors",type:b.colors},{name:"background-gradient-stop-positions",type:b.percentages},{name:"background-gradient-direction",type:b.gradientDirection},{name:"padding",type:b.sizeMaybePercent,triggersBounds:_.any},{name:"padding-relative-to",type:b.paddingRelativeTo,triggersBounds:_.any},{name:"bounds-expansion",type:b.boundsExpansion,triggersBounds:_.any}],X=[{name:"border-color",type:b.color},{name:"border-opacity",type:b.zeroOneNumber},{name:"border-width",type:b.size,triggersBounds:_.any},{name:"border-style",type:b.borderStyle}],z=[{name:"outline-color",type:b.color},{name:"outline-opacity",type:b.zeroOneNumber},{name:"outline-width",type:b.size,triggersBounds:_.any},{name:"outline-style",type:b.borderStyle},{name:"outline-offset",type:b.size,triggersBounds:_.any}],Y=[{name:"background-image",type:b.urls},{name:"background-image-crossorigin",type:b.bgCrossOrigin},{name:"background-image-opacity",type:b.zeroOneNumbers},{name:"background-image-containment",type:b.bgContainment},{name:"background-image-smoothing",type:b.bools},{name:"background-position-x",type:b.bgPos},{name:"background-position-y",type:b.bgPos},{name:"background-width-relative-to",type:b.bgRelativeTo},{name:"background-height-relative-to",type:b.bgRelativeTo},{name:"background-repeat",type:b.bgRepeat},{name:"background-fit",type:b.bgFit},{name:"background-clip",type:b.bgClip},{name:"background-width",type:b.bgWH},{name:"background-height",type:b.bgWH},{name:"background-offset-x",type:b.bgPos},{name:"background-offset-y",type:b.bgPos}],j=[{name:"position",type:b.position,triggersBounds:_.any},{name:"compound-sizing-wrt-labels",type:b.compoundIncludeLabels,triggersBounds:_.any},{name:"min-width",type:b.size,triggersBounds:_.any},{name:"min-width-bias-left",type:b.sizeMaybePercent,triggersBounds:_.any},{name:"min-width-bias-right",type:b.sizeMaybePercent,triggersBounds:_.any},{name:"min-height",type:b.size,triggersBounds:_.any},{name:"min-height-bias-top",type:b.sizeMaybePercent,triggersBounds:_.any},{name:"min-height-bias-bottom",type:b.sizeMaybePercent,triggersBounds:_.any}],ee=[{name:"line-style",type:b.lineStyle},{name:"line-color",type:b.color},{name:"line-fill",type:b.fill},{name:"line-cap",type:b.lineCap},{name:"line-opacity",type:b.zeroOneNumber},{name:"line-dash-pattern",type:b.numbers},{name:"line-dash-offset",type:b.number},{name:"line-gradient-stop-colors",type:b.colors},{name:"line-gradient-stop-positions",type:b.percentages},{name:"curve-style",type:b.curveStyle,triggersBounds:_.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:b.zeroOneNumber,triggersBounds:_.any},{name:"source-endpoint",type:b.edgeEndpoint,triggersBounds:_.any},{name:"target-endpoint",type:b.edgeEndpoint,triggersBounds:_.any},{name:"control-point-step-size",type:b.size,triggersBounds:_.any},{name:"control-point-distances",type:b.bidirectionalSizes,triggersBounds:_.any},{name:"control-point-weights",type:b.numbers,triggersBounds:_.any},{name:"segment-distances",type:b.bidirectionalSizes,triggersBounds:_.any},{name:"segment-weights",type:b.numbers,triggersBounds:_.any},{name:"taxi-turn",type:b.bidirectionalSizeMaybePercent,triggersBounds:_.any},{name:"taxi-turn-min-distance",type:b.size,triggersBounds:_.any},{name:"taxi-direction",type:b.axisDirection,triggersBounds:_.any},{name:"edge-distances",type:b.edgeDistances,triggersBounds:_.any},{name:"arrow-scale",type:b.positiveNumber,triggersBounds:_.any},{name:"loop-direction",type:b.angle,triggersBounds:_.any},{name:"loop-sweep",type:b.angle,triggersBounds:_.any},{name:"source-distance-from-node",type:b.size,triggersBounds:_.any},{name:"target-distance-from-node",type:b.size,triggersBounds:_.any}],te=[{name:"ghost",type:b.bool,triggersBounds:_.any},{name:"ghost-offset-x",type:b.bidirectionalSize,triggersBounds:_.any},{name:"ghost-offset-y",type:b.bidirectionalSize,triggersBounds:_.any},{name:"ghost-opacity",type:b.zeroOneNumber}],W=[{name:"selection-box-color",type:b.color},{name:"selection-box-opacity",type:b.zeroOneNumber},{name:"selection-box-border-color",type:b.color},{name:"selection-box-border-width",type:b.size},{name:"active-bg-color",type:b.color},{name:"active-bg-opacity",type:b.zeroOneNumber},{name:"active-bg-size",type:b.size},{name:"outside-texture-bg-color",type:b.color},{name:"outside-texture-bg-opacity",type:b.zeroOneNumber}],oe=[];bi.pieBackgroundN=16,oe.push({name:"pie-size",type:b.sizeMaybePercent});for(var Q=1;Q<=bi.pieBackgroundN;Q++)oe.push({name:"pie-"+Q+"-background-color",type:b.color}),oe.push({name:"pie-"+Q+"-background-size",type:b.percent}),oe.push({name:"pie-"+Q+"-background-opacity",type:b.zeroOneNumber});var de=[],se=bi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:b.arrowShape,triggersBounds:_.any},{name:"arrow-color",type:b.color},{name:"arrow-fill",type:b.arrowFill},{name:"arrow-width",type:b.arrowWidth}].forEach(function(Ye){se.forEach(function(Qe){de.push({name:Qe+"-"+Ye.name,type:Ye.type,triggersBounds:Ye.triggersBounds})})},{});var ie=bi.properties=[].concat(P,L,k,O,F,te,M,T,E,C,S,K,X,z,Y,oe,j,ee,de,W),me=bi.propertyGroups={behavior:P,transition:L,visibility:k,overlay:O,underlay:F,ghost:te,commonLabel:M,labelDimensions:T,mainLabel:E,sourceLabel:C,targetLabel:S,nodeBody:K,nodeBorder:X,nodeOutline:z,backgroundImage:Y,pie:oe,compound:j,edgeLine:ee,edgeArrow:de,core:W},_e=bi.propertyGroupNames={};(bi.propertyGroupKeys=Object.keys(me)).forEach(function(Ye){_e[Ye]=me[Ye].map(function(Qe){return Qe.name}),me[Ye].forEach(function(Qe){return Qe.groupKey=Ye})});var ge=bi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];bi.propertyNames=ie.map(function(Ye){return Ye.name});for(var Ie=0;Ie<ie.length;Ie++){var $e=ie[Ie];ie[$e.name]=$e}for(var qe=0;qe<ge.length;qe++){var He=ge[qe],ye={name:He.name,alias:!0,pointsTo:ie[He.pointsTo]};ie.push(ye),ie[He.name]=ye}})(),bi.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},bi.getDefaultProperties=function(){var a=this._private;if(null!=a.defaultProperties)return a.defaultProperties;for(var o=Lt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(_,b){for(var E=1;E<=bi.pieBackgroundN;E++)_[b.name.replace("{{i}}",E)]=b.value;return _},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(_,b){return bi.arrowPrefixes.forEach(function(E){_[E+"-"+b.name]=b.value}),_},{})),l={},c=0;c<this.properties.length;c++){var f=this.properties[c];if(!f.pointsTo){var h=f.name,y=this.parse(h,o[h]);l[h]=y}}return a.defaultProperties=l,a.defaultProperties},bi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Su={parse:function(a,o,l,c){var f=this;if(Wn(o))return f.parseImplWarn(a,o,l,c);var E,_=Gf(a,""+o,l?"t":"f","mapping"===c||!0===c||!1===c||null==c?"dontcare":c),b=f.propCache=f.propCache||[];return(E=b[_])||(E=b[_]=f.parseImplWarn(a,o,l,c)),(l||"mapping"===c)&&(E=ii(E))&&(E.value=ii(E.value)),E},parseImplWarn:function(a,o,l,c){var f=this.parseImpl(a,o,l,c);return!f&&null!=o&&Jt("The style property `".concat(a,": ").concat(o,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===o&&Jt("The style value of `label` is deprecated for `"+f.name+"`"),f}};Su.parseImpl=function(a,o,l,c){var f=this;a=xo(a);var h=f.properties[a],g=o,y=f.types;if(!h||void 0===o)return null;h.alias&&(a=(h=h.pointsTo).name);var _=st(o);_&&(o=o.trim());var E,C,b=h.type;if(!b)return null;if(l&&(""===o||null===o))return{name:a,value:o,bypass:!0,deleteBypass:!0};if(Wn(o))return{name:a,value:o,strValue:"fn",mapped:y.fn,bypass:l};if(!(!_||c||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(E=new RegExp(y.data.regex).exec(o)))return!l&&{name:a,value:E,strValue:""+o,mapped:y.data,field:E[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(C=new RegExp(y.mapData.regex).exec(o))){if(l||b.multiple)return!1;var T=y.mapData;if(!b.color&&!b.number)return!1;var M=this.parse(a,C[4]);if(!M||M.mapped)return!1;var P=this.parse(a,C[5]);if(!P||P.mapped)return!1;if(M.pfValue===P.pfValue||M.strValue===P.strValue)return Jt("`"+a+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+a+": "+M.strValue+"`"),this.parse(a,M.strValue);if(b.color){var k=M.value,O=P.value;if(!(k[0]!==O[0]||k[1]!==O[1]||k[2]!==O[2]||k[3]!==O[3]&&(null!=k[3]&&1!==k[3]||null!=O[3]&&1!==O[3])))return!1}return{name:a,value:C,strValue:""+o,mapped:T,field:C[1],fieldMin:parseFloat(C[2]),fieldMax:parseFloat(C[3]),valueMin:M.value,valueMax:P.value,bypass:l}}}if(b.multiple&&"multiple"!==c){var L;if(L=_?o.split(/\s+/):Fn(o)?o:[o],b.evenMultiple&&L.length%2!=0)return null;for(var $=[],K=[],X=[],z="",Y=!1,j=0;j<L.length;j++){var ee=f.parse(a,L[j],l,"multiple");Y=Y||st(ee.value),$.push(ee.value),X.push(null!=ee.pfValue?ee.pfValue:ee.value),K.push(ee.units),z+=(j>0?" ":"")+ee.strValue}return b.validate&&!b.validate($,K)?null:b.singleEnum&&Y?1===$.length&&st($[0])?{name:a,value:$[0],strValue:$[0],bypass:l}:null:{name:a,value:$,pfValue:X,strValue:z,bypass:l,units:K}}var te=function(){for(var Qe=0;Qe<b.enums.length;Qe++)if(b.enums[Qe]===o)return{name:a,value:o,strValue:""+o,bypass:l};return null};if(b.number){var W,oe="px";if(b.units&&(W=b.units),b.implicitUnits&&(oe=b.implicitUnits),!b.unitless)if(_){var Q="px|em"+(b.allowPercent?"|\\%":"");W&&(Q=W);var de=o.match("^("+ri+")("+Q+")?$");de&&(o=de[1],W=de[2]||oe)}else(!W||b.implicitUnits)&&(W=oe);if(o=parseFloat(o),isNaN(o)&&void 0===b.enums)return null;if(isNaN(o)&&void 0!==b.enums)return o=g,te();if(b.integer&&!function(o){return ht(o)&&Math.floor(o)===o}(o)||void 0!==b.min&&(o<b.min||b.strictMin&&o===b.min)||void 0!==b.max&&(o>b.max||b.strictMax&&o===b.max))return null;var se={name:a,value:o,strValue:""+o+(W||""),units:W,bypass:l};return se.pfValue=b.unitless||"px"!==W&&"em"!==W?o:"px"!==W&&W?this.getEmSizeInPixels()*o:o,("ms"===W||"s"===W)&&(se.pfValue="ms"===W?o:1e3*o),("deg"===W||"rad"===W)&&(se.pfValue="rad"===W?o:function(o){return Math.PI*o/180}(o)),"%"===W&&(se.pfValue=o/100),se}if(b.propList){var ie=[],me=""+o;if("none"!==me){for(var _e=me.split(/\s*,\s*|\s+/),ke=0;ke<_e.length;ke++){var ge=_e[ke].trim();f.properties[ge]?ie.push(ge):Jt("`"+ge+"` is not a valid property name")}if(0===ie.length)return null}return{name:a,value:ie,strValue:0===ie.length?"none":ie.join(" "),bypass:l}}if(b.color){var Ie=function(o){return(Fn(o)?o:null)||function(o){return Hf[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var c,f,h,g=16;return 4===o.length?(c=parseInt(o[1]+o[1],g),f=parseInt(o[2]+o[2],g),h=parseInt(o[3]+o[3],g)):(c=parseInt(o[1]+o[2],g),f=parseInt(o[3]+o[4],g),h=parseInt(o[5]+o[6],g)),[c,f,h]}}(o)||function(o){var l,c=new RegExp("^"+Fm+"$").exec(o);if(c){l=[];for(var f=[],h=1;h<=3;h++){var g=c[h];if("%"===g[g.length-1]&&(f[h]=!0),g=parseFloat(g),f[h]&&(g=g/100*255),g<0||g>255)return;l.push(Math.floor(g))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var b=c[4];if(void 0!==b){if((b=parseFloat(b))<0||b>1)return;l.push(b)}}return l}(o)||function(o){var l,c,f,h,g,y,_,b;function E(M,P,k){return k<0&&(k+=1),k>1&&(k-=1),k<1/6?M+6*(P-M)*k:k<.5?P:k<2/3?M+(P-M)*(2/3-k)*6:M}var C=new RegExp("^"+ts+"$").exec(o);if(C){if((c=parseInt(C[1]))<0?c=(360- -1*c%360)%360:c>360&&(c%=360),c/=360,(f=parseFloat(C[2]))<0||f>100||(f/=100,(h=parseFloat(C[3]))<0||h>100)||(h/=100,void 0!==(g=C[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===f)y=_=b=Math.round(255*h);else{var S=h<.5?h*(1+f):h+f-h*f,T=2*h-S;y=Math.round(255*E(T,S,c+1/3)),_=Math.round(255*E(T,S,c)),b=Math.round(255*E(T,S,c-1/3))}l=[y,_,b,g]}return l}(o)}(o);return Ie?{name:a,value:Ie,pfValue:Ie,strValue:"rgb("+Ie[0]+","+Ie[1]+","+Ie[2]+")",bypass:l}:null}if(b.regex||b.regexes){if(b.enums){var $e=te();if($e)return $e}for(var qe=b.regexes?b.regexes:[b.regex],He=0;He<qe.length;He++){var ye=new RegExp(qe[He]).exec(o);if(ye)return{name:a,value:b.singleRegexMatchValue?ye[1]:ye,strValue:""+o,bypass:l}}return null}return b.string?{name:a,value:""+o,strValue:""+o,bypass:l}:b.enums?te():null};var $i=function a(o){if(!(this instanceof a))return new a(o);lr(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):Xn("A style must have a core reference")},Ci=$i.prototype;Ci.instanceString=function(){return"style"},Ci.clear=function(){for(var a=this._private,l=a.cy.elements(),c=0;c<this.length;c++)this[c]=void 0;return this.length=0,a.contextStyles={},a.propDiffs={},this.cleanElements(l,!0),l.forEach(function(f){var h=f[0]._private;h.styleDirty=!0,h.appliedInitStyle=!1}),this},Ci.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Ci.core=function(a){return this._private.coreStyle[a]||this.getDefaultProperty(a)},Ci.selector=function(a){var o="core"===a?null:new Os(a),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},Ci.css=function(){var o=arguments;if(1===o.length)for(var l=o[0],c=0;c<this.properties.length;c++){var f=this.properties[c],h=l[f.name];void 0===h&&(h=l[cl(f.name)]),void 0!==h&&this.cssRule(f.name,h)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},Ci.style=Ci.css,Ci.cssRule=function(a,o){var l=this.parse(a,o);if(l){var c=this.length-1;this[c].properties.push(l),this[c].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[c].mappedProperties.push(l),!this[c].selector&&(this._private.coreStyle[l.name]=l)}return this},Ci.append=function(a){return gr(a)?a.appendToStyle(this):Fn(a)?this.appendFromJson(a):st(a)&&this.appendFromString(a),this},$i.fromJson=function(a,o){var l=new $i(a);return l.fromJson(o),l},$i.fromString=function(a,o){return new $i(a).fromString(o)},[Vi,ti,Fo,ls,ha,us,bi,Su].forEach(function(a){Lt(Ci,a)}),$i.types=Ci.types,$i.properties=Ci.properties,$i.propertyGroups=Ci.propertyGroups,$i.propertyGroupNames=Ci.propertyGroupNames,$i.propertyGroupKeys=Ci.propertyGroupKeys;var qd={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=gr(o)?o.generateStyle(this):Fn(o)?$i.fromJson(this,o):st(o)?$i.fromString(this,o):$i(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},xi={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var c,f,h,g,y,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(st(o[0]))return l[c=o[0]];if(Mt(o[0])){if(!this._private.panningEnabled)return this;y=(h=o[0]).y,ht(g=h.x)&&(l.x=g),ht(y)&&(l.y=y),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=o[1],("x"===(c=o[0])||"y"===c)&&ht(f)&&(l[c]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var h,g,y,_,b,c=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(c.length){case 1:Mt(o)&&(b=(y=c[0]).y,ht(_=y.x)&&(f.x+=_),ht(b)&&(f.y+=b),this.emit("pan viewport"));break;case 2:g=l,("x"===(h=o)||"y"===h)&&ht(g)&&(f[h]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var c=this.getFitViewport(o,l);if(c){var f=this._private;f.zoom=c.zoom,f.pan=c.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var c;if((ht(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(st(o)?o=this.$(o):!function(o){return Mt(o)&&ht(o.x1)&&ht(o.x2)&&ht(o.y1)&&ht(o.y2)}(o)?Kt(o)||(o=this.mutableElements()):((c={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=c.x2-c.x1,c.h=c.y2-c.y1),!Kt(o)||!o.empty())){c=c||o.boundingBox();var _,g=this.width(),y=this.height();if(l=ht(l)?l:0,!isNaN(g)&&!isNaN(y)&&g>0&&y>0&&!isNaN(c.w)&&!isNaN(c.h)&&c.w>0&&c.h>0)return{zoom:_=(_=(_=Math.min((g-2*l)/c.w,(y-2*l)/c.h))>this._private.maxZoom?this._private.maxZoom:_)<this._private.minZoom?this._private.minZoom:_,pan:{x:(g-_*(c.x1+c.x2))/2,y:(y-_*(c.y1+c.y2))/2}}}},zoomRange:function(o,l){var c=this._private;if(null==l){var f=o;o=f.min,l=f.max}return ht(o)&&ht(l)&&o<=l?(c.minZoom=o,c.maxZoom=l):ht(o)&&void 0===l&&o<=c.maxZoom?c.minZoom=o:ht(l)&&void 0===o&&l>=c.minZoom&&(c.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var h,g,l=this._private,c=l.pan,f=l.zoom,y=!1;return l.zoomingEnabled||(y=!0),ht(o)?g=o:Mt(o)&&(g=o.level,null!=o.position?h=pl(o.position,f,c):null!=o.renderedPosition&&(h=o.renderedPosition),null!=h&&!l.panningEnabled&&(y=!0)),g=(g=g>l.maxZoom?l.maxZoom:g)<l.minZoom?l.minZoom:g,!y&&ht(g)&&g!==f&&(null==h||ht(h.x)&&ht(h.y))?null!=h?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/f*(h.x-c.x)+h.x,y:-g/f*(h.y-c.y)+h.y}}:{zoomed:!0,panned:!1,zoom:g,pan:c}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),c=this._private;return null!=l&&l.zoomed?(c.zoom=l.zoom,l.panned&&(c.pan.x=l.pan.x,c.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,c=!0,f=!0,h=[],g=!1,y=!1;if(!o)return this;if(ht(o.zoom)||(c=!1),Mt(o.pan)||(f=!1),!c&&!f)return this;if(c){var _=o.zoom;_<l.minZoom||_>l.maxZoom||!l.zoomingEnabled?g=!0:(l.zoom=_,h.push("zoom"))}if(f&&(!g||!o.cancelOnFailedZoom)&&l.panningEnabled){var b=o.pan;ht(b.x)&&(l.pan.x=b.x,y=!1),ht(b.y)&&(l.pan.y=b.y,y=!1),y||h.push("pan")}return h.length>0&&(h.push("viewport"),this.emit(h.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(st(o)){var c=o;o=this.mutableElements().filter(c)}else Kt(o)||(o=this.mutableElements());if(0!==o.length){var f=o.boundingBox(),h=this.width(),g=this.height();return{x:(h-(l=void 0===l?this._private.zoom:l)*(f.x1+f.x2))/2,y:(g-l*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(f=this.window().getComputedStyle(l),{width:l.clientWidth-(h=function(y){return parseFloat(f.getPropertyValue(y))})("padding-left")-h("padding-right"),height:l.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,c=this.renderedExtent(),f={x1:(c.x1-o.x)/l,x2:(c.x2-o.x)/l,y1:(c.y1-o.y)/l,y2:(c.y2-o.y)/l};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};xi.centre=xi.center,xi.autolockNodes=xi.autolock,xi.autoungrabifyNodes=xi.autoungrabify;var Il={data:on.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:on.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:on.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:on.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Il.attr=Il.data,Il.removeAttr=Il.removeData;var kc=function(o){var l=this,c=(o=Lt({},o)).container;c&&!Co(c)&&Co(c[0])&&(c=c[0]);var f=c?c._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var h=f.readies=f.readies||[];c&&(c._cyreg=f),f.cy=l;var g=void 0!==zt&&void 0!==c&&!o.headless,y=o;y.layout=Lt({name:g?"grid":"null"},y.layout),y.renderer=Lt({name:g?"canvas":"null"},y.renderer);var _=function(M,P,k){return void 0!==P?P:void 0!==k?k:M},b=this._private={container:c,ready:!1,options:y,elements:new Bt(this),listeners:[],aniEles:new Bt(this),data:y.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:_(!0,y.zoomingEnabled),userZoomingEnabled:_(!0,y.userZoomingEnabled),panningEnabled:_(!0,y.panningEnabled),userPanningEnabled:_(!0,y.userPanningEnabled),boxSelectionEnabled:_(!0,y.boxSelectionEnabled),autolock:_(!1,y.autolock,y.autolockNodes),autoungrabify:_(!1,y.autoungrabify,y.autoungrabifyNodes),autounselectify:_(!1,y.autounselectify),styleEnabled:void 0===y.styleEnabled?g:y.styleEnabled,zoom:ht(y.zoom)?y.zoom:1,pan:{x:Mt(y.pan)&&ht(y.pan.x)?y.pan.x:0,y:Mt(y.pan)&&ht(y.pan.y)?y.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:_(250,y.multiClickDebounceTime)};this.createEmitter(),this.selectionType(y.selectionType),this.zoomRange({min:y.minZoom,max:y.maxZoom}),b.styleEnabled&&l.setStyle([]);var C=Lt({},y,y.renderer);l.initRenderer(C),function(M,P){if(M.some(nu))return Ao.all(M).then(P);P(M)}([y.style,y.elements],function(T){var M=T[0],P=T[1];b.styleEnabled&&l.style().append(M),function(M,P,k){l.notifications(!1);var O=l.mutableElements();O.length>0&&O.remove(),null!=M&&(Mt(M)||Fn(M))&&l.add(M),l.one("layoutready",function(L){l.notifications(!0),l.emit(L),l.one("load",P),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",k),l.emit("done")});var F=Lt({},l._private.options.layout);F.eles=l.elements(),l.layout(F).run()}(P,function(){l.startAnimationLoop(),b.ready=!0,Wn(y.ready)&&l.on("ready",y.ready);for(var k=0;k<h.length;k++)l.on("ready",h[k]);f&&(f.readies=[]),l.emit("ready")},y.done)})},ja=kc.prototype;Lt(ja,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return zt;var l=this._private.container.ownerDocument;return void 0===l||null==l?zt:l.defaultView||zt},mount:function(o){if(null!=o){var l=this,c=l._private,f=c.options;return!Co(o)&&Co(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),c.container=o,c.styleEnabled=!0,l.invalidateSize(),l.initRenderer(Lt({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),l.startAnimationLoop(),l.style(f.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return ii(this._private.options)},json:function(o){var l=this,c=l._private,f=l.mutableElements();if(Mt(o)){if(l.startBatch(),o.elements){var g={},y=function($,K){for(var X=[],z=[],Y=0;Y<$.length;Y++){var j=$[Y];if(j.data.id){var ee=""+j.data.id,te=l.getElementById(ee);g[ee]=!0,0!==te.length?z.push({ele:te,json:j}):(K&&(j.group=K),X.push(j))}else Jt("cy.json() cannot handle elements without an ID attribute")}l.add(X);for(var W=0;W<z.length;W++){var oe=z[W];oe.ele.json(oe.json)}};if(Fn(o.elements))y(o.elements);else for(var _=["nodes","edges"],b=0;b<_.length;b++){var E=_[b],C=o.elements[E];Fn(C)&&y(C,E)}var S=l.collection();f.filter(function(L){return!g[L.id()]}).forEach(function(L){L.isParent()?S.merge(L):L.remove()}),S.forEach(function(L){return L.children().move({parent:null})}),S.forEach(function(L){return($=L,l.getElementById($.id())).remove();var $})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==c.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==c.pan.x||o.pan.y!==c.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var T=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],M=0;M<T.length;M++){var P=T[M];null!=o[P]&&l[P](o[P])}return l.endBatch(),this}var O={};o?O.elements=this.elements().map(function(L){return L.json()}):(O.elements={},f.forEach(function(L){var $=L.group();O.elements[$]||(O.elements[$]=[]),O.elements[$].push(L.json())})),this._private.styleEnabled&&(O.style=l.style().json()),O.data=ii(l.data());var F=c.options;return O.zoomingEnabled=c.zoomingEnabled,O.userZoomingEnabled=c.userZoomingEnabled,O.zoom=c.zoom,O.minZoom=c.minZoom,O.maxZoom=c.maxZoom,O.panningEnabled=c.panningEnabled,O.userPanningEnabled=c.userPanningEnabled,O.pan=ii(c.pan),O.boxSelectionEnabled=c.boxSelectionEnabled,O.renderer=ii(F.renderer),O.hideEdgesOnViewport=F.hideEdgesOnViewport,O.textureOnViewport=F.textureOnViewport,O.wheelSensitivity=F.wheelSensitivity,O.motionBlur=F.motionBlur,O.multiClickDebounceTime=F.multiClickDebounceTime,O}}),ja.$id=ja.getElementById,[ig,Ge,Rc,ei,Ml,xu,Tl,No,qd,xi,Il].forEach(function(a){Lt(ja,a)});var Ga={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},Th={maximal:!1,acyclic:!1},qa=function(o){return o.scratch("breadthfirst")},Ih=function(o,l){return o.scratch("breadthfirst",l)};function Wd(a){this.options=Lt({},Ga,Th,a)}Wd.prototype.run=function(){var b,a=this.options,o=a,l=a.cy,c=o.eles,f=c.nodes().filter(function(Be){return!Be.isParent()}),h=c,g=o.directed,y=o.acyclic||o.maximal||o.maximalAdjustments>0,_=Mo(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(Kt(o.roots))b=o.roots;else if(Fn(o.roots)){for(var E=[],C=0;C<o.roots.length;C++){var T=l.getElementById(o.roots[C]);E.push(T)}b=l.collection(E)}else if(st(o.roots))b=l.$(o.roots);else if(g)b=f.roots();else{var M=c.components();b=l.collection();for(var P=function(ut){var xt=M[ut],ft=xt.maxDegree(!1),At=xt.filter(function(Rt){return Rt.degree(!1)===ft});b=b.add(At)},k=0;k<M.length;k++)P(k)}var O=[],F={},L=function(ut,xt){null==O[xt]&&(O[xt]=[]);var ft=O[xt].length;O[xt].push(ut),Ih(ut,{index:ft,depth:xt})};h.bfs({roots:b,directed:o.directed,visit:function(ut,xt,ft,At,Rt){var Cn=ut[0],gn=Cn.id();L(Cn,Rt),F[gn]=!0}});for(var K=[],X=0;X<f.length;X++){var z=f[X];F[z.id()]||K.push(z)}var Y=function(ut){for(var xt=O[ut],ft=0;ft<xt.length;ft++){var At=xt[ft];null!=At?Ih(At,{depth:ut,index:ft}):(xt.splice(ft,1),ft--)}},j=function(){for(var ut=0;ut<O.length;ut++)Y(ut)},ee=function(ut,xt){for(var ft=qa(ut),At=ut.incomers().filter(function(G){return G.isNode()&&c.has(G)}),Rt=-1,Cn=ut.id(),gn=0;gn<At.length;gn++){var mn=qa(At[gn]);Rt=Math.max(Rt,mn.depth)}if(ft.depth<=Rt){if(!o.acyclic&&xt[Cn])return null;var we=Rt+1;return function(ut,xt){var ft=qa(ut);O[ft.depth][ft.index]=null,L(ut,xt)}(ut,we),xt[Cn]=we,!0}return!1};if(g&&y){var te=[],W={},oe=function(ut){return te.push(ut)};for(f.forEach(function(Be){return te.push(Be)});te.length>0;){var de=te.shift(),se=ee(de,W);if(se)de.outgoers().filter(function(Be){return Be.isNode()&&c.has(Be)}).forEach(oe);else if(null===se){Jt("Detected double maximal shift for node `"+de.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}j();var ie=0;if(o.avoidOverlap)for(var me=0;me<f.length;me++){var ke=f[me].layoutDimensions(o);ie=Math.max(ie,ke.w,ke.h)}var $e={},qe=function(ut){if($e[ut.id()])return $e[ut.id()];for(var xt=qa(ut).depth,ft=ut.neighborhood(),At=0,Rt=0,Cn=0;Cn<ft.length;Cn++){var gn=ft[Cn];if(!gn.isEdge()&&!gn.isParent()&&f.has(gn)){var Wt=qa(gn);if(null!=Wt){var mn=Wt.index,we=Wt.depth;null!=mn&&null!=we&&we<xt&&(At+=mn/O[we].length,Rt++)}}}return At/=Rt=Math.max(1,Rt),0===Rt&&(At=0),$e[ut.id()]=At,At},He=function(ut,xt){var Rt=qe(ut)-qe(xt);return 0===Rt?fl(ut.id(),xt.id()):Rt};void 0!==o.depthSort&&(He=o.depthSort);for(var Ue=0;Ue<O.length;Ue++)O[Ue].sort(He),Y(Ue);for(var ye=[],Ye=0;Ye<K.length;Ye++)ye.push(K[Ye]);O.unshift(ye),j();for(var Qe=0,je=0;je<O.length;je++)Qe=Math.max(O[je].length,Qe);var rt_x=_.x1+_.w/2,rt_y=_.x1+_.h/2,Ot=O.reduce(function(Be,ut){return Math.max(Be,ut.length)},0);return c.nodes().layoutPositions(this,o,function(ut){var xt=qa(ut),ft=xt.depth,At=xt.index,Rt=O[ft].length,Cn=Math.max(_.w/((o.grid?Ot:Rt)+1),ie),gn=Math.max(_.h/(O.length+1),ie),Wt=Math.min(_.w/2/O.length,_.h/2/O.length);if(Wt=Math.max(Wt,ie),o.circle){var we=Wt*ft+Wt-(O.length>0&&O[0].length<=3?Wt/2:0),G=2*Math.PI/O[ft].length*At;return 0===ft&&1===O[0].length&&(we=1),{x:rt_x+we*Math.cos(G),y:rt_y+we*Math.sin(G)}}return{x:rt_x+(At+1-(Rt+1)/2)*Cn,y:(ft+1)*gn}}),this};var Wa={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Mu(a){this.options=Lt({},Wa,a)}Mu.prototype.run=function(){var a=this.options,o=a,l=a.cy,c=o.eles,f=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,h=c.nodes().not(":parent");o.sort&&(h=h.sort(o.sort));for(var E,g=Mo(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},b=(void 0===o.sweep?2*Math.PI-2*Math.PI/h.length:o.sweep)/Math.max(1,h.length-1),C=0,S=0;S<h.length;S++){var M=h[S].layoutDimensions(o);C=Math.max(C,M.w,M.h)}if(E=ht(o.radius)?o.radius:h.length<=1?0:Math.min(g.h,g.w)/2-C,h.length>1&&o.avoidOverlap){C*=1.75;var O=Math.cos(b)-Math.cos(0),F=Math.sin(b)-Math.sin(0),L=Math.sqrt(C*C/(O*O+F*F));E=Math.max(L,E)}return c.nodes().layoutPositions(this,o,function(X,z){var Y=o.startAngle+z*b*(f?1:-1),j=E*Math.cos(Y),ee=E*Math.sin(Y);return{x:y.x+j,y:y.y+ee}}),this};var nv={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Si(a){this.options=Lt({},nv,a)}Si.prototype.run=function(){for(var a=this.options,o=a,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,c=a.cy,f=o.eles,h=f.nodes().not(":parent"),g=Mo(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},_=[],b=0,E=0;E<h.length;E++){var S,C=h[E];S=o.concentric(C),_.push({value:S,node:C}),C._private.scratch.concentric=S}h.updateStyle();for(var T=0;T<h.length;T++){var P=h[T].layoutDimensions(o);b=Math.max(b,P.w,P.h)}_.sort(function(Be,ut){return ut.value-Be.value});for(var k=o.levelWidth(h),O=[[]],F=O[0],L=0;L<_.length;L++){var $=_[L];F.length>0&&Math.abs(F[0].value-$.value)>=k&&O.push(F=[]),F.push($)}var X=b+o.minNodeSpacing;if(!o.avoidOverlap){var z=O.length>0&&O[0].length>1,Y=Math.min(g.w,g.h)/2-X;X=Math.min(X,Y/(O.length+z?1:0))}for(var ee=0,te=0;te<O.length;te++){var W=O[te],oe=void 0===o.sweep?2*Math.PI-2*Math.PI/W.length:o.sweep,Q=W.dTheta=oe/Math.max(1,W.length-1);if(W.length>1&&o.avoidOverlap){var de=Math.cos(Q)-Math.cos(0),se=Math.sin(Q)-Math.sin(0),ie=Math.sqrt(X*X/(de*de+se*se));ee=Math.max(ie,ee)}W.r=ee,ee+=X}if(o.equidistant){for(var me=0,_e=0,ke=0;ke<O.length;ke++)me=Math.max(me,O[ke].r-_e);_e=0;for(var $e=0;$e<O.length;$e++){var qe=O[$e];0===$e&&(_e=qe.r),qe.r=_e,_e+=me}}for(var He={},Ue=0;Ue<O.length;Ue++)for(var ye=O[Ue],Ye=ye.dTheta,Qe=ye.r,je=0;je<ye.length;je++){var rt=ye[je],Ot=o.startAngle+(l?1:-1)*Ye*je,Ht={x:y.x+Qe*Math.cos(Ot),y:y.y+Qe*Math.sin(Ot)};He[rt.node.id()]=Ht}return f.nodes().layoutPositions(this,o,function(Be){var ut=Be.id();return He[ut]}),this};var Vs,Cr={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Tu(a){this.options=Lt({},Cr,a),this.options.layout=this;var o=this.options.eles.nodes(),c=this.options.eles.edges().filter(function(f){var h=f.source().data("id"),g=f.target().data("id"),y=o.some(function(b){return b.data("id")===h}),_=o.some(function(b){return b.data("id")===g});return!y||!_});this.options.eles=this.options.eles.not(c)}Tu.prototype.run=function(){var a=this.options,o=a.cy,l=this;l.stopped=!1,(!0===a.animate||!1===a.animate)&&l.emit({type:"layoutstart",layout:l}),Vs=!0===a.debug;var c=Kd(o,l,a);Vs&&(void 0)(c),a.randomize&&Rh(c);var f=Qs(),h=function(){pa(c,o,a),!0===a.fit&&o.fit(a.padding)},g=function(S){return!(l.stopped||S>=a.numIter||(kh(c,a),c.temperature=c.temperature*a.coolingFactor,c.temperature<a.minTemp))},y=function(){if(!0===a.animate||!1===a.animate)h(),l.one("layoutstop",a.stop),l.emit({type:"layoutstop",layout:l});else{var S=a.eles.nodes(),T=Ka(c,a,S);S.layoutPositions(l,a,T)}},_=0,b=!0;if(!0===a.animate)!function C(){for(var S=0;b&&S<a.refresh;)b=g(_),_++,S++;b?(Qs()-f>=a.animationThreshold&&h(),pd(C)):(ku(c,a),y())}();else{for(;b;)b=g(_),_++;ku(c,a),y()}return this},Tu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Tu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Kd=function(o,l,c){for(var f=c.eles.edges(),h=c.eles.nodes(),g=Mo(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),y={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:h.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:c.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},_=c.eles.components(),b={},E=0;E<_.length;E++)for(var C=_[E],S=0;S<C.length;S++)b[C[S].id()]=E;for(E=0;E<y.nodeSize;E++){var P=(M=h[E]).layoutDimensions(c);(k={}).isLocked=M.locked(),k.id=M.data("id"),k.parentId=M.data("parent"),k.cmptId=b[M.id()],k.children=[],k.positionX=M.position("x"),k.positionY=M.position("y"),k.offsetX=0,k.offsetY=0,k.height=P.w,k.width=P.h,k.maxX=k.positionX+k.width/2,k.minX=k.positionX-k.width/2,k.maxY=k.positionY+k.height/2,k.minY=k.positionY-k.height/2,k.padLeft=parseFloat(M.style("padding")),k.padRight=parseFloat(M.style("padding")),k.padTop=parseFloat(M.style("padding")),k.padBottom=parseFloat(M.style("padding")),k.nodeRepulsion=Wn(c.nodeRepulsion)?c.nodeRepulsion(M):c.nodeRepulsion,y.layoutNodes.push(k),y.idToIndex[k.id]=E}var O=[],F=0,L=-1,$=[];for(E=0;E<y.nodeSize;E++){var M,K=(M=y.layoutNodes[E]).parentId;null!=K?y.layoutNodes[y.idToIndex[K]].children.push(M.id):(O[++L]=M.id,$.push(M.id))}for(y.graphSet.push($);F<=L;){var X=O[F++],Y=y.layoutNodes[y.idToIndex[X]].children;if(Y.length>0)for(y.graphSet.push(Y),E=0;E<Y.length;E++)O[++L]=Y[E]}for(E=0;E<y.graphSet.length;E++){var j=y.graphSet[E];for(S=0;S<j.length;S++)y.indexToGraph[y.idToIndex[j[S]]]=E}for(E=0;E<y.edgeSize;E++){var te=f[E],W={};W.id=te.data("id"),W.sourceId=te.data("source"),W.targetId=te.data("target");var oe=Wn(c.idealEdgeLength)?c.idealEdgeLength(te):c.idealEdgeLength,Q=Wn(c.edgeElasticity)?c.edgeElasticity(te):c.edgeElasticity,de=y.idToIndex[W.sourceId],se=y.idToIndex[W.targetId];if(y.indexToGraph[de]!=y.indexToGraph[se]){for(var _e=Ah(W.sourceId,W.targetId,y),ke=y.graphSet[_e],ge=0,k=y.layoutNodes[de];-1===ke.indexOf(k.id);)k=y.layoutNodes[y.idToIndex[k.parentId]],ge++;for(k=y.layoutNodes[se];-1===ke.indexOf(k.id);)k=y.layoutNodes[y.idToIndex[k.parentId]],ge++;oe*=ge*c.nestingFactor}W.idealLength=oe,W.elasticity=Q,y.layoutEdges.push(W)}return y},Ah=function(o,l,c){var f=Zd(o,l,0,c);return 2>f.count?0:f.graph},Zd=function a(o,l,c,f){var h=f.graphSet[c];if(-1<h.indexOf(o)&&-1<h.indexOf(l))return{count:2,graph:c};for(var g=0,y=0;y<h.length;y++){var E=f.layoutNodes[f.idToIndex[h[y]]].children;if(0!==E.length){var S=a(o,l,f.indexToGraph[f.idToIndex[E[0]]],f);if(0!==S.count){if(1!==S.count)return S;if(2==++g)break}}}return{count:g,graph:c}},Rh=function(o,l){for(var c=o.clientWidth,f=o.clientHeight,h=0;h<o.nodeSize;h++){var g=o.layoutNodes[h];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*c,g.positionY=Math.random()*f)}},Ka=function(o,l,c){var f=o.boundingBox,h={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(c.forEach(function(g){var y=o.layoutNodes[o.idToIndex[g.data("id")]];h.x1=Math.min(h.x1,y.positionX),h.x2=Math.max(h.x2,y.positionX),h.y1=Math.min(h.y1,y.positionY),h.y2=Math.max(h.y2,y.positionY)}),h.w=h.x2-h.x1,h.h=h.y2-h.y1),function(g,y){var _=o.layoutNodes[o.idToIndex[g.data("id")]];return l.boundingBox?{x:f.x1+(_.positionX-h.x1)/h.w*f.w,y:f.y1+(_.positionY-h.y1)/h.h*f.h}:{x:_.positionX,y:_.positionY}}},pa=function(o,l,c){var f=c.layout,h=c.eles.nodes(),g=Ka(o,c,h);h.positions(g),!0!==o.ready&&(o.ready=!0,f.one("layoutready",c.ready),f.emit({type:"layoutready",layout:this}))},kh=function(o,l,c){Yd(o,l),lg(o),ug(o,l),Ru(o),Pc(o)},Yd=function(o,l){for(var c=0;c<o.graphSet.length;c++)for(var f=o.graphSet[c],h=f.length,g=0;g<h;g++)for(var y=o.layoutNodes[o.idToIndex[f[g]]],_=g+1;_<h;_++)Wo(y,o.layoutNodes[o.idToIndex[f[_]]],o,l)},Iu=function(o){return-o+2*o*Math.random()},Wo=function(o,l,c,f){if(o.cmptId===l.cmptId||c.isCompound){var y=l.positionX-o.positionX,_=l.positionY-o.positionY;0===y&&0===_&&(y=Iu(1),_=Iu(1));var E=Qd(o,l,y,_);if(E>0)var T=(C=f.nodeOverlap*E)*y/(S=Math.sqrt(y*y+_*_)),M=C*_/S;else{var C,P=Au(o,y,_),k=Au(l,-1*y,-1*_),O=k.x-P.x,F=k.y-P.y,L=O*O+F*F,S=Math.sqrt(L);T=(C=(o.nodeRepulsion+l.nodeRepulsion)/L)*O/S,M=C*F/S}o.isLocked||(o.offsetX-=T,o.offsetY-=M),l.isLocked||(l.offsetX+=T,l.offsetY+=M)}},Qd=function(o,l,c,f){if(c>0)var h=o.maxX-l.minX;else h=l.maxX-o.minX;if(f>0)var g=o.maxY-l.minY;else g=l.maxY-o.minY;return h>=0&&g>=0?Math.sqrt(h*h+g*g):0},Au=function(o,l,c){var f=o.positionX,h=o.positionY,g=o.height||1,y=o.width||1,_=c/l,b=g/y,E={};return 0===l&&0<c||0===l&&0>c?(E.x=f,E.y=h+g/2,E):0<l&&-1*b<=_&&_<=b?(E.x=f+y/2,E.y=h+y*c/2/l,E):0>l&&-1*b<=_&&_<=b?(E.x=f-y/2,E.y=h-y*c/2/l,E):0<c&&(_<=-1*b||_>=b)?(E.x=f+g*l/2/c,E.y=h+g/2,E):(0>c&&(_<=-1*b||_>=b)&&(E.x=f-g*l/2/c,E.y=h-g/2),E)},lg=function(o,l){for(var c=0;c<o.edgeSize;c++){var f=o.layoutEdges[c],g=o.layoutNodes[o.idToIndex[f.sourceId]],_=o.layoutNodes[o.idToIndex[f.targetId]],b=_.positionX-g.positionX,E=_.positionY-g.positionY;if(0!==b||0!==E){var C=Au(g,b,E),S=Au(_,-1*b,-1*E),T=S.x-C.x,M=S.y-C.y,P=Math.sqrt(T*T+M*M),k=Math.pow(f.idealLength-P,2)/f.elasticity;if(0!==P)var O=k*T/P,F=k*M/P;else O=0,F=0;g.isLocked||(g.offsetX+=O,g.offsetY+=F),_.isLocked||(_.offsetX-=O,_.offsetY-=F)}}},ug=function(o,l){if(0!==l.gravity)for(var f=0;f<o.graphSet.length;f++){var h=o.graphSet[f],g=h.length;if(0===f)var y=o.clientHeight/2,_=o.clientWidth/2;else{var E=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[h[0]]].parentId]];y=E.positionX,_=E.positionY}for(var C=0;C<g;C++){var S=o.layoutNodes[o.idToIndex[h[C]]];if(!S.isLocked){var T=y-S.positionX,M=_-S.positionY,P=Math.sqrt(T*T+M*M);if(P>1){var O=l.gravity*M/P;S.offsetX+=l.gravity*T/P,S.offsetY+=O}}}}},Ru=function(o,l){var c=[],f=0,h=-1;for(c.push.apply(c,o.graphSet[0]),h+=o.graphSet[0].length;f<=h;){var g=c[f++],_=o.layoutNodes[o.idToIndex[g]],b=_.children;if(0<b.length&&!_.isLocked){for(var E=_.offsetX,C=_.offsetY,S=0;S<b.length;S++){var T=o.layoutNodes[o.idToIndex[b[S]]];T.offsetX+=E,T.offsetY+=C,c[++h]=b[S]}_.offsetX=0,_.offsetY=0}}},Pc=function(o,l){for(var c=0;c<o.nodeSize;c++)0<(f=o.layoutNodes[c]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(c=0;c<o.nodeSize;c++)if(!(0<(f=o.layoutNodes[c]).children.length||f.isLocked)){var h=ga(f.offsetX,f.offsetY,o.temperature);f.positionX+=h.x,f.positionY+=h.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,cg(f,o)}for(c=0;c<o.nodeSize;c++){var f;0<(f=o.layoutNodes[c]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},ga=function(o,l,c){var f=Math.sqrt(o*o+l*l);if(f>c)var h={x:c*o/f,y:c*l/f};else h={x:o,y:l};return h},cg=function a(o,l){var c=o.parentId;if(null!=c){var f=l.layoutNodes[l.idToIndex[c]],h=!1;if((null==f.maxX||o.maxX+f.padRight>f.maxX)&&(f.maxX=o.maxX+f.padRight,h=!0),(null==f.minX||o.minX-f.padLeft<f.minX)&&(f.minX=o.minX-f.padLeft,h=!0),(null==f.maxY||o.maxY+f.padBottom>f.maxY)&&(f.maxY=o.maxY+f.padBottom,h=!0),(null==f.minY||o.minY-f.padTop<f.minY)&&(f.minY=o.minY-f.padTop,h=!0),h)return a(f,l)}},ku=function(o,l){for(var c=o.layoutNodes,f=[],h=0;h<c.length;h++){var g=c[h],y=g.cmptId;(f[y]=f[y]||[]).push(g)}var b=0;for(h=0;h<f.length;h++)if(E=f[h]){E.x1=1/0,E.x2=-1/0,E.y1=1/0,E.y2=-1/0;for(var C=0;C<E.length;C++){var S=E[C];E.x1=Math.min(E.x1,S.positionX-S.width/2),E.x2=Math.max(E.x2,S.positionX+S.width/2),E.y1=Math.min(E.y1,S.positionY-S.height/2),E.y2=Math.max(E.y2,S.positionY+S.height/2)}E.w=E.x2-E.x1,E.h=E.y2-E.y1,b+=E.w*E.h}f.sort(function(F,L){return L.w*L.h-F.w*F.h});var T=0,M=0,P=0,k=0,O=Math.sqrt(b)*o.clientWidth/o.clientHeight;for(h=0;h<f.length;h++){var E;if(E=f[h]){for(C=0;C<E.length;C++)(S=E[C]).isLocked||(S.positionX+=T-E.x1,S.positionY+=M-E.y1);T+=E.w+l.componentSpacing,P+=E.w+l.componentSpacing,k=Math.max(k,E.h),P>O&&(M+=k+l.componentSpacing,T=0,P=0,k=0)}}},dg={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Oc(a){this.options=Lt({},dg,a)}Oc.prototype.run=function(){var a=this.options,o=a,l=a.cy,c=o.eles,f=c.nodes().not(":parent");o.sort&&(f=f.sort(o.sort));var h=Mo(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===h.h||0===h.w)c.nodes().layoutPositions(this,o,function($e){return{x:h.x1,y:h.y1}});else{var g=f.size(),y=Math.sqrt(g*h.h/h.w),_=Math.round(y),b=Math.round(h.w/h.h*y),E=function(qe){if(null==qe)return Math.min(_,b);Math.min(_,b)==_?_=qe:b=qe},C=function(qe){if(null==qe)return Math.max(_,b);Math.max(_,b)==_?_=qe:b=qe},S=o.rows,T=null!=o.cols?o.cols:o.columns;if(null!=S&&null!=T)_=S,b=T;else if(null!=S&&null==T)_=S,b=Math.ceil(g/_);else if(null==S&&null!=T)b=T,_=Math.ceil(g/b);else if(b*_>g){var M=E(),P=C();(M-1)*P>=g?E(M-1):(P-1)*M>=g&&C(P-1)}else for(;b*_<g;){var k=E(),O=C();(O+1)*k>=g?C(O+1):E(k+1)}var F=h.w/b,L=h.h/_;if(o.condense&&(F=0,L=0),o.avoidOverlap)for(var $=0;$<f.length;$++){var K=f[$],X=K._private.position;(null==X.x||null==X.y)&&(X.x=0,X.y=0);var z=K.layoutDimensions(o),Y=o.avoidOverlapPadding,ee=z.h+Y;F=Math.max(F,z.w+Y),L=Math.max(L,ee)}for(var te={},W=function(qe,He){return!!te["c-"+qe+"-"+He]},oe=function(qe,He){te["c-"+qe+"-"+He]=!0},Q=0,de=0,se=function(){++de>=b&&(de=0,Q++)},ie={},me=0;me<f.length;me++){var _e=f[me],ke=o.position(_e);if(ke&&(void 0!==ke.row||void 0!==ke.col)){var ge={row:ke.row,col:ke.col};if(void 0===ge.col)for(ge.col=0;W(ge.row,ge.col);)ge.col++;else if(void 0===ge.row)for(ge.row=0;W(ge.row,ge.col);)ge.row++;ie[_e.id()]=ge,oe(ge.row,ge.col)}}f.layoutPositions(this,o,function(qe,He){var Ue,ye;if(qe.locked()||qe.isParent())return!1;var Ye=ie[qe.id()];if(Ye)Ue=Ye.col*F+F/2+h.x1,ye=Ye.row*L+L/2+h.y1;else{for(;W(Q,de);)se();Ue=de*F+F/2+h.x1,ye=Q*L+L/2+h.y1,oe(Q,de),se()}return{x:Ue,y:ye}})}return this};var Pu={ready:function(){},stop:function(){}};function qt(a){this.options=Lt({},Pu,a)}qt.prototype.run=function(){var a=this.options,o=a.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",a.ready),l.emit("layoutready"),l.one("layoutstop",a.stop),l.emit("layoutstop"),this},qt.prototype.stop=function(){return this};var Ph={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Ou(a){this.options=Lt({},Ph,a)}Ou.prototype.run=function(){var a=this.options,l=a.eles.nodes(),c=Wn(a.positions);return l.layoutPositions(this,a,function(h,g){var y=function f(h){return null==a.positions?function(o){return{x:o.x,y:o.y}}(h.position()):c?a.positions(h):a.positions[h._private.data.id]??null}(h);return!h.locked()&&null!=y&&y}),this};var cs={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function fg(a){this.options=Lt({},cs,a)}fg.prototype.run=function(){var a=this.options,o=a.cy,l=a.eles,c=Mo(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,a,function(g,y){return{x:c.x1+Math.round(Math.random()*c.w),y:c.y1+Math.round(Math.random()*c.h)}}),this};var Al=[{name:"breadthfirst",impl:Wd},{name:"circle",impl:Mu},{name:"concentric",impl:Si},{name:"cose",impl:Tu},{name:"grid",impl:Oc},{name:"null",impl:qt},{name:"preset",impl:Ou},{name:"random",impl:fg}];function Nc(a){this.options=a,this.notifications=0}var ni=function(){},rv=function(){throw new Error("A headless instance can not render images")};Nc.prototype={recalculateRenderedStyle:ni,notify:function(){this.notifications++},init:ni,isHeadless:function(){return!0},png:rv,jpg:rv};var Xd={arrowShapeWidth:.3,registerArrowShapes:function(){var a=this.arrowShapes={},o=this,l=function(b,E,C,S,T,M,P){return T.x-C/2-P<=b&&b<=T.x+C/2+P&&T.y-C/2-P<=E&&E<=T.y+C/2+P},c=function(b,E,C,S,T){var M=b*Math.cos(S)-E*Math.sin(S),P=b*Math.sin(S)+E*Math.cos(S);return{x:M*C+T.x,y:P*C+T.y}},f=function(b,E,C,S){for(var T=[],M=0;M<b.length;M+=2)T.push(c(b[M],b[M+1],E,C,S));return T},h=function(b){for(var E=[],C=0;C<b.length;C++){var S=b[C];E.push(S.x,S.y)}return E},g=function(b){return b.pstyle("width").pfValue*b.pstyle("arrow-scale").pfValue*2},y=function(b,E){st(E)&&(E=a[E]),a[b]=Lt({name:b,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(S,T,M,P,k,O){var F=h(f(this.points,M+2*O,P,k));return mi(S,T,F)},roughCollide:l,draw:function(S,T,M,P){var k=f(this.points,T,M,P);o.arrowShapeImpl("polygon")(S,k)},spacing:function(S){return 0},gap:g},E)};y("none",{collide:Ju,roughCollide:Ju,draw:Wf,spacing:kp,gap:kp}),y("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),y("arrow","triangle"),y("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(b,E,C,S,T){var M=f(this.points,E,C,S),P=this.controlPoint,k=c(P[0],P[1],E,C,S);o.arrowShapeImpl(this.name)(b,M,k)},gap:function(b){return.8*g(b)}}),y("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(b,E,C,S,T,M,P){var k=h(f(this.points,C+2*P,S,T)),O=h(f(this.pointsTee,C+2*P,S,T));return mi(b,E,k)||mi(b,E,O)},draw:function(b,E,C,S,T){var M=f(this.points,E,C,S),P=f(this.pointsTee,E,C,S);o.arrowShapeImpl(this.name)(b,M,P)}}),y("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(b,E,C,S,T,M,P){var k=T,O=Math.pow(k.x-b,2)+Math.pow(k.y-E,2)<=Math.pow((C+2*P)*this.radius,2),F=h(f(this.points,C+2*P,S,T));return mi(b,E,F)||O},draw:function(b,E,C,S,T){var M=f(this.pointsTr,E,C,S);o.arrowShapeImpl(this.name)(b,M,S.x,S.y,this.radius*E)},spacing:function(b){return o.getArrowWidth(b.pstyle("width").pfValue,b.pstyle("arrow-scale").value)*this.radius}}),y("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(b,E){var C=this.baseCrossLinePts.slice(),S=E/b;return C[3]=C[3]-S,C[5]=C[5]-S,C},collide:function(b,E,C,S,T,M,P){var k=h(f(this.points,C+2*P,S,T)),O=h(f(this.crossLinePts(C,M),C+2*P,S,T));return mi(b,E,k)||mi(b,E,O)},draw:function(b,E,C,S,T){var M=f(this.points,E,C,S),P=f(this.crossLinePts(E,T),E,C,S);o.arrowShapeImpl(this.name)(b,M,P)}}),y("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(b){return.525*g(b)}}),y("circle",{radius:.15,collide:function(b,E,C,S,T,M,P){var k=T;return Math.pow(k.x-b,2)+Math.pow(k.y-E,2)<=Math.pow((C+2*P)*this.radius,2)},draw:function(b,E,C,S,T){o.arrowShapeImpl(this.name)(b,S.x,S.y,this.radius*E)},spacing:function(b){return o.getArrowWidth(b.pstyle("width").pfValue,b.pstyle("arrow-scale").value)*this.radius}}),y("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(b){return 1},gap:function(b){return 1}}),y("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),y("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(b){return b.pstyle("width").pfValue*b.pstyle("arrow-scale").value}}),y("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(b){return.95*b.pstyle("width").pfValue*b.pstyle("arrow-scale").value}})}},ma={projectIntoViewport:function(a,o){var l=this.cy,c=this.findContainerClientCoords(),f=c[0],h=c[1],g=c[4],y=l.pan(),_=l.zoom();return[((a-f)/g-y.x)/_,((o-h)/g-y.y)/_]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var a=this.container,o=a.getBoundingClientRect(),l=this.cy.window().getComputedStyle(a),c=function(O){return parseFloat(l.getPropertyValue(O))},f_left=c("padding-left"),f_right=c("padding-right"),f_top=c("padding-top"),f_bottom=c("padding-bottom"),h_left=c("border-left-width"),h_right=c("border-right-width"),h_top=c("border-top-width"),g=(c("border-bottom-width"),a.clientWidth);return this.containerBB=[o.left+f_left+h_left,o.top+f_top+h_top,g-(f_left+f_right),a.clientHeight-(f_top+f_bottom),o.width/(g+(h_left+h_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(a,o,l,c){return this.findNearestElements(a,o,l,c)[0]},findNearestElements:function(a,o,l,c){var M,P,f=this,h=this,g=h.getCachedZSortedEles(),y=[],_=h.cy.zoom(),b=h.cy.hasCompoundNodes(),E=(c?24:8)/_,C=(c?8:2)/_,S=(c?8:2)/_,T=1/0;function k(z,Y){if(z.isNode()){if(P)return;P=z,y.push(z)}if(z.isEdge()&&(null==Y||Y<T))if(M){if(M.pstyle("z-compound-depth").value===z.pstyle("z-compound-depth").value&&M.pstyle("z-compound-depth").value===z.pstyle("z-compound-depth").value)for(var j=0;j<y.length;j++)if(y[j].isEdge()){y[j]=z,M=z,T=Y??T;break}}else y.push(z),M=z,T=Y??T}function O(z){var Y=z.outerWidth()+2*C,j=z.outerHeight()+2*C,ee=Y/2,te=j/2,W=z.position();if(W.x-ee<=a&&a<=W.x+ee&&W.y-te<=o&&o<=W.y+te&&h.nodeShapes[f.getNodeShape(z)].checkPoint(a,o,0,Y,j,W.x,W.y))return k(z,0),!0}function F(z){var de,Y=z._private,j=Y.rscratch,ee=z.pstyle("width").pfValue,te=z.pstyle("arrow-scale").value,W=ee/2+E,oe=W*W,Q=2*W,me=Y.source,_e=Y.target;if("segments"===j.edgeType||"straight"===j.edgeType||"haystack"===j.edgeType){for(var se=j.allpts,ie=0;ie+3<se.length;ie+=2)if(Xr(a,o,se[ie],se[ie+1],se[ie+2],se[ie+3],Q)&&oe>(de=ac(a,o,se[ie],se[ie+1],se[ie+2],se[ie+3])))return k(z,de),!0}else if("bezier"===j.edgeType||"multibezier"===j.edgeType||"self"===j.edgeType||"compound"===j.edgeType)for(se=j.allpts,ie=0;ie+5<j.allpts.length;ie+=4)if(Pa(a,o,se[ie],se[ie+1],se[ie+2],se[ie+3],se[ie+4],se[ie+5],Q)&&oe>(de=Ho(a,o,se[ie],se[ie+1],se[ie+2],se[ie+3],se[ie+4],se[ie+5])))return k(z,de),!0;me=me||Y.source,_e=_e||Y.target;var ke=f.getArrowWidth(ee,te),ge=[{name:"source",x:j.arrowStartX,y:j.arrowStartY,angle:j.srcArrowAngle},{name:"target",x:j.arrowEndX,y:j.arrowEndY,angle:j.tgtArrowAngle},{name:"mid-source",x:j.midX,y:j.midY,angle:j.midsrcArrowAngle},{name:"mid-target",x:j.midX,y:j.midY,angle:j.midtgtArrowAngle}];for(ie=0;ie<ge.length;ie++){var Ie=ge[ie],$e=h.arrowShapes[z.pstyle(Ie.name+"-arrow-shape").value],qe=z.pstyle("width").pfValue;if($e.roughCollide(a,o,ke,Ie.angle,{x:Ie.x,y:Ie.y},qe,E)&&$e.collide(a,o,ke,Ie.angle,{x:Ie.x,y:Ie.y},qe,E))return k(z),!0}b&&y.length>0&&(O(me),O(_e))}function L(z,Y,j){return So(z,Y,j)}function $(z,Y){var te,j=z._private,ee=S;te=Y?Y+"-":"",z.boundingBox();var W=j.labelBounds[Y||"main"],oe=z.pstyle(te+"label").value;if("yes"===z.pstyle("text-events").strValue&&oe){var de=L(j.rscratch,"labelX",Y),se=L(j.rscratch,"labelY",Y),ie=L(j.rscratch,"labelAngle",Y),me=z.pstyle(te+"text-margin-x").pfValue,_e=z.pstyle(te+"text-margin-y").pfValue,ke=W.x1-ee-me,ge=W.x2+ee-me,Ie=W.y1-ee-_e,$e=W.y2+ee-_e;if(ie){var qe=Math.cos(ie),He=Math.sin(ie),Ue=function(Ht,Be){return{x:(Ht-=de)*qe-(Be-=se)*He+de,y:Ht*He+Be*qe+se}},ye=Ue(ke,Ie),Ye=Ue(ke,$e),Qe=Ue(ge,Ie),je=Ue(ge,$e);if(mi(a,o,[ye.x+me,ye.y+_e,Qe.x+me,Qe.y+_e,je.x+me,je.y+_e,Ye.x+me,Ye.y+_e]))return k(z),!0}else if(sc(W,a,o))return k(z),!0}}l&&(g=g.interactive);for(var K=g.length-1;K>=0;K--){var X=g[K];X.isNode()?O(X)||$(X):F(X)||$(X)||$(X,"source")||$(X,"target")}return y},getAllInBox:function(a,o,l,c){for(var f=this.getCachedZSortedEles().interactive,h=[],g=Math.min(a,l),y=Math.max(a,l),_=Math.min(o,c),b=Math.max(o,c),E=Mo({x1:a=g,y1:o=_,x2:l=y,y2:c=b}),C=0;C<f.length;C++){var S=f[C];if(S.isNode()){var T=S,M=T.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});zp(E,M)&&!Ct(M,E)&&h.push(T)}else{var P=S,k=P._private,O=k.rscratch;if(null!=O.startX&&null!=O.startY&&!sc(E,O.startX,O.startY)||null!=O.endX&&null!=O.endY&&!sc(E,O.endX,O.endY))continue;if("bezier"===O.edgeType||"multibezier"===O.edgeType||"self"===O.edgeType||"compound"===O.edgeType||"segments"===O.edgeType||"haystack"===O.edgeType){for(var F=k.rstyle.bezierPts||k.rstyle.linePts||k.rstyle.haystackPts,L=!0,$=0;$<F.length;$++)if(!Um(E,F[$])){L=!1;break}L&&h.push(P)}else("haystack"===O.edgeType||"straight"===O.edgeType)&&h.push(P)}}return h}},Jd={calculateArrowAngles:function(a){var _,b,E,C,S,T,o=a._private.rscratch,l="haystack"===o.edgeType,c="bezier"===o.edgeType,f="multibezier"===o.edgeType,h="segments"===o.edgeType,g="compound"===o.edgeType,y="self"===o.edgeType;l?(E=o.haystackPts[0],C=o.haystackPts[1],S=o.haystackPts[2],T=o.haystackPts[3]):(E=o.arrowStartX,C=o.arrowStartY,S=o.arrowEndX,T=o.arrowEndY),O=o.midX,F=o.midY,h?(_=E-o.segpts[0],b=C-o.segpts[1]):f||g||y||c?(_=E-gi((M=o.allpts)[0],M[2],M[4],.1),b=C-gi(M[1],M[3],M[5],.1)):(_=E-O,b=C-F),o.srcArrowAngle=wd(_,b);var O=o.midX,F=o.midY;if(l&&(O=(E+S)/2,F=(C+T)/2),_=S-E,b=T-C,h)if((M=o.allpts).length/2%2==0)_=M[L=M.length/2]-M[$=L-2],b=M[L+1]-M[$+1];else{var L,$,K=2+(L=M.length/2-1);_=M[L]-M[$=L-2],b=M[L+1]-M[$+1]}else if(f||g||y){var z,Y,j,ee,W,te,oe,M=o.allpts;o.ctrlpts.length/2%2==0?(z=gi(M[te=M.length/2-1],M[W=te+2],M[oe=W+2],0),Y=gi(M[te+1],M[W+1],M[oe+1],0),j=gi(M[te],M[W],M[oe],1e-4),ee=gi(M[te+1],M[W+1],M[oe+1],1e-4)):(z=gi(M[te=(W=M.length/2-1)-2],M[W],M[oe=W+2],.4999),Y=gi(M[te+1],M[W+1],M[oe+1],.4999),j=gi(M[te],M[W],M[oe],.5),ee=gi(M[te+1],M[W+1],M[oe+1],.5)),_=j-z,b=ee-Y}if(o.midtgtArrowAngle=wd(_,b),o.midDispX=_,o.midDispY=b,_*=-1,b*=-1,h&&(M=o.allpts).length/2%2!=0&&(_=-(M[K=2+(L=M.length/2-1)]-M[L]),b=-(M[K+1]-M[L+1])),o.midsrcArrowAngle=wd(_,b),h)_=S-o.segpts[o.segpts.length-2],b=T-o.segpts[o.segpts.length-1];else if(f||g||y||c){var Q=(M=o.allpts).length;_=S-gi(M[Q-6],M[Q-4],M[Q-2],.9),b=T-gi(M[Q-5],M[Q-3],M[Q-1],.9)}else _=S-O,b=T-F;o.tgtArrowAngle=wd(_,b)}};Jd.getArrowWidth=Jd.getArrowHeight=function(a,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},c=l[a+", "+o];return c||(c=Math.max(Math.pow(13.37*a,.9),29)*o,l[a+", "+o]=c,c)};var xr={};function hg(a){var o=[];if(null!=a){for(var l=0;l<a.length;l+=2)o.push({x:a[l],y:a[l+1]});return o}}xr.findMidptPtsEtc=function(a,o){var h,j,ee,te,l=o.posPts,c=o.intersectionPts,f=o.vectorNormInverse,g=a.pstyle("source-endpoint"),y=a.pstyle("target-endpoint"),_=null!=g.units&&null!=y.units;switch(a.pstyle("edge-distances").value){case"node-position":h=l;break;case"intersection":h=c;break;case"endpoints":if(_){var S=yn(this.manualEndptToPx(a.source()[0],g),2),T=S[0],M=S[1],k=yn(this.manualEndptToPx(a.target()[0],y),2),O=k[0],F=k[1],L={x1:T,y1:M,x2:O,y2:F};ee=O-T,f={x:-(j=F-M)/(te=Math.sqrt(ee*ee+j*j)),y:ee/te},h=L}else Jt("Edge ".concat(a.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),h=c}return{midptPts:h,vectorNormInverse:f}},xr.findHaystackPoints=function(a){for(var o=0;o<a.length;o++){var l=a[o],c=l._private,f=c.rscratch;if(!f.haystack){var h=2*Math.random()*Math.PI;f.source={x:Math.cos(h),y:Math.sin(h)},h=2*Math.random()*Math.PI,f.target={x:Math.cos(h),y:Math.sin(h)}}var g=c.source,y=c.target,_=g.position(),b=y.position(),E=g.width(),C=y.width(),S=g.height(),T=y.height(),P=l.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*E*P+_.x,f.source.y*S*P+_.y,f.target.x*C*P+b.x,f.target.y*T*P+b.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},xr.findSegmentsPoints=function(a,o){var l=a._private.rscratch,c=a.pstyle("segment-weights"),f=a.pstyle("segment-distances"),h=Math.min(c.pfValue.length,f.pfValue.length);l.edgeType="segments",l.segpts=[];for(var g=0;g<h;g++){var y=c.pfValue[g],_=f.pfValue[g],b=1-y,E=y,C=this.findMidptPtsEtc(a,o),S=C.midptPts,T=C.vectorNormInverse,M={x:S.x1*b+S.x2*E,y:S.y1*b+S.y2*E};l.segpts.push(M.x+T.x*_,M.y+T.y*_)}},xr.findLoopPoints=function(a,o,l,c){var f=a._private.rscratch,h=o.dirCounts,g=o.srcPos,y=a.pstyle("control-point-distances"),_=y?y.pfValue[0]:void 0,b=a.pstyle("loop-direction").pfValue,E=a.pstyle("loop-sweep").pfValue,C=a.pstyle("control-point-step-size").pfValue;f.edgeType="self";var S=l,T=C;c&&(S=0,T=_);var M=b-Math.PI/2,P=M-E/2,k=M+E/2,O=b+"_"+E;S=void 0===h[O]?h[O]=0:++h[O],f.ctrlpts=[g.x+1.4*Math.cos(P)*T*(S/3+1),g.y+1.4*Math.sin(P)*T*(S/3+1),g.x+1.4*Math.cos(k)*T*(S/3+1),g.y+1.4*Math.sin(k)*T*(S/3+1)]},xr.findCompoundLoopPoints=function(a,o,l,c){var f=a._private.rscratch;f.edgeType="compound";var h=o.srcPos,g=o.tgtPos,y=o.srcW,_=o.srcH,b=o.tgtW,E=o.tgtH,C=a.pstyle("control-point-step-size").pfValue,S=a.pstyle("control-point-distances"),M=l,P=C;c&&(M=0,P=S?S.pfValue[0]:void 0);var O={x:h.x-y/2,y:h.y-_/2},F={x:g.x-b/2,y:g.y-E/2},L={x:Math.min(O.x,F.x),y:Math.min(O.y,F.y)},K=Math.max(.5,Math.log(.01*y)),X=Math.max(.5,Math.log(.01*b));f.ctrlpts=[L.x,L.y-(1+Math.pow(50,1.12)/100)*P*(M/3+1)*K,L.x-(1+Math.pow(50,1.12)/100)*P*(M/3+1)*X,L.y]},xr.findStraightEdgePoints=function(a){a._private.rscratch.edgeType="straight"},xr.findBezierPoints=function(a,o,l,c,f){var h=a._private.rscratch,g=a.pstyle("control-point-step-size").pfValue,y=a.pstyle("control-point-distances"),_=a.pstyle("control-point-weights"),b=y&&_?Math.min(y.value.length,_.value.length):1,E=y?y.pfValue[0]:void 0,C=_.value[0],S=c;h.edgeType=S?"multibezier":"bezier",h.ctrlpts=[];for(var T=0;T<b;T++){var P,M=(.5-o.eles.length/2+l)*g*(f?-1:1),k=Qf(M);S&&(E=y?y.pfValue[T]:g,C=_.value[T]);var O=void 0!==(P=c?E:void 0!==E?k*E:void 0)?P:M,F=1-C,L=C,$=this.findMidptPtsEtc(a,o),K=$.midptPts,X=$.vectorNormInverse,z={x:K.x1*F+K.x2*L,y:K.y1*F+K.y2*L};h.ctrlpts.push(z.x+X.x*O,z.y+X.y*O)}},xr.findTaxiPoints=function(a,o){var l=a._private.rscratch;l.edgeType="segments";var c="vertical",f="horizontal",h="leftward",g="rightward",y="downward",_="upward",E=o.posPts,C=o.srcW,S=o.srcH,T=o.tgtW,M=o.tgtH,k="node-position"!==a.pstyle("edge-distances").value,O=a.pstyle("taxi-direction").value,F=O,L=a.pstyle("taxi-turn"),$="%"===L.units,K=L.pfValue,X=K<0,z=a.pstyle("taxi-turn-min-distance").pfValue,j=k?(S+M)/2:0,ee=E.x2-E.x1,te=E.y2-E.y1,W=function(Ee,It){return Ee>0?Math.max(Ee-It,0):Math.min(Ee+It,0)},oe=W(ee,k?(C+T)/2:0),Q=W(te,j),de=!1;"auto"===F?O=Math.abs(oe)>Math.abs(Q)?f:c:F===_||F===y?(O=c,de=!0):(F===h||F===g)&&(O=f,de=!0);var ge,se=O===c,ie=se?Q:oe,me=se?te:ee,_e=Qf(me),ke=!1;(!de||!$&&!X)&&(F===y&&me<0||F===_&&me>0||F===h&&me>0||F===g&&me<0)&&(ie=(_e*=-1)*Math.abs(ie),ke=!0);var qe=function(Ee){return Math.abs(Ee)<z||Math.abs(Ee)>=Math.abs(ie)},He=qe(ge=$?(K<0?1+K:K)*ie:(K<0?ie:0)+K*_e),Ue=qe(Math.abs(ie)-Math.abs(ge));if(!He&&!Ue||ke)if(se){var we=E.y1+ge+(k?S/2*_e:0);l.segpts=[E.x1,we,E.x2,we]}else{var Oe=E.x1+ge+(k?C/2*_e:0);l.segpts=[Oe,E.y1,Oe,E.y2]}else if(se){var Ye=Math.abs(me)<=S/2,Qe=Math.abs(ee)<=T/2;if(Ye){var je=(E.x1+E.x2)/2;l.segpts=[je,E.y1,je,E.y2]}else if(Qe){var Ht=(E.y1+E.y2)/2;l.segpts=[E.x1,Ht,E.x2,Ht]}else l.segpts=[E.x1,E.y2]}else{var xt=Math.abs(me)<=C/2,ft=Math.abs(te)<=M/2;if(xt){var At=(E.y1+E.y2)/2;l.segpts=[E.x1,At,E.x2,At]}else if(ft){var gn=(E.x1+E.x2)/2;l.segpts=[gn,E.y1,gn,E.y2]}else l.segpts=[E.x2,E.y1]}},xr.tryToCorrectInvalidPoints=function(a,o){var l=a._private.rscratch;if("bezier"===l.edgeType){var c=o.srcPos,f=o.tgtPos,h=o.srcW,g=o.srcH,y=o.tgtW,_=o.tgtH,b=o.srcShape,E=o.tgtShape,C=!ht(l.startX)||!ht(l.startY),S=!ht(l.arrowStartX)||!ht(l.arrowStartY),T=!ht(l.endX)||!ht(l.endY),M=!ht(l.arrowEndX)||!ht(l.arrowEndY),O=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,F=ta({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),L=F<O,$=ta({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),K=$<O,X=!1;if(C||S||L){X=!0;var z={x:l.ctrlpts[0]-c.x,y:l.ctrlpts[1]-c.y},Y=Math.sqrt(z.x*z.x+z.y*z.y),j={x:z.x/Y,y:z.y/Y},ee=Math.max(h,g),te={x:l.ctrlpts[0]+2*j.x*ee,y:l.ctrlpts[1]+2*j.y*ee},W=b.intersectLine(c.x,c.y,h,g,te.x,te.y,0);L?(l.ctrlpts[0]=l.ctrlpts[0]+j.x*(O-F),l.ctrlpts[1]=l.ctrlpts[1]+j.y*(O-F)):(l.ctrlpts[0]=W[0]+j.x*O,l.ctrlpts[1]=W[1]+j.y*O)}if(T||M||K){X=!0;var oe={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},Q=Math.sqrt(oe.x*oe.x+oe.y*oe.y),de={x:oe.x/Q,y:oe.y/Q},se=Math.max(h,g),ie={x:l.ctrlpts[0]+2*de.x*se,y:l.ctrlpts[1]+2*de.y*se},me=E.intersectLine(f.x,f.y,y,_,ie.x,ie.y,0);K?(l.ctrlpts[0]=l.ctrlpts[0]+de.x*(O-$),l.ctrlpts[1]=l.ctrlpts[1]+de.y*(O-$)):(l.ctrlpts[0]=me[0]+de.x*O,l.ctrlpts[1]=me[1]+de.y*O)}X&&this.findEndpoints(a)}},xr.storeAllpts=function(a){var o=a._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var c;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[c=o.allpts.length/2-1],o.midY=o.allpts[c+1]):(o.midX=gi(o.allpts[c=o.allpts.length/2-3],o.allpts[c+2],o.allpts[c+4],.5),o.midY=gi(o.allpts[c+1],o.allpts[c+3],o.allpts[c+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var h=o.segpts.length/2,g=h-2;o.midX=(o.segpts[g]+o.segpts[h])/2,o.midY=(o.segpts[g+1]+o.segpts[h+1])/2}else{var y=o.segpts.length/2-1;o.midX=o.segpts[y],o.midY=o.segpts[y+1]}},xr.checkForInvalidEdgeWarning=function(a){var o=a[0]._private.rscratch;o.nodesOverlap||ht(o.startX)&&ht(o.startY)&&ht(o.endX)&&ht(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,Jt("Edge `"+a.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},xr.findEdgeControlPoints=function(a){var o=this;if(a&&0!==a.length){for(var l=this,f=l.cy.hasCompoundNodes(),h={map:new xs,get:function(z){var Y=this.map.get(z[0]);return null!=Y?Y.get(z[1]):null},set:function(z,Y){var j=this.map.get(z[0]);null==j&&(j=new xs,this.map.set(z[0],j)),j.set(z[1],Y)}},g=[],y=[],_=0;_<a.length;_++){var b=a[_],E=b._private,C=b.pstyle("curve-style").value;if(!b.removed()&&b.takesUpSpace()){if("haystack"===C){y.push(b);continue}var S="unbundled-bezier"===C||"segments"===C||"straight"===C||"straight-triangle"===C||"taxi"===C,T="unbundled-bezier"===C||"bezier"===C,P=E.target,F=[E.source.poolIndex(),P.poolIndex()].sort(),L=h.get(F);null==L&&(h.set(F,L={eles:[]}),g.push(F)),L.eles.push(b),S&&(L.hasUnbundled=!0),T&&(L.hasBezier=!0)}}for(var $=function(z){var j=h.get(g[z]),ee=void 0;if(!j.hasUnbundled){var te=j.eles[0].parallelEdges().filter(function(mn){return mn.isBundledBezier()});Kf(j.eles),te.forEach(function(mn){return j.eles.push(mn)}),j.eles.sort(function(mn,we){return mn.poolIndex()-we.poolIndex()})}var W=j.eles[0],oe=W.source(),Q=W.target();if(oe.poolIndex()>Q.poolIndex()){var de=oe;oe=Q,Q=de}var se=j.srcPos=oe.position(),ie=j.tgtPos=Q.position(),me=j.srcW=oe.outerWidth(),_e=j.srcH=oe.outerHeight(),ke=j.tgtW=Q.outerWidth(),ge=j.tgtH=Q.outerHeight(),Ie=j.srcShape=l.nodeShapes[o.getNodeShape(oe)],$e=j.tgtShape=l.nodeShapes[o.getNodeShape(Q)];j.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var qe=0;qe<j.eles.length;qe++){var He=j.eles[qe],Ue=He[0]._private.rscratch,ye=He.pstyle("curve-style").value,Ye="unbundled-bezier"===ye||"segments"===ye||"taxi"===ye,Qe=!oe.same(He.source());if(!j.calculatedIntersection&&oe!==Q&&(j.hasBezier||j.hasUnbundled)){j.calculatedIntersection=!0;var je=Ie.intersectLine(se.x,se.y,me,_e,ie.x,ie.y,0),rt=j.srcIntn=je,Ot=$e.intersectLine(ie.x,ie.y,ke,ge,se.x,se.y,0),Ht=j.tgtIntn=Ot,Be=j.intersectionPts={x1:je[0],x2:Ot[0],y1:je[1],y2:Ot[1]},ut=j.posPts={x1:se.x,x2:ie.x,y1:se.y,y2:ie.y},xt=Ot[1]-je[1],ft=Ot[0]-je[0],At=Math.sqrt(ft*ft+xt*xt),Rt=j.vector={x:ft,y:xt},Cn=j.vectorNorm={x:Rt.x/At,y:Rt.y/At},gn={x:-Cn.y,y:Cn.x};j.nodesOverlap=!ht(At)||$e.checkPoint(je[0],je[1],0,ke,ge,ie.x,ie.y)||Ie.checkPoint(Ot[0],Ot[1],0,me,_e,se.x,se.y),j.vectorNormInverse=gn,ee={nodesOverlap:j.nodesOverlap,dirCounts:j.dirCounts,calculatedIntersection:!0,hasBezier:j.hasBezier,hasUnbundled:j.hasUnbundled,eles:j.eles,srcPos:ie,tgtPos:se,srcW:ke,srcH:ge,tgtW:me,tgtH:_e,srcIntn:Ht,tgtIntn:rt,srcShape:$e,tgtShape:Ie,posPts:{x1:ut.x2,y1:ut.y2,x2:ut.x1,y2:ut.y1},intersectionPts:{x1:Be.x2,y1:Be.y2,x2:Be.x1,y2:Be.y1},vector:{x:-Rt.x,y:-Rt.y},vectorNorm:{x:-Cn.x,y:-Cn.y},vectorNormInverse:{x:-gn.x,y:-gn.y}}}var Wt=Qe?ee:j;Ue.nodesOverlap=Wt.nodesOverlap,Ue.srcIntn=Wt.srcIntn,Ue.tgtIntn=Wt.tgtIntn,f&&(oe.isParent()||oe.isChild()||Q.isParent()||Q.isChild())&&(oe.parents().anySame(Q)||Q.parents().anySame(oe)||oe.same(Q)&&oe.isParent())?o.findCompoundLoopPoints(He,Wt,qe,Ye):oe===Q?o.findLoopPoints(He,Wt,qe,Ye):"segments"===ye?o.findSegmentsPoints(He,Wt):"taxi"===ye?o.findTaxiPoints(He,Wt):"straight"===ye||!Ye&&j.eles.length%2==1&&qe===Math.floor(j.eles.length/2)?o.findStraightEdgePoints(He):o.findBezierPoints(He,Wt,qe,Ye,Qe),o.findEndpoints(He),o.tryToCorrectInvalidPoints(He,Wt),o.checkForInvalidEdgeWarning(He),o.storeAllpts(He),o.storeEdgeProjections(He),o.calculateArrowAngles(He),o.recalculateEdgeLabelProjections(He),o.calculateLabelAngles(He)}},K=0;K<g.length;K++)$(K);this.findHaystackPoints(y)}},xr.getSegmentPoints=function(a){var o=a[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(a),hg(o.segpts)},xr.getControlPoints=function(a){var o=a[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(a),hg(o.ctrlpts)},xr.getEdgeMidpoint=function(a){var o=a[0]._private.rscratch;return this.recalculateRenderedStyle(a),{x:o.midX,y:o.midY}};var Za={manualEndptToPx:function(a,o){var c=a.position(),f=a.outerWidth(),h=a.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*f),"%"===o.units[1]&&(g[1]=g[1]*h),g[0]+=c.x,g[1]+=c.y,g}var y=o.pfValue[0];y=-Math.PI/2+y;var _=2*Math.max(f,h),b=[c.x+Math.cos(y)*_,c.y+Math.sin(y)*_];return this.nodeShapes[this.getNodeShape(a)].intersectLine(c.x,c.y,f,h,b[0],b[1],0)},findEndpoints:function(a){var l,ee,te,W,oe,o=this,c=a.source()[0],f=a.target()[0],h=c.position(),g=f.position(),y=a.pstyle("target-arrow-shape").value,_=a.pstyle("source-arrow-shape").value,b=a.pstyle("target-distance-from-node").pfValue,E=a.pstyle("source-distance-from-node").pfValue,C=a.pstyle("curve-style").value,S=a._private.rscratch,T=S.edgeType,P="self"===T||"compound"===T,k="bezier"===T||"multibezier"===T||P,O="bezier"!==T,F="straight"===T||"segments"===T,L="segments"===T,$=k||O||F,K=P||"taxi"===C,X=a.pstyle("source-endpoint"),z=K?"outside-to-node":X.value,Y=a.pstyle("target-endpoint"),j=K?"outside-to-node":Y.value;if(S.srcManEndpt=X,S.tgtManEndpt=Y,k){var Q=[S.ctrlpts[0],S.ctrlpts[1]];ee=O?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:Q,te=Q}else if(F){var se=L?S.segpts.slice(0,2):[g.x,g.y];ee=L?S.segpts.slice(S.segpts.length-2):[h.x,h.y],te=se}if("inside-to-node"===j)l=[g.x,g.y];else if(Y.units)l=this.manualEndptToPx(f,Y);else if("outside-to-line"===j)l=S.tgtIntn;else if("outside-to-node"===j||"outside-to-node-or-label"===j?W=ee:("outside-to-line"===j||"outside-to-line-or-label"===j)&&(W=[h.x,h.y]),l=o.nodeShapes[this.getNodeShape(f)].intersectLine(g.x,g.y,f.outerWidth(),f.outerHeight(),W[0],W[1],0),"outside-to-node-or-label"===j||"outside-to-line-or-label"===j){var me=f._private.rscratch,ge=me.labelX,Ie=me.labelY,$e=me.labelWidth/2,qe=me.labelHeight/2,He=f.pstyle("text-valign").value;"top"===He?Ie-=qe:"bottom"===He&&(Ie+=qe);var Ue=f.pstyle("text-halign").value;"left"===Ue?ge-=$e:"right"===Ue&&(ge+=$e);var ye=In(W[0],W[1],[ge-$e,Ie-qe,ge+$e,Ie-qe,ge+$e,Ie+qe,ge-$e,Ie+qe],g.x,g.y);if(ye.length>0){var Ye=h,Qe=si(Ye,ic(l)),je=si(Ye,ic(ye)),rt=Qe;je<Qe&&(l=ye,rt=je),ye.length>2&&si(Ye,{x:ye[2],y:ye[3]})<rt&&(l=[ye[2],ye[3]])}}var Ht=uc(l,ee,o.arrowShapes[y].spacing(a)+b),Be=uc(l,ee,o.arrowShapes[y].gap(a)+b);if(S.endX=Be[0],S.endY=Be[1],S.arrowEndX=Ht[0],S.arrowEndY=Ht[1],"inside-to-node"===z)l=[h.x,h.y];else if(X.units)l=this.manualEndptToPx(c,X);else if("outside-to-line"===z)l=S.srcIntn;else if("outside-to-node"===z||"outside-to-node-or-label"===z?oe=te:("outside-to-line"===z||"outside-to-line-or-label"===z)&&(oe=[g.x,g.y]),l=o.nodeShapes[this.getNodeShape(c)].intersectLine(h.x,h.y,c.outerWidth(),c.outerHeight(),oe[0],oe[1],0),"outside-to-node-or-label"===z||"outside-to-line-or-label"===z){var ut=c._private.rscratch,At=ut.labelX,Rt=ut.labelY,Cn=ut.labelWidth/2,gn=ut.labelHeight/2,Wt=c.pstyle("text-valign").value;"top"===Wt?Rt-=gn:"bottom"===Wt&&(Rt+=gn);var mn=c.pstyle("text-halign").value;"left"===mn?At-=Cn:"right"===mn&&(At+=Cn);var we=In(oe[0],oe[1],[At-Cn,Rt-gn,At+Cn,Rt-gn,At+Cn,Rt+gn,At-Cn,Rt+gn],h.x,h.y);if(we.length>0){var G=g,be=si(G,ic(l)),Oe=si(G,ic(we)),xe=be;Oe<be&&(l=[we[0],we[1]],xe=Oe),we.length>2&&si(G,{x:we[2],y:we[3]})<xe&&(l=[we[2],we[3]])}}var pt=uc(l,te,o.arrowShapes[_].spacing(a)+E),Ee=uc(l,te,o.arrowShapes[_].gap(a)+E);S.startX=Ee[0],S.startY=Ee[1],S.arrowStartX=pt[0],S.arrowStartY=pt[1],$&&(S.badLine=!(ht(S.startX)&&ht(S.startY)&&ht(S.endX)&&ht(S.endY)))},getSourceEndpoint:function(a){var o=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(a){var o=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},Fc={};function $s(a,o,l){for(var c=function(b,E,C,S){return gi(b,E,C,S)},h=o._private.rstyle.bezierPts,g=0;g<a.bezierProjPcts.length;g++){var y=a.bezierProjPcts[g];h.push({x:c(l[0],l[2],l[4],y),y:c(l[1],l[3],l[5],y)})}}Fc.storeEdgeProjections=function(a){var o=a._private,l=o.rscratch,c=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===c||"bezier"===c||"self"===c||"compound"===c){o.rstyle.bezierPts=[];for(var f=0;f+5<l.allpts.length;f+=4)$s(this,a,l.allpts.slice(f,f+6))}else if("segments"===c){var h=o.rstyle.linePts=[];for(f=0;f+1<l.allpts.length;f+=2)h.push({x:l.allpts[f],y:l.allpts[f+1]})}else if("haystack"===c){var g=l.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth},Fc.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};var vr={recalculateNodeLabelProjection:function(a){var o=a.pstyle("label").strValue;if(!nn(o)){var l,c,f=a._private,h=a.width(),g=a.height(),y=a.padding(),_=a.position(),b=a.pstyle("text-halign").strValue,E=a.pstyle("text-valign").strValue,C=f.rscratch,S=f.rstyle;switch(b){case"left":l=_.x-h/2-y;break;case"right":l=_.x+h/2+y;break;default:l=_.x}switch(E){case"top":c=_.y-g/2-y;break;case"bottom":c=_.y+g/2+y;break;default:c=_.y}C.labelX=l,C.labelY=c,S.labelX=l,S.labelY=c,this.calculateLabelAngles(a),this.applyLabelDimensions(a)}}},Nu=function(o,l){var c=Math.atan(l/o);return 0===o&&c<0&&(c*=-1),c},pg=function(o,l){return Nu(l.x-o.x,l.y-o.y)};vr.recalculateEdgeLabelProjections=function(a){var o,l=a._private,c=l.rscratch,f=this,h={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(h.mid||h.source||h.target){var g=function(C,S,T){Js(l.rscratch,C,S,T),Js(l.rstyle,C,S,T)};g("labelX",null,(o={x:c.midX,y:c.midY}).x),g("labelY",null,o.y);var y=Nu(c.midDispX,c.midDispY);g("labelAutoAngle",null,y);var _=function E(){if(E.cache)return E.cache;for(var C=[],S=0;S+5<c.allpts.length;S+=4)C.push({p0:{x:c.allpts[S],y:c.allpts[S+1]},p1:{x:c.allpts[S+2],y:c.allpts[S+3]},p2:{x:c.allpts[S+4],y:c.allpts[S+5]},startDist:0,length:0,segments:[]});var k=l.rstyle.bezierPts,O=f.bezierProjPcts.length;function F(z,Y,j,ee,te){var W=ta(Y,j),oe=z.segments[z.segments.length-1];z.segments.push({p0:Y,p1:j,t0:ee,t1:te,startDist:oe?oe.startDist+oe.length:0,length:W}),z.length+=W}for(var L=0;L<C.length;L++){var $=C[L],K=C[L-1];K&&($.startDist=K.startDist+K.length),F($,$.p0,k[L*O],0,f.bezierProjPcts[0]);for(var X=0;X<O-1;X++)F($,k[L*O+X],k[L*O+X+1],f.bezierProjPcts[X],f.bezierProjPcts[X+1]);F($,k[L*O+O-1],$.p2,f.bezierProjPcts[O-1],1)}return E.cache=C},b=function(C){var S,T="source"===C;if(h[C]){var M=a.pstyle(C+"-text-offset").pfValue;switch(c.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var k,P=_(),O=0,F=0,L=0;L<P.length;L++){for(var $=P[T?L:P.length-1-L],K=0;K<$.segments.length;K++){var X=$.segments[T?K:$.segments.length-1-K];if(O=F,(F+=X.length)>=M||L===P.length-1&&K===$.segments.length-1){k={cp:$,segment:X};break}}if(k)break}var Y=k.cp,j=k.segment,ee=(M-O)/j.length,te=j.t1-j.t0,W=T?j.t0+te*ee:j.t1-te*ee;W=Ed(0,W,1),o=gl(Y.p0,Y.p1,Y.p2,W),S=function(o,l,c,f){var h=Ed(0,f-.001,1),g=Ed(0,f+.001,1),y=gl(o,l,c,h),_=gl(o,l,c,g);return pg(y,_)}(Y.p0,Y.p1,Y.p2,W);break;case"straight":case"segments":case"haystack":for(var Q,de,se,ie,oe=0,me=c.allpts.length,_e=0;_e+3<me&&(T?(se={x:c.allpts[_e],y:c.allpts[_e+1]},ie={x:c.allpts[_e+2],y:c.allpts[_e+3]}):(se={x:c.allpts[me-2-_e],y:c.allpts[me-1-_e]},ie={x:c.allpts[me-4-_e],y:c.allpts[me-3-_e]}),de=oe,!((oe+=Q=ta(se,ie))>=M));_e+=2);var ge=(M-de)/Q;ge=Ed(0,ge,1),o=function(o,l,c,f){var h_x=l.x-o.x,h_y=l.y-o.y,g=ta(o,l);return c=c??0,{x:o.x+h_x/g*(f=f??c*g),y:o.y+h_y/g*f}}(se,ie,ge),S=pg(se,ie)}g("labelX",C,o.x),g("labelY",C,o.y),g("labelAutoAngle",C,S)}};b("source"),b("target"),this.applyLabelDimensions(a)}},vr.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},vr.applyPrefixedLabelDimensions=function(a,o){var l=a._private,c=this.getLabelText(a,o),f=this.calculateLabelDimensions(a,c),h=a.pstyle("line-height").pfValue,g=a.pstyle("text-wrap").strValue,y=So(l.rscratch,"labelWrapCachedLines",o)||[],_="wrap"!==g?1:Math.max(y.length,1),b=f.height/_,E=b*h,C=f.width,S=f.height+(_-1)*(h-1)*b;Js(l.rstyle,"labelWidth",o,C),Js(l.rscratch,"labelWidth",o,C),Js(l.rstyle,"labelHeight",o,S),Js(l.rscratch,"labelHeight",o,S),Js(l.rscratch,"labelLineHeight",o,E)},vr.getLabelText=function(a,o){var l=a._private,f=a.pstyle((o?o+"-":"")+"label").strValue,h=a.pstyle("text-transform").value,g=function(ke,ge){return ge?(Js(l.rscratch,ke,o,ge),ge):So(l.rscratch,ke,o)};if(!f)return"";"none"==h||("uppercase"==h?f=f.toUpperCase():"lowercase"==h&&(f=f.toLowerCase()));var y=a.pstyle("text-wrap").value;if("wrap"===y){var _=g("labelKey");if(null!=_&&g("labelWrapKey")===_)return g("labelWrapCachedText");for(var E=f.split("\n"),C=a.pstyle("text-max-width").pfValue,T="anywhere"===a.pstyle("text-overflow-wrap").value,M=[],P=/[\s\u200b]+/,k=T?"":" ",O=0;O<E.length;O++){var F=E[O],$=this.calculateLabelDimensions(a,F).width;if(T){var K=F.split("").join("\u200b");F=K}if($>C){for(var X=F.split(P),z="",Y=0;Y<X.length;Y++){var j=X[Y];this.calculateLabelDimensions(a,0===z.length?j:z+k+j).width<=C?z+=j+k:(z&&M.push(z),z=j+k)}z.match(/^[\s\u200b]+$/)||M.push(z)}else M.push(F)}g("labelWrapCachedLines",M),f=g("labelWrapCachedText",M.join("\n")),g("labelWrapKey",_)}else if("ellipsis"===y){var oe=a.pstyle("text-max-width").pfValue,Q="",se=!1;if(this.calculateLabelDimensions(a,f).width<oe)return f;for(var ie=0;ie<f.length&&!(this.calculateLabelDimensions(a,Q+f[ie]+"\u2026").width>oe);ie++)Q+=f[ie],ie===f.length-1&&(se=!0);return se||(Q+="\u2026"),Q}return f},vr.getLabelJustification=function(a){var o=a.pstyle("text-justification").strValue,l=a.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!a.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},vr.calculateLabelDimensions=function(a,o){var c=Cs(o,a._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),h=f[c];if(null!=h)return h;var y=a.pstyle("font-style").strValue,_=a.pstyle("font-size").pfValue,b=a.pstyle("font-family").strValue,E=a.pstyle("font-weight").strValue,C=this.labelCalcCanvas,S=this.labelCalcCanvasContext;if(!C){C=this.labelCalcCanvas=document.createElement("canvas"),S=this.labelCalcCanvasContext=C.getContext("2d");var T=C.style;T.position="absolute",T.left="-9999px",T.top="-9999px",T.zIndex="-1",T.visibility="hidden",T.pointerEvents="none"}S.font="".concat(y," ").concat(E," ").concat(_,"px ").concat(b);for(var M=0,P=0,k=o.split("\n"),O=0;O<k.length;O++){var L=S.measureText(k[O]),$=Math.ceil(L.width),K=_;M=Math.max($,M),P+=K}return f[c]={width:M+=0,height:P+=0}},vr.calculateLabelAngle=function(a,o){var c=a._private.rscratch,f=a.isEdge(),g=a.pstyle((o?o+"-":"")+"text-rotation"),y=g.strValue;return"none"===y?0:f&&"autorotate"===y?c.labelAutoAngle:"autorotate"===y?0:g.pfValue},vr.calculateLabelAngles=function(a){var o=this,l=a.isEdge(),f=a._private.rscratch;f.labelAngle=o.calculateLabelAngle(a),l&&(f.sourceLabelAngle=o.calculateLabelAngle(a,"source"),f.targetLabelAngle=o.calculateLabelAngle(a,"target"))};var Oh={},Rl=!1;Oh.getNodeShape=function(a){var l=a.pstyle("shape").value;if("cutrectangle"===l&&(a.width()<28||a.height()<28))return Rl||(Jt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Rl=!0),"rectangle";if(a.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var c=a.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(c).name}return l};var Ya={updateCachedGrabbedEles:function(){var a=this.cachedZSortedEles;if(a){a.drag=[],a.nondrag=[];for(var o=[],l=0;l<a.length;l++){var f=(c=a[l])._private.rscratch;c.grabbed()&&!c.isParent()?o.push(c):f.inDragLayer?a.drag.push(c):a.nondrag.push(c)}for(l=0;l<o.length;l++){var c;a.drag.push(c=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(a){if(a||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(eg),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},Qa={};[ma,Jd,xr,Za,Fc,vr,Oh,{registerCalculationListeners:function(){var a=this.cy,o=a.collection(),l=this,c=function(g){var y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),y)for(var _=0;_<g.length;_++){var C=g[_]._private.rstyle;C.clean=!1,C.cleanConnected=!1}};l.binder(a).on("bounds.* dirty.*",function(g){c(g.target)}).on("style.* background.*",function(g){c(g.target,!1)});var f=function(g){if(g){var y=l.onUpdateEleCalcsFns;o.cleanStyle();for(var _=0;_<o.length;_++){var b=o[_],E=b._private.rstyle;b.isNode()&&!E.cleanConnected&&(c(b.connectedEdges()),E.cleanConnected=!0)}if(y)for(var C=0;C<y.length;C++)(0,y[C])(g,o);l.recalculateRenderedStyle(o),o=a.collection()}};l.flushRenderedStyleQueue=function(){f(!0)},l.beforeRender(f,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(a){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(a)},recalculateRenderedStyle:function(a,o){var l=function($){return $._private.rstyle.cleanConnected},c=[],f=[];if(!this.destroyed){void 0===o&&(o=!0);for(var h=0;h<a.length;h++){var g=a[h],y=g._private,_=y.rstyle;g.isEdge()&&(!l(g.source())||!l(g.target()))&&(_.clean=!1),!(o&&_.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===y.group?f.push(g):c.push(g),_.clean=!0)}for(var b=0;b<f.length;b++){var E=f[b],S=E._private.rstyle,T=E.position();this.recalculateNodeLabelProjection(E),S.nodeX=T.x,S.nodeY=T.y,S.nodeW=E.pstyle("width").pfValue,S.nodeH=E.pstyle("height").pfValue}this.recalculateEdgeProjections(c);for(var M=0;M<c.length;M++){var k=c[M]._private,O=k.rstyle,F=k.rscratch;O.srcX=F.arrowStartX,O.srcY=F.arrowStartY,O.tgtX=F.arrowEndX,O.tgtY=F.arrowEndY,O.midX=F.midX,O.midY=F.midY,O.labelAngle=F.labelAngle,O.sourceLabelAngle=F.sourceLabelAngle,O.targetLabelAngle=F.targetLabelAngle}}}},Ya].forEach(function(a){Lt(Qa,a)});var gg={getCachedImage:function(a,o,l){var f=this.imageCache=this.imageCache||{},h=f[a];if(h)return h.image.complete||h.image.addEventListener("load",l),h.image;var g=(h=f[a]=f[a]||{}).image=new Image;g.addEventListener("load",l),g.addEventListener("error",function(){g.error=!0});return"data:"===a.substring(0,5).toLowerCase()||(g.crossOrigin=o="null"===o?null:o),g.src=a,g}},kl={registerBinding:function(a,o,l,c){var f=Array.prototype.slice.apply(arguments,[1]),h=this.binder(a);return h.on.apply(h,f)},binder:function(a){var o=this,l=o.cy.window(),c=a===l||a===l.document||a===l.document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(a);if(null==o.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});l.addEventListener("test",null,h)}catch{}o.supportsPassiveEvents=f}var g=function(_,b,E){var C=Array.prototype.slice.call(arguments);return c&&o.supportsPassiveEvents&&(C[2]={capture:E??!1,passive:!1,once:!1}),o.bindings.push({target:a,args:C}),(a.addEventListener||a.on).apply(a,C),this};return{on:g,addEventListener:g,addListener:g,bind:g}},nodeIsDraggable:function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},nodeIsGrabbable:function(a){return this.nodeIsDraggable(a)&&a.interactive()}};kl.load=function(){var a=this,o=a.cy.window(),l=function(G){return G.selected()},c=function(G,be,Oe,xe){null==G&&(G=a.cy);for(var Ae=0;Ae<be.length;Ae++)G.emit({originalEvent:Oe,type:be[Ae],position:xe})},f=function(G){return G.shiftKey||G.metaKey||G.ctrlKey},h=function(G,be){var Oe=!0;if(a.cy.hasCompoundNodes()&&G&&G.pannable()){for(var xe=0;be&&xe<be.length;xe++)if((G=be[xe]).isNode()&&G.isParent()&&!G.pannable()){Oe=!1;break}}else Oe=!0;return Oe},_=function(G){G[0]._private.rscratch.inDragLayer=!0},E=function(G){G[0]._private.rscratch.isGrabTarget=!0},S=function(G,be){var Oe=be.addToList;!Oe.has(G)&&G.grabbable()&&!G.locked()&&(Oe.merge(G),function(G){G[0]._private.grabbed=!0}(G))},M=function(G,be){be=be||{};var Oe=G.cy().hasCompoundNodes();be.inDragLayer&&(G.forEach(_),G.neighborhood().stdFilter(function(xe){return!Oe||xe.isEdge()}).forEach(_)),be.addToList&&G.forEach(function(xe){S(xe,be)}),function(G,be){if(G.cy().hasCompoundNodes()&&(null!=be.inDragLayer||null!=be.addToList)){var Oe=G.descendants();be.inDragLayer&&(Oe.forEach(_),Oe.connectedEdges().forEach(_)),be.addToList&&S(Oe,be)}}(G,be),O(G,{inDragLayer:be.inDragLayer}),a.updateCachedGrabbedEles()},P=M,k=function(G){G&&(a.getCachedZSortedEles().forEach(function(be){(function(G){G[0]._private.grabbed=!1})(be),function(G){G[0]._private.rscratch.inDragLayer=!1}(be),function(G){G[0]._private.rscratch.isGrabTarget=!1}(be)}),a.updateCachedGrabbedEles())},O=function(G,be){if((null!=be.inDragLayer||null!=be.addToList)&&G.cy().hasCompoundNodes()){var Oe=G.ancestors().orphans();if(!Oe.same(G)){var xe=Oe.descendants().spawnSelf().merge(Oe).unmerge(G).unmerge(G.descendants()),Ae=xe.connectedEdges();be.inDragLayer&&(Ae.forEach(_),xe.forEach(_)),be.addToList&&xe.forEach(function(pt){S(pt,be)})}}},F=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},L=typeof MutationObserver<"u",$=typeof ResizeObserver<"u";L?(a.removeObserver=new MutationObserver(function(we){for(var G=0;G<we.length;G++){var Oe=we[G].removedNodes;if(Oe)for(var xe=0;xe<Oe.length;xe++)if(Oe[xe]===a.container){a.destroy();break}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(we){a.destroy()});var K=ct.default(function(){a.cy.resize()},100);L&&(a.styleObserver=new MutationObserver(K),a.styleObserver.observe(a.container,{attributes:!0})),a.registerBinding(o,"resize",K),$&&(a.resizeObserver=new ResizeObserver(K),a.resizeObserver.observe(a.container));var z=function(){a.invalidateContainerClientCoordsCache()};(function(G,be){for(;null!=G;)a.registerBinding(we=G,"transitionend",z),a.registerBinding(we,"animationend",z),a.registerBinding(we,"scroll",z),G=G.parentNode;var we})(a.container),a.registerBinding(a.container,"contextmenu",function(we){we.preventDefault()});var ee,te,W,j=function(G){for(var be=a.findContainerClientCoords(),Oe=be[0],xe=be[1],Ae=be[2],pt=be[3],Ee=G.touches?G.touches:[G],It=!1,dn=0;dn<Ee.length;dn++){var On=Ee[dn];if(Oe<=On.clientX&&On.clientX<=Oe+Ae&&xe<=On.clientY&&On.clientY<=xe+pt){It=!0;break}}if(!It)return!1;for(var Yt=a.container,en=G.target.parentNode,ln=!1;en;){if(en===Yt){ln=!0;break}en=en.parentNode}return!!ln};a.registerBinding(a.container,"mousedown",function(G){if(j(G)){G.preventDefault(),F(),a.hoverData.capture=!0,a.hoverData.which=G.which;var be=a.cy,Oe=[G.clientX,G.clientY],xe=a.projectIntoViewport(Oe[0],Oe[1]),Ae=a.selection,pt=a.findNearestElements(xe[0],xe[1],!0,!1),Ee=pt[0],It=a.dragData.possibleDragElements;if(a.hoverData.mdownPos=xe,a.hoverData.mdownGPos=Oe,3==G.which){a.hoverData.cxtStarted=!0;var On={originalEvent:G,type:"cxttapstart",position:{x:xe[0],y:xe[1]}};Ee?(Ee.activate(),Ee.emit(On),a.hoverData.down=Ee):be.emit(On),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1}else if(1==G.which){if(Ee&&Ee.activate(),null!=Ee&&a.nodeIsGrabbable(Ee)){var Yt=function(Nr){return{originalEvent:G,type:Nr,position:{x:xe[0],y:xe[1]}}};if(E(Ee),Ee.selected()){It=a.dragData.possibleDragElements=be.collection();var en=be.$(function(ln){return ln.isNode()&&ln.selected()&&a.nodeIsGrabbable(ln)});M(en,{addToList:It}),Ee.emit(Yt("grabon")),en.forEach(function(Nr){Nr.emit(Yt("grab"))})}else It=a.dragData.possibleDragElements=be.collection(),P(Ee,{addToList:It}),Ee.emit(Yt("grabon")).emit(Yt("grab"));a.redrawHint("eles",!0),a.redrawHint("drag",!0)}a.hoverData.down=Ee,a.hoverData.downs=pt,a.hoverData.downTime=(new Date).getTime(),c(Ee,["mousedown","tapstart","vmousedown"],G,{x:xe[0],y:xe[1]}),null==Ee?(Ae[4]=1,a.data.bgActivePosistion={x:xe[0],y:xe[1]},a.redrawHint("select",!0),a.redraw()):Ee.pannable()&&(Ae[4]=1),a.hoverData.tapholdCancelled=!1,clearTimeout(a.hoverData.tapholdTimeout),a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var Nr=a.hoverData.down;Nr?Nr.emit({originalEvent:G,type:"taphold",position:{x:xe[0],y:xe[1]}}):be.emit({originalEvent:G,type:"taphold",position:{x:xe[0],y:xe[1]}})}},a.tapholdDuration)}Ae[0]=Ae[2]=xe[0],Ae[1]=Ae[3]=xe[1]}},!1),a.registerBinding(o,"mousemove",function(G){var fs;if(a.hoverData.capture||j(G)){var Oe=!1,xe=a.cy,Ae=xe.zoom(),pt=[G.clientX,G.clientY],Ee=a.projectIntoViewport(pt[0],pt[1]),It=a.hoverData.mdownPos,dn=a.hoverData.mdownGPos,On=a.selection,Yt=null;!a.hoverData.draggingEles&&!a.hoverData.dragging&&!a.hoverData.selecting&&(Yt=a.findNearestElement(Ee[0],Ee[1],!0,!1));var Vr,Bn=a.hoverData.last,en=a.hoverData.down,ln=[Ee[0]-On[2],Ee[1]-On[3]],Nr=a.dragData.possibleDragElements;if(dn){var Ii=pt[0]-dn[0],pi=pt[1]-dn[1];a.hoverData.isOverThresholdDrag=Vr=Ii*Ii+pi*pi>=a.desktopTapThreshold2}var yo=f(G);Vr&&(a.hoverData.tapholdCancelled=!0),Oe=!0,c(Yt,["mousemove","vmousemove","tapdrag"],G,{x:Ee[0],y:Ee[1]});var $l=function(){a.data.bgActivePosistion=void 0,a.hoverData.selecting||xe.emit({originalEvent:G,type:"boxstart",position:{x:Ee[0],y:Ee[1]}}),On[4]=1,a.hoverData.selecting=!0,a.redrawHint("select",!0),a.redraw()};if(3===a.hoverData.which){if(Vr){var qs={originalEvent:G,type:"cxtdrag",position:{x:Ee[0],y:Ee[1]}};en?en.emit(qs):xe.emit(qs),a.hoverData.cxtDragged=!0,(!a.hoverData.cxtOver||Yt!==a.hoverData.cxtOver)&&(a.hoverData.cxtOver&&a.hoverData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:Ee[0],y:Ee[1]}}),a.hoverData.cxtOver=Yt,Yt&&Yt.emit({originalEvent:G,type:"cxtdragover",position:{x:Ee[0],y:Ee[1]}}))}}else if(a.hoverData.dragging){if(Oe=!0,xe.panningEnabled()&&xe.userPanningEnabled()){var el;if(a.hoverData.justStartedPan){var wa=a.hoverData.mdownPos;el={x:(Ee[0]-wa[0])*Ae,y:(Ee[1]-wa[1])*Ae},a.hoverData.justStartedPan=!1}else el={x:ln[0]*Ae,y:ln[1]*Ae};xe.panBy(el),xe.emit("dragpan"),a.hoverData.dragged=!0}Ee=a.projectIntoViewport(G.clientX,G.clientY)}else if(1!=On[4]||null!=en&&!en.pannable()){if(en&&en.pannable()&&en.active()&&en.unactivate(),(!en||!en.grabbed())&&Yt!=Bn&&(Bn&&c(Bn,["mouseout","tapdragout"],G,{x:Ee[0],y:Ee[1]}),Yt&&c(Yt,["mouseover","tapdragover"],G,{x:Ee[0],y:Ee[1]}),a.hoverData.last=Yt),en)if(Vr){if(xe.boxSelectionEnabled()&&yo)en&&en.grabbed()&&(k(Nr),en.emit("freeon"),Nr.emit("free"),a.dragData.didDrag&&(en.emit("dragfreeon"),Nr.emit("dragfree"))),$l();else if(en&&en.grabbed()&&a.nodeIsDraggable(en)){var Ur=!a.dragData.didDrag;Ur&&a.redrawHint("eles",!0),a.dragData.didDrag=!0,a.hoverData.draggingEles||M(Nr,{inDragLayer:!0});var Vt={x:0,y:0};if(ht(ln[0])&&ht(ln[1])&&(Vt.x+=ln[0],Vt.y+=ln[1],Ur)){var oo=a.hoverData.dragDelta;oo&&ht(oo[0])&&ht(oo[1])&&(Vt.x+=oo[0],Vt.y+=oo[1])}a.hoverData.draggingEles=!0,Nr.silentShift(Vt).emit("position drag"),a.redrawHint("drag",!0),a.redraw()}}else 0===(fs=a.hoverData.dragDelta=a.hoverData.dragDelta||[]).length?(fs.push(ln[0]),fs.push(ln[1])):(fs[0]+=ln[0],fs[1]+=ln[1]);Oe=!0}else Vr&&(a.hoverData.dragging||!xe.boxSelectionEnabled()||!yo&&xe.panningEnabled()&&xe.userPanningEnabled()?!a.hoverData.selecting&&xe.panningEnabled()&&xe.userPanningEnabled()&&h(en,a.hoverData.downs)&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,On[4]=0,a.data.bgActivePosistion=ic(It),a.redrawHint("select",!0),a.redraw()):$l(),en&&en.pannable()&&en.active()&&en.unactivate());if(On[2]=Ee[0],On[3]=Ee[1],Oe)return G.stopPropagation&&G.stopPropagation(),G.preventDefault&&G.preventDefault(),!1}},!1),a.registerBinding(o,"mouseup",function(G){if(a.hoverData.capture){a.hoverData.capture=!1;var Oe=a.cy,xe=a.projectIntoViewport(G.clientX,G.clientY),Ae=a.selection,pt=a.findNearestElement(xe[0],xe[1],!0,!1),Ee=a.dragData.possibleDragElements,It=a.hoverData.down,dn=f(G);if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,It&&It.unactivate(),3===a.hoverData.which){var On={originalEvent:G,type:"cxttapend",position:{x:xe[0],y:xe[1]}};if(It?It.emit(On):Oe.emit(On),!a.hoverData.cxtDragged){var Yt={originalEvent:G,type:"cxttap",position:{x:xe[0],y:xe[1]}};It?It.emit(Yt):Oe.emit(Yt)}a.hoverData.cxtDragged=!1,a.hoverData.which=null}else if(1===a.hoverData.which){if(c(pt,["mouseup","tapend","vmouseup"],G,{x:xe[0],y:xe[1]}),!a.dragData.didDrag&&!a.hoverData.dragged&&!a.hoverData.selecting&&!a.hoverData.isOverThresholdDrag&&(c(It,["click","tap","vclick"],G,{x:xe[0],y:xe[1]}),te=!1,G.timeStamp-W<=Oe.multiClickDebounceTime()?(ee&&clearTimeout(ee),te=!0,W=null,c(It,["dblclick","dbltap","vdblclick"],G,{x:xe[0],y:xe[1]})):(ee=setTimeout(function(){te||c(It,["oneclick","onetap","voneclick"],G,{x:xe[0],y:xe[1]})},Oe.multiClickDebounceTime()),W=G.timeStamp)),null==It&&!a.dragData.didDrag&&!a.hoverData.selecting&&!a.hoverData.dragged&&!f(G)&&(Oe.$(l).unselect(["tapunselect"]),Ee.length>0&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=Ee=Oe.collection()),pt==It&&!a.dragData.didDrag&&!a.hoverData.selecting&&null!=pt&&pt._private.selectable&&(a.hoverData.dragging||("additive"===Oe.selectionType()||dn?pt.selected()?pt.unselect(["tapunselect"]):pt.select(["tapselect"]):dn||(Oe.$(l).unmerge(pt).unselect(["tapunselect"]),pt.select(["tapselect"]))),a.redrawHint("eles",!0)),a.hoverData.selecting){var Bn=Oe.collection(a.getAllInBox(Ae[0],Ae[1],Ae[2],Ae[3]));a.redrawHint("select",!0),Bn.length>0&&a.redrawHint("eles",!0),Oe.emit({type:"boxend",originalEvent:G,position:{x:xe[0],y:xe[1]}}),"additive"===Oe.selectionType()||dn||Oe.$(l).unmerge(Bn).unselect(),Bn.emit("box").stdFilter(function(Vr){return Vr.selectable()&&!Vr.selected()}).select().emit("boxselect"),a.redraw()}if(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),!Ae[4]){a.redrawHint("drag",!0),a.redrawHint("eles",!0);var ln=It&&It.grabbed();k(Ee),ln&&(It.emit("freeon"),Ee.emit("free"),a.dragData.didDrag&&(It.emit("dragfreeon"),Ee.emit("dragfree")))}}Ae[4]=0,a.hoverData.down=null,a.hoverData.cxtStarted=!1,a.hoverData.draggingEles=!1,a.hoverData.selecting=!1,a.hoverData.isOverThresholdDrag=!1,a.dragData.didDrag=!1,a.hoverData.dragged=!1,a.hoverData.dragDelta=[],a.hoverData.mdownPos=null,a.hoverData.mdownGPos=null}},!1);var oe=function(G){if(!a.scrollingPage){var be=a.cy,Oe=be.zoom(),xe=be.pan(),Ae=a.projectIntoViewport(G.clientX,G.clientY),pt=[Ae[0]*Oe+xe.x,Ae[1]*Oe+xe.y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||0!==a.selection[4])return void G.preventDefault();if(be.panningEnabled()&&be.userPanningEnabled()&&be.zoomingEnabled()&&be.userZoomingEnabled()){var Ee;G.preventDefault(),a.data.wheelZooming=!0,clearTimeout(a.data.wheelTimeout),a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1,a.redrawHint("eles",!0),a.redraw()},150),Ee=null!=G.deltaY?G.deltaY/-250:null!=G.wheelDeltaY?G.wheelDeltaY/1e3:G.wheelDelta/1e3,Ee*=a.wheelSensitivity,1===G.deltaMode&&(Ee*=33);var dn=be.zoom()*Math.pow(10,Ee);"gesturechange"===G.type&&(dn=a.gestureStartZoom*G.scale),be.zoom({level:dn,renderedPosition:{x:pt[0],y:pt[1]}}),be.emit("gesturechange"===G.type?"pinchzoom":"scrollzoom")}}};a.registerBinding(a.container,"wheel",oe,!0),a.registerBinding(o,"scroll",function(G){a.scrollingPage=!0,clearTimeout(a.scrollingPageTimeout),a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0),a.registerBinding(a.container,"gesturestart",function(G){a.gestureStartZoom=a.cy.zoom(),a.hasTouchStarted||G.preventDefault()},!0),a.registerBinding(a.container,"gesturechange",function(we){a.hasTouchStarted||oe(we)},!0),a.registerBinding(a.container,"mouseout",function(G){var be=a.projectIntoViewport(G.clientX,G.clientY);a.cy.emit({originalEvent:G,type:"mouseout",position:{x:be[0],y:be[1]}})},!1),a.registerBinding(a.container,"mouseover",function(G){var be=a.projectIntoViewport(G.clientX,G.clientY);a.cy.emit({originalEvent:G,type:"mouseover",position:{x:be[0],y:be[1]}})},!1);var Q,de,se,ie,me,_e,ke,ge,Ie,$e,qe,He,Ue,Qe,je,rt,Ot,Ht,Be,ut,ye=function(G,be,Oe,xe){return Math.sqrt((Oe-G)*(Oe-G)+(xe-be)*(xe-be))},Ye=function(G,be,Oe,xe){return(Oe-G)*(Oe-G)+(xe-be)*(xe-be)};if(a.registerBinding(a.container,"touchstart",Qe=function(G){if(a.hasTouchStarted=!0,j(G)){F(),a.touchData.capture=!0,a.data.bgActivePosistion=void 0;var be=a.cy,Oe=a.touchData.now,xe=a.touchData.earlier;if(G.touches[0]){var Ae=a.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Oe[0]=Ae[0],Oe[1]=Ae[1]}if(G.touches[1]&&(Ae=a.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Oe[2]=Ae[0],Oe[3]=Ae[1]),G.touches[2]&&(Ae=a.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Oe[4]=Ae[0],Oe[5]=Ae[1]),G.touches[1]){a.touchData.singleTouchMoved=!0,k(a.dragData.touchDragEles);var pt=a.findContainerClientCoords();qe=pt[2],He=pt[3],de=G.touches[0].clientY-($e=pt[1]),se=G.touches[1].clientX-(Ie=pt[0]),ie=G.touches[1].clientY-$e,Ue=0<=(Q=G.touches[0].clientX-Ie)&&Q<=qe&&0<=se&&se<=qe&&0<=de&&de<=He&&0<=ie&&ie<=He;var Ee=be.pan(),It=be.zoom();if(me=ye(Q,de,se,ie),_e=Ye(Q,de,se,ie),ge=[((ke=[(Q+se)/2,(de+ie)/2])[0]-Ee.x)/It,(ke[1]-Ee.y)/It],_e<4e4&&!G.touches[2]){var Yt=a.findNearestElement(Oe[0],Oe[1],!0,!0),Bn=a.findNearestElement(Oe[2],Oe[3],!0,!0);return Yt&&Yt.isNode()?(Yt.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:Oe[0],y:Oe[1]}}),a.touchData.start=Yt):Bn&&Bn.isNode()?(Bn.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:Oe[0],y:Oe[1]}}),a.touchData.start=Bn):be.emit({originalEvent:G,type:"cxttapstart",position:{x:Oe[0],y:Oe[1]}}),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}}if(G.touches[2])be.boxSelectionEnabled()&&G.preventDefault();else if(!G.touches[1]&&G.touches[0]){var en=a.findNearestElements(Oe[0],Oe[1],!0,!0),ln=en[0];if(null!=ln&&(ln.activate(),a.touchData.start=ln,a.touchData.starts=en,a.nodeIsGrabbable(ln))){var Nr=a.dragData.touchDragEles=be.collection(),Vr=null;a.redrawHint("eles",!0),a.redrawHint("drag",!0),ln.selected()?(Vr=be.$(function(yr){return yr.selected()&&a.nodeIsGrabbable(yr)}),M(Vr,{addToList:Nr})):P(ln,{addToList:Nr}),E(ln);var Ii=function(yo){return{originalEvent:G,type:yo,position:{x:Oe[0],y:Oe[1]}}};ln.emit(Ii("grabon")),Vr?Vr.forEach(function(yr){yr.emit(Ii("grab"))}):ln.emit(Ii("grab"))}c(ln,["touchstart","tapstart","vmousedown"],G,{x:Oe[0],y:Oe[1]}),null==ln&&(a.data.bgActivePosistion={x:Ae[0],y:Ae[1]},a.redrawHint("select",!0),a.redraw()),a.touchData.singleTouchMoved=!1,a.touchData.singleTouchStartTime=+new Date,clearTimeout(a.touchData.tapholdTimeout),a.touchData.tapholdTimeout=setTimeout(function(){!1===a.touchData.singleTouchMoved&&!a.pinching&&!a.touchData.selecting&&c(a.touchData.start,["taphold"],G,{x:Oe[0],y:Oe[1]})},a.tapholdDuration)}if(G.touches.length>=1){for(var ds=a.touchData.startPosition=[null,null,null,null,null,null],pi=0;pi<Oe.length;pi++)ds[pi]=xe[pi]=Oe[pi];var io=G.touches[0];a.touchData.startGPosition=[io.clientX,io.clientY]}}},!1),a.registerBinding(window,"touchmove",je=function(G){var be=a.touchData.capture;if(be||j(G)){var Oe=a.selection,xe=a.cy,Ae=a.touchData.now,pt=a.touchData.earlier,Ee=xe.zoom();if(G.touches[0]){var It=a.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Ae[0]=It[0],Ae[1]=It[1]}G.touches[1]&&(It=a.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ae[2]=It[0],Ae[3]=It[1]),G.touches[2]&&(It=a.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ae[4]=It[0],Ae[5]=It[1]);var On,dn=a.touchData.startGPosition;if(be&&G.touches[0]&&dn){for(var Yt=[],Bn=0;Bn<Ae.length;Bn++)Yt[Bn]=Ae[Bn]-pt[Bn];var en=G.touches[0].clientX-dn[0],Nr=G.touches[0].clientY-dn[1];On=en*en+Nr*Nr>=a.touchTapThreshold2}if(be&&a.touchData.cxt){G.preventDefault();var yo=Ye(ds=G.touches[0].clientX-Ie,pi=G.touches[0].clientY-$e,io=G.touches[1].clientX-Ie,yr=G.touches[1].clientY-$e);if(yo/_e>=2.25||yo>=22500){a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var tl={originalEvent:G,type:"cxttapend",position:{x:Ae[0],y:Ae[1]}};a.touchData.start?(a.touchData.start.unactivate().emit(tl),a.touchData.start=null):xe.emit(tl)}}if(be&&a.touchData.cxt){tl={originalEvent:G,type:"cxtdrag",position:{x:Ae[0],y:Ae[1]}},a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.touchData.start?a.touchData.start.emit(tl):xe.emit(tl),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxtDragged=!0;var Ur=a.findNearestElement(Ae[0],Ae[1],!0,!0);(!a.touchData.cxtOver||Ur!==a.touchData.cxtOver)&&(a.touchData.cxtOver&&a.touchData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:Ae[0],y:Ae[1]}}),a.touchData.cxtOver=Ur,Ur&&Ur.emit({originalEvent:G,type:"cxtdragover",position:{x:Ae[0],y:Ae[1]}}))}else if(be&&G.touches[2]&&xe.boxSelectionEnabled())G.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||xe.emit({originalEvent:G,type:"boxstart",position:{x:Ae[0],y:Ae[1]}}),a.touchData.selecting=!0,a.touchData.didSelect=!0,Oe[4]=1,Oe&&0!==Oe.length&&void 0!==Oe[0]?(Oe[2]=(Ae[0]+Ae[2]+Ae[4])/3,Oe[3]=(Ae[1]+Ae[3]+Ae[5])/3):(Oe[0]=(Ae[0]+Ae[2]+Ae[4])/3,Oe[1]=(Ae[1]+Ae[3]+Ae[5])/3,Oe[2]=(Ae[0]+Ae[2]+Ae[4])/3+1,Oe[3]=(Ae[1]+Ae[3]+Ae[5])/3+1),a.redrawHint("select",!0),a.redraw();else if(be&&G.touches[1]&&!a.touchData.didSelect&&xe.zoomingEnabled()&&xe.panningEnabled()&&xe.userZoomingEnabled()&&xe.userPanningEnabled()){if(G.preventDefault(),a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),Vt=a.dragData.touchDragEles){a.redrawHint("drag",!0);for(var oo=0;oo<Vt.length;oo++){var Ai=Vt[oo]._private;Ai.grabbed=!1,Ai.rscratch.inDragLayer=!1}}var ds,pi,io,yr,fs=a.touchData.start,zl=ye(ds=G.touches[0].clientX-Ie,pi=G.touches[0].clientY-$e,io=G.touches[1].clientX-Ie,yr=G.touches[1].clientY-$e),Un=zl/me;if(Ue){var Ag=(ds-Q+(io-se))/2,gv=(pi-de+(yr-ie))/2,jc=xe.zoom(),Yh=jc*Un,gf=xe.pan(),Rg=ge[0]*jc+gf.x,Ea=ge[1]*jc+gf.y,Gc={x:-Yh/jc*(Rg-gf.x-Ag)+Rg,y:-Yh/jc*(Ea-gf.y-gv)+Ea};fs&&fs.active()&&(k(Vt=a.dragData.touchDragEles),a.redrawHint("drag",!0),a.redrawHint("eles",!0),fs.unactivate().emit("freeon"),Vt.emit("free"),a.dragData.didDrag&&(fs.emit("dragfreeon"),Vt.emit("dragfree"))),xe.viewport({zoom:Yh,pan:Gc,cancelOnFailedZoom:!0}),xe.emit("pinchzoom"),me=zl,Q=ds,de=pi,se=io,ie=yr,a.pinching=!0}G.touches[0]&&(It=a.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),Ae[0]=It[0],Ae[1]=It[1]),G.touches[1]&&(It=a.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ae[2]=It[0],Ae[3]=It[1]),G.touches[2]&&(It=a.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ae[4]=It[0],Ae[5]=It[1])}else if(G.touches[0]&&!a.touchData.didSelect){var hs=a.touchData.start,kg=a.touchData.last;if(!a.hoverData.draggingEles&&!a.swipePanning&&(Ur=a.findNearestElement(Ae[0],Ae[1],!0,!0)),be&&null!=hs&&G.preventDefault(),be&&null!=hs&&a.nodeIsDraggable(hs))if(On){var Vt=a.dragData.touchDragEles,mv=!a.dragData.didDrag;mv&&M(Vt,{inDragLayer:!0}),a.dragData.didDrag=!0;var mf={x:0,y:0};ht(Yt[0])&&ht(Yt[1])&&(mf.x+=Yt[0],mf.y+=Yt[1],mv)&&(a.redrawHint("eles",!0),(Qo=a.touchData.dragDelta)&&ht(Qo[0])&&ht(Qo[1])&&(mf.x+=Qo[0],mf.y+=Qo[1])),a.hoverData.draggingEles=!0,Vt.silentShift(mf).emit("position drag"),a.redrawHint("drag",!0),a.touchData.startPosition[0]==pt[0]&&a.touchData.startPosition[1]==pt[1]&&a.redrawHint("eles",!0),a.redraw()}else{var Qo;0===(Qo=a.touchData.dragDelta=a.touchData.dragDelta||[]).length?(Qo.push(Yt[0]),Qo.push(Yt[1])):(Qo[0]+=Yt[0],Qo[1]+=Yt[1])}if(c(hs||Ur,["touchmove","tapdrag","vmousemove"],G,{x:Ae[0],y:Ae[1]}),(!hs||!hs.grabbed())&&Ur!=kg&&(kg&&kg.emit({originalEvent:G,type:"tapdragout",position:{x:Ae[0],y:Ae[1]}}),Ur&&Ur.emit({originalEvent:G,type:"tapdragover",position:{x:Ae[0],y:Ae[1]}})),a.touchData.last=Ur,be)for(oo=0;oo<Ae.length;oo++)Ae[oo]&&a.touchData.startPosition[oo]&&On&&(a.touchData.singleTouchMoved=!0);be&&(null==hs||hs.pannable())&&xe.panningEnabled()&&xe.userPanningEnabled()&&(h(hs,a.touchData.starts)&&(G.preventDefault(),a.data.bgActivePosistion||(a.data.bgActivePosistion=ic(a.touchData.startPosition)),a.swipePanning?(xe.panBy({x:Yt[0]*Ee,y:Yt[1]*Ee}),xe.emit("dragpan")):On&&(a.swipePanning=!0,xe.panBy({x:en*Ee,y:Nr*Ee}),xe.emit("dragpan"),hs&&(hs.unactivate(),a.redrawHint("select",!0),a.touchData.start=null))),It=a.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),Ae[0]=It[0],Ae[1]=It[1])}for(Bn=0;Bn<Ae.length;Bn++)pt[Bn]=Ae[Bn];be&&G.touches.length>0&&!a.hoverData.draggingEles&&!a.swipePanning&&null!=a.data.bgActivePosistion&&(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.redraw())}},!1),a.registerBinding(o,"touchcancel",rt=function(G){var be=a.touchData.start;a.touchData.capture=!1,be&&be.unactivate()}),a.registerBinding(o,"touchend",Ot=function(G){var be=a.touchData.start;if(a.touchData.capture){0===G.touches.length&&(a.touchData.capture=!1),G.preventDefault();var xe=a.selection;a.swipePanning=!1,a.hoverData.draggingEles=!1;var On,Ae=a.cy,pt=Ae.zoom(),Ee=a.touchData.now,It=a.touchData.earlier;if(G.touches[0]){var dn=a.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Ee[0]=dn[0],Ee[1]=dn[1]}if(G.touches[1]&&(dn=a.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ee[2]=dn[0],Ee[3]=dn[1]),G.touches[2]&&(dn=a.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ee[4]=dn[0],Ee[5]=dn[1]),be&&be.unactivate(),a.touchData.cxt){if(On={originalEvent:G,type:"cxttapend",position:{x:Ee[0],y:Ee[1]}},be?be.emit(On):Ae.emit(On),!a.touchData.cxtDragged){var Yt={originalEvent:G,type:"cxttap",position:{x:Ee[0],y:Ee[1]}};be?be.emit(Yt):Ae.emit(Yt)}return a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw()}if(!G.touches[2]&&Ae.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;var Bn=Ae.collection(a.getAllInBox(xe[0],xe[1],xe[2],xe[3]));xe[0]=void 0,xe[1]=void 0,xe[2]=void 0,xe[3]=void 0,xe[4]=0,a.redrawHint("select",!0),Ae.emit({type:"boxend",originalEvent:G,position:{x:Ee[0],y:Ee[1]}}),Bn.emit("box").stdFilter(function(qs){return qs.selectable()&&!qs.selected()}).select().emit("boxselect"),Bn.nonempty()&&a.redrawHint("eles",!0),a.redraw()}if(be?.unactivate(),G.touches[2])a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);else if(!G.touches[1]&&!G.touches[0]&&!G.touches[0]){a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var ln=a.dragData.touchDragEles;if(null!=be){var Nr=be._private.grabbed;k(ln),a.redrawHint("drag",!0),a.redrawHint("eles",!0),Nr&&(be.emit("freeon"),ln.emit("free"),a.dragData.didDrag&&(be.emit("dragfreeon"),ln.emit("dragfree"))),c(be,["touchend","tapend","vmouseup","tapdragout"],G,{x:Ee[0],y:Ee[1]}),be.unactivate(),a.touchData.start=null}else{var Vr=a.findNearestElement(Ee[0],Ee[1],!0,!0);c(Vr,["touchend","tapend","vmouseup","tapdragout"],G,{x:Ee[0],y:Ee[1]})}var Ii=a.touchData.startPosition[0]-Ee[0],pi=a.touchData.startPosition[1]-Ee[1],yo=(Ii*Ii+pi*pi)*pt*pt;a.touchData.singleTouchMoved||(be||Ae.$(":selected").unselect(["tapunselect"]),c(be,["tap","vclick"],G,{x:Ee[0],y:Ee[1]}),Ht=!1,G.timeStamp-ut<=Ae.multiClickDebounceTime()?(Be&&clearTimeout(Be),Ht=!0,ut=null,c(be,["dbltap","vdblclick"],G,{x:Ee[0],y:Ee[1]})):(Be=setTimeout(function(){Ht||c(be,["onetap","voneclick"],G,{x:Ee[0],y:Ee[1]})},Ae.multiClickDebounceTime()),ut=G.timeStamp)),null!=be&&!a.dragData.didDrag&&be._private.selectable&&yo<a.touchTapThreshold2&&!a.pinching&&("single"===Ae.selectionType()?(Ae.$(l).unmerge(be).unselect(["tapunselect"]),be.select(["tapselect"])):be.selected()?be.unselect(["tapunselect"]):be.select(["tapselect"]),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved=!0}for(var _a=0;_a<Ee.length;_a++)It[_a]=Ee[_a];a.dragData.didDrag=!1,0===G.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=[null,null,null,null,null,null],a.touchData.startGPosition=null,a.touchData.didSelect=!1),G.touches.length<2&&(1===G.touches.length&&(a.touchData.startGPosition=[G.touches[0].clientX,G.touches[0].clientY]),a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),typeof TouchEvent>"u"){var xt=[],ft=function(G){return{clientX:G.clientX,clientY:G.clientY,force:1,identifier:G.pointerId,pageX:G.pageX,pageY:G.pageY,radiusX:G.width/2,radiusY:G.height/2,screenX:G.screenX,screenY:G.screenY,target:G.target}},Cn=function(G){for(var be=0;be<xt.length;be++)if(xt[be].event.pointerId===G.pointerId)return void xt.splice(be,1)},Wt=function(G){G.touches=xt.map(function(be){return be.touch})},mn=function(G){return"mouse"===G.pointerType||4===G.pointerType};a.registerBinding(a.container,"pointerdown",function(we){mn(we)||(we.preventDefault(),xt.push(function(G){return{event:G,touch:ft(G)}}(we)),Wt(we),Qe(we))}),a.registerBinding(a.container,"pointerup",function(we){mn(we)||(Cn(we),Wt(we),Ot(we))}),a.registerBinding(a.container,"pointercancel",function(we){mn(we)||(Cn(we),Wt(we),rt())}),a.registerBinding(a.container,"pointermove",function(we){var G,be;mn(we)||(we.preventDefault(),G=we,(be=xt.filter(function(Oe){return Oe.event.pointerId===G.pointerId})[0]).event=G,be.touch=ft(G),Wt(we),je(we))})}};var zs={generatePolygon:function(a,o){return this.nodeShapes[a]={renderer:this,name:a,points:o,draw:function(c,f,h,g,y){this.renderer.nodeShapeImpl("polygon",c,f,h,g,y,this.points)},intersectLine:function(c,f,h,g,y,_,b){return In(y,_,this.points,c,f,h/2,g/2,b)},checkPoint:function(c,f,h,g,y,_,b){return Uo(c,f,this.points,_,b,g,y,[0,-1],h)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,c,f,h){this.renderer.nodeShapeImpl(this.name,o,l,c,f,h)},intersectLine:function(o,l,c,f,h,g,y){return function(o,l,c,f,h,g){var y=c-o,_=f-l;y/=h,_/=g;var b=Math.sqrt(y*y+_*_),E=b-1;if(E<0)return[];var C=E/b;return[(c-o)*C+o,(f-l)*C+l]}(h,g,o,l,c/2+y,f/2+y)},checkPoint:function(o,l,c,f,h,g,y){return Oa(o,l,f,h,g,y,c)}}},generateRoundPolygon:function(a,o){for(var l=new Array(2*o.length),c=0;c<o.length/2;c++){var h,f=2*c;h=c<o.length/2-1?2*(c+1):0,l[4*c]=o[f],l[4*c+1]=o[f+1];var g=o[h]-o[f],y=o[h+1]-o[f+1],_=Math.sqrt(g*g+y*y);l[4*c+2]=g/_,l[4*c+3]=y/_}return this.nodeShapes[a]={renderer:this,name:a,points:l,draw:function(E,C,S,T,M){this.renderer.nodeShapeImpl("round-polygon",E,C,S,T,M,this.points)},intersectLine:function(E,C,S,T,M,P,k){return function(o,l,c,f,h,g,y,_){for(var E,b=[],C=new Array(c.length),S=g/2,T=y/2,M=cc(g,y),P=0;P<c.length/4;P++){var O,k;k=0===P?c.length-2:4*P-2,O=4*P+2;var F=f+S*c[4*P],L=h+T*c[4*P+1],K=M/Math.tan(Math.acos(-c[k]*c[O]-c[k+1]*c[O+1])/2),X=F-K*c[k],z=L-K*c[k+1],Y=F+K*c[O],j=L+K*c[O+1];0===P?(C[c.length-2]=X,C[c.length-1]=z):(C[4*P-2]=X,C[4*P-1]=z),C[4*P]=Y,C[4*P+1]=j;var ee=c[k+1],te=-c[k];ee*c[O]+te*c[O+1]<0&&(ee*=-1,te*=-1),0!==(E=or(o,l,f,h,X+ee*M,z+te*M,M)).length&&b.push(E[0],E[1])}for(var de=0;de<C.length/4;de++)0!==(E=Na(o,l,f,h,C[4*de],C[4*de+1],C[4*de+2],C[4*de+3],!1)).length&&b.push(E[0],E[1]);if(b.length>2){for(var se=[b[0],b[1]],ie=Math.pow(se[0]-o,2)+Math.pow(se[1]-l,2),me=1;me<b.length/2;me++){var _e=Math.pow(b[2*me]-o,2)+Math.pow(b[2*me+1]-l,2);_e<=ie&&(se[0]=b[2*me],se[1]=b[2*me+1],ie=_e)}return se}return b}(M,P,this.points,E,C,S,T)},checkPoint:function(E,C,S,T,M,P,k){return function(o,l,c,f,h,g,y){for(var _=new Array(c.length),b=g/2,E=y/2,C=cc(g,y),S=C*C,T=0;T<c.length/4;T++){var P,M;M=0===T?c.length-2:4*T-2,P=4*T+2;var k=f+b*c[4*T],O=h+E*c[4*T+1],L=C/Math.tan(Math.acos(-c[M]*c[P]-c[M+1]*c[P+1])/2),$=k-L*c[M],K=O-L*c[M+1],X=k+L*c[P],z=O+L*c[P+1];_[4*T]=$,_[4*T+1]=K,_[4*T+2]=X,_[4*T+3]=z;var Y=c[M+1],j=-c[M];Y*c[P]+j*c[P+1]<0&&(Y*=-1,j*=-1);var W=K+j*C;if(Math.pow($+Y*C-o,2)+Math.pow(W-l,2)<=S)return!0}return mi(o,l,_)}(E,C,this.points,P,k,T,M)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:bn(4,0),draw:function(o,l,c,f,h){this.renderer.nodeShapeImpl(this.name,o,l,c,f,h)},intersectLine:function(o,l,c,f,h,g,y){return wi(h,g,o,l,c,f,y)},checkPoint:function(o,l,c,f,h,g,y){var _=vl(f,h),b=2*_;return!!(Uo(o,l,this.points,g,y,f,h-b,[0,-1],c)||Uo(o,l,this.points,g,y,f-b,h,[0,-1],c)||Oa(o,l,b,b,g-f/2+_,y-h/2+_,c)||Oa(o,l,b,b,g+f/2-_,y-h/2+_,c)||Oa(o,l,b,b,g+f/2-_,y+h/2-_,c)||Oa(o,l,b,b,g-f/2+_,y+h/2-_,c))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:bn(4,0),draw:function(o,l,c,f,h){this.renderer.nodeShapeImpl(this.name,o,l,c,f,h)},generateCutTrianglePts:function(o,l,c,f){var h=this.cornerLength,g=l/2,y=o/2,_=c-y,b=c+y,E=f-g,C=f+g;return{topLeft:[_,E+h,_+h,E,_+h,E+h],topRight:[b-h,E,b,E+h,b-h,E+h],bottomRight:[b,C-h,b-h,C,b-h,C-h],bottomLeft:[_+h,C,_,C-h,_+h,C-h]}},intersectLine:function(o,l,c,f,h,g,y){var _=this.generateCutTrianglePts(c+2*y,f+2*y,o,l),b=[].concat.apply([],[_.topLeft.splice(0,4),_.topRight.splice(0,4),_.bottomRight.splice(0,4),_.bottomLeft.splice(0,4)]);return In(h,g,b,o,l)},checkPoint:function(o,l,c,f,h,g,y){if(Uo(o,l,this.points,g,y,f,h-2*this.cornerLength,[0,-1],c)||Uo(o,l,this.points,g,y,f-2*this.cornerLength,h,[0,-1],c))return!0;var _=this.generateCutTrianglePts(f,h,g,y);return mi(o,l,_.topLeft)||mi(o,l,_.topRight)||mi(o,l,_.bottomRight)||mi(o,l,_.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:bn(4,0),draw:function(o,l,c,f,h){this.renderer.nodeShapeImpl(this.name,o,l,c,f,h)},intersectLine:function(o,l,c,f,h,g,y){var C=this.generateBarrelBezierPts(c+2*y,f+2*y,o,l),S=function(P){var k=gl({x:P[0],y:P[1]},{x:P[2],y:P[3]},{x:P[4],y:P[5]},.15),O=gl({x:P[0],y:P[1]},{x:P[2],y:P[3]},{x:P[4],y:P[5]},.5),F=gl({x:P[0],y:P[1]},{x:P[2],y:P[3]},{x:P[4],y:P[5]},.85);return[P[0],P[1],k.x,k.y,O.x,O.y,F.x,F.y,P[4],P[5]]},T=[].concat(S(C.topLeft),S(C.topRight),S(C.bottomRight),S(C.bottomLeft));return In(h,g,T,o,l)},generateBarrelBezierPts:function(o,l,c,f){var h=l/2,g=o/2,y=c-g,_=c+g,b=f-h,E=f+h,C=Up(o,l),S=C.heightOffset,T=C.widthOffset,M=C.ctrlPtOffsetPct*o,P={topLeft:[y,b+S,y+M,b,y+T,b],topRight:[_-T,b,_-M,b,_,b+S],bottomRight:[_,E-S,_-M,E,_-T,E],bottomLeft:[y+T,E,y+M,E,y,E-S]};return P.topLeft.isTop=!0,P.topRight.isTop=!0,P.bottomLeft.isBottom=!0,P.bottomRight.isBottom=!0,P},checkPoint:function(o,l,c,f,h,g,y){var _=Up(f,h),E=_.widthOffset;if(Uo(o,l,this.points,g,y,f,h-2*_.heightOffset,[0,-1],c)||Uo(o,l,this.points,g,y,f-2*E,h,[0,-1],c))return!0;for(var C=this.generateBarrelBezierPts(f,h,g,y),S=function(z,Y,j){var ee=j[4],te=j[2],W=j[0],oe=j[5],Q=j[1],de=Math.min(ee,W),se=Math.max(ee,W),ie=Math.min(oe,Q),me=Math.max(oe,Q);if(de<=z&&z<=se&&ie<=Y&&Y<=me){var _e=function(o,l,c){return[o-2*l+c,2*(l-o),o]}(ee,te,W),ke=function(o,l,c,f){var h=l*l-4*o*(c-=f);if(h<0)return[];var g=Math.sqrt(h),y=2*o;return[(-l+g)/y,(-l-g)/y]}(_e[0],_e[1],_e[2],z),ge=ke.filter(function(Ie){return 0<=Ie&&Ie<=1});if(ge.length>0)return ge[0]}return null},T=Object.keys(C),M=0;M<T.length;M++){var k=C[T[M]],O=S(o,l,k);if(null!=O){var K=gi(k[5],k[3],k[1],O);if(k.isTop&&K<=l||k.isBottom&&l<=K)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:bn(4,0),draw:function(o,l,c,f,h){this.renderer.nodeShapeImpl(this.name,o,l,c,f,h)},intersectLine:function(o,l,c,f,h,g,y){var b=l-(f/2+y),S=Na(h,g,o,l,o-(c/2+y),b,o+(c/2+y),b,!1);return S.length>0?S:wi(h,g,o,l,c,f,y)},checkPoint:function(o,l,c,f,h,g,y){var _=vl(f,h),b=2*_;if(Uo(o,l,this.points,g,y,f,h-b,[0,-1],c)||Uo(o,l,this.points,g,y,f-b,h,[0,-1],c))return!0;var E=f/2+2*c,C=h/2+2*c;return!!(mi(o,l,[g-E,y-C,g-E,y,g+E,y,g+E,y-C])||Oa(o,l,b,b,g+f/2-_,y+h/2-_,c)||Oa(o,l,b,b,g-f/2+_,y+h/2-_,c))}}},registerNodeShapes:function(){var a=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",bn(3,0)),this.generateRoundPolygon("round-triangle",bn(3,0)),this.generatePolygon("rectangle",bn(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",bn(5,0)),this.generateRoundPolygon("round-pentagon",bn(5,0)),this.generatePolygon("hexagon",bn(6,0)),this.generateRoundPolygon("round-hexagon",bn(6,0)),this.generatePolygon("heptagon",bn(7,0)),this.generateRoundPolygon("round-heptagon",bn(7,0)),this.generatePolygon("octagon",bn(8,0)),this.generateRoundPolygon("round-octagon",bn(8,0));var c=new Array(20),f=fu(5,0),h=fu(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var y=0;y<h.length/2;y++)h[2*y]*=g,h[2*y+1]*=g;for(y=0;y<5;y++)c[4*y]=f[2*y],c[4*y+1]=f[2*y+1],c[4*y+2]=h[2*y],c[4*y+3]=h[2*y+1];c=ns(c),this.generatePolygon("star",c),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var _=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",_),this.generateRoundPolygon("round-tag",_),a.makePolygon=function(b){var S,C="polygon-"+b.join("$");return(S=this[C])?S:o.generatePolygon(C,b)}}},Hs={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(a){a=a||bd();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=a},beforeRender:function(a,o){if(!this.destroyed){null==o&&Xn("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:a,priority:o}),l.sort(function(c,f){return f.priority-c.priority})}}},Fh=function(o,l,c){for(var f=o.beforeRenderCallbacks,h=0;h<f.length;h++)f[h].fn(l,c)};Hs.startRenderLoop=function(){var a=this,o=a.cy;a.renderLoopStarted||(a.renderLoopStarted=!0,pd(function c(f){if(!a.destroyed){if(!o.batching())if(a.requestedFrame&&!a.skipFrame){Fh(a,!0,f);var h=Qs();a.render(a.renderOptions);var g=a.lastDrawTime=Qs();void 0===a.averageRedrawTime&&(a.averageRedrawTime=g-h),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var y=g-h;a.redrawTotalTime+=y,a.lastRedrawTime=y,a.averageRedrawTime=a.averageRedrawTime/2+y/2,a.requestedFrame=!1}else Fh(a,!1,f);a.skipFrame=!1,pd(c)}}))};var tf=function(o){this.init(o)},Pr=tf.prototype;Pr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Pr.init=function(a){var o=this;o.options=a,o.cy=a.cy;var l=o.container=a.cy.container(),c=o.cy.window();if(c){var f=c.document,h=f.head,g="__________cytoscape_stylesheet",y="__________cytoscape_container",_=null!=f.getElementById(g);if(l.className.indexOf(y)<0&&(l.className=(l.className||"")+" "+y),!_){var b=f.createElement("style");b.id=g,b.textContent="."+y+" { position: relative; }",h.insertBefore(b,h.children[0])}"static"===c.getComputedStyle(l).getPropertyValue("position")&&Jt("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=a.showFps,o.debug=a.debug,o.hideEdgesOnViewport=a.hideEdgesOnViewport,o.textureOnViewport=a.textureOnViewport,o.wheelSensitivity=a.wheelSensitivity,o.motionBlurEnabled=a.motionBlur,o.forcedPixelRatio=ht(a.pixelRatio)?a.pixelRatio:null,o.motionBlur=a.motionBlur,o.motionBlurOpacity=a.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=a.desktopTapThreshold,o.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,o.touchTapThreshold=a.touchTapThreshold,o.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},Pr.notify=function(a,o){var l=this,c=l.cy;if(!this.destroyed){if("init"===a)return void l.load();if("destroy"===a)return void l.destroy();("add"===a||"remove"===a||"move"===a&&c.hasCompoundNodes()||"load"===a||"zorder"===a||"mount"===a)&&l.invalidateCachedZSortedEles(),"viewport"===a&&l.redrawHint("select",!0),("load"===a||"resize"===a||"mount"===a)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Pr.destroy=function(){var a=this;a.destroyed=!0,a.cy.stopAnimationLoop();for(var o=0;o<a.bindings.length;o++){var l=a.bindings[o],f=l.target;(f.off||f.removeEventListener).apply(f,l.args)}if(a.bindings=[],a.beforeRenderCallbacks=[],a.onUpdateEleCalcsFns=[],a.removeObserver&&a.removeObserver.disconnect(),a.styleObserver&&a.styleObserver.disconnect(),a.resizeObserver&&a.resizeObserver.disconnect(),a.labelCalcDiv)try{document.body.removeChild(a.labelCalcDiv)}catch{}},Pr.isHeadless=function(){return!1},[Xd,Qa,gg,kl,zs,Hs].forEach(function(a){Lt(Pr,a)});var va=1e3/60,nf_setupDequeueing=function(o){return function(){var c=this,f=this.renderer;if(!c.dequeueingSetup){c.dequeueingSetup=!0;var h=ct.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},o.deqRedrawThreshold);f.beforeRender(function(b,E){var C=Qs(),S=f.averageRedrawTime,T=f.lastRedrawTime,M=[],P=f.cy.extent(),k=f.getPixelRatio();for(b||f.flushRenderedStyleQueue();;){var O=Qs(),F=O-C,L=O-E;if(T<va){if(L>=o.deqFastCost*(va-(b?S:0)))break}else if(b){if(F>=o.deqCost*T||F>=o.deqAvgCost*S)break}else if(L>=o.deqNoDrawCost*va)break;var K=o.deq(c,k,P);if(!(K.length>0))break;for(var X=0;X<K.length;X++)M.push(K[X])}M.length>0&&(o.onDeqd(c,M),!b&&o.shouldRedraw(c,M,k,P)&&h())},(o.priority||Wf)(c))}}},Lh=function(){function a(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ju;Fr(this,a),this.idsByKey=new xs,this.keyForId=new xs,this.cachesByLvl=new xs,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return Qn(a,[{key:"getIdsFor",value:function(l){null==l&&Xn("Can not get id list for null key");var c=this.idsByKey,f=this.idsByKey.get(l);return f||(f=new uu,c.set(l,f)),f}},{key:"addIdForKey",value:function(l,c){null!=l&&this.getIdsFor(l).add(c)}},{key:"deleteIdForKey",value:function(l,c){null!=l&&this.getIdsFor(l).delete(c)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var c=l.id(),f=this.keyForId.get(c),h=this.getKey(l);this.deleteIdForKey(f,c),this.addIdForKey(h,c),this.keyForId.set(c,h)}},{key:"deleteKeyMappingFor",value:function(l){var c=l.id(),f=this.keyForId.get(c);this.deleteIdForKey(f,c),this.keyForId.delete(c)}},{key:"keyHasChangedFor",value:function(l){var c=l.id();return this.keyForId.get(c)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var c=this.cachesByLvl,f=this.lvls,h=c.get(l);return h||(h=new xs,c.set(l,h),f.push(l)),h}},{key:"getCache",value:function(l,c){return this.getCachesAt(c).get(l)}},{key:"get",value:function(l,c){var f=this.getKey(l),h=this.getCache(f,c);return null!=h&&this.updateKeyMappingFor(l),h}},{key:"getForCachedKey",value:function(l,c){var f=this.keyForId.get(l.id());return this.getCache(f,c)}},{key:"hasCache",value:function(l,c){return this.getCachesAt(c).has(l)}},{key:"has",value:function(l,c){var f=this.getKey(l);return this.hasCache(f,c)}},{key:"setCache",value:function(l,c,f){f.key=l,this.getCachesAt(c).set(l,f)}},{key:"set",value:function(l,c,f){var h=this.getKey(l);this.setCache(h,c,f),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,c){this.getCachesAt(c).delete(l)}},{key:"delete",value:function(l,c){var f=this.getKey(l);this.deleteCache(f,c)}},{key:"invalidateKey",value:function(l){var c=this;this.lvls.forEach(function(f){return c.deleteCache(l,f)})}},{key:"invalidate",value:function(l){var c=l.id(),f=this.keyForId.get(c);this.deleteKeyMappingFor(l);var h=this.doesEleInvalidateKey(l);return h&&this.invalidateKey(f),h||0===this.getNumberOfIdsForKey(f)}}]),a}(),Tr={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},mg=Wr({getKey:null,doesEleInvalidateKey:Ju,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Rp,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),js=function(o,l){var c=this;c.renderer=o,c.onDequeues=[];var f=mg(l);Lt(c,f),c.lookup=new Lh(f.getKey,f.doesEleInvalidateKey),c.setupDequeueing()},hi=js.prototype;hi.reasons=Tr,hi.getTextureQueue=function(a){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[a]=o.eleImgCaches[a]||[]},hi.getRetiredTextureQueue=function(a){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[a]=l[a]||[]},hi.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new St.default(function(l,c){return c.reqs-l.reqs})},hi.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},hi.getElement=function(a,o,l,c,f){var h=this,g=this.renderer,y=g.cy.zoom(),_=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!a.visible()||a.removed()||!h.allowEdgeTxrCaching&&a.isEdge()||!h.allowParentTxrCaching&&a.isParent())return null;if(null==c&&(c=Math.ceil($p(y*l))),c<-4)c=-4;else if(y>=7.99||c>3)return null;var b=Math.pow(2,c),E=o.h*b,C=o.w*b,S=g.eleTextBiggerThanMin(a,b);if(!this.isVisible(a,S))return null;var M,T=_.get(a,c);if(T&&T.invalidated&&(T.invalidated=!1,T.texture.invalidatedWidth-=T.width),T)return T;if(M=E<=25?25:E<=50?50:50*Math.ceil(E/50),E>1024||C>1024)return null;var P=h.getTextureQueue(M),k=P[P.length-2],O=function(){return h.recycleTexture(M,C)||h.addTexture(M,C)};k||(k=P[P.length-1]),k||(k=O()),k.width-k.usedWidth<C&&(k=O());for(var X,F=function(se){return se&&se.scaledLabelShown===S},L=f&&f===Tr.dequeue,$=f&&f===Tr.highQuality,K=f&&f===Tr.downscale,z=c+1;z<=3;z++){var Y=_.get(a,z);if(Y){X=Y;break}}var j=X&&X.level===c+1?X:null,ee=function(){k.context.drawImage(j.texture.canvas,j.x,0,j.width,j.height,k.usedWidth,0,C,E)};if(k.context.setTransform(1,0,0,1,0,0),k.context.clearRect(k.usedWidth,0,C,M),F(j))ee();else if(F(X)){if(!$)return h.queueElement(a,X.level-1),X;for(var te=X.level;te>c;te--)j=h.getElement(a,o,l,te,Tr.downscale);ee()}else{var W;if(!L&&!$&&!K)for(var oe=c-1;oe>=-4;oe--){var Q=_.get(a,oe);if(Q){W=Q;break}}if(F(W))return h.queueElement(a,c),W;k.context.translate(k.usedWidth,0),k.context.scale(b,b),this.drawElement(k.context,a,o,S,!1),k.context.scale(1/b,1/b),k.context.translate(-k.usedWidth,0)}return T={x:k.usedWidth,texture:k,level:c,scale:b,width:C,height:E,scaledLabelShown:S},k.usedWidth+=Math.ceil(C+8),k.eleCaches.push(T),_.set(a,c,T),h.checkTextureFullness(k),T},hi.invalidateElements=function(a){for(var o=0;o<a.length;o++)this.invalidateElement(a[o])},hi.invalidateElement=function(a){var o=this,l=o.lookup,c=[];if(l.isInvalid(a)){for(var h=-4;h<=3;h++){var g=l.getForCachedKey(a,h);g&&c.push(g)}if(l.invalidate(a))for(var _=0;_<c.length;_++){var b=c[_],E=b.texture;E.invalidatedWidth+=b.width,b.invalidated=!0,o.checkTextureUtility(E)}o.removeFromQueue(a)}},hi.checkTextureUtility=function(a){a.invalidatedWidth>=.2*a.width&&this.retireTexture(a)},hi.checkTextureFullness=function(a){var l=this.getTextureQueue(a.height);a.usedWidth/a.width>.8&&a.fullnessChecks>=10?zo(l,a):a.fullnessChecks++},hi.retireTexture=function(a){var l=a.height,c=this.getTextureQueue(l),f=this.lookup;zo(c,a),a.retired=!0;for(var h=a.eleCaches,g=0;g<h.length;g++){var y=h[g];f.deleteCache(y.key,y.level)}Kf(h),this.getRetiredTextureQueue(l).push(a)},hi.addTexture=function(a,o){var f={};return this.getTextureQueue(a).push(f),f.eleCaches=[],f.height=a,f.width=Math.max(1024,o),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},hi.recycleTexture=function(a,o){for(var c=this.getTextureQueue(a),f=this.getRetiredTextureQueue(a),h=0;h<f.length;h++){var g=f[h];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,Kf(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),zo(f,g),c.push(g),g}},hi.queueElement=function(a,o){var c=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(a),g=f[h];if(g)g.level=Math.max(g.level,o),g.eles.merge(a),g.reqs++,c.updateItem(g);else{var y={eles:a.spawn().merge(a),level:o,reqs:1,key:h};c.push(y),f[h]=y}},hi.dequeue=function(a){for(var o=this,l=o.getElementQueue(),c=o.getElementKeyToQueue(),f=[],h=o.lookup,g=0;g<1&&l.size()>0;g++){var y=l.pop(),_=y.key,b=y.eles[0],E=h.hasCache(b,y.level);if(c[_]=null,!E){f.push(y);var C=o.getBoundingBox(b);o.getElement(b,C,a,y.level,Tr.dequeue)}}return f},hi.removeFromQueue=function(a){var l=this.getElementQueue(),c=this.getElementKeyToQueue(),f=this.getKey(a),h=c[f];null!=h&&(1===h.eles.length?(h.reqs=qf,l.updateItem(h),l.pop(),c[f]=null):h.eles.unmerge(a))},hi.onDequeue=function(a){this.onDequeues.push(a)},hi.offDequeue=function(a){zo(this.onDequeues,a)},hi.setupDequeueing=nf_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,c){return o.dequeue(l,c)},onDeqd:function(o,l){for(var c=0;c<o.onDequeues.length;c++)(0,o.onDequeues[c])(l)},shouldRedraw:function(o,l,c,f){for(var h=0;h<l.length;h++)for(var g=l[h].eles,y=0;y<g.length;y++){var _=g[y].boundingBox();if(zp(_,f))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var vg=function(o){var l=this,c=l.renderer=o,f=c.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=Qs()-500,l.skipping=!1,l.eleTxrDeqs=f.collection(),l.scheduleElementRefinement=ct.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),c.beforeRender(function(g,y){l.skipping=y-l.lastInvalidationTime<=250},c.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new St.default(function(y,_){return _.reqs-y.reqs}),l.setupDequeueing()},Ti=vg.prototype,yg=0,uv=Math.pow(2,53)-1;Ti.makeLayer=function(a,o){var l=Math.pow(2,o),c=Math.ceil(a.w*l),f=Math.ceil(a.h*l),h=this.renderer.makeOffscreenCanvas(c,f),g={id:yg=++yg%uv,bb:a,level:o,width:c,height:f,canvas:h,context:h.getContext("2d"),eles:[],elesQueue:[],reqs:0},y=g.context,_=-g.bb.x1,b=-g.bb.y1;return y.scale(l,l),y.translate(_,b),g},Ti.getLayers=function(a,o,l){var c=this,g=c.renderer.cy.zoom(),y=c.firstGet;if(c.firstGet=!1,null==l)if((l=Math.ceil($p(g*o)))<-4)l=-4;else if(g>=3.99||l>2)return null;c.validateLayersElesOrdering(l,a);var C,T,_=c.layersByLevel,b=Math.pow(2,l),E=_[l]=_[l]||[];if(c.levelIsComplete(l,a))return E;!function(){var ee=function(de){if(c.validateLayersElesOrdering(de,a),c.levelIsComplete(de,a))return T=_[de],!0},te=function(de){if(!T)for(var se=l+de;-4<=se&&se<=2&&!ee(se);se+=de);};te(1),te(-1);for(var W=E.length-1;W>=0;W--){var oe=E[W];oe.invalid&&zo(E,oe)}}();var k=function(ee){var te=(ee=ee||{}).after;if(function(){if(!C){C=Mo();for(var ee=0;ee<a.length;ee++)Er(C,a[ee].boundingBox())}}(),C.w*b*(C.h*b)>16e6)return null;var oe=c.makeLayer(C,l);if(null!=te){var Q=E.indexOf(te)+1;E.splice(Q,0,oe)}else(void 0===ee.insert||ee.insert)&&E.unshift(oe);return oe};if(c.skipping&&!y)return null;for(var O=null,F=a.length/1,L=!y,$=0;$<a.length;$++){var K=a[$],X=K._private.rscratch,z=X.imgLayerCaches=X.imgLayerCaches||{},Y=z[l];if(Y)O=Y;else{if((!O||O.eles.length>=F||!Ct(O.bb,K.boundingBox()))&&!(O=k({insert:!0,after:O})))return null;T||L?c.queueLayer(O,K):c.drawEleInLayer(O,K,l,o),O.eles.push(K),z[l]=O}}return T||(L?null:E)},Ti.getEleLevelForLayerLevel=function(a,o){return a},Ti.drawEleInLayer=function(a,o,l,c){var h=this.renderer,g=a.context,y=o.boundingBox();0===y.w||0===y.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,c),h.setImgSmoothing(g,!1),h.drawCachedElement(g,o,null,null,l,!0),h.setImgSmoothing(g,!0))},Ti.levelIsComplete=function(a,o){var c=this.layersByLevel[a];if(!c||0===c.length)return!1;for(var f=0,h=0;h<c.length;h++){var g=c[h];if(g.reqs>0||g.invalid)return!1;f+=g.eles.length}return f===o.length},Ti.validateLayersElesOrdering=function(a,o){var l=this.layersByLevel[a];if(l)for(var c=0;c<l.length;c++){for(var f=l[c],h=-1,g=0;g<o.length;g++)if(f.eles[0]===o[g]){h=g;break}if(h<0)this.invalidateLayer(f);else{var y=h;for(g=0;g<f.eles.length;g++)if(f.eles[g]!==o[y+g]){this.invalidateLayer(f);break}}}},Ti.updateElementsInLayers=function(a,o){for(var c=tu(a[0]),f=0;f<a.length;f++)for(var h=c?null:a[f],g=c?a[f]:a[f].ele,y=g._private.rscratch,_=y.imgLayerCaches=y.imgLayerCaches||{},b=-4;b<=2;b++){var E=_[b];E&&(h&&this.getEleLevelForLayerLevel(E.level)!==h.level||o(E,g,h))}},Ti.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var c=this.layersByLevel[l];if(c&&c.length>0){o=!0;break}}return o},Ti.invalidateElements=function(a){var o=this;0!==a.length&&(o.lastInvalidationTime=Qs(),0!==a.length&&o.haveLayers()&&o.updateElementsInLayers(a,function(c,f,h){o.invalidateLayer(c)}))},Ti.invalidateLayer=function(a){if(this.lastInvalidationTime=Qs(),!a.invalid){var o=a.level,l=a.eles;zo(this.layersByLevel[o],a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var f=0;f<l.length;f++){var h=l[f]._private.rscratch.imgLayerCaches;h&&(h[o]=null)}}},Ti.refineElementTextures=function(a){var o=this;o.updateElementsInLayers(a,function(c,f,h){var g=c.replacement;if(g||((g=c.replacement=o.makeLayer(c.bb,c.level)).replaces=c,g.eles=c.eles),!g.reqs)for(var y=0;y<g.eles.length;y++)o.queueLayer(g,g.eles[y])})},Ti.enqueueElementRefinement=function(a){this.eleTxrDeqs.merge(a),this.scheduleElementRefinement()},Ti.queueLayer=function(a,o){var c=this.layersQueue,f=a.elesQueue,h=f.hasId=f.hasId||{};if(!a.replacement){if(o){if(h[o.id()])return;f.push(o),h[o.id()]=!0}a.reqs?(a.reqs++,c.updateItem(a)):(a.reqs=1,c.push(a))}},Ti.dequeue=function(a){for(var o=this,l=o.layersQueue,c=[],f=0;f<1&&0!==l.size();){var h=l.peek();if(h.replacement)l.pop();else if(h.replaces&&h!==h.replaces.replacement)l.pop();else if(h.invalid)l.pop();else{var g=h.elesQueue.shift();g&&(o.drawEleInLayer(h,g,h.level,a),f++),0===c.length&&c.push(!0),0===h.elesQueue.length&&(l.pop(),h.reqs=0,h.replaces&&o.applyLayerReplacement(h),o.requestRedraw())}}return c},Ti.applyLayerReplacement=function(a){var l=this.layersByLevel[a.level],c=a.replaces,f=l.indexOf(c);if(!(f<0||c.invalid)){l[f]=a;for(var h=0;h<a.eles.length;h++){var g=a.eles[h]._private,y=g.imgLayerCaches=g.imgLayerCaches||{};y&&(y[a.level]=a)}this.requestRedraw()}},Ti.requestRedraw=ct.default(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),Ti.setupDequeueing=nf_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:Wf,shouldRedraw:Rp,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var bg,sf={};function zh(a,o){for(var l=0;l<o.length;l++){var c=o[l];a.lineTo(c.x,c.y)}}function af(a,o,l){for(var c,f=0;f<o.length;f++){var h=o[f];0===f&&(c=h),a.lineTo(h.x,h.y)}a.quadraticCurveTo(l.x,l.y,c.x,c.y)}function _g(a,o,l){a.beginPath&&a.beginPath();for(var c=o,f=0;f<c.length;f++)a.lineTo((h=c[f]).x,h.y);var g=l,y=l[0];for(a.moveTo(y.x,y.y),f=1;f<g.length;f++){var h;a.lineTo((h=g[f]).x,h.y)}a.closePath&&a.closePath()}function lf(a,o,l,c,f){a.beginPath&&a.beginPath(),a.arc(l,c,f,0,2*Math.PI,!1);var h=o,g=h[0];a.moveTo(g.x,g.y);for(var y=0;y<h.length;y++){var _=h[y];a.lineTo(_.x,_.y)}a.closePath&&a.closePath()}function cv(a,o,l,c){a.arc(o,l,c,0,2*Math.PI,!1)}sf.arrowShapeImpl=function(a){return(bg||(bg={polygon:zh,"triangle-backcurve":af,"triangle-tee":_g,"circle-triangle":lf,"triangle-cross":_g,circle:cv}))[a]};var Lo={drawElement:function(a,o,l,c,f,h){o.isNode()?this.drawNode(a,o,l,c,f,h):this.drawEdge(a,o,l,c,f,h)},drawElementOverlay:function(a,o){o.isNode()?this.drawNodeOverlay(a,o):this.drawEdgeOverlay(a,o)},drawElementUnderlay:function(a,o){o.isNode()?this.drawNodeUnderlay(a,o):this.drawEdgeUnderlay(a,o)},drawCachedElementPortion:function(a,o,l,c,f,h,g,y){var _=this,b=l.getBoundingBox(o);if(0!==b.w&&0!==b.h){var E=l.getElement(o,b,c,f,h);if(null!=E){var C=y(_,o);if(0===C)return;var O,F,L,$,K,Y,S=g(_,o),T=b.x1,M=b.y1,P=b.w,k=b.h;if(0!==S){var X=l.getRotationPoint(o);a.translate(L=X.x,$=X.y),a.rotate(S),(K=_.getImgSmoothing(a))||_.setImgSmoothing(a,!0);var z=l.getRotationOffset(o);O=z.x,F=z.y}else O=T,F=M;1!==C&&(a.globalAlpha=(Y=a.globalAlpha)*C),a.drawImage(E.texture.canvas,E.x,0,E.width,E.height,O,F,P,k),1!==C&&(a.globalAlpha=Y),0!==S&&(a.rotate(-S),a.translate(-L,-$),K||_.setImgSmoothing(a,!1))}else l.drawElement(a,o)}}},dv=function(){return 0},wg=function(o,l){return o.getTextAngle(l,null)},Hh=function(o,l){return o.getTextAngle(l,"source")},uf=function(o,l){return o.getTextAngle(l,"target")},Eg=function(o,l){return l.effectiveOpacity()},Uh=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};Lo.drawCachedElement=function(a,o,l,c,f,h){var g=this,y=g.data,_=y.eleTxrCache,b=y.lblTxrCache,E=y.slbTxrCache,C=y.tlbTxrCache,S=o.boundingBox(),T=!0===h?_.reasons.highQuality:null;if(0!==S.w&&0!==S.h&&o.visible()&&(!c||zp(S,c))){var M=o.isEdge(),P=o.element()._private.rscratch.badLine;g.drawElementUnderlay(a,o),g.drawCachedElementPortion(a,o,_,l,f,T,dv,Eg),(!M||!P)&&g.drawCachedElementPortion(a,o,b,l,f,T,wg,Uh),M&&!P&&(g.drawCachedElementPortion(a,o,E,l,f,T,Hh,Uh),g.drawCachedElementPortion(a,o,C,l,f,T,uf,Uh)),g.drawElementOverlay(a,o)}},Lo.drawElements=function(a,o){for(var c=0;c<o.length;c++)this.drawElement(a,o[c])},Lo.drawCachedElements=function(a,o,l,c){for(var h=0;h<o.length;h++)this.drawCachedElement(a,o[h],l,c)},Lo.drawCachedNodes=function(a,o,l,c){for(var h=0;h<o.length;h++){var g=o[h];g.isNode()&&this.drawCachedElement(a,g,l,c)}},Lo.drawLayeredElements=function(a,o,l,c){var h=this.data.lyrTxrCache.getLayers(o,l);if(h)for(var g=0;g<h.length;g++){var y=h[g],_=y.bb;0===_.w||0===_.h||a.drawImage(y.canvas,_.x1,_.y1,_.w,_.h)}else this.drawCachedElements(a,o,l,c)};var ya={drawEdge:function(a,o,l){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,y=o._private.rscratch;if((!h||o.visible())&&!y.badLine&&null!=y.allpts&&!isNaN(y.allpts[0])){var _;l&&a.translate(-(_=l).x1,-_.y1);var b=h?o.pstyle("opacity").value:1,E=h?o.pstyle("line-opacity").value:1,C=o.pstyle("curve-style").value,S=o.pstyle("line-style").value,T=o.pstyle("width").pfValue,M=o.pstyle("line-cap").value,P=b*E,k=b*E,O=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;"straight-triangle"===C?(g.eleStrokeStyle(a,o,W),g.drawEdgeTrianglePath(o,a,y.allpts)):(a.lineWidth=T,a.lineCap=M,g.eleStrokeStyle(a,o,W),g.drawEdgePath(o,a,y.allpts,S),a.lineCap="butt")},$=function(){g.drawArrowheads(a,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:k)};if(a.lineJoin="round","yes"===o.pstyle("ghost").value){var z=o.pstyle("ghost-offset-x").pfValue,Y=o.pstyle("ghost-offset-y").pfValue,j=o.pstyle("ghost-opacity").value,ee=P*j;a.translate(z,Y),O(ee),$(ee),a.translate(-z,-Y)}f&&g.drawEdgeUnderlay(a,o),O(),$(),f&&g.drawEdgeOverlay(a,o),g.drawElementText(a,o,null,c),l&&a.translate(_.x1,_.y1)}}},Fl=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,c){if(c.visible()){var f=c.pstyle("".concat(o,"-opacity")).value;if(0!==f){var h=this,g=h.usePaths(),y=c._private.rscratch,b=2*c.pstyle("".concat(o,"-padding")).pfValue,E=c.pstyle("".concat(o,"-color")).value;l.lineWidth=b,l.lineCap="self"!==y.edgeType||g?"round":"butt",h.colorStrokeStyle(l,E[0],E[1],E[2],f),h.drawEdgePath(c,l,y.allpts,"solid")}}}};ya.drawEdgeOverlay=Fl("overlay"),ya.drawEdgeUnderlay=Fl("underlay"),ya.drawEdgePath=function(a,o,l,c){var g,f=a._private.rscratch,h=o,y=!1,_=this.usePaths(),b=a.pstyle("line-dash-pattern").pfValue,E=a.pstyle("line-dash-offset").pfValue;if(_){var C=l.join("$");f.pathCacheKey&&f.pathCacheKey===C?(g=o=f.pathCache,y=!0):(g=o=new Path2D,f.pathCacheKey=C,f.pathCache=g)}if(h.setLineDash)switch(c){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash(b),h.lineDashOffset=E;break;case"solid":h.setLineDash([])}if(!y&&!f.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var T=2;T+3<l.length;T+=4)o.quadraticCurveTo(l[T],l[T+1],l[T+2],l[T+3]);break;case"straight":case"segments":case"haystack":for(var M=2;M+1<l.length;M+=2)o.lineTo(l[M],l[M+1])}o=h,_?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},ya.drawEdgeTrianglePath=function(a,o,l){o.fillStyle=o.strokeStyle;for(var c=a.pstyle("width").pfValue,f=0;f+1<l.length;f+=2){var h=[l[f+2]-l[f],l[f+3]-l[f+1]],g=Math.sqrt(h[0]*h[0]+h[1]*h[1]),y=[h[1]/g,-h[0]/g],_=[y[0]*c/2,y[1]*c/2];o.beginPath(),o.moveTo(l[f]-_[0],l[f+1]-_[1]),o.lineTo(l[f]+_[0],l[f+1]+_[1]),o.lineTo(l[f+2],l[f+3]),o.closePath(),o.fill()}},ya.drawArrowheads=function(a,o,l){var c=o._private.rscratch,f="haystack"===c.edgeType;f||this.drawArrowhead(a,o,"source",c.arrowStartX,c.arrowStartY,c.srcArrowAngle,l),this.drawArrowhead(a,o,"mid-target",c.midX,c.midY,c.midtgtArrowAngle,l),this.drawArrowhead(a,o,"mid-source",c.midX,c.midY,c.midsrcArrowAngle,l),f||this.drawArrowhead(a,o,"target",c.arrowEndX,c.arrowEndY,c.tgtArrowAngle,l)},ya.drawArrowhead=function(a,o,l,c,f,h,g){if(!(isNaN(c)||null==c||isNaN(f)||null==f||isNaN(h)||null==h)){var y=this,_=o.pstyle(l+"-arrow-shape").value;if("none"!==_){var b="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",E=o.pstyle(l+"-arrow-fill").value,C=o.pstyle("width").pfValue,S=o.pstyle(l+"-arrow-width"),T="match-line"===S.value?C:S.pfValue;"%"===S.units&&(T*=C);var M=o.pstyle("opacity").value;void 0===g&&(g=M);var P=a.globalCompositeOperation;(1!==g||"hollow"===E)&&(a.globalCompositeOperation="destination-out",y.colorFillStyle(a,255,255,255,1),y.colorStrokeStyle(a,255,255,255,1),y.drawArrowShape(o,a,b,C,_,T,c,f,h),a.globalCompositeOperation=P);var k=o.pstyle(l+"-arrow-color").value;y.colorFillStyle(a,k[0],k[1],k[2],g),y.colorStrokeStyle(a,k[0],k[1],k[2],g),y.drawArrowShape(o,a,E,C,_,T,c,f,h)}}},ya.drawArrowShape=function(a,o,l,c,f,h,g,y,_){var S,b=this,E=this.usePaths()&&"triangle-cross"!==f,C=!1,T=o,M={x:g,y},P=a.pstyle("arrow-scale").value,k=this.getArrowWidth(c,P),O=b.arrowShapes[f];if(E){var F=b.arrowPathCache=b.arrowPathCache||[],L=Cs(f),$=F[L];null!=$?(S=o=$,C=!0):(S=o=new Path2D,F[L]=S)}C||(o.beginPath&&o.beginPath(),E?O.draw(o,1,0,{x:0,y:0},1):O.draw(o,k,_,M,c),o.closePath&&o.closePath()),o=T,E&&(o.translate(g,y),o.rotate(_),o.scale(k,k)),("filled"===l||"both"===l)&&(E?o.fill(S):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=h/(E?k:1),o.lineJoin="miter",E?o.stroke(S):o.stroke()),E&&(o.scale(1/k,1/k),o.rotate(-_),o.translate(-g,-y))};var Ll={safeDrawImage:function(a,o,l,c,f,h,g,y,_,b){if(!(f<=0||h<=0||_<=0||b<=0))try{a.drawImage(o,l,c,f,h,g,y,_,b)}catch(E){Jt(E)}},drawInscribedImage:function(a,o,l,c,f){var h=this,g=l.position(),y=g.x,_=g.y,b=l.cy().style(),E=b.getIndexedStyle.bind(b),C=E(l,"background-fit","value",c),S=E(l,"background-repeat","value",c),T=l.width(),M=l.height(),P=2*l.padding(),k=T+("inner"===E(l,"background-width-relative-to","value",c)?0:P),O=M+("inner"===E(l,"background-height-relative-to","value",c)?0:P),F=l._private.rscratch,$="node"===E(l,"background-clip","value",c),K=E(l,"background-image-opacity","value",c)*f,X=E(l,"background-image-smoothing","value",c),z=o.width||o.cachedW,Y=o.height||o.cachedH;(null==z||null==Y)&&(document.body.appendChild(o),z=o.cachedW=o.width||o.offsetWidth,Y=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var j=z,ee=Y;if("auto"!==E(l,"background-width","value",c)&&(j="%"===E(l,"background-width","units",c)?E(l,"background-width","pfValue",c)*k:E(l,"background-width","pfValue",c)),"auto"!==E(l,"background-height","value",c)&&(ee="%"===E(l,"background-height","units",c)?E(l,"background-height","pfValue",c)*O:E(l,"background-height","pfValue",c)),0!==j&&0!==ee){if("contain"===C)j*=te=Math.min(k/j,O/ee),ee*=te;else if("cover"===C){var te;j*=te=Math.max(k/j,O/ee),ee*=te}var W=y-k/2,oe=E(l,"background-position-x","units",c),Q=E(l,"background-position-x","pfValue",c);W+="%"===oe?(k-j)*Q:Q;var de=E(l,"background-offset-x","units",c),se=E(l,"background-offset-x","pfValue",c);W+="%"===de?(k-j)*se:se;var ie=_-O/2,me=E(l,"background-position-y","units",c),_e=E(l,"background-position-y","pfValue",c);ie+="%"===me?(O-ee)*_e:_e;var ke=E(l,"background-offset-y","units",c),ge=E(l,"background-offset-y","pfValue",c);ie+="%"===ke?(O-ee)*ge:ge,F.pathCache&&(W-=y,ie-=_,y=0,_=0);var Ie=a.globalAlpha;a.globalAlpha=K;var $e=h.getImgSmoothing(a),qe=!1;if("no"===X&&$e?(h.setImgSmoothing(a,!1),qe=!0):"yes"===X&&!$e&&(h.setImgSmoothing(a,!0),qe=!0),"no-repeat"===S)$&&(a.save(),F.pathCache?a.clip(F.pathCache):(h.nodeShapes[h.getNodeShape(l)].draw(a,y,_,k,O),a.clip())),h.safeDrawImage(a,o,0,0,z,Y,W,ie,j,ee),$&&a.restore();else{var He=a.createPattern(o,S);a.fillStyle=He,h.nodeShapes[h.getNodeShape(l)].draw(a,y,_,k,O),a.translate(W,ie),a.fill(),a.translate(-W,-ie)}a.globalAlpha=Ie,qe&&h.setImgSmoothing(a,$e)}}},Bl={eleTextBiggerThanMin:function(a,o){if(!o){var l=a.cy().zoom(),c=this.getPixelRatio(),f=Math.ceil($p(l*c));o=Math.pow(2,f)}return!(a.pstyle("font-size").pfValue*o<a.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(a,o,l,c,f){var h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==c){if(h&&!g.eleTextBiggerThanMin(o))return}else if(!1===c)return;if(o.isNode()){var y=o.pstyle("label");if(!y||!y.value)return;var _=g.getLabelJustification(o);a.textAlign=_,a.textBaseline="bottom"}else{var b=o.element()._private.rscratch.badLine,E=o.pstyle("label"),C=o.pstyle("source-label"),S=o.pstyle("target-label");if(b||(!E||!E.value)&&(!C||!C.value)&&(!S||!S.value))return;a.textAlign="center",a.textBaseline="bottom"}var M,T=!l;l&&a.translate(-(M=l).x1,-M.y1),null==f?(g.drawText(a,o,null,T,h),o.isEdge()&&(g.drawText(a,o,"source",T,h),g.drawText(a,o,"target",T,h))):g.drawText(a,o,f,T,h),l&&a.translate(M.x1,M.y1)},getFontCache:function(a){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===a)return o;return this.fontCaches.push(o={context:a}),o},setupTextStyle:function(a,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=o.pstyle("font-style").strValue,f=o.pstyle("font-size").pfValue+"px",h=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,y=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,_=o.pstyle("text-outline-opacity").value*y,b=o.pstyle("color").value,E=o.pstyle("text-outline-color").value;a.font=c+" "+g+" "+f+" "+h,a.lineJoin="round",this.colorFillStyle(a,b[0],b[1],b[2],y),this.colorStrokeStyle(a,E[0],E[1],E[2],_)},getTextAngle:function(a,o){var f=a._private.rscratch,g=a.pstyle((o?o+"-":"")+"text-rotation"),y=So(f,"labelAngle",o);return"autorotate"===g.strValue?a.isEdge()?y:0:"none"===g.strValue?0:g.pfValue},drawText:function(a,o,l){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=o._private.rscratch,y=f?o.effectiveOpacity():1;if(!f||0!==y&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var E,C,_=So(g,"labelX",l),b=So(g,"labelY",l),S=this.getLabelText(o,l);if(null!=S&&""!==S&&!isNaN(_)&&!isNaN(b)){this.setupTextStyle(a,o,f);var K,T=l?l+"-":"",M=So(g,"labelWidth",l),P=So(g,"labelHeight",l),k=o.pstyle(T+"text-margin-x").pfValue,O=o.pstyle(T+"text-margin-y").pfValue,F=o.isEdge(),L=o.pstyle("text-halign").value,$=o.pstyle("text-valign").value;switch(F&&(L="center",$="center"),_+=k,b+=O,0!==(K=c?this.getTextAngle(o,l):0)&&(a.translate(E=_,C=b),a.rotate(K),_=0,b=0),$){case"top":break;case"center":b+=P/2;break;case"bottom":b+=P}var X=o.pstyle("text-background-opacity").value,z=o.pstyle("text-border-opacity").value,Y=o.pstyle("text-border-width").pfValue,j=o.pstyle("text-background-padding").pfValue;if(X>0||Y>0&&z>0){var ee=_-j;switch(L){case"left":ee-=M;break;case"center":ee-=M/2}var te=b-P-j,W=M+2*j,oe=P+2*j;if(X>0){var Q=a.fillStyle,de=o.pstyle("text-background-color").value;a.fillStyle="rgba("+de[0]+","+de[1]+","+de[2]+","+X*y+")",0===o.pstyle("text-background-shape").strValue.indexOf("round")?function g0(a,o,l,c,f){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;a.beginPath(),a.moveTo(o+h,l),a.lineTo(o+c-h,l),a.quadraticCurveTo(o+c,l,o+c,l+h),a.lineTo(o+c,l+f-h),a.quadraticCurveTo(o+c,l+f,o+c-h,l+f),a.lineTo(o+h,l+f),a.quadraticCurveTo(o,l+f,o,l+f-h),a.lineTo(o,l+h),a.quadraticCurveTo(o,l,o+h,l),a.closePath(),a.fill()}(a,ee,te,W,oe,2):a.fillRect(ee,te,W,oe),a.fillStyle=Q}if(Y>0&&z>0){var ie=a.strokeStyle,me=a.lineWidth,_e=o.pstyle("text-border-color").value,ke=o.pstyle("text-border-style").value;if(a.strokeStyle="rgba("+_e[0]+","+_e[1]+","+_e[2]+","+z*y+")",a.lineWidth=Y,a.setLineDash)switch(ke){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=Y/4,a.setLineDash([]);break;case"solid":a.setLineDash([])}if(a.strokeRect(ee,te,W,oe),"double"===ke){var ge=Y/2;a.strokeRect(ee+ge,te+ge,W-2*ge,oe-2*ge)}a.setLineDash&&a.setLineDash([]),a.lineWidth=me,a.strokeStyle=ie}}var Ie=2*o.pstyle("text-outline-width").pfValue;if(Ie>0&&(a.lineWidth=Ie),"wrap"===o.pstyle("text-wrap").value){var $e=So(g,"labelWrapCachedLines",l),qe=So(g,"labelLineHeight",l),He=M/2,Ue=this.getLabelJustification(o);switch("auto"===Ue||("left"===L?"left"===Ue?_+=-M:"center"===Ue&&(_+=-He):"center"===L?"left"===Ue?_+=-He:"right"===Ue&&(_+=He):"right"===L&&("center"===Ue?_+=He:"right"===Ue&&(_+=M))),$){case"top":case"center":case"bottom":b-=($e.length-1)*qe}for(var ye=0;ye<$e.length;ye++)Ie>0&&a.strokeText($e[ye],_,b),a.fillText($e[ye],_,b),b+=qe}else Ie>0&&a.strokeText(S,_,b),a.fillText(S,_,b);0!==K&&(a.rotate(-K),a.translate(-E,-C))}}}},Vl={drawNode:function(a,o,l){var y,_,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,b=o._private,E=b.rscratch,C=o.position();if(ht(C.x)&&ht(C.y)&&(!h||o.visible())){var M,O,S=h?o.effectiveOpacity():1,T=g.usePaths(),P=!1,k=o.padding();y=o.width()+2*k,_=o.height()+2*k,l&&a.translate(-(O=l).x1,-O.y1);for(var L=o.pstyle("background-image").value,$=new Array(L.length),K=new Array(L.length),X=0,z=0;z<L.length;z++){var Y=L[z];if($[z]=null!=Y&&"none"!==Y){var ee=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",z);X++,K[z]=g.getCachedImage(Y,ee,function(){b.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var te=o.pstyle("background-blacken").value,W=o.pstyle("border-width").pfValue,oe=o.pstyle("background-opacity").value*S,Q=o.pstyle("border-color").value,de=o.pstyle("border-style").value,se=o.pstyle("border-opacity").value*S,ie=o.pstyle("outline-width").pfValue,me=o.pstyle("outline-color").value,_e=o.pstyle("outline-style").value,ke=o.pstyle("outline-opacity").value*S,ge=o.pstyle("outline-offset").value;a.lineJoin="miter";var Ie=function(){g.eleFillStyle(a,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe)},$e=function(){g.colorStrokeStyle(a,Q[0],Q[1],Q[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:se)},qe=function(){g.colorStrokeStyle(a,me[0],me[1],me[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke)},He=function(we,G,be,Oe){var Ee,xe=g.nodePathCache=g.nodePathCache||[],Ae=Gf("polygon"===be?be+","+Oe.join(","):be,""+G,""+we),pt=xe[Ae],It=!1;return null!=pt?(It=!0,E.pathCache=Ee=pt):(Ee=new Path2D,xe[Ae]=E.pathCache=Ee),{path:Ee,cacheHit:It}},Ue=o.pstyle("shape").strValue,ye=o.pstyle("shape-polygon-points").pfValue;if(T){a.translate(C.x,C.y);var Ye=He(y,_,Ue,ye);M=Ye.path,P=Ye.cacheHit}var Qe=function(){if(!P){var we=C;T&&(we={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(M||a,we.x,we.y,y,_)}T?a.fill(M):a.fill()},je=function(){for(var we=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,G=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],be=b.backgrounding,Oe=0,xe=0;xe<K.length;xe++){var Ae=o.cy().style().getIndexedStyle(o,"background-image-containment","value",xe);G&&"over"===Ae||!G&&"inside"===Ae?Oe++:$[xe]&&K[xe].complete&&!K[xe].error&&(Oe++,g.drawInscribedImage(a,K[xe],o,xe,we))}b.backgrounding=Oe!==X,be!==b.backgrounding&&o.updateStyle(!1)},rt=function(){var we=arguments.length>0&&void 0!==arguments[0]&&arguments[0],G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;g.hasPie(o)&&(g.drawPie(a,o,G),we&&(T||g.nodeShapes[g.getNodeShape(o)].draw(a,C.x,C.y,y,_)))},Ot=function(){var be=te>0?0:255;0!==te&&(g.colorFillStyle(a,be,be,be,(te>0?te:-te)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S)),T?a.fill(M):a.fill())},Ht=function(){if(W>0){if(a.lineWidth=W,a.lineCap="butt",a.setLineDash)switch(de){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}if(T?a.stroke(M):a.stroke(),"double"===de){a.lineWidth=W/3;var we=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",T?a.stroke(M):a.stroke(),a.globalCompositeOperation=we}a.setLineDash&&a.setLineDash([])}},Be=function(){if(ie>0){if(a.lineWidth=ie,a.lineCap="butt",a.setLineDash)switch(_e){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}var we=C;T&&(we={x:0,y:0});var Ee,G=g.getNodeShape(o),be=(y+W+(ie+ge))/y,Oe=(_+W+(ie+ge))/_,xe=y*be,Ae=_*Oe,pt=g.nodeShapes[G].points;if(T&&(Ee=He(xe,Ae,G,pt).path),"ellipse"===G)g.drawEllipsePath(Ee||a,we.x,we.y,xe,Ae);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(G)){var dn=0,On=0,Yt=0;"round-diamond"===G?dn=1.4*(W+ge+ie):"round-heptagon"===G?(dn=1.075*(W+ge+ie),Yt=-(W/2+ge+ie)/35):"round-hexagon"===G?dn=1.12*(W+ge+ie):"round-pentagon"===G?(dn=1.13*(W+ge+ie),Yt=-(W/2+ge+ie)/15):"round-tag"===G?(dn=1.12*(W+ge+ie),On=.07*(W/2+ie+ge)):"round-triangle"===G&&(dn=(W+ge+ie)*(Math.PI/2),Yt=-(W+ge/2+ie)/Math.PI),0!==dn&&(be=(y+dn)/y,Oe=(_+dn)/_),g.drawRoundPolygonPath(Ee||a,we.x+On,we.y+Yt,y*be,_*Oe,pt)}else["roundrectangle","round-rectangle"].includes(G)?g.drawRoundRectanglePath(Ee||a,we.x,we.y,xe,Ae):["cutrectangle","cut-rectangle"].includes(G)?g.drawCutRectanglePath(Ee||a,we.x,we.y,xe,Ae):["bottomroundrectangle","bottom-round-rectangle"].includes(G)?g.drawBottomRoundRectanglePath(Ee||a,we.x,we.y,xe,Ae):"barrel"===G?g.drawBarrelPath(Ee||a,we.x,we.y,xe,Ae):G.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(G)?(pt=lc(pn(pt,(W+ie+ge)/y)),g.drawPolygonPath(Ee||a,we.x,we.y,y,_,pt)):(pt=lc(pn(pt,-(W+ie+ge)/y)),g.drawPolygonPath(Ee||a,we.x,we.y,y,_,pt));if(T?a.stroke(Ee):a.stroke(),"double"===_e){a.lineWidth=W/3;var ln=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",T?a.stroke(Ee):a.stroke(),a.globalCompositeOperation=ln}a.setLineDash&&a.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var Rt=o.pstyle("ghost-offset-x").pfValue,Cn=o.pstyle("ghost-offset-y").pfValue,gn=o.pstyle("ghost-opacity").value,Wt=gn*S;a.translate(Rt,Cn),qe(),Be(),Ie(gn*oe),Qe(),je(Wt,!0),$e(gn*se),Ht(),rt(0!==te||0!==W),je(Wt,!1),Ot(Wt),a.translate(-Rt,-Cn)}T&&a.translate(-C.x,-C.y),f&&g.drawNodeUnderlay(a,o,C,y,_),T&&a.translate(C.x,C.y),qe(),Be(),Ie(),Qe(),je(S,!0),$e(),Ht(),rt(0!==te||0!==W),je(S,!1),Ot(),T&&a.translate(-C.x,-C.y),g.drawElementText(a,o,null,c),f&&g.drawNodeOverlay(a,o,C,y,_),l&&a.translate(O.x1,O.y1)}}},Dg=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,c,f,h,g){if(c.visible()){var _=c.pstyle("".concat(o,"-padding")).pfValue,b=c.pstyle("".concat(o,"-opacity")).value,E=c.pstyle("".concat(o,"-color")).value,C=c.pstyle("".concat(o,"-shape")).value;if(b>0){if(f=f||c.position(),null==h||null==g){var S=c.padding();h=c.width()+2*S,g=c.height()+2*S}this.colorFillStyle(l,E[0],E[1],E[2],b),this.nodeShapes[C].draw(l,f.x,f.y,h+2*_,g+2*_),l.fill()}}}};Vl.drawNodeOverlay=Dg("overlay"),Vl.drawNodeUnderlay=Dg("underlay"),Vl.hasPie=function(a){return(a=a[0])._private.hasPie},Vl.drawPie=function(a,o,l,c){o=o[0],c=c||o.position();var f=o.cy().style(),h=o.pstyle("pie-size"),g=c.x,y=c.y,_=o.width(),b=o.height(),E=Math.min(_,b)/2,C=0;this.usePaths()&&(g=0,y=0),"%"===h.units?E*=h.pfValue:void 0!==h.pfValue&&(E=h.pfValue/2);for(var T=1;T<=f.pieBackgroundN;T++){var M=o.pstyle("pie-"+T+"-background-size").value,P=o.pstyle("pie-"+T+"-background-color").value,k=o.pstyle("pie-"+T+"-background-opacity").value*l,O=M/100;O+C>1&&(O=1-C);var F=1.5*Math.PI+2*Math.PI*C,$=F+2*Math.PI*O;0===M||C>=1||C+O>1||(a.beginPath(),a.moveTo(g,y),a.arc(g,y,E,F,$),a.closePath(),this.colorFillStyle(a,P[0],P[1],P[2],k),a.fill(),C+=O)}};for(var vo={getPixelRatio:function(){var a=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)},paintCache:function(a){for(var c,o=this.paintCaches=this.paintCaches||[],l=!0,f=0;f<o.length;f++)if((c=o[f]).context===a){l=!1;break}return l&&o.push(c={context:a}),c},createGradientStyleFor:function(a,o,l,c,f){var h,g=this.usePaths(),y=l.pstyle(o+"-gradient-stop-colors").value,_=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===c)if(l.isEdge()){var b=l.sourceEndpoint(),E=l.targetEndpoint(),C=l.midpoint(),S=ta(b,C),T=ta(E,C);h=a.createRadialGradient(C.x,C.y,0,C.x,C.y,Math.max(S,T))}else{var M=g?{x:0,y:0}:l.position(),P=l.paddedWidth(),k=l.paddedHeight();h=a.createRadialGradient(M.x,M.y,0,M.x,M.y,Math.max(P,k))}else if(l.isEdge()){var O=l.sourceEndpoint(),F=l.targetEndpoint();h=a.createLinearGradient(O.x,O.y,F.x,F.y)}else{var L=g?{x:0,y:0}:l.position(),X=l.paddedWidth()/2,z=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":h=a.createLinearGradient(L.x,L.y-z,L.x,L.y+z);break;case"to-top":h=a.createLinearGradient(L.x,L.y+z,L.x,L.y-z);break;case"to-left":h=a.createLinearGradient(L.x+X,L.y,L.x-X,L.y);break;case"to-right":h=a.createLinearGradient(L.x-X,L.y,L.x+X,L.y);break;case"to-bottom-right":case"to-right-bottom":h=a.createLinearGradient(L.x-X,L.y-z,L.x+X,L.y+z);break;case"to-top-right":case"to-right-top":h=a.createLinearGradient(L.x-X,L.y+z,L.x+X,L.y-z);break;case"to-bottom-left":case"to-left-bottom":h=a.createLinearGradient(L.x+X,L.y-z,L.x-X,L.y+z);break;case"to-top-left":case"to-left-top":h=a.createLinearGradient(L.x+X,L.y+z,L.x-X,L.y-z)}}if(!h)return null;for(var j=_.length===y.length,ee=y.length,te=0;te<ee;te++)h.addColorStop(j?_[te]:te/(ee-1),"rgba("+y[te][0]+","+y[te][1]+","+y[te][2]+","+f+")");return h},gradientFillStyle:function(a,o,l,c){var f=this.createGradientStyleFor(a,"background",o,l,c);if(!f)return null;a.fillStyle=f},colorFillStyle:function(a,o,l,c,f){a.fillStyle="rgba("+o+","+l+","+c+","+f+")"},eleFillStyle:function(a,o,l){var c=o.pstyle("background-fill").value;if("linear-gradient"===c||"radial-gradient"===c)this.gradientFillStyle(a,o,c,l);else{var f=o.pstyle("background-color").value;this.colorFillStyle(a,f[0],f[1],f[2],l)}},gradientStrokeStyle:function(a,o,l,c){var f=this.createGradientStyleFor(a,"line",o,l,c);if(!f)return null;a.strokeStyle=f},colorStrokeStyle:function(a,o,l,c,f){a.strokeStyle="rgba("+o+","+l+","+c+","+f+")"},eleStrokeStyle:function(a,o,l){var c=o.pstyle("line-fill").value;if("linear-gradient"===c||"radial-gradient"===c)this.gradientStrokeStyle(a,o,c,l);else{var f=o.pstyle("line-color").value;this.colorStrokeStyle(a,f[0],f[1],f[2],l)}},matchCanvasSize:function(a){var o=this,l=o.data,c=o.findContainerClientCoords(),f=c[2],h=c[3],g=o.getPixelRatio();(a===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||a===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var E,_=f*g,b=h*g;if(_!==o.canvasWidth||b!==o.canvasHeight){o.fontCaches=null;var C=l.canvasContainer;C.style.width=f+"px",C.style.height=h+"px";for(var S=0;S<o.CANVAS_LAYERS;S++)(E=l.canvases[S]).width=_,E.height=b,E.style.width=f+"px",E.style.height=h+"px";for(S=0;S<o.BUFFER_COUNT;S++)(E=l.bufferCanvases[S]).width=_,E.height=b,E.style.width=f+"px",E.style.height=h+"px";o.textureMult=1,g<=1&&(E=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,E.width=_*o.textureMult,E.height=b*o.textureMult),o.canvasWidth=_,o.canvasHeight=b}},renderTo:function(a,o,l,c){this.render({forcedContext:a,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:c})},render:function(a){var o=(a=a||bd()).forcedContext,l=a.drawAllLayers,c=a.drawOnlyNodeLayer,f=a.forcedZoom,h=a.forcedPan,g=this,y=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,_=g.cy,b=g.data,E=b.canvasNeedsRedraw,C=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),S=void 0!==a.motionBlur?a.motionBlur:g.motionBlur,T=g.motionBlurPxRatio,M=_.hasCompoundNodes(),P=g.hoverData.draggingEles,O=S=S&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==y&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=y),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),S&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(O=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!C&&(E[g.NODE]=!0,E[g.SELECT_BOX]=!0);var F=_.style(),L=_.zoom(),$=void 0!==f?f:L,K=_.pan(),X={x:K.x,y:K.y},z={zoom:L,pan:{x:K.x,y:K.y}},Y=g.prevViewport;!(void 0===Y||z.zoom!==Y.zoom||z.pan.x!==Y.pan.x||z.pan.y!==Y.pan.y)&&!(P&&!M)&&(g.motionBlurPxRatio=1),h&&(X=h),$*=y,X.x*=y,X.y*=y;var ee=g.getCachedZSortedEles();function te(Be,ut,xt,ft,At){var Rt=Be.globalCompositeOperation;Be.globalCompositeOperation="destination-out",g.colorFillStyle(Be,255,255,255,g.motionBlurTransparency),Be.fillRect(ut,xt,ft,At),Be.globalCompositeOperation=Rt}function W(Be,ut){var xt,ft,At,Rt;g.clearingMotionBlur||Be!==b.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&Be!==b.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(xt=X,ft=$,At=g.canvasWidth,Rt=g.canvasHeight):(xt={x:K.x*T,y:K.y*T},ft=L*T,At=g.canvasWidth*T,Rt=g.canvasHeight*T),Be.setTransform(1,0,0,1,0,0),"motionBlur"===ut?te(Be,0,0,At,Rt):!o&&(void 0===ut||ut)&&Be.clearRect(0,0,At,Rt),l||(Be.translate(xt.x,xt.y),Be.scale(ft,ft)),h&&Be.translate(h.x,h.y),f&&Be.scale(f,f)}if(C||(g.textureDrawLastFrame=!1),C){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=_.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var oe=g.data.bufferContexts[g.TEXTURE_BUFFER];oe.setTransform(1,0,0,1,0,0),oe.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:oe,drawOnlyNodeLayer:!0,forcedPxRatio:y*g.textureMult}),(z=g.textureCache.viewport={zoom:_.zoom(),pan:_.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-z.pan.x)/z.zoom,y:(0-z.pan.y)/z.zoom}}E[g.DRAG]=!1,E[g.NODE]=!1;var de=g.textureCache.texture;z=g.textureCache.viewport,(Q=b.contexts[g.NODE]).setTransform(1,0,0,1,0,0),S?te(Q,0,0,z.width,z.height):Q.clearRect(0,0,z.width,z.height);var se=F.core("outside-texture-bg-color").value,ie=F.core("outside-texture-bg-opacity").value;g.colorFillStyle(Q,se[0],se[1],se[2],ie),Q.fillRect(0,0,z.width,z.height),L=_.zoom(),W(Q,!1),Q.clearRect(z.mpan.x,z.mpan.y,z.width/z.zoom/y,z.height/z.zoom/y),Q.drawImage(de,z.mpan.x,z.mpan.y,z.width/z.zoom/y,z.height/z.zoom/y)}else g.textureOnViewport&&!o&&(g.textureCache=null);var me=_.extent(),_e=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),ke=g.hideEdgesOnViewport&&_e,ge=[];if(ge[g.NODE]=!E[g.NODE]&&S&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,ge[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),ge[g.DRAG]=!E[g.DRAG]&&S&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,ge[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),E[g.NODE]||l||c||ge[g.NODE]){var Ie=S&&!ge[g.NODE]&&1!==T;W(Q=o||(Ie?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:b.contexts[g.NODE]),S&&!Ie?"motionBlur":void 0),ke?g.drawCachedNodes(Q,ee.nondrag,y,me):g.drawLayeredElements(Q,ee.nondrag,y,me),g.debug&&g.drawDebugPoints(Q,ee.nondrag),!l&&!S&&(E[g.NODE]=!1)}if(!c&&(E[g.DRAG]||l||ge[g.DRAG])&&(Ie=S&&!ge[g.DRAG]&&1!==T,W(Q=o||(Ie?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:b.contexts[g.DRAG]),S&&!Ie?"motionBlur":void 0),ke?g.drawCachedNodes(Q,ee.drag,y,me):g.drawCachedElements(Q,ee.drag,y,me),g.debug&&g.drawDebugPoints(Q,ee.drag),!l&&!S&&(E[g.DRAG]=!1)),g.showFps||!c&&E[g.SELECT_BOX]&&!l){var Q;if(W(Q=o||b.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){L=g.cy.zoom();var qe=F.core("selection-box-border-width").value/L;Q.lineWidth=qe,Q.fillStyle="rgba("+F.core("selection-box-color").value[0]+","+F.core("selection-box-color").value[1]+","+F.core("selection-box-color").value[2]+","+F.core("selection-box-opacity").value+")",Q.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),qe>0&&(Q.strokeStyle="rgba("+F.core("selection-box-border-color").value[0]+","+F.core("selection-box-border-color").value[1]+","+F.core("selection-box-border-color").value[2]+","+F.core("selection-box-opacity").value+")",Q.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(b.bgActivePosistion&&!g.hoverData.selecting){L=g.cy.zoom();var He=b.bgActivePosistion;Q.fillStyle="rgba("+F.core("active-bg-color").value[0]+","+F.core("active-bg-color").value[1]+","+F.core("active-bg-color").value[2]+","+F.core("active-bg-opacity").value+")",Q.beginPath(),Q.arc(He.x,He.y,F.core("active-bg-size").pfValue/L,0,2*Math.PI),Q.fill()}var Ue=g.lastRedrawTime;if(g.showFps&&Ue){Ue=Math.round(Ue);var ye=Math.round(1e3/Ue);Q.setTransform(1,0,0,1,0,0),Q.fillStyle="rgba(255, 0, 0, 0.75)",Q.strokeStyle="rgba(255, 0, 0, 0.75)",Q.lineWidth=1,Q.fillText("1 frame = "+Ue+" ms = "+ye+" fps",0,20),Q.strokeRect(0,30,250,20),Q.fillRect(0,30,250*Math.min(ye/60,1),20)}l||(E[g.SELECT_BOX]=!1)}if(S&&1!==T){var rt=b.contexts[g.DRAG],Ot=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],Ht=function(ut,xt,ft){ut.setTransform(1,0,0,1,0,0),ft||!O?ut.clearRect(0,0,g.canvasWidth,g.canvasHeight):te(ut,0,0,g.canvasWidth,g.canvasHeight),ut.drawImage(xt,0,0,g.canvasWidth*T,g.canvasHeight*T,0,0,g.canvasWidth,g.canvasHeight)};(E[g.NODE]||ge[g.NODE])&&(Ht(b.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],ge[g.NODE]),E[g.NODE]=!1),(E[g.DRAG]||ge[g.DRAG])&&(Ht(rt,Ot,ge[g.DRAG]),E[g.DRAG]=!1)}g.prevViewport=z,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),S&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!C,g.mbFrames=0,E[g.NODE]=!0,E[g.DRAG]=!0,g.redraw()},100)),o||_.emit("render")}},Ja={drawPolygonPath:function(a,o,l,c,f,h){var g=c/2,y=f/2;a.beginPath&&a.beginPath(),a.moveTo(o+g*h[0],l+y*h[1]);for(var _=1;_<h.length/2;_++)a.lineTo(o+g*h[2*_],l+y*h[2*_+1]);a.closePath()},drawRoundPolygonPath:function(a,o,l,c,f,h){var g=c/2,y=f/2,_=cc(c,f);a.beginPath&&a.beginPath();for(var b=0;b<h.length/4;b++){var C,E;E=0===b?h.length-2:4*b-2,C=4*b+2;var S=o+g*h[4*b],T=l+y*h[4*b+1],P=_/Math.tan(Math.acos(-h[E]*h[C]-h[E+1]*h[C+1])/2),k=S-P*h[E],O=T-P*h[E+1],F=S+P*h[C],L=T+P*h[C+1];0===b?a.moveTo(k,O):a.lineTo(k,O),a.arcTo(S,T,F,L,_)}a.closePath()},drawRoundRectanglePath:function(a,o,l,c,f){var h=c/2,g=f/2,y=vl(c,f);a.beginPath&&a.beginPath(),a.moveTo(o,l-g),a.arcTo(o+h,l-g,o+h,l,y),a.arcTo(o+h,l+g,o,l+g,y),a.arcTo(o-h,l+g,o-h,l,y),a.arcTo(o-h,l-g,o,l-g,y),a.lineTo(o,l-g),a.closePath()},drawBottomRoundRectanglePath:function(a,o,l,c,f){var h=c/2,g=f/2,y=vl(c,f);a.beginPath&&a.beginPath(),a.moveTo(o,l-g),a.lineTo(o+h,l-g),a.lineTo(o+h,l),a.arcTo(o+h,l+g,o,l+g,y),a.arcTo(o-h,l+g,o-h,l,y),a.lineTo(o-h,l-g),a.lineTo(o,l-g),a.closePath()},drawCutRectanglePath:function(a,o,l,c,f){var h=c/2,g=f/2;a.beginPath&&a.beginPath(),a.moveTo(o-h+8,l-g),a.lineTo(o+h-8,l-g),a.lineTo(o+h,l-g+8),a.lineTo(o+h,l+g-8),a.lineTo(o+h-8,l+g),a.lineTo(o-h+8,l+g),a.lineTo(o-h,l+g-8),a.lineTo(o-h,l-g+8),a.closePath()},drawBarrelPath:function(a,o,l,c,f){var h=c/2,g=f/2,y=o-h,_=o+h,b=l-g,E=l+g,C=Up(c,f),S=C.widthOffset,T=C.heightOffset,M=C.ctrlPtOffsetPct*S;a.beginPath&&a.beginPath(),a.moveTo(y,b+T),a.lineTo(y,E-T),a.quadraticCurveTo(y+M,E,y+S,E),a.lineTo(_-S,E),a.quadraticCurveTo(_-M,E,_,E-T),a.lineTo(_,b+T),a.quadraticCurveTo(_-M,b,_-S,b),a.lineTo(y+S,b),a.quadraticCurveTo(y+M,b,y,b+T),a.closePath()}},xg=Math.sin(0),Vc=Math.cos(0),cf={},jh={},Gh=Math.PI/40,$c=0*Math.PI;$c<2*Math.PI;$c+=Gh)cf[$c]=Math.sin($c),jh[$c]=Math.cos($c);Ja.drawEllipsePath=function(a,o,l,c,f){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(o,l,c/2,f/2,0,0,2*Math.PI);else for(var h,g,y=c/2,_=f/2,b=0*Math.PI;b<2*Math.PI;b+=Gh)h=o-y*cf[b]*xg+y*jh[b]*Vc,g=l+_*jh[b]*xg+_*cf[b]*Vc,0===b?a.moveTo(h,g):a.lineTo(h,g);a.closePath()};var Bu={};function Sg(a){var o=a.indexOf(",");return a.substr(o+1)}function zc(a,o,l){var c=function(){return o.toDataURL(l,a.quality)};switch(a.output){case"blob-promise":return new Ao(function(f,h){try{o.toBlob(function(g){null!=g?f(g):h(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,a.quality)}catch(g){h(g)}});case"blob":return function fv(a,o){for(var l=atob(a),c=new ArrayBuffer(l.length),f=new Uint8Array(c),h=0;h<l.length;h++)f[h]=l.charCodeAt(h);return new Blob([c],{type:o})}(Sg(c()),l);case"base64":return Sg(c());default:return c()}}Bu.createBuffer=function(a,o){var l=document.createElement("canvas");return l.width=a,l.height=o,[l,l.getContext("2d")]},Bu.bufferCanvasImage=function(a){var o=this.cy,c=o.mutableElements().boundingBox(),f=this.findContainerClientCoords(),h=a.full?Math.ceil(c.w):f[2],g=a.full?Math.ceil(c.h):f[3],y=ht(a.maxWidth)||ht(a.maxHeight),_=this.getPixelRatio(),b=1;if(void 0!==a.scale)h*=a.scale,g*=a.scale,b=a.scale;else if(y){var E=1/0,C=1/0;ht(a.maxWidth)&&(E=b*a.maxWidth/h),ht(a.maxHeight)&&(C=b*a.maxHeight/g),h*=b=Math.min(E,C),g*=b}y||(h*=_,g*=_,b*=_);var S=document.createElement("canvas");S.width=h,S.height=g,S.style.width=h+"px",S.style.height=g+"px";var T=S.getContext("2d");if(h>0&&g>0){T.clearRect(0,0,h,g),T.globalCompositeOperation="source-over";var M=this.getCachedZSortedEles();if(a.full)T.translate(-c.x1*b,-c.y1*b),T.scale(b,b),this.drawElements(T,M),T.scale(1/b,1/b),T.translate(c.x1*b,c.y1*b);else{var P=o.pan(),k={x:P.x*b,y:P.y*b};b*=o.zoom(),T.translate(k.x,k.y),T.scale(b,b),this.drawElements(T,M),T.scale(1/b,1/b),T.translate(-k.x,-k.y)}a.bg&&(T.globalCompositeOperation="destination-over",T.fillStyle=a.bg,T.rect(0,0,h,g),T.fill())}return S},Bu.png=function(a){return zc(a,this.bufferCanvasImage(a),"image/png")},Bu.jpg=function(a){return zc(a,this.bufferCanvasImage(a),"image/jpeg")};var m0=ff,Jn=ff.prototype;function ff(a){var o=this;o.data={canvases:new Array(Jn.CANVAS_LAYERS),contexts:new Array(Jn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Jn.CANVAS_LAYERS),bufferCanvases:new Array(Jn.BUFFER_COUNT),bufferContexts:new Array(Jn.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",c="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var f=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=c,f.position="relative",f.zIndex="0",f.overflow="hidden";var h=a.cy.container();h.appendChild(o.data.canvasContainer),h.style[l]=c;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Tn&&Tn.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var y=0;y<Jn.CANVAS_LAYERS;y++){var _=o.data.canvases[y]=document.createElement("canvas");o.data.contexts[y]=_.getContext("2d"),Object.keys(g).forEach(function(Ue){_.style[Ue]=g[Ue]}),_.style.position="absolute",_.setAttribute("data-id","layer"+y),_.style.zIndex=String(Jn.CANVAS_LAYERS-y),o.data.canvasContainer.appendChild(_),o.data.canvasNeedsRedraw[y]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[Jn.NODE].setAttribute("data-id","layer"+Jn.NODE+"-node"),o.data.canvases[Jn.SELECT_BOX].setAttribute("data-id","layer"+Jn.SELECT_BOX+"-selectbox"),o.data.canvases[Jn.DRAG].setAttribute("data-id","layer"+Jn.DRAG+"-drag"),y=0;y<Jn.BUFFER_COUNT;y++)o.data.bufferCanvases[y]=document.createElement("canvas"),o.data.bufferContexts[y]=o.data.bufferCanvases[y].getContext("2d"),o.data.bufferCanvases[y].style.position="absolute",o.data.bufferCanvases[y].setAttribute("data-id","buffer"+y),o.data.bufferCanvases[y].style.zIndex=String(-y-1),o.data.bufferCanvases[y].style.visibility="hidden";o.pathsEnabled=!0;var b=Mo(),C=function(ye){return{x:-ye.w/2,y:-ye.h/2}},K=function(ye){return ye.boundingBox(),ye[0]._private.bodyBounds},X=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.main||b},z=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.source||b},Y=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.target||b},j=function(ye,Ye){return Ye},te=function(ye,Ye,Qe){var je=ye?ye+"-":"";return{x:Ye.x+Qe.pstyle(je+"text-margin-x").pfValue,y:Ye.y+Qe.pstyle(je+"text-margin-y").pfValue}},W=function(ye,Ye,Qe){var je=ye[0]._private.rscratch;return{x:je[Ye],y:je[Qe]}},ke=o.data.eleTxrCache=new js(o,{getKey:function(ye){return ye[0]._private.nodeKey},doesEleInvalidateKey:function(ye){var Ye=ye[0]._private;return!(Ye.oldBackgroundTimestamp===Ye.backgroundTimestamp)},drawElement:function(ye,Ye,Qe,je,rt){return o.drawElement(ye,Ye,Qe,!1,!1,rt)},getBoundingBox:K,getRotationPoint:function(ye){return function(ye){return{x:(ye.x1+ye.x2)/2,y:(ye.y1+ye.y2)/2}}(K(ye))},getRotationOffset:function(ye){return C(K(ye))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ge=o.data.lblTxrCache=new js(o,{getKey:function(ye){return ye[0]._private.labelStyleKey},drawElement:function(ye,Ye,Qe,je,rt){return o.drawElementText(ye,Ye,Qe,je,"main",rt)},getBoundingBox:X,getRotationPoint:function(ye){return te("",W(ye,"labelX","labelY"),ye)},getRotationOffset:function(ye){var Ye=X(ye),Qe=C(X(ye));if(ye.isNode()){switch(ye.pstyle("text-halign").value){case"left":Qe.x=-Ye.w;break;case"right":Qe.x=0}switch(ye.pstyle("text-valign").value){case"top":Qe.y=-Ye.h;break;case"bottom":Qe.y=0}}return Qe},isVisible:j}),Ie=o.data.slbTxrCache=new js(o,{getKey:function(ye){return ye[0]._private.sourceLabelStyleKey},drawElement:function(ye,Ye,Qe,je,rt){return o.drawElementText(ye,Ye,Qe,je,"source",rt)},getBoundingBox:z,getRotationPoint:function(ye){return te("source",W(ye,"sourceLabelX","sourceLabelY"),ye)},getRotationOffset:function(ye){return C(z(ye))},isVisible:j}),$e=o.data.tlbTxrCache=new js(o,{getKey:function(ye){return ye[0]._private.targetLabelStyleKey},drawElement:function(ye,Ye,Qe,je,rt){return o.drawElementText(ye,Ye,Qe,je,"target",rt)},getBoundingBox:Y,getRotationPoint:function(ye){return te("target",W(ye,"targetLabelX","targetLabelY"),ye)},getRotationOffset:function(ye){return C(Y(ye))},isVisible:j}),qe=o.data.lyrTxrCache=new vg(o);o.onUpdateEleCalcs(function(ye,Ye){ke.invalidateElements(Ye),ge.invalidateElements(Ye),Ie.invalidateElements(Ye),$e.invalidateElements(Ye),qe.invalidateElements(Ye);for(var Qe=0;Qe<Ye.length;Qe++){var je=Ye[Qe]._private;je.oldBackgroundTimestamp=je.backgroundTimestamp}});var He=function(ye){for(var Ye=0;Ye<ye.length;Ye++)qe.enqueueElementRefinement(ye[Ye].ele)};ke.onDequeue(He),ge.onDequeue(He),Ie.onDequeue(He),$e.onDequeue(He)}Jn.CANVAS_LAYERS=3,Jn.SELECT_BOX=0,Jn.DRAG=1,Jn.NODE=2,Jn.BUFFER_COUNT=3,Jn.TEXTURE_BUFFER=0,Jn.MOTIONBLUR_BUFFER_NODE=1,Jn.MOTIONBLUR_BUFFER_DRAG=2,Jn.redrawHint=function(a,o){var l=this;switch(a){case"eles":l.data.canvasNeedsRedraw[Jn.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[Jn.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[Jn.SELECT_BOX]=o}};var v0=typeof Path2D<"u";Jn.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a},Jn.usePaths=function(){return v0&&this.pathsEnabled},Jn.setImgSmoothing=function(a,o){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=o:(a.webkitImageSmoothingEnabled=o,a.mozImageSmoothingEnabled=o,a.msImageSmoothingEnabled=o)},Jn.getImgSmoothing=function(a){return null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled:a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled},Jn.makeOffscreenCanvas=function(a,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":vn(OffscreenCanvas))?l=new OffscreenCanvas(a,o):((l=document.createElement("canvas")).width=a,l.height=o),l},[sf,Lo,ya,Ll,Bl,Vl,vo,Ja,Bu,{nodeShapeImpl:function(a,o,l,c,f,h,g){switch(a){case"ellipse":return this.drawEllipsePath(o,l,c,f,h);case"polygon":return this.drawPolygonPath(o,l,c,f,h,g);case"round-polygon":return this.drawRoundPolygonPath(o,l,c,f,h,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,c,f,h);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,c,f,h);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,c,f,h);case"barrel":return this.drawBarrelPath(o,l,c,f,h)}}}].forEach(function(a){Lt(Jn,a)});var b0=[{type:"layout",extensions:Al},{type:"renderer",extensions:[{name:"null",impl:Nc},{name:"base",impl:tf},{name:"canvas",impl:m0}]}],hv={},pv={};function Mg(a,o,l){var c=l,f=function(Y){Jt("Can not register `"+o+"` for `"+a+"` since `"+Y+"` already exists in the prototype and can not be overridden")};if("core"===a){if(kc.prototype[o])return f(o);kc.prototype[o]=l}else if("collection"===a){if(Bt.prototype[o])return f(o);Bt.prototype[o]=l}else if("layout"===a){for(var h=function(Y){this.options=Y,l.call(this,Y),Mt(this._private)||(this._private={}),this._private.cy=Y.cy,this._private.listeners=[],this.createEmitter()},g=h.prototype=Object.create(l.prototype),y=[],_=0;_<y.length;_++){var b=y[_];g[b]=g[b]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var E=l.prototype.stop;g.stop=function(){var z=this.options;if(z&&z.animate){var Y=this.animations;if(Y)for(var j=0;j<Y.length;j++)Y[j].stop()}return E?E.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var C=function(Y){return Y._private.cy},S={addEventFields:function(Y,j){j.layout=Y,j.cy=C(Y),j.target=Y},bubble:function(){return!0},parent:function(Y){return C(Y)}};Lt(g,{createEmitter:function(){return this._private.emitter=new bu(S,this),this},emitter:function(){return this._private.emitter},on:function(Y,j){return this.emitter().on(Y,j),this},one:function(Y,j){return this.emitter().one(Y,j),this},once:function(Y,j){return this.emitter().one(Y,j),this},removeListener:function(Y,j){return this.emitter().removeListener(Y,j),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Y,j){return this.emitter().emit(Y,j),this}}),on.eventAliasesOn(g),c=h}else if("renderer"===a&&"null"!==o&&"base"!==o){var T=Hc("renderer","base"),M=T.prototype,P=l,k=l.prototype,O=function(){T.apply(this,arguments),P.apply(this,arguments)},F=O.prototype;for(var L in M){var $=M[L];if(null!=k[L])return f(L);F[L]=$}for(var X in k)F[X]=k[X];M.clientFunctions.forEach(function(z){F[z]=F[z]||function(){Xn("Renderer does not implement `renderer."+z+"()` on its prototype")}}),c=O}else if("__proto__"===a||"constructor"===a||"prototype"===a)return Xn(a+" is an illegal type to be registered, possibly lead to prototype pollutions");return dd({map:hv,keys:[a,o],value:c})}function Hc(a,o){return fd({map:hv,keys:[a,o]})}function hf(a,o,l,c,f){return dd({map:pv,keys:[a,o,l,c],value:f})}function Tg(a,o,l,c){return fd({map:pv,keys:[a,o,l,c]})}var pf=function(){return 2===arguments.length?Hc.apply(null,arguments):3===arguments.length?Mg.apply(null,arguments):4===arguments.length?Tg.apply(null,arguments):5===arguments.length?hf.apply(null,arguments):void Xn("Invalid extension access syntax")};kc.prototype.extension=pf,b0.forEach(function(a){a.extensions.forEach(function(o){Mg(a.type,o.name,o.impl)})});var qh=function a(){if(!(this instanceof a))return new a;this.length=0},Yo=qh.prototype;Yo.instanceString=function(){return"stylesheet"},Yo.selector=function(a){return this[this.length++]={selector:a,properties:[]},this},Yo.css=function(a,o){var l=this.length-1;if(st(a))this[l].properties.push({name:a,value:o});else if(Mt(a))for(var c=a,f=Object.keys(c),h=0;h<f.length;h++){var g=f[h],y=c[g];if(null!=y){var _=$i.properties[g]||$i.properties[cl(g)];null!=_&&this[l].properties.push({name:_.name,value:y})}}return this},Yo.style=Yo.css,Yo.generateStyle=function(a){var o=new $i(a);return this.appendToStyle(o)},Yo.appendToStyle=function(a){for(var o=0;o<this.length;o++){var l=this[o],f=l.properties;a.selector(l.selector);for(var h=0;h<f.length;h++){var g=f[h];a.css(g.name,g.value)}}return a};var ba=function(o){return void 0===o&&(o={}),Mt(o)?new kc(o):st(o)?pf.apply(pf,arguments):void 0};ba.use=function(a){var o=Array.prototype.slice.call(arguments,1);return o.unshift(ba),a.apply(null,o),this},ba.warnings=function(a){return Pp(a)},ba.version="3.28.0",ba.stylesheet=ba.Stylesheet=qh,De.exports=ba},7444:(De,ot,le)=>{De.exports=le(7253)},7253:function(De,ot){var le,ce,V;(function(){var Fe,Pe,ze,Le,ct,St,Tt,kt,qn,vn,Fr,wr,Qn,Vn,yn;ze=Math.floor,vn=Math.min,Pe=function(Xe,dt){return Xe<dt?-1:Xe>dt?1:0},qn=function(Xe,dt,Et,Pt,$n){var zt;if(null==Et&&(Et=0),null==$n&&($n=Pe),Et<0)throw new Error("lo must be non-negative");for(null==Pt&&(Pt=Xe.length);Et<Pt;)$n(dt,Xe[zt=ze((Et+Pt)/2)])<0?Pt=zt:Et=zt+1;return[].splice.apply(Xe,[Et,Et-Et].concat(dt)),dt},St=function(Xe,dt,Et){return null==Et&&(Et=Pe),Xe.push(dt),Vn(Xe,0,Xe.length-1,Et)},ct=function(Xe,dt){var Et,Pt;return null==dt&&(dt=Pe),Et=Xe.pop(),Xe.length?(Pt=Xe[0],Xe[0]=Et,yn(Xe,0,dt)):Pt=Et,Pt},kt=function(Xe,dt,Et){var Pt;return null==Et&&(Et=Pe),Pt=Xe[0],Xe[0]=dt,yn(Xe,0,Et),Pt},Tt=function(Xe,dt,Et){var Pt;return null==Et&&(Et=Pe),Xe.length&&Et(Xe[0],dt)<0&&(dt=(Pt=[Xe[0],dt])[0],Xe[0]=Pt[1],yn(Xe,0,Et)),dt},Le=function(Xe,dt){var Pt,zt,pr,qi,$o;for(null==dt&&(dt=Pe),qi=[],Pt=0,zt=(pr=function(){$o=[];for(var Do=0,Hr=ze(Xe.length/2);0<=Hr?Do<Hr:Do>Hr;0<=Hr?Do++:Do--)$o.push(Do);return $o}.apply(this).reverse()).length;Pt<zt;Pt++)qi.push(yn(Xe,pr[Pt],dt));return qi},Qn=function(Xe,dt,Et){var Pt;if(null==Et&&(Et=Pe),-1!==(Pt=Xe.indexOf(dt)))return Vn(Xe,0,Pt,Et),yn(Xe,Pt,Et)},Fr=function(Xe,dt,Et){var $n,zt,Tn,pr;if(null==Et&&(Et=Pe),!($n=Xe.slice(0,dt)).length)return $n;for(Le($n,Et),zt=0,Tn=(pr=Xe.slice(dt)).length;zt<Tn;zt++)Tt($n,pr[zt],Et);return $n.sort(Et).reverse()},wr=function(Xe,dt,Et){var Pt,zt,Tn,pr,qi,$o,Do,Hr,st;if(null==Et&&(Et=Pe),10*dt<=Xe.length){if(!(Tn=Xe.slice(0,dt).sort(Et)).length)return Tn;for(zt=Tn[Tn.length-1],pr=0,$o=(Do=Xe.slice(dt)).length;pr<$o;pr++)Et(Pt=Do[pr],zt)<0&&(qn(Tn,Pt,0,null,Et),Tn.pop(),zt=Tn[Tn.length-1]);return Tn}for(Le(Xe,Et),st=[],qi=0,Hr=vn(dt,Xe.length);0<=Hr?qi<Hr:qi>Hr;0<=Hr?++qi:--qi)st.push(ct(Xe,Et));return st},Vn=function(Xe,dt,Et,Pt){var $n,zt,Tn;for(null==Pt&&(Pt=Pe),$n=Xe[Et];Et>dt&&Pt($n,zt=Xe[Tn=Et-1>>1])<0;)Xe[Et]=zt,Et=Tn;return Xe[Et]=$n},yn=function(Xe,dt,Et){var Pt,$n,zt,Tn,pr;for(null==Et&&(Et=Pe),$n=Xe.length,pr=dt,zt=Xe[dt],Pt=2*dt+1;Pt<$n;)(Tn=Pt+1)<$n&&!(Et(Xe[Pt],Xe[Tn])<0)&&(Pt=Tn),Xe[dt]=Xe[Pt],Pt=2*(dt=Pt)+1;return Xe[dt]=zt,Vn(Xe,pr,dt,Et)},Fe=function(){function Xe(dt){this.cmp=dt??Pe,this.nodes=[]}return Xe.push=St,Xe.pop=ct,Xe.replace=kt,Xe.pushpop=Tt,Xe.heapify=Le,Xe.updateItem=Qn,Xe.nlargest=Fr,Xe.nsmallest=wr,Xe.prototype.push=function(dt){return St(this.nodes,dt,this.cmp)},Xe.prototype.pop=function(){return ct(this.nodes,this.cmp)},Xe.prototype.peek=function(){return this.nodes[0]},Xe.prototype.contains=function(dt){return-1!==this.nodes.indexOf(dt)},Xe.prototype.replace=function(dt){return kt(this.nodes,dt,this.cmp)},Xe.prototype.pushpop=function(dt){return Tt(this.nodes,dt,this.cmp)},Xe.prototype.heapify=function(){return Le(this.nodes,this.cmp)},Xe.prototype.updateItem=function(dt){return Qn(this.nodes,dt,this.cmp)},Xe.prototype.clear=function(){return this.nodes=[]},Xe.prototype.empty=function(){return 0===this.nodes.length},Xe.prototype.size=function(){return this.nodes.length},Xe.prototype.clone=function(){var dt;return(dt=new Xe).nodes=this.nodes.slice(0),dt},Xe.prototype.toArray=function(){return this.nodes.slice(0)},Xe.prototype.insert=Xe.prototype.push,Xe.prototype.top=Xe.prototype.peek,Xe.prototype.front=Xe.prototype.peek,Xe.prototype.has=Xe.prototype.contains,Xe.prototype.copy=Xe.prototype.clone,Xe}(),ce=[],void 0===(V="function"==typeof(le=function(){return Fe})?le.apply(ot,ce):le)||(De.exports=V)}).call(this)},9618:(De,ot,le)=>{var ce=le(5602),V=le(1499),Fe=le(2990),Pe=le(480),ze=le(4469);function Le(ct){var St=-1,Tt=null==ct?0:ct.length;for(this.clear();++St<Tt;){var kt=ct[St];this.set(kt[0],kt[1])}}Le.prototype.clear=ce,Le.prototype.delete=V,Le.prototype.get=Fe,Le.prototype.has=Pe,Le.prototype.set=ze,De.exports=Le},3597:(De,ot,le)=>{var ce=le(9365),V=le(9343),Fe=le(4779),Pe=le(1509),ze=le(7137);function Le(ct){var St=-1,Tt=null==ct?0:ct.length;for(this.clear();++St<Tt;){var kt=ct[St];this.set(kt[0],kt[1])}}Le.prototype.clear=ce,Le.prototype.delete=V,Le.prototype.get=Fe,Le.prototype.has=Pe,Le.prototype.set=ze,De.exports=Le},1136:(De,ot,le)=>{var Fe=le(8745)(le(8492),"Map");De.exports=Fe},1811:(De,ot,le)=>{var ce=le(3413),V=le(5419),Fe=le(7336),Pe=le(1115),ze=le(6648);function Le(ct){var St=-1,Tt=null==ct?0:ct.length;for(this.clear();++St<Tt;){var kt=ct[St];this.set(kt[0],kt[1])}}Le.prototype.clear=ce,Le.prototype.delete=V,Le.prototype.get=Fe,Le.prototype.has=Pe,Le.prototype.set=ze,De.exports=Le},1763:(De,ot,le)=>{var ce=le(8492);De.exports=ce.Symbol},3880:De=>{De.exports=function ot(le,ce){for(var V=-1,Fe=null==le?0:le.length,Pe=Array(Fe);++V<Fe;)Pe[V]=ce(le[V],V,le);return Pe}},9553:(De,ot,le)=>{var ce=le(1741),V=le(7826),Pe=Object.prototype.hasOwnProperty;De.exports=function ze(Le,ct,St){var Tt=Le[ct];(!Pe.call(Le,ct)||!V(Tt,St)||void 0===St&&!(ct in Le))&&ce(Le,ct,St)}},4056:(De,ot,le)=>{var ce=le(7826);De.exports=function V(Fe,Pe){for(var ze=Fe.length;ze--;)if(ce(Fe[ze][0],Pe))return ze;return-1}},1741:(De,ot,le)=>{var ce=le(9383);De.exports=function V(Fe,Pe,ze){"__proto__"==Pe&&ce?ce(Fe,Pe,{configurable:!0,enumerable:!0,value:ze,writable:!0}):Fe[Pe]=ze}},2202:(De,ot,le)=>{var ce=le(4826),V=le(8916);De.exports=function Fe(Pe,ze){for(var Le=0,ct=(ze=ce(ze,Pe)).length;null!=Pe&&Le<ct;)Pe=Pe[V(ze[Le++])];return Le&&Le==ct?Pe:void 0}},4590:(De,ot,le)=>{var ce=le(1763),V=le(5933),Fe=le(9243),Le=ce?ce.toStringTag:void 0;De.exports=function ct(St){return null==St?void 0===St?"[object Undefined]":"[object Null]":Le&&Le in Object(St)?V(St):Fe(St)}},1082:(De,ot,le)=>{var ce=le(6861),V=le(9950),Fe=le(9794),Pe=le(7075),Le=/^\[object .+?Constructor\]$/,qn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");De.exports=function vn(Fr){return!(!Fe(Fr)||V(Fr))&&(ce(Fr)?qn:Le).test(Pe(Fr))}},9478:(De,ot,le)=>{var ce=le(9553),V=le(4826),Fe=le(5188),Pe=le(9794),ze=le(8916);De.exports=function Le(ct,St,Tt,kt){if(!Pe(ct))return ct;for(var qn=-1,vn=(St=V(St,ct)).length,Fr=vn-1,wr=ct;null!=wr&&++qn<vn;){var Qn=ze(St[qn]),Vn=Tt;if("__proto__"===Qn||"constructor"===Qn||"prototype"===Qn)return ct;if(qn!=Fr){var yn=wr[Qn];void 0===(Vn=kt?kt(yn,Qn,wr):void 0)&&(Vn=Pe(yn)?yn:Fe(St[qn+1])?[]:{})}ce(wr,Qn,Vn),wr=wr[Qn]}return ct}},7002:(De,ot,le)=>{var ce=le(1763),V=le(3880),Fe=le(2261),Pe=le(3423),Le=ce?ce.prototype:void 0,ct=Le?Le.toString:void 0;De.exports=function St(Tt){if("string"==typeof Tt)return Tt;if(Fe(Tt))return V(Tt,St)+"";if(Pe(Tt))return ct?ct.call(Tt):"";var kt=Tt+"";return"0"==kt&&1/Tt==-1/0?"-0":kt}},9484:(De,ot,le)=>{var ce=le(1781),V=/^\s+/;De.exports=function Fe(Pe){return Pe&&Pe.slice(0,ce(Pe)+1).replace(V,"")}},4826:(De,ot,le)=>{var ce=le(2261),V=le(6300),Fe=le(163),Pe=le(2674);De.exports=function ze(Le,ct){return ce(Le)?Le:V(Le,ct)?[Le]:Fe(Pe(Le))}},4231:De=>{De.exports=function ot(le,ce){var V=-1,Fe=le.length;for(ce||(ce=Array(Fe));++V<Fe;)ce[V]=le[V];return ce}},6189:(De,ot,le)=>{var ce=le(8492);De.exports=ce["__core-js_shared__"]},9383:(De,ot,le)=>{var ce=le(8745),V=function(){try{var Fe=ce(Object,"defineProperty");return Fe({},"",{}),Fe}catch{}}();De.exports=V},248:De=>{var ot="object"==typeof global&&global&&global.Object===Object&&global;De.exports=ot},4113:(De,ot,le)=>{var ce=le(29);De.exports=function V(Fe,Pe){var ze=Fe.__data__;return ce(Pe)?ze["string"==typeof Pe?"string":"hash"]:ze.map}},8745:(De,ot,le)=>{var ce=le(1082),V=le(1015);De.exports=function Fe(Pe,ze){var Le=V(Pe,ze);return ce(Le)?Le:void 0}},5933:(De,ot,le)=>{var ce=le(1763),V=Object.prototype,Fe=V.hasOwnProperty,Pe=V.toString,ze=ce?ce.toStringTag:void 0;De.exports=function Le(ct){var St=Fe.call(ct,ze),Tt=ct[ze];try{ct[ze]=void 0;var kt=!0}catch{}var qn=Pe.call(ct);return kt&&(St?ct[ze]=Tt:delete ct[ze]),qn}},1015:De=>{De.exports=function ot(le,ce){return le?.[ce]}},5602:(De,ot,le)=>{var ce=le(893);De.exports=function V(){this.__data__=ce?ce(null):{},this.size=0}},1499:De=>{De.exports=function ot(le){var ce=this.has(le)&&delete this.__data__[le];return this.size-=ce?1:0,ce}},2990:(De,ot,le)=>{var ce=le(893),Pe=Object.prototype.hasOwnProperty;De.exports=function ze(Le){var ct=this.__data__;if(ce){var St=ct[Le];return"__lodash_hash_undefined__"===St?void 0:St}return Pe.call(ct,Le)?ct[Le]:void 0}},480:(De,ot,le)=>{var ce=le(893),Fe=Object.prototype.hasOwnProperty;De.exports=function Pe(ze){var Le=this.__data__;return ce?void 0!==Le[ze]:Fe.call(Le,ze)}},4469:(De,ot,le)=>{var ce=le(893);De.exports=function Fe(Pe,ze){var Le=this.__data__;return this.size+=this.has(Pe)?0:1,Le[Pe]=ce&&void 0===ze?"__lodash_hash_undefined__":ze,this}},5188:De=>{var le=/^(?:0|[1-9]\d*)$/;De.exports=function ce(V,Fe){var Pe=typeof V;return!!(Fe=Fe??9007199254740991)&&("number"==Pe||"symbol"!=Pe&&le.test(V))&&V>-1&&V%1==0&&V<Fe}},6300:(De,ot,le)=>{var ce=le(2261),V=le(3423),Fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/;De.exports=function ze(Le,ct){if(ce(Le))return!1;var St=typeof Le;return!("number"!=St&&"symbol"!=St&&"boolean"!=St&&null!=Le&&!V(Le))||Pe.test(Le)||!Fe.test(Le)||null!=ct&&Le in Object(ct)}},29:De=>{De.exports=function ot(le){var ce=typeof le;return"string"==ce||"number"==ce||"symbol"==ce||"boolean"==ce?"__proto__"!==le:null===le}},9950:(De,ot,le)=>{var Pe,ce=le(6189),V=(Pe=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+Pe:"";De.exports=function Fe(Pe){return!!V&&V in Pe}},9365:De=>{De.exports=function ot(){this.__data__=[],this.size=0}},9343:(De,ot,le)=>{var ce=le(4056),Fe=Array.prototype.splice;De.exports=function Pe(ze){var Le=this.__data__,ct=ce(Le,ze);return!(ct<0||(ct==Le.length-1?Le.pop():Fe.call(Le,ct,1),--this.size,0))}},4779:(De,ot,le)=>{var ce=le(4056);De.exports=function V(Fe){var Pe=this.__data__,ze=ce(Pe,Fe);return ze<0?void 0:Pe[ze][1]}},1509:(De,ot,le)=>{var ce=le(4056);De.exports=function V(Fe){return ce(this.__data__,Fe)>-1}},7137:(De,ot,le)=>{var ce=le(4056);De.exports=function V(Fe,Pe){var ze=this.__data__,Le=ce(ze,Fe);return Le<0?(++this.size,ze.push([Fe,Pe])):ze[Le][1]=Pe,this}},3413:(De,ot,le)=>{var ce=le(9618),V=le(3597),Fe=le(1136);De.exports=function Pe(){this.size=0,this.__data__={hash:new ce,map:new(Fe||V),string:new ce}}},5419:(De,ot,le)=>{var ce=le(4113);De.exports=function V(Fe){var Pe=ce(this,Fe).delete(Fe);return this.size-=Pe?1:0,Pe}},7336:(De,ot,le)=>{var ce=le(4113);De.exports=function V(Fe){return ce(this,Fe).get(Fe)}},1115:(De,ot,le)=>{var ce=le(4113);De.exports=function V(Fe){return ce(this,Fe).has(Fe)}},6648:(De,ot,le)=>{var ce=le(4113);De.exports=function V(Fe,Pe){var ze=ce(this,Fe),Le=ze.size;return ze.set(Fe,Pe),this.size+=ze.size==Le?0:1,this}},7371:(De,ot,le)=>{var ce=le(7659);De.exports=function Fe(Pe){var ze=ce(Pe,function(ct){return 500===Le.size&&Le.clear(),ct}),Le=ze.cache;return ze}},893:(De,ot,le)=>{var V=le(8745)(Object,"create");De.exports=V},9243:De=>{var le=Object.prototype.toString;De.exports=function ce(V){return le.call(V)}},8492:(De,ot,le)=>{var ce=le(248),V="object"==typeof self&&self&&self.Object===Object&&self,Fe=ce||V||Function("return this")();De.exports=Fe},163:(De,ot,le)=>{var ce=le(7371),V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/\\(\\)?/g,Pe=ce(function(ze){var Le=[];return 46===ze.charCodeAt(0)&&Le.push(""),ze.replace(V,function(ct,St,Tt,kt){Le.push(Tt?kt.replace(Fe,"$1"):St||ct)}),Le});De.exports=Pe},8916:(De,ot,le)=>{var ce=le(3423);De.exports=function Fe(Pe){if("string"==typeof Pe||ce(Pe))return Pe;var ze=Pe+"";return"0"==ze&&1/Pe==-1/0?"-0":ze}},7075:De=>{var le=Function.prototype.toString;De.exports=function ce(V){if(null!=V){try{return le.call(V)}catch{}try{return V+""}catch{}}return""}},1781:De=>{var ot=/\s/;De.exports=function le(ce){for(var V=ce.length;V--&&ot.test(ce.charAt(V)););return V}},4430:(De,ot,le)=>{var ce=le(9794),V=le(5533),Fe=le(4282),ze=Math.max,Le=Math.min;De.exports=function ct(St,Tt,kt){var qn,vn,Fr,wr,Qn,Vn,yn=0,Xe=!1,dt=!1,Et=!0;if("function"!=typeof St)throw new TypeError("Expected a function");function Pt(st){var Wn=qn,Fn=vn;return qn=vn=void 0,yn=st,wr=St.apply(Fn,Wn)}function Tn(st){var Wn=st-Vn;return void 0===Vn||Wn>=Tt||Wn<0||dt&&st-yn>=Fr}function pr(){var st=V();if(Tn(st))return qi(st);Qn=setTimeout(pr,function zt(st){var Mt=Tt-(st-Vn);return dt?Le(Mt,Fr-(st-yn)):Mt}(st))}function qi(st){return Qn=void 0,Et&&qn?Pt(st):(qn=vn=void 0,wr)}function Hr(){var st=V(),Wn=Tn(st);if(qn=arguments,vn=this,Vn=st,Wn){if(void 0===Qn)return function $n(st){return yn=st,Qn=setTimeout(pr,Tt),Xe?Pt(st):wr}(Vn);if(dt)return clearTimeout(Qn),Qn=setTimeout(pr,Tt),Pt(Vn)}return void 0===Qn&&(Qn=setTimeout(pr,Tt)),wr}return Tt=Fe(Tt)||0,ce(kt)&&(Xe=!!kt.leading,Fr=(dt="maxWait"in kt)?ze(Fe(kt.maxWait)||0,Tt):Fr,Et="trailing"in kt?!!kt.trailing:Et),Hr.cancel=function $o(){void 0!==Qn&&clearTimeout(Qn),yn=0,qn=Vn=vn=Qn=void 0},Hr.flush=function Do(){return void 0===Qn?wr:qi(V())},Hr}},7826:De=>{De.exports=function ot(le,ce){return le===ce||le!=le&&ce!=ce}},5440:(De,ot,le)=>{var ce=le(2202);De.exports=function V(Fe,Pe,ze){var Le=null==Fe?void 0:ce(Fe,Pe);return void 0===Le?ze:Le}},2261:De=>{De.exports=Array.isArray},6861:(De,ot,le)=>{var ce=le(4590),V=le(9794);De.exports=function ct(St){if(!V(St))return!1;var Tt=ce(St);return"[object Function]"==Tt||"[object GeneratorFunction]"==Tt||"[object AsyncFunction]"==Tt||"[object Proxy]"==Tt}},9794:De=>{De.exports=function ot(le){var ce=typeof le;return null!=le&&("object"==ce||"function"==ce)}},3714:De=>{De.exports=function ot(le){return null!=le&&"object"==typeof le}},3423:(De,ot,le)=>{var ce=le(4590),V=le(3714);De.exports=function Pe(ze){return"symbol"==typeof ze||V(ze)&&"[object Symbol]"==ce(ze)}},6990:function(De,ot,le){var ce;De=le.nmd(De),function(){var V,Le="Expected a function",St="__lodash_hash_undefined__",kt="__lodash_placeholder__",Mt=1/0,Zs=9007199254740991,Co=4294967295,Vf=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],lr="[object Arguments]",gr="[object Array]",nn="[object Boolean]",ul="[object Date]",nu="[object Error]",ad="[object Function]",ru="[object GeneratorFunction]",xo="[object Map]",cl="[object Number]",Ys="[object Object]",ri="[object Promise]",iu="[object RegExp]",ts="[object Set]",dl="[object String]",ld="[object Symbol]",fl="[object WeakMap]",Lt="[object ArrayBuffer]",ou="[object DataView]",Ds="[object Float32Array]",ud="[object Float64Array]",zf="[object Int8Array]",cd="[object Int16Array]",Hf="[object Int32Array]",dd="[object Uint8Array]",fd="[object Uint8ClampedArray]",Xu="[object Uint16Array]",hd="[object Uint32Array]",Bm=/\b__p \+= '';/g,pd=/\b(__p \+=) '' \+/g,Qs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hl=/&(?:amp|lt|gt|quot|#39);/g,Uf=/[&<>"']/g,gd=RegExp(hl.source),md=RegExp(Uf.source),su=/<%-([\s\S]+?)%>/g,au=/<%([\s\S]+?)%>/g,jf=/<%=([\s\S]+?)%>/g,Xs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vd=/^\w*$/,Ap=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cs=/[\\^$.*+?()[\]{}|]/g,Gf=RegExp(Cs.source),yd=/^\s+/,Fi=/\s/,Vm=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$m=/\{\n\/\* \[wrapped with (.+)\] \*/,qf=/,? & /,Rp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ju=/[()=,{}\[\]\/\s]/,kp=/\\(\\)?/g,Wf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xn=/\w*$/,Pp=/^[-+]0x[0-9a-f]+$/i,Jt=/^0b[01]+$/i,lu=/^\[object .+?Constructor\]$/,ii=/^0o[0-7]+$/i,Zy=/^(?:0|[1-9]\d*)$/,Op=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ec=/($^)/,bd=/['\n\r\u2028\u2029\\]/g,Wr="\\ud800-\\udfff",So="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Js="\\u2700-\\u27bf",Fp="a-z\\xdf-\\xf6\\xf8-\\xff",tc="A-Z\\xc0-\\xd6\\xd8-\\xde",Kr="\\ufe0e\\ufe0f",ea="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jt="["+Wr+"]",Zf="["+ea+"]",cu="["+So+"]",lo="\\d+",Bp="["+Js+"]",Vp="["+Fp+"]",tr="[^"+Wr+ea+lo+Js+Fp+tc+"]",du="\\ud83c[\\udffb-\\udfff]",_d="[^"+Wr+"]",nc="(?:\\ud83c[\\udde6-\\uddff]){2}",nr="[\\ud800-\\udbff][\\udc00-\\udfff]",Gt="["+tc+"]",rc="(?:"+Vp+"|"+tr+")",ic="(?:"+Gt+"|"+tr+")",Yf="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Te="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",oc="(?:"+cu+"|"+du+")?",rn="["+Kr+"]?",Qf=rn+oc+"(?:\\u200d(?:"+[_d,nc,nr].join("|")+")"+rn+oc+")*",ta="(?:"+[Bp,nc,nr].join("|")+")"+Qf,si="(?:"+[_d+cu+"?",cu,nc,nr,jt].join("|")+")",Yy=RegExp("['\u2019]","g"),gi=RegExp(cu,"g"),gl=RegExp(du+"(?="+du+")|"+si+Qf,"g"),ml=RegExp([Gt+"?"+Vp+"+"+Yf+"(?="+[Zf,Gt,"$"].join("|")+")",ic+"+"+Te+"(?="+[Zf,Gt+rc,"$"].join("|")+")",Gt+"?"+rc+"+"+Yf,Gt+"+"+Te,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lo,ta].join("|"),"g"),Ed=RegExp("[\\u200d"+Wr+So+Kr+"]"),Mo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xy=-1,Sr={};Sr[Ds]=Sr[ud]=Sr[zf]=Sr[cd]=Sr[Hf]=Sr[dd]=Sr[fd]=Sr[Xu]=Sr[hd]=!0,Sr[lr]=Sr[gr]=Sr[Lt]=Sr[nn]=Sr[ou]=Sr[ul]=Sr[nu]=Sr[ad]=Sr[xo]=Sr[cl]=Sr[Ys]=Sr[iu]=Sr[ts]=Sr[dl]=Sr[fl]=!1;var Er={};Er[lr]=Er[gr]=Er[Lt]=Er[ou]=Er[nn]=Er[ul]=Er[Ds]=Er[ud]=Er[zf]=Er[cd]=Er[Hf]=Er[xo]=Er[cl]=Er[Ys]=Er[iu]=Er[ts]=Er[dl]=Er[ld]=Er[dd]=Er[fd]=Er[Xu]=Er[hd]=!0,Er[nu]=Er[ad]=Er[fl]=!1;var Zt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zp=parseFloat,sc=parseInt,Um="object"==typeof global&&global&&global.Object===Object&&global,Ct="object"==typeof self&&self&&self.Object===Object&&self,wi=Um||Ct||Function("return this")(),Xr=ot&&!ot.nodeType&&ot,Pa=Xr&&De&&!De.nodeType&&De,Hp=Pa&&Pa.exports===Xr,Dd=Hp&&Um.process,Ho=function(){try{return Pa&&Pa.require&&Pa.require("util").types||Dd&&Dd.binding&&Dd.binding("util")}catch{}}(),ac=Ho&&Ho.isArrayBuffer,mi=Ho&&Ho.isDate,Uo=Ho&&Ho.isMap,Jf=Ho&&Ho.isRegExp,lc=Ho&&Ho.isSet,pn=Ho&&Ho.isTypedArray;function Zi(ue,Ve,Ce){switch(Ce.length){case 0:return ue.call(Ve);case 1:return ue.call(Ve,Ce[0]);case 2:return ue.call(Ve,Ce[0],Ce[1]);case 3:return ue.call(Ve,Ce[0],Ce[1],Ce[2])}return ue.apply(Ve,Ce)}function Oa(ue,Ve,Ce,gt){for(var sn=-1,Kn=null==ue?0:ue.length;++sn<Kn;){var ai=ue[sn];Ve(gt,ai,Ce(ai),ue)}return gt}function or(ue,Ve){for(var Ce=-1,gt=null==ue?0:ue.length;++Ce<gt&&!1!==Ve(ue[Ce],Ce,ue););return ue}function Cd(ue,Ve){for(var Ce=null==ue?0:ue.length;Ce--&&!1!==Ve(ue[Ce],Ce,ue););return ue}function Na(ue,Ve){for(var Ce=-1,gt=null==ue?0:ue.length;++Ce<gt;)if(!Ve(ue[Ce],Ce,ue))return!1;return!0}function In(ue,Ve){for(var Ce=-1,gt=null==ue?0:ue.length,sn=0,Kn=[];++Ce<gt;){var ai=ue[Ce];Ve(ai,Ce,ue)&&(Kn[sn++]=ai)}return Kn}function eh(ue,Ve){return!(null==ue||!ue.length)&&hu(ue,Ve,0)>-1}function uc(ue,Ve,Ce){for(var gt=-1,sn=null==ue?0:ue.length;++gt<sn;)if(Ce(Ve,ue[gt]))return!0;return!1}function bn(ue,Ve){for(var Ce=-1,gt=null==ue?0:ue.length,sn=Array(gt);++Ce<gt;)sn[Ce]=Ve(ue[Ce],Ce,ue);return sn}function ns(ue,Ve){for(var Ce=-1,gt=Ve.length,sn=ue.length;++Ce<gt;)ue[sn+Ce]=Ve[Ce];return ue}function fu(ue,Ve,Ce,gt){var sn=-1,Kn=null==ue?0:ue.length;for(gt&&Kn&&(Ce=ue[++sn]);++sn<Kn;)Ce=Ve(Ce,ue[sn],sn,ue);return Ce}function vl(ue,Ve,Ce,gt){var sn=null==ue?0:ue.length;for(gt&&sn&&(Ce=ue[--sn]);sn--;)Ce=Ve(Ce,ue[sn],sn,ue);return Ce}function cc(ue,Ve){for(var Ce=-1,gt=null==ue?0:ue.length;++Ce<gt;)if(Ve(ue[Ce],Ce,ue))return!0;return!1}var xd=nh("length");function jm(ue,Ve,Ce){var gt;return Ce(ue,function(sn,Kn,ai){if(Ve(sn,Kn,ai))return gt=Kn,!1}),gt}function th(ue,Ve,Ce,gt){for(var sn=ue.length,Kn=Ce+(gt?1:-1);gt?Kn--:++Kn<sn;)if(Ve(ue[Kn],Kn,ue))return Kn;return-1}function hu(ue,Ve,Ce){return Ve==Ve?function rs(ue,Ve,Ce){for(var gt=Ce-1,sn=ue.length;++gt<sn;)if(ue[gt]===Ve)return gt;return-1}(ue,Ve,Ce):th(ue,dc,Ce)}function Ss(ue,Ve,Ce,gt){for(var sn=Ce-1,Kn=ue.length;++sn<Kn;)if(gt(ue[sn],Ve))return sn;return-1}function dc(ue){return ue!=ue}function Ms(ue,Ve){var Ce=null==ue?0:ue.length;return Ce?Fa(ue,Ve)/Ce:NaN}function nh(ue){return function(Ve){return null==Ve?V:Ve[ue]}}function fc(ue){return function(Ve){return null==ue?V:ue[Ve]}}function jp(ue,Ve,Ce,gt,sn){return sn(ue,function(Kn,ai,mr){Ce=gt?(gt=!1,Kn):Ve(Ce,Kn,ai,mr)}),Ce}function Fa(ue,Ve){for(var Ce,gt=-1,sn=ue.length;++gt<sn;){var Kn=Ve(ue[gt]);Kn!==V&&(Ce=Ce===V?Kn:Ce+Kn)}return Ce}function rh(ue,Ve){for(var Ce=-1,gt=Array(ue);++Ce<ue;)gt[Ce]=Ve(Ce);return gt}function qp(ue){return ue&&ue.slice(0,gc(ue)+1).replace(yd,"")}function Ze(ue){return function(Ve){return ue(Ve)}}function Sd(ue,Ve){return bn(Ve,function(Ce){return ue[Ce]})}function at(ue,Ve){return ue.has(Ve)}function hc(ue,Ve){for(var Ce=-1,gt=ue.length;++Ce<gt&&hu(Ve,ue[Ce],0)>-1;);return Ce}function Md(ue,Ve){for(var Ce=ue.length;Ce--&&hu(Ve,ue[Ce],0)>-1;);return Ce}var Wp=fc({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Gm=fc({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function qm(ue){return"\\"+Zt[ue]}function Is(ue){return Ed.test(ue)}function Ln(ue){var Ve=-1,Ce=Array(ue.size);return ue.forEach(function(gt,sn){Ce[++Ve]=[sn,gt]}),Ce}function ra(ue,Ve){return function(Ce){return ue(Ve(Ce))}}function Yi(ue,Ve){for(var Ce=-1,gt=ue.length,sn=0,Kn=[];++Ce<gt;){var ai=ue[Ce];(ai===Ve||ai===kt)&&(ue[Ce]=kt,Kn[sn++]=Ce)}return Kn}function ia(ue){var Ve=-1,Ce=Array(ue.size);return ue.forEach(function(gt){Ce[++Ve]=gt}),Ce}function oa(ue){return Is(ue)?function Yp(ue){for(var Ve=gl.lastIndex=0;gl.test(ue);)++Ve;return Ve}(ue):xd(ue)}function Io(ue){return Is(ue)?function mc(ue){return ue.match(gl)||[]}(ue):function Jy(ue){return ue.split("")}(ue)}function gc(ue){for(var Ve=ue.length;Ve--&&Fi.test(ue.charAt(Ve)););return Ve}var Zp=fc({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Td=function ue(Ve){var d,Ce=(Ve=null==Ve?wi:Td.defaults(wi.Object(),Ve,Td.pick(wi,Qy))).Array,gt=Ve.Date,sn=Ve.Error,Kn=Ve.Function,ai=Ve.Math,mr=Ve.Object,sh=Ve.RegExp,Qp=Ve.String,Li=Ve.TypeError,Id=Ce.prototype,yl=mr.prototype,sa=Ve["__core-js_shared__"],Ad=Kn.prototype.toString,sr=yl.hasOwnProperty,Km=0,li=(d=/[^.]+$/.exec(sa&&sa.keys&&sa.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",Rd=yl.toString,ah=Ad.call(mr),Ft=wi._,Qi=sh("^"+Ad.call(sr).replace(Cs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),An=Hp?Ve.Buffer:V,Rr=Ve.Symbol,vi=Ve.Uint8Array,Rs=An?An.allocUnsafe:V,Bi=ra(mr.getPrototypeOf,mr),pu=mr.create,lh=yl.propertyIsEnumerable,Ba=Id.splice,uh=Rr?Rr.isConcatSpreadable:V,gu=Rr?Rr.iterator:V,ar=Rr?Rr.toStringTag:V,lt=function(){try{var d=cs(mr,"defineProperty");return d({},"",{}),d}catch{}}(),un=Ve.clearTimeout!==wi.clearTimeout&&Ve.clearTimeout,Mr=gt&&gt.now!==wi.Date.now&&gt.now,jo=Ve.setTimeout!==wi.setTimeout&&Ve.setTimeout,aa=ai.ceil,ui=ai.floor,Ao=mr.getOwnPropertySymbols,Lr=An?An.isBuffer:V,Xi=Ve.isFinite,mu=Id.join,an=ra(mr.keys,mr),Br=ai.max,on=ai.min,vu=gt.now,kr=Ve.parseInt,En=ai.random,zn=Id.reverse,mt=cs(Ve,"DataView"),is=cs(Ve,"Map"),kd=cs(Ve,"Promise"),Ro=cs(Ve,"Set"),ko=cs(Ve,"WeakMap"),uo=cs(mr,"create"),Ji=ko&&new ko,cn={},e0=Xa(mt),ch=Xa(is),Xp=Xa(kd),ks=Xa(Ro),Pd=Xa(ko),Ps=Rr?Rr.prototype:V,la=Ps?Ps.valueOf:V,yi=Ps?Ps.toString:V;function H(d){if(Ee(d)&&!Be(d)&&!(d instanceof fn)){if(d instanceof Dn)return d;if(sr.call(d,"__wrapped__"))return Ol(d)}return new Dn(d)}var ci=function(){function d(){}return function(v){if(!pt(v))return{};if(pu)return pu(v);d.prototype=v;var D=new d;return d.prototype=V,D}}();function wn(){}function Dn(d,v){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=V}function fn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Co,this.__views__=[]}function co(d){var v=-1,D=null==d?0:d.length;for(this.clear();++v<D;){var R=d[v];this.set(R[0],R[1])}}function ua(d){var v=-1,D=null==d?0:d.length;for(this.clear();++v<D;){var R=d[v];this.set(R[0],R[1])}}function Ns(d){var v=-1,D=null==d?0:d.length;for(this.clear();++v<D;){var R=d[v];this.set(R[0],R[1])}}function $a(d){var v=-1,D=null==d?0:d.length;for(this.__data__=new Ns;++v<D;)this.add(d[v])}function Zr(d){var v=this.__data__=new ua(d);this.size=v.size}function bc(d,v){var D=Be(d),R=!D&&Ht(d),B=!D&&!R&&Rt(d),q=!D&&!R&&!B&&yo(d),ne=D||R||B||q,ae=ne?rh(d.length,Qp):[],fe=ae.length;for(var We in d)(v||sr.call(d,We))&&(!ne||!("length"==We||B&&("offset"==We||"parent"==We)||q&&("buffer"==We||"byteLength"==We||"byteOffset"==We)||$s(We,fe)))&&ae.push(We);return ae}function Po(d){var v=d.length;return v?d[Tc(0,v-1)]:V}function gh(d,v){return Ko(zi(d),za(v,0,d.length))}function mh(d){return Ko(zi(d))}function _c(d,v,D){(D!==V&&!je(d[v],D)||D===V&&!(v in d))&&ho(d,v,D)}function Ls(d,v,D){var R=d[v];(!sr.call(d,v)||!je(R,D)||D===V&&!(v in d))&&ho(d,v,D)}function _l(d,v){for(var D=d.length;D--;)if(je(d[D][0],v))return D;return-1}function vh(d,v,D,R){return Dl(d,function(B,q,ne){v(R,B,D(B),ne)}),R}function Ld(d,v){return d&&xi(v,Hi(v),d)}function ho(d,v,D){"__proto__"==v&&lt?lt(d,v,{configurable:!0,enumerable:!0,value:D,writable:!0}):d[v]=D}function wc(d,v){for(var D=-1,R=v.length,B=Ce(R),q=null==d;++D<R;)B[D]=q?V:Qo(d,v[D]);return B}function za(d,v,D){return d==d&&(D!==V&&(d=d<=D?d:D),v!==V&&(d=d>=v?d:v)),d}function eo(d,v,D,R,B,q){var ne,ae=1&v,fe=2&v,We=4&v;if(D&&(ne=B?D(d,R,B,q):D(d)),ne!==V)return ne;if(!pt(d))return d;var Ke=Be(d);if(Ke){if(ne=function Jd(d){var v=d.length,D=new d.constructor(v);return v&&"string"==typeof d[0]&&sr.call(d,"index")&&(D.index=d.index,D.input=d.input),D}(d),!ae)return zi(d,ne)}else{var Je=ni(d),yt=Je==ad||Je==ru;if(Rt(d))return ti(d,ae);if(Je==Ys||Je==lr||yt&&!B){if(ne=fe||yt?{}:xr(d),!ae)return fe?function kc(d,v){return xi(d,Nc(d),v)}(d,function wl(d,v){return d&&xi(v,bo(v),d)}(ne,d)):function Il(d,v){return xi(d,Al(d),v)}(d,Ld(ne,d))}else{if(!Er[Je])return B?d:{};ne=function hg(d,v,D){var R=d.constructor;switch(v){case Lt:return Fo(d);case nn:case ul:return new R(+d);case ou:return function ls(d,v){var D=v?Fo(d.buffer):d.buffer;return new d.constructor(D,d.byteOffset,d.byteLength)}(d,D);case Ds:case ud:case zf:case cd:case Hf:case dd:case fd:case Xu:case hd:return bi(d,D);case xo:return new R;case cl:case dl:return new R(d);case iu:return function ha(d){var v=new d.constructor(d.source,Xn.exec(d));return v.lastIndex=d.lastIndex,v}(d);case ts:return new R;case ld:return function us(d){return la?mr(la.call(d)):{}}(d)}}(d,Je,ae)}}q||(q=new Zr);var Nt=q.get(d);if(Nt)return Nt;q.set(d,ne),pi(d)?d.forEach(function(Xt){ne.add(eo(Xt,v,D,Xt,d,q))}):It(d)&&d.forEach(function(Xt,xn){ne.set(xn,eo(Xt,v,D,xn,d,q))});var Rn=Ke?V:(We?fe?ku:cg:fe?bo:Hi)(d);return or(Rn||d,function(Xt,xn){Rn&&(Xt=d[xn=Xt]),Ls(ne,xn,eo(Xt,v,D,xn,d,q))}),ne}function El(d,v,D){var R=D.length;if(null==d)return!R;for(d=mr(d);R--;){var B=D[R],ne=d[B];if(ne===V&&!(B in d)||!(0,v[B])(ne))return!1}return!0}function yh(d,v,D){if("function"!=typeof d)throw new Li(Le);return va(function(){d.apply(V,D)},v)}function Bd(d,v,D,R){var B=-1,q=eh,ne=!0,ae=d.length,fe=[],We=v.length;if(!ae)return fe;D&&(v=bn(v,Ze(D))),R?(q=uc,ne=!1):v.length>=200&&(q=at,ne=!1,v=new $a(v));e:for(;++B<ae;){var Ke=d[B],Je=null==D?Ke:D(Ke);if(Ke=R||0!==Ke?Ke:0,ne&&Je==Je){for(var yt=We;yt--;)if(v[yt]===Je)continue e;fe.push(Ke)}else q(v,Je,R)||fe.push(Ke)}return fe}H.templateSettings={escape:su,evaluate:au,interpolate:jf,variable:"",imports:{_:H}},(H.prototype=wn.prototype).constructor=H,(Dn.prototype=ci(wn.prototype)).constructor=Dn,(fn.prototype=ci(wn.prototype)).constructor=fn,co.prototype.clear=function Va(){this.__data__=uo?uo(null):{},this.size=0},co.prototype.delete=function ss(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v},co.prototype.get=function yu(d){var v=this.__data__;if(uo){var D=v[d];return D===St?V:D}return sr.call(v,d)?v[d]:V},co.prototype.has=function dh(d){var v=this.__data__;return uo?v[d]!==V:sr.call(v,d)},co.prototype.set=function Zm(d,v){var D=this.__data__;return this.size+=this.has(d)?0:1,D[d]=uo&&v===V?St:v,this},ua.prototype.clear=function t0(){this.__data__=[],this.size=0},ua.prototype.delete=function Nd(d){var v=this.__data__,D=_l(v,d);return!(D<0||(D==v.length-1?v.pop():Ba.call(v,D,1),--this.size,0))},ua.prototype.get=function Ym(d){var v=this.__data__,D=_l(v,d);return D<0?V:v[D][1]},ua.prototype.has=function n0(d){return _l(this.__data__,d)>-1},ua.prototype.set=function fh(d,v){var D=this.__data__,R=_l(D,d);return R<0?(++this.size,D.push([d,v])):D[R][1]=v,this},Ns.prototype.clear=function vc(){this.size=0,this.__data__={hash:new co,map:new(is||ua),string:new co}},Ns.prototype.delete=function Fs(d){var v=Ph(this,d).delete(d);return this.size-=v?1:0,v},Ns.prototype.get=function Qm(d){return Ph(this,d).get(d)},Ns.prototype.has=function Xm(d){return Ph(this,d).has(d)},Ns.prototype.set=function hh(d,v){var D=Ph(this,d),R=D.size;return D.set(d,v),this.size+=D.size==R?0:1,this},$a.prototype.add=$a.prototype.push=function yc(d){return this.__data__.set(d,St),this},$a.prototype.has=function bl(d){return this.__data__.has(d)},Zr.prototype.clear=function Ei(){this.__data__=new ua,this.size=0},Zr.prototype.delete=function fo(d){var v=this.__data__,D=v.delete(d);return this.size=v.size,D},Zr.prototype.get=function Fd(d){return this.__data__.get(d)},Zr.prototype.has=function ph(d){return this.__data__.has(d)},Zr.prototype.set=function di(d,v){var D=this.__data__;if(D instanceof ua){var R=D.__data__;if(!is||R.length<199)return R.push([d,v]),this.size=++D.size,this;D=this.__data__=new Ns(R)}return D.set(d,v),this.size=D.size,this};var Dl=Th(Go),Jm=Th(_h,!0);function ev(d,v){var D=!0;return Dl(d,function(R,B,q){return D=!!v(R,B,q)}),D}function Dc(d,v,D){for(var R=-1,B=d.length;++R<B;){var q=d[R],ne=v(q);if(null!=ne&&(ae===V?ne==ne&&!yr(ne):D(ne,ae)))var ae=ne,fe=q}return fe}function bh(d,v){var D=[];return Dl(d,function(R,B,q){v(R,B,q)&&D.push(R)}),D}function fi(d,v,D,R,B){var q=-1,ne=d.length;for(D||(D=Fc),B||(B=[]);++q<ne;){var ae=d[q];v>0&&D(ae)?v>1?fi(ae,v-1,D,R,B):ns(B,ae):R||(B[B.length]=ae)}return B}var Vd=qa(),Ha=qa(!0);function Go(d,v){return d&&Vd(d,v,Hi)}function _h(d,v){return d&&Ha(d,v,Hi)}function $d(d,v){return In(v,function(D){return Oe(d[D])})}function ca(d,v){for(var D=0,R=(v=No(v,d)).length;null!=d&&D<R;)d=d[Mi(v[D++])];return D&&D==R?d:V}function zd(d,v,D){var R=v(d);return Be(d)?R:ns(R,D(d))}function to(d){return null==d?d===V?"[object Undefined]":"[object Null]":ar&&ar in mr(d)?function fg(d){var v=sr.call(d,ar),D=d[ar];try{d[ar]=V;var R=!0}catch{}var B=Rd.call(d);return R&&(v?d[ar]=D:delete d[ar]),B}(d):function zs(d){return Rd.call(d)}(d)}function bu(d,v){return d>v}function Ua(d,v){return null!=d&&sr.call(d,v)}function wh(d,v){return null!=d&&v in mr(d)}function Hd(d,v,D){for(var R=D?uc:eh,B=d[0].length,q=d.length,ne=q,ae=Ce(q),fe=1/0,We=[];ne--;){var Ke=d[ne];ne&&v&&(Ke=bn(Ke,Ze(v))),fe=on(Ke.length,fe),ae[ne]=!D&&(v||B>=120&&Ke.length>=120)?new $a(ne&&Ke):V}Ke=d[0];var Je=-1,yt=ae[0];e:for(;++Je<B&&We.length<fe;){var Nt=Ke[Je],Qt=v?v(Nt):Nt;if(Nt=D||0!==Nt?Nt:0,!(yt?at(yt,Qt):R(We,Qt,D))){for(ne=q;--ne;){var Rn=ae[ne];if(!(Rn?at(Rn,Qt):R(d[ne],Qt,D)))continue e}yt&&yt.push(Qt),We.push(Nt)}}return We}function Cl(d,v,D){var R=null==(d=Fh(d,v=No(v,d)))?d:d[Mi(Or(v))];return null==R?V:Zi(R,d,D)}function Eh(d){return Ee(d)&&to(d)==lr}function Cc(d,v,D,R,B){return d===v||(null==d||null==v||!Ee(d)&&!Ee(v)?d!=d&&v!=v:function eg(d,v,D,R,B,q){var ne=Be(d),ae=Be(v),fe=ne?gr:ni(d),We=ae?gr:ni(v),Ke=(fe=fe==lr?Ys:fe)==Ys,Je=(We=We==lr?Ys:We)==Ys,yt=fe==We;if(yt&&Rt(d)){if(!Rt(v))return!1;ne=!0,Ke=!1}if(yt&&!Ke)return q||(q=new Zr),ne||yo(d)?ug(d,v,D,R,B,q):function Ru(d,v,D,R,B,q,ne){switch(D){case ou:if(d.byteLength!=v.byteLength||d.byteOffset!=v.byteOffset)return!1;d=d.buffer,v=v.buffer;case Lt:return!(d.byteLength!=v.byteLength||!q(new vi(d),new vi(v)));case nn:case ul:case cl:return je(+d,+v);case nu:return d.name==v.name&&d.message==v.message;case iu:case dl:return d==v+"";case xo:var ae=Ln;case ts:if(ae||(ae=ia),d.size!=v.size&&!(1&R))return!1;var We=ne.get(d);if(We)return We==v;R|=2,ne.set(d,v);var Ke=ug(ae(d),ae(v),R,B,q,ne);return ne.delete(d),Ke;case ld:if(la)return la.call(d)==la.call(v)}return!1}(d,v,fe,D,R,B,q);if(!(1&D)){var Nt=Ke&&sr.call(d,"__wrapped__"),Qt=Je&&sr.call(v,"__wrapped__");if(Nt||Qt){var Rn=Nt?d.value():d,Xt=Qt?v.value():v;return q||(q=new Zr),B(Rn,Xt,D,R,q)}}return!!yt&&(q||(q=new Zr),function Pc(d,v,D,R,B,q){var ne=1&D,ae=cg(d),fe=ae.length;if(fe!=cg(v).length&&!ne)return!1;for(var Je=fe;Je--;){var yt=ae[Je];if(!(ne?yt in v:sr.call(v,yt)))return!1}var Nt=q.get(d),Qt=q.get(v);if(Nt&&Qt)return Nt==v&&Qt==d;var Rn=!0;q.set(d,v),q.set(v,d);for(var Xt=ne;++Je<fe;){var xn=d[yt=ae[Je]],jn=v[yt];if(R)var Ui=ne?R(jn,xn,yt,v,d,q):R(xn,jn,yt,d,v,q);if(!(Ui===V?xn===jn||B(xn,jn,D,R,q):Ui)){Rn=!1;break}Xt||(Xt="constructor"==yt)}if(Rn&&!Xt){var Gn=d.constructor,gs=v.constructor;Gn!=gs&&"constructor"in d&&"constructor"in v&&!("function"==typeof Gn&&Gn instanceof Gn&&"function"==typeof gs&&gs instanceof gs)&&(Rn=!1)}return q.delete(d),q.delete(v),Rn}(d,v,D,R,B,q))}(d,v,D,R,Cc,B))}function Ud(d,v,D,R){var B=D.length,q=B,ne=!R;if(null==d)return!q;for(d=mr(d);B--;){var ae=D[B];if(ne&&ae[2]?ae[1]!==d[ae[0]]:!(ae[0]in d))return!1}for(;++B<q;){var fe=(ae=D[B])[0],We=d[fe],Ke=ae[1];if(ne&&ae[2]){if(We===V&&!(fe in d))return!1}else{var Je=new Zr;if(R)var yt=R(We,Ke,fe,d,v,Je);if(!(yt===V?Cc(Ke,We,3,R,Je):yt))return!1}}return!0}function tg(d){return!(!pt(d)||function Oh(d){return!!li&&li in d}(d))&&(Oe(d)?Qi:lu).test(Xa(d))}function wu(d){return"function"==typeof d?d:null==d?_o:"object"==typeof d?Be(d)?rg(d[0],d[1]):no(d):aw(d)}function Jr(d){if(!Rl(d))return an(d);var v=[];for(var D in mr(d))sr.call(d,D)&&"constructor"!=D&&v.push(D);return v}function xl(d,v){return d<v}function Bs(d,v){var D=-1,R=xt(d)?Ce(d.length):[];return Dl(d,function(B,q,ne){R[++D]=v(B,q,ne)}),R}function no(d){var v=Ou(d);return 1==v.length&&v[0][2]?Ya(v[0][0],v[0][1]):function(D){return D===d||Ud(D,d,v)}}function rg(d,v){return Nu(d)&&Lc(v)?Ya(Mi(d),v):function(D){var R=Qo(D,d);return R===V&&R===v?Pg(D,d):Cc(v,R,3)}}function Sc(d,v,D,R,B){d!==v&&Vd(v,function(q,ne){if(B||(B=new Zr),pt(q))!function Eu(d,v,D,R,B,q,ne){var ae=tf(d,D),fe=tf(v,D),We=ne.get(fe);if(We)_c(d,D,We);else{var Ke=q?q(ae,fe,D+"",d,v,ne):V,Je=Ke===V;if(Je){var yt=Be(fe),Nt=!yt&&Rt(fe),Qt=!yt&&!Nt&&yo(fe);Ke=fe,yt||Nt||Qt?Be(ae)?Ke=ae:ft(ae)?Ke=zi(ae):Nt?(Je=!1,Ke=ti(fe,!0)):Qt?(Je=!1,Ke=bi(fe,!0)):Ke=[]:Vr(fe)||Ht(fe)?(Ke=ae,Ht(ae)?Ke=fs(ae):(!pt(ae)||Oe(ae))&&(Ke=xr(fe))):Je=!1}Je&&(ne.set(fe,Ke),B(Ke,fe,R,q,ne),ne.delete(fe)),_c(d,D,Ke)}}(d,v,ne,D,Sc,R,B);else{var ae=R?R(tf(d,ne),q,ne+"",d,v,B):V;ae===V&&(ae=q),_c(d,ne,ae)}},bo)}function Yr(d,v){var D=d.length;if(D)return $s(v+=v<0?D:0,D)?d[v]:V}function Dh(d,v,D){v=v.length?bn(v,function(q){return Be(q)?function(ne){return ca(ne,1===q.length?q[0]:q)}:q}):[_o];var R=-1;return v=bn(v,Ze(qt())),function Gp(ue,Ve){var Ce=ue.length;for(ue.sort(Ve);Ce--;)ue[Ce]=ue[Ce].value;return ue}(Bs(d,function(q,ne,ae){return{criteria:bn(v,function(We){return We(q)}),index:++R,value:q}}),function(q,ne){return function $i(d,v,D){for(var R=-1,B=d.criteria,q=v.criteria,ne=B.length,ae=D.length;++R<ne;){var fe=Su(B[R],q[R]);if(fe)return R>=ae?fe:fe*("desc"==D[R]?-1:1)}return d.index-v.index}(q,ne,D)})}function Di(d,v,D){for(var R=-1,B=v.length,q={};++R<B;){var ne=v[R],ae=ca(d,ne);D(ae,ne)&&jd(q,No(ne,d),ae)}return q}function Mc(d,v,D,R){var B=R?Ss:hu,q=-1,ne=v.length,ae=d;for(d===v&&(v=zi(v)),D&&(ae=bn(d,Ze(D)));++q<ne;)for(var fe=0,We=v[q],Ke=D?D(We):We;(fe=B(ae,Ke,fe,R))>-1;)ae!==d&&Ba.call(ae,fe,1),Ba.call(d,fe,1);return d}function Ch(d,v){for(var D=d?v.length:0,R=D-1;D--;){var B=v[D];if(D==R||B!==q){var q=B;$s(B)?Ba.call(d,B,1):kn(d,B)}}return d}function Tc(d,v){return d+ui(En()*(v-d+1))}function Ic(d,v){var D="";if(!d||v<1||v>Zs)return D;do{v%2&&(D+=d),(v=ui(v/2))&&(d+=d)}while(v);return D}function Bt(d,v){return nf(Hs(d,v,_o),d+"")}function Dt(d){return Po(qc(d))}function ig(d,v){var D=qc(d);return Ko(D,za(v,0,D.length))}function jd(d,v,D,R){if(!pt(d))return d;for(var B=-1,q=(v=No(v,d)).length,ne=q-1,ae=d;null!=ae&&++B<q;){var fe=Mi(v[B]),We=D;if("__proto__"===fe||"constructor"===fe||"prototype"===fe)return d;if(B!=ne){var Ke=ae[fe];(We=R?R(Ke,fe,ae):V)===V&&(We=pt(Ke)?Ke:$s(v[B+1])?[]:{})}Ls(ae,fe,We),ae=ae[fe]}return d}var og=Ji?function(d,v){return Ji.set(d,v),d}:_o,Dr=lt?function(d,v){return lt(d,"toString",{configurable:!0,enumerable:!1,value:ep(v),writable:!0})}:_o;function Gd(d){return Ko(qc(d))}function go(d,v,D){var R=-1,B=d.length;v<0&&(v=-v>B?0:B+v),(D=D>B?B:D)<0&&(D+=B),B=v>D?0:D-v>>>0,v>>>=0;for(var q=Ce(B);++R<B;)q[R]=d[R+v];return q}function Sl(d,v){var D;return Dl(d,function(R,B,q){return!(D=v(R,B,q))}),!!D}function fa(d,v,D){var R=0,B=null==d?R:d.length;if("number"==typeof v&&v==v&&B<=2147483647){for(;R<B;){var q=R+B>>>1,ne=d[q];null!==ne&&!yr(ne)&&(D?ne<=v:ne<v)?R=q+1:B=q}return B}return Sh(d,v,_o,D)}function Sh(d,v,D,R){var B=0,q=null==d?0:d.length;if(0===q)return 0;for(var ne=(v=D(v))!=v,ae=null===v,fe=yr(v),We=v===V;B<q;){var Ke=ui((B+q)/2),Je=D(d[Ke]),yt=Je!==V,Nt=null===Je,Qt=Je==Je,Rn=yr(Je);if(ne)var Xt=R||Qt;else Xt=We?Qt&&(R||yt):ae?Qt&&yt&&(R||!Nt):fe?Qt&&yt&&!Nt&&(R||!Rn):!Nt&&!Rn&&(R?Je<=v:Je<v);Xt?B=Ke+1:q=Ke}return on(q,4294967294)}function Cu(d,v){for(var D=-1,R=d.length,B=0,q=[];++D<R;){var ne=d[D],ae=v?v(ne):ne;if(!D||!je(ae,fe)){var fe=ae;q[B++]=0===ne?0:ne}}return q}function sg(d){return"number"==typeof d?d:yr(d)?NaN:+d}function mo(d){if("string"==typeof d)return d;if(Be(d))return bn(d,mo)+"";if(yr(d))return yi?yi.call(d):"";var v=d+"";return"0"==v&&1/d==-Mt?"-0":v}function Ge(d,v,D){var R=-1,B=eh,q=d.length,ne=!0,ae=[],fe=ae;if(D)ne=!1,B=uc;else if(q>=200){var We=v?null:Yd(d);if(We)return ia(We);ne=!1,B=at,fe=new $a}else fe=v?[]:ae;e:for(;++R<q;){var Ke=d[R],Je=v?v(Ke):Ke;if(Ke=D||0!==Ke?Ke:0,ne&&Je==Je){for(var yt=fe.length;yt--;)if(fe[yt]===Je)continue e;v&&fe.push(Je),ae.push(Ke)}else B(fe,Je,D)||(fe!==ae&&fe.push(Je),ae.push(Ke))}return ae}function kn(d,v){return null==(d=Fh(d,v=No(v,d)))||delete d[Mi(Or(v))]}function Ac(d,v,D,R){return jd(d,v,D(ca(d,v)),R)}function Rc(d,v,D,R){for(var B=d.length,q=R?B:-1;(R?q--:++q<B)&&v(d[q],q,d););return D?go(d,R?0:q,R?q+1:B):go(d,R?q+1:0,R?B:q)}function ei(d,v){var D=d;return D instanceof fn&&(D=D.value()),fu(v,function(R,B){return B.func.apply(B.thisArg,ns([R],B.args))},D)}function Ml(d,v,D){var R=d.length;if(R<2)return R?Ge(d[0]):[];for(var B=-1,q=Ce(R);++B<R;)for(var ne=d[B],ae=-1;++ae<R;)ae!=B&&(q[B]=Bd(q[B]||ne,d[ae],v,D));return Ge(fi(q,1),v,D)}function xu(d,v,D){for(var R=-1,B=d.length,q=v.length,ne={};++R<B;)D(ne,d[R],R<q?v[R]:V);return ne}function qo(d){return ft(d)?d:[]}function Tl(d){return"function"==typeof d?d:_o}function No(d,v){return Be(d)?d:Nu(d,v)?[d]:Us(Un(d))}var Vi=Bt;function as(d,v,D){var R=d.length;return D=D===V?R:D,!v&&D>=R?d:go(d,v,D)}var Mh=un||function(d){return wi.clearTimeout(d)};function ti(d,v){if(v)return d.slice();var D=d.length,R=Rs?Rs(D):new d.constructor(D);return d.copy(R),R}function Fo(d){var v=new d.constructor(d.byteLength);return new vi(v).set(new vi(d)),v}function bi(d,v){var D=v?Fo(d.buffer):d.buffer;return new d.constructor(D,d.byteOffset,d.length)}function Su(d,v){if(d!==v){var D=d!==V,R=null===d,B=d==d,q=yr(d),ne=v!==V,ae=null===v,fe=v==v,We=yr(v);if(!ae&&!We&&!q&&d>v||q&&ne&&fe&&!ae&&!We||R&&ne&&fe||!D&&fe||!B)return 1;if(!R&&!q&&!We&&d<v||We&&D&&B&&!R&&!q||ae&&D&&B||!ne&&B||!fe)return-1}return 0}function Ci(d,v,D,R){for(var B=-1,q=d.length,ne=D.length,ae=-1,fe=v.length,We=Br(q-ne,0),Ke=Ce(fe+We),Je=!R;++ae<fe;)Ke[ae]=v[ae];for(;++B<ne;)(Je||B<q)&&(Ke[D[B]]=d[B]);for(;We--;)Ke[ae++]=d[B++];return Ke}function qd(d,v,D,R){for(var B=-1,q=d.length,ne=-1,ae=D.length,fe=-1,We=v.length,Ke=Br(q-ae,0),Je=Ce(Ke+We),yt=!R;++B<Ke;)Je[B]=d[B];for(var Nt=B;++fe<We;)Je[Nt+fe]=v[fe];for(;++ne<ae;)(yt||B<q)&&(Je[Nt+D[ne]]=d[B++]);return Je}function zi(d,v){var D=-1,R=d.length;for(v||(v=Ce(R));++D<R;)v[D]=d[D];return v}function xi(d,v,D,R){var B=!D;D||(D={});for(var q=-1,ne=v.length;++q<ne;){var ae=v[q],fe=R?R(D[ae],d[ae],ae,D,d):V;fe===V&&(fe=d[ae]),B?ho(D,ae,fe):Ls(D,ae,fe)}return D}function ja(d,v){return function(D,R){var B=Be(D)?Oa:vh,q=v?v():{};return B(D,d,qt(R,2),q)}}function Ga(d){return Bt(function(v,D){var R=-1,B=D.length,q=B>1?D[B-1]:V,ne=B>2?D[2]:V;for(q=d.length>3&&"function"==typeof q?(B--,q):V,ne&&vr(D[0],D[1],ne)&&(q=B<3?V:q,B=1),v=mr(v);++R<B;){var ae=D[R];ae&&d(v,ae,R,q)}return v})}function Th(d,v){return function(D,R){if(null==D)return D;if(!xt(D))return d(D,R);for(var B=D.length,q=v?B:-1,ne=mr(D);(v?q--:++q<B)&&!1!==R(ne[q],q,ne););return D}}function qa(d){return function(v,D,R){for(var B=-1,q=mr(v),ne=R(v),ae=ne.length;ae--;){var fe=ne[d?ae:++B];if(!1===D(q[fe],fe,q))break}return v}}function Wd(d){return function(v){var D=Is(v=Un(v))?Io(v):V,R=D?D[0]:v.charAt(0),B=D?as(D,1).join(""):v.slice(1);return R[d]()+B}}function Wa(d){return function(v){return fu(Vu(C0(v).replace(Yy,"")),d,"")}}function Mu(d){return function(){var v=arguments;switch(v.length){case 0:return new d;case 1:return new d(v[0]);case 2:return new d(v[0],v[1]);case 3:return new d(v[0],v[1],v[2]);case 4:return new d(v[0],v[1],v[2],v[3]);case 5:return new d(v[0],v[1],v[2],v[3],v[4]);case 6:return new d(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new d(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var D=ci(d.prototype),R=d.apply(D,v);return pt(R)?R:D}}function Si(d){return function(v,D,R){var B=mr(v);if(!xt(v)){var q=qt(D,3);v=Hi(v),D=function(ae){return q(B[ae],ae,B)}}var ne=d(v,D,R);return ne>-1?B[q?v[ne]:ne]:V}}function Vs(d){return ga(function(v){var D=v.length,R=D,B=Dn.prototype.thru;for(d&&v.reverse();R--;){var q=v[R];if("function"!=typeof q)throw new Li(Le);if(B&&!ne&&"wrapper"==Oc(q))var ne=new Dn([],!0)}for(R=ne?R:D;++R<D;){var ae=Oc(q=v[R]),fe="wrapper"==ae?dg(q):V;ne=fe&&ef(fe[0])&&424==fe[1]&&!fe[4].length&&1==fe[9]?ne[Oc(fe[0])].apply(ne,fe[3]):1==q.length&&ef(q)?ne[ae]():ne.thru(q)}return function(){var We=arguments,Ke=We[0];if(ne&&1==We.length&&Be(Ke))return ne.plant(Ke).value();for(var Je=0,yt=D?v[Je].apply(this,We):Ke;++Je<D;)yt=v[Je].call(this,yt);return yt}})}function Cr(d,v,D,R,B,q,ne,ae,fe,We){var Ke=128&v,Je=1&v,yt=2&v,Nt=24&v,Qt=512&v,Rn=yt?V:Mu(d);return function Xt(){for(var xn=arguments.length,jn=Ce(xn),Ui=xn;Ui--;)jn[Ui]=arguments[Ui];if(Nt)var Gn=Pu(Xt),gs=function pc(ue,Ve){for(var Ce=ue.length,gt=0;Ce--;)ue[Ce]===Ve&&++gt;return gt}(jn,Gn);if(R&&(jn=Ci(jn,R,B,Nt)),q&&(jn=qd(jn,q,ne,Nt)),xn-=gs,Nt&&xn<We){var $r=Yi(jn,Gn);return pa(d,v,Cr,Xt.placeholder,D,jn,$r,ae,fe,We-xn)}var Ri=Je?D:this,Ul=yt?Ri[d]:d;return xn=jn.length,ae?jn=function ro(d,v){for(var D=d.length,R=on(v.length,D),B=zi(d);R--;){var q=v[R];d[R]=$s(q,D)?B[q]:V}return d}(jn,ae):Qt&&xn>1&&jn.reverse(),Ke&&fe<xn&&(jn.length=fe),this&&this!==wi&&this instanceof Xt&&(Ul=Rn||Mu(Ul)),Ul.apply(Ri,jn)}}function Tu(d,v){return function(D,R){return function tv(d,v,D,R){return Go(d,function(B,q,ne){v(R,D(B),q,ne)}),R}(D,d,v(R),{})}}function Kd(d,v){return function(D,R){var B;if(D===V&&R===V)return v;if(D!==V&&(B=D),R!==V){if(B===V)return R;"string"==typeof D||"string"==typeof R?(D=mo(D),R=mo(R)):(D=sg(D),R=sg(R)),B=d(D,R)}return B}}function Ah(d){return ga(function(v){return v=bn(v,Ze(qt())),Bt(function(D){var R=this;return d(v,function(B){return Zi(B,R,D)})})})}function Zd(d,v){var D=(v=v===V?" ":mo(v)).length;if(D<2)return D?Ic(v,d):v;var R=Ic(v,aa(d/oa(v)));return Is(v)?as(Io(R),0,d).join(""):R.slice(0,d)}function Rh(d){return function(v,D,R){return R&&"number"!=typeof R&&vr(v,D,R)&&(D=R=V),v=Ur(v),D===V?(D=v,v=0):D=Ur(D),function xh(d,v,D,R){for(var B=-1,q=Br(aa((v-d)/(D||1)),0),ne=Ce(q);q--;)ne[R?q:++B]=d,d+=D;return ne}(v,D,R=R===V?v<D?1:-1:Ur(R),d)}}function Ka(d){return function(v,D){return"string"==typeof v&&"string"==typeof D||(v=Ai(v),D=Ai(D)),d(v,D)}}function pa(d,v,D,R,B,q,ne,ae,fe,We){var Ke=8&v;v|=Ke?32:64,4&(v&=~(Ke?64:32))||(v&=-4);var Rn=[d,v,B,Ke?q:V,Ke?ne:V,Ke?V:q,Ke?V:ne,ae,fe,We],Xt=D.apply(V,Rn);return ef(d)&&Pr(Xt,Rn),Xt.placeholder=R,Lh(Xt,d,v)}function kh(d){var v=ai[d];return function(D,R){if(D=Ai(D),(R=null==R?0:on(Vt(R),292))&&Xi(D)){var B=(Un(D)+"e").split("e");return+((B=(Un(v(B[0]+"e"+(+B[1]+R)))+"e").split("e"))[0]+"e"+(+B[1]-R))}return v(D)}}var Yd=Ro&&1/ia(new Ro([,-0]))[1]==Mt?function(d){return new Ro(d)}:tp;function Iu(d){return function(v){var D=ni(v);return D==xo?Ln(v):D==ts?function Kp(ue){var Ve=-1,Ce=Array(ue.size);return ue.forEach(function(gt){Ce[++Ve]=[gt,gt]}),Ce}(v):function na(ue,Ve){return bn(Ve,function(Ce){return[Ce,ue[Ce]]})}(v,d(v))}}function Wo(d,v,D,R,B,q,ne,ae){var fe=2&v;if(!fe&&"function"!=typeof d)throw new Li(Le);var We=R?R.length:0;if(We||(v&=-97,R=B=V),ne=ne===V?ne:Br(Vt(ne),0),ae=ae===V?ae:Vt(ae),We-=B?B.length:0,64&v){var Ke=R,Je=B;R=B=V}var yt=fe?V:dg(d),Nt=[d,v,D,R,B,Ke,Je,q,ne,ae];if(yt&&function gg(d,v){var D=d[1],R=v[1],B=D|R;if(!(B<131)&&!(128==R&&8==D||128==R&&256==D&&d[7].length<=v[8]||384==R&&v[7].length<=v[8]&&8==D))return d;1&R&&(d[2]=v[2],B|=1&D?0:4);var ae=v[3];if(ae){var fe=d[3];d[3]=fe?Ci(fe,ae,v[4]):ae,d[4]=fe?Yi(d[3],kt):v[4]}(ae=v[5])&&(d[5]=(fe=d[5])?qd(fe,ae,v[6]):ae,d[6]=fe?Yi(d[5],kt):v[6]),(ae=v[7])&&(d[7]=ae),128&R&&(d[8]=null==d[8]?v[8]:on(d[8],v[8])),null==d[9]&&(d[9]=v[9]),d[0]=v[0],d[1]=B}(Nt,yt),d=Nt[0],v=Nt[1],D=Nt[2],R=Nt[3],B=Nt[4],!(ae=Nt[9]=Nt[9]===V?fe?0:d.length:Br(Nt[9]-We,0))&&24&v&&(v&=-25),v&&1!=v)Qt=8==v||16==v?function nv(d,v,D){var R=Mu(d);return function B(){for(var q=arguments.length,ne=Ce(q),ae=q,fe=Pu(B);ae--;)ne[ae]=arguments[ae];var We=q<3&&ne[0]!==fe&&ne[q-1]!==fe?[]:Yi(ne,fe);return(q-=We.length)<D?pa(d,v,Cr,B.placeholder,V,ne,We,V,V,D-q):Zi(this&&this!==wi&&this instanceof B?R:d,this,ne)}}(d,v,ae):32!=v&&33!=v||B.length?Cr.apply(V,Nt):function ag(d,v,D,R){var B=1&v,q=Mu(d);return function ne(){for(var ae=-1,fe=arguments.length,We=-1,Ke=R.length,Je=Ce(Ke+fe),yt=this&&this!==wi&&this instanceof ne?q:d;++We<Ke;)Je[We]=R[We];for(;fe--;)Je[We++]=arguments[++ae];return Zi(yt,B?D:this,Je)}}(d,v,D,R);else var Qt=function Ih(d,v,D){var R=1&v,B=Mu(d);return function q(){return(this&&this!==wi&&this instanceof q?B:d).apply(R?D:this,arguments)}}(d,v,D);return Lh((yt?og:Pr)(Qt,Nt),d,v)}function Qd(d,v,D,R){return d===V||je(d,yl[D])&&!sr.call(R,D)?v:d}function Au(d,v,D,R,B,q){return pt(d)&&pt(v)&&(q.set(v,d),Sc(d,v,V,Au,q),q.delete(v)),d}function lg(d){return Vr(d)?V:d}function ug(d,v,D,R,B,q){var ne=1&D,ae=d.length,fe=v.length;if(ae!=fe&&!(ne&&fe>ae))return!1;var We=q.get(d),Ke=q.get(v);if(We&&Ke)return We==v&&Ke==d;var Je=-1,yt=!0,Nt=2&D?new $a:V;for(q.set(d,v),q.set(v,d);++Je<ae;){var Qt=d[Je],Rn=v[Je];if(R)var Xt=ne?R(Rn,Qt,Je,v,d,q):R(Qt,Rn,Je,d,v,q);if(Xt!==V){if(Xt)continue;yt=!1;break}if(Nt){if(!cc(v,function(xn,jn){if(!at(Nt,jn)&&(Qt===xn||B(Qt,xn,D,R,q)))return Nt.push(jn)})){yt=!1;break}}else if(Qt!==Rn&&!B(Qt,Rn,D,R,q)){yt=!1;break}}return q.delete(d),q.delete(v),yt}function ga(d){return nf(Hs(d,V,js),d+"")}function cg(d){return zd(d,Hi,Al)}function ku(d){return zd(d,bo,Nc)}var dg=Ji?function(d){return Ji.get(d)}:tp;function Oc(d){for(var v=d.name+"",D=cn[v],R=sr.call(cn,v)?D.length:0;R--;){var B=D[R],q=B.func;if(null==q||q==d)return B.name}return v}function Pu(d){return(sr.call(H,"placeholder")?H:d).placeholder}function qt(){var d=H.iteratee||Mv;return d=d===Mv?wu:d,arguments.length?d(arguments[0],arguments[1]):d}function Ph(d,v){var D=d.__data__;return function pg(d){var v=typeof d;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==d:null===d}(v)?D["string"==typeof v?"string":"hash"]:D.map}function Ou(d){for(var v=Hi(d),D=v.length;D--;){var R=v[D],B=d[R];v[D]=[R,B,Lc(B)]}return v}function cs(d,v){var D=function Ts(ue,Ve){return null==ue?V:ue[Ve]}(d,v);return tg(D)?D:V}var Al=Ao?function(d){return null==d?[]:(d=mr(d),In(Ao(d),function(v){return lh.call(d,v)}))}:F0,Nc=Ao?function(d){for(var v=[];d;)ns(v,Al(d)),d=Bi(d);return v}:F0,ni=to;function ma(d,v,D){for(var R=-1,B=(v=No(v,d)).length,q=!1;++R<B;){var ne=Mi(v[R]);if(!(q=null!=d&&D(d,ne)))break;d=d[ne]}return q||++R!=B?q:!!(B=null==d?0:d.length)&&Ae(B)&&$s(ne,B)&&(Be(d)||Ht(d))}function xr(d){return"function"!=typeof d.constructor||Rl(d)?{}:ci(Bi(d))}function Fc(d){return Be(d)||Ht(d)||!!(uh&&d&&d[uh])}function $s(d,v){var D=typeof d;return!!(v=v??Zs)&&("number"==D||"symbol"!=D&&Zy.test(d))&&d>-1&&d%1==0&&d<v}function vr(d,v,D){if(!pt(D))return!1;var R=typeof v;return!!("number"==R?xt(D)&&$s(v,D.length):"string"==R&&v in D)&&je(D[v],d)}function Nu(d,v){if(Be(d))return!1;var D=typeof d;return!("number"!=D&&"symbol"!=D&&"boolean"!=D&&null!=d&&!yr(d))||vd.test(d)||!Xs.test(d)||null!=v&&d in mr(v)}function ef(d){var v=Oc(d),D=H[v];if("function"!=typeof D||!(v in fn.prototype))return!1;if(d===D)return!0;var R=dg(D);return!!R&&d===R[0]}(mt&&ni(new mt(new ArrayBuffer(1)))!=ou||is&&ni(new is)!=xo||kd&&ni(kd.resolve())!=ri||Ro&&ni(new Ro)!=ts||ko&&ni(new ko)!=fl)&&(ni=function(d){var v=to(d),D=v==Ys?d.constructor:V,R=D?Xa(D):"";if(R)switch(R){case e0:return ou;case ch:return xo;case Xp:return ri;case ks:return ts;case Pd:return fl}return v});var Nh=sa?Oe:L0;function Rl(d){var v=d&&d.constructor;return d===("function"==typeof v&&v.prototype||yl)}function Lc(d){return d==d&&!pt(d)}function Ya(d,v){return function(D){return null!=D&&D[d]===v&&(v!==V||d in mr(D))}}function Hs(d,v,D){return v=Br(v===V?d.length-1:v,0),function(){for(var R=arguments,B=-1,q=Br(R.length-v,0),ne=Ce(q);++B<q;)ne[B]=R[v+B];B=-1;for(var ae=Ce(v+1);++B<v;)ae[B]=R[B];return ae[v]=D(ne),Zi(d,this,ae)}}function Fh(d,v){return v.length<2?d:ca(d,go(v,0,-1))}function tf(d,v){if(("constructor"!==v||"function"!=typeof d[v])&&"__proto__"!=v)return d[v]}var Pr=Pl(og),va=jo||function(d,v){return wi.setTimeout(d,v)},nf=Pl(Dr);function Lh(d,v,D){var R=v+"";return nf(d,function Za(d,v){var D=v.length;if(!D)return d;var R=D-1;return v[R]=(D>1?"& ":"")+v[R],v=v.join(D>2?", ":" "),d.replace(Vm,"{\n/* [wrapped with "+v+"] */\n")}(R,function Bh(d,v){return or(Vf,function(D){var R="_."+D[0];v&D[1]&&!eh(d,R)&&d.push(R)}),d.sort()}(function Xd(d){var v=d.match($m);return v?v[1].split(qf):[]}(R),D)))}function Pl(d){var v=0,D=0;return function(){var R=vu(),B=16-(R-D);if(D=R,B>0){if(++v>=800)return arguments[0]}else v=0;return d.apply(V,arguments)}}function Ko(d,v){var D=-1,R=d.length,B=R-1;for(v=v===V?R:v;++D<v;){var q=Tc(D,B),ne=d[q];d[q]=d[D],d[D]=ne}return d.length=v,d}var Us=function Qa(d){var v=W(d,function(R){return 500===D.size&&D.clear(),R}),D=v.cache;return v}(function(d){var v=[];return 46===d.charCodeAt(0)&&v.push(""),d.replace(Ap,function(D,R,B,q){v.push(B?q.replace(kp,"$1"):R||D)}),v});function Mi(d){if("string"==typeof d||yr(d))return d;var v=d+"";return"0"==v&&1/d==-Mt?"-0":v}function Xa(d){if(null!=d){try{return Ad.call(d)}catch{}try{return d+""}catch{}}return""}function Ol(d){if(d instanceof fn)return d.clone();var v=new Dn(d.__wrapped__,d.__chain__);return v.__actions__=zi(d.__actions__),v.__index__=d.__index__,v.__values__=d.__values__,v}var a0=Bt(function(d,v){return ft(d)?Bd(d,fi(v,1,ft,!0)):[]}),l0=Bt(function(d,v){var D=Or(v);return ft(D)&&(D=V),ft(d)?Bd(d,fi(v,1,ft,!0),qt(D,2)):[]}),u0=Bt(function(d,v){var D=Or(v);return ft(D)&&(D=V),ft(d)?Bd(d,fi(v,1,ft,!0),V,D):[]});function Tr(d,v,D){var R=null==d?0:d.length;if(!R)return-1;var B=null==D?0:Vt(D);return B<0&&(B=Br(R+B,0)),th(d,qt(v,3),B)}function mg(d,v,D){var R=null==d?0:d.length;if(!R)return-1;var B=R-1;return D!==V&&(B=Vt(D),B=D<0?Br(R+B,0):on(B,R-1)),th(d,qt(v,3),B,!0)}function js(d){return null!=d&&d.length?fi(d,1):[]}function Lu(d){return d&&d.length?d[0]:V}var av=Bt(function(d){var v=bn(d,qo);return v.length&&v[0]===d[0]?Hd(v):[]}),f0=Bt(function(d){var v=Or(d),D=bn(d,qo);return v===Or(D)?v=V:D.pop(),D.length&&D[0]===d[0]?Hd(D,qt(v,2)):[]}),lv=Bt(function(d){var v=Or(d),D=bn(d,qo);return(v="function"==typeof v?v:V)&&D.pop(),D.length&&D[0]===d[0]?Hd(D,V,v):[]});function Or(d){var v=null==d?0:d.length;return v?d[v-1]:V}var p0=Bt($h);function $h(d,v){return d&&d.length&&v&&v.length?Mc(d,v):d}var yg=ga(function(d,v){var D=null==d?0:d.length,R=wc(d,v);return Ch(d,bn(v,function(B){return $s(B,D)?+B:B}).sort(Su)),R});function sf(d){return null==d?d:zn.call(d)}var Fl=Bt(function(d){return Ge(fi(d,1,ft,!0))}),Ll=Bt(function(d){var v=Or(d);return ft(v)&&(v=V),Ge(fi(d,1,ft,!0),qt(v,2))}),Bl=Bt(function(d){var v=Or(d);return v="function"==typeof v?v:V,Ge(fi(d,1,ft,!0),V,v)});function vo(d){if(!d||!d.length)return[];var v=0;return d=In(d,function(D){if(ft(D))return v=Br(D.length,v),!0}),rh(v,function(D){return bn(d,nh(D))})}function Cg(d,v){if(!d||!d.length)return[];var D=vo(d);return null==v?D:bn(D,function(R){return Zi(v,V,R)})}var Ja=Bt(function(d,v){return ft(d)?Bd(d,v):[]}),xg=Bt(function(d){return Ml(In(d,ft))}),Vc=Bt(function(d){var v=Or(d);return ft(v)&&(v=V),Ml(In(d,ft),qt(v,2))}),cf=Bt(function(d){var v=Or(d);return v="function"==typeof v?v:V,Ml(In(d,ft),V,v)}),jh=Bt(vo),Bu=Bt(function(d){var v=d.length,D=v>1?d[v-1]:V;return D="function"==typeof D?(d.pop(),D):V,Cg(d,D)});function fv(d){var v=H(d);return v.__chain__=!0,v}function zc(d,v){return v(d)}var df=ga(function(d){var v=d.length,D=v?d[0]:0,R=this.__wrapped__,B=function(q){return wc(q,d)};return!(v>1||this.__actions__.length)&&R instanceof fn&&$s(D)?((R=R.slice(D,+D+(v?1:0))).__actions__.push({func:zc,args:[B],thisArg:V}),new Dn(R,this.__chain__).thru(function(q){return v&&!q.length&&q.push(V),q})):this.thru(B)}),pv=ja(function(d,v,D){sr.call(d,D)?++d[D]:ho(d,D,1)}),hf=Si(Tr),Tg=Si(mg);function Wh(d,v){return(Be(d)?or:Dl)(d,qt(v,3))}function ba(d,v){return(Be(d)?Cd:Jm)(d,qt(v,3))}var a=ja(function(d,v,D){sr.call(d,D)?d[D].push(v):ho(d,D,[v])}),l=Bt(function(d,v,D){var R=-1,B="function"==typeof v,q=xt(d)?Ce(d.length):[];return Dl(d,function(ne){q[++R]=B?Zi(v,ne,D):Cl(ne,v,D)}),q}),c=ja(function(d,v,D){ho(d,D,v)});function f(d,v){return(Be(d)?bn:Bs)(d,qt(v,3))}var g=ja(function(d,v,D){d[D?0:1].push(v)},function(){return[[],[]]}),P=Bt(function(d,v){if(null==d)return[];var D=v.length;return D>1&&vr(d,v[0],v[1])?v=[]:D>2&&vr(v[0],v[1],v[2])&&(v=[v[0]]),Dh(d,fi(v,1),[])}),k=Mr||function(){return wi.Date.now()};function F(d,v,D){return v=D?V:v,Wo(d,128,V,V,V,V,v=d&&null==v?d.length:v)}function L(d,v){var D;if("function"!=typeof v)throw new Li(Le);return d=Vt(d),function(){return--d>0&&(D=v.apply(this,arguments)),d<=1&&(v=V),D}}var $=Bt(function(d,v,D){var R=1;if(D.length){var B=Yi(D,Pu($));R|=32}return Wo(d,R,v,D,B)}),K=Bt(function(d,v,D){var R=3;if(D.length){var B=Yi(D,Pu(K));R|=32}return Wo(v,R,d,D,B)});function Y(d,v,D){var R,B,q,ne,ae,fe,We=0,Ke=!1,Je=!1,yt=!0;if("function"!=typeof d)throw new Li(Le);function Nt($r){var Ri=R,Ul=B;return R=B=V,We=$r,ne=d.apply(Ul,Ri)}function Xt($r){var Ri=$r-fe;return fe===V||Ri>=v||Ri<0||Je&&$r-We>=q}function xn(){var $r=k();if(Xt($r))return jn($r);ae=va(xn,function Rn($r){var V0=v-($r-fe);return Je?on(V0,q-($r-We)):V0}($r))}function jn($r){return ae=V,yt&&R?Nt($r):(R=B=V,ne)}function gs(){var $r=k(),Ri=Xt($r);if(R=arguments,B=this,fe=$r,Ri){if(ae===V)return function Qt($r){return We=$r,ae=va(xn,v),Ke?Nt($r):ne}(fe);if(Je)return Mh(ae),ae=va(xn,v),Nt(fe)}return ae===V&&(ae=va(xn,v)),ne}return v=Ai(v)||0,pt(D)&&(Ke=!!D.leading,q=(Je="maxWait"in D)?Br(Ai(D.maxWait)||0,v):q,yt="trailing"in D?!!D.trailing:yt),gs.cancel=function Ui(){ae!==V&&Mh(ae),We=0,R=fe=B=ae=V},gs.flush=function Gn(){return ae===V?ne:jn(k())},gs}var j=Bt(function(d,v){return yh(d,1,v)}),ee=Bt(function(d,v,D){return yh(d,Ai(v)||0,D)});function W(d,v){if("function"!=typeof d||null!=v&&"function"!=typeof v)throw new Li(Le);var D=function(){var R=arguments,B=v?v.apply(this,R):R[0],q=D.cache;if(q.has(B))return q.get(B);var ne=d.apply(this,R);return D.cache=q.set(B,ne)||q,ne};return D.cache=new(W.Cache||Ns),D}function oe(d){if("function"!=typeof d)throw new Li(Le);return function(){var v=arguments;switch(v.length){case 0:return!d.call(this);case 1:return!d.call(this,v[0]);case 2:return!d.call(this,v[0],v[1]);case 3:return!d.call(this,v[0],v[1],v[2])}return!d.apply(this,v)}}W.Cache=Ns;var de=Vi(function(d,v){var D=(v=1==v.length&&Be(v[0])?bn(v[0],Ze(qt())):bn(fi(v,1),Ze(qt()))).length;return Bt(function(R){for(var B=-1,q=on(R.length,D);++B<q;)R[B]=v[B].call(this,R[B]);return Zi(d,this,R)})}),se=Bt(function(d,v){var D=Yi(v,Pu(se));return Wo(d,32,V,v,D)}),ie=Bt(function(d,v){var D=Yi(v,Pu(ie));return Wo(d,64,V,v,D)}),me=ga(function(d,v){return Wo(d,256,V,V,V,v)});function je(d,v){return d===v||d!=d&&v!=v}var rt=Ka(bu),Ot=Ka(function(d,v){return d>=v}),Ht=Eh(function(){return arguments}())?Eh:function(d){return Ee(d)&&sr.call(d,"callee")&&!lh.call(d,"callee")},Be=Ce.isArray,ut=ac?Ze(ac):function po(d){return Ee(d)&&to(d)==Lt};function xt(d){return null!=d&&Ae(d.length)&&!Oe(d)}function ft(d){return Ee(d)&&xt(d)}var Rt=Lr||L0,Cn=mi?Ze(mi):function Hn(d){return Ee(d)&&to(d)==ul};function G(d){if(!Ee(d))return!1;var v=to(d);return v==nu||"[object DOMException]"==v||"string"==typeof d.message&&"string"==typeof d.name&&!Vr(d)}function Oe(d){if(!pt(d))return!1;var v=to(d);return v==ad||v==ru||"[object AsyncFunction]"==v||"[object Proxy]"==v}function xe(d){return"number"==typeof d&&d==Vt(d)}function Ae(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Zs}function pt(d){var v=typeof d;return null!=d&&("object"==v||"function"==v)}function Ee(d){return null!=d&&"object"==typeof d}var It=Uo?Ze(Uo):function xc(d){return Ee(d)&&ni(d)==xo};function Nr(d){return"number"==typeof d||Ee(d)&&to(d)==cl}function Vr(d){if(!Ee(d)||to(d)!=Ys)return!1;var v=Bi(d);if(null===v)return!0;var D=sr.call(v,"constructor")&&v.constructor;return"function"==typeof D&&D instanceof D&&Ad.call(D)==ah}var Ii=Jf?Ze(Jf):function _u(d){return Ee(d)&&to(d)==iu},pi=lc?Ze(lc):function ng(d){return Ee(d)&&ni(d)==ts};function io(d){return"string"==typeof d||!Be(d)&&Ee(d)&&to(d)==dl}function yr(d){return"symbol"==typeof d||Ee(d)&&to(d)==ld}var yo=pn?Ze(pn):function Oo(d){return Ee(d)&&Ae(d.length)&&!!Sr[to(d)]},el=Ka(xl),wa=Ka(function(d,v){return d<=v});function tl(d){if(!d)return[];if(xt(d))return io(d)?Io(d):zi(d);if(gu&&d[gu])return function As(ue){for(var Ve,Ce=[];!(Ve=ue.next()).done;)Ce.push(Ve.value);return Ce}(d[gu]());var v=ni(d);return(v==xo?Ln:v==ts?ia:qc)(d)}function Ur(d){return d?(d=Ai(d))===Mt||d===-Mt?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function Vt(d){var v=Ur(d),D=v%1;return v==v?D?v-D:v:0}function oo(d){return d?za(Vt(d),0,Co):0}function Ai(d){if("number"==typeof d)return d;if(yr(d))return NaN;if(pt(d)){var v="function"==typeof d.valueOf?d.valueOf():d;d=pt(v)?v+"":v}if("string"!=typeof d)return 0===d?d:+d;d=qp(d);var D=Jt.test(d);return D||ii.test(d)?sc(d.slice(2),D?2:8):Pp.test(d)?NaN:+d}function fs(d){return xi(d,bo(d))}function Un(d){return null==d?"":mo(d)}var Kh=Ga(function(d,v){if(Rl(v)||xt(v))xi(v,Hi(v),d);else for(var D in v)sr.call(v,D)&&Ls(d,D,v[D])}),Zh=Ga(function(d,v){xi(v,bo(v),d)}),Uc=Ga(function(d,v,D,R){xi(v,bo(v),d,R)}),Ig=Ga(function(d,v,D,R){xi(v,Hi(v),d,R)}),Ag=ga(wc),jc=Bt(function(d,v){d=mr(d);var D=-1,R=v.length,B=R>2?v[2]:V;for(B&&vr(v[0],v[1],B)&&(R=1);++D<R;)for(var q=v[D],ne=bo(q),ae=-1,fe=ne.length;++ae<fe;){var We=ne[ae],Ke=d[We];(Ke===V||je(Ke,yl[We])&&!sr.call(d,We))&&(d[We]=q[We])}return d}),Yh=Bt(function(d){return d.push(V,Au),Zi(vv,V,d)});function Qo(d,v,D){var R=null==d?V:ca(d,v);return R===V?D:R}function Pg(d,v){return null!=d&&ma(d,v,wh)}var V_=Tu(function(d,v,D){null!=v&&"function"!=typeof v.toString&&(v=Rd.call(v)),d[v]=D},ep(_o)),$_=Tu(function(d,v,D){null!=v&&"function"!=typeof v.toString&&(v=Rd.call(v)),sr.call(d,v)?d[v].push(D):d[v]=[D]},qt),z_=Bt(Cl);function Hi(d){return xt(d)?bc(d):Jr(d)}function bo(d){return xt(d)?bc(d,!0):function ur(d){if(!pt(d))return function kl(d){var v=[];if(null!=d)for(var D in mr(d))v.push(D);return v}(d);var v=Rl(d),D=[];for(var R in d)"constructor"==R&&(v||!sr.call(d,R))||D.push(R);return D}(d)}var w0=Ga(function(d,v,D){Sc(d,v,D)}),vv=Ga(function(d,v,D,R){Sc(d,v,D,R)}),E0=ga(function(d,v){var D={};if(null==d)return D;var R=!1;v=bn(v,function(q){return q=No(q,d),R||(R=q.length>1),q}),xi(d,ku(d),D),R&&(D=eo(D,7,lg));for(var B=v.length;B--;)kn(D,v[B]);return D}),a1=ga(function(d,v){return null==d?{}:function Du(d,v){return Di(d,v,function(D,R){return Pg(d,R)})}(d,v)});function H_(d,v){if(null==d)return{};var D=bn(ku(d),function(R){return[R]});return v=qt(v),Di(d,D,function(R,B){return v(R,B[0])})}var U_=Iu(Hi),_v=Iu(bo);function qc(d){return null==d?[]:Sd(d,Hi(d))}var vf=Wa(function(d,v,D){return v=v.toLowerCase(),d+(D?D0(v):v)});function D0(d){return Fg(Un(d).toLowerCase())}function C0(d){return(d=Un(d))&&d.replace(Op,Wp).replace(gi,"")}var Q_=Wa(function(d,v,D){return d+(D?"-":"")+v.toLowerCase()}),X_=Wa(function(d,v,D){return d+(D?" ":"")+v.toLowerCase()}),J_=Wd("toLowerCase"),T0=Wa(function(d,v,D){return d+(D?"_":"")+v.toLowerCase()}),Ev=Wa(function(d,v,D){return d+(D?" ":"")+Fg(v)}),k0=Wa(function(d,v,D){return d+(D?" ":"")+v.toUpperCase()}),Fg=Wd("toUpperCase");function Vu(d,v,D){return d=Un(d),(v=D?V:v)===V?function To(ue){return Mo.test(ue)}(d)?function ih(ue){return ue.match(ml)||[]}(d):function Up(ue){return ue.match(Rp)||[]}(d):d.match(v)||[]}var P0=Bt(function(d,v){try{return Zi(d,V,v)}catch(D){return G(D)?D:new sn(D)}}),Sv=ga(function(d,v){return or(v,function(D){D=Mi(D),ho(d,D,$(d[D],d))}),d});function ep(d){return function(){return d}}var ps=Vs(),Vg=Vs(!0);function _o(d){return d}function Mv(d){return wu("function"==typeof d?d:eo(d,1))}var yf=Bt(function(d,v){return function(D){return Cl(D,d,v)}}),iw=Bt(function(d,v){return function(D){return Cl(d,D,v)}});function Tv(d,v,D){var R=Hi(v),B=$d(v,R);null==D&&(!pt(v)||!B.length&&R.length)&&(D=v,v=d,d=this,B=$d(v,Hi(v)));var q=!(pt(D)&&"chain"in D&&!D.chain),ne=Oe(d);return or(B,function(ae){var fe=v[ae];d[ae]=fe,ne&&(d.prototype[ae]=function(){var We=this.__chain__;if(q||We){var Ke=d(this.__wrapped__);return(Ke.__actions__=zi(this.__actions__)).push({func:fe,args:arguments,thisArg:d}),Ke.__chain__=We,Ke}return fe.apply(d,ns([this.value()],arguments))})}),d}function tp(){}var sw=Ah(bn),N0=Ah(Na),$u=Ah(cc);function aw(d){return Nu(d)?nh(Mi(d)):function da(d){return function(v){return ca(v,d)}}(d)}var Iv=Rh(),lw=Rh(!0);function F0(){return[]}function L0(){return!1}var Pv=Kd(function(d,v){return d+v},0),np=kh("ceil"),Hg=Kd(function(d,v){return d/v},1),wf=kh("floor"),cw=Kd(function(d,v){return d*v},1),B0=kh("round"),dw=Kd(function(d,v){return d-v},0);return H.after=function O(d,v){if("function"!=typeof v)throw new Li(Le);return d=Vt(d),function(){if(--d<1)return v.apply(this,arguments)}},H.ary=F,H.assign=Kh,H.assignIn=Zh,H.assignInWith=Uc,H.assignWith=Ig,H.at=Ag,H.before=L,H.bind=$,H.bindAll=Sv,H.bindKey=K,H.castArray=function qe(){if(!arguments.length)return[];var d=arguments[0];return Be(d)?d:[d]},H.chain=fv,H.chunk=function o0(d,v,D){v=(D?vr(d,v,D):v===V)?1:Br(Vt(v),0);var R=null==d?0:d.length;if(!R||v<1)return[];for(var B=0,q=0,ne=Ce(aa(R/v));B<R;)ne[q++]=go(d,B,B+=v);return ne},H.compact=function iv(d){for(var v=-1,D=null==d?0:d.length,R=0,B=[];++v<D;){var q=d[v];q&&(B[R++]=q)}return B},H.concat=function s0(){var d=arguments.length;if(!d)return[];for(var v=Ce(d-1),D=arguments[0],R=d;R--;)v[R-1]=arguments[R];return ns(Be(D)?zi(D):[D],fi(v,1))},H.cond=function Lg(d){var v=null==d?0:d.length,D=qt();return d=v?bn(d,function(R){if("function"!=typeof R[1])throw new Li(Le);return[D(R[0]),R[1]]}):[],Bt(function(R){for(var B=-1;++B<v;){var q=d[B];if(Zi(q[0],this,R))return Zi(q[1],this,R)}})},H.conforms=function nw(d){return function Ec(d){var v=Hi(d);return function(D){return El(D,d,v)}}(eo(d,1))},H.constant=ep,H.countBy=pv,H.create=function gv(d,v){var D=ci(d);return null==v?D:Ld(D,v)},H.curry=function X(d,v,D){var R=Wo(d,8,V,V,V,V,V,v=D?V:v);return R.placeholder=X.placeholder,R},H.curryRight=function z(d,v,D){var R=Wo(d,16,V,V,V,V,V,v=D?V:v);return R.placeholder=z.placeholder,R},H.debounce=Y,H.defaults=jc,H.defaultsDeep=Yh,H.defer=j,H.delay=ee,H.difference=a0,H.differenceBy=l0,H.differenceWith=u0,H.drop=function c0(d,v,D){var R=null==d?0:d.length;return R?go(d,(v=D||v===V?1:Vt(v))<0?0:v,R):[]},H.dropRight=function d0(d,v,D){var R=null==d?0:d.length;return R?go(d,0,(v=R-(v=D||v===V?1:Vt(v)))<0?0:v):[]},H.dropRightWhile=function Fu(d,v){return d&&d.length?Rc(d,qt(v,3),!0,!0):[]},H.dropWhile=function ov(d,v){return d&&d.length?Rc(d,qt(v,3),!0):[]},H.fill=function sv(d,v,D,R){var B=null==d?0:d.length;return B?(D&&"number"!=typeof D&&vr(d,v,D)&&(D=0,R=B),function r0(d,v,D,R){var B=d.length;for((D=Vt(D))<0&&(D=-D>B?0:B+D),(R=R===V||R>B?B:Vt(R))<0&&(R+=B),R=D>R?0:oo(R);D<R;)d[D++]=v;return d}(d,v,D,R)):[]},H.filter=function Hc(d,v){return(Be(d)?In:bh)(d,qt(v,3))},H.flatMap=function pf(d,v){return fi(f(d,v),1)},H.flatMapDeep=function qh(d,v){return fi(f(d,v),Mt)},H.flatMapDepth=function Yo(d,v,D){return D=D===V?1:Vt(D),fi(f(d,v),D)},H.flatten=js,H.flattenDeep=function hi(d){return null!=d&&d.length?fi(d,Mt):[]},H.flattenDepth=function Zo(d,v){return null!=d&&d.length?fi(d,v=v===V?1:Vt(v)):[]},H.flip=function te(d){return Wo(d,512)},H.flow=ps,H.flowRight=Vg,H.fromPairs=function Gs(d){for(var v=-1,D=null==d?0:d.length,R={};++v<D;){var B=d[v];R[B[0]]=B[1]}return R},H.functions=function mv(d){return null==d?[]:$d(d,Hi(d))},H.functionsIn=function mf(d){return null==d?[]:$d(d,bo(d))},H.groupBy=a,H.initial=function Bc(d){return null!=d&&d.length?go(d,0,-1):[]},H.intersection=av,H.intersectionBy=f0,H.intersectionWith=lv,H.invert=V_,H.invertBy=$_,H.invokeMap=l,H.iteratee=Mv,H.keyBy=c,H.keys=Hi,H.keysIn=bo,H.map=f,H.mapKeys=function Hl(d,v){var D={};return v=qt(v,3),Go(d,function(R,B,q){ho(D,v(R,B,q),R)}),D},H.mapValues=function Qh(d,v){var D={};return v=qt(v,3),Go(d,function(R,B,q){ho(D,B,v(R,B,q))}),D},H.matches=function rw(d){return no(eo(d,1))},H.matchesProperty=function O0(d,v){return rg(d,eo(v,1))},H.memoize=W,H.merge=w0,H.mergeWith=vv,H.method=yf,H.methodOf=iw,H.mixin=Tv,H.negate=oe,H.nthArg=function $g(d){return d=Vt(d),Bt(function(v){return Yr(v,d)})},H.omit=E0,H.omitBy=function s1(d,v){return H_(d,oe(qt(v)))},H.once=function Q(d){return L(2,d)},H.orderBy=function h(d,v,D,R){return null==d?[]:(Be(v)||(v=null==v?[]:[v]),Be(D=R?V:D)||(D=null==D?[]:[D]),Dh(d,v,D))},H.over=sw,H.overArgs=de,H.overEvery=N0,H.overSome=$u,H.partial=se,H.partialRight=ie,H.partition=g,H.pick=a1,H.pickBy=H_,H.property=aw,H.propertyOf=function bf(d){return function(v){return null==d?V:ca(d,v)}},H.pull=p0,H.pullAll=$h,H.pullAllBy=function vg(d,v,D){return d&&d.length&&v&&v.length?Mc(d,v,qt(D,2)):d},H.pullAllWith=function Ti(d,v,D){return d&&d.length&&v&&v.length?Mc(d,v,V,D):d},H.pullAt=yg,H.range=Iv,H.rangeRight=lw,H.rearg=me,H.reject=function b(d,v){return(Be(d)?In:bh)(d,oe(qt(v,3)))},H.remove=function uv(d,v){var D=[];if(!d||!d.length)return D;var R=-1,B=[],q=d.length;for(v=qt(v,3);++R<q;){var ne=d[R];v(ne,R,d)&&(D.push(ne),B.push(R))}return Ch(d,B),D},H.rest=function _e(d,v){if("function"!=typeof d)throw new Li(Le);return Bt(d,v=v===V?v:Vt(v))},H.reverse=sf,H.sampleSize=function C(d,v,D){return v=(D?vr(d,v,D):v===V)?1:Vt(v),(Be(d)?gh:ig)(d,v)},H.set=function bv(d,v,D){return null==d?d:jd(d,v,D)},H.setWith=function l1(d,v,D,R){return R="function"==typeof R?R:V,null==d?d:jd(d,v,D,R)},H.shuffle=function S(d){return(Be(d)?mh:Gd)(d)},H.slice=function bg(d,v,D){var R=null==d?0:d.length;return R?(D&&"number"!=typeof D&&vr(d,v,D)?(v=0,D=R):(v=null==v?0:Vt(v),D=D===V?R:Vt(D)),go(d,v,D)):[]},H.sortBy=P,H.sortedUniq=function dv(d){return d&&d.length?Cu(d):[]},H.sortedUniqBy=function wg(d,v){return d&&d.length?Cu(d,qt(v,2)):[]},H.split=function I0(d,v,D){return D&&"number"!=typeof D&&vr(d,v,D)&&(v=D=V),(D=D===V?Co:D>>>0)?(d=Un(d))&&("string"==typeof v||null!=v&&!Ii(v))&&!(v=mo(v))&&Is(d)?as(Io(d),0,D):d.split(v,D):[]},H.spread=function ke(d,v){if("function"!=typeof d)throw new Li(Le);return v=null==v?0:Br(Vt(v),0),Bt(function(D){var R=D[v],B=as(D,0,v);return R&&ns(B,R),Zi(d,this,B)})},H.tail=function Hh(d){var v=null==d?0:d.length;return v?go(d,1,v):[]},H.take=function uf(d,v,D){return d&&d.length?go(d,0,(v=D||v===V?1:Vt(v))<0?0:v):[]},H.takeRight=function Eg(d,v,D){var R=null==d?0:d.length;return R?go(d,(v=R-(v=D||v===V?1:Vt(v)))<0?0:v,R):[]},H.takeRightWhile=function Uh(d,v){return d&&d.length?Rc(d,qt(v,3),!1,!0):[]},H.takeWhile=function ya(d,v){return d&&d.length?Rc(d,qt(v,3)):[]},H.tap=function Sg(d,v){return v(d),d},H.throttle=function ge(d,v,D){var R=!0,B=!0;if("function"!=typeof d)throw new Li(Le);return pt(D)&&(R="leading"in D?!!D.leading:R,B="trailing"in D?!!D.trailing:B),Y(d,v,{leading:R,maxWait:v,trailing:B})},H.thru=zc,H.toArray=tl,H.toPairs=U_,H.toPairsIn=_v,H.toPath=function _f(d){return Be(d)?bn(d,Mi):yr(d)?[d]:zi(Us(Un(d)))},H.toPlainObject=fs,H.transform=function j_(d,v,D){var R=Be(d),B=R||Rt(d)||yo(d);if(v=qt(v,4),null==D){var q=d&&d.constructor;D=B?R?new q:[]:pt(d)&&Oe(q)?ci(Bi(d)):{}}return(B?or:Go)(d,function(ne,ae,fe){return v(D,ne,ae,fe)}),D},H.unary=function Ie(d){return F(d,1)},H.union=Fl,H.unionBy=Ll,H.unionWith=Bl,H.uniq=function g0(d){return d&&d.length?Ge(d):[]},H.uniqBy=function Vl(d,v){return d&&d.length?Ge(d,qt(v,2)):[]},H.uniqWith=function Dg(d,v){return v="function"==typeof v?v:V,d&&d.length?Ge(d,V,v):[]},H.unset=function G_(d,v){return null==d||kn(d,v)},H.unzip=vo,H.unzipWith=Cg,H.update=function q_(d,v,D){return null==d?d:Ac(d,v,Tl(D))},H.updateWith=function W_(d,v,D,R){return R="function"==typeof R?R:V,null==d?d:Ac(d,v,Tl(D),R)},H.values=qc,H.valuesIn=function Og(d){return null==d?[]:Sd(d,bo(d))},H.without=Ja,H.words=Vu,H.wrap=function $e(d,v){return se(Tl(v),d)},H.xor=xg,H.xorBy=Vc,H.xorWith=cf,H.zip=jh,H.zipObject=function Gh(d,v){return xu(d||[],v||[],Ls)},H.zipObjectDeep=function $c(d,v){return xu(d||[],v||[],jd)},H.zipWith=Bu,H.entries=U_,H.entriesIn=_v,H.extend=Zh,H.extendWith=Uc,Tv(H,H),H.add=Pv,H.attempt=P0,H.camelCase=vf,H.capitalize=D0,H.ceil=np,H.clamp=function K_(d,v,D){return D===V&&(D=v,v=V),D!==V&&(D=(D=Ai(D))==D?D:0),v!==V&&(v=(v=Ai(v))==v?v:0),za(Ai(d),v,D)},H.clone=function He(d){return eo(d,4)},H.cloneDeep=function ye(d){return eo(d,5)},H.cloneDeepWith=function Ye(d,v){return eo(d,5,v="function"==typeof v?v:V)},H.cloneWith=function Ue(d,v){return eo(d,4,v="function"==typeof v?v:V)},H.conformsTo=function Qe(d,v){return null==v||El(d,v,Hi(v))},H.deburr=C0,H.defaultTo=function Bg(d,v){return null==d||d!=d?v:d},H.divide=Hg,H.endsWith=function x0(d,v,D){d=Un(d),v=mo(v);var R=d.length,B=D=D===V?R:za(Vt(D),0,R);return(D-=v.length)>=0&&d.slice(D,B)==v},H.eq=je,H.escape=function S0(d){return(d=Un(d))&&md.test(d)?d.replace(Uf,Gm):d},H.escapeRegExp=function Y_(d){return(d=Un(d))&&Gf.test(d)?d.replace(Cs,"\\$&"):d},H.every=function Mg(d,v,D){var R=Be(d)?Na:ev;return D&&vr(d,v,D)&&(v=V),R(d,qt(v,3))},H.find=hf,H.findIndex=Tr,H.findKey=function gf(d,v){return jm(d,qt(v,3),Go)},H.findLast=Tg,H.findLastIndex=mg,H.findLastKey=function Rg(d,v){return jm(d,qt(v,3),_h)},H.floor=wf,H.forEach=Wh,H.forEachRight=ba,H.forIn=function Ea(d,v){return null==d?d:Vd(d,qt(v,3),bo)},H.forInRight=function Gc(d,v){return null==d?d:Ha(d,qt(v,3),bo)},H.forOwn=function hs(d,v){return d&&Go(d,qt(v,3))},H.forOwnRight=function kg(d,v){return d&&_h(d,qt(v,3))},H.get=Qo,H.gt=rt,H.gte=Ot,H.has=function _0(d,v){return null!=d&&ma(d,v,Ua)},H.hasIn=Pg,H.head=Lu,H.identity=_o,H.includes=function o(d,v,D,R){d=xt(d)?d:qc(d),D=D&&!R?Vt(D):0;var B=d.length;return D<0&&(D=Br(B+D,0)),io(d)?D<=B&&d.indexOf(v,D)>-1:!!B&&hu(d,v,D)>-1},H.indexOf=function rf(d,v,D){var R=null==d?0:d.length;if(!R)return-1;var B=null==D?0:Vt(D);return B<0&&(B=Br(R+B,0)),hu(d,v,B)},H.inRange=function wv(d,v,D){return v=Ur(v),D===V?(D=v,v=0):D=Ur(D),function Jp(d,v,D){return d>=on(v,D)&&d<Br(v,D)}(d=Ai(d),v,D)},H.invoke=z_,H.isArguments=Ht,H.isArray=Be,H.isArrayBuffer=ut,H.isArrayLike=xt,H.isArrayLikeObject=ft,H.isBoolean=function At(d){return!0===d||!1===d||Ee(d)&&to(d)==nn},H.isBuffer=Rt,H.isDate=Cn,H.isElement=function gn(d){return Ee(d)&&1===d.nodeType&&!Vr(d)},H.isEmpty=function Wt(d){if(null==d)return!0;if(xt(d)&&(Be(d)||"string"==typeof d||"function"==typeof d.splice||Rt(d)||yo(d)||Ht(d)))return!d.length;var v=ni(d);if(v==xo||v==ts)return!d.size;if(Rl(d))return!Jr(d).length;for(var D in d)if(sr.call(d,D))return!1;return!0},H.isEqual=function mn(d,v){return Cc(d,v)},H.isEqualWith=function we(d,v,D){var R=(D="function"==typeof D?D:V)?D(d,v):V;return R===V?Cc(d,v,V,D):!!R},H.isError=G,H.isFinite=function be(d){return"number"==typeof d&&Xi(d)},H.isFunction=Oe,H.isInteger=xe,H.isLength=Ae,H.isMap=It,H.isMatch=function dn(d,v){return d===v||Ud(d,v,Ou(v))},H.isMatchWith=function On(d,v,D){return D="function"==typeof D?D:V,Ud(d,v,Ou(v),D)},H.isNaN=function Yt(d){return Nr(d)&&d!=+d},H.isNative=function Bn(d){if(Nh(d))throw new sn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return tg(d)},H.isNil=function ln(d){return null==d},H.isNull=function en(d){return null===d},H.isNumber=Nr,H.isObject=pt,H.isObjectLike=Ee,H.isPlainObject=Vr,H.isRegExp=Ii,H.isSafeInteger=function ds(d){return xe(d)&&d>=-Zs&&d<=Zs},H.isSet=pi,H.isString=io,H.isSymbol=yr,H.isTypedArray=yo,H.isUndefined=function _a(d){return d===V},H.isWeakMap=function $l(d){return Ee(d)&&ni(d)==fl},H.isWeakSet=function qs(d){return Ee(d)&&"[object WeakSet]"==to(d)},H.join=function h0(d,v){return null==d?"":mu.call(d,v)},H.kebabCase=Q_,H.last=Or,H.lastIndexOf=function Vh(d,v,D){var R=null==d?0:d.length;if(!R)return-1;var B=R;return D!==V&&(B=(B=Vt(D))<0?Br(R+B,0):on(B,R-1)),v==v?function La(ue,Ve,Ce){for(var gt=Ce+1;gt--;)if(ue[gt]===Ve)return gt;return gt}(d,v,B):th(d,dc,B,!0)},H.lowerCase=X_,H.lowerFirst=J_,H.lt=el,H.lte=wa,H.max=function Ov(d){return d&&d.length?Dc(d,_o,bu):V},H.maxBy=function Nv(d,v){return d&&d.length?Dc(d,qt(v,2),bu):V},H.mean=function Ug(d){return Ms(d,_o)},H.meanBy=function f1(d,v){return Ms(d,qt(v,2))},H.min=function Fv(d){return d&&d.length?Dc(d,_o,xl):V},H.minBy=function rp(d,v){return d&&d.length?Dc(d,qt(v,2),xl):V},H.stubArray=F0,H.stubFalse=L0,H.stubObject=function zg(){return{}},H.stubString=function uw(){return""},H.stubTrue=function Av(){return!0},H.multiply=cw,H.nth=function Nl(d,v){return d&&d.length?Yr(d,Vt(v)):V},H.noConflict=function ow(){return wi._===this&&(wi._=Ft),this},H.noop=tp,H.now=k,H.pad=function M0(d,v,D){d=Un(d);var R=(v=Vt(v))?oa(d):0;if(!v||R>=v)return d;var B=(v-R)/2;return Zd(ui(B),D)+d+Zd(aa(B),D)},H.padEnd=function u1(d,v,D){d=Un(d);var R=(v=Vt(v))?oa(d):0;return v&&R<v?d+Zd(v-R,D):d},H.padStart=function c1(d,v,D){d=Un(d);var R=(v=Vt(v))?oa(d):0;return v&&R<v?Zd(v-R,D)+d:d},H.parseInt=function Xh(d,v,D){return D||null==v?v=0:v&&(v=+v),kr(Un(d).replace(yd,""),v||0)},H.random=function Z_(d,v,D){if(D&&"boolean"!=typeof D&&vr(d,v,D)&&(v=D=V),D===V&&("boolean"==typeof v?(D=v,v=V):"boolean"==typeof d&&(D=d,d=V)),d===V&&v===V?(d=0,v=1):(d=Ur(d),v===V?(v=d,d=0):v=Ur(v)),d>v){var R=d;d=v,v=R}if(D||d%1||v%1){var B=En();return on(d+B*(v-d+zp("1e-"+((B+"").length-1))),v)}return Tc(d,v)},H.reduce=function y(d,v,D){var R=Be(d)?fu:jp,B=arguments.length<3;return R(d,qt(v,4),D,B,Dl)},H.reduceRight=function _(d,v,D){var R=Be(d)?vl:jp,B=arguments.length<3;return R(d,qt(v,4),D,B,Jm)},H.repeat=function it(d,v,D){return v=(D?vr(d,v,D):v===V)?1:Vt(v),Ic(Un(d),v)},H.replace=function Jh(){var d=arguments,v=Un(d[0]);return d.length<3?v:v.replace(d[1],d[2])},H.result=function yv(d,v,D){var R=-1,B=(v=No(v,d)).length;for(B||(B=1,d=V);++R<B;){var q=null==d?V:d[Mi(v[R])];q===V&&(R=B,q=D),d=Oe(q)?q.call(d):q}return d},H.round=B0,H.runInContext=ue,H.sample=function E(d){return(Be(d)?Po:Dt)(d)},H.size=function T(d){if(null==d)return 0;if(xt(d))return io(d)?oa(d):d.length;var v=ni(d);return v==xo||v==ts?d.size:Jr(d).length},H.snakeCase=T0,H.some=function M(d,v,D){var R=Be(d)?cc:Sl;return D&&vr(d,v,D)&&(v=V),R(d,qt(v,3))},H.sortedIndex=function zh(d,v){return fa(d,v)},H.sortedIndexBy=function af(d,v,D){return Sh(d,v,qt(D,2))},H.sortedIndexOf=function _g(d,v){var D=null==d?0:d.length;if(D){var R=fa(d,v);if(R<D&&je(d[R],v))return R}return-1},H.sortedLastIndex=function lf(d,v){return fa(d,v,!0)},H.sortedLastIndexBy=function cv(d,v,D){return Sh(d,v,qt(D,2),!0)},H.sortedLastIndexOf=function Lo(d,v){if(null!=d&&d.length){var R=fa(d,v,!0)-1;if(je(d[R],v))return R}return-1},H.startCase=Ev,H.startsWith=function Dv(d,v,D){return d=Un(d),D=null==D?0:za(Vt(D),0,d.length),v=mo(v),d.slice(D,D+v.length)==v},H.subtract=dw,H.sum=function fw(d){return d&&d.length?Fa(d,_o):0},H.sumBy=function Lv(d,v){return d&&d.length?Fa(d,qt(v,2)):0},H.template=function ew(d,v,D){var R=H.templateSettings;D&&vr(d,v,D)&&(v=V),d=Un(d),v=Uc({},v,R,Qd);var ae,fe,B=Uc({},v.imports,R.imports,Qd),q=Hi(B),ne=Sd(B,q),We=0,Ke=v.interpolate||ec,Je="__p += '",yt=sh((v.escape||ec).source+"|"+Ke.source+"|"+(Ke===jf?Wf:ec).source+"|"+(v.evaluate||ec).source+"|$","g"),Nt="//# sourceURL="+(sr.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xy+"]")+"\n";d.replace(yt,function(Xt,xn,jn,Ui,Gn,gs){return jn||(jn=Ui),Je+=d.slice(We,gs).replace(bd,qm),xn&&(ae=!0,Je+="' +\n__e("+xn+") +\n'"),Gn&&(fe=!0,Je+="';\n"+Gn+";\n__p += '"),jn&&(Je+="' +\n((__t = ("+jn+")) == null ? '' : __t) +\n'"),We=gs+Xt.length,Xt}),Je+="';\n";var Qt=sr.call(v,"variable")&&v.variable;if(Qt){if(Ju.test(Qt))throw new sn("Invalid `variable` option passed into `_.template`")}else Je="with (obj) {\n"+Je+"\n}\n";Je=(fe?Je.replace(Bm,""):Je).replace(pd,"$1").replace(Qs,"$1;"),Je="function("+(Qt||"obj")+") {\n"+(Qt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(fe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Je+"return __p\n}";var Rn=P0(function(){return Kn(q,Nt+"return "+Je).apply(V,ne)});if(Rn.source=Je,G(Rn))throw Rn;return Rn},H.times=function Rv(d,v){if((d=Vt(d))<1||d>Zs)return[];var D=Co,R=on(d,Co);v=qt(v),d-=Co;for(var B=rh(R,v);++D<d;)v(D);return B},H.toFinite=Ur,H.toInteger=Vt,H.toLength=oo,H.toLower=function A0(d){return Un(d).toLowerCase()},H.toNumber=Ai,H.toSafeInteger=function zl(d){return d?za(Vt(d),-Zs,Zs):0===d?d:0},H.toString=Un,H.toUpper=function R0(d){return Un(d).toUpperCase()},H.trim=function Ng(d,v,D){if((d=Un(d))&&(D||v===V))return qp(d);if(!d||!(v=mo(v)))return d;var R=Io(d),B=Io(v);return as(R,hc(R,B),Md(R,B)+1).join("")},H.trimEnd=function d1(d,v,D){if((d=Un(d))&&(D||v===V))return d.slice(0,gc(d)+1);if(!d||!(v=mo(v)))return d;var R=Io(d);return as(R,0,Md(R,Io(v))+1).join("")},H.trimStart=function Cv(d,v,D){if((d=Un(d))&&(D||v===V))return d.replace(yd,"");if(!d||!(v=mo(v)))return d;var R=Io(d);return as(R,hc(R,Io(v))).join("")},H.truncate=function tw(d,v){var D=30,R="...";if(pt(v)){var B="separator"in v?v.separator:B;D="length"in v?Vt(v.length):D,R="omission"in v?mo(v.omission):R}var q=(d=Un(d)).length;if(Is(d)){var ne=Io(d);q=ne.length}if(D>=q)return d;var ae=D-oa(R);if(ae<1)return R;var fe=ne?as(ne,0,ae).join(""):d.slice(0,ae);if(B===V)return fe+R;if(ne&&(ae+=fe.length-ae),Ii(B)){if(d.slice(ae).search(B)){var We,Ke=fe;for(B.global||(B=sh(B.source,Un(Xn.exec(B))+"g")),B.lastIndex=0;We=B.exec(Ke);)var Je=We.index;fe=fe.slice(0,Je===V?ae:Je)}}else if(d.indexOf(mo(B),ae)!=ae){var yt=fe.lastIndexOf(B);yt>-1&&(fe=fe.slice(0,yt))}return fe+R},H.unescape=function xv(d){return(d=Un(d))&&gd.test(d)?d.replace(hl,Zp):d},H.uniqueId=function kv(d){var v=++Km;return Un(d)+v},H.upperCase=k0,H.upperFirst=Fg,H.each=Wh,H.eachRight=ba,H.first=Lu,Tv(H,function(){var d={};return Go(H,function(v,D){sr.call(H.prototype,D)||(d[D]=v)}),d}(),{chain:!1}),H.VERSION="4.17.21",or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){H[d].placeholder=H}),or(["drop","take"],function(d,v){fn.prototype[d]=function(D){D=D===V?1:Br(Vt(D),0);var R=this.__filtered__&&!v?new fn(this):this.clone();return R.__filtered__?R.__takeCount__=on(D,R.__takeCount__):R.__views__.push({size:on(D,Co),type:d+(R.__dir__<0?"Right":"")}),R},fn.prototype[d+"Right"]=function(D){return this.reverse()[d](D).reverse()}}),or(["filter","map","takeWhile"],function(d,v){var D=v+1,R=1==D||3==D;fn.prototype[d]=function(B){var q=this.clone();return q.__iteratees__.push({iteratee:qt(B,3),type:D}),q.__filtered__=q.__filtered__||R,q}}),or(["head","last"],function(d,v){var D="take"+(v?"Right":"");fn.prototype[d]=function(){return this[D](1).value()[0]}}),or(["initial","tail"],function(d,v){var D="drop"+(v?"":"Right");fn.prototype[d]=function(){return this.__filtered__?new fn(this):this[D](1)}}),fn.prototype.compact=function(){return this.filter(_o)},fn.prototype.find=function(d){return this.filter(d).head()},fn.prototype.findLast=function(d){return this.reverse().find(d)},fn.prototype.invokeMap=Bt(function(d,v){return"function"==typeof d?new fn(this):this.map(function(D){return Cl(D,d,v)})}),fn.prototype.reject=function(d){return this.filter(oe(qt(d)))},fn.prototype.slice=function(d,v){d=Vt(d);var D=this;return D.__filtered__&&(d>0||v<0)?new fn(D):(d<0?D=D.takeRight(-d):d&&(D=D.drop(d)),v!==V&&(D=(v=Vt(v))<0?D.dropRight(-v):D.take(v-d)),D)},fn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},fn.prototype.toArray=function(){return this.take(Co)},Go(fn.prototype,function(d,v){var D=/^(?:filter|find|map|reject)|While$/.test(v),R=/^(?:head|last)$/.test(v),B=H[R?"take"+("last"==v?"Right":""):v],q=R||/^find/.test(v);B&&(H.prototype[v]=function(){var ne=this.__wrapped__,ae=R?[1]:arguments,fe=ne instanceof fn,We=ae[0],Ke=fe||Be(ne),Je=function(xn){var jn=B.apply(H,ns([xn],ae));return R&&yt?jn[0]:jn};Ke&&D&&"function"==typeof We&&1!=We.length&&(fe=Ke=!1);var yt=this.__chain__,Qt=q&&!yt,Rn=fe&&!this.__actions__.length;if(!q&&Ke){ne=Rn?ne:new fn(this);var Xt=d.apply(ne,ae);return Xt.__actions__.push({func:zc,args:[Je],thisArg:V}),new Dn(Xt,yt)}return Qt&&Rn?d.apply(this,ae):(Xt=this.thru(Je),Qt?R?Xt.value()[0]:Xt.value():Xt)})}),or(["pop","push","shift","sort","splice","unshift"],function(d){var v=Id[d],D=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",R=/^(?:pop|shift)$/.test(d);H.prototype[d]=function(){var B=arguments;if(R&&!this.__chain__){var q=this.value();return v.apply(Be(q)?q:[],B)}return this[D](function(ne){return v.apply(Be(ne)?ne:[],B)})}}),Go(fn.prototype,function(d,v){var D=H[v];if(D){var R=D.name+"";sr.call(cn,R)||(cn[R]=[]),cn[R].push({name:v,func:D})}}),cn[Cr(V,2).name]=[{name:"wrapper",func:V}],fn.prototype.clone=function Od(){var d=new fn(this.__wrapped__);return d.__actions__=zi(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=zi(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=zi(this.__views__),d},fn.prototype.reverse=function os(){if(this.__filtered__){var d=new fn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},fn.prototype.value=function Os(){var d=this.__wrapped__.value(),v=this.__dir__,D=Be(d),R=v<0,B=D?d.length:0,q=function rv(d,v,D){for(var R=-1,B=D.length;++R<B;){var q=D[R],ne=q.size;switch(q.type){case"drop":d+=ne;break;case"dropRight":v-=ne;break;case"take":v=on(v,d+ne);break;case"takeRight":d=Br(d,v-ne)}}return{start:d,end:v}}(0,B,this.__views__),ne=q.start,ae=q.end,fe=ae-ne,We=R?ae:ne-1,Ke=this.__iteratees__,Je=Ke.length,yt=0,Nt=on(fe,this.__takeCount__);if(!D||!R&&B==fe&&Nt==fe)return ei(d,this.__actions__);var Qt=[];e:for(;fe--&&yt<Nt;){for(var Rn=-1,Xt=d[We+=v];++Rn<Je;){var xn=Ke[Rn],Ui=xn.type,Gn=(0,xn.iteratee)(Xt);if(2==Ui)Xt=Gn;else if(!Gn){if(1==Ui)continue e;break e}}Qt[yt++]=Xt}return Qt},H.prototype.at=df,H.prototype.chain=function m0(){return fv(this)},H.prototype.commit=function Jn(){return new Dn(this.value(),this.__chain__)},H.prototype.next=function ff(){this.__values__===V&&(this.__values__=tl(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?V:this.__values__[this.__index__++]}},H.prototype.plant=function y0(d){for(var v,D=this;D instanceof wn;){var R=Ol(D);R.__index__=0,R.__values__=V,v?B.__wrapped__=R:v=R;var B=R;D=D.__wrapped__}return B.__wrapped__=d,v},H.prototype.reverse=function b0(){var d=this.__wrapped__;if(d instanceof fn){var v=d;return this.__actions__.length&&(v=new fn(this)),(v=v.reverse()).__actions__.push({func:zc,args:[sf],thisArg:V}),new Dn(v,this.__chain__)}return this.thru(sf)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function hv(){return ei(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,gu&&(H.prototype[gu]=function v0(){return this}),H}();wi._=Td,(ce=function(){return Td}.call(ot,le,ot,De))!==V&&(De.exports=ce)}.call(this)},7659:(De,ot,le)=>{var ce=le(1811);function Fe(Pe,ze){if("function"!=typeof Pe||null!=ze&&"function"!=typeof ze)throw new TypeError("Expected a function");var Le=function(){var ct=arguments,St=ze?ze.apply(this,ct):ct[0],Tt=Le.cache;if(Tt.has(St))return Tt.get(St);var kt=Pe.apply(this,ct);return Le.cache=Tt.set(St,kt)||Tt,kt};return Le.cache=new(Fe.Cache||ce),Le}Fe.Cache=ce,De.exports=Fe},5533:(De,ot,le)=>{var ce=le(8492);De.exports=function(){return ce.Date.now()}},7939:(De,ot,le)=>{var ce=le(9478);De.exports=function V(Fe,Pe,ze){return null==Fe?Fe:ce(Fe,Pe,ze)}},4282:(De,ot,le)=>{var ce=le(9484),V=le(9794),Fe=le(3423),ze=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,ct=/^0o[0-7]+$/i,St=parseInt;De.exports=function Tt(kt){if("number"==typeof kt)return kt;if(Fe(kt))return NaN;if(V(kt)){var qn="function"==typeof kt.valueOf?kt.valueOf():kt;kt=V(qn)?qn+"":qn}if("string"!=typeof kt)return 0===kt?kt:+kt;kt=ce(kt);var vn=Le.test(kt);return vn||ct.test(kt)?St(kt.slice(2),vn?2:8):ze.test(kt)?NaN:+kt}},9078:(De,ot,le)=>{var ce=le(3880),V=le(4231),Fe=le(2261),Pe=le(3423),ze=le(163),Le=le(8916),ct=le(2674);De.exports=function St(Tt){return Fe(Tt)?ce(Tt,Le):Pe(Tt)?[Tt]:V(ze(ct(Tt)))}},2674:(De,ot,le)=>{var ce=le(7002);De.exports=function V(Fe){return null==Fe?"":ce(Fe)}}},De=>{De(De.s=9745)}]);