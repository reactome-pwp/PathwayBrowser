(self.webpackChunkpathway_browser=self.webpackChunkpathway_browser||[]).push([[179],{2243:(ve,Qe,ae)=>{"use strict";function ce(e){return"function"==typeof e}function B(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const _e=B(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ee(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ve{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const u of n)u.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ce(r))try{r()}catch(u){t=u instanceof _e?u.errors:[u]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const u of o)try{vt(u)}catch(d){t=t??[],d instanceof _e?t=[...t,...d.errors]:t.push(d)}}if(t)throw new _e(t)}}add(t){var n;if(t&&t!==this)if(this.closed)vt(t);else{if(t instanceof Ve){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ee(n,t)}remove(t){const{_finalizers:n}=this;n&&Ee(n,t),t instanceof Ve&&t._removeParent(this)}}Ve.EMPTY=(()=>{const e=new Ve;return e.closed=!0,e})();const Se=Ve.EMPTY;function rt(e){return e instanceof Ve||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function vt(e){ce(e)?e():e.unsubscribe()}const wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bt={setTimeout(e,t,...n){const{delegate:r}=bt;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=bt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function kn(e){bt.setTimeout(()=>{const{onUnhandledError:t}=wt;if(!t)throw e;t(e)})}function ln(){}const br=In("C",void 0,void 0);function In(e,t,n){return{kind:e,value:t,error:n}}let cn=null;function Ge(e){if(wt.useDeprecatedSynchronousErrorHandling){const t=!cn;if(t&&(cn={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=cn;if(cn=null,n)throw r}}else e()}class ht extends Ve{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,rt(t)&&t.add(this)):this.destination=lo}static create(t,n,r){return new wn(t,n,r)}next(t){this.isStopped?Ro(function Vn(e){return In("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ro(function rr(e){return In("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ro(br,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dt=Function.prototype.bind;function Tn(e,t){return Dt.call(e,t)}class At{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Kn(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Kn(r)}else Kn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Kn(n)}}}class wn extends ht{constructor(t,n,r){let o;if(super(),ce(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let u;this&&wt.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Tn(t.next,u),error:t.error&&Tn(t.error,u),complete:t.complete&&Tn(t.complete,u)}):o=t}this.destination=new At(o)}}function Kn(e){wt.useDeprecatedSynchronousErrorHandling?function it(e){wt.useDeprecatedSynchronousErrorHandling&&cn&&(cn.errorThrown=!0,cn.error=e)}(e):kn(e)}function Ro(e,t){const{onStoppedNotification:n}=wt;n&&bt.setTimeout(()=>n(e,t))}const lo={closed:!0,next:ln,error:function Bi(e){throw e},complete:ln},Sr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Je(e){return e}function _n(e){return 0===e.length?Je:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Ct=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const u=function _c(e){return e&&e instanceof ht||function ot(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}(e)&&rt(e)}(n)?n:new wn(n,r,o);return Ge(()=>{const{operator:d,source:v}=this;u.add(d?d.call(u,v):v?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Oa(r))((o,u)=>{const d=new wn({next:v=>{try{n(v)}catch(w){u(w),d.unsubscribe()}},error:u,complete:o});this.subscribe(d)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Sr](){return this}pipe(...n){return _n(n)(this)}toPromise(n){return new(n=Oa(n))((r,o)=>{let u;this.subscribe(d=>u=d,d=>o(d),()=>r(u))})}}return e.create=t=>new e(t),e})();function Oa(e){var t;return null!==(t=e??wt.Promise)&&void 0!==t?t:Promise}const co=B(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Dr=(()=>{class e extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new du(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new co}next(n){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:u}=this;return r||o?Se:(this.currentObservers=null,u.push(n),new Ve(()=>{this.currentObservers=null,Ee(u,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:u}=this;r?n.error(o):u&&n.complete()}asObservable(){const n=new Ct;return n.source=this,n}}return e.create=(t,n)=>new du(t,n),e})();class du extends Dr{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Se}}function ef(e){return ce(e?.lift)}function ir(e){return t=>{if(ef(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gr(e,t,n,r,o){return new kg(e,t,n,r,o)}class kg extends ht{constructor(t,n,r,o,u,d){super(t),this.onFinalize=u,this.shouldUnsubscribe=d,this._next=n?function(v){try{n(v)}catch(w){t.error(w)}}:super._next,this._error=o?function(v){try{o(v)}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(v){t.error(v)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function en(e,t){return ir((n,r)=>{let o=0;n.subscribe(gr(r,u=>{r.next(e.call(t,u,o++))}))})}function pa(e){return this instanceof pa?(this.v=e,this):new pa(e)}function Ic(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function tf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=e[u]&&function(d){return new Promise(function(v,w){!function o(u,d,v,w){Promise.resolve(w).then(function(_){u({value:_,done:v})},d)}(v,w,(d=e[u](d)).done,d.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const sf=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function vu(e){return ce(e?.then)}function mu(e){return ce(e[Sr])}function uf(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function La(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nh=function Oc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ga(e){return ce(e?.[Nh])}function lf(e){return function Mc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),u=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(L){r[L]&&(o[L]=function(Q){return new Promise(function(oe,ee){u.push([L,Q,oe,ee])>1||v(L,Q)})})}function v(L,Q){try{!function w(L){L.value instanceof pa?Promise.resolve(L.value.v).then(_,I):P(u[0][2],L)}(r[L](Q))}catch(oe){P(u[0][3],oe)}}function _(L){v("next",L)}function I(L){v("throw",L)}function P(L,Q){L(Q),u.shift(),u.length&&v(u[0][0],u[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield pa(n.read());if(o)return yield pa(void 0);yield yield pa(r)}}finally{n.releaseLock()}})}function kc(e){return ce(e?.getReader)}function Yi(e){if(e instanceof Ct)return e;if(null!=e){if(mu(e))return function Hg(e){return new Ct(t=>{const n=e[Sr]();if(ce(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(sf(e))return function Ug(e){return new Ct(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(vu(e))return function cf(e){return new Ct(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,kn)})}(e);if(uf(e))return El(e);if(ga(e))return function Ph(e){return new Ct(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(kc(e))return function Oh(e){return El(lf(e))}(e)}throw La(e)}function El(e){return new Ct(t=>{(function df(e,t){var n,r,o,u;return function pu(e,t,n,r){return new(n||(n=Promise))(function(u,d){function v(I){try{_(r.next(I))}catch(P){d(P)}}function w(I){try{_(r.throw(I))}catch(P){d(P)}}function _(I){I.done?u(I.value):function o(u){return u instanceof n?u:new n(function(d){d(u)})}(I.value).then(v,w)}_((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ic(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(d){o={error:d}}finally{try{r&&!r.done&&(u=n.return)&&(yield u.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function $n(e,t,n,r=0,o=!1){const u=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!o)return u}function Gt(e,t,n=1/0){return ce(t)?Gt((r,o)=>en((u,d)=>t(r,u,o,d))(Yi(e(r,o))),n):("number"==typeof t&&(n=t),ir((r,o)=>function kh(e,t,n,r,o,u,d,v){const w=[];let _=0,I=0,P=!1;const L=()=>{P&&!w.length&&!_&&t.complete()},Q=ee=>_<r?oe(ee):w.push(ee),oe=ee=>{u&&t.next(ee),_++;let ge=!1;Yi(n(ee,I++)).subscribe(gr(t,Ue=>{o?.(Ue),u?Q(Ue):t.next(Ue)},()=>{ge=!0},void 0,()=>{if(ge)try{for(_--;w.length&&_<r;){const Ue=w.shift();d?$n(t,d,()=>oe(Ue)):oe(Ue)}L()}catch(Ue){t.error(Ue)}}))};return e.subscribe(gr(t,Q,()=>{P=!0,L()})),()=>{v?.()}}(r,o,e,n)))}function yu(e=1/0){return Gt(Je,e)}const Yr=new Ct(e=>e.complete());function Lc(e){return e[e.length-1]}function No(e){return function Fc(e){return e&&ce(e.schedule)}(Lc(e))?e.pop():void 0}function Lh(e,t=0){return ir((n,r)=>{n.subscribe(gr(r,o=>$n(r,e,()=>r.next(o),t),()=>$n(r,e,()=>r.complete(),t),o=>$n(r,e,()=>r.error(o),t)))})}function ho(e,t=0){return ir((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Vh(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ct(n=>{$n(n,t,()=>{const r=e[Symbol.asyncIterator]();$n(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Or(e,t){return t?function _l(e,t){if(null!=e){if(mu(e))return function Ba(e,t){return Yi(e).pipe(ho(t),Lh(t))}(e,t);if(sf(e))return function va(e,t){return new Ct(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(vu(e))return function Bh(e,t){return Yi(e).pipe(ho(t),Lh(t))}(e,t);if(uf(e))return Vh(e,t);if(ga(e))return function zg(e,t){return new Ct(n=>{let r;return $n(n,t,()=>{r=e[Nh](),$n(n,t,()=>{let o,u;try{({value:o,done:u}=r.next())}catch(d){return void n.error(d)}u?n.complete():n.next(o)},0,!0)}),()=>ce(r?.return)&&r.return()})}(e,t);if(kc(e))return function wu(e,t){return Vh(lf(e),t)}(e,t)}throw La(e)}(e,t):Yi(e)}class Xi extends Dr{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Bt(...e){return Or(e,No(e))}function hf(e={}){const{connector:t=(()=>new Dr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return u=>{let d,v,w,_=0,I=!1,P=!1;const L=()=>{v?.unsubscribe(),v=void 0},Q=()=>{L(),d=w=void 0,I=P=!1},oe=()=>{const ee=d;Q(),ee?.unsubscribe()};return ir((ee,ge)=>{_++,!P&&!I&&L();const Ue=w=w??t();ge.add(()=>{_--,0===_&&!P&&!I&&(v=Du(oe,o))}),Ue.subscribe(ge),!d&&_>0&&(d=new wn({next:ye=>Ue.next(ye),error:ye=>{P=!0,L(),v=Du(Q,n,ye),Ue.error(ye)},complete:()=>{I=!0,L(),v=Du(Q,r),Ue.complete()}}),Yi(ee).subscribe(d))})(u)}}function Du(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new wn({next:()=>{r.unsubscribe(),e()}});return Yi(t(...n)).subscribe(r)}function po(e,t){return ir((n,r)=>{let o=null,u=0,d=!1;const v=()=>d&&!o&&r.complete();n.subscribe(gr(r,w=>{o?.unsubscribe();let _=0;const I=u++;Yi(e(w,I)).subscribe(o=gr(r,P=>r.next(t?t(w,P,I,_++):P),()=>{o=null,v()}))},()=>{d=!0,v()}))})}function $h(e,t){return e===t}function zn(e){for(let t in e)if(e[t]===zn)return t;throw Error("Could not find renamed property on target object.")}function Xr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Xr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Bc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Sl=zn({__forward_ref__:zn});function Zn(e){return e.__forward_ref__=Zn,e.toString=function(){return Xr(this())},e}function Pt(e){return ks(e)?e():e}function ks(e){return"function"==typeof e&&e.hasOwnProperty(Sl)&&e.__forward_ref__===Zn}function xl(e){return e&&!!e.\u0275providers}class ze extends Error{constructor(t,n){super(function Il(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function jn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Zt(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Va(e,t){throw new ze(-201,!1)}function vo(e,t){null==e&&function Lt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Mt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mo(e){return{providers:e.providers||[],imports:e.imports||[]}}function os(e){return Uc(e,yo)||Uc(e,jc)}function Uc(e,t){return e.hasOwnProperty(t)?e[t]:null}function si(e){return e&&(e.hasOwnProperty(zc)||e.hasOwnProperty(vf))?e[zc]:null}const yo=zn({\u0275prov:zn}),zc=zn({\u0275inj:zn}),jc=zn({ngInjectableDef:zn}),vf=zn({ngInjectorDef:zn});var gn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(gn||{});let kr;function Yn(e){const t=kr;return kr=e,t}function $a(e,t,n){const r=os(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&gn.Optional?null:void 0!==t?t:void Va(Xr(e))}const An=globalThis,Su={},Ha="__NG_DI_FLAG__",Nl="ngTempTokenPath",yf=/\n/gm,Wh="__source";let ss;function us(e){const t=ss;return ss=e,t}function Zh(e,t=gn.Default){if(void 0===ss)throw new ze(-203,!1);return null===ss?$a(e,void 0,t):ss.get(e,t&gn.Optional?null:void 0,t)}function gt(e,t=gn.Default){return(function Eu(){return kr}()||Zh)(Pt(e),t)}function dt(e,t=gn.Default){return gt(e,Ol(t))}function Ol(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Kc(e){const t=[];for(let n=0;n<e.length;n++){const r=Pt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ze(900,!1);let o,u=gn.Default;for(let d=0;d<r.length;d++){const v=r[d],w=qg(v);"number"==typeof w?-1===w?o=v.token:u|=w:o=v}t.push(gt(o,u))}else t.push(gt(r))}return t}function xu(e,t){return e[Ha]=t,e.prototype[Ha]=t,e}function qg(e){return e[Ha]}function ya(e){return{toString:e}.toString()}var wa=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(wa||{}),Jo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Jo||{});const ba={},vn=[],Da=zn({\u0275cmp:zn}),wo=zn({\u0275dir:zn}),Mu=zn({\u0275pipe:zn}),Yc=zn({\u0275mod:zn}),ko=zn({\u0275fac:zn}),Bs=zn({__NG_ELEMENT_ID__:zn}),ls=zn({__NG_ENV_ID__:zn});function bo(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}function Xc(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const u=n[r++],d=n[r++],v=n[r++];e.setAttribute(t,d,v,u)}else{const u=o,d=n[++r];Xh(u)?e.setProperty(t,u,d):e.setAttribute(t,u,d),r++}}return r}function Yh(e){return 3===e||4===e||6===e}function Xh(e){return 64===e.charCodeAt(0)}function Iu(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||wf(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function wf(e,t,n,r,o){let u=0,d=e.length;if(-1===t)d=-1;else for(;u<e.length;){const v=e[u++];if("number"==typeof v){if(v===t){d=-1;break}if(v>t){d=u-1;break}}}for(;u<e.length;){const v=e[u];if("number"==typeof v)break;if(v===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==d&&(e.splice(d,0,t),u=d+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}const Qh="ng-template";function Qc(e,t,n){let r=0,o=!0;for(;r<e.length;){let u=e[r++];if("string"==typeof u&&o){const d=e[r++];if(n&&"class"===u&&-1!==bo(d.toLowerCase(),t,0))return!0}else{if(1===u){for(;r<e.length&&"string"==typeof(u=e[r++]);)if(u.toLowerCase()===t)return!0;return!1}"number"==typeof u&&(o=!1)}}return!1}function se(e){return 4===e.type&&e.value!==Qh}function xe(e,t,n){return t===(4!==e.type||n?e.value:Qh)}function me(e,t,n){let r=4;const o=e.attrs||[],u=function Qn(e){for(let t=0;t<e.length;t++)if(Yh(e[t]))return t;return e.length}(o);let d=!1;for(let v=0;v<t.length;v++){const w=t[v];if("number"!=typeof w){if(!d)if(4&r){if(r=2|1&r,""!==w&&!xe(e,w,n)||""===w&&1===t.length){if(ut(r))return!1;d=!0}}else{const _=8&r?w:t[++v];if(8&r&&null!==e.attrs){if(!Qc(e.attrs,_,n)){if(ut(r))return!1;d=!0}continue}const P=Xt(8&r?"class":w,o,se(e),n);if(-1===P){if(ut(r))return!1;d=!0;continue}if(""!==_){let L;L=P>u?"":o[P+1].toLowerCase();const Q=8&r?L:null;if(Q&&-1!==bo(Q,_,0)||2&r&&_!==L){if(ut(r))return!1;d=!0}}}}else{if(!d&&!ut(r)&&!ut(w))return!1;if(d&&ut(w))continue;d=!1,r=w|1&r}}return ut(r)||d}function ut(e){return 0==(1&e)}function Xt(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const d=t[o];if(d===e)return o;if(3===d||6===d)u=!0;else{if(1===d||2===d){let v=t[++o];for(;"string"==typeof v;)v=t[++o];continue}if(4===d)break;if(0===d){o+=4;continue}}o+=u?1:2}return-1}return function Jc(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ln(e,t,n=!1){for(let r=0;r<t.length;r++)if(me(e,t[r],n))return!0;return!1}function Do(e,t){return e?":not("+t.trim()+")":t}function td(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&r){const v=e[++n];o+="["+d+(v.length>0?'="'+v+'"':"")+"]"}else 8&r?o+="."+d:4&r&&(o+=" "+d);else""!==o&&!ut(d)&&(t+=Do(u,o),o=""),r=d,u=u||!ut(r);n++}return""!==o&&(t+=Do(u,o)),t}function Vs(e){return ya(()=>{const t=bf(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Jo.Emulated,styles:e.styles||vn,_:null,schemas:e.schemas||null,tView:null,id:""};rd(n);const r=e.dependencies;return n.directiveDefs=cs(r,!1),n.pipeDefs=cs(r,!0),n.id=function Au(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Gn(e){return bn(e)||vr(e)}function Zg(e){return null!==e}function Fo(e){return ya(()=>({type:e.type,bootstrap:e.bootstrap||vn,declarations:e.declarations||vn,imports:e.imports||vn,exports:e.exports||vn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ep(e,t){if(null==e)return ba;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}function Ht(e){return ya(()=>{const t=bf(e);return rd(t),t})}function bn(e){return e[Da]||null}function vr(e){return e[wo]||null}function Fr(e){return e[Mu]||null}function ei(e,t){const n=e[Yc]||null;if(!n&&!0===t)throw new Error(`Type ${Xr(e)} does not have '\u0275mod' property.`);return n}function bf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ba,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||vn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ep(e.inputs,t),outputs:ep(e.outputs)}}function rd(e){e.features?.forEach(t=>t(e))}function cs(e,t){if(!e)return null;const n=t?Fr:Gn;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Zg)}const En=0,ct=1,Qt=2,lr=3,Lo=4,ds=5,mr=6,Ca=7,Jn=8,Ua=9,Ru=10,Kt=11,Ot=12,Di=13,za=14,Rt=15,Rn=16,pt=17,Ji=18,ja=19,id=20,Co=21,ui=22,Pi=23,Ea=24,nn=25,Cf=1,tp=2,_a=7,Ga=9,Br=11;function dn(e){return Array.isArray(e)&&"object"==typeof e[Cf]}function rn(e){return Array.isArray(e)&&!0===e[Cf]}function eo(e){return 0!=(4&e.flags)}function on(e){return e.componentOffset>-1}function li(e){return!!e.template}function Sa(e){return 0!=(512&e[Qt])}function So(e,t){return e.hasOwnProperty(ko)?e[ko]:null}let Ci=null,Nu=!1;function no(e){const t=Ci;return Ci=e,t}const xf={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Bl(e){if(!Vl(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Ma(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function ku(e){e.dirty=!0,function Us(e){if(void 0===e.liveConsumerNode)return;const t=Nu;Nu=!0;try{for(const n of e.liveConsumerNode)n.dirty||ku(n)}finally{Nu=t}}(e),e.consumerMarkedDirty?.(e)}function hs(e){return e&&(e.nextProducerIndex=0),no(e)}function sd(e,t){if(no(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Vl(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Vi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ma(e){zs(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Bl(n),r!==n.version))return!0}return!1}function ud(e){if(zs(e),Vl(e))for(let t=0;t<e.producerNode.length;t++)Vi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Vi(e,t){if(function Mf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),zs(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Vi(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];zs(o),o.producerIndexOfThis[r]=t}}function Vl(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function zs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let dd=null;const Gs=()=>{},lp=(()=>({...xf,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Gs}))();class Nn{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function $o(){return Tf}function Tf(e){return e.type.prototype.ngOnChanges&&(e.setInput=nv),vs}function vs(){const e=qs(this),t=e?.current;if(t){const n=e.previous;if(n===ba)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function nv(e,t,n,r){const o=this.declaredInputs[n],u=qs(e)||function Af(e,t){return e[cp]=t}(e,{previous:ba,current:null}),d=u.current||(u.current={}),v=u.previous,w=v[o];d[o]=new Nn(w&&w.currentValue,t,v===ba),e[r]=t}$o.ngInherit=!0;const cp="__ngSimpleChanges__";function qs(e){return e[cp]||null}const or=function(e,t,n){};function Hn(e){for(;Array.isArray(e);)e=e[En];return e}function $i(e,t){return Hn(t[e.index])}function ti(e,t){const n=t[e];return dn(n)?n:n[En]}function Za(e,t){return null==t?null:e[t]}function ql(e){e[pt]=0}function Nf(e){1024&e[Qt]||(e[Qt]|=1024,ci(e,1))}function Wl(e){1024&e[Qt]&&(e[Qt]&=-1025,ci(e,-1))}function ci(e,t){let n=e[lr];if(null===n)return;n[ds]+=t;let r=n;for(n=n[lr];null!==n&&(1===t&&1===r[ds]||-1===t&&0===r[ds]);)n[ds]+=t,r=n,n=n[lr]}const Ut={lFrame:yd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function di(){return Ut.bindingsEnabled}function Te(){return Ut.lFrame.lView}function Dn(){return Ut.lFrame.tView}function fi(){let e=gd();for(;null!==e&&64===e.type;)e=e.parent;return e}function gd(){return Ut.lFrame.currentTNode}function Hi(e,t){const n=Ut.lFrame;n.currentTNode=e,n.isParent=t}function $r(){return Ut.lFrame.isParent}function iv(e,t){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ia(t)}function Ia(e){Ut.lFrame.currentDirectiveIndex=e}function Ui(){return Ut.lFrame.currentQueryIndex}function Hu(e){Ut.lFrame.currentQueryIndex=e}function ov(e){const t=e[ct];return 2===t.type?t.declTNode:1===t.type?e[mr]:null}function Yl(e,t,n){if(n&gn.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&gn.Host||(o=ov(u),null===o||(u=u[za],10&o.type))););if(null===o)return!1;t=o,e=u}const r=Ut.lFrame=md();return r.currentTNode=t,r.lView=e,!0}function Mo(e){const t=md(),n=e[ct];Ut.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function md(){const e=Ut.lFrame,t=null===e?null:e.child;return null===t?yd(e):t}function yd(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function yp(){const e=Ut.lFrame;return Ut.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wd=yp;function ws(){const e=yp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function na(e){Ut.lFrame.selectedIndex=e}let Bf=!0;function Ed(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:_,ngOnDestroy:I}=u;d&&(e.contentHooks??=[]).push(-n,d),v&&((e.contentHooks??=[]).push(n,v),(e.contentCheckHooks??=[]).push(n,v)),w&&(e.viewHooks??=[]).push(-n,w),_&&((e.viewHooks??=[]).push(n,_),(e.viewCheckHooks??=[]).push(n,_)),null!=I&&(e.destroyHooks??=[]).push(n,I)}}function Xl(e,t,n){Vf(e,t,3,n)}function zi(e,t,n,r){(3&e[Qt])===n&&Vf(e,t,n,r)}function _d(e,t){let n=e[Qt];(3&n)===t&&(n&=8191,n+=1,e[Qt]=n)}function Vf(e,t,n,r){const u=r??-1,d=t.length-1;let v=0;for(let w=void 0!==r?65535&e[pt]:0;w<d;w++)if("number"==typeof t[w+1]){if(v=t[w],null!=r&&v>=r)break}else t[w]<0&&(e[pt]+=65536),(v<u||-1==u)&&(Dp(e,n,t,w),e[pt]=(4294901760&e[pt])+w+2),w++}function bp(e,t){or(4,e,t);const n=no(null);try{t.call(e)}finally{no(n),or(5,e,t)}}function Dp(e,t,n,r){const o=n[r]<0,u=n[r+1],v=e[o?-n[r]:n[r]];o?e[Qt]>>13<e[pt]>>16&&(3&e[Qt])===t&&(e[Qt]+=8192,bp(v,u)):bp(v,u)}const zu=-1;class Ql{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Wu(e){return e!==zu}function ra(e){return 32767&e}function bs(e,t){let n=function _p(e){return e>>16}(e),r=t;for(;n>0;)r=r[za],n--;return r}let Jl=!0;function Lr(e){const t=Jl;return Jl=e,t}const ec=255,pi=5;let Sp=0;const ji={};function Sd(e,t){const n=ia(e,t);if(-1!==n)return n;const r=t[ct];r.firstCreatePass&&(e.injectorIndex=t.length,zo(r.data,e),zo(t,null),zo(r.blueprint,null));const o=ni(e,t),u=e.injectorIndex;if(Wu(o)){const d=ra(o),v=bs(o,t),w=v[ct].data;for(let _=0;_<8;_++)t[u+_]=v[d+_]|w[d+_]}return t[u+8]=o,u}function zo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ia(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ni(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Qu(o),null===r)return zu;if(n++,o=o[za],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return zu}function tc(e,t,n){!function Hf(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bs)&&(r=n[Bs]),null==r&&(r=n[Bs]=Sp++);const o=r&ec;t.data[e+(o>>pi)]|=1<<o}(e,t,n)}function nc(e,t,n){if(n&gn.Optional||void 0!==e)return e;Va()}function Uf(e,t,n,r){if(n&gn.Optional&&void 0===r&&(r=null),!(n&(gn.Self|gn.Host))){const o=e[Ua],u=Yn(void 0);try{return o?o.get(t,r,n&gn.Optional):$a(t,r,n&gn.Optional)}finally{Yn(u)}}return nc(r,0,n)}function rc(e,t,n,r=gn.Default,o){if(null!==e){if(2048&t[Qt]&&!(r&gn.Self)){const d=function xd(e,t,n,r,o){let u=e,d=t;for(;null!==u&&null!==d&&2048&d[Qt]&&!(512&d[Qt]);){const v=Ya(u,d,n,r|gn.Self,ji);if(v!==ji)return v;let w=u.parent;if(!w){const _=d[id];if(_){const I=_.get(n,ji,r);if(I!==ji)return I}w=Qu(d),d=d[za]}u=w}return o}(e,t,n,r,ji);if(d!==ji)return d}const u=Ya(e,t,n,r,ji);if(u!==ji)return u}return Uf(t,n,r,o)}function Ya(e,t,n,r,o){const u=function Xa(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Bs)?e[Bs]:void 0;return"number"==typeof t?t>=0?t&ec:ic:t}(n);if("function"==typeof u){if(!Yl(t,e,r))return r&gn.Host?nc(o,0,r):Uf(t,n,r,o);try{let d;if(d=u(r),null!=d||r&gn.Optional)return d;Va()}finally{wd()}}else if("number"==typeof u){let d=null,v=ia(e,t),w=zu,_=r&gn.Host?t[Rt][mr]:null;for((-1===v||r&gn.SkipSelf)&&(w=-1===v?ni(e,t):t[v+8],w!==zu&&jf(r,!1)?(d=t[ct],v=ra(w),t=bs(w,t)):v=-1);-1!==v;){const I=t[ct];if(Yu(u,v,I.data)){const P=zf(v,t,n,d,r,_);if(P!==ji)return P}w=t[v+8],w!==zu&&jf(r,t[ct].data[v+8]===_)&&Yu(u,v,t)?(d=I,v=ra(w),t=bs(w,t)):v=-1}}return o}function zf(e,t,n,r,o,u){const d=t[ct],v=d.data[e+8],I=Ku(v,d,n,null==r?on(v)&&Jl:r!=d&&0!=(3&v.type),o&gn.Host&&u===v);return null!==I?jo(t,d,I,v):ji}function Ku(e,t,n,r,o){const u=e.providerIndexes,d=t.data,v=1048575&u,w=e.directiveStart,I=u>>20,L=o?v+I:e.directiveEnd;for(let Q=r?v:v+I;Q<L;Q++){const oe=d[Q];if(Q<w&&n===oe||Q>=w&&oe.type===n)return Q}if(o){const Q=d[w];if(Q&&li(Q)&&Q.type===n)return w}return null}function jo(e,t,n,r){let o=e[n];const u=t.data;if(function Ta(e){return e instanceof Ql}(o)){const d=o;d.resolving&&function Vc(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ze(-200,`Circular dependency in DI detected for ${e}${n}`)}(jn(u[n]));const v=Lr(d.canSeeViewProviders);d.resolving=!0;const _=d.injectImpl?Yn(d.injectImpl):null;Yl(e,r,gn.Default);try{o=e[n]=d.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Cd(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const d=Tf(t);(n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d)}o&&(n.preOrderHooks??=[]).push(0-e,o),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}(n,u[n],t)}finally{null!==_&&Yn(_),Lr(v),d.resolving=!1,wd()}}return o}function Yu(e,t,n){return!!(n[t+(e>>pi)]&1<<e)}function jf(e,t){return!(e&gn.Self||e&gn.Host&&t)}class Ur{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return rc(this._tNode,this._lView,t,Ol(r),n)}}function ic(){return new Ur(fi(),Te())}function Ys(e){return ks(e)?()=>{const t=Ys(Pt(e));return t&&t()}:So(e)}function Qu(e){const t=e[ct],n=t.type;return 2===n?t.declTNode:1===n?e[mr]:null}const Xs="__parameters__";function Qs(e,t,n){return ya(()=>{const r=function qf(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const d=new o(...u);return v.annotation=d,v;function v(w,_,I){const P=w.hasOwnProperty(Xs)?w[Xs]:Object.defineProperty(w,Xs,{value:[]})[Xs];for(;P.length<=I;)P.push(null);return(P[I]=P[I]||[]).push(d),w}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function nl(e,t){e.forEach(n=>Array.isArray(n)?nl(n,t):t(n))}function Wf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Md(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Io=xu(Qs("Optional"),8),Ad=xu(Qs("SkipSelf"),4);function a(e){return 128==(128&e.flags)}var f=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(f||{});const y=new Map;let D=0;const k="__ngContext__";function V(e,t){dn(t)?(e[k]=t[ja],function S(e){y.set(e[ja],e)}(t)):e[k]=t}let ne;function re(e,t){return ne(e,t)}function pe(e){const t=e[lr];return rn(t)?t[lr]:t}function be(e){return Fe(e[Ot])}function Ae(e){return Fe(e[Lo])}function Fe(e){for(;null!==e&&!rn(e);)e=e[Lo];return e}function Me(e,t,n,r,o){if(null!=r){let u,d=!1;rn(r)?u=r:dn(r)&&(d=!0,r=r[En]);const v=Hn(r);0===e&&null!==n?null==o?G(t,n,v):Be(t,n,v,o||null,!0):1===e&&null!==n?Be(t,n,v,o||null,!0):2===e?function jr(e,t,n){const r=Ce(e,t);r&&function He(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,v,d):3===e&&t.destroyNode(v),null!=u&&function Zo(e,t,n,r,o){const u=n[_a];u!==Hn(n)&&Me(t,e,r,u,o);for(let v=Br;v<n.length;v++){const w=n[v];Er(w[ct],w,e,t,r,u)}}(t,e,u,n,o)}}function Le(e,t,n){return e.createElement(t,n)}function je(e,t){const n=e[Ga],r=n.indexOf(t);Wl(t),n.splice(r,1)}function mt(e,t){if(e.length<=Br)return;const n=Br+t,r=e[n];if(r){const o=r[Rn];null!==o&&o!==e&&je(o,r),t>0&&(e[n-1][Lo]=r[Lo]);const u=Md(e,Br+t);!function Ke(e,t){Er(e,t,t[Kt],2,null,null),t[En]=null,t[mr]=null}(r[ct],r);const d=u[Ji];null!==d&&d.detachView(u[ct]),r[lr]=null,r[Lo]=null,r[Qt]&=-129}return r}function Ye(e,t){if(!(256&t[Qt])){const n=t[Kt];t[Pi]&&ud(t[Pi]),t[Ea]&&ud(t[Ea]),n.destroyNode&&Er(e,t,n,3,null,null),function Jt(e){let t=e[Ot];if(!t)return nt(e[ct],e);for(;t;){let n=null;if(dn(t))n=t[Ot];else{const r=t[Br];r&&(n=r)}if(!n){for(;t&&!t[Lo]&&t!==e;)dn(t)&&nt(t[ct],t),t=t[lr];null===t&&(t=e),dn(t)&&nt(t[ct],t),n=t&&t[Lo]}t=n}}(t)}}function nt(e,t){if(!(256&t[Qt])){t[Qt]&=-129,t[Qt]|=256,function qt(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ql)){const u=n[r+1];if(Array.isArray(u))for(let d=0;d<u.length;d+=2){const v=o[u[d]],w=u[d+1];or(4,v,w);try{w.call(v)}finally{or(5,v,w)}}else{or(4,o,u);try{u.call(o)}finally{or(5,o,u)}}}}}(e,t),function pn(e,t){const n=e.cleanup,r=t[Ca];if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const d=n[u+3];d>=0?r[d]():r[-d].unsubscribe(),u+=2}else n[u].call(r[n[u+1]]);null!==r&&(t[Ca]=null);const o=t[Co];if(null!==o){t[Co]=null;for(let u=0;u<o.length;u++)(0,o[u])()}}(e,t),1===t[ct].type&&t[Kt].destroy();const n=t[Rn];if(null!==n&&rn(t[lr])){n!==t[lr]&&je(n,t);const r=t[Ji];null!==r&&r.detachView(e)}!function x(e){y.delete(e[ja])}(t)}}function Nt(e,t,n){return function Un(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[En];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:u}=e.data[r.directiveStart+o];if(u===Jo.None||u===Jo.Emulated)return null}return $i(r,n)}}(e,t.parent,n)}function Be(e,t,n,r,o){e.insertBefore(t,n,r,o)}function G(e,t,n){e.appendChild(t,n)}function we(e,t,n,r,o){null!==r?Be(e,t,n,r,o):G(e,t,n)}function Ce(e,t){return e.parentNode(t)}let Bn,Wi,Tt=function st(e,t,n){return 40&e.type?$i(e,n):null};function xn(e,t,n,r){const o=Nt(e,r,t),u=t[Kt],v=function $e(e,t,n){return Tt(e,t,n)}(r.parent||t[mr],r,t);if(null!=o)if(Array.isArray(n))for(let w=0;w<n.length;w++)we(u,o,n[w],v,!1);else we(u,o,n,v,!1);void 0!==Bn&&Bn(u,r,t,n,o)}function Wt(e,t){if(null!==t){const n=t.type;if(3&n)return $i(t,e);if(4&n)return wr(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Wt(e,r);{const o=e[t.index];return rn(o)?wr(-1,o):Hn(o)}}if(32&n)return re(t,e)()||Hn(e[t.index]);{const r=un(e,t);return null!==r?Array.isArray(r)?r[0]:Wt(pe(e[Rt]),r):Wt(e,t.next)}}return null}function un(e,t){return null!==t?e[Rt][mr].projection[t.projection]:null}function wr(e,t){const n=Br+e+1;if(n<t.length){const r=t[n],o=r[ct].firstChild;if(null!==o)return Wt(r,o)}return t[_a]}function Si(e,t,n,r,o,u,d){for(;null!=n;){const v=r[n.index],w=n.type;if(d&&0===t&&(v&&V(Hn(v),r),n.flags|=2),32!=(32&n.flags))if(8&w)Si(e,t,n.child,r,o,u,!1),Me(t,e,o,v,u);else if(32&w){const _=re(n,r);let I;for(;I=_();)Me(t,e,o,I,u);Me(t,e,o,v,u)}else 16&w?xi(e,t,r,n,o,u):Me(t,e,o,v,u);n=d?n.projectionNext:n.next}}function Er(e,t,n,r,o,u){Si(n,r,e.firstChild,t,o,u,!1)}function xi(e,t,n,r,o,u){const d=n[Rt],w=d[mr].projection[r.projection];if(Array.isArray(w))for(let _=0;_<w.length;_++)Me(t,e,o,w[_],u);else{let _=w;const I=d[lr];a(r)&&(_.flags|=128),Si(e,t,_,I,o,u,!0)}}function _s(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Js(e,t,n){const{mergedAttrs:r,classes:o,styles:u}=n;null!==r&&Xc(e,t,r),null!==o&&_s(e,t,o),null!==u&&function aa(e,t,n){e.setAttribute(t,"style",n)}(e,t,u)}class yt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Mt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lh=new yt("ENVIRONMENT_INITIALIZER"),wy=new yt("INJECTOR",-1),by=new yt("INJECTOR_DEF_TYPES");class Av{get(t,n=Su){if(n===Su){const r=new Error(`NullInjectorError: No provider for ${Xr(t)}!`);throw r.name="NullInjectorError",r}return n}}function yw(...e){return{\u0275providers:Dy(0,e),\u0275fromNgModule:!0}}function Dy(e,...t){const n=[],r=new Set;let o;const u=d=>{n.push(d)};return nl(t,d=>{const v=d;zp(v,u,[],r)&&(o||=[],o.push(v))}),void 0!==o&&Cy(o,u),n}function Cy(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Nv(o,u=>{t(u,r)})}}function zp(e,t,n,r){if(!(e=Pt(e)))return!1;let o=null,u=si(e);const d=!u&&bn(e);if(u||d){if(d&&!d.standalone)return!1;o=e}else{const w=e.ngModule;if(u=si(w),!u)return!1;o=w}const v=r.has(o);if(d){if(v)return!1;if(r.add(o),d.dependencies){const w="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const _ of w)zp(_,t,n,r)}}else{if(!u)return!1;{if(null!=u.imports&&!v){let _;r.add(o);try{nl(u.imports,I=>{zp(I,t,n,r)&&(_||=[],_.push(I))})}finally{}void 0!==_&&Cy(_,t)}if(!v){const _=So(o)||(()=>new o);t({provide:o,useFactory:_,deps:vn},o),t({provide:by,useValue:o,multi:!0},o),t({provide:lh,useValue:()=>gt(o),multi:!0},o)}const w=u.providers;if(null!=w&&!v){const _=e;Nv(w,I=>{t(I,_)})}}}return o!==e&&void 0!==e.providers}function Nv(e,t){for(let n of e)xl(n)&&(n=n.\u0275providers),Array.isArray(n)?Nv(n,t):t(n)}const ww=zn({provide:String,useValue:zn});function Pv(e){return null!==e&&"object"==typeof e&&ww in e}function fl(e){return"function"==typeof e}const Ov=new yt("Set Injector scope."),Gp={},bw={};let ch;function qp(){return void 0===ch&&(ch=new Av),ch}class ua{}class Wp extends ua{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dh(t,d=>this.processProvider(d)),this.records.set(wy,Fd(void 0,this)),o.has("environment")&&this.records.set(ua,Fd(void 0,this));const u=this.records.get(Ov);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(by.multi,vn,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=us(this),r=Yn(void 0);try{return t()}finally{us(n),Yn(r)}}get(t,n=Su,r=gn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ls))return t[ls](this);r=Ol(r);const u=us(this),d=Yn(void 0);try{if(!(r&gn.SkipSelf)){let w=this.records.get(t);if(void 0===w){const _=function Ew(e){return"function"==typeof e||"object"==typeof e&&e instanceof yt}(t)&&os(t);w=_&&this.injectableDefInScope(_)?Fd(so(t),Gp):null,this.records.set(t,w)}if(null!=w)return this.hydrate(t,w)}return(r&gn.Self?qp():this.parent).get(t,n=r&gn.Optional&&n===Su?null:n)}catch(v){if("NullInjectorError"===v.name){if((v[Nl]=v[Nl]||[]).unshift(Xr(t)),u)throw v;return function Wg(e,t,n,r){const o=e[Nl];throw t[Wh]&&o.unshift(t[Wh]),e.message=function Kh(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Xr(t);if(Array.isArray(t))o=t.map(Xr).join(" -> ");else if("object"==typeof t){let u=[];for(let d in t)if(t.hasOwnProperty(d)){let v=t[d];u.push(d+":"+("string"==typeof v?JSON.stringify(v):Xr(v)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(yf,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Nl]=null,e}(v,t,"R3InjectorError",this.source)}throw v}finally{Yn(d),us(u)}}resolveInjectorInitializers(){const t=us(this),n=Yn(void 0);try{const o=this.get(lh.multi,vn,gn.Self);for(const u of o)u()}finally{us(t),Yn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Xr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(t){let n=fl(t=Pt(t))?t:Pt(t&&t.provide);const r=function Dw(e){return Pv(e)?Fd(void 0,e.useValue):Fd(function Sy(e,t,n){let r;if(fl(e)){const o=Pt(e);return So(o)||so(o)}if(Pv(e))r=()=>Pt(e.useValue);else if(function jp(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Kc(e.deps||[]));else if(function Ey(e){return!(!e||!e.useExisting)}(e))r=()=>gt(Pt(e.useExisting));else{const o=Pt(e&&(e.useClass||e.provide));if(!function Cw(e){return!!e.deps}(e))return So(o)||so(o);r=()=>new o(...Kc(e.deps))}return r}(e),Gp)}(t);if(fl(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Fd(void 0,Gp,!0),o.factory=()=>Kc(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Gp&&(n.value=bw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Fv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Pt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function so(e){const t=os(e),n=null!==t?t.factory:So(e);if(null!==n)return n;if(e instanceof yt)throw new ze(204,!1);if(e instanceof Function)return function kv(e){const t=e.length;if(t>0)throw function ac(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new ze(204,!1);const n=function Po(e){return e&&(e[yo]||e[jc])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ze(204,!1)}function Fd(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dh(e,t){for(const n of e)Array.isArray(n)?dh(n,t):n&&xl(n)?dh(n.\u0275providers,t):t(n)}const Zp=new yt("AppId",{providedIn:"root",factory:()=>_w}),_w="ng",xy=new yt("Platform Initializer"),cc=new yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),My=new yt("CSP nonce",{providedIn:"root",factory:()=>function cl(){if(void 0!==Wi)return Wi;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ay=(e,t,n)=>null;function jv(e,t,n=!1){return Ay(e,t,n)}class qe{}class ft{}class zt{resolveComponentFactory(t){throw function St(e){const t=Error(`No component factory found for ${Xr(e)}.`);return t.ngComponent=e,t}(t)}}let mn=(()=>{class e{static#e=this.NULL=new zt}return e})();function On(){return Fi(fi(),Te())}function Fi(e,t){return new fr($i(e,t))}let fr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=On}return e})();function la(e){return e instanceof fr?e.nativeElement:e}class qr{}let Ry=(()=>{class e{static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>null})}return e})();class Gv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const PT=new Gv("16.2.10"),Rw={};function HC(e,t=null,n=null,r){const o=UC(e,t,n,r);return o.resolveInjectorInitializers(),o}function UC(e,t=null,n=null,r,o=new Set){const u=[n||vn,yw(e)];return r=r||("object"==typeof e?void 0:Xr(e)),new Wp(u,t||qp(),r||null,o)}let es=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Su;static#t=this.NULL=new Av;static create(n,r){if(Array.isArray(n))return HC({name:""},r,n,"");{const o=n.name??"";return HC({name:o},n.parent,n.providers,o)}}static#n=this.\u0275prov=Mt({token:e,providedIn:"any",factory:()=>gt(wy)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Pw(e){return e.ngOriginalError}class dc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Pw(t);for(;n&&Pw(n);)n=Pw(n);return n||null}}function kw(e){return t=>{setTimeout(e,void 0,t)}}const vi=class $T extends Dr{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,u=n||(()=>null),d=r;if(t&&"object"==typeof t){const w=t;o=w.next?.bind(w),u=w.error?.bind(w),d=w.complete?.bind(w)}this.__isAsync&&(u=kw(u),o&&(o=kw(o)),d&&(d=kw(d)));const v=super.subscribe({next:o,error:u,complete:d});return t instanceof Ve&&t.add(v),v}};function jC(...e){}class Tr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vi(!1),this.onMicrotaskEmpty=new vi(!1),this.onStable=new vi(!1),this.onError=new vi(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function HT(){const e="function"==typeof An.requestAnimationFrame;let t=An[e?"requestAnimationFrame":"setTimeout"],n=An[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function jT(e){const t=()=>{!function zT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(An,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Lw(e),e.isCheckStableRunning=!0,Fw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Lw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,d,v)=>{if(function qT(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(v))return n.invokeTask(o,u,d,v);try{return GC(e),n.invokeTask(o,u,d,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),qC(e)}},onInvoke:(n,r,o,u,d,v,w)=>{try{return GC(e),n.invoke(o,u,d,v,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),qC(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Lw(e),Fw(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tr.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(Tr.isInAngularZone())throw new ze(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,d=u.scheduleEventTask("NgZoneEvent: "+o,t,UT,jC,jC);try{return u.runTask(d,n,r)}finally{u.cancelTask(d)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const UT={};function Fw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Lw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function GC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qC(e){e._nesting--,Fw(e)}class GT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vi,this.onMicrotaskEmpty=new vi,this.onStable=new vi,this.onError=new vi}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const WC=new yt("",{providedIn:"root",factory:ZC});function ZC(){const e=dt(Tr);let t=!0;return function bu(...e){const t=No(e),n=function ff(e,t){return"number"==typeof Lc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Yi(r[0]):yu(n)(Or(r,t)):Yr}(new Ct(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Ct(o=>{let u;e.runOutsideAngular(()=>{u=e.onStable.subscribe(()=>{Tr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const d=e.onUnstable.subscribe(()=>{Tr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}}).pipe(hf()))}function fc(e){return e instanceof Function?e():e}let Bw=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>new e})}return e})();function qv(e){for(;e;){e[Qt]|=64;const t=pe(e);if(Sa(e)&&!t)return e;e=t}return null}const JC=new yt("",{providedIn:"root",factory:()=>!1});let Py=null;function rE(e,t){return e[t]??aE()}function iE(e,t){const n=aE();n.producerNode?.length&&(e[t]=Py,n.lView=e,Py=oE())}const nA={...xf,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{qv(e.lView)},lView:null};function oE(){return Object.create(nA)}function aE(){return Py??=oE(),Py}const fn={};function Ze(e,t=gn.Default){const n=Te();return null===n?gt(e,t):rc(fi(),n,Pt(e),t)}function Oy(e,t,n,r,o,u,d,v,w,_,I){const P=t.blueprint.slice();return P[En]=o,P[Qt]=140|r,(null!==_||e&&2048&e[Qt])&&(P[Qt]|=2048),ql(P),P[lr]=P[za]=e,P[Jn]=n,P[Ru]=d||e&&e[Ru],P[Kt]=v||e&&e[Kt],P[Ua]=w||e&&e[Ua]||null,P[mr]=u,P[ja]=function E(){return D++}(),P[ui]=I,P[id]=_,P[Rt]=2==t.type?e[Rt]:P,P}function eg(e,t,n,r,o){let u=e.data[t];if(null===u)u=function Vw(e,t,n,r,o){const u=gd(),d=$r(),w=e.data[t]=function dA(e,t,n,r,o,u){let d=t?t.injectorIndex:-1,v=0;return function $u(){return null!==Ut.skipHydrationRootTNode}()&&(v|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=w),null!==u&&(d?null==u.child&&null!==w.parent&&(u.child=w):null===u.next&&(u.next=w,w.prev=u)),w}(e,t,n,r,o),function _i(){return Ut.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const d=function ys(){const e=Ut.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===d?-1:d.injectorIndex}return Hi(u,!0),u}function Wv(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function lE(e,t,n,r,o){const u=rE(t,Pi),d=function Oi(){return Ut.lFrame.selectedIndex}(),v=2&r;try{na(-1),v&&t.length>nn&&function sE(e,t,n,r){if(!r)if(3==(3&t[Qt])){const u=e.preOrderCheckHooks;null!==u&&Xl(t,u,n)}else{const u=e.preOrderHooks;null!==u&&zi(t,u,0,n)}na(n)}(e,t,nn,!1),or(v?2:0,o);const _=v?u:null,I=hs(_);try{null!==_&&(_.dirty=!1),n(r,o)}finally{sd(_,I)}}finally{v&&null===t[Pi]&&iE(t,Pi),na(d),or(v?3:1,o)}}function $w(e,t,n){if(eo(t)){const r=no(null);try{const u=t.directiveEnd;for(let d=t.directiveStart;d<u;d++){const v=e.data[d];v.contentQueries&&v.contentQueries(1,n[d],d)}}finally{no(r)}}}function cE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function zw(e,t,n,r,o,u,d,v,w,_,I){const P=nn+r,L=P+o,Q=function oA(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:fn);return n}(P,L),oe="function"==typeof _?_():_;return Q[ct]={type:e,blueprint:Q,template:n,queries:null,viewQuery:v,declTNode:t,data:Q.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:w,consts:oe,incompleteFirstPass:!1,ssrId:I}}let dE=e=>null;function fE(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const u=e[o];null===r?hE(n,t,o,u):r.hasOwnProperty(o)&&hE(n,t,r[o],u)}return n}function hE(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function pE(e,t,n,r,o,u){for(let _=0;_<r.length;_++)tc(Sd(n,t),e,r[_].type);!function EA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let _=0;_<r.length;_++){const I=r[_];I.providersResolver&&I.providersResolver(I)}let d=!1,v=!1,w=Wv(e,t,r.length,null);for(let _=0;_<r.length;_++){const I=r[_];n.mergedAttrs=Iu(n.mergedAttrs,I.hostAttrs),_A(e,n,t,w,I),CA(w,I,o),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const P=I.type.prototype;!d&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),d=!0),!v&&(P.ngOnChanges||P.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),v=!0),w++}!function fA(e,t,n){const o=t.directiveEnd,u=e.data,d=t.attrs,v=[];let w=null,_=null;for(let I=t.directiveStart;I<o;I++){const P=u[I],L=n?n.get(P):null,oe=L?L.outputs:null;w=fE(P.inputs,I,w,L?L.inputs:null),_=fE(P.outputs,I,_,oe);const ee=null===w||null===d||se(t)?null:MA(w,I,d);v.push(ee)}null!==w&&(w.hasOwnProperty("class")&&(t.flags|=8),w.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=v,t.inputs=w,t.outputs=_}(e,n,u)}function gE(e,t,n){const r=n.directiveStart,o=n.directiveEnd,u=n.index,d=function mp(){return Ut.lFrame.currentDirectiveIndex}();try{na(u);for(let v=r;v<o;v++){const w=e.data[v],_=t[v];Ia(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&wA(w,_)}}finally{na(-1),Ia(d)}}function wA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function CA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;li(t)&&(n[""]=e)}}function _A(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=So(o.type)),d=new Ql(u,li(o),Ze);e.blueprint[r]=d,n[r]=d,function vA(e,t,n,r,o){const u=o.hostBindings;if(u){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const v=~t.index;(function mA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=v&&d.push(v),d.push(n,r,u)}}(e,t,r,Wv(e,n,o.hostVars,fn),o)}function xA(e,t,n,r,o,u){const d=u[t];if(null!==d)for(let v=0;v<d.length;)vE(r,n,d[v++],d[v++],d[v++])}function vE(e,t,n,r,o){const u=no(null);try{const d=e.inputTransforms;null!==d&&d.hasOwnProperty(r)&&(o=d[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{no(u)}}function MA(e,t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;if(e.hasOwnProperty(u)){null===r&&(r=[]);const d=e[u];for(let v=0;v<d.length;v+=2)if(d[v]===t){r.push(u,d[v+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function yE(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const u=n[r+1];if(-1!==u){const d=e.data[u];Hu(n[r]),d.contentQueries(2,t[u],u)}}}function ky(e,t){return e[Ot]?e[Di][Lo]=t:e[Ot]=t,e[Di]=t,t}function Ww(e,t,n){Hu(0);const r=no(null);try{t(e,n)}finally{no(r)}}function Zw(e,t,n,r,o){for(let u=0;u<n.length;){const d=n[u++],v=n[u++];vE(e.data[d],t[d],r,v,o)}}function IA(e,t){const n=ti(t,e),r=n[ct];!function TA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[En];null!==o&&null===n[ui]&&(n[ui]=jv(o,n[Ua])),Kw(r,n,n[Jn])}function Kw(e,t,n){Mo(t);try{const r=e.viewQuery;null!==r&&Ww(1,r,n);const o=e.template;null!==o&&lE(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&yE(e,t),e.staticViewQueries&&Ww(2,e.viewQuery,n);const u=e.components;null!==u&&function AA(e,t){for(let n=0;n<t.length;n++)IA(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Qt]&=-5,ws()}}let EE=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const u=typeof Zone>"u"?null:Zone.current,d=function tv(e,t,n){const r=Object.create(lp);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const o=d=>{r.cleanupFn=d};return r.ref={notify:()=>ku(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Ma(r))return;r.hasRun=!0;const d=hs(r);try{r.cleanupFn(),r.cleanupFn=Gs,r.fn(o)}finally{sd(r,d)}},cleanup:()=>r.cleanupFn()},r.ref}(n,_=>{this.all.has(_)&&this.queue.set(_,u)},o);let v;this.all.add(d),d.notify();const w=()=>{d.cleanup(),v?.(),this.all.delete(d),this.queue.delete(d)};return v=r?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Fy(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let d=0;d<t.length;d++){const v=t[d];"number"==typeof v?u=v:1==u?o=Bc(o,v):2==u&&(r=Bc(r,v+": "+t[++d]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Zv(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];null!==u&&r.push(Hn(u)),rn(u)&&_E(u,r);const d=n.type;if(8&d)Zv(e,t,n.child,r);else if(32&d){const v=re(n,t);let w;for(;w=v();)r.push(w)}else if(16&d){const v=un(t,n);if(Array.isArray(v))r.push(...v);else{const w=pe(t[Rt]);Zv(w[ct],w,v,r,!0)}}n=o?n.projectionNext:n.next}return r}function _E(e,t){for(let n=Br;n<e.length;n++){const r=e[n],o=r[ct].firstChild;null!==o&&Zv(r[ct],r,o,t)}e[_a]!==e[En]&&t.push(e[_a])}function Ly(e,t,n,r=!0){const o=t[Ru],u=o.rendererFactory,d=o.afterRenderEventManager;u.begin?.(),d?.begin();try{SE(e,t,e.template,n)}catch(w){throw r&&function CE(e,t){const n=e[Ua],r=n?n.get(dc,null):null;r&&r.handleError(t)}(t,w),w}finally{u.end?.(),o.effectManager?.flush(),d?.end()}}function SE(e,t,n,r){const o=t[Qt];if(256!=(256&o)){t[Ru].effectManager?.flush(),Mo(t);try{ql(t),function vd(e){return Ut.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&lE(e,t,n,2,r);const d=3==(3&o);if(d){const _=e.preOrderCheckHooks;null!==_&&Xl(t,_,null)}else{const _=e.preOrderHooks;null!==_&&zi(t,_,0,null),_d(t,0)}if(function PA(e){for(let t=be(e);null!==t;t=Ae(t)){if(!t[tp])continue;const n=t[Ga];for(let r=0;r<n.length;r++){Nf(n[r])}}}(t),xE(t,2),null!==e.contentQueries&&yE(e,t),d){const _=e.contentCheckHooks;null!==_&&Xl(t,_)}else{const _=e.contentHooks;null!==_&&zi(t,_,1),_d(t,1)}!function iA(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=rE(t,Ea);try{for(let o=0;o<n.length;o++){const u=n[o];if(u<0)na(~u);else{const d=u,v=n[++o],w=n[++o];iv(v,d),r.dirty=!1;const _=hs(r);try{w(2,t[d])}finally{sd(r,_)}}}}finally{null===t[Ea]&&iE(t,Ea),na(-1)}}(e,t);const v=e.components;null!==v&&IE(t,v,0);const w=e.viewQuery;if(null!==w&&Ww(2,w,r),d){const _=e.viewCheckHooks;null!==_&&Xl(t,_)}else{const _=e.viewHooks;null!==_&&zi(t,_,2),_d(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Qt]&=-73,Wl(t)}finally{ws()}}}function xE(e,t){for(let n=be(e);null!==n;n=Ae(n))for(let r=Br;r<n.length;r++)ME(n[r],t)}function OA(e,t,n){ME(ti(t,e),n)}function ME(e,t){if(!function fp(e){return 128==(128&e[Qt])}(e))return;const n=e[ct],r=e[Qt];if(80&r&&0===t||1024&r||2===t)SE(n,e,n.template,e[Jn]);else if(e[ds]>0){xE(e,1);const o=n.components;null!==o&&IE(e,o,1)}}function IE(e,t,n){for(let r=0;r<t.length;r++)OA(e,t[r],n)}class Kv{get rootNodes(){const t=this._lView,n=t[ct];return Zv(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jn]}set context(t){this._lView[Jn]=t}get destroyed(){return 256==(256&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[lr];if(rn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(mt(t,r),Md(n,r))}this._attachedToViewContainer=!1}Ye(this._lView[ct],this._lView)}onDestroy(t){!function qn(e,t){if(256==(256&e[Qt]))throw new ze(911,!1);null===e[Co]&&(e[Co]=[]),e[Co].push(t)}(this._lView,t)}markForCheck(){qv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-129}reattach(){this._lView[Qt]|=128}detectChanges(){Ly(this._lView[ct],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _t(e,t){Er(e,t,t[Kt],2,null,null)}(this._lView[ct],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=t}}class kA extends Kv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ly(t[ct],t,t[Jn],!1)}checkNoChanges(){}get context(){return null}}class TE extends mn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=bn(t);return new Yv(n,this.ngModule)}}function AE(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class LA{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ol(r);const o=this.injector.get(t,Rw,r);return o!==Rw||n===Rw?o:this.parentInjector.get(t,n,r)}}class Yv extends ft{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=AE(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return AE(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Jh(e){return e.map(td).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let u=(o=o||this.ngModule)instanceof ua?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const d=u?new LA(t,u):t,v=d.get(qr,null);if(null===v)throw new ze(407,!1);const P={rendererFactory:v,sanitizer:d.get(Ry,null),effectManager:d.get(EE,null),afterRenderEventManager:d.get(Bw,null)},L=v.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",oe=r?function aA(e,t,n,r){const u=r.get(JC,!1)||n===Jo.ShadowDom,d=e.selectRootElement(t,u);return function sA(e){dE(e)}(d),d}(L,r,this.componentDef.encapsulation,d):Le(L,Q,function FA(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Q)),Ue=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ye=null;null!==oe&&(ye=jv(oe,d,!0));const lt=zw(0,null,null,1,0,null,null,null,null,null,null),Et=Oy(null,lt,null,Ue,null,null,P,L,d,null,ye);let kt,Mn;Mo(Et);try{const Zr=this.componentDef;let yi,is=null;Zr.findHostDirectiveDefs?(yi=[],is=new Map,Zr.findHostDirectiveDefs(Zr,yi,is),yi.push(Zr)):yi=[Zr];const Rh=function VA(e,t){const n=e[ct],r=nn;return e[r]=t,eg(n,r,2,"#host",null)}(Et,oe),Ec=function $A(e,t,n,r,o,u,d){const v=o[ct];!function HA(e,t,n,r){for(const o of e)t.mergedAttrs=Iu(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Fy(t,t.mergedAttrs,!0),null!==n&&Js(r,n,t))}(r,e,t,d);let w=null;null!==t&&(w=jv(t,o[Ua]));const _=u.rendererFactory.createRenderer(t,n);let I=16;n.signals?I=4096:n.onPush&&(I=64);const P=Oy(o,cE(n),null,I,o[e.index],e,u,_,null,null,w);return v.firstCreatePass&&Gw(v,e,r.length-1),ky(o,P),o[e.index]=P}(Rh,oe,Zr,yi,Et,P,L);Mn=function Ho(e,t){return e.data[t]}(lt,nn),oe&&function zA(e,t,n,r){if(r)Xc(e,n,["ng-version",PT.full]);else{const{attrs:o,classes:u}=function Tu(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!ut(o))break;o=u}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Xc(e,n,o),u&&u.length>0&&_s(e,n,u.join(" "))}}(L,Zr,oe,r),void 0!==n&&function jA(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const u=n[o];r.push(null!=u?Array.from(u):null)}}(Mn,this.ngContentSelectors,n),kt=function UA(e,t,n,r,o,u){const d=fi(),v=o[ct],w=$i(d,o);pE(v,o,d,n,null,r);for(let I=0;I<n.length;I++)V(jo(o,v,d.directiveStart+I,d),o);gE(v,o,d),w&&V(w,o);const _=jo(o,v,d.directiveStart+d.componentOffset,d);if(e[Jn]=o[Jn]=_,null!==u)for(const I of u)I(_,t);return $w(v,d,e),_}(Ec,Zr,yi,is,Et,[GA]),Kw(lt,Et,null)}finally{ws()}return new BA(this.componentType,kt,Fi(Mn,Et),Et,Mn)}}class BA extends qe{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new kA(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const u=this._rootLView;Zw(u[ct],u,o,t,n),this.previousInputValues.set(t,n),qv(ti(this._tNode.index,u))}}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function GA(){const e=fi();Ed(Te()[ct],e)}function nb(e,t,n,r,o){const d=o?"class":"style";Zw(e,n,t.inputs[d],d,r)}function rb(e,t,n,r){const o=Te(),u=Dn(),d=nn+e,v=o[Kt],w=u.firstCreatePass?function xR(e,t,n,r,o,u){const d=t.consts,w=eg(t,e,2,r,Za(d,o));return function jw(e,t,n,r){if(di()){const o=null===r?null:{"":-1},u=function bA(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let u=0;u<n.length;u++){const d=n[u];if(Ln(t,d.selectors,!1))if(r||(r=[]),li(d))if(null!==d.findHostDirectiveDefs){const v=[];o=o||new Map,d.findHostDirectiveDefs(d,v,o),r.unshift(...v,d),Gw(e,t,v.length)}else r.unshift(d),Gw(e,t,0);else o=o||new Map,d.findHostDirectiveDefs?.(d,r,o),r.push(d)}return null===r?null:[r,o]}(e,n);let d,v;null===u?d=v=null:[d,v]=u,null!==d&&pE(e,t,n,d,o,v),o&&function DA(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new ze(-301,!1);r.push(t[o],u)}}}(n,r,o)}n.mergedAttrs=Iu(n.mergedAttrs,n.attrs)}(t,n,w,Za(d,u)),null!==w.attrs&&Fy(w,w.attrs,!1),null!==w.mergedAttrs&&Fy(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}(d,u,o,t,n,r):u.data[d],_=XE(u,o,w,v,t,e);o[d]=_;const I=function od(e){return 1==(1&e.flags)}(w);return Hi(w,!0),Js(v,_,w),32!=(32&w.flags)&&function Ks(){return Bf}()&&xn(u,o,_,w),0===function Zl(){return Ut.lFrame.elementDepthCount}()&&V(_,o),function pp(){Ut.lFrame.elementDepthCount++}(),I&&(function Hw(e,t,n){di()&&(function yA(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;on(n)&&function SA(e,t,n){const r=$i(t,e),o=cE(n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const v=ky(e,Oy(e,o,null,d,r,t,null,e[Ru].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=v}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Sd(n,t),V(r,t);const d=n.initialInputs;for(let v=o;v<u;v++){const w=e.data[v],_=jo(t,e,v,n);V(_,t),null!==d&&xA(0,v-o,_,w,0,d),li(w)&&(ti(n.index,t)[Jn]=jo(t,e,v,n))}}(e,t,n,$i(n,t)),64==(64&n.flags)&&gE(e,t,n))}(u,o,w),$w(u,w,o)),null!==r&&function Uw(e,t,n=$i){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const d=r[u+1],v=-1===d?n(t,e):e[d];e[o++]=v}}}(o,w),rb}function ib(){let e=fi();$r()?function ro(){Ut.lFrame.isParent=!1}():(e=e.parent,Hi(e,!1));const t=e;(function ms(e){return Ut.skipHydrationRootTNode===e})(t)&&function xo(){Ut.skipHydrationRootTNode=null}(),function gp(){Ut.lFrame.elementDepthCount--}();const n=Dn();return n.firstCreatePass&&(Ed(n,e),eo(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Gu(e){return 0!=(8&e.flags)}(t)&&nb(n,t,Te(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function qu(e){return 0!=(16&e.flags)}(t)&&nb(n,t,Te(),t.stylesWithoutHost,!1),ib}function tm(e,t,n,r){return rb(e,t,n,r),ib(),tm}let XE=(e,t,n,r,o,u)=>(function Ka(e){Bf=e}(!0),Le(r,o,function Lf(){return Ut.lFrame.currentNamespace}()));function nm(e){return!!e&&"function"==typeof e.then}function e1(e){return!!e&&"function"==typeof e.subscribe}const fg="en-US";let X1=fg;class mh{}class E_{}class wb extends mh{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TE(this);const o=ei(t);this._bootstrapComponents=fc(o.bootstrap),this._r3Injector=UC(t,n,[{provide:mh,useValue:this},{provide:mn,useValue:this.componentFactoryResolver},...r],Xr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bb extends E_{constructor(t){super(),this.moduleType=t}create(t){return new wb(this.moduleType,t,[])}}class __ extends mh{constructor(t){super(),this.componentFactoryResolver=new TE(this),this.instance=null;const n=new Wp([...t.providers,{provide:mh,useValue:this},{provide:mn,useValue:this.componentFactoryResolver}],t.parent||qp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Db(e,t,n=null){return new __({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let AP=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Dy(0,n.type),o=r.length>0?Db([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Mt({token:e,providedIn:"environment",factory:()=>new e(gt(ua))})}return e})();function S_(e){e.getStandaloneInjector=t=>t.get(AP).getOrCreateStandaloneInjector(e)}function nO(){return this._results[Symbol.iterator]()}class Eb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new vi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Eb.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=nO)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function qi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function oc(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function iO(e,t,n,r=!0){const o=t[ct];if(function at(e,t,n,r){const o=Br+r,u=n.length;r>0&&(n[o-1][Lo]=t),r<u-Br?(t[Lo]=n[o],Wf(n,Br+r,t)):(n.push(t),t[Lo]=null),t[lr]=n;const d=t[Rn];null!==d&&n!==d&&function Xe(e,t){const n=e[Ga];t[Rt]!==t[lr][lr][Rt]&&(e[tp]=!0),null===n?e[Ga]=[t]:n.push(t)}(d,t);const v=t[Ji];null!==v&&v.insertView(e),t[Qt]|=128}(o,t,e,n),r){const u=wr(n,e),d=t[Kt],v=Ce(d,e[_a]);null!==v&&function tt(e,t,n,r,o,u){r[En]=o,r[mr]=t,Er(e,r,n,1,o,u)}(o,e[mr],d,t,v,u)}}let pc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=sO}return e})();const oO=pc,aO=class extends oO{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function rO(e,t,n,r){const o=t.tView,v=Oy(e,o,n,4096&e[Qt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);v[Rn]=e[t.index];const _=e[Ji];return null!==_&&(v[Ji]=_.createEmbeddedView(o)),Kw(o,v,n),v}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Kv(o)}};function sO(){return Xy(fi(),Te())}function Xy(e,t){return 4&e.type?new aO(t,e,Fi(e,t)):null}let au=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=hO}return e})();function hO(){return z_(fi(),Te())}const pO=au,H_=class extends pO{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Fi(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){const t=ni(this._hostTNode,this._hostLView);if(Wu(t)){const n=bs(t,this._hostLView),r=ra(t);return new Ur(n[ct].data[r+8],n)}return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=U_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Br}createEmbeddedView(t,n,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const v=t.createEmbeddedViewImpl(n||{},u,null);return this.insertImpl(v,o,false),v}createComponent(t,n,r,o,u){const d=t&&!function tl(e){return"function"==typeof e}(t);let v;if(d)v=n;else{const ee=n||{};v=ee.index,r=ee.injector,o=ee.projectableNodes,u=ee.environmentInjector||ee.ngModuleRef}const w=d?t:new Yv(bn(t)),_=r||this.parentInjector;if(!u&&null==w.ngModule){const ge=(d?_:this.parentInjector).get(ua,null);ge&&(u=ge)}bn(w.componentType??{});const Q=w.create(_,o,null,u);return this.insertImpl(Q.hostView,v,false),Q}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView;if(function Rf(e){return rn(e[lr])}(o)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const _=o[lr],I=new H_(_,_[mr],_[lr]);I.detach(I.indexOf(t))}}const d=this._adjustIndex(n),v=this._lContainer;return iO(v,o,d,!r),t.attachToViewContainerRef(),Wf(_b(v),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=U_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=mt(this._lContainer,n);r&&(Md(_b(this._lContainer),n),Ye(r[ct],r))}detach(t){const n=this._adjustIndex(t,-1),r=mt(this._lContainer,n);return r&&null!=Md(_b(this._lContainer),n)?new Kv(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function U_(e){return e[8]}function _b(e){return e[8]||(e[8]=[])}function z_(e,t){let n;const r=t[e.index];return rn(r)?n=r:(n=function mE(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,ky(t,n)),j_(n,t,e,r),new H_(n,e,t)}let j_=function G_(e,t,n,r){if(e[_a])return;let o;o=8&n.type?Hn(r):function gO(e,t){const n=e[Kt],r=n.createComment(""),o=$i(t,e);return Be(n,Ce(n,o),r,function Yt(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[_a]=o};class Sb{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sb(this.queryList)}setDirty(){this.queryList.setDirty()}}class xb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const d=n.getByIndex(u);o.push(this.queries[d.indexInDeclarationView].clone())}return new xb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Q_(t,n).matches&&this.queries[n].setDirty()}}class q_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Mb{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new Mb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ib{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Ib(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,yO(n,u)),this.matchTNodeWithReadOption(t,n,Ku(n,t,u,!1,!1))}else r===pc?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ku(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===fr||o===au||o===pc&&4&n.type)this.addMatch(n.index,-2);else{const u=Ku(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function yO(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function bO(e,t,n,r){return-1===n?function wO(e,t){return 11&e.type?Fi(e,t):4&e.type?Xy(e,t):null}(t,e):-2===n?function DO(e,t,n){return n===fr?Fi(t,e):n===pc?Xy(t,e):n===au?z_(t,e):void 0}(e,t,r):jo(e,e[ct],n,t)}function W_(e,t,n,r){const o=t[Ji].queries[r];if(null===o.matches){const u=e.data,d=n.matches,v=[];for(let w=0;w<d.length;w+=2){const _=d[w];v.push(_<0?null:bO(t,u[_],d[w+1],n.metadata.read))}o.matches=v}return o.matches}function Tb(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const d=W_(e,t,o,n);for(let v=0;v<u.length;v+=2){const w=u[v];if(w>0)r.push(d[v/2]);else{const _=u[v+1],I=t[-w];for(let P=Br;P<I.length;P++){const L=I[P];L[Rn]===L[lr]&&Tb(L[ct],L,_,r)}if(null!==I[Ga]){const P=I[Ga];for(let L=0;L<P.length;L++){const Q=P[L];Tb(Q[ct],Q,_,r)}}}}}return r}function Ab(e){const t=Te(),n=Dn(),r=Ui();Hu(r+1);const o=Q_(n,r);if(e.dirty&&function Ei(e){return 4==(4&e[Qt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Tb(n,t,r,[]):W_(n,t,o,r);e.reset(u,la),e.notifyOnChanges()}return!0}return!1}function Z_(e,t,n){const r=Dn();r.firstCreatePass&&(function X_(e,t,n){null===e.queries&&(e.queries=new Mb),e.queries.track(new Ib(t,n))}(r,new q_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Y_(e,t,n){const r=new Eb(4==(4&n));(function cA(e,t,n,r){const o=function wE(e){return e[Ca]||(e[Ca]=[])}(t);o.push(n),e.firstCreatePass&&function bE(e){return e.cleanup||(e.cleanup=[])}(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[Ji]&&(t[Ji]=new xb),t[Ji].queries.push(new Sb(r))}(r,Te(),t)}function Q_(e,t){return e.queries.getByIndex(t)}const Lb=new yt("Application Initializer");let Bb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=dt(Lb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const u=o();if(nm(u))n.push(u);else if(e1(u)){const d=new Promise((v,w)=>{u.subscribe({complete:v,error:w})});n.push(d)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gS=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const gc=new yt("LocaleId",{providedIn:"root",factory:()=>dt(gc,gn.Optional|gn.SkipSelf)||function GO(){return typeof $localize<"u"&&$localize.locale||fg}()});let e0=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xi(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class ZO{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let vS=(()=>{class e{compileModuleSync(n){return new bb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),u=fc(ei(n).declarations).reduce((d,v)=>{const w=bn(v);return w&&d.push(new Yv(w)),d},[]);return new ZO(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const bS=new yt(""),n0=new yt("");let zb,Hb=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zb||(function pk(e){zb=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Tr),gt(Ub),gt(n0))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})(),Ub=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return zb?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),$d=null;const DS=new yt("AllowMultipleToken"),jb=new yt("PlatformDestroyListeners"),Gb=new yt("appBootstrapListener");class ES{constructor(t,n){this.name=t,this.token=n}}function SS(e,t,n=[]){const r=`Platform: ${t}`,o=new yt(r);return(u=[])=>{let d=qb();if(!d||d.injector.get(DS,!1)){const v=[...n,...u,{provide:o,useValue:!0}];e?e(v):function mk(e){if($d&&!$d.get(DS,!1))throw new ze(400,!1);(function CS(){!function Fu(e){dd=e}(()=>{throw new ze(600,!1)})})(),$d=e;const t=e.get(MS);(function _S(e){e.get(xy,null)?.forEach(n=>n())})(e)}(function xS(e=[],t){return es.create({name:t,providers:[{provide:Ov,useValue:"platform"},{provide:jb,useValue:new Set([()=>$d=null])},...e]})}(v,r))}return function wk(e){const t=qb();if(!t)throw new ze(401,!1);return t}()}}function qb(){return $d?.get(MS)??null}let MS=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function bk(e="zone.js",t){return"noop"===e?new GT:"zone.js"===e?new Tr(t):e}(r?.ngZone,function IS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function TP(e,t,n){return new wb(e,t,n)}(n.moduleType,this.injector,function PS(e){return[{provide:Tr,useFactory:e},{provide:lh,multi:!0,useFactory:()=>{const t=dt(Ck,{optional:!0});return()=>t.initialize()}},{provide:NS,useFactory:Dk},{provide:WC,useFactory:ZC}]}(()=>o)),d=u.injector.get(dc,null);return o.runOutsideAngular(()=>{const v=o.onError.subscribe({next:w=>{d.handleError(w)}});u.onDestroy(()=>{r0(this._modules,u),v.unsubscribe()})}),function TS(e,t,n){try{const r=n();return nm(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(d,o,()=>{const v=u.injector.get(Bb);return v.runInitializers(),v.donePromise.then(()=>(function Q1(e){vo(e,"Expected localeId to be defined"),"string"==typeof e&&(X1=e.toLowerCase().replace(/_/g,"-"))}(u.injector.get(gc,fg)||fg),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const o=AS({},r);return function gk(e,t,n){const r=new bb(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(gg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new ze(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(jb,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(gt(es))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function AS(e,t){return Array.isArray(t)?t.reduce(AS,e):{...e,...t}}let gg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dt(NS),this.zoneIsStable=dt(WC),this.componentTypes=[],this.components=[],this.isStable=dt(e0).hasPendingTasks.pipe(po(n=>n?Bt(!1):this.zoneIsStable),function jg(e,t=Je){return e=e??$h,ir((n,r)=>{let o,u=!0;n.subscribe(gr(r,d=>{const v=t(d);(u||!e(o,v))&&(u=!1,o=v,r.next(d))}))})}(),hf()),this._injector=dt(ua)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof ft;if(!this._injector.get(Bb).done)throw!o&&function $s(e){const t=bn(e)||vr(e)||Fr(e);return null!==t&&t.standalone}(n),new ze(405,!1);let d;d=o?n:this._injector.get(mn).resolveComponentFactory(n),this.componentTypes.push(d.componentType);const v=function vk(e){return e.isBoundToModule}(d)?void 0:this._injector.get(mh),_=d.create(es.NULL,[],r||d.selector,v),I=_.location.nativeElement,P=_.injector.get(bS,null);return P?.registerApplication(I),_.onDestroy(()=>{this.detachView(_.hostView),r0(this.components,_),P?.unregisterApplication(I)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;r0(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Gb,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>r0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ze(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function r0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const NS=new yt("",{providedIn:"root",factory:()=>dt(dc).handleError.bind(void 0)});function Dk(){const e=dt(Tr),t=dt(dc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let Ck=(()=>{class e{constructor(){this.zone=dt(Tr),this.applicationRef=dt(gg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let o0=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=_k}return e})();function _k(e){return function Sk(e,t,n){if(on(e)&&!n){const r=ti(e.index,t);return new Kv(r,r)}return 47&e.type?new Kv(t[Rt],t):null}(fi(),Te(),16==(16&e))}const Bk=SS(null,"core",[]);let Vk=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(gt(gg))};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({})}return e})(),Qb=null;function Hd(){return Qb}class Jk{}const ns=new yt("DocumentToken");let Jb=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return dt(t2)},providedIn:"platform"})}return e})();const e2=new yt("Location Initialized");let t2=(()=>{class e extends Jb{constructor(){super(),this._doc=dt(ns),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hd().getBaseHref(this._doc)}onPopState(n){const r=Hd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Hd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function eD(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function XS(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function vc(e){return e&&"?"!==e[0]?"?"+e:e}let wh=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return dt(JS)},providedIn:"root"})}return e})();const QS=new yt("appBaseHref");let JS=(()=>{class e extends wh{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??dt(ns).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return eD(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+vc(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,u){const d=this.prepareExternalUrl(o+vc(u));this._platformLocation.pushState(n,r,d)}replaceState(n,r,o,u){const d=this.prepareExternalUrl(o+vc(u));this._platformLocation.replaceState(n,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Jb),gt(QS,8))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),n2=(()=>{class e extends wh{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=eD(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,u){let d=this.prepareExternalUrl(o+vc(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(n,r,d)}replaceState(n,r,o,u){let d=this.prepareExternalUrl(o+vc(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Jb),gt(QS,8))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})(),tD=(()=>{class e{constructor(n){this._subject=new vi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function o2(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(XS(ex(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vc(r))}normalize(n){return e.stripTrailingSlash(function i2(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,ex(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vc(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vc(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static#e=this.normalizeQueryParams=vc;static#t=this.joinWithSlash=eD;static#n=this.stripTrailingSlash=XS;static#r=this.\u0275fac=function(r){return new(r||e)(gt(wh))};static#i=this.\u0275prov=Mt({token:e,factory:function(){return function r2(){return new tD(gt(wh))}()},providedIn:"root"})}return e})();function ex(e){return e.replace(/\/index.html$/,"")}function lx(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(u)}return null}let vx=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({})}return e})();function yx(e){return"server"===e}let CF=(()=>{class e{static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>new EF(gt(ns),window)})}return e})();class EF{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function _F(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wx{}class WF extends Jk{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class yD extends WF{static makeCurrent(){!function Qk(e){Qb||(Qb=e)}(new yD)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function ZF(){return mm=mm||document.querySelector("base"),mm?mm.getAttribute("href"):null}();return null==n?null:function KF(e){C0=C0||document.createElement("a"),C0.setAttribute("href",e);const t=C0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){mm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return lx(document.cookie,t)}}let C0,mm=null,XF=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const wD=new yt("EventManagerPlugins");let _x=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(u=>u.supports(n)),!r)throw new ze(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(gt(wD),gt(Tr))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();class Sx{constructor(t){this._doc=t}}const bD="ng-app-id";let xx=(()=>{class e{constructor(n,r,o,u={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yx(u),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${bD}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const u=o.get(n);return u.usage+=r,u.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===n)return o.delete(r),u.removeAttribute(bD),u;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(bD,this.appId),d}}addStyleToHost(n,r){const o=this.getStyleElement(n,r);n.appendChild(o);const u=this.styleRef,d=u.get(r)?.elements;d?d.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ns),gt(Zp),gt(My,8),gt(cc))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const DD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},CD=/%COMP%/g,tL=new yt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ix(e,t){return t.map(n=>n.replace(CD,e))}let Tx=(()=>{class e{constructor(n,r,o,u,d,v,w,_=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=d,this.platformId=v,this.ngZone=w,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=yx(v),this.defaultRenderer=new ED(n,d,w,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jo.ShadowDom&&(r={...r,encapsulation:Jo.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof Rx?o.applyToHost(n):o instanceof _D&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const d=this.doc,v=this.ngZone,w=this.eventManager,_=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(r.encapsulation){case Jo.Emulated:u=new Rx(w,_,r,this.appId,I,d,v,P);break;case Jo.ShadowDom:return new oL(w,_,n,r,d,v,this.nonce,P);default:u=new _D(w,_,r,I,d,v,P)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(gt(_x),gt(xx),gt(Zp),gt(tL),gt(ns),gt(cc),gt(Tr),gt(My))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();class ED{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(DD[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Ax(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Ax(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new ze(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const u=DD[o];u?t.setAttributeNS(u,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=DD[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(f.DashCase|f.Important)?t.style.setProperty(n,r,o&f.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&f.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Hd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Ax(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class oL extends ED{constructor(t,n,r,o,u,d,v,w){super(t,u,d,w),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Ix(o.id,o.styles);for(const I of _){const P=document.createElement("style");v&&P.setAttribute("nonce",v),P.textContent=I,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _D extends ED{constructor(t,n,r,o,u,d,v,w){super(t,u,d,v),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=w?Ix(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Rx extends _D{constructor(t,n,r,o,u,d,v,w){const _=o+"-"+r.id;super(t,n,r,u,d,v,w,_),this.contentAttr=function nL(e){return"_ngcontent-%COMP%".replace(CD,e)}(_),this.hostAttr=function rL(e){return"_nghost-%COMP%".replace(CD,e)}(_)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let aL=(()=>{class e extends Sx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ns))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const Nx=["alt","control","meta","shift"],sL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let lL=(()=>{class e extends Sx{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const u=e.parseEventName(r),d=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hd().onAndCancel(n,u.domEventName,d))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let d="",v=r.indexOf("code");if(v>-1&&(r.splice(v,1),d="code."),Nx.forEach(_=>{const I=r.indexOf(_);I>-1&&(r.splice(I,1),d+=_+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=d,w}static matchEventFullKeyCode(n,r){let o=sL[n.key]||n.key,u="";return r.indexOf("code.")>-1&&(o=n.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Nx.forEach(d=>{d!==o&&(0,uL[d])(n)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(n,r,o){return u=>{e.matchEventFullKeyCode(u,n)&&o.runGuarded(()=>r(u))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ns))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const Ox=[{provide:cc,useValue:"browser"},{provide:xy,useValue:function cL(){yD.makeCurrent()},multi:!0},{provide:ns,useFactory:function fL(){return function Fp(e){Wi=e}(document),document},deps:[]}],hL=SS(Bk,"browser",Ox),pL=new yt(""),kx=[{provide:n0,useClass:class YF{addToWindow(t){An.getAngularTestability=(r,o=!0)=>{const u=t.findTestabilityInTree(r,o);if(null==u)throw new ze(5103,!1);return u},An.getAllAngularTestabilities=()=>t.getAllTestabilities(),An.getAllAngularRootElements=()=>t.getAllRootElements(),An.frameworkStabilizers||(An.frameworkStabilizers=[]),An.frameworkStabilizers.push(r=>{const o=An.getAllAngularTestabilities();let u=o.length,d=!1;const v=function(w){d=d||w,u--,0==u&&r(d)};o.forEach(w=>{w.whenStable(v)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Hd().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:bS,useClass:Hb,deps:[Tr,Ub,n0]},{provide:Hb,useClass:Hb,deps:[Tr,Ub,n0]}],Fx=[{provide:Ov,useValue:"root"},{provide:dc,useFactory:function dL(){return new dc},deps:[]},{provide:wD,useClass:aL,multi:!0,deps:[ns,Tr,cc]},{provide:wD,useClass:lL,multi:!0,deps:[ns]},Tx,xx,_x,{provide:qr,useExisting:Tx},{provide:wx,useClass:XF,deps:[]},[]];let gL=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Zp,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(gt(pL,12))};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({providers:[...Fx,...kx],imports:[vx,Vk]})}return e})(),Lx=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ns))};static#t=this.\u0275prov=Mt({token:e,factory:function(r){let o=null;return o=r?new r:function mL(){return new Lx(gt(ns))}(),o},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:EL}=Array,{getPrototypeOf:_L,prototype:SL,keys:xL}=Object;const{isArray:IL}=Array;function xD(...e){const t=No(e),n=function Pr(e){return ce(Lc(e))?e.pop():void 0}(e),{args:r,keys:o}=function Hx(e){if(1===e.length){const t=e[0];if(EL(t))return{args:t,keys:null};if(function ML(e){return e&&"object"==typeof e&&_L(e)===SL}(t)){const n=xL(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Or([],t);const u=new Ct(function AL(e,t,n=Je){return r=>{jx(t,()=>{const{length:o}=e,u=new Array(o);let d=o,v=o;for(let w=0;w<o;w++)jx(t,()=>{const _=Or(e[w],t);let I=!1;_.subscribe(gr(r,P=>{u[w]=P,I||(I=!0,v--),v||r.next(n(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,o?d=>function zx(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}(o,d):Je));return n?u.pipe(function Ux(e){return en(t=>function TL(e,t){return IL(t)?e(...t):e(t)}(e,t))}(n)):u}function jx(e,t,n){e?$n(n,e,t):t()}const E0=B(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function MD(...e){return function RL(){return yu(1)}()(Or(e,No(e)))}function Gx(e){return new Ct(t=>{Yi(e()).subscribe(t)})}function ym(e,t){const n=ce(e)?e:()=>e,r=o=>o.error(n());return new Ct(t?o=>t.schedule(r,0,o):r)}function ID(){return ir((e,t)=>{let n=null;e._refCount++;const r=gr(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,u=n;n=null,o&&(!u||o===u)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class qx extends Ct{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ef(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ve;const n=this.getSubject();t.add(this.source.subscribe(gr(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ve.EMPTY)}return t}refCount(){return ID()(this)}}function yg(e){return e<=0?()=>Yr:ir((t,n)=>{let r=0;t.subscribe(gr(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function wc(e,t){return ir((n,r)=>{let o=0;n.subscribe(gr(r,u=>e.call(t,u,o++)&&r.next(u)))})}function _0(e){return ir((t,n)=>{let r=!1;t.subscribe(gr(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Wx(e=PL){return ir((t,n)=>{let r=!1;t.subscribe(gr(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function PL(){return new E0}function bh(e,t){const n=arguments.length>=2;return r=>r.pipe(e?wc((o,u)=>e(o,u,r)):Je,yg(1),n?_0(t):Wx(()=>new E0))}function wg(e,t){return ce(t)?Gt(e,t,1):Gt(e,1)}function Ao(e,t,n){const r=ce(e)||t||n?{next:e,error:t,complete:n}:e;return r?ir((o,u)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let v=!0;o.subscribe(gr(u,w=>{var _;null===(_=r.next)||void 0===_||_.call(r,w),u.next(w)},()=>{var w;v=!1,null===(w=r.complete)||void 0===w||w.call(r),u.complete()},w=>{var _;v=!1,null===(_=r.error)||void 0===_||_.call(r,w),u.error(w)},()=>{var w,_;v&&(null===(w=r.unsubscribe)||void 0===w||w.call(r)),null===(_=r.finalize)||void 0===_||_.call(r)}))}):Je}function Dh(e){return ir((t,n)=>{let u,r=null,o=!1;r=t.subscribe(gr(n,void 0,void 0,d=>{u=Yi(e(d,Dh(e)(t))),r?(r.unsubscribe(),r=null,u.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(n))})}function TD(e){return e<=0?()=>Yr:ir((t,n)=>{let r=[];t.subscribe(gr(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function wm(e){return ir((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const yn="primary",bm=Symbol("RouteTitle");class VL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bg(e){return new VL(e)}function $L(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],v=e[u];if(d.startsWith(":"))o[d.substring(1)]=v;else if(d!==v.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function yl(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!Zx(e[o],t[o]))return!1;return!0}function Zx(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,u)=>r[u]===o)}return e===t}function Kx(e){return e.length>0?e[e.length-1]:null}function zd(e){return function CL(e){return!!e&&(e instanceof Ct||ce(e.lift)&&ce(e.subscribe))}(e)?e:nm(e)?Or(Promise.resolve(e)):Bt(e)}const UL={exact:function Qx(e,t,n){if(!Ch(e.segments,t.segments)||!S0(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Qx(e.children[r],t.children[r],n))return!1;return!0},subset:Jx},Yx={exact:function zL(e,t){return yl(e,t)},subset:function jL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Zx(e[n],t[n]))},ignored:()=>!0};function Xx(e,t,n){return UL[n.paths](e.root,t.root,n.matrixParams)&&Yx[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Jx(e,t,n){return eM(e,t,t.segments,n)}function eM(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Ch(o,n)||t.hasChildren()||!S0(o,n,r))}if(e.segments.length===n.length){if(!Ch(e.segments,n)||!S0(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!Jx(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!!(Ch(e.segments,o)&&S0(e.segments,o,r)&&e.children[yn])&&eM(e.children[yn],t,u,r)}}function S0(e,t,n){return t.every((r,o)=>Yx[n](e[o].parameters,r.parameters))}class Dg{constructor(t=new pr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bg(this.queryParams)),this._queryParamMap}toString(){return WL.serialize(this)}}class pr{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return x0(this)}}class Dm{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=bg(this.parameters)),this._parameterMap}toString(){return rM(this)}}function Ch(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Cm=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return new AD},providedIn:"root"})}return e})();class AD{parse(t){const n=new iB(t);return new Dg(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Em(t.root,!0)}`,r=function YL(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${M0(n)}=${M0(o)}`).join("&"):`${M0(n)}=${M0(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function ZL(e){return encodeURI(e)}(t.fragment)}`:""}`}}const WL=new AD;function x0(e){return e.segments.map(t=>rM(t)).join("/")}function Em(e,t){if(!e.hasChildren())return x0(e);if(t){const n=e.children[yn]?Em(e.children[yn],!1):"",r=[];return Object.entries(e.children).forEach(([o,u])=>{o!==yn&&r.push(`${o}:${Em(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function qL(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===yn&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==yn&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===yn?[Em(e.children[yn],!1)]:[`${o}:${Em(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[yn]?`${x0(e)}/${n[0]}`:`${x0(e)}/(${n.join("//")})`}}function tM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function M0(e){return tM(e).replace(/%3B/gi,";")}function RD(e){return tM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function I0(e){return decodeURIComponent(e)}function nM(e){return I0(e.replace(/\+/g,"%20"))}function rM(e){return`${RD(e.path)}${function KL(e){return Object.keys(e).map(t=>`;${RD(t)}=${RD(e[t])}`).join("")}(e.parameters)}`}const XL=/^[^\/()?;#]+/;function ND(e){const t=e.match(XL);return t?t[0]:""}const QL=/^[^\/()?;=#]+/,eB=/^[^=?&#]+/,nB=/^[^&#]+/;class iB{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pr([],{}):new pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[yn]=new pr(t,n)),r}parseSegment(){const t=ND(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ze(4009,!1);return this.capture(t),new Dm(I0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function JL(e){const t=e.match(QL);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=ND(this.remaining);o&&(r=o,this.capture(r))}t[I0(n)]=I0(r)}parseQueryParam(t){const n=function tB(e){const t=e.match(eB);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const d=function rB(e){const t=e.match(nB);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=nM(n),u=nM(r);if(t.hasOwnProperty(o)){let d=t[o];Array.isArray(d)||(d=[d],t[o]=d),d.push(u)}else t[o]=u}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ND(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new ze(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=yn);const d=this.parseChildren();n[u]=1===Object.keys(d).length?d[yn]:new pr([],d),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ze(4011,!1)}}function iM(e){return e.segments.length>0?new pr([],{[yn]:e}):e}function oM(e){const t={};for(const r of Object.keys(e.children)){const u=oM(e.children[r]);if(r===yn&&0===u.segments.length&&u.hasChildren())for(const[d,v]of Object.entries(u.children))t[d]=v;else(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function oB(e){if(1===e.numberOfChildren&&e.children[yn]){const t=e.children[yn];return new pr(e.segments.concat(t.segments),t.children)}return e}(new pr(e.segments,t))}function Eh(e){return e instanceof Dg}function aM(e){let t;const o=iM(function n(u){const d={};for(const w of u.children){const _=n(w);d[w.outlet]=_}const v=new pr(u.url,d);return u===e&&(t=v),v}(e.root));return t??o}function sM(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return PD(o,o,o,n,r);const u=function sB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new lM(!0,0,e);let t=0,n=!1;const r=e.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const v={};return Object.entries(u.outlets).forEach(([w,_])=>{v[w]="string"==typeof _?_.split("/"):_}),[...o,{outlets:v}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?n=!0:".."===v?t++:""!=v&&o.push(v))}),o):[...o,u]},[]);return new lM(n,t,r)}(t);if(u.toRoot())return PD(o,o,new pr([],{}),n,r);const d=function uB(e,t,n){if(e.isAbsolute)return new A0(t,!0,0);if(!n)return new A0(t,!1,NaN);if(null===n.parent)return new A0(n,!0,0);const r=T0(e.commands[0])?0:1;return function lB(e,t,n){let r=e,o=t,u=n;for(;u>o;){if(u-=o,r=r.parent,!r)throw new ze(4005,!1);o=r.segments.length}return new A0(r,!1,o-u)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(u,o,e),v=d.processChildren?Sm(d.segmentGroup,d.index,u.commands):cM(d.segmentGroup,d.index,u.commands);return PD(o,d.segmentGroup,v,n,r)}function T0(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function _m(e){return"object"==typeof e&&null!=e&&e.outlets}function PD(e,t,n,r,o){let d,u={};r&&Object.entries(r).forEach(([w,_])=>{u[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),d=e===t?n:uM(e,t,n);const v=iM(oM(d));return new Dg(v,u,o)}function uM(e,t,n){const r={};return Object.entries(e.children).forEach(([o,u])=>{r[o]=u===t?n:uM(u,t,n)}),new pr(e.segments,r)}class lM{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&T0(r[0]))throw new ze(4003,!1);const o=r.find(_m);if(o&&o!==Kx(r))throw new ze(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class A0{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function cM(e,t,n){if(e||(e=new pr([],{})),0===e.segments.length&&e.hasChildren())return Sm(e,t,n);const r=function dB(e,t,n){let r=0,o=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return u;const d=e.segments[o],v=n[r];if(_m(v))break;const w=`${v}`,_=r<n.length-1?n[r+1]:null;if(o>0&&void 0===w)break;if(w&&_&&"object"==typeof _&&void 0===_.outlets){if(!fM(w,_,d))return u;r+=2}else{if(!fM(w,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const u=new pr(e.segments.slice(0,r.pathIndex),{});return u.children[yn]=new pr(e.segments.slice(r.pathIndex),e.children),Sm(u,0,o)}return r.match&&0===o.length?new pr(e.segments,{}):r.match&&!e.hasChildren()?OD(e,t,n):r.match?Sm(e,0,o):OD(e,t,n)}function Sm(e,t,n){if(0===n.length)return new pr(e.segments,{});{const r=function cB(e){return _m(e[0])?e[0].outlets:{[yn]:e}}(n),o={};if(Object.keys(r).some(u=>u!==yn)&&e.children[yn]&&1===e.numberOfChildren&&0===e.children[yn].segments.length){const u=Sm(e.children[yn],t,n);return new pr(e.segments,u.children)}return Object.entries(r).forEach(([u,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[u]=cM(e.children[u],t,d))}),Object.entries(e.children).forEach(([u,d])=>{void 0===r[u]&&(o[u]=d)}),new pr(e.segments,o)}}function OD(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const u=n[o];if(_m(u)){const w=fB(u.outlets);return new pr(r,w)}if(0===o&&T0(n[0])){r.push(new Dm(e.segments[t].path,dM(n[0]))),o++;continue}const d=_m(u)?u.outlets[yn]:`${u}`,v=o<n.length-1?n[o+1]:null;d&&v&&T0(v)?(r.push(new Dm(d,dM(v))),o+=2):(r.push(new Dm(d,{})),o++)}return new pr(r,{})}function fB(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=OD(new pr([],{}),0,r))}),t}function dM(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function fM(e,t,n){return e==n.path&&yl(t,n.parameters)}const xm="imperative";class wl{constructor(t,n){this.id=t,this.url=n}}class R0 extends wl{constructor(t,n,r="imperative",o=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jd extends wl{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mm extends wl{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cg extends wl{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=16}}class N0 extends wl{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hM extends wl{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hB extends wl{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pB extends wl{constructor(t,n,r,o,u){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gB extends wl{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vB extends wl{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mB{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yB{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wB{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bB{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DB{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CB{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pM{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kD{}class FD{constructor(t){this.url=t}}class EB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Im,this.attachRef=null}}let Im=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new EB,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class gM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=LD(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=LD(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=BD(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return BD(t,this._root).map(n=>n.value)}}function LD(e,t){if(e===t.value)return t;for(const n of t.children){const r=LD(e,n);if(r)return r}return null}function BD(e,t){if(e===t.value)return[t];for(const n of t.children){const r=BD(e,n);if(r.length)return r.unshift(t),r}return[]}class bc{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Eg(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class vM extends gM{constructor(t,n){super(t),this.snapshot=n,VD(this,t)}toString(){return this.snapshot.toString()}}function mM(e,t){const n=function _B(e,t){const d=new P0([],{},{},"",{},yn,t,null,{});return new wM("",new bc(d,[]))}(0,t),r=new Xi([new Dm("",{})]),o=new Xi({}),u=new Xi({}),d=new Xi({}),v=new Xi(""),w=new _h(r,o,d,v,u,yn,t,n.root);return w.snapshot=n.root,new vM(new bc(w,[]),n)}class _h{constructor(t,n,r,o,u,d,v,w){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=d,this.component=v,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(en(_=>_[bm]))??Bt(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(en(t=>bg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(en(t=>bg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yM(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],u=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function SB(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class P0{get title(){return this.data?.[bm]}constructor(t,n,r,o,u,d,v,w,_){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=v,this.routeConfig=w,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wM extends gM{constructor(t,n){super(n),this.url=t,VD(this,n)}toString(){return bM(this._root)}}function VD(e,t){t.value._routerState=e,t.children.forEach(n=>VD(e,n))}function bM(e){const t=e.children.length>0?` { ${e.children.map(bM).join(", ")} } `:"";return`${e.value}${t}`}function $D(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,yl(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),yl(t.params,n.params)||e.paramsSubject.next(n.params),function HL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!yl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),yl(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function HD(e,t){const n=yl(e.params,t.params)&&function GL(e,t){return Ch(e,t)&&e.every((n,r)=>yl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||HD(e.parent,t.parent))}let UD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new vi,this.deactivateEvents=new vi,this.attachEvents=new vi,this.detachEvents=new vi,this.parentContexts=dt(Im),this.location=dt(au),this.changeDetector=dt(o0),this.environmentInjector=dt(ua),this.inputBinder=dt(O0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ze(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ze(4013,!1);this._activatedRoute=n;const o=this.location,d=n.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,w=new xB(n,v,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ht({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$o]})}return e})();class xB{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===_h?this.route:t===Im?this.childContexts:this.parent.get(t,n)}}const O0=new yt("");let DM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=xD([r.queryParams,r.params,r.data]).pipe(po(([u,d,v],w)=>(v={...u,...d,...v},0===w?Bt(v):Promise.resolve(v)))).subscribe(u=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const d=function Xk(e){const t=bn(e);if(!t)return null;const n=new Yv(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(d)for(const{templateName:v}of d.inputs)n.activatedComponentRef.setInput(v,u[v]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();function Tm(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function IB(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Tm(e,r,o);return Tm(e,r)})}(e,t,n);return new bc(r,o)}{if(e.shouldAttach(t.value)){const u=e.retrieve(t.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(v=>Tm(e,v)),d}}const r=function TB(e){return new _h(new Xi(e.url),new Xi(e.params),new Xi(e.queryParams),new Xi(e.fragment),new Xi(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(u=>Tm(e,u));return new bc(r,o)}}const zD="ngNavigationCancelingError";function CM(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Eh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=EM(!1,0,t);return o.url=n,o.navigationBehaviorOptions=r,o}function EM(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[zD]=!0,r.cancellationCode=t,n&&(r.url=n),r}function _M(e){return e&&e[zD]}let SM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Vs({type:e,selectors:[["ng-component"]],standalone:!0,features:[S_],decls:1,vars:0,template:function(r,o){1&r&&tm(0,"router-outlet")},dependencies:[UD],encapsulation:2})}return e})();function jD(e){const t=e.children&&e.children.map(jD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==yn&&(n.component=SM),n}function lu(e){return e.outlet||yn}function Am(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class LB{constructor(t,n,r,o,u){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),$D(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Eg(n);t.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(t,n,d.children)}else this.deactivateChildRoutes(t,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=Eg(t);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),v=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:v})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=Eg(t);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Eg(n);t.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new CB(u.value.snapshot))}),t.children.length&&this.forwardEvent(new bB(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if($D(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,d.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const v=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(v.contexts),d.attachRef=v.componentRef,d.route=v.route.value,d.outlet&&d.outlet.attach(v.componentRef,v.route.value),$D(v.route.value),this.activateChildRoutes(t,null,d.children)}else{const v=Am(o.snapshot);d.attachRef=null,d.route=o,d.injector=v,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,r)}}class xM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class k0{constructor(t,n){this.component=t,this.route=n}}function BB(e,t,n){const r=e._root;return Rm(r,t?t._root:null,n,[r.value])}function _g(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function jh(e){return null!==os(e)}(e)?t.get(e):e:r}function Rm(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Eg(t);return e.children.forEach(d=>{(function $B(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,d=t?t.value:null,v=n?n.getContext(e.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function HB(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ch(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ch(e.url,t.url)||!yl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HD(e,t)||!yl(e.queryParams,t.queryParams);default:return!HD(e,t)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new xM(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Rm(e,t,u.component?v?v.children:null:n,r,o),w&&v&&v.outlet&&v.outlet.isActivated&&o.canDeactivateChecks.push(new k0(v.outlet.component,d))}else d&&Nm(t,v,o),o.canActivateChecks.push(new xM(r)),Rm(e,null,u.component?v?v.children:null:n,r,o)})(d,u[d.value.outlet],n,r.concat([d.value]),o),delete u[d.value.outlet]}),Object.entries(u).forEach(([d,v])=>Nm(v,n.getContext(d),o)),o}function Nm(e,t,n){const r=Eg(e),o=e.value;Object.entries(r).forEach(([u,d])=>{Nm(d,o.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new k0(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Pm(e){return"function"==typeof e}function MM(e){return e instanceof E0||"EmptyError"===e?.name}const F0=Symbol("INITIAL_VALUE");function Sg(){return po(e=>xD(e.map(t=>t.pipe(yg(1),function NL(...e){const t=No(e);return ir((n,r)=>{(t?MD(e,n,t):MD(e,n)).subscribe(r)})}(F0)))).pipe(en(t=>{for(const n of t)if(!0!==n){if(n===F0)return F0;if(!1===n||n instanceof Dg)return n}return!0}),wc(t=>t!==F0),yg(1)))}function IM(e){return function Fn(...e){return _n(e)}(Ao(t=>{if(Eh(t))throw CM(0,t)}),en(t=>!0===t))}class L0{constructor(t){this.segmentGroup=t||null}}class TM{constructor(t){this.urlTree=t}}function xg(e){return ym(new L0(e))}function AM(e){return ym(new TM(e))}class sV{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new ze(4002,!1)}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Bt(r);if(o.numberOfChildren>1||!o.children[yn])return ym(new ze(4e3,!1));o=o.children[yn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,o){const u=this.createSegmentGroup(t,n.root,r,o);return new Dg(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);r[o]=n[v]}else r[o]=u}),r}createSegmentGroup(t,n,r,o){const u=this.createSegments(t,n.segments,r,o);let d={};return Object.entries(n.children).forEach(([v,w])=>{d[v]=this.createSegmentGroup(t,w,r,o)}),new pr(u,d)}createSegments(t,n,r,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,o):this.findOrReturn(u,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new ze(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const GD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uV(e,t,n,r,o){const u=qD(e,t,n);return u.matched?(r=function RB(e,t){return e.providers&&!e._injector&&(e._injector=Db(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function iV(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?Bt(o.map(d=>{const v=_g(d,e);return zd(function WB(e){return e&&Pm(e.canMatch)}(v)?v.canMatch(t,n):e.runInContext(()=>v(t,n)))})).pipe(Sg(),IM()):Bt(!0)}(r,t,n).pipe(en(d=>!0===d?u:{...GD}))):Bt(u)}function qD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...GD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||$L)(n,e,t);if(!o)return{...GD};const u={};Object.entries(o.posParams??{}).forEach(([v,w])=>{u[v]=w.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function RM(e,t,n,r){return n.length>0&&function dV(e,t,n){return n.some(r=>B0(e,t,r)&&lu(r)!==yn)}(e,n,r)?{segmentGroup:new pr(t,cV(r,new pr(n,e.children))),slicedSegments:[]}:0===n.length&&function fV(e,t,n){return n.some(r=>B0(e,t,r))}(e,n,r)?{segmentGroup:new pr(e.segments,lV(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new pr(e.segments,e.children),slicedSegments:n}}function lV(e,t,n,r,o){const u={};for(const d of r)if(B0(e,n,d)&&!o[lu(d)]){const v=new pr([],{});u[lu(d)]=v}return{...o,...u}}function cV(e,t){const n={};n[yn]=t;for(const r of e)if(""===r.path&&lu(r)!==yn){const o=new pr([],{});n[lu(r)]=o}return n}function B0(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class vV{constructor(t,n,r,o,u,d,v){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=d,this.urlSerializer=v,this.allowRedirects=!0,this.applyRedirects=new sV(this.urlSerializer,this.urlTree)}noMatchError(t){return new ze(4002,!1)}recognize(){const t=RM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,yn).pipe(Dh(n=>{if(n instanceof TM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof L0?this.noMatchError(n):n}),en(n=>{const r=new P0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,{}),o=new bc(r,n),u=new wM("",o),d=function aB(e,t,n=null,r=null){return sM(aM(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(u._root),{state:u,tree:d}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,yn).pipe(Dh(r=>{throw r instanceof L0?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=yM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0)}processChildren(t,n,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return Or(o).pipe(wg(u=>{const d=r.children[u],v=function kB(e,t){const n=e.filter(r=>lu(r)===t);return n.push(...e.filter(r=>lu(r)!==t)),n}(n,u);return this.processSegmentGroup(t,v,d,u)}),function kL(e,t){return ir(function OL(e,t,n,r,o){return(u,d)=>{let v=n,w=t,_=0;u.subscribe(gr(d,I=>{const P=_++;w=v?e(w,I,P):(v=!0,I),r&&d.next(w)},o&&(()=>{v&&d.next(w),d.complete()})))}}(e,t,arguments.length>=2,!0))}((u,d)=>(u.push(...d),u)),_0(null),function FL(e,t){const n=arguments.length>=2;return r=>r.pipe(e?wc((o,u)=>e(o,u,r)):Je,TD(1),n?_0(t):Wx(()=>new E0))}(),Gt(u=>{if(null===u)return xg(r);const d=NM(u);return function mV(e){e.sort((t,n)=>t.value.outlet===yn?-1:n.value.outlet===yn?1:t.value.outlet.localeCompare(n.value.outlet))}(d),Bt(d)}))}processSegment(t,n,r,o,u,d){return Or(n).pipe(wg(v=>this.processSegmentAgainstRoute(v._injector??t,n,v,r,o,u,d).pipe(Dh(w=>{if(w instanceof L0)return Bt(null);throw w}))),bh(v=>!!v),Dh(v=>{if(MM(v))return function pV(e,t,n){return 0===t.length&&!e.children[n]}(r,o,u)?Bt([]):xg(r);throw v}))}processSegmentAgainstRoute(t,n,r,o,u,d,v){return function hV(e,t,n,r){return!!(lu(e)===r||r!==yn&&B0(t,n,e))&&("**"===e.path||qD(t,e,n).matched)}(r,o,u,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,u,d,v):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,u,d):xg(o):xg(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?AM(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Gt(d=>{const v=new pr(d,{});return this.processSegment(t,n,v,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,d){const{matched:v,consumedSegments:w,remainingSegments:_,positionalParamSegments:I}=qD(n,o,u);if(!v)return xg(n);const P=this.applyRedirects.applyRedirectCommands(w,o.redirectTo,I);return o.redirectTo.startsWith("/")?AM(P):this.applyRedirects.lineralizeSegments(o,P).pipe(Gt(L=>this.processSegment(t,r,n,L.concat(_),d,!1)))}matchSegmentAgainstRoute(t,n,r,o,u,d){let v;if("**"===r.path){const w=o.length>0?Kx(o).parameters:{};v=Bt({snapshot:new P0(o,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PM(r),lu(r),r.component??r._loadedComponent??null,r,OM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else v=uV(n,r,o,t).pipe(en(({matched:w,consumedSegments:_,remainingSegments:I,parameters:P})=>w?{snapshot:new P0(_,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PM(r),lu(r),r.component??r._loadedComponent??null,r,OM(r)),consumedSegments:_,remainingSegments:I}:null));return v.pipe(po(w=>null===w?xg(n):this.getChildConfig(t=r._injector??t,r,o).pipe(po(({routes:_})=>{const I=r._loadedInjector??t,{snapshot:P,consumedSegments:L,remainingSegments:Q}=w,{segmentGroup:oe,slicedSegments:ee}=RM(n,L,Q,_);if(0===ee.length&&oe.hasChildren())return this.processChildren(I,_,oe).pipe(en(Ue=>null===Ue?null:[new bc(P,Ue)]));if(0===_.length&&0===ee.length)return Bt([new bc(P,[])]);const ge=lu(r)===u;return this.processSegment(I,_,oe,ee,ge?yn:u,!0).pipe(en(Ue=>[new bc(P,Ue)]))}))))}getChildConfig(t,n,r){return n.children?Bt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Bt({routes:n._loadedRoutes,injector:n._loadedInjector}):function rV(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?Bt(!0):Bt(o.map(d=>{const v=_g(d,e);return zd(function zB(e){return e&&Pm(e.canLoad)}(v)?v.canLoad(t,n):e.runInContext(()=>v(t,n)))})).pipe(Sg(),IM())}(t,n,r).pipe(Gt(o=>o?this.configLoader.loadChildren(t,n).pipe(Ao(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):function aV(e){return ym(EM(!1,3))}())):Bt({routes:[],injector:t})}}function yV(e){const t=e.value.routeConfig;return t&&""===t.path}function NM(e){const t=[],n=new Set;for(const r of e){if(!yV(r)){t.push(r);continue}const o=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=NM(r.children);t.push(new bc(r.value,o))}return t.filter(r=>!n.has(r))}function PM(e){return e.data||{}}function OM(e){return e.resolve||{}}function kM(e){return"string"==typeof e.title||null===e.title}function WD(e){return po(t=>{const n=e(t);return n?Or(n).pipe(en(()=>t)):Bt(t)})}const Mg=new yt("ROUTES");let ZD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=dt(vS)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Bt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=zd(n.loadComponent()).pipe(en(FM),Ao(u=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=u}),wm(()=>{this.componentLoaders.delete(n)})),o=new qx(r,()=>new Dr).pipe(ID());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Bt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function SV(e,t,n,r){return zd(e.loadChildren()).pipe(en(FM),Gt(o=>o instanceof E_||Array.isArray(o)?Bt(o):Or(t.compileModuleAsync(o))),en(o=>{r&&r(e);let u,d,v=!1;return Array.isArray(o)?(d=o,!0):(u=o.create(n).injector,d=u.get(Mg,[],{optional:!0,self:!0}).flat()),{routes:d.map(jD),injector:u}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(wm(()=>{this.childrenLoaders.delete(r)})),d=new qx(u,()=>new Dr).pipe(ID());return this.childrenLoaders.set(r,d),d}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FM(e){return function xV(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let V0=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dr,this.transitionAbortSubject=new Dr,this.configLoader=dt(ZD),this.environmentInjector=dt(ua),this.urlSerializer=dt(Cm),this.rootContexts=dt(Im),this.inputBindingEnabled=null!==dt(O0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Bt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new yB(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new mB(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Xi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xm,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wc(u=>0!==u.id),en(u=>({...u,extractedUrl:n.urlHandlingStrategy.extract(u.rawUrl)})),po(u=>{this.currentTransition=u;let d=!1,v=!1;return Bt(u).pipe(Ao(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),po(w=>{const _=w.currentBrowserUrl.toString(),I=!n.navigated||w.extractedUrl.toString()!==_||_!==w.currentUrlTree.toString();if(!I&&"reload"!==(w.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const L="";return this.events.next(new Cg(w.id,this.urlSerializer.serialize(w.rawUrl),L,0)),w.resolve(null),Yr}if(n.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return Bt(w).pipe(po(L=>{const Q=this.transitions?.getValue();return this.events.next(new R0(L.id,this.urlSerializer.serialize(L.extractedUrl),L.source,L.restoredState)),Q!==this.transitions?.getValue()?Yr:Promise.resolve(L)}),function wV(e,t,n,r,o,u){return Gt(d=>function gV(e,t,n,r,o,u,d="emptyOnly"){return new vV(e,t,n,r,o,d,u).recognize()}(e,t,n,r,d.extractedUrl,o,u).pipe(en(({state:v,tree:w})=>({...d,targetSnapshot:v,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ao(L=>{u.targetSnapshot=L.targetSnapshot,u.urlAfterRedirects=L.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:L.urlAfterRedirects};const Q=new hM(L.id,this.urlSerializer.serialize(L.extractedUrl),this.urlSerializer.serialize(L.urlAfterRedirects),L.targetSnapshot);this.events.next(Q)}));if(I&&n.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:L,extractedUrl:Q,source:oe,restoredState:ee,extras:ge}=w,Ue=new R0(L,this.urlSerializer.serialize(Q),oe,ee);this.events.next(Ue);const ye=mM(0,this.rootComponentType).snapshot;return this.currentTransition=u={...w,targetSnapshot:ye,urlAfterRedirects:Q,extras:{...ge,skipLocationChange:!1,replaceUrl:!1}},Bt(u)}{const L="";return this.events.next(new Cg(w.id,this.urlSerializer.serialize(w.extractedUrl),L,1)),w.resolve(null),Yr}}),Ao(w=>{const _=new hB(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(_)}),en(w=>(this.currentTransition=u={...w,guards:BB(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},u)),function KB(e,t){return Gt(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=n;return 0===d.length&&0===u.length?Bt({...n,guardsResult:!0}):function YB(e,t,n,r){return Or(e).pipe(Gt(o=>function nV(e,t,n,r,o){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?Bt(u.map(v=>{const w=Am(t)??o,_=_g(v,w);return zd(function qB(e){return e&&Pm(e.canDeactivate)}(_)?_.canDeactivate(e,t,n,r):w.runInContext(()=>_(e,t,n,r))).pipe(bh())})).pipe(Sg()):Bt(!0)}(o.component,o.route,n,t,r)),bh(o=>!0!==o,!0))}(d,r,o,e).pipe(Gt(v=>v&&function UB(e){return"boolean"==typeof e}(v)?function XB(e,t,n,r){return Or(t).pipe(wg(o=>MD(function JB(e,t){return null!==e&&t&&t(new wB(e)),Bt(!0)}(o.route.parent,r),function QB(e,t){return null!==e&&t&&t(new DB(e)),Bt(!0)}(o.route,r),function tV(e,t,n){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(d=>function VB(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Gx(()=>Bt(d.guards.map(w=>{const _=Am(d.node)??n,I=_g(w,_);return zd(function GB(e){return e&&Pm(e.canActivateChild)}(I)?I.canActivateChild(r,e):_.runInContext(()=>I(r,e))).pipe(bh())})).pipe(Sg())));return Bt(u).pipe(Sg())}(e,o.path,n),function eV(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Bt(!0);const o=r.map(u=>Gx(()=>{const d=Am(t)??n,v=_g(u,d);return zd(function jB(e){return e&&Pm(e.canActivate)}(v)?v.canActivate(t,e):d.runInContext(()=>v(t,e))).pipe(bh())}));return Bt(o).pipe(Sg())}(e,o.route,n))),bh(o=>!0!==o,!0))}(r,u,e,t):Bt(v)),en(v=>({...n,guardsResult:v})))})}(this.environmentInjector,w=>this.events.next(w)),Ao(w=>{if(u.guardsResult=w.guardsResult,Eh(w.guardsResult))throw CM(0,w.guardsResult);const _=new pB(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(_)}),wc(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),WD(w=>{if(w.guards.canActivateChecks.length)return Bt(w).pipe(Ao(_=>{const I=new gB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}),po(_=>{let I=!1;return Bt(_).pipe(function bV(e,t){return Gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Bt(n);let u=0;return Or(o).pipe(wg(d=>function DV(e,t,n,r){const o=e.routeConfig,u=e._resolve;return void 0!==o?.title&&!kM(o)&&(u[bm]=o.title),function CV(e,t,n,r){const o=function EV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return Bt({});const u={};return Or(o).pipe(Gt(d=>function _V(e,t,n,r){const o=Am(t)??r,u=_g(e,o);return zd(u.resolve?u.resolve(t,n):o.runInContext(()=>u(t,n)))}(e[d],t,n,r).pipe(bh(),Ao(v=>{u[d]=v}))),TD(1),function LL(e){return en(()=>e)}(u),Dh(d=>MM(d)?Yr:ym(d)))}(u,e,t,r).pipe(en(d=>(e._resolvedData=d,e.data=yM(e,n).resolve,o&&kM(o)&&(e.data[bm]=o.title),null)))}(d.route,r,e,t)),Ao(()=>u++),TD(1),Gt(d=>u===o.length?Bt(n):Yr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ao({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(_,"",2)}}))}),Ao(_=>{const I=new vB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}))}),WD(w=>{const _=I=>{const P=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(I.routeConfig).pipe(Ao(L=>{I.component=L}),en(()=>{})));for(const L of I.children)P.push(..._(L));return P};return xD(_(w.targetSnapshot.root)).pipe(_0(),yg(1))}),WD(()=>this.afterPreactivation()),en(w=>{const _=function MB(e,t,n){const r=Tm(e,t._root,n?n._root:void 0);return new vM(r,t)}(n.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=u={...w,targetRouterState:_},u}),Ao(()=>{this.events.next(new kD)}),((e,t,n,r)=>en(o=>(new LB(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),yg(1),Ao({next:w=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jd(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),n.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{d=!0}}),function BL(e){return ir((t,n)=>{Yi(e).subscribe(gr(n,()=>n.complete(),ln)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Ao(w=>{throw w}))),wm(()=>{d||v||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Dh(w=>{if(v=!0,_M(w))this.events.next(new Mm(u.id,this.urlSerializer.serialize(u.extractedUrl),w.message,w.cancellationCode)),function AB(e){return _M(e)&&Eh(e.url)}(w)?this.events.next(new FD(w.url)):u.resolve(!1);else{this.events.next(new N0(u.id,this.urlSerializer.serialize(u.extractedUrl),w,u.targetSnapshot??void 0));try{u.resolve(n.errorHandler(w))}catch(_){u.reject(_)}}return Yr}))}))}cancelNavigationTransition(n,r,o){const u=new Mm(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(u),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LM(e){return e!==xm}let BM=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===yn);return r}getResolvedTitleForRoute(n){return n.data[bm]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return dt(MV)},providedIn:"root"})}return e})(),MV=(()=>{class e extends BM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Lx))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return dt(AV)},providedIn:"root"})}return e})();class TV{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let AV=(()=>{class e extends TV{static#e=this.\u0275fac=function(){let n;return function(o){return(n||(n=function ri(e){return ya(()=>{const t=e.prototype.constructor,n=t[ko]||Ys(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[ko]||Ys(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}(e)))(o||e)}}();static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $0=new yt("",{providedIn:"root",factory:()=>({})});let RV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:function(){return dt(NV)},providedIn:"root"})}return e})(),NV=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Om=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Om||{});function VM(e,t){e.events.pipe(wc(n=>n instanceof jd||n instanceof Mm||n instanceof N0||n instanceof Cg),en(n=>n instanceof jd||n instanceof Cg?Om.COMPLETE:n instanceof Mm&&(0===n.code||1===n.code)?Om.REDIRECTING:Om.FAILED),wc(n=>n!==Om.REDIRECTING),yg(1)).subscribe(()=>{t()})}function PV(e){throw e}function OV(e,t,n){return t.parse("/")}const kV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ts=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=dt(gS),this.isNgZoneEnabled=!1,this._events=new Dr,this.options=dt($0,{optional:!0})||{},this.pendingTasks=dt(e0),this.errorHandler=this.options.errorHandler||PV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||OV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=dt(RV),this.routeReuseStrategy=dt(IV),this.titleStrategy=dt(BM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=dt(Mg,{optional:!0})?.flat()??[],this.navigationTransitions=dt(V0),this.urlSerializer=dt(Cm),this.location=dt(tD),this.componentInputBindingEnabled=!!dt(O0,{optional:!0}),this.eventsSubscription=new Ve,this.isNgZoneEnabled=dt(Tr)instanceof Tr&&Tr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mM(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void($M(r)&&this._events.next(r));if(r instanceof R0)LM(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof Cg)this.rawUrlTree=o.rawUrl;else if(r instanceof hM){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof kD)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof Mm)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof FD){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||LM(o.source)};this.scheduleNavigation(u,xm,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof N0&&this.restoreHistory(o,!0),r instanceof jd&&(this.navigated=!0),$M(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xm,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,o){const u={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const w={...o};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const v=this.parseUrl(n);this.scheduleNavigation(v,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:v,preserveFragment:w}=r,_=w?this.currentUrlTree.fragment:d;let P,I=null;switch(v){case"merge":I={...this.currentUrlTree.queryParams,...u};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}null!==I&&(I=this.removeEmptyProps(I));try{P=aM(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),P=this.currentUrlTree.root}return sM(P,n,I,_??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Eh(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,xm,null,r)}navigate(n,r={skipLocationChange:!1}){return function LV(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new ze(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?{...kV}:!1===r?{...FV}:r,Eh(n))return Xx(this.currentUrlTree,n,o);const u=this.parseUrl(n);return Xx(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const u=n[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(n,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let v,w,_;d?(v=d.resolve,w=d.reject,_=d.promise):_=new Promise((P,L)=>{v=P,w=L});const I=this.pendingTasks.add();return VM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:u,resolve:v,reject:w,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(P=>Promise.reject(P))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $M(e){return!(e instanceof kD||e instanceof FD)}class HM{}let $V=(()=>{class e{constructor(n,r,o,u,d){this.router=n,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(wc(n=>n instanceof jd),wg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=Db(u.providers,n,`Route: ${u.path}`));const d=u._injector??n,v=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(v,u.children??u._loadedRoutes))}return Or(o).pipe(yu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Bt(null);const u=o.pipe(Gt(d=>null===d?Bt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??n,d.routes))));return r.loadComponent&&!r._loadedComponent?Or([u,this.loader.loadComponent(r)]).pipe(yu()):u})}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Ts),gt(vS),gt(ua),gt(HM),gt(ZD))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const YD=new yt("");let UM=(()=>{class e{constructor(n,r,o,u,d={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof R0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof jd?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Cg&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function uE(){throw new Error("invalid")}()};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();function Dc(e,t){return{\u0275kind:e,\u0275providers:t}}function jM(){const e=dt(es);return t=>{const n=e.get(gg);if(t!==n.components[0])return;const r=e.get(Ts),o=e.get(GM);1===e.get(XD)&&r.initialNavigation(),e.get(qM,null,gn.Optional)?.setUpPreloading(),e.get(YD,null,gn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const GM=new yt("",{factory:()=>new Dr}),XD=new yt("",{providedIn:"root",factory:()=>1}),qM=new yt("");function jV(e){return Dc(0,[{provide:qM,useExisting:$V},{provide:HM,useExisting:e}])}const WM=new yt("ROUTER_FORROOT_GUARD"),qV=[tD,{provide:Cm,useClass:AD},Ts,Im,{provide:_h,useFactory:function zM(e){return e.routerState.root},deps:[Ts]},ZD,[]];function WV(){return new ES("Router",Ts)}let ZM=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[qV,[],{provide:Mg,multi:!0,useValue:n},{provide:WM,useFactory:XV,deps:[[Ts,new Io,new Ad]]},{provide:$0,useValue:r||{}},r?.useHash?{provide:wh,useClass:n2}:{provide:wh,useClass:JS},{provide:YD,useFactory:()=>{const e=dt(CF),t=dt(Tr),n=dt($0),r=dt(V0),o=dt(Cm);return n.scrollOffset&&e.setOffset(n.scrollOffset),new UM(o,r,e,t,n)}},r?.preloadingStrategy?jV(r.preloadingStrategy).\u0275providers:[],{provide:ES,multi:!0,useFactory:WV},r?.initialNavigation?QV(r):[],r?.bindToComponentInputs?Dc(8,[DM,{provide:O0,useExisting:DM}]).\u0275providers:[],[{provide:KM,useFactory:jM},{provide:Gb,multi:!0,useExisting:KM}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Mg,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(gt(WM,8))};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({})}return e})();function XV(e){return"guarded"}function QV(e){return["disabled"===e.initialNavigation?Dc(3,[{provide:Lb,multi:!0,useFactory:()=>{const t=dt(Ts);return()=>{t.setUpLocationChangeListener()}}},{provide:XD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Dc(2,[{provide:XD,useValue:0},{provide:Lb,multi:!0,deps:[es],useFactory:t=>{const n=t.get(e2,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=t.get(Ts),u=t.get(GM);VM(o,()=>{r(!0)}),t.get(V0).afterPreactivation=()=>(r(!0),u.closed?Bt(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const KM=new yt("");let e$=(()=>{class e{constructor(){this.title="PathwayBrowser"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Vs({type:e,selectors:[["cr-root"]],decls:1,vars:0,template:function(r,o){1&r&&tm(0,"router-outlet")},dependencies:[UD]})}return e})();const Tg=new yt("CallSetDisabledState",{providedIn:"root",factory:()=>q0}),q0="always";let FI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({})}return e})(),Q$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({imports:[FI]})}return e})(),eH=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Tg,useValue:n.callSetDisabledState??q0}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({imports:[Q$]})}return e})();class X0{}class Q0{}class Dl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),u=o.toLowerCase(),d=n.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Dl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Dl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Dl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const u=t.value;if(u){let d=this.headers.get(n);if(!d)return;d=d.filter(v=>-1===u.indexOf(v)),0===d.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,d)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(u=>u.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class tH{encodeKey(t){return eT(t)}encodeValue(t){return eT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const rH=/%(\d[a-f0-9])/gi,iH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eT(e){return encodeURIComponent(e).replace(rH,(t,n)=>iH[n]??t)}function J0(e){return`${e}`}class Zd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new tH,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nH(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,v]=-1==u?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,u)),t.decodeValue(o.slice(u+1))],w=n.get(d)||[];w.push(v),n.set(d,w)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(J0):[J0(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(u=>{n.push({param:r,value:u,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Zd({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(J0(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(J0(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class oH{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function tT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function nT(e){return typeof Blob<"u"&&e instanceof Blob}function rT(e){return typeof FormData<"u"&&e instanceof FormData}class Vm{constructor(t,n,r,o){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function aH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Dl),this.context||(this.context=new oH),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=n;else{const v=n.indexOf("?");this.urlWithParams=n+(-1===v?"?":v<n.length-1?"&":"")+d}}else this.params=new Zd,this.urlWithParams=n}serializeBody(){return null===this.body?null:tT(this.body)||nT(this.body)||rT(this.body)||function sH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rT(this.body)?null:nT(this.body)?this.body.type||null:tT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,_=t.params||this.params;const I=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((P,L)=>P.set(L,t.setHeaders[L]),w)),t.setParams&&(_=Object.keys(t.setParams).reduce((P,L)=>P.set(L,t.setParams[L]),_)),new Vm(n,r,u,{params:_,headers:w,context:I,reportProgress:v,responseType:o,withCredentials:d})}}var Ag=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ag||{});class yC{constructor(t,n=200,r="OK"){this.headers=t.headers||new Dl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class wC extends yC{constructor(t={}){super(t),this.type=Ag.ResponseHeader}clone(t={}){return new wC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Rg extends yC{constructor(t={}){super(t),this.type=Ag.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Rg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class iT extends yC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function bC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let oT=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let u;if(n instanceof Vm)u=n;else{let w,_;w=o.headers instanceof Dl?o.headers:new Dl(o.headers),o.params&&(_=o.params instanceof Zd?o.params:new Zd({fromObject:o.params})),u=new Vm(n,r,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:_,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=Bt(u).pipe(wg(w=>this.handler.handle(w)));if(n instanceof Vm||"events"===o.observe)return d;const v=d.pipe(wc(w=>w instanceof Rg));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return v.pipe(en(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return v.pipe(en(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return v.pipe(en(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return v.pipe(en(w=>w.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Zd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,bC(o,r))}post(n,r,o={}){return this.request("POST",n,bC(o,r))}put(n,r,o={}){return this.request("PUT",n,bC(o,r))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(X0))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();function uT(e,t){return t(e)}function lH(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const dH=new yt(""),$m=new yt(""),lT=new yt("");function fH(){let e=null;return(t,n)=>{null===e&&(e=(dt(dH,{optional:!0})??[]).reduceRight(lH,uT));const r=dt(e0),o=r.add();return e(t,n).pipe(wm(()=>r.remove(o)))}}let cT=(()=>{class e extends X0{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=dt(e0)}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get($m),...this.injector.get(lT,[])]));this.chain=o.reduceRight((u,d)=>function cH(e,t,n){return(r,o)=>n.runInContext(()=>t(r,u=>e(u,o)))}(u,d,this.injector),uT)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(wm(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(Q0),gt(ua))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const vH=/^\)\]\}',?\n/;let fT=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new ze(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Or(r.\u0275loadImpl()):Bt(null)).pipe(po(()=>new Ct(u=>{const d=r.build();if(d.open(n.method,n.urlWithParams),n.withCredentials&&(d.withCredentials=!0),n.headers.forEach((ee,ge)=>d.setRequestHeader(ee,ge.join(","))),n.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ee=n.detectContentTypeHeader();null!==ee&&d.setRequestHeader("Content-Type",ee)}if(n.responseType){const ee=n.responseType.toLowerCase();d.responseType="json"!==ee?ee:"text"}const v=n.serializeBody();let w=null;const _=()=>{if(null!==w)return w;const ee=d.statusText||"OK",ge=new Dl(d.getAllResponseHeaders()),Ue=function mH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(d)||n.url;return w=new wC({headers:ge,status:d.status,statusText:ee,url:Ue}),w},I=()=>{let{headers:ee,status:ge,statusText:Ue,url:ye}=_(),lt=null;204!==ge&&(lt=typeof d.response>"u"?d.responseText:d.response),0===ge&&(ge=lt?200:0);let Et=ge>=200&&ge<300;if("json"===n.responseType&&"string"==typeof lt){const kt=lt;lt=lt.replace(vH,"");try{lt=""!==lt?JSON.parse(lt):null}catch(Mn){lt=kt,Et&&(Et=!1,lt={error:Mn,text:lt})}}Et?(u.next(new Rg({body:lt,headers:ee,status:ge,statusText:Ue,url:ye||void 0})),u.complete()):u.error(new iT({error:lt,headers:ee,status:ge,statusText:Ue,url:ye||void 0}))},P=ee=>{const{url:ge}=_(),Ue=new iT({error:ee,status:d.status||0,statusText:d.statusText||"Unknown Error",url:ge||void 0});u.error(Ue)};let L=!1;const Q=ee=>{L||(u.next(_()),L=!0);let ge={type:Ag.DownloadProgress,loaded:ee.loaded};ee.lengthComputable&&(ge.total=ee.total),"text"===n.responseType&&d.responseText&&(ge.partialText=d.responseText),u.next(ge)},oe=ee=>{let ge={type:Ag.UploadProgress,loaded:ee.loaded};ee.lengthComputable&&(ge.total=ee.total),u.next(ge)};return d.addEventListener("load",I),d.addEventListener("error",P),d.addEventListener("timeout",P),d.addEventListener("abort",P),n.reportProgress&&(d.addEventListener("progress",Q),null!==v&&d.upload&&d.upload.addEventListener("progress",oe)),d.send(v),u.next({type:Ag.Sent}),()=>{d.removeEventListener("error",P),d.removeEventListener("abort",P),d.removeEventListener("load",I),d.removeEventListener("timeout",P),n.reportProgress&&(d.removeEventListener("progress",Q),null!==v&&d.upload&&d.upload.removeEventListener("progress",oe)),d.readyState!==d.DONE&&d.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(gt(wx))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();const DC=new yt("XSRF_ENABLED"),hT=new yt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pT=new yt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gT{}let bH=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=lx(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(gt(ns),gt(cc),gt(hT))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})();function DH(e,t){const n=e.url.toLowerCase();if(!dt(DC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=dt(gT).getToken(),o=dt(pT);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var Kd=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Kd||{});function CH(...e){const t=[oT,fT,cT,{provide:X0,useExisting:cT},{provide:Q0,useExisting:fT},{provide:$m,useValue:DH,multi:!0},{provide:DC,useValue:!0},{provide:gT,useClass:bH}];for(const n of e)t.push(...n.\u0275providers);return function Rv(e){return{\u0275providers:e}}(t)}const vT=new yt("LEGACY_INTERCEPTOR_FN");function EH(){return function Mh(e,t){return{\u0275kind:e,\u0275providers:t}}(Kd.LegacyInterceptors,[{provide:vT,useFactory:fH},{provide:$m,useExisting:vT,multi:!0}])}let _H=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({providers:[CH(EH())]})}return e})();var AH=ae(6100),RH=ae.n(AH),Yd=ae(6990);function jt(e){return function NH(e){return void 0!==e.apply}(e)?e():e}function Cc(e){const t=e;return t.setDefault=function(n,r){return e[n]||(e[n]=r),t},t}const PH=(e,t)=>$t.properties[e][t],OH=(e,t,n)=>n(jt($t.properties[e][t])),Xd=(0,Yd.memoize)(e=>{let t=[];const n=e.classes().find(w=>CC.has(w));if(!n)return wT(t,mT);const r=CC.get(n),[o,u,d]=[e.data("width"),e.data("height"),e.hasClass("drug")],v=r(o,u,d);return v.background&&t.push(v.background),e.selected()&&v.select&&t.push(v.select),e.hasClass("hover")&&v.hover&&t.push(v.hover),e.hasClass("flag")&&v.flag&&t.push(v.flag),v.decorators&&t.push(...v.decorators),d&&t.push(jH(o,u,n)),t=t.map(w=>({...w,"background-image":yT(w["background-image"],w["background-width"]||o,w["background-height"]||u)})),wT(t,mT)},e=>e.id()+"-"+e.classes().toString()+"-s:"+e.selected()),mT={"background-image":"","background-position-x":"0","background-position-y":"0","background-offset-x":"0","background-offset-y":"0","background-width":"100%","background-height":"100%","background-fit":"none","background-clip":"none","background-image-containment":"over","background-image-smoothing":"yes","background-height-relative-to":"inner","background-width-relative-to":"inner","background-repeat":"no-repeat","background-image-crossorigin":"anonymous","bounds-expansion":0};function yT(e,t,n){return"data:image/svg+xml;utf8,"+encodeURIComponent(function UH(e,t=100,n=100){return(new DOMParser).parseFromString(`<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg><svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='${t}' height='${n}'>${e}</svg>`,"text/xml").documentElement}(e,t,n).outerHTML)}const Ih=(e,t,n)=>`${e}x${t}-${n}`,CC=new Map([["Protein",(0,Yd.memoize)((e,t,n)=>{const r=jt($t.properties.global.select),o=jt($t.properties.global.hover),u=jt($t.properties.global.thickness),d=jt($t.properties.protein.radius),v=d+u,w=d-u;return{hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${v}\n            a ${v} ${v} 0 0 1 ${v} -${v}\n            h ${e-2*v}\n            a ${v} ${v} 0 0 1 ${v} ${v}\n            a ${v} ${w} 0 0 0 -${v} -${w}\n            h -${e-2*v}\n            a ${v} ${w} 0 0 0 -${v} ${w}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":v},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${v} ${v} 0 0 0 ${v} ${v}\n            h ${e-2*v}\n            a ${v} ${v} 0 0 0 ${v} -${v}\n            a ${v} ${w} 0 0 1 -${v} ${w}\n            h -${e-2*v}\n            a ${v} ${w} 0 0 1 -${v} -${w}\n            Z"/>\n`,"background-position-y":t-d,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":v}}},Ih)],["GenomeEncodedEntity",(0,Yd.memoize)((e,t,n)=>{const r=jt($t.properties.global.select),o=jt($t.properties.global.hover),u=jt($t.properties.global.thickness),d=jt($t.properties.genomeEncodedEntity.radius),w=d+u,_=d-u,I=2*u,P=3*I;return{background:{"background-image":`\n        \n  <defs>\n    <rect id="rect" rx="${d}" ry="${d}" x="0" y="0" width="${e}" height="${t}"/>\n    <clipPath id="clip">\n      <use href="#rect"/>\n    </clipPath>\n  </defs>\n  \n        <use href="#rect" clip-path="url(#clip)" stroke-width="${I}" stroke="${jt($t.properties.genomeEncodedEntity.stroke)}" fill="none" stroke-linecap="round" stroke-dasharray="${P} ${P}"/>\n      `},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${w}\n            a ${w} ${w} 0 0 1 ${w} -${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 1 ${w} ${w}\n            a ${w} ${_} 0 0 0 -${w} -${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 0 -${w} ${_}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":w},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${w} ${w} 0 0 0 ${w} ${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 0 ${w} -${w}\n            a ${w} ${_} 0 0 1 -${w} ${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 1 -${w} -${_}\n            Z"/>\n`,"background-position-y":t-d,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":w}}},Ih)],["RNA",(0,Yd.memoize)((e,t,n)=>{const r=jt($t.properties.global.thickness),o=jt($t.properties.global.select),u=jt($t.properties.global.hover),v=jt($t.properties.rna.radius),w=v+r,_=v-r;return{hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${u}"/>`,"background-position-y":-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${w} ${w} 0 0 0 ${w} ${w}\n            h ${e-2*w}\n            a ${w} ${w} 0 0 0 ${w} -${w}\n            a ${w} ${_} 0 0 1 -${w} ${_}\n            h -${e-2*w}\n            a ${w} ${_} 0 0 1 -${w} -${_}\n            Z"/>\n`,"background-position-y":t-v,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":w}}},Ih)],["Gene",(0,Yd.memoize)((e,t,n)=>{const r=jt($t.properties.global.thickness),o=jt($t.properties.gene.decorationHeight),u=jt($t.properties.gene.decorationExtraWidth),d=jt($t.properties.gene.arrowHeadSize),v=jt($t.properties.gene.arrowRadius),w=jt($t.properties.gene.fill),_=jt($t.properties.global.select),I=jt($t.properties.global.hover),P=Math.sqrt(3*Math.pow(d,2)/4),L=e/2,Q=jt($t.properties.gene.borderRadius),oe=Q+r,ee=Q-r;return{background:{"background-image":`\n          <path fill="${w}" stroke-width="0" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${o}\n            H ${e}\n            v ${t-o-v}\n            a ${v} ${v} 0 0 1 -${v} ${v}\n            H ${v}\n            a ${v} ${v} 0 0 1 -${v} -${v}\n            Z\n          "/>`,"background-position-y":0,"background-position-x":0},decorators:[{"background-image":`\n          <path fill="none" stroke="${w}" stroke-width="${r}"  d="\n            M ${L} ${o+2*r}\n            v -${o-v-(d+r)/2+2*r}\n            a ${v} ${v} 0 0 1 ${v} -${v}\n            h ${L-r-v+u}\n          "/>\n            <path fill="${w}" stroke="${w}" stroke-width="${r}" stroke-linejoin="round"  d="\n            M ${e-P-r/2+u} ${d/2+r/2}\n            v -${d/2}\n            l ${P} ${d/2}\n            l -${P} ${d/2}\n            v -${d/2}\n            z\n          "/>`,"background-position-y":-r/2,"bounds-expansion":o,"background-height":o+1.5*r,"background-width":e+u,"background-clip":"none","background-image-containment":"over"}],hover:{"background-image":`<rect x="0" y="0" width="${e}" height="${2*r}" fill="${I}"/>`,"background-position-y":o-r,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":2*r},select:{"background-image":`\n          <path fill="${_}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${oe} ${oe} 0 0 0 ${oe} ${oe}\n            h ${e-2*oe}\n            a ${oe} ${oe} 0 0 0 ${oe} -${oe}\n            a ${oe} ${ee} 0 0 1 -${oe} ${ee}\n            h -${e-2*oe}\n            a ${oe} ${ee} 0 0 1 -${oe} -${ee}\n            Z"/>\n`,"background-position-y":t-Q,"bounds-expansion":r,"background-clip":"none","background-image-containment":"over","background-height":oe}}},Ih)],["Molecule",(0,Yd.memoize)((e,t,n)=>{const r=jt($t.properties.global.select),o=jt($t.properties.global.hover),u=jt($t.properties.global.thickness),d=jt(n?$t.properties.molecule.drug:$t.properties.molecule.stroke),v=jt($t.properties.molecule.fill),w=u/2,_=t/2,I=_+u,P=_-u,L=Math.min(I,e/2);return{background:{"background-image":`<rect x="${w}" y="${w}" width="${e-u}" height="${t-u}" rx="${_}" stroke="${d}" fill="${v}" stroke-width="${u}"/>`},hover:{"background-image":`\n          <path fill="${o}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 ${I}\n            a ${L} ${I} 0 0 1 ${L} -${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 1 ${L} ${I}\n            a ${L} ${P} 0 0 0 -${L} -${P}\n            h -${e-2*L}\n            a ${L} ${P} 0 0 0 -${L} ${P}\n            Z"/>\n`,"background-position-y":-u,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":I},select:{"background-image":`\n          <path fill="${r}" stroke-linejoin="round" stroke-linecap="round"  d="\n            M 0 0\n            a ${L} ${I} 0 0 0 ${L} ${I}\n            h ${e-2*L}\n            a ${L} ${I} 0 0 0 ${L} -${I}\n            a ${L} ${P} 0 0 1 -${L} ${P}\n            h -${e-2*L}\n            a ${L} ${P} 0 0 1 -${L} -${P}\n            Z"/>\n`,"background-position-y":_,"bounds-expansion":u,"background-clip":"none","background-image-containment":"over","background-height":I}}},Ih)],["Complex",(0,Yd.memoize)((e,t,n)=>{const r=jt($t.properties.global.select),o=jt($t.properties.global.hover),u=jt($t.properties.global.thickness),d=jt($t.properties.complex.cut),v=jt(n?$t.properties.complex.drug:$t.properties.complex.fill),_=2*d,I=2*u,P=t-_-2*I,Q=t/2+u,oe=`<defs>\n  <path id="octogon" d="\n      M ${_+I+0} ${I}\n      H ${e-d-I-0}\n      l ${d} ${d}\n      v ${P}\n      l  -${d} ${d}\n      H ${_+I+0}\n      l -${d} 0 -${d} -${d}\n      v -${P}\n      l  ${d} -${d}\n      Z\n      "/>\n  </defs>`;return{background:{"background-image":`\n${oe}\n<use href="#octogon" fill="${v}" stroke="${v}" stroke-width="${2*I}" stroke-linejoin="round"/>\n`},hover:{"background-image":`\n      <path stroke="${o}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} ${Q}\n      v -${P/2}\n      l ${d} -${d+u}\n      H ${e-d-I}\n      l ${d} ${d+u}\n      v ${P/2}\n      " />\n      `,"background-position-y":-u,"background-height":Q},select:{"background-image":`\n      <path stroke="${r}" stroke-width="${2*I}" stroke-linejoin="round" d="\n      M ${I} 0\n      v ${P/2}\n      l ${d} ${d+u}\n      H ${e-d-I}\n      l ${d} -${d+u}\n      v -${P/2}\n      " />\n      `,"background-position-y":t/2,"background-height":Q},decorators:[{"background-image":`\n         ${oe}\n         <use href="#octogon" fill="none" stroke="${jt($t.properties.complex.stroke)}" stroke-width="${I}" stroke-linejoin="round"/>\n         <use href="#octogon" fill="${v}"/>\n         `}]}},Ih)],["EntitySet",(0,Yd.memoize)((e,t,n)=>{const r=jt($t.properties.global.select),o=jt($t.properties.global.hover),u=jt($t.properties.global.thickness),d=jt($t.properties.entitySet.radius),v=jt(n?$t.properties.entitySet.drug:$t.properties.entitySet.fill),_=2*d,I=2*u,P=t/2-_-u,L=t/2+u,Q=`<defs>\n   <path id="curly" d="\n       M ${_+u} ${u}\n       H ${e-_-u}\n       a ${d} ${d} 0 0 1 ${d} ${d}\n\n       v ${P}\n       a ${d} ${d} 0 0 0 ${d} ${d}\n       a ${d} ${d} 0 0 0 -${d} ${d}\n       v ${P}\n\n       a ${d} ${d} 0 0 1 -${d} ${d}\n       H ${_+u}\n       a ${d} ${d} 0 0 1 -${d} -${d}\n\n       v -${P}\n       a ${d} ${d} 0 0 0 -${d} -${d}\n       a ${d} ${d} 0 0 0 ${d} -${d}\n       v -${P}\n\n       a ${d} ${d} 0 0 1 ${d} -${d}\n       Z\n       "/>\n   <clipPath id="inside">\n     <use href="#curly"/>\n   </clipPath>\n </defs>`;return{background:{"background-image":`\n       ${Q}\n       <use href="#curly" fill="${v}" stroke="${v}" stroke-width="${I}" stroke-linejoin="round"/>\n       `},hover:{"background-image":`\n       <path stroke="${o}" stroke-width="${I}" fill="none" stroke-linejoin="round" d="\n         M ${u+d} ${L+d}\n         a ${d} ${d} 0 0 0 -${d} -${d}\n         a ${d} ${d} 0 0 0 ${d} -${d}\n         v -${P}\n         a ${d} ${d+u} 0 0 1 ${d} -${d+u}\n         H ${e-_-u}\n         a ${d} ${d+u} 0 0 1 ${d} ${d+u}\n         v ${P}\n         a ${d} ${d} 0 0 0 ${d} ${d}\n         a ${d} ${d} 0 0 0 -${d} ${d}\n       "/>`,"background-position-y":-u,"background-height":L},select:{"background-image":`\n       <path stroke="${r}" stroke-width="${I}" fill="none" stroke-linejoin="round" d="\n         M ${u+d} ${-d}\n         a ${d} ${d} 0 0 1 -${d} ${d}\n         a ${d} ${d} 0 0 1 ${d} ${d}\n         v ${P}\n         a ${d} ${d+u} 0 0 0 ${d} ${d+u}\n         H ${e-_-u}\n         a ${d} ${d+u} 0 0 0 ${d} -${d+u}\n         v -${P}\n         a ${d} ${d} 0 0 1 ${d} -${d}\n         a ${d} ${d} 0 0 1 -${d} -${d}\n       "/>`,"background-position-y":t/2,"background-height":L},decorators:[{"background-image":`\n       ${Q}\n       <use href="#curly" fill="none" stroke="${jt($t.properties.entitySet.stroke)}" stroke-width="${I}" clip-path="url(#inside)"/>\n       <rect fill="${v}" x="${I+_}" y="${u}"\n             width="${e-2*_-2*I}"\n             height="${t-I}"/>\n       `}]}},Ih)]]);function wT(e,t){const n={};return new Set(Object.keys(t)).forEach(o=>n[o]=e.map(u=>u[o]||t[o])),n}const jH=(e,t,n)=>{const r=jt($t.properties.global.thickness),o=jt("Molecule"!==n?$t.properties.global.onPrimary:$t.properties.molecule.drug);return{"background-image":`\n      <path style="transform: scale(2)" fill="${o}" stroke-width="0.4" stroke="${o}" d="M3.2 4C3.3 4 3.4 4 3.6 4L6.75 8.81L5.7 10.15C5.7 10.15 5.53985 10.3884 5.31824 10.6092C5.00434 10.922 4.6582 11.3 4.28711 11.3C4.19141 11.3 4.2 11.3 4.1 11.3V11.5H6.4V11.3C6.2 11.3 6 11.3 5.9 11.2C5.8 11.1 5.8 11 5.8 10.9C5.8 10.6301 5.9 10.5547 6.16055 10.226L7 9.2L7.65291 10.226C7.82889 10.5025 8 10.7344 8 10.9C8 11.0656 7.90095 11.3 7.65291 11.3C7.55291 11.3 7.6 11.3 7.4 11.3V11.5H10.2V11.3C9.9 11.3 9.7 11.2 9.5 11C9.24121 10.7412 9 10.5 8.6 10L7.6 8.5L8.48711 7.35309C8.55228 7.28792 8.61656 7.21558 8.68081 7.13924C9.09787 6.6437 9.64859 6 10.2 6.01309V5.81309H7.8V6.01309C8 6.01309 8.2 6.01309 8.3 6.01309C8.45586 6.01309 8.6 6.20329 8.6 6.31309C8.6 6.62136 8.43963 6.81922 8.2462 7.03337L7.3 8.1L4.5 3.9C5.1 3.8 5.4 3.61 5.7 3.31C6 3.01 6.2 2.6 6.2 2.2C6.2 1.8 6.08711 1.47 5.78711 1.17C5.52798 0.910875 5.3 0.8 5 0.7C4.6 0.6 4.1 0.5 3.4 0.5H1V0.7H1.2C1.82201 0.7 2 1.14292 2 1.7V6C2 6.59634 2 6.9 1.2 6.9H1V7.1H3.8V6.9H3.6C2.9041 6.9 2.9 6.61047 2.9 6V4H3H3.2ZM3 3.7C3 3.7 3 3.7 2.9 3.7L2.88711 1C3.18711 0.9 3.4 0.9 3.6 0.9C4.47782 0.9 5 1.42405 5 2.3C5 3.40743 4.15401 3.7 3.2 3.7H3Z"/>\n    `,"background-position-x":("EntitySet"!==n?0:jt($t.properties.entitySet.radius))+3*r,"background-position-y":t/2-11+"px","background-width":"22px","background-height":"24px"}},GH=yT('<line x1="2.5" y1="3" x2="4.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/><line x1="5.5" y1="3" x2="7.5" y2="7" stroke-width="1.5" stroke-linecap="round" stroke="#001F24"/>',10,10);class $t{constructor(t,n={}){this.p=PH,this.pm=OH,$t.css=getComputedStyle(t),$t.properties=function qH(e={},t){const n=Cc(e.global||{}).setDefault("thickness",4).setDefault("surface",()=>t.getPropertyValue("--surface")||"#F6FEFF").setDefault("onSurface",()=>t.getPropertyValue("--on-surface")||"#001F24").setDefault("primary",()=>t.getPropertyValue("--primary")||"#006782").setDefault("onPrimary",()=>t.getPropertyValue("--on-primary")||"#FFFFFF").setDefault("positive",()=>t.getPropertyValue("--positive")||"#0C9509").setDefault("negative",()=>t.getPropertyValue("--negative")||"#BA1A1A").setDefault("select",()=>t.getPropertyValue("--select")||"#6EB3E4").setDefault("hover",()=>t.getPropertyValue("--hover")||"#78E076"),r=Cc(e.compartment||{}).setDefault("opacity",.12).setDefault("fill",()=>t.getPropertyValue("--compartment")||"#E5834A"),o=Cc(e.protein||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-1")||"#001F29").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-1")||"#3E001D").setDefault("radius",8),u=Cc(e.genomeEncodedEntity||{}).setDefault("fill",()=>jt(o.fill)).setDefault("stroke",()=>jt(n.primary)).setDefault("drug",()=>jt(o.drug)).setDefault("radius",8),d=Cc(e.rna||{}).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-2")||"#003545").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-2")||"#610B33").setDefault("radius",8),v=Cc(e.gene||{}).setDefault("decorationHeight",20).setDefault("decorationExtraWidth",17).setDefault("arrowHeadSize",10).setDefault("borderRadius",8).setDefault("arrowRadius",8).setDefault("fill",()=>t.getPropertyValue("--primary-contrast-3")||"#004D62"),w=Cc(e.molecule||{}).setDefault("fill",()=>jt(n.surface)).setDefault("stroke",()=>jt(n.onSurface)).setDefault("drug",()=>t.getPropertyValue("--drug-contrast-4")||"#9C3D61"),_=Cc(e.complex||{}).setDefault("cut",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-1")||"#00315C").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-4")||"#7E2549"),I=Cc(e.entitySet||{}).setDefault("radius",8).setDefault("fill",()=>t.getPropertyValue("--tertiary-contrast-2")||"#1660A5").setDefault("stroke",()=>t.getPropertyValue("--on-tertiary")||"#FFFFFF").setDefault("drug",()=>t.getPropertyValue("--drug-contrast-5")||"#BB557A");return{global:n,compartment:r,protein:o,genomeEncodedEntity:u,rna:d,gene:v,molecule:w,complex:_,entitySet:I}}(n,$t.css)}bindToCytoscape(t){t.on("mouseover",n=>{n.target.addClass&&n.target.addClass("hover")}),t.on("mouseout",n=>{n.target.removeClass&&n.target?.removeClass("hover")})}getStyleSheet(){return[{selector:"*",style:{"font-family":"Helvetica","font-weight":600}},{selector:"node.Compartment",style:{shape:"round-rectangle",width:"1",height:"1","border-style":"double","text-opacity":.8,"text-halign":"center","text-valign":"top","text-margin-y":25,"overlay-opacity":0,color:this.p("compartment","fill"),"border-color":this.p("compartment","fill"),"background-color":this.p("compartment","fill"),"background-opacity":this.p("compartment","opacity"),"border-width":this.pm("global","thickness",t=>3*t)}},{selector:"node.drug",style:{"text-max-width":t=>t.width()-44+"px"}},{selector:"node.PhysicalEntity",style:{label:"data(displayName)",width:"data(width)",height:"data(height)","background-fit":"none","text-halign":"center","text-valign":"center","text-wrap":"wrap","text-max-width":"data(width)","background-image-smoothing":"no","background-image":t=>Xd(t)["background-image"],"background-position-y":t=>Xd(t)["background-position-y"]||0,"background-position-x":t=>Xd(t)["background-position-x"]||0,"background-height":t=>Xd(t)["background-height"]||"100%","background-width":t=>Xd(t)["background-width"]||"100%","background-clip":t=>Xd(t)["background-clip"]||"clipped","background-image-containment":t=>Xd(t)["background-image-containment"]||"inside","bounds-expansion":this.p("global","thickness"),color:this.p("global","onPrimary")}},{selector:"node.Protein",style:{shape:"round-rectangle","background-color":this.p("protein","fill")}},{selector:"node.Protein.drug",style:{"background-color":this.p("protein","drug")}},{selector:"node.GenomeEncodedEntity",style:{shape:"round-rectangle","background-color":this.p("genomeEncodedEntity","fill")}},{selector:"node.GenomeEncodedEntity.drug",style:{"background-color":this.p("genomeEncodedEntity","drug")}},{selector:"node.RNA",style:{shape:"bottom-round-rectangle","background-color":this.p("rna","fill")}},{selector:"node.RNA.drug",style:{"background-color":this.p("rna","drug")}},{selector:"node.Gene",style:{shape:"bottom-round-rectangle","background-opacity":0,"background-color":this.p("gene","fill"),"bounds-expansion":this.p("gene","decorationExtraWidth"),"text-margin-y":this.pm("gene","decorationHeight",t=>t/2)}},{selector:"node.Molecule",style:{"background-opacity":0,shape:"round-rectangle",color:this.p("molecule","stroke")}},{selector:"node.Molecule.drug",style:{color:this.p("molecule","drug")}},{selector:"node.EntitySet",style:{"background-opacity":0,shape:"round-rectangle","text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n+"px"))}},{selector:"node.EntitySet.drug",style:{"text-max-width":t=>this.pm("global","thickness",n=>this.pm("entitySet","radius",r=>t.width()-2*r-6*n-44+"px"))}},{selector:"node.Complex",style:{"background-opacity":0,shape:"cut-rectangle","text-max-width":t=>this.pm("global","thickness",n=>t.width()-3*n+"px")}},{selector:"node.Pathway",style:{"text-max-width":t=>t.width()-44+"px"}},{selector:"node.reaction",style:{width:this.pm("global","thickness",t=>6*t),height:this.pm("global","thickness",t=>6*t),shape:"round-rectangle","text-halign":"center","text-valign":"center","border-width":this.p("global","thickness"),"border-color":this.p("global","onSurface"),color:this.p("global","onSurface"),"background-color":this.p("global","surface")}},{selector:"node.association",style:{shape:"ellipse","background-color":this.p("global","onSurface")}},{selector:" node.dissociation",style:{shape:"ellipse","border-style":"double","border-width":this.pm("global","thickness",t=>3*t)}},{selector:" node.uncertain",style:{label:"?","font-weight":600}},{selector:"node.omitted",style:{"background-image":GH,"background-fit":"cover","background-height":"100%","background-width":"100%"}},{selector:"edge",style:{"curve-style":"bezier","line-cap":"round","source-endpoint":"outside-to-node","arrow-scale":1.5,width:this.p("global","thickness"),color:this.p("global","onSurface"),"line-color":this.p("global","onSurface"),"target-arrow-color":this.p("global","onSurface"),"mid-source-arrow-color":this.p("global","onSurface"),"mid-target-arrow-color":this.p("global","onSurface"),"source-arrow-color":this.p("global","onSurface")}},{selector:"edge.consumption",style:{"target-endpoint":"inside-to-node","source-endpoint":"outside-to-node"}},{selector:"edge.production",style:{"target-arrow-shape":"triangle"}},{selector:"edge.catalysis",style:{"target-arrow-shape":"circle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.positive-regulation",style:{"target-arrow-shape":"triangle","target-arrow-fill":"hollow","target-arrow-color":this.p("global","positive")}},{selector:"edge.negative-regulation",style:{"target-arrow-shape":"tee","line-cap":"butt","source-endpoint":"inside-to-node","target-arrow-color":this.p("global","negative")}},{selector:"edge.set-to-member",style:{"target-arrow-shape":"circle","line-style":"dashed","line-dash-pattern":[6,10]}},{selector:"edge[stoichiometry > 1]",style:{"text-background-color":this.p("global","surface"),"text-background-opacity":1,"text-border-width":this.pm("global","thickness",t=>t/2),"text-border-opacity":1,"text-border-color":this.p("global","onSurface"),"text-background-shape":"roundrectangle","text-background-padding":this.pm("global","thickness",t=>t+"px")}},{selector:"edge[stoichiometry > 1].incoming",style:{"source-label":"data(stoichiometry)","source-text-offset":30}},{selector:"edge[stoichiometry > 1].outgoing",style:{"target-label":"data(stoichiometry)","target-text-offset":35}},{selector:"edge[?weights]",style:{"curve-style":"unbundled-bezier","control-point-distances":"data(distances)","control-point-weights":"data(weights)","edge-distances":"endpoints"}},{selector:"edge[?sourceEndpoint]",style:{"source-endpoint":"data(sourceEndpoint)"}},{selector:"edge[?targetEndpoint]",style:{"target-endpoint":"data(targetEndpoint)"}},{selector:"node.debug",style:{label:"data(id)","text-outline-width":4,"text-outline-color":"black","text-outline-opacity":1,color:"white"}}]}update(t){(function zH(){for(let e of CC.values())e.cache.clear();Xd.cache.clear()})(),t.style(this.getStyleSheet())}}var e,WH=Object.create,bT=Object.defineProperty,ZH=Object.getOwnPropertyDescriptor,KH=Object.getOwnPropertyNames,YH=Object.getPrototypeOf,XH=Object.prototype.hasOwnProperty,EC=(e=function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e),_C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),e3=_C((e,t)=>{t.exports=function(n){return n&&"object"==typeof n&&"function"==typeof n.copy&&"function"==typeof n.fill&&"function"==typeof n.readUInt8}}),t3=_C((e,t)=>{t.exports="function"==typeof Object.create?function(n,r){n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,r){n.super_=r;var o=function(){};o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}}),n3=_C(e=>{var t=/%[sdj%]/g;e.format=function(Pe){if(!lt(Pe)){for(var et=[],xt=0;xt<arguments.length;xt++)et.push(o(arguments[xt]));return et.join(" ")}xt=1;for(var Nr=arguments,Xo=Nr.length,wi=String(Pe).replace(t,function(bi){if("%%"===bi)return"%";if(xt>=Xo)return bi;switch(bi){case"%s":return String(Nr[xt++]);case"%d":return Number(Nr[xt++]);case"%j":try{return JSON.stringify(Nr[xt++])}catch{return"[Circular]"}default:return bi}}),nr=Nr[xt];xt<Xo;nr=Nr[++xt])ge(nr)||!Zr(nr)?wi+=" "+nr:wi+=" "+o(nr);return wi},e.deprecate=function(Pe,et){if(kt(global.process))return function(){return e.deprecate(Pe,et).apply(this,arguments)};if(!0===process.noDeprecation)return Pe;var xt=!1;return function Nr(){if(!xt){if(process.throwDeprecation)throw new Error(et);process.traceDeprecation?console.trace(et):console.error(et),xt=!0}return Pe.apply(this,arguments)}};var r,n={};function o(Pe,et){var xt={seen:[],stylize:d};return arguments.length>=3&&(xt.depth=arguments[2]),arguments.length>=4&&(xt.colors=arguments[3]),ee(et)?xt.showHidden=et:et&&e._extend(xt,et),kt(xt.showHidden)&&(xt.showHidden=!1),kt(xt.depth)&&(xt.depth=2),kt(xt.colors)&&(xt.colors=!1),kt(xt.customInspect)&&(xt.customInspect=!0),xt.colors&&(xt.stylize=u),w(xt,Pe,xt.depth)}function u(Pe,et){var xt=o.styles[et];return xt?"\x1b["+o.colors[xt][0]+"m"+Pe+"\x1b["+o.colors[xt][1]+"m":Pe}function d(Pe,et){return Pe}function w(Pe,et,xt){if(Pe.customInspect&&et&&Rh(et.inspect)&&et.inspect!==e.inspect&&(!et.constructor||et.constructor.prototype!==et)){var Nr=et.inspect(xt,Pe);return lt(Nr)||(Nr=w(Pe,Nr,xt)),Nr}var Xo=function _(Pe,et){if(kt(et))return Pe.stylize("undefined","undefined");if(lt(et)){var xt="'"+JSON.stringify(et).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Pe.stylize(xt,"string")}return ye(et)?Pe.stylize(""+et,"number"):ee(et)?Pe.stylize(""+et,"boolean"):ge(et)?Pe.stylize("null","null"):void 0}(Pe,et);if(Xo)return Xo;var wi=Object.keys(et),nr=function v(Pe){var et={};return Pe.forEach(function(xt,Nr){et[xt]=!0}),et}(wi);if(Pe.showHidden&&(wi=Object.getOwnPropertyNames(et)),is(et)&&(wi.indexOf("message")>=0||wi.indexOf("description")>=0))return I(et);if(0===wi.length){if(Rh(et))return Pe.stylize("[Function"+(et.name?": "+et.name:"")+"]","special");if(Mn(et))return Pe.stylize(RegExp.prototype.toString.call(et),"regexp");if(yi(et))return Pe.stylize(Date.prototype.toString.call(et),"date");if(is(et))return I(et)}var IC,bi="",Jd=!1,nw=["{","}"];return oe(et)&&(Jd=!0,nw=["[","]"]),Rh(et)&&(bi=" [Function"+(et.name?": "+et.name:"")+"]"),Mn(et)&&(bi=" "+RegExp.prototype.toString.call(et)),yi(et)&&(bi=" "+Date.prototype.toUTCString.call(et)),is(et)&&(bi=" "+I(et)),0!==wi.length||Jd&&0!=et.length?xt<0?Mn(et)?Pe.stylize(RegExp.prototype.toString.call(et),"regexp"):Pe.stylize("[Object]","special"):(Pe.seen.push(et),IC=Jd?function P(Pe,et,xt,Nr,Xo){for(var wi=[],nr=0,uo=et.length;nr<uo;++nr)NT(et,String(nr))?wi.push(L(Pe,et,xt,Nr,String(nr),!0)):wi.push("");return Xo.forEach(function(bi){bi.match(/^\d+$/)||wi.push(L(Pe,et,xt,Nr,bi,!0))}),wi}(Pe,et,xt,nr,wi):wi.map(function(Sz){return L(Pe,et,xt,nr,Sz,Jd)}),Pe.seen.pop(),function Q(Pe,et,xt){var Xo=Pe.reduce(function(wi,nr){return nr.indexOf("\n"),wi+nr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Xo>60?xt[0]+(""===et?"":et+"\n ")+" "+Pe.join(",\n  ")+" "+xt[1]:xt[0]+et+" "+Pe.join(", ")+" "+xt[1]}(IC,bi,nw)):nw[0]+bi+nw[1]}function I(Pe){return"["+Error.prototype.toString.call(Pe)+"]"}function L(Pe,et,xt,Nr,Xo,wi){var nr,uo,bi;if((bi=Object.getOwnPropertyDescriptor(et,Xo)||{value:et[Xo]}).get?uo=Pe.stylize(bi.set?"[Getter/Setter]":"[Getter]","special"):bi.set&&(uo=Pe.stylize("[Setter]","special")),NT(Nr,Xo)||(nr="["+Xo+"]"),uo||(Pe.seen.indexOf(bi.value)<0?(uo=ge(xt)?w(Pe,bi.value,null):w(Pe,bi.value,xt-1)).indexOf("\n")>-1&&(uo=wi?uo.split("\n").map(function(Jd){return"  "+Jd}).join("\n").substr(2):"\n"+uo.split("\n").map(function(Jd){return"   "+Jd}).join("\n")):uo=Pe.stylize("[Circular]","special")),kt(nr)){if(wi&&Xo.match(/^\d+$/))return uo;(nr=JSON.stringify(""+Xo)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(nr=nr.substr(1,nr.length-2),nr=Pe.stylize(nr,"name")):(nr=nr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),nr=Pe.stylize(nr,"string"))}return nr+": "+uo}function oe(Pe){return Array.isArray(Pe)}function ee(Pe){return"boolean"==typeof Pe}function ge(Pe){return null===Pe}function ye(Pe){return"number"==typeof Pe}function lt(Pe){return"string"==typeof Pe}function kt(Pe){return void 0===Pe}function Mn(Pe){return Zr(Pe)&&"[object RegExp]"===Um(Pe)}function Zr(Pe){return"object"==typeof Pe&&null!==Pe}function yi(Pe){return Zr(Pe)&&"[object Date]"===Um(Pe)}function is(Pe){return Zr(Pe)&&("[object Error]"===Um(Pe)||Pe instanceof Error)}function Rh(Pe){return"function"==typeof Pe}function Um(Pe){return Object.prototype.toString.call(Pe)}function MC(Pe){return Pe<10?"0"+Pe.toString(10):Pe.toString(10)}e.debuglog=function(Pe){if(kt(r)&&(r=process.env.NODE_DEBUG||""),Pe=Pe.toUpperCase(),!n[Pe])if(new RegExp("\\b"+Pe+"\\b","i").test(r)){var et=process.pid;n[Pe]=function(){var xt=e.format.apply(e,arguments);console.error("%s %d: %s",Pe,et,xt)}}else n[Pe]=function(){};return n[Pe]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=oe,e.isBoolean=ee,e.isNull=ge,e.isNullOrUndefined=function Ue(Pe){return null==Pe},e.isNumber=ye,e.isString=lt,e.isSymbol=function Et(Pe){return"symbol"==typeof Pe},e.isUndefined=kt,e.isRegExp=Mn,e.isObject=Zr,e.isDate=yi,e.isError=is,e.isFunction=Rh,e.isPrimitive=function Ec(Pe){return null===Pe||"boolean"==typeof Pe||"number"==typeof Pe||"string"==typeof Pe||"symbol"==typeof Pe||typeof Pe>"u"},e.isBuffer=e3();var Cz=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function NT(Pe,et){return Object.prototype.hasOwnProperty.call(Pe,et)}e.log=function(){console.log("%s - %s",function Ez(){var Pe=new Date,et=[MC(Pe.getHours()),MC(Pe.getMinutes()),MC(Pe.getSeconds())].join(":");return[Pe.getDate(),Cz[Pe.getMonth()],et].join(" ")}(),e.format.apply(e,arguments))},e.inherits=t3(),e._extend=function(Pe,et){if(!et||!Zr(et))return Pe;for(var xt=Object.keys(et),Nr=xt.length;Nr--;)Pe[xt[Nr]]=et[xt[Nr]];return Pe}}),DT=e=>e.reduce((t,n)=>t.concat(Array.isArray(n)?DT(n):n),[]),CT=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),ET=e=>e.reduce((t,n)=>t*n,1),_T=e=>Array.isArray(e)||CT(e)?[e.length].concat(_T(e[0])):[],SC=e=>[...e.slice(1).map((t,n)=>e.slice(n+1).reduce((r,o)=>r*o,1)),1],r3=e=>{let{constructor:{name:t="Float32Array"}={}}=e||{};switch(t){case"Int8Array":return"int8";case"Uint8Array":return"uint8";case"Int16Array":return"int16";case"Uint16Array":return"uint16";case"Int32Array":return"int32";case"Uint32Array":return"uint32";case"Uint8ClampedArray":return"uint8c";case"Float32Array":return"float32";default:return"float64"}},Pg=e=>{switch(e){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"uint8c":return Uint8ClampedArray;case"float32":return Float32Array;default:return Float64Array}},We=(...e)=>new cu(...e),an=class{x;shape;shapem1;strides;backstrides;length;lengthm1;nd;ndm1;index;coords;pos;factors;constructor(e){this.x=We(e);let o,{shape:t,strides:n,length:r}=this.x;for(this.length=r,this.lengthm1=r-1,this.nd=t.length,this.ndm1=this.nd-1,this.shape=Array(32).fill(0),this.strides=Array(32).fill(0),this.shapem1=Array(32).fill(0),this.coords=Array(32).fill(0),this.backstrides=Array(32).fill(0),this.factors=Array(32).fill(0),0!==this.nd&&(this.factors[this.nd-1]=1),o=0;o<this.nd;o+=1)this.shape[o]=t[o],this.shapem1[o]=t[o]-1,this.strides[o]=n[o],this.backstrides[o]=n[o]*this.shapem1[o],this.coords[o]=0,o>0&&(this.factors[this.ndm1-o]=this.factors[this.nd-o]*t[this.nd-o]);this.index=0,this.pos=0}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;let u,{ndm1:t,shapem1:n,strides:r,backstrides:o}=this;for(u=t;u>=0;u-=1){if(this.coords[u]<n[u]){this.coords[u]+=1,this.pos+=r[u];break}this.coords[u]=0,this.pos-=o[u]}return this.index+=1,e}[Symbol.iterator](){return this}},Og=class{iters;shape;nd;length;lengthm1;numiter;index;pos;constructor(...e){let t,n,r,o,u,d;for(this.iters=e.map(v=>new an(v)),this.numiter=e.length,t=0,n=0;t<this.numiter;t+=1)n=Math.max(n,this.iters[t].x.shape.length);for(this.nd=n,this.shape=Array(n).fill(0),t=0;t<n;t+=1)for(this.shape[t]=1,o=0;o<this.numiter;o+=1)if(r=this.iters[o],u=t+r.x.shape.length-n,u>=0){if(d=r.x.shape[u],1==d)continue;if(1==this.shape[t])this.shape[t]=d;else if(this.shape[t]!==d)throw new Error("shape mismatch")}for(d=this.shape.reduce((v,w)=>v*w,1),this.length=d,this.lengthm1=d-1,t=0;t<this.numiter;t+=1)for(r=this.iters[t],r.nd=this.nd,r.ndm1=this.nd-1,r.length=d,r.lengthm1=d-1,n=r.x.shape.length,0!==n&&(r.factors[this.nd-1]=1),o=0;o<this.nd;o+=1)r.shape[o]=this.shape[o],r.shapem1[o]=this.shape[o]-1,u=o+n-this.nd,r.strides[o]=u<0||r.x.shape[u]!==this.shape[o]?0:r.x.strides[u],r.backstrides[o]=r.strides[o]*r.shapem1[o],o>0&&(r.factors[this.nd-o-1]=r.factors[this.nd-o]*this.shape[this.nd-o]);this.index=0,this.pos=Array(this.numiter).fill(0)}done(){return this.index>this.lengthm1}current(){let e=this.done();return{value:e?void 0:this.pos,done:e}}next(){let e=this.current();if(e.done)return e;this.index+=1;let n,r,{numiter:t}=this;for(r=0;r<t;r+=1)n=this.iters[r],this.pos[r]=n.pos,n.next();return e}[Symbol.iterator](){return this}},{abs:i3}=Math;function o3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=i3(e[n]);return this}var{acos:a3}=Math;function s3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=a3(e[n]);return this}var Ai,{acosh:u3}=Math;function l3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=u3(e[n]);return this}try{Ai=EC("nblas")}catch{}var ST=Ai&&Ai.NoTrans,xT=(e,t,n=1)=>We(e).add(We(t),n);function v3(e,t=1){let{data:n,length:r,strides:o,dtype:u}=this,{data:d,strides:v}=We(e);try{let w=v[v.length-1],_=o[o.length-1];if(w!==_)throw new Error("inc_x and inc_y must be equal");!function c3(e,t,n,r,o,u,d){if(r.length/o!==t||u.length/d!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ai.daxpy(t,n,r,o,u,d);case"float32":return Ai.saxpy(t,n,r,o,u,d);default:throw new Error("wrong dtype")}}(u,r,t,d,w,n,_)}catch{let w=new Og(this,e);for(let[_,I]of w)n[_]+=t*d[I]}return this}var{acos:m3}=Math;function y3(e){return m3(this.dot(We(e))/this.norm()/We(e).norm())}var{asin:w3}=Math;function b3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=w3(e[n]);return this}var{asinh:D3}=Math;function C3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=D3(e[n]);return this}var{atan:E3}=Math;function _3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=E3(e[n]);return this}var{atanh:S3}=Math;function x3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=S3(e[n]);return this}var Qd=(...e)=>new cu(new Float64Array(e.reduce((t,n)=>t*n,1)),{shape:e}).fill(0);function I3(e){let[t,n]=this.shape,[r,o]=We(e).shape,{data:u}=this,{data:d}=We(e);if(0===r||0===o)return this;if(t!==r)throw new Error("rows do not match");let _,I,v=Qd(t,n+o),{data:w}=v;for(_=0;_<t;_+=1)for(I=0;I<n;I+=1)w[_*(n+o)+I]=u[_*n+I];for(_=0;_<r;_+=1)for(I=0;I<o;I+=1)w[_*(n+o)+(I+n)]=d[_*o+I];return v}function T3(e,t){let{data:n}=this,{data:r}=We(e),o=new Og(this,e);for(let[u,d]of o)n[u]=t(n[u],r[d],u);return this}var{cbrt:A3}=Math;function R3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=A3(e[n]);return this}var{ceil:N3}=Math;function P3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=N3(e[n]);return this}function O3(...e){let{shape:t,length:n}=this;if(1===e.length){let[r]=e;if(r<0||r>n-1||!Number.isFinite(r))throw new Error("index out of bounds")}else if(!t.every((r,o)=>r>e[o]&&Number.isFinite(e[o])&&e[o]>=0))throw new Error("index out of bounds")}function k3(e){if(1!==this.shape.length&&1!==e.shape.length)throw new Error("combine operation not permitted for multidimensional arrays");let{length:t,data:n}=this,{length:r,data:o}=e;if(0===r)return this;if(0===t)return this.data=new(Pg(e.dtype))(o),this.length=r,this.dtype=e.dtype,this;let u=t+r,d=new(Pg(this.dtype))(u);return d.set(n),d.set(o,t),this.data=d,this.length=u,this.shape=[u],this}function F3(){let e=Qd(...this.shape),{data:t}=this,{data:n}=e,r=new Og(this,e);for(let[o,u]of r)n[u]=t[o];return e}var{cos:L3}=Math;function B3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=L3(e[n]);return this}var{cosh:V3}=Math;function $3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=V3(e[n]);return this}function H3(e){let{length:t}=this,{length:n}=e;if(3!==t||3!==n)throw new Error("vectors must have three components");let o=this.z*e.x-this.x*e.z,u=this.x*e.y-this.y*e.x;return this.x=this.y*e.z-this.z*e.y,this.y=o,this.z=u,this}function U3(){this.square();let d,[e]=this.shape,[t,n]=this.copy().lu_factor(),{data:r}=t,o=1,u=1;for(d=0;d<e;d+=1)o*=r[d*e+d],d!==n[d]-1&&(u*=-1);return u*o}function z3(){this.square();let{length:e}=this,[t,n]=this.shape,r=Math.min(t,n);return this.reshape(e).slice(0,e,r+1)}function j3(e){let{data:t,length:n,strides:r,dtype:o}=this,{data:u,strides:d}=e,v=0;try{let w=d[d.length-1],_=r[r.length-1];if(w!==_)throw new Error("inc_x and inc_y must be equal");v=function d3(e,t,n,r,o,u){if(n.length/r!==t||o.length/u!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ai.ddot(t,n,r,o,u);case"float32":return Ai.sdot(t,n,r,o,u);default:throw new Error("wrong dtype")}}(o,n,u,w,t,_)}catch{let w=new Og(this,e);for(let[_,I]of w)v+=t[_]*u[I]}return v}var Hm,MT=e=>{let r,t=new cu(new Float64Array(e*e),{shape:[e,e]}),{data:n}=t;for(r=0;r<e;r+=1)n[r*e+r]=1;return t};try{Hm=EC("nlapack")}catch{}var tw=(e,t,n,r,o,u,d)=>{let[v]=e.shape,{data:w}=e,_=w[r*v+o],I=1/(t+n);w[r*v+o]=_-n*(w[u*v+d]+I*_),w[u*v+d]+=n*(_-I*w[u*v+d])};function G3(){this.square();let[e]=this.shape;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=Pg(this.dtype).from(this.data));let t=Hm.NoEigenvector,n=Hm.Eigenvector,r=Qd(e),o=Qd(e),u=Qd(e,e),d=Qd(e,e),{data:v}=this,{data:w}=r,{data:_}=o,{data:I}=u,{data:P}=d;return"float64"===this.dtype&&Hm.dgeev(t,n,e,v,e,w,_,I,e,P,e),"float32"===this.dtype&&Hm.sgeev(t,n,e,v,e,w,_,I,e,P,e),[r,d]}catch{let{data:t}=this,n=MT(e),r=0,o=0,u=0,d=0,v=0;do{for(o=0;o<e;o+=1)for(u=o+1;u<e;u+=1)Math.abs(t[o*e+u])>=r&&(r=Math.abs(t[o*e+u]),d=o,v=u);let w;if(Math.abs(t[d*e+v])<1e-36*Math.abs(t[v*e+v]))w=t[d*e+v]/t[v*e+v];else{let L=t[v*e+v]/2*t[d*e+v];w=1/(Math.abs(L)+Math.sqrt(L*L+1))}let _=1/Math.sqrt(w*w+1),I=w*_,P=t[d*e+v];for(t[d*e+v]=0,t[d*e+d]-=w*P,t[v*e+v]+=w*P,o=0;o<d;o+=1)tw(this,_,I,o,d,o,v);for(o=d+1;o<v;o+=1)tw(this,_,I,d,o,o,v);for(o=v+1;o<e;o+=1)tw(this,_,I,d,o,v,o);for(o=0;o<e;o+=1)tw(n,_,I,o,d,o,v)}while(r>=1e-9);return[this.diagonal(),n]}}function q3(e,t=1e-6){let{data:n}=this,{data:r}=e,o=new Og(this,e);for(let[u,d]of o)if(Math.abs(n[u]-r[d])>t)return!1;return!0}function W3(e){let{shape:t}=this,{shape:n}=e;if(!t.every((r,o)=>r===n[o]))throw new Error(`shapes ${t} and ${n} do not match`)}function Z3(e){let{length:t}=this,{length:n}=e;if(t!==n)throw new Error(`lengths ${t} and ${n} do not match`)}var{exp:K3}=Math;function Y3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=K3(e[n]);return this}var{expm1:X3}=Math;function Q3(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=X3(e[n]);return this}function J3(e=0){let{data:t}=this,n=new an(this);for(let r of n)t[r]=e instanceof Function?e(r):e;return this}var{floor:eU}=Math;function tU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=eU(e[n]);return this}function nU(e){let{data:t}=this,n=new an(this);for(let r of n)e.call(this,t[r],r,t)}var Th,{fround:rU}=Math;function iU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=rU(e[n]);return this}function oU(){let o,u,d,v,w,{shape:[e,t],data:n}=this,r=0;for(d=0;d<e;d+=1){if(t<=r)return this;for(v=d;0===n[v*t+r];)if(v+=1,e===v&&(v=d,r+=1,t===r))return this;if(d!==v&&this.swap(d,v),u=n[d*t+r],0!==u)for(w=0;w<t;w+=1)n[d*t+w]/=u;for(v=0;v<e;v+=1)if(o=n[v*t+r],v!==d)for(w=0;w<t;w+=1)n[v*t+w]-=n[d*t+w]*o;r+=1}for(d=0;d<e;d+=1){for(u=0,v=0;v<t;v+=1)0===u&&(u=n[d*t+v]);if(0!==u)for(w=0;w<t;w+=1)n[d*t+w]/=u}return this}function aU(...e){this.check(...e);let u,d,{data:t,shape:n}=this,{length:r}=n,o=e[r-1];for(u=0;u<r-1;u+=1){let v=1;for(d=u+1;d<r;d+=1)v*=n[d];o+=e[u]*v}return t[o]}try{Th=EC("nlapack")}catch{}function IT(e,t,n,r,o,u){if(r.length!==t*n)throw new Error("lengths do not match");switch(e){case"float64":return Th.dgetrf(t,n,r,o,u);case"float32":return Th.sgetrf(t,n,r,o,u);default:throw new Error("wrong dtype")}}function lU(){this.square();let{shape:[e],dtype:t}=this;try{let{data:n}=this,r=new Int32Array(e);return IT(t,e,e,n,e,r),function sU(e,t,n,r,o){if(n.length!==t*t)throw new Error("lengths do not match");switch(e){case"float64":return Th.dgetri(t,n,r,o);case"float32":return Th.sgetri(t,n,r,o);default:throw new Error("wrong dtype")}}(t,e,n,e,r),this}catch{let n=MT(e),r=((e,t)=>We(this).augment(We(t)))(0,n).gauss(),o=Qd(e,e),u=Qd(e,e),{data:d}=r,{data:v}=o,{data:w}=u,_=new an(r),[I,P]=_.coords;for(let L of _)P<e?v[I*e+P]=d[L]:w[I*e+(P-e)]=d[L],[I,P]=_.coords;if(!o.equals(n))throw new Error("matrix is not invertible");return u}}var{log:cU}=Math;function dU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=cU(e[n]);return this}var{log10:fU}=Math;function hU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=fU(e[n]);return this}var{log1p:pU}=Math;function gU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=pU(e[n]);return this}var{log2:vU}=Math;function mU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=vU(e[n]);return this}function yU(){let[e,t]=this.copy().lu_factor(),n=e.copy(),r=e.copy(),{data:o}=n,{data:u}=r,d=new an(e),[v,w]=d.coords;for(let _ of d)w<v?u[_]=0:o[_]=v===w?1:0,[v,w]=d.coords;return[n,r,t]}function wU(){let{data:e,shape:[t],dtype:n}=this,r=new Int32Array(t);try{IT(n,t,t,e,t,r)}catch{let o,u,d,v,w,_,I;for(I=0;I<t;I+=1){for(v=I,o=Math.abs(e[I*t+I]),_=I+1;_<t;_+=1)u=Math.abs(e[_*t+I]),o<u&&(o=u,v=_);for(r[I]=v+1,v!==I&&this.swap(I,v),d=e[I*t+I],w=I+1;w<t;w+=1)e[w*t+I]/=d;for(w=I+1;w<t;w+=1){for(_=I+1;_<t-1;_+=2)e[w*t+_]-=e[w*t+I]*e[I*t+_],e[w*t+_+1]-=e[w*t+I]*e[I*t+_+1];_===t-1&&(e[w*t+_]-=e[w*t+I]*e[I*t+_])}}}return[this,r]}function bU(e){let{data:t}=this,n=new an(this),r=e.bind(this),o=this.copy(),{data:u}=o;for(let d of n)u[d]=r(t[d],d,t);return o}function DU(){let{data:e,length:t,strides:n,dtype:r}=this,o=Number.NEGATIVE_INFINITY;try{o=e[function f3(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ai.idamax(t,n,r);case"float32":return Ai.isamax(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])]}catch{let u=new an(this);for(let d of u){let v=e[d];o<v&&(o=v)}}return o}function CU(){let{data:e,length:t}=this,n=new an(this),r=0;for(let o of n)r+=e[o];return r/t}function EU(){let{data:e}=this,t=new an(this),n=Number.POSITIVE_INFINITY;for(let r of t){let o=e[r];n>o&&(n=o)}return n}function SU(e){let{shape:[t,n],data:r,dtype:o}=this.copy(),{shape:[u,d],data:v}=e.copy();if(n!==u)throw new Error("sizes do not match");let w=((e,t)=>new cu(new Float64Array(e*t),{shape:[e,t]}))(t,d),{data:_}=w;try{!function h3(e,t,n,r,o,u,d,v,w,_,I,P,L,Q){let{length:oe}=v,{length:ee}=_,{length:ge}=L;if(t===Ai.NoTrans&&oe!==w*r||t===Ai.Trans&&oe!==w*u)throw new Error("lengths do not match");if(n===Ai.NoTrans&&ee!==I*u||n===Ai.Trans&&ee!==I*o)throw new Error("lengths do not match");if(ge!==Q*r)throw new Error("lengths do not match");switch(e){case"float64":return Ai.dgemm(t,n,r,o,u,d,v,w,_,I,P,L,Q);case"float32":return Ai.sgemm(t,n,r,o,u,d,v,w,_,I,P,L,Q);default:throw new Error("wrong dtype")}}(o,ST,ST,t,d,n,1,r,n,v,d,0,_,d)}catch{let P,I=new an(w),[L,Q]=I.coords;for(let oe of I){let ee=0;for(P=0;P<n;P+=1)ee+=r[L*n+P]*v[P*d+Q];_[oe]=ee,[L,Q]=I.coords}}return w}var{sqrt:xU}=Math;function MU(){let{data:e,length:t,strides:n,dtype:r}=this,o=0;try{o=function p3(e,t,n,r){if(n.length/r!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ai.dnrm2(t,n,r);case"float32":return Ai.snrm2(t,n,r);default:throw new Error("wrong dtype")}}(r,t,e,n[n.length-1])}catch{o=xU(this.dot(this))}return o}function IU(){return this.scale(1/this.norm())}var{pow:TU}=Math;function AU(e){let{data:t}=this,n=new an(this);for(let r of n)t[r]=TU(t[r],e);return this}function RU(){let{data:e}=this,t=new an(this),n=1;for(let r of t)n*=e[r];return n}function NU(e){let{data:t}=this,{data:n}=e,r=new Og(this,e);for(let[o,u]of r)t[o]*=n[u];return this}function PU(e){return e.scale(this.dot(e)/e.dot(e))}function OU(e){if(1!==this.shape.length)throw new Error("push operation not permitted for multidimensional arrays");let{data:t,length:n}=this,r=n+1,o=new(Pg(this.dtype))(r);return o.set(t),o[n]=e,this.data=o,this.length=r,this.shape=[r],this}function kU(e=1e-6){let{data:t}=this.copy().gauss(),n=new an(this),r=0,[o,u]=n.coords;for(let d of n)r<=o&&u>=o&&Math.abs(t[d])>e&&(r+=1),[o,u]=n.coords;return r}function FU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=1/e[n];return this}function LU(e,t){let{data:n,length:r}=this;if(0===r&&typeof t>"u")throw new Error("Reduce of empty array with no initial value.");let d,o=new an(this),u=e.bind(this);typeof t>"u"?(d=n[0],o.next()):d=t;for(let v of o)d=u(d,n[v],v,n);return d}function BU(...e){let{length:t}=this;if(e.reduce((n,r)=>n*r,1)!==t)throw new Error(`shape ${e} does not match length ${t}`);return this.shape=e,this.strides=SC(e),this}var{round:VU}=Math;function $U(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=VU(e[n]);return this}function HU(e,t,n=1){this.check(e,0),this.check(t,0);let u,[,r]=this.shape,{data:o}=this;for(u=0;u<r;u+=1)o[e*r+u]+=o[t*r+u]*n;return this}function UU(e){let{data:t,length:n,strides:r,dtype:o}=this;try{!function g3(e,t,n,r,o){if(r.length/o!==t)throw new Error("lengths do not match");switch(e){case"float64":return Ai.dscal(t,n,r,o);case"float32":return Ai.sscal(t,n,r,o);default:throw new Error("wrong dtype")}}(o,n,e,t,r[r.length-1])}catch{let u=new an(this);for(let d of u)t[d]*=e}return this}function zU(...e){let t=e.slice(0,-1),n=e[e.length-1];this.check(...t);let u,{shape:r}=this,o=t[t.length-1];for(u=0;u<t.length-1;u+=1)o+=t[u]*r[u+1];this.data[o]=n}var{sign:jU}=Math;function GU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=jU(e[n]);return this}var{sin:qU}=Math;function WU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=qU(e[n]);return this}var{sinh:ZU}=Math;function KU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=ZU(e[n]);return this}function YU(e=0,t=this.shape[0],n=1){let{data:r,shape:o}=this,u=o.length;if(e<0||t<0)return this.slice(e<0?o[o.length-1]+e:e,t<0?o[o.length-1]+t:t);if(e>t)return this.slice(t,e,n);if(n<=0)throw new Error("step argument has to be a positive integer");let d=[Math.ceil((t-e)/Math.abs(n)),...o.slice(1)],v=ET(d),w=SC(d),_=u>1?r.subarray(e*d[d.length-1],t*d[d.length-1]):r.subarray(e,t);return w[0]*=n,new cu(_,{shape:d,length:v,strides:w})}function XU(e){let{data:t,dtype:n}=this,{data:r,shape:[o,u]}=e;try{!function uU(e,t,n,r,o,u,d,v){if(r.length!==o*t||d.length!==v*n)throw new Error("lengths do not match");switch(e){case"float64":return Th.dgesv(t,n,r,o,u,d,v);case"float32":return Th.sgesv(t,n,r,o,u,d,v);default:throw new Error("wrong dtype")}}(n,o,u,t,o,new Int32Array(o),r,u)}catch{let I,P,L,[d,v]=this.lu_factor(),{data:w}=d,{data:_}=e;for(I=0;I<v.length;I+=1)I!==v[I]-1&&e.swap(I,v[I]-1);for(L=0;L<u;L+=1){for(I=0;I<o;I+=1)for(P=0;P<I;P+=1)_[I*u+L]-=w[I*o+P]*_[P*u+L];for(I=o-1;I>=0;I-=1){for(P=I+1;P<o;P+=1)_[I*u+L]-=w[I*o+P]*_[P*u+L];_[I*u+L]/=w[I*o+I]}}}return e}var{sqrt:QU}=Math;function JU(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=QU(e[n]);return this}function ez(){let{length:e}=this.shape,[t,n]=this.shape;if(2!==e||t!==n)throw new Error("matrix is not square")}var TT=(e,t)=>We(e).subtract(We(t));function tz(e){return this.add(e,-1)}function nz(){let{data:e}=this,t=new an(this),n=0;for(let r of t)n+=e[r];return n}function rz(e,t){this.check(e,0),this.check(t,0);let{data:n}=this,[,r]=this.shape,o=n.slice(e*r,(e+1)*r);return n.copyWithin(e*r,t*r,(t+1)*r),n.set(o,t*r),this}var{tan:iz}=Math;function oz(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=iz(e[n]);return this}var{tanh:az}=Math;function sz(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=az(e[n]);return this}function uz(e=0,t=0){let{data:n,shape:r,strides:o}=this,{length:u}=r;if(t>=u)return n[e];let d=r[t],v=o[t],w=[];for(let _=0;_<d;_++){let I=this.toArray(e,t+1);if(null===I)return null;w[_]=I,e+=v}return w}var lz=((e,t,n)=>(n=null!=e?WH(YH(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of KH(t))!XH.call(e,o)&&undefined!==o&&bT(e,o,{get:()=>t[o],enumerable:!(r=ZH(t,o))||r.enumerable});return e})(e&&e.__esModule?n:bT(n,"default",{value:e,enumerable:!0}),e)))(n3());function AT(){return`array(${(0,lz.inspect)(this.toArray(),{depth:10,breakLength:40})}, dtype=${this.dtype})`}function cz(){let u,[e,t]=this.shape,{data:n}=this,r=Math.min(e,t),o=0;for(u=0;u<r;u+=1)o+=n[u*t+u];return o}function dz(){if(this.shape.length<2)return this;let e=this.shape[0];return this.shape[0]=this.shape[1],this.shape[1]=e,e=this.strides[0],this.strides[0]=this.strides[1],this.strides[1]=e,this}var{trunc:fz}=Math;function hz(){let{data:e}=this,t=new an(this);for(let n of t)e[n]=fz(e[n]);return this}var pz=Symbol.for("nodejs.util.inspect.custom"),cu=class{data=new Float64Array(0);dtype="float64";length=0;shape=[0];strides=[0];[pz]=AT;abs=o3;acos=s3;acosh=l3;add=v3;angle=y3;asin=b3;asinh=C3;atan=_3;atanh=x3;augment=I3;binOp=T3;cbrt=R3;ceil=P3;check=O3;combine=k3;copy=F3;cos=B3;cosh=$3;cross=H3;det=U3;diagonal=z3;dot=j3;eig=G3;equals=q3;equidimensional=W3;equilateral=Z3;exp=Y3;expm1=Q3;fill=J3;floor=tU;forEach=nU;fround=iU;gauss=oU;get=aU;inv=lU;log=dU;log10=hU;log1p=gU;log2=mU;lu=yU;lu_factor=wU;map=bU;max=DU;mean=CU;min=EU;multiply=SU;norm=MU;normalize=IU;pow=AU;prod=RU;product=NU;project=PU;push=OU;rank=kU;reciprocal=FU;reduce=LU;reshape=BU;round=$U;row_add=HU;scale=UU;set=zU;sign=GU;sin=WU;sinh=KU;slice=YU;solve=XU;sqrt=JU;square=ez;subtract=tz;sum=nz;swap=rz;tan=oz;tanh=sz;toArray=uz;toString=AT;trace=cz;transpose=dz;trunc=hz;constructor(e,t){if(!e)return;if(e instanceof cu)return e;if(e instanceof an){if(!t||!t.dtype)throw new Error("dtype is missing");e.shape&&(t.shape=e.shape);let d=e.length;e=new(Pg(t.dtype))(d)}let{shape:n=_T(e),length:r=ET(n),strides:o=SC(n),dtype:u=r3(e)}=t||{};this.data=CT(e)?e:new(Pg(u))(DT(e)),this.shape=n,this.length=r,this.dtype=u,this.strides=o}get x(){return this.get(0)}set x(e){this.set(0,e)}get y(){return this.get(1)}set y(e){this.set(1,e)}get z(){return this.get(2)}set z(e){this.set(2,e)}get w(){return this.get(3)}set w(e){this.set(3,e)}get T(){return this.copy().transpose()}};try{window.v=cu}catch{}function RT(e,t,n,r=60){const o=[];if(0===n.length)return o;const u=[e,...n,t];for(let d=1;d<u.length-1;d++){let v=xC(u[d-1]),w=xC(u[d]),_=xC(u[d+1]);const I=TT(v.copy(),w),P=TT(_.copy(),w);gz([I,P],r),v=xT(w.copy(),I),_=xT(w.copy(),P),o.push(v,w,_)}return o.map(vz)}function gz(e,t,n=!0){const r=e.map(o=>o.norm());if(n){const o=Math.min(...r);t>=o&&(t=o/2.1)}return e.map((o,u)=>o.scale(t/r[u]))}function xC(e){return We([e.x,e.y])}function vz(e){return{x:e.x,y:e.y}}const Ah=e=>`${e.x},${e.y}`,Ki=(e,t=2)=>"number"==typeof e?e*t:{x:e.x*t,y:e.y*t};let mz=(()=>{class e{constructor(n){this.http=n,this.extraLine=new Map,this.reverseExtraLine=new Map,this.nodeTypeMap=new Map([["Protein",["Protein","PhysicalEntity"]],["EntitySet",["EntitySet","PhysicalEntity"]],["Complex",["Complex","PhysicalEntity"]],["Entity",["GenomeEncodedEntity","PhysicalEntity"]],["Gene",["Gene","PhysicalEntity"]],["Chemical",["Molecule","PhysicalEntity"]],["ProteinDrug",["Protein","PhysicalEntity","drug"]],["ComplexDrug",["Complex","PhysicalEntity","drug"]],["ChemicalDrug",["Molecule","PhysicalEntity","drug"]],["EntitySetDrug",["EntitySet","PhysicalEntity","drug"]]]),this.reactionTypeMap=new Map([[void 0,["transition","reaction"]],["Association",["association","reaction"]],["Dissociation",["dissociation","reaction"]],["Omitted Process",["omitted","reaction"]],["Uncertain Process",["uncertain","reaction"]]]),this.edgeTypeMap=new Map([["INPUT",["consumption","incoming"]],["ACTIVATOR",["positive-regulation","incoming"]],["REQUIRED",["positive-regulation","incoming"]],["INHIBITOR",["negative-regulation","incoming"]],["CATALYST",["catalysis","incoming"]],["OUTPUT",["production","outgoing"]]]),this.edgeTypeToStr=new Map([["INPUT","-"],["ACTIVATOR","+"],["REQUIRED","+>"],["INHIBITOR","|"],["CATALYST","o"],["OUTPUT",">"]]),this.linkClassMap=new Map([["EntitySetAndMemberLink",["set-to-member","incoming"]],["EntitySetAndEntitySetLink",["set-to-member","incoming"]],["Interaction",["production","outgoing"]]])}random(n,r){return Math.floor(Math.random()*(r-n+1))+n}pick(n){return n[this.random(0,n.length-1)]}getDiagram(n){return this.http.get(`https://dev.reactome.org/download/current/diagram/${n}.json`).pipe(Ao(r=>console.log(r)),en(r=>{console.log("edge.reactionType",new Set(r.edges.flatMap(ee=>ee.reactionType))),console.log("node.connectors.types",new Set(r.nodes.flatMap(ee=>ee.connectors.flatMap(ge=>ge.type)))),console.log("node.renderableClass",new Set(r.nodes.flatMap(ee=>ee.renderableClass))),console.log("links.renderableClass",new Set(r.links.flatMap(ee=>ee.renderableClass)));const o=new Map(r.edges.map(ee=>[ee.id,ee])),u=new Map(r.nodes.map(ee=>[ee.id,ee])),d=new Map,v=r.edges.flatMap(ee=>ee.segments.map(ge=>[Ah(Ki(ge.from)),Ki(ge.to)]));this.extraLine=new Map(v),console.assert(v.length===this.extraLine.size,"Some edge data have been lost because 2 segments are starting from the same point");const w=r.edges.flatMap(ee=>ee.segments.map(ge=>[Ah(Ki(ge.to)),Ki(ge.from)]));this.reverseExtraLine=new Map(w),console.assert(w.length==this.reverseExtraLine.size,"Some edge data have been lost because 2 segments are ending at the same point");const _=new Map(r.compartments.flatMap(ee=>ee.componentIds.map(ge=>[ge,ee.id]))),I=r?.compartments.map(ee=>({data:{id:ee.id+"",parent:_.get(ee.id)?.toString()||void 0,displayName:ee.displayName,width:Ki(ee.prop.width),height:Ki(ee.prop.height),class:this.nodeTypeMap.get(ee.renderableClass)||ee.renderableClass.toLowerCase()},classes:["Compartment"],position:Ki(ee.position),pannable:!0,grabbable:!1,selectable:!1})),P=r?.edges.map(ee=>({data:{id:ee.id+"",displayName:ee.displayName,inputs:ee.inputs,output:ee.outputs},classes:this.reactionTypeMap.get(ee.reactionType),pannable:!0,grabbable:!1,position:Ki(ee.position)})),L=r?.nodes.map(ee=>({data:{id:ee.id+"",parent:_.get(ee.id)?.toString()||void 0,displayName:ee.displayName.replace(/([,:;])/g,"$1\u200b"),height:Ki(ee.prop.height),width:Ki(ee.prop.width)},classes:this.nodeTypeMap.get(ee.renderableClass)||[ee.renderableClass.toLowerCase()],pannable:!0,grabbable:!1,position:Ki(ee.position)})),Q=r.nodes.flatMap(ee=>ee.connectors.map(ge=>{const Ue=o.get(ge.edgeId),[ye,lt]="OUTPUT"!==ge.type?[ee,Ue]:[Ue,ee],Et=Ki(ye.position),kt=Ki(lt.position);let Mn=ge.segments.flatMap((Ec,Um)=>0===Um?[Ec.from,Ec.to]:[Ec.to]).map(Ec=>Ki(Ec));"OUTPUT"===ge.type&&Mn.reverse(),0===Mn.length&&Mn.push(Ki(Ue.position)),this.addEdgeInfo(Mn,"backward",Et),this.addEdgeInfo(Mn,"forward",kt);let[Zr,yi]=[Mn.shift(),Mn.pop()];"CATALYST"===ge.type&&(yi=Ki(ge.endShape.centre)),Mn=RT(Zr,yi,Mn);const is=this.absoluteToRelative(Zr,yi,Mn);return{data:{id:this.getEdgeId(ye,ge,lt,d),source:ye.id+"",target:lt.id+"",stoichiometry:ge.stoichiometry.value,weights:is.weights.join(" "),distances:is.distances.join(" "),sourceEndpoint:this.endpoint(Et,Zr),targetEndpoint:this.endpoint(kt,yi)},classes:this.edgeTypeMap.get(ge.type),pannable:!0,grabbable:!1}})),oe=r.links?.map(ee=>{const ge=u.get(ee.inputs[0].id),Ue=u.get(ee.outputs[0].id),ye=Ki(ge.position),lt=Ki(Ue.position);let Et=ee.segments.flatMap((yi,is)=>0===is?[yi.from,yi.to]:[yi.to]).map(yi=>Ki(yi));const[kt,Mn]=[Et.shift(),Et.pop()];Et=RT(kt,Mn,Et);const Zr=this.absoluteToRelative(kt,Mn,Et);return{data:{id:ee.id+"",source:ee.inputs[0].id+"",target:ee.outputs[0].id+"",weights:Zr.weights.join(" "),distances:Zr.distances.join(" "),sourceEndpoint:this.endpoint(ye,kt),targetEndpoint:this.endpoint(lt,Mn)},classes:this.linkClassMap.get(ee.renderableClass),pannable:!0,grabbable:!1}});return{nodes:[...P,...L,...I],edges:[...Q,...oe]}}))}getEdgeId(n,r,o,u){let d=`${n.id} --${this.edgeTypeToStr.get(r.type)} ${o.id}`;if(u.has(d)){let v=u.get(d);u.set(d,v++),d+=` (${v})`,console.warn("Conflicting edge id: ",d)}else u.set(d,0);return d}addEdgeInfo(n,r,o){const u=Ah(o);if("forward"===r){const d=this.extraLine;let v=Ah(n.at(-1));for(;d.has(v)&&v!==u;)n.push(d.get(v)),v=Ah(n.at(-1))}else{const d=this.reverseExtraLine;let v=Ah(n.at(0));for(;d.has(v)&&v!==u;)n.unshift(d.get(v)),v=Ah(n.at(0))}}endpoint(n,r){return`${r.x-n.x} ${r.y-n.y}`}absoluteToRelative(n,r,o){const u={distances:[],weights:[]};if(0===o.length)return u;const d=We([r.x-n.x,r.y-n.y]),v=We([-d.y,d.x]).normalize();let w=We([[d.x,d.y],[v.x,v.y]]).inv();for(let _ of o){const P=We([[_.x-n.x,_.y-n.y]]).multiply(w);u.weights.push(P.get(0,0)),u.distances.push(P.get(0,1))}return u}randomNetwork(){const r=["Protein","EntitySet","GenomeEncodedEntity","RNA","Gene","Complex","Molecule"],o=["association","dissociation","transition","uncertain","omitted"],u=Array.from({length:100},(P,L)=>{const Q=this.pick(r);return{group:"nodes",data:{id:L.toString(),width:this.random(150,300),height:this.random(50,150),displayName:Q,parent:"Compartment"},classes:[Q,"PhysicalEntity",this.pick(["drug","",""])]}}),d=u.map((P,L)=>({group:"nodes",data:{id:`${L}-react`,parent:"Compartment"},classes:[this.pick(o),"reaction"]}));return Bt({nodes:[{data:{id:"Compartment"},classes:["Compartment"],pannable:!0,grabbable:!1,selectable:!1},...u.flatMap((P,L)=>[P,d[L]])],edges:[...u.flatMap((P,L)=>[{group:"edges",data:{source:`${L}`,target:`${L}-react`,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["consumption"]},{group:"edges",data:{source:`${L}-react`,target:""+(L+1)%100,stoichiometry:this.pick([void 0,-1,0,1,2])},classes:["production"]}]),...Array.from({length:25}).map(()=>({group:"edges",data:{source:this.pick(u).data.id,target:this.pick(d).data.id},classes:this.pick(["catalysis","positive-regulation","negative-regulation","set-to-member"])}))]})}static#e=this.\u0275fac=function(r){return new(r||e)(gt(oT))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yz=["cytoscape"],wz=[{path:":id",component:(()=>{class e{constructor(n,r){this.diagram=n,this.route=r,this.title="pathway-browser"}ngAfterViewInit(){this.route.params.pipe(po(n=>this.diagram.getDiagram(n.id))).subscribe(n=>{const r=this.cytoscapeContainer.nativeElement,u=new $t(r,{});this.cy=RH()({container:r,elements:n,style:u.getStyleSheet(),layout:{name:"preset"},ready(d){d.cy.minZoom(d.cy.zoom())}}),u.bindToCytoscape(this.cy)})}static#e=this.\u0275fac=function(r){return new(r||e)(Ze(mz),Ze(_h))};static#t=this.\u0275cmp=Vs({type:e,selectors:[["cr-diagram"]],viewQuery:function(r,o){if(1&r&&Z_(yz,5),2&r){let u;Ab(u=function Rb(){return function CO(e,t){return e[Ji].queries[t].queryList}(Te(),Ui())}())&&(o.cytoscapeContainer=u.first)}},decls:2,vars:0,consts:[["id","cytoscape"],["cytoscape",""]],template:function(r,o){1&r&&tm(0,"div",0,1)},styles:["#cytoscape[_ngcontent-%COMP%]{position:absolute;inset:0;background:#F6FEFF}"]})}return e})()},{path:"**",redirectTo:"R-HSA-453279"}];let bz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Fo({type:e});static#n=this.\u0275inj=mo({imports:[ZM.forRoot(wz),ZM]})}return e})(),Dz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Fo({type:e,bootstrap:[e$]});static#n=this.\u0275inj=mo({imports:[gL,eH,vx,_H,bz]})}return e})();hL().bootstrapModule(Dz).catch(e=>console.error(e))},6100:(ve,Qe,ae)=>{"use strict";var ce=ae(4430),B=ae(7444),_e=ae(5440),Ee=ae(7939),Ve=ae(9078);function Se(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}var rt=Se(ce),vt=Se(B),wt=Se(_e),bt=Se(Ee),kn=Se(Ve);function ln(s){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function br(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function rr(s,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}function Vn(s,i,a){return i&&rr(s.prototype,i),a&&rr(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}function In(s,i,a){return i in s?Object.defineProperty(s,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[i]=a,s}function cn(s,i){return function Ge(s){if(Array.isArray(s))return s}(s)||function it(s,i){var a=null==s?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(null!=a){var p,m,l=[],f=!0,h=!1;try{for(a=a.call(s);!(f=(p=a.next()).done)&&(l.push(p.value),!i||l.length!==i);f=!0);}catch(b){h=!0,m=b}finally{try{!f&&null!=a.return&&a.return()}finally{if(h)throw m}}return l}}(s,i)||function ht(s,i){if(s){if("string"==typeof s)return Dt(s,i);var a=Object.prototype.toString.call(s).slice(8,-1);if("Object"===a&&s.constructor&&(a=s.constructor.name),"Map"===a||"Set"===a)return Array.from(s);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Dt(s,i)}}(s,i)||function Tn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(s,i){(null==i||i>s.length)&&(i=s.length);for(var a=0,l=new Array(i);a<i;a++)l[a]=s[a];return l}var At=typeof window>"u"?null:window,wn=At?At.navigator:null,Kn=ln(""),Bi=ln({}),Ro=ln(function(){}),lo=typeof HTMLElement>"u"?"undefined":ln(HTMLElement),Sr=function(i){return i&&i.instanceString&&Fn(i.instanceString)?i.instanceString():null},Je=function(i){return null!=i&&ln(i)==Kn},Fn=function(i){return null!=i&&ln(i)===Ro},_n=function(i){return!Dr(i)&&(Array.isArray?Array.isArray(i):null!=i&&i instanceof Array)},Ct=function(i){return null!=i&&ln(i)===Bi&&!_n(i)&&i.constructor===Object},ot=function(i){return null!=i&&ln(i)===ln(1)&&!isNaN(i)},co=function(i){if("undefined"!==lo)return null!=i&&i instanceof HTMLElement},Dr=function(i){return du(i)||ef(i)},du=function(i){return"collection"===Sr(i)&&i._private.single},ef=function(i){return"collection"===Sr(i)&&!i._private.single},ir=function(i){return"core"===Sr(i)},gr=function(i){return"stylesheet"===Sr(i)},en=function(i){return null==i||!(""!==i&&!i.match(/^\s+$/))},fu=function(i){return function(i){return null!=i&&ln(i)===Bi}(i)&&Fn(i.then)},hu=function(i,a){a||(a=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var h=[],p=0;p<arguments.length;p++)h.push(arguments[p]);return h.join("$")});var l=function f(){var m,p=arguments,b=a.apply(this,p),y=f.cache;return(m=y[b])||(m=y[b]=i.apply(this,p)),m};return l.cache={},l},fo=hu(function(s){return s.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}),Rs=hu(function(s){return s.replace(/(-\w)/g,function(i){return i[1].toUpperCase()})}),Lg=hu(function(s,i){return s+i[0].toUpperCase()+i.substring(1)},function(s,i){return s+"$"+i}),ka=function(i){return en(i)?i:i.charAt(0).toUpperCase()+i.substring(1)},Kr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Bg="rgb[a]?\\(("+Kr+"[%]?)\\s*,\\s*("+Kr+"[%]?)\\s*,\\s*("+Kr+"[%]?)(?:\\s*,\\s*("+Kr+"))?\\)",pu="rgb[a]?\\((?:"+Kr+"[%]?)\\s*,\\s*(?:"+Kr+"[%]?)\\s*,\\s*(?:"+Kr+"[%]?)(?:\\s*,\\s*(?:"+Kr+"))?\\)",Qo="hsl[a]?\\(("+Kr+")\\s*,\\s*("+Kr+"[%])\\s*,\\s*("+Kr+"[%])(?:\\s*,\\s*("+Kr+"))?\\)",Ns="hsl[a]?\\((?:"+Kr+")\\s*,\\s*(?:"+Kr+"[%])\\s*,\\s*(?:"+Kr+"[%])(?:\\s*,\\s*(?:"+Kr+"))?\\)",Ps=function(i,a){return i<a?-1:i>a?1:0},It=null!=Object.assign?Object.assign.bind(Object):function(s){for(var i=arguments,a=1;a<i.length;a++){var l=i[a];if(null!=l)for(var f=Object.keys(l),h=0;h<f.length;h++){var p=f[h];s[p]=l[p]}}return s},rf={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Tc=function(i){for(var a=i.map,l=i.keys,f=l.length,h=0;h<f;h++){var p=l[h];if(Ct(p))throw Error("Tried to set map with object key");h<l.length-1?(null==a[p]&&(a[p]={}),a=a[p]):a[p]=i.value}},Ac=function(i){for(var a=i.map,l=i.keys,f=l.length,h=0;h<f;h++){var p=l[h];if(Ct(p))throw Error("Tried to get map with object key");if(null==(a=a[p]))return a}return a},Cl=At?At.performance:null,Rc=Cl&&Cl.now?function(){return Cl.now()}:function(){return Date.now()},$g=function(){if(At){if(At.requestAnimationFrame)return function(s){At.requestAnimationFrame(s)};if(At.mozRequestAnimationFrame)return function(s){At.mozRequestAnimationFrame(s)};if(At.webkitRequestAnimationFrame)return function(s){At.webkitRequestAnimationFrame(s)};if(At.msRequestAnimationFrame)return function(s){At.msRequestAnimationFrame(s)}}return function(s){s&&setTimeout(function(){s(Rc())},1e3/60)}}(),Nc=function(i){return $g(i)},Fa=Rc,Os=9261,Pc=5381,sf=function(i){for(var f,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Os;!(f=i.next()).done;)l=65599*l+f.value|0;return l},vu=function(i){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Os)+i|0},mu=function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pc;return(a<<5)+a+i|0},La=function(i){return 2097152*i[0]+i[1]},Oc=function(i,a){return[vu(i[0],a[0]),mu(i[1],a[1])]},ga=function(i,a){var l={value:0,done:!1},f=0,h=i.length;return sf({next:function(){return f<h?l.value=i.charCodeAt(f++):l.done=!0,l}},a)},lf=function(){return kc(arguments)},kc=function(i){for(var a,l=0;l<i.length;l++){var f=i[l];a=0===l?ga(f):ga(f,a)}return a},Yi=!0,Hg=null!=console.warn,Ug=null!=console.trace,cf=Number.MAX_SAFE_INTEGER||9007199254740991,Ph=function(){return!0},El=function(){return!1},Oh=function(){return 0},df=function(){},$n=function(i){throw new Error(i)},kh=function(i){if(void 0===i)return Yi;Yi=!!i},Gt=function(i){kh()&&(Hg?console.warn(i):(console.log(i),Ug&&console.trace()))},Yr=function(i){return null==i?i:_n(i)?i.slice():Ct(i)?function(i){return It({},i)}(i):i},Fh=function(i,a){for(a=i="";i++<36;a+=51*i&52?(15^i?8^Math.random()*(20^i?16:4):4).toString(16):"-");return a},Fc={},Lc=function(){return Fc},Pr=function(i){var a=Object.keys(i);return function(l){for(var f={},h=0;h<a.length;h++){var p=a[h],m=l?.[p];f[p]=void 0===m?i[p]:m}return f}},No=function(i,a,l){for(var f=i.length-1;f>=0&&(i[f]!==a||(i.splice(f,1),!l));f--);},ff=function(i){i.splice(0,i.length)},ho=function(i,a,l){return l&&(a=Lg(l,a)),i[a]},Ba=function(i,a,l,f){l&&(a=Lg(l,a)),i[a]=f},va=typeof Map<"u"?Map:function(){function s(){br(this,s),this._obj={}}return Vn(s,[{key:"set",value:function(a,l){return this._obj[a]=l,this}},{key:"delete",value:function(a){return this._obj[a]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(a){return void 0!==this._obj[a]}},{key:"get",value:function(a){return this._obj[a]}}]),s}(),Vh=function(){function s(i){if(br(this,s),this._obj=Object.create(null),this.size=0,null!=i){var a;a=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var l=0;l<a.length;l++)this.add(a[l])}}return Vn(s,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(a){var l=this._obj;1!==l[a]&&(l[a]=1,this.size++)}},{key:"delete",value:function(a){var l=this._obj;1===l[a]&&(l[a]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(a){return 1===this._obj[a]}},{key:"toArray",value:function(){var a=this;return Object.keys(this._obj).filter(function(l){return a.has(l)})}},{key:"forEach",value:function(a,l){return this.toArray().forEach(a,l)}}]),s}(),wu="undefined"!==(typeof Set>"u"?"undefined":ln(Set))?Set:Vh,_l=function(i,a){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==i&&void 0!==a&&ir(i)){var f=a.group;if(null==f&&(f=a.data&&null!=a.data.source&&null!=a.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var h=this._private={cy:i,single:!0,data:a.data||{},position:a.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!a.selected,selectable:void 0===a.selectable||!!a.selectable,locked:!!a.locked,grabbed:!1,grabbable:void 0===a.grabbable||!!a.grabbable,pannable:void 0===a.pannable?"edges"===f:!!a.pannable,active:!1,classes:new wu,animation:{current:[],queue:[]},rscratch:{},scratch:a.scratch||{},edges:[],children:[],parent:a.parent&&a.parent.isNode()?a.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==h.position.x&&(h.position.x=0),null==h.position.y&&(h.position.y=0),a.renderedPosition){var p=a.renderedPosition,m=i.pan(),b=i.zoom();h.position={x:(p.x-m.x)/b,y:(p.y-m.y)/b}}var y=[];_n(a.classes)?y=a.classes:Je(a.classes)&&(y=a.classes.split(/\s+/));for(var D=0,E=y.length;D<E;D++){var S=y[D];!S||""===S||h.classes.add(S)}this.createEmitter();var M=a.style||a.css;M&&(Gt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(M)),(void 0===l||l)&&this.restore()}else $n("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else $n("An element must have a core reference and parameters set")},Or=function(i){return i={bfs:i.bfs||!i.dfs,dfs:i.dfs||!i.bfs},function(l,f,h){var p;Ct(l)&&!Dr(l)&&(l=(p=l).roots||p.root,f=p.visit,h=p.directed),h=2!==arguments.length||Fn(f)?h:f,f=Fn(f)?f:function(){};for(var R,m=this._private.cy,b=l=Je(l)?this.filter(l):l,y=[],D=[],E={},S={},M={},x=0,A=this.byGroup(),N=A.nodes,O=A.edges,k=0;k<b.length;k++){var V=b[k],q=V.id();V.isNode()&&(y.unshift(V),i.bfs&&(M[q]=!0,D.push(V)),S[q]=0)}for(var Z=function(){var te=i.bfs?y.shift():y.pop(),K=te.id();if(i.dfs){if(M[K])return"continue";M[K]=!0,D.push(te)}var De,ue=S[K],ne=E[K],re=null!=ne?ne.source():null,fe=null!=ne?ne.target():null,pe=null==ne?void 0:te.same(re)?fe[0]:re[0];if(!0===(De=f(te,ne,pe,x++,ue)))return R=te,"break";if(!1===De)return"break";for(var he=te.connectedEdges().filter(function(Ie){return(!h||Ie.source().same(te))&&O.has(Ie)}),be=0;be<he.length;be++){var Ae=he[be],Fe=Ae.connectedNodes().filter(function(Ie){return!Ie.same(te)&&N.has(Ie)}),Me=Fe.id();0!==Fe.length&&!M[Me]&&(y.push(Fe=Fe[0]),i.bfs&&(M[Me]=!0,D.push(Fe)),E[Me]=Ae,S[Me]=S[K]+1)}};0!==y.length;){var $=Z();if("continue"!==$&&"break"===$)break}for(var W=m.collection(),U=0;U<D.length;U++){var Y=D[U],X=E[Y.id()];null!=X&&W.push(X),W.push(Y)}return{path:m.collection(W),found:m.collection(R)}}},bu={breadthFirstSearch:Or({bfs:!0}),depthFirstSearch:Or({dfs:!0})};bu.bfs=bu.breadthFirstSearch,bu.dfs=bu.depthFirstSearch;var Xi=Pr({root:null,weight:function(i){return 1},directed:!1}),Bt={dijkstra:function(i){if(!Ct(i)){var a=arguments;i={root:a[0],weight:a[1],directed:a[2]}}var ne,re,l=Xi(i),f=l.root,p=l.directed,m=this,b=l.weight,y=Je(f)?this.filter(f)[0]:f[0],D={},E={},S={},M=this.byGroup(),x=M.nodes,R=M.edges;R.unmergeBy(function(ue){return ue.isLoop()});for(var A=function(ne){return D[ne.id()]},O=new vt.default(function(ue,ne){return A(ue)-A(ne)}),k=0;k<x.length;k++){var V=x[k];D[V.id()]=V.same(y)?0:1/0,O.push(V)}for(var q=function(ne,re){for(var De,fe=(p?ne.edgesTo(re):ne.edgesWith(re)).intersect(R),pe=1/0,he=0;he<fe.length;he++){var be=fe[he],Ae=b(be);(Ae<pe||!De)&&(pe=Ae,De=be)}return{edge:De,dist:pe}};O.size()>0;){var Z=O.pop(),$=A(Z),W=Z.id();if(S[W]=$,$!==1/0)for(var U=Z.neighborhood().intersect(x),Y=0;Y<U.length;Y++){var X=U[Y],j=X.id(),te=q(Z,X),K=$+te.dist;K<A(X)&&(re=K,D[(ne=X).id()]=re,O.updateItem(ne),E[j]={node:Z,edge:te.edge})}}return{distanceTo:function(ne){var re=Je(ne)?x.filter(ne)[0]:ne[0];return S[re.id()]},pathTo:function(ne){var re=Je(ne)?x.filter(ne)[0]:ne[0],fe=[],pe=re,De=pe.id();if(re.length>0)for(fe.unshift(re);E[De];){var he=E[De];fe.unshift(he.edge),fe.unshift(he.node),De=(pe=he.node).id()}return m.spawn(fe)}}}},hf={kruskal:function(i){i=i||function(k){return 1};for(var a=this.byGroup(),l=a.nodes,f=a.edges,h=l.length,p=new Array(h),m=l,b=function(V){for(var q=0;q<p.length;q++)if(p[q].has(V))return q},y=0;y<h;y++)p[y]=this.spawn(l[y]);for(var D=f.sort(function(k,V){return i(k)-i(V)}),E=0;E<D.length;E++){var S=D[E],M=S.source()[0],x=S.target()[0],R=b(M),A=b(x),N=p[R],O=p[A];R!==A&&(m.merge(S),N.merge(O),p.splice(A,1))}return m}},Du=Pr({root:null,goal:null,weight:function(i){return 1},heuristic:function(i){return 0},directed:!1}),po={aStar:function(i){var a=this.cy(),l=Du(i),f=l.root,h=l.goal,p=l.heuristic,m=l.directed,b=l.weight;f=a.collection(f)[0],h=a.collection(h)[0];var k,V,y=f.id(),D=h.id(),E={},S={},M={},x=new vt.default(function(De,he){return S[De.id()]-S[he.id()]}),R=new wu,A={},N={},O=function(he,be){x.push(he),R.add(be)};O(f,y),E[y]=0,S[y]=p(f);for(var $=0;x.size()>0;){if(V=(k=x.pop()).id(),R.delete(V),$++,V===D){for(var W=[],U=h,Y=D,X=N[Y];W.unshift(U),null!=X&&W.unshift(X),null!=(U=A[Y]);)X=N[Y=U.id()];return{found:!0,distance:E[V],path:this.spawn(W),steps:$}}M[V]=!0;for(var j=k._private.edges,te=0;te<j.length;te++){var K=j[te];if(this.hasElementWithId(K.id())&&(!m||K.data("source")===V)){var ue=K.source(),ne=K.target(),re=ue.id()!==V?ue:ne,fe=re.id();if(this.hasElementWithId(fe)&&!M[fe]){var pe=E[V]+b(K);if(!R.has(fe)){E[fe]=pe,S[fe]=pe+p(re),O(re,fe),A[fe]=k,N[fe]=K;continue}pe<E[fe]&&(E[fe]=pe,S[fe]=pe+p(re),A[fe]=k,N[fe]=K)}}}}return{found:!1,distance:void 0,path:void 0,steps:$}}},jg=Pr({weight:function(i){return 1},directed:!1}),$h={floydWarshall:function(i){for(var a=this.cy(),l=jg(i),h=l.directed,p=l.weight,m=this.byGroup(),b=m.nodes,y=m.edges,D=b.length,E=D*D,S=function(Ae){return b.indexOf(Ae)},M=function(Ae){return b[Ae]},x=new Array(E),R=0;R<E;R++){var A=R%D;x[R]=(R-A)/D===A?0:1/0}for(var O=new Array(E),k=new Array(E),V=0;V<y.length;V++){var q=y[V],Z=q.source()[0],$=q.target()[0];if(Z!==$){var W=S(Z),U=S($),Y=W*D+U,X=p(q);if(x[Y]>X&&(x[Y]=X,O[Y]=U,k[Y]=q),!h){var j=U*D+W;!h&&x[j]>X&&(x[j]=X,O[j]=W,k[j]=q)}}}for(var te=0;te<D;te++)for(var K=0;K<D;K++)for(var ue=K*D+te,ne=0;ne<D;ne++){var re=K*D+ne,fe=te*D+ne;x[ue]+x[fe]<x[re]&&(x[re]=x[ue]+x[fe],O[re]=O[ue])}var De=function(Ae){return S(function(Ae){return(Je(Ae)?a.filter(Ae):Ae)[0]}(Ae))};return{distance:function(Ae,Fe){var Me=De(Ae),Ie=De(Fe);return x[Me*D+Ie]},path:function(Ae,Fe){var Me=De(Ae),Ie=De(Fe),de=M(Me);if(Me===Ie)return de.collection();if(null==O[Me*D+Ie])return a.collection();var Re=a.collection();for(Re.merge(de);Me!==Ie;)Re.merge(k[Me*D+(Me=O[Me*D+Ie])]),Re.merge(M(Me));return Re}}}},zn=Pr({weight:function(i){return 1},directed:!1,root:null}),Cu={bellmanFord:function(i){var a=this,l=zn(i),h=l.directed,p=l.root,m=l.weight,b=this,y=this.cy(),D=this.byGroup(),E=D.edges,S=D.nodes,M=S.length,x=new va,R=!1,A=[];p=y.collection(p)[0],E.unmergeBy(function(mt){return mt.isLoop()});for(var N=E.length,O=function(Ye){var nt=x.get(Ye.id());return nt||(nt={},x.set(Ye.id(),nt)),nt},k=function(Ye){return(Je(Ye)?y.$(Ye):Ye)[0]},Z=0;Z<M;Z++){var $=S[Z],W=O($);W.dist=$.same(p)?0:1/0,W.pred=null,W.edge=null}for(var U=!1,Y=function(Ye,nt,pn,qt,Nt,Un){var Be=qt.dist+Un;Be<Nt.dist&&!pn.same(qt.edge)&&(Nt.dist=Be,Nt.pred=Ye,Nt.edge=pn,U=!0)},X=1;X<M;X++){U=!1;for(var j=0;j<N;j++){var te=E[j],K=te.source(),ue=te.target(),ne=m(te),re=O(K),fe=O(ue);Y(K,0,te,re,fe,ne),h||Y(ue,0,te,fe,re,ne)}if(!U)break}if(U)for(var pe=[],De=0;De<N;De++){var he=E[De],be=he.source(),Ae=he.target(),Fe=m(he),Me=O(be).dist,Ie=O(Ae).dist;if(Me+Fe<Ie||!h&&Ie+Fe<Me){if(R||(Gt("Graph contains a negative weight cycle for Bellman-Ford"),R=!0),!1===i.findNegativeWeightCycles)break;var de=[];Me+Fe<Ie&&de.push(be),!h&&Ie+Fe<Me&&de.push(Ae);for(var Re=de.length,Le=0;Le<Re;Le++){var Ke=de[Le],tt=[Ke];tt.push(O(Ke).edge);for(var _t=O(Ke).pred;-1===tt.indexOf(_t);)tt.push(_t),tt.push(O(_t).edge),_t=O(_t).pred;for(var Jt=(tt=tt.slice(tt.indexOf(_t)))[0].id(),at=0,Xe=2;Xe<tt.length;Xe+=2)tt[Xe].id()<Jt&&(Jt=tt[Xe].id(),at=Xe);(tt=tt.slice(at).concat(tt.slice(0,at))).push(tt[0]);var je=tt.map(function(mt){return mt.id()}).join(",");-1===pe.indexOf(je)&&(A.push(b.spawn(tt)),pe.push(je))}}}return{distanceTo:function(Ye){return O(k(Ye)).dist},pathTo:function(Ye){for(var nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,qt=[],Nt=k(Ye);;){if(null==Nt)return a.spawn();var Un=O(Nt),Be=Un.edge,G=Un.pred;if(qt.unshift(Nt[0]),Nt.same(nt)&&qt.length>0)break;null!=Be&&qt.unshift(Be),Nt=G}return b.spawn(qt)},hasNegativeWeightCycle:R,negativeWeightCycles:A}}},Xr=Math.sqrt(2),Bc=function(i,a,l){0===l.length&&$n("Karger-Stein must be run on a connected (sub)graph");for(var f=l[i],m=a[f[1]],b=a[f[2]],y=l,D=y.length-1;D>=0;D--){var E=y[D],S=E[1],M=E[2];(a[S]===m&&a[M]===b||a[S]===b&&a[M]===m)&&y.splice(D,1)}for(var x=0;x<y.length;x++){var R=y[x];R[1]===b?(y[x]=R.slice(),y[x][1]=m):R[2]===b&&(y[x]=R.slice(),y[x][2]=m)}for(var A=0;A<a.length;A++)a[A]===b&&(a[A]=m);return y},Sl=function(i,a,l,f){for(;l>f;){var h=Math.floor(Math.random()*a.length);a=Bc(h,i,a),l--}return a},Zn={kargerStein:function(){var i=this,a=this.byGroup(),l=a.nodes,f=a.edges;f.unmergeBy(function(fe){return fe.isLoop()});var h=l.length,p=f.length,m=Math.ceil(Math.pow(Math.log(h)/Math.LN2,2)),b=Math.floor(h/Xr);if(!(h<2)){for(var y=[],D=0;D<p;D++){var E=f[D];y.push([D,l.indexOf(E.source()),l.indexOf(E.target())])}for(var S=1/0,M=[],x=new Array(h),R=new Array(h),A=new Array(h),N=function(pe,De){for(var he=0;he<h;he++)De[he]=pe[he]},O=0;O<=m;O++){for(var k=0;k<h;k++)R[k]=k;var V=Sl(R,y.slice(),h,b),q=V.slice();N(R,A);var Z=Sl(R,V,b,2),$=Sl(A,q,b,2);Z.length<=$.length&&Z.length<S?(S=Z.length,M=Z,N(R,x)):$.length<=Z.length&&$.length<S&&(S=$.length,M=$,N(A,x))}for(var W=this.spawn(M.map(function(fe){return f[fe[0]]})),U=this.spawn(),Y=this.spawn(),X=x[0],j=0;j<x.length;j++){var K=l[j];x[j]===X?U.merge(K):Y.merge(K)}var ue=function(pe){var De=i.spawn();return pe.forEach(function(he){De.merge(he),he.connectedEdges().forEach(function(be){i.contains(be)&&!W.contains(be)&&De.merge(be)})}),De},ne=[ue(U),ue(Y)];return{cut:W,components:ne,partition1:U,partition2:Y}}$n("At least 2 nodes are required for Karger-Stein algorithm")}},ks=function(i,a,l){return{x:i.x*a+l.x,y:i.y*a+l.y}},xl=function(i,a,l){return{x:(i.x-l.x)/a,y:(i.y-l.y)/a}},Ml=function(i){return{x:i[0],y:i[1]}},Vc=function(i,a){return Math.atan2(a,i)-Math.PI/2},Hh=Math.log2||function(s){return Math.log(s)/Math.log(2)},gf=function(i){return i>0?1:i<0?-1:0},Va=function(i,a){return Math.sqrt(Qr(i,a))},Qr=function(i,a){var l=a.x-i.x,f=a.y-i.y;return l*l+f*f},jm=function(i){for(var a=i.length,l=0,f=0;f<a;f++)l+=i[f];for(var h=0;h<a;h++)i[h]=i[h]/l;return i},ai=function(i,a,l,f){return(1-f)*(1-f)*i+2*(1-f)*f*a+f*f*l},Fs=function(i,a,l,f){return{x:ai(i.x,a.x,l.x,f),y:ai(i.y,a.y,l.y,f)}},$c=function(i,a,l){return Math.max(i,Math.min(l,a))},go=function(i){if(null==i)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=i.x1&&null!=i.y1){if(null!=i.x2&&null!=i.y2&&i.x2>=i.x1&&i.y2>=i.y1)return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,w:i.x2-i.x1,h:i.y2-i.y1};if(null!=i.w&&null!=i.h&&i.w>=0&&i.h>=0)return{x1:i.x1,y1:i.y1,x2:i.x1+i.w,y2:i.y1+i.h,w:i.w,h:i.h}}},sr=function(i,a){i.x1=Math.min(i.x1,a.x1),i.x2=Math.max(i.x2,a.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,a.y1),i.y2=Math.max(i.y2,a.y2),i.h=i.y2-i.y1},ur=function(i,a,l){i.x1=Math.min(i.x1,a),i.x2=Math.max(i.x2,a),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,l),i.y2=Math.max(i.y2,l),i.h=i.y2-i.y1},Hc=function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.x1-=a,i.x2+=a,i.y1-=a,i.y2+=a,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Uh=function(i){var l,f,h,p,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===a.length)l=f=h=p=a[0];else if(2===a.length)l=h=a[0],p=f=a[1];else if(4===a.length){var m=cn(a,4);l=m[0],f=m[1],h=m[2],p=m[3]}return i.x1-=p,i.x2+=f,i.y1-=l,i.y2+=h,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},vo=function(i,a){i.x1=a.x1,i.y1=a.y1,i.x2=a.x2,i.y2=a.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1},Lt=function(i,a){return!(i.x1>a.x2||a.x1>i.x2||i.x2<a.x1||a.x2<i.x1||i.y2<a.y1||a.y2<i.y1||i.y1>a.y2||a.y1>i.y2)},Tl=function(i,a,l){return i.x1<=a&&a<=i.x2&&i.y1<=l&&l<=i.y2},Wm=function(i,a){return Tl(i,a.x,a.y)},zh=function(i,a){return Tl(i,a.x1,a.y1)&&Tl(i,a.x2,a.y2)},Mt=function(i,a,l,f,h,p,m){var E,b=as(h,p),y=h/2,D=p/2,M=f-D-m;if((E=$a(i,a,l,f,l-y+b-m,M,l+y-b+m,M,!1)).length>0)return E;var A=l+y+m;if((E=$a(i,a,l,f,A,f-D+b-m,A,f+D-b+m,!1)).length>0)return E;var q=f+D+m;if((E=$a(i,a,l,f,l-y+b-m,q,l+y-b+m,q,!1)).length>0)return E;var j,W=l-y-m;if((E=$a(i,a,l,f,W,f-D+b-m,W,f+D-b+m,!1)).length>0)return E;var te=l-y+b,K=f-D+b;if((j=Eu(i,a,l,f,te,K,b+m)).length>0&&j[0]<=te&&j[1]<=K)return[j[0],j[1]];var ue=l+y-b,ne=f-D+b;if((j=Eu(i,a,l,f,ue,ne,b+m)).length>0&&j[0]>=ue&&j[1]<=ne)return[j[0],j[1]];var re=l+y-b,fe=f+D-b;if((j=Eu(i,a,l,f,re,fe,b+m)).length>0&&j[0]>=re&&j[1]>=fe)return[j[0],j[1]];var pe=l-y+b,De=f+D-b;return(j=Eu(i,a,l,f,pe,De,b+m)).length>0&&j[0]<=pe&&j[1]>=De?[j[0],j[1]]:[]},Ri=function(i,a,l,f,h,p,m){var b=m,y=Math.min(l,h),D=Math.max(l,h),E=Math.min(f,p),S=Math.max(f,p);return y-b<=i&&i<=D+b&&E-b<=a&&a<=S+b},mo=function(i,a,l,f,h,p,m,b,y){var D_x1=Math.min(l,m,h)-y,D_x2=Math.max(l,m,h)+y,D_y1=Math.min(f,b,p)-y,D_y2=Math.max(f,b,p)+y;return!(i<D_x1||i>D_x2||a<D_y1||a>D_y2)},Uc=function(i,a,l,f,h,p,m,b){var M=[];!function(i,a,l,f,h){var m,b,y,D,E,S,M,x;0===i&&(i=1e-5),y=-27*(f/=i)+(a/=i)*(9*(l/=i)-a*a*2),m=(b=(3*l-a*a)/9)*b*b+(y/=54)*y,h[1]=0,M=a/3,m>0?(E=(E=y+Math.sqrt(m))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),S=(S=y-Math.sqrt(m))<0?-Math.pow(-S,1/3):Math.pow(S,1/3),h[0]=-M+E+S,h[4]=h[2]=-(M+=(E+S)/2),M=Math.sqrt(3)*(-S+E)/2,h[3]=M,h[5]=-M):(h[5]=h[3]=0,0===m?(x=y<0?-Math.pow(-y,1/3):Math.pow(y,1/3),h[0]=2*x-M,h[4]=h[2]=-(x+M)):(D=(b=-b)*b*b,D=Math.acos(y/Math.sqrt(D)),x=2*Math.sqrt(b),h[0]=-M+x*Math.cos(D/3),h[2]=-M+x*Math.cos((D+2*Math.PI)/3),h[4]=-M+x*Math.cos((D+4*Math.PI)/3)))}(1*l*l-4*l*h+2*l*m+4*h*h-4*h*m+m*m+f*f-4*f*p+2*f*b+4*p*p-4*p*b+b*b,9*l*h-3*l*l-3*l*m-6*h*h+3*h*m+9*f*p-3*f*f-3*f*b-6*p*p+3*p*b,3*l*l-6*l*h+l*m-l*i+2*h*h+2*h*i-m*i+3*f*f-6*f*p+f*b-f*a+2*p*p+2*p*a-b*a,1*l*h-l*l+l*i-h*i+f*p-f*f+f*a-p*a,M);for(var R=[],A=0;A<6;A+=2)Math.abs(M[A+1])<1e-7&&M[A]>=0&&M[A]<=1&&R.push(M[A]);R.push(1),R.push(0);for(var O,k,V,N=-1,q=0;q<R.length;q++)O=Math.pow(1-R[q],2)*l+2*(1-R[q])*R[q]*h+R[q]*R[q]*m,k=Math.pow(1-R[q],2)*f+2*(1-R[q])*R[q]*p+R[q]*R[q]*b,V=Math.pow(O-i,2)+Math.pow(k-a,2),N>=0?V<N&&(N=V):N=V;return N},Po=function(i,a,l,f,h,p){var m=[i-l,a-f],b=[h-l,p-f],y=b[0]*b[0]+b[1]*b[1],D=m[0]*m[0]+m[1]*m[1],E=m[0]*b[0]+m[1]*b[1],S=E*E/y;return E<0?D:S>y?(i-h)*(i-h)+(a-p)*(a-p):D-S},si=function(i,a,l){for(var f,h,p,m,y=0,D=0;D<l.length/2;D++)if(h=l[2*D+1],D+1<l.length/2?(p=l[2*(D+1)],m=l[2*(D+1)+1]):(p=l[2*(D+1-l.length/2)],m=l[2*(D+1-l.length/2)+1]),(f=l[2*D])!=i||p!=i){if(!(f>=i&&i>=p||f<=i&&i<=p))continue;(i-f)/(p-f)*(m-h)+h>a&&y++}return y%2!=0},yo=function(i,a,l,f,h,p,m,b,y){var E,R,D=new Array(l.length);null!=b[0]?(E=Math.atan(b[1]/b[0]),b[0]<0?E+=Math.PI/2:E=-E-Math.PI/2):E=b;for(var S=Math.cos(-E),M=Math.sin(-E),x=0;x<D.length/2;x++)D[2*x]=p/2*(l[2*x]*S-l[2*x+1]*M),D[2*x+1]=m/2*(l[2*x+1]*S+l[2*x]*M),D[2*x]+=f,D[2*x+1]+=h;if(y>0){var A=vf(D,-y);R=jc(A)}else R=D;return si(i,a,R)},jc=function(i){for(var m,b,y,D,a=new Array(i.length/2),E=0;E<i.length/4;E++){E<i.length/4-1?(m=i[4*(E+1)],b=i[4*(E+1)+1],y=i[4*(E+1)+2],D=i[4*(E+1)+3]):(m=i[0],b=i[1],y=i[2],D=i[3]);var S=$a(i[4*E],i[4*E+1],i[4*E+2],i[4*E+3],m,b,y,D,!0);a[2*E]=S[0],a[2*E+1]=S[1]}return a},vf=function(i,a){for(var f,h,p,m,l=new Array(2*i.length),b=0;b<i.length/2;b++){b<i.length/2-1?(p=i[2*(b+1)],m=i[2*(b+1)+1]):(p=i[0],m=i[1]);var y=m-(h=i[2*b+1]),D=-(p-(f=i[2*b])),E=Math.sqrt(y*y+D*D),S=y/E,M=D/E;l[4*b]=f+S*a,l[4*b+1]=h+M*a,l[4*b+2]=p+S*a,l[4*b+3]=m+M*a}return l},kr=function(i,a,l,f,h,p,m){return i-=h,a-=p,(i/=l/2+m)*i+(a/=f/2+m)*a<=1},Eu=function(i,a,l,f,h,p,m){var b=[l-i,f-a],y=[i-h,a-p],D=b[0]*b[0]+b[1]*b[1],E=2*(y[0]*b[0]+y[1]*b[1]),M=E*E-4*D*(y[0]*y[0]+y[1]*y[1]-m*m);if(M<0)return[];var x=(-E+Math.sqrt(M))/(2*D),R=(-E-Math.sqrt(M))/(2*D),A=Math.min(x,R),N=Math.max(x,R),O=[];if(A>=0&&A<=1&&O.push(A),N>=0&&N<=1&&O.push(N),0===O.length)return[];var k=O[0]*b[0]+i,V=O[0]*b[1]+a;return O.length>1?O[0]==O[1]?[k,V]:[k,V,O[1]*b[0]+i,O[1]*b[1]+a]:[k,V]},Yn=function(i,a,l){return a<=i&&i<=l||l<=i&&i<=a?i:i<=a&&a<=l||l<=a&&a<=i?a:l},$a=function(i,a,l,f,h,p,m,b,y){var D=i-h,E=l-i,S=m-h,M=a-p,x=f-a,R=b-p,A=S*M-R*D,N=E*M-x*D,O=R*E-S*x;if(0!==O){var k=A/O,V=N/O,Z=-.001;return Z<=k&&k<=1.001&&Z<=V&&V<=1.001||y?[i+k*E,a+k*x]:[]}return 0===A||0===N?Yn(i,l,m)===m?[m,b]:Yn(i,l,h)===h?[h,p]:Yn(h,m,l)===l?[l,f]:[]:[]},Al=function(i,a,l,f,h,p,m,b){var D,M,y=[],E=new Array(l.length),S=!0;if(null==p&&(S=!1),S){for(var x=0;x<E.length/2;x++)E[2*x]=l[2*x]*p+f,E[2*x+1]=l[2*x+1]*m+h;if(b>0){var R=vf(E,-b);M=jc(R)}else M=E}else M=l;for(var O,k,V=0;V<M.length/2;V++)V<M.length/2-1?(O=M[2*(V+1)],k=M[2*(V+1)+1]):(O=M[0],k=M[1]),0!==(D=$a(i,a,f,h,M[2*V],M[2*V+1],O,k)).length&&y.push(D[0],D[1]);return y},_u=function(i,a,l){var f=[i[0]-a[0],i[1]-a[1]],h=Math.sqrt(f[0]*f[0]+f[1]*f[1]),p=(h-l)/h;return p<0&&(p=1e-5),[a[0]+p*f[0],a[1]+p*f[1]]},Ni=function(i,a){var l=Oo(i,a);return Xn(l)},Xn=function(i){for(var a,l,f=i.length/2,h=1/0,p=1/0,m=-1/0,b=-1/0,y=0;y<f;y++)a=i[2*y],l=i[2*y+1],h=Math.min(h,a),m=Math.max(m,a),p=Math.min(p,l),b=Math.max(b,l);for(var D=2/(m-h),E=2/(b-p),S=0;S<f;S++)a=i[2*S]=i[2*S]*D,l=i[2*S+1]=i[2*S+1]*E,h=Math.min(h,a),m=Math.max(m,a),p=Math.min(p,l),b=Math.max(b,l);if(p<-1)for(var M=0;M<f;M++)l=i[2*M+1]=i[2*M+1]+(-1-p);return i},Oo=function(i,a){var l=1/i*2*Math.PI,f=i%2==0?Math.PI/2+l/2:Math.PI/2;f+=a;for(var p,h=new Array(2*i),m=0;m<i;m++)p=m*l+f,h[2*m]=Math.cos(p),h[2*m+1]=Math.sin(-p);return h},as=function(i,a){return Math.min(i/4,a/4,8)},Rl=function(i,a){return Math.min(i/10,a/10,8)},Gh=function(i,a){return{heightOffset:Math.min(15,.05*a),widthOffset:Math.min(100,.25*i),ctrlPtOffsetPct:.05}},Zm=Pr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(i){return 1}}),Gg={pageRank:function(i){for(var a=Zm(i),l=a.dampingFactor,f=a.precision,h=a.iterations,p=a.weight,m=this._private.cy,b=this.byGroup(),y=b.nodes,D=b.edges,E=y.length,M=D.length,x=new Array(E*E),R=new Array(E),A=(1-l)/E,N=0;N<E;N++){for(var O=0;O<E;O++)x[N*E+O]=0;R[N]=0}for(var V=0;V<M;V++){var q=D[V],Z=q.data("source"),$=q.data("target");if(Z!==$){var W=y.indexOfId(Z),U=y.indexOfId($),Y=p(q);x[U*E+W]+=Y,R[W]+=Y}}for(var j=1/E+A,te=0;te<E;te++)if(0===R[te])for(var K=0;K<E;K++)x[K*E+te]=j;else for(var ne=0;ne<E;ne++){var re=ne*E+te;x[re]=x[re]/R[te]+A}for(var De,fe=new Array(E),pe=new Array(E),he=0;he<E;he++)fe[he]=1;for(var be=0;be<h;be++){for(var Ae=0;Ae<E;Ae++)pe[Ae]=0;for(var Fe=0;Fe<E;Fe++)for(var Me=0;Me<E;Me++)pe[Fe]+=x[Fe*E+Me]*fe[Me];jm(pe),De=fe,fe=pe,pe=De;for(var de=0,Re=0;Re<E;Re++){var Le=De[Re]-fe[Re];de+=Le*Le}if(de<f)break}return{rank:function(_t){return _t=m.collection(_t)[0],fe[y.indexOf(_t)]}}}},qc=Pr({root:null,weight:function(i){return 1},directed:!1,alpha:0}),ma={degreeCentralityNormalized:function(i){i=qc(i);var a=this.cy(),l=this.nodes(),f=l.length;if(i.directed){for(var D={},E={},S=0,M=0,x=0;x<f;x++){var R=l[x],A=R.id();i.root=R;var N=this.degreeCentrality(i);S<N.indegree&&(S=N.indegree),M<N.outdegree&&(M=N.outdegree),D[A]=N.indegree,E[A]=N.outdegree}return{indegree:function(k){return 0==S?0:(Je(k)&&(k=a.filter(k)),D[k.id()]/S)},outdegree:function(k){return 0===M?0:(Je(k)&&(k=a.filter(k)),E[k.id()]/M)}}}for(var h={},p=0,m=0;m<f;m++){var b=l[m];i.root=b;var y=this.degreeCentrality(i);p<y.degree&&(p=y.degree),h[b.id()]=y.degree}return{degree:function(k){return 0===p?0:(Je(k)&&(k=a.filter(k)),h[k.id()]/p)}}},degreeCentrality:function(i){i=qc(i);var a=this.cy(),l=this,h=i.root,p=i.weight,m=i.directed,b=i.alpha;if(h=a.collection(h)[0],m){for(var M=h.connectedEdges(),x=M.filter(function(Z){return Z.target().same(h)&&l.has(Z)}),R=M.filter(function(Z){return Z.source().same(h)&&l.has(Z)}),A=x.length,N=R.length,O=0,k=0,V=0;V<x.length;V++)O+=p(x[V]);for(var q=0;q<R.length;q++)k+=p(R[q]);return{indegree:Math.pow(A,1-b)*Math.pow(O,b),outdegree:Math.pow(N,1-b)*Math.pow(k,b)}}for(var y=h.connectedEdges().intersection(l),D=y.length,E=0,S=0;S<y.length;S++)E+=p(y[S]);return{degree:Math.pow(D,1-b)*Math.pow(E,b)}}};ma.dc=ma.degreeCentrality,ma.dcn=ma.degreeCentralityNormalised=ma.degreeCentralityNormalized;var Su=Pr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ha={closenessCentralityNormalized:function(i){for(var a=Su(i),l=a.harmonic,f=a.weight,h=a.directed,p=this.cy(),m={},b=0,y=this.nodes(),D=this.floydWarshall({weight:f,directed:h}),E=0;E<y.length;E++){for(var S=0,M=y[E],x=0;x<y.length;x++)if(E!==x){var R=D.distance(M,y[x]);S+=l?1/R:R}l||(S=1/S),b<S&&(b=S),m[M.id()]=S}return{closeness:function(N){return 0==b?0:(N=Je(N)?p.filter(N)[0].id():N.id(),m[N]/b)}}},closenessCentrality:function(i){var a=Su(i),l=a.root,f=a.weight,h=a.directed,p=a.harmonic;l=this.filter(l)[0];for(var m=this.dijkstra({root:l,weight:f,directed:h}),b=0,y=this.nodes(),D=0;D<y.length;D++){var E=y[D];if(!E.same(l)){var S=m.distanceTo(E);b+=p?1/S:S}}return p?b:1/b}};Ha.cc=Ha.closenessCentrality,Ha.ccn=Ha.closenessCentralityNormalised=Ha.closenessCentralityNormalized;var Nl=Pr({weight:null,directed:!1}),Pl={betweennessCentrality:function(i){for(var a=Nl(i),l=a.directed,f=a.weight,h=null!=f,p=this.cy(),m=this.nodes(),b={},y={},D=0,E={set:function(k,V){y[k]=V,V>D&&(D=V)},get:function(k){return y[k]}},S=0;S<m.length;S++){var M=m[S],x=M.id();b[x]=l?M.outgoers().nodes():M.openNeighborhood().nodes(),E.set(x,0)}for(var R=function(k){for(var V=m[k].id(),q=[],Z={},$={},W={},U=new vt.default(function(Me,Ie){return W[Me]-W[Ie]}),Y=0;Y<m.length;Y++){var X=m[Y].id();Z[X]=[],$[X]=0,W[X]=1/0}for($[V]=1,W[V]=0,U.push(V);!U.empty();){var j=U.pop();if(q.push(j),h)for(var te=0;te<b[j].length;te++){var ne,K=b[j][te],ue=p.getElementById(j);ne=ue.edgesTo(K).length>0?ue.edgesTo(K)[0]:K.edgesTo(ue)[0];var re=f(ne);K=K.id(),W[K]>W[j]+re&&(W[K]=W[j]+re,U.nodes.indexOf(K)<0?U.push(K):U.updateItem(K),$[K]=0,Z[K]=[]),W[K]==W[j]+re&&($[K]=$[K]+$[j],Z[K].push(j))}else for(var fe=0;fe<b[j].length;fe++){var pe=b[j][fe].id();W[pe]==1/0&&(U.push(pe),W[pe]=W[j]+1),W[pe]==W[j]+1&&($[pe]=$[pe]+$[j],Z[pe].push(j))}}for(var De={},he=0;he<m.length;he++)De[m[he].id()]=0;for(;q.length>0;){for(var be=q.pop(),Ae=0;Ae<Z[be].length;Ae++){var Fe=Z[be][Ae];De[Fe]=De[Fe]+$[Fe]/$[be]*(1+De[be])}be!=m[k].id()&&E.set(be,E.get(be)+De[be])}},A=0;A<m.length;A++)R(A);var N={betweenness:function(k){var V=p.collection(k).id();return E.get(V)},betweennessNormalized:function(k){if(0==D)return 0;var V=p.collection(k).id();return E.get(V)/D}};return N.betweennessNormalised=N.betweennessNormalized,N}};Pl.bc=Pl.betweennessCentrality;var yf=Pr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(s){return 1}]}),Wh=function(i,a){for(var l=0,f=0;f<a.length;f++)l+=a[f](i);return l},Wc=function(i,a){for(var l,f=0;f<a;f++){l=0;for(var h=0;h<a;h++)l+=i[h*a+f];for(var p=0;p<a;p++)i[p*a+f]=i[p*a+f]/l}},us=function(i,a,l){for(var f=new Array(l*l),h=0;h<l;h++){for(var p=0;p<l;p++)f[h*l+p]=0;for(var m=0;m<l;m++)for(var b=0;b<l;b++)f[h*l+b]+=i[h*l+m]*a[m*l+b]}return f},Zh=function(i,a,l){for(var f=i.slice(0),h=1;h<l;h++)i=us(i,f,a);return i},gt=function(i,a,l){for(var f=new Array(a*a),h=0;h<a*a;h++)f[h]=Math.pow(i[h],l);return Wc(f,a),f},Zc=function(i,a,l,f){for(var h=0;h<l;h++)if(Math.round(i[h]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(a[h]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Ol=function(i,a){for(var l=0;l<i.length;l++)if(!a[l]||i[l].id()!==a[l].id())return!1;return!0},xu=function(i){for(var a=this.nodes(),l=this.edges(),f=this.cy(),h=function(i){return yf(i)}(i),p={},m=0;m<a.length;m++)p[a[m].id()]=m;for(var E,b=a.length,y=b*b,D=new Array(y),S=0;S<y;S++)D[S]=0;for(var M=0;M<l.length;M++){var x=l[M],R=p[x.source().id()],A=p[x.target().id()],N=Wh(x,h.attributes);D[R*b+A]+=N,D[A*b+R]+=N}(function(i,a,l){for(var f=0;f<a;f++)i[f*a+f]=l})(D,b,h.multFactor),Wc(D,b);for(var O=!0,k=0;O&&k<h.maxIterations;)O=!1,E=Zh(D,b,h.expandFactor),D=gt(E,b,h.inflateFactor),Zc(D,E,y,4)||(O=!0),k++;var V=function(i,a,l,f){for(var h=[],p=0;p<a;p++){for(var m=[],b=0;b<a;b++)Math.round(1e3*i[p*a+b])/1e3>0&&m.push(l[b]);0!==m.length&&h.push(f.collection(m))}return h}(D,b,a,f);return V=function(i){for(var a=0;a<i.length;a++)for(var l=0;l<i.length;l++)a!=l&&Ol(i[a],i[l])&&i.splice(l,1);return i}(V),V},qg={markovClustering:xu,mcl:xu},Wg=function(i){return i},Kh=function(i,a){return Math.abs(a-i)},ya=function(i,a,l){return i+Kh(a,l)},wa=function(i,a,l){return i+Math.pow(l-a,2)},Jo=function(i){return Math.sqrt(i)},ba=function(i,a,l){return Math.max(i,Kh(a,l))},vn=function(i,a,l,f,h){for(var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wg,m=f,D=0;D<i;D++)m=h(m,a(D),l(D));return p(m)},Da={euclidean:function(i,a,l){return i>=2?vn(i,a,l,0,wa,Jo):vn(i,a,l,0,ya)},squaredEuclidean:function(i,a,l){return vn(i,a,l,0,wa)},manhattan:function(i,a,l){return vn(i,a,l,0,ya)},max:function(i,a,l){return vn(i,a,l,-1/0,ba)}};function wo(s,i,a,l,f,h){var p;return p=Fn(s)?s:Da[s]||Da.euclidean,0===i&&Fn(s)?p(f,h):p(i,a,l,f,h)}Da["squared-euclidean"]=Da.squaredEuclidean,Da.squaredeuclidean=Da.squaredEuclidean;var Mu=Pr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Yc=function(i){return Mu(i)},ko=function(i,a,l,f,h){var m="kMedoids"!==h?function(E){return l[E]}:function(E){return f[E](l)};return wo(i,f.length,m,function(S){return f[S](a)},l,a)},Bs=function(i,a,l){for(var f=l.length,h=new Array(f),p=new Array(f),m=new Array(a),b=null,y=0;y<f;y++)h[y]=i.min(l[y]).value,p[y]=i.max(l[y]).value;for(var D=0;D<a;D++){b=[];for(var E=0;E<f;E++)b[E]=Math.random()*(p[E]-h[E])+h[E];m[D]=b}return m},ls=function(i,a,l,f,h){for(var p=1/0,m=0,b=0;b<a.length;b++){var y=ko(l,i,a[b],f,h);y<p&&(p=y,m=b)}return m},bo=function(i,a,l){for(var f=[],h=null,p=0;p<a.length;p++)l[(h=a[p]).id()]===i&&f.push(h);return f},Xc=function(i,a,l){return Math.abs(a-i)<=l},Yh=function(i,a,l){for(var f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)if(Math.abs(i[f][h]-a[f][h])>l)return!1;return!0},Xh=function(i,a,l){for(var f=0;f<l;f++)if(i===a[f])return!0;return!1},Iu=function(i,a){var l=new Array(a);if(i.length<50)for(var f=0;f<a;f++){for(var h=i[Math.floor(Math.random()*i.length)];Xh(h,l,f);)h=i[Math.floor(Math.random()*i.length)];l[f]=h}else for(var p=0;p<a;p++)l[p]=i[Math.floor(Math.random()*i.length)];return l},wf=function(i,a,l){for(var f=0,h=0;h<a.length;h++)f+=ko("manhattan",a[h],i,l,"kMedoids");return f},se=function(i,a,l,f,h){for(var p,m,b=0;b<a.length;b++)for(var y=0;y<i.length;y++)f[b][y]=Math.pow(l[b][y],h.m);for(var D=0;D<i.length;D++)for(var E=0;E<h.attributes.length;E++){p=0,m=0;for(var S=0;S<a.length;S++)p+=f[S][D]*h.attributes[E](a[S]),m+=f[S][D];i[D][E]=p/m}},xe=function(i,a,l,f,h){for(var p=0;p<i.length;p++)a[p]=i[p].slice();for(var m,b,y,D=2/(h.m-1),E=0;E<l.length;E++)for(var S=0;S<f.length;S++){m=0;for(var M=0;M<l.length;M++)b=ko(h.distance,f[S],l[E],h.attributes,"cmeans"),y=ko(h.distance,f[S],l[M],h.attributes,"cmeans"),m+=Math.pow(b/y,D);i[S][E]=1/m}},ut=function(i){var h,p,m,b,y,a=this.cy(),l=this.nodes(),f=Yc(i);b=new Array(l.length);for(var D=0;D<l.length;D++)b[D]=new Array(f.k);m=new Array(l.length);for(var E=0;E<l.length;E++)m[E]=new Array(f.k);for(var S=0;S<l.length;S++){for(var M=0,x=0;x<f.k;x++)m[S][x]=Math.random(),M+=m[S][x];for(var R=0;R<f.k;R++)m[S][R]=m[S][R]/M}p=new Array(f.k);for(var A=0;A<f.k;A++)p[A]=new Array(f.attributes.length);y=new Array(l.length);for(var N=0;N<l.length;N++)y[N]=new Array(f.k);for(var O=!0,k=0;O&&k<f.maxIterations;)O=!1,se(p,l,m,y,f),xe(m,b,p,l,f),Yh(m,b,f.sensitivityThreshold)||(O=!0),k++;return h=function(i,a,l,f){for(var h=new Array(l.k),p=0;p<h.length;p++)h[p]=[];for(var m,b,y=0;y<a.length;y++){m=-1/0,b=-1;for(var D=0;D<a[0].length;D++)a[y][D]>m&&(m=a[y][D],b=D);h[b].push(i[y])}for(var E=0;E<h.length;E++)h[E]=f.collection(h[E]);return h}(l,m,f,a),{clusters:h,degreeOfMembership:m}},Xt={kMeans:function(i){var b,a=this.cy(),l=this.nodes(),f=null,h=Yc(i),p=new Array(h.k),m={};b=h.testMode?"number"==typeof h.testCentroids?Bs(l,h.k,h.attributes):"object"===ln(h.testCentroids)?h.testCentroids:Bs(l,h.k,h.attributes):Bs(l,h.k,h.attributes);for(var y=!0,D=0;y&&D<h.maxIterations;){for(var E=0;E<l.length;E++)m[(f=l[E]).id()]=ls(f,b,h.distance,h.attributes,"kMeans");y=!1;for(var S=0;S<h.k;S++){var M=bo(S,l,m);if(0!==M.length){for(var x=h.attributes.length,R=b[S],A=new Array(x),N=new Array(x),O=0;O<x;O++){N[O]=0;for(var k=0;k<M.length;k++)N[O]+=h.attributes[O](f=M[k]);A[O]=N[O]/M.length,Xc(A[O],R[O],h.sensitivityThreshold)||(y=!0)}b[S]=A,p[S]=a.collection(M)}}D++}return p},kMedoids:function(i){var m,y,a=this.cy(),l=this.nodes(),f=null,h=Yc(i),p=new Array(h.k),b={},D=new Array(h.k);h.testMode?"number"==typeof h.testCentroids||(m="object"===ln(h.testCentroids)?h.testCentroids:Iu(l,h.k)):m=Iu(l,h.k);for(var E=!0,S=0;E&&S<h.maxIterations;){for(var M=0;M<l.length;M++)b[(f=l[M]).id()]=ls(f,m,h.distance,h.attributes,"kMedoids");E=!1;for(var x=0;x<m.length;x++){var R=bo(x,l,b);if(0!==R.length){D[x]=wf(m[x],R,h.attributes);for(var A=0;A<R.length;A++)(y=wf(R[A],R,h.attributes))<D[x]&&(D[x]=y,m[x]=R[A],E=!0);p[x]=a.collection(R)}}S++}return p},fuzzyCMeans:ut,fcm:ut},Ln=Pr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Jr={single:"min",complete:"max"},Jc=function(i,a,l,f,h){for(var b,p=0,m=1/0,y=h.attributes,D=function(U,Y){return wo(h.distance,y.length,function(X){return y[X](U)},function(X){return y[X](Y)},U,Y)},E=0;E<i.length;E++){var S=i[E].key,M=l[S][f[S]];M<m&&(p=S,m=M)}if("threshold"===h.mode&&m>=h.threshold||"dendrogram"===h.mode&&1===i.length)return!1;var A,x=a[p],R=a[f[p]];A="dendrogram"===h.mode?{left:x,right:R,key:x.key}:{value:x.value.concat(R.value),key:x.key},i[x.index]=A,i.splice(R.index,1),a[x.key]=A;for(var N=0;N<i.length;N++){var O=i[N];x.key===O.key?b=1/0:"min"===h.linkage?(b=l[x.key][O.key],l[x.key][O.key]>l[R.key][O.key]&&(b=l[R.key][O.key])):"max"===h.linkage?(b=l[x.key][O.key],l[x.key][O.key]<l[R.key][O.key]&&(b=l[R.key][O.key])):b="mean"===h.linkage?(l[x.key][O.key]*x.size+l[R.key][O.key]*R.size)/(x.size+R.size):"dendrogram"===h.mode?D(O.value,x.value):D(O.value[0],x.value[0]),l[x.key][O.key]=l[O.key][x.key]=b}for(var k=0;k<i.length;k++){var V=i[k].key;if(f[V]===x.key||f[V]===R.key){for(var q=V,Z=0;Z<i.length;Z++){var $=i[Z].key;l[V][$]<l[V][q]&&(q=$)}f[V]=q}i[k].index=k}return x.key=R.key=x.index=R.index=null,!0},ed=function s(i,a,l){i&&(i.value?a.push(i.value):(i.left&&s(i.left,a),i.right&&s(i.right,a)))},Do=function s(i,a){if(!i)return"";if(i.left&&i.right){var l=s(i.left,a),f=s(i.right,a),h=a.add({group:"nodes",data:{id:l+","+f}});return a.add({group:"edges",data:{source:l,target:h.id()}}),a.add({group:"edges",data:{source:f,target:h.id()}}),h.id()}return i.value?i.value.id():void 0},td=function s(i,a,l){if(!i)return[];var f=[],h=[],p=[];return 0===a?(i.left&&ed(i.left,f),i.right&&ed(i.right,h),p=f.concat(h),[l.collection(p)]):1===a?i.value?[l.collection(i.value)]:(i.left&&ed(i.left,f),i.right&&ed(i.right,h),[l.collection(f),l.collection(h)]):i.value?[l.collection(i.value)]:(i.left&&(f=s(i.left,a-1,l)),i.right&&(h=s(i.right,a-1,l)),f.concat(h))},Jh=function(i){for(var a=this.cy(),l=this.nodes(),f=function(i){var a=Ln(i),l=Jr[a.linkage];return null!=l&&(a.linkage=l),a}(i),h=f.attributes,p=function(k,V){return wo(f.distance,h.length,function(q){return h[q](k)},function(q){return h[q](V)},k,V)},m=[],b=[],y=[],D=[],E=0;E<l.length;E++){var S={value:"dendrogram"===f.mode?l[E]:[l[E]],key:E,index:E};m[E]=S,D[E]=S,b[E]=[],y[E]=0}for(var M=0;M<m.length;M++)for(var x=0;x<=M;x++){var R;R="dendrogram"===f.mode?M===x?1/0:p(m[M].value,m[x].value):M===x?1/0:p(m[M].value[0],m[x].value[0]),b[M][x]=R,b[x][M]=R,R<b[M][y[M]]&&(y[M]=x)}for(var A=Jc(m,D,b,y,f);A;)A=Jc(m,D,b,y,f);var N;return"dendrogram"===f.mode?(N=td(m[0],f.dendrogramDepth,a),f.addDendrogram&&Do(m[0],a)):(N=new Array(m.length),m.forEach(function(O,k){O.key=O.index=null,N[k]=a.collection(O.value)})),N},Tu={hierarchicalClustering:Jh,hca:Jh},Vs=Pr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Gn=function(i,a,l,f){var h=function(m,b){return f[b](m)};return-wo(i,f.length,function(p){return h(a,p)},function(p){return h(l,p)},a,l)},kl=function(i,a,l){for(var f=[],h=0;h<i;h++){for(var p=-1,m=-1/0,b=0;b<l.length;b++){var y=l[b];a[h*i+y]>m&&(p=y,m=a[h*i+y])}p>0&&f.push(p)}for(var D=0;D<l.length;D++)f[l[D]]=l[D];return f},Ht=function(i){for(var a=this.cy(),l=this.nodes(),f=function(i){var a=i.damping,l=i.preference;.5<=a&&a<1||$n("Damping must range on [0.5, 1).  Got: ".concat(a));var f=["median","mean","min","max"];return f.some(function(h){return h===l})||ot(l)||$n("Preference must be one of [".concat(f.map(function(h){return"'".concat(h,"'")}).join(", "),"] or a number.  Got: ").concat(l)),Vs(i)}(i),h={},p=0;p<l.length;p++)h[l[p].id()]=p;var m,b,y,D,E,S,U;b=(m=l.length)*m,y=new Array(b);for(var M=0;M<b;M++)y[M]=-1/0;for(var x=0;x<m;x++)for(var R=0;R<m;R++)x!==R&&(y[x*m+R]=Gn(f.distance,l[x],l[R],f.attributes));D=function(i,a){var l;return l="median"===a?function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(l<i.length&&i.splice(l,i.length-l),a>0&&i.splice(0,a)):i=i.slice(a,l);for(var m=0,b=i.length-1;b>=0;b--)p?isFinite(i[b])||(i[b]=-1/0,m++):i.splice(b,1);h&&i.sort(function(S,M){return S-M});var D=i.length,E=Math.floor(D/2);return D%2!=0?i[E+1+m]:(i[E-1+m]+i[E+m])/2}(i):"mean"===a?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=0,h=0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<l;p++){var m=i[p];isFinite(m)&&(f+=m,h++)}return f/h}(i):"min"===a?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<l;h++){var p=i[h];isFinite(p)&&(f=Math.min(p,f))}return f}(i):"max"===a?function(i){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,f=-1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<l;h++){var p=i[h];isFinite(p)&&(f=Math.max(p,f))}return f}(i):a,l}(y,f.preference);for(var A=0;A<m;A++)y[A*m+A]=D;E=new Array(b);for(var N=0;N<b;N++)E[N]=0;S=new Array(b);for(var O=0;O<b;O++)S[O]=0;for(var k=new Array(m),V=new Array(m),q=new Array(m),Z=0;Z<m;Z++)k[Z]=0,V[Z]=0,q[Z]=0;for(var $=new Array(m*f.minIterations),W=0;W<$.length;W++)$[W]=0;for(U=0;U<f.maxIterations;U++){for(var Y=0;Y<m;Y++){for(var X=-1/0,j=-1/0,te=-1,K=0,ue=0;ue<m;ue++)k[ue]=E[Y*m+ue],(K=S[Y*m+ue]+y[Y*m+ue])>=X?(j=X,X=K,te=ue):K>j&&(j=K);for(var ne=0;ne<m;ne++)E[Y*m+ne]=(1-f.damping)*(y[Y*m+ne]-X)+f.damping*k[ne];E[Y*m+te]=(1-f.damping)*(y[Y*m+te]-j)+f.damping*k[te]}for(var re=0;re<m;re++){for(var fe=0,pe=0;pe<m;pe++)k[pe]=S[pe*m+re],V[pe]=Math.max(0,E[pe*m+re]),fe+=V[pe];fe-=V[re],V[re]=E[re*m+re],fe+=V[re];for(var De=0;De<m;De++)S[De*m+re]=(1-f.damping)*Math.min(0,fe-V[De])+f.damping*k[De];S[re*m+re]=(1-f.damping)*(fe-V[re])+f.damping*k[re]}for(var he=0,be=0;be<m;be++){var Ae=S[be*m+be]+E[be*m+be]>0?1:0;$[U%f.minIterations*m+be]=Ae,he+=Ae}if(he>0&&(U>=f.minIterations-1||U==f.maxIterations-1)){for(var Fe=0,Me=0;Me<m;Me++){q[Me]=0;for(var Ie=0;Ie<f.minIterations;Ie++)q[Me]+=$[Ie*m+Me];(0===q[Me]||q[Me]===f.minIterations)&&Fe++}if(Fe===m)break}}for(var de=function(i,a,l){for(var f=[],h=0;h<i;h++)a[h*i+h]+l[h*i+h]>0&&f.push(h);return f}(m,E,S),Re=function(i,a,l){for(var f=kl(i,a,l),h=0;h<l.length;h++){for(var p=[],m=0;m<f.length;m++)f[m]===l[h]&&p.push(m);for(var b=-1,y=-1/0,D=0;D<p.length;D++){for(var E=0,S=0;S<p.length;S++)E+=a[p[S]*i+p[D]];E>y&&(b=D,y=E)}l[h]=p[b]}return kl(i,a,l)}(m,y,de),Le={},Ke=0;Ke<de.length;Ke++)Le[de[Ke]]=[];for(var tt=0;tt<l.length;tt++){var Jt=Re[h[l[tt].id()]];null!=Jt&&Le[Jt].push(l[tt])}for(var at=new Array(de.length),Xe=0;Xe<de.length;Xe++)at[Xe]=a.collection(Le[de[Xe]]);return at},Qi={affinityPropagation:Ht,ap:Ht},bn=Pr({root:void 0,directed:!1}),vr={hierholzer:function(i){if(!Ct(i)){var a=arguments;i={root:a[0],directed:a[1]}}var b,y,D,l=bn(i),f=l.root,h=l.directed,p=this,m=!1;f&&(D=Je(f)?this.filter(f)[0].id():f[0].id());var E={},S={};p.forEach(h?function(O){var k=O.id();if(O.isNode()){var V=O.indegree(!0),q=O.outdegree(!0),Z=V-q,$=q-V;1==Z?b?m=!0:b=k:1==$?y?m=!0:y=k:($>1||Z>1)&&(m=!0),E[k]=[],O.outgoers().forEach(function(W){W.isEdge()&&E[k].push(W.id())})}else S[k]=[void 0,O.target().id()]}:function(O){var k=O.id();O.isNode()?(O.degree(!0)%2&&(b?y?m=!0:y=k:b=k),E[k]=[],O.connectedEdges().forEach(function(q){return E[k].push(q.id())})):S[k]=[O.source().id(),O.target().id()]});var M={found:!1,trail:void 0};if(m)return M;if(y&&b)if(h){if(D&&y!=D)return M;D=y}else{if(D&&y!=D&&b!=D)return M;D||(D=y)}else D||(D=p[0].id());var x=function(k){for(var Z,$,W,V=k,q=[k];E[V].length;)Z=E[V].shift(),$=S[Z][0],V!=(W=S[Z][1])?(E[W]=E[W].filter(function(U){return U!=Z}),V=W):!h&&V!=$&&(E[$]=E[$].filter(function(U){return U!=Z}),V=$),q.unshift(Z),q.unshift(V);return q},R=[],A=[];for(A=x(D);1!=A.length;)0==E[A[0]].length?(R.unshift(p.getElementById(A.shift())),R.unshift(p.getElementById(A.shift()))):A=x(A.shift()).concat(A);for(var N in R.unshift(p.getElementById(A.shift())),E)if(E[N].length)return M;return M.found=!0,M.trail=this.spawn(R,!0),M}},Fr=function(){var i=this,a={},l=0,f=0,h=[],p=[],m={},y=function E(S,M,x){S===x&&(f+=1),a[M]={id:l,low:l++,cutVertex:!1};var A,N,O,k,R=i.getElementById(M).connectedEdges().intersection(i);0===R.size()?h.push(i.spawn(i.getElementById(M))):R.forEach(function(V){A=V.source().id(),N=V.target().id(),(O=A===M?N:A)!==x&&(k=V.id(),m[k]||(m[k]=!0,p.push({x:M,y:O,edge:V})),O in a?a[M].low=Math.min(a[M].low,a[O].id):(E(S,O,M),a[M].low=Math.min(a[M].low,a[O].low),a[M].id<=a[O].low&&(a[M].cutVertex=!0,function(S,M){for(var x=p.length-1,R=[],A=i.spawn();p[x].x!=S||p[x].y!=M;)R.push(p.pop().edge),x--;R.push(p.pop().edge),R.forEach(function(N){var O=N.connectedNodes().intersection(i);A.merge(N),O.forEach(function(k){var V=k.id(),q=k.connectedEdges().intersection(i);A.merge(k),A.merge(a[V].cutVertex?q.filter(function(Z){return Z.isLoop()}):q)})}),h.push(A)}(M,O))))})};i.forEach(function(E){if(E.isNode()){var S=E.id();S in a||(f=0,y(S,S),a[S].cutVertex=f>1)}});var D=Object.keys(a).filter(function(E){return a[E].cutVertex}).map(function(E){return i.getElementById(E)});return{cut:i.spawn(D),components:h}},ei=function(){var i=this,a={},l=0,f=[],h=[],p=i.spawn(i),m=function b(y){if(h.push(y),a[y]={index:l,low:l++,explored:!1},i.getElementById(y).connectedEdges().intersection(i).forEach(function(R){var A=R.target().id();A!==y&&(A in a||b(A),a[A].explored||(a[y].low=Math.min(a[y].low,a[A].low)))}),a[y].index===a[y].low){for(var E=i.spawn();;){var S=h.pop();if(E.merge(i.getElementById(S)),a[S].low=a[y].index,a[S].explored=!0,S===y)break}var M=E.edgesWith(E),x=E.merge(M);f.push(x),p=p.difference(x)}};return i.forEach(function(b){if(b.isNode()){var y=b.id();y in a||m(y)}}),{cut:p,components:f}},rd={};[bu,Bt,hf,po,$h,Cu,Zn,Gg,ma,Ha,Pl,qg,Xt,Tu,Qi,vr,{hopcroftTarjanBiconnected:Fr,htbc:Fr,htb:Fr,hopcroftTarjanBiconnectedComponents:Fr},{tarjanStronglyConnected:ei,tsc:ei,tscc:ei,tarjanStronglyConnectedComponents:ei}].forEach(function(s){It(rd,s)});var En=function s(i){if(!(this instanceof s))return new s(i);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof i&&i.call(this,this.fulfill.bind(this),this.reject.bind(this))};En.prototype={fulfill:function(i){return ct(this,1,"fulfillValue",i)},reject:function(i){return ct(this,2,"rejectReason",i)},then:function(i,a){var l=this,f=new En;return l.onFulfilled.push(Lo(i,f,"fulfill")),l.onRejected.push(Lo(a,f,"reject")),Qt(l),f.proxy}};var ct=function(i,a,l,f){return 0===i.state&&(i.state=a,i[l]=f,Qt(i)),i},Qt=function(i){1===i.state?lr(i,"onFulfilled",i.fulfillValue):2===i.state&&lr(i,"onRejected",i.rejectReason)},lr=function(i,a,l){if(0!==i[a].length){var f=i[a];i[a]=[];var h=function(){for(var m=0;m<f.length;m++)f[m](l)};"function"==typeof setImmediate?setImmediate(h):setTimeout(h,0)}},Lo=function(i,a,l){return function(f){if("function"!=typeof i)a[l].call(a,f);else{var h;try{h=i(f)}catch(p){return void a.reject(p)}ds(a,h)}}},ds=function s(i,a){if(i!==a&&i.proxy!==a){var l;if("object"===ln(a)&&null!==a||"function"==typeof a)try{l=a.then}catch(h){return void i.reject(h)}if("function"!=typeof l)i.fulfill(a);else{var f=!1;try{l.call(a,function(h){f||(f=!0,h===a?i.reject(new TypeError("circular thenable chain")):s(i,h))},function(h){f||(f=!0,i.reject(h))})}catch(h){f||i.reject(h)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};En.all=function(s){return new En(function(i,a){for(var l=new Array(s.length),f=0,h=function(b,y){l[b]=y,++f===s.length&&i(l)},p=0;p<s.length;p++)!function(m){var b=s[m];null!=b&&null!=b.then?b.then(function(E){h(m,E)},function(E){a(E)}):h(m,b)}(p)})},En.resolve=function(s){return new En(function(i,a){i(s)})},En.reject=function(s){return new En(function(i,a){a(s)})};var mr=typeof Promise<"u"?Promise:En,Ca=function(i,a,l){var f=ir(i),h=!f,p=this._private=It({duration:1e3},a,l);if(p.target=i,p.style=p.style||p.css,p.started=!1,p.playing=!1,p.hooked=!1,p.applying=!1,p.progress=0,p.completes=[],p.frames=[],p.complete&&Fn(p.complete)&&p.completes.push(p.complete),h){var m=i.position();p.startPosition=p.startPosition||{x:m.x,y:m.y},p.startStyle=p.startStyle||i.cy().style().getAnimationStartStyle(i,p.style)}if(f){var b=i.pan();p.startPan={x:b.x,y:b.y},p.startZoom=i.zoom()}this.length=1,this[0]=this},Jn=Ca.prototype;It(Jn,{instanceString:function(){return"animation"},hook:function(){var i=this._private;if(!i.hooked){var l=i.target._private.animation;(i.queue?l.queue:l.current).push(this),Dr(i.target)&&i.target.cy().addToAnimationPool(i.target),i.hooked=!0}return this},play:function(){var i=this._private;return 1===i.progress&&(i.progress=0),i.playing=!0,i.started=!1,i.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var i=this._private;return i.applying=!0,i.started=!1,i.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var i=this._private;return i.playing=!1,i.started=!1,this},stop:function(){var i=this._private;return i.playing=!1,i.started=!1,i.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(i){var a=this._private;return void 0===i?a.progress*a.duration:this.progress(i/a.duration)},progress:function(i){var a=this._private,l=a.playing;return void 0===i?a.progress:(l&&this.pause(),a.progress=i,a.started=!1,l&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var i=this._private,a=i.playing;a&&this.pause(),i.progress=1-i.progress,i.started=!1;var l=function(y,D){var E=i[y];null!=E&&(i[y]=i[D],i[D]=E)};if(l("zoom","startZoom"),l("pan","startPan"),l("position","startPosition"),i.style)for(var f=0;f<i.style.length;f++){var h=i.style[f],p=h.name,m=i.startStyle[p];i.startStyle[p]=h,i.style[f]=m}return a&&this.play(),this},promise:function(i){var l,a=this._private;return l="frame"===i?a.frames:a.completes,new mr(function(f,h){l.push(function(){f()})})}}),Jn.complete=Jn.completed,Jn.run=Jn.play,Jn.running=Jn.playing;var Ru={data:function(i){return i=It({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,h){},onSet:function(f){},canSet:function(f){return!0}},i),function(f,h){var p=i,m=this,b=void 0!==m.length,y=b?m:[m],D=b?m[0]:m;if(Je(f)){var M,S=-1!==f.indexOf(".")&&kn.default(f);if(p.allowGetting&&void 0===h)return D&&(p.beforeGet(D),M=S&&void 0===D._private[p.field][f]?wt.default(D._private[p.field],S):D._private[p.field][f]),M;if(p.allowSetting&&void 0!==h&&!p.immutableKeys[f]){var R=In({},f,h);p.beforeSet(m,R);for(var A=0,N=y.length;A<N;A++){var O=y[A];p.canSet(O)&&(S&&void 0===D._private[p.field][f]?bt.default(O._private[p.field],S,h):O._private[p.field][f]=h)}p.updateStyle&&m.updateStyle(),p.onSet(m),p.settingTriggersEvent&&m[p.triggerFnName](p.settingEvent)}}else if(p.allowSetting&&Ct(f)){var V,q,k=f,Z=Object.keys(k);p.beforeSet(m,k);for(var $=0;$<Z.length;$++)if(q=k[V=Z[$]],!p.immutableKeys[V])for(var U=0;U<y.length;U++){var Y=y[U];p.canSet(Y)&&(Y._private[p.field][V]=q)}p.updateStyle&&m.updateStyle(),p.onSet(m),p.settingTriggersEvent&&m[p.triggerFnName](p.settingEvent)}else if(p.allowBinding&&Fn(f))m.on(p.bindingEvent,f);else if(p.allowGetting&&void 0===f){var j;return D&&(p.beforeGet(D),j=D._private[p.field]),j}return m}},removeData:function(i){return i=It({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},i),function(f){var h=i,p=this,b=void 0!==p.length?p:[p];if(Je(f)){for(var y=f.split(/\s+/),D=y.length,E=0;E<D;E++){var S=y[E];if(!en(S)&&!h.immutableKeys[S])for(var x=0,R=b.length;x<R;x++)b[x]._private[h.field][S]=void 0}h.triggerEvent&&p[h.triggerFnName](h.event)}else if(void 0===f){for(var A=0,N=b.length;A<N;A++)for(var O=b[A]._private[h.field],k=Object.keys(O),V=0;V<k.length;V++){var q=k[V];!h.immutableKeys[q]&&(O[q]=void 0)}h.triggerEvent&&p[h.triggerFnName](h.event)}return p}}},Kt={eventAliasesOn:function(i){var a=i;a.addListener=a.listen=a.bind=a.on,a.unlisten=a.unbind=a.off=a.removeListener,a.trigger=a.emit,a.pon=a.promiseOn=function(l,f){var h=this,p=Array.prototype.slice.call(arguments,0);return new mr(function(m,b){var D=p.concat([function(M){h.off.apply(h,E),m(M)}]),E=D.concat([]);h.on.apply(h,D)})}}},Ot={};[{animated:function(){return function(){var a=this,f=void 0!==a.length?a:[a];if(!(this._private.cy||this).styleEnabled())return!1;var p=f[0];return p?p._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var a=this,f=void 0!==a.length?a:[a];if(!(this._private.cy||this).styleEnabled())return this;for(var p=0;p<f.length;p++)f[p]._private.animation.queue=[];return this}},delay:function(){return function(a,l){return(this._private.cy||this).styleEnabled()?this.animate({delay:a,duration:a,complete:l}):this}},delayAnimation:function(){return function(a,l){return(this._private.cy||this).styleEnabled()?this.animation({delay:a,duration:a,complete:l}):this}},animation:function(){return function(a,l){var f=this,h=void 0!==f.length,p=h?f:[f],m=this._private.cy||this,b=!h,y=!b;if(!m.styleEnabled())return this;var D=m.style();if(a=It({},a,l),0===Object.keys(a).length)return new Ca(p[0],a);switch(void 0===a.duration&&(a.duration=400),a.duration){case"slow":a.duration=600;break;case"fast":a.duration=200}if(y&&(a.style=D.getPropsList(a.style||a.css),a.css=void 0),y&&null!=a.renderedPosition){var S=a.renderedPosition,M=m.pan(),x=m.zoom();a.position=xl(S,x,M)}if(b&&null!=a.panBy){var R=a.panBy,A=m.pan();a.pan={x:A.x+R.x,y:A.y+R.y}}var N=a.center||a.centre;if(b&&null!=N){var O=m.getCenterPan(N.eles,a.zoom);null!=O&&(a.pan=O)}if(b&&null!=a.fit){var k=a.fit,V=m.getFitViewport(k.eles||k.boundingBox,k.padding);null!=V&&(a.pan=V.pan,a.zoom=V.zoom)}if(b&&Ct(a.zoom)){var q=m.getZoomedViewport(a.zoom);null!=q?(q.zoomed&&(a.zoom=q.zoom),q.panned&&(a.pan=q.pan)):a.zoom=null}return new Ca(p[0],a)}},animate:function(){return function(a,l){var f=this,p=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;l&&(a=It({},a,l));for(var b=0;b<p.length;b++){var y=p[b],D=y.animated()&&(void 0===a.queue||a.queue);y.animation(a,D?{queue:!0}:void 0).play()}return this}},stop:function(){return function(a,l){var f=this,p=void 0!==f.length?f:[f],m=this._private.cy||this;if(!m.styleEnabled())return this;for(var b=0;b<p.length;b++){for(var D=p[b]._private,E=D.animation.current,S=0;S<E.length;S++)l&&(E[S]._private.duration=0);a&&(D.animation.queue=[]),l||(D.animation.current=[])}return m.notify("draw"),this}}},Ru,Kt].forEach(function(s){It(Ot,s)});var Di={animate:Ot.animate(),animation:Ot.animation(),animated:Ot.animated(),clearQueue:Ot.clearQueue(),delay:Ot.delay(),delayAnimation:Ot.delayAnimation(),stop:Ot.stop()},za={classes:function(i){var a=this;if(void 0===i){var l=[];return a[0]._private.classes.forEach(function(x){return l.push(x)}),l}_n(i)||(i=(i||"").match(/\S+/g)||[]);for(var f=[],h=new wu(i),p=0;p<a.length;p++){for(var m=a[p],b=m._private,y=b.classes,D=!1,E=0;E<i.length;E++)if(!y.has(i[E])){D=!0;break}D||(D=y.size!==i.length),D&&(b.classes=h,f.push(m))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),a},addClass:function(i){return this.toggleClass(i,!0)},hasClass:function(i){var a=this[0];return null!=a&&a._private.classes.has(i)},toggleClass:function(i,a){_n(i)||(i=i.match(/\S+/g)||[]);for(var l=this,f=void 0===a,h=[],p=0,m=l.length;p<m;p++)for(var b=l[p],y=b._private.classes,D=!1,E=0;E<i.length;E++){var S=i[E],M=y.has(S),x=!1;a||f&&!M?(y.add(S),x=!0):(!a||f&&M)&&(y.delete(S),x=!0),!D&&x&&(h.push(b),D=!0)}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},removeClass:function(i){return this.toggleClass(i,!1)},flashClass:function(i,a){var l=this;if(null==a)a=250;else if(0===a)return l;return l.addClass(i),setTimeout(function(){l.removeClass(i)},a),l}};za.className=za.classNames=za.classes;var Rt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Kr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Rt.variable="(?:[\\w-.]|(?:\\\\"+Rt.metaChar+"))+",Rt.className="(?:[\\w-]|(?:\\\\"+Rt.metaChar+"))+",Rt.value=Rt.string+"|"+Rt.number,Rt.id=Rt.variable,function(){var s,i,a;for(s=Rt.comparatorOp.split("|"),a=0;a<s.length;a++)Rt.comparatorOp+="|@"+(i=s[a]);for(s=Rt.comparatorOp.split("|"),a=0;a<s.length;a++)!((i=s[a]).indexOf("!")>=0)&&"="!==i&&(Rt.comparatorOp+="|\\!"+i)}();var Ji=[{selector:":selected",matches:function(i){return i.selected()}},{selector:":unselected",matches:function(i){return!i.selected()}},{selector:":selectable",matches:function(i){return i.selectable()}},{selector:":unselectable",matches:function(i){return!i.selectable()}},{selector:":locked",matches:function(i){return i.locked()}},{selector:":unlocked",matches:function(i){return!i.locked()}},{selector:":visible",matches:function(i){return i.visible()}},{selector:":hidden",matches:function(i){return!i.visible()}},{selector:":transparent",matches:function(i){return i.transparent()}},{selector:":grabbed",matches:function(i){return i.grabbed()}},{selector:":free",matches:function(i){return!i.grabbed()}},{selector:":removed",matches:function(i){return i.removed()}},{selector:":inside",matches:function(i){return!i.removed()}},{selector:":grabbable",matches:function(i){return i.grabbable()}},{selector:":ungrabbable",matches:function(i){return!i.grabbable()}},{selector:":animated",matches:function(i){return i.animated()}},{selector:":unanimated",matches:function(i){return!i.animated()}},{selector:":parent",matches:function(i){return i.isParent()}},{selector:":childless",matches:function(i){return i.isChildless()}},{selector:":child",matches:function(i){return i.isChild()}},{selector:":orphan",matches:function(i){return i.isOrphan()}},{selector:":nonorphan",matches:function(i){return i.isChild()}},{selector:":compound",matches:function(i){return i.isNode()?i.isParent():i.source().isParent()||i.target().isParent()}},{selector:":loop",matches:function(i){return i.isLoop()}},{selector:":simple",matches:function(i){return i.isSimple()}},{selector:":active",matches:function(i){return i.active()}},{selector:":inactive",matches:function(i){return!i.active()}},{selector:":backgrounding",matches:function(i){return i.backgrounding()}},{selector:":nonbackgrounding",matches:function(i){return!i.backgrounding()}}].sort(function(s,i){return function(i,a){return-1*Ps(i,a)}(s.selector,i.selector)}),ja=function(){for(var i,s={},a=0;a<Ji.length;a++)s[(i=Ji[a]).selector]=i.matches;return s}(),Co="("+Ji.map(function(s){return s.selector}).join("|")+")",ui=function(i){return i.replace(new RegExp("\\\\("+Rt.metaChar+")","g"),function(a,l){return l})},Pi=function(i,a,l){i[i.length-1]=l},Ea=[{name:"group",query:!0,regex:"("+Rt.group+")",populate:function(i,a,l){var h=cn(l,1)[0];a.checks.push({type:0,value:"*"===h?h:h+"s"})}},{name:"state",query:!0,regex:Co,populate:function(i,a,l){var f=cn(l,1);a.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+Rt.id+")",populate:function(i,a,l){var f=cn(l,1);a.checks.push({type:8,value:ui(f[0])})}},{name:"className",query:!0,regex:"\\.("+Rt.className+")",populate:function(i,a,l){var f=cn(l,1);a.checks.push({type:9,value:ui(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Rt.variable+")\\s*\\]",populate:function(i,a,l){var f=cn(l,1);a.checks.push({type:4,field:ui(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Rt.variable+")\\s*("+Rt.comparatorOp+")\\s*("+Rt.value+")\\s*\\]",populate:function(i,a,l){var f=cn(l,3),h=f[0],p=f[1],m=f[2];m=null!=new RegExp("^"+Rt.string+"$").exec(m)?m.substring(1,m.length-1):parseFloat(m),a.checks.push({type:3,field:ui(h),operator:p,value:m})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Rt.boolOp+")\\s*("+Rt.variable+")\\s*\\]",populate:function(i,a,l){var f=cn(l,2),h=f[0];a.checks.push({type:5,field:ui(f[1]),operator:h})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Rt.meta+")\\s*("+Rt.comparatorOp+")\\s*("+Rt.number+")\\s*\\]\\]",populate:function(i,a,l){var f=cn(l,3),p=f[1],m=f[2];a.checks.push({type:6,field:ui(f[0]),operator:p,value:parseFloat(m)})}},{name:"nextQuery",separator:!0,regex:Rt.separator,populate:function(i,a){var l=i.currentSubject,f=i.edgeCount,h=i.compoundCount,p=i[i.length-1];return null!=l&&(p.subject=l,i.currentSubject=null),p.edgeCount=f,p.compoundCount=h,i.edgeCount=0,i.compoundCount=0,i[i.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Rt.directedEdge,populate:function(i,a){if(null==i.currentSubject){var l={checks:[]},h={checks:[]};return l.checks.push({type:11,source:a,target:h}),Pi(i,0,l),i.edgeCount++,h}var p={checks:[]},b={checks:[]};return p.checks.push({type:12,source:a,target:b}),Pi(i,0,p),i.edgeCount++,b}},{name:"undirectedEdge",separator:!0,regex:Rt.undirectedEdge,populate:function(i,a){if(null==i.currentSubject){var l={checks:[]},h={checks:[]};return l.checks.push({type:10,nodes:[a,h]}),Pi(i,0,l),i.edgeCount++,h}var p={checks:[]},b={checks:[]};return p.checks.push({type:14,node:a,neighbor:b}),Pi(i,0,p),b}},{name:"child",separator:!0,regex:Rt.child,populate:function(i,a){if(null==i.currentSubject){var l={checks:[]},f={checks:[]};return l.checks.push({type:15,parent:i[i.length-1],child:f}),Pi(i,0,l),i.compoundCount++,f}if(i.currentSubject===a){var p={checks:[]},b={checks:[]},y={checks:[]},D={checks:[]},E={checks:[]};return p.checks.push({type:19,left:i[i.length-1],right:b,subject:y}),y.checks=a.checks,a.checks=[{type:20}],E.checks.push({type:20}),b.checks.push({type:17,parent:E,child:D}),Pi(i,0,p),i.currentSubject=y,i.compoundCount++,D}var S={checks:[]},M={checks:[]},x=[{type:17,parent:S,child:M}];return S.checks=a.checks,a.checks=x,i.compoundCount++,M}},{name:"descendant",separator:!0,regex:Rt.descendant,populate:function(i,a){if(null==i.currentSubject){var l={checks:[]},f={checks:[]};return l.checks.push({type:16,ancestor:i[i.length-1],descendant:f}),Pi(i,0,l),i.compoundCount++,f}if(i.currentSubject===a){var p={checks:[]},b={checks:[]},y={checks:[]},D={checks:[]},E={checks:[]};return p.checks.push({type:19,left:i[i.length-1],right:b,subject:y}),y.checks=a.checks,a.checks=[{type:20}],E.checks.push({type:20}),b.checks.push({type:18,ancestor:E,descendant:D}),Pi(i,0,p),i.currentSubject=y,i.compoundCount++,D}var S={checks:[]},M={checks:[]},x=[{type:18,ancestor:S,descendant:M}];return S.checks=a.checks,a.checks=x,i.compoundCount++,M}},{name:"subject",modifier:!0,regex:Rt.subject,populate:function(i,a){if(null!=i.currentSubject&&i.currentSubject!==a)return Gt("Redefinition of subject in selector `"+i.toString()+"`"),!1;i.currentSubject=a;var f=i[i.length-1].checks[0],h=null==f?null:f.type;11===h?f.type=13:10===h&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];Ea.forEach(function(s){return s.regexObj=new RegExp("^"+s.regex)});var nn=function(i){for(var a,l,f,h=0;h<Ea.length;h++){var p=Ea[h],m=p.name,b=i.match(p.regexObj);if(null!=b){l=b,a=p,f=m,i=i.substring(b[0].length);break}}return{expr:a,match:l,name:f,remaining:i}},_a={parse:function(i){var a=this,l=a.inputText=i,f=a[0]={checks:[]};for(a.length=1,l=function(i){var a=i.match(/^\s+/);return a&&(i=i.substring(a[0].length)),i}(l);;){var h=nn(l);if(null==h.expr)return Gt("The selector `"+i+"`is invalid"),!1;var p=h.match.slice(1),m=h.expr.populate(a,f,p);if(!1===m)return!1;if(null!=m&&(f=m),(l=h.remaining).match(/^\s*$/))break}var b=a[a.length-1];null!=a.currentSubject&&(b.subject=a.currentSubject),b.edgeCount=a.edgeCount,b.compoundCount=a.compoundCount;for(var y=0;y<a.length;y++){var D=a[y];if(D.compoundCount>0&&D.edgeCount>0)return Gt("The selector `"+i+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(D.edgeCount>1)return Gt("The selector `"+i+"` is invalid because it uses multiple edge selectors"),!1;1===D.edgeCount&&Gt("The selector `"+i+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var i=function(D){return D??""},a=function(D){return Je(D)?'"'+D+'"':i(D)},l=function(D){return" "+D+" "},h=function(D,E){return D.checks.reduce(function(S,M,x){return S+(E===D&&0===x?"$":"")+function(D,E){var M=D.value;switch(D.type){case 0:var x=i(M);return x.substring(0,x.length-1);case 3:return"["+D.field+l(i(D.operator))+a(M)+"]";case 5:var O=D.field;return"["+i(D.operator)+O+"]";case 4:return"["+D.field+"]";case 6:return"[["+D.field+l(i(D.operator))+a(M)+"]]";case 7:return M;case 8:return"#"+M;case 9:return"."+M;case 17:case 15:return h(D.parent,E)+l(">")+h(D.child,E);case 18:case 16:return h(D.ancestor,E)+" "+h(D.descendant,E);case 19:var Z=h(D.left,E),$=h(D.subject,E),W=h(D.right,E);return Z+(Z.length>0?" ":"")+$+W;case 20:return""}}(M,E)},"")},p="",m=0;m<this.length;m++){var b=this[m];p+=h(b,b.subject),this.length>1&&m<this.length-1&&(p+=", ")}return this.toStringCache=p,p}},Fl=function(i,a,l){var f,b,y,h=Je(i),p=ot(i),m=Je(l),D=!1,E=!1,S=!1;switch(a.indexOf("!")>=0&&(a=a.replace("!",""),E=!0),a.indexOf("@")>=0&&(a=a.replace("@",""),D=!0),(h||m||D)&&(b=h||p?""+i:"",y=""+l),D&&(i=b=b.toLowerCase(),l=y=y.toLowerCase()),a){case"*=":f=b.indexOf(y)>=0;break;case"$=":f=b.indexOf(y,b.length-y.length)>=0;break;case"^=":f=0===b.indexOf(y);break;case"=":f=i===l;break;case">":S=!0,f=i>l;break;case">=":S=!0,f=i>=l;break;case"<":S=!0,f=i<l;break;case"<=":S=!0,f=i<=l;break;default:f=!1}return E&&(null!=i||!S)&&(f=!f),f},Br=function(i,a){return i.data(a)},dn=[],rn=function(i,a){return i.checks.every(function(l){return dn[l.type](l,a)})};dn[0]=function(s,i){var a=s.value;return"*"===a||a===i.group()},dn[7]=function(s,i){return function(i,a){return ja[i](a)}(s.value,i)},dn[8]=function(s,i){var a=s.value;return i.id()===a},dn[9]=function(s,i){return i.hasClass(s.value)},dn[6]=function(s,i){var l=s.operator,f=s.value;return Fl(function(i,a){return i[a]()}(i,s.field),l,f)},dn[3]=function(s,i){var l=s.operator,f=s.value;return Fl(Br(i,s.field),l,f)},dn[5]=function(s,i){var l=s.operator;return function(i,a){switch(a){case"?":return!!i;case"!":return!i;case"^":return void 0===i}}(Br(i,s.field),l)},dn[4]=function(s,i){return function(i){return void 0!==i}(Br(i,s.field))},dn[10]=function(s,i){var a=s.nodes[0],l=s.nodes[1],f=i.source(),h=i.target();return rn(a,f)&&rn(l,h)||rn(l,f)&&rn(a,h)},dn[14]=function(s,i){return rn(s.node,i)&&i.neighborhood().some(function(a){return a.isNode()&&rn(s.neighbor,a)})},dn[11]=function(s,i){return rn(s.source,i.source())&&rn(s.target,i.target())},dn[12]=function(s,i){return rn(s.source,i)&&i.outgoers().some(function(a){return a.isNode()&&rn(s.target,a)})},dn[13]=function(s,i){return rn(s.target,i)&&i.incomers().some(function(a){return a.isNode()&&rn(s.source,a)})},dn[15]=function(s,i){return rn(s.child,i)&&rn(s.parent,i.parent())},dn[17]=function(s,i){return rn(s.parent,i)&&i.children().some(function(a){return rn(s.child,a)})},dn[16]=function(s,i){return rn(s.descendant,i)&&i.ancestors().some(function(a){return rn(s.ancestor,a)})},dn[18]=function(s,i){return rn(s.ancestor,i)&&i.descendants().some(function(a){return rn(s.descendant,a)})},dn[19]=function(s,i){return rn(s.subject,i)&&rn(s.left,i)&&rn(s.right,i)},dn[20]=function(){return!0},dn[1]=function(s,i){return s.value.has(i)},dn[2]=function(s,i){return(0,s.value)(i)};var od={matches:function(i){for(var l=0;l<this.length;l++)if(rn(this[l],i))return!0;return!1},filter:function(i){var a=this;if(1===a.length&&1===a[0].checks.length&&8===a[0].checks[0].type)return i.getElementById(a[0].checks[0].value).collection();var l=function(h){for(var p=0;p<a.length;p++)if(rn(a[p],h))return!0;return!1};return null==a.text()&&(l=function(){return!0}),i.filter(l)}},li=function(i){this.inputText=i,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==i||Je(i)&&i.match(/^\s*$/)||(Dr(i)?this.addQuery({checks:[{type:1,value:i.collection()}]}):Fn(i)?this.addQuery({checks:[{type:2,value:i}]}):Je(i)?this.parse(i)||(this.invalid=!0):$n("A selector must be created from a string; found "))},Sa=li.prototype;[_a,od].forEach(function(s){return It(Sa,s)}),Sa.text=function(){return this.inputText},Sa.size=function(){return this.length},Sa.eq=function(s){return this[s]},Sa.sameText=function(s){return!this.invalid&&!s.invalid&&this.text()===s.text()},Sa.addQuery=function(s){this[this.length++]=s},Sa.selector=Sa.toString;var to={allAre:function(i){var a=new li(i);return this.every(function(l){return a.matches(l)})},is:function(i){var a=new li(i);return this.some(function(l){return a.matches(l)})},some:function(i,a){for(var l=0;l<this.length;l++)if(a?i.apply(a,[this[l],l,this]):i(this[l],l,this))return!0;return!1},every:function(i,a){for(var l=0;l<this.length;l++)if(!(a?i.apply(a,[this[l],l,this]):i(this[l],l,this)))return!1;return!0},same:function(i){if(this===i)return!0;i=this.cy().collection(i);var a=this.length;return a===i.length&&(1===a?this[0]===i[0]:this.every(function(f){return i.hasElementWithId(f.id())}))},anySame:function(i){return i=this.cy().collection(i),this.some(function(a){return i.hasElementWithId(a.id())})},allAreNeighbors:function(i){i=this.cy().collection(i);var a=this.neighborhood();return i.every(function(l){return a.hasElementWithId(l.id())})},contains:function(i){i=this.cy().collection(i);var a=this;return i.every(function(l){return a.hasElementWithId(l.id())})}};to.allAreNeighbours=to.allAreNeighbors,to.has=to.contains,to.equal=to.equals=to.same;var ad,Yg,Bo=function(i,a){return function(f,h,p,m){var D,b=f,y=this;if(null==b?D="":Dr(b)&&1===b.length&&(D=b.id()),1===y.length&&D){var E=y[0]._private,S=E.traversalCache=E.traversalCache||{},M=S[a]=S[a]||[],x=ga(D);return M[x]||(M[x]=i.call(y,f,h,p,m))}return i.call(y,f,h,p,m)}},Ll={parent:function(i){var a=[];if(1===this.length){var l=this[0]._private.parent;if(l)return l}for(var f=0;f<this.length;f++){var p=this[f]._private.parent;p&&a.push(p)}return this.spawn(a,!0).filter(i)},parents:function(i){for(var a=[],l=this.parent();l.nonempty();){for(var f=0;f<l.length;f++)a.push(l[f]);l=l.parent()}return this.spawn(a,!0).filter(i)},commonAncestors:function(i){for(var a,l=0;l<this.length;l++){var h=this[l].parents();a=(a=a||h).intersect(h)}return a.filter(i)},orphans:function(i){return this.stdFilter(function(a){return a.isOrphan()}).filter(i)},nonorphans:function(i){return this.stdFilter(function(a){return a.isChild()}).filter(i)},children:Bo(function(s){for(var i=[],a=0;a<this.length;a++)for(var f=this[a]._private.children,h=0;h<f.length;h++)i.push(f[h]);return this.spawn(i,!0).filter(s)},"children"),siblings:function(i){return this.parent().children().not(this).filter(i)},isParent:function(){var i=this[0];if(i)return i.isNode()&&0!==i._private.children.length},isChildless:function(){var i=this[0];if(i)return i.isNode()&&0===i._private.children.length},isChild:function(){var i=this[0];if(i)return i.isNode()&&null!=i._private.parent},isOrphan:function(){var i=this[0];if(i)return i.isNode()&&null==i._private.parent},descendants:function(i){var a=[];return function l(f){for(var h=0;h<f.length;h++){var p=f[h];a.push(p),p.children().nonempty()&&l(p.children())}}(this.children()),this.spawn(a,!0).filter(i)}};function Ef(s,i,a,l){for(var f=[],h=new wu,m=s.cy().hasCompoundNodes(),b=0;b<s.length;b++){var y=s[b];a?f.push(y):m&&l(f,h,y)}for(;f.length>0;){var D=f.shift();i(D),h.add(D.id()),m&&l(f,h,D)}return s}function np(s,i,a){if(a.isParent())for(var l=a._private.children,f=0;f<l.length;f++){var h=l[f];i.has(h.id())||s.push(h)}}function Kg(s,i,a){if(a.isChild()){var l=a._private.parent;i.has(l.id())||s.push(l)}}function fs(s,i,a){Kg(s,i,a),np(s,i,a)}Ll.forEachDown=function(s){return Ef(this,s,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],np)},Ll.forEachUp=function(s){return Ef(this,s,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Kg)},Ll.forEachUpAndDown=function(s){return Ef(this,s,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fs)},Ll.ancestors=Ll.parents,ad=Yg={data:Ot.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ot.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ot.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ot.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ot.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ot.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var i=this[0];if(i)return i._private.data.id}},ad.attr=ad.data,ad.removeAttr=ad.removeData;var Ym=Yg,_f={};function rp(s){return function(i){var a=this;if(void 0===i&&(i=!0),0===a.length);else if(a.isNode()&&!a.removed()){for(var l=0,f=a[0],h=f._private.edges,p=0;p<h.length;p++){var m=h[p];!i&&m.isLoop()||(l+=s(f,m))}return l}}}function Eo(s,i){return function(a){for(var l,f=this.nodes(),h=0;h<f.length;h++){var m=f[h][s](a);void 0!==m&&(void 0===l||i(m,l))&&(l=m)}return l}}It(_f,{degree:rp(function(s,i){return i.source().same(i.target())?2:1}),indegree:rp(function(s,i){return i.target().same(s)?1:0}),outdegree:rp(function(s,i){return i.source().same(s)?1:0})}),It(_f,{minDegree:Eo("degree",function(s,i){return s<i}),maxDegree:Eo("degree",function(s,i){return s>i}),minIndegree:Eo("indegree",function(s,i){return s<i}),maxIndegree:Eo("indegree",function(s,i){return s>i}),minOutdegree:Eo("outdegree",function(s,i){return s<i}),maxOutdegree:Eo("outdegree",function(s,i){return s>i})}),It(_f,{totalDegree:function(i){for(var a=0,l=this.nodes(),f=0;f<l.length;f++)a+=l[f].degree(i);return a}});var xa,Xg,Qg=function(i,a,l){for(var f=0;f<i.length;f++){var h=i[f];if(!h.locked()){var p=h._private.position,m={x:null!=a.x?a.x-p.x:0,y:null!=a.y?a.y-p.y:0};h.isParent()&&!(0===m.x&&0===m.y)&&h.children().shift(m,l),h.dirtyBoundingBoxCache()}}},Jg={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(i){i.updateCompoundBounds()},beforeSet:function(i,a){Qg(i,a,!1)},onSet:function(i){i.dirtyCompoundBoundsCache()},canSet:function(i){return!i.locked()}};xa=Xg={position:Ot.data(Jg),silentPosition:Ot.data(It({},Jg,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(i,a){Qg(i,a,!0)},onSet:function(i){i.dirtyCompoundBoundsCache()}})),positions:function(i,a){if(Ct(i))a?this.silentPosition(i):this.position(i);else if(Fn(i)){var l=i,f=this.cy();f.startBatch();for(var h=0;h<this.length;h++){var m,p=this[h];(m=l(p,h))&&(a?p.silentPosition(m):p.position(m))}f.endBatch()}return this},silentPositions:function(i){return this.positions(i,!0)},shift:function(i,a,l){var f;if(Ct(i)?(f={x:ot(i.x)?i.x:0,y:ot(i.y)?i.y:0},l=a):Je(i)&&ot(a)&&((f={x:0,y:0})[i]=a),null!=f){var h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var m=this[p];if(!(h.hasCompoundNodes()&&m.isChild()&&m.ancestors().anySame(this))){var b=m.position(),y={x:b.x+f.x,y:b.y+f.y};l?m.silentPosition(y):m.position(y)}}h.endBatch()}return this},silentShift:function(i,a){return Ct(i)?this.shift(i,!0):Je(i)&&ot(a)&&this.shift(i,a,!0),this},renderedPosition:function(i,a){var l=this[0],f=this.cy(),h=f.zoom(),p=f.pan(),m=Ct(i)?i:void 0,b=void 0!==m||void 0!==a&&Je(i);if(l&&l.isNode()){if(!b){var E=l.position();return m=ks(E,h,p),void 0===i?m:m[i]}for(var y=0;y<this.length;y++){var D=this[y];void 0!==a?D.position(i,(a-p[i])/h):void 0!==m&&D.position(xl(m,h,p))}}else if(!b)return;return this},relativePosition:function(i,a){var l=this[0],f=this.cy(),h=Ct(i)?i:void 0,p=void 0!==h||void 0!==a&&Je(i),m=f.hasCompoundNodes();if(l&&l.isNode()){if(!p){var x=l.position(),R=m?l.parent():null,A=R&&R.length>0;A&&(R=R[0]);var O=A?R.position():{x:0,y:0};return h={x:x.x-O.x,y:x.y-O.y},void 0===i?h:h[i]}for(var b=0;b<this.length;b++){var y=this[b],D=m?y.parent():null,E=D&&D.length>0;E&&(D=D[0]);var M=E?D.position():{x:0,y:0};void 0!==a?y.position(i,a+M[i]):void 0!==h&&y.position({x:h.x+M.x,y:h.y+M.y})}}else if(!p)return;return this}},xa.modelPosition=xa.point=xa.position,xa.modelPositions=xa.points=xa.positions,xa.renderedPoint=xa.renderedPosition,xa.relativePoint=xa.relativePosition;var _o,Hs,ip=Xg;_o=Hs={},Hs.renderedBoundingBox=function(s){var i=this.boundingBox(s),a=this.cy(),l=a.zoom(),f=a.pan(),h=i.x1*l+f.x,p=i.x2*l+f.x,m=i.y1*l+f.y,b=i.y2*l+f.y;return{x1:h,x2:p,y1:m,y2:b,w:p-h,h:b-m}},Hs.dirtyCompoundBoundsCache=function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();return i.styleEnabled()&&i.hasCompoundNodes()?(this.forEachUp(function(a){if(a.isParent()){var l=a._private;l.compoundBoundsClean=!1,l.bbCache=null,s||a.emitAndNotify("bounds")}}),this):this},Hs.updateCompoundBounds=function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return this;if(!s&&i.batching())return this;function a(p){if(p.isParent()){var m=p._private,b=p.children(),y="include"===p.pstyle("compound-sizing-wrt-labels").value,D={width:{val:p.pstyle("min-width").pfValue,left:p.pstyle("min-width-bias-left"),right:p.pstyle("min-width-bias-right")},height:{val:p.pstyle("min-height").pfValue,top:p.pstyle("min-height-bias-top"),bottom:p.pstyle("min-height-bias-bottom")}},E=b.boundingBox({includeLabels:y,includeOverlays:!1,useCache:!1}),S=m.position;(0===E.w||0===E.h)&&((E={w:p.pstyle("width").pfValue,h:p.pstyle("height").pfValue}).x1=S.x-E.w/2,E.x2=S.x+E.w/2,E.y1=S.y-E.h/2,E.y2=S.y+E.h/2);var R=D.width.left.value;"px"===D.width.left.units&&D.width.val>0&&(R=100*R/D.width.val);var A=D.width.right.value;"px"===D.width.right.units&&D.width.val>0&&(A=100*A/D.width.val);var N=D.height.top.value;"px"===D.height.top.units&&D.height.val>0&&(N=100*N/D.height.val);var O=D.height.bottom.value;"px"===D.height.bottom.units&&D.height.val>0&&(O=100*O/D.height.val);var k=M(D.width.val-E.w,R,A),V=k.biasDiff,q=k.biasComplementDiff,Z=M(D.height.val-E.h,N,O),$=Z.biasDiff,W=Z.biasComplementDiff;m.autoPadding=function x(U,Y,X,j){if("%"!==X.units)return"px"===X.units?X.pfValue:0;switch(j){case"width":return U>0?X.pfValue*U:0;case"height":return Y>0?X.pfValue*Y:0;case"average":return U>0&&Y>0?X.pfValue*(U+Y)/2:0;case"min":return U>0&&Y>0?U>Y?X.pfValue*Y:X.pfValue*U:0;case"max":return U>0&&Y>0?U>Y?X.pfValue*U:X.pfValue*Y:0;default:return 0}}(E.w,E.h,p.pstyle("padding"),p.pstyle("padding-relative-to").value),m.autoWidth=Math.max(E.w,D.width.val),S.x=(-V+E.x1+E.x2+q)/2,m.autoHeight=Math.max(E.h,D.height.val),S.y=(-$+E.y1+E.y2+W)/2}function M(U,Y,X){var j=0,te=0,K=Y+X;return U>0&&K>0&&(j=Y/K*U,te=X/K*U),{biasDiff:j,biasComplementDiff:te}}}for(var l=0;l<this.length;l++){var f=this[l],h=f._private;(!h.compoundBoundsClean||s)&&(a(f),i.batching()||(h.compoundBoundsClean=!0))}return this};var ea=function(i){return i===1/0||i===-1/0?0:i},Vr=function(i,a,l,f,h){f-a==0||h-l==0||null==a||null==l||null==f||null==h||(i.x1=a<i.x1?a:i.x1,i.x2=f>i.x2?f:i.x2,i.y1=l<i.y1?l:i.y1,i.y2=h>i.y2?h:i.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1)},So=function(i,a){return null==a?i:Vr(i,a.x1,a.y1,a.x2,a.y2)},Vo=function(i,a,l){return ho(i,a,l)},Sf=function(i,a,l){if(!a.cy().headless()){var b,y,f=a._private,h=f.rstyle,p=h.arrowWidth/2;if("none"!==a.pstyle(l+"-arrow-shape").value){"source"===l?(b=h.srcX,y=h.srcY):"target"===l?(b=h.tgtX,y=h.tgtY):(b=h.midX,y=h.midY);var D=f.arrowBounds=f.arrowBounds||{},E=D[l]=D[l]||{};E.x1=b-p,E.y1=y-p,E.x2=b+p,E.y2=y+p,E.w=E.x2-E.x1,E.h=E.y2-E.y1,Hc(E,1),Vr(i,E.x1,E.y1,E.x2,E.y2)}}},op=function(i,a,l){if(!a.cy().headless()){var f,h=a._private,p=h.rstyle;if(a.pstyle((f=l?l+"-":"")+"label").strValue){var X,j,te,K,b=a.pstyle("text-halign"),y=a.pstyle("text-valign"),D=Vo(p,"labelWidth",l),E=Vo(p,"labelHeight",l),S=Vo(p,"labelX",l),M=Vo(p,"labelY",l),x=a.pstyle(f+"text-margin-x").pfValue,R=a.pstyle(f+"text-margin-y").pfValue,A=a.isEdge(),N=a.pstyle(f+"text-rotation"),O=a.pstyle("text-outline-width").pfValue,V=a.pstyle("text-border-width").pfValue/2,q=a.pstyle("text-background-padding").pfValue,$=E,W=D,U=W/2,Y=$/2;if(A)X=S-U,j=S+U,te=M-Y,K=M+Y;else{switch(b.value){case"left":X=S-W,j=S;break;case"center":X=S-U,j=S+U;break;case"right":X=S,j=S+W}switch(y.value){case"top":te=M-$,K=M;break;case"center":te=M-Y,K=M+Y;break;case"bottom":te=M,K=M+$}}X+=x-Math.max(O,V)-q-2,j+=x+Math.max(O,V)+q+2,te+=R-Math.max(O,V)-q-2,K+=R+Math.max(O,V)+q+2;var ue=l||"main",ne=h.labelBounds,re=ne[ue]=ne[ue]||{};re.x1=X,re.y1=te,re.x2=j,re.y2=K,re.w=j-X,re.h=K-te;var fe=A&&"autorotate"===N.strValue;if(fe||null!=N.pfValue&&0!==N.pfValue){var De=fe?Vo(h.rstyle,"labelAngle",l):N.pfValue,he=Math.cos(De),be=Math.sin(De),Ae=(X+j)/2,Fe=(te+K)/2;if(!A){switch(b.value){case"left":Ae=j;break;case"right":Ae=X}switch(y.value){case"top":Fe=K;break;case"bottom":Fe=te}}var Me=function(Jt,at){return{x:(Jt-=Ae)*he-(at-=Fe)*be+Ae,y:Jt*be+at*he+Fe}},Ie=Me(X,te),de=Me(X,K),Re=Me(j,te),Le=Me(j,K);X=Math.min(Ie.x,de.x,Re.x,Le.x),j=Math.max(Ie.x,de.x,Re.x,Le.x),te=Math.min(Ie.y,de.y,Re.y,Le.y),K=Math.max(Ie.y,de.y,Re.y,Le.y)}var Ke=ue+"Rot",tt=ne[Ke]=ne[Ke]||{};tt.x1=X,tt.y1=te,tt.x2=j,tt.y2=K,tt.w=j-X,tt.h=K-te,Vr(i,X,te,j,K),Vr(h.labelBounds.all,X,te,j,K)}return i}},Nu=function(i){var a=0,l=function(p){return(p?1:0)<<a++},f=0;return f+=l(i.incudeNodes),f+=l(i.includeEdges),f+=l(i.includeLabels),f+=l(i.includeMainLabels),f+=l(i.includeSourceLabels),(f+=l(i.includeTargetLabels))+l(i.includeOverlays)},no=function(i){if(i.isEdge()){var a=i.source().position(),l=i.target().position(),f=function(p){return Math.round(p)};return function(i,a){var l={value:0,done:!1},f=0,h=i.length;return sf({next:function(){return f<h?l.value=i[f++]:l.done=!0,l}},void 0)}([f(a.x),f(a.y),f(l.x),f(l.y)])}return 0},xf=function(i,a){var f,l=i._private,h=i.isEdge(),m=(null==a?Bl:Nu(a))===Bl,b=no(i),y=l.bbCachePosKey===b,D=a.useCache&&y,E=function(R){return null==R._private.bbCache||R._private.styleDirty};if(!D||E(i)||h&&E(i.source())||E(i.target())?(y||i.recalculateRenderedStyle(D),f=function(i,a){var D,E,S,M,x,R,l=i._private.cy,f=l.styleEnabled(),h=l.headless(),p=go(),m=i._private,b=i.isNode(),y=i.isEdge(),A=m.rstyle,N=b&&f?i.pstyle("bounds-expansion").pfValue:[0],O=function(je){return"none"!==je.pstyle("display").value},k=!f||O(i)&&(!y||O(i.source())&&O(i.target()));if(k){var q=0;f&&a.includeOverlays&&0!==i.pstyle("overlay-opacity").value&&(q=i.pstyle("overlay-padding").value);var $=0;f&&a.includeUnderlays&&0!==i.pstyle("underlay-opacity").value&&($=i.pstyle("underlay-padding").value);var W=Math.max(q,$),Y=0;if(f&&(Y=i.pstyle("width").pfValue/2),b&&a.includeNodes){var X=i.position();x=X.x,R=X.y;var te=i.outerWidth()/2,ue=i.outerHeight()/2;Vr(p,D=x-te,S=R-ue,E=x+te,M=R+ue)}else if(y&&a.includeEdges)if(f&&!h){var ne=i.pstyle("curve-style").strValue;if(D=Math.min(A.srcX,A.midX,A.tgtX),E=Math.max(A.srcX,A.midX,A.tgtX),S=Math.min(A.srcY,A.midY,A.tgtY),M=Math.max(A.srcY,A.midY,A.tgtY),Vr(p,D-=Y,S-=Y,E+=Y,M+=Y),"haystack"===ne){var re=A.haystackPts;if(re&&2===re.length){if((D=re[0].x)>(E=re[1].x)){var fe=D;D=E,E=fe}if((S=re[0].y)>(M=re[1].y)){var pe=S;S=M,M=pe}Vr(p,D-Y,S-Y,E+Y,M+Y)}}else if("bezier"===ne||"unbundled-bezier"===ne||"segments"===ne||"taxi"===ne){var De;switch(ne){case"bezier":case"unbundled-bezier":De=A.bezierPts;break;case"segments":case"taxi":De=A.linePts}if(null!=De)for(var he=0;he<De.length;he++){var be=De[he];Vr(p,D=be.x-Y,S=be.y-Y,E=be.x+Y,M=be.y+Y)}}}else{var Fe=i.source().position(),Ie=i.target().position();if((D=Fe.x)>(E=Ie.x)){var de=D;D=E,E=de}if((S=Fe.y)>(M=Ie.y)){var Re=S;S=M,M=Re}Vr(p,D-=Y,S-=Y,E+=Y,M+=Y)}if(f&&a.includeEdges&&y&&(Sf(p,i,"mid-source"),Sf(p,i,"mid-target"),Sf(p,i,"source"),Sf(p,i,"target")),f&&"yes"===i.pstyle("ghost").value){var Ke=i.pstyle("ghost-offset-x").pfValue,tt=i.pstyle("ghost-offset-y").pfValue;Vr(p,p.x1+Ke,p.y1+tt,p.x2+Ke,p.y2+tt)}var _t=m.bodyBounds=m.bodyBounds||{};vo(_t,p),Uh(_t,N),Hc(_t,1),f&&Vr(p,(D=p.x1)-W,(S=p.y1)-W,(E=p.x2)+W,(M=p.y2)+W);var Jt=m.overlayBounds=m.overlayBounds||{};vo(Jt,p),Uh(Jt,N),Hc(Jt,1);var at=m.labelBounds=m.labelBounds||{};null!=at.all?function(i){i.x1=1/0,i.y1=1/0,i.x2=-1/0,i.y2=-1/0,i.w=0,i.h=0}(at.all):at.all=go(),f&&a.includeLabels&&(a.includeMainLabels&&op(p,i,null),y&&(a.includeSourceLabels&&op(p,i,"source"),a.includeTargetLabels&&op(p,i,"target")))}return p.x1=ea(p.x1),p.y1=ea(p.y1),p.x2=ea(p.x2),p.y2=ea(p.y2),p.w=ea(p.x2-p.x1),p.h=ea(p.y2-p.y1),p.w>0&&p.h>0&&k&&(Uh(p,N),Hc(p,1)),p}(i,Pu),l.bbCache=f,l.bbCachePosKey=b):f=l.bbCache,!m){var M=i.isNode();f=go(),(a.includeNodes&&M||a.includeEdges&&!M)&&So(f,a.includeOverlays?l.overlayBounds:l.bodyBounds),a.includeLabels&&(a.includeMainLabels&&(!h||a.includeSourceLabels&&a.includeTargetLabels)?So(f,l.labelBounds.all):(a.includeMainLabels&&So(f,l.labelBounds.mainRot),a.includeSourceLabels&&So(f,l.labelBounds.sourceRot),a.includeTargetLabels&&So(f,l.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Pu={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Bl=Nu(Pu),Us=Pr(Pu);Hs.boundingBox=function(s){var i;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==s&&void 0!==s.useCache&&!0!==s.useCache){i=go();var a=Us(s=s||Pu),l=this;if(l.cy().styleEnabled())for(var p=0;p<l.length;p++){var m=l[p],b=m._private,y=no(m);m.recalculateRenderedStyle(a.useCache&&b.bbCachePosKey===y&&!b.styleDirty)}this.updateCompoundBounds(!s.useCache);for(var S=0;S<l.length;S++)So(i,xf(l[S],a))}else s=void 0===s?Pu:Us(s),i=xf(this[0],s);return i.x1=ea(i.x1),i.y1=ea(i.y1),i.x2=ea(i.x2),i.y2=ea(i.y2),i.w=ea(i.x2-i.x1),i.h=ea(i.y2-i.y1),i},Hs.dirtyBoundingBoxCache=function(){for(var s=0;s<this.length;s++){var i=this[s]._private;i.bbCache=null,i.bbCachePosKey=null,i.bodyBounds=null,i.overlayBounds=null,i.labelBounds.all=null,i.labelBounds.source=null,i.labelBounds.target=null,i.labelBounds.main=null,i.labelBounds.sourceRot=null,i.labelBounds.targetRot=null,i.labelBounds.mainRot=null,i.arrowBounds.source=null,i.arrowBounds.target=null,i.arrowBounds["mid-source"]=null,i.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Hs.boundingBoxAt=function(s){var i=this.nodes(),a=this.cy(),l=a.hasCompoundNodes(),f=a.collection();if(l&&(f=i.filter(function(y){return y.isParent()}),i=i.not(f)),Ct(s)){var h=s;s=function(){return h}}a.startBatch(),i.forEach(function(D,E){return D._private.bbAtOldPos=s(D,E)}).silentPositions(s),l&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var b=function(i){return{x1:i.x1,x2:i.x2,w:i.w,y1:i.y1,y2:i.y2,h:i.h}}(this.boundingBox({useCache:!1}));return i.silentPositions(function(D){return D._private.bbAtOldPos}),l&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),a.endBatch(),b},_o.boundingbox=_o.bb=_o.boundingBox,_o.renderedBoundingbox=_o.renderedBoundingBox;var ku,hs,Ou=Hs;ku=hs={};var sd=function(i){i.uppercaseName=ka(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=ka(i.outerName),ku[i.name]=function(){var l=this[0],f=l._private;if(l){if(f.cy._private.styleEnabled){if(l.isParent())return l.updateCompoundBounds(),f[i.autoName]||0;var m=l.pstyle(i.name);return"label"===m.strValue?(l.recalculateRenderedStyle(),f.rstyle[i.labelName]||0):m.pfValue}return 1}},ku["outer"+i.uppercaseName]=function(){var l=this[0];if(l)return l._private.cy._private.styleEnabled?l[i.name]()+l.pstyle("border-width").pfValue+2*l.padding():1},ku["rendered"+i.uppercaseName]=function(){var l=this[0];if(l)return l[i.name]()*this.cy().zoom()},ku["rendered"+i.uppercaseOuterName]=function(){var l=this[0];if(l)return l[i.outerName]()*this.cy().zoom()}};sd({name:"width"}),sd({name:"height"}),hs.padding=function(){var s=this[0],i=s._private;return s.isParent()?(s.updateCompoundBounds(),void 0!==i.autoPadding?i.autoPadding:s.pstyle("padding").pfValue):s.pstyle("padding").pfValue},hs.paddedHeight=function(){var s=this[0];return s.height()+2*s.padding()},hs.paddedWidth=function(){var s=this[0];return s.width()+2*s.padding()};var Ma=hs,ap={controlPoints:{get:function(i){return i.renderer().getControlPoints(i)},mult:!0},segmentPoints:{get:function(i){return i.renderer().getSegmentPoints(i)},mult:!0},sourceEndpoint:{get:function(i){return i.renderer().getSourceEndpoint(i)}},targetEndpoint:{get:function(i){return i.renderer().getTargetEndpoint(i)}},midpoint:{get:function(i){return i.renderer().getEdgeMidpoint(i)}}},cd=Object.keys(ap).reduce(function(s,i){var a=ap[i],l=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(i);return s[i]=function(){return function(i,a){if(i.isEdge())return a(i)}(this,a.get)},s[l]=a.mult?function(){return function(i,a){if(i.isEdge()){var l=i.cy(),f=l.pan(),h=l.zoom();return a(i).map(function(p){return ks(p,h,f)})}}(this,a.get)}:function(){return function(i,a){if(i.isEdge()){var l=i.cy();return ks(a(i),l.zoom(),l.pan())}}(this,a.get)},s},{}),Xm=It({},ip,Ou,Ma,cd),dd=function(i,a){this.recycle(i,a)};function Cr(){return!1}function Fu(){return!0}dd.prototype={instanceString:function(){return"event"},recycle:function(i,a){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Cr,null!=i&&i.preventDefault?(this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?Fu:Cr):null!=i&&i.type?a=i:this.type=i,null!=a&&(this.originalEvent=a.originalEvent,this.type=null!=a.type?a.type:this.type,this.cy=a.cy,this.target=a.target,this.position=a.position,this.renderedPosition=a.renderedPosition,this.namespace=a.namespace,this.layout=a.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var l=this.position,f=this.cy.zoom(),h=this.cy.pan();this.renderedPosition={x:l.x*f+h.x,y:l.y*f+h.y}}this.timeStamp=i&&i.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Fu;var i=this.originalEvent;i&&i.preventDefault&&i.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Fu;var i=this.originalEvent;i&&i.stopPropagation&&i.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Fu,this.stopPropagation()},isDefaultPrevented:Cr,isPropagationStopped:Cr,isImmediatePropagationStopped:Cr};var $l=/^([^.]+)(\.(?:[^.]+))?$/,If={qualifierCompare:function(i,a){return i===a},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(i){return i},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Hl=Object.keys(If),gs={};function Lu(){for(var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gs,i=arguments.length>1?arguments[1]:void 0,a=0;a<Hl.length;a++){var l=Hl[a];this[l]=s[l]||If[l]}this.context=i||this.context,this.listeners=[],this.emitting=0}var xr=Lu.prototype,fd=function(i,a,l,f,h,p,m){Fn(f)&&(h=f,f=null),m&&(p=null==p?m:It({},p,m));for(var b=_n(l)?l:l.split(/\s+/),y=0;y<b.length;y++){var D=b[y];if(!en(D)){var E=D.match($l);if(E&&!1===a(i,D,E[1],E[2]?E[2]:null,f,h,p))break}}},sp=function(i,a){return i.addEventFields(i.context,a),new dd(a.type,a)};xr.on=xr.addListener=function(s,i,a,l,f){return fd(this,function(h,p,m,b,y,D,E){Fn(D)&&h.listeners.push({event:p,callback:D,type:m,namespace:b,qualifier:y,conf:E})},s,i,a,l,f),this},xr.one=function(s,i,a,l){return this.on(s,i,a,l,{one:!0})},xr.removeListener=xr.off=function(s,i,a,l){var f=this;0!==this.emitting&&(this.listeners=function(i){return i.slice()}(this.listeners));for(var h=this.listeners,p=function(y){var D=h[y];fd(f,function(E,S,M,x,R,A){if((D.type===M||"*"===s)&&(!x&&".*"!==D.namespace||D.namespace===x)&&(!R||E.qualifierCompare(D.qualifier,R))&&(!A||D.callback===A))return h.splice(y,1),!1},s,i,a,l)},m=h.length-1;m>=0;m--)p(m);return this},xr.removeAllListeners=function(){return this.removeListener("*")},xr.emit=xr.trigger=function(s,i,a){var l=this.listeners,f=l.length;return this.emitting++,_n(i)||(i=[i]),function(i,a,l){if(function(i){return"event"===Sr(i)}(l))a(i,l);else if(Ct(l))a(i,sp(i,l));else for(var f=_n(l)?l:l.split(/\s+/),h=0;h<f.length;h++){var p=f[h];if(!en(p)){var m=p.match($l);m&&a(i,sp(i,{type:m[1],namespace:m[2]?m[2]:null,target:i.context}))}}}(this,function(h,p){null!=a&&(f=(l=[{event:p.event,type:p.type,namespace:p.namespace,callback:a}]).length);for(var m=function(D){var E=l[D];if(E.type===p.type&&(!E.namespace||E.namespace===p.namespace||".*"===E.namespace)&&h.eventMatches(h.context,E,p)){var S=[p];null!=i&&function(i,a){for(var l=0;l<a.length;l++)i.push(a[l])}(S,i),h.beforeEmit(h.context,E,p),E.conf&&E.conf.one&&(h.listeners=h.listeners.filter(function(R){return R!==E}));var M=h.callbackContext(h.context,E,p),x=E.callback.apply(M,S);h.afterEmit(h.context,E,p),!1===x&&(p.stopPropagation(),p.preventDefault())}},b=0;b<f;b++)m(b);h.bubble(h.context)&&!p.isPropagationStopped()&&h.parent(h.context).emit(p,i)},s),this.emitting--,this};var tv={qualifierCompare:function(i,a){return null==i||null==a?null==i&&null==a:i.sameText(a)},eventMatches:function(i,a,l){var f=a.qualifier;return null==f||i!==l.target&&du(l.target)&&f.matches(l.target)},addEventFields:function(i,a){a.cy=i.cy(),a.target=i},callbackContext:function(i,a,l){return null!=a.qualifier?l.target:i},beforeEmit:function(i,a){a.conf&&a.conf.once&&a.conf.onceCollection.removeListener(a.event,a.qualifier,a.callback)},bubble:function(){return!0},parent:function(i){return i.isChild()?i.parent():i.cy()}},Gs=function(i){return Je(i)?new li(i):i},lp={createEmitter:function(){for(var i=0;i<this.length;i++){var a=this[i],l=a._private;l.emitter||(l.emitter=new Lu(tv,a))}return this},emitter:function(){return this._private.emitter},on:function(i,a,l){for(var f=Gs(a),h=0;h<this.length;h++)this[h].emitter().on(i,f,l);return this},removeListener:function(i,a,l){for(var f=Gs(a),h=0;h<this.length;h++)this[h].emitter().removeListener(i,f,l);return this},removeAllListeners:function(){for(var i=0;i<this.length;i++)this[i].emitter().removeAllListeners();return this},one:function(i,a,l){for(var f=Gs(a),h=0;h<this.length;h++)this[h].emitter().one(i,f,l);return this},once:function(i,a,l){for(var f=Gs(a),h=0;h<this.length;h++)this[h].emitter().on(i,f,l,{once:!0,onceCollection:this})},emit:function(i,a){for(var l=0;l<this.length;l++)this[l].emitter().emit(i,a);return this},emitAndNotify:function(i,a){if(0!==this.length)return this.cy().notify(i,this),this.emit(i,a),this}};Ot.eventAliasesOn(lp);var Ul={nodes:function(i){return this.filter(function(a){return a.isNode()}).filter(i)},edges:function(i){return this.filter(function(a){return a.isEdge()}).filter(i)},byGroup:function(){for(var i=this.spawn(),a=this.spawn(),l=0;l<this.length;l++){var f=this[l];f.isNode()?i.push(f):a.push(f)}return{nodes:i,edges:a}},filter:function(i,a){if(void 0===i)return this;if(Je(i)||Dr(i))return new li(i).filter(this);if(Fn(i)){for(var l=this.spawn(),f=this,h=0;h<f.length;h++){var p=f[h];(a?i.apply(a,[p,h,f]):i(p,h,f))&&l.push(p)}return l}return this.spawn()},not:function(i){if(i){Je(i)&&(i=this.filter(i));for(var a=this.spawn(),l=0;l<this.length;l++){var f=this[l];i.has(f)||a.push(f)}return a}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(i){if(Je(i))return this.filter(i);for(var l=this.spawn(),p=this.length<i.length,m=p?this:i,b=p?i:this,y=0;y<m.length;y++){var D=m[y];b.has(D)&&l.push(D)}return l},xor:function(i){var a=this._private.cy;Je(i)&&(i=a.$(i));var l=this.spawn(),h=i,p=function(b,y){for(var D=0;D<b.length;D++){var E=b[D];y.hasElementWithId(E._private.data.id)||l.push(E)}};return p(this,h),p(h,this),l},diff:function(i){var a=this._private.cy;Je(i)&&(i=a.$(i));var l=this.spawn(),f=this.spawn(),h=this.spawn(),m=i,b=function(D,E,S){for(var M=0;M<D.length;M++){var x=D[M];E.hasElementWithId(x._private.data.id)?h.merge(x):S.push(x)}};return b(this,m,l),b(m,this,f),{left:l,right:f,both:h}},add:function(i){var a=this._private.cy;if(!i)return this;if(Je(i)){var l=i;i=a.mutableElements().filter(l)}for(var f=this.spawnSelf(),h=0;h<i.length;h++){var p=i[h];!this.has(p)&&f.push(p)}return f},merge:function(i){var a=this._private,l=a.cy;if(!i)return this;if(i&&Je(i)){var f=i;i=l.mutableElements().filter(f)}for(var h=a.map,p=0;p<i.length;p++){var m=i[p],b=m._private.data.id;if(!h.has(b)){var D=this.length++;this[D]=m,h.set(b,{ele:m,index:D})}}return this},unmergeAt:function(i){var l=this[i].id(),h=this._private.map;if(this[i]=void 0,h.delete(l),this.length>1&&i!==this.length-1){var m=this.length-1,b=this[m],y=b._private.data.id;this[m]=void 0,this[i]=b,h.set(y,{ele:b,index:i})}return this.length--,this},unmergeOne:function(i){var h=this._private.map.get((i=i[0])._private.data.id);return h?(this.unmergeAt(h.index),this):this},unmerge:function(i){var a=this._private.cy;if(!i)return this;if(i&&Je(i)){var l=i;i=a.mutableElements().filter(l)}for(var f=0;f<i.length;f++)this.unmergeOne(i[f]);return this},unmergeBy:function(i){for(var a=this.length-1;a>=0;a--)i(this[a])&&this.unmergeAt(a);return this},map:function(i,a){for(var l=[],f=this,h=0;h<f.length;h++){var p=f[h],m=a?i.apply(a,[p,h,f]):i(p,h,f);l.push(m)}return l},reduce:function(i,a){for(var l=a,f=this,h=0;h<f.length;h++)l=i(l,f[h],h,f);return l},max:function(i,a){for(var f,l=-1/0,h=this,p=0;p<h.length;p++){var m=h[p],b=a?i.apply(a,[m,p,h]):i(m,p,h);b>l&&(l=b,f=m)}return{value:l,ele:f}},min:function(i,a){for(var f,l=1/0,h=this,p=0;p<h.length;p++){var m=h[p],b=a?i.apply(a,[m,p,h]):i(m,p,h);b<l&&(l=b,f=m)}return{value:l,ele:f}}},Nn=Ul;Nn.u=Nn["|"]=Nn["+"]=Nn.union=Nn.or=Nn.add,Nn["\\"]=Nn["!"]=Nn["-"]=Nn.difference=Nn.relativeComplement=Nn.subtract=Nn.not,Nn.n=Nn["&"]=Nn["."]=Nn.and=Nn.intersection=Nn.intersect,Nn["^"]=Nn["(+)"]=Nn["(-)"]=Nn.symmetricDifference=Nn.symdiff=Nn.xor,Nn.fnFilter=Nn.filterFn=Nn.stdFilter=Nn.filter,Nn.complement=Nn.abscomp=Nn.absoluteComplement;var i,Tf=function(i,a){var f=i.cy().hasCompoundNodes();function h(D){var E=D.pstyle("z-compound-depth");return"auto"===E.value?f?D.zDepth():0:"bottom"===E.value?-1:"top"===E.value?cf:0}var p=h(i)-h(a);if(0!==p)return p;function m(D){return"auto"===D.pstyle("z-index-compare").value&&D.isNode()?1:0}var b=m(i)-m(a);if(0!==b)return b;var y=i.pstyle("z-index").value-a.pstyle("z-index").value;return 0!==y?y:i.poolIndex()-a.poolIndex()},vs={forEach:function(i,a){if(Fn(i))for(var l=this.length,f=0;f<l;f++){var h=this[f];if(!1===(a?i.apply(a,[h,f,this]):i(h,f,this)))break}return this},toArray:function(){for(var i=[],a=0;a<this.length;a++)i.push(this[a]);return i},slice:function(i,a){var l=[],f=this.length;null==a&&(a=f),null==i&&(i=0),i<0&&(i=f+i),a<0&&(a=f+a);for(var h=i;h>=0&&h<a&&h<f;h++)l.push(this[h]);return this.spawn(l)},size:function(){return this.length},eq:function(i){return this[i]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(i){if(!Fn(i))return this;var a=this.toArray().sort(i);return this.spawn(a)},sortByZIndex:function(){return this.sort(Tf)},zDepth:function(){var i=this[0];if(i){var a=i._private;if("nodes"===a.group){var f=a.data.parent?i.parents().size():0;return i.isParent()?f:cf-1}var p=a.target,m=a.source.zDepth(),b=p.zDepth();return Math.max(m,b,0)}}};vs.each=vs.forEach,i="undefined",(typeof Symbol>"u"?"undefined":ln(Symbol))!=i&&ln(Symbol.iterator)!=i&&(vs[Symbol.iterator]=function(){var l=this,f={value:void 0,done:!1},h=0,p=this.length;return In({next:function(){return h<p?f.value=l[h++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var cp=Pr({nodeDimensionsIncludeLabels:!1}),qs={layoutDimensions:function(i){var a;if(i=cp(i),this.takesUpSpace())if(i.nodeDimensionsIncludeLabels){var l=this.boundingBox();a={w:l.w,h:l.h}}else a={w:this.outerWidth(),h:this.outerHeight()};else a={w:0,h:0};return(0===a.w||0===a.h)&&(a.w=a.h=1),a},layoutPositions:function(i,a,l){var f=this.nodes().filter(function(q){return!q.isParent()}),h=this.cy(),p=a.eles,m=function(Z){return Z.id()},b=hu(l,m);i.emit({type:"layoutstart",layout:i}),i.animations=[];var D=a.spacingFactor&&1!==a.spacingFactor,S=function(){if(!D)return null;for(var Z=go(),$=0;$<f.length;$++){var U=b(f[$],$);ur(Z,U.x,U.y)}return Z}(),M=hu(function(q,Z){var $=b(q,Z);return D&&($=function(Z,$,W){var U_x=$.x1+$.w/2,U_y=$.y1+$.h/2;return{x:U_x+(W.x-U_x)*Z,y:U_y+(W.y-U_y)*Z}}(Math.abs(a.spacingFactor),S,$)),null!=a.transform&&($=a.transform(q,$)),$},m);if(a.animate){for(var x=0;x<f.length;x++){var R=f[x],A=M(R,x);if(null==a.animateFilter||a.animateFilter(R,x)){var O=R.animation({position:A,duration:a.animationDuration,easing:a.animationEasing});i.animations.push(O)}else R.position(A)}if(a.fit){var k=h.animation({fit:{boundingBox:p.boundingBoxAt(M),padding:a.padding},duration:a.animationDuration,easing:a.animationEasing});i.animations.push(k)}else if(void 0!==a.zoom&&void 0!==a.pan){var V=h.animation({zoom:a.zoom,pan:a.pan,duration:a.animationDuration,easing:a.animationEasing});i.animations.push(V)}i.animations.forEach(function(q){return q.play()}),i.one("layoutready",a.ready),i.emit({type:"layoutready",layout:i}),mr.all(i.animations.map(function(q){return q.promise()})).then(function(){i.one("layoutstop",a.stop),i.emit({type:"layoutstop",layout:i})})}else f.positions(M),a.fit&&h.fit(a.eles,a.padding),null!=a.zoom&&h.zoom(a.zoom),a.pan&&h.pan(a.pan),i.one("layoutready",a.ready),i.emit({type:"layoutready",layout:i}),i.one("layoutstop",a.stop),i.emit({type:"layoutstop",layout:i});return this},layout:function(i){return this.cy().makeLayout(It({},i,{eles:this}))}};function Af(s,i,a){var h,l=a._private,f=l.styleCache=l.styleCache||[];return null!=(h=f[s])||(h=f[s]=i(a)),h}function Bu(s,i){return s=ga(s),function(l){return Af(s,i,l)}}function hd(s,i){s=ga(s);var a=function(f){return i.call(f)};return function(){var f=this[0];if(f)return Af(s,a,f)}}qs.createLayout=qs.makeLayout=qs.layout;var or={recalculateRenderedStyle:function(i){var a=this.cy(),l=a.renderer(),f=a.styleEnabled();return l&&f&&l.recalculateRenderedStyle(this,i),this},dirtyStyleCache:function(){var l,i=this.cy(),a=function(h){return h._private.styleCache=null};return i.hasCompoundNodes()?((l=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(l.connectedEdges()),l.forEach(a)):this.forEach(function(f){a(f),f.connectedEdges().forEach(a)}),this},updateStyle:function(i){var a=this._private.cy;if(!a.styleEnabled())return this;if(a.batching())return a._private.batchStyleEles.merge(this),this;var h=this;i=!(!i&&void 0!==i),a.hasCompoundNodes()&&(h=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var p=h;return i?p.emitAndNotify("style"):p.emit("style"),h.forEach(function(m){return m._private.styleDirty=!0}),this},cleanStyle:function(){var i=this.cy();if(i.styleEnabled())for(var a=0;a<this.length;a++){var l=this[a];l._private.styleDirty&&(l._private.styleDirty=!1,i.style().apply(l))}},parsedStyle:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this[0],f=l.cy();if(f.styleEnabled()&&l)return this.cleanStyle(),l._private.style[i]??(a?f.style().getDefaultProperty(i):null)},numericStyle:function(i){var a=this[0];if(a.cy().styleEnabled()&&a){var l=a.pstyle(i);return void 0!==l.pfValue?l.pfValue:l.value}},numericStyleUnits:function(i){var a=this[0];if(a.cy().styleEnabled()&&a)return a.pstyle(i).units},renderedStyle:function(i){var a=this.cy();if(!a.styleEnabled())return this;var l=this[0];return l?a.style().getRenderedStyle(l,i):void 0},style:function(i,a){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style();if(Ct(i))h.applyBypass(this,i,!1),this.emitAndNotify("style");else if(Je(i)){if(void 0===a){var m=this[0];return m?h.getStylePropertyValue(m,i):void 0}h.applyBypass(this,i,a,!1),this.emitAndNotify("style")}else if(void 0===i){var b=this[0];return b?h.getRawStyle(b):void 0}return this},removeStyle:function(i){var a=this.cy();if(!a.styleEnabled())return this;var f=a.style(),h=this;if(void 0===i)for(var p=0;p<h.length;p++)f.removeAllBypasses(h[p],!1);else{i=i.split(/\s+/);for(var b=0;b<h.length;b++)f.removeBypasses(h[b],i,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var i=this.cy();if(!i.styleEnabled())return 1;var a=i.hasCompoundNodes(),l=this[0];if(l){var f=l._private,h=l.pstyle("opacity").value;if(!a)return h;var p=f.data.parent?l.parents():null;if(p)for(var m=0;m<p.length;m++)h*=p[m].pstyle("opacity").value;return h}},transparent:function(){if(!this.cy().styleEnabled())return!1;var a=this[0],l=a.cy().hasCompoundNodes();return a?l?0===a.effectiveOpacity():0===a.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function zl(s,i){var l=s._private.data.parent?s.parents():null;if(l)for(var f=0;f<l.length;f++)if(!i(l[f]))return!1;return!0}function Vu(s){var i=s.ok,a=s.edgeOkViaNode||s.ok,l=s.parentOk||s.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var h=this[0],p=f.hasCompoundNodes();if(h){var m=h._private;if(!i(h))return!1;if(h.isNode())return!p||zl(h,l);var b=m.source,y=m.target;return a(b)&&(!p||zl(b,a))&&(b===y||a(y)&&(!p||zl(y,a)))}}}var Hn=Bu("eleTakesUpSpace",function(s){return"element"===s.pstyle("display").value&&0!==s.width()&&(!s.isNode()||0!==s.height())});or.takesUpSpace=hd("takesUpSpace",Vu({ok:Hn}));var jl=Bu("eleInteractive",function(s){return"yes"===s.pstyle("events").value&&"visible"===s.pstyle("visibility").value&&Hn(s)}),Gl=Bu("parentInteractive",function(s){return"visible"===s.pstyle("visibility").value&&Hn(s)});or.interactive=hd("interactive",Vu({ok:jl,parentOk:Gl,edgeOkViaNode:Hn})),or.noninteractive=function(){var s=this[0];if(s)return!s.interactive()};var $i=Bu("eleVisible",function(s){return"visible"===s.pstyle("visibility").value&&0!==s.pstyle("opacity").pfValue&&Hn(s)});or.visible=hd("visible",Vu({ok:$i,edgeOkViaNode:Hn})),or.hidden=function(){var s=this[0];if(s)return!s.visible()},or.isBundledBezier=hd("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),or.bypass=or.css=or.style,or.renderedCss=or.renderedStyle,or.removeBypass=or.removeCss=or.removeStyle,or.pstyle=or.parsedStyle;var Ho={};function Ws(s){return function(){var i=arguments,a=[];if(2===i.length)this.on(s.event,i[0],i[1]);else if(1===i.length&&Fn(i[0]))this.on(s.event,i[0]);else if(0===i.length||1===i.length&&_n(i[0])){for(var p=1===i.length?i[0]:null,m=0;m<this.length;m++){var b=this[m],y=!s.ableField||b._private[s.ableField],D=b._private[s.field]!=s.value;if(s.overrideAble){var E=s.overrideAble(b);if(void 0!==E&&(y=E,!E))return this}y&&(b._private[s.field]=s.value,D&&a.push(b))}var S=this.spawn(a);S.updateStyle(),S.emit(s.event),p&&S.emit(p)}return this}}function ti(s){Ho[s.field]=function(){var i=this[0];if(i){if(s.overrideField){var a=s.overrideField(i);if(void 0!==a)return a}return i._private[s.field]}},Ho[s.on]=Ws({event:s.on,field:s.field,ableField:s.ableField,overrideAble:s.overrideAble,value:!0}),Ho[s.off]=Ws({event:s.off,field:s.field,ableField:s.ableField,overrideAble:s.overrideAble,value:!1})}ti({field:"locked",overrideField:function(i){return!!i.cy().autolock()||void 0},on:"lock",off:"unlock"}),ti({field:"grabbable",overrideField:function(i){return!i.cy().autoungrabify()&&!i.pannable()&&void 0},on:"grabify",off:"ungrabify"}),ti({field:"selected",ableField:"selectable",overrideAble:function(i){return!i.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),ti({field:"selectable",overrideField:function(i){return!i.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ho.deselect=Ho.unselect,Ho.grabbed=function(){var s=this[0];if(s)return s._private.grabbed},ti({field:"active",on:"activate",off:"unactivate"}),ti({field:"pannable",on:"panify",off:"unpanify"}),Ho.inactive=function(){var s=this[0];if(s)return!s._private.active};var Ei={},fp=function(i){return function(l){for(var h=[],p=0;p<this.length;p++){var m=this[p];if(m.isNode()){for(var b=!1,y=m.connectedEdges(),D=0;D<y.length;D++){var E=y[D],S=E.source(),M=E.target();if(i.noIncomingEdges&&M===m&&S!==m||i.noOutgoingEdges&&S===m&&M!==m){b=!0;break}}b||h.push(m)}}return this.spawn(h,!0).filter(l)}},Rf=function(i){return function(a){for(var f=[],h=0;h<this.length;h++){var p=this[h];if(p.isNode())for(var m=p.connectedEdges(),b=0;b<m.length;b++){var y=m[b],D=y.source(),E=y.target();i.outgoing&&D===p?(f.push(y),f.push(E)):i.incoming&&E===p&&(f.push(y),f.push(D))}}return this.spawn(f,!0).filter(a)}},Za=function(i){return function(a){for(var l=this,f=[],h={};;){var p=i.outgoing?l.outgoers():l.incomers();if(0===p.length)break;for(var m=!1,b=0;b<p.length;b++){var y=p[b],D=y.id();h[D]||(h[D]=!0,f.push(y),m=!0)}if(!m)break;l=p}return this.spawn(f,!0).filter(a)}};function ql(s){return function(a){for(var l=[],f=0;f<this.length;f++){var p=this[f]._private[s.attr];p&&l.push(p)}return this.spawn(l,!0).filter(a)}}function Nf(s){return function(a){var l=[],f=this._private.cy,h=s||{};Je(a)&&(a=f.$(a));for(var p=0;p<a.length;p++)for(var m=a[p]._private.edges,b=0;b<m.length;b++){var y=m[b],D=y._private.data,E=this.hasElementWithId(D.source)&&a.hasElementWithId(D.target),S=a.hasElementWithId(D.source)&&this.hasElementWithId(D.target);(E||S)&&((h.thisIsSrc||h.thisIsTgt)&&(h.thisIsSrc&&!E||h.thisIsTgt&&!S)||l.push(y))}return this.spawn(l,!0)}}function Wl(s){return s=It({},{codirected:!1},s),function(l){for(var f=[],h=this.edges(),p=s,m=0;m<h.length;m++)for(var y=h[m]._private,D=y.source,E=D._private.data.id,S=y.data.target,M=D._private.edges,x=0;x<M.length;x++){var R=M[x],A=R._private.data,N=A.target,O=A.source,k=N===S&&O===E;(p.codirected&&k||!p.codirected&&(k||E===N&&S===O))&&f.push(R)}return this.spawn(f,!0).filter(l)}}Ei.clearTraversalCache=function(){for(var s=0;s<this.length;s++)this[s]._private.traversalCache=null},It(Ei,{roots:fp({noIncomingEdges:!0}),leaves:fp({noOutgoingEdges:!0}),outgoers:Bo(Rf({outgoing:!0}),"outgoers"),successors:Za({outgoing:!0}),incomers:Bo(Rf({incoming:!0}),"incomers"),predecessors:Za({incoming:!0})}),It(Ei,{neighborhood:Bo(function(s){for(var i=[],a=this.nodes(),l=0;l<a.length;l++)for(var f=a[l],h=f.connectedEdges(),p=0;p<h.length;p++){var m=h[p],b=m.source(),y=m.target(),D=f===b?y:b;D.length>0&&i.push(D[0]),i.push(m[0])}return this.spawn(i,!0).filter(s)},"neighborhood"),closedNeighborhood:function(i){return this.neighborhood().add(this).filter(i)},openNeighborhood:function(i){return this.neighborhood(i)}}),Ei.neighbourhood=Ei.neighborhood,Ei.closedNeighbourhood=Ei.closedNeighborhood,Ei.openNeighbourhood=Ei.openNeighborhood,It(Ei,{source:Bo(function(i){var l,a=this[0];return a&&(l=a._private.source||a.cy().collection()),l&&i?l.filter(i):l},"source"),target:Bo(function(i){var l,a=this[0];return a&&(l=a._private.target||a.cy().collection()),l&&i?l.filter(i):l},"target"),sources:ql({attr:"source"}),targets:ql({attr:"target"})}),It(Ei,{edgesWith:Bo(Nf(),"edgesWith"),edgesTo:Bo(Nf({thisIsSrc:!0}),"edgesTo")}),It(Ei,{connectedEdges:Bo(function(s){for(var i=[],l=0;l<this.length;l++){var f=this[l];if(f.isNode())for(var h=f._private.edges,p=0;p<h.length;p++)i.push(h[p])}return this.spawn(i,!0).filter(s)},"connectedEdges"),connectedNodes:Bo(function(s){for(var i=[],l=0;l<this.length;l++){var f=this[l];f.isEdge()&&(i.push(f.source()[0]),i.push(f.target()[0]))}return this.spawn(i,!0).filter(s)},"connectedNodes"),parallelEdges:Bo(Wl(),"parallelEdges"),codirectedEdges:Bo(Wl({codirected:!0}),"codirectedEdges")}),It(Ei,{components:function(i){var a=this,l=a.cy(),f=l.collection(),h=null==i?a.nodes():i.nodes(),p=[];null!=i&&h.empty()&&(h=i.sources());var m=function(D,E){f.merge(D),h.unmerge(D),E.merge(D)};if(h.empty())return a.spawn();var b=function(){var D=l.collection();p.push(D);var E=h[0];m(E,D),a.bfs({directed:!1,roots:E,visit:function(M){return m(M,D)}}),D.forEach(function(S){S.connectedEdges().forEach(function(M){a.has(M)&&D.has(M.source())&&D.has(M.target())&&D.merge(M)})})};do{b()}while(h.length>0);return p},component:function(){var i=this[0];return i.cy().mutableElements().components(i)[0]}}),Ei.componentsOf=Ei.components;var ci=function(i,a){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==i){var h=new va,p=!1;if(a){if(a.length>0&&Ct(a[0])&&!du(a[0])){p=!0;for(var m=[],b=new wu,y=0,D=a.length;y<D;y++){var E=a[y];null==E.data&&(E.data={});var S=E.data;if(null==S.id)S.id=Fh();else if(i.hasElementWithId(S.id)||b.has(S.id))continue;var M=new _l(i,E,!1);m.push(M),b.add(S.id)}a=m}}else a=[];this.length=0;for(var x=0,R=a.length;x<R;x++){var A=a[x][0];if(null!=A){var N=A._private.data.id;(!l||!h.has(N))&&(l&&h.set(N,{index:this.length,ele:A}),this[this.length]=A,this.length++)}}this._private={eles:this,cy:i,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(O){this.lazyMap=O},rebuildMap:function(){for(var k=this.lazyMap=new va,V=this.eles,q=0;q<V.length;q++){var Z=V[q];k.set(Z.id(),{index:q,ele:Z})}}},l&&(this._private.map=h),p&&!f&&this.restore()}else $n("A collection must have a reference to the core")},qn=_l.prototype=ci.prototype=Object.create(Array.prototype);qn.instanceString=function(){return"collection"},qn.spawn=function(s,i){return new ci(this.cy(),s,i)},qn.spawnSelf=function(){return this.spawn(this)},qn.cy=function(){return this._private.cy},qn.renderer=function(){return this._private.cy.renderer()},qn.element=function(){return this[0]},qn.collection=function(){return ef(this)?this:new ci(this._private.cy,[this])},qn.unique=function(){return new ci(this._private.cy,this,!0)},qn.hasElementWithId=function(s){return this._private.map.has(s=""+s)},qn.getElementById=function(s){var i=this._private.cy,a=this._private.map.get(s=""+s);return a?a.ele:new ci(i)},qn.$id=qn.getElementById,qn.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},qn.indexOf=function(s){return this._private.map.get(s[0]._private.data.id).index},qn.indexOfId=function(s){return this._private.map.get(s=""+s).index},qn.json=function(s){var i=this.element(),a=this.cy();if(null==i&&s)return this;if(null!=i){var l=i._private;if(Ct(s)){if(a.startBatch(),s.data){i.data(s.data);var f=l.data;if(i.isEdge()){var h=!1,p={},m=s.data.source,b=s.data.target;null!=m&&m!=f.source&&(p.source=""+m,h=!0),null!=b&&b!=f.target&&(p.target=""+b,h=!0),h&&(i=i.move(p))}else{var D=s.data.parent;"parent"in s.data&&(null!=D||null!=f.parent)&&D!=f.parent&&(void 0===D&&(D=null),null!=D&&(D=""+D),i=i.move({parent:D}))}}s.position&&i.position(s.position);var E=function(R,A,N){var O=s[R];null!=O&&O!==l[R]&&(O?i[A]():i[N]())};return E("removed","remove","restore"),E("selected","select","unselect"),E("selectable","selectify","unselectify"),E("locked","lock","unlock"),E("grabbable","grabify","ungrabify"),E("pannable","panify","unpanify"),null!=s.classes&&i.classes(s.classes),a.endBatch(),this}if(void 0===s){var S={data:Yr(l.data),position:Yr(l.position),group:l.group,removed:l.removed,selected:l.selected,selectable:l.selectable,locked:l.locked,grabbable:l.grabbable,pannable:l.pannable,classes:""},M=0;return l.classes.forEach(function(x){return S.classes+=0==M++?x:" "+x}),S}}},qn.jsons=function(){for(var s=[],i=0;i<this.length;i++){var l=this[i].json();s.push(l)}return s},qn.clone=function(){for(var s=this.cy(),i=[],a=0;a<this.length;a++){var f=this[a].json(),h=new _l(s,f,!1);i.push(h)}return new ci(s,i)},qn.copy=qn.clone,qn.restore=function(){for(var m,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this,l=a.cy(),f=l._private,h=[],p=[],b=0,y=a.length;b<y;b++){var D=a[b];i&&!D.removed()||(D.isNode()?h.push(D):p.push(D))}m=h.concat(p);var E,S=function(){m.splice(E,1),E--};for(E=0;E<m.length;E++){var M=m[E],x=M._private,R=x.data;if(M.clearTraversalCache(),i||x.removed)if(void 0===R.id)R.id=Fh();else if(ot(R.id))R.id=""+R.id;else{if(en(R.id)||!Je(R.id)){$n("Can not create element with invalid string ID `"+R.id+"`"),S();continue}if(l.hasElementWithId(R.id)){$n("Can not create second element with ID `"+R.id+"`"),S();continue}}var A=R.id;if(M.isNode()){var N=x.position;null==N.x&&(N.x=0),null==N.y&&(N.y=0)}if(M.isEdge()){for(var O=M,k=["source","target"],V=k.length,q=!1,Z=0;Z<V;Z++){var $=k[Z],W=R[$];ot(W)&&(W=R[$]=""+R[$]),null==W||""===W?($n("Can not create edge `"+A+"` with unspecified "+$),q=!0):l.hasElementWithId(W)||($n("Can not create edge `"+A+"` with nonexistant "+$+" `"+W+"`"),q=!0)}if(q){S();continue}var U=l.getElementById(R.source),Y=l.getElementById(R.target);U.same(Y)?U._private.edges.push(O):(U._private.edges.push(O),Y._private.edges.push(O)),O._private.source=U,O._private.target=Y}x.map=new va,x.map.set(A,{ele:M,index:0}),x.removed=!1,i&&l.addToPool(M)}for(var X=0;X<h.length;X++){var j=h[X],te=j._private.data;ot(te.parent)&&(te.parent=""+te.parent);var K=te.parent;if(null!=K||j._private.parent){var ne=j._private.parent?l.collection().merge(j._private.parent):l.getElementById(K);if(ne.empty())te.parent=void 0;else if(ne[0].removed())Gt("Node added with missing parent, reference to parent removed"),te.parent=void 0,j._private.parent=null;else{for(var re=!1,fe=ne;!fe.empty();){if(j.same(fe)){re=!0,te.parent=void 0;break}fe=fe.parent()}re||(ne[0]._private.children.push(j),j._private.parent=ne[0],f.hasCompoundNodes=!0)}}}if(m.length>0){for(var pe=m.length===a.length?a:new ci(l,m),De=0;De<pe.length;De++){var he=pe[De];he.isNode()||(he.parallelEdges().clearTraversalCache(),he.source().clearTraversalCache(),he.target().clearTraversalCache())}(f.hasCompoundNodes?l.collection().merge(pe).merge(pe.connectedNodes()).merge(pe.parent()):pe).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(s),s?pe.emitAndNotify("add"):i&&pe.emit("add")}return a},qn.removed=function(){var s=this[0];return s&&s._private.removed},qn.inside=function(){var s=this[0];return s&&!s._private.removed},qn.remove=function(){var s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this,l=[],f={},h=a._private.cy;function b(K){var ue=f[K.id()];i&&K.removed()||ue||(f[K.id()]=!0,K.isNode()?(l.push(K),function p(K){for(var ue=K._private.edges,ne=0;ne<ue.length;ne++)b(ue[ne])}(K),function m(K){for(var ue=K._private.children,ne=0;ne<ue.length;ne++)b(ue[ne])}(K)):l.unshift(K))}for(var y=0,D=a.length;y<D;y++)b(a[y]);function S(K,ue){No(K._private.edges,ue),K.clearTraversalCache()}var x=[];function R(K,ue){ue=ue[0];var ne=(K=K[0])._private.children,re=K.id();No(ne,ue),ue._private.parent=null,x.ids[re]||(x.ids[re]=!0,x.push(K))}x.ids={},a.dirtyCompoundBoundsCache(),i&&h.removeFromPool(l);for(var A=0;A<l.length;A++){var N=l[A];if(N.isEdge()){var O=N.source()[0],k=N.target()[0];S(O,N),S(k,N);for(var V=N.parallelEdges(),q=0;q<V.length;q++){var Z=V[q];Z.clearTraversalCache(),Z.isBundledBezier()&&Z.dirtyBoundingBoxCache()}}else{var $=N.parent();0!==$.length&&R($,N)}i&&(N._private.removed=!0)}var W=h._private.elements;h._private.hasCompoundNodes=!1;for(var U=0;U<W.length;U++)if(W[U].isParent()){h._private.hasCompoundNodes=!0;break}var X=new ci(this.cy(),l);X.size()>0&&(s?X.emitAndNotify("remove"):i&&X.emit("remove"));for(var j=0;j<x.length;j++){var te=x[j];(!i||!te.removed())&&te.updateStyle()}return X},qn.move=function(s){var i=this._private.cy,a=this,l=!1,f=!1,h=function(x){return null==x?x:""+x};if(void 0!==s.source||void 0!==s.target){var p=h(s.source),m=h(s.target),b=null!=p&&i.hasElementWithId(p),y=null!=m&&i.hasElementWithId(m);(b||y)&&(i.batch(function(){a.remove(l,f),a.emitAndNotify("moveout");for(var M=0;M<a.length;M++){var x=a[M],R=x._private.data;x.isEdge()&&(b&&(R.source=p),y&&(R.target=m))}a.restore(l,f)}),a.emitAndNotify("move"))}else if(void 0!==s.parent){var D=h(s.parent);if(null===D||i.hasElementWithId(D)){var S=null===D?void 0:D;i.batch(function(){var M=a.remove(l,f);M.emitAndNotify("moveout");for(var x=0;x<a.length;x++){var R=a[x],A=R._private.data;R.isNode()&&(A.parent=S)}M.restore(l,f)}),a.emitAndNotify("move")}}return this},[rd,Di,za,to,Ll,Ym,_f,Xm,lp,Ul,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var i=this[0];if(i)return i._private.group}},vs,qs,or,Ho,Ei].forEach(function(s){It(qn,s)});var hn={add:function(i){var a,l=this;if(Dr(i)){var f=i;if(f._private.cy===l)a=f.restore();else{for(var h=[],p=0;p<f.length;p++)h.push(f[p].json());a=new ci(l,h)}}else if(_n(i))a=new ci(l,i);else if(Ct(i)&&(_n(i.nodes)||_n(i.edges))){for(var y=i,D=[],E=["nodes","edges"],S=0,M=E.length;S<M;S++){var x=E[S],R=y[x];if(_n(R))for(var A=0,N=R.length;A<N;A++){var O=It({group:x},R[A]);D.push(O)}}a=new ci(l,D)}else a=new _l(l,i).collection();return a},remove:function(i){return Dr(i)||Je(i)&&(i=this.$(i)),i.remove()}};function Ut(s,i,a,l){var y=.1,D=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var E=0;E<4;++E)if("number"!=typeof arguments[E]||isNaN(arguments[E])||!isFinite(arguments[E]))return!1;s=Math.min(s,1),a=Math.min(a,1),s=Math.max(s,0),a=Math.max(a,0);var S=D?new Float32Array(11):new Array(11);function M(Y,X){return 1-3*X+3*Y}function x(Y,X){return 3*X-6*Y}function R(Y){return 3*Y}function A(Y,X,j){return((M(X,j)*Y+x(X,j))*Y+R(X))*Y}function N(Y,X,j){return 3*M(X,j)*Y*Y+2*x(X,j)*Y+R(X)}var Z=!1;var W=function(X){return Z||function $(){Z=!0,(s!==i||a!==l)&&function k(){for(var Y=0;Y<11;++Y)S[Y]=A(Y*y,s,a)}()}(),s===i&&a===l?X:0===X?0:1===X?1:A(function q(Y){for(var X=0,j=1;10!==j&&S[j]<=Y;++j)X+=y;--j;var ue=X+(Y-S[j])/(S[j+1]-S[j])*y,ne=N(ue,s,a);return ne>=.001?function O(Y,X){for(var j=0;j<4;++j){var te=N(X,s,a);if(0===te)return X;X-=(A(X,s,a)-Y)/te}return X}(Y,ue):0===ne?ue:function V(Y,X,j){var te,K,ue=0;do{(te=A(K=X+(j-X)/2,s,a)-Y)>0?j=K:X=K}while(Math.abs(te)>1e-7&&++ue<10);return K}(Y,X,X+y)}(X),i,l)};W.getControlPoints=function(){return[{x:s,y:i},{x:a,y:l}]};var U="generateBezier("+[s,i,a,l]+")";return W.toString=function(){return U},W}var hp=function(){function s(l){return-l.tension*l.x-l.friction*l.v}function i(l,f,h){var p={x:l.x+h.dx*f,v:l.v+h.dv*f,tension:l.tension,friction:l.friction};return{dx:p.v,dv:s(p)}}function a(l,f){var h={dx:l.v,dv:s(l)},p=i(l,.5*f,h),m=i(l,.5*f,p),b=i(l,f,m),D=1/6*(h.dv+2*(p.dv+m.dv)+b.dv);return l.x=l.x+1/6*(h.dx+2*(p.dx+m.dx)+b.dx)*f,l.v=l.v+D*f,l}return function l(f,h,p){var S,M,x,m={x:-1,v:0,tension:null,friction:null},b=[0],y=0,D=1e-4;for(f=parseFloat(f)||500,h=parseFloat(h)||20,p=p||null,m.tension=f,m.friction=h,M=(S=null!==p)?(y=l(f,h))/p*.016:.016;x=a(x||m,M),b.push(1+x.x),y+=16,Math.abs(x.x)>D&&Math.abs(x.v)>D;);return S?function(R){return b[R*(b.length-1)|0]}:y}}(),Wn=function(i,a,l,f){var h=Ut(i,a,l,f);return function(p,m,b){return p+(m-p)*h(b)}},Zl={linear:function(i,a,l){return i+(a-i)*l},ease:Wn(.25,.1,.25,1),"ease-in":Wn(.42,0,1,1),"ease-out":Wn(0,0,.58,1),"ease-in-out":Wn(.42,0,.58,1),"ease-in-sine":Wn(.47,0,.745,.715),"ease-out-sine":Wn(.39,.575,.565,1),"ease-in-out-sine":Wn(.445,.05,.55,.95),"ease-in-quad":Wn(.55,.085,.68,.53),"ease-out-quad":Wn(.25,.46,.45,.94),"ease-in-out-quad":Wn(.455,.03,.515,.955),"ease-in-cubic":Wn(.55,.055,.675,.19),"ease-out-cubic":Wn(.215,.61,.355,1),"ease-in-out-cubic":Wn(.645,.045,.355,1),"ease-in-quart":Wn(.895,.03,.685,.22),"ease-out-quart":Wn(.165,.84,.44,1),"ease-in-out-quart":Wn(.77,0,.175,1),"ease-in-quint":Wn(.755,.05,.855,.06),"ease-out-quint":Wn(.23,1,.32,1),"ease-in-out-quint":Wn(.86,0,.07,1),"ease-in-expo":Wn(.95,.05,.795,.035),"ease-out-expo":Wn(.19,1,.22,1),"ease-in-out-expo":Wn(1,0,0,1),"ease-in-circ":Wn(.6,.04,.98,.335),"ease-out-circ":Wn(.075,.82,.165,1),"ease-in-out-circ":Wn(.785,.135,.15,.86),spring:function(i,a,l){if(0===l)return Zl.linear;var f=hp(i,a,l);return function(h,p,m){return h+(p-h)*f(m)}},"cubic-bezier":Wn};function pp(s,i,a,l,f){if(1===l||i===a)return a;var h=f(i,a,l);return null==s||((s.roundValue||s.color)&&(h=Math.round(h)),void 0!==s.min&&(h=Math.max(h,s.min)),void 0!==s.max&&(h=Math.min(h,s.max))),h}function gp(s,i){return null!=s.pfValue||null!=s.value?null==s.pfValue||null!=i&&"%"===i.type.units?s.value:s.pfValue:s}function di(s,i,a,l,f){var h=null!=f?f.type:null;a<0?a=0:a>1&&(a=1);var p=gp(s,f),m=gp(i,f);if(ot(p)&&ot(m))return pp(h,p,m,a,l);if(_n(p)&&_n(m)){for(var b=[],y=0;y<m.length;y++){var D=p[y],E=m[y];if(null!=D&&null!=E){var S=pp(h,D,E,a,l);b.push(S)}else b.push(E)}return b}}function $u(s,i,a,l){var f=!l,h=s._private,p=i._private,m=p.easing,b=p.startTime,D=(l?s:s.cy()).style();if(!p.easingImpl)if(null==m)p.easingImpl=Zl.linear;else{var E,M,x;E=Je(m)?D.parse("transition-timing-function",m).value:m,Je(E)?(M=E,x=[]):(M=E[1],x=E.slice(2).map(function(pe){return+pe})),x.length>0?("spring"===M&&x.push(p.duration),p.easingImpl=Zl[M].apply(null,x)):p.easingImpl=Zl[M]}var A,R=p.easingImpl;if(A=0===p.duration?1:(a-b)/p.duration,p.applying&&(A=p.progress),A<0?A=0:A>1&&(A=1),null==p.delay){var N=p.startPosition,O=p.position;if(O&&f&&!s.locked()){var k={};ms(N.x,O.x)&&(k.x=di(N.x,O.x,A,R)),ms(N.y,O.y)&&(k.y=di(N.y,O.y,A,R)),s.position(k)}var V=p.startPan,q=p.pan,Z=h.pan,$=null!=q&&l;$&&(ms(V.x,q.x)&&(Z.x=di(V.x,q.x,A,R)),ms(V.y,q.y)&&(Z.y=di(V.y,q.y,A,R)),s.emit("pan"));var W=p.startZoom,U=p.zoom,Y=null!=U&&l;Y&&(ms(W,U)&&(h.zoom=$c(h.minZoom,di(W,U,A,R),h.maxZoom)),s.emit("zoom")),($||Y)&&s.emit("viewport");var X=p.style;if(X&&X.length>0&&f){for(var j=0;j<X.length;j++){var te=X[j],K=te.name,ne=p.startStyle[K],fe=di(ne,te,A,R,D.properties[ne.name]);D.overrideBypass(s,K,fe)}s.emit("style")}}return p.progress=A,A}function ms(s,i){return!!(null!=s&&null!=i&&(ot(s)&&ot(i)||s&&i))}function Pf(s,i,a,l){var f=i._private;f.started=!0,f.startTime=a-f.progress*f.duration}function Of(s,i){var a=i._private.aniEles,l=[];function f(D,E){var S=D._private,M=S.animation.current,x=S.animation.queue,R=!1;if(0===M.length){var A=x.shift();A&&M.push(A)}for(var N=function(Z){for(var $=Z.length-1;$>=0;$--)(0,Z[$])();Z.splice(0,Z.length)},O=M.length-1;O>=0;O--){var k=M[O],V=k._private;V.stopped?(M.splice(O,1),V.hooked=!1,V.playing=!1,V.started=!1,N(V.frames)):!V.playing&&!V.applying||(V.playing&&V.applying&&(V.applying=!1),V.started||Pf(0,k,s),$u(D,k,s,E),V.applying&&(V.applying=!1),N(V.frames),null!=V.step&&V.step(s),k.completed()&&(M.splice(O,1),V.hooked=!1,V.playing=!1,V.started=!1,N(V.completes)),R=!0)}return!E&&0===M.length&&0===x.length&&l.push(D),R}for(var h=!1,p=0;p<a.length;p++){var b=f(a[p]);h=h||b}var y=f(i,!0);(h||y)&&(a.length>0?i.notify("draw",a):i.notify("draw")),a.unmerge(l),i.emit("step")}var vp={animate:Ot.animate(),animation:Ot.animation(),animated:Ot.animated(),clearQueue:Ot.clearQueue(),delay:Ot.delay(),delayAnimation:Ot.delayAnimation(),stop:Ot.stop(),addToAnimationPool:function(i){this.styleEnabled()&&this._private.aniEles.merge(i)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var i=this;if(i._private.animationsRunning=!0,i.styleEnabled()){var l=i.renderer();l&&l.beforeRender?l.beforeRender(function(h,p){Of(p,i)},l.beforeRenderPriorities.animations):function a(){i._private.animationsRunning&&Nc(function(h){Of(h,i),a()})}()}}},xo={qualifierCompare:function(i,a){return null==i||null==a?null==i&&null==a:i.sameText(a)},eventMatches:function(i,a,l){var f=a.qualifier;return null==f||i!==l.target&&du(l.target)&&f.matches(l.target)},addEventFields:function(i,a){a.cy=i,a.target=i},callbackContext:function(i,a,l){return null!=a.qualifier?l.target:i}},Te=function(i){return Je(i)?new li(i):i},Dn={createEmitter:function(){var i=this._private;return i.emitter||(i.emitter=new Lu(xo,this)),this},emitter:function(){return this._private.emitter},on:function(i,a,l){return this.emitter().on(i,Te(a),l),this},removeListener:function(i,a,l){return this.emitter().removeListener(i,Te(a),l),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(i,a,l){return this.emitter().one(i,Te(a),l),this},once:function(i,a,l){return this.emitter().one(i,Te(a),l),this},emit:function(i,a){return this.emitter().emit(i,a),this},emitAndNotify:function(i,a){return this.emit(i),this.notify(i,a),this}};Ot.eventAliasesOn(Dn);var pd={png:function(i){return this._private.renderer.png(i=i||{})},jpg:function(i){var a=this._private.renderer;return(i=i||{}).bg=i.bg||"#fff",a.jpg(i)}};pd.jpeg=pd.jpg;var Zs={layout:function(i){var a=this;if(null!=i)if(null!=i.name){var h,l=i.name,f=a.extension("layout",l);if(null!=f)return h=Je(i.eles)?a.$(i.eles):null!=i.eles?i.eles:a.$(),new f(It({},i,{cy:a,eles:h}));$n("No such layout `"+l+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else $n("A `name` must be specified to make a layout");else $n("Layout options must be specified to make a layout")}};Zs.createLayout=Zs.makeLayout=Zs.layout;var fi={notify:function(i,a){var l=this._private;if(this.batching()){l.batchNotifications=l.batchNotifications||{};var f=l.batchNotifications[i]=l.batchNotifications[i]||this.collection();null!=a&&f.merge(a)}else if(l.notificationsEnabled){var h=this.renderer();this.destroyed()||!h||h.notify(i,a)}},notifications:function(i){var a=this._private;return void 0===i?a.notificationsEnabled:(a.notificationsEnabled=!!i,this)},noNotifications:function(i){this.notifications(!1),i(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var i=this._private;return null==i.batchCount&&(i.batchCount=0),0===i.batchCount&&(i.batchStyleEles=this.collection(),i.batchNotifications={}),i.batchCount++,this},endBatch:function(){var i=this._private;if(0===i.batchCount)return this;if(i.batchCount--,0===i.batchCount){i.batchStyleEles.updateStyle();var a=this.renderer();Object.keys(i.batchNotifications).forEach(function(l){var f=i.batchNotifications[l];f.empty()?a.notify(l):a.notify(l,f)})}return this},batch:function(i){return this.startBatch(),i(),this.endBatch(),this},batchData:function(i){var a=this;return this.batch(function(){for(var l=Object.keys(i),f=0;f<l.length;f++){var h=l[f],p=i[h];a.getElementById(h).data(p)}})}},gd=Pr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),ys={renderTo:function(i,a,l,f){return this._private.renderer.renderTo(i,a,l,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(i){var a=this,l=a.extension("renderer",i.name);if(null!=l){void 0!==i.wheelSensitivity&&Gt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=gd(i);f.cy=a,a._private.renderer=new l(f),this.notify("init")}else $n("Can not initialise: No such renderer `".concat(i.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var i=this;i.notify("destroy");var a=i.container();if(a)for(a._cyreg=null;a.childNodes.length>0;)a.removeChild(a.childNodes[0]);i._private.renderer=null,i.mutableElements().forEach(function(l){var f=l._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(i){return this.on("render",i)},offRender:function(i){return this.off("render",i)}};ys.invalidateDimensions=ys.resize;var Hi={collection:function(i,a){return Je(i)?this.$(i):Dr(i)?i.collection():_n(i)?(a||(a={}),new ci(this,i,a.unique,a.removed)):new ci(this)},nodes:function(i){var a=this.$(function(l){return l.isNode()});return i?a.filter(i):a},edges:function(i){var a=this.$(function(l){return l.isEdge()});return i?a.filter(i):a},$:function(i){var a=this._private.elements;return i?a.filter(i):a.spawnSelf()},mutableElements:function(){return this._private.elements}};Hi.elements=Hi.filter=Hi.$;var $r={apply:function(s){for(var i=this,f=i._private.cy.collection(),h=0;h<s.length;h++){var p=s[h],m=i.getContextMeta(p);if(!m.empty){var b=i.getContextStyle(m),y=i.applyContextStyle(m,b,p);p._private.appliedInitStyle?i.updateTransitions(p,y.diffProps):p._private.appliedInitStyle=!0,i.updateStyleHints(p)&&f.push(p)}}return f},getPropertiesDiff:function(s,i){var a=this,l=a._private.propDiffs=a._private.propDiffs||{},f=s+"-"+i,h=l[f];if(h)return h;for(var p=[],m={},b=0;b<a.length;b++){var y=a[b],E="t"===i[b],S="t"===s[b]!==E,M=y.mappedProperties.length>0;if(S||E&&M){var x=void 0;S&&M||S?x=y.properties:M&&(x=y.mappedProperties);for(var R=0;R<x.length;R++){for(var A=x[R],N=A.name,O=!1,k=b+1;k<a.length&&("t"!==i[k]||!(O=null!=a[k].properties[A.name]));k++);!m[N]&&!O&&(m[N]=!0,p.push(N))}}}return l[f]=p,p},getContextMeta:function(s){for(var l,i=this,a="",f=s._private.styleCxtKey||"",h=0;h<i.length;h++){var p=i[h];a+=p.selector&&p.selector.matches(s)?"t":"f"}return l=i.getPropertiesDiff(f,a),s._private.styleCxtKey=a,{key:a,diffPropNames:l,empty:0===l.length}},getContextStyle:function(s){var i=s.key,l=this._private.contextStyles=this._private.contextStyles||{};if(l[i])return l[i];for(var f={_private:{key:i}},h=0;h<this.length;h++){var p=this[h];if("t"===i[h])for(var b=0;b<p.properties.length;b++){var y=p.properties[b];f[y.name]=y}}return l[i]=f,f},applyContextStyle:function(s,i,a){for(var f=s.diffPropNames,h={},p=this.types,m=0;m<f.length;m++){var b=f[m],y=i[b],D=a.pstyle(b);if(!y){if(!D)continue;y=D.bypass?{name:b,deleteBypassed:!0}:{name:b,delete:!0}}if(D!==y){if(y.mapped===p.fn&&null!=D&&null!=D.mapping&&D.mapping.value===y.value){var E=D.mapping;if((E.fnValue=y.value(a))===E.prevFnValue)continue}var M=h[b]={prev:D};this.applyParsedProperty(a,y),M.next=a.pstyle(b),M.next&&M.next.bypass&&(M.next=M.next.bypassed)}}return{diffProps:h}},updateStyleHints:function(s){var l,i=s._private,a=this,f=a.propertyGroupKeys,h=function(Ke,tt,_t){return a.getPropertiesHash(Ke,tt,_t)},p=i.styleKey;if(s.removed())return!1;var Ke,m="nodes"===i.group,b=s._private.style;l=Object.keys(b);for(var y=0;y<f.length;y++)i.styleKeys[f[y]]=[Os,Pc];for(var E=function(Ke,tt){return i.styleKeys[tt][0]=vu(Ke,i.styleKeys[tt][0])},S=function(Ke,tt){return i.styleKeys[tt][1]=mu(Ke,i.styleKeys[tt][1])},M=function(Ke,tt){E(Ke,tt),S(Ke,tt)},x=function(Ke,tt){for(var _t=0;_t<Ke.length;_t++){var Jt=Ke.charCodeAt(_t);E(Jt,tt),S(Jt,tt)}},N=0;N<l.length;N++){var O=l[N],k=b[O];if(null!=k){var V=this.properties[O],q=V.type,Z=V.groupKey,$=void 0;null!=V.hashOverride?$=V.hashOverride(s,k):null!=k.pfValue&&($=k.pfValue);var W=null==V.enums?k.value:null,U=null!=$,j=k.units;!q.number||!U&&null==W||q.multiple?x(k.strValue,Z):(M(-128<(Ke=U?$:W)&&Ke<128&&Math.floor(Ke)!==Ke?2e9-(1024*Ke|0):Ke,Z),!U&&null!=j&&x(j,Z))}}for(var K=[Os,Pc],ue=0;ue<f.length;ue++){var re=i.styleKeys[f[ue]];K[0]=vu(re[0],K[0]),K[1]=mu(re[1],K[1])}i.styleKey=function(i,a){return 2097152*i+a}(K[0],K[1]);var fe=i.styleKeys;i.labelDimsKey=La(fe.labelDimensions);var pe=h(s,["label"],fe.labelDimensions);if(i.labelKey=La(pe),i.labelStyleKey=La(Oc(fe.commonLabel,pe)),!m){var De=h(s,["source-label"],fe.labelDimensions);i.sourceLabelKey=La(De),i.sourceLabelStyleKey=La(Oc(fe.commonLabel,De));var he=h(s,["target-label"],fe.labelDimensions);i.targetLabelKey=La(he),i.targetLabelStyleKey=La(Oc(fe.commonLabel,he))}if(m){var be=i.styleKeys,de=be.pie,Re=[be.nodeBody,be.nodeBorder,be.backgroundImage,be.compound,de].filter(function(Le){return null!=Le}).reduce(Oc,[Os,Pc]);i.nodeKey=La(Re),i.hasPie=null!=de&&de[0]!==Os&&de[1]!==Pc}return p!==i.styleKey},clearStyleHints:function(s){var i=s._private;i.styleCxtKey="",i.styleKeys={},i.styleKey=null,i.labelKey=null,i.labelStyleKey=null,i.sourceLabelKey=null,i.sourceLabelStyleKey=null,i.targetLabelKey=null,i.targetLabelStyleKey=null,i.nodeKey=null,i.hasPie=null},applyParsedProperty:function(s,i){var h,a=this,l=i,f=s._private.style,p=a.types,m=a.properties[l.name].type,b=l.bypass,y=f[l.name],D=y&&y.bypass,E=s._private,S="mapping",M=function(Ae){return null==Ae?null:null!=Ae.pfValue?Ae.pfValue:Ae.value},x=function(){var Ae=M(y),Fe=M(l);a.checkTriggers(s,l.name,Ae,Fe)};if(l&&"pie"===l.name.substr(0,3)&&Gt("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===i.name&&s.isEdge()&&("bezier"!==i.value&&s.isLoop()||"haystack"===i.value&&(s.source().isParent()||s.target().isParent()))&&(l=i=this.parse(i.name,"bezier",b)),l.delete)return f[l.name]=void 0,x(),!0;if(l.deleteBypassed)return y?!!y.bypass&&(y.bypassed=void 0,x(),!0):(x(),!0);if(l.deleteBypass)return y?!!y.bypass&&(f[l.name]=y.bypassed,x(),!0):(x(),!0);var R=function(){Gt("Do not assign mappings to elements without corresponding data (i.e. ele `"+s.id()+"` has no mapping for property `"+l.name+"` with data field `"+l.field+"`); try a `["+l.field+"]` selector to limit scope to elements with `"+l.field+"` defined")};switch(l.mapped){case p.mapData:for(var A=l.field.split("."),N=E.data,O=0;O<A.length&&N;O++)N=N[A[O]];if(null==N)return R(),!1;var V;if(!ot(N))return Gt("Do not use continuous mappers without specifying numeric data (i.e. `"+l.field+": "+N+"` for `"+s.id()+"` is non-numeric)"),!1;var q=l.fieldMax-l.fieldMin;if((V=0===q?0:(N-l.fieldMin)/q)<0?V=0:V>1&&(V=1),m.color){var Z=l.valueMin[0],W=l.valueMin[1],U=l.valueMax[1],Y=l.valueMin[2],X=l.valueMax[2],j=null==l.valueMin[3]?1:l.valueMin[3],te=null==l.valueMax[3]?1:l.valueMax[3],K=[Math.round(Z+(l.valueMax[0]-Z)*V),Math.round(W+(U-W)*V),Math.round(Y+(X-Y)*V),Math.round(j+(te-j)*V)];h={bypass:l.bypass,name:l.name,value:K,strValue:"rgb("+K[0]+", "+K[1]+", "+K[2]+")"}}else{if(!m.number)return!1;h=this.parse(l.name,l.valueMin+(l.valueMax-l.valueMin)*V,l.bypass,S)}if(!h)return R(),!1;h.mapping=l,l=h;break;case p.data:for(var ne=l.field.split("."),re=E.data,fe=0;fe<ne.length&&re;fe++)re=re[ne[fe]];if(null!=re&&(h=this.parse(l.name,re,l.bypass,S)),!h)return R(),!1;h.mapping=l,l=h;break;case p.fn:var he=null!=l.fnValue?l.fnValue:(0,l.value)(s);if(l.prevFnValue=he,null==he)return Gt("Custom function mappers may not return null (i.e. `"+l.name+"` for ele `"+s.id()+"` is null)"),!1;if(!(h=this.parse(l.name,he,l.bypass,S)))return Gt("Custom function mappers may not return invalid values for the property type (i.e. `"+l.name+"` for ele `"+s.id()+"` is invalid)"),!1;h.mapping=Yr(l),l=h;break;case void 0:break;default:return!1}return b?(l.bypassed=D?y.bypassed:y,f[l.name]=l):D?y.bypassed=l:f[l.name]=l,x(),!0},cleanElements:function(s,i){for(var a=0;a<s.length;a++){var l=s[a];if(this.clearStyleHints(l),l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),i)for(var f=l._private.style,h=Object.keys(f),p=0;p<h.length;p++){var m=h[p],b=f[m];null!=b&&(b.bypass?b.bypassed=null:f[m]=null)}else l._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(s,i){var a=this,l=s._private,f=s.pstyle("transition-property").value,h=s.pstyle("transition-duration").pfValue,p=s.pstyle("transition-delay").pfValue;if(f.length>0&&h>0){for(var m={},b=!1,y=0;y<f.length;y++){var D=f[y],E=s.pstyle(D),S=i[D];if(S){var x=S.prev,R=null!=S.next?S.next:E,A=!1,N=void 0,O=1e-6;x&&(ot(x.pfValue)&&ot(R.pfValue)?N=x.pfValue+O*(A=R.pfValue-x.pfValue):ot(x.value)&&ot(R.value)?N=x.value+O*(A=R.value-x.value):_n(x.value)&&_n(R.value)&&(A=x.value[0]!==R.value[0]||x.value[1]!==R.value[1]||x.value[2]!==R.value[2],N=x.strValue),A&&(m[D]=R.strValue,this.applyBypass(s,D,N),b=!0))}}if(!b)return;l.transitioning=!0,new mr(function(k){p>0?s.delayAnimation(p).play().promise().then(k):k()}).then(function(){return s.animation({style:m,duration:h,easing:s.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){a.removeBypasses(s,f),s.emitAndNotify("style"),l.transitioning=!1})}else l.transitioning&&(this.removeBypasses(s,f),s.emitAndNotify("style"),l.transitioning=!1)},checkTrigger:function(s,i,a,l,f,h){var p=this.properties[i],m=f(p);null!=m&&m(a,l)&&h(p)},checkZOrderTrigger:function(s,i,a,l){var f=this;this.checkTrigger(s,i,a,l,function(h){return h.triggersZOrder},function(){f._private.cy.notify("zorder",s)})},checkBoundsTrigger:function(s,i,a,l){this.checkTrigger(s,i,a,l,function(f){return f.triggersBounds},function(f){s.dirtyCompoundBoundsCache(),s.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&("curve-style"===i&&("bezier"===a||"bezier"===l)||"display"===i&&("none"===a||"none"===l))&&s.parallelEdges().forEach(function(h){h.isBundledBezier()&&h.dirtyBoundingBoxCache()})})},checkTriggers:function(s,i,a,l){s.dirtyStyleCache(),this.checkZOrderTrigger(s,i,a,l),this.checkBoundsTrigger(s,i,a,l)}},ta={applyBypass:function(s,i,a,l){var h=[];if("*"===i||"**"===i){if(void 0!==a)for(var m=0;m<this.properties.length;m++){var D=this.parse(this.properties[m].name,a,!0);D&&h.push(D)}}else if(Je(i)){var E=this.parse(i,a,!0);E&&h.push(E)}else{if(!Ct(i))return!1;var S=i;l=a;for(var M=Object.keys(S),x=0;x<M.length;x++){var R=M[x],A=S[R];if(void 0===A&&(A=S[Rs(R)]),void 0!==A){var N=this.parse(R,A,!0);N&&h.push(N)}}}if(0===h.length)return!1;for(var O=!1,k=0;k<s.length;k++){for(var V=s[k],q={},Z=void 0,$=0;$<h.length;$++){var W=h[$];if(l){var U=V.pstyle(W.name);Z=q[W.name]={prev:U}}O=this.applyParsedProperty(V,Yr(W))||O,l&&(Z.next=V.pstyle(W.name))}O&&this.updateStyleHints(V),l&&this.updateTransitions(V,q,!0)}return O},overrideBypass:function(s,i,a){i=fo(i);for(var l=0;l<s.length;l++){var f=s[l],h=f._private.style[i],p=this.properties[i].type,m=p.color,b=p.mutiple,y=h?null!=h.pfValue?h.pfValue:h.value:null;h&&h.bypass?(h.value=a,null!=h.pfValue&&(h.pfValue=a),h.strValue=m?"rgb("+a.join(",")+")":b?a.join(" "):""+a,this.updateStyleHints(f)):this.applyBypass(f,i,a),this.checkTriggers(f,i,y,a)}},removeAllBypasses:function(s,i){return this.removeBypasses(s,this.propertyNames,i)},removeBypasses:function(s,i,a){for(var f=0;f<s.length;f++){for(var h=s[f],p={},m=0;m<i.length;m++){var b=i[m],y=this.properties[b],D=h.pstyle(y.name);if(D&&D.bypass){var S=this.parse(b,"",!0),M=p[y.name]={prev:D};this.applyParsedProperty(h,S),M.next=h.pstyle(y.name)}}this.updateStyleHints(h),a&&this.updateTransitions(h,p,!0)}}},Kl={getEmSizeInPixels:function(){var s=this.containerCss("font-size");return null!=s?parseFloat(s):1},containerCss:function(s){var i=this._private.cy,a=i.container(),l=i.window();if(l&&a&&l.getComputedStyle)return l.getComputedStyle(a).getPropertyValue(s)}},cr={getRenderedStyle:function(s,i){return i?this.getStylePropertyValue(s,i,!0):this.getRawStyle(s,!0)},getRawStyle:function(s,i){var a=this;if(s=s[0]){for(var l={},f=0;f<a.properties.length;f++){var h=a.properties[f],p=a.getStylePropertyValue(s,h.name,i);null!=p&&(l[h.name]=p,l[Rs(h.name)]=p)}return l}},getIndexedStyle:function(s,i,a,l){return s.pstyle(i)[a][l]??s.cy().style().getDefaultProperty(i)[a][0]},getStylePropertyValue:function(s,i,a){if(s=s[0]){var f=this.properties[i];f.alias&&(f=f.pointsTo);var h=f.type,p=s.pstyle(f.name);if(p){var m=p.value,b=p.units,y=p.strValue;if(a&&h.number&&null!=m&&ot(m)){var D=s.cy().zoom(),E=function(A){return A*D},S=function(A,N){return E(A)+N},M=_n(m);return(M?b.every(function(R){return null!=R}):null!=b)?M?m.map(function(R,A){return S(R,b[A])}).join(" "):S(m,b):M?m.map(function(R){return Je(R)?R:""+E(R)}).join(" "):""+E(m)}if(null!=y)return y}return null}},getAnimationStartStyle:function(s,i){for(var a={},l=0;l<i.length;l++){var h=i[l].name,p=s.pstyle(h);void 0!==p&&(p=Ct(p)?this.parse(h,p.strValue):this.parse(h,p)),p&&(a[h]=p)}return a},getPropsList:function(s){var a=[],l=s,f=this.properties;if(l)for(var h=Object.keys(l),p=0;p<h.length;p++){var m=h[p],b=l[m],y=f[m]||f[fo(m)],D=this.parse(y.name,b);D&&a.push(D)}return a},getNonDefaultPropertiesHash:function(s,i,a){var h,p,m,b,y,l=a.slice();for(b=0;b<i.length;b++)if(null!=(h=s.pstyle(i[b],!1)))if(null!=h.pfValue)l[0]=vu(m,l[0]),l[1]=mu(m,l[1]);else for(p=h.strValue,y=0;y<p.length;y++)m=p.charCodeAt(y),l[0]=vu(m,l[0]),l[1]=mu(m,l[1]);return l}};cr.getPropertiesHash=cr.getNonDefaultPropertiesHash;var io={appendFromJson:function(s){for(var i=this,a=0;a<s.length;a++){var l=s[a],f=l.selector,h=l.style||l.css,p=Object.keys(h);i.selector(f);for(var m=0;m<p.length;m++){var b=p[m];i.css(b,h[b])}}return i},fromJson:function(s){var i=this;return i.resetToDefault(),i.appendFromJson(s),i},json:function(){for(var s=[],i=this.defaultLength;i<this.length;i++){for(var a=this[i],l=a.selector,f=a.properties,h={},p=0;p<f.length;p++){var m=f[p];h[m.name]=m.strValue}s.push({selector:l?l.toString():"core",style:h})}return s}},vd={appendFromString:function(s){var f,h,p,a=this,l=""+s;function m(){l=l.length>f.length?l.substr(f.length):""}function b(){h=h.length>p.length?h.substr(p.length):""}for(l=l.replace(/[/][*](\s|.)+?[*][/]/g,"");!l.match(/^\s*$/);){var D=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!D){Gt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}f=D[0];var E=D[1];if("core"!==E&&new li(E).invalid)Gt("Skipping parsing of block: Invalid selector found in string stylesheet: "+E),m();else{var M=D[2],x=!1;h=M;for(var R=[];!h.match(/^\s*$/);){var N=h.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!N){Gt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+M),x=!0;break}p=N[0];var O=N[1],k=N[2];this.properties[O]?a.parse(O,k)?(R.push({name:O,val:k}),b()):(Gt("Skipping property: Invalid property definition in: "+p),b()):(Gt("Skipping property: Invalid property name in: "+p),b())}if(x){m();break}a.selector(E);for(var Z=0;Z<R.length;Z++){var $=R[Z];a.css($.name,$.val)}m()}}return a},fromString:function(s){var i=this;return i.resetToDefault(),i.appendFromString(s),i}},Mr={};(function(){var s=Kr,i=pu,a=Ns,h=function(Re){return"^"+Re+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},p=function(Re){var Le=s+"|\\w+|"+i+"|"+a+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Re+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+s+")\\s*\\,\\s*("+s+")\\s*,\\s*("+Le+")\\s*\\,\\s*("+Le+")\\)$"},m=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Mr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:h("data")},layoutData:{mapping:!0,regex:h("layoutData")},scratch:{mapping:!0,regex:h("scratch")},mapData:{mapping:!0,regex:p("mapData")},mapLayoutData:{mapping:!0,regex:p("mapLayoutData")},mapScratch:{mapping:!0,regex:p("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:m,singleRegexMatchValue:!0},urls:{regexes:m,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Re,Le){switch(Re.length){case 2:return"deg"!==Le[0]&&"rad"!==Le[0]&&"deg"!==Le[1]&&"rad"!==Le[1];case 1:return Je(Re[0])||"deg"===Le[0]||"rad"===Le[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Re){var Le=Re.length;return 1===Le||2===Le||4===Le}}};var b={zeroNonZero:function(Re,Le){return(null==Re||null==Le)&&Re!==Le||0==Re&&0!=Le||0!=Re&&0==Le},any:function(Re,Le){return Re!=Le},emptyNonEmpty:function(Re,Le){var Ke=en(Re),tt=en(Le);return Ke&&!tt||!Ke&&tt}},y=Mr.types,D=[{name:"label",type:y.text,triggersBounds:b.any,triggersZOrder:b.emptyNonEmpty},{name:"text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any}],E=[{name:"source-label",type:y.text,triggersBounds:b.any},{name:"source-text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"source-text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"source-text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"source-text-offset",type:y.size,triggersBounds:b.any}],S=[{name:"target-label",type:y.text,triggersBounds:b.any},{name:"target-text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"target-text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"target-text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"target-text-offset",type:y.size,triggersBounds:b.any}],M=[{name:"font-family",type:y.fontFamily,triggersBounds:b.any},{name:"font-style",type:y.fontStyle,triggersBounds:b.any},{name:"font-weight",type:y.fontWeight,triggersBounds:b.any},{name:"font-size",type:y.size,triggersBounds:b.any},{name:"text-transform",type:y.textTransform,triggersBounds:b.any},{name:"text-wrap",type:y.textWrap,triggersBounds:b.any},{name:"text-overflow-wrap",type:y.textOverflowWrap,triggersBounds:b.any},{name:"text-max-width",type:y.size,triggersBounds:b.any},{name:"text-outline-width",type:y.size,triggersBounds:b.any},{name:"line-height",type:y.positiveNumber,triggersBounds:b.any}],x=[{name:"text-valign",type:y.valign,triggersBounds:b.any},{name:"text-halign",type:y.halign,triggersBounds:b.any},{name:"color",type:y.color},{name:"text-outline-color",type:y.color},{name:"text-outline-opacity",type:y.zeroOneNumber},{name:"text-background-color",type:y.color},{name:"text-background-opacity",type:y.zeroOneNumber},{name:"text-background-padding",type:y.size,triggersBounds:b.any},{name:"text-border-opacity",type:y.zeroOneNumber},{name:"text-border-color",type:y.color},{name:"text-border-width",type:y.size,triggersBounds:b.any},{name:"text-border-style",type:y.borderStyle,triggersBounds:b.any},{name:"text-background-shape",type:y.textBackgroundShape,triggersBounds:b.any},{name:"text-justification",type:y.justification}],R=[{name:"events",type:y.bool,triggersZOrder:b.any},{name:"text-events",type:y.bool,triggersZOrder:b.any}],A=[{name:"display",type:y.display,triggersZOrder:b.any,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:y.visibility,triggersZOrder:b.any},{name:"opacity",type:y.zeroOneNumber,triggersZOrder:b.zeroNonZero},{name:"text-opacity",type:y.zeroOneNumber},{name:"min-zoomed-font-size",type:y.size},{name:"z-compound-depth",type:y.zCompoundDepth,triggersZOrder:b.any},{name:"z-index-compare",type:y.zIndexCompare,triggersZOrder:b.any},{name:"z-index",type:y.number,triggersZOrder:b.any}],N=[{name:"overlay-padding",type:y.size,triggersBounds:b.any},{name:"overlay-color",type:y.color},{name:"overlay-opacity",type:y.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"overlay-shape",type:y.overlayShape,triggersBounds:b.any}],O=[{name:"underlay-padding",type:y.size,triggersBounds:b.any},{name:"underlay-color",type:y.color},{name:"underlay-opacity",type:y.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"underlay-shape",type:y.overlayShape,triggersBounds:b.any}],k=[{name:"transition-property",type:y.propList},{name:"transition-duration",type:y.time},{name:"transition-delay",type:y.time},{name:"transition-timing-function",type:y.easing}],V=function(Re,Le){return"label"===Le.value?-Re.poolIndex():Le.pfValue},q=[{name:"height",type:y.nodeSize,triggersBounds:b.any,hashOverride:V},{name:"width",type:y.nodeSize,triggersBounds:b.any,hashOverride:V},{name:"shape",type:y.nodeShape,triggersBounds:b.any},{name:"shape-polygon-points",type:y.polygonPointList,triggersBounds:b.any},{name:"background-color",type:y.color},{name:"background-fill",type:y.fill},{name:"background-opacity",type:y.zeroOneNumber},{name:"background-blacken",type:y.nOneOneNumber},{name:"background-gradient-stop-colors",type:y.colors},{name:"background-gradient-stop-positions",type:y.percentages},{name:"background-gradient-direction",type:y.gradientDirection},{name:"padding",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"padding-relative-to",type:y.paddingRelativeTo,triggersBounds:b.any},{name:"bounds-expansion",type:y.boundsExpansion,triggersBounds:b.any}],Z=[{name:"border-color",type:y.color},{name:"border-opacity",type:y.zeroOneNumber},{name:"border-width",type:y.size,triggersBounds:b.any},{name:"border-style",type:y.borderStyle}],$=[{name:"background-image",type:y.urls},{name:"background-image-crossorigin",type:y.bgCrossOrigin},{name:"background-image-opacity",type:y.zeroOneNumbers},{name:"background-image-containment",type:y.bgContainment},{name:"background-image-smoothing",type:y.bools},{name:"background-position-x",type:y.bgPos},{name:"background-position-y",type:y.bgPos},{name:"background-width-relative-to",type:y.bgRelativeTo},{name:"background-height-relative-to",type:y.bgRelativeTo},{name:"background-repeat",type:y.bgRepeat},{name:"background-fit",type:y.bgFit},{name:"background-clip",type:y.bgClip},{name:"background-width",type:y.bgWH},{name:"background-height",type:y.bgWH},{name:"background-offset-x",type:y.bgPos},{name:"background-offset-y",type:y.bgPos}],W=[{name:"position",type:y.position,triggersBounds:b.any},{name:"compound-sizing-wrt-labels",type:y.compoundIncludeLabels,triggersBounds:b.any},{name:"min-width",type:y.size,triggersBounds:b.any},{name:"min-width-bias-left",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-width-bias-right",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-height",type:y.size,triggersBounds:b.any},{name:"min-height-bias-top",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-height-bias-bottom",type:y.sizeMaybePercent,triggersBounds:b.any}],U=[{name:"line-style",type:y.lineStyle},{name:"line-color",type:y.color},{name:"line-fill",type:y.fill},{name:"line-cap",type:y.lineCap},{name:"line-opacity",type:y.zeroOneNumber},{name:"line-dash-pattern",type:y.numbers},{name:"line-dash-offset",type:y.number},{name:"line-gradient-stop-colors",type:y.colors},{name:"line-gradient-stop-positions",type:y.percentages},{name:"curve-style",type:y.curveStyle,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:y.zeroOneNumber,triggersBounds:b.any},{name:"source-endpoint",type:y.edgeEndpoint,triggersBounds:b.any},{name:"target-endpoint",type:y.edgeEndpoint,triggersBounds:b.any},{name:"control-point-step-size",type:y.size,triggersBounds:b.any},{name:"control-point-distances",type:y.bidirectionalSizes,triggersBounds:b.any},{name:"control-point-weights",type:y.numbers,triggersBounds:b.any},{name:"segment-distances",type:y.bidirectionalSizes,triggersBounds:b.any},{name:"segment-weights",type:y.numbers,triggersBounds:b.any},{name:"taxi-turn",type:y.bidirectionalSizeMaybePercent,triggersBounds:b.any},{name:"taxi-turn-min-distance",type:y.size,triggersBounds:b.any},{name:"taxi-direction",type:y.axisDirection,triggersBounds:b.any},{name:"edge-distances",type:y.edgeDistances,triggersBounds:b.any},{name:"arrow-scale",type:y.positiveNumber,triggersBounds:b.any},{name:"loop-direction",type:y.angle,triggersBounds:b.any},{name:"loop-sweep",type:y.angle,triggersBounds:b.any},{name:"source-distance-from-node",type:y.size,triggersBounds:b.any},{name:"target-distance-from-node",type:y.size,triggersBounds:b.any}],Y=[{name:"ghost",type:y.bool,triggersBounds:b.any},{name:"ghost-offset-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"ghost-offset-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"ghost-opacity",type:y.zeroOneNumber}],X=[{name:"selection-box-color",type:y.color},{name:"selection-box-opacity",type:y.zeroOneNumber},{name:"selection-box-border-color",type:y.color},{name:"selection-box-border-width",type:y.size},{name:"active-bg-color",type:y.color},{name:"active-bg-opacity",type:y.zeroOneNumber},{name:"active-bg-size",type:y.size},{name:"outside-texture-bg-color",type:y.color},{name:"outside-texture-bg-opacity",type:y.zeroOneNumber}],j=[];Mr.pieBackgroundN=16,j.push({name:"pie-size",type:y.sizeMaybePercent});for(var te=1;te<=Mr.pieBackgroundN;te++)j.push({name:"pie-"+te+"-background-color",type:y.color}),j.push({name:"pie-"+te+"-background-size",type:y.percent}),j.push({name:"pie-"+te+"-background-opacity",type:y.zeroOneNumber});var K=[],ue=Mr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:y.arrowShape,triggersBounds:b.any},{name:"arrow-color",type:y.color},{name:"arrow-fill",type:y.arrowFill}].forEach(function(de){ue.forEach(function(Re){K.push({name:Re+"-"+de.name,type:de.type,triggersBounds:de.triggersBounds})})},{});var ne=Mr.properties=[].concat(R,k,A,N,O,Y,x,M,D,E,S,q,Z,$,j,W,U,K,X),re=Mr.propertyGroups={behavior:R,transition:k,visibility:A,overlay:N,underlay:O,ghost:Y,commonLabel:x,labelDimensions:M,mainLabel:D,sourceLabel:E,targetLabel:S,nodeBody:q,nodeBorder:Z,backgroundImage:$,pie:j,compound:W,edgeLine:U,edgeArrow:K,core:X},fe=Mr.propertyGroupNames={};(Mr.propertyGroupKeys=Object.keys(re)).forEach(function(de){fe[de]=re[de].map(function(Re){return Re.name}),re[de].forEach(function(Re){return Re.groupKey=de})});var De=Mr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Mr.propertyNames=ne.map(function(de){return de.name});for(var he=0;he<ne.length;he++){var be=ne[he];ne[be.name]=be}for(var Ae=0;Ae<De.length;Ae++){var Fe=De[Ae],Ie={name:Fe.name,alias:!0,pointsTo:ne[Fe.pointsTo]};ne.push(Ie),ne[Fe.name]=Ie}})(),Mr.getDefaultProperty=function(s){return this.getDefaultProperties()[s]},Mr.getDefaultProperties=function(){var s=this._private;if(null!=s.defaultProperties)return s.defaultProperties;for(var i=It({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(b,y){for(var D=1;D<=Mr.pieBackgroundN;D++)b[y.name.replace("{{i}}",D)]=y.value;return b},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(b,y){return Mr.arrowPrefixes.forEach(function(D){b[D+"-"+y.name]=y.value}),b},{})),a={},l=0;l<this.properties.length;l++){var f=this.properties[l];if(!f.pointsTo){var h=f.name,m=this.parse(h,i[h]);a[h]=m}}return s.defaultProperties=a,s.defaultProperties},Mr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Uo={parse:function(s,i,a,l){var f=this;if(Fn(i))return f.parseImplWarn(s,i,a,l);var D,b=lf(s,""+i,a?"t":"f","mapping"===l||!0===l||!1===l||null==l?"dontcare":l),y=f.propCache=f.propCache||[];return(D=y[b])||(D=y[b]=f.parseImplWarn(s,i,a,l)),(a||"mapping"===l)&&(D=Yr(D))&&(D.value=Yr(D.value)),D},parseImplWarn:function(s,i,a,l){var f=this.parseImpl(s,i,a,l);return!f&&null!=i&&Gt("The style property `".concat(s,": ").concat(i,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===i&&Gt("The style value of `label` is deprecated for `"+f.name+"`"),f}};Uo.parseImpl=function(s,i,a,l){var f=this;s=fo(s);var h=f.properties[s],p=i,m=f.types;if(!h||void 0===i)return null;h.alias&&(s=(h=h.pointsTo).name);var b=Je(i);b&&(i=i.trim());var D,E,y=h.type;if(!y)return null;if(a&&(""===i||null===i))return{name:s,value:i,bypass:!0,deleteBypass:!0};if(Fn(i))return{name:s,value:i,strValue:"fn",mapped:m.fn,bypass:a};if(!(!b||l||i.length<7||"a"!==i[1])){if(i.length>=7&&"d"===i[0]&&(D=new RegExp(m.data.regex).exec(i)))return!a&&{name:s,value:D,strValue:""+i,mapped:m.data,field:D[1],bypass:a};if(i.length>=10&&"m"===i[0]&&(E=new RegExp(m.mapData.regex).exec(i))){if(a||y.multiple)return!1;var M=m.mapData;if(!y.color&&!y.number)return!1;var x=this.parse(s,E[4]);if(!x||x.mapped)return!1;var R=this.parse(s,E[5]);if(!R||R.mapped)return!1;if(x.pfValue===R.pfValue||x.strValue===R.strValue)return Gt("`"+s+": "+i+"` is not a valid mapper because the output range is zero; converting to `"+s+": "+x.strValue+"`"),this.parse(s,x.strValue);if(y.color){var A=x.value,N=R.value;if(!(A[0]!==N[0]||A[1]!==N[1]||A[2]!==N[2]||A[3]!==N[3]&&(null!=A[3]&&1!==A[3]||null!=N[3]&&1!==N[3])))return!1}return{name:s,value:E,strValue:""+i,mapped:M,field:E[1],fieldMin:parseFloat(E[2]),fieldMax:parseFloat(E[3]),valueMin:x.value,valueMax:R.value,bypass:a}}}if(y.multiple&&"multiple"!==l){var k;if(k=b?i.split(/\s+/):_n(i)?i:[i],y.evenMultiple&&k.length%2!=0)return null;for(var V=[],q=[],Z=[],$="",W=!1,U=0;U<k.length;U++){var Y=f.parse(s,k[U],a,"multiple");W=W||Je(Y.value),V.push(Y.value),Z.push(null!=Y.pfValue?Y.pfValue:Y.value),q.push(Y.units),$+=(U>0?" ":"")+Y.strValue}return y.validate&&!y.validate(V,q)?null:y.singleEnum&&W?1===V.length&&Je(V[0])?{name:s,value:V[0],strValue:V[0],bypass:a}:null:{name:s,value:V,pfValue:Z,strValue:$,bypass:a,units:q}}var X=function(){for(var Le=0;Le<y.enums.length;Le++)if(y.enums[Le]===i)return{name:s,value:i,strValue:""+i,bypass:a};return null};if(y.number){var j,te="px";if(y.units&&(j=y.units),y.implicitUnits&&(te=y.implicitUnits),!y.unitless)if(b){var K="px|em"+(y.allowPercent?"|\\%":"");j&&(K=j);var ue=i.match("^("+Kr+")("+K+")?$");ue&&(i=ue[1],j=ue[2]||te)}else(!j||y.implicitUnits)&&(j=te);if(i=parseFloat(i),isNaN(i)&&void 0===y.enums)return null;if(isNaN(i)&&void 0!==y.enums)return i=p,X();if(y.integer&&!function(i){return ot(i)&&Math.floor(i)===i}(i)||void 0!==y.min&&(i<y.min||y.strictMin&&i===y.min)||void 0!==y.max&&(i>y.max||y.strictMax&&i===y.max))return null;var ne={name:s,value:i,strValue:""+i+(j||""),units:j,bypass:a};return ne.pfValue=y.unitless||"px"!==j&&"em"!==j?i:"px"!==j&&j?this.getEmSizeInPixels()*i:i,("ms"===j||"s"===j)&&(ne.pfValue="ms"===j?i:1e3*i),("deg"===j||"rad"===j)&&(ne.pfValue="rad"===j?i:function(i){return Math.PI*i/180}(i)),"%"===j&&(ne.pfValue=i/100),ne}if(y.propList){var re=[],fe=""+i;if("none"!==fe){for(var pe=fe.split(/\s*,\s*|\s+/),De=0;De<pe.length;De++){var he=pe[De].trim();f.properties[he]?re.push(he):Gt("`"+he+"` is not a valid property name")}if(0===re.length)return null}return{name:s,value:re,strValue:0===re.length?"none":re.join(" "),bypass:a}}if(y.color){var be=function(i){return(_n(i)?i:null)||function(i){return rf[i.toLowerCase()]}(i)||function(i){if((4===i.length||7===i.length)&&"#"===i[0]){var l,f,h,p=16;return 4===i.length?(l=parseInt(i[1]+i[1],p),f=parseInt(i[2]+i[2],p),h=parseInt(i[3]+i[3],p)):(l=parseInt(i[1]+i[2],p),f=parseInt(i[3]+i[4],p),h=parseInt(i[5]+i[6],p)),[l,f,h]}}(i)||function(i){var a,l=new RegExp("^"+Bg+"$").exec(i);if(l){a=[];for(var f=[],h=1;h<=3;h++){var p=l[h];if("%"===p[p.length-1]&&(f[h]=!0),p=parseFloat(p),f[h]&&(p=p/100*255),p<0||p>255)return;a.push(Math.floor(p))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var y=l[4];if(void 0!==y){if((y=parseFloat(y))<0||y>1)return;a.push(y)}}return a}(i)||function(i){var a,l,f,h,p,m,b,y;function D(x,R,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?x+6*(R-x)*A:A<.5?R:A<2/3?x+(R-x)*(2/3-A)*6:x}var E=new RegExp("^"+Qo+"$").exec(i);if(E){if((l=parseInt(E[1]))<0?l=(360- -1*l%360)%360:l>360&&(l%=360),l/=360,(f=parseFloat(E[2]))<0||f>100||(f/=100,(h=parseFloat(E[3]))<0||h>100)||(h/=100,void 0!==(p=E[4])&&((p=parseFloat(p))<0||p>1)))return;if(0===f)m=b=y=Math.round(255*h);else{var S=h<.5?h*(1+f):h+f-h*f,M=2*h-S;m=Math.round(255*D(M,S,l+1/3)),b=Math.round(255*D(M,S,l)),y=Math.round(255*D(M,S,l-1/3))}a=[m,b,y,p]}return a}(i)}(i);return be?{name:s,value:be,pfValue:be,strValue:"rgb("+be[0]+","+be[1]+","+be[2]+")",bypass:a}:null}if(y.regex||y.regexes){if(y.enums){var Ae=X();if(Ae)return Ae}for(var Fe=y.regexes?y.regexes:[y.regex],Me=0;Me<Fe.length;Me++){var de=new RegExp(Fe[Me]).exec(i);if(de)return{name:s,value:y.singleRegexMatchValue?de[1]:de,strValue:""+i,bypass:a}}return null}return y.string?{name:s,value:""+i,strValue:""+i,bypass:a}:y.enums?X():null};var _i=function s(i){if(!(this instanceof s))return new s(i);ir(i)?(this._private={cy:i,coreStyle:{}},this.length=0,this.resetToDefault()):$n("A style must have a core reference")},hi=_i.prototype;hi.instanceString=function(){return"style"},hi.clear=function(){for(var s=this._private,a=s.cy.elements(),l=0;l<this.length;l++)this[l]=void 0;return this.length=0,s.contextStyles={},s.propDiffs={},this.cleanElements(a,!0),a.forEach(function(f){var h=f[0]._private;h.styleDirty=!0,h.appliedInitStyle=!1}),this},hi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},hi.core=function(s){return this._private.coreStyle[s]||this.getDefaultProperty(s)},hi.selector=function(s){var i="core"===s?null:new li(s),a=this.length++;return this[a]={selector:i,properties:[],mappedProperties:[],index:a},this},hi.css=function(){var i=arguments;if(1===i.length)for(var a=i[0],l=0;l<this.properties.length;l++){var f=this.properties[l],h=a[f.name];void 0===h&&(h=a[Rs(f.name)]),void 0!==h&&this.cssRule(f.name,h)}else 2===i.length&&this.cssRule(i[0],i[1]);return this},hi.style=hi.css,hi.cssRule=function(s,i){var a=this.parse(s,i);if(a){var l=this.length-1;this[l].properties.push(a),this[l].properties[a.name]=a,a.name.match(/pie-(\d+)-background-size/)&&a.value&&(this._private.hasPie=!0),a.mapped&&this[l].mappedProperties.push(a),!this[l].selector&&(this._private.coreStyle[a.name]=a)}return this},hi.append=function(s){return gr(s)?s.appendToStyle(this):_n(s)?this.appendFromJson(s):Je(s)&&this.appendFromString(s),this},_i.fromJson=function(s,i){var a=new _i(s);return a.fromJson(i),a},_i.fromString=function(s,i){return new _i(s).fromString(i)},[$r,ta,Kl,cr,io,vd,Mr,Uo].forEach(function(s){It(hi,s)}),_i.types=hi.types,_i.properties=hi.properties,_i.propertyGroups=hi.propertyGroups,_i.propertyGroupNames=hi.propertyGroupNames,_i.propertyGroupKeys=hi.propertyGroupKeys;var iv={style:function(i){return i&&this.setStyle(i).update(),this._private.style},setStyle:function(i){var a=this._private;return a.style=gr(i)?i.generateStyle(this):_n(i)?_i.fromJson(this,i):Je(i)?_i.fromString(this,i):_i(this),a.style},updateStyle:function(){this.mutableElements().updateStyle()}},Ia={autolock:function(i){return void 0===i?this._private.autolock:(this._private.autolock=!!i,this)},autoungrabify:function(i){return void 0===i?this._private.autoungrabify:(this._private.autoungrabify=!!i,this)},autounselectify:function(i){return void 0===i?this._private.autounselectify:(this._private.autounselectify=!!i,this)},selectionType:function(i){var a=this._private;return null==a.selectionType&&(a.selectionType="single"),void 0===i?a.selectionType:(("additive"===i||"single"===i)&&(a.selectionType=i),this)},panningEnabled:function(i){return void 0===i?this._private.panningEnabled:(this._private.panningEnabled=!!i,this)},userPanningEnabled:function(i){return void 0===i?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!i,this)},zoomingEnabled:function(i){return void 0===i?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!i,this)},userZoomingEnabled:function(i){return void 0===i?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!i,this)},boxSelectionEnabled:function(i){return void 0===i?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!i,this)},pan:function(){var l,f,h,p,m,i=arguments,a=this._private.pan;switch(i.length){case 0:return a;case 1:if(Je(i[0]))return a[l=i[0]];if(Ct(i[0])){if(!this._private.panningEnabled)return this;m=(h=i[0]).y,ot(p=h.x)&&(a.x=p),ot(m)&&(a.y=m),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=i[1],("x"===(l=i[0])||"y"===l)&&ot(f)&&(a[l]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(i,a){var h,p,m,b,y,l=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(l.length){case 1:Ct(i)&&(y=(m=l[0]).y,ot(b=m.x)&&(f.x+=b),ot(y)&&(f.y+=y),this.emit("pan viewport"));break;case 2:p=a,("x"===(h=i)||"y"===h)&&ot(p)&&(f[h]+=p),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(i,a){var l=this.getFitViewport(i,a);if(l){var f=this._private;f.zoom=l.zoom,f.pan=l.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(i,a){var l;if((ot(i)&&void 0===a&&(a=i,i=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Je(i)?i=this.$(i):!function(i){return Ct(i)&&ot(i.x1)&&ot(i.x2)&&ot(i.y1)&&ot(i.y2)}(i)?Dr(i)||(i=this.mutableElements()):((l={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=l.x2-l.x1,l.h=l.y2-l.y1),!Dr(i)||!i.empty())){l=l||i.boundingBox();var b,p=this.width(),m=this.height();if(a=ot(a)?a:0,!isNaN(p)&&!isNaN(m)&&p>0&&m>0&&!isNaN(l.w)&&!isNaN(l.h)&&l.w>0&&l.h>0)return{zoom:b=(b=(b=Math.min((p-2*a)/l.w,(m-2*a)/l.h))>this._private.maxZoom?this._private.maxZoom:b)<this._private.minZoom?this._private.minZoom:b,pan:{x:(p-b*(l.x1+l.x2))/2,y:(m-b*(l.y1+l.y2))/2}}}},zoomRange:function(i,a){var l=this._private;if(null==a){var f=i;i=f.min,a=f.max}return ot(i)&&ot(a)&&i<=a?(l.minZoom=i,l.maxZoom=a):ot(i)&&void 0===a&&i<=l.maxZoom?l.minZoom=i:ot(a)&&void 0===i&&a>=l.minZoom&&(l.maxZoom=a),this},minZoom:function(i){return void 0===i?this._private.minZoom:this.zoomRange({min:i})},maxZoom:function(i){return void 0===i?this._private.maxZoom:this.zoomRange({max:i})},getZoomedViewport:function(i){var h,p,a=this._private,l=a.pan,f=a.zoom,m=!1;return a.zoomingEnabled||(m=!0),ot(i)?p=i:Ct(i)&&(p=i.level,null!=i.position?h=ks(i.position,f,l):null!=i.renderedPosition&&(h=i.renderedPosition),null!=h&&!a.panningEnabled&&(m=!0)),p=(p=p>a.maxZoom?a.maxZoom:p)<a.minZoom?a.minZoom:p,!m&&ot(p)&&p!==f&&(null==h||ot(h.x)&&ot(h.y))?null!=h?{zoomed:!0,panned:!0,zoom:p,pan:{x:-p/f*(h.x-l.x)+h.x,y:-p/f*(h.y-l.y)+h.y}}:{zoomed:!0,panned:!1,zoom:p,pan:l}:null},zoom:function(i){if(void 0===i)return this._private.zoom;var a=this.getZoomedViewport(i),l=this._private;return null!=a&&a.zoomed?(l.zoom=a.zoom,a.panned&&(l.pan.x=a.pan.x,l.pan.y=a.pan.y),this.emit("zoom"+(a.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(i){var a=this._private,l=!0,f=!0,h=[],p=!1,m=!1;if(!i)return this;if(ot(i.zoom)||(l=!1),Ct(i.pan)||(f=!1),!l&&!f)return this;if(l){var b=i.zoom;b<a.minZoom||b>a.maxZoom||!a.zoomingEnabled?p=!0:(a.zoom=b,h.push("zoom"))}if(f&&(!p||!i.cancelOnFailedZoom)&&a.panningEnabled){var y=i.pan;ot(y.x)&&(a.pan.x=y.x,m=!1),ot(y.y)&&(a.pan.y=y.y,m=!1),m||h.push("pan")}return h.length>0&&(h.push("viewport"),this.emit(h.join(" ")),this.notify("viewport")),this},center:function(i){var a=this.getCenterPan(i);return a&&(this._private.pan=a,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(i,a){if(this._private.panningEnabled){if(Je(i)){var l=i;i=this.mutableElements().filter(l)}else Dr(i)||(i=this.mutableElements());if(0!==i.length){var f=i.boundingBox(),h=this.width(),p=this.height();return{x:(h-(a=void 0===a?this._private.zoom:a)*(f.x1+f.x2))/2,y:(p-a*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,i=this._private,a=i.container;return i.sizeCache=i.sizeCache||(a?(f=this.window().getComputedStyle(a),{width:a.clientWidth-(h=function(m){return parseFloat(f.getPropertyValue(m))})("padding-left")-h("padding-right"),height:a.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var i=this._private.pan,a=this._private.zoom,l=this.renderedExtent(),f={x1:(l.x1-i.x)/a,x2:(l.x2-i.x)/a,y1:(l.y1-i.y)/a,y2:(l.y2-i.y)/a};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var i=this.width(),a=this.height();return{x1:0,y1:0,x2:i,y2:a,w:i,h:a}},multiClickDebounceTime:function(i){return i?(this._private.multiClickDebounceTime=i,this):this._private.multiClickDebounceTime}};Ia.centre=Ia.center,Ia.autolockNodes=Ia.autolock,Ia.autoungrabifyNodes=Ia.autoungrabify;var Hr={data:Ot.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ot.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ot.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ot.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Hr.attr=Hr.data,Hr.removeAttr=Hr.removeData;var Ui=function(i){var a=this,l=(i=It({},i)).container;l&&!co(l)&&co(l[0])&&(l=l[0]);var f=l?l._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var h=f.readies=f.readies||[];l&&(l._cyreg=f),f.cy=a;var p=void 0!==At&&void 0!==l&&!i.headless,m=i;m.layout=It({name:p?"grid":"null"},m.layout),m.renderer=It({name:p?"canvas":"null"},m.renderer);var b=function(x,R,A){return void 0!==R?R:void 0!==A?A:x},y=this._private={container:l,ready:!1,options:m,elements:new ci(this),listeners:[],aniEles:new ci(this),data:m.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:b(!0,m.zoomingEnabled),userZoomingEnabled:b(!0,m.userZoomingEnabled),panningEnabled:b(!0,m.panningEnabled),userPanningEnabled:b(!0,m.userPanningEnabled),boxSelectionEnabled:b(!0,m.boxSelectionEnabled),autolock:b(!1,m.autolock,m.autolockNodes),autoungrabify:b(!1,m.autoungrabify,m.autoungrabifyNodes),autounselectify:b(!1,m.autounselectify),styleEnabled:void 0===m.styleEnabled?p:m.styleEnabled,zoom:ot(m.zoom)?m.zoom:1,pan:{x:Ct(m.pan)&&ot(m.pan.x)?m.pan.x:0,y:Ct(m.pan)&&ot(m.pan.y)?m.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:b(250,m.multiClickDebounceTime)};this.createEmitter(),this.selectionType(m.selectionType),this.zoomRange({min:m.minZoom,max:m.maxZoom}),y.styleEnabled&&a.setStyle([]);var E=It({},m,m.renderer);a.initRenderer(E),function(x,R){if(x.some(fu))return mr.all(x).then(R);R(x)}([m.style,m.elements],function(M){var x=M[0],R=M[1];y.styleEnabled&&a.style().append(x),function(x,R,A){a.notifications(!1);var N=a.mutableElements();N.length>0&&N.remove(),null!=x&&(Ct(x)||_n(x))&&a.add(x),a.one("layoutready",function(k){a.notifications(!0),a.emit(k),a.one("load",R),a.emitAndNotify("load")}).one("layoutstop",function(){a.one("done",A),a.emit("done")});var O=It({},a._private.options.layout);O.eles=a.elements(),a.layout(O).run()}(R,function(){a.startAnimationLoop(),y.ready=!0,Fn(m.ready)&&a.on("ready",m.ready);for(var A=0;A<h.length;A++)a.on("ready",h[A]);f&&(f.readies=[]),a.emit("ready")},m.done)})},Hu=Ui.prototype;It(Hu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(i){return this.isReady()?this.emitter().emit("ready",[],i):this.on("ready",i),this},destroy:function(){var i=this;if(!i.destroyed())return i.stopAnimationLoop(),i.destroyRenderer(),this.emit("destroy"),i._private.destroyed=!0,i},hasElementWithId:function(i){return this._private.elements.hasElementWithId(i)},getElementById:function(i){return this._private.elements.getElementById(i)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(i){return this._private.elements.merge(i),this},removeFromPool:function(i){return this._private.elements.unmerge(i),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return At;var a=this._private.container.ownerDocument;return void 0===a||null==a?At:a.defaultView||At},mount:function(i){if(null!=i){var a=this,l=a._private,f=l.options;return!co(i)&&co(i[0])&&(i=i[0]),a.stopAnimationLoop(),a.destroyRenderer(),l.container=i,l.styleEnabled=!0,a.invalidateSize(),a.initRenderer(It({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),a.startAnimationLoop(),a.style(f.style),a.emit("mount"),a}},unmount:function(){var i=this;return i.stopAnimationLoop(),i.destroyRenderer(),i.initRenderer({name:"null"}),i.emit("unmount"),i},options:function(){return Yr(this._private.options)},json:function(i){var a=this,l=a._private,f=a.mutableElements();if(Ct(i)){if(a.startBatch(),i.elements){var p={},m=function(V,q){for(var Z=[],$=[],W=0;W<V.length;W++){var U=V[W];if(U.data.id){var Y=""+U.data.id,X=a.getElementById(Y);p[Y]=!0,0!==X.length?$.push({ele:X,json:U}):(q&&(U.group=q),Z.push(U))}else Gt("cy.json() cannot handle elements without an ID attribute")}a.add(Z);for(var j=0;j<$.length;j++){var te=$[j];te.ele.json(te.json)}};if(_n(i.elements))m(i.elements);else for(var b=["nodes","edges"],y=0;y<b.length;y++){var D=b[y],E=i.elements[D];_n(E)&&m(E,D)}var S=a.collection();f.filter(function(k){return!p[k.id()]}).forEach(function(k){k.isParent()?S.merge(k):k.remove()}),S.forEach(function(k){return k.children().move({parent:null})}),S.forEach(function(k){return(V=k,a.getElementById(V.id())).remove();var V})}i.style&&a.style(i.style),null!=i.zoom&&i.zoom!==l.zoom&&a.zoom(i.zoom),i.pan&&(i.pan.x!==l.pan.x||i.pan.y!==l.pan.y)&&a.pan(i.pan),i.data&&a.data(i.data);for(var M=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],x=0;x<M.length;x++){var R=M[x];null!=i[R]&&a[R](i[R])}return a.endBatch(),this}var N={};i?N.elements=this.elements().map(function(k){return k.json()}):(N.elements={},f.forEach(function(k){var V=k.group();N.elements[V]||(N.elements[V]=[]),N.elements[V].push(k.json())})),this._private.styleEnabled&&(N.style=a.style().json()),N.data=Yr(a.data());var O=l.options;return N.zoomingEnabled=l.zoomingEnabled,N.userZoomingEnabled=l.userZoomingEnabled,N.zoom=l.zoom,N.minZoom=l.minZoom,N.maxZoom=l.maxZoom,N.panningEnabled=l.panningEnabled,N.userPanningEnabled=l.userPanningEnabled,N.pan=Yr(l.pan),N.boxSelectionEnabled=l.boxSelectionEnabled,N.renderer=Yr(O.renderer),N.hideEdgesOnViewport=O.hideEdgesOnViewport,N.textureOnViewport=O.textureOnViewport,N.wheelSensitivity=O.wheelSensitivity,N.motionBlur=O.motionBlur,N.multiClickDebounceTime=O.multiClickDebounceTime,N}}),Hu.$id=Hu.getElementById,[hn,vp,Dn,pd,Zs,fi,ys,Hi,iv,Ia,Hr].forEach(function(s){It(Hu,s)});var ov={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}},Yl={maximal:!1,acyclic:!1},Mo=function(i){return i.scratch("breadthfirst")},md=function(i,a){return i.scratch("breadthfirst",a)};function yd(s){this.options=It({},ov,Yl,s)}yd.prototype.run=function(){var y,s=this.options,i=s,a=s.cy,l=i.eles,f=l.nodes().filter(function(at){return!at.isParent()}),h=l,p=i.directed,m=i.acyclic||i.maximal||i.maximalAdjustments>0,b=go(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()});if(Dr(i.roots))y=i.roots;else if(_n(i.roots)){for(var D=[],E=0;E<i.roots.length;E++){var M=a.getElementById(i.roots[E]);D.push(M)}y=a.collection(D)}else if(Je(i.roots))y=a.$(i.roots);else if(p)y=f.roots();else{var x=l.components();y=a.collection();for(var R=function(Xe){var je=x[Xe],mt=je.maxDegree(!1),Ye=je.filter(function(nt){return nt.degree(!1)===mt});y=y.add(Ye)},A=0;A<x.length;A++)R(A)}var N=[],O={},k=function(Xe,je){null==N[je]&&(N[je]=[]);var mt=N[je].length;N[je].push(Xe),md(Xe,{index:mt,depth:je})};h.bfs({roots:y,directed:i.directed,visit:function(Xe,je,mt,Ye,nt){var pn=Xe[0],qt=pn.id();k(pn,nt),O[qt]=!0}});for(var q=[],Z=0;Z<f.length;Z++){var $=f[Z];O[$.id()]||q.push($)}var W=function(Xe){for(var je=N[Xe],mt=0;mt<je.length;mt++){var Ye=je[mt];null!=Ye?md(Ye,{depth:Xe,index:mt}):(je.splice(mt,1),mt--)}},U=function(){for(var Xe=0;Xe<N.length;Xe++)W(Xe)},Y=function(Xe,je){for(var mt=Mo(Xe),Ye=Xe.incomers().filter(function(G){return G.isNode()&&l.has(G)}),nt=-1,pn=Xe.id(),qt=0;qt<Ye.length;qt++){var Un=Mo(Ye[qt]);nt=Math.max(nt,Un.depth)}if(mt.depth<=nt){if(!i.acyclic&&je[pn])return null;var Be=nt+1;return function(Xe,je){var mt=Mo(Xe);N[mt.depth][mt.index]=null,k(Xe,je)}(Xe,Be),je[pn]=Be,!0}return!1};if(p&&m){var X=[],j={},te=function(Xe){return X.push(Xe)};for(f.forEach(function(at){return X.push(at)});X.length>0;){var ue=X.shift(),ne=Y(ue,j);if(ne)ue.outgoers().filter(function(at){return at.isNode()&&l.has(at)}).forEach(te);else if(null===ne){Gt("Detected double maximal shift for node `"+ue.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}U();var re=0;if(i.avoidOverlap)for(var fe=0;fe<f.length;fe++){var De=f[fe].layoutDimensions(i);re=Math.max(re,De.w,De.h)}var Ae={},Fe=function(Xe){if(Ae[Xe.id()])return Ae[Xe.id()];for(var je=Mo(Xe).depth,mt=Xe.neighborhood(),Ye=0,nt=0,pn=0;pn<mt.length;pn++){var qt=mt[pn];if(!qt.isEdge()&&!qt.isParent()&&f.has(qt)){var Nt=Mo(qt);if(null!=Nt){var Un=Nt.index,Be=Nt.depth;null!=Un&&null!=Be&&Be<je&&(Ye+=Un/N[Be].length,nt++)}}}return Ye/=nt=Math.max(1,nt),0===nt&&(Ye=0),Ae[Xe.id()]=Ye,Ye},Me=function(Xe,je){var nt=Fe(Xe)-Fe(je);return 0===nt?Ps(Xe.id(),je.id()):nt};void 0!==i.depthSort&&(Me=i.depthSort);for(var Ie=0;Ie<N.length;Ie++)N[Ie].sort(Me),W(Ie);for(var de=[],Re=0;Re<q.length;Re++)de.push(q[Re]);N.unshift(de),U();for(var Le=0,Ke=0;Ke<N.length;Ke++)Le=Math.max(N[Ke].length,Le);var tt_x=b.x1+b.w/2,tt_y=b.x1+b.h/2,_t=N.reduce(function(at,Xe){return Math.max(at,Xe.length)},0);return l.nodes().layoutPositions(this,i,function(Xe){var je=Mo(Xe),mt=je.depth,Ye=je.index,nt=N[mt].length,pn=Math.max(b.w/((i.grid?_t:nt)+1),re),qt=Math.max(b.h/(N.length+1),re),Nt=Math.min(b.w/2/N.length,b.h/2/N.length);if(Nt=Math.max(Nt,re),i.circle){var Be=Nt*mt+Nt-(N.length>0&&N[0].length<=3?Nt/2:0),G=2*Math.PI/N[mt].length*Ye;return 0===mt&&1===N[0].length&&(Be=1),{x:tt_x+Be*Math.cos(G),y:tt_y+Be*Math.sin(G)}}return{x:tt_x+(Ye+1-(nt+1)/2)*pn,y:(mt+1)*qt}}),this};var yp={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function wd(s){this.options=It({},yp,s)}wd.prototype.run=function(){var s=this.options,i=s,a=s.cy,l=i.eles,f=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,h=l.nodes().not(":parent");i.sort&&(h=h.sort(i.sort));for(var D,p=go(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),m={x:p.x1+p.w/2,y:p.y1+p.h/2},y=(void 0===i.sweep?2*Math.PI-2*Math.PI/h.length:i.sweep)/Math.max(1,h.length-1),E=0,S=0;S<h.length;S++){var x=h[S].layoutDimensions(i);E=Math.max(E,x.w,x.h)}if(D=ot(i.radius)?i.radius:h.length<=1?0:Math.min(p.h,p.w)/2-E,h.length>1&&i.avoidOverlap){E*=1.75;var N=Math.cos(y)-Math.cos(0),O=Math.sin(y)-Math.sin(0),k=Math.sqrt(E*E/(N*N+O*O));D=Math.max(k,D)}return l.nodes().layoutPositions(this,i,function(Z,$){var W=i.startAngle+$*y*(f?1:-1),U=D*Math.cos(W),Y=D*Math.sin(W);return{x:m.x+U,y:m.y+Y}}),this};var ws={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(i){return i.degree()},levelWidth:function(i){return i.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function Uu(s){this.options=It({},ws,s)}Uu.prototype.run=function(){for(var s=this.options,i=s,a=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,l=s.cy,f=i.eles,h=f.nodes().not(":parent"),p=go(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),m={x:p.x1+p.w/2,y:p.y1+p.h/2},b=[],y=0,D=0;D<h.length;D++){var S,E=h[D];S=i.concentric(E),b.push({value:S,node:E}),E._private.scratch.concentric=S}h.updateStyle();for(var M=0;M<h.length;M++){var R=h[M].layoutDimensions(i);y=Math.max(y,R.w,R.h)}b.sort(function(at,Xe){return Xe.value-at.value});for(var A=i.levelWidth(h),N=[[]],O=N[0],k=0;k<b.length;k++){var V=b[k];O.length>0&&Math.abs(O[0].value-V.value)>=A&&N.push(O=[]),O.push(V)}var Z=y+i.minNodeSpacing;if(!i.avoidOverlap){var $=N.length>0&&N[0].length>1,W=Math.min(p.w,p.h)/2-Z;Z=Math.min(Z,W/(N.length+$?1:0))}for(var Y=0,X=0;X<N.length;X++){var j=N[X],te=void 0===i.sweep?2*Math.PI-2*Math.PI/j.length:i.sweep,K=j.dTheta=te/Math.max(1,j.length-1);if(j.length>1&&i.avoidOverlap){var ue=Math.cos(K)-Math.cos(0),ne=Math.sin(K)-Math.sin(0),re=Math.sqrt(Z*Z/(ue*ue+ne*ne));Y=Math.max(re,Y)}j.r=Y,Y+=Z}if(i.equidistant){for(var fe=0,pe=0,De=0;De<N.length;De++)fe=Math.max(fe,N[De].r-pe);pe=0;for(var Ae=0;Ae<N.length;Ae++){var Fe=N[Ae];0===Ae&&(pe=Fe.r),Fe.r=pe,pe+=fe}}for(var Me={},Ie=0;Ie<N.length;Ie++)for(var de=N[Ie],Re=de.dTheta,Le=de.r,Ke=0;Ke<de.length;Ke++){var tt=de[Ke],_t=i.startAngle+(a?1:-1)*Re*Ke,Jt={x:m.x+Le*Math.cos(_t),y:m.y+Le*Math.sin(_t)};Me[tt.node.id()]=Jt}return f.nodes().layoutPositions(this,i,function(at){var Xe=at.id();return Me[Xe]}),this};var kf,Oi={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(i,a){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(i){return 2048},nodeOverlap:4,idealEdgeLength:function(i){return 32},edgeElasticity:function(i){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function na(s){this.options=It({},Oi,s),this.options.layout=this;var i=this.options.eles.nodes(),l=this.options.eles.edges().filter(function(f){var h=f.source().data("id"),p=f.target().data("id"),m=i.some(function(y){return y.data("id")===h}),b=i.some(function(y){return y.data("id")===p});return!m||!b});this.options.eles=this.options.eles.not(l)}na.prototype.run=function(){var s=this.options,i=s.cy,a=this;a.stopped=!1,(!0===s.animate||!1===s.animate)&&a.emit({type:"layoutstart",layout:a}),kf=!0===s.debug;var l=ar(i,a,s);kf&&(void 0)(l),s.randomize&&Dd(l);var f=Fa(),h=function(){Bf(l,i,s),!0===s.fit&&i.fit(s.padding)},p=function(S){return!(a.stopped||S>=s.numIter||(Ks(l,s),l.temperature=l.temperature*s.coolingFactor,l.temperature<s.minTemp))},m=function(){if(!0===s.animate||!1===s.animate)h(),a.one("layoutstop",s.stop),a.emit({type:"layoutstop",layout:a});else{var S=s.eles.nodes(),M=Lf(l,s,S);S.layoutPositions(a,s,M)}},b=0,y=!0;if(!0===s.animate)!function E(){for(var S=0;y&&S<s.refresh;)y=p(b),b++,S++;y?(Fa()-f>=s.animationThreshold&&h(),Nc(E)):(Ta(l,s),m())}();else{for(;y;)y=p(b),b++;Ta(l,s),m()}return this},na.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},na.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var ar=function(i,a,l){for(var f=l.eles.edges(),h=l.eles.nodes(),p=go(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),m={isCompound:i.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:h.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:l.initialTemp,clientWidth:p.w,clientHeight:p.h,boundingBox:p},b=l.eles.components(),y={},D=0;D<b.length;D++)for(var E=b[D],S=0;S<E.length;S++)y[E[S].id()]=D;for(D=0;D<m.nodeSize;D++){var R=(x=h[D]).layoutDimensions(l);(A={}).isLocked=x.locked(),A.id=x.data("id"),A.parentId=x.data("parent"),A.cmptId=y[x.id()],A.children=[],A.positionX=x.position("x"),A.positionY=x.position("y"),A.offsetX=0,A.offsetY=0,A.height=R.w,A.width=R.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(x.style("padding")),A.padRight=parseFloat(x.style("padding")),A.padTop=parseFloat(x.style("padding")),A.padBottom=parseFloat(x.style("padding")),A.nodeRepulsion=Fn(l.nodeRepulsion)?l.nodeRepulsion(x):l.nodeRepulsion,m.layoutNodes.push(A),m.idToIndex[A.id]=D}var N=[],O=0,k=-1,V=[];for(D=0;D<m.nodeSize;D++){var x,q=(x=m.layoutNodes[D]).parentId;null!=q?m.layoutNodes[m.idToIndex[q]].children.push(x.id):(N[++k]=x.id,V.push(x.id))}for(m.graphSet.push(V);O<=k;){var Z=N[O++],W=m.layoutNodes[m.idToIndex[Z]].children;if(W.length>0)for(m.graphSet.push(W),D=0;D<W.length;D++)N[++k]=W[D]}for(D=0;D<m.graphSet.length;D++){var U=m.graphSet[D];for(S=0;S<U.length;S++)m.indexToGraph[m.idToIndex[U[S]]]=D}for(D=0;D<m.edgeSize;D++){var X=f[D],j={};j.id=X.data("id"),j.sourceId=X.data("source"),j.targetId=X.data("target");var te=Fn(l.idealEdgeLength)?l.idealEdgeLength(X):l.idealEdgeLength,K=Fn(l.edgeElasticity)?l.edgeElasticity(X):l.edgeElasticity,ue=m.idToIndex[j.sourceId],ne=m.idToIndex[j.targetId];if(m.indexToGraph[ue]!=m.indexToGraph[ne]){for(var pe=wp(j.sourceId,j.targetId,m),De=m.graphSet[pe],he=0,A=m.layoutNodes[ue];-1===De.indexOf(A.id);)A=m.layoutNodes[m.idToIndex[A.parentId]],he++;for(A=m.layoutNodes[ne];-1===De.indexOf(A.id);)A=m.layoutNodes[m.idToIndex[A.parentId]],he++;te*=he*l.nestingFactor}j.idealLength=te,j.elasticity=K,m.layoutEdges.push(j)}return m},wp=function(i,a,l){var f=bd(i,a,0,l);return 2>f.count?0:f.graph},bd=function s(i,a,l,f){var h=f.graphSet[l];if(-1<h.indexOf(i)&&-1<h.indexOf(a))return{count:2,graph:l};for(var p=0,m=0;m<h.length;m++){var D=f.layoutNodes[f.idToIndex[h[m]]].children;if(0!==D.length){var S=s(i,a,f.indexToGraph[f.idToIndex[D[0]]],f);if(0!==S.count){if(1!==S.count)return S;if(2==++p)break}}}return{count:p,graph:l}},Dd=function(i,a){for(var l=i.clientWidth,f=i.clientHeight,h=0;h<i.nodeSize;h++){var p=i.layoutNodes[h];0===p.children.length&&!p.isLocked&&(p.positionX=Math.random()*l,p.positionY=Math.random()*f)}},Lf=function(i,a,l){var f=i.boundingBox,h={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return a.boundingBox&&(l.forEach(function(p){var m=i.layoutNodes[i.idToIndex[p.data("id")]];h.x1=Math.min(h.x1,m.positionX),h.x2=Math.max(h.x2,m.positionX),h.y1=Math.min(h.y1,m.positionY),h.y2=Math.max(h.y2,m.positionY)}),h.w=h.x2-h.x1,h.h=h.y2-h.y1),function(p,m){var b=i.layoutNodes[i.idToIndex[p.data("id")]];return a.boundingBox?{x:f.x1+(b.positionX-h.x1)/h.w*f.w,y:f.y1+(b.positionY-h.y1)/h.h*f.h}:{x:b.positionX,y:b.positionY}}},Bf=function(i,a,l){var f=l.layout,h=l.eles.nodes(),p=Lf(i,l,h);h.positions(p),!0!==i.ready&&(i.ready=!0,f.one("layoutready",l.ready),f.emit({type:"layoutready",layout:this}))},Ks=function(i,a,l){Ka(i,a),_d(i),Vf(i,a),bp(i),Dp(i)},Ka=function(i,a){for(var l=0;l<i.graphSet.length;l++)for(var f=i.graphSet[l],h=f.length,p=0;p<h;p++)for(var m=i.layoutNodes[i.idToIndex[f[p]]],b=p+1;b<h;b++)Ed(m,i.layoutNodes[i.idToIndex[f[b]]],i,a)},Cd=function(i){return-i+2*i*Math.random()},Ed=function(i,a,l,f){if(i.cmptId===a.cmptId||l.isCompound){var m=a.positionX-i.positionX,b=a.positionY-i.positionY;0===m&&0===b&&(m=Cd(1),b=Cd(1));var D=Xl(i,a,m,b);if(D>0)var M=(E=f.nodeOverlap*D)*m/(S=Math.sqrt(m*m+b*b)),x=E*b/S;else{var E,R=zi(i,m,b),A=zi(a,-1*m,-1*b),N=A.x-R.x,O=A.y-R.y,k=N*N+O*O,S=Math.sqrt(k);M=(E=(i.nodeRepulsion+a.nodeRepulsion)/k)*N/S,x=E*O/S}i.isLocked||(i.offsetX-=M,i.offsetY-=x),a.isLocked||(a.offsetX+=M,a.offsetY+=x)}},Xl=function(i,a,l,f){if(l>0)var h=i.maxX-a.minX;else h=a.maxX-i.minX;if(f>0)var p=i.maxY-a.minY;else p=a.maxY-i.minY;return h>=0&&p>=0?Math.sqrt(h*h+p*p):0},zi=function(i,a,l){var f=i.positionX,h=i.positionY,p=i.height||1,m=i.width||1,b=l/a,y=p/m,D={};return 0===a&&0<l||0===a&&0>l?(D.x=f,D.y=h+p/2,D):0<a&&-1*y<=b&&b<=y?(D.x=f+m/2,D.y=h+m*l/2/a,D):0>a&&-1*y<=b&&b<=y?(D.x=f-m/2,D.y=h-m*l/2/a,D):0<l&&(b<=-1*y||b>=y)?(D.x=f+p*a/2/l,D.y=h+p/2,D):(0>l&&(b<=-1*y||b>=y)&&(D.x=f-p*a/2/l,D.y=h-p/2),D)},_d=function(i,a){for(var l=0;l<i.edgeSize;l++){var f=i.layoutEdges[l],p=i.layoutNodes[i.idToIndex[f.sourceId]],b=i.layoutNodes[i.idToIndex[f.targetId]],y=b.positionX-p.positionX,D=b.positionY-p.positionY;if(0!==y||0!==D){var E=zi(p,y,D),S=zi(b,-1*y,-1*D),M=S.x-E.x,x=S.y-E.y,R=Math.sqrt(M*M+x*x),A=Math.pow(f.idealLength-R,2)/f.elasticity;if(0!==R)var N=A*M/R,O=A*x/R;else N=0,O=0;p.isLocked||(p.offsetX+=N,p.offsetY+=O),b.isLocked||(b.offsetX-=N,b.offsetY-=O)}}},Vf=function(i,a){if(0!==a.gravity)for(var f=0;f<i.graphSet.length;f++){var h=i.graphSet[f],p=h.length;if(0===f)var m=i.clientHeight/2,b=i.clientWidth/2;else{var D=i.layoutNodes[i.idToIndex[i.layoutNodes[i.idToIndex[h[0]]].parentId]];m=D.positionX,b=D.positionY}for(var E=0;E<p;E++){var S=i.layoutNodes[i.idToIndex[h[E]]];if(!S.isLocked){var M=m-S.positionX,x=b-S.positionY,R=Math.sqrt(M*M+x*x);if(R>1){var N=a.gravity*x/R;S.offsetX+=a.gravity*M/R,S.offsetY+=N}}}}},bp=function(i,a){var l=[],f=0,h=-1;for(l.push.apply(l,i.graphSet[0]),h+=i.graphSet[0].length;f<=h;){var p=l[f++],b=i.layoutNodes[i.idToIndex[p]],y=b.children;if(0<y.length&&!b.isLocked){for(var D=b.offsetX,E=b.offsetY,S=0;S<y.length;S++){var M=i.layoutNodes[i.idToIndex[y[S]]];M.offsetX+=D,M.offsetY+=E,l[++h]=y[S]}b.offsetX=0,b.offsetY=0}}},Dp=function(i,a){for(var l=0;l<i.nodeSize;l++)0<(f=i.layoutNodes[l]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(l=0;l<i.nodeSize;l++)if(!(0<(f=i.layoutNodes[l]).children.length||f.isLocked)){var h=zu(f.offsetX,f.offsetY,i.temperature);f.positionX+=h.x,f.positionY+=h.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,Ql(f,i)}for(l=0;l<i.nodeSize;l++){var f;0<(f=i.layoutNodes[l]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},zu=function(i,a,l){var f=Math.sqrt(i*i+a*a);if(f>l)var h={x:l*i/f,y:l*a/f};else h={x:i,y:a};return h},Ql=function s(i,a){var l=i.parentId;if(null!=l){var f=a.layoutNodes[a.idToIndex[l]],h=!1;if((null==f.maxX||i.maxX+f.padRight>f.maxX)&&(f.maxX=i.maxX+f.padRight,h=!0),(null==f.minX||i.minX-f.padLeft<f.minX)&&(f.minX=i.minX-f.padLeft,h=!0),(null==f.maxY||i.maxY+f.padBottom>f.maxY)&&(f.maxY=i.maxY+f.padBottom,h=!0),(null==f.minY||i.minY-f.padTop<f.minY)&&(f.minY=i.minY-f.padTop,h=!0),h)return s(f,a)}},Ta=function(i,a){for(var l=i.layoutNodes,f=[],h=0;h<l.length;h++){var p=l[h],m=p.cmptId;(f[m]=f[m]||[]).push(p)}var y=0;for(h=0;h<f.length;h++)if(D=f[h]){D.x1=1/0,D.x2=-1/0,D.y1=1/0,D.y2=-1/0;for(var E=0;E<D.length;E++){var S=D[E];D.x1=Math.min(D.x1,S.positionX-S.width/2),D.x2=Math.max(D.x2,S.positionX+S.width/2),D.y1=Math.min(D.y1,S.positionY-S.height/2),D.y2=Math.max(D.y2,S.positionY+S.height/2)}D.w=D.x2-D.x1,D.h=D.y2-D.y1,y+=D.w*D.h}f.sort(function(O,k){return k.w*k.h-O.w*O.h});var M=0,x=0,R=0,A=0,N=Math.sqrt(y)*i.clientWidth/i.clientHeight;for(h=0;h<f.length;h++){var D;if(D=f[h]){for(E=0;E<D.length;E++)(S=D[E]).isLocked||(S.positionX+=M-D.x1,S.positionY+=x-D.y1);M+=D.w+a.componentSpacing,R+=D.w+a.componentSpacing,A=Math.max(A,D.h),R>N&&(x+=A+a.componentSpacing,M=0,R=0,A=0)}}},Cp={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(i){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function ju(s){this.options=It({},Cp,s)}ju.prototype.run=function(){var s=this.options,i=s,a=s.cy,l=i.eles,f=l.nodes().not(":parent");i.sort&&(f=f.sort(i.sort));var h=go(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()});if(0===h.h||0===h.w)l.nodes().layoutPositions(this,i,function(Ae){return{x:h.x1,y:h.y1}});else{var p=f.size(),m=Math.sqrt(p*h.h/h.w),b=Math.round(m),y=Math.round(h.w/h.h*m),D=function(Fe){if(null==Fe)return Math.min(b,y);Math.min(b,y)==b?b=Fe:y=Fe},E=function(Fe){if(null==Fe)return Math.max(b,y);Math.max(b,y)==b?b=Fe:y=Fe},S=i.rows,M=null!=i.cols?i.cols:i.columns;if(null!=S&&null!=M)b=S,y=M;else if(null!=S&&null==M)b=S,y=Math.ceil(p/b);else if(null==S&&null!=M)y=M,b=Math.ceil(p/y);else if(y*b>p){var x=D(),R=E();(x-1)*R>=p?D(x-1):(R-1)*x>=p&&E(R-1)}else for(;y*b<p;){var A=D(),N=E();(N+1)*A>=p?E(N+1):D(A+1)}var O=h.w/y,k=h.h/b;if(i.condense&&(O=0,k=0),i.avoidOverlap)for(var V=0;V<f.length;V++){var q=f[V],Z=q._private.position;(null==Z.x||null==Z.y)&&(Z.x=0,Z.y=0);var $=q.layoutDimensions(i),W=i.avoidOverlapPadding,Y=$.h+W;O=Math.max(O,$.w+W),k=Math.max(k,Y)}for(var X={},j=function(Fe,Me){return!!X["c-"+Fe+"-"+Me]},te=function(Fe,Me){X["c-"+Fe+"-"+Me]=!0},K=0,ue=0,ne=function(){++ue>=y&&(ue=0,K++)},re={},fe=0;fe<f.length;fe++){var pe=f[fe],De=i.position(pe);if(De&&(void 0!==De.row||void 0!==De.col)){var he={row:De.row,col:De.col};if(void 0===he.col)for(he.col=0;j(he.row,he.col);)he.col++;else if(void 0===he.row)for(he.row=0;j(he.row,he.col);)he.row++;re[pe.id()]=he,te(he.row,he.col)}}f.layoutPositions(this,i,function(Fe,Me){var Ie,de;if(Fe.locked()||Fe.isParent())return!1;var Re=re[Fe.id()];if(Re)Ie=Re.col*O+O/2+h.x1,de=Re.row*k+k/2+h.y1;else{for(;j(K,ue);)ne();Ie=ue*O+O/2+h.x1,de=K*k+k/2+h.y1,te(K,ue),ne()}return{x:Ie,y:de}})}return this};var Ep={ready:function(){},stop:function(){}};function Gu(s){this.options=It({},Ep,s)}Gu.prototype.run=function(){var s=this.options,i=s.eles,a=this;return a.emit("layoutstart"),i.nodes().positions(function(){return{x:0,y:0}}),a.one("layoutready",s.ready),a.emit("layoutready"),a.one("layoutstop",s.stop),a.emit("layoutstop"),this},Gu.prototype.stop=function(){return this};var qu={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function Ft(s){this.options=It({},qu,s)}Ft.prototype.run=function(){var s=this.options,a=s.eles.nodes(),l=Fn(s.positions);return a.layoutPositions(this,s,function(h,p){var m=function f(h){return null==s.positions?function(i){return{x:i.x,y:i.y}}(h.position()):l?s.positions(h):s.positions[h._private.data.id]??null}(h);return!h.locked()&&null!=m&&m}),this};var $f={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,a){return!0},ready:void 0,stop:void 0,transform:function(i,a){return a}};function Wu(s){this.options=It({},$f,s)}Wu.prototype.run=function(){var s=this.options,i=s.cy,a=s.eles,l=go(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});return a.nodes().layoutPositions(this,s,function(p,m){return{x:l.x1+Math.round(Math.random()*l.w),y:l.y1+Math.round(Math.random()*l.h)}}),this};var ra=[{name:"breadthfirst",impl:yd},{name:"circle",impl:wd},{name:"concentric",impl:Uu},{name:"cose",impl:na},{name:"grid",impl:ju},{name:"null",impl:Gu},{name:"preset",impl:Ft},{name:"random",impl:Wu}];function _p(s){this.options=s,this.notifications=0}var bs=function(){},Jl=function(){throw new Error("A headless instance can not render images")};_p.prototype={recalculateRenderedStyle:bs,notify:function(){this.notifications++},init:bs,isHeadless:function(){return!0},png:Jl,jpg:Jl};var Lr={arrowShapeWidth:.3,registerArrowShapes:function(){var s=this.arrowShapes={},i=this,a=function(y,D,E,S,M,x,R){return M.x-E/2-R<=y&&y<=M.x+E/2+R&&M.y-E/2-R<=D&&D<=M.y+E/2+R},l=function(y,D,E,S,M){var x=y*Math.cos(S)-D*Math.sin(S),R=y*Math.sin(S)+D*Math.cos(S);return{x:x*E+M.x,y:R*E+M.y}},f=function(y,D,E,S){for(var M=[],x=0;x<y.length;x+=2)M.push(l(y[x],y[x+1],D,E,S));return M},h=function(y){for(var D=[],E=0;E<y.length;E++){var S=y[E];D.push(S.x,S.y)}return D},p=function(y){return y.pstyle("width").pfValue*y.pstyle("arrow-scale").pfValue*2},m=function(y,D){Je(D)&&(D=s[D]),s[y]=It({name:y,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(S,M,x,R,A,N){var O=h(f(this.points,x+2*N,R,A));return si(S,M,O)},roughCollide:a,draw:function(S,M,x,R){var A=f(this.points,M,x,R);i.arrowShapeImpl("polygon")(S,A)},spacing:function(S){return 0},gap:p},D)};m("none",{collide:El,roughCollide:El,draw:df,spacing:Oh,gap:Oh}),m("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),m("arrow","triangle"),m("triangle-backcurve",{points:s.triangle.points,controlPoint:[0,-.15],roughCollide:a,draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=this.controlPoint,A=l(R[0],R[1],D,E,S);i.arrowShapeImpl(this.name)(y,x,A)},gap:function(y){return.8*p(y)}}),m("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(y,D,E,S,M,x,R){var A=h(f(this.points,E+2*R,S,M)),N=h(f(this.pointsTee,E+2*R,S,M));return si(y,D,A)||si(y,D,N)},draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=f(this.pointsTee,D,E,S);i.arrowShapeImpl(this.name)(y,x,R)}}),m("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(y,D,E,S,M,x,R){var A=M,N=Math.pow(A.x-y,2)+Math.pow(A.y-D,2)<=Math.pow((E+2*R)*this.radius,2),O=h(f(this.points,E+2*R,S,M));return si(y,D,O)||N},draw:function(y,D,E,S,M){var x=f(this.pointsTr,D,E,S);i.arrowShapeImpl(this.name)(y,x,S.x,S.y,this.radius*D)},spacing:function(y){return i.getArrowWidth(y.pstyle("width").pfValue,y.pstyle("arrow-scale").value)*this.radius}}),m("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(y,D){var E=this.baseCrossLinePts.slice(),S=D/y;return E[3]=E[3]-S,E[5]=E[5]-S,E},collide:function(y,D,E,S,M,x,R){var A=h(f(this.points,E+2*R,S,M)),N=h(f(this.crossLinePts(E,x),E+2*R,S,M));return si(y,D,A)||si(y,D,N)},draw:function(y,D,E,S,M){var x=f(this.points,D,E,S),R=f(this.crossLinePts(D,M),D,E,S);i.arrowShapeImpl(this.name)(y,x,R)}}),m("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(y){return.525*p(y)}}),m("circle",{radius:.15,collide:function(y,D,E,S,M,x,R){var A=M;return Math.pow(A.x-y,2)+Math.pow(A.y-D,2)<=Math.pow((E+2*R)*this.radius,2)},draw:function(y,D,E,S,M){i.arrowShapeImpl(this.name)(y,S.x,S.y,this.radius*D)},spacing:function(y){return i.getArrowWidth(y.pstyle("width").pfValue,y.pstyle("arrow-scale").value)*this.radius}}),m("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(y){return 1},gap:function(y){return 1}}),m("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),m("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(y){return y.pstyle("width").pfValue*y.pstyle("arrow-scale").value}}),m("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(y){return.95*y.pstyle("width").pfValue*y.pstyle("arrow-scale").value}})}},Zu={projectIntoViewport:function(s,i){var a=this.cy,l=this.findContainerClientCoords(),f=l[0],h=l[1],p=l[4],m=a.pan(),b=a.zoom();return[((s-f)/p-m.x)/b,((i-h)/p-m.y)/b]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var s=this.container,i=s.getBoundingClientRect(),a=this.cy.window().getComputedStyle(s),l=function(N){return parseFloat(a.getPropertyValue(N))},f_left=l("padding-left"),f_right=l("padding-right"),f_top=l("padding-top"),f_bottom=l("padding-bottom"),h_left=l("border-left-width"),h_right=l("border-right-width"),h_top=l("border-top-width"),p=(l("border-bottom-width"),s.clientWidth);return this.containerBB=[i.left+f_left+h_left,i.top+f_top+h_top,p-(f_left+f_right),s.clientHeight-(f_top+f_bottom),i.width/(p+(h_left+h_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(s,i,a,l){return this.findNearestElements(s,i,a,l)[0]},findNearestElements:function(s,i,a,l){var x,R,f=this,h=this,p=h.getCachedZSortedEles(),m=[],b=h.cy.zoom(),y=h.cy.hasCompoundNodes(),D=(l?24:8)/b,E=(l?8:2)/b,S=(l?8:2)/b,M=1/0;function A($,W){if($.isNode()){if(R)return;R=$,m.push($)}if($.isEdge()&&(null==W||W<M))if(x){if(x.pstyle("z-compound-depth").value===$.pstyle("z-compound-depth").value&&x.pstyle("z-compound-depth").value===$.pstyle("z-compound-depth").value)for(var U=0;U<m.length;U++)if(m[U].isEdge()){m[U]=$,x=$,M=W??M;break}}else m.push($),x=$,M=W??M}function N($){var W=$.outerWidth()+2*E,U=$.outerHeight()+2*E,Y=W/2,X=U/2,j=$.position();if(j.x-Y<=s&&s<=j.x+Y&&j.y-X<=i&&i<=j.y+X&&h.nodeShapes[f.getNodeShape($)].checkPoint(s,i,0,W,U,j.x,j.y))return A($,0),!0}function O($){var ue,W=$._private,U=W.rscratch,Y=$.pstyle("width").pfValue,X=$.pstyle("arrow-scale").value,j=Y/2+D,te=j*j,K=2*j,fe=W.source,pe=W.target;if("segments"===U.edgeType||"straight"===U.edgeType||"haystack"===U.edgeType){for(var ne=U.allpts,re=0;re+3<ne.length;re+=2)if(Ri(s,i,ne[re],ne[re+1],ne[re+2],ne[re+3],K)&&te>(ue=Po(s,i,ne[re],ne[re+1],ne[re+2],ne[re+3])))return A($,ue),!0}else if("bezier"===U.edgeType||"multibezier"===U.edgeType||"self"===U.edgeType||"compound"===U.edgeType)for(ne=U.allpts,re=0;re+5<U.allpts.length;re+=4)if(mo(s,i,ne[re],ne[re+1],ne[re+2],ne[re+3],ne[re+4],ne[re+5],K)&&te>(ue=Uc(s,i,ne[re],ne[re+1],ne[re+2],ne[re+3],ne[re+4],ne[re+5])))return A($,ue),!0;fe=fe||W.source,pe=pe||W.target;var De=f.getArrowWidth(Y,X),he=[{name:"source",x:U.arrowStartX,y:U.arrowStartY,angle:U.srcArrowAngle},{name:"target",x:U.arrowEndX,y:U.arrowEndY,angle:U.tgtArrowAngle},{name:"mid-source",x:U.midX,y:U.midY,angle:U.midsrcArrowAngle},{name:"mid-target",x:U.midX,y:U.midY,angle:U.midtgtArrowAngle}];for(re=0;re<he.length;re++){var be=he[re],Ae=h.arrowShapes[$.pstyle(be.name+"-arrow-shape").value],Fe=$.pstyle("width").pfValue;if(Ae.roughCollide(s,i,De,be.angle,{x:be.x,y:be.y},Fe,D)&&Ae.collide(s,i,De,be.angle,{x:be.x,y:be.y},Fe,D))return A($),!0}y&&m.length>0&&(N(fe),N(pe))}function k($,W,U){return ho($,W,U)}function V($,W){var X,U=$._private,Y=S;X=W?W+"-":"",$.boundingBox();var j=U.labelBounds[W||"main"],te=$.pstyle(X+"label").value;if("yes"===$.pstyle("text-events").strValue&&te){var ue=k(U.rscratch,"labelX",W),ne=k(U.rscratch,"labelY",W),re=k(U.rscratch,"labelAngle",W),fe=$.pstyle(X+"text-margin-x").pfValue,pe=$.pstyle(X+"text-margin-y").pfValue,De=j.x1-Y-fe,he=j.x2+Y-fe,be=j.y1-Y-pe,Ae=j.y2+Y-pe;if(re){var Fe=Math.cos(re),Me=Math.sin(re),Ie=function(Jt,at){return{x:(Jt-=ue)*Fe-(at-=ne)*Me+ue,y:Jt*Me+at*Fe+ne}},de=Ie(De,be),Re=Ie(De,Ae),Le=Ie(he,be),Ke=Ie(he,Ae);if(si(s,i,[de.x+fe,de.y+pe,Le.x+fe,Le.y+pe,Ke.x+fe,Ke.y+pe,Re.x+fe,Re.y+pe]))return A($),!0}else if(Tl(j,s,i))return A($),!0}}a&&(p=p.interactive);for(var q=p.length-1;q>=0;q--){var Z=p[q];Z.isNode()?N(Z)||V(Z):O(Z)||V(Z)||V(Z,"source")||V(Z,"target")}return m},getAllInBox:function(s,i,a,l){for(var f=this.getCachedZSortedEles().interactive,h=[],p=Math.min(s,a),m=Math.max(s,a),b=Math.min(i,l),y=Math.max(i,l),D=go({x1:s=p,y1:i=b,x2:a=m,y2:l=y}),E=0;E<f.length;E++){var S=f[E];if(S.isNode()){var M=S,x=M.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Lt(D,x)&&!zh(x,D)&&h.push(M)}else{var R=S,A=R._private,N=A.rscratch;if(null!=N.startX&&null!=N.startY&&!Tl(D,N.startX,N.startY)||null!=N.endX&&null!=N.endY&&!Tl(D,N.endX,N.endY))continue;if("bezier"===N.edgeType||"multibezier"===N.edgeType||"self"===N.edgeType||"compound"===N.edgeType||"segments"===N.edgeType||"haystack"===N.edgeType){for(var O=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,k=!0,V=0;V<O.length;V++)if(!Wm(D,O[V])){k=!1;break}k&&h.push(R)}else("haystack"===N.edgeType||"straight"===N.edgeType)&&h.push(R)}}return h}},ec={calculateArrowAngles:function(s){var b,y,D,E,S,M,i=s._private.rscratch,a="haystack"===i.edgeType,l="bezier"===i.edgeType,f="multibezier"===i.edgeType,h="segments"===i.edgeType,p="compound"===i.edgeType,m="self"===i.edgeType;a?(D=i.haystackPts[0],E=i.haystackPts[1],S=i.haystackPts[2],M=i.haystackPts[3]):(D=i.arrowStartX,E=i.arrowStartY,S=i.arrowEndX,M=i.arrowEndY),N=i.midX,O=i.midY,h?(b=D-i.segpts[0],y=E-i.segpts[1]):f||p||m||l?(b=D-ai((x=i.allpts)[0],x[2],x[4],.1),y=E-ai(x[1],x[3],x[5],.1)):(b=D-N,y=E-O),i.srcArrowAngle=Vc(b,y);var N=i.midX,O=i.midY;if(a&&(N=(D+S)/2,O=(E+M)/2),b=S-D,y=M-E,h)if((x=i.allpts).length/2%2==0)b=x[k=x.length/2]-x[V=k-2],y=x[k+1]-x[V+1];else{var k,V,q=2+(k=x.length/2-1);b=x[k]-x[V=k-2],y=x[k+1]-x[V+1]}else if(f||p||m){var $,W,U,Y,j,X,te,x=i.allpts;i.ctrlpts.length/2%2==0?($=ai(x[X=x.length/2-1],x[j=X+2],x[te=j+2],0),W=ai(x[X+1],x[j+1],x[te+1],0),U=ai(x[X],x[j],x[te],1e-4),Y=ai(x[X+1],x[j+1],x[te+1],1e-4)):($=ai(x[X=(j=x.length/2-1)-2],x[j],x[te=j+2],.4999),W=ai(x[X+1],x[j+1],x[te+1],.4999),U=ai(x[X],x[j],x[te],.5),Y=ai(x[X+1],x[j+1],x[te+1],.5)),b=U-$,y=Y-W}if(i.midtgtArrowAngle=Vc(b,y),i.midDispX=b,i.midDispY=y,b*=-1,y*=-1,h&&(x=i.allpts).length/2%2!=0&&(b=-(x[q=2+(k=x.length/2-1)]-x[k]),y=-(x[q+1]-x[k+1])),i.midsrcArrowAngle=Vc(b,y),h)b=S-i.segpts[i.segpts.length-2],y=M-i.segpts[i.segpts.length-1];else if(f||p||m||l){var K=(x=i.allpts).length;b=S-ai(x[K-6],x[K-4],x[K-2],.9),y=M-ai(x[K-5],x[K-3],x[K-1],.9)}else b=S-N,y=M-O;i.tgtArrowAngle=Vc(b,y)}};ec.getArrowWidth=ec.getArrowHeight=function(s,i){var a=this.arrowWidthCache=this.arrowWidthCache||{},l=a[s+", "+i];return l||(l=Math.max(Math.pow(13.37*s,.9),29)*i,a[s+", "+i]=l,l)};var pi={};function Sp(s){var i=[];if(null!=s){for(var a=0;a<s.length;a+=2)i.push({x:s[a],y:s[a+1]});return i}}pi.findMidptPtsEtc=function(s,i){var h,U,Y,X,a=i.posPts,l=i.intersectionPts,f=i.vectorNormInverse,p=s.pstyle("source-endpoint"),m=s.pstyle("target-endpoint"),b=null!=p.units&&null!=m.units;switch(s.pstyle("edge-distances").value){case"node-position":h=a;break;case"intersection":h=l;break;case"endpoints":if(b){var S=cn(this.manualEndptToPx(s.source()[0],p),2),M=S[0],x=S[1],A=cn(this.manualEndptToPx(s.target()[0],m),2),N=A[0],O=A[1],k={x1:M,y1:x,x2:N,y2:O};Y=N-M,f={x:-(U=O-x)/(X=Math.sqrt(Y*Y+U*U)),y:Y/X},h=k}else Gt("Edge ".concat(s.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),h=l}return{midptPts:h,vectorNormInverse:f}},pi.findHaystackPoints=function(s){for(var i=0;i<s.length;i++){var a=s[i],l=a._private,f=l.rscratch;if(!f.haystack){var h=2*Math.random()*Math.PI;f.source={x:Math.cos(h),y:Math.sin(h)},h=2*Math.random()*Math.PI,f.target={x:Math.cos(h),y:Math.sin(h)}}var p=l.source,m=l.target,b=p.position(),y=m.position(),D=p.width(),E=m.width(),S=p.height(),M=m.height(),R=a.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*D*R+b.x,f.source.y*S*R+b.y,f.target.x*E*R+y.x,f.target.y*M*R+y.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(a),this.calculateArrowAngles(a),this.recalculateEdgeLabelProjections(a),this.calculateLabelAngles(a)}},pi.findSegmentsPoints=function(s,i){var a=s._private.rscratch,l=s.pstyle("segment-weights"),f=s.pstyle("segment-distances"),h=Math.min(l.pfValue.length,f.pfValue.length);a.edgeType="segments",a.segpts=[];for(var p=0;p<h;p++){var m=l.pfValue[p],b=f.pfValue[p],y=1-m,D=m,E=this.findMidptPtsEtc(s,i),S=E.midptPts,M=E.vectorNormInverse,x={x:S.x1*y+S.x2*D,y:S.y1*y+S.y2*D};a.segpts.push(x.x+M.x*b,x.y+M.y*b)}},pi.findLoopPoints=function(s,i,a,l){var f=s._private.rscratch,h=i.dirCounts,p=i.srcPos,m=s.pstyle("control-point-distances"),b=m?m.pfValue[0]:void 0,y=s.pstyle("loop-direction").pfValue,D=s.pstyle("loop-sweep").pfValue,E=s.pstyle("control-point-step-size").pfValue;f.edgeType="self";var S=a,M=E;l&&(S=0,M=b);var x=y-Math.PI/2,R=x-D/2,A=x+D/2,N=y+"_"+D;S=void 0===h[N]?h[N]=0:++h[N],f.ctrlpts=[p.x+1.4*Math.cos(R)*M*(S/3+1),p.y+1.4*Math.sin(R)*M*(S/3+1),p.x+1.4*Math.cos(A)*M*(S/3+1),p.y+1.4*Math.sin(A)*M*(S/3+1)]},pi.findCompoundLoopPoints=function(s,i,a,l){var f=s._private.rscratch;f.edgeType="compound";var h=i.srcPos,p=i.tgtPos,m=i.srcW,b=i.srcH,y=i.tgtW,D=i.tgtH,E=s.pstyle("control-point-step-size").pfValue,S=s.pstyle("control-point-distances"),x=a,R=E;l&&(x=0,R=S?S.pfValue[0]:void 0);var N={x:h.x-m/2,y:h.y-b/2},O={x:p.x-y/2,y:p.y-D/2},k={x:Math.min(N.x,O.x),y:Math.min(N.y,O.y)},q=Math.max(.5,Math.log(.01*m)),Z=Math.max(.5,Math.log(.01*y));f.ctrlpts=[k.x,k.y-(1+Math.pow(50,1.12)/100)*R*(x/3+1)*q,k.x-(1+Math.pow(50,1.12)/100)*R*(x/3+1)*Z,k.y]},pi.findStraightEdgePoints=function(s){s._private.rscratch.edgeType="straight"},pi.findBezierPoints=function(s,i,a,l,f){var h=s._private.rscratch,p=s.pstyle("control-point-step-size").pfValue,m=s.pstyle("control-point-distances"),b=s.pstyle("control-point-weights"),y=m&&b?Math.min(m.value.length,b.value.length):1,D=m?m.pfValue[0]:void 0,E=b.value[0],S=l;h.edgeType=S?"multibezier":"bezier",h.ctrlpts=[];for(var M=0;M<y;M++){var R,x=(.5-i.eles.length/2+a)*p*(f?-1:1),A=gf(x);S&&(D=m?m.pfValue[M]:p,E=b.value[M]);var N=void 0!==(R=l?D:void 0!==D?A*D:void 0)?R:x,O=1-E,k=E,V=this.findMidptPtsEtc(s,i),q=V.midptPts,Z=V.vectorNormInverse,$={x:q.x1*O+q.x2*k,y:q.y1*O+q.y2*k};h.ctrlpts.push($.x+Z.x*N,$.y+Z.y*N)}},pi.findTaxiPoints=function(s,i){var a=s._private.rscratch;a.edgeType="segments";var l="vertical",f="horizontal",h="leftward",p="rightward",m="downward",b="upward",D=i.posPts,E=i.srcW,S=i.srcH,M=i.tgtW,x=i.tgtH,A="node-position"!==s.pstyle("edge-distances").value,N=s.pstyle("taxi-direction").value,O=N,k=s.pstyle("taxi-turn"),V="%"===k.units,q=k.pfValue,Z=q<0,$=s.pstyle("taxi-turn-min-distance").pfValue,U=A?(S+x)/2:0,Y=D.x2-D.x1,X=D.y2-D.y1,j=function($e,st){return $e>0?Math.max($e-st,0):Math.min($e+st,0)},te=j(Y,A?(E+M)/2:0),K=j(X,U),ue=!1;"auto"===O?N=Math.abs(te)>Math.abs(K)?f:l:O===b||O===m?(N=l,ue=!0):(O===h||O===p)&&(N=f,ue=!0);var he,ne=N===l,re=ne?K:te,fe=ne?X:Y,pe=gf(fe),De=!1;(!ue||!V&&!Z)&&(O===m&&fe<0||O===b&&fe>0||O===h&&fe>0||O===p&&fe<0)&&(re=(pe*=-1)*Math.abs(re),De=!0);var Fe=function($e){return Math.abs($e)<$||Math.abs($e)>=Math.abs(re)},Me=Fe(he=V?(q<0?1+q:q)*re:(q<0?re:0)+q*pe),Ie=Fe(Math.abs(re)-Math.abs(he));if(!Me&&!Ie||De)if(ne){var Be=D.y1+he+(A?S/2*pe:0);a.segpts=[D.x1,Be,D.x2,Be]}else{var He=D.x1+he+(A?E/2*pe:0);a.segpts=[He,D.y1,He,D.y2]}else if(ne){var Re=Math.abs(fe)<=S/2,Le=Math.abs(Y)<=M/2;if(Re){var Ke=(D.x1+D.x2)/2;a.segpts=[Ke,D.y1,Ke,D.y2]}else if(Le){var Jt=(D.y1+D.y2)/2;a.segpts=[D.x1,Jt,D.x2,Jt]}else a.segpts=[D.x1,D.y2]}else{var je=Math.abs(fe)<=E/2,mt=Math.abs(X)<=x/2;if(je){var Ye=(D.y1+D.y2)/2;a.segpts=[D.x1,Ye,D.x2,Ye]}else if(mt){var qt=(D.x1+D.x2)/2;a.segpts=[qt,D.y1,qt,D.y2]}else a.segpts=[D.x2,D.y1]}},pi.tryToCorrectInvalidPoints=function(s,i){var a=s._private.rscratch;if("bezier"===a.edgeType){var l=i.srcPos,f=i.tgtPos,h=i.srcW,p=i.srcH,m=i.tgtW,b=i.tgtH,y=i.srcShape,D=i.tgtShape,E=!ot(a.startX)||!ot(a.startY),S=!ot(a.arrowStartX)||!ot(a.arrowStartY),M=!ot(a.endX)||!ot(a.endY),x=!ot(a.arrowEndX)||!ot(a.arrowEndY),N=this.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,O=Va({x:a.ctrlpts[0],y:a.ctrlpts[1]},{x:a.startX,y:a.startY}),k=O<N,V=Va({x:a.ctrlpts[0],y:a.ctrlpts[1]},{x:a.endX,y:a.endY}),q=V<N,Z=!1;if(E||S||k){Z=!0;var $={x:a.ctrlpts[0]-l.x,y:a.ctrlpts[1]-l.y},W=Math.sqrt($.x*$.x+$.y*$.y),U={x:$.x/W,y:$.y/W},Y=Math.max(h,p),X={x:a.ctrlpts[0]+2*U.x*Y,y:a.ctrlpts[1]+2*U.y*Y},j=y.intersectLine(l.x,l.y,h,p,X.x,X.y,0);k?(a.ctrlpts[0]=a.ctrlpts[0]+U.x*(N-O),a.ctrlpts[1]=a.ctrlpts[1]+U.y*(N-O)):(a.ctrlpts[0]=j[0]+U.x*N,a.ctrlpts[1]=j[1]+U.y*N)}if(M||x||q){Z=!0;var te={x:a.ctrlpts[0]-f.x,y:a.ctrlpts[1]-f.y},K=Math.sqrt(te.x*te.x+te.y*te.y),ue={x:te.x/K,y:te.y/K},ne=Math.max(h,p),re={x:a.ctrlpts[0]+2*ue.x*ne,y:a.ctrlpts[1]+2*ue.y*ne},fe=D.intersectLine(f.x,f.y,m,b,re.x,re.y,0);q?(a.ctrlpts[0]=a.ctrlpts[0]+ue.x*(N-V),a.ctrlpts[1]=a.ctrlpts[1]+ue.y*(N-V)):(a.ctrlpts[0]=fe[0]+ue.x*N,a.ctrlpts[1]=fe[1]+ue.y*N)}Z&&this.findEndpoints(s)}},pi.storeAllpts=function(s){var i=s._private.rscratch;if("multibezier"===i.edgeType||"bezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType){i.allpts=[],i.allpts.push(i.startX,i.startY);for(var a=0;a+1<i.ctrlpts.length;a+=2)i.allpts.push(i.ctrlpts[a],i.ctrlpts[a+1]),a+3<i.ctrlpts.length&&i.allpts.push((i.ctrlpts[a]+i.ctrlpts[a+2])/2,(i.ctrlpts[a+1]+i.ctrlpts[a+3])/2);var l;i.allpts.push(i.endX,i.endY),i.ctrlpts.length/2%2==0?(i.midX=i.allpts[l=i.allpts.length/2-1],i.midY=i.allpts[l+1]):(i.midX=ai(i.allpts[l=i.allpts.length/2-3],i.allpts[l+2],i.allpts[l+4],.5),i.midY=ai(i.allpts[l+1],i.allpts[l+3],i.allpts[l+5],.5))}else if("straight"===i.edgeType)i.allpts=[i.startX,i.startY,i.endX,i.endY],i.midX=(i.startX+i.endX+i.arrowStartX+i.arrowEndX)/4,i.midY=(i.startY+i.endY+i.arrowStartY+i.arrowEndY)/4;else if("segments"===i.edgeType)if(i.allpts=[],i.allpts.push(i.startX,i.startY),i.allpts.push.apply(i.allpts,i.segpts),i.allpts.push(i.endX,i.endY),i.segpts.length%4==0){var h=i.segpts.length/2,p=h-2;i.midX=(i.segpts[p]+i.segpts[h])/2,i.midY=(i.segpts[p+1]+i.segpts[h+1])/2}else{var m=i.segpts.length/2-1;i.midX=i.segpts[m],i.midY=i.segpts[m+1]}},pi.checkForInvalidEdgeWarning=function(s){var i=s[0]._private.rscratch;i.nodesOverlap||ot(i.startX)&&ot(i.startY)&&ot(i.endX)&&ot(i.endY)?i.loggedErr=!1:i.loggedErr||(i.loggedErr=!0,Gt("Edge `"+s.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},pi.findEdgeControlPoints=function(s){var i=this;if(s&&0!==s.length){for(var a=this,f=a.cy.hasCompoundNodes(),h={map:new va,get:function($){var W=this.map.get($[0]);return null!=W?W.get($[1]):null},set:function($,W){var U=this.map.get($[0]);null==U&&(U=new va,this.map.set($[0],U)),U.set($[1],W)}},p=[],m=[],b=0;b<s.length;b++){var y=s[b],D=y._private,E=y.pstyle("curve-style").value;if(!y.removed()&&y.takesUpSpace()){if("haystack"===E){m.push(y);continue}var S="unbundled-bezier"===E||"segments"===E||"straight"===E||"straight-triangle"===E||"taxi"===E,M="unbundled-bezier"===E||"bezier"===E,R=D.target,O=[D.source.poolIndex(),R.poolIndex()].sort(),k=h.get(O);null==k&&(h.set(O,k={eles:[]}),p.push(O)),k.eles.push(y),S&&(k.hasUnbundled=!0),M&&(k.hasBezier=!0)}}for(var V=function($){var U=h.get(p[$]),Y=void 0;if(!U.hasUnbundled){var X=U.eles[0].parallelEdges().filter(function(Un){return Un.isBundledBezier()});ff(U.eles),X.forEach(function(Un){return U.eles.push(Un)}),U.eles.sort(function(Un,Be){return Un.poolIndex()-Be.poolIndex()})}var j=U.eles[0],te=j.source(),K=j.target();if(te.poolIndex()>K.poolIndex()){var ue=te;te=K,K=ue}var ne=U.srcPos=te.position(),re=U.tgtPos=K.position(),fe=U.srcW=te.outerWidth(),pe=U.srcH=te.outerHeight(),De=U.tgtW=K.outerWidth(),he=U.tgtH=K.outerHeight(),be=U.srcShape=a.nodeShapes[i.getNodeShape(te)],Ae=U.tgtShape=a.nodeShapes[i.getNodeShape(K)];U.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Fe=0;Fe<U.eles.length;Fe++){var Me=U.eles[Fe],Ie=Me[0]._private.rscratch,de=Me.pstyle("curve-style").value,Re="unbundled-bezier"===de||"segments"===de||"taxi"===de,Le=!te.same(Me.source());if(!U.calculatedIntersection&&te!==K&&(U.hasBezier||U.hasUnbundled)){U.calculatedIntersection=!0;var Ke=be.intersectLine(ne.x,ne.y,fe,pe,re.x,re.y,0),tt=U.srcIntn=Ke,_t=Ae.intersectLine(re.x,re.y,De,he,ne.x,ne.y,0),Jt=U.tgtIntn=_t,at=U.intersectionPts={x1:Ke[0],x2:_t[0],y1:Ke[1],y2:_t[1]},Xe=U.posPts={x1:ne.x,x2:re.x,y1:ne.y,y2:re.y},je=_t[1]-Ke[1],mt=_t[0]-Ke[0],Ye=Math.sqrt(mt*mt+je*je),nt=U.vector={x:mt,y:je},pn=U.vectorNorm={x:nt.x/Ye,y:nt.y/Ye},qt={x:-pn.y,y:pn.x};U.nodesOverlap=!ot(Ye)||Ae.checkPoint(Ke[0],Ke[1],0,De,he,re.x,re.y)||be.checkPoint(_t[0],_t[1],0,fe,pe,ne.x,ne.y),U.vectorNormInverse=qt,Y={nodesOverlap:U.nodesOverlap,dirCounts:U.dirCounts,calculatedIntersection:!0,hasBezier:U.hasBezier,hasUnbundled:U.hasUnbundled,eles:U.eles,srcPos:re,tgtPos:ne,srcW:De,srcH:he,tgtW:fe,tgtH:pe,srcIntn:Jt,tgtIntn:tt,srcShape:Ae,tgtShape:be,posPts:{x1:Xe.x2,y1:Xe.y2,x2:Xe.x1,y2:Xe.y1},intersectionPts:{x1:at.x2,y1:at.y2,x2:at.x1,y2:at.y1},vector:{x:-nt.x,y:-nt.y},vectorNorm:{x:-pn.x,y:-pn.y},vectorNormInverse:{x:-qt.x,y:-qt.y}}}var Nt=Le?Y:U;Ie.nodesOverlap=Nt.nodesOverlap,Ie.srcIntn=Nt.srcIntn,Ie.tgtIntn=Nt.tgtIntn,f&&(te.isParent()||te.isChild()||K.isParent()||K.isChild())&&(te.parents().anySame(K)||K.parents().anySame(te)||te.same(K)&&te.isParent())?i.findCompoundLoopPoints(Me,Nt,Fe,Re):te===K?i.findLoopPoints(Me,Nt,Fe,Re):"segments"===de?i.findSegmentsPoints(Me,Nt):"taxi"===de?i.findTaxiPoints(Me,Nt):"straight"===de||!Re&&U.eles.length%2==1&&Fe===Math.floor(U.eles.length/2)?i.findStraightEdgePoints(Me):i.findBezierPoints(Me,Nt,Fe,Re,Le),i.findEndpoints(Me),i.tryToCorrectInvalidPoints(Me,Nt),i.checkForInvalidEdgeWarning(Me),i.storeAllpts(Me),i.storeEdgeProjections(Me),i.calculateArrowAngles(Me),i.recalculateEdgeLabelProjections(Me),i.calculateLabelAngles(Me)}},q=0;q<p.length;q++)V(q);this.findHaystackPoints(m)}},pi.getSegmentPoints=function(s){var i=s[0]._private.rscratch;if("segments"===i.edgeType)return this.recalculateRenderedStyle(s),Sp(i.segpts)},pi.getControlPoints=function(s){var i=s[0]._private.rscratch,a=i.edgeType;if("bezier"===a||"multibezier"===a||"self"===a||"compound"===a)return this.recalculateRenderedStyle(s),Sp(i.ctrlpts)},pi.getEdgeMidpoint=function(s){var i=s[0]._private.rscratch;return this.recalculateRenderedStyle(s),{x:i.midX,y:i.midY}};var ji={manualEndptToPx:function(s,i){var l=s.position(),f=s.outerWidth(),h=s.outerHeight();if(2===i.value.length){var p=[i.pfValue[0],i.pfValue[1]];return"%"===i.units[0]&&(p[0]=p[0]*f),"%"===i.units[1]&&(p[1]=p[1]*h),p[0]+=l.x,p[1]+=l.y,p}var m=i.pfValue[0];m=-Math.PI/2+m;var b=2*Math.max(f,h),y=[l.x+Math.cos(m)*b,l.y+Math.sin(m)*b];return this.nodeShapes[this.getNodeShape(s)].intersectLine(l.x,l.y,f,h,y[0],y[1],0)},findEndpoints:function(s){var a,Y,X,j,te,i=this,l=s.source()[0],f=s.target()[0],h=l.position(),p=f.position(),m=s.pstyle("target-arrow-shape").value,b=s.pstyle("source-arrow-shape").value,y=s.pstyle("target-distance-from-node").pfValue,D=s.pstyle("source-distance-from-node").pfValue,E=s.pstyle("curve-style").value,S=s._private.rscratch,M=S.edgeType,R="self"===M||"compound"===M,A="bezier"===M||"multibezier"===M||R,N="bezier"!==M,O="straight"===M||"segments"===M,k="segments"===M,V=A||N||O,q=R||"taxi"===E,Z=s.pstyle("source-endpoint"),$=q?"outside-to-node":Z.value,W=s.pstyle("target-endpoint"),U=q?"outside-to-node":W.value;if(S.srcManEndpt=Z,S.tgtManEndpt=W,A){var K=[S.ctrlpts[0],S.ctrlpts[1]];Y=N?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:K,X=K}else if(O){var ne=k?S.segpts.slice(0,2):[p.x,p.y];Y=k?S.segpts.slice(S.segpts.length-2):[h.x,h.y],X=ne}if("inside-to-node"===U)a=[p.x,p.y];else if(W.units)a=this.manualEndptToPx(f,W);else if("outside-to-line"===U)a=S.tgtIntn;else if("outside-to-node"===U||"outside-to-node-or-label"===U?j=Y:("outside-to-line"===U||"outside-to-line-or-label"===U)&&(j=[h.x,h.y]),a=i.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),j[0],j[1],0),"outside-to-node-or-label"===U||"outside-to-line-or-label"===U){var fe=f._private.rscratch,he=fe.labelX,be=fe.labelY,Ae=fe.labelWidth/2,Fe=fe.labelHeight/2,Me=f.pstyle("text-valign").value;"top"===Me?be-=Fe:"bottom"===Me&&(be+=Fe);var Ie=f.pstyle("text-halign").value;"left"===Ie?he-=Ae:"right"===Ie&&(he+=Ae);var de=Al(j[0],j[1],[he-Ae,be-Fe,he+Ae,be-Fe,he+Ae,be+Fe,he-Ae,be+Fe],p.x,p.y);if(de.length>0){var Re=h,Le=Qr(Re,Ml(a)),Ke=Qr(Re,Ml(de)),tt=Le;Ke<Le&&(a=de,tt=Ke),de.length>2&&Qr(Re,{x:de[2],y:de[3]})<tt&&(a=[de[2],de[3]])}}var Jt=_u(a,Y,i.arrowShapes[m].spacing(s)+y),at=_u(a,Y,i.arrowShapes[m].gap(s)+y);if(S.endX=at[0],S.endY=at[1],S.arrowEndX=Jt[0],S.arrowEndY=Jt[1],"inside-to-node"===$)a=[h.x,h.y];else if(Z.units)a=this.manualEndptToPx(l,Z);else if("outside-to-line"===$)a=S.srcIntn;else if("outside-to-node"===$||"outside-to-node-or-label"===$?te=X:("outside-to-line"===$||"outside-to-line-or-label"===$)&&(te=[p.x,p.y]),a=i.nodeShapes[this.getNodeShape(l)].intersectLine(h.x,h.y,l.outerWidth(),l.outerHeight(),te[0],te[1],0),"outside-to-node-or-label"===$||"outside-to-line-or-label"===$){var Xe=l._private.rscratch,Ye=Xe.labelX,nt=Xe.labelY,pn=Xe.labelWidth/2,qt=Xe.labelHeight/2,Nt=l.pstyle("text-valign").value;"top"===Nt?nt-=qt:"bottom"===Nt&&(nt+=qt);var Un=l.pstyle("text-halign").value;"left"===Un?Ye-=pn:"right"===Un&&(Ye+=pn);var Be=Al(te[0],te[1],[Ye-pn,nt-qt,Ye+pn,nt-qt,Ye+pn,nt+qt,Ye-pn,nt+qt],h.x,h.y);if(Be.length>0){var G=p,we=Qr(G,Ml(a)),He=Qr(G,Ml(Be)),Ne=we;He<we&&(a=[Be[0],Be[1]],Ne=He),Be.length>2&&Qr(G,{x:Be[2],y:Be[3]})<Ne&&(a=[Be[2],Be[3]])}}var Yt=_u(a,X,i.arrowShapes[b].spacing(s)+D),$e=_u(a,X,i.arrowShapes[b].gap(s)+D);S.startX=$e[0],S.startY=$e[1],S.arrowStartX=Yt[0],S.arrowStartY=Yt[1],V&&(S.badLine=!(ot(S.startX)&&ot(S.startY)&&ot(S.endX)&&ot(S.endY)))},getSourceEndpoint:function(s){var i=s[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(s),i.edgeType)?{x:i.haystackPts[0],y:i.haystackPts[1]}:{x:i.arrowStartX,y:i.arrowStartY}},getTargetEndpoint:function(s){var i=s[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(s),i.edgeType)?{x:i.haystackPts[2],y:i.haystackPts[3]}:{x:i.arrowEndX,y:i.arrowEndY}}},Hf={};function Sd(s,i,a){for(var l=function(y,D,E,S){return ai(y,D,E,S)},h=i._private.rstyle.bezierPts,p=0;p<s.bezierProjPcts.length;p++){var m=s.bezierProjPcts[p];h.push({x:l(a[0],a[2],a[4],m),y:l(a[1],a[3],a[5],m)})}}Hf.storeEdgeProjections=function(s){var i=s._private,a=i.rscratch,l=a.edgeType;if(i.rstyle.bezierPts=null,i.rstyle.linePts=null,i.rstyle.haystackPts=null,"multibezier"===l||"bezier"===l||"self"===l||"compound"===l){i.rstyle.bezierPts=[];for(var f=0;f+5<a.allpts.length;f+=4)Sd(this,s,a.allpts.slice(f,f+6))}else if("segments"===l){var h=i.rstyle.linePts=[];for(f=0;f+1<a.allpts.length;f+=2)h.push({x:a.allpts[f],y:a.allpts[f+1]})}else if("haystack"===l){var p=a.haystackPts;i.rstyle.haystackPts=[{x:p[0],y:p[1]},{x:p[2],y:p[3]}]}i.rstyle.arrowWidth=this.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.arrowShapeWidth},Hf.recalculateEdgeProjections=function(s){this.findEdgeControlPoints(s)};var zo={recalculateNodeLabelProjection:function(s){var i=s.pstyle("label").strValue;if(!en(i)){var a,l,f=s._private,h=s.width(),p=s.height(),m=s.padding(),b=s.position(),y=s.pstyle("text-halign").strValue,D=s.pstyle("text-valign").strValue,E=f.rscratch,S=f.rstyle;switch(y){case"left":a=b.x-h/2-m;break;case"right":a=b.x+h/2+m;break;default:a=b.x}switch(D){case"top":l=b.y-p/2-m;break;case"bottom":l=b.y+p/2+m;break;default:l=b.y}E.labelX=a,E.labelY=l,S.labelX=a,S.labelY=l,this.calculateLabelAngles(s),this.applyLabelDimensions(s)}}},ia=function(i,a){var l=Math.atan(a/i);return 0===i&&l<0&&(l*=-1),l},ni=function(i,a){return ia(a.x-i.x,a.y-i.y)};zo.recalculateEdgeLabelProjections=function(s){var i,a=s._private,l=a.rscratch,f=this,h={mid:s.pstyle("label").strValue,source:s.pstyle("source-label").strValue,target:s.pstyle("target-label").strValue};if(h.mid||h.source||h.target){var p=function(E,S,M){Ba(a.rscratch,E,S,M),Ba(a.rstyle,E,S,M)};p("labelX",null,(i={x:l.midX,y:l.midY}).x),p("labelY",null,i.y);var m=ia(l.midDispX,l.midDispY);p("labelAutoAngle",null,m);var b=function D(){if(D.cache)return D.cache;for(var E=[],S=0;S+5<l.allpts.length;S+=4)E.push({p0:{x:l.allpts[S],y:l.allpts[S+1]},p1:{x:l.allpts[S+2],y:l.allpts[S+3]},p2:{x:l.allpts[S+4],y:l.allpts[S+5]},startDist:0,length:0,segments:[]});var A=a.rstyle.bezierPts,N=f.bezierProjPcts.length;function O($,W,U,Y,X){var j=Va(W,U),te=$.segments[$.segments.length-1];$.segments.push({p0:W,p1:U,t0:Y,t1:X,startDist:te?te.startDist+te.length:0,length:j}),$.length+=j}for(var k=0;k<E.length;k++){var V=E[k],q=E[k-1];q&&(V.startDist=q.startDist+q.length),O(V,V.p0,A[k*N],0,f.bezierProjPcts[0]);for(var Z=0;Z<N-1;Z++)O(V,A[k*N+Z],A[k*N+Z+1],f.bezierProjPcts[Z],f.bezierProjPcts[Z+1]);O(V,A[k*N+N-1],V.p2,f.bezierProjPcts[N-1],1)}return D.cache=E},y=function(E){var S,M="source"===E;if(h[E]){var x=s.pstyle(E+"-text-offset").pfValue;switch(l.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var A,R=b(),N=0,O=0,k=0;k<R.length;k++){for(var V=R[M?k:R.length-1-k],q=0;q<V.segments.length;q++){var Z=V.segments[M?q:V.segments.length-1-q];if(N=O,(O+=Z.length)>=x||k===R.length-1&&q===V.segments.length-1){A={cp:V,segment:Z};break}}if(A)break}var W=A.cp,U=A.segment,Y=(x-N)/U.length,X=U.t1-U.t0,j=M?U.t0+X*Y:U.t1-X*Y;j=$c(0,j,1),i=Fs(W.p0,W.p1,W.p2,j),S=function(i,a,l,f){var h=$c(0,f-.001,1),p=$c(0,f+.001,1),m=Fs(i,a,l,h),b=Fs(i,a,l,p);return ni(m,b)}(W.p0,W.p1,W.p2,j);break;case"straight":case"segments":case"haystack":for(var K,ue,ne,re,te=0,fe=l.allpts.length,pe=0;pe+3<fe&&(M?(ne={x:l.allpts[pe],y:l.allpts[pe+1]},re={x:l.allpts[pe+2],y:l.allpts[pe+3]}):(ne={x:l.allpts[fe-2-pe],y:l.allpts[fe-1-pe]},re={x:l.allpts[fe-4-pe],y:l.allpts[fe-3-pe]}),ue=te,!((te+=K=Va(ne,re))>=x));pe+=2);var he=(x-ue)/K;he=$c(0,he,1),i=function(i,a,l,f){var h_x=a.x-i.x,h_y=a.y-i.y,p=Va(i,a);return l=l??0,{x:i.x+h_x/p*(f=f??l*p),y:i.y+h_y/p*f}}(ne,re,he),S=ni(ne,re)}p("labelX",E,i.x),p("labelY",E,i.y),p("labelAutoAngle",E,S)}};y("source"),y("target"),this.applyLabelDimensions(s)}},zo.applyLabelDimensions=function(s){this.applyPrefixedLabelDimensions(s),s.isEdge()&&(this.applyPrefixedLabelDimensions(s,"source"),this.applyPrefixedLabelDimensions(s,"target"))},zo.applyPrefixedLabelDimensions=function(s,i){var a=s._private,l=this.getLabelText(s,i),f=this.calculateLabelDimensions(s,l),h=s.pstyle("line-height").pfValue,p=s.pstyle("text-wrap").strValue,m=ho(a.rscratch,"labelWrapCachedLines",i)||[],b="wrap"!==p?1:Math.max(m.length,1),y=f.height/b,D=y*h,E=f.width,S=f.height+(b-1)*(h-1)*y;Ba(a.rstyle,"labelWidth",i,E),Ba(a.rscratch,"labelWidth",i,E),Ba(a.rstyle,"labelHeight",i,S),Ba(a.rscratch,"labelHeight",i,S),Ba(a.rscratch,"labelLineHeight",i,D)},zo.getLabelText=function(s,i){var a=s._private,f=s.pstyle((i?i+"-":"")+"label").strValue,h=s.pstyle("text-transform").value,p=function(De,he){return he?(Ba(a.rscratch,De,i,he),he):ho(a.rscratch,De,i)};if(!f)return"";"none"==h||("uppercase"==h?f=f.toUpperCase():"lowercase"==h&&(f=f.toLowerCase()));var m=s.pstyle("text-wrap").value;if("wrap"===m){var b=p("labelKey");if(null!=b&&p("labelWrapKey")===b)return p("labelWrapCachedText");for(var D=f.split("\n"),E=s.pstyle("text-max-width").pfValue,M="anywhere"===s.pstyle("text-overflow-wrap").value,x=[],R=/[\s\u200b]+/,A=M?"":" ",N=0;N<D.length;N++){var O=D[N],V=this.calculateLabelDimensions(s,O).width;if(M){var q=O.split("").join("\u200b");O=q}if(V>E){for(var Z=O.split(R),$="",W=0;W<Z.length;W++){var U=Z[W];this.calculateLabelDimensions(s,0===$.length?U:$+A+U).width<=E?$+=U+A:($&&x.push($),$=U+A)}$.match(/^[\s\u200b]+$/)||x.push($)}else x.push(O)}p("labelWrapCachedLines",x),f=p("labelWrapCachedText",x.join("\n")),p("labelWrapKey",b)}else if("ellipsis"===m){var te=s.pstyle("text-max-width").pfValue,K="",ne=!1;if(this.calculateLabelDimensions(s,f).width<te)return f;for(var re=0;re<f.length&&!(this.calculateLabelDimensions(s,K+f[re]+"\u2026").width>te);re++)K+=f[re],re===f.length-1&&(ne=!0);return ne||(K+="\u2026"),K}return f},zo.getLabelJustification=function(s){var i=s.pstyle("text-justification").strValue,a=s.pstyle("text-halign").strValue;if("auto"!==i)return i;if(!s.isNode())return"center";switch(a){case"left":return"right";case"right":return"left";default:return"center"}},zo.calculateLabelDimensions=function(s,i){var l=ga(i,s._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),h=f[l];if(null!=h)return h;var m=s.pstyle("font-style").strValue,b=s.pstyle("font-size").pfValue,y=s.pstyle("font-family").strValue,D=s.pstyle("font-weight").strValue,E=this.labelCalcCanvas,S=this.labelCalcCanvasContext;if(!E){E=this.labelCalcCanvas=document.createElement("canvas"),S=this.labelCalcCanvasContext=E.getContext("2d");var M=E.style;M.position="absolute",M.left="-9999px",M.top="-9999px",M.zIndex="-1",M.visibility="hidden",M.pointerEvents="none"}S.font="".concat(m," ").concat(D," ").concat(b,"px ").concat(y);for(var x=0,R=0,A=i.split("\n"),N=0;N<A.length;N++){var k=S.measureText(A[N]),V=Math.ceil(k.width),q=b;x=Math.max(V,x),R+=q}return f[l]={width:x+=0,height:R+=0}},zo.calculateLabelAngle=function(s,i){var l=s._private.rscratch,f=s.isEdge(),p=s.pstyle((i?i+"-":"")+"text-rotation"),m=p.strValue;return"none"===m?0:f&&"autorotate"===m?l.labelAutoAngle:"autorotate"===m?0:p.pfValue},zo.calculateLabelAngles=function(s){var i=this,a=s.isEdge(),f=s._private.rscratch;f.labelAngle=i.calculateLabelAngle(s),a&&(f.sourceLabelAngle=i.calculateLabelAngle(s,"source"),f.targetLabelAngle=i.calculateLabelAngle(s,"target"))};var xp={},Uf=!1;xp.getNodeShape=function(s){var a=s.pstyle("shape").value;if("cutrectangle"===a&&(s.width()<28||s.height()<28))return Uf||(Gt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Uf=!0),"rectangle";if(s.isParent())return"rectangle"===a||"roundrectangle"===a||"round-rectangle"===a||"cutrectangle"===a||"cut-rectangle"===a||"barrel"===a?a:"rectangle";if("polygon"===a){var l=s.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(l).name}return a};var Ya={updateCachedGrabbedEles:function(){var s=this.cachedZSortedEles;if(s){s.drag=[],s.nondrag=[];for(var i=[],a=0;a<s.length;a++){var f=(l=s[a])._private.rscratch;l.grabbed()&&!l.isParent()?i.push(l):f.inDragLayer?s.drag.push(l):s.nondrag.push(l)}for(a=0;a<i.length;a++){var l;s.drag.push(l=i[a])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(s){if(s||!this.cachedZSortedEles){var i=this.cy.mutableElements().toArray();i.sort(Tf),i.interactive=i.filter(function(a){return a.interactive()}),this.cachedZSortedEles=i,this.updateCachedGrabbedEles()}else i=this.cachedZSortedEles;return i}},zf={};[Zu,ec,pi,ji,Hf,zo,xp,{registerCalculationListeners:function(){var s=this.cy,i=s.collection(),a=this,l=function(p){var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i.merge(p),m)for(var b=0;b<p.length;b++){var E=p[b]._private.rstyle;E.clean=!1,E.cleanConnected=!1}};a.binder(s).on("bounds.* dirty.*",function(p){l(p.target)}).on("style.* background.*",function(p){l(p.target,!1)});var f=function(p){if(p){var m=a.onUpdateEleCalcsFns;i.cleanStyle();for(var b=0;b<i.length;b++){var y=i[b],D=y._private.rstyle;y.isNode()&&!D.cleanConnected&&(l(y.connectedEdges()),D.cleanConnected=!0)}if(m)for(var E=0;E<m.length;E++)(0,m[E])(p,i);a.recalculateRenderedStyle(i),i=s.collection()}};a.flushRenderedStyleQueue=function(){f(!0)},a.beforeRender(f,a.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(s){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(s)},recalculateRenderedStyle:function(s,i){var a=function(V){return V._private.rstyle.cleanConnected},l=[],f=[];if(!this.destroyed){void 0===i&&(i=!0);for(var h=0;h<s.length;h++){var p=s[h],m=p._private,b=m.rstyle;p.isEdge()&&(!a(p.source())||!a(p.target()))&&(b.clean=!1),!(i&&b.clean||p.removed())&&"none"!==p.pstyle("display").value&&("nodes"===m.group?f.push(p):l.push(p),b.clean=!0)}for(var y=0;y<f.length;y++){var D=f[y],S=D._private.rstyle,M=D.position();this.recalculateNodeLabelProjection(D),S.nodeX=M.x,S.nodeY=M.y,S.nodeW=D.pstyle("width").pfValue,S.nodeH=D.pstyle("height").pfValue}this.recalculateEdgeProjections(l);for(var x=0;x<l.length;x++){var A=l[x]._private,N=A.rstyle,O=A.rscratch;N.srcX=O.arrowStartX,N.srcY=O.arrowStartY,N.tgtX=O.arrowEndX,N.tgtY=O.arrowEndY,N.midX=O.midX,N.midY=O.midY,N.labelAngle=O.labelAngle,N.sourceLabelAngle=O.sourceLabelAngle,N.targetLabelAngle=O.targetLabelAngle}}}},Ya].forEach(function(s){It(zf,s)});var Ku={getCachedImage:function(s,i,a){var f=this.imageCache=this.imageCache||{},h=f[s];if(h)return h.image.complete||h.image.addEventListener("load",a),h.image;var p=(h=f[s]=f[s]||{}).image=new Image;p.addEventListener("load",a),p.addEventListener("error",function(){p.error=!0});return"data:"===s.substring(0,5).toLowerCase()||(p.crossOrigin=i="null"===i?null:i),p.src=s,p}},jo={registerBinding:function(s,i,a,l){var f=Array.prototype.slice.apply(arguments,[1]),h=this.binder(s);return h.on.apply(h,f)},binder:function(s){var i=this,a=i.cy.window(),l=s===a||s===a.document||s===a.document.body||function(i){return!(typeof HTMLElement>"u")&&i instanceof HTMLElement}(s);if(null==i.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});a.addEventListener("test",null,h)}catch{}i.supportsPassiveEvents=f}var p=function(b,y,D){var E=Array.prototype.slice.call(arguments);return l&&i.supportsPassiveEvents&&(E[2]={capture:D??!1,passive:!1,once:!1}),i.bindings.push({target:s,args:E}),(s.addEventListener||s.on).apply(s,E),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(s){return s&&s.isNode()&&!s.locked()&&s.grabbable()},nodeIsGrabbable:function(s){return this.nodeIsDraggable(s)&&s.interactive()}};jo.load=function(){var s=this,i=s.cy.window(),a=function(G){return G.selected()},l=function(G,we,He,Ne){null==G&&(G=s.cy);for(var Ce=0;Ce<we.length;Ce++)G.emit({originalEvent:He,type:we[Ce],position:Ne})},f=function(G){return G.shiftKey||G.metaKey||G.ctrlKey},h=function(G,we){var He=!0;if(s.cy.hasCompoundNodes()&&G&&G.pannable()){for(var Ne=0;we&&Ne<we.length;Ne++)if((G=we[Ne]).isNode()&&G.isParent()&&!G.pannable()){He=!1;break}}else He=!0;return He},b=function(G){G[0]._private.rscratch.inDragLayer=!0},D=function(G){G[0]._private.rscratch.isGrabTarget=!0},S=function(G,we){var He=we.addToList;!He.has(G)&&G.grabbable()&&!G.locked()&&(He.merge(G),function(G){G[0]._private.grabbed=!0}(G))},x=function(G,we){we=we||{};var He=G.cy().hasCompoundNodes();we.inDragLayer&&(G.forEach(b),G.neighborhood().stdFilter(function(Ne){return!He||Ne.isEdge()}).forEach(b)),we.addToList&&G.forEach(function(Ne){S(Ne,we)}),function(G,we){if(G.cy().hasCompoundNodes()&&(null!=we.inDragLayer||null!=we.addToList)){var He=G.descendants();we.inDragLayer&&(He.forEach(b),He.connectedEdges().forEach(b)),we.addToList&&S(He,we)}}(G,we),N(G,{inDragLayer:we.inDragLayer}),s.updateCachedGrabbedEles()},R=x,A=function(G){G&&(s.getCachedZSortedEles().forEach(function(we){(function(G){G[0]._private.grabbed=!1})(we),function(G){G[0]._private.rscratch.inDragLayer=!1}(we),function(G){G[0]._private.rscratch.isGrabTarget=!1}(we)}),s.updateCachedGrabbedEles())},N=function(G,we){if((null!=we.inDragLayer||null!=we.addToList)&&G.cy().hasCompoundNodes()){var He=G.ancestors().orphans();if(!He.same(G)){var Ne=He.descendants().spawnSelf().merge(He).unmerge(G).unmerge(G.descendants()),Ce=Ne.connectedEdges();we.inDragLayer&&(Ce.forEach(b),Ne.forEach(b)),we.addToList&&Ne.forEach(function(Yt){S(Yt,we)})}}},O=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},k=typeof MutationObserver<"u",V=typeof ResizeObserver<"u";k?(s.removeObserver=new MutationObserver(function(Be){for(var G=0;G<Be.length;G++){var He=Be[G].removedNodes;if(He)for(var Ne=0;Ne<He.length;Ne++)if(He[Ne]===s.container){s.destroy();break}}}),s.container.parentNode&&s.removeObserver.observe(s.container.parentNode,{childList:!0})):s.registerBinding(s.container,"DOMNodeRemoved",function(Be){s.destroy()});var q=rt.default(function(){s.cy.resize()},100);k&&(s.styleObserver=new MutationObserver(q),s.styleObserver.observe(s.container,{attributes:!0})),s.registerBinding(i,"resize",q),V&&(s.resizeObserver=new ResizeObserver(q),s.resizeObserver.observe(s.container));var $=function(){s.invalidateContainerClientCoordsCache()};(function(G,we){for(;null!=G;)s.registerBinding(Be=G,"transitionend",$),s.registerBinding(Be,"animationend",$),s.registerBinding(Be,"scroll",$),G=G.parentNode;var Be})(s.container),s.registerBinding(s.container,"contextmenu",function(Be){Be.preventDefault()});var Y,X,j,U=function(G){for(var we=s.findContainerClientCoords(),He=we[0],Ne=we[1],Ce=we[2],Yt=we[3],$e=G.touches?G.touches:[G],st=!1,Tt=0;Tt<$e.length;Tt++){var Bn=$e[Tt];if(He<=Bn.clientX&&Bn.clientX<=He+Ce&&Ne<=Bn.clientY&&Bn.clientY<=Ne+Yt){st=!0;break}}if(!st)return!1;for(var sn=s.container,Wt=G.target.parentNode,un=!1;Wt;){if(Wt===sn){un=!0;break}Wt=Wt.parentNode}return!!un};s.registerBinding(s.container,"mousedown",function(G){if(U(G)){G.preventDefault(),O(),s.hoverData.capture=!0,s.hoverData.which=G.which;var we=s.cy,He=[G.clientX,G.clientY],Ne=s.projectIntoViewport(He[0],He[1]),Ce=s.selection,Yt=s.findNearestElements(Ne[0],Ne[1],!0,!1),$e=Yt[0],st=s.dragData.possibleDragElements;if(s.hoverData.mdownPos=Ne,s.hoverData.mdownGPos=He,3==G.which){s.hoverData.cxtStarted=!0;var Bn={originalEvent:G,type:"cxttapstart",position:{x:Ne[0],y:Ne[1]}};$e?($e.activate(),$e.emit(Bn),s.hoverData.down=$e):we.emit(Bn),s.hoverData.downTime=(new Date).getTime(),s.hoverData.cxtDragged=!1}else if(1==G.which){if($e&&$e.activate(),null!=$e&&s.nodeIsGrabbable($e)){var sn=function(wr){return{originalEvent:G,type:wr,position:{x:Ne[0],y:Ne[1]}}};if(D($e),$e.selected()){st=s.dragData.possibleDragElements=we.collection();var Wt=we.$(function(un){return un.isNode()&&un.selected()&&s.nodeIsGrabbable(un)});x(Wt,{addToList:st}),$e.emit(sn("grabon")),Wt.forEach(function(wr){wr.emit(sn("grab"))})}else st=s.dragData.possibleDragElements=we.collection(),R($e,{addToList:st}),$e.emit(sn("grabon")).emit(sn("grab"));s.redrawHint("eles",!0),s.redrawHint("drag",!0)}s.hoverData.down=$e,s.hoverData.downs=Yt,s.hoverData.downTime=(new Date).getTime(),l($e,["mousedown","tapstart","vmousedown"],G,{x:Ne[0],y:Ne[1]}),null==$e?(Ce[4]=1,s.data.bgActivePosistion={x:Ne[0],y:Ne[1]},s.redrawHint("select",!0),s.redraw()):$e.pannable()&&(Ce[4]=1),s.hoverData.tapholdCancelled=!1,clearTimeout(s.hoverData.tapholdTimeout),s.hoverData.tapholdTimeout=setTimeout(function(){if(!s.hoverData.tapholdCancelled){var wr=s.hoverData.down;wr?wr.emit({originalEvent:G,type:"taphold",position:{x:Ne[0],y:Ne[1]}}):we.emit({originalEvent:G,type:"taphold",position:{x:Ne[0],y:Ne[1]}})}},s.tapholdDuration)}Ce[0]=Ce[2]=Ne[0],Ce[1]=Ce[3]=Ne[1]}},!1),s.registerBinding(i,"mousemove",function(G){var sa;if(s.hoverData.capture||U(G)){var He=!1,Ne=s.cy,Ce=Ne.zoom(),Yt=[G.clientX,G.clientY],$e=s.projectIntoViewport(Yt[0],Yt[1]),st=s.hoverData.mdownPos,Tt=s.hoverData.mdownGPos,Bn=s.selection,sn=null;!s.hoverData.draggingEles&&!s.hoverData.dragging&&!s.hoverData.selecting&&(sn=s.findNearestElement($e[0],$e[1],!0,!1));var jr,xn=s.hoverData.last,Wt=s.hoverData.down,un=[$e[0]-Bn[2],$e[1]-Bn[3]],wr=s.dragData.possibleDragElements;if(Tt){var To=Yt[0]-Tt[0],Er=Yt[1]-Tt[1];s.hoverData.isOverThresholdDrag=jr=To*To+Er*Er>=s.desktopTapThreshold2}var Zo=f(G);jr&&(s.hoverData.tapholdCancelled=!0),He=!0,l(sn,["mousemove","vmousemove","tapdrag"],G,{x:$e[0],y:$e[1]});var aa=function(){s.data.bgActivePosistion=void 0,s.hoverData.selecting||Ne.emit({originalEvent:G,type:"boxstart",position:{x:$e[0],y:$e[1]}}),Bn[4]=1,s.hoverData.selecting=!0,s.redrawHint("select",!0),s.redraw()};if(3===s.hoverData.which){if(jr){var _s={originalEvent:G,type:"cxtdrag",position:{x:$e[0],y:$e[1]}};Wt?Wt.emit(_s):Ne.emit(_s),s.hoverData.cxtDragged=!0,(!s.hoverData.cxtOver||sn!==s.hoverData.cxtOver)&&(s.hoverData.cxtOver&&s.hoverData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:$e[0],y:$e[1]}}),s.hoverData.cxtOver=sn,sn&&sn.emit({originalEvent:G,type:"cxtdragover",position:{x:$e[0],y:$e[1]}}))}}else if(s.hoverData.dragging){if(He=!0,Ne.panningEnabled()&&Ne.userPanningEnabled()){var Js;if(s.hoverData.justStartedPan){var eu=s.hoverData.mdownPos;Js={x:($e[0]-eu[0])*Ce,y:($e[1]-eu[1])*Ce},s.hoverData.justStartedPan=!1}else Js={x:un[0]*Ce,y:un[1]*Ce};Ne.panBy(Js),Ne.emit("dragpan"),s.hoverData.dragged=!0}$e=s.projectIntoViewport(G.clientX,G.clientY)}else if(1!=Bn[4]||null!=Wt&&!Wt.pannable()){if(Wt&&Wt.pannable()&&Wt.active()&&Wt.unactivate(),(!Wt||!Wt.grabbed())&&sn!=xn&&(xn&&l(xn,["mouseout","tapdragout"],G,{x:$e[0],y:$e[1]}),sn&&l(sn,["mouseover","tapdragover"],G,{x:$e[0],y:$e[1]}),s.hoverData.last=sn),Wt)if(jr){if(Ne.boxSelectionEnabled()&&Zo)Wt&&Wt.grabbed()&&(A(wr),Wt.emit("freeon"),wr.emit("free"),s.dragData.didDrag&&(Wt.emit("dragfreeon"),wr.emit("dragfree"))),aa();else if(Wt&&Wt.grabbed()&&s.nodeIsDraggable(Wt)){var oi=!s.dragData.didDrag;oi&&s.redrawHint("eles",!0),s.dragData.didDrag=!0,s.hoverData.draggingEles||x(wr,{inDragLayer:!0});var Mi={x:0,y:0};if(ot(un[0])&&ot(un[1])&&(Mi.x+=un[0],Mi.y+=un[1],oi)){var Ir=s.hoverData.dragDelta;Ir&&ot(Ir[0])&&ot(Ir[1])&&(Mi.x+=Ir[0],Mi.y+=Ir[1])}s.hoverData.draggingEles=!0,wr.silentShift(Mi).emit("position drag"),s.redrawHint("drag",!0),s.redraw()}}else 0===(sa=s.hoverData.dragDelta=s.hoverData.dragDelta||[]).length?(sa.push(un[0]),sa.push(un[1])):(sa[0]+=un[0],sa[1]+=un[1]);He=!0}else jr&&(s.hoverData.dragging||!Ne.boxSelectionEnabled()||!Zo&&Ne.panningEnabled()&&Ne.userPanningEnabled()?!s.hoverData.selecting&&Ne.panningEnabled()&&Ne.userPanningEnabled()&&h(Wt,s.hoverData.downs)&&(s.hoverData.dragging=!0,s.hoverData.justStartedPan=!0,Bn[4]=0,s.data.bgActivePosistion=Ml(st),s.redrawHint("select",!0),s.redraw()):aa(),Wt&&Wt.pannable()&&Wt.active()&&Wt.unactivate());if(Bn[2]=$e[0],Bn[3]=$e[1],He)return G.stopPropagation&&G.stopPropagation(),G.preventDefault&&G.preventDefault(),!1}},!1),s.registerBinding(i,"mouseup",function(G){if(s.hoverData.capture){s.hoverData.capture=!1;var He=s.cy,Ne=s.projectIntoViewport(G.clientX,G.clientY),Ce=s.selection,Yt=s.findNearestElement(Ne[0],Ne[1],!0,!1),$e=s.dragData.possibleDragElements,st=s.hoverData.down,Tt=f(G);if(s.data.bgActivePosistion&&(s.redrawHint("select",!0),s.redraw()),s.hoverData.tapholdCancelled=!0,s.data.bgActivePosistion=void 0,st&&st.unactivate(),3===s.hoverData.which){var Bn={originalEvent:G,type:"cxttapend",position:{x:Ne[0],y:Ne[1]}};if(st?st.emit(Bn):He.emit(Bn),!s.hoverData.cxtDragged){var sn={originalEvent:G,type:"cxttap",position:{x:Ne[0],y:Ne[1]}};st?st.emit(sn):He.emit(sn)}s.hoverData.cxtDragged=!1,s.hoverData.which=null}else if(1===s.hoverData.which){if(l(Yt,["mouseup","tapend","vmouseup"],G,{x:Ne[0],y:Ne[1]}),!s.dragData.didDrag&&!s.hoverData.dragged&&!s.hoverData.selecting&&!s.hoverData.isOverThresholdDrag&&(l(st,["click","tap","vclick"],G,{x:Ne[0],y:Ne[1]}),X=!1,G.timeStamp-j<=He.multiClickDebounceTime()?(Y&&clearTimeout(Y),X=!0,j=null,l(st,["dblclick","dbltap","vdblclick"],G,{x:Ne[0],y:Ne[1]})):(Y=setTimeout(function(){X||l(st,["oneclick","onetap","voneclick"],G,{x:Ne[0],y:Ne[1]})},He.multiClickDebounceTime()),j=G.timeStamp)),null==st&&!s.dragData.didDrag&&!s.hoverData.selecting&&!s.hoverData.dragged&&!f(G)&&(He.$(a).unselect(["tapunselect"]),$e.length>0&&s.redrawHint("eles",!0),s.dragData.possibleDragElements=$e=He.collection()),Yt==st&&!s.dragData.didDrag&&!s.hoverData.selecting&&null!=Yt&&Yt._private.selectable&&(s.hoverData.dragging||("additive"===He.selectionType()||Tt?Yt.selected()?Yt.unselect(["tapunselect"]):Yt.select(["tapselect"]):Tt||(He.$(a).unmerge(Yt).unselect(["tapunselect"]),Yt.select(["tapselect"]))),s.redrawHint("eles",!0)),s.hoverData.selecting){var xn=He.collection(s.getAllInBox(Ce[0],Ce[1],Ce[2],Ce[3]));s.redrawHint("select",!0),xn.length>0&&s.redrawHint("eles",!0),He.emit({type:"boxend",originalEvent:G,position:{x:Ne[0],y:Ne[1]}}),"additive"===He.selectionType()||Tt||He.$(a).unmerge(xn).unselect(),xn.emit("box").stdFilter(function(jr){return jr.selectable()&&!jr.selected()}).select().emit("boxselect"),s.redraw()}if(s.hoverData.dragging&&(s.hoverData.dragging=!1,s.redrawHint("select",!0),s.redrawHint("eles",!0),s.redraw()),!Ce[4]){s.redrawHint("drag",!0),s.redrawHint("eles",!0);var un=st&&st.grabbed();A($e),un&&(st.emit("freeon"),$e.emit("free"),s.dragData.didDrag&&(st.emit("dragfreeon"),$e.emit("dragfree")))}}Ce[4]=0,s.hoverData.down=null,s.hoverData.cxtStarted=!1,s.hoverData.draggingEles=!1,s.hoverData.selecting=!1,s.hoverData.isOverThresholdDrag=!1,s.dragData.didDrag=!1,s.hoverData.dragged=!1,s.hoverData.dragDelta=[],s.hoverData.mdownPos=null,s.hoverData.mdownGPos=null}},!1);var te=function(G){if(!s.scrollingPage){var we=s.cy,He=we.zoom(),Ne=we.pan(),Ce=s.projectIntoViewport(G.clientX,G.clientY),Yt=[Ce[0]*He+Ne.x,Ce[1]*He+Ne.y];if(s.hoverData.draggingEles||s.hoverData.dragging||s.hoverData.cxtStarted||0!==s.selection[4])return void G.preventDefault();if(we.panningEnabled()&&we.userPanningEnabled()&&we.zoomingEnabled()&&we.userZoomingEnabled()){var $e;G.preventDefault(),s.data.wheelZooming=!0,clearTimeout(s.data.wheelTimeout),s.data.wheelTimeout=setTimeout(function(){s.data.wheelZooming=!1,s.redrawHint("eles",!0),s.redraw()},150),$e=null!=G.deltaY?G.deltaY/-250:null!=G.wheelDeltaY?G.wheelDeltaY/1e3:G.wheelDelta/1e3,$e*=s.wheelSensitivity,1===G.deltaMode&&($e*=33);var Tt=we.zoom()*Math.pow(10,$e);"gesturechange"===G.type&&(Tt=s.gestureStartZoom*G.scale),we.zoom({level:Tt,renderedPosition:{x:Yt[0],y:Yt[1]}}),we.emit("gesturechange"===G.type?"pinchzoom":"scrollzoom")}}};s.registerBinding(s.container,"wheel",te,!0),s.registerBinding(i,"scroll",function(G){s.scrollingPage=!0,clearTimeout(s.scrollingPageTimeout),s.scrollingPageTimeout=setTimeout(function(){s.scrollingPage=!1},250)},!0),s.registerBinding(s.container,"gesturestart",function(G){s.gestureStartZoom=s.cy.zoom(),s.hasTouchStarted||G.preventDefault()},!0),s.registerBinding(s.container,"gesturechange",function(Be){s.hasTouchStarted||te(Be)},!0),s.registerBinding(s.container,"mouseout",function(G){var we=s.projectIntoViewport(G.clientX,G.clientY);s.cy.emit({originalEvent:G,type:"mouseout",position:{x:we[0],y:we[1]}})},!1),s.registerBinding(s.container,"mouseover",function(G){var we=s.projectIntoViewport(G.clientX,G.clientY);s.cy.emit({originalEvent:G,type:"mouseover",position:{x:we[0],y:we[1]}})},!1);var K,ue,ne,re,fe,pe,De,he,be,Ae,Fe,Me,Ie,Le,Ke,tt,_t,Jt,at,Xe,de=function(G,we,He,Ne){return Math.sqrt((He-G)*(He-G)+(Ne-we)*(Ne-we))},Re=function(G,we,He,Ne){return(He-G)*(He-G)+(Ne-we)*(Ne-we)};if(s.registerBinding(s.container,"touchstart",Le=function(G){if(s.hasTouchStarted=!0,U(G)){O(),s.touchData.capture=!0,s.data.bgActivePosistion=void 0;var we=s.cy,He=s.touchData.now,Ne=s.touchData.earlier;if(G.touches[0]){var Ce=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);He[0]=Ce[0],He[1]=Ce[1]}if(G.touches[1]&&(Ce=s.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),He[2]=Ce[0],He[3]=Ce[1]),G.touches[2]&&(Ce=s.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),He[4]=Ce[0],He[5]=Ce[1]),G.touches[1]){s.touchData.singleTouchMoved=!0,A(s.dragData.touchDragEles);var Yt=s.findContainerClientCoords();Fe=Yt[2],Me=Yt[3],ue=G.touches[0].clientY-(Ae=Yt[1]),ne=G.touches[1].clientX-(be=Yt[0]),re=G.touches[1].clientY-Ae,Ie=0<=(K=G.touches[0].clientX-be)&&K<=Fe&&0<=ne&&ne<=Fe&&0<=ue&&ue<=Me&&0<=re&&re<=Me;var $e=we.pan(),st=we.zoom();if(fe=de(K,ue,ne,re),pe=Re(K,ue,ne,re),he=[((De=[(K+ne)/2,(ue+re)/2])[0]-$e.x)/st,(De[1]-$e.y)/st],pe<4e4&&!G.touches[2]){var sn=s.findNearestElement(He[0],He[1],!0,!0),xn=s.findNearestElement(He[2],He[3],!0,!0);return sn&&sn.isNode()?(sn.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:He[0],y:He[1]}}),s.touchData.start=sn):xn&&xn.isNode()?(xn.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:He[0],y:He[1]}}),s.touchData.start=xn):we.emit({originalEvent:G,type:"cxttapstart",position:{x:He[0],y:He[1]}}),s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxt=!0,s.touchData.cxtDragged=!1,s.data.bgActivePosistion=void 0,void s.redraw()}}if(G.touches[2])we.boxSelectionEnabled()&&G.preventDefault();else if(!G.touches[1]&&G.touches[0]){var Wt=s.findNearestElements(He[0],He[1],!0,!0),un=Wt[0];if(null!=un&&(un.activate(),s.touchData.start=un,s.touchData.starts=Wt,s.nodeIsGrabbable(un))){var wr=s.dragData.touchDragEles=we.collection(),jr=null;s.redrawHint("eles",!0),s.redrawHint("drag",!0),un.selected()?(jr=we.$(function(xi){return xi.selected()&&s.nodeIsGrabbable(xi)}),x(jr,{addToList:wr})):R(un,{addToList:wr}),D(un);var To=function(Zo){return{originalEvent:G,type:Zo,position:{x:He[0],y:He[1]}}};un.emit(To("grabon")),jr?jr.forEach(function(xi){xi.emit(To("grab"))}):un.emit(To("grab"))}l(un,["touchstart","tapstart","vmousedown"],G,{x:He[0],y:He[1]}),null==un&&(s.data.bgActivePosistion={x:Ce[0],y:Ce[1]},s.redrawHint("select",!0),s.redraw()),s.touchData.singleTouchMoved=!1,s.touchData.singleTouchStartTime=+new Date,clearTimeout(s.touchData.tapholdTimeout),s.touchData.tapholdTimeout=setTimeout(function(){!1===s.touchData.singleTouchMoved&&!s.pinching&&!s.touchData.selecting&&l(s.touchData.start,["taphold"],G,{x:He[0],y:He[1]})},s.tapholdDuration)}if(G.touches.length>=1){for(var Si=s.touchData.startPosition=[null,null,null,null,null,null],Er=0;Er<He.length;Er++)Si[Er]=Ne[Er]=He[Er];var Wo=G.touches[0];s.touchData.startGPosition=[Wo.clientX,Wo.clientY]}}},!1),s.registerBinding(window,"touchmove",Ke=function(G){var we=s.touchData.capture;if(we||U(G)){var He=s.selection,Ne=s.cy,Ce=s.touchData.now,Yt=s.touchData.earlier,$e=Ne.zoom();if(G.touches[0]){var st=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Ce[0]=st[0],Ce[1]=st[1]}G.touches[1]&&(st=s.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ce[2]=st[0],Ce[3]=st[1]),G.touches[2]&&(st=s.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ce[4]=st[0],Ce[5]=st[1]);var Bn,Tt=s.touchData.startGPosition;if(we&&G.touches[0]&&Tt){for(var sn=[],xn=0;xn<Ce.length;xn++)sn[xn]=Ce[xn]-Yt[xn];var Wt=G.touches[0].clientX-Tt[0],wr=G.touches[0].clientY-Tt[1];Bn=Wt*Wt+wr*wr>=s.touchTapThreshold2}if(we&&s.touchData.cxt){G.preventDefault();var Zo=Re(Si=G.touches[0].clientX-be,Er=G.touches[0].clientY-Ae,Wo=G.touches[1].clientX-be,xi=G.touches[1].clientY-Ae);if(Zo/pe>=2.25||Zo>=22500){s.touchData.cxt=!1,s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);var Ja={originalEvent:G,type:"cxttapend",position:{x:Ce[0],y:Ce[1]}};s.touchData.start?(s.touchData.start.unactivate().emit(Ja),s.touchData.start=null):Ne.emit(Ja)}}if(we&&s.touchData.cxt){Ja={originalEvent:G,type:"cxtdrag",position:{x:Ce[0],y:Ce[1]}},s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),s.touchData.start?s.touchData.start.emit(Ja):Ne.emit(Ja),s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxtDragged=!0;var oi=s.findNearestElement(Ce[0],Ce[1],!0,!0);(!s.touchData.cxtOver||oi!==s.touchData.cxtOver)&&(s.touchData.cxtOver&&s.touchData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:Ce[0],y:Ce[1]}}),s.touchData.cxtOver=oi,oi&&oi.emit({originalEvent:G,type:"cxtdragover",position:{x:Ce[0],y:Ce[1]}}))}else if(we&&G.touches[2]&&Ne.boxSelectionEnabled())G.preventDefault(),s.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,s.touchData.selecting||Ne.emit({originalEvent:G,type:"boxstart",position:{x:Ce[0],y:Ce[1]}}),s.touchData.selecting=!0,s.touchData.didSelect=!0,He[4]=1,He&&0!==He.length&&void 0!==He[0]?(He[2]=(Ce[0]+Ce[2]+Ce[4])/3,He[3]=(Ce[1]+Ce[3]+Ce[5])/3):(He[0]=(Ce[0]+Ce[2]+Ce[4])/3,He[1]=(Ce[1]+Ce[3]+Ce[5])/3,He[2]=(Ce[0]+Ce[2]+Ce[4])/3+1,He[3]=(Ce[1]+Ce[3]+Ce[5])/3+1),s.redrawHint("select",!0),s.redraw();else if(we&&G.touches[1]&&!s.touchData.didSelect&&Ne.zoomingEnabled()&&Ne.panningEnabled()&&Ne.userZoomingEnabled()&&Ne.userPanningEnabled()){if(G.preventDefault(),s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),Mi=s.dragData.touchDragEles){s.redrawHint("drag",!0);for(var Ir=0;Ir<Mi.length;Ir++){var tn=Mi[Ir]._private;tn.grabbed=!1,tn.rscratch.inDragLayer=!1}}var Si,Er,Wo,xi,sa=s.touchData.start,Wi=de(Si=G.touches[0].clientX-be,Er=G.touches[0].clientY-Ae,Wo=G.touches[1].clientX-be,xi=G.touches[1].clientY-Ae),Fp=Wi/fe;if(Ie){var uc=(Si-K+(Wo-ne))/2,Lp=(Er-ue+(xi-re))/2,dl=Ne.zoom(),ah=dl*Fp,Pd=Ne.pan(),Bp=he[0]*dl+Pd.x,Vp=he[1]*dl+Pd.y,_v={x:-ah/dl*(Bp-Pd.x-uc)+Bp,y:-ah/dl*(Vp-Pd.y-Lp)+Vp};sa&&sa.active()&&(A(Mi=s.dragData.touchDragEles),s.redrawHint("drag",!0),s.redrawHint("eles",!0),sa.unactivate().emit("freeon"),Mi.emit("free"),s.dragData.didDrag&&(sa.emit("dragfreeon"),Mi.emit("dragfree"))),Ne.viewport({zoom:ah,pan:_v,cancelOnFailedZoom:!0}),Ne.emit("pinchzoom"),fe=Wi,K=Si,ue=Er,ne=Wo,re=xi,s.pinching=!0}G.touches[0]&&(st=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),Ce[0]=st[0],Ce[1]=st[1]),G.touches[1]&&(st=s.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),Ce[2]=st[0],Ce[3]=st[1]),G.touches[2]&&(st=s.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),Ce[4]=st[0],Ce[5]=st[1])}else if(G.touches[0]&&!s.touchData.didSelect){var gi=s.touchData.start,tu=s.touchData.last;if(!s.hoverData.draggingEles&&!s.swipePanning&&(oi=s.findNearestElement(Ce[0],Ce[1],!0,!0)),we&&null!=gi&&G.preventDefault(),we&&null!=gi&&s.nodeIsDraggable(gi))if(Bn){var Mi=s.dragData.touchDragEles,$p=!s.dragData.didDrag;$p&&x(Mi,{inDragLayer:!0}),s.dragData.didDrag=!0;var Od={x:0,y:0};ot(sn[0])&&ot(sn[1])&&(Od.x+=sn[0],Od.y+=sn[1],$p)&&(s.redrawHint("eles",!0),(Ra=s.touchData.dragDelta)&&ot(Ra[0])&&ot(Ra[1])&&(Od.x+=Ra[0],Od.y+=Ra[1])),s.hoverData.draggingEles=!0,Mi.silentShift(Od).emit("position drag"),s.redrawHint("drag",!0),s.touchData.startPosition[0]==Yt[0]&&s.touchData.startPosition[1]==Yt[1]&&s.redrawHint("eles",!0),s.redraw()}else{var Ra;0===(Ra=s.touchData.dragDelta=s.touchData.dragDelta||[]).length?(Ra.push(sn[0]),Ra.push(sn[1])):(Ra[0]+=sn[0],Ra[1]+=sn[1])}if(l(gi||oi,["touchmove","tapdrag","vmousemove"],G,{x:Ce[0],y:Ce[1]}),(!gi||!gi.grabbed())&&oi!=tu&&(tu&&tu.emit({originalEvent:G,type:"tapdragout",position:{x:Ce[0],y:Ce[1]}}),oi&&oi.emit({originalEvent:G,type:"tapdragover",position:{x:Ce[0],y:Ce[1]}})),s.touchData.last=oi,we)for(Ir=0;Ir<Ce.length;Ir++)Ce[Ir]&&s.touchData.startPosition[Ir]&&Bn&&(s.touchData.singleTouchMoved=!0);we&&(null==gi||gi.pannable())&&Ne.panningEnabled()&&Ne.userPanningEnabled()&&(h(gi,s.touchData.starts)&&(G.preventDefault(),s.data.bgActivePosistion||(s.data.bgActivePosistion=Ml(s.touchData.startPosition)),s.swipePanning?(Ne.panBy({x:sn[0]*$e,y:sn[1]*$e}),Ne.emit("dragpan")):Bn&&(s.swipePanning=!0,Ne.panBy({x:Wt*$e,y:wr*$e}),Ne.emit("dragpan"),gi&&(gi.unactivate(),s.redrawHint("select",!0),s.touchData.start=null))),st=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),Ce[0]=st[0],Ce[1]=st[1])}for(xn=0;xn<Ce.length;xn++)Yt[xn]=Ce[xn];we&&G.touches.length>0&&!s.hoverData.draggingEles&&!s.swipePanning&&null!=s.data.bgActivePosistion&&(s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),s.redraw())}},!1),s.registerBinding(i,"touchcancel",tt=function(G){var we=s.touchData.start;s.touchData.capture=!1,we&&we.unactivate()}),s.registerBinding(i,"touchend",_t=function(G){var we=s.touchData.start;if(s.touchData.capture){0===G.touches.length&&(s.touchData.capture=!1),G.preventDefault();var Ne=s.selection;s.swipePanning=!1,s.hoverData.draggingEles=!1;var Bn,Ce=s.cy,Yt=Ce.zoom(),$e=s.touchData.now,st=s.touchData.earlier;if(G.touches[0]){var Tt=s.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);$e[0]=Tt[0],$e[1]=Tt[1]}if(G.touches[1]&&(Tt=s.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),$e[2]=Tt[0],$e[3]=Tt[1]),G.touches[2]&&(Tt=s.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),$e[4]=Tt[0],$e[5]=Tt[1]),we&&we.unactivate(),s.touchData.cxt){if(Bn={originalEvent:G,type:"cxttapend",position:{x:$e[0],y:$e[1]}},we?we.emit(Bn):Ce.emit(Bn),!s.touchData.cxtDragged){var sn={originalEvent:G,type:"cxttap",position:{x:$e[0],y:$e[1]}};we?we.emit(sn):Ce.emit(sn)}return s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxt=!1,s.touchData.start=null,void s.redraw()}if(!G.touches[2]&&Ce.boxSelectionEnabled()&&s.touchData.selecting){s.touchData.selecting=!1;var xn=Ce.collection(s.getAllInBox(Ne[0],Ne[1],Ne[2],Ne[3]));Ne[0]=void 0,Ne[1]=void 0,Ne[2]=void 0,Ne[3]=void 0,Ne[4]=0,s.redrawHint("select",!0),Ce.emit({type:"boxend",originalEvent:G,position:{x:$e[0],y:$e[1]}}),xn.emit("box").stdFilter(function(_s){return _s.selectable()&&!_s.selected()}).select().emit("boxselect"),xn.nonempty()&&s.redrawHint("eles",!0),s.redraw()}if(we?.unactivate(),G.touches[2])s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);else if(!G.touches[1]&&!G.touches[0]&&!G.touches[0]){s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);var un=s.dragData.touchDragEles;if(null!=we){var wr=we._private.grabbed;A(un),s.redrawHint("drag",!0),s.redrawHint("eles",!0),wr&&(we.emit("freeon"),un.emit("free"),s.dragData.didDrag&&(we.emit("dragfreeon"),un.emit("dragfree"))),l(we,["touchend","tapend","vmouseup","tapdragout"],G,{x:$e[0],y:$e[1]}),we.unactivate(),s.touchData.start=null}else{var jr=s.findNearestElement($e[0],$e[1],!0,!0);l(jr,["touchend","tapend","vmouseup","tapdragout"],G,{x:$e[0],y:$e[1]})}var To=s.touchData.startPosition[0]-$e[0],Er=s.touchData.startPosition[1]-$e[1],Zo=(To*To+Er*Er)*Yt*Yt;s.touchData.singleTouchMoved||(we||Ce.$(":selected").unselect(["tapunselect"]),l(we,["tap","vclick"],G,{x:$e[0],y:$e[1]}),Jt=!1,G.timeStamp-Xe<=Ce.multiClickDebounceTime()?(at&&clearTimeout(at),Jt=!0,Xe=null,l(we,["dbltap","vdblclick"],G,{x:$e[0],y:$e[1]})):(at=setTimeout(function(){Jt||l(we,["onetap","voneclick"],G,{x:$e[0],y:$e[1]})},Ce.multiClickDebounceTime()),Xe=G.timeStamp)),null!=we&&!s.dragData.didDrag&&we._private.selectable&&Zo<s.touchTapThreshold2&&!s.pinching&&("single"===Ce.selectionType()?(Ce.$(a).unmerge(we).unselect(["tapunselect"]),we.select(["tapselect"])):we.selected()?we.unselect(["tapunselect"]):we.select(["tapselect"]),s.redrawHint("eles",!0)),s.touchData.singleTouchMoved=!0}for(var Gr=0;Gr<$e.length;Gr++)st[Gr]=$e[Gr];s.dragData.didDrag=!1,0===G.touches.length&&(s.touchData.dragDelta=[],s.touchData.startPosition=[null,null,null,null,null,null],s.touchData.startGPosition=null,s.touchData.didSelect=!1),G.touches.length<2&&(1===G.touches.length&&(s.touchData.startGPosition=[G.touches[0].clientX,G.touches[0].clientY]),s.pinching=!1,s.redrawHint("eles",!0),s.redraw())}},!1),typeof TouchEvent>"u"){var je=[],mt=function(G){return{clientX:G.clientX,clientY:G.clientY,force:1,identifier:G.pointerId,pageX:G.pageX,pageY:G.pageY,radiusX:G.width/2,radiusY:G.height/2,screenX:G.screenX,screenY:G.screenY,target:G.target}},pn=function(G){for(var we=0;we<je.length;we++)if(je[we].event.pointerId===G.pointerId)return void je.splice(we,1)},Nt=function(G){G.touches=je.map(function(we){return we.touch})},Un=function(G){return"mouse"===G.pointerType||4===G.pointerType};s.registerBinding(s.container,"pointerdown",function(Be){Un(Be)||(Be.preventDefault(),je.push(function(G){return{event:G,touch:mt(G)}}(Be)),Nt(Be),Le(Be))}),s.registerBinding(s.container,"pointerup",function(Be){Un(Be)||(pn(Be),Nt(Be),_t(Be))}),s.registerBinding(s.container,"pointercancel",function(Be){Un(Be)||(pn(Be),Nt(Be),tt())}),s.registerBinding(s.container,"pointermove",function(Be){var G,we;Un(Be)||(Be.preventDefault(),G=Be,(we=je.filter(function(He){return He.event.pointerId===G.pointerId})[0]).event=G,we.touch=mt(G),Nt(Be),Ke(Be))})}};var Xa={generatePolygon:function(s,i){return this.nodeShapes[s]={renderer:this,name:s,points:i,draw:function(l,f,h,p,m){this.renderer.nodeShapeImpl("polygon",l,f,h,p,m,this.points)},intersectLine:function(l,f,h,p,m,b,y){return Al(m,b,this.points,l,f,h/2,p/2,y)},checkPoint:function(l,f,h,p,m,b,y){return yo(l,f,this.points,b,y,p,m,[0,-1],h)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},intersectLine:function(i,a,l,f,h,p,m){return function(i,a,l,f,h,p){var m=l-i,b=f-a;m/=h,b/=p;var y=Math.sqrt(m*m+b*b),D=y-1;if(D<0)return[];var E=D/y;return[(l-i)*E+i,(f-a)*E+a]}(h,p,i,a,l/2+m,f/2+m)},checkPoint:function(i,a,l,f,h,p,m){return kr(i,a,f,h,p,m,l)}}},generateRoundPolygon:function(s,i){for(var a=new Array(2*i.length),l=0;l<i.length/2;l++){var h,f=2*l;h=l<i.length/2-1?2*(l+1):0,a[4*l]=i[f],a[4*l+1]=i[f+1];var p=i[h]-i[f],m=i[h+1]-i[f+1],b=Math.sqrt(p*p+m*m);a[4*l+2]=p/b,a[4*l+3]=m/b}return this.nodeShapes[s]={renderer:this,name:s,points:a,draw:function(D,E,S,M,x){this.renderer.nodeShapeImpl("round-polygon",D,E,S,M,x,this.points)},intersectLine:function(D,E,S,M,x,R,A){return function(i,a,l,f,h,p,m,b){for(var D,y=[],E=new Array(l.length),S=p/2,M=m/2,x=Rl(p,m),R=0;R<l.length/4;R++){var N,A;A=0===R?l.length-2:4*R-2,N=4*R+2;var O=f+S*l[4*R],k=h+M*l[4*R+1],q=x/Math.tan(Math.acos(-l[A]*l[N]-l[A+1]*l[N+1])/2),Z=O-q*l[A],$=k-q*l[A+1],W=O+q*l[N],U=k+q*l[N+1];0===R?(E[l.length-2]=Z,E[l.length-1]=$):(E[4*R-2]=Z,E[4*R-1]=$),E[4*R]=W,E[4*R+1]=U;var Y=l[A+1],X=-l[A];Y*l[N]+X*l[N+1]<0&&(Y*=-1,X*=-1),0!==(D=Eu(i,a,f,h,Z+Y*x,$+X*x,x)).length&&y.push(D[0],D[1])}for(var ue=0;ue<E.length/4;ue++)0!==(D=$a(i,a,f,h,E[4*ue],E[4*ue+1],E[4*ue+2],E[4*ue+3],!1)).length&&y.push(D[0],D[1]);if(y.length>2){for(var ne=[y[0],y[1]],re=Math.pow(ne[0]-i,2)+Math.pow(ne[1]-a,2),fe=1;fe<y.length/2;fe++){var pe=Math.pow(y[2*fe]-i,2)+Math.pow(y[2*fe+1]-a,2);pe<=re&&(ne[0]=y[2*fe],ne[1]=y[2*fe+1],re=pe)}return ne}return y}(x,R,this.points,D,E,S,M)},checkPoint:function(D,E,S,M,x,R,A){return function(i,a,l,f,h,p,m){for(var b=new Array(l.length),y=p/2,D=m/2,E=Rl(p,m),S=E*E,M=0;M<l.length/4;M++){var R,x;x=0===M?l.length-2:4*M-2,R=4*M+2;var A=f+y*l[4*M],N=h+D*l[4*M+1],k=E/Math.tan(Math.acos(-l[x]*l[R]-l[x+1]*l[R+1])/2),V=A-k*l[x],q=N-k*l[x+1],Z=A+k*l[R],$=N+k*l[R+1];b[4*M]=V,b[4*M+1]=q,b[4*M+2]=Z,b[4*M+3]=$;var W=l[x+1],U=-l[x];W*l[R]+U*l[R+1]<0&&(W*=-1,U*=-1);var j=q+U*E;if(Math.pow(V+W*E-i,2)+Math.pow(j-a,2)<=S)return!0}return si(i,a,b)}(D,E,this.points,R,A,M,x)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ni(4,0),draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},intersectLine:function(i,a,l,f,h,p,m){return Mt(h,p,i,a,l,f,m)},checkPoint:function(i,a,l,f,h,p,m){var b=as(f,h),y=2*b;return!!(yo(i,a,this.points,p,m,f,h-y,[0,-1],l)||yo(i,a,this.points,p,m,f-y,h,[0,-1],l)||kr(i,a,y,y,p-f/2+b,m-h/2+b,l)||kr(i,a,y,y,p+f/2-b,m-h/2+b,l)||kr(i,a,y,y,p+f/2-b,m+h/2-b,l)||kr(i,a,y,y,p-f/2+b,m+h/2-b,l))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Ni(4,0),draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},generateCutTrianglePts:function(i,a,l,f){var h=this.cornerLength,p=a/2,m=i/2,b=l-m,y=l+m,D=f-p,E=f+p;return{topLeft:[b,D+h,b+h,D,b+h,D+h],topRight:[y-h,D,y,D+h,y-h,D+h],bottomRight:[y,E-h,y-h,E,y-h,E-h],bottomLeft:[b+h,E,b,E-h,b+h,E-h]}},intersectLine:function(i,a,l,f,h,p,m){var b=this.generateCutTrianglePts(l+2*m,f+2*m,i,a),y=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return Al(h,p,y,i,a)},checkPoint:function(i,a,l,f,h,p,m){if(yo(i,a,this.points,p,m,f,h-2*this.cornerLength,[0,-1],l)||yo(i,a,this.points,p,m,f-2*this.cornerLength,h,[0,-1],l))return!0;var b=this.generateCutTrianglePts(f,h,p,m);return si(i,a,b.topLeft)||si(i,a,b.topRight)||si(i,a,b.bottomRight)||si(i,a,b.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ni(4,0),draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},intersectLine:function(i,a,l,f,h,p,m){var E=this.generateBarrelBezierPts(l+2*m,f+2*m,i,a),S=function(R){var A=Fs({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.15),N=Fs({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.5),O=Fs({x:R[0],y:R[1]},{x:R[2],y:R[3]},{x:R[4],y:R[5]},.85);return[R[0],R[1],A.x,A.y,N.x,N.y,O.x,O.y,R[4],R[5]]},M=[].concat(S(E.topLeft),S(E.topRight),S(E.bottomRight),S(E.bottomLeft));return Al(h,p,M,i,a)},generateBarrelBezierPts:function(i,a,l,f){var h=a/2,p=i/2,m=l-p,b=l+p,y=f-h,D=f+h,E=Gh(i,a),S=E.heightOffset,M=E.widthOffset,x=E.ctrlPtOffsetPct*i,R={topLeft:[m,y+S,m+x,y,m+M,y],topRight:[b-M,y,b-x,y,b,y+S],bottomRight:[b,D-S,b-x,D,b-M,D],bottomLeft:[m+M,D,m+x,D,m,D-S]};return R.topLeft.isTop=!0,R.topRight.isTop=!0,R.bottomLeft.isBottom=!0,R.bottomRight.isBottom=!0,R},checkPoint:function(i,a,l,f,h,p,m){var b=Gh(f,h),D=b.widthOffset;if(yo(i,a,this.points,p,m,f,h-2*b.heightOffset,[0,-1],l)||yo(i,a,this.points,p,m,f-2*D,h,[0,-1],l))return!0;for(var E=this.generateBarrelBezierPts(f,h,p,m),S=function($,W,U){var Y=U[4],X=U[2],j=U[0],te=U[5],K=U[1],ue=Math.min(Y,j),ne=Math.max(Y,j),re=Math.min(te,K),fe=Math.max(te,K);if(ue<=$&&$<=ne&&re<=W&&W<=fe){var pe=function(i,a,l){return[i-2*a+l,2*(a-i),i]}(Y,X,j),De=function(i,a,l,f){var h=a*a-4*i*(l-=f);if(h<0)return[];var p=Math.sqrt(h),m=2*i;return[(-a+p)/m,(-a-p)/m]}(pe[0],pe[1],pe[2],$),he=De.filter(function(be){return 0<=be&&be<=1});if(he.length>0)return he[0]}return null},M=Object.keys(E),x=0;x<M.length;x++){var A=E[M[x]],N=S(i,a,A);if(null!=N){var q=ai(A[5],A[3],A[1],N);if(A.isTop&&q<=a||A.isBottom&&a<=q)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ni(4,0),draw:function(i,a,l,f,h){this.renderer.nodeShapeImpl(this.name,i,a,l,f,h)},intersectLine:function(i,a,l,f,h,p,m){var y=a-(f/2+m),S=$a(h,p,i,a,i-(l/2+m),y,i+(l/2+m),y,!1);return S.length>0?S:Mt(h,p,i,a,l,f,m)},checkPoint:function(i,a,l,f,h,p,m){var b=as(f,h),y=2*b;if(yo(i,a,this.points,p,m,f,h-y,[0,-1],l)||yo(i,a,this.points,p,m,f-y,h,[0,-1],l))return!0;var D=f/2+2*l,E=h/2+2*l;return!!(si(i,a,[p-D,m-E,p-D,m,p+D,m,p+D,m-E])||kr(i,a,y,y,p+f/2-b,m+h/2-b,l)||kr(i,a,y,y,p-f/2+b,m+h/2-b,l))}}},registerNodeShapes:function(){var s=this.nodeShapes={},i=this;this.generateEllipse(),this.generatePolygon("triangle",Ni(3,0)),this.generateRoundPolygon("round-triangle",Ni(3,0)),this.generatePolygon("rectangle",Ni(4,0)),s.square=s.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var a=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",a),this.generateRoundPolygon("round-diamond",a),this.generatePolygon("pentagon",Ni(5,0)),this.generateRoundPolygon("round-pentagon",Ni(5,0)),this.generatePolygon("hexagon",Ni(6,0)),this.generateRoundPolygon("round-hexagon",Ni(6,0)),this.generatePolygon("heptagon",Ni(7,0)),this.generateRoundPolygon("round-heptagon",Ni(7,0)),this.generatePolygon("octagon",Ni(8,0)),this.generateRoundPolygon("round-octagon",Ni(8,0));var l=new Array(20),f=Oo(5,0),h=Oo(5,Math.PI/5),p=.5*(3-Math.sqrt(5));p*=1.57;for(var m=0;m<h.length/2;m++)h[2*m]*=p,h[2*m+1]*=p;for(m=0;m<5;m++)l[4*m]=f[2*m],l[4*m+1]=f[2*m+1],l[4*m+2]=h[2*m],l[4*m+3]=h[2*m+1];l=Xn(l),this.generatePolygon("star",l),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var b=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",b),this.generateRoundPolygon("round-tag",b),s.makePolygon=function(y){var S,E="polygon-"+y.join("$");return(S=this[E])?S:i.generatePolygon(E,y)}}},Yu={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(s){s=s||Lc();var i=this;void 0===i.averageRedrawTime&&(i.averageRedrawTime=0),void 0===i.lastRedrawTime&&(i.lastRedrawTime=0),void 0===i.lastDrawTime&&(i.lastDrawTime=0),i.requestedFrame=!0,i.renderOptions=s},beforeRender:function(s,i){if(!this.destroyed){null==i&&$n("Priority is not optional for beforeRender");var a=this.beforeRenderCallbacks;a.push({fn:s,priority:i}),a.sort(function(l,f){return f.priority-l.priority})}}},jf=function(i,a,l){for(var f=i.beforeRenderCallbacks,h=0;h<f.length;h++)f[h].fn(a,l)};Yu.startRenderLoop=function(){var s=this,i=s.cy;s.renderLoopStarted||(s.renderLoopStarted=!0,Nc(function l(f){if(!s.destroyed){if(!i.batching())if(s.requestedFrame&&!s.skipFrame){jf(s,!0,f);var h=Fa();s.render(s.renderOptions);var p=s.lastDrawTime=Fa();void 0===s.averageRedrawTime&&(s.averageRedrawTime=p-h),void 0===s.redrawCount&&(s.redrawCount=0),s.redrawCount++,void 0===s.redrawTotalTime&&(s.redrawTotalTime=0);var m=p-h;s.redrawTotalTime+=m,s.lastRedrawTime=m,s.averageRedrawTime=s.averageRedrawTime/2+m/2,s.requestedFrame=!1}else jf(s,!1,f);s.skipFrame=!1,Nc(l)}}))};var Gf=function(i){this.init(i)},Ur=Gf.prototype;Ur.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ur.init=function(s){var i=this;i.options=s,i.cy=s.cy;var a=i.container=s.cy.container(),l=i.cy.window();if(l){var f=l.document,h=f.head,p="__________cytoscape_stylesheet",m="__________cytoscape_container",b=null!=f.getElementById(p);if(a.className.indexOf(m)<0&&(a.className=(a.className||"")+" "+m),!b){var y=f.createElement("style");y.id=p,y.textContent="."+m+" { position: relative; }",h.insertBefore(y,h.children[0])}"static"===l.getComputedStyle(a).getPropertyValue("position")&&Gt("A Cytoscape container has style position:static and so can not use UI extensions properly")}i.selection=[void 0,void 0,void 0,void 0,0],i.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],i.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},i.dragData={possibleDragElements:[]},i.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},i.redraws=0,i.showFps=s.showFps,i.debug=s.debug,i.hideEdgesOnViewport=s.hideEdgesOnViewport,i.textureOnViewport=s.textureOnViewport,i.wheelSensitivity=s.wheelSensitivity,i.motionBlurEnabled=s.motionBlur,i.forcedPixelRatio=ot(s.pixelRatio)?s.pixelRatio:null,i.motionBlur=s.motionBlur,i.motionBlurOpacity=s.motionBlurOpacity,i.motionBlurTransparency=1-i.motionBlurOpacity,i.motionBlurPxRatio=1,i.mbPxRBlurry=1,i.minMbLowQualFrames=4,i.fullQualityMb=!1,i.clearedForMotionBlur=[],i.desktopTapThreshold=s.desktopTapThreshold,i.desktopTapThreshold2=s.desktopTapThreshold*s.desktopTapThreshold,i.touchTapThreshold=s.touchTapThreshold,i.touchTapThreshold2=s.touchTapThreshold*s.touchTapThreshold,i.tapholdDuration=500,i.bindings=[],i.beforeRenderCallbacks=[],i.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},i.registerNodeShapes(),i.registerArrowShapes(),i.registerCalculationListeners()},Ur.notify=function(s,i){var a=this,l=a.cy;if(!this.destroyed){if("init"===s)return void a.load();if("destroy"===s)return void a.destroy();("add"===s||"remove"===s||"move"===s&&l.hasCompoundNodes()||"load"===s||"zorder"===s||"mount"===s)&&a.invalidateCachedZSortedEles(),"viewport"===s&&a.redrawHint("select",!0),("load"===s||"resize"===s||"mount"===s)&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container)),a.redrawHint("eles",!0),a.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Ur.destroy=function(){var s=this;s.destroyed=!0,s.cy.stopAnimationLoop();for(var i=0;i<s.bindings.length;i++){var a=s.bindings[i],f=a.target;(f.off||f.removeEventListener).apply(f,a.args)}if(s.bindings=[],s.beforeRenderCallbacks=[],s.onUpdateEleCalcsFns=[],s.removeObserver&&s.removeObserver.disconnect(),s.styleObserver&&s.styleObserver.disconnect(),s.resizeObserver&&s.resizeObserver.disconnect(),s.labelCalcDiv)try{document.body.removeChild(s.labelCalcDiv)}catch{}},Ur.isHeadless=function(){return!1},[Lr,zf,Ku,jo,Xa,Yu].forEach(function(s){It(Ur,s)});var ic=1e3/60,ri_setupDequeueing=function(i){return function(){var l=this,f=this.renderer;if(!l.dequeueingSetup){l.dequeueingSetup=!0;var h=rt.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},i.deqRedrawThreshold);f.beforeRender(function(y,D){var E=Fa(),S=f.averageRedrawTime,M=f.lastRedrawTime,x=[],R=f.cy.extent(),A=f.getPixelRatio();for(y||f.flushRenderedStyleQueue();;){var N=Fa(),O=N-E,k=N-D;if(M<ic){if(k>=i.deqFastCost*(ic-(y?S:0)))break}else if(y){if(O>=i.deqCost*M||O>=i.deqAvgCost*S)break}else if(k>=i.deqNoDrawCost*ic)break;var q=i.deq(l,A,R);if(!(q.length>0))break;for(var Z=0;Z<q.length;Z++)x.push(q[Z])}x.length>0&&(i.onDeqd(l,x),!y&&i.shouldRedraw(l,x,A,R)&&h())},(i.priority||df)(l))}}},Ys=function(){function s(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:El;br(this,s),this.idsByKey=new va,this.keyForId=new va,this.cachesByLvl=new va,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=a}return Vn(s,[{key:"getIdsFor",value:function(a){null==a&&$n("Can not get id list for null key");var l=this.idsByKey,f=this.idsByKey.get(a);return f||(f=new wu,l.set(a,f)),f}},{key:"addIdForKey",value:function(a,l){null!=a&&this.getIdsFor(a).add(l)}},{key:"deleteIdForKey",value:function(a,l){null!=a&&this.getIdsFor(a).delete(l)}},{key:"getNumberOfIdsForKey",value:function(a){return null==a?0:this.getIdsFor(a).size}},{key:"updateKeyMappingFor",value:function(a){var l=a.id(),f=this.keyForId.get(l),h=this.getKey(a);this.deleteIdForKey(f,l),this.addIdForKey(h,l),this.keyForId.set(l,h)}},{key:"deleteKeyMappingFor",value:function(a){var l=a.id(),f=this.keyForId.get(l);this.deleteIdForKey(f,l),this.keyForId.delete(l)}},{key:"keyHasChangedFor",value:function(a){var l=a.id();return this.keyForId.get(l)!==this.getKey(a)}},{key:"isInvalid",value:function(a){return this.keyHasChangedFor(a)||this.doesEleInvalidateKey(a)}},{key:"getCachesAt",value:function(a){var l=this.cachesByLvl,f=this.lvls,h=l.get(a);return h||(h=new va,l.set(a,h),f.push(a)),h}},{key:"getCache",value:function(a,l){return this.getCachesAt(l).get(a)}},{key:"get",value:function(a,l){var f=this.getKey(a),h=this.getCache(f,l);return null!=h&&this.updateKeyMappingFor(a),h}},{key:"getForCachedKey",value:function(a,l){var f=this.keyForId.get(a.id());return this.getCache(f,l)}},{key:"hasCache",value:function(a,l){return this.getCachesAt(l).has(a)}},{key:"has",value:function(a,l){var f=this.getKey(a);return this.hasCache(f,l)}},{key:"setCache",value:function(a,l,f){f.key=a,this.getCachesAt(l).set(a,f)}},{key:"set",value:function(a,l,f){var h=this.getKey(a);this.setCache(h,l,f),this.updateKeyMappingFor(a)}},{key:"deleteCache",value:function(a,l){this.getCachesAt(l).delete(a)}},{key:"delete",value:function(a,l){var f=this.getKey(a);this.deleteCache(f,l)}},{key:"invalidateKey",value:function(a){var l=this;this.lvls.forEach(function(f){return l.deleteCache(a,f)})}},{key:"invalidate",value:function(a){var l=a.id(),f=this.keyForId.get(l);this.deleteKeyMappingFor(a);var h=this.doesEleInvalidateKey(a);return h&&this.invalidateKey(f),h||0===this.getNumberOfIdsForKey(f)}}]),s}(),el={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},sv=Pr({getKey:null,doesEleInvalidateKey:El,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Ph,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),yr=function(i,a){var l=this;l.renderer=i,l.onDequeues=[];var f=sv(a);It(l,f),l.lookup=new Ys(f.getKey,f.doesEleInvalidateKey),l.setupDequeueing()},zr=yr.prototype;zr.reasons=el,zr.getTextureQueue=function(s){var i=this;return i.eleImgCaches=i.eleImgCaches||{},i.eleImgCaches[s]=i.eleImgCaches[s]||[]},zr.getRetiredTextureQueue=function(s){var a=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return a[s]=a[s]||[]},zr.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new vt.default(function(a,l){return l.reqs-a.reqs})},zr.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},zr.getElement=function(s,i,a,l,f){var h=this,p=this.renderer,m=p.cy.zoom(),b=this.lookup;if(!i||0===i.w||0===i.h||isNaN(i.w)||isNaN(i.h)||!s.visible()||s.removed()||!h.allowEdgeTxrCaching&&s.isEdge()||!h.allowParentTxrCaching&&s.isParent())return null;if(null==l&&(l=Math.ceil(Hh(m*a))),l<-4)l=-4;else if(m>=7.99||l>3)return null;var y=Math.pow(2,l),D=i.h*y,E=i.w*y,S=p.eleTextBiggerThanMin(s,y);if(!this.isVisible(s,S))return null;var x,M=b.get(s,l);if(M&&M.invalidated&&(M.invalidated=!1,M.texture.invalidatedWidth-=M.width),M)return M;if(x=D<=25?25:D<=50?50:50*Math.ceil(D/50),D>1024||E>1024)return null;var R=h.getTextureQueue(x),A=R[R.length-2],N=function(){return h.recycleTexture(x,E)||h.addTexture(x,E)};A||(A=R[R.length-1]),A||(A=N()),A.width-A.usedWidth<E&&(A=N());for(var Z,O=function(ne){return ne&&ne.scaledLabelShown===S},k=f&&f===el.dequeue,V=f&&f===el.highQuality,q=f&&f===el.downscale,$=l+1;$<=3;$++){var W=b.get(s,$);if(W){Z=W;break}}var U=Z&&Z.level===l+1?Z:null,Y=function(){A.context.drawImage(U.texture.canvas,U.x,0,U.width,U.height,A.usedWidth,0,E,D)};if(A.context.setTransform(1,0,0,1,0,0),A.context.clearRect(A.usedWidth,0,E,x),O(U))Y();else if(O(Z)){if(!V)return h.queueElement(s,Z.level-1),Z;for(var X=Z.level;X>l;X--)U=h.getElement(s,i,a,X,el.downscale);Y()}else{var j;if(!k&&!V&&!q)for(var te=l-1;te>=-4;te--){var K=b.get(s,te);if(K){j=K;break}}if(O(j))return h.queueElement(s,l),j;A.context.translate(A.usedWidth,0),A.context.scale(y,y),this.drawElement(A.context,s,i,S,!1),A.context.scale(1/y,1/y),A.context.translate(-A.usedWidth,0)}return M={x:A.usedWidth,texture:A,level:l,scale:y,width:E,height:D,scaledLabelShown:S},A.usedWidth+=Math.ceil(E+8),A.eleCaches.push(M),b.set(s,l,M),h.checkTextureFullness(A),M},zr.invalidateElements=function(s){for(var i=0;i<s.length;i++)this.invalidateElement(s[i])},zr.invalidateElement=function(s){var i=this,a=i.lookup,l=[];if(a.isInvalid(s)){for(var h=-4;h<=3;h++){var p=a.getForCachedKey(s,h);p&&l.push(p)}if(a.invalidate(s))for(var b=0;b<l.length;b++){var y=l[b],D=y.texture;D.invalidatedWidth+=y.width,y.invalidated=!0,i.checkTextureUtility(D)}i.removeFromQueue(s)}},zr.checkTextureUtility=function(s){s.invalidatedWidth>=.2*s.width&&this.retireTexture(s)},zr.checkTextureFullness=function(s){var a=this.getTextureQueue(s.height);s.usedWidth/s.width>.8&&s.fullnessChecks>=10?No(a,s):s.fullnessChecks++},zr.retireTexture=function(s){var a=s.height,l=this.getTextureQueue(a),f=this.lookup;No(l,s),s.retired=!0;for(var h=s.eleCaches,p=0;p<h.length;p++){var m=h[p];f.deleteCache(m.key,m.level)}ff(h),this.getRetiredTextureQueue(a).push(s)},zr.addTexture=function(s,i){var f={};return this.getTextureQueue(s).push(f),f.eleCaches=[],f.height=s,f.width=Math.max(1024,i),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},zr.recycleTexture=function(s,i){for(var l=this.getTextureQueue(s),f=this.getRetiredTextureQueue(s),h=0;h<f.length;h++){var p=f[h];if(p.width>=i)return p.retired=!1,p.usedWidth=0,p.invalidatedWidth=0,p.fullnessChecks=0,ff(p.eleCaches),p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(0,0,p.width,p.height),No(f,p),l.push(p),p}},zr.queueElement=function(s,i){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(s),p=f[h];if(p)p.level=Math.max(p.level,i),p.eles.merge(s),p.reqs++,l.updateItem(p);else{var m={eles:s.spawn().merge(s),level:i,reqs:1,key:h};l.push(m),f[h]=m}},zr.dequeue=function(s){for(var i=this,a=i.getElementQueue(),l=i.getElementKeyToQueue(),f=[],h=i.lookup,p=0;p<1&&a.size()>0;p++){var m=a.pop(),b=m.key,y=m.eles[0],D=h.hasCache(y,m.level);if(l[b]=null,!D){f.push(m);var E=i.getBoundingBox(y);i.getElement(y,E,s,m.level,el.dequeue)}}return f},zr.removeFromQueue=function(s){var a=this.getElementQueue(),l=this.getElementKeyToQueue(),f=this.getKey(s),h=l[f];null!=h&&(1===h.eles.length?(h.reqs=cf,a.updateItem(h),a.pop(),l[f]=null):h.eles.unmerge(s))},zr.onDequeue=function(s){this.onDequeues.push(s)},zr.offDequeue=function(s){No(this.onDequeues,s)},zr.setupDequeueing=ri_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,a,l){return i.dequeue(a,l)},onDeqd:function(i,a){for(var l=0;l<i.onDequeues.length;l++)(0,i.onDequeues[l])(a)},shouldRedraw:function(i,a,l,f){for(var h=0;h<a.length;h++)for(var p=a[h].eles,m=0;m<p.length;m++){var b=p[m].boundingBox();if(Lt(b,f))return!0}return!1},priority:function(i){return i.renderer.beforeRenderPriorities.eleTxrDeq}});var cv=function(i){var a=this,l=a.renderer=i,f=l.cy;a.layersByLevel={},a.firstGet=!0,a.lastInvalidationTime=Fa()-500,a.skipping=!1,a.eleTxrDeqs=f.collection(),a.scheduleElementRefinement=rt.default(function(){a.refineElementTextures(a.eleTxrDeqs),a.eleTxrDeqs.unmerge(a.eleTxrDeqs)},50),l.beforeRender(function(p,m){a.skipping=m-a.lastInvalidationTime<=250},l.beforeRenderPriorities.lyrTxrSkip),a.layersQueue=new vt.default(function(m,b){return b.reqs-m.reqs}),a.setupDequeueing()},ii=cv.prototype,Mp=0,dv=Math.pow(2,53)-1;ii.makeLayer=function(s,i){var a=Math.pow(2,i),l=Math.ceil(s.w*a),f=Math.ceil(s.h*a),h=this.renderer.makeOffscreenCanvas(l,f),p={id:Mp=++Mp%dv,bb:s,level:i,width:l,height:f,canvas:h,context:h.getContext("2d"),eles:[],elesQueue:[],reqs:0},m=p.context,b=-p.bb.x1,y=-p.bb.y1;return m.scale(a,a),m.translate(b,y),p},ii.getLayers=function(s,i,a){var l=this,p=l.renderer.cy.zoom(),m=l.firstGet;if(l.firstGet=!1,null==a)if((a=Math.ceil(Hh(p*i)))<-4)a=-4;else if(p>=3.99||a>2)return null;l.validateLayersElesOrdering(a,s);var E,M,b=l.layersByLevel,y=Math.pow(2,a),D=b[a]=b[a]||[];if(l.levelIsComplete(a,s))return D;!function(){var Y=function(ue){if(l.validateLayersElesOrdering(ue,s),l.levelIsComplete(ue,s))return M=b[ue],!0},X=function(ue){if(!M)for(var ne=a+ue;-4<=ne&&ne<=2&&!Y(ne);ne+=ue);};X(1),X(-1);for(var j=D.length-1;j>=0;j--){var te=D[j];te.invalid&&No(D,te)}}();var A=function(Y){var X=(Y=Y||{}).after;if(function(){if(!E){E=go();for(var Y=0;Y<s.length;Y++)sr(E,s[Y].boundingBox())}}(),E.w*y*(E.h*y)>16e6)return null;var te=l.makeLayer(E,a);if(null!=X){var K=D.indexOf(X)+1;D.splice(K,0,te)}else(void 0===Y.insert||Y.insert)&&D.unshift(te);return te};if(l.skipping&&!m)return null;for(var N=null,O=s.length/1,k=!m,V=0;V<s.length;V++){var q=s[V],Z=q._private.rscratch,$=Z.imgLayerCaches=Z.imgLayerCaches||{},W=$[a];if(W)N=W;else{if((!N||N.eles.length>=O||!zh(N.bb,q.boundingBox()))&&!(N=A({insert:!0,after:N})))return null;M||k?l.queueLayer(N,q):l.drawEleInLayer(N,q,a,i),N.eles.push(q),$[a]=N}}return M||(k?null:D)},ii.getEleLevelForLayerLevel=function(s,i){return s},ii.drawEleInLayer=function(s,i,a,l){var h=this.renderer,p=s.context,m=i.boundingBox();0===m.w||0===m.h||!i.visible()||(a=this.getEleLevelForLayerLevel(a,l),h.setImgSmoothing(p,!1),h.drawCachedElement(p,i,null,null,a,!0),h.setImgSmoothing(p,!0))},ii.levelIsComplete=function(s,i){var l=this.layersByLevel[s];if(!l||0===l.length)return!1;for(var f=0,h=0;h<l.length;h++){var p=l[h];if(p.reqs>0||p.invalid)return!1;f+=p.eles.length}return f===i.length},ii.validateLayersElesOrdering=function(s,i){var a=this.layersByLevel[s];if(a)for(var l=0;l<a.length;l++){for(var f=a[l],h=-1,p=0;p<i.length;p++)if(f.eles[0]===i[p]){h=p;break}if(h<0)this.invalidateLayer(f);else{var m=h;for(p=0;p<f.eles.length;p++)if(f.eles[p]!==i[m+p]){this.invalidateLayer(f);break}}}},ii.updateElementsInLayers=function(s,i){for(var l=du(s[0]),f=0;f<s.length;f++)for(var h=l?null:s[f],p=l?s[f]:s[f].ele,m=p._private.rscratch,b=m.imgLayerCaches=m.imgLayerCaches||{},y=-4;y<=2;y++){var D=b[y];D&&(h&&this.getEleLevelForLayerLevel(D.level)!==h.level||i(D,p,h))}},ii.haveLayers=function(){for(var i=!1,a=-4;a<=2;a++){var l=this.layersByLevel[a];if(l&&l.length>0){i=!0;break}}return i},ii.invalidateElements=function(s){var i=this;0!==s.length&&(i.lastInvalidationTime=Fa(),0!==s.length&&i.haveLayers()&&i.updateElementsInLayers(s,function(l,f,h){i.invalidateLayer(l)}))},ii.invalidateLayer=function(s){if(this.lastInvalidationTime=Fa(),!s.invalid){var i=s.level,a=s.eles;No(this.layersByLevel[i],s),s.elesQueue=[],s.invalid=!0,s.replacement&&(s.replacement.invalid=!0);for(var f=0;f<a.length;f++){var h=a[f]._private.rscratch.imgLayerCaches;h&&(h[i]=null)}}},ii.refineElementTextures=function(s){var i=this;i.updateElementsInLayers(s,function(l,f,h){var p=l.replacement;if(p||((p=l.replacement=i.makeLayer(l.bb,l.level)).replaces=l,p.eles=l.eles),!p.reqs)for(var m=0;m<p.eles.length;m++)i.queueLayer(p,p.eles[m])})},ii.enqueueElementRefinement=function(s){this.eleTxrDeqs.merge(s),this.scheduleElementRefinement()},ii.queueLayer=function(s,i){var l=this.layersQueue,f=s.elesQueue,h=f.hasId=f.hasId||{};if(!s.replacement){if(i){if(h[i.id()])return;f.push(i),h[i.id()]=!0}s.reqs?(s.reqs++,l.updateItem(s)):(s.reqs=1,l.push(s))}},ii.dequeue=function(s){for(var i=this,a=i.layersQueue,l=[],f=0;f<1&&0!==a.size();){var h=a.peek();if(h.replacement)a.pop();else if(h.replaces&&h!==h.replaces.replacement)a.pop();else if(h.invalid)a.pop();else{var p=h.elesQueue.shift();p&&(i.drawEleInLayer(h,p,h.level,s),f++),0===l.length&&l.push(!0),0===h.elesQueue.length&&(a.pop(),h.reqs=0,h.replaces&&i.applyLayerReplacement(h),i.requestRedraw())}}return l},ii.applyLayerReplacement=function(s){var a=this.layersByLevel[s.level],l=s.replaces,f=a.indexOf(l);if(!(f<0||l.invalid)){a[f]=s;for(var h=0;h<s.eles.length;h++){var p=s.eles[h]._private,m=p.imgLayerCaches=p.imgLayerCaches||{};m&&(m[s.level]=s)}this.requestRedraw()}},ii.requestRedraw=rt.default(function(){var s=this.renderer;s.redrawHint("eles",!0),s.redrawHint("drag",!0),s.redraw()},100),ii.setupDequeueing=ri_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,a){return i.dequeue(a)},onDeqd:df,shouldRedraw:Ph,priority:function(i){return i.renderer.beforeRenderPriorities.lyrTxrDeq}});var Tp,Ip={};function Kf(s,i){for(var a=0;a<i.length;a++){var l=i[a];s.lineTo(l.x,l.y)}}function fv(s,i,a){for(var l,f=0;f<i.length;f++){var h=i[f];0===f&&(l=h),s.lineTo(h.x,h.y)}s.quadraticCurveTo(a.x,a.y,l.x,l.y)}function Id(s,i,a){s.beginPath&&s.beginPath();for(var l=i,f=0;f<l.length;f++)s.lineTo((h=l[f]).x,h.y);var p=a,m=a[0];for(s.moveTo(m.x,m.y),f=1;f<p.length;f++){var h;s.lineTo((h=p[f]).x,h.y)}s.closePath&&s.closePath()}function Td(s,i,a,l,f){s.beginPath&&s.beginPath(),s.arc(a,l,f,0,2*Math.PI,!1);var h=i,p=h[0];s.moveTo(p.x,p.y);for(var m=0;m<h.length;m++){var b=h[m];s.lineTo(b.x,b.y)}s.closePath&&s.closePath()}function hv(s,i,a,l){s.arc(i,a,l,0,2*Math.PI,!1)}Ip.arrowShapeImpl=function(s){return(Tp||(Tp={polygon:Kf,"triangle-backcurve":fv,"triangle-tee":Id,"circle-triangle":Td,"triangle-cross":Id,circle:hv}))[s]};var Io={drawElement:function(s,i,a,l,f,h){i.isNode()?this.drawNode(s,i,a,l,f,h):this.drawEdge(s,i,a,l,f,h)},drawElementOverlay:function(s,i){i.isNode()?this.drawNodeOverlay(s,i):this.drawEdgeOverlay(s,i)},drawElementUnderlay:function(s,i){i.isNode()?this.drawNodeUnderlay(s,i):this.drawEdgeUnderlay(s,i)},drawCachedElementPortion:function(s,i,a,l,f,h,p,m){var b=this,y=a.getBoundingBox(i);if(0!==y.w&&0!==y.h){var D=a.getElement(i,y,l,f,h);if(null!=D){var E=m(b,i);if(0===E)return;var N,O,k,V,q,W,S=p(b,i),M=y.x1,x=y.y1,R=y.w,A=y.h;if(0!==S){var Z=a.getRotationPoint(i);s.translate(k=Z.x,V=Z.y),s.rotate(S),(q=b.getImgSmoothing(s))||b.setImgSmoothing(s,!0);var $=a.getRotationOffset(i);N=$.x,O=$.y}else N=M,O=x;1!==E&&(s.globalAlpha=(W=s.globalAlpha)*E),s.drawImage(D.texture.canvas,D.x,0,D.width,D.height,N,O,R,A),1!==E&&(s.globalAlpha=W),0!==S&&(s.rotate(-S),s.translate(-k,-V),q||b.setImgSmoothing(s,!1))}else a.drawElement(s,i)}}},pv=function(){return 0},Ad=function(i,a){return i.getTextAngle(a,null)},gv=function(i,a){return i.getTextAngle(a,"source")},Ap=function(i,a){return i.getTextAngle(a,"target")},Yf=function(i,a){return a.effectiveOpacity()},il=function(i,a){return a.pstyle("text-opacity").pfValue*a.effectiveOpacity()};Io.drawCachedElement=function(s,i,a,l,f,h){var p=this,m=p.data,b=m.eleTxrCache,y=m.lblTxrCache,D=m.slbTxrCache,E=m.tlbTxrCache,S=i.boundingBox(),M=!0===h?b.reasons.highQuality:null;if(0!==S.w&&0!==S.h&&i.visible()&&(!l||Lt(S,l))){var x=i.isEdge(),R=i.element()._private.rscratch.badLine;p.drawElementUnderlay(s,i),p.drawCachedElementPortion(s,i,b,a,f,M,pv,Yf),(!x||!R)&&p.drawCachedElementPortion(s,i,y,a,f,M,Ad,il),x&&!R&&(p.drawCachedElementPortion(s,i,D,a,f,M,gv,il),p.drawCachedElementPortion(s,i,E,a,f,M,Ap,il)),p.drawElementOverlay(s,i)}},Io.drawElements=function(s,i){for(var l=0;l<i.length;l++)this.drawElement(s,i[l])},Io.drawCachedElements=function(s,i,a,l){for(var h=0;h<i.length;h++)this.drawCachedElement(s,i[h],a,l)},Io.drawCachedNodes=function(s,i,a,l){for(var h=0;h<i.length;h++){var p=i[h];p.isNode()&&this.drawCachedElement(s,p,a,l)}},Io.drawLayeredElements=function(s,i,a,l){var h=this.data.lyrTxrCache.getLayers(i,a);if(h)for(var p=0;p<h.length;p++){var m=h[p],b=m.bb;0===b.w||0===b.h||s.drawImage(m.canvas,b.x1,b.y1,b.w,b.h)}else this.drawCachedElements(s,i,a,l)};var Aa={drawEdge:function(s,i,a){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this,m=i._private.rscratch;if((!h||i.visible())&&!m.badLine&&null!=m.allpts&&!isNaN(m.allpts[0])){var b;a&&s.translate(-(b=a).x1,-b.y1);var y=h?i.pstyle("opacity").value:1,D=h?i.pstyle("line-opacity").value:1,E=i.pstyle("curve-style").value,S=i.pstyle("line-style").value,M=i.pstyle("width").pfValue,x=i.pstyle("line-cap").value,R=y*D,A=y*D,N=function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;"straight-triangle"===E?(p.eleStrokeStyle(s,i,j),p.drawEdgeTrianglePath(i,s,m.allpts)):(s.lineWidth=M,s.lineCap=x,p.eleStrokeStyle(s,i,j),p.drawEdgePath(i,s,m.allpts,S),s.lineCap="butt")},V=function(){p.drawArrowheads(s,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:A)};if(s.lineJoin="round","yes"===i.pstyle("ghost").value){var $=i.pstyle("ghost-offset-x").pfValue,W=i.pstyle("ghost-offset-y").pfValue,U=i.pstyle("ghost-opacity").value,Y=R*U;s.translate($,W),N(Y),V(Y),s.translate(-$,-W)}f&&p.drawEdgeUnderlay(s,i),N(),V(),f&&p.drawEdgeOverlay(s,i),p.drawElementText(s,i,null,l),a&&s.translate(b.x1,b.y1)}}},Rp=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(a,l){if(l.visible()){var f=l.pstyle("".concat(i,"-opacity")).value;if(0!==f){var h=this,p=h.usePaths(),m=l._private.rscratch,y=2*l.pstyle("".concat(i,"-padding")).pfValue,D=l.pstyle("".concat(i,"-color")).value;a.lineWidth=y,a.lineCap="self"!==m.edgeType||p?"round":"butt",h.colorStrokeStyle(a,D[0],D[1],D[2],f),h.drawEdgePath(l,a,m.allpts,"solid")}}}};Aa.drawEdgeOverlay=Rp("overlay"),Aa.drawEdgeUnderlay=Rp("underlay"),Aa.drawEdgePath=function(s,i,a,l){var p,f=s._private.rscratch,h=i,m=!1,b=this.usePaths(),y=s.pstyle("line-dash-pattern").pfValue,D=s.pstyle("line-dash-offset").pfValue;if(b){var E=a.join("$");f.pathCacheKey&&f.pathCacheKey===E?(p=i=f.pathCache,m=!0):(p=i=new Path2D,f.pathCacheKey=E,f.pathCache=p)}if(h.setLineDash)switch(l){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash(y),h.lineDashOffset=D;break;case"solid":h.setLineDash([])}if(!m&&!f.badLine)switch(i.beginPath&&i.beginPath(),i.moveTo(a[0],a[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var M=2;M+3<a.length;M+=4)i.quadraticCurveTo(a[M],a[M+1],a[M+2],a[M+3]);break;case"straight":case"segments":case"haystack":for(var x=2;x+1<a.length;x+=2)i.lineTo(a[x],a[x+1])}i=h,b?i.stroke(p):i.stroke(),i.setLineDash&&i.setLineDash([])},Aa.drawEdgeTrianglePath=function(s,i,a){i.fillStyle=i.strokeStyle;for(var l=s.pstyle("width").pfValue,f=0;f+1<a.length;f+=2){var h=[a[f+2]-a[f],a[f+3]-a[f+1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),m=[h[1]/p,-h[0]/p],b=[m[0]*l/2,m[1]*l/2];i.beginPath(),i.moveTo(a[f]-b[0],a[f+1]-b[1]),i.lineTo(a[f]+b[0],a[f+1]+b[1]),i.lineTo(a[f+2],a[f+3]),i.closePath(),i.fill()}},Aa.drawArrowheads=function(s,i,a){var l=i._private.rscratch,f="haystack"===l.edgeType;f||this.drawArrowhead(s,i,"source",l.arrowStartX,l.arrowStartY,l.srcArrowAngle,a),this.drawArrowhead(s,i,"mid-target",l.midX,l.midY,l.midtgtArrowAngle,a),this.drawArrowhead(s,i,"mid-source",l.midX,l.midY,l.midsrcArrowAngle,a),f||this.drawArrowhead(s,i,"target",l.arrowEndX,l.arrowEndY,l.tgtArrowAngle,a)},Aa.drawArrowhead=function(s,i,a,l,f,h,p){if(!(isNaN(l)||null==l||isNaN(f)||null==f||isNaN(h)||null==h)){var m=this,b=i.pstyle(a+"-arrow-shape").value;if("none"!==b){var y="hollow"===i.pstyle(a+"-arrow-fill").value?"both":"filled",D=i.pstyle(a+"-arrow-fill").value,E=i.pstyle("width").pfValue,S=i.pstyle("opacity").value;void 0===p&&(p=S);var M=s.globalCompositeOperation;(1!==p||"hollow"===D)&&(s.globalCompositeOperation="destination-out",m.colorFillStyle(s,255,255,255,1),m.colorStrokeStyle(s,255,255,255,1),m.drawArrowShape(i,s,y,E,b,l,f,h),s.globalCompositeOperation=M);var x=i.pstyle(a+"-arrow-color").value;m.colorFillStyle(s,x[0],x[1],x[2],p),m.colorStrokeStyle(s,x[0],x[1],x[2],p),m.drawArrowShape(i,s,D,E,b,l,f,h)}}},Aa.drawArrowShape=function(s,i,a,l,f,h,p,m){var E,b=this,y=this.usePaths()&&"triangle-cross"!==f,D=!1,S=i,M={x:h,y:p},x=s.pstyle("arrow-scale").value,R=this.getArrowWidth(l,x),A=b.arrowShapes[f];if(y){var N=b.arrowPathCache=b.arrowPathCache||[],O=ga(f),k=N[O];null!=k?(E=i=k,D=!0):(E=i=new Path2D,N[O]=E)}D||(i.beginPath&&i.beginPath(),y?A.draw(i,1,0,{x:0,y:0},1):A.draw(i,R,m,M,l),i.closePath&&i.closePath()),i=S,y&&(i.translate(h,p),i.rotate(m),i.scale(R,R)),("filled"===a||"both"===a)&&(y?i.fill(E):i.fill()),("hollow"===a||"both"===a)&&(i.lineWidth=(A.matchEdgeWidth?l:1)/(y?R:1),i.lineJoin="miter",y?i.stroke(E):i.stroke()),y&&(i.scale(1/R,1/R),i.rotate(-m),i.translate(-h,-p))};var Xf={safeDrawImage:function(s,i,a,l,f,h,p,m,b,y){if(!(f<=0||h<=0||b<=0||y<=0))try{s.drawImage(i,a,l,f,h,p,m,b,y)}catch(D){Gt(D)}},drawInscribedImage:function(s,i,a,l,f){var h=this,p=a.position(),m=p.x,b=p.y,y=a.cy().style(),D=y.getIndexedStyle.bind(y),E=D(a,"background-fit","value",l),S=D(a,"background-repeat","value",l),M=a.width(),x=a.height(),R=2*a.padding(),A=M+("inner"===D(a,"background-width-relative-to","value",l)?0:R),N=x+("inner"===D(a,"background-height-relative-to","value",l)?0:R),O=a._private.rscratch,V="node"===D(a,"background-clip","value",l),q=D(a,"background-image-opacity","value",l)*f,Z=D(a,"background-image-smoothing","value",l),$=i.width||i.cachedW,W=i.height||i.cachedH;(null==$||null==W)&&(document.body.appendChild(i),$=i.cachedW=i.width||i.offsetWidth,W=i.cachedH=i.height||i.offsetHeight,document.body.removeChild(i));var U=$,Y=W;if("auto"!==D(a,"background-width","value",l)&&(U="%"===D(a,"background-width","units",l)?D(a,"background-width","pfValue",l)*A:D(a,"background-width","pfValue",l)),"auto"!==D(a,"background-height","value",l)&&(Y="%"===D(a,"background-height","units",l)?D(a,"background-height","pfValue",l)*N:D(a,"background-height","pfValue",l)),0!==U&&0!==Y){if("contain"===E)U*=X=Math.min(A/U,N/Y),Y*=X;else if("cover"===E){var X;U*=X=Math.max(A/U,N/Y),Y*=X}var j=m-A/2,te=D(a,"background-position-x","units",l),K=D(a,"background-position-x","pfValue",l);j+="%"===te?(A-U)*K:K;var ue=D(a,"background-offset-x","units",l),ne=D(a,"background-offset-x","pfValue",l);j+="%"===ue?(A-U)*ne:ne;var re=b-N/2,fe=D(a,"background-position-y","units",l),pe=D(a,"background-position-y","pfValue",l);re+="%"===fe?(N-Y)*pe:pe;var De=D(a,"background-offset-y","units",l),he=D(a,"background-offset-y","pfValue",l);re+="%"===De?(N-Y)*he:he,O.pathCache&&(j-=m,re-=b,m=0,b=0);var be=s.globalAlpha;s.globalAlpha=q;var Ae=h.getImgSmoothing(s),Fe=!1;if("no"===Z&&Ae?(h.setImgSmoothing(s,!1),Fe=!0):"yes"===Z&&!Ae&&(h.setImgSmoothing(s,!0),Fe=!0),"no-repeat"===S)V&&(s.save(),O.pathCache?s.clip(O.pathCache):(h.nodeShapes[h.getNodeShape(a)].draw(s,m,b,A,N),s.clip())),h.safeDrawImage(s,i,0,0,$,W,j,re,U,Y),V&&s.restore();else{var Me=s.createPattern(i,S);s.fillStyle=Me,h.nodeShapes[h.getNodeShape(a)].draw(s,m,b,A,N),s.translate(j,re),s.fill(),s.translate(-j,-re)}s.globalAlpha=be,Fe&&h.setImgSmoothing(s,Ae)}}},Go={eleTextBiggerThanMin:function(s,i){if(!i){var a=s.cy().zoom(),l=this.getPixelRatio(),f=Math.ceil(Hh(a*l));i=Math.pow(2,f)}return!(s.pstyle("font-size").pfValue*i<s.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(s,i,a,l,f){var h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this;if(null==l){if(h&&!p.eleTextBiggerThanMin(i))return}else if(!1===l)return;if(i.isNode()){var m=i.pstyle("label");if(!m||!m.value)return;var b=p.getLabelJustification(i);s.textAlign=b,s.textBaseline="bottom"}else{var y=i.element()._private.rscratch.badLine,D=i.pstyle("label"),E=i.pstyle("source-label"),S=i.pstyle("target-label");if(y||(!D||!D.value)&&(!E||!E.value)&&(!S||!S.value))return;s.textAlign="center",s.textBaseline="bottom"}var x,M=!a;a&&s.translate(-(x=a).x1,-x.y1),null==f?(p.drawText(s,i,null,M,h),i.isEdge()&&(p.drawText(s,i,"source",M,h),p.drawText(s,i,"target",M,h))):p.drawText(s,i,f,M,h),a&&s.translate(x.x1,x.y1)},getFontCache:function(s){var i;this.fontCaches=this.fontCaches||[];for(var a=0;a<this.fontCaches.length;a++)if((i=this.fontCaches[a]).context===s)return i;return this.fontCaches.push(i={context:s}),i},setupTextStyle:function(s,i){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=i.pstyle("font-style").strValue,f=i.pstyle("font-size").pfValue+"px",h=i.pstyle("font-family").strValue,p=i.pstyle("font-weight").strValue,m=a?i.effectiveOpacity()*i.pstyle("text-opacity").value:1,b=i.pstyle("text-outline-opacity").value*m,y=i.pstyle("color").value,D=i.pstyle("text-outline-color").value;s.font=l+" "+p+" "+f+" "+h,s.lineJoin="round",this.colorFillStyle(s,y[0],y[1],y[2],m),this.colorStrokeStyle(s,D[0],D[1],D[2],b)},getTextAngle:function(s,i){var f=s._private.rscratch,p=s.pstyle((i?i+"-":"")+"text-rotation"),m=ho(f,"labelAngle",i);return"autorotate"===p.strValue?s.isEdge()?m:0:"none"===p.strValue?0:p.pfValue},drawText:function(s,i,a){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=i._private.rscratch,m=f?i.effectiveOpacity():1;if(!f||0!==m&&0!==i.pstyle("text-opacity").value){"main"===a&&(a=null);var D,E,b=ho(p,"labelX",a),y=ho(p,"labelY",a),S=this.getLabelText(i,a);if(null!=S&&""!==S&&!isNaN(b)&&!isNaN(y)){this.setupTextStyle(s,i,f);var q,M=a?a+"-":"",x=ho(p,"labelWidth",a),R=ho(p,"labelHeight",a),A=i.pstyle(M+"text-margin-x").pfValue,N=i.pstyle(M+"text-margin-y").pfValue,O=i.isEdge(),k=i.pstyle("text-halign").value,V=i.pstyle("text-valign").value;switch(O&&(k="center",V="center"),b+=A,y+=N,0!==(q=l?this.getTextAngle(i,a):0)&&(s.translate(D=b,E=y),s.rotate(q),b=0,y=0),V){case"top":break;case"center":y+=R/2;break;case"bottom":y+=R}var Z=i.pstyle("text-background-opacity").value,$=i.pstyle("text-border-opacity").value,W=i.pstyle("text-border-width").pfValue,U=i.pstyle("text-background-padding").pfValue;if(Z>0||W>0&&$>0){var Y=b-U;switch(k){case"left":Y-=x;break;case"center":Y-=x/2}var X=y-R-U,j=x+2*U,te=R+2*U;if(Z>0){var K=s.fillStyle,ue=i.pstyle("text-background-color").value;s.fillStyle="rgba("+ue[0]+","+ue[1]+","+ue[2]+","+Z*m+")",0===i.pstyle("text-background-shape").strValue.indexOf("round")?function sc(s,i,a,l,f){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;s.beginPath(),s.moveTo(i+h,a),s.lineTo(i+l-h,a),s.quadraticCurveTo(i+l,a,i+l,a+h),s.lineTo(i+l,a+f-h),s.quadraticCurveTo(i+l,a+f,i+l-h,a+f),s.lineTo(i+h,a+f),s.quadraticCurveTo(i,a+f,i,a+f-h),s.lineTo(i,a+h),s.quadraticCurveTo(i,a,i+h,a),s.closePath(),s.fill()}(s,Y,X,j,te,2):s.fillRect(Y,X,j,te),s.fillStyle=K}if(W>0&&$>0){var re=s.strokeStyle,fe=s.lineWidth,pe=i.pstyle("text-border-color").value,De=i.pstyle("text-border-style").value;if(s.strokeStyle="rgba("+pe[0]+","+pe[1]+","+pe[2]+","+$*m+")",s.lineWidth=W,s.setLineDash)switch(De){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([4,2]);break;case"double":s.lineWidth=W/4,s.setLineDash([]);break;case"solid":s.setLineDash([])}if(s.strokeRect(Y,X,j,te),"double"===De){var he=W/2;s.strokeRect(Y+he,X+he,j-2*he,te-2*he)}s.setLineDash&&s.setLineDash([]),s.lineWidth=fe,s.strokeStyle=re}}var be=2*i.pstyle("text-outline-width").pfValue;if(be>0&&(s.lineWidth=be),"wrap"===i.pstyle("text-wrap").value){var Ae=ho(p,"labelWrapCachedLines",a),Fe=ho(p,"labelLineHeight",a),Me=x/2,Ie=this.getLabelJustification(i);switch("auto"===Ie||("left"===k?"left"===Ie?b+=-x:"center"===Ie&&(b+=-Me):"center"===k?"left"===Ie?b+=-Me:"right"===Ie&&(b+=Me):"right"===k&&("center"===Ie?b+=Me:"right"===Ie&&(b+=x))),V){case"top":case"center":case"bottom":y-=(Ae.length-1)*Fe}for(var de=0;de<Ae.length;de++)be>0&&s.strokeText(Ae[de],b,y),s.fillText(Ae[de],b,y),y+=Fe}else be>0&&s.strokeText(S,b,y),s.fillText(S,b,y);0!==q&&(s.rotate(-q),s.translate(-D,-E))}}}},ol={drawNode:function(s,i,a){var m,b,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=this,y=i._private,D=y.rscratch,E=i.position();if(ot(E.x)&&ot(E.y)&&(!h||i.visible())){var x,N,S=h?i.effectiveOpacity():1,M=p.usePaths(),R=!1,A=i.padding();m=i.width()+2*A,b=i.height()+2*A,a&&s.translate(-(N=a).x1,-N.y1);for(var k=i.pstyle("background-image").value,V=new Array(k.length),q=new Array(k.length),Z=0,$=0;$<k.length;$++){var W=k[$];if(V[$]=null!=W&&"none"!==W){var Y=i.cy().style().getIndexedStyle(i,"background-image-crossorigin","value",$);Z++,q[$]=p.getCachedImage(W,Y,function(){y.backgroundTimestamp=Date.now(),i.emitAndNotify("background")})}}var X=i.pstyle("background-blacken").value,j=i.pstyle("border-width").pfValue,te=i.pstyle("background-opacity").value*S,K=i.pstyle("border-color").value,ue=i.pstyle("border-style").value,ne=i.pstyle("border-opacity").value*S;s.lineJoin="miter";var re=function(){p.eleFillStyle(s,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:te)},fe=function(){p.colorStrokeStyle(s,K[0],K[1],K[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne)},pe=i.pstyle("shape").strValue,De=i.pstyle("shape-polygon-points").pfValue;if(M){s.translate(E.x,E.y);var he=p.nodePathCache=p.nodePathCache||[],be=lf("polygon"===pe?pe+","+De.join(","):pe,""+b,""+m),Ae=he[be];null!=Ae?(R=!0,D.pathCache=x=Ae):(x=new Path2D,he[be]=D.pathCache=x)}var Fe=function(){if(!R){var Ye=E;M&&(Ye={x:0,y:0}),p.nodeShapes[p.getNodeShape(i)].draw(x||s,Ye.x,Ye.y,m,b)}M?s.fill(x):s.fill()},Me=function(){for(var Ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,nt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],pn=y.backgrounding,qt=0,Nt=0;Nt<q.length;Nt++){var Un=i.cy().style().getIndexedStyle(i,"background-image-containment","value",Nt);nt&&"over"===Un||!nt&&"inside"===Un?qt++:V[Nt]&&q[Nt].complete&&!q[Nt].error&&(qt++,p.drawInscribedImage(s,q[Nt],i,Nt,Ye))}y.backgrounding=qt!==Z,pn!==y.backgrounding&&i.updateStyle(!1)},Ie=function(){var Ye=arguments.length>0&&void 0!==arguments[0]&&arguments[0],nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;p.hasPie(i)&&(p.drawPie(s,i,nt),Ye&&(M||p.nodeShapes[p.getNodeShape(i)].draw(s,E.x,E.y,m,b)))},de=function(){var pn=X>0?0:255;0!==X&&(p.colorFillStyle(s,pn,pn,pn,(X>0?X:-X)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S)),M?s.fill(x):s.fill())},Re=function(){if(j>0){if(s.lineWidth=j,s.lineCap="butt",s.setLineDash)switch(ue){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([4,2]);break;case"solid":case"double":s.setLineDash([])}if(M?s.stroke(x):s.stroke(),"double"===ue){s.lineWidth=j/3;var Ye=s.globalCompositeOperation;s.globalCompositeOperation="destination-out",M?s.stroke(x):s.stroke(),s.globalCompositeOperation=Ye}s.setLineDash&&s.setLineDash([])}};if("yes"===i.pstyle("ghost").value){var Jt=i.pstyle("ghost-offset-x").pfValue,at=i.pstyle("ghost-offset-y").pfValue,Xe=i.pstyle("ghost-opacity").value,je=Xe*S;s.translate(Jt,at),re(Xe*te),Fe(),Me(je,!0),fe(Xe*ne),Re(),Ie(0!==X||0!==j),Me(je,!1),de(je),s.translate(-Jt,-at)}M&&s.translate(-E.x,-E.y),f&&p.drawNodeUnderlay(s,i,E,m,b),M&&s.translate(E.x,E.y),re(),Fe(),Me(S,!0),fe(),Re(),Ie(0!==X||0!==j),Me(S,!1),de(),M&&s.translate(-E.x,-E.y),p.drawElementText(s,i,null,l),f&&p.drawNodeOverlay(s,i,E,m,b),a&&s.translate(N.x1,N.y1)}}},vv=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(a,l,f,h,p){if(l.visible()){var b=l.pstyle("".concat(i,"-padding")).pfValue,y=l.pstyle("".concat(i,"-opacity")).value,D=l.pstyle("".concat(i,"-color")).value,E=l.pstyle("".concat(i,"-shape")).value;if(y>0){if(f=f||l.position(),null==h||null==p){var S=l.padding();h=l.width()+2*S,p=l.height()+2*S}this.colorFillStyle(a,D[0],D[1],D[2],y),this.nodeShapes[E].draw(a,f.x,f.y,h+2*b,p+2*b),a.fill()}}}};ol.drawNodeOverlay=vv("overlay"),ol.drawNodeUnderlay=vv("underlay"),ol.hasPie=function(s){return(s=s[0])._private.hasPie},ol.drawPie=function(s,i,a,l){i=i[0],l=l||i.position();var f=i.cy().style(),h=i.pstyle("pie-size"),p=l.x,m=l.y,b=i.width(),y=i.height(),D=Math.min(b,y)/2,E=0;this.usePaths()&&(p=0,m=0),"%"===h.units?D*=h.pfValue:void 0!==h.pfValue&&(D=h.pfValue/2);for(var M=1;M<=f.pieBackgroundN;M++){var x=i.pstyle("pie-"+M+"-background-size").value,R=i.pstyle("pie-"+M+"-background-color").value,A=i.pstyle("pie-"+M+"-background-opacity").value*a,N=x/100;N+E>1&&(N=1-E);var O=1.5*Math.PI+2*Math.PI*E,V=O+2*Math.PI*N;0===x||E>=1||E+N>1||(s.beginPath(),s.moveTo(p,m),s.arc(p,m,D,O,V),s.closePath(),this.colorFillStyle(s,R[0],R[1],R[2],A),s.fill(),E+=N)}};for(var oo={getPixelRatio:function(){var s=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(s.backingStorePixelRatio||s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1)},paintCache:function(s){for(var l,i=this.paintCaches=this.paintCaches||[],a=!0,f=0;f<i.length;f++)if((l=i[f]).context===s){a=!1;break}return a&&i.push(l={context:s}),l},createGradientStyleFor:function(s,i,a,l,f){var h,p=this.usePaths(),m=a.pstyle(i+"-gradient-stop-colors").value,b=a.pstyle(i+"-gradient-stop-positions").pfValue;if("radial-gradient"===l)if(a.isEdge()){var y=a.sourceEndpoint(),D=a.targetEndpoint(),E=a.midpoint(),S=Va(y,E),M=Va(D,E);h=s.createRadialGradient(E.x,E.y,0,E.x,E.y,Math.max(S,M))}else{var x=p?{x:0,y:0}:a.position(),R=a.paddedWidth(),A=a.paddedHeight();h=s.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(R,A))}else if(a.isEdge()){var N=a.sourceEndpoint(),O=a.targetEndpoint();h=s.createLinearGradient(N.x,N.y,O.x,O.y)}else{var k=p?{x:0,y:0}:a.position(),Z=a.paddedWidth()/2,$=a.paddedHeight()/2;switch(a.pstyle("background-gradient-direction").value){case"to-bottom":h=s.createLinearGradient(k.x,k.y-$,k.x,k.y+$);break;case"to-top":h=s.createLinearGradient(k.x,k.y+$,k.x,k.y-$);break;case"to-left":h=s.createLinearGradient(k.x+Z,k.y,k.x-Z,k.y);break;case"to-right":h=s.createLinearGradient(k.x-Z,k.y,k.x+Z,k.y);break;case"to-bottom-right":case"to-right-bottom":h=s.createLinearGradient(k.x-Z,k.y-$,k.x+Z,k.y+$);break;case"to-top-right":case"to-right-top":h=s.createLinearGradient(k.x-Z,k.y+$,k.x+Z,k.y-$);break;case"to-bottom-left":case"to-left-bottom":h=s.createLinearGradient(k.x+Z,k.y-$,k.x-Z,k.y+$);break;case"to-top-left":case"to-left-top":h=s.createLinearGradient(k.x+Z,k.y+$,k.x-Z,k.y-$)}}if(!h)return null;for(var U=b.length===m.length,Y=m.length,X=0;X<Y;X++)h.addColorStop(U?b[X]:X/(Y-1),"rgba("+m[X][0]+","+m[X][1]+","+m[X][2]+","+f+")");return h},gradientFillStyle:function(s,i,a,l){var f=this.createGradientStyleFor(s,"background",i,a,l);if(!f)return null;s.fillStyle=f},colorFillStyle:function(s,i,a,l,f){s.fillStyle="rgba("+i+","+a+","+l+","+f+")"},eleFillStyle:function(s,i,a){var l=i.pstyle("background-fill").value;if("linear-gradient"===l||"radial-gradient"===l)this.gradientFillStyle(s,i,l,a);else{var f=i.pstyle("background-color").value;this.colorFillStyle(s,f[0],f[1],f[2],a)}},gradientStrokeStyle:function(s,i,a,l){var f=this.createGradientStyleFor(s,"line",i,a,l);if(!f)return null;s.strokeStyle=f},colorStrokeStyle:function(s,i,a,l,f){s.strokeStyle="rgba("+i+","+a+","+l+","+f+")"},eleStrokeStyle:function(s,i,a){var l=i.pstyle("line-fill").value;if("linear-gradient"===l||"radial-gradient"===l)this.gradientStrokeStyle(s,i,l,a);else{var f=i.pstyle("line-color").value;this.colorStrokeStyle(s,f[0],f[1],f[2],a)}},matchCanvasSize:function(s){var i=this,a=i.data,l=i.findContainerClientCoords(),f=l[2],h=l[3],p=i.getPixelRatio();(s===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE]||s===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG])&&(p=i.motionBlurPxRatio);var D,b=f*p,y=h*p;if(b!==i.canvasWidth||y!==i.canvasHeight){i.fontCaches=null;var E=a.canvasContainer;E.style.width=f+"px",E.style.height=h+"px";for(var S=0;S<i.CANVAS_LAYERS;S++)(D=a.canvases[S]).width=b,D.height=y,D.style.width=f+"px",D.style.height=h+"px";for(S=0;S<i.BUFFER_COUNT;S++)(D=a.bufferCanvases[S]).width=b,D.height=y,D.style.width=f+"px",D.style.height=h+"px";i.textureMult=1,p<=1&&(D=a.bufferCanvases[i.TEXTURE_BUFFER],i.textureMult=2,D.width=b*i.textureMult,D.height=y*i.textureMult),i.canvasWidth=b,i.canvasHeight=y}},renderTo:function(s,i,a,l){this.render({forcedContext:s,forcedZoom:i,forcedPan:a,drawAllLayers:!0,forcedPxRatio:l})},render:function(s){var i=(s=s||Lc()).forcedContext,a=s.drawAllLayers,l=s.drawOnlyNodeLayer,f=s.forcedZoom,h=s.forcedPan,p=this,m=void 0===s.forcedPxRatio?this.getPixelRatio():s.forcedPxRatio,b=p.cy,y=p.data,D=y.canvasNeedsRedraw,E=p.textureOnViewport&&!i&&(p.pinching||p.hoverData.dragging||p.swipePanning||p.data.wheelZooming),S=void 0!==s.motionBlur?s.motionBlur:p.motionBlur,M=p.motionBlurPxRatio,x=b.hasCompoundNodes(),R=p.hoverData.draggingEles,N=S=S&&!i&&p.motionBlurEnabled&&!(p.hoverData.selecting||p.touchData.selecting);i||(p.prevPxRatio!==m&&(p.invalidateContainerClientCoordsCache(),p.matchCanvasSize(p.container),p.redrawHint("eles",!0),p.redrawHint("drag",!0)),p.prevPxRatio=m),!i&&p.motionBlurTimeout&&clearTimeout(p.motionBlurTimeout),S&&(null==p.mbFrames&&(p.mbFrames=0),p.mbFrames++,p.mbFrames<3&&(N=!1),p.mbFrames>p.minMbLowQualFrames&&(p.motionBlurPxRatio=p.mbPxRBlurry)),p.clearingMotionBlur&&(p.motionBlurPxRatio=1),p.textureDrawLastFrame&&!E&&(D[p.NODE]=!0,D[p.SELECT_BOX]=!0);var O=b.style(),k=b.zoom(),V=void 0!==f?f:k,q=b.pan(),Z={x:q.x,y:q.y},$={zoom:k,pan:{x:q.x,y:q.y}},W=p.prevViewport;!(void 0===W||$.zoom!==W.zoom||$.pan.x!==W.pan.x||$.pan.y!==W.pan.y)&&!(R&&!x)&&(p.motionBlurPxRatio=1),h&&(Z=h),V*=m,Z.x*=m,Z.y*=m;var Y=p.getCachedZSortedEles();function X(at,Xe,je,mt,Ye){var nt=at.globalCompositeOperation;at.globalCompositeOperation="destination-out",p.colorFillStyle(at,255,255,255,p.motionBlurTransparency),at.fillRect(Xe,je,mt,Ye),at.globalCompositeOperation=nt}function j(at,Xe){var je,mt,Ye,nt;p.clearingMotionBlur||at!==y.bufferContexts[p.MOTIONBLUR_BUFFER_NODE]&&at!==y.bufferContexts[p.MOTIONBLUR_BUFFER_DRAG]?(je=Z,mt=V,Ye=p.canvasWidth,nt=p.canvasHeight):(je={x:q.x*M,y:q.y*M},mt=k*M,Ye=p.canvasWidth*M,nt=p.canvasHeight*M),at.setTransform(1,0,0,1,0,0),"motionBlur"===Xe?X(at,0,0,Ye,nt):!i&&(void 0===Xe||Xe)&&at.clearRect(0,0,Ye,nt),a||(at.translate(je.x,je.y),at.scale(mt,mt)),h&&at.translate(h.x,h.y),f&&at.scale(f,f)}if(E||(p.textureDrawLastFrame=!1),E){if(p.textureDrawLastFrame=!0,!p.textureCache){p.textureCache={},p.textureCache.bb=b.mutableElements().boundingBox(),p.textureCache.texture=p.data.bufferCanvases[p.TEXTURE_BUFFER];var te=p.data.bufferContexts[p.TEXTURE_BUFFER];te.setTransform(1,0,0,1,0,0),te.clearRect(0,0,p.canvasWidth*p.textureMult,p.canvasHeight*p.textureMult),p.render({forcedContext:te,drawOnlyNodeLayer:!0,forcedPxRatio:m*p.textureMult}),($=p.textureCache.viewport={zoom:b.zoom(),pan:b.pan(),width:p.canvasWidth,height:p.canvasHeight}).mpan={x:(0-$.pan.x)/$.zoom,y:(0-$.pan.y)/$.zoom}}D[p.DRAG]=!1,D[p.NODE]=!1;var ue=p.textureCache.texture;$=p.textureCache.viewport,(K=y.contexts[p.NODE]).setTransform(1,0,0,1,0,0),S?X(K,0,0,$.width,$.height):K.clearRect(0,0,$.width,$.height);var ne=O.core("outside-texture-bg-color").value,re=O.core("outside-texture-bg-opacity").value;p.colorFillStyle(K,ne[0],ne[1],ne[2],re),K.fillRect(0,0,$.width,$.height),k=b.zoom(),j(K,!1),K.clearRect($.mpan.x,$.mpan.y,$.width/$.zoom/m,$.height/$.zoom/m),K.drawImage(ue,$.mpan.x,$.mpan.y,$.width/$.zoom/m,$.height/$.zoom/m)}else p.textureOnViewport&&!i&&(p.textureCache=null);var fe=b.extent(),pe=p.pinching||p.hoverData.dragging||p.swipePanning||p.data.wheelZooming||p.hoverData.draggingEles||p.cy.animated(),De=p.hideEdgesOnViewport&&pe,he=[];if(he[p.NODE]=!D[p.NODE]&&S&&!p.clearedForMotionBlur[p.NODE]||p.clearingMotionBlur,he[p.NODE]&&(p.clearedForMotionBlur[p.NODE]=!0),he[p.DRAG]=!D[p.DRAG]&&S&&!p.clearedForMotionBlur[p.DRAG]||p.clearingMotionBlur,he[p.DRAG]&&(p.clearedForMotionBlur[p.DRAG]=!0),D[p.NODE]||a||l||he[p.NODE]){var be=S&&!he[p.NODE]&&1!==M;j(K=i||(be?p.data.bufferContexts[p.MOTIONBLUR_BUFFER_NODE]:y.contexts[p.NODE]),S&&!be?"motionBlur":void 0),De?p.drawCachedNodes(K,Y.nondrag,m,fe):p.drawLayeredElements(K,Y.nondrag,m,fe),p.debug&&p.drawDebugPoints(K,Y.nondrag),!a&&!S&&(D[p.NODE]=!1)}if(!l&&(D[p.DRAG]||a||he[p.DRAG])&&(be=S&&!he[p.DRAG]&&1!==M,j(K=i||(be?p.data.bufferContexts[p.MOTIONBLUR_BUFFER_DRAG]:y.contexts[p.DRAG]),S&&!be?"motionBlur":void 0),De?p.drawCachedNodes(K,Y.drag,m,fe):p.drawCachedElements(K,Y.drag,m,fe),p.debug&&p.drawDebugPoints(K,Y.drag),!a&&!S&&(D[p.DRAG]=!1)),p.showFps||!l&&D[p.SELECT_BOX]&&!a){var K;if(j(K=i||y.contexts[p.SELECT_BOX]),1==p.selection[4]&&(p.hoverData.selecting||p.touchData.selecting)){k=p.cy.zoom();var Fe=O.core("selection-box-border-width").value/k;K.lineWidth=Fe,K.fillStyle="rgba("+O.core("selection-box-color").value[0]+","+O.core("selection-box-color").value[1]+","+O.core("selection-box-color").value[2]+","+O.core("selection-box-opacity").value+")",K.fillRect(p.selection[0],p.selection[1],p.selection[2]-p.selection[0],p.selection[3]-p.selection[1]),Fe>0&&(K.strokeStyle="rgba("+O.core("selection-box-border-color").value[0]+","+O.core("selection-box-border-color").value[1]+","+O.core("selection-box-border-color").value[2]+","+O.core("selection-box-opacity").value+")",K.strokeRect(p.selection[0],p.selection[1],p.selection[2]-p.selection[0],p.selection[3]-p.selection[1]))}if(y.bgActivePosistion&&!p.hoverData.selecting){k=p.cy.zoom();var Me=y.bgActivePosistion;K.fillStyle="rgba("+O.core("active-bg-color").value[0]+","+O.core("active-bg-color").value[1]+","+O.core("active-bg-color").value[2]+","+O.core("active-bg-opacity").value+")",K.beginPath(),K.arc(Me.x,Me.y,O.core("active-bg-size").pfValue/k,0,2*Math.PI),K.fill()}var Ie=p.lastRedrawTime;if(p.showFps&&Ie){Ie=Math.round(Ie);var de=Math.round(1e3/Ie);K.setTransform(1,0,0,1,0,0),K.fillStyle="rgba(255, 0, 0, 0.75)",K.strokeStyle="rgba(255, 0, 0, 0.75)",K.lineWidth=1,K.fillText("1 frame = "+Ie+" ms = "+de+" fps",0,20),K.strokeRect(0,30,250,20),K.fillRect(0,30,250*Math.min(de/60,1),20)}a||(D[p.SELECT_BOX]=!1)}if(S&&1!==M){var tt=y.contexts[p.DRAG],_t=p.data.bufferCanvases[p.MOTIONBLUR_BUFFER_DRAG],Jt=function(Xe,je,mt){Xe.setTransform(1,0,0,1,0,0),mt||!N?Xe.clearRect(0,0,p.canvasWidth,p.canvasHeight):X(Xe,0,0,p.canvasWidth,p.canvasHeight),Xe.drawImage(je,0,0,p.canvasWidth*M,p.canvasHeight*M,0,0,p.canvasWidth,p.canvasHeight)};(D[p.NODE]||he[p.NODE])&&(Jt(y.contexts[p.NODE],p.data.bufferCanvases[p.MOTIONBLUR_BUFFER_NODE],he[p.NODE]),D[p.NODE]=!1),(D[p.DRAG]||he[p.DRAG])&&(Jt(tt,_t,he[p.DRAG]),D[p.DRAG]=!1)}p.prevViewport=$,p.clearingMotionBlur&&(p.clearingMotionBlur=!1,p.motionBlurCleared=!0,p.motionBlur=!0),S&&(p.motionBlurTimeout=setTimeout(function(){p.motionBlurTimeout=null,p.clearedForMotionBlur[p.NODE]=!1,p.clearedForMotionBlur[p.DRAG]=!1,p.motionBlur=!1,p.clearingMotionBlur=!E,p.mbFrames=0,D[p.NODE]=!0,D[p.DRAG]=!0,p.redraw()},100)),i||b.emit("render")}},Qa={drawPolygonPath:function(s,i,a,l,f,h){var p=l/2,m=f/2;s.beginPath&&s.beginPath(),s.moveTo(i+p*h[0],a+m*h[1]);for(var b=1;b<h.length/2;b++)s.lineTo(i+p*h[2*b],a+m*h[2*b+1]);s.closePath()},drawRoundPolygonPath:function(s,i,a,l,f,h){var p=l/2,m=f/2,b=Rl(l,f);s.beginPath&&s.beginPath();for(var y=0;y<h.length/4;y++){var E,D;D=0===y?h.length-2:4*y-2,E=4*y+2;var S=i+p*h[4*y],M=a+m*h[4*y+1],R=b/Math.tan(Math.acos(-h[D]*h[E]-h[D+1]*h[E+1])/2),A=S-R*h[D],N=M-R*h[D+1],O=S+R*h[E],k=M+R*h[E+1];0===y?s.moveTo(A,N):s.lineTo(A,N),s.arcTo(S,M,O,k,b)}s.closePath()},drawRoundRectanglePath:function(s,i,a,l,f){var h=l/2,p=f/2,m=as(l,f);s.beginPath&&s.beginPath(),s.moveTo(i,a-p),s.arcTo(i+h,a-p,i+h,a,m),s.arcTo(i+h,a+p,i,a+p,m),s.arcTo(i-h,a+p,i-h,a,m),s.arcTo(i-h,a-p,i,a-p,m),s.lineTo(i,a-p),s.closePath()},drawBottomRoundRectanglePath:function(s,i,a,l,f){var h=l/2,p=f/2,m=as(l,f);s.beginPath&&s.beginPath(),s.moveTo(i,a-p),s.lineTo(i+h,a-p),s.lineTo(i+h,a),s.arcTo(i+h,a+p,i,a+p,m),s.arcTo(i-h,a+p,i-h,a,m),s.lineTo(i-h,a-p),s.lineTo(i,a-p),s.closePath()},drawCutRectanglePath:function(s,i,a,l,f){var h=l/2,p=f/2;s.beginPath&&s.beginPath(),s.moveTo(i-h+8,a-p),s.lineTo(i+h-8,a-p),s.lineTo(i+h,a-p+8),s.lineTo(i+h,a+p-8),s.lineTo(i+h-8,a+p),s.lineTo(i-h+8,a+p),s.lineTo(i-h,a+p-8),s.lineTo(i-h,a-p+8),s.closePath()},drawBarrelPath:function(s,i,a,l,f){var h=l/2,p=f/2,m=i-h,b=i+h,y=a-p,D=a+p,E=Gh(l,f),S=E.widthOffset,M=E.heightOffset,x=E.ctrlPtOffsetPct*S;s.beginPath&&s.beginPath(),s.moveTo(m,y+M),s.lineTo(m,D-M),s.quadraticCurveTo(m+x,D,m+S,D),s.lineTo(b-S,D),s.quadraticCurveTo(b-x,D,b,D-M),s.lineTo(b,y+M),s.quadraticCurveTo(b-x,y,b-S,y),s.lineTo(m+S,y),s.quadraticCurveTo(m+x,y,m,y+M),s.closePath()}},Qf=Math.sin(0),Np=Math.cos(0),Jf={},al={},eh=Math.PI/40,sl=0*Math.PI;sl<2*Math.PI;sl+=eh)Jf[sl]=Math.sin(sl),al[sl]=Math.cos(sl);Qa.drawEllipsePath=function(s,i,a,l,f){if(s.beginPath&&s.beginPath(),s.ellipse)s.ellipse(i,a,l/2,f/2,0,0,2*Math.PI);else for(var h,p,m=l/2,b=f/2,y=0*Math.PI;y<2*Math.PI;y+=eh)h=i-m*Jf[y]*Qf+m*al[y]*Np,p=a+b*al[y]*Qf+b*Jf[y]*Np,0===y?s.moveTo(h,p):s.lineTo(h,p);s.closePath()};var ul={};function th(s){var i=s.indexOf(",");return s.substr(i+1)}function Pp(s,i,a){var l=function(){return i.toDataURL(a,s.quality)};switch(s.output){case"blob-promise":return new mr(function(f,h){try{i.toBlob(function(p){null!=p?f(p):h(new Error("`canvas.toBlob()` sent a null value in its callback"))},a,s.quality)}catch(p){h(p)}});case"blob":return function sy(s,i){for(var a=atob(s),l=new ArrayBuffer(a.length),f=new Uint8Array(l),h=0;h<a.length;h++)f[h]=a.charCodeAt(h);return new Blob([l],{type:i})}(th(l()),a);case"base64":return th(l());default:return l()}}ul.createBuffer=function(s,i){var a=document.createElement("canvas");return a.width=s,a.height=i,[a,a.getContext("2d")]},ul.bufferCanvasImage=function(s){var i=this.cy,l=i.mutableElements().boundingBox(),f=this.findContainerClientCoords(),h=s.full?Math.ceil(l.w):f[2],p=s.full?Math.ceil(l.h):f[3],m=ot(s.maxWidth)||ot(s.maxHeight),b=this.getPixelRatio(),y=1;if(void 0!==s.scale)h*=s.scale,p*=s.scale,y=s.scale;else if(m){var D=1/0,E=1/0;ot(s.maxWidth)&&(D=y*s.maxWidth/h),ot(s.maxHeight)&&(E=y*s.maxHeight/p),h*=y=Math.min(D,E),p*=y}m||(h*=b,p*=b,y*=b);var S=document.createElement("canvas");S.width=h,S.height=p,S.style.width=h+"px",S.style.height=p+"px";var M=S.getContext("2d");if(h>0&&p>0){M.clearRect(0,0,h,p),M.globalCompositeOperation="source-over";var x=this.getCachedZSortedEles();if(s.full)M.translate(-l.x1*y,-l.y1*y),M.scale(y,y),this.drawElements(M,x),M.scale(1/y,1/y),M.translate(l.x1*y,l.y1*y);else{var R=i.pan(),A={x:R.x*y,y:R.y*y};y*=i.zoom(),M.translate(A.x,A.y),M.scale(y,y),this.drawElements(M,x),M.scale(1/y,1/y),M.translate(-A.x,-A.y)}s.bg&&(M.globalCompositeOperation="destination-over",M.fillStyle=s.bg,M.rect(0,0,h,p),M.fill())}return S},ul.png=function(s){return Pp(s,this.bufferCanvasImage(s),"image/png")},ul.jpg=function(s){return Pp(s,this.bufferCanvasImage(s),"image/jpeg")};var Rd=yv,Sn=yv.prototype;function yv(s){var i=this;i.data={canvases:new Array(Sn.CANVAS_LAYERS),contexts:new Array(Sn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Sn.CANVAS_LAYERS),bufferCanvases:new Array(Sn.BUFFER_COUNT),bufferContexts:new Array(Sn.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",l="rgba(0,0,0,0)";i.data.canvasContainer=document.createElement("div");var f=i.data.canvasContainer.style;i.data.canvasContainer.style[a]=l,f.position="relative",f.zIndex="0",f.overflow="hidden";var h=s.cy.container();h.appendChild(i.data.canvasContainer),h.style[a]=l;var p={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};wn&&wn.userAgent.match(/msie|trident|edge/i)&&(p["-ms-touch-action"]="none",p["touch-action"]="none");for(var m=0;m<Sn.CANVAS_LAYERS;m++){var b=i.data.canvases[m]=document.createElement("canvas");i.data.contexts[m]=b.getContext("2d"),Object.keys(p).forEach(function(Ie){b.style[Ie]=p[Ie]}),b.style.position="absolute",b.setAttribute("data-id","layer"+m),b.style.zIndex=String(Sn.CANVAS_LAYERS-m),i.data.canvasContainer.appendChild(b),i.data.canvasNeedsRedraw[m]=!1}for(i.data.topCanvas=i.data.canvases[0],i.data.canvases[Sn.NODE].setAttribute("data-id","layer"+Sn.NODE+"-node"),i.data.canvases[Sn.SELECT_BOX].setAttribute("data-id","layer"+Sn.SELECT_BOX+"-selectbox"),i.data.canvases[Sn.DRAG].setAttribute("data-id","layer"+Sn.DRAG+"-drag"),m=0;m<Sn.BUFFER_COUNT;m++)i.data.bufferCanvases[m]=document.createElement("canvas"),i.data.bufferContexts[m]=i.data.bufferCanvases[m].getContext("2d"),i.data.bufferCanvases[m].style.position="absolute",i.data.bufferCanvases[m].setAttribute("data-id","buffer"+m),i.data.bufferCanvases[m].style.zIndex=String(-m-1),i.data.bufferCanvases[m].style.visibility="hidden";i.pathsEnabled=!0;var y=go(),E=function(de){return{x:-de.w/2,y:-de.h/2}},q=function(de){return de.boundingBox(),de[0]._private.bodyBounds},Z=function(de){return de.boundingBox(),de[0]._private.labelBounds.main||y},$=function(de){return de.boundingBox(),de[0]._private.labelBounds.source||y},W=function(de){return de.boundingBox(),de[0]._private.labelBounds.target||y},U=function(de,Re){return Re},X=function(de,Re,Le){var Ke=de?de+"-":"";return{x:Re.x+Le.pstyle(Ke+"text-margin-x").pfValue,y:Re.y+Le.pstyle(Ke+"text-margin-y").pfValue}},j=function(de,Re,Le){var Ke=de[0]._private.rscratch;return{x:Ke[Re],y:Ke[Le]}},De=i.data.eleTxrCache=new yr(i,{getKey:function(de){return de[0]._private.nodeKey},doesEleInvalidateKey:function(de){var Re=de[0]._private;return!(Re.oldBackgroundTimestamp===Re.backgroundTimestamp)},drawElement:function(de,Re,Le,Ke,tt){return i.drawElement(de,Re,Le,!1,!1,tt)},getBoundingBox:q,getRotationPoint:function(de){return function(de){return{x:(de.x1+de.x2)/2,y:(de.y1+de.y2)/2}}(q(de))},getRotationOffset:function(de){return E(q(de))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),he=i.data.lblTxrCache=new yr(i,{getKey:function(de){return de[0]._private.labelStyleKey},drawElement:function(de,Re,Le,Ke,tt){return i.drawElementText(de,Re,Le,Ke,"main",tt)},getBoundingBox:Z,getRotationPoint:function(de){return X("",j(de,"labelX","labelY"),de)},getRotationOffset:function(de){var Re=Z(de),Le=E(Z(de));if(de.isNode()){switch(de.pstyle("text-halign").value){case"left":Le.x=-Re.w;break;case"right":Le.x=0}switch(de.pstyle("text-valign").value){case"top":Le.y=-Re.h;break;case"bottom":Le.y=0}}return Le},isVisible:U}),be=i.data.slbTxrCache=new yr(i,{getKey:function(de){return de[0]._private.sourceLabelStyleKey},drawElement:function(de,Re,Le,Ke,tt){return i.drawElementText(de,Re,Le,Ke,"source",tt)},getBoundingBox:$,getRotationPoint:function(de){return X("source",j(de,"sourceLabelX","sourceLabelY"),de)},getRotationOffset:function(de){return E($(de))},isVisible:U}),Ae=i.data.tlbTxrCache=new yr(i,{getKey:function(de){return de[0]._private.targetLabelStyleKey},drawElement:function(de,Re,Le,Ke,tt){return i.drawElementText(de,Re,Le,Ke,"target",tt)},getBoundingBox:W,getRotationPoint:function(de){return X("target",j(de,"targetLabelX","targetLabelY"),de)},getRotationOffset:function(de){return E(W(de))},isVisible:U}),Fe=i.data.lyrTxrCache=new cv(i);i.onUpdateEleCalcs(function(de,Re){De.invalidateElements(Re),he.invalidateElements(Re),be.invalidateElements(Re),Ae.invalidateElements(Re),Fe.invalidateElements(Re);for(var Le=0;Le<Re.length;Le++){var Ke=Re[Le]._private;Ke.oldBackgroundTimestamp=Ke.backgroundTimestamp}});var Me=function(de){for(var Re=0;Re<de.length;Re++)Fe.enqueueElementRefinement(de[Re].ele)};De.onDequeue(Me),he.onDequeue(Me),be.onDequeue(Me),Ae.onDequeue(Me)}Sn.CANVAS_LAYERS=3,Sn.SELECT_BOX=0,Sn.DRAG=1,Sn.NODE=2,Sn.BUFFER_COUNT=3,Sn.TEXTURE_BUFFER=0,Sn.MOTIONBLUR_BUFFER_NODE=1,Sn.MOTIONBLUR_BUFFER_DRAG=2,Sn.redrawHint=function(s,i){var a=this;switch(s){case"eles":a.data.canvasNeedsRedraw[Sn.NODE]=i;break;case"drag":a.data.canvasNeedsRedraw[Sn.DRAG]=i;break;case"select":a.data.canvasNeedsRedraw[Sn.SELECT_BOX]=i}};var uy=typeof Path2D<"u";Sn.path2dEnabled=function(s){if(void 0===s)return this.pathsEnabled;this.pathsEnabled=!!s},Sn.usePaths=function(){return uy&&this.pathsEnabled},Sn.setImgSmoothing=function(s,i){null!=s.imageSmoothingEnabled?s.imageSmoothingEnabled=i:(s.webkitImageSmoothingEnabled=i,s.mozImageSmoothingEnabled=i,s.msImageSmoothingEnabled=i)},Sn.getImgSmoothing=function(s){return null!=s.imageSmoothingEnabled?s.imageSmoothingEnabled:s.webkitImageSmoothingEnabled||s.mozImageSmoothingEnabled||s.msImageSmoothingEnabled},Sn.makeOffscreenCanvas=function(s,i){var a;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":ln(OffscreenCanvas))?a=new OffscreenCanvas(s,i):((a=document.createElement("canvas")).width=s,a.height=i),a},[Ip,Io,Aa,Xf,Go,ol,oo,Qa,ul,{nodeShapeImpl:function(s,i,a,l,f,h,p){switch(s){case"ellipse":return this.drawEllipsePath(i,a,l,f,h);case"polygon":return this.drawPolygonPath(i,a,l,f,h,p);case"round-polygon":return this.drawRoundPolygonPath(i,a,l,f,h,p);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(i,a,l,f,h);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(i,a,l,f,h);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(i,a,l,f,h);case"barrel":return this.drawBarrelPath(i,a,l,f,h)}}}].forEach(function(s){It(Sn,s)});var ly=[{type:"layout",extensions:ra},{type:"renderer",extensions:[{name:"null",impl:_p},{name:"base",impl:Gf},{name:"canvas",impl:Rd}]}],wv={},bv={};function Dv(s,i,a){var l=a,f=function(W){Gt("Can not register `"+i+"` for `"+s+"` since `"+W+"` already exists in the prototype and can not be overridden")};if("core"===s){if(Ui.prototype[i])return f(i);Ui.prototype[i]=a}else if("collection"===s){if(ci.prototype[i])return f(i);ci.prototype[i]=a}else if("layout"===s){for(var h=function(W){this.options=W,a.call(this,W),Ct(this._private)||(this._private={}),this._private.cy=W.cy,this._private.listeners=[],this.createEmitter()},p=h.prototype=Object.create(a.prototype),m=[],b=0;b<m.length;b++){var y=m[b];p[y]=p[y]||function(){return this}}p.start&&!p.run?p.run=function(){return this.start(),this}:!p.start&&p.run&&(p.start=function(){return this.run(),this});var D=a.prototype.stop;p.stop=function(){var $=this.options;if($&&$.animate){var W=this.animations;if(W)for(var U=0;U<W.length;U++)W[U].stop()}return D?D.call(this):this.emit("layoutstop"),this},p.destroy||(p.destroy=function(){return this}),p.cy=function(){return this._private.cy};var E=function(W){return W._private.cy},S={addEventFields:function(W,U){U.layout=W,U.cy=E(W),U.target=W},bubble:function(){return!0},parent:function(W){return E(W)}};It(p,{createEmitter:function(){return this._private.emitter=new Lu(S,this),this},emitter:function(){return this._private.emitter},on:function(W,U){return this.emitter().on(W,U),this},one:function(W,U){return this.emitter().one(W,U),this},once:function(W,U){return this.emitter().one(W,U),this},removeListener:function(W,U){return this.emitter().removeListener(W,U),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(W,U){return this.emitter().emit(W,U),this}}),Ot.eventAliasesOn(p),l=h}else if("renderer"===s&&"null"!==i&&"base"!==i){var M=Cv("renderer","base"),x=M.prototype,R=a,A=a.prototype,N=function(){M.apply(this,arguments),R.apply(this,arguments)},O=N.prototype;for(var k in x){var V=x[k];if(null!=A[k])return f(k);O[k]=V}for(var Z in A)O[Z]=A[Z];x.clientFunctions.forEach(function($){O[$]=O[$]||function(){$n("Renderer does not implement `renderer."+$+"()` on its prototype")}}),l=N}else if("__proto__"===s||"constructor"===s||"prototype"===s)return $n(s+" is an illegal type to be registered, possibly lead to prototype pollutions");return Tc({map:wv,keys:[s,i],value:l})}function Cv(s,i){return Ac({map:wv,keys:[s,i]})}function Ev(s,i,a,l,f){return Tc({map:bv,keys:[s,i,a,l],value:f})}function Nd(s,i,a,l){return Ac({map:bv,keys:[s,i,a,l]})}var ll=function(){return 2===arguments.length?Cv.apply(null,arguments):3===arguments.length?Dv.apply(null,arguments):4===arguments.length?Nd.apply(null,arguments):5===arguments.length?Ev.apply(null,arguments):void $n("Invalid extension access syntax")};Ui.prototype.extension=ll,ly.forEach(function(s){s.extensions.forEach(function(i){Dv(s.type,i.name,i.impl)})});var rh=function s(){if(!(this instanceof s))return new s;this.length=0},Es=rh.prototype;Es.instanceString=function(){return"stylesheet"},Es.selector=function(s){return this[this.length++]={selector:s,properties:[]},this},Es.css=function(s,i){var a=this.length-1;if(Je(s))this[a].properties.push({name:s,value:i});else if(Ct(s))for(var l=s,f=Object.keys(l),h=0;h<f.length;h++){var p=f[h],m=l[p];if(null!=m){var b=_i.properties[p]||_i.properties[Rs(p)];null!=b&&this[a].properties.push({name:b.name,value:m})}}return this},Es.style=Es.css,Es.generateStyle=function(s){var i=new _i(s);return this.appendToStyle(i)},Es.appendToStyle=function(s){for(var i=0;i<this.length;i++){var a=this[i],f=a.properties;s.selector(a.selector);for(var h=0;h<f.length;h++){var p=f[h];s.css(p.name,p.value)}}return s};var qo=function(i){return void 0===i&&(i={}),Ct(i)?new Ui(i):Je(i)?ll.apply(ll,arguments):void 0};qo.use=function(s){var i=Array.prototype.slice.call(arguments,1);return i.unshift(qo),s.apply(null,i),this},qo.warnings=function(s){return kh(s)},qo.version="3.27.0",qo.stylesheet=qo.Stylesheet=rh,ve.exports=qo},7444:(ve,Qe,ae)=>{ve.exports=ae(7253)},7253:function(ve,Qe){var ae,ce,B;(function(){var _e,Ee,Ve,Se,rt,vt,wt,bt,kn,ln,br,rr,Vn,In,cn;Ve=Math.floor,ln=Math.min,Ee=function(Ge,it){return Ge<it?-1:Ge>it?1:0},kn=function(Ge,it,ht,Dt,Tn){var At;if(null==ht&&(ht=0),null==Tn&&(Tn=Ee),ht<0)throw new Error("lo must be non-negative");for(null==Dt&&(Dt=Ge.length);ht<Dt;)Tn(it,Ge[At=Ve((ht+Dt)/2)])<0?Dt=At:ht=At+1;return[].splice.apply(Ge,[ht,ht-ht].concat(it)),it},vt=function(Ge,it,ht){return null==ht&&(ht=Ee),Ge.push(it),In(Ge,0,Ge.length-1,ht)},rt=function(Ge,it){var ht,Dt;return null==it&&(it=Ee),ht=Ge.pop(),Ge.length?(Dt=Ge[0],Ge[0]=ht,cn(Ge,0,it)):Dt=ht,Dt},bt=function(Ge,it,ht){var Dt;return null==ht&&(ht=Ee),Dt=Ge[0],Ge[0]=it,cn(Ge,0,ht),Dt},wt=function(Ge,it,ht){var Dt;return null==ht&&(ht=Ee),Ge.length&&ht(Ge[0],it)<0&&(it=(Dt=[Ge[0],it])[0],Ge[0]=Dt[1],cn(Ge,0,ht)),it},Se=function(Ge,it){var Dt,At,Kn,Bi,Ro;for(null==it&&(it=Ee),Bi=[],Dt=0,At=(Kn=function(){Ro=[];for(var lo=0,Sr=Ve(Ge.length/2);0<=Sr?lo<Sr:lo>Sr;0<=Sr?lo++:lo--)Ro.push(lo);return Ro}.apply(this).reverse()).length;Dt<At;Dt++)Bi.push(cn(Ge,Kn[Dt],it));return Bi},Vn=function(Ge,it,ht){var Dt;if(null==ht&&(ht=Ee),-1!==(Dt=Ge.indexOf(it)))return In(Ge,0,Dt,ht),cn(Ge,Dt,ht)},br=function(Ge,it,ht){var Tn,At,wn,Kn;if(null==ht&&(ht=Ee),!(Tn=Ge.slice(0,it)).length)return Tn;for(Se(Tn,ht),At=0,wn=(Kn=Ge.slice(it)).length;At<wn;At++)wt(Tn,Kn[At],ht);return Tn.sort(ht).reverse()},rr=function(Ge,it,ht){var Dt,At,wn,Kn,Bi,Ro,lo,Sr,Je;if(null==ht&&(ht=Ee),10*it<=Ge.length){if(!(wn=Ge.slice(0,it).sort(ht)).length)return wn;for(At=wn[wn.length-1],Kn=0,Ro=(lo=Ge.slice(it)).length;Kn<Ro;Kn++)ht(Dt=lo[Kn],At)<0&&(kn(wn,Dt,0,null,ht),wn.pop(),At=wn[wn.length-1]);return wn}for(Se(Ge,ht),Je=[],Bi=0,Sr=ln(it,Ge.length);0<=Sr?Bi<Sr:Bi>Sr;0<=Sr?++Bi:--Bi)Je.push(rt(Ge,ht));return Je},In=function(Ge,it,ht,Dt){var Tn,At,wn;for(null==Dt&&(Dt=Ee),Tn=Ge[ht];ht>it&&Dt(Tn,At=Ge[wn=ht-1>>1])<0;)Ge[ht]=At,ht=wn;return Ge[ht]=Tn},cn=function(Ge,it,ht){var Dt,Tn,At,wn,Kn;for(null==ht&&(ht=Ee),Tn=Ge.length,Kn=it,At=Ge[it],Dt=2*it+1;Dt<Tn;)(wn=Dt+1)<Tn&&!(ht(Ge[Dt],Ge[wn])<0)&&(Dt=wn),Ge[it]=Ge[Dt],Dt=2*(it=Dt)+1;return Ge[it]=At,In(Ge,Kn,it,ht)},_e=function(){function Ge(it){this.cmp=it??Ee,this.nodes=[]}return Ge.push=vt,Ge.pop=rt,Ge.replace=bt,Ge.pushpop=wt,Ge.heapify=Se,Ge.updateItem=Vn,Ge.nlargest=br,Ge.nsmallest=rr,Ge.prototype.push=function(it){return vt(this.nodes,it,this.cmp)},Ge.prototype.pop=function(){return rt(this.nodes,this.cmp)},Ge.prototype.peek=function(){return this.nodes[0]},Ge.prototype.contains=function(it){return-1!==this.nodes.indexOf(it)},Ge.prototype.replace=function(it){return bt(this.nodes,it,this.cmp)},Ge.prototype.pushpop=function(it){return wt(this.nodes,it,this.cmp)},Ge.prototype.heapify=function(){return Se(this.nodes,this.cmp)},Ge.prototype.updateItem=function(it){return Vn(this.nodes,it,this.cmp)},Ge.prototype.clear=function(){return this.nodes=[]},Ge.prototype.empty=function(){return 0===this.nodes.length},Ge.prototype.size=function(){return this.nodes.length},Ge.prototype.clone=function(){var it;return(it=new Ge).nodes=this.nodes.slice(0),it},Ge.prototype.toArray=function(){return this.nodes.slice(0)},Ge.prototype.insert=Ge.prototype.push,Ge.prototype.top=Ge.prototype.peek,Ge.prototype.front=Ge.prototype.peek,Ge.prototype.has=Ge.prototype.contains,Ge.prototype.copy=Ge.prototype.clone,Ge}(),ce=[],void 0===(B="function"==typeof(ae=function(){return _e})?ae.apply(Qe,ce):ae)||(ve.exports=B)}).call(this)},9618:(ve,Qe,ae)=>{var ce=ae(5602),B=ae(1499),_e=ae(2990),Ee=ae(480),Ve=ae(4469);function Se(rt){var vt=-1,wt=null==rt?0:rt.length;for(this.clear();++vt<wt;){var bt=rt[vt];this.set(bt[0],bt[1])}}Se.prototype.clear=ce,Se.prototype.delete=B,Se.prototype.get=_e,Se.prototype.has=Ee,Se.prototype.set=Ve,ve.exports=Se},3597:(ve,Qe,ae)=>{var ce=ae(9365),B=ae(9343),_e=ae(4779),Ee=ae(1509),Ve=ae(7137);function Se(rt){var vt=-1,wt=null==rt?0:rt.length;for(this.clear();++vt<wt;){var bt=rt[vt];this.set(bt[0],bt[1])}}Se.prototype.clear=ce,Se.prototype.delete=B,Se.prototype.get=_e,Se.prototype.has=Ee,Se.prototype.set=Ve,ve.exports=Se},1136:(ve,Qe,ae)=>{var _e=ae(8745)(ae(8492),"Map");ve.exports=_e},1811:(ve,Qe,ae)=>{var ce=ae(3413),B=ae(5419),_e=ae(7336),Ee=ae(1115),Ve=ae(6648);function Se(rt){var vt=-1,wt=null==rt?0:rt.length;for(this.clear();++vt<wt;){var bt=rt[vt];this.set(bt[0],bt[1])}}Se.prototype.clear=ce,Se.prototype.delete=B,Se.prototype.get=_e,Se.prototype.has=Ee,Se.prototype.set=Ve,ve.exports=Se},1763:(ve,Qe,ae)=>{var ce=ae(8492);ve.exports=ce.Symbol},3880:ve=>{ve.exports=function Qe(ae,ce){for(var B=-1,_e=null==ae?0:ae.length,Ee=Array(_e);++B<_e;)Ee[B]=ce(ae[B],B,ae);return Ee}},9553:(ve,Qe,ae)=>{var ce=ae(1741),B=ae(7826),Ee=Object.prototype.hasOwnProperty;ve.exports=function Ve(Se,rt,vt){var wt=Se[rt];(!Ee.call(Se,rt)||!B(wt,vt)||void 0===vt&&!(rt in Se))&&ce(Se,rt,vt)}},4056:(ve,Qe,ae)=>{var ce=ae(7826);ve.exports=function B(_e,Ee){for(var Ve=_e.length;Ve--;)if(ce(_e[Ve][0],Ee))return Ve;return-1}},1741:(ve,Qe,ae)=>{var ce=ae(9383);ve.exports=function B(_e,Ee,Ve){"__proto__"==Ee&&ce?ce(_e,Ee,{configurable:!0,enumerable:!0,value:Ve,writable:!0}):_e[Ee]=Ve}},2202:(ve,Qe,ae)=>{var ce=ae(4826),B=ae(8916);ve.exports=function _e(Ee,Ve){for(var Se=0,rt=(Ve=ce(Ve,Ee)).length;null!=Ee&&Se<rt;)Ee=Ee[B(Ve[Se++])];return Se&&Se==rt?Ee:void 0}},4590:(ve,Qe,ae)=>{var ce=ae(1763),B=ae(5933),_e=ae(9243),Se=ce?ce.toStringTag:void 0;ve.exports=function rt(vt){return null==vt?void 0===vt?"[object Undefined]":"[object Null]":Se&&Se in Object(vt)?B(vt):_e(vt)}},1082:(ve,Qe,ae)=>{var ce=ae(6861),B=ae(9950),_e=ae(9794),Ee=ae(7075),Se=/^\[object .+?Constructor\]$/,kn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ve.exports=function ln(br){return!(!_e(br)||B(br))&&(ce(br)?kn:Se).test(Ee(br))}},9478:(ve,Qe,ae)=>{var ce=ae(9553),B=ae(4826),_e=ae(5188),Ee=ae(9794),Ve=ae(8916);ve.exports=function Se(rt,vt,wt,bt){if(!Ee(rt))return rt;for(var kn=-1,ln=(vt=B(vt,rt)).length,br=ln-1,rr=rt;null!=rr&&++kn<ln;){var Vn=Ve(vt[kn]),In=wt;if("__proto__"===Vn||"constructor"===Vn||"prototype"===Vn)return rt;if(kn!=br){var cn=rr[Vn];void 0===(In=bt?bt(cn,Vn,rr):void 0)&&(In=Ee(cn)?cn:_e(vt[kn+1])?[]:{})}ce(rr,Vn,In),rr=rr[Vn]}return rt}},7002:(ve,Qe,ae)=>{var ce=ae(1763),B=ae(3880),_e=ae(2261),Ee=ae(3423),Se=ce?ce.prototype:void 0,rt=Se?Se.toString:void 0;ve.exports=function vt(wt){if("string"==typeof wt)return wt;if(_e(wt))return B(wt,vt)+"";if(Ee(wt))return rt?rt.call(wt):"";var bt=wt+"";return"0"==bt&&1/wt==-1/0?"-0":bt}},9484:(ve,Qe,ae)=>{var ce=ae(1781),B=/^\s+/;ve.exports=function _e(Ee){return Ee&&Ee.slice(0,ce(Ee)+1).replace(B,"")}},4826:(ve,Qe,ae)=>{var ce=ae(2261),B=ae(6300),_e=ae(163),Ee=ae(2674);ve.exports=function Ve(Se,rt){return ce(Se)?Se:B(Se,rt)?[Se]:_e(Ee(Se))}},4231:ve=>{ve.exports=function Qe(ae,ce){var B=-1,_e=ae.length;for(ce||(ce=Array(_e));++B<_e;)ce[B]=ae[B];return ce}},6189:(ve,Qe,ae)=>{var ce=ae(8492);ve.exports=ce["__core-js_shared__"]},9383:(ve,Qe,ae)=>{var ce=ae(8745),B=function(){try{var _e=ce(Object,"defineProperty");return _e({},"",{}),_e}catch{}}();ve.exports=B},248:ve=>{var Qe="object"==typeof global&&global&&global.Object===Object&&global;ve.exports=Qe},4113:(ve,Qe,ae)=>{var ce=ae(29);ve.exports=function B(_e,Ee){var Ve=_e.__data__;return ce(Ee)?Ve["string"==typeof Ee?"string":"hash"]:Ve.map}},8745:(ve,Qe,ae)=>{var ce=ae(1082),B=ae(1015);ve.exports=function _e(Ee,Ve){var Se=B(Ee,Ve);return ce(Se)?Se:void 0}},5933:(ve,Qe,ae)=>{var ce=ae(1763),B=Object.prototype,_e=B.hasOwnProperty,Ee=B.toString,Ve=ce?ce.toStringTag:void 0;ve.exports=function Se(rt){var vt=_e.call(rt,Ve),wt=rt[Ve];try{rt[Ve]=void 0;var bt=!0}catch{}var kn=Ee.call(rt);return bt&&(vt?rt[Ve]=wt:delete rt[Ve]),kn}},1015:ve=>{ve.exports=function Qe(ae,ce){return ae?.[ce]}},5602:(ve,Qe,ae)=>{var ce=ae(893);ve.exports=function B(){this.__data__=ce?ce(null):{},this.size=0}},1499:ve=>{ve.exports=function Qe(ae){var ce=this.has(ae)&&delete this.__data__[ae];return this.size-=ce?1:0,ce}},2990:(ve,Qe,ae)=>{var ce=ae(893),Ee=Object.prototype.hasOwnProperty;ve.exports=function Ve(Se){var rt=this.__data__;if(ce){var vt=rt[Se];return"__lodash_hash_undefined__"===vt?void 0:vt}return Ee.call(rt,Se)?rt[Se]:void 0}},480:(ve,Qe,ae)=>{var ce=ae(893),_e=Object.prototype.hasOwnProperty;ve.exports=function Ee(Ve){var Se=this.__data__;return ce?void 0!==Se[Ve]:_e.call(Se,Ve)}},4469:(ve,Qe,ae)=>{var ce=ae(893);ve.exports=function _e(Ee,Ve){var Se=this.__data__;return this.size+=this.has(Ee)?0:1,Se[Ee]=ce&&void 0===Ve?"__lodash_hash_undefined__":Ve,this}},5188:ve=>{var ae=/^(?:0|[1-9]\d*)$/;ve.exports=function ce(B,_e){var Ee=typeof B;return!!(_e=_e??9007199254740991)&&("number"==Ee||"symbol"!=Ee&&ae.test(B))&&B>-1&&B%1==0&&B<_e}},6300:(ve,Qe,ae)=>{var ce=ae(2261),B=ae(3423),_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ee=/^\w*$/;ve.exports=function Ve(Se,rt){if(ce(Se))return!1;var vt=typeof Se;return!("number"!=vt&&"symbol"!=vt&&"boolean"!=vt&&null!=Se&&!B(Se))||Ee.test(Se)||!_e.test(Se)||null!=rt&&Se in Object(rt)}},29:ve=>{ve.exports=function Qe(ae){var ce=typeof ae;return"string"==ce||"number"==ce||"symbol"==ce||"boolean"==ce?"__proto__"!==ae:null===ae}},9950:(ve,Qe,ae)=>{var Ee,ce=ae(6189),B=(Ee=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+Ee:"";ve.exports=function _e(Ee){return!!B&&B in Ee}},9365:ve=>{ve.exports=function Qe(){this.__data__=[],this.size=0}},9343:(ve,Qe,ae)=>{var ce=ae(4056),_e=Array.prototype.splice;ve.exports=function Ee(Ve){var Se=this.__data__,rt=ce(Se,Ve);return!(rt<0||(rt==Se.length-1?Se.pop():_e.call(Se,rt,1),--this.size,0))}},4779:(ve,Qe,ae)=>{var ce=ae(4056);ve.exports=function B(_e){var Ee=this.__data__,Ve=ce(Ee,_e);return Ve<0?void 0:Ee[Ve][1]}},1509:(ve,Qe,ae)=>{var ce=ae(4056);ve.exports=function B(_e){return ce(this.__data__,_e)>-1}},7137:(ve,Qe,ae)=>{var ce=ae(4056);ve.exports=function B(_e,Ee){var Ve=this.__data__,Se=ce(Ve,_e);return Se<0?(++this.size,Ve.push([_e,Ee])):Ve[Se][1]=Ee,this}},3413:(ve,Qe,ae)=>{var ce=ae(9618),B=ae(3597),_e=ae(1136);ve.exports=function Ee(){this.size=0,this.__data__={hash:new ce,map:new(_e||B),string:new ce}}},5419:(ve,Qe,ae)=>{var ce=ae(4113);ve.exports=function B(_e){var Ee=ce(this,_e).delete(_e);return this.size-=Ee?1:0,Ee}},7336:(ve,Qe,ae)=>{var ce=ae(4113);ve.exports=function B(_e){return ce(this,_e).get(_e)}},1115:(ve,Qe,ae)=>{var ce=ae(4113);ve.exports=function B(_e){return ce(this,_e).has(_e)}},6648:(ve,Qe,ae)=>{var ce=ae(4113);ve.exports=function B(_e,Ee){var Ve=ce(this,_e),Se=Ve.size;return Ve.set(_e,Ee),this.size+=Ve.size==Se?0:1,this}},7371:(ve,Qe,ae)=>{var ce=ae(7659);ve.exports=function _e(Ee){var Ve=ce(Ee,function(rt){return 500===Se.size&&Se.clear(),rt}),Se=Ve.cache;return Ve}},893:(ve,Qe,ae)=>{var B=ae(8745)(Object,"create");ve.exports=B},9243:ve=>{var ae=Object.prototype.toString;ve.exports=function ce(B){return ae.call(B)}},8492:(ve,Qe,ae)=>{var ce=ae(248),B="object"==typeof self&&self&&self.Object===Object&&self,_e=ce||B||Function("return this")();ve.exports=_e},163:(ve,Qe,ae)=>{var ce=ae(7371),B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g,Ee=ce(function(Ve){var Se=[];return 46===Ve.charCodeAt(0)&&Se.push(""),Ve.replace(B,function(rt,vt,wt,bt){Se.push(wt?bt.replace(_e,"$1"):vt||rt)}),Se});ve.exports=Ee},8916:(ve,Qe,ae)=>{var ce=ae(3423);ve.exports=function _e(Ee){if("string"==typeof Ee||ce(Ee))return Ee;var Ve=Ee+"";return"0"==Ve&&1/Ee==-1/0?"-0":Ve}},7075:ve=>{var ae=Function.prototype.toString;ve.exports=function ce(B){if(null!=B){try{return ae.call(B)}catch{}try{return B+""}catch{}}return""}},1781:ve=>{var Qe=/\s/;ve.exports=function ae(ce){for(var B=ce.length;B--&&Qe.test(ce.charAt(B)););return B}},4430:(ve,Qe,ae)=>{var ce=ae(9794),B=ae(5533),_e=ae(4282),Ve=Math.max,Se=Math.min;ve.exports=function rt(vt,wt,bt){var kn,ln,br,rr,Vn,In,cn=0,Ge=!1,it=!1,ht=!0;if("function"!=typeof vt)throw new TypeError("Expected a function");function Dt(Je){var Fn=kn,_n=ln;return kn=ln=void 0,cn=Je,rr=vt.apply(_n,Fn)}function wn(Je){var Fn=Je-In;return void 0===In||Fn>=wt||Fn<0||it&&Je-cn>=br}function Kn(){var Je=B();if(wn(Je))return Bi(Je);Vn=setTimeout(Kn,function At(Je){var Ct=wt-(Je-In);return it?Se(Ct,br-(Je-cn)):Ct}(Je))}function Bi(Je){return Vn=void 0,ht&&kn?Dt(Je):(kn=ln=void 0,rr)}function Sr(){var Je=B(),Fn=wn(Je);if(kn=arguments,ln=this,In=Je,Fn){if(void 0===Vn)return function Tn(Je){return cn=Je,Vn=setTimeout(Kn,wt),Ge?Dt(Je):rr}(In);if(it)return clearTimeout(Vn),Vn=setTimeout(Kn,wt),Dt(In)}return void 0===Vn&&(Vn=setTimeout(Kn,wt)),rr}return wt=_e(wt)||0,ce(bt)&&(Ge=!!bt.leading,br=(it="maxWait"in bt)?Ve(_e(bt.maxWait)||0,wt):br,ht="trailing"in bt?!!bt.trailing:ht),Sr.cancel=function Ro(){void 0!==Vn&&clearTimeout(Vn),cn=0,kn=In=ln=Vn=void 0},Sr.flush=function lo(){return void 0===Vn?rr:Bi(B())},Sr}},7826:ve=>{ve.exports=function Qe(ae,ce){return ae===ce||ae!=ae&&ce!=ce}},5440:(ve,Qe,ae)=>{var ce=ae(2202);ve.exports=function B(_e,Ee,Ve){var Se=null==_e?void 0:ce(_e,Ee);return void 0===Se?Ve:Se}},2261:ve=>{ve.exports=Array.isArray},6861:(ve,Qe,ae)=>{var ce=ae(4590),B=ae(9794);ve.exports=function rt(vt){if(!B(vt))return!1;var wt=ce(vt);return"[object Function]"==wt||"[object GeneratorFunction]"==wt||"[object AsyncFunction]"==wt||"[object Proxy]"==wt}},9794:ve=>{ve.exports=function Qe(ae){var ce=typeof ae;return null!=ae&&("object"==ce||"function"==ce)}},3714:ve=>{ve.exports=function Qe(ae){return null!=ae&&"object"==typeof ae}},3423:(ve,Qe,ae)=>{var ce=ae(4590),B=ae(3714);ve.exports=function Ee(Ve){return"symbol"==typeof Ve||B(Ve)&&"[object Symbol]"==ce(Ve)}},6990:function(ve,Qe,ae){var ce;ve=ae.nmd(ve),function(){var B,Se="Expected a function",vt="__lodash_hash_undefined__",bt="__lodash_placeholder__",Ct=1/0,Oa=9007199254740991,co=4294967295,ef=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ir="[object Arguments]",gr="[object Array]",en="[object Boolean]",As="[object Date]",fu="[object Error]",Sc="[object Function]",hu="[object GeneratorFunction]",fo="[object Map]",Rs="[object Number]",ka="[object Object]",Kr="[object Promise]",pu="[object RegExp]",Qo="[object Set]",Ns="[object String]",xc="[object Symbol]",Ps="[object WeakMap]",It="[object ArrayBuffer]",gu="[object DataView]",pa="[object Float32Array]",Mc="[object Float64Array]",nf="[object Int8Array]",Ic="[object Int16Array]",rf="[object Int32Array]",Tc="[object Uint8Array]",Ac="[object Uint8ClampedArray]",Cl="[object Uint16Array]",Rc="[object Uint32Array]",$g=/\b__p \+= '';/g,Nc=/\b(__p \+=) '' \+/g,Fa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Os=/&(?:amp|lt|gt|quot|#39);/g,af=/[&<>"']/g,Pc=RegExp(Os.source),sf=RegExp(af.source),vu=/<%-([\s\S]+?)%>/g,mu=/<%([\s\S]+?)%>/g,uf=/<%=([\s\S]+?)%>/g,La=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oc=/^\w*$/,Nh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ga=/[\\^$.*+?()[\]{}|]/g,lf=RegExp(ga.source),kc=/^\s+/,Yi=/\s/,Hg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ug=/\{\n\/\* \[wrapped with (.+)\] \*/,cf=/,? & /,Ph=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,El=/[()=,{}\[\]\/\s]/,Oh=/\\(\\)?/g,df=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$n=/\w*$/,kh=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,yu=/^\[object .+?Constructor\]$/,Yr=/^0o[0-7]+$/i,zm=/^(?:0|[1-9]\d*)$/,Fh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fc=/($^)/,Lc=/['\n\r\u2028\u2029\\]/g,Pr="\\ud800-\\udfff",ho="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ba="\\u2700-\\u27bf",Bh="a-z\\xdf-\\xf6\\xf8-\\xff",_l="A-Z\\xc0-\\xd6\\xd8-\\xde",Or="\\ufe0e\\ufe0f",bu="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bt="["+Pr+"]",hf="["+bu+"]",Du="["+ho+"]",po="\\d+",jg="["+Ba+"]",$h="["+Bh+"]",zn="[^"+Pr+bu+po+Ba+Bh+_l+"]",Cu="\\ud83c[\\udffb-\\udfff]",Bc="[^"+Pr+"]",Sl="(?:\\ud83c[\\udde6-\\uddff]){2}",Zn="[\\ud800-\\udbff][\\udc00-\\udfff]",Pt="["+_l+"]",xl="(?:"+$h+"|"+zn+")",Ml="(?:"+Pt+"|"+zn+")",pf="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ze="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Il="(?:"+Du+"|"+Cu+")?",Zt="["+Or+"]?",gf=Zt+Il+"(?:\\u200d(?:"+[Bc,Sl,Zn].join("|")+")"+Zt+Il+")*",Va="(?:"+[jg,Sl,Zn].join("|")+")"+gf,Qr="(?:"+[Bc+Du+"?",Du,Sl,Zn,Bt].join("|")+")",jm=RegExp("['\u2019]","g"),ai=RegExp(Du,"g"),Fs=RegExp(Cu+"(?="+Cu+")|"+Qr+gf,"g"),Ls=RegExp([Pt+"?"+$h+"+"+pf+"(?="+[hf,Pt,"$"].join("|")+")",Ml+"+"+ze+"(?="+[hf,Pt+xl,"$"].join("|")+")",Pt+"?"+xl+"+"+pf,Pt+"+"+ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",po,Va].join("|"),"g"),$c=RegExp("[\\u200d"+Pr+ho+Or+"]"),go=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qm=-1,sr={};sr[pa]=sr[Mc]=sr[nf]=sr[Ic]=sr[rf]=sr[Tc]=sr[Ac]=sr[Cl]=sr[Rc]=!0,sr[ir]=sr[gr]=sr[It]=sr[en]=sr[gu]=sr[As]=sr[fu]=sr[Sc]=sr[fo]=sr[Rs]=sr[ka]=sr[pu]=sr[Qo]=sr[Ns]=sr[Ps]=!1;var ur={};ur[ir]=ur[gr]=ur[It]=ur[gu]=ur[en]=ur[As]=ur[pa]=ur[Mc]=ur[nf]=ur[Ic]=ur[rf]=ur[fo]=ur[Rs]=ur[ka]=ur[pu]=ur[Qo]=ur[Ns]=ur[xc]=ur[Tc]=ur[Ac]=ur[Cl]=ur[Rc]=!0,ur[fu]=ur[Sc]=ur[Ps]=!1;var Lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tl=parseFloat,Wm=parseInt,zh="object"==typeof global&&global&&global.Object===Object&&global,Mt="object"==typeof self&&self&&self.Object===Object&&self,Ri=zh||Mt||Function("return this")(),mo=Qe&&!Qe.nodeType&&Qe,os=mo&&ve&&!ve.nodeType&&ve,jh=os&&os.exports===mo,Uc=jh&&zh.process,Po=function(){try{return os&&os.require&&os.require("util").types||Uc&&Uc.binding&&Uc.binding("util")}catch{}}(),si=Po&&Po.isArrayBuffer,yo=Po&&Po.isDate,zc=Po&&Po.isMap,jc=Po&&Po.isRegExp,vf=Po&&Po.isSet,gn=Po&&Po.isTypedArray;function kr(se,xe,me){switch(me.length){case 0:return se.call(xe);case 1:return se.call(xe,me[0]);case 2:return se.call(xe,me[0],me[1]);case 3:return se.call(xe,me[0],me[1],me[2])}return se.apply(xe,me)}function Eu(se,xe,me,ut){for(var Xt=-1,Ln=null==se?0:se.length;++Xt<Ln;){var Jr=se[Xt];xe(ut,Jr,me(Jr),se)}return ut}function Yn(se,xe){for(var me=-1,ut=null==se?0:se.length;++me<ut&&!1!==xe(se[me],me,se););return se}function $a(se,xe){for(var me=null==se?0:se.length;me--&&!1!==xe(se[me],me,se););return se}function Al(se,xe){for(var me=-1,ut=null==se?0:se.length;++me<ut;)if(!xe(se[me],me,se))return!1;return!0}function An(se,xe){for(var me=-1,ut=null==se?0:se.length,Xt=0,Ln=[];++me<ut;){var Jr=se[me];xe(Jr,me,se)&&(Ln[Xt++]=Jr)}return Ln}function _u(se,xe){return!(null==se||!se.length)&&ma(se,xe,0)>-1}function Ni(se,xe,me){for(var ut=-1,Xt=null==se?0:se.length;++ut<Xt;)if(me(xe,se[ut]))return!0;return!1}function Xn(se,xe){for(var me=-1,ut=null==se?0:se.length,Xt=Array(ut);++me<ut;)Xt[me]=xe(se[me],me,se);return Xt}function Oo(se,xe){for(var me=-1,ut=xe.length,Xt=se.length;++me<ut;)se[Xt+me]=xe[me];return se}function as(se,xe,me,ut){var Xt=-1,Ln=null==se?0:se.length;for(ut&&Ln&&(me=se[++Xt]);++Xt<Ln;)me=xe(me,se[Xt],Xt,se);return me}function Rl(se,xe,me,ut){var Xt=null==se?0:se.length;for(ut&&Xt&&(me=se[--Xt]);Xt--;)me=xe(me,se[Xt],Xt,se);return me}function Gc(se,xe){for(var me=-1,ut=null==se?0:se.length;++me<ut;)if(xe(se[me],me,se))return!0;return!1}var mf=Pl("length");function Gg(se,xe,me){var ut;return me(se,function(Xt,Ln,Jr){if(xe(Xt,Ln,Jr))return ut=Ln,!1}),ut}function qc(se,xe,me,ut){for(var Xt=se.length,Ln=me+(ut?1:-1);ut?Ln--:++Ln<Xt;)if(xe(se[Ln],Ln,se))return Ln;return-1}function ma(se,xe,me){return xe==xe?function ko(se,xe,me){for(var ut=me-1,Xt=se.length;++ut<Xt;)if(se[ut]===xe)return ut;return-1}(se,xe,me):qc(se,Ha,me)}function Su(se,xe,me,ut){for(var Xt=me-1,Ln=se.length;++Xt<Ln;)if(ut(se[Xt],xe))return Xt;return-1}function Ha(se){return se!=se}function Nl(se,xe){var me=null==se?0:se.length;return me?ss(se,xe)/me:NaN}function Pl(se){return function(xe){return null==xe?B:xe[se]}}function yf(se){return function(xe){return null==se?B:se[xe]}}function qh(se,xe,me,ut,Xt){return Xt(se,function(Ln,Jr,Qn){me=ut?(ut=!1,Ln):xe(me,Ln,Jr,Qn)}),me}function ss(se,xe){for(var me,ut=-1,Xt=se.length;++ut<Xt;){var Ln=xe(se[ut]);Ln!==B&&(me=me===B?Ln:me+Ln)}return me}function Wc(se,xe){for(var me=-1,ut=Array(se);++me<se;)ut[me]=xe(me);return ut}function Zh(se){return se&&se.slice(0,Xc(se)+1).replace(kc,"")}function gt(se){return function(xe){return se(xe)}}function Zc(se,xe){return Xn(xe,function(me){return se[me]})}function dt(se,xe){return se.has(xe)}function Ol(se,xe){for(var me=-1,ut=se.length;++me<ut&&ma(xe,se[me],0)>-1;);return me}function Kc(se,xe){for(var me=se.length;me--&&ma(xe,se[me],0)>-1;);return me}var qg=yf({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Wg=yf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Kh(se){return"\\"+Lt[se]}function wa(se){return $c.test(se)}function vn(se){var xe=-1,me=Array(se.size);return se.forEach(function(ut,Xt){me[++xe]=[Xt,ut]}),me}function Da(se,xe){return function(me){return se(xe(me))}}function wo(se,xe){for(var me=-1,ut=se.length,Xt=0,Ln=[];++me<ut;){var Jr=se[me];(Jr===xe||Jr===bt)&&(se[me]=bt,Ln[Xt++]=me)}return Ln}function Mu(se){var xe=-1,me=Array(se.size);return se.forEach(function(ut){me[++xe]=ut}),me}function ls(se){return wa(se)?function Xh(se){for(var xe=Fs.lastIndex=0;Fs.test(se);)++xe;return xe}(se):mf(se)}function bo(se){return wa(se)?function Iu(se){return se.match(Fs)||[]}(se):function Gh(se){return se.split("")}(se)}function Xc(se){for(var xe=se.length;xe--&&Yi.test(se.charAt(xe)););return xe}var Yh=yf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Qc=function se(xe){var c,me=(xe=null==xe?Ri:Qc.defaults(Ri.Object(),xe,Qc.pick(Ri,Gm))).Array,ut=xe.Date,Xt=xe.Error,Ln=xe.Function,Jr=xe.Math,Qn=xe.Object,Jc=xe.RegExp,ed=xe.String,Do=xe.TypeError,td=me.prototype,Tu=Qn.prototype,Vs=xe["__core-js_shared__"],nd=Ln.prototype.toString,Gn=Tu.hasOwnProperty,Zg=0,Fo=(c=/[^.]+$/.exec(Vs&&Vs.keys&&Vs.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",kl=Tu.toString,ep=nd.call(Qn),Ht=Ri._,Qi=Jc("^"+nd.call(Gn).replace(ga,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bn=jh?xe.Buffer:B,vr=xe.Symbol,Fr=xe.Uint8Array,$s=bn?bn.allocUnsafe:B,ei=Da(Qn.getPrototypeOf,Qn),bf=Qn.create,rd=Tu.propertyIsEnumerable,cs=td.splice,Df=vr?vr.isConcatSpreadable:B,Au=vr?vr.iterator:B,En=vr?vr.toStringTag:B,ct=function(){try{var c=ra(Qn,"defineProperty");return c({},"",{}),c}catch{}}(),Qt=xe.clearTimeout!==Ri.clearTimeout&&xe.clearTimeout,lr=ut&&ut.now!==Ri.Date.now&&ut.now,Lo=xe.setTimeout!==Ri.setTimeout&&xe.setTimeout,ds=Jr.ceil,mr=Jr.floor,Ca=Qn.getOwnPropertySymbols,Jn=bn?bn.isBuffer:B,Ua=xe.isFinite,Ru=td.join,Kt=Da(Qn.keys,Qn),Ot=Jr.max,Di=Jr.min,za=ut.now,Rt=xe.parseInt,Rn=Jr.random,pt=td.reverse,Ji=ra(xe,"DataView"),ja=ra(xe,"Map"),id=ra(xe,"Promise"),Co=ra(xe,"Set"),ui=ra(xe,"WeakMap"),Pi=ra(Qn,"create"),Ea=ui&&new ui,nn={},Km=Cs(Ji),Cf=Cs(ja),tp=Cs(id),_a=Cs(Co),Fl=Cs(ui),Ga=vr?vr.prototype:B,qa=Ga?Ga.valueOf:B,Br=Ga?Ga.toString:B;function H(c){if(Tt(c)&&!je(c)&&!(c instanceof on)){if(c instanceof eo)return c;if(Gn.call(c,"__wrapped__"))return Qs(c)}return new eo(c)}var dn=function(){function c(){}return function(g){if(!st(g))return{};if(bf)return bf(g);c.prototype=g;var C=new c;return c.prototype=B,C}}();function rn(){}function eo(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=B}function on(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=co,this.__views__=[]}function to(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function fs(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function Eo(c){var g=-1,C=null==c?0:c.length;for(this.clear();++g<C;){var T=c[g];this.set(T[0],T[1])}}function _o(c){var g=-1,C=null==c?0:c.length;for(this.__data__=new Eo;++g<C;)this.add(c[g])}function Vr(c){var g=this.__data__=new fs(c);this.size=g.size}function Nu(c,g){var C=je(c),T=!C&&Xe(c),F=!C&&!T&&qt(c),z=!C&&!T&&!F&&aa(c),J=C||T||F||z,ie=J?Wc(c.length,ed):[],le=ie.length;for(var Oe in c)(g||Gn.call(c,Oe))&&(!J||!("length"==Oe||F&&("offset"==Oe||"parent"==Oe)||z&&("buffer"==Oe||"byteLength"==Oe||"byteOffset"==Oe)||ia(Oe,le)))&&ie.push(Oe);return ie}function no(c){var g=c.length;return g?c[Wl(0,g-1)]:B}function xf(c,g){return oa(Hr(c),ps(g,0,c.length))}function Pu(c){return oa(Hr(c))}function Bl(c,g,C){(C!==B&&!_t(c[g],C)||C===B&&!(g in c))&&Ma(c,g,C)}function Us(c,g,C){var T=c[g];(!Gn.call(c,g)||!_t(T,C)||C===B&&!(g in c))&&Ma(c,g,C)}function Ou(c,g){for(var C=c.length;C--;)if(_t(c[C][0],g))return C;return-1}function ku(c,g,C,T){return js(c,function(F,z,J){g(T,F,C(F),J)}),T}function hs(c,g){return c&&Ui(g,ki(g),c)}function Ma(c,g,C){"__proto__"==g&&ct?ct(c,g,{configurable:!0,enumerable:!0,value:C,writable:!0}):c[g]=C}function ud(c,g){for(var C=-1,T=g.length,F=me(T),z=null==c;++C<T;)F[C]=z?B:dy(c,g[C]);return F}function ps(c,g,C){return c==c&&(C!==B&&(c=c<=C?c:C),g!==B&&(c=c>=g?c:g)),c}function Vi(c,g,C,T,F,z){var J,ie=1&g,le=2&g,Oe=4&g;if(C&&(J=F?C(c,T,F,z):C(c)),J!==B)return J;if(!st(c))return c;var ke=je(c);if(ke){if(J=function Sp(c){var g=c.length,C=new c.constructor(g);return g&&"string"==typeof c[0]&&Gn.call(c,"index")&&(C.index=c.index,C.input=c.input),C}(c),!ie)return Hr(c,J)}else{var qe=Lr(c),ft=qe==Sc||qe==hu;if(qt(c))return cr(c,ie);if(qe==ka||qe==ir||ft&&!F){if(J=le||ft?{}:ji(c),!ie)return le?function ov(c,g){return Ui(c,Jl(c),g)}(c,function sd(c,g){return c&&Ui(g,ao(g),c)}(J,c)):function Hu(c,g){return Ui(c,bs(c),g)}(c,hs(J,c))}else{if(!ur[qe])return F?c:{};J=function Hf(c,g,C){var T=c.constructor;switch(g){case It:return io(c);case en:case As:return new T(+c);case gu:return function vd(c,g){var C=g?io(c.buffer):c.buffer;return new c.constructor(C,c.byteOffset,c.byteLength)}(c,C);case pa:case Mc:case nf:case Ic:case rf:case Tc:case Ac:case Cl:case Rc:return _i(c,C);case fo:return new T;case Rs:case Ns:return new T(c);case pu:return function Mr(c){var g=new c.constructor(c.source,$n.exec(c));return g.lastIndex=c.lastIndex,g}(c);case Qo:return new T;case xc:return function Uo(c){return qa?Qn(qa.call(c)):{}}(c)}}(c,qe,ie)}}z||(z=new Vr);var St=z.get(c);if(St)return St;z.set(c,J),xi(c)?c.forEach(function(zt){J.add(Vi(zt,g,C,zt,c,z))}):Bn(c)&&c.forEach(function(zt,mn){J.set(mn,Vi(zt,g,C,mn,c,z))});var Cn=ke?B:(Oe?le?ju:Cp:le?ao:ki)(c);return Yn(Cn||c,function(zt,mn){Cn&&(zt=c[mn=zt]),Us(J,mn,Vi(zt,g,C,mn,c,z))}),J}function zs(c,g,C){var T=C.length;if(null==c)return!T;for(c=Qn(c);T--;){var F=C[T],J=c[F];if(J===B&&!(F in c)||!(0,g[F])(J))return!1}return!0}function Mf(c,g,C){if("function"!=typeof c)throw new Do(Se);return Ys(function(){c.apply(B,C)},g)}function ld(c,g,C,T){var F=-1,z=_u,J=!0,ie=c.length,le=[],Oe=g.length;if(!ie)return le;C&&(g=Xn(g,gt(C))),T?(z=Ni,J=!1):g.length>=200&&(z=dt,J=!1,g=new _o(g));e:for(;++F<ie;){var ke=c[F],qe=null==C?ke:C(ke);if(ke=T||0!==ke?ke:0,J&&qe==qe){for(var ft=Oe;ft--;)if(g[ft]===qe)continue e;le.push(ke)}else z(g,qe,T)||le.push(ke)}return le}H.templateSettings={escape:vu,evaluate:mu,interpolate:uf,variable:"",imports:{_:H}},(H.prototype=rn.prototype).constructor=H,(eo.prototype=dn(rn.prototype)).constructor=eo,(on.prototype=dn(rn.prototype)).constructor=on,to.prototype.clear=function Bo(){this.__data__=Pi?Pi(null):{},this.size=0},to.prototype.delete=function Ll(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g},to.prototype.get=function Ef(c){var g=this.__data__;if(Pi){var C=g[c];return C===vt?B:C}return Gn.call(g,c)?g[c]:B},to.prototype.has=function np(c){var g=this.__data__;return Pi?g[c]!==B:Gn.call(g,c)},to.prototype.set=function Kg(c,g){var C=this.__data__;return this.size+=this.has(c)?0:1,C[c]=Pi&&g===B?vt:g,this},fs.prototype.clear=function ad(){this.__data__=[],this.size=0},fs.prototype.delete=function Yg(c){var g=this.__data__,C=Ou(g,c);return!(C<0||(C==g.length-1?g.pop():cs.call(g,C,1),--this.size,0))},fs.prototype.get=function Ym(c){var g=this.__data__,C=Ou(g,c);return C<0?B:g[C][1]},fs.prototype.has=function _f(c){return Ou(this.__data__,c)>-1},fs.prototype.set=function rp(c,g){var C=this.__data__,T=Ou(C,c);return T<0?(++this.size,C.push([c,g])):C[T][1]=g,this},Eo.prototype.clear=function xa(){this.size=0,this.__data__={hash:new to,map:new(ja||fs),string:new to}},Eo.prototype.delete=function Xg(c){var g=$f(this,c).delete(c);return this.size-=g?1:0,g},Eo.prototype.get=function Qg(c){return $f(this,c).get(c)},Eo.prototype.has=function Jg(c){return $f(this,c).has(c)},Eo.prototype.set=function ip(c,g){var C=$f(this,c),T=C.size;return C.set(c,g),this.size+=C.size==T?0:1,this},_o.prototype.add=_o.prototype.push=function Hs(c){return this.__data__.set(c,vt),this},_o.prototype.has=function ea(c){return this.__data__.has(c)},Vr.prototype.clear=function So(){this.__data__=new fs,this.size=0},Vr.prototype.delete=function Vo(c){var g=this.__data__,C=g.delete(c);return this.size=g.size,C},Vr.prototype.get=function Sf(c){return this.__data__.get(c)},Vr.prototype.has=function op(c){return this.__data__.has(c)},Vr.prototype.set=function Ci(c,g){var C=this.__data__;if(C instanceof fs){var T=C.__data__;if(!ja||T.length<199)return T.push([c,g]),this.size=++C.size,this;C=this.__data__=new Eo(T)}return C.set(c,g),this.size=C.size,this};var js=md(Wa),ap=md(If,!0);function ev(c,g){var C=!0;return js(c,function(T,F,z){return C=!!g(T,F,z)}),C}function cd(c,g,C){for(var T=-1,F=c.length;++T<F;){var z=c[T],J=g(z);if(null!=J&&(ie===B?J==J&&!Gr(J):C(J,ie)))var ie=J,le=z}return le}function dd(c,g){var C=[];return js(c,function(T,F,z){g(T,F,z)&&C.push(T)}),C}function Cr(c,g,C,T,F){var z=-1,J=c.length;for(C||(C=zo),F||(F=[]);++z<J;){var ie=c[z];g>0&&C(ie)?g>1?Cr(ie,g-1,C,T,F):Oo(F,ie):T||(F[F.length]=ie)}return F}var Fu=yd(),$l=yd(!0);function Wa(c,g){return c&&Fu(c,g,ki)}function If(c,g){return c&&$l(c,g,ki)}function Hl(c,g){return An(g,function(C){return Ce(c[C])})}function gs(c,g){for(var C=0,T=(g=ro(g,c)).length;null!=c&&C<T;)c=c[Gi(g[C++])];return C&&C==T?c:B}function Lu(c,g,C){var T=g(c);return je(c)?T:Oo(T,C(c))}function xr(c){return null==c?c===B?"[object Undefined]":"[object Null]":En&&En in Qn(c)?function _p(c){var g=Gn.call(c,En),C=c[En];try{c[En]=B;var T=!0}catch{}var F=kl.call(c);return T&&(g?c[En]=C:delete c[En]),F}(c):function jf(c){return kl.call(c)}(c)}function fd(c,g){return c>g}function sp(c,g){return null!=c&&Gn.call(c,g)}function up(c,g){return null!=c&&g in Qn(c)}function Gs(c,g,C){for(var T=C?Ni:_u,F=c[0].length,z=c.length,J=z,ie=me(z),le=1/0,Oe=[];J--;){var ke=c[J];J&&g&&(ke=Xn(ke,gt(g))),le=Di(ke.length,le),ie[J]=!C&&(g||F>=120&&ke.length>=120)?new _o(J&&ke):B}ke=c[0];var qe=-1,ft=ie[0];e:for(;++qe<F&&Oe.length<le;){var St=ke[qe],Vt=g?g(St):St;if(St=C||0!==St?St:0,!(ft?dt(ft,Vt):T(Oe,Vt,C))){for(J=z;--J;){var Cn=ie[J];if(!(Cn?dt(Cn,Vt):T(c[J],Vt,C)))continue e}ft&&ft.push(Vt),Oe.push(St)}}return Oe}function Ul(c,g,C){var T=null==(c=Gf(c,g=ro(g,c)))?c:c[Gi(dr(g))];return null==T?B:kr(T,c,C)}function Nn(c){return Tt(c)&&xr(c)==ir}function vs(c,g,C,T,F){return c===g||(null==c||null==g||!Tt(c)&&!Tt(g)?c!=c&&g!=g:function nv(c,g,C,T,F,z){var J=je(c),ie=je(g),le=J?gr:Lr(c),Oe=ie?gr:Lr(g),ke=(le=le==ir?ka:le)==ka,qe=(Oe=Oe==ir?ka:Oe)==ka,ft=le==Oe;if(ft&&qt(c)){if(!qt(g))return!1;J=!0,ke=!1}if(ft&&!ke)return z||(z=new Vr),J||aa(c)?Dp(c,g,C,T,F,z):function zu(c,g,C,T,F,z,J){switch(C){case gu:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case It:return!(c.byteLength!=g.byteLength||!z(new Fr(c),new Fr(g)));case en:case As:case Rs:return _t(+c,+g);case fu:return c.name==g.name&&c.message==g.message;case pu:case Ns:return c==g+"";case fo:var ie=vn;case Qo:if(ie||(ie=Mu),c.size!=g.size&&!(1&T))return!1;var Oe=J.get(c);if(Oe)return Oe==g;T|=2,J.set(c,g);var ke=Dp(ie(c),ie(g),T,F,z,J);return J.delete(c),ke;case xc:if(qa)return qa.call(c)==qa.call(g)}return!1}(c,g,le,C,T,F,z);if(!(1&C)){var St=ke&&Gn.call(c,"__wrapped__"),Vt=qe&&Gn.call(g,"__wrapped__");if(St||Vt){var Cn=St?c.value():c,zt=Vt?g.value():g;return z||(z=new Vr),F(Cn,zt,C,T,z)}}return!!ft&&(z||(z=new Vr),function Ql(c,g,C,T,F,z){var J=1&C,ie=Cp(c),le=ie.length;if(le!=Cp(g).length&&!J)return!1;for(var qe=le;qe--;){var ft=ie[qe];if(!(J?ft in g:Gn.call(g,ft)))return!1}var St=z.get(c),Vt=z.get(g);if(St&&Vt)return St==g&&Vt==c;var Cn=!0;z.set(c,g),z.set(g,c);for(var zt=J;++qe<le;){var mn=c[ft=ie[qe]],On=g[ft];if(T)var Fi=J?T(On,mn,ft,g,c,z):T(mn,On,ft,c,g,z);if(!(Fi===B?mn===On||F(mn,On,C,T,z):Fi)){Cn=!1;break}zt||(zt="constructor"==ft)}if(Cn&&!zt){var fr=c.constructor,la=g.constructor;fr!=la&&"constructor"in c&&"constructor"in g&&!("function"==typeof fr&&fr instanceof fr&&"function"==typeof la&&la instanceof la)&&(Cn=!1)}return z.delete(c),z.delete(g),Cn}(c,g,C,T,F,z))}(c,g,C,T,vs,F))}function qs(c,g,C,T){var F=C.length,z=F,J=!T;if(null==c)return!z;for(c=Qn(c);F--;){var ie=C[F];if(J&&ie[2]?ie[1]!==c[ie[0]]:!(ie[0]in c))return!1}for(;++F<z;){var le=(ie=C[F])[0],Oe=c[le],ke=ie[1];if(J&&ie[2]){if(Oe===B&&!(le in c))return!1}else{var qe=new Vr;if(T)var ft=T(Oe,ke,le,c,g,qe);if(!(ft===B?vs(ke,Oe,3,T,qe):ft))return!1}}return!0}function Af(c){return!(!st(c)||function Uf(c){return!!Fo&&Fo in c}(c))&&(Ce(c)?Qi:yu).test(Cs(c))}function zl(c){return"function"==typeof c?c:null==c?so:"object"==typeof c?je(c)?dp(c[0],c[1]):$i(c):Sw(c)}function Vu(c){if(!Ya(c))return Kt(c);var g=[];for(var C in Qn(c))Gn.call(c,C)&&"constructor"!=C&&g.push(C);return g}function jl(c,g){return c<g}function Gl(c,g){var C=-1,T=Ye(c)?me(c.length):[];return js(c,function(F,z,J){T[++C]=g(F,z,J)}),T}function $i(c){var g=Wu(c);return 1==g.length&&g[0][2]?Ku(g[0][0],g[0][1]):function(C){return C===c||qs(C,c,g)}}function dp(c,g){return tc(c)&&zf(g)?Ku(Gi(c),g):function(C){var T=dy(C,c);return T===B&&T===g?Hp(C,c):vs(g,T,3)}}function Ho(c,g,C,T,F){c!==g&&Fu(g,function(z,J){if(F||(F=new Vr),st(z))!function Ws(c,g,C,T,F,z,J){var ie=ic(c,C),le=ic(g,C),Oe=J.get(le);if(Oe)Bl(c,C,Oe);else{var ke=z?z(ie,le,C+"",c,g,J):B,qe=ke===B;if(qe){var ft=je(le),St=!ft&&qt(le),Vt=!ft&&!St&&aa(le);ke=le,ft||St||Vt?je(ie)?ke=ie:nt(ie)?ke=Hr(ie):St?(qe=!1,ke=cr(le,!0)):Vt?(qe=!1,ke=_i(le,!0)):ke=[]:Si(le)||Xe(le)?(ke=ie,Xe(ie)?ke=Fp(ie):(!st(ie)||Ce(ie))&&(ke=ji(le))):qe=!1}qe&&(J.set(le,ke),F(ke,le,T,z,J),J.delete(le)),Bl(c,C,ke)}}(c,g,J,C,Ho,T,F);else{var ie=T?T(ic(c,J),z,J+"",c,g,F):B;ie===B&&(ie=z),Bl(c,J,ie)}},ao)}function ti(c,g){var C=c.length;if(C)return ia(g+=g<0?C:0,C)?c[g]:B}function Ei(c,g,C){g=g.length?Xn(g,function(z){return je(z)?function(J){return gs(J,1===z.length?z[0]:z)}:z}):[so];var T=-1;return g=Xn(g,gt(Ft())),function Wh(se,xe){var me=se.length;for(se.sort(xe);me--;)se[me]=se[me].value;return se}(Gl(c,function(z,J,ie){return{criteria:Xn(g,function(Oe){return Oe(z)}),index:++T,value:z}}),function(z,J){return function iv(c,g,C){for(var T=-1,F=c.criteria,z=g.criteria,J=F.length,ie=C.length;++T<J;){var le=hi(F[T],z[T]);if(le)return T>=ie?le:le*("desc"==C[T]?-1:1)}return c.index-g.index}(z,J,C)})}function Rf(c,g,C){for(var T=-1,F=g.length,z={};++T<F;){var J=g[T],ie=gs(c,J);C(ie,J)&&Wn(z,ro(J,c),ie)}return z}function ql(c,g,C,T){var F=T?Su:ma,z=-1,J=g.length,ie=c;for(c===g&&(g=Hr(g)),C&&(ie=Xn(c,gt(C)));++z<J;)for(var le=0,Oe=g[z],ke=C?C(Oe):Oe;(le=F(ie,ke,le,T))>-1;)ie!==c&&cs.call(ie,le,1),cs.call(c,le,1);return c}function Nf(c,g){for(var C=c?g.length:0,T=C-1;C--;){var F=g[C];if(C==T||F!==z){var z=F;ia(F)?cs.call(c,F,1):Dn(c,F)}}return c}function Wl(c,g){return c+mr(Rn()*(g-c+1))}function qn(c,g){var C="";if(!c||g<1||g>Oa)return C;do{g%2&&(C+=c),(g=mr(g/2))&&(c+=c)}while(g);return C}function hn(c,g){return xd(Xu(c,g,so),c+"")}function Ut(c){return no(lc(c))}function hp(c,g){var C=lc(c);return oa(C,ps(g,0,C.length))}function Wn(c,g,C,T){if(!st(c))return c;for(var F=-1,z=(g=ro(g,c)).length,J=z-1,ie=c;null!=ie&&++F<z;){var le=Gi(g[F]),Oe=C;if("__proto__"===le||"constructor"===le||"prototype"===le)return c;if(F!=J){var ke=ie[le];(Oe=T?T(ke,le,ie):B)===B&&(Oe=st(ke)?ke:ia(g[F+1])?[]:{})}Us(ie,le,Oe),ie=ie[le]}return c}var Zl=Ea?function(c,g){return Ea.set(c,g),c}:so,pp=ct?function(c,g){return ct(c,"toString",{configurable:!0,enumerable:!1,value:ch(g),writable:!0})}:so;function gp(c){return oa(lc(c))}function di(c,g,C){var T=-1,F=c.length;g<0&&(g=-g>F?0:F+g),(C=C>F?F:C)<0&&(C+=F),F=g>C?0:C-g>>>0,g>>>=0;for(var z=me(F);++T<F;)z[T]=c[T+g];return z}function $u(c,g){var C;return js(c,function(T,F,z){return!(C=g(T,F,z))}),!!C}function ms(c,g,C){var T=0,F=null==c?T:c.length;if("number"==typeof g&&g==g&&F<=2147483647){for(;T<F;){var z=T+F>>>1,J=c[z];null!==J&&!Gr(J)&&(C?J<=g:J<g)?T=z+1:F=z}return F}return Pf(c,g,so,C)}function Pf(c,g,C,T){var F=0,z=null==c?0:c.length;if(0===z)return 0;for(var J=(g=C(g))!=g,ie=null===g,le=Gr(g),Oe=g===B;F<z;){var ke=mr((F+z)/2),qe=C(c[ke]),ft=qe!==B,St=null===qe,Vt=qe==qe,Cn=Gr(qe);if(J)var zt=T||Vt;else zt=Oe?Vt&&(T||ft):ie?Vt&&ft&&(T||!St):le?Vt&&ft&&!St&&(T||!Cn):!St&&!Cn&&(T?qe<=g:qe<g);zt?F=ke+1:z=ke}return Di(z,4294967294)}function Of(c,g){for(var C=-1,T=c.length,F=0,z=[];++C<T;){var J=c[C],ie=g?g(J):J;if(!C||!_t(ie,le)){var le=ie;z[F++]=0===J?0:J}}return z}function vp(c){return"number"==typeof c?c:Gr(c)?NaN:+c}function xo(c){if("string"==typeof c)return c;if(je(c))return Xn(c,xo)+"";if(Gr(c))return Br?Br.call(c):"";var g=c+"";return"0"==g&&1/c==-Ct?"-0":g}function Te(c,g,C){var T=-1,F=_u,z=c.length,J=!0,ie=[],le=ie;if(C)J=!1,F=Ni;else if(z>=200){var Oe=g?null:Ed(c);if(Oe)return Mu(Oe);J=!1,F=dt,le=new _o}else le=g?[]:ie;e:for(;++T<z;){var ke=c[T],qe=g?g(ke):ke;if(ke=C||0!==ke?ke:0,J&&qe==qe){for(var ft=le.length;ft--;)if(le[ft]===qe)continue e;g&&le.push(qe),ie.push(ke)}else F(le,qe,C)||(le!==ie&&le.push(qe),ie.push(ke))}return ie}function Dn(c,g){return null==(c=Gf(c,g=ro(g,c)))||delete c[Gi(dr(g))]}function pd(c,g,C,T){return Wn(c,g,C(gs(c,g)),T)}function Zs(c,g,C,T){for(var F=c.length,z=T?F:-1;(T?z--:++z<F)&&g(c[z],z,c););return C?di(c,T?0:z,T?z+1:F):di(c,T?z+1:0,T?F:z)}function fi(c,g){var C=c;return C instanceof on&&(C=C.value()),as(g,function(T,F){return F.func.apply(F.thisArg,Oo([T],F.args))},C)}function gd(c,g,C){var T=c.length;if(T<2)return T?Te(c[0]):[];for(var F=-1,z=me(T);++F<T;)for(var J=c[F],ie=-1;++ie<T;)ie!=F&&(z[F]=ld(z[F]||J,c[ie],g,C));return Te(Cr(z,1),g,C)}function ys(c,g,C){for(var T=-1,F=c.length,z=g.length,J={};++T<F;)C(J,c[T],T<z?g[T]:B);return J}function Hi(c){return nt(c)?c:[]}function $r(c){return"function"==typeof c?c:so}function ro(c,g){return je(c)?c:tc(c,g)?[c]:Xs(Pn(c))}var rv=hn;function ta(c,g,C){var T=c.length;return C=C===B?T:C,!g&&C>=T?c:di(c,g,C)}var Kl=Qt||function(c){return Ri.clearTimeout(c)};function cr(c,g){if(g)return c.slice();var C=c.length,T=$s?$s(C):new c.constructor(C);return c.copy(T),T}function io(c){var g=new c.constructor(c.byteLength);return new Fr(g).set(new Fr(c)),g}function _i(c,g){var C=g?io(c.buffer):c.buffer;return new c.constructor(C,c.byteOffset,c.length)}function hi(c,g){if(c!==g){var C=c!==B,T=null===c,F=c==c,z=Gr(c),J=g!==B,ie=null===g,le=g==g,Oe=Gr(g);if(!ie&&!Oe&&!z&&c>g||z&&J&&le&&!ie&&!Oe||T&&J&&le||!C&&le||!F)return 1;if(!T&&!z&&!Oe&&c<g||Oe&&C&&F&&!T&&!z||ie&&C&&F||!J&&F||!le)return-1}return 0}function mp(c,g,C,T){for(var F=-1,z=c.length,J=C.length,ie=-1,le=g.length,Oe=Ot(z-J,0),ke=me(le+Oe),qe=!T;++ie<le;)ke[ie]=g[ie];for(;++F<J;)(qe||F<z)&&(ke[C[F]]=c[F]);for(;Oe--;)ke[ie++]=c[F++];return ke}function Ia(c,g,C,T){for(var F=-1,z=c.length,J=-1,ie=C.length,le=-1,Oe=g.length,ke=Ot(z-ie,0),qe=me(ke+Oe),ft=!T;++F<ke;)qe[F]=c[F];for(var St=F;++le<Oe;)qe[St+le]=g[le];for(;++J<ie;)(ft||F<z)&&(qe[St+C[J]]=c[F++]);return qe}function Hr(c,g){var C=-1,T=c.length;for(g||(g=me(T));++C<T;)g[C]=c[C];return g}function Ui(c,g,C,T){var F=!C;C||(C={});for(var z=-1,J=g.length;++z<J;){var ie=g[z],le=T?T(C[ie],c[ie],ie,C,c):B;le===B&&(le=c[ie]),F?Ma(C,ie,le):Us(C,ie,le)}return C}function Yl(c,g){return function(C,T){var F=je(C)?Eu:ku,z=g?g():{};return F(C,c,Ft(T,2),z)}}function Mo(c){return hn(function(g,C){var T=-1,F=C.length,z=F>1?C[F-1]:B,J=F>2?C[2]:B;for(z=c.length>3&&"function"==typeof z?(F--,z):B,J&&ni(C[0],C[1],J)&&(z=F<3?B:z,F=1),g=Qn(g);++T<F;){var ie=C[T];ie&&c(g,ie,T,z)}return g})}function md(c,g){return function(C,T){if(null==C)return C;if(!Ye(C))return c(C,T);for(var F=C.length,z=g?F:-1,J=Qn(C);(g?z--:++z<F)&&!1!==T(J[z],z,J););return C}}function yd(c){return function(g,C,T){for(var F=-1,z=Qn(g),J=T(g),ie=J.length;ie--;){var le=J[c?ie:++F];if(!1===C(z[le],le,z))break}return g}}function wd(c){return function(g){var C=wa(g=Pn(g))?bo(g):B,T=C?C[0]:g.charAt(0),F=C?ta(C,1).join(""):g.slice(1);return T[c]()+F}}function ws(c){return function(g){return as(fl(gy(g).replace(jm,"")),c,"")}}function Uu(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var C=dn(c.prototype),T=c.apply(C,g);return st(T)?T:C}}function Oi(c){return function(g,C,T){var F=Qn(g);if(!Ye(g)){var z=Ft(C,3);g=ki(g),C=function(ie){return z(F[ie],ie,F)}}var J=c(g,C,T);return J>-1?F[z?g[J]:J]:B}}function na(c){return Ta(function(g){var C=g.length,T=C,F=eo.prototype.thru;for(c&&g.reverse();T--;){var z=g[T];if("function"!=typeof z)throw new Do(Se);if(F&&!J&&"wrapper"==Gu(z))var J=new eo([],!0)}for(T=J?T:C;++T<C;){var ie=Gu(z=g[T]),le="wrapper"==ie?Ep(z):B;J=le&&nc(le[0])&&424==le[1]&&!le[4].length&&1==le[9]?J[Gu(le[0])].apply(J,le[3]):1==z.length&&nc(z)?J[ie]():J.thru(z)}return function(){var Oe=arguments,ke=Oe[0];if(J&&1==Oe.length&&je(ke))return J.plant(ke).value();for(var qe=0,ft=C?g[qe].apply(this,Oe):ke;++qe<C;)ft=g[qe].call(this,ft);return ft}})}function ar(c,g,C,T,F,z,J,ie,le,Oe){var ke=128&g,qe=1&g,ft=2&g,St=24&g,Vt=512&g,Cn=ft?B:Uu(c);return function zt(){for(var mn=arguments.length,On=me(mn),Fi=mn;Fi--;)On[Fi]=arguments[Fi];if(St)var fr=qu(zt),la=function xu(se,xe){for(var me=se.length,ut=0;me--;)se[me]===xe&&++ut;return ut}(On,fr);if(T&&(On=mp(On,T,F,St)),z&&(On=Ia(On,z,J,St)),mn-=la,St&&mn<Oe){var qr=wo(On,fr);return Ka(c,g,ar,zt.placeholder,C,On,qr,ie,le,Oe-mn)}var Ii=qe?C:this,ru=ft?Ii[c]:c;return mn=On.length,ie?On=function Ur(c,g){for(var C=c.length,T=Di(g.length,C),F=Hr(c);T--;){var z=g[T];c[T]=ia(z,C)?F[z]:B}return c}(On,ie):Vt&&mn>1&&On.reverse(),ke&&le<mn&&(On.length=le),this&&this!==Ri&&this instanceof zt&&(ru=Cn||Uu(ru)),ru.apply(Ii,On)}}function wp(c,g){return function(C,T){return function lp(c,g,C,T){return Wa(c,function(F,z,J){g(T,C(F),z,J)}),T}(C,c,g(T),{})}}function bd(c,g){return function(C,T){var F;if(C===B&&T===B)return g;if(C!==B&&(F=C),T!==B){if(F===B)return T;"string"==typeof C||"string"==typeof T?(C=xo(C),T=xo(T)):(C=vp(C),T=vp(T)),F=c(C,T)}return F}}function Ff(c){return Ta(function(g){return g=Xn(g,gt(Ft())),hn(function(C){var T=this;return c(g,function(F){return kr(F,T,C)})})})}function Dd(c,g){var C=(g=g===B?" ":xo(g)).length;if(C<2)return C?qn(g,c):g;var T=qn(g,ds(c/ls(g)));return wa(g)?ta(bo(T),0,c).join(""):T.slice(0,c)}function Bf(c){return function(g,C,T){return T&&"number"!=typeof T&&ni(g,C,T)&&(C=T=B),g=Ir(g),C===B?(C=g,g=0):C=Ir(C),function ci(c,g,C,T){for(var F=-1,z=Ot(ds((g-c)/(C||1)),0),J=me(z);z--;)J[T?z:++F]=c,c+=C;return J}(g,C,T=T===B?g<C?1:-1:Ir(T),c)}}function Ks(c){return function(g,C){return"string"==typeof g&&"string"==typeof C||(g=Wi(g),C=Wi(C)),c(g,C)}}function Ka(c,g,C,T,F,z,J,ie,le,Oe){var ke=8&g;g|=ke?32:64,4&(g&=~(ke?64:32))||(g&=-4);var Cn=[c,g,F,ke?z:B,ke?J:B,ke?B:z,ke?B:J,ie,le,Oe],zt=C.apply(B,Cn);return nc(c)&&ri(zt,Cn),zt.placeholder=T,Qu(zt,c,g)}function Cd(c){var g=Jr[c];return function(C,T){if(C=Wi(C),(T=null==T?0:Di(tn(T),292))&&Ua(C)){var F=(Pn(C)+"e").split("e");return+((F=(Pn(g(F[0]+"e"+(+F[1]+T)))+"e").split("e"))[0]+"e"+(+F[1]-T))}return g(C)}}var Ed=Co&&1/Mu(new Co([,-0]))[1]==Ct?function(c){return new Co(c)}:dh;function Xl(c){return function(g){var C=Lr(g);return C==fo?vn(g):C==Qo?function Yc(se){var xe=-1,me=Array(se.size);return se.forEach(function(ut){me[++xe]=[ut,ut]}),me}(g):function us(se,xe){return Xn(xe,function(me){return[me,se[me]]})}(g,c(g))}}function zi(c,g,C,T,F,z,J,ie){var le=2&g;if(!le&&"function"!=typeof c)throw new Do(Se);var Oe=T?T.length:0;if(Oe||(g&=-97,T=F=B),J=J===B?J:Ot(tn(J),0),ie=ie===B?ie:tn(ie),Oe-=F?F.length:0,64&g){var ke=T,qe=F;T=F=B}var ft=le?B:Ep(c),St=[c,g,C,T,F,ke,qe,z,J,ie];if(ft&&function Xa(c,g){var C=c[1],T=g[1],F=C|T;if(!(F<131)&&!(128==T&&8==C||128==T&&256==C&&c[7].length<=g[8]||384==T&&g[7].length<=g[8]&&8==C))return c;1&T&&(c[2]=g[2],F|=1&C?0:4);var ie=g[3];if(ie){var le=c[3];c[3]=le?mp(le,ie,g[4]):ie,c[4]=le?wo(c[3],bt):g[4]}(ie=g[5])&&(c[5]=(le=c[5])?Ia(le,ie,g[6]):ie,c[6]=le?wo(c[5],bt):g[6]),(ie=g[7])&&(c[7]=ie),128&T&&(c[8]=null==c[8]?g[8]:Di(c[8],g[8])),null==c[9]&&(c[9]=g[9]),c[0]=g[0],c[1]=F}(St,ft),c=St[0],g=St[1],C=St[2],T=St[3],F=St[4],!(ie=St[9]=St[9]===B?le?0:c.length:Ot(St[9]-Oe,0))&&24&g&&(g&=-25),g&&1!=g)Vt=8==g||16==g?function kf(c,g,C){var T=Uu(c);return function F(){for(var z=arguments.length,J=me(z),ie=z,le=qu(F);ie--;)J[ie]=arguments[ie];var Oe=z<3&&J[0]!==le&&J[z-1]!==le?[]:wo(J,le);return(z-=Oe.length)<C?Ka(c,g,ar,F.placeholder,B,J,Oe,B,B,C-z):kr(this&&this!==Ri&&this instanceof F?T:c,this,J)}}(c,g,ie):32!=g&&33!=g||F.length?ar.apply(B,St):function Lf(c,g,C,T){var F=1&g,z=Uu(c);return function J(){for(var ie=-1,le=arguments.length,Oe=-1,ke=T.length,qe=me(ke+le),ft=this&&this!==Ri&&this instanceof J?z:c;++Oe<ke;)qe[Oe]=T[Oe];for(;le--;)qe[Oe++]=arguments[++ie];return kr(ft,F?C:this,qe)}}(c,g,C,T);else var Vt=function yp(c,g,C){var T=1&g,F=Uu(c);return function z(){return(this&&this!==Ri&&this instanceof z?F:c).apply(T?C:this,arguments)}}(c,g,C);return Qu((ft?Zl:ri)(Vt,St),c,g)}function _d(c,g,C,T){return c===B||_t(c,Tu[C])&&!Gn.call(T,C)?g:c}function Vf(c,g,C,T,F,z){return st(c)&&st(g)&&(z.set(g,c),Ho(c,g,B,Vf,z),z.delete(g)),c}function bp(c){return Si(c)?B:c}function Dp(c,g,C,T,F,z){var J=1&C,ie=c.length,le=g.length;if(ie!=le&&!(J&&le>ie))return!1;var Oe=z.get(c),ke=z.get(g);if(Oe&&ke)return Oe==g&&ke==c;var qe=-1,ft=!0,St=2&C?new _o:B;for(z.set(c,g),z.set(g,c);++qe<ie;){var Vt=c[qe],Cn=g[qe];if(T)var zt=J?T(Cn,Vt,qe,g,c,z):T(Vt,Cn,qe,c,g,z);if(zt!==B){if(zt)continue;ft=!1;break}if(St){if(!Gc(g,function(mn,On){if(!dt(St,On)&&(Vt===mn||F(Vt,mn,C,T,z)))return St.push(On)})){ft=!1;break}}else if(Vt!==Cn&&!F(Vt,Cn,C,T,z)){ft=!1;break}}return z.delete(c),z.delete(g),ft}function Ta(c){return xd(Xu(c,B,tl),c+"")}function Cp(c){return Lu(c,ki,bs)}function ju(c){return Lu(c,ao,Jl)}var Ep=Ea?function(c){return Ea.get(c)}:dh;function Gu(c){for(var g=c.name+"",C=nn[g],T=Gn.call(nn,g)?C.length:0;T--;){var F=C[T],z=F.func;if(null==z||z==c)return F.name}return g}function qu(c){return(Gn.call(H,"placeholder")?H:c).placeholder}function Ft(){var c=H.iteratee||kv;return c=c===kv?zl:c,arguments.length?c(arguments[0],arguments[1]):c}function $f(c,g){var C=c.__data__;return function xp(c){var g=typeof c;return"string"==g||"number"==g||"symbol"==g||"boolean"==g?"__proto__"!==c:null===c}(g)?C["string"==typeof g?"string":"hash"]:C.map}function Wu(c){for(var g=ki(c),C=g.length;C--;){var T=g[C],F=c[T];g[C]=[T,F,zf(F)]}return g}function ra(c,g){var C=function ya(se,xe){return null==se?B:se[xe]}(c,g);return Af(C)?C:B}var bs=Ca?function(c){return null==c?[]:(c=Qn(c),An(Ca(c),function(g){return rd.call(c,g)}))}:Iy,Jl=Ca?function(c){for(var g=[];c;)Oo(g,bs(c)),c=ei(c);return g}:Iy,Lr=xr;function pi(c,g,C){for(var T=-1,F=(g=ro(g,c)).length,z=!1;++T<F;){var J=Gi(g[T]);if(!(z=null!=c&&C(c,J)))break;c=c[J]}return z||++T!=F?z:!!(F=null==c?0:c.length)&&$e(F)&&ia(J,F)&&(je(c)||Xe(c))}function ji(c){return"function"!=typeof c.constructor||Ya(c)?{}:dn(ei(c))}function zo(c){return je(c)||Xe(c)||!!(Df&&c&&c[Df])}function ia(c,g){var C=typeof c;return!!(g=g??Oa)&&("number"==C||"symbol"!=C&&zm.test(c))&&c>-1&&c%1==0&&c<g}function ni(c,g,C){if(!st(C))return!1;var T=typeof g;return!!("number"==T?Ye(C)&&ia(g,C.length):"string"==T&&g in C)&&_t(C[g],c)}function tc(c,g){if(je(c))return!1;var C=typeof c;return!("number"!=C&&"symbol"!=C&&"boolean"!=C&&null!=c&&!Gr(c))||Oc.test(c)||!La.test(c)||null!=g&&c in Qn(g)}function nc(c){var g=Gu(c),C=H[g];if("function"!=typeof C||!(g in on.prototype))return!1;if(c===C)return!0;var T=Ep(C);return!!T&&c===T[0]}(Ji&&Lr(new Ji(new ArrayBuffer(1)))!=gu||ja&&Lr(new ja)!=fo||id&&Lr(id.resolve())!=Kr||Co&&Lr(new Co)!=Qo||ui&&Lr(new ui)!=Ps)&&(Lr=function(c){var g=xr(c),C=g==ka?c.constructor:B,T=C?Cs(C):"";if(T)switch(T){case Km:return gu;case Cf:return fo;case tp:return Kr;case _a:return Qo;case Fl:return Ps}return g});var rc=Vs?Ce:Ty;function Ya(c){var g=c&&c.constructor;return c===("function"==typeof g&&g.prototype||Tu)}function zf(c){return c==c&&!st(c)}function Ku(c,g){return function(C){return null!=C&&C[c]===g&&(g!==B||c in Qn(C))}}function Xu(c,g,C){return g=Ot(g===B?c.length-1:g,0),function(){for(var T=arguments,F=-1,z=Ot(T.length-g,0),J=me(z);++F<z;)J[F]=T[g+F];F=-1;for(var ie=me(g+1);++F<g;)ie[F]=T[F];return ie[g]=C(J),kr(c,this,ie)}}function Gf(c,g){return g.length<2?c:gs(c,di(g,0,-1))}function ic(c,g){if(("constructor"!==g||"function"!=typeof c[g])&&"__proto__"!=g)return c[g]}var ri=Ds(Zl),Ys=Lo||function(c,g){return Ri.setTimeout(c,g)},xd=Ds(pp);function Qu(c,g,C){var T=g+"";return xd(c,function Sd(c,g){var C=g.length;if(!C)return c;var T=C-1;return g[T]=(C>1?"& ":"")+g[T],g=g.join(C>2?", ":" "),c.replace(Hg,"{\n/* [wrapped with "+g+"] */\n")}(T,function qf(c,g){return Yn(ef,function(C){var T="_."+C[0];g&C[1]&&!_u(c,T)&&c.push(T)}),c.sort()}(function ec(c){var g=c.match(Ug);return g?g[1].split(cf):[]}(T),C)))}function Ds(c){var g=0,C=0;return function(){var T=za(),F=16-(T-C);if(C=T,F>0){if(++g>=800)return arguments[0]}else g=0;return c.apply(B,arguments)}}function oa(c,g){var C=-1,T=c.length,F=T-1;for(g=g===B?T:g;++C<g;){var z=Wl(C,F),J=c[z];c[z]=c[C],c[C]=J}return c.length=g,c}var Xs=function jo(c){var g=K(c,function(T){return 500===C.size&&C.clear(),T}),C=g.cache;return g}(function(c){var g=[];return 46===c.charCodeAt(0)&&g.push(""),c.replace(Nh,function(C,T,F,z){g.push(F?z.replace(Oh,"$1"):T||C)}),g});function Gi(c){if("string"==typeof c||Gr(c))return c;var g=c+"";return"0"==g&&1/c==-Ct?"-0":g}function Cs(c){if(null!=c){try{return nd.call(c)}catch{}try{return c+""}catch{}}return""}function Qs(c){if(c instanceof on)return c.clone();var g=new eo(c.__wrapped__,c.__chain__);return g.__actions__=Hr(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}var ey=hn(function(c,g){return nt(c)?ld(c,Cr(g,1,nt,!0)):[]}),ty=hn(function(c,g){var C=dr(g);return nt(C)&&(C=B),nt(c)?ld(c,Cr(g,1,nt,!0),Ft(C,2)):[]}),ny=hn(function(c,g){var C=dr(g);return nt(C)&&(C=B),nt(c)?ld(c,Cr(g,1,nt,!0),B,C):[]});function yr(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var F=null==C?0:tn(C);return F<0&&(F=Ot(T+F,0)),qc(c,Ft(g,3),F)}function zr(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var F=T-1;return C!==B&&(F=tn(C),F=C<0?Ot(T+F,0):Di(F,T-1)),qc(c,Ft(g,3),F,!0)}function tl(c){return null!=c&&c.length?Cr(c,1):[]}function Wf(c){return c&&c.length?c[0]:B}var uv=hn(function(c){var g=Xn(c,Hi);return g.length&&g[0]===c[0]?Gs(g):[]}),oy=hn(function(c){var g=dr(c),C=Xn(c,Hi);return g===dr(C)?g=B:C.pop(),C.length&&C[0]===c[0]?Gs(C,Ft(g,2)):[]}),lv=hn(function(c){var g=dr(c),C=Xn(c,Hi);return(g="function"==typeof g?g:B)&&C.pop(),C.length&&C[0]===c[0]?Gs(C,B,g):[]});function dr(c){var g=null==c?0:c.length;return g?c[g-1]:B}var cv=hn(ii);function ii(c,g){return c&&c.length&&g&&g.length?ql(c,g):c}var Ip=Ta(function(c,g){var C=null==c?0:c.length,T=ud(c,g);return Nf(c,Xn(g,function(F){return ia(F,C)?+F:F}).sort(hi)),T});function Kf(c){return null==c?c:pt.call(c)}var Go=hn(function(c){return Te(Cr(c,1,nt,!0))}),sc=hn(function(c){var g=dr(c);return nt(g)&&(g=B),Te(Cr(c,1,nt,!0),Ft(g,2))}),ol=hn(function(c){var g=dr(c);return g="function"==typeof g?g:B,Te(Cr(c,1,nt,!0),B,g)});function Qa(c){if(!c||!c.length)return[];var g=0;return c=An(c,function(C){if(nt(C))return g=Ot(C.length,g),!0}),Wc(g,function(C){return Xn(c,Pl(C))})}function Qf(c,g){if(!c||!c.length)return[];var C=Qa(c);return null==g?C:Xn(C,function(T){return kr(g,B,T)})}var Np=hn(function(c,g){return nt(c)?ld(c,g):[]}),Jf=hn(function(c){return gd(An(c,nt))}),al=hn(function(c){var g=dr(c);return nt(g)&&(g=B),gd(An(c,nt),Ft(g,2))}),eh=hn(function(c){var g=dr(c);return g="function"==typeof g?g:B,gd(An(c,nt),B,g)}),sl=hn(Qa),th=hn(function(c){var g=c.length,C=g>1?c[g-1]:B;return C="function"==typeof C?(c.pop(),C):B,Qf(c,C)});function Pp(c){var g=H(c);return g.__chain__=!0,g}function Rd(c,g){return g(c)}var Sn=Ta(function(c){var g=c.length,C=g?c[0]:0,T=this.__wrapped__,F=function(z){return ud(z,c)};return!(g>1||this.__actions__.length)&&T instanceof on&&ia(C)?((T=T.slice(C,+C+(g?1:0))).__actions__.push({func:Rd,args:[F],thisArg:B}),new eo(T,this.__chain__).thru(function(z){return g&&!z.length&&z.push(B),z})):this.thru(F)}),Cv=Yl(function(c,g,C){Gn.call(c,C)?++c[C]:Ma(c,C,1)}),ll=Oi(yr),rh=Oi(zr);function s(c,g){return(je(c)?Yn:js)(c,Ft(g,3))}function i(c,g){return(je(c)?$a:ap)(c,Ft(g,3))}var a=Yl(function(c,g,C){Gn.call(c,C)?c[C].push(g):Ma(c,C,[g])}),f=hn(function(c,g,C){var T=-1,F="function"==typeof g,z=Ye(c)?me(c.length):[];return js(c,function(J){z[++T]=F?kr(g,J,C):Ul(J,g,C)}),z}),h=Yl(function(c,g,C){Ma(c,C,g)});function p(c,g){return(je(c)?Xn:Gl)(c,Ft(g,3))}var b=Yl(function(c,g,C){c[C?0:1].push(g)},function(){return[[],[]]}),N=hn(function(c,g){if(null==c)return[];var C=g.length;return C>1&&ni(c,g[0],g[1])?g=[]:C>2&&ni(g[0],g[1],g[2])&&(g=[g[0]]),Ei(c,Cr(g,1),[])}),O=lr||function(){return Ri.Date.now()};function V(c,g,C){return g=C?B:g,zi(c,128,B,B,B,B,g=c&&null==g?c.length:g)}function q(c,g){var C;if("function"!=typeof g)throw new Do(Se);return c=tn(c),function(){return--c>0&&(C=g.apply(this,arguments)),c<=1&&(g=B),C}}var Z=hn(function(c,g,C){var T=1;if(C.length){var F=wo(C,qu(Z));T|=32}return zi(c,T,g,C,F)}),$=hn(function(c,g,C){var T=3;if(C.length){var F=wo(C,qu($));T|=32}return zi(g,T,c,C,F)});function Y(c,g,C){var T,F,z,J,ie,le,Oe=0,ke=!1,qe=!1,ft=!0;if("function"!=typeof c)throw new Do(Se);function St(qr){var Ii=T,ru=F;return T=F=B,Oe=qr,J=c.apply(ru,Ii)}function zt(qr){var Ii=qr-le;return le===B||Ii>=g||Ii<0||qe&&qr-Oe>=z}function mn(){var qr=O();if(zt(qr))return On(qr);ie=Ys(mn,function Cn(qr){var Ry=g-(qr-le);return qe?Di(Ry,z-(qr-Oe)):Ry}(qr))}function On(qr){return ie=B,ft&&T?St(qr):(T=F=B,J)}function la(){var qr=O(),Ii=zt(qr);if(T=arguments,F=this,le=qr,Ii){if(ie===B)return function Vt(qr){return Oe=qr,ie=Ys(mn,g),ke?St(qr):J}(le);if(qe)return Kl(ie),ie=Ys(mn,g),St(le)}return ie===B&&(ie=Ys(mn,g)),J}return g=Wi(g)||0,st(C)&&(ke=!!C.leading,z=(qe="maxWait"in C)?Ot(Wi(C.maxWait)||0,g):z,ft="trailing"in C?!!C.trailing:ft),la.cancel=function Fi(){ie!==B&&Kl(ie),Oe=0,T=le=F=ie=B},la.flush=function fr(){return ie===B?J:On(O())},la}var X=hn(function(c,g){return Mf(c,1,g)}),j=hn(function(c,g,C){return Mf(c,Wi(g)||0,C)});function K(c,g){if("function"!=typeof c||null!=g&&"function"!=typeof g)throw new Do(Se);var C=function(){var T=arguments,F=g?g.apply(this,T):T[0],z=C.cache;if(z.has(F))return z.get(F);var J=c.apply(this,T);return C.cache=z.set(F,J)||z,J};return C.cache=new(K.Cache||Eo),C}function ue(c){if("function"!=typeof c)throw new Do(Se);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}K.Cache=Eo;var re=rv(function(c,g){var C=(g=1==g.length&&je(g[0])?Xn(g[0],gt(Ft())):Xn(Cr(g,1),gt(Ft()))).length;return hn(function(T){for(var F=-1,z=Di(T.length,C);++F<z;)T[F]=g[F].call(this,T[F]);return kr(c,this,T)})}),fe=hn(function(c,g){var C=wo(g,qu(fe));return zi(c,32,B,g,C)}),pe=hn(function(c,g){var C=wo(g,qu(pe));return zi(c,64,B,g,C)}),De=Ta(function(c,g){return zi(c,256,B,B,B,g)});function _t(c,g){return c===g||c!=c&&g!=g}var Jt=Ks(fd),at=Ks(function(c,g){return c>=g}),Xe=Nn(function(){return arguments}())?Nn:function(c){return Tt(c)&&Gn.call(c,"callee")&&!rd.call(c,"callee")},je=me.isArray,mt=si?gt(si):function $o(c){return Tt(c)&&xr(c)==It};function Ye(c){return null!=c&&$e(c.length)&&!Ce(c)}function nt(c){return Tt(c)&&Ye(c)}var qt=Jn||Ty,Nt=yo?gt(yo):function Tf(c){return Tt(c)&&xr(c)==As};function He(c){if(!Tt(c))return!1;var g=xr(c);return g==fu||"[object DOMException]"==g||"string"==typeof c.message&&"string"==typeof c.name&&!Si(c)}function Ce(c){if(!st(c))return!1;var g=xr(c);return g==Sc||g==hu||"[object AsyncFunction]"==g||"[object Proxy]"==g}function Yt(c){return"number"==typeof c&&c==tn(c)}function $e(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Oa}function st(c){var g=typeof c;return null!=c&&("object"==g||"function"==g)}function Tt(c){return null!=c&&"object"==typeof c}var Bn=zc?gt(zc):function cp(c){return Tt(c)&&Lr(c)==fo};function To(c){return"number"==typeof c||Tt(c)&&xr(c)==Rs}function Si(c){if(!Tt(c)||xr(c)!=ka)return!1;var g=ei(c);if(null===g)return!0;var C=Gn.call(g,"constructor")&&g.constructor;return"function"==typeof C&&C instanceof C&&nd.call(C)==ep}var Er=jc?gt(jc):function Bu(c){return Tt(c)&&xr(c)==pu},xi=vf?gt(vf):function hd(c){return Tt(c)&&Lr(c)==Qo};function Zo(c){return"string"==typeof c||!je(c)&&Tt(c)&&xr(c)==Ns}function Gr(c){return"symbol"==typeof c||Tt(c)&&xr(c)==xc}var aa=gn?gt(gn):function or(c){return Tt(c)&&$e(c.length)&&!!sr[xr(c)]},Ja=Ks(jl),oi=Ks(function(c,g){return c<=g});function Mi(c){if(!c)return[];if(Ye(c))return Zo(c)?bo(c):Hr(c);if(Au&&c[Au])return function ba(se){for(var xe,me=[];!(xe=se.next()).done;)me.push(xe.value);return me}(c[Au]());var g=Lr(c);return(g==fo?vn:g==Qo?Mu:lc)(c)}function Ir(c){return c?(c=Wi(c))===Ct||c===-Ct?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function tn(c){var g=Ir(c),C=g%1;return g==g?C?g-C:g:0}function sa(c){return c?ps(tn(c),0,co):0}function Wi(c){if("number"==typeof c)return c;if(Gr(c))return NaN;if(st(c)){var g="function"==typeof c.valueOf?c.valueOf():c;c=st(g)?g+"":g}if("string"!=typeof c)return 0===c?c:+c;c=Zh(c);var C=Gt.test(c);return C||Yr.test(c)?Wm(c.slice(2),C?2:8):kh.test(c)?NaN:+c}function Fp(c){return Ui(c,ao(c))}function Pn(c){return null==c?"":xo(c)}var ih=Mo(function(c,g){if(Ya(g)||Ye(g))Ui(g,ki(g),c);else for(var C in g)Gn.call(g,C)&&Us(c,C,g[C])}),oh=Mo(function(c,g){Ui(g,ao(g),c)}),uc=Mo(function(c,g,C,T){Ui(g,ao(g),c,T)}),Lp=Mo(function(c,g,C,T){Ui(g,ki(g),c,T)}),dl=Ta(ud),Pd=hn(function(c,g){c=Qn(c);var C=-1,T=g.length,F=T>2?g[2]:B;for(F&&ni(g[0],g[1],F)&&(T=1);++C<T;)for(var z=g[C],J=ao(z),ie=-1,le=J.length;++ie<le;){var Oe=J[ie],ke=c[Oe];(ke===B||_t(ke,Tu[Oe])&&!Gn.call(c,Oe))&&(c[Oe]=z[Oe])}return c}),Bp=hn(function(c){return c.push(B,Vf),kr(Sv,B,c)});function dy(c,g,C){var T=null==c?B:gs(c,g);return T===B?C:T}function Hp(c,g){return null!=c&&pi(c,g,up)}var rw=wp(function(c,g,C){null!=g&&"function"!=typeof g.toString&&(g=kl.call(g)),c[g]=C},ch(so)),iw=wp(function(c,g,C){null!=g&&"function"!=typeof g.toString&&(g=kl.call(g)),Gn.call(c,g)?c[g].push(C):c[g]=[C]},Ft),ow=hn(Ul);function ki(c){return Ye(c)?Nu(c):Vu(c)}function ao(c){return Ye(c)?Nu(c,!0):function Hn(c){if(!st(c))return function Yu(c){var g=[];if(null!=c)for(var C in Qn(c))g.push(C);return g}(c);var g=Ya(c),C=[];for(var T in c)"constructor"==T&&(g||!Gn.call(c,T))||C.push(T);return C}(c)}var fy=Mo(function(c,g,C){Ho(c,g,C)}),Sv=Mo(function(c,g,C,T){Ho(c,g,C,T)}),hy=Ta(function(c,g){var C={};if(null==c)return C;var T=!1;g=Xn(g,function(z){return z=ro(z,c),T||(T=z.length>1),z}),Ui(c,ju(c),C),T&&(C=Vi(C,7,bp));for(var F=g.length;F--;)Dn(C,g[F]);return C}),RC=Ta(function(c,g){return null==c?{}:function fp(c,g){return Rf(c,g,function(C,T){return Hp(c,T)})}(c,g)});function aw(c,g){if(null==c)return{};var C=Xn(ju(c),function(T){return[T]});return g=Ft(g),Rf(c,C,function(T,F){return g(T,F[0])})}var sw=Xl(ki),Iv=Xl(ao);function lc(c){return null==c?[]:Zc(c,ki(c))}var kd=ws(function(c,g,C){return g=g.toLowerCase(),c+(C?py(g):g)});function py(c){return jp(Pn(c).toLowerCase())}function gy(c){return(c=Pn(c))&&c.replace(Fh,qg).replace(ai,"")}var gw=ws(function(c,g,C){return c+(C?"-":"")+g.toLowerCase()}),vw=ws(function(c,g,C){return c+(C?" ":"")+g.toLowerCase()}),mw=wd("toLowerCase"),wy=ws(function(c,g,C){return c+(C?"_":"")+g.toLowerCase()}),Av=ws(function(c,g,C){return c+(C?" ":"")+jp(g)}),Ey=ws(function(c,g,C){return c+(C?" ":"")+g.toUpperCase()}),jp=wd("toUpperCase");function fl(c,g,C){return c=Pn(c),(g=C?B:g)===B?function Jo(se){return go.test(se)}(c)?function wf(se){return se.match(Ls)||[]}(c):function Zm(se){return se.match(Ph)||[]}(c):c.match(g)||[]}var _y=hn(function(c,g){try{return kr(c,B,g)}catch(C){return He(C)?C:new Xt(C)}}),Ov=Ta(function(c,g){return Yn(g,function(C){C=Gi(C),Ma(c,C,Z(c[C],c))}),c});function ch(c){return function(){return c}}var ua=na(),Wp=na(!0);function so(c){return c}function kv(c){return zl("function"==typeof c?c:Vi(c,1))}var Fd=hn(function(c,g){return function(C){return Ul(C,c,g)}}),Cw=hn(function(c,g){return function(C){return Ul(c,C,g)}});function Fv(c,g,C){var T=ki(g),F=Hl(g,T);null==C&&(!st(g)||!F.length&&T.length)&&(C=g,g=c,c=this,F=Hl(g,ki(g)));var z=!(st(C)&&"chain"in C&&!C.chain),J=Ce(c);return Yn(F,function(ie){var le=g[ie];c[ie]=le,J&&(c.prototype[ie]=function(){var Oe=this.__chain__;if(z||Oe){var ke=c(this.__wrapped__);return(ke.__actions__=Hr(this.__actions__)).push({func:le,args:arguments,thisArg:c}),ke.__chain__=Oe,ke}return le.apply(c,Oo([this.value()],arguments))})}),c}function dh(){}var _w=Ff(Xn),xy=Ff(Al),cc=Ff(Gc);function Sw(c){return tc(c)?Pl(Gi(c)):function Za(c){return function(g){return gs(g,c)}}(c)}var My=Bf(),xw=Bf(!0);function Iy(){return[]}function Ty(){return!1}var $v=bd(function(c,g){return c+g},0),fh=Cd("ceil"),Yp=bd(function(c,g){return c/g},1),Bd=Cd("floor"),Iw=bd(function(c,g){return c*g},1),Ay=Cd("round"),Tw=bd(function(c,g){return c-g},0);return H.after=function k(c,g){if("function"!=typeof g)throw new Do(Se);return c=tn(c),function(){if(--c<1)return g.apply(this,arguments)}},H.ary=V,H.assign=ih,H.assignIn=oh,H.assignInWith=uc,H.assignWith=Lp,H.at=dl,H.before=q,H.bind=Z,H.bindAll=Ov,H.bindKey=$,H.castArray=function Ie(){if(!arguments.length)return[];var c=arguments[0];return je(c)?c:[c]},H.chain=Pp,H.chunk=function Qm(c,g,C){g=(C?ni(c,g,C):g===B)?1:Ot(tn(g),0);var T=null==c?0:c.length;if(!T||g<1)return[];for(var F=0,z=0,J=me(ds(T/g));F<T;)J[z++]=di(c,F,F+=g);return J},H.compact=function av(c){for(var g=-1,C=null==c?0:c.length,T=0,F=[];++g<C;){var z=c[g];z&&(F[T++]=z)}return F},H.concat=function Jm(){var c=arguments.length;if(!c)return[];for(var g=me(c-1),C=arguments[0],T=c;T--;)g[T-1]=arguments[T];return Oo(je(C)?Hr(C):[C],Cr(g,1))},H.cond=function Gp(c){var g=null==c?0:c.length,C=Ft();return c=g?Xn(c,function(T){if("function"!=typeof T[1])throw new Do(Se);return[C(T[0]),T[1]]}):[],hn(function(T){for(var F=-1;++F<g;){var z=c[F];if(kr(z[0],this,T))return kr(z[1],this,T)}})},H.conforms=function bw(c){return function Vl(c){var g=ki(c);return function(C){return zs(C,c,g)}}(Vi(c,1))},H.constant=ch,H.countBy=Cv,H.create=function ah(c,g){var C=dn(c);return null==g?C:hs(C,g)},H.curry=function W(c,g,C){var T=zi(c,8,B,B,B,B,B,g=C?B:g);return T.placeholder=W.placeholder,T},H.curryRight=function U(c,g,C){var T=zi(c,16,B,B,B,B,B,g=C?B:g);return T.placeholder=U.placeholder,T},H.debounce=Y,H.defaults=Pd,H.defaultsDeep=Bp,H.defer=X,H.delay=j,H.difference=ey,H.differenceBy=ty,H.differenceWith=ny,H.drop=function ry(c,g,C){var T=null==c?0:c.length;return T?di(c,(g=C||g===B?1:tn(g))<0?0:g,T):[]},H.dropRight=function iy(c,g,C){var T=null==c?0:c.length;return T?di(c,0,(g=T-(g=C||g===B?1:tn(g)))<0?0:g):[]},H.dropRightWhile=function Ju(c,g){return c&&c.length?Zs(c,Ft(g,3),!0,!0):[]},H.dropWhile=function el(c,g){return c&&c.length?Zs(c,Ft(g,3),!0):[]},H.fill=function sv(c,g,C,T){var F=null==c?0:c.length;return F?(C&&"number"!=typeof C&&ni(c,g,C)&&(C=0,T=F),function Xm(c,g,C,T){var F=c.length;for((C=tn(C))<0&&(C=-C>F?0:F+C),(T=T===B||T>F?F:tn(T))<0&&(T+=F),T=C>T?0:sa(T);C<T;)c[C++]=g;return c}(c,g,C,T)):[]},H.filter=function Nd(c,g){return(je(c)?An:dd)(c,Ft(g,3))},H.flatMap=function Es(c,g){return Cr(p(c,g),1)},H.flatMapDeep=function kp(c,g){return Cr(p(c,g),Ct)},H.flatMapDepth=function qo(c,g,C){return C=C===B?1:tn(C),Cr(p(c,g),C)},H.flatten=tl,H.flattenDeep=function oc(c){return null!=c&&c.length?Cr(c,Ct):[]},H.flattenDepth=function qi(c,g){return null!=c&&c.length?Cr(c,g=g===B?1:tn(g)):[]},H.flip=function te(c){return zi(c,512)},H.flow=ua,H.flowRight=Wp,H.fromPairs=function nl(c){for(var g=-1,C=null==c?0:c.length,T={};++g<C;){var F=c[g];T[F[0]]=F[1]}return T},H.functions=function Ra(c){return null==c?[]:Hl(c,ki(c))},H.functionsIn=function cy(c){return null==c?[]:Hl(c,ao(c))},H.groupBy=a,H.initial=function ac(c){return null!=c&&c.length?di(c,0,-1):[]},H.intersection=uv,H.intersectionBy=oy,H.intersectionWith=lv,H.invert=rw,H.invertBy=iw,H.invokeMap=f,H.iteratee=kv,H.keyBy=h,H.keys=ki,H.keysIn=ao,H.map=p,H.mapKeys=function nu(c,g){var C={};return g=Ft(g,3),Wa(c,function(T,F,z){Ma(C,g(T,F,z),T)}),C},H.mapValues=function sh(c,g){var C={};return g=Ft(g,3),Wa(c,function(T,F,z){Ma(C,F,g(T,F,z))}),C},H.matches=function Dw(c){return $i(Vi(c,1))},H.matchesProperty=function Sy(c,g){return dp(c,Vi(g,1))},H.memoize=K,H.merge=fy,H.mergeWith=Sv,H.method=Fd,H.methodOf=Cw,H.mixin=Fv,H.negate=ue,H.nthArg=function Zp(c){return c=tn(c),hn(function(g){return ti(g,c)})},H.omit=hy,H.omitBy=function AC(c,g){return aw(c,ue(Ft(g)))},H.once=function ne(c){return q(2,c)},H.orderBy=function m(c,g,C,T){return null==c?[]:(je(g)||(g=null==g?[]:[g]),je(C=T?B:C)||(C=null==C?[]:[C]),Ei(c,g,C))},H.over=_w,H.overArgs=re,H.overEvery=xy,H.overSome=cc,H.partial=fe,H.partialRight=pe,H.partition=b,H.pick=RC,H.pickBy=aw,H.property=Sw,H.propertyOf=function FC(c){return function(g){return null==c?B:gs(c,g)}},H.pull=cv,H.pullAll=ii,H.pullAllBy=function Mp(c,g,C){return c&&c.length&&g&&g.length?ql(c,g,Ft(C,2)):c},H.pullAllWith=function dv(c,g,C){return c&&c.length&&g&&g.length?ql(c,g,B,C):c},H.pullAt=Ip,H.range=My,H.rangeRight=xw,H.rearg=De,H.reject=function E(c,g){return(je(c)?An:dd)(c,ue(Ft(g,3)))},H.remove=function Tp(c,g){var C=[];if(!c||!c.length)return C;var T=-1,F=[],z=c.length;for(g=Ft(g,3);++T<z;){var J=c[T];g(J,T,c)&&(C.push(J),F.push(T))}return Nf(c,F),C},H.rest=function he(c,g){if("function"!=typeof c)throw new Do(Se);return hn(c,g=g===B?g:tn(g))},H.reverse=Kf,H.sampleSize=function M(c,g,C){return g=(C?ni(c,g,C):g===B)?1:tn(g),(je(c)?xf:hp)(c,g)},H.set=function Mv(c,g,C){return null==c?c:Wn(c,g,C)},H.setWith=function NC(c,g,C,T){return T="function"==typeof T?T:B,null==c?c:Wn(c,g,C,T)},H.shuffle=function x(c){return(je(c)?Pu:gp)(c)},H.slice=function fv(c,g,C){var T=null==c?0:c.length;return T?(C&&"number"!=typeof C&&ni(c,g,C)?(g=0,C=T):(g=null==g?0:tn(g),C=C===B?T:tn(C)),di(c,g,C)):[]},H.sortBy=N,H.sortedUniq=function gv(c){return c&&c.length?Of(c):[]},H.sortedUniqBy=function Ap(c,g){return c&&c.length?Of(c,Ft(g,2)):[]},H.split=function by(c,g,C){return C&&"number"!=typeof C&&ni(c,g,C)&&(g=C=B),(C=C===B?co:C>>>0)?(c=Pn(c))&&("string"==typeof g||null!=g&&!Er(g))&&!(g=xo(g))&&wa(c)?ta(bo(c),0,C):c.split(g,C):[]},H.spread=function be(c,g){if("function"!=typeof c)throw new Do(Se);return g=null==g?0:Ot(tn(g),0),hn(function(C){var T=C[g],F=ta(C,0,g);return T&&Oo(F,T),kr(c,this,F)})},H.tail=function Yf(c){var g=null==c?0:c.length;return g?di(c,1,g):[]},H.take=function il(c,g,C){return c&&c.length?di(c,0,(g=C||g===B?1:tn(g))<0?0:g):[]},H.takeRight=function Aa(c,g,C){var T=null==c?0:c.length;return T?di(c,(g=T-(g=C||g===B?1:tn(g)))<0?0:g,T):[]},H.takeRightWhile=function Rp(c,g){return c&&c.length?Zs(c,Ft(g,3),!1,!0):[]},H.takeWhile=function Xf(c,g){return c&&c.length?Zs(c,Ft(g,3)):[]},H.tap=function Op(c,g){return g(c),c},H.throttle=function Ae(c,g,C){var T=!0,F=!0;if("function"!=typeof c)throw new Do(Se);return st(C)&&(T="leading"in C?!!C.leading:T,F="trailing"in C?!!C.trailing:F),Y(c,g,{leading:T,maxWait:g,trailing:F})},H.thru=Rd,H.toArray=Mi,H.toPairs=sw,H.toPairsIn=Iv,H.toPath=function Ld(c){return je(c)?Xn(c,Gi):Gr(c)?[c]:Hr(Xs(Pn(c)))},H.toPlainObject=Fp,H.transform=function uw(c,g,C){var T=je(c),F=T||qt(c)||aa(c);if(g=Ft(g,4),null==C){var z=c&&c.constructor;C=F?T?new z:[]:st(c)&&Ce(z)?dn(ei(c)):{}}return(F?Yn:Wa)(c,function(J,ie,le){return g(C,J,ie,le)}),C},H.unary=function Fe(c){return V(c,1)},H.union=Go,H.unionBy=sc,H.unionWith=ol,H.uniq=function vv(c){return c&&c.length?Te(c):[]},H.uniqBy=function oo(c,g){return c&&c.length?Te(c,Ft(g,2)):[]},H.uniqWith=function mv(c,g){return g="function"==typeof g?g:B,c&&c.length?Te(c,B,g):[]},H.unset=function lw(c,g){return null==c||Dn(c,g)},H.unzip=Qa,H.unzipWith=Qf,H.update=function cw(c,g,C){return null==c?c:pd(c,g,$r(C))},H.updateWith=function dw(c,g,C,T){return T="function"==typeof T?T:B,null==c?c:pd(c,g,$r(C),T)},H.values=lc,H.valuesIn=function Up(c){return null==c?[]:Zc(c,ao(c))},H.without=Np,H.words=fl,H.wrap=function Me(c,g){return fe($r(g),c)},H.xor=Jf,H.xorBy=al,H.xorWith=eh,H.zip=sl,H.zipObject=function ul(c,g){return ys(c||[],g||[],Us)},H.zipObjectDeep=function sy(c,g){return ys(c||[],g||[],Wn)},H.zipWith=th,H.entries=sw,H.entriesIn=Iv,H.extend=oh,H.extendWith=uc,Fv(H,H),H.add=$v,H.attempt=_y,H.camelCase=kd,H.capitalize=py,H.ceil=fh,H.clamp=function fw(c,g,C){return C===B&&(C=g,g=B),C!==B&&(C=(C=Wi(C))==C?C:0),g!==B&&(g=(g=Wi(g))==g?g:0),ps(Wi(c),g,C)},H.clone=function de(c){return Vi(c,4)},H.cloneDeep=function Le(c){return Vi(c,5)},H.cloneDeepWith=function Ke(c,g){return Vi(c,5,g="function"==typeof g?g:B)},H.cloneWith=function Re(c,g){return Vi(c,4,g="function"==typeof g?g:B)},H.conformsTo=function tt(c,g){return null==g||zs(c,g,ki(g))},H.deburr=gy,H.defaultTo=function qp(c,g){return null==c||c!=c?g:c},H.divide=Yp,H.endsWith=function vy(c,g,C){c=Pn(c),g=xo(g);var T=c.length,F=C=C===B?T:ps(tn(C),0,T);return(C-=g.length)>=0&&c.slice(C,F)==g},H.eq=_t,H.escape=function my(c){return(c=Pn(c))&&sf.test(c)?c.replace(af,Wg):c},H.escapeRegExp=function pw(c){return(c=Pn(c))&&lf.test(c)?c.replace(ga,"\\$&"):c},H.every=function Ev(c,g,C){var T=je(c)?Al:ev;return C&&ni(c,g,C)&&(g=B),T(c,Ft(g,3))},H.find=ll,H.findIndex=yr,H.findKey=function Vp(c,g){return Gg(c,Ft(g,3),Wa)},H.findLast=rh,H.findLastIndex=zr,H.findLastKey=function _v(c,g){return Gg(c,Ft(g,3),If)},H.floor=Bd,H.forEach=s,H.forEachRight=i,H.forIn=function gi(c,g){return null==c?c:Fu(c,Ft(g,3),ao)},H.forInRight=function tu(c,g){return null==c?c:$l(c,Ft(g,3),ao)},H.forOwn=function $p(c,g){return c&&Wa(c,Ft(g,3))},H.forOwnRight=function Od(c,g){return c&&If(c,Ft(g,3))},H.get=dy,H.gt=Jt,H.gte=at,H.has=function TC(c,g){return null!=c&&pi(c,g,sp)},H.hasIn=Hp,H.head=Wf,H.identity=so,H.includes=function l(c,g,C,T){c=Ye(c)?c:lc(c),C=C&&!T?tn(C):0;var F=c.length;return C<0&&(C=Ot(F+C,0)),Zo(c)?C<=F&&c.indexOf(g,C)>-1:!!F&&ma(c,g,C)>-1},H.indexOf=function Md(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var F=null==C?0:tn(C);return F<0&&(F=Ot(T+F,0)),ma(c,g,F)},H.inRange=function Tv(c,g,C){return g=Ir(g),C===B?(C=g,g=0):C=Ir(C),function tv(c,g,C){return c>=Di(g,C)&&c<Ot(g,C)}(c=Wi(c),g,C)},H.invoke=ow,H.isArguments=Xe,H.isArray=je,H.isArrayBuffer=mt,H.isArrayLike=Ye,H.isArrayLikeObject=nt,H.isBoolean=function pn(c){return!0===c||!1===c||Tt(c)&&xr(c)==en},H.isBuffer=qt,H.isDate=Nt,H.isElement=function Un(c){return Tt(c)&&1===c.nodeType&&!Si(c)},H.isEmpty=function Be(c){if(null==c)return!0;if(Ye(c)&&(je(c)||"string"==typeof c||"function"==typeof c.splice||qt(c)||aa(c)||Xe(c)))return!c.length;var g=Lr(c);if(g==fo||g==Qo)return!c.size;if(Ya(c))return!Vu(c).length;for(var C in c)if(Gn.call(c,C))return!1;return!0},H.isEqual=function G(c,g){return vs(c,g)},H.isEqualWith=function we(c,g,C){var T=(C="function"==typeof C?C:B)?C(c,g):B;return T===B?vs(c,g,B,C):!!T},H.isError=He,H.isFinite=function Ne(c){return"number"==typeof c&&Ua(c)},H.isFunction=Ce,H.isInteger=Yt,H.isLength=$e,H.isMap=Bn,H.isMatch=function sn(c,g){return c===g||qs(c,g,Wu(g))},H.isMatchWith=function xn(c,g,C){return C="function"==typeof C?C:B,qs(c,g,Wu(g),C)},H.isNaN=function Wt(c){return To(c)&&c!=+c},H.isNative=function un(c){if(rc(c))throw new Xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Af(c)},H.isNil=function jr(c){return null==c},H.isNull=function wr(c){return null===c},H.isNumber=To,H.isObject=st,H.isObjectLike=Tt,H.isPlainObject=Si,H.isRegExp=Er,H.isSafeInteger=function Wo(c){return Yt(c)&&c>=-Oa&&c<=Oa},H.isSet=xi,H.isString=Zo,H.isSymbol=Gr,H.isTypedArray=aa,H.isUndefined=function _s(c){return c===B},H.isWeakMap=function Js(c){return Tt(c)&&Lr(c)==Ps},H.isWeakSet=function eu(c){return Tt(c)&&"[object WeakSet]"==xr(c)},H.join=function ay(c,g){return null==c?"":Ru.call(c,g)},H.kebabCase=gw,H.last=dr,H.lastIndexOf=function Zf(c,g,C){var T=null==c?0:c.length;if(!T)return-1;var F=T;return C!==B&&(F=(F=tn(C))<0?Ot(T+F,0):Di(F,T-1)),g==g?function Bs(se,xe,me){for(var ut=me+1;ut--;)if(se[ut]===xe)return ut;return ut}(c,g,F):qc(c,Ha,F,!0)},H.lowerCase=vw,H.lowerFirst=mw,H.lt=Ja,H.lte=oi,H.max=function Hv(c){return c&&c.length?cd(c,so,fd):B},H.maxBy=function Uv(c,g){return c&&c.length?cd(c,Ft(g,2),fd):B},H.mean=function Xp(c){return Nl(c,so)},H.meanBy=function LC(c,g){return Nl(c,Ft(g,2))},H.min=function zv(c){return c&&c.length?cd(c,so,jl):B},H.minBy=function hh(c,g){return c&&c.length?cd(c,Ft(g,2),jl):B},H.stubArray=Iy,H.stubFalse=Ty,H.stubObject=function Kp(){return{}},H.stubString=function Mw(){return""},H.stubTrue=function Lv(){return!0},H.multiply=Iw,H.nth=function rl(c,g){return c&&c.length?ti(c,tn(g)):B},H.noConflict=function Ew(){return Ri._===this&&(Ri._=Ht),this},H.noop=dh,H.now=O,H.pad=function yy(c,g,C){c=Pn(c);var T=(g=tn(g))?ls(c):0;if(!g||T>=g)return c;var F=(g-T)/2;return Dd(mr(F),C)+c+Dd(ds(F),C)},H.padEnd=function PC(c,g,C){c=Pn(c);var T=(g=tn(g))?ls(c):0;return g&&T<g?c+Dd(g-T,C):c},H.padStart=function OC(c,g,C){c=Pn(c);var T=(g=tn(g))?ls(c):0;return g&&T<g?Dd(g-T,C)+c:c},H.parseInt=function uh(c,g,C){return C||null==g?g=0:g&&(g=+g),Rt(Pn(c).replace(kc,""),g||0)},H.random=function hw(c,g,C){if(C&&"boolean"!=typeof C&&ni(c,g,C)&&(g=C=B),C===B&&("boolean"==typeof g?(C=g,g=B):"boolean"==typeof c&&(C=c,c=B)),c===B&&g===B?(c=0,g=1):(c=Ir(c),g===B?(g=c,c=0):g=Ir(g)),c>g){var T=c;c=g,g=T}if(C||c%1||g%1){var F=Rn();return Di(c+F*(g-c+Tl("1e-"+((F+"").length-1))),g)}return Wl(c,g)},H.reduce=function y(c,g,C){var T=je(c)?as:qh,F=arguments.length<3;return T(c,Ft(g,4),C,F,js)},H.reduceRight=function D(c,g,C){var T=je(c)?Rl:qh,F=arguments.length<3;return T(c,Ft(g,4),C,F,ap)},H.repeat=function yt(c,g,C){return g=(C?ni(c,g,C):g===B)?1:tn(g),qn(Pn(c),g)},H.replace=function lh(){var c=arguments,g=Pn(c[0]);return c.length<3?g:g.replace(c[1],c[2])},H.result=function xv(c,g,C){var T=-1,F=(g=ro(g,c)).length;for(F||(F=1,c=B);++T<F;){var z=null==c?B:c[Gi(g[T])];z===B&&(T=F,z=C),c=Ce(z)?z.call(c):z}return c},H.round=Ay,H.runInContext=se,H.sample=function S(c){return(je(c)?no:Ut)(c)},H.size=function R(c){if(null==c)return 0;if(Ye(c))return Zo(c)?ls(c):c.length;var g=Lr(c);return g==fo||g==Qo?c.size:Vu(c).length},H.snakeCase=wy,H.some=function A(c,g,C){var T=je(c)?Gc:$u;return C&&ni(c,g,C)&&(g=B),T(c,Ft(g,3))},H.sortedIndex=function Id(c,g){return ms(c,g)},H.sortedIndexBy=function Td(c,g,C){return Pf(c,g,Ft(C,2))},H.sortedIndexOf=function hv(c,g){var C=null==c?0:c.length;if(C){var T=ms(c,g);if(T<C&&_t(c[T],g))return T}return-1},H.sortedLastIndex=function Io(c,g){return ms(c,g,!0)},H.sortedLastIndexBy=function pv(c,g,C){return Pf(c,g,Ft(C,2),!0)},H.sortedLastIndexOf=function Ad(c,g){if(null!=c&&c.length){var T=ms(c,g,!0)-1;if(_t(c[T],g))return T}return-1},H.startCase=Av,H.startsWith=function Rv(c,g,C){return c=Pn(c),C=null==C?0:ps(tn(C),0,c.length),g=xo(g),c.slice(C,C+g.length)==g},H.subtract=Tw,H.sum=function Aw(c){return c&&c.length?ss(c,so):0},H.sumBy=function jv(c,g){return c&&c.length?ss(c,Ft(g,2)):0},H.template=function yw(c,g,C){var T=H.templateSettings;C&&ni(c,g,C)&&(g=B),c=Pn(c),g=uc({},g,T,_d);var ie,le,F=uc({},g.imports,T.imports,_d),z=ki(F),J=Zc(F,z),Oe=0,ke=g.interpolate||Fc,qe="__p += '",ft=Jc((g.escape||Fc).source+"|"+ke.source+"|"+(ke===uf?df:Fc).source+"|"+(g.evaluate||Fc).source+"|$","g"),St="//# sourceURL="+(Gn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qm+"]")+"\n";c.replace(ft,function(zt,mn,On,Fi,fr,la){return On||(On=Fi),qe+=c.slice(Oe,la).replace(Lc,Kh),mn&&(ie=!0,qe+="' +\n__e("+mn+") +\n'"),fr&&(le=!0,qe+="';\n"+fr+";\n__p += '"),On&&(qe+="' +\n((__t = ("+On+")) == null ? '' : __t) +\n'"),Oe=la+zt.length,zt}),qe+="';\n";var Vt=Gn.call(g,"variable")&&g.variable;if(Vt){if(El.test(Vt))throw new Xt("Invalid `variable` option passed into `_.template`")}else qe="with (obj) {\n"+qe+"\n}\n";qe=(le?qe.replace($g,""):qe).replace(Nc,"$1").replace(Fa,"$1;"),qe="function("+(Vt||"obj")+") {\n"+(Vt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(le?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+qe+"return __p\n}";var Cn=_y(function(){return Ln(z,St+"return "+qe).apply(B,J)});if(Cn.source=qe,He(Cn))throw Cn;return Cn},H.times=function Bv(c,g){if((c=tn(c))<1||c>Oa)return[];var C=co,T=Di(c,co);g=Ft(g),c-=co;for(var F=Wc(T,g);++C<c;)g(C);return F},H.toFinite=Ir,H.toInteger=tn,H.toLength=sa,H.toLower=function Dy(c){return Pn(c).toLowerCase()},H.toNumber=Wi,H.toSafeInteger=function cl(c){return c?ps(tn(c),-Oa,Oa):0===c?c:0},H.toString=Pn,H.toUpper=function Cy(c){return Pn(c).toUpperCase()},H.trim=function zp(c,g,C){if((c=Pn(c))&&(C||g===B))return Zh(c);if(!c||!(g=xo(g)))return c;var T=bo(c),F=bo(g);return ta(T,Ol(T,F),Kc(T,F)+1).join("")},H.trimEnd=function kC(c,g,C){if((c=Pn(c))&&(C||g===B))return c.slice(0,Xc(c)+1);if(!c||!(g=xo(g)))return c;var T=bo(c);return ta(T,0,Kc(T,bo(g))+1).join("")},H.trimStart=function Nv(c,g,C){if((c=Pn(c))&&(C||g===B))return c.replace(kc,"");if(!c||!(g=xo(g)))return c;var T=bo(c);return ta(T,Ol(T,bo(g))).join("")},H.truncate=function ww(c,g){var C=30,T="...";if(st(g)){var F="separator"in g?g.separator:F;C="length"in g?tn(g.length):C,T="omission"in g?xo(g.omission):T}var z=(c=Pn(c)).length;if(wa(c)){var J=bo(c);z=J.length}if(C>=z)return c;var ie=C-ls(T);if(ie<1)return T;var le=J?ta(J,0,ie).join(""):c.slice(0,ie);if(F===B)return le+T;if(J&&(ie+=le.length-ie),Er(F)){if(c.slice(ie).search(F)){var Oe,ke=le;for(F.global||(F=Jc(F.source,Pn($n.exec(F))+"g")),F.lastIndex=0;Oe=F.exec(ke);)var qe=Oe.index;le=le.slice(0,qe===B?ie:qe)}}else if(c.indexOf(xo(F),ie)!=ie){var ft=le.lastIndexOf(F);ft>-1&&(le=le.slice(0,ft))}return le+T},H.unescape=function Pv(c){return(c=Pn(c))&&Pc.test(c)?c.replace(Os,Yh):c},H.uniqueId=function Vv(c){var g=++Zg;return Pn(c)+g},H.upperCase=Ey,H.upperFirst=jp,H.each=s,H.eachRight=i,H.first=Wf,Fv(H,function(){var c={};return Wa(H,function(g,C){Gn.call(H.prototype,C)||(c[C]=g)}),c}(),{chain:!1}),H.VERSION="4.17.21",Yn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){H[c].placeholder=H}),Yn(["drop","take"],function(c,g){on.prototype[c]=function(C){C=C===B?1:Ot(tn(C),0);var T=this.__filtered__&&!g?new on(this):this.clone();return T.__filtered__?T.__takeCount__=Di(C,T.__takeCount__):T.__views__.push({size:Di(C,co),type:c+(T.__dir__<0?"Right":"")}),T},on.prototype[c+"Right"]=function(C){return this.reverse()[c](C).reverse()}}),Yn(["filter","map","takeWhile"],function(c,g){var C=g+1,T=1==C||3==C;on.prototype[c]=function(F){var z=this.clone();return z.__iteratees__.push({iteratee:Ft(F,3),type:C}),z.__filtered__=z.__filtered__||T,z}}),Yn(["head","last"],function(c,g){var C="take"+(g?"Right":"");on.prototype[c]=function(){return this[C](1).value()[0]}}),Yn(["initial","tail"],function(c,g){var C="drop"+(g?"":"Right");on.prototype[c]=function(){return this.__filtered__?new on(this):this[C](1)}}),on.prototype.compact=function(){return this.filter(so)},on.prototype.find=function(c){return this.filter(c).head()},on.prototype.findLast=function(c){return this.reverse().find(c)},on.prototype.invokeMap=hn(function(c,g){return"function"==typeof c?new on(this):this.map(function(C){return Ul(C,c,g)})}),on.prototype.reject=function(c){return this.filter(ue(Ft(c)))},on.prototype.slice=function(c,g){c=tn(c);var C=this;return C.__filtered__&&(c>0||g<0)?new on(C):(c<0?C=C.takeRight(-c):c&&(C=C.drop(c)),g!==B&&(C=(g=tn(g))<0?C.dropRight(-g):C.take(g-c)),C)},on.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},on.prototype.toArray=function(){return this.take(co)},Wa(on.prototype,function(c,g){var C=/^(?:filter|find|map|reject)|While$/.test(g),T=/^(?:head|last)$/.test(g),F=H[T?"take"+("last"==g?"Right":""):g],z=T||/^find/.test(g);F&&(H.prototype[g]=function(){var J=this.__wrapped__,ie=T?[1]:arguments,le=J instanceof on,Oe=ie[0],ke=le||je(J),qe=function(mn){var On=F.apply(H,Oo([mn],ie));return T&&ft?On[0]:On};ke&&C&&"function"==typeof Oe&&1!=Oe.length&&(le=ke=!1);var ft=this.__chain__,Vt=z&&!ft,Cn=le&&!this.__actions__.length;if(!z&&ke){J=Cn?J:new on(this);var zt=c.apply(J,ie);return zt.__actions__.push({func:Rd,args:[qe],thisArg:B}),new eo(zt,ft)}return Vt&&Cn?c.apply(this,ie):(zt=this.thru(qe),Vt?T?zt.value()[0]:zt.value():zt)})}),Yn(["pop","push","shift","sort","splice","unshift"],function(c){var g=td[c],C=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",T=/^(?:pop|shift)$/.test(c);H.prototype[c]=function(){var F=arguments;if(T&&!this.__chain__){var z=this.value();return g.apply(je(z)?z:[],F)}return this[C](function(J){return g.apply(je(J)?J:[],F)})}}),Wa(on.prototype,function(c,g){var C=H[g];if(C){var T=C.name+"";Gn.call(nn,T)||(nn[T]=[]),nn[T].push({name:g,func:C})}}),nn[ar(B,2).name]=[{name:"wrapper",func:B}],on.prototype.clone=function od(){var c=new on(this.__wrapped__);return c.__actions__=Hr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Hr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Hr(this.__views__),c},on.prototype.reverse=function li(){if(this.__filtered__){var c=new on(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},on.prototype.value=function Sa(){var c=this.__wrapped__.value(),g=this.__dir__,C=je(c),T=g<0,F=C?c.length:0,z=function Zu(c,g,C){for(var T=-1,F=C.length;++T<F;){var z=C[T],J=z.size;switch(z.type){case"drop":c+=J;break;case"dropRight":g-=J;break;case"take":g=Di(g,c+J);break;case"takeRight":c=Ot(c,g-J)}}return{start:c,end:g}}(0,F,this.__views__),J=z.start,ie=z.end,le=ie-J,Oe=T?ie:J-1,ke=this.__iteratees__,qe=ke.length,ft=0,St=Di(le,this.__takeCount__);if(!C||!T&&F==le&&St==le)return fi(c,this.__actions__);var Vt=[];e:for(;le--&&ft<St;){for(var Cn=-1,zt=c[Oe+=g];++Cn<qe;){var mn=ke[Cn],Fi=mn.type,fr=(0,mn.iteratee)(zt);if(2==Fi)zt=fr;else if(!fr){if(1==Fi)continue e;break e}}Vt[ft++]=zt}return Vt},H.prototype.at=Sn,H.prototype.chain=function yv(){return Pp(this)},H.prototype.commit=function uy(){return new eo(this.value(),this.__chain__)},H.prototype.next=function nh(){this.__values__===B&&(this.__values__=Mi(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?B:this.__values__[this.__index__++]}},H.prototype.plant=function wv(c){for(var g,C=this;C instanceof rn;){var T=Qs(C);T.__index__=0,T.__values__=B,g?F.__wrapped__=T:g=T;var F=T;C=C.__wrapped__}return F.__wrapped__=c,g},H.prototype.reverse=function bv(){var c=this.__wrapped__;if(c instanceof on){var g=c;return this.__actions__.length&&(g=new on(this)),(g=g.reverse()).__actions__.push({func:Rd,args:[Kf],thisArg:B}),new eo(g,this.__chain__)}return this.thru(Kf)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function Dv(){return fi(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,Au&&(H.prototype[Au]=function ly(){return this}),H}();Ri._=Qc,(ce=function(){return Qc}.call(Qe,ae,Qe,ve))!==B&&(ve.exports=ce)}.call(this)},7659:(ve,Qe,ae)=>{var ce=ae(1811);function _e(Ee,Ve){if("function"!=typeof Ee||null!=Ve&&"function"!=typeof Ve)throw new TypeError("Expected a function");var Se=function(){var rt=arguments,vt=Ve?Ve.apply(this,rt):rt[0],wt=Se.cache;if(wt.has(vt))return wt.get(vt);var bt=Ee.apply(this,rt);return Se.cache=wt.set(vt,bt)||wt,bt};return Se.cache=new(_e.Cache||ce),Se}_e.Cache=ce,ve.exports=_e},5533:(ve,Qe,ae)=>{var ce=ae(8492);ve.exports=function(){return ce.Date.now()}},7939:(ve,Qe,ae)=>{var ce=ae(9478);ve.exports=function B(_e,Ee,Ve){return null==_e?_e:ce(_e,Ee,Ve)}},4282:(ve,Qe,ae)=>{var ce=ae(9484),B=ae(9794),_e=ae(3423),Ve=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,rt=/^0o[0-7]+$/i,vt=parseInt;ve.exports=function wt(bt){if("number"==typeof bt)return bt;if(_e(bt))return NaN;if(B(bt)){var kn="function"==typeof bt.valueOf?bt.valueOf():bt;bt=B(kn)?kn+"":kn}if("string"!=typeof bt)return 0===bt?bt:+bt;bt=ce(bt);var ln=Se.test(bt);return ln||rt.test(bt)?vt(bt.slice(2),ln?2:8):Ve.test(bt)?NaN:+bt}},9078:(ve,Qe,ae)=>{var ce=ae(3880),B=ae(4231),_e=ae(2261),Ee=ae(3423),Ve=ae(163),Se=ae(8916),rt=ae(2674);ve.exports=function vt(wt){return _e(wt)?ce(wt,Se):Ee(wt)?[wt]:B(Ve(rt(wt)))}},2674:(ve,Qe,ae)=>{var ce=ae(7002);ve.exports=function B(_e){return null==_e?"":ce(_e)}}},ve=>{ve(ve.s=2243)}]);